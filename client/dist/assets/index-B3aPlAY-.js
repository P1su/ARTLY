function _mergeNamespaces(t,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return reactJsxRuntime_production.Fragment=n,reactJsxRuntime_production.jsx=r,reactJsxRuntime_production.jsxs=r,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function n(ae,ue){var te=ae.length;ae.push(ue);e:for(;0<te;){var se=te-1>>>1,Ce=ae[se];if(0<o(Ce,ue))ae[se]=ue,ae[te]=Ce,te=se;else break e}}function r(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ue=ae[0],te=ae.pop();if(te!==ue){ae[0]=te;e:for(var se=0,Ce=ae.length,ce=Ce>>>1;se<ce;){var ye=2*(se+1)-1,Se=ae[ye],_e=ye+1,je=ae[_e];if(0>o(Se,te))_e<Ce&&0>o(je,Se)?(ae[se]=je,ae[_e]=te,se=_e):(ae[se]=Se,ae[ye]=te,se=ye);else if(_e<Ce&&0>o(je,te))ae[se]=je,ae[_e]=te,se=_e;else break e}}return ue}function o(ae,ue){var te=ae.sortIndex-ue.sortIndex;return te!==0?te:ae.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var m=[],x=[],b=1,S=null,R=3,k=!1,M=!1,j=!1,G=!1,P=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(ae){for(var ue=r(x);ue!==null;){if(ue.callback===null)s(x);else if(ue.startTime<=ae)s(x),ue.sortIndex=ue.expirationTime,n(m,ue);else break;ue=r(x)}}function ee(ae){if(j=!1,X(ae),!M)if(r(m)!==null)M=!0,ne||(ne=!0,me());else{var ue=r(x);ue!==null&&he(ee,ue.startTime-ae)}}var ne=!1,Y=-1,re=5,oe=-1;function xe(){return G?!0:!(t.unstable_now()-oe<re)}function ve(){if(G=!1,ne){var ae=t.unstable_now();oe=ae;var ue=!0;try{e:{M=!1,j&&(j=!1,Q(Y),Y=-1),k=!0;var te=R;try{t:{for(X(ae),S=r(m);S!==null&&!(S.expirationTime>ae&&xe());){var se=S.callback;if(typeof se=="function"){S.callback=null,R=S.priorityLevel;var Ce=se(S.expirationTime<=ae);if(ae=t.unstable_now(),typeof Ce=="function"){S.callback=Ce,X(ae),ue=!0;break t}S===r(m)&&s(m),X(ae)}else s(m);S=r(m)}if(S!==null)ue=!0;else{var ce=r(x);ce!==null&&he(ee,ce.startTime-ae),ue=!1}}break e}finally{S=null,R=te,k=!1}ue=void 0}}finally{ue?me():ne=!1}}}var me;if(typeof H=="function")me=function(){H(ve)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ee=we.port2;we.port1.onmessage=ve,me=function(){Ee.postMessage(null)}}else me=function(){P(ve,0)};function he(ae,ue){Y=P(function(){ae(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var ue=3;break;default:ue=R}var te=R;R=ue;try{return ae()}finally{R=te}},t.unstable_requestPaint=function(){G=!0},t.unstable_runWithPriority=function(ae,ue){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var te=R;R=ae;try{return ue()}finally{R=te}},t.unstable_scheduleCallback=function(ae,ue,te){var se=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,ae){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=te+Ce,ae={id:b++,callback:ue,priorityLevel:ae,startTime:te,expirationTime:Ce,sortIndex:-1},te>se?(ae.sortIndex=te,n(x,ae),r(m)===null&&ae===r(x)&&(j?(Q(Y),Y=-1):j=!0,he(ee,te-se))):(ae.sortIndex=Ce,n(m,ae),M||k||(M=!0,ne||(ne=!0,me()))),ae},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(ae){var ue=R;return function(){var te=R;R=ue;try{return ae.apply(this,arguments)}finally{R=te}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react$1={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function k(ce){return ce===null||typeof ce!="object"?null:(ce=R&&ce[R]||ce["@@iterator"],typeof ce=="function"?ce:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,G={};function P(ce,ye,Se){this.props=ce,this.context=ye,this.refs=G,this.updater=Se||M}P.prototype.isReactComponent={},P.prototype.setState=function(ce,ye){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,ye,"setState")},P.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function Q(){}Q.prototype=P.prototype;function H(ce,ye,Se){this.props=ce,this.context=ye,this.refs=G,this.updater=Se||M}var X=H.prototype=new Q;X.constructor=H,j(X,P.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function ne(){}var Y={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function oe(ce,ye,Se){var _e=Se.ref;return{$$typeof:t,type:ce,key:ye,ref:_e!==void 0?_e:null,props:Se}}function xe(ce,ye){return oe(ce.type,ye,ce.props)}function ve(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===t}function me(ce){var ye={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(Se){return ye[Se]})}var we=/\/+/g;function Ee(ce,ye){return typeof ce=="object"&&ce!==null&&ce.key!=null?me(""+ce.key):ye.toString(36)}function he(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(ne,ne):(ce.status="pending",ce.then(function(ye){ce.status==="pending"&&(ce.status="fulfilled",ce.value=ye)},function(ye){ce.status==="pending"&&(ce.status="rejected",ce.reason=ye)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function ae(ce,ye,Se,_e,je){var Me=typeof ce;(Me==="undefined"||Me==="boolean")&&(ce=null);var Ze=!1;if(ce===null)Ze=!0;else switch(Me){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(ce.$$typeof){case t:case n:Ze=!0;break;case b:return Ze=ce._init,ae(Ze(ce._payload),ye,Se,_e,je)}}if(Ze)return je=je(ce),Ze=_e===""?"."+Ee(ce,0):_e,ee(je)?(Se="",Ze!=null&&(Se=Ze.replace(we,"$&/")+"/"),ae(je,ye,Se,"",function(It){return It})):je!=null&&(ve(je)&&(je=xe(je,Se+(je.key==null||ce&&ce.key===je.key?"":(""+je.key).replace(we,"$&/")+"/")+Ze)),ye.push(je)),1;Ze=0;var ot=_e===""?".":_e+":";if(ee(ce))for(var Ct=0;Ct<ce.length;Ct++)_e=ce[Ct],Me=ot+Ee(_e,Ct),Ze+=ae(_e,ye,Se,Me,je);else if(Ct=k(ce),typeof Ct=="function")for(ce=Ct.call(ce),Ct=0;!(_e=ce.next()).done;)_e=_e.value,Me=ot+Ee(_e,Ct++),Ze+=ae(_e,ye,Se,Me,je);else if(Me==="object"){if(typeof ce.then=="function")return ae(he(ce),ye,Se,_e,je);throw ye=String(ce),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function ue(ce,ye,Se){if(ce==null)return ce;var _e=[],je=0;return ae(ce,_e,"","",function(Me){return ye.call(Se,Me,je++)}),_e}function te(ce){if(ce._status===-1){var ye=ce._result;ye=ye(),ye.then(function(Se){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=Se)},function(Se){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=Se)}),ce._status===-1&&(ce._status=0,ce._result=ye)}if(ce._status===1)return ce._result.default;throw ce._result}var se=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},Ce={map:ue,forEach:function(ce,ye,Se){ue(ce,function(){ye.apply(this,arguments)},Se)},count:function(ce){var ye=0;return ue(ce,function(){ye++}),ye},toArray:function(ce){return ue(ce,function(ye){return ye})||[]},only:function(ce){if(!ve(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return react_production.Activity=S,react_production.Children=Ce,react_production.Component=P,react_production.Fragment=r,react_production.Profiler=o,react_production.PureComponent=H,react_production.StrictMode=s,react_production.Suspense=m,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return Y.H.useMemoCache(ce)}},react_production.cache=function(ce){return function(){return ce.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(ce,ye,Se){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var _e=j({},ce.props),je=ce.key;if(ye!=null)for(Me in ye.key!==void 0&&(je=""+ye.key),ye)!re.call(ye,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ye.ref===void 0||(_e[Me]=ye[Me]);var Me=arguments.length-2;if(Me===1)_e.children=Se;else if(1<Me){for(var Ze=Array(Me),ot=0;ot<Me;ot++)Ze[ot]=arguments[ot+2];_e.children=Ze}return oe(ce.type,je,_e)},react_production.createContext=function(ce){return ce={$$typeof:c,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:l,_context:ce},ce},react_production.createElement=function(ce,ye,Se){var _e,je={},Me=null;if(ye!=null)for(_e in ye.key!==void 0&&(Me=""+ye.key),ye)re.call(ye,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(je[_e]=ye[_e]);var Ze=arguments.length-2;if(Ze===1)je.children=Se;else if(1<Ze){for(var ot=Array(Ze),Ct=0;Ct<Ze;Ct++)ot[Ct]=arguments[Ct+2];je.children=ot}if(ce&&ce.defaultProps)for(_e in Ze=ce.defaultProps,Ze)je[_e]===void 0&&(je[_e]=Ze[_e]);return oe(ce,Me,je)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(ce){return{$$typeof:p,render:ce}},react_production.isValidElement=ve,react_production.lazy=function(ce){return{$$typeof:b,_payload:{_status:-1,_result:ce},_init:te}},react_production.memo=function(ce,ye){return{$$typeof:x,type:ce,compare:ye===void 0?null:ye}},react_production.startTransition=function(ce){var ye=Y.T,Se={};Y.T=Se;try{var _e=ce(),je=Y.S;je!==null&&je(Se,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ne,se)}catch(Me){se(Me)}finally{ye!==null&&Se.types!==null&&(ye.types=Se.types),Y.T=ye}},react_production.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},react_production.use=function(ce){return Y.H.use(ce)},react_production.useActionState=function(ce,ye,Se){return Y.H.useActionState(ce,ye,Se)},react_production.useCallback=function(ce,ye){return Y.H.useCallback(ce,ye)},react_production.useContext=function(ce){return Y.H.useContext(ce)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(ce,ye){return Y.H.useDeferredValue(ce,ye)},react_production.useEffect=function(ce,ye){return Y.H.useEffect(ce,ye)},react_production.useEffectEvent=function(ce){return Y.H.useEffectEvent(ce)},react_production.useId=function(){return Y.H.useId()},react_production.useImperativeHandle=function(ce,ye,Se){return Y.H.useImperativeHandle(ce,ye,Se)},react_production.useInsertionEffect=function(ce,ye){return Y.H.useInsertionEffect(ce,ye)},react_production.useLayoutEffect=function(ce,ye){return Y.H.useLayoutEffect(ce,ye)},react_production.useMemo=function(ce,ye){return Y.H.useMemo(ce,ye)},react_production.useOptimistic=function(ce,ye){return Y.H.useOptimistic(ce,ye)},react_production.useReducer=function(ce,ye,Se){return Y.H.useReducer(ce,ye,Se)},react_production.useRef=function(ce){return Y.H.useRef(ce)},react_production.useState=function(ce){return Y.H.useState(ce)},react_production.useSyncExternalStore=function(ce,ye,Se){return Y.H.useSyncExternalStore(ce,ye,Se)},react_production.useTransition=function(){return Y.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact$1;function requireReact$1(){return hasRequiredReact$1||(hasRequiredReact$1=1,react$1.exports=requireReact_production()),react$1.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact$1();function n(m){var x="https://react.dev/errors/"+m;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,x,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:x,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,x){if(m==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(m,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return l(m,x,null,b)},reactDom_production.flushSync=function(m){var x=c.T,b=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=x,s.p=b,s.d.f()}},reactDom_production.preconnect=function(m,x){typeof m=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(m,x))},reactDom_production.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},reactDom_production.preinit=function(m,x){if(typeof m=="string"&&x&&typeof x.as=="string"){var b=x.as,S=p(b,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,k=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?s.d.S(m,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:k}):b==="script"&&s.d.X(m,{crossOrigin:S,integrity:R,fetchPriority:k,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},reactDom_production.preinitModule=function(m,x){if(typeof m=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=p(x.as,x.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(m)},reactDom_production.preload=function(m,x){if(typeof m=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,S=p(b,x.crossOrigin);s.d.L(m,b,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},reactDom_production.preloadModule=function(m,x){if(typeof m=="string")if(x){var b=p(x.as,x.crossOrigin);s.d.m(m,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(m)},reactDom_production.requestFormReset=function(m){s.d.r(m)},reactDom_production.unstable_batchedUpdates=function(m,x){return m(x)},reactDom_production.useFormState=function(m,x,b){return c.H.useFormState(m,x,b)},reactDom_production.useFormStatus=function(){return c.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),n=requireReact$1(),r=requireReactDom();function s(d){var y="https://react.dev/errors/"+d;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function l(d){var y=d,_=d;if(d.alternate)for(;y.return;)y=y.return;else{d=y;do y=d,(y.flags&4098)!==0&&(_=y.return),d=y.return;while(d)}return y.tag===3?_:null}function c(d){if(d.tag===13){var y=d.memoizedState;if(y===null&&(d=d.alternate,d!==null&&(y=d.memoizedState)),y!==null)return y.dehydrated}return null}function p(d){if(d.tag===31){var y=d.memoizedState;if(y===null&&(d=d.alternate,d!==null&&(y=d.memoizedState)),y!==null)return y.dehydrated}return null}function m(d){if(l(d)!==d)throw Error(s(188))}function x(d){var y=d.alternate;if(!y){if(y=l(d),y===null)throw Error(s(188));return y!==d?null:d}for(var _=d,O=y;;){var K=_.return;if(K===null)break;var q=K.alternate;if(q===null){if(O=K.return,O!==null){_=O;continue}break}if(K.child===q.child){for(q=K.child;q;){if(q===_)return m(K),d;if(q===O)return m(K),y;q=q.sibling}throw Error(s(188))}if(_.return!==O.return)_=K,O=q;else{for(var Ae=!1,ge=K.child;ge;){if(ge===_){Ae=!0,_=K,O=q;break}if(ge===O){Ae=!0,O=K,_=q;break}ge=ge.sibling}if(!Ae){for(ge=q.child;ge;){if(ge===_){Ae=!0,_=q,O=K;break}if(ge===O){Ae=!0,O=q,_=K;break}ge=ge.sibling}if(!Ae)throw Error(s(189))}}if(_.alternate!==O)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?d:y}function b(d){var y=d.tag;if(y===5||y===26||y===27||y===6)return d;for(d=d.child;d!==null;){if(y=b(d),y!==null)return y;d=d.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function me(d){return d===null||typeof d!="object"?null:(d=ve&&d[ve]||d["@@iterator"],typeof d=="function"?d:null)}var we=Symbol.for("react.client.reference");function Ee(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===we?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case j:return"Fragment";case P:return"Profiler";case G:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList";case oe:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case M:return"Portal";case H:return d.displayName||"Context";case Q:return(d._context.displayName||"Context")+".Consumer";case X:var y=d.render;return d=d.displayName,d||(d=y.displayName||y.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Y:return y=d.displayName||null,y!==null?y:Ee(d.type)||"Memo";case re:y=d._payload,d=d._init;try{return Ee(d(y))}catch{}}return null}var he=Array.isArray,ae=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},se=[],Ce=-1;function ce(d){return{current:d}}function ye(d){0>Ce||(d.current=se[Ce],se[Ce]=null,Ce--)}function Se(d,y){Ce++,se[Ce]=d.current,d.current=y}var _e=ce(null),je=ce(null),Me=ce(null),Ze=ce(null);function ot(d,y){switch(Se(Me,y),Se(je,d),Se(_e,null),y.nodeType){case 9:case 11:d=(d=y.documentElement)&&(d=d.namespaceURI)?lf(d):0;break;default:if(d=y.tagName,y=y.namespaceURI)y=lf(y),d=cf(y,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ye(_e),Se(_e,d)}function Ct(){ye(_e),ye(je),ye(Me)}function It(d){d.memoizedState!==null&&Se(Ze,d);var y=_e.current,_=cf(y,d.type);y!==_&&(Se(je,d),Se(_e,_))}function mt(d){je.current===d&&(ye(_e),ye(je)),Ze.current===d&&(ye(Ze),vo._currentValue=te)}var Ut,gt;function xt(d){if(Ut===void 0)try{throw Error()}catch(_){var y=_.stack.trim().match(/\n( *(at )?)/);Ut=y&&y[1]||"",gt=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+d+gt}var an=!1;function Un(d,y){if(!d||an)return"";an=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(y){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(qe){var Ve=qe}Reflect.construct(d,[],st)}else{try{st.call()}catch(qe){Ve=qe}d.call(st.prototype)}}else{try{throw Error()}catch(qe){Ve=qe}(st=d())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(qe){if(qe&&Ve&&typeof qe.stack=="string")return[qe.stack,Ve.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=O.DetermineComponentFrameRoot(),Ae=q[0],ge=q[1];if(Ae&&ge){var Re=Ae.split(`
`),Qe=ge.split(`
`);for(K=O=0;O<Re.length&&!Re[O].includes("DetermineComponentFrameRoot");)O++;for(;K<Qe.length&&!Qe[K].includes("DetermineComponentFrameRoot");)K++;if(O===Re.length||K===Qe.length)for(O=Re.length-1,K=Qe.length-1;1<=O&&0<=K&&Re[O]!==Qe[K];)K--;for(;1<=O&&0<=K;O--,K--)if(Re[O]!==Qe[K]){if(O!==1||K!==1)do if(O--,K--,0>K||Re[O]!==Qe[K]){var nt=`
`+Re[O].replace(" at new "," at ");return d.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",d.displayName)),nt}while(1<=O&&0<=K);break}}}finally{an=!1,Error.prepareStackTrace=_}return(_=d?d.displayName||d.name:"")?xt(_):""}function Zt(d,y){switch(d.tag){case 26:case 27:case 5:return xt(d.type);case 16:return xt("Lazy");case 13:return d.child!==y&&y!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Un(d.type,!1);case 11:return Un(d.type.render,!1);case 1:return Un(d.type,!0);case 31:return xt("Activity");default:return""}}function $t(d){try{var y="",_=null;do y+=Zt(d,_),_=d,d=d.return;while(d);return y}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var Ot=Object.prototype.hasOwnProperty,In=t.unstable_scheduleCallback,pt=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,On=t.unstable_requestPaint,it=t.unstable_now,Pe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ye=t.unstable_UserBlockingPriority,Je=t.unstable_NormalPriority,bt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Wt=t.log,Xe=t.unstable_setDisableYieldValue,ze=null,$e=null;function ut(d){if(typeof Wt=="function"&&Xe(d),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ze,d)}catch{}}var lt=Math.clz32?Math.clz32:un,Bt=Math.log,on=Math.LN2;function un(d){return d>>>=0,d===0?32:31-(Bt(d)/on|0)|0}var dn=256,kt=262144,mn=4194304;function Bn(d){var y=d&42;if(y!==0)return y;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Br(d,y,_){var O=d.pendingLanes;if(O===0)return 0;var K=0,q=d.suspendedLanes,Ae=d.pingedLanes;d=d.warmLanes;var ge=O&134217727;return ge!==0?(O=ge&~q,O!==0?K=Bn(O):(Ae&=ge,Ae!==0?K=Bn(Ae):_||(_=ge&~d,_!==0&&(K=Bn(_))))):(ge=O&~q,ge!==0?K=Bn(ge):Ae!==0?K=Bn(Ae):_||(_=O&~d,_!==0&&(K=Bn(_)))),K===0?0:y!==0&&y!==K&&(y&q)===0&&(q=K&-K,_=y&-y,q>=_||q===32&&(_&4194048)!==0)?y:K}function Nn(d,y){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&y)===0}function Tr(d,y){switch(d){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var d=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),d}function _r(d){for(var y=[],_=0;31>_;_++)y.push(d);return y}function Zr(d,y){d.pendingLanes|=y,y!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function kr(d,y,_,O,K,q){var Ae=d.pendingLanes;d.pendingLanes=_,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=_,d.entangledLanes&=_,d.errorRecoveryDisabledLanes&=_,d.shellSuspendCounter=0;var ge=d.entanglements,Re=d.expirationTimes,Qe=d.hiddenUpdates;for(_=Ae&~_;0<_;){var nt=31-lt(_),st=1<<nt;ge[nt]=0,Re[nt]=-1;var Ve=Qe[nt];if(Ve!==null)for(Qe[nt]=null,nt=0;nt<Ve.length;nt++){var qe=Ve[nt];qe!==null&&(qe.lane&=-536870913)}_&=~st}O!==0&&Te(d,O,0),q!==0&&K===0&&d.tag!==0&&(d.suspendedLanes|=q&~(Ae&~y))}function Te(d,y,_){d.pendingLanes|=y,d.suspendedLanes&=~y;var O=31-lt(y);d.entangledLanes|=y,d.entanglements[O]=d.entanglements[O]|1073741824|_&261930}function Oe(d,y){var _=d.entangledLanes|=y;for(d=d.entanglements;_;){var O=31-lt(_),K=1<<O;K&y|d[O]&y&&(d[O]|=y),_&=~K}}function Ge(d,y){var _=y&-y;return _=(_&42)!==0?1:at(_),(_&(d.suspendedLanes|y))!==0?0:_}function at(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function ht(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function wt(){var d=ue.p;return d!==0?d:(d=window.event,d===void 0?32:Ff(d.type))}function et(d,y){var _=ue.p;try{return ue.p=d,y()}finally{ue.p=_}}var Et=Math.random().toString(36).slice(2),vt="__reactFiber$"+Et,yt="__reactProps$"+Et,Nt="__reactContainer$"+Et,Tt="__reactEvents$"+Et,Vt="__reactListeners$"+Et,nn="__reactHandles$"+Et,Wn="__reactResources$"+Et,Hn="__reactMarker$"+Et;function en(d){delete d[vt],delete d[yt],delete d[Tt],delete d[Vt],delete d[nn]}function zt(d){var y=d[vt];if(y)return y;for(var _=d.parentNode;_;){if(y=_[Nt]||_[vt]){if(_=y.alternate,y.child!==null||_!==null&&_.child!==null)for(d=mf(d);d!==null;){if(_=d[vt])return _;d=mf(d)}return y}d=_,_=d.parentNode}return null}function rn(d){if(d=d[vt]||d[Nt]){var y=d.tag;if(y===5||y===6||y===13||y===31||y===26||y===27||y===3)return d}return null}function Mr(d){var y=d.tag;if(y===5||y===26||y===27||y===6)return d.stateNode;throw Error(s(33))}function qn(d){var y=d[Wn];return y||(y=d[Wn]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function yn(d){d[Hn]=!0}var ct=new Set,vs={};function ln(d,y){gr(d,y),gr(d+"Capture",y)}function gr(d,y){for(vs[d]=y,d=0;d<y.length;d++)ct.add(y[d])}var Js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},Ht={};function qt(d){return Ot.call(Ht,d)?!0:Ot.call(_t,d)?!1:Js.test(d)?Ht[d]=!0:(_t[d]=!0,!1)}function Sr(d,y,_){if(qt(y))if(_===null)d.removeAttribute(y);else{switch(typeof _){case"undefined":case"function":case"symbol":d.removeAttribute(y);return;case"boolean":var O=y.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){d.removeAttribute(y);return}}d.setAttribute(y,""+_)}}function Cn(d,y,_){if(_===null)d.removeAttribute(y);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(y);return}d.setAttribute(y,""+_)}}function xr(d,y,_,O){if(O===null)d.removeAttribute(_);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(_);return}d.setAttributeNS(y,_,""+O)}}function gn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Qr(d){var y=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Pl(d,y,_){var O=Object.getOwnPropertyDescriptor(d.constructor.prototype,y);if(!d.hasOwnProperty(y)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var K=O.get,q=O.set;return Object.defineProperty(d,y,{configurable:!0,get:function(){return K.call(this)},set:function(Ae){_=""+Ae,q.call(this,Ae)}}),Object.defineProperty(d,y,{enumerable:O.enumerable}),{getValue:function(){return _},setValue:function(Ae){_=""+Ae},stopTracking:function(){d._valueTracker=null,delete d[y]}}}}function Qn(d){if(!d._valueTracker){var y=Qr(d)?"checked":"value";d._valueTracker=Pl(d,y,""+d[y])}}function fs(d){if(!d)return!1;var y=d._valueTracker;if(!y)return!0;var _=y.getValue(),O="";return d&&(O=Qr(d)?d.checked?"true":"false":d.value),d=O,d!==_?(y.setValue(d),!0):!1}function Ji(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Zs=/[\n"\\]/g;function sn(d){return d.replace(Zs,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function ar(d,y,_,O,K,q,Ae,ge){d.name="",Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?d.type=Ae:d.removeAttribute("type"),y!=null?Ae==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+gn(y)):d.value!==""+gn(y)&&(d.value=""+gn(y)):Ae!=="submit"&&Ae!=="reset"||d.removeAttribute("value"),y!=null?be(d,Ae,gn(y)):_!=null?be(d,Ae,gn(_)):O!=null&&d.removeAttribute("value"),K==null&&q!=null&&(d.defaultChecked=!!q),K!=null&&(d.checked=K&&typeof K!="function"&&typeof K!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?d.name=""+gn(ge):d.removeAttribute("name")}function Ue(d,y,_,O,K,q,Ae,ge){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(d.type=q),y!=null||_!=null){if(!(q!=="submit"&&q!=="reset"||y!=null)){Qn(d);return}_=_!=null?""+gn(_):"",y=y!=null?""+gn(y):_,ge||y===d.value||(d.value=y),d.defaultValue=y}O=O??K,O=typeof O!="function"&&typeof O!="symbol"&&!!O,d.checked=ge?d.checked:!!O,d.defaultChecked=!!O,Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"&&(d.name=Ae),Qn(d)}function be(d,y,_){y==="number"&&Ji(d.ownerDocument)===d||d.defaultValue===""+_||(d.defaultValue=""+_)}function Rt(d,y,_,O){if(d=d.options,y){y={};for(var K=0;K<_.length;K++)y["$"+_[K]]=!0;for(_=0;_<d.length;_++)K=y.hasOwnProperty("$"+d[_].value),d[_].selected!==K&&(d[_].selected=K),K&&O&&(d[_].defaultSelected=!0)}else{for(_=""+gn(_),y=null,K=0;K<d.length;K++){if(d[K].value===_){d[K].selected=!0,O&&(d[K].defaultSelected=!0);return}y!==null||d[K].disabled||(y=d[K])}y!==null&&(y.selected=!0)}}function nr(d,y,_){if(y!=null&&(y=""+gn(y),y!==d.value&&(d.value=y),_==null)){d.defaultValue!==y&&(d.defaultValue=y);return}d.defaultValue=_!=null?""+gn(_):""}function Rr(d,y,_,O){if(y==null){if(O!=null){if(_!=null)throw Error(s(92));if(he(O)){if(1<O.length)throw Error(s(93));O=O[0]}_=O}_==null&&(_=""),y=_}_=gn(y),d.defaultValue=_,O=d.textContent,O===_&&O!==""&&O!==null&&(d.value=O),Qn(d)}function ei(d,y){if(y){var _=d.firstChild;if(_&&_===d.lastChild&&_.nodeType===3){_.nodeValue=y;return}}d.textContent=y}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ir(d,y,_){var O=y.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?O?d.setProperty(y,""):y==="float"?d.cssFloat="":d[y]="":O?d.setProperty(y,_):typeof _!="number"||_===0||Oa.has(y)?y==="float"?d.cssFloat=_:d[y]=(""+_).trim():d[y]=_+"px"}function Dt(d,y,_){if(y!=null&&typeof y!="object")throw Error(s(62));if(d=d.style,_!=null){for(var O in _)!_.hasOwnProperty(O)||y!=null&&y.hasOwnProperty(O)||(O.indexOf("--")===0?d.setProperty(O,""):O==="float"?d.cssFloat="":d[O]="");for(var K in y)O=y[K],y.hasOwnProperty(K)&&_[K]!==O&&Ir(d,K,O)}else for(var q in y)y.hasOwnProperty(q)&&Ir(d,q,y[q])}function Ln(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(d){return $l.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Or(){}var Ni=null;function Da(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Vn=null,ns=null;function hs(d){var y=rn(d);if(y&&(d=y.stateNode)){var _=d[yt]||null;e:switch(d=y.stateNode,y.type){case"input":if(ar(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),y=_.name,_.type==="radio"&&y!=null){for(_=d;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+sn(""+y)+'"][type="radio"]'),y=0;y<_.length;y++){var O=_[y];if(O!==d&&O.form===d.form){var K=O[yt]||null;if(!K)throw Error(s(90));ar(O,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(y=0;y<_.length;y++)O=_[y],O.form===d.form&&fs(O)}break e;case"textarea":nr(d,_.value,_.defaultValue);break e;case"select":y=_.value,y!=null&&Rt(d,!!_.multiple,y,!1)}}}var jt=!1;function Bo(d,y,_){if(jt)return d(y,_);jt=!0;try{var O=d(y);return O}finally{if(jt=!1,(Vn!==null||ns!==null)&&(ml(),Vn&&(y=Vn,d=ns,ns=Vn=null,hs(y),d)))for(y=0;y<d.length;y++)hs(d[y])}}function Gt(d,y){var _=d.stateNode;if(_===null)return null;var O=_[yt]||null;if(O===null)return null;_=O[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(_&&typeof _!="function")throw Error(s(231,y,typeof _));return _}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(jn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){La=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{La=!1}var ps=null,ms=null,Zi=null;function ni(){if(Zi)return Zi;var d,y=ms,_=y.length,O,K="value"in ps?ps.value:ps.textContent,q=K.length;for(d=0;d<_&&y[d]===K[d];d++);var Ae=_-d;for(O=1;O<=Ae&&y[_-O]===K[q-O];O++);return Zi=K.slice(d,1<O?1-O:void 0)}function Es(d){var y=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&y===13&&(d=13)):d=y,d===10&&(d=13),32<=d||d===13?d:0}function Cs(){return!0}function ja(){return!1}function or(d){function y(_,O,K,q,Ae){this._reactName=_,this._targetInst=K,this.type=O,this.nativeEvent=q,this.target=Ae,this.currentTarget=null;for(var ge in d)d.hasOwnProperty(ge)&&(_=d[ge],this[ge]=_?_(q):q[ge]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Cs:ja,this.isPropagationStopped=ja,this}return S(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),y}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=or(Vr),ri=S({},Vr,{view:0,detail:0}),_o=or(ri),ea,Pa,Fi,na=S({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Fi&&(Fi&&d.type==="mousemove"?(ea=d.screenX-Fi.screenX,Pa=d.screenY-Fi.screenY):Pa=ea=0,Fi=d),ea)},movementY:function(d){return"movementY"in d?d.movementY:Pa}}),wn=or(na),So=S({},na,{dataTransfer:0}),ra=or(So),ws=S({},ri,{relatedTarget:0}),$a=or(ws),We=S({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yt=or(We),hr=S({},Vr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),sa=or(hr),To=S({},Vr,{data:0}),Ro=or(To),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rr(d){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(d):(d=Ua[d])?!!y[d]:!1}function ki(){return rr}var Xn=S({},ri,{key:function(d){if(d.key){var y=Ul[d.key]||d.key;if(y!=="Unidentified")return y}return d.type==="keypress"?(d=Es(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Hl[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(d){return d.type==="keypress"?Es(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Es(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ia=or(Xn),Is=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=or(Is),Pt=S({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Ql=or(Pt),Pn=S({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ns=or(Pn),si=S({},na,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=or(si),rs=S({},Vr,{newState:0,oldState:0}),Ha=or(rs),Io=[9,13,27,32],Mi=jn&&"CompositionEvent"in window,ii=null;jn&&"documentMode"in document&&(ii=document.documentMode);var No=jn&&"TextEvent"in window&&!ii,Fo=jn&&(!Mi||ii&&8<ii&&11>=ii),Fs=" ",aa=!1;function ko(d,y){switch(d){case"keyup":return Io.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ai(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var oi=!1;function bs(d,y){switch(d){case"compositionend":return ai(y);case"keypress":return y.which!==32?null:(aa=!0,Fs);case"textInput":return d=y.data,d===Fs&&aa?null:d;default:return null}}function oa(d,y){if(oi)return d==="compositionend"||!Mi&&ko(d,y)?(d=ni(),Zi=ms=ps=null,oi=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Fo&&y.locale!=="ko"?null:y.data;default:return null}}var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(d){var y=d&&d.nodeName&&d.nodeName.toLowerCase();return y==="input"?!!Dr[d.type]:y==="textarea"}function zr(d,y,_,O){Vn?ns?ns.push(O):ns=[O]:Vn=O,y=wl(y,"onChange"),0<y.length&&(_=new dr("onChange","change",null,_,O),d.push({event:_,listeners:y}))}var Oi=null,ks=null;function zl(d){tf(d,0)}function Di(d){var y=Mr(d);if(fs(y))return d}function Gr(d,y){if(d==="change")return y}var Mo=!1;if(jn){var Li;if(jn){var Ms="oninput"in document;if(!Ms){var fn=document.createElement("div");fn.setAttribute("oninput","return;"),Ms=typeof fn.oninput=="function"}Li=Ms}else Li=!1;Mo=Li&&(!document.documentMode||9<document.documentMode)}function ji(){Oi&&(Oi.detachEvent("onpropertychange",de),ks=Oi=null)}function de(d){if(d.propertyName==="value"&&Di(ks)){var y=[];zr(y,ks,d,Da(d)),Bo(zl,y)}}function g(d,y,_){d==="focusin"?(ji(),Oi=y,ks=_,Oi.attachEvent("onpropertychange",de)):d==="focusout"&&ji()}function C(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Di(ks)}function B(d,y){if(d==="click")return Di(y)}function I(d,y){if(d==="input"||d==="change")return Di(y)}function N(d,y){return d===y&&(d!==0||1/d===1/y)||d!==d&&y!==y}var D=typeof Object.is=="function"?Object.is:N;function $(d,y){if(D(d,y))return!0;if(typeof d!="object"||d===null||typeof y!="object"||y===null)return!1;var _=Object.keys(d),O=Object.keys(y);if(_.length!==O.length)return!1;for(O=0;O<_.length;O++){var K=_[O];if(!Ot.call(y,K)||!D(d[K],y[K]))return!1}return!0}function W(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function J(d,y){var _=W(d);d=0;for(var O;_;){if(_.nodeType===3){if(O=d+_.textContent.length,d<=y&&O>=y)return{node:_,offset:y-d};d=O}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=W(_)}}function le(d,y){return d&&y?d===y?!0:d&&d.nodeType===3?!1:y&&y.nodeType===3?le(d,y.parentNode):"contains"in d?d.contains(y):d.compareDocumentPosition?!!(d.compareDocumentPosition(y)&16):!1:!1}function fe(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var y=Ji(d.document);y instanceof d.HTMLIFrameElement;){try{var _=typeof y.contentWindow.location.href=="string"}catch{_=!1}if(_)d=y.contentWindow;else break;y=Ji(d.document)}return y}function pe(d){var y=d&&d.nodeName&&d.nodeName.toLowerCase();return y&&(y==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||y==="textarea"||d.contentEditable==="true")}var Be=jn&&"documentMode"in document&&11>=document.documentMode,Ie=null,Ne=null,Le=null,Ke=!1;function ft(d,y,_){var O=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Ke||Ie==null||Ie!==Ji(O)||(O=Ie,"selectionStart"in O&&pe(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Le&&$(Le,O)||(Le=O,O=wl(Ne,"onSelect"),0<O.length&&(y=new dr("onSelect","select",null,y,_),d.push({event:y,listeners:O}),y.target=Ie)))}function dt(d,y){var _={};return _[d.toLowerCase()]=y.toLowerCase(),_["Webkit"+d]="webkit"+y,_["Moz"+d]="moz"+y,_}var At={animationend:dt("Animation","AnimationEnd"),animationiteration:dt("Animation","AnimationIteration"),animationstart:dt("Animation","AnimationStart"),transitionrun:dt("Transition","TransitionRun"),transitionstart:dt("Transition","TransitionStart"),transitioncancel:dt("Transition","TransitionCancel"),transitionend:dt("Transition","TransitionEnd")},tn={},Kt={};jn&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function Jn(d){if(tn[d])return tn[d];if(!At[d])return d;var y=At[d],_;for(_ in y)if(y.hasOwnProperty(_)&&_ in Kt)return tn[d]=y[_];return d}var Lr=Jn("animationend"),vr=Jn("animationiteration"),Sn=Jn("animationstart"),pr=Jn("transitionrun"),Nr=Jn("transitionstart"),li=Jn("transitioncancel"),Os=Jn("transitionend"),Oo=new Map,Va="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Va.push("scrollEnd");function gs(d,y){Oo.set(d,y),ln(y,[d])}var Do=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},ss=[],la=0,Gl=0;function Lo(){for(var d=la,y=Gl=la=0;y<d;){var _=ss[y];ss[y++]=null;var O=ss[y];ss[y++]=null;var K=ss[y];ss[y++]=null;var q=ss[y];if(ss[y++]=null,O!==null&&K!==null){var Ae=O.pending;Ae===null?K.next=K:(K.next=Ae.next,Ae.next=K),O.pending=K}q!==0&&DA(_,K,q)}}function jo(d,y,_,O){ss[la++]=d,ss[la++]=y,ss[la++]=_,ss[la++]=O,Gl|=O,d.lanes|=O,d=d.alternate,d!==null&&(d.lanes|=O)}function Kl(d,y,_,O){return jo(d,y,_,O),Po(d)}function Pi(d,y){return jo(d,null,null,y),Po(d)}function DA(d,y,_){d.lanes|=_;var O=d.alternate;O!==null&&(O.lanes|=_);for(var K=!1,q=d.return;q!==null;)q.childLanes|=_,O=q.alternate,O!==null&&(O.childLanes|=_),q.tag===22&&(d=q.stateNode,d===null||d._visibility&1||(K=!0)),d=q,q=q.return;return d.tag===3?(q=d.stateNode,K&&y!==null&&(K=31-lt(_),d=q.hiddenUpdates,O=d[K],O===null?d[K]=[y]:O.push(y),y.lane=_|536870912),q):null}function Po(d){if(50<fo)throw fo=0,nA=null,Error(s(185));for(var y=d.return;y!==null;)d=y,y=d.return;return d.tag===3?d.stateNode:null}var ca={};function zf(d,y,_,O){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(d,y,_,O){return new zf(d,y,_,O)}function Wl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ds(d,y){var _=d.alternate;return _===null?(_=Kr(d.tag,y,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=y,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&65011712,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,y=d.dependencies,_.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_.refCleanup=d.refCleanup,_}function LA(d,y){d.flags&=65011714;var _=d.alternate;return _===null?(d.childLanes=0,d.lanes=y,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,y=_.dependencies,d.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d}function $o(d,y,_,O,K,q){var Ae=0;if(O=d,typeof d=="function")Wl(d)&&(Ae=1);else if(typeof d=="string")Ae=Xh(d,_,_e.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case oe:return d=Kr(31,_,y,K),d.elementType=oe,d.lanes=q,d;case j:return $i(_.children,K,q,y);case G:Ae=8,K|=24;break;case P:return d=Kr(12,_,y,K|2),d.elementType=P,d.lanes=q,d;case ee:return d=Kr(13,_,y,K),d.elementType=ee,d.lanes=q,d;case ne:return d=Kr(19,_,y,K),d.elementType=ne,d.lanes=q,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case H:Ae=10;break e;case Q:Ae=9;break e;case X:Ae=11;break e;case Y:Ae=14;break e;case re:Ae=16,O=null;break e}Ae=29,_=Error(s(130,d===null?"null":typeof d,"")),O=null}return y=Kr(Ae,_,y,K),y.elementType=d,y.type=O,y.lanes=q,y}function $i(d,y,_,O){return d=Kr(7,d,O,y),d.lanes=_,d}function ql(d,y,_){return d=Kr(6,d,null,y),d.lanes=_,d}function jA(d){var y=Kr(18,null,null,0);return y.stateNode=d,y}function Xl(d,y,_){return y=Kr(4,d.children!==null?d.children:[],d.key,y),y.lanes=_,y.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},y}var PA=new WeakMap;function is(d,y){if(typeof d=="object"&&d!==null){var _=PA.get(d);return _!==void 0?_:(y={value:d,source:y,stack:$t(y)},PA.set(d,y),y)}return{value:d,source:y,stack:$t(y)}}var Aa=[],ua=0,Uo=null,za=0,as=[],ls=0,ci=null,Bs=1,_s="";function Ls(d,y){Aa[ua++]=za,Aa[ua++]=Uo,Uo=d,za=y}function $A(d,y,_){as[ls++]=Bs,as[ls++]=_s,as[ls++]=ci,ci=d;var O=Bs;d=_s;var K=32-lt(O)-1;O&=~(1<<K),_+=1;var q=32-lt(y)+K;if(30<q){var Ae=K-K%5;q=(O&(1<<Ae)-1).toString(32),O>>=Ae,K-=Ae,Bs=1<<32-lt(y)+K|_<<K|O,_s=q+d}else Bs=1<<q|_<<K|O,_s=d}function Yl(d){d.return!==null&&(Ls(d,1),$A(d,1,0))}function Jl(d){for(;d===Uo;)Uo=Aa[--ua],Aa[ua]=null,za=Aa[--ua],Aa[ua]=null;for(;d===ci;)ci=as[--ls],as[ls]=null,_s=as[--ls],as[ls]=null,Bs=as[--ls],as[ls]=null}function UA(d,y){as[ls++]=Bs,as[ls++]=_s,as[ls++]=ci,Bs=y.id,_s=y.overflow,ci=d}var Er=null,zn=null,xn=!1,Ai=null,cs=!1,Zl=Error(s(519));function ui(d){var y=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ga(is(y,d)),Zl}function HA(d){var y=d.stateNode,_=d.type,O=d.memoizedProps;switch(y[vt]=d,y[yt]=O,_){case"dialog":An("cancel",y),An("close",y);break;case"iframe":case"object":case"embed":An("load",y);break;case"video":case"audio":for(_=0;_<po.length;_++)An(po[_],y);break;case"source":An("error",y);break;case"img":case"image":case"link":An("error",y),An("load",y);break;case"details":An("toggle",y);break;case"input":An("invalid",y),Ue(y,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":An("invalid",y);break;case"textarea":An("invalid",y),Rr(y,O.value,O.defaultValue,O.children)}_=O.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||y.textContent===""+_||O.suppressHydrationWarning===!0||af(y.textContent,_)?(O.popover!=null&&(An("beforetoggle",y),An("toggle",y)),O.onScroll!=null&&An("scroll",y),O.onScrollEnd!=null&&An("scrollend",y),O.onClick!=null&&(y.onclick=Or),y=!0):y=!1,y||ui(d,!0)}function QA(d){for(Er=d.return;Er;)switch(Er.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:Er=Er.return}}function da(d){if(d!==Er)return!1;if(!xn)return QA(d),xn=!0,!1;var y=d.tag,_;if((_=y!==3&&y!==27)&&((_=y===5)&&(_=d.type,_=!(_!=="form"&&_!=="button")||gA(d.type,d.memoizedProps)),_=!_),_&&zn&&ui(d),QA(d),y===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));zn=pf(d)}else if(y===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));zn=pf(d)}else y===27?(y=zn,Bi(d.type)?(d=CA,CA=null,zn=d):zn=y):zn=Er?us(d.stateNode.nextSibling):null;return!0}function Ui(){zn=Er=null,xn=!1}function ec(){var d=Ai;return d!==null&&(Ur===null?Ur=d:Ur.push.apply(Ur,d),Ai=null),d}function Ga(d){Ai===null?Ai=[d]:Ai.push(d)}var tc=ce(null),Hi=null,js=null;function di(d,y,_){Se(tc,y._currentValue),y._currentValue=_}function Ps(d){d._currentValue=tc.current,ye(tc)}function nc(d,y,_){for(;d!==null;){var O=d.alternate;if((d.childLanes&y)!==y?(d.childLanes|=y,O!==null&&(O.childLanes|=y)):O!==null&&(O.childLanes&y)!==y&&(O.childLanes|=y),d===_)break;d=d.return}}function rc(d,y,_,O){var K=d.child;for(K!==null&&(K.return=d);K!==null;){var q=K.dependencies;if(q!==null){var Ae=K.child;q=q.firstContext;e:for(;q!==null;){var ge=q;q=K;for(var Re=0;Re<y.length;Re++)if(ge.context===y[Re]){q.lanes|=_,ge=q.alternate,ge!==null&&(ge.lanes|=_),nc(q.return,_,d),O||(Ae=null);break e}q=ge.next}}else if(K.tag===18){if(Ae=K.return,Ae===null)throw Error(s(341));Ae.lanes|=_,q=Ae.alternate,q!==null&&(q.lanes|=_),nc(Ae,_,d),Ae=null}else Ae=K.child;if(Ae!==null)Ae.return=K;else for(Ae=K;Ae!==null;){if(Ae===d){Ae=null;break}if(K=Ae.sibling,K!==null){K.return=Ae.return,Ae=K;break}Ae=Ae.return}K=Ae}}function fa(d,y,_,O){d=null;for(var K=y,q=!1;K!==null;){if(!q){if((K.flags&524288)!==0)q=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var Ae=K.alternate;if(Ae===null)throw Error(s(387));if(Ae=Ae.memoizedProps,Ae!==null){var ge=K.type;D(K.pendingProps.value,Ae.value)||(d!==null?d.push(ge):d=[ge])}}else if(K===Ze.current){if(Ae=K.alternate,Ae===null)throw Error(s(387));Ae.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(d!==null?d.push(vo):d=[vo])}K=K.return}d!==null&&rc(y,d,_,O),y.flags|=262144}function Ho(d){for(d=d.firstContext;d!==null;){if(!D(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Qi(d){Hi=d,js=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Cr(d){return VA(Hi,d)}function Qo(d,y){return Hi===null&&Qi(d),VA(d,y)}function VA(d,y){var _=y._currentValue;if(y={context:y,memoizedValue:_,next:null},js===null){if(d===null)throw Error(s(308));js=y,d.dependencies={lanes:0,firstContext:y},d.flags|=524288}else js=js.next=y;return _}var Gf=typeof AbortController<"u"?AbortController:function(){var d=[],y=this.signal={aborted:!1,addEventListener:function(_,O){d.push(O)}};this.abort=function(){y.aborted=!0,d.forEach(function(_){return _()})}},Kf=t.unstable_scheduleCallback,Wf=t.unstable_NormalPriority,lr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new Gf,data:new Map,refCount:0}}function Ka(d){d.refCount--,d.refCount===0&&Kf(Wf,function(){d.controller.abort()})}var Wa=null,ic=0,ha=0,pa=null;function qf(d,y){if(Wa===null){var _=Wa=[];ic=0,ha=lA(),pa={status:"pending",value:void 0,then:function(O){_.push(O)}}}return ic++,y.then(zA,zA),y}function zA(){if(--ic===0&&Wa!==null){pa!==null&&(pa.status="fulfilled");var d=Wa;Wa=null,ha=0,pa=null;for(var y=0;y<d.length;y++)(0,d[y])()}}function Xf(d,y){var _=[],O={status:"pending",value:null,reason:null,then:function(K){_.push(K)}};return d.then(function(){O.status="fulfilled",O.value=y;for(var K=0;K<_.length;K++)(0,_[K])(y)},function(K){for(O.status="rejected",O.reason=K,K=0;K<_.length;K++)(0,_[K])(void 0)}),O}var GA=ae.S;ae.S=function(d,y){Rd=it(),typeof y=="object"&&y!==null&&typeof y.then=="function"&&qf(d,y),GA!==null&&GA(d,y)};var Vi=ce(null);function ac(){var d=Vi.current;return d!==null?d:$n.pooledCache}function Vo(d,y){y===null?Se(Vi,Vi.current):Se(Vi,y.pool)}function KA(){var d=ac();return d===null?null:{parent:lr._currentValue,pool:d}}var ma=Error(s(460)),oc=Error(s(474)),zo=Error(s(542)),Go={then:function(){}};function WA(d){return d=d.status,d==="fulfilled"||d==="rejected"}function qA(d,y,_){switch(_=d[_],_===void 0?d.push(y):_!==y&&(y.then(Or,Or),y=_),y.status){case"fulfilled":return y.value;case"rejected":throw d=y.reason,YA(d),d;default:if(typeof y.status=="string")y.then(Or,Or);else{if(d=$n,d!==null&&100<d.shellSuspendCounter)throw Error(s(482));d=y,d.status="pending",d.then(function(O){if(y.status==="pending"){var K=y;K.status="fulfilled",K.value=O}},function(O){if(y.status==="pending"){var K=y;K.status="rejected",K.reason=O}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw d=y.reason,YA(d),d}throw Gi=y,ma}}function zi(d){try{var y=d._init;return y(d._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(Gi=_,ma):_}}var Gi=null;function XA(){if(Gi===null)throw Error(s(459));var d=Gi;return Gi=null,d}function YA(d){if(d===ma||d===zo)throw Error(s(483))}var ga=null,qa=0;function Ko(d){var y=qa;return qa+=1,ga===null&&(ga=[]),qA(ga,d,y)}function Xa(d,y){y=y.props.ref,d.ref=y!==void 0?y:null}function Wo(d,y){throw y.$$typeof===R?Error(s(525)):(d=Object.prototype.toString.call(y),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":d)))}function JA(d){function y(De,ke){if(d){var He=De.deletions;He===null?(De.deletions=[ke],De.flags|=16):He.push(ke)}}function _(De,ke){if(!d)return null;for(;ke!==null;)y(De,ke),ke=ke.sibling;return null}function O(De){for(var ke=new Map;De!==null;)De.key!==null?ke.set(De.key,De):ke.set(De.index,De),De=De.sibling;return ke}function K(De,ke){return De=Ds(De,ke),De.index=0,De.sibling=null,De}function q(De,ke,He){return De.index=He,d?(He=De.alternate,He!==null?(He=He.index,He<ke?(De.flags|=67108866,ke):He):(De.flags|=67108866,ke)):(De.flags|=1048576,ke)}function Ae(De){return d&&De.alternate===null&&(De.flags|=67108866),De}function ge(De,ke,He,rt){return ke===null||ke.tag!==6?(ke=ql(He,De.mode,rt),ke.return=De,ke):(ke=K(ke,He),ke.return=De,ke)}function Re(De,ke,He,rt){var Lt=He.type;return Lt===j?nt(De,ke,He.props.children,rt,He.key):ke!==null&&(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===re&&zi(Lt)===ke.type)?(ke=K(ke,He.props),Xa(ke,He),ke.return=De,ke):(ke=$o(He.type,He.key,He.props,null,De.mode,rt),Xa(ke,He),ke.return=De,ke)}function Qe(De,ke,He,rt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==He.containerInfo||ke.stateNode.implementation!==He.implementation?(ke=Xl(He,De.mode,rt),ke.return=De,ke):(ke=K(ke,He.children||[]),ke.return=De,ke)}function nt(De,ke,He,rt,Lt){return ke===null||ke.tag!==7?(ke=$i(He,De.mode,rt,Lt),ke.return=De,ke):(ke=K(ke,He),ke.return=De,ke)}function st(De,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=ql(""+ke,De.mode,He),ke.return=De,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case k:return He=$o(ke.type,ke.key,ke.props,null,De.mode,He),Xa(He,ke),He.return=De,He;case M:return ke=Xl(ke,De.mode,He),ke.return=De,ke;case re:return ke=zi(ke),st(De,ke,He)}if(he(ke)||me(ke))return ke=$i(ke,De.mode,He,null),ke.return=De,ke;if(typeof ke.then=="function")return st(De,Ko(ke),He);if(ke.$$typeof===H)return st(De,Qo(De,ke),He);Wo(De,ke)}return null}function Ve(De,ke,He,rt){var Lt=ke!==null?ke.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Lt!==null?null:ge(De,ke,""+He,rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case k:return He.key===Lt?Re(De,ke,He,rt):null;case M:return He.key===Lt?Qe(De,ke,He,rt):null;case re:return He=zi(He),Ve(De,ke,He,rt)}if(he(He)||me(He))return Lt!==null?null:nt(De,ke,He,rt,null);if(typeof He.then=="function")return Ve(De,ke,Ko(He),rt);if(He.$$typeof===H)return Ve(De,ke,Qo(De,He),rt);Wo(De,He)}return null}function qe(De,ke,He,rt,Lt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return De=De.get(He)||null,ge(ke,De,""+rt,Lt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case k:return De=De.get(rt.key===null?He:rt.key)||null,Re(ke,De,rt,Lt);case M:return De=De.get(rt.key===null?He:rt.key)||null,Qe(ke,De,rt,Lt);case re:return rt=zi(rt),qe(De,ke,He,rt,Lt)}if(he(rt)||me(rt))return De=De.get(He)||null,nt(ke,De,rt,Lt,null);if(typeof rt.then=="function")return qe(De,ke,He,Ko(rt),Lt);if(rt.$$typeof===H)return qe(De,ke,He,Qo(ke,rt),Lt);Wo(ke,rt)}return null}function St(De,ke,He,rt){for(var Lt=null,vn=null,Ft=ke,Jt=ke=0,pn=null;Ft!==null&&Jt<He.length;Jt++){Ft.index>Jt?(pn=Ft,Ft=null):pn=Ft.sibling;var En=Ve(De,Ft,He[Jt],rt);if(En===null){Ft===null&&(Ft=pn);break}d&&Ft&&En.alternate===null&&y(De,Ft),ke=q(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En,Ft=pn}if(Jt===He.length)return _(De,Ft),xn&&Ls(De,Jt),Lt;if(Ft===null){for(;Jt<He.length;Jt++)Ft=st(De,He[Jt],rt),Ft!==null&&(ke=q(Ft,ke,Jt),vn===null?Lt=Ft:vn.sibling=Ft,vn=Ft);return xn&&Ls(De,Jt),Lt}for(Ft=O(Ft);Jt<He.length;Jt++)pn=qe(Ft,De,Jt,He[Jt],rt),pn!==null&&(d&&pn.alternate!==null&&Ft.delete(pn.key===null?Jt:pn.key),ke=q(pn,ke,Jt),vn===null?Lt=pn:vn.sibling=pn,vn=pn);return d&&Ft.forEach(function(Ii){return y(De,Ii)}),xn&&Ls(De,Jt),Lt}function Qt(De,ke,He,rt){if(He==null)throw Error(s(151));for(var Lt=null,vn=null,Ft=ke,Jt=ke=0,pn=null,En=He.next();Ft!==null&&!En.done;Jt++,En=He.next()){Ft.index>Jt?(pn=Ft,Ft=null):pn=Ft.sibling;var Ii=Ve(De,Ft,En.value,rt);if(Ii===null){Ft===null&&(Ft=pn);break}d&&Ft&&Ii.alternate===null&&y(De,Ft),ke=q(Ii,ke,Jt),vn===null?Lt=Ii:vn.sibling=Ii,vn=Ii,Ft=pn}if(En.done)return _(De,Ft),xn&&Ls(De,Jt),Lt;if(Ft===null){for(;!En.done;Jt++,En=He.next())En=st(De,En.value,rt),En!==null&&(ke=q(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En);return xn&&Ls(De,Jt),Lt}for(Ft=O(Ft);!En.done;Jt++,En=He.next())En=qe(Ft,De,Jt,En.value,rt),En!==null&&(d&&En.alternate!==null&&Ft.delete(En.key===null?Jt:En.key),ke=q(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En);return d&&Ft.forEach(function(cp){return y(De,cp)}),xn&&Ls(De,Jt),Lt}function Mn(De,ke,He,rt){if(typeof He=="object"&&He!==null&&He.type===j&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case k:e:{for(var Lt=He.key;ke!==null;){if(ke.key===Lt){if(Lt=He.type,Lt===j){if(ke.tag===7){_(De,ke.sibling),rt=K(ke,He.props.children),rt.return=De,De=rt;break e}}else if(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===re&&zi(Lt)===ke.type){_(De,ke.sibling),rt=K(ke,He.props),Xa(rt,He),rt.return=De,De=rt;break e}_(De,ke);break}else y(De,ke);ke=ke.sibling}He.type===j?(rt=$i(He.props.children,De.mode,rt,He.key),rt.return=De,De=rt):(rt=$o(He.type,He.key,He.props,null,De.mode,rt),Xa(rt,He),rt.return=De,De=rt)}return Ae(De);case M:e:{for(Lt=He.key;ke!==null;){if(ke.key===Lt)if(ke.tag===4&&ke.stateNode.containerInfo===He.containerInfo&&ke.stateNode.implementation===He.implementation){_(De,ke.sibling),rt=K(ke,He.children||[]),rt.return=De,De=rt;break e}else{_(De,ke);break}else y(De,ke);ke=ke.sibling}rt=Xl(He,De.mode,rt),rt.return=De,De=rt}return Ae(De);case re:return He=zi(He),Mn(De,ke,He,rt)}if(he(He))return St(De,ke,He,rt);if(me(He)){if(Lt=me(He),typeof Lt!="function")throw Error(s(150));return He=Lt.call(He),Qt(De,ke,He,rt)}if(typeof He.then=="function")return Mn(De,ke,Ko(He),rt);if(He.$$typeof===H)return Mn(De,ke,Qo(De,He),rt);Wo(De,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,ke!==null&&ke.tag===6?(_(De,ke.sibling),rt=K(ke,He),rt.return=De,De=rt):(_(De,ke),rt=ql(He,De.mode,rt),rt.return=De,De=rt),Ae(De)):_(De,ke)}return function(De,ke,He,rt){try{qa=0;var Lt=Mn(De,ke,He,rt);return ga=null,Lt}catch(Ft){if(Ft===ma||Ft===zo)throw Ft;var vn=Kr(29,Ft,null,De.mode);return vn.lanes=rt,vn.return=De,vn}finally{}}}var Ki=JA(!0),ZA=JA(!1),fi=!1;function lc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(d,y){d=d.updateQueue,y.updateQueue===d&&(y.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function hi(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function pi(d,y,_){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(bn&2)!==0){var K=O.pending;return K===null?y.next=y:(y.next=K.next,K.next=y),O.pending=y,y=Po(d),DA(d,null,_),y}return jo(d,O,y,_),Po(d)}function Ya(d,y,_){if(y=y.updateQueue,y!==null&&(y=y.shared,(_&4194048)!==0)){var O=y.lanes;O&=d.pendingLanes,_|=O,y.lanes=_,Oe(d,_)}}function Ac(d,y){var _=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,_===O)){var K=null,q=null;if(_=_.firstBaseUpdate,_!==null){do{var Ae={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};q===null?K=q=Ae:q=q.next=Ae,_=_.next}while(_!==null);q===null?K=q=y:q=q.next=y}else K=q=y;_={baseState:O.baseState,firstBaseUpdate:K,lastBaseUpdate:q,shared:O.shared,callbacks:O.callbacks},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=y:d.next=y,_.lastBaseUpdate=y}var uc=!1;function Ja(){if(uc){var d=pa;if(d!==null)throw d}}function Za(d,y,_,O){uc=!1;var K=d.updateQueue;fi=!1;var q=K.firstBaseUpdate,Ae=K.lastBaseUpdate,ge=K.shared.pending;if(ge!==null){K.shared.pending=null;var Re=ge,Qe=Re.next;Re.next=null,Ae===null?q=Qe:Ae.next=Qe,Ae=Re;var nt=d.alternate;nt!==null&&(nt=nt.updateQueue,ge=nt.lastBaseUpdate,ge!==Ae&&(ge===null?nt.firstBaseUpdate=Qe:ge.next=Qe,nt.lastBaseUpdate=Re))}if(q!==null){var st=K.baseState;Ae=0,nt=Qe=Re=null,ge=q;do{var Ve=ge.lane&-536870913,qe=Ve!==ge.lane;if(qe?(hn&Ve)===Ve:(O&Ve)===Ve){Ve!==0&&Ve===ha&&(uc=!0),nt!==null&&(nt=nt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var St=d,Qt=ge;Ve=y;var Mn=_;switch(Qt.tag){case 1:if(St=Qt.payload,typeof St=="function"){st=St.call(Mn,st,Ve);break e}st=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Qt.payload,Ve=typeof St=="function"?St.call(Mn,st,Ve):St,Ve==null)break e;st=S({},st,Ve);break e;case 2:fi=!0}}Ve=ge.callback,Ve!==null&&(d.flags|=64,qe&&(d.flags|=8192),qe=K.callbacks,qe===null?K.callbacks=[Ve]:qe.push(Ve))}else qe={lane:Ve,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},nt===null?(Qe=nt=qe,Re=st):nt=nt.next=qe,Ae|=Ve;if(ge=ge.next,ge===null){if(ge=K.shared.pending,ge===null)break;qe=ge,ge=qe.next,qe.next=null,K.lastBaseUpdate=qe,K.shared.pending=null}}while(!0);nt===null&&(Re=st),K.baseState=Re,K.firstBaseUpdate=Qe,K.lastBaseUpdate=nt,q===null&&(K.shared.lanes=0),vi|=Ae,d.lanes=Ae,d.memoizedState=st}}function eu(d,y){if(typeof d!="function")throw Error(s(191,d));d.call(y)}function tu(d,y){var _=d.callbacks;if(_!==null)for(d.callbacks=null,d=0;d<_.length;d++)eu(_[d],y)}var xa=ce(null),qo=ce(0);function nu(d,y){d=Ws,Se(qo,d),Se(xa,y),Ws=d|y.baseLanes}function dc(){Se(qo,Ws),Se(xa,xa.current)}function fc(){Ws=qo.current,ye(xa),ye(qo)}var Wr=ce(null),As=null;function mi(d){var y=d.alternate;Se(sr,sr.current&1),Se(Wr,d),As===null&&(y===null||xa.current!==null||y.memoizedState!==null)&&(As=d)}function hc(d){Se(sr,sr.current),Se(Wr,d),As===null&&(As=d)}function ru(d){d.tag===22?(Se(sr,sr.current),Se(Wr,d),As===null&&(As=d)):gi()}function gi(){Se(sr,sr.current),Se(Wr,Wr.current)}function qr(d){ye(Wr),As===d&&(As=null),ye(sr)}var sr=ce(0);function Xo(d){for(var y=d;y!==null;){if(y.tag===13){var _=y.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||vA(_)||EA(_)))return y}else if(y.tag===19&&(y.memoizedProps.revealOrder==="forwards"||y.memoizedProps.revealOrder==="backwards"||y.memoizedProps.revealOrder==="unstable_legacy-backwards"||y.memoizedProps.revealOrder==="together")){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var $s=0,Xt=null,Fn=null,cr=null,Yo=!1,ya=!1,Wi=!1,Jo=0,eo=0,va=null,Yf=0;function Zn(){throw Error(s(321))}function pc(d,y){if(y===null)return!1;for(var _=0;_<y.length&&_<d.length;_++)if(!D(d[_],y[_]))return!1;return!0}function mc(d,y,_,O,K,q){return $s=q,Xt=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,ae.H=d===null||d.memoizedState===null?$u:Nc,Wi=!1,q=_(O,K),Wi=!1,ya&&(q=iu(y,_,O,K)),su(d),q}function su(d){ae.H=ro;var y=Fn!==null&&Fn.next!==null;if($s=0,cr=Fn=Xt=null,Yo=!1,eo=0,va=null,y)throw Error(s(300));d===null||Ar||(d=d.dependencies,d!==null&&Ho(d)&&(Ar=!0))}function iu(d,y,_,O){Xt=d;var K=0;do{if(ya&&(va=null),eo=0,ya=!1,25<=K)throw Error(s(301));if(K+=1,cr=Fn=null,d.updateQueue!=null){var q=d.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}ae.H=Uu,q=y(_,O)}while(ya);return q}function Jf(){var d=ae.H,y=d.useState()[0];return y=typeof y.then=="function"?to(y):y,d=d.useState()[0],(Fn!==null?Fn.memoizedState:null)!==d&&(Xt.flags|=1024),y}function gc(){var d=Jo!==0;return Jo=0,d}function xc(d,y,_){y.updateQueue=d.updateQueue,y.flags&=-2053,d.lanes&=~_}function yc(d){if(Yo){for(d=d.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}Yo=!1}$s=0,cr=Fn=Xt=null,ya=!1,eo=Jo=0,va=null}function Fr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Xt.memoizedState=cr=d:cr=cr.next=d,cr}function ir(){if(Fn===null){var d=Xt.alternate;d=d!==null?d.memoizedState:null}else d=Fn.next;var y=cr===null?Xt.memoizedState:cr.next;if(y!==null)cr=y,Fn=d;else{if(d===null)throw Xt.alternate===null?Error(s(467)):Error(s(310));Fn=d,d={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},cr===null?Xt.memoizedState=cr=d:cr=cr.next=d}return cr}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(d){var y=eo;return eo+=1,va===null&&(va=[]),d=qA(va,d,y),y=Xt,(cr===null?y.memoizedState:cr.next)===null&&(y=y.alternate,ae.H=y===null||y.memoizedState===null?$u:Nc),d}function el(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return to(d);if(d.$$typeof===H)return Cr(d)}throw Error(s(438,String(d)))}function vc(d){var y=null,_=Xt.updateQueue;if(_!==null&&(y=_.memoCache),y==null){var O=Xt.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(y={data:O.data.map(function(K){return K.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),_===null&&(_=Zo(),Xt.updateQueue=_),_.memoCache=y,_=y.data[y.index],_===void 0)for(_=y.data[y.index]=Array(d),O=0;O<d;O++)_[O]=xe;return y.index++,_}function Us(d,y){return typeof y=="function"?y(d):y}function tl(d){var y=ir();return Ec(y,Fn,d)}function Ec(d,y,_){var O=d.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=_;var K=d.baseQueue,q=O.pending;if(q!==null){if(K!==null){var Ae=K.next;K.next=q.next,q.next=Ae}y.baseQueue=K=q,O.pending=null}if(q=d.baseState,K===null)d.memoizedState=q;else{y=K.next;var ge=Ae=null,Re=null,Qe=y,nt=!1;do{var st=Qe.lane&-536870913;if(st!==Qe.lane?(hn&st)===st:($s&st)===st){var Ve=Qe.revertLane;if(Ve===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),st===ha&&(nt=!0);else if(($s&Ve)===Ve){Qe=Qe.next,Ve===ha&&(nt=!0);continue}else st={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Re===null?(ge=Re=st,Ae=q):Re=Re.next=st,Xt.lanes|=Ve,vi|=Ve;st=Qe.action,Wi&&_(q,st),q=Qe.hasEagerState?Qe.eagerState:_(q,st)}else Ve={lane:st,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Re===null?(ge=Re=Ve,Ae=q):Re=Re.next=Ve,Xt.lanes|=st,vi|=st;Qe=Qe.next}while(Qe!==null&&Qe!==y);if(Re===null?Ae=q:Re.next=ge,!D(q,d.memoizedState)&&(Ar=!0,nt&&(_=pa,_!==null)))throw _;d.memoizedState=q,d.baseState=Ae,d.baseQueue=Re,O.lastRenderedState=q}return K===null&&(O.lanes=0),[d.memoizedState,O.dispatch]}function Cc(d){var y=ir(),_=y.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=d;var O=_.dispatch,K=_.pending,q=y.memoizedState;if(K!==null){_.pending=null;var Ae=K=K.next;do q=d(q,Ae.action),Ae=Ae.next;while(Ae!==K);D(q,y.memoizedState)||(Ar=!0),y.memoizedState=q,y.baseQueue===null&&(y.baseState=q),_.lastRenderedState=q}return[q,O]}function au(d,y,_){var O=Xt,K=ir(),q=xn;if(q){if(_===void 0)throw Error(s(407));_=_()}else _=y();var Ae=!D((Fn||K).memoizedState,_);if(Ae&&(K.memoizedState=_,Ar=!0),K=K.queue,Bc(cu.bind(null,O,K,d),[d]),K.getSnapshot!==y||Ae||cr!==null&&cr.memoizedState.tag&1){if(O.flags|=2048,Ea(9,{destroy:void 0},lu.bind(null,O,K,_,y),null),$n===null)throw Error(s(349));q||($s&127)!==0||ou(O,y,_)}return _}function ou(d,y,_){d.flags|=16384,d={getSnapshot:y,value:_},y=Xt.updateQueue,y===null?(y=Zo(),Xt.updateQueue=y,y.stores=[d]):(_=y.stores,_===null?y.stores=[d]:_.push(d))}function lu(d,y,_,O){y.value=_,y.getSnapshot=O,Au(y)&&uu(d)}function cu(d,y,_){return _(function(){Au(y)&&uu(d)})}function Au(d){var y=d.getSnapshot;d=d.value;try{var _=y();return!D(d,_)}catch{return!0}}function uu(d){var y=Pi(d,2);y!==null&&Hr(y,d,2)}function wc(d){var y=Fr();if(typeof d=="function"){var _=d;if(d=_(),Wi){ut(!0);try{_()}finally{ut(!1)}}}return y.memoizedState=y.baseState=d,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:d},y}function du(d,y,_,O){return d.baseState=_,Ec(d,Fn,typeof O=="function"?O:Us)}function Zf(d,y,_,O,K){if(sl(d))throw Error(s(485));if(d=y.action,d!==null){var q={payload:K,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ae){q.listeners.push(Ae)}};ae.T!==null?_(!0):q.isTransition=!1,O(q),_=y.pending,_===null?(q.next=y.pending=q,fu(y,q)):(q.next=_.next,y.pending=_.next=q)}}function fu(d,y){var _=y.action,O=y.payload,K=d.state;if(y.isTransition){var q=ae.T,Ae={};ae.T=Ae;try{var ge=_(K,O),Re=ae.S;Re!==null&&Re(Ae,ge),hu(d,y,ge)}catch(Qe){bc(d,y,Qe)}finally{q!==null&&Ae.types!==null&&(q.types=Ae.types),ae.T=q}}else try{q=_(K,O),hu(d,y,q)}catch(Qe){bc(d,y,Qe)}}function hu(d,y,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(O){pu(d,y,O)},function(O){return bc(d,y,O)}):pu(d,y,_)}function pu(d,y,_){y.status="fulfilled",y.value=_,mu(y),d.state=_,y=d.pending,y!==null&&(_=y.next,_===y?d.pending=null:(_=_.next,y.next=_,fu(d,_)))}function bc(d,y,_){var O=d.pending;if(d.pending=null,O!==null){O=O.next;do y.status="rejected",y.reason=_,mu(y),y=y.next;while(y!==O)}d.action=null}function mu(d){d=d.listeners;for(var y=0;y<d.length;y++)(0,d[y])()}function gu(d,y){return y}function xu(d,y){if(xn){var _=$n.formState;if(_!==null){e:{var O=Xt;if(xn){if(zn){t:{for(var K=zn,q=cs;K.nodeType!==8;){if(!q){K=null;break t}if(K=us(K.nextSibling),K===null){K=null;break t}}q=K.data,K=q==="F!"||q==="F"?K:null}if(K){zn=us(K.nextSibling),O=K.data==="F!";break e}}ui(O)}O=!1}O&&(y=_[0])}}return _=Fr(),_.memoizedState=_.baseState=y,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:y},_.queue=O,_=Lu.bind(null,Xt,O),O.dispatch=_,O=wc(!1),q=Ic.bind(null,Xt,!1,O.queue),O=Fr(),K={state:y,dispatch:null,action:d,pending:null},O.queue=K,_=Zf.bind(null,Xt,K,q,_),K.dispatch=_,O.memoizedState=d,[y,_,!1]}function yu(d){var y=ir();return vu(y,Fn,d)}function vu(d,y,_){if(y=Ec(d,y,gu)[0],d=tl(Us)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var O=to(y)}catch(Ae){throw Ae===ma?zo:Ae}else O=y;y=ir();var K=y.queue,q=K.dispatch;return _!==y.memoizedState&&(Xt.flags|=2048,Ea(9,{destroy:void 0},eh.bind(null,K,_),null)),[O,q,d]}function eh(d,y){d.action=y}function Eu(d){var y=ir(),_=Fn;if(_!==null)return vu(y,_,d);ir(),y=y.memoizedState,_=ir();var O=_.queue.dispatch;return _.memoizedState=d,[y,O,!1]}function Ea(d,y,_,O){return d={tag:d,create:_,deps:O,inst:y,next:null},y=Xt.updateQueue,y===null&&(y=Zo(),Xt.updateQueue=y),_=y.lastEffect,_===null?y.lastEffect=d.next=d:(O=_.next,_.next=d,d.next=O,y.lastEffect=d),d}function Cu(){return ir().memoizedState}function nl(d,y,_,O){var K=Fr();Xt.flags|=d,K.memoizedState=Ea(1|y,{destroy:void 0},_,O===void 0?null:O)}function rl(d,y,_,O){var K=ir();O=O===void 0?null:O;var q=K.memoizedState.inst;Fn!==null&&O!==null&&pc(O,Fn.memoizedState.deps)?K.memoizedState=Ea(y,q,_,O):(Xt.flags|=d,K.memoizedState=Ea(1|y,q,_,O))}function wu(d,y){nl(8390656,8,d,y)}function Bc(d,y){rl(2048,8,d,y)}function th(d){Xt.flags|=4;var y=Xt.updateQueue;if(y===null)y=Zo(),Xt.updateQueue=y,y.events=[d];else{var _=y.events;_===null?y.events=[d]:_.push(d)}}function bu(d){var y=ir().memoizedState;return th({ref:y,nextImpl:d}),function(){if((bn&2)!==0)throw Error(s(440));return y.impl.apply(void 0,arguments)}}function Bu(d,y){return rl(4,2,d,y)}function _u(d,y){return rl(4,4,d,y)}function Su(d,y){if(typeof y=="function"){d=d();var _=y(d);return function(){typeof _=="function"?_():y(null)}}if(y!=null)return d=d(),y.current=d,function(){y.current=null}}function Tu(d,y,_){_=_!=null?_.concat([d]):null,rl(4,4,Su.bind(null,y,d),_)}function _c(){}function Ru(d,y){var _=ir();y=y===void 0?null:y;var O=_.memoizedState;return y!==null&&pc(y,O[1])?O[0]:(_.memoizedState=[d,y],d)}function Iu(d,y){var _=ir();y=y===void 0?null:y;var O=_.memoizedState;if(y!==null&&pc(y,O[1]))return O[0];if(O=d(),Wi){ut(!0);try{d()}finally{ut(!1)}}return _.memoizedState=[O,y],O}function Sc(d,y,_){return _===void 0||($s&1073741824)!==0&&(hn&261930)===0?d.memoizedState=y:(d.memoizedState=_,d=Nd(),Xt.lanes|=d,vi|=d,_)}function Nu(d,y,_,O){return D(_,y)?_:xa.current!==null?(d=Sc(d,_,O),D(d,y)||(Ar=!0),d):($s&42)===0||($s&1073741824)!==0&&(hn&261930)===0?(Ar=!0,d.memoizedState=_):(d=Nd(),Xt.lanes|=d,vi|=d,y)}function Fu(d,y,_,O,K){var q=ue.p;ue.p=q!==0&&8>q?q:8;var Ae=ae.T,ge={};ae.T=ge,Ic(d,!1,y,_);try{var Re=K(),Qe=ae.S;if(Qe!==null&&Qe(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var nt=Xf(Re,O);no(d,y,nt,Jr(d))}else no(d,y,O,Jr(d))}catch(st){no(d,y,{then:function(){},status:"rejected",reason:st},Jr())}finally{ue.p=q,Ae!==null&&ge.types!==null&&(Ae.types=ge.types),ae.T=Ae}}function nh(){}function Tc(d,y,_,O){if(d.tag!==5)throw Error(s(476));var K=ku(d).queue;Fu(d,K,y,te,_===null?nh:function(){return Mu(d),_(O)})}function ku(d){var y=d.memoizedState;if(y!==null)return y;y={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:te},next:null};var _={};return y.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:_},next:null},d.memoizedState=y,d=d.alternate,d!==null&&(d.memoizedState=y),y}function Mu(d){var y=ku(d);y.next===null&&(y=d.alternate.memoizedState),no(d,y.next.queue,{},Jr())}function Rc(){return Cr(vo)}function Ou(){return ir().memoizedState}function Du(){return ir().memoizedState}function rh(d){for(var y=d.return;y!==null;){switch(y.tag){case 24:case 3:var _=Jr();d=hi(_);var O=pi(y,d,_);O!==null&&(Hr(O,y,_),Ya(O,y,_)),y={cache:sc()},d.payload=y;return}y=y.return}}function sh(d,y,_){var O=Jr();_={lane:O,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},sl(d)?ju(y,_):(_=Kl(d,y,_,O),_!==null&&(Hr(_,d,O),Pu(_,y,O)))}function Lu(d,y,_){var O=Jr();no(d,y,_,O)}function no(d,y,_,O){var K={lane:O,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(sl(d))ju(y,K);else{var q=d.alternate;if(d.lanes===0&&(q===null||q.lanes===0)&&(q=y.lastRenderedReducer,q!==null))try{var Ae=y.lastRenderedState,ge=q(Ae,_);if(K.hasEagerState=!0,K.eagerState=ge,D(ge,Ae))return jo(d,y,K,0),$n===null&&Lo(),!1}catch{}finally{}if(_=Kl(d,y,K,O),_!==null)return Hr(_,d,O),Pu(_,y,O),!0}return!1}function Ic(d,y,_,O){if(O={lane:2,revertLane:lA(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},sl(d)){if(y)throw Error(s(479))}else y=Kl(d,_,O,2),y!==null&&Hr(y,d,2)}function sl(d){var y=d.alternate;return d===Xt||y!==null&&y===Xt}function ju(d,y){ya=Yo=!0;var _=d.pending;_===null?y.next=y:(y.next=_.next,_.next=y),d.pending=y}function Pu(d,y,_){if((_&4194048)!==0){var O=y.lanes;O&=d.pendingLanes,_|=O,y.lanes=_,Oe(d,_)}}var ro={readContext:Cr,use:el,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};ro.useEffectEvent=Zn;var $u={readContext:Cr,use:el,useCallback:function(d,y){return Fr().memoizedState=[d,y===void 0?null:y],d},useContext:Cr,useEffect:wu,useImperativeHandle:function(d,y,_){_=_!=null?_.concat([d]):null,nl(4194308,4,Su.bind(null,y,d),_)},useLayoutEffect:function(d,y){return nl(4194308,4,d,y)},useInsertionEffect:function(d,y){nl(4,2,d,y)},useMemo:function(d,y){var _=Fr();y=y===void 0?null:y;var O=d();if(Wi){ut(!0);try{d()}finally{ut(!1)}}return _.memoizedState=[O,y],O},useReducer:function(d,y,_){var O=Fr();if(_!==void 0){var K=_(y);if(Wi){ut(!0);try{_(y)}finally{ut(!1)}}}else K=y;return O.memoizedState=O.baseState=K,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:K},O.queue=d,d=d.dispatch=sh.bind(null,Xt,d),[O.memoizedState,d]},useRef:function(d){var y=Fr();return d={current:d},y.memoizedState=d},useState:function(d){d=wc(d);var y=d.queue,_=Lu.bind(null,Xt,y);return y.dispatch=_,[d.memoizedState,_]},useDebugValue:_c,useDeferredValue:function(d,y){var _=Fr();return Sc(_,d,y)},useTransition:function(){var d=wc(!1);return d=Fu.bind(null,Xt,d.queue,!0,!1),Fr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,y,_){var O=Xt,K=Fr();if(xn){if(_===void 0)throw Error(s(407));_=_()}else{if(_=y(),$n===null)throw Error(s(349));(hn&127)!==0||ou(O,y,_)}K.memoizedState=_;var q={value:_,getSnapshot:y};return K.queue=q,wu(cu.bind(null,O,q,d),[d]),O.flags|=2048,Ea(9,{destroy:void 0},lu.bind(null,O,q,_,y),null),_},useId:function(){var d=Fr(),y=$n.identifierPrefix;if(xn){var _=_s,O=Bs;_=(O&~(1<<32-lt(O)-1)).toString(32)+_,y="_"+y+"R_"+_,_=Jo++,0<_&&(y+="H"+_.toString(32)),y+="_"}else _=Yf++,y="_"+y+"r_"+_.toString(32)+"_";return d.memoizedState=y},useHostTransitionStatus:Rc,useFormState:xu,useActionState:xu,useOptimistic:function(d){var y=Fr();y.memoizedState=y.baseState=d;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=_,y=Ic.bind(null,Xt,!0,_),_.dispatch=y,[d,y]},useMemoCache:vc,useCacheRefresh:function(){return Fr().memoizedState=rh.bind(null,Xt)},useEffectEvent:function(d){var y=Fr(),_={impl:d};return y.memoizedState=_,function(){if((bn&2)!==0)throw Error(s(440));return _.impl.apply(void 0,arguments)}}},Nc={readContext:Cr,use:el,useCallback:Ru,useContext:Cr,useEffect:Bc,useImperativeHandle:Tu,useInsertionEffect:Bu,useLayoutEffect:_u,useMemo:Iu,useReducer:tl,useRef:Cu,useState:function(){return tl(Us)},useDebugValue:_c,useDeferredValue:function(d,y){var _=ir();return Nu(_,Fn.memoizedState,d,y)},useTransition:function(){var d=tl(Us)[0],y=ir().memoizedState;return[typeof d=="boolean"?d:to(d),y]},useSyncExternalStore:au,useId:Ou,useHostTransitionStatus:Rc,useFormState:yu,useActionState:yu,useOptimistic:function(d,y){var _=ir();return du(_,Fn,d,y)},useMemoCache:vc,useCacheRefresh:Du};Nc.useEffectEvent=bu;var Uu={readContext:Cr,use:el,useCallback:Ru,useContext:Cr,useEffect:Bc,useImperativeHandle:Tu,useInsertionEffect:Bu,useLayoutEffect:_u,useMemo:Iu,useReducer:Cc,useRef:Cu,useState:function(){return Cc(Us)},useDebugValue:_c,useDeferredValue:function(d,y){var _=ir();return Fn===null?Sc(_,d,y):Nu(_,Fn.memoizedState,d,y)},useTransition:function(){var d=Cc(Us)[0],y=ir().memoizedState;return[typeof d=="boolean"?d:to(d),y]},useSyncExternalStore:au,useId:Ou,useHostTransitionStatus:Rc,useFormState:Eu,useActionState:Eu,useOptimistic:function(d,y){var _=ir();return Fn!==null?du(_,Fn,d,y):(_.baseState=d,[d,_.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Du};Uu.useEffectEvent=bu;function Fc(d,y,_,O){y=d.memoizedState,_=_(O,y),_=_==null?y:S({},y,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var kc={enqueueSetState:function(d,y,_){d=d._reactInternals;var O=Jr(),K=hi(O);K.payload=y,_!=null&&(K.callback=_),y=pi(d,K,O),y!==null&&(Hr(y,d,O),Ya(y,d,O))},enqueueReplaceState:function(d,y,_){d=d._reactInternals;var O=Jr(),K=hi(O);K.tag=1,K.payload=y,_!=null&&(K.callback=_),y=pi(d,K,O),y!==null&&(Hr(y,d,O),Ya(y,d,O))},enqueueForceUpdate:function(d,y){d=d._reactInternals;var _=Jr(),O=hi(_);O.tag=2,y!=null&&(O.callback=y),y=pi(d,O,_),y!==null&&(Hr(y,d,_),Ya(y,d,_))}};function Hu(d,y,_,O,K,q,Ae){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,q,Ae):y.prototype&&y.prototype.isPureReactComponent?!$(_,O)||!$(K,q):!0}function Qu(d,y,_,O){d=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(_,O),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(_,O),y.state!==d&&kc.enqueueReplaceState(y,y.state,null)}function qi(d,y){var _=y;if("ref"in y){_={};for(var O in y)O!=="ref"&&(_[O]=y[O])}if(d=d.defaultProps){_===y&&(_=S({},_));for(var K in d)_[K]===void 0&&(_[K]=d[K])}return _}function Vu(d){Do(d)}function zu(d){console.error(d)}function Gu(d){Do(d)}function il(d,y){try{var _=d.onUncaughtError;_(y.value,{componentStack:y.stack})}catch(O){setTimeout(function(){throw O})}}function Ku(d,y,_){try{var O=d.onCaughtError;O(_.value,{componentStack:_.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function Mc(d,y,_){return _=hi(_),_.tag=3,_.payload={element:null},_.callback=function(){il(d,y)},_}function Wu(d){return d=hi(d),d.tag=3,d}function qu(d,y,_,O){var K=_.type.getDerivedStateFromError;if(typeof K=="function"){var q=O.value;d.payload=function(){return K(q)},d.callback=function(){Ku(y,_,O)}}var Ae=_.stateNode;Ae!==null&&typeof Ae.componentDidCatch=="function"&&(d.callback=function(){Ku(y,_,O),typeof K!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var ge=O.stack;this.componentDidCatch(O.value,{componentStack:ge!==null?ge:""})})}function ih(d,y,_,O,K){if(_.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(y=_.alternate,y!==null&&fa(y,_,K,!0),_=Wr.current,_!==null){switch(_.tag){case 31:case 13:return As===null?gl():_.alternate===null&&er===0&&(er=3),_.flags&=-257,_.flags|=65536,_.lanes=K,O===Go?_.flags|=16384:(y=_.updateQueue,y===null?_.updateQueue=new Set([O]):y.add(O),iA(d,O,K)),!1;case 22:return _.flags|=65536,O===Go?_.flags|=16384:(y=_.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([O])},_.updateQueue=y):(_=y.retryQueue,_===null?y.retryQueue=new Set([O]):_.add(O)),iA(d,O,K)),!1}throw Error(s(435,_.tag))}return iA(d,O,K),gl(),!1}if(xn)return y=Wr.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=K,O!==Zl&&(d=Error(s(422),{cause:O}),Ga(is(d,_)))):(O!==Zl&&(y=Error(s(423),{cause:O}),Ga(is(y,_))),d=d.current.alternate,d.flags|=65536,K&=-K,d.lanes|=K,O=is(O,_),K=Mc(d.stateNode,O,K),Ac(d,K),er!==4&&(er=2)),!1;var q=Error(s(520),{cause:O});if(q=is(q,_),uo===null?uo=[q]:uo.push(q),er!==4&&(er=2),y===null)return!0;O=is(O,_),_=y;do{switch(_.tag){case 3:return _.flags|=65536,d=K&-K,_.lanes|=d,d=Mc(_.stateNode,O,d),Ac(_,d),!1;case 1:if(y=_.type,q=_.stateNode,(_.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ei===null||!Ei.has(q))))return _.flags|=65536,K&=-K,_.lanes|=K,K=Wu(K),qu(K,d,_,O),Ac(_,K),!1}_=_.return}while(_!==null);return!1}var Oc=Error(s(461)),Ar=!1;function wr(d,y,_,O){y.child=d===null?ZA(y,null,_,O):Ki(y,d.child,_,O)}function Xu(d,y,_,O,K){_=_.render;var q=y.ref;if("ref"in O){var Ae={};for(var ge in O)ge!=="ref"&&(Ae[ge]=O[ge])}else Ae=O;return Qi(y),O=mc(d,y,_,Ae,q,K),ge=gc(),d!==null&&!Ar?(xc(d,y,K),Hs(d,y,K)):(xn&&ge&&Yl(y),y.flags|=1,wr(d,y,O,K),y.child)}function Yu(d,y,_,O,K){if(d===null){var q=_.type;return typeof q=="function"&&!Wl(q)&&q.defaultProps===void 0&&_.compare===null?(y.tag=15,y.type=q,Ju(d,y,q,O,K)):(d=$o(_.type,null,O,y,y.mode,K),d.ref=y.ref,d.return=y,y.child=d)}if(q=d.child,!Qc(d,K)){var Ae=q.memoizedProps;if(_=_.compare,_=_!==null?_:$,_(Ae,O)&&d.ref===y.ref)return Hs(d,y,K)}return y.flags|=1,d=Ds(q,O),d.ref=y.ref,d.return=y,y.child=d}function Ju(d,y,_,O,K){if(d!==null){var q=d.memoizedProps;if($(q,O)&&d.ref===y.ref)if(Ar=!1,y.pendingProps=O=q,Qc(d,K))(d.flags&131072)!==0&&(Ar=!0);else return y.lanes=d.lanes,Hs(d,y,K)}return Dc(d,y,_,O,K)}function Zu(d,y,_,O){var K=O.children,q=d!==null?d.memoizedState:null;if(d===null&&y.stateNode===null&&(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((y.flags&128)!==0){if(q=q!==null?q.baseLanes|_:_,d!==null){for(O=y.child=d.child,K=0;O!==null;)K=K|O.lanes|O.childLanes,O=O.sibling;O=K&~q}else O=0,y.child=null;return ed(d,y,q,_,O)}if((_&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},d!==null&&Vo(y,q!==null?q.cachePool:null),q!==null?nu(y,q):dc(),ru(y);else return O=y.lanes=536870912,ed(d,y,q!==null?q.baseLanes|_:_,_,O)}else q!==null?(Vo(y,q.cachePool),nu(y,q),gi(),y.memoizedState=null):(d!==null&&Vo(y,null),dc(),gi());return wr(d,y,K,_),y.child}function so(d,y){return d!==null&&d.tag===22||y.stateNode!==null||(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.sibling}function ed(d,y,_,O,K){var q=ac();return q=q===null?null:{parent:lr._currentValue,pool:q},y.memoizedState={baseLanes:_,cachePool:q},d!==null&&Vo(y,null),dc(),ru(y),d!==null&&fa(d,y,O,!0),y.childLanes=K,null}function al(d,y){return y=ll({mode:y.mode,children:y.children},d.mode),y.ref=d.ref,d.child=y,y.return=d,y}function td(d,y,_){return Ki(y,d.child,null,_),d=al(y,y.pendingProps),d.flags|=2,qr(y),y.memoizedState=null,d}function ah(d,y,_){var O=y.pendingProps,K=(y.flags&128)!==0;if(y.flags&=-129,d===null){if(xn){if(O.mode==="hidden")return d=al(y,O),y.lanes=536870912,so(null,d);if(hc(y),(d=zn)?(d=hf(d,cs),d=d!==null&&d.data==="&"?d:null,d!==null&&(y.memoizedState={dehydrated:d,treeContext:ci!==null?{id:Bs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},_=jA(d),_.return=y,y.child=_,Er=y,zn=null)):d=null,d===null)throw ui(y);return y.lanes=536870912,null}return al(y,O)}var q=d.memoizedState;if(q!==null){var Ae=q.dehydrated;if(hc(y),K)if(y.flags&256)y.flags&=-257,y=td(d,y,_);else if(y.memoizedState!==null)y.child=d.child,y.flags|=128,y=null;else throw Error(s(558));else if(Ar||fa(d,y,_,!1),K=(_&d.childLanes)!==0,Ar||K){if(O=$n,O!==null&&(Ae=Ge(O,_),Ae!==0&&Ae!==q.retryLane))throw q.retryLane=Ae,Pi(d,Ae),Hr(O,d,Ae),Oc;gl(),y=td(d,y,_)}else d=q.treeContext,zn=us(Ae.nextSibling),Er=y,xn=!0,Ai=null,cs=!1,d!==null&&UA(y,d),y=al(y,O),y.flags|=4096;return y}return d=Ds(d.child,{mode:O.mode,children:O.children}),d.ref=y.ref,y.child=d,d.return=y,d}function ol(d,y){var _=y.ref;if(_===null)d!==null&&d.ref!==null&&(y.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(s(284));(d===null||d.ref!==_)&&(y.flags|=4194816)}}function Dc(d,y,_,O,K){return Qi(y),_=mc(d,y,_,O,void 0,K),O=gc(),d!==null&&!Ar?(xc(d,y,K),Hs(d,y,K)):(xn&&O&&Yl(y),y.flags|=1,wr(d,y,_,K),y.child)}function nd(d,y,_,O,K,q){return Qi(y),y.updateQueue=null,_=iu(y,O,_,K),su(d),O=gc(),d!==null&&!Ar?(xc(d,y,q),Hs(d,y,q)):(xn&&O&&Yl(y),y.flags|=1,wr(d,y,_,q),y.child)}function rd(d,y,_,O,K){if(Qi(y),y.stateNode===null){var q=ca,Ae=_.contextType;typeof Ae=="object"&&Ae!==null&&(q=Cr(Ae)),q=new _(O,q),y.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=kc,y.stateNode=q,q._reactInternals=y,q=y.stateNode,q.props=O,q.state=y.memoizedState,q.refs={},lc(y),Ae=_.contextType,q.context=typeof Ae=="object"&&Ae!==null?Cr(Ae):ca,q.state=y.memoizedState,Ae=_.getDerivedStateFromProps,typeof Ae=="function"&&(Fc(y,_,Ae,O),q.state=y.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(Ae=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),Ae!==q.state&&kc.enqueueReplaceState(q,q.state,null),Za(y,O,q,K),Ja(),q.state=y.memoizedState),typeof q.componentDidMount=="function"&&(y.flags|=4194308),O=!0}else if(d===null){q=y.stateNode;var ge=y.memoizedProps,Re=qi(_,ge);q.props=Re;var Qe=q.context,nt=_.contextType;Ae=ca,typeof nt=="object"&&nt!==null&&(Ae=Cr(nt));var st=_.getDerivedStateFromProps;nt=typeof st=="function"||typeof q.getSnapshotBeforeUpdate=="function",ge=y.pendingProps!==ge,nt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ge||Qe!==Ae)&&Qu(y,q,O,Ae),fi=!1;var Ve=y.memoizedState;q.state=Ve,Za(y,O,q,K),Ja(),Qe=y.memoizedState,ge||Ve!==Qe||fi?(typeof st=="function"&&(Fc(y,_,st,O),Qe=y.memoizedState),(Re=fi||Hu(y,_,Re,O,Ve,Qe,Ae))?(nt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(y.flags|=4194308)):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=O,y.memoizedState=Qe),q.props=O,q.state=Qe,q.context=Ae,O=Re):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),O=!1)}else{q=y.stateNode,cc(d,y),Ae=y.memoizedProps,nt=qi(_,Ae),q.props=nt,st=y.pendingProps,Ve=q.context,Qe=_.contextType,Re=ca,typeof Qe=="object"&&Qe!==null&&(Re=Cr(Qe)),ge=_.getDerivedStateFromProps,(Qe=typeof ge=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Ae!==st||Ve!==Re)&&Qu(y,q,O,Re),fi=!1,Ve=y.memoizedState,q.state=Ve,Za(y,O,q,K),Ja();var qe=y.memoizedState;Ae!==st||Ve!==qe||fi||d!==null&&d.dependencies!==null&&Ho(d.dependencies)?(typeof ge=="function"&&(Fc(y,_,ge,O),qe=y.memoizedState),(nt=fi||Hu(y,_,nt,O,Ve,qe,Re)||d!==null&&d.dependencies!==null&&Ho(d.dependencies))?(Qe||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(O,qe,Re),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(O,qe,Re)),typeof q.componentDidUpdate=="function"&&(y.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof q.componentDidUpdate!="function"||Ae===d.memoizedProps&&Ve===d.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&Ve===d.memoizedState||(y.flags|=1024),y.memoizedProps=O,y.memoizedState=qe),q.props=O,q.state=qe,q.context=Re,O=nt):(typeof q.componentDidUpdate!="function"||Ae===d.memoizedProps&&Ve===d.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&Ve===d.memoizedState||(y.flags|=1024),O=!1)}return q=O,ol(d,y),O=(y.flags&128)!==0,q||O?(q=y.stateNode,_=O&&typeof _.getDerivedStateFromError!="function"?null:q.render(),y.flags|=1,d!==null&&O?(y.child=Ki(y,d.child,null,K),y.child=Ki(y,null,_,K)):wr(d,y,_,K),y.memoizedState=q.state,d=y.child):d=Hs(d,y,K),d}function sd(d,y,_,O){return Ui(),y.flags|=256,wr(d,y,_,O),y.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(d){return{baseLanes:d,cachePool:KA()}}function Pc(d,y,_){return d=d!==null?d.childLanes&~_:0,y&&(d|=Yr),d}function id(d,y,_){var O=y.pendingProps,K=!1,q=(y.flags&128)!==0,Ae;if((Ae=q)||(Ae=d!==null&&d.memoizedState===null?!1:(sr.current&2)!==0),Ae&&(K=!0,y.flags&=-129),Ae=(y.flags&32)!==0,y.flags&=-33,d===null){if(xn){if(K?mi(y):gi(),(d=zn)?(d=hf(d,cs),d=d!==null&&d.data!=="&"?d:null,d!==null&&(y.memoizedState={dehydrated:d,treeContext:ci!==null?{id:Bs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},_=jA(d),_.return=y,y.child=_,Er=y,zn=null)):d=null,d===null)throw ui(y);return EA(d)?y.lanes=32:y.lanes=536870912,null}var ge=O.children;return O=O.fallback,K?(gi(),K=y.mode,ge=ll({mode:"hidden",children:ge},K),O=$i(O,K,_,null),ge.return=y,O.return=y,ge.sibling=O,y.child=ge,O=y.child,O.memoizedState=jc(_),O.childLanes=Pc(d,Ae,_),y.memoizedState=Lc,so(null,O)):(mi(y),$c(y,ge))}var Re=d.memoizedState;if(Re!==null&&(ge=Re.dehydrated,ge!==null)){if(q)y.flags&256?(mi(y),y.flags&=-257,y=Uc(d,y,_)):y.memoizedState!==null?(gi(),y.child=d.child,y.flags|=128,y=null):(gi(),ge=O.fallback,K=y.mode,O=ll({mode:"visible",children:O.children},K),ge=$i(ge,K,_,null),ge.flags|=2,O.return=y,ge.return=y,O.sibling=ge,y.child=O,Ki(y,d.child,null,_),O=y.child,O.memoizedState=jc(_),O.childLanes=Pc(d,Ae,_),y.memoizedState=Lc,y=so(null,O));else if(mi(y),EA(ge)){if(Ae=ge.nextSibling&&ge.nextSibling.dataset,Ae)var Qe=Ae.dgst;Ae=Qe,O=Error(s(419)),O.stack="",O.digest=Ae,Ga({value:O,source:null,stack:null}),y=Uc(d,y,_)}else if(Ar||fa(d,y,_,!1),Ae=(_&d.childLanes)!==0,Ar||Ae){if(Ae=$n,Ae!==null&&(O=Ge(Ae,_),O!==0&&O!==Re.retryLane))throw Re.retryLane=O,Pi(d,O),Hr(Ae,d,O),Oc;vA(ge)||gl(),y=Uc(d,y,_)}else vA(ge)?(y.flags|=192,y.child=d.child,y=null):(d=Re.treeContext,zn=us(ge.nextSibling),Er=y,xn=!0,Ai=null,cs=!1,d!==null&&UA(y,d),y=$c(y,O.children),y.flags|=4096);return y}return K?(gi(),ge=O.fallback,K=y.mode,Re=d.child,Qe=Re.sibling,O=Ds(Re,{mode:"hidden",children:O.children}),O.subtreeFlags=Re.subtreeFlags&65011712,Qe!==null?ge=Ds(Qe,ge):(ge=$i(ge,K,_,null),ge.flags|=2),ge.return=y,O.return=y,O.sibling=ge,y.child=O,so(null,O),O=y.child,ge=d.child.memoizedState,ge===null?ge=jc(_):(K=ge.cachePool,K!==null?(Re=lr._currentValue,K=K.parent!==Re?{parent:Re,pool:Re}:K):K=KA(),ge={baseLanes:ge.baseLanes|_,cachePool:K}),O.memoizedState=ge,O.childLanes=Pc(d,Ae,_),y.memoizedState=Lc,so(d.child,O)):(mi(y),_=d.child,d=_.sibling,_=Ds(_,{mode:"visible",children:O.children}),_.return=y,_.sibling=null,d!==null&&(Ae=y.deletions,Ae===null?(y.deletions=[d],y.flags|=16):Ae.push(d)),y.child=_,y.memoizedState=null,_)}function $c(d,y){return y=ll({mode:"visible",children:y},d.mode),y.return=d,d.child=y}function ll(d,y){return d=Kr(22,d,null,y),d.lanes=0,d}function Uc(d,y,_){return Ki(y,d.child,null,_),d=$c(y,y.pendingProps.children),d.flags|=2,y.memoizedState=null,d}function ad(d,y,_){d.lanes|=y;var O=d.alternate;O!==null&&(O.lanes|=y),nc(d.return,y,_)}function Hc(d,y,_,O,K,q){var Ae=d.memoizedState;Ae===null?d.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:O,tail:_,tailMode:K,treeForkCount:q}:(Ae.isBackwards=y,Ae.rendering=null,Ae.renderingStartTime=0,Ae.last=O,Ae.tail=_,Ae.tailMode=K,Ae.treeForkCount=q)}function od(d,y,_){var O=y.pendingProps,K=O.revealOrder,q=O.tail;O=O.children;var Ae=sr.current,ge=(Ae&2)!==0;if(ge?(Ae=Ae&1|2,y.flags|=128):Ae&=1,Se(sr,Ae),wr(d,y,O,_),O=xn?za:0,!ge&&d!==null&&(d.flags&128)!==0)e:for(d=y.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ad(d,_,y);else if(d.tag===19)ad(d,_,y);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===y)break e;for(;d.sibling===null;){if(d.return===null||d.return===y)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(K){case"forwards":for(_=y.child,K=null;_!==null;)d=_.alternate,d!==null&&Xo(d)===null&&(K=_),_=_.sibling;_=K,_===null?(K=y.child,y.child=null):(K=_.sibling,_.sibling=null),Hc(y,!1,K,_,q,O);break;case"backwards":case"unstable_legacy-backwards":for(_=null,K=y.child,y.child=null;K!==null;){if(d=K.alternate,d!==null&&Xo(d)===null){y.child=K;break}d=K.sibling,K.sibling=_,_=K,K=d}Hc(y,!0,_,null,q,O);break;case"together":Hc(y,!1,null,null,void 0,O);break;default:y.memoizedState=null}return y.child}function Hs(d,y,_){if(d!==null&&(y.dependencies=d.dependencies),vi|=y.lanes,(_&y.childLanes)===0)if(d!==null){if(fa(d,y,_,!1),(_&y.childLanes)===0)return null}else return null;if(d!==null&&y.child!==d.child)throw Error(s(153));if(y.child!==null){for(d=y.child,_=Ds(d,d.pendingProps),y.child=_,_.return=y;d.sibling!==null;)d=d.sibling,_=_.sibling=Ds(d,d.pendingProps),_.return=y;_.sibling=null}return y.child}function Qc(d,y){return(d.lanes&y)!==0?!0:(d=d.dependencies,!!(d!==null&&Ho(d)))}function oh(d,y,_){switch(y.tag){case 3:ot(y,y.stateNode.containerInfo),di(y,lr,d.memoizedState.cache),Ui();break;case 27:case 5:It(y);break;case 4:ot(y,y.stateNode.containerInfo);break;case 10:di(y,y.type,y.memoizedProps.value);break;case 31:if(y.memoizedState!==null)return y.flags|=128,hc(y),null;break;case 13:var O=y.memoizedState;if(O!==null)return O.dehydrated!==null?(mi(y),y.flags|=128,null):(_&y.child.childLanes)!==0?id(d,y,_):(mi(y),d=Hs(d,y,_),d!==null?d.sibling:null);mi(y);break;case 19:var K=(d.flags&128)!==0;if(O=(_&y.childLanes)!==0,O||(fa(d,y,_,!1),O=(_&y.childLanes)!==0),K){if(O)return od(d,y,_);y.flags|=128}if(K=y.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Se(sr,sr.current),O)break;return null;case 22:return y.lanes=0,Zu(d,y,_,y.pendingProps);case 24:di(y,lr,d.memoizedState.cache)}return Hs(d,y,_)}function ld(d,y,_){if(d!==null)if(d.memoizedProps!==y.pendingProps)Ar=!0;else{if(!Qc(d,_)&&(y.flags&128)===0)return Ar=!1,oh(d,y,_);Ar=(d.flags&131072)!==0}else Ar=!1,xn&&(y.flags&1048576)!==0&&$A(y,za,y.index);switch(y.lanes=0,y.tag){case 16:e:{var O=y.pendingProps;if(d=zi(y.elementType),y.type=d,typeof d=="function")Wl(d)?(O=qi(d,O),y.tag=1,y=rd(null,y,d,O,_)):(y.tag=0,y=Dc(null,y,d,O,_));else{if(d!=null){var K=d.$$typeof;if(K===X){y.tag=11,y=Xu(null,y,d,O,_);break e}else if(K===Y){y.tag=14,y=Yu(null,y,d,O,_);break e}}throw y=Ee(d)||d,Error(s(306,y,""))}}return y;case 0:return Dc(d,y,y.type,y.pendingProps,_);case 1:return O=y.type,K=qi(O,y.pendingProps),rd(d,y,O,K,_);case 3:e:{if(ot(y,y.stateNode.containerInfo),d===null)throw Error(s(387));O=y.pendingProps;var q=y.memoizedState;K=q.element,cc(d,y),Za(y,O,null,_);var Ae=y.memoizedState;if(O=Ae.cache,di(y,lr,O),O!==q.cache&&rc(y,[lr],_,!0),Ja(),O=Ae.element,q.isDehydrated)if(q={element:O,isDehydrated:!1,cache:Ae.cache},y.updateQueue.baseState=q,y.memoizedState=q,y.flags&256){y=sd(d,y,O,_);break e}else if(O!==K){K=is(Error(s(424)),y),Ga(K),y=sd(d,y,O,_);break e}else{switch(d=y.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(zn=us(d.firstChild),Er=y,xn=!0,Ai=null,cs=!0,_=ZA(y,null,O,_),y.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(Ui(),O===K){y=Hs(d,y,_);break e}wr(d,y,O,_)}y=y.child}return y;case 26:return ol(d,y),d===null?(_=vf(y.type,null,y.pendingProps,null))?y.memoizedState=_:xn||(_=y.type,d=y.pendingProps,O=bl(Me.current).createElement(_),O[vt]=y,O[yt]=d,br(O,_,d),yn(O),y.stateNode=O):y.memoizedState=vf(y.type,d.memoizedProps,y.pendingProps,d.memoizedState),null;case 27:return It(y),d===null&&xn&&(O=y.stateNode=gf(y.type,y.pendingProps,Me.current),Er=y,cs=!0,K=zn,Bi(y.type)?(CA=K,zn=us(O.firstChild)):zn=K),wr(d,y,y.pendingProps.children,_),ol(d,y),d===null&&(y.flags|=4194304),y.child;case 5:return d===null&&xn&&((K=O=zn)&&(O=Lh(O,y.type,y.pendingProps,cs),O!==null?(y.stateNode=O,Er=y,zn=us(O.firstChild),cs=!1,K=!0):K=!1),K||ui(y)),It(y),K=y.type,q=y.pendingProps,Ae=d!==null?d.memoizedProps:null,O=q.children,gA(K,q)?O=null:Ae!==null&&gA(K,Ae)&&(y.flags|=32),y.memoizedState!==null&&(K=mc(d,y,Jf,null,null,_),vo._currentValue=K),ol(d,y),wr(d,y,O,_),y.child;case 6:return d===null&&xn&&((d=_=zn)&&(_=jh(_,y.pendingProps,cs),_!==null?(y.stateNode=_,Er=y,zn=null,d=!0):d=!1),d||ui(y)),null;case 13:return id(d,y,_);case 4:return ot(y,y.stateNode.containerInfo),O=y.pendingProps,d===null?y.child=Ki(y,null,O,_):wr(d,y,O,_),y.child;case 11:return Xu(d,y,y.type,y.pendingProps,_);case 7:return wr(d,y,y.pendingProps,_),y.child;case 8:return wr(d,y,y.pendingProps.children,_),y.child;case 12:return wr(d,y,y.pendingProps.children,_),y.child;case 10:return O=y.pendingProps,di(y,y.type,O.value),wr(d,y,O.children,_),y.child;case 9:return K=y.type._context,O=y.pendingProps.children,Qi(y),K=Cr(K),O=O(K),y.flags|=1,wr(d,y,O,_),y.child;case 14:return Yu(d,y,y.type,y.pendingProps,_);case 15:return Ju(d,y,y.type,y.pendingProps,_);case 19:return od(d,y,_);case 31:return ah(d,y,_);case 22:return Zu(d,y,_,y.pendingProps);case 24:return Qi(y),O=Cr(lr),d===null?(K=ac(),K===null&&(K=$n,q=sc(),K.pooledCache=q,q.refCount++,q!==null&&(K.pooledCacheLanes|=_),K=q),y.memoizedState={parent:O,cache:K},lc(y),di(y,lr,K)):((d.lanes&_)!==0&&(cc(d,y),Za(y,null,null,_),Ja()),K=d.memoizedState,q=y.memoizedState,K.parent!==O?(K={parent:O,cache:O},y.memoizedState=K,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=K),di(y,lr,O)):(O=q.cache,di(y,lr,O),O!==K.cache&&rc(y,[lr],_,!0))),wr(d,y,y.pendingProps.children,_),y.child;case 29:throw y.pendingProps}throw Error(s(156,y.tag))}function Qs(d){d.flags|=4}function Vc(d,y,_,O,K){if((y=(d.mode&32)!==0)&&(y=!1),y){if(d.flags|=16777216,(K&335544128)===K)if(d.stateNode.complete)d.flags|=8192;else if(Od())d.flags|=8192;else throw Gi=Go,oc}else d.flags&=-16777217}function cd(d,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!Bf(y))if(Od())d.flags|=8192;else throw Gi=Go,oc}function cl(d,y){y!==null&&(d.flags|=4),d.flags&16384&&(y=d.tag!==22?Dn():536870912,d.lanes|=y,Ba|=y)}function io(d,y){if(!xn)switch(d.tailMode){case"hidden":y=d.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var O=null;_!==null;)_.alternate!==null&&(O=_),_=_.sibling;O===null?y||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Gn(d){var y=d.alternate!==null&&d.alternate.child===d.child,_=0,O=0;if(y)for(var K=d.child;K!==null;)_|=K.lanes|K.childLanes,O|=K.subtreeFlags&65011712,O|=K.flags&65011712,K.return=d,K=K.sibling;else for(K=d.child;K!==null;)_|=K.lanes|K.childLanes,O|=K.subtreeFlags,O|=K.flags,K.return=d,K=K.sibling;return d.subtreeFlags|=O,d.childLanes=_,y}function lh(d,y,_){var O=y.pendingProps;switch(Jl(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(y),null;case 1:return Gn(y),null;case 3:return _=y.stateNode,O=null,d!==null&&(O=d.memoizedState.cache),y.memoizedState.cache!==O&&(y.flags|=2048),Ps(lr),Ct(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(da(y)?Qs(y):d===null||d.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,ec())),Gn(y),null;case 26:var K=y.type,q=y.memoizedState;return d===null?(Qs(y),q!==null?(Gn(y),cd(y,q)):(Gn(y),Vc(y,K,null,O,_))):q?q!==d.memoizedState?(Qs(y),Gn(y),cd(y,q)):(Gn(y),y.flags&=-16777217):(d=d.memoizedProps,d!==O&&Qs(y),Gn(y),Vc(y,K,d,O,_)),null;case 27:if(mt(y),_=Me.current,K=y.type,d!==null&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(!O){if(y.stateNode===null)throw Error(s(166));return Gn(y),null}d=_e.current,da(y)?HA(y):(d=gf(K,O,_),y.stateNode=d,Qs(y))}return Gn(y),null;case 5:if(mt(y),K=y.type,d!==null&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(!O){if(y.stateNode===null)throw Error(s(166));return Gn(y),null}if(q=_e.current,da(y))HA(y);else{var Ae=bl(Me.current);switch(q){case 1:q=Ae.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:q=Ae.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":q=Ae.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":q=Ae.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":q=Ae.createElement("div"),q.innerHTML="<script><\/script>",q=q.removeChild(q.firstChild);break;case"select":q=typeof O.is=="string"?Ae.createElement("select",{is:O.is}):Ae.createElement("select"),O.multiple?q.multiple=!0:O.size&&(q.size=O.size);break;default:q=typeof O.is=="string"?Ae.createElement(K,{is:O.is}):Ae.createElement(K)}}q[vt]=y,q[yt]=O;e:for(Ae=y.child;Ae!==null;){if(Ae.tag===5||Ae.tag===6)q.appendChild(Ae.stateNode);else if(Ae.tag!==4&&Ae.tag!==27&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===y)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===y)break e;Ae=Ae.return}Ae.sibling.return=Ae.return,Ae=Ae.sibling}y.stateNode=q;e:switch(br(q,K,O),K){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&Qs(y)}}return Gn(y),Vc(y,y.type,d===null?null:d.memoizedProps,y.pendingProps,_),null;case 6:if(d&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(typeof O!="string"&&y.stateNode===null)throw Error(s(166));if(d=Me.current,da(y)){if(d=y.stateNode,_=y.memoizedProps,O=null,K=Er,K!==null)switch(K.tag){case 27:case 5:O=K.memoizedProps}d[vt]=y,d=!!(d.nodeValue===_||O!==null&&O.suppressHydrationWarning===!0||af(d.nodeValue,_)),d||ui(y,!0)}else d=bl(d).createTextNode(O),d[vt]=y,y.stateNode=d}return Gn(y),null;case 31:if(_=y.memoizedState,d===null||d.memoizedState!==null){if(O=da(y),_!==null){if(d===null){if(!O)throw Error(s(318));if(d=y.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(557));d[vt]=y}else Ui(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Gn(y),d=!1}else _=ec(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=_),d=!0;if(!d)return y.flags&256?(qr(y),y):(qr(y),null);if((y.flags&128)!==0)throw Error(s(558))}return Gn(y),null;case 13:if(O=y.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(K=da(y),O!==null&&O.dehydrated!==null){if(d===null){if(!K)throw Error(s(318));if(K=y.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(s(317));K[vt]=y}else Ui(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Gn(y),K=!1}else K=ec(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=K),K=!0;if(!K)return y.flags&256?(qr(y),y):(qr(y),null)}return qr(y),(y.flags&128)!==0?(y.lanes=_,y):(_=O!==null,d=d!==null&&d.memoizedState!==null,_&&(O=y.child,K=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(K=O.alternate.memoizedState.cachePool.pool),q=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(q=O.memoizedState.cachePool.pool),q!==K&&(O.flags|=2048)),_!==d&&_&&(y.child.flags|=8192),cl(y,y.updateQueue),Gn(y),null);case 4:return Ct(),d===null&&dA(y.stateNode.containerInfo),Gn(y),null;case 10:return Ps(y.type),Gn(y),null;case 19:if(ye(sr),O=y.memoizedState,O===null)return Gn(y),null;if(K=(y.flags&128)!==0,q=O.rendering,q===null)if(K)io(O,!1);else{if(er!==0||d!==null&&(d.flags&128)!==0)for(d=y.child;d!==null;){if(q=Xo(d),q!==null){for(y.flags|=128,io(O,!1),d=q.updateQueue,y.updateQueue=d,cl(y,d),y.subtreeFlags=0,d=_,_=y.child;_!==null;)LA(_,d),_=_.sibling;return Se(sr,sr.current&1|2),xn&&Ls(y,O.treeForkCount),y.child}d=d.sibling}O.tail!==null&&it()>hl&&(y.flags|=128,K=!0,io(O,!1),y.lanes=4194304)}else{if(!K)if(d=Xo(q),d!==null){if(y.flags|=128,K=!0,d=d.updateQueue,y.updateQueue=d,cl(y,d),io(O,!0),O.tail===null&&O.tailMode==="hidden"&&!q.alternate&&!xn)return Gn(y),null}else 2*it()-O.renderingStartTime>hl&&_!==536870912&&(y.flags|=128,K=!0,io(O,!1),y.lanes=4194304);O.isBackwards?(q.sibling=y.child,y.child=q):(d=O.last,d!==null?d.sibling=q:y.child=q,O.last=q)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=it(),d.sibling=null,_=sr.current,Se(sr,K?_&1|2:_&1),xn&&Ls(y,O.treeForkCount),d):(Gn(y),null);case 22:case 23:return qr(y),fc(),O=y.memoizedState!==null,d!==null?d.memoizedState!==null!==O&&(y.flags|=8192):O&&(y.flags|=8192),O?(_&536870912)!==0&&(y.flags&128)===0&&(Gn(y),y.subtreeFlags&6&&(y.flags|=8192)):Gn(y),_=y.updateQueue,_!==null&&cl(y,_.retryQueue),_=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),O=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==_&&(y.flags|=2048),d!==null&&ye(Vi),null;case 24:return _=null,d!==null&&(_=d.memoizedState.cache),y.memoizedState.cache!==_&&(y.flags|=2048),Ps(lr),Gn(y),null;case 25:return null;case 30:return null}throw Error(s(156,y.tag))}function ch(d,y){switch(Jl(y),y.tag){case 1:return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 3:return Ps(lr),Ct(),d=y.flags,(d&65536)!==0&&(d&128)===0?(y.flags=d&-65537|128,y):null;case 26:case 27:case 5:return mt(y),null;case 31:if(y.memoizedState!==null){if(qr(y),y.alternate===null)throw Error(s(340));Ui()}return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 13:if(qr(y),d=y.memoizedState,d!==null&&d.dehydrated!==null){if(y.alternate===null)throw Error(s(340));Ui()}return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 19:return ye(sr),null;case 4:return Ct(),null;case 10:return Ps(y.type),null;case 22:case 23:return qr(y),fc(),d!==null&&ye(Vi),d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 24:return Ps(lr),null;case 25:return null;default:return null}}function Ad(d,y){switch(Jl(y),y.tag){case 3:Ps(lr),Ct();break;case 26:case 27:case 5:mt(y);break;case 4:Ct();break;case 31:y.memoizedState!==null&&qr(y);break;case 13:qr(y);break;case 19:ye(sr);break;case 10:Ps(y.type);break;case 22:case 23:qr(y),fc(),d!==null&&ye(Vi);break;case 24:Ps(lr)}}function ao(d,y){try{var _=y.updateQueue,O=_!==null?_.lastEffect:null;if(O!==null){var K=O.next;_=K;do{if((_.tag&d)===d){O=void 0;var q=_.create,Ae=_.inst;O=q(),Ae.destroy=O}_=_.next}while(_!==K)}}catch(ge){Rn(y,y.return,ge)}}function xi(d,y,_){try{var O=y.updateQueue,K=O!==null?O.lastEffect:null;if(K!==null){var q=K.next;O=q;do{if((O.tag&d)===d){var Ae=O.inst,ge=Ae.destroy;if(ge!==void 0){Ae.destroy=void 0,K=y;var Re=_,Qe=ge;try{Qe()}catch(nt){Rn(K,Re,nt)}}}O=O.next}while(O!==q)}}catch(nt){Rn(y,y.return,nt)}}function ud(d){var y=d.updateQueue;if(y!==null){var _=d.stateNode;try{tu(y,_)}catch(O){Rn(d,d.return,O)}}}function dd(d,y,_){_.props=qi(d.type,d.memoizedProps),_.state=d.memoizedState;try{_.componentWillUnmount()}catch(O){Rn(d,y,O)}}function oo(d,y){try{var _=d.ref;if(_!==null){switch(d.tag){case 26:case 27:case 5:var O=d.stateNode;break;case 30:O=d.stateNode;break;default:O=d.stateNode}typeof _=="function"?d.refCleanup=_(O):_.current=O}}catch(K){Rn(d,y,K)}}function Ss(d,y){var _=d.ref,O=d.refCleanup;if(_!==null)if(typeof O=="function")try{O()}catch(K){Rn(d,y,K)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(K){Rn(d,y,K)}else _.current=null}function fd(d){var y=d.type,_=d.memoizedProps,O=d.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":_.autoFocus&&O.focus();break e;case"img":_.src?O.src=_.src:_.srcSet&&(O.srcset=_.srcSet)}}catch(K){Rn(d,d.return,K)}}function zc(d,y,_){try{var O=d.stateNode;Nh(O,d.type,_,y),O[yt]=y}catch(K){Rn(d,d.return,K)}}function hd(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Bi(d.type)||d.tag===4}function Gc(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||hd(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Bi(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Kc(d,y,_){var O=d.tag;if(O===5||O===6)d=d.stateNode,y?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(d,y):(y=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,y.appendChild(d),_=_._reactRootContainer,_!=null||y.onclick!==null||(y.onclick=Or));else if(O!==4&&(O===27&&Bi(d.type)&&(_=d.stateNode,y=null),d=d.child,d!==null))for(Kc(d,y,_),d=d.sibling;d!==null;)Kc(d,y,_),d=d.sibling}function Al(d,y,_){var O=d.tag;if(O===5||O===6)d=d.stateNode,y?_.insertBefore(d,y):_.appendChild(d);else if(O!==4&&(O===27&&Bi(d.type)&&(_=d.stateNode),d=d.child,d!==null))for(Al(d,y,_),d=d.sibling;d!==null;)Al(d,y,_),d=d.sibling}function pd(d){var y=d.stateNode,_=d.memoizedProps;try{for(var O=d.type,K=y.attributes;K.length;)y.removeAttributeNode(K[0]);br(y,O,_),y[vt]=d,y[yt]=_}catch(q){Rn(d,d.return,q)}}var Vs=!1,ur=!1,Wc=!1,md=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Ah(d,y){if(d=d.containerInfo,pA=Fl,d=fe(d),pe(d)){if("selectionStart"in d)var _={start:d.selectionStart,end:d.selectionEnd};else e:{_=(_=d.ownerDocument)&&_.defaultView||window;var O=_.getSelection&&_.getSelection();if(O&&O.rangeCount!==0){_=O.anchorNode;var K=O.anchorOffset,q=O.focusNode;O=O.focusOffset;try{_.nodeType,q.nodeType}catch{_=null;break e}var Ae=0,ge=-1,Re=-1,Qe=0,nt=0,st=d,Ve=null;t:for(;;){for(var qe;st!==_||K!==0&&st.nodeType!==3||(ge=Ae+K),st!==q||O!==0&&st.nodeType!==3||(Re=Ae+O),st.nodeType===3&&(Ae+=st.nodeValue.length),(qe=st.firstChild)!==null;)Ve=st,st=qe;for(;;){if(st===d)break t;if(Ve===_&&++Qe===K&&(ge=Ae),Ve===q&&++nt===O&&(Re=Ae),(qe=st.nextSibling)!==null)break;st=Ve,Ve=st.parentNode}st=qe}_=ge===-1||Re===-1?null:{start:ge,end:Re}}else _=null}_=_||{start:0,end:0}}else _=null;for(mA={focusedElem:d,selectionRange:_},Fl=!1,yr=y;yr!==null;)if(y=yr,d=y.child,(y.subtreeFlags&1028)!==0&&d!==null)d.return=y,yr=d;else for(;yr!==null;){switch(y=yr,q=y.alternate,d=y.flags,y.tag){case 0:if((d&4)!==0&&(d=y.updateQueue,d=d!==null?d.events:null,d!==null))for(_=0;_<d.length;_++)K=d[_],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&q!==null){d=void 0,_=y,K=q.memoizedProps,q=q.memoizedState,O=_.stateNode;try{var St=qi(_.type,K);d=O.getSnapshotBeforeUpdate(St,q),O.__reactInternalSnapshotBeforeUpdate=d}catch(Qt){Rn(_,_.return,Qt)}}break;case 3:if((d&1024)!==0){if(d=y.stateNode.containerInfo,_=d.nodeType,_===9)yA(d);else if(_===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":yA(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=y.sibling,d!==null){d.return=y.return,yr=d;break}yr=y.return}}function gd(d,y,_){var O=_.flags;switch(_.tag){case 0:case 11:case 15:Gs(d,_),O&4&&ao(5,_);break;case 1:if(Gs(d,_),O&4)if(d=_.stateNode,y===null)try{d.componentDidMount()}catch(Ae){Rn(_,_.return,Ae)}else{var K=qi(_.type,y.memoizedProps);y=y.memoizedState;try{d.componentDidUpdate(K,y,d.__reactInternalSnapshotBeforeUpdate)}catch(Ae){Rn(_,_.return,Ae)}}O&64&&ud(_),O&512&&oo(_,_.return);break;case 3:if(Gs(d,_),O&64&&(d=_.updateQueue,d!==null)){if(y=null,_.child!==null)switch(_.child.tag){case 27:case 5:y=_.child.stateNode;break;case 1:y=_.child.stateNode}try{tu(d,y)}catch(Ae){Rn(_,_.return,Ae)}}break;case 27:y===null&&O&4&&pd(_);case 26:case 5:Gs(d,_),y===null&&O&4&&fd(_),O&512&&oo(_,_.return);break;case 12:Gs(d,_);break;case 31:Gs(d,_),O&4&&vd(d,_);break;case 13:Gs(d,_),O&4&&Ed(d,_),O&64&&(d=_.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(_=yh.bind(null,_),Ph(d,_))));break;case 22:if(O=_.memoizedState!==null||Vs,!O){y=y!==null&&y.memoizedState!==null||ur,K=Vs;var q=ur;Vs=O,(ur=y)&&!q?Ks(d,_,(_.subtreeFlags&8772)!==0):Gs(d,_),Vs=K,ur=q}break;case 30:break;default:Gs(d,_)}}function xd(d){var y=d.alternate;y!==null&&(d.alternate=null,xd(y)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(y=d.stateNode,y!==null&&en(y)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Yn=null,jr=!1;function zs(d,y,_){for(_=_.child;_!==null;)yd(d,y,_),_=_.sibling}function yd(d,y,_){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ze,_)}catch{}switch(_.tag){case 26:ur||Ss(_,y),zs(d,y,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:ur||Ss(_,y);var O=Yn,K=jr;Bi(_.type)&&(Yn=_.stateNode,jr=!1),zs(d,y,_),go(_.stateNode),Yn=O,jr=K;break;case 5:ur||Ss(_,y);case 6:if(O=Yn,K=jr,Yn=null,zs(d,y,_),Yn=O,jr=K,Yn!==null)if(jr)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(_.stateNode)}catch(q){Rn(_,y,q)}else try{Yn.removeChild(_.stateNode)}catch(q){Rn(_,y,q)}break;case 18:Yn!==null&&(jr?(d=Yn,df(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,_.stateNode),ka(d)):df(Yn,_.stateNode));break;case 4:O=Yn,K=jr,Yn=_.stateNode.containerInfo,jr=!0,zs(d,y,_),Yn=O,jr=K;break;case 0:case 11:case 14:case 15:xi(2,_,y),ur||xi(4,_,y),zs(d,y,_);break;case 1:ur||(Ss(_,y),O=_.stateNode,typeof O.componentWillUnmount=="function"&&dd(_,y,O)),zs(d,y,_);break;case 21:zs(d,y,_);break;case 22:ur=(O=ur)||_.memoizedState!==null,zs(d,y,_),ur=O;break;default:zs(d,y,_)}}function vd(d,y){if(y.memoizedState===null&&(d=y.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{ka(d)}catch(_){Rn(y,y.return,_)}}}function Ed(d,y){if(y.memoizedState===null&&(d=y.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{ka(d)}catch(_){Rn(y,y.return,_)}}function uh(d){switch(d.tag){case 31:case 13:case 19:var y=d.stateNode;return y===null&&(y=d.stateNode=new md),y;case 22:return d=d.stateNode,y=d._retryCache,y===null&&(y=d._retryCache=new md),y;default:throw Error(s(435,d.tag))}}function ul(d,y){var _=uh(d);y.forEach(function(O){if(!_.has(O)){_.add(O);var K=vh.bind(null,d,O);O.then(K,K)}})}function Pr(d,y){var _=y.deletions;if(_!==null)for(var O=0;O<_.length;O++){var K=_[O],q=d,Ae=y,ge=Ae;e:for(;ge!==null;){switch(ge.tag){case 27:if(Bi(ge.type)){Yn=ge.stateNode,jr=!1;break e}break;case 5:Yn=ge.stateNode,jr=!1;break e;case 3:case 4:Yn=ge.stateNode.containerInfo,jr=!0;break e}ge=ge.return}if(Yn===null)throw Error(s(160));yd(q,Ae,K),Yn=null,jr=!1,q=K.alternate,q!==null&&(q.return=null),K.return=null}if(y.subtreeFlags&13886)for(y=y.child;y!==null;)Cd(y,d),y=y.sibling}var xs=null;function Cd(d,y){var _=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Pr(y,d),$r(d),O&4&&(xi(3,d,d.return),ao(3,d),xi(5,d,d.return));break;case 1:Pr(y,d),$r(d),O&512&&(ur||_===null||Ss(_,_.return)),O&64&&Vs&&(d=d.updateQueue,d!==null&&(O=d.callbacks,O!==null&&(_=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=_===null?O:_.concat(O))));break;case 26:var K=xs;if(Pr(y,d),$r(d),O&512&&(ur||_===null||Ss(_,_.return)),O&4){var q=_!==null?_.memoizedState:null;if(O=d.memoizedState,_===null)if(O===null)if(d.stateNode===null){e:{O=d.type,_=d.memoizedProps,K=K.ownerDocument||K;t:switch(O){case"title":q=K.getElementsByTagName("title")[0],(!q||q[Hn]||q[vt]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=K.createElement(O),K.head.insertBefore(q,K.querySelector("head > title"))),br(q,O,_),q[vt]=d,yn(q),O=q;break e;case"link":var Ae=wf("link","href",K).get(O+(_.href||""));if(Ae){for(var ge=0;ge<Ae.length;ge++)if(q=Ae[ge],q.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&q.getAttribute("rel")===(_.rel==null?null:_.rel)&&q.getAttribute("title")===(_.title==null?null:_.title)&&q.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){Ae.splice(ge,1);break t}}q=K.createElement(O),br(q,O,_),K.head.appendChild(q);break;case"meta":if(Ae=wf("meta","content",K).get(O+(_.content||""))){for(ge=0;ge<Ae.length;ge++)if(q=Ae[ge],q.getAttribute("content")===(_.content==null?null:""+_.content)&&q.getAttribute("name")===(_.name==null?null:_.name)&&q.getAttribute("property")===(_.property==null?null:_.property)&&q.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&q.getAttribute("charset")===(_.charSet==null?null:_.charSet)){Ae.splice(ge,1);break t}}q=K.createElement(O),br(q,O,_),K.head.appendChild(q);break;default:throw Error(s(468,O))}q[vt]=d,yn(q),O=q}d.stateNode=O}else bf(K,d.type,d.stateNode);else d.stateNode=Cf(K,O,d.memoizedProps);else q!==O?(q===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):q.count--,O===null?bf(K,d.type,d.stateNode):Cf(K,O,d.memoizedProps)):O===null&&d.stateNode!==null&&zc(d,d.memoizedProps,_.memoizedProps)}break;case 27:Pr(y,d),$r(d),O&512&&(ur||_===null||Ss(_,_.return)),_!==null&&O&4&&zc(d,d.memoizedProps,_.memoizedProps);break;case 5:if(Pr(y,d),$r(d),O&512&&(ur||_===null||Ss(_,_.return)),d.flags&32){K=d.stateNode;try{ei(K,"")}catch(St){Rn(d,d.return,St)}}O&4&&d.stateNode!=null&&(K=d.memoizedProps,zc(d,K,_!==null?_.memoizedProps:K)),O&1024&&(Wc=!0);break;case 6:if(Pr(y,d),$r(d),O&4){if(d.stateNode===null)throw Error(s(162));O=d.memoizedProps,_=d.stateNode;try{_.nodeValue=O}catch(St){Rn(d,d.return,St)}}break;case 3:if(Sl=null,K=xs,xs=Bl(y.containerInfo),Pr(y,d),xs=K,$r(d),O&4&&_!==null&&_.memoizedState.isDehydrated)try{ka(y.containerInfo)}catch(St){Rn(d,d.return,St)}Wc&&(Wc=!1,wd(d));break;case 4:O=xs,xs=Bl(d.stateNode.containerInfo),Pr(y,d),$r(d),xs=O;break;case 12:Pr(y,d),$r(d);break;case 31:Pr(y,d),$r(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 13:Pr(y,d),$r(d),d.child.flags&8192&&d.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(fl=it()),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 22:K=d.memoizedState!==null;var Re=_!==null&&_.memoizedState!==null,Qe=Vs,nt=ur;if(Vs=Qe||K,ur=nt||Re,Pr(y,d),ur=nt,Vs=Qe,$r(d),O&8192)e:for(y=d.stateNode,y._visibility=K?y._visibility&-2:y._visibility|1,K&&(_===null||Re||Vs||ur||Xi(d)),_=null,y=d;;){if(y.tag===5||y.tag===26){if(_===null){Re=_=y;try{if(q=Re.stateNode,K)Ae=q.style,typeof Ae.setProperty=="function"?Ae.setProperty("display","none","important"):Ae.display="none";else{ge=Re.stateNode;var st=Re.memoizedProps.style,Ve=st!=null&&st.hasOwnProperty("display")?st.display:null;ge.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(St){Rn(Re,Re.return,St)}}}else if(y.tag===6){if(_===null){Re=y;try{Re.stateNode.nodeValue=K?"":Re.memoizedProps}catch(St){Rn(Re,Re.return,St)}}}else if(y.tag===18){if(_===null){Re=y;try{var qe=Re.stateNode;K?ff(qe,!0):ff(Re.stateNode,!1)}catch(St){Rn(Re,Re.return,St)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===d)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break e;for(;y.sibling===null;){if(y.return===null||y.return===d)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}O&4&&(O=d.updateQueue,O!==null&&(_=O.retryQueue,_!==null&&(O.retryQueue=null,ul(d,_))));break;case 19:Pr(y,d),$r(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 30:break;case 21:break;default:Pr(y,d),$r(d)}}function $r(d){var y=d.flags;if(y&2){try{for(var _,O=d.return;O!==null;){if(hd(O)){_=O;break}O=O.return}if(_==null)throw Error(s(160));switch(_.tag){case 27:var K=_.stateNode,q=Gc(d);Al(d,q,K);break;case 5:var Ae=_.stateNode;_.flags&32&&(ei(Ae,""),_.flags&=-33);var ge=Gc(d);Al(d,ge,Ae);break;case 3:case 4:var Re=_.stateNode.containerInfo,Qe=Gc(d);Kc(d,Qe,Re);break;default:throw Error(s(161))}}catch(nt){Rn(d,d.return,nt)}d.flags&=-3}y&4096&&(d.flags&=-4097)}function wd(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var y=d;wd(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),d=d.sibling}}function Gs(d,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)gd(d,y.alternate,y),y=y.sibling}function Xi(d){for(d=d.child;d!==null;){var y=d;switch(y.tag){case 0:case 11:case 14:case 15:xi(4,y,y.return),Xi(y);break;case 1:Ss(y,y.return);var _=y.stateNode;typeof _.componentWillUnmount=="function"&&dd(y,y.return,_),Xi(y);break;case 27:go(y.stateNode);case 26:case 5:Ss(y,y.return),Xi(y);break;case 22:y.memoizedState===null&&Xi(y);break;case 30:Xi(y);break;default:Xi(y)}d=d.sibling}}function Ks(d,y,_){for(_=_&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var O=y.alternate,K=d,q=y,Ae=q.flags;switch(q.tag){case 0:case 11:case 15:Ks(K,q,_),ao(4,q);break;case 1:if(Ks(K,q,_),O=q,K=O.stateNode,typeof K.componentDidMount=="function")try{K.componentDidMount()}catch(Qe){Rn(O,O.return,Qe)}if(O=q,K=O.updateQueue,K!==null){var ge=O.stateNode;try{var Re=K.shared.hiddenCallbacks;if(Re!==null)for(K.shared.hiddenCallbacks=null,K=0;K<Re.length;K++)eu(Re[K],ge)}catch(Qe){Rn(O,O.return,Qe)}}_&&Ae&64&&ud(q),oo(q,q.return);break;case 27:pd(q);case 26:case 5:Ks(K,q,_),_&&O===null&&Ae&4&&fd(q),oo(q,q.return);break;case 12:Ks(K,q,_);break;case 31:Ks(K,q,_),_&&Ae&4&&vd(K,q);break;case 13:Ks(K,q,_),_&&Ae&4&&Ed(K,q);break;case 22:q.memoizedState===null&&Ks(K,q,_),oo(q,q.return);break;case 30:break;default:Ks(K,q,_)}y=y.sibling}}function qc(d,y){var _=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),d=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(d=y.memoizedState.cachePool.pool),d!==_&&(d!=null&&d.refCount++,_!=null&&Ka(_))}function Xc(d,y){d=null,y.alternate!==null&&(d=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==d&&(y.refCount++,d!=null&&Ka(d))}function ys(d,y,_,O){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)bd(d,y,_,O),y=y.sibling}function bd(d,y,_,O){var K=y.flags;switch(y.tag){case 0:case 11:case 15:ys(d,y,_,O),K&2048&&ao(9,y);break;case 1:ys(d,y,_,O);break;case 3:ys(d,y,_,O),K&2048&&(d=null,y.alternate!==null&&(d=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==d&&(y.refCount++,d!=null&&Ka(d)));break;case 12:if(K&2048){ys(d,y,_,O),d=y.stateNode;try{var q=y.memoizedProps,Ae=q.id,ge=q.onPostCommit;typeof ge=="function"&&ge(Ae,y.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Re){Rn(y,y.return,Re)}}else ys(d,y,_,O);break;case 31:ys(d,y,_,O);break;case 13:ys(d,y,_,O);break;case 23:break;case 22:q=y.stateNode,Ae=y.alternate,y.memoizedState!==null?q._visibility&2?ys(d,y,_,O):lo(d,y):q._visibility&2?ys(d,y,_,O):(q._visibility|=2,Ca(d,y,_,O,(y.subtreeFlags&10256)!==0||!1)),K&2048&&qc(Ae,y);break;case 24:ys(d,y,_,O),K&2048&&Xc(y.alternate,y);break;default:ys(d,y,_,O)}}function Ca(d,y,_,O,K){for(K=K&&((y.subtreeFlags&10256)!==0||!1),y=y.child;y!==null;){var q=d,Ae=y,ge=_,Re=O,Qe=Ae.flags;switch(Ae.tag){case 0:case 11:case 15:Ca(q,Ae,ge,Re,K),ao(8,Ae);break;case 23:break;case 22:var nt=Ae.stateNode;Ae.memoizedState!==null?nt._visibility&2?Ca(q,Ae,ge,Re,K):lo(q,Ae):(nt._visibility|=2,Ca(q,Ae,ge,Re,K)),K&&Qe&2048&&qc(Ae.alternate,Ae);break;case 24:Ca(q,Ae,ge,Re,K),K&&Qe&2048&&Xc(Ae.alternate,Ae);break;default:Ca(q,Ae,ge,Re,K)}y=y.sibling}}function lo(d,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var _=d,O=y,K=O.flags;switch(O.tag){case 22:lo(_,O),K&2048&&qc(O.alternate,O);break;case 24:lo(_,O),K&2048&&Xc(O.alternate,O);break;default:lo(_,O)}y=y.sibling}}var co=8192;function wa(d,y,_){if(d.subtreeFlags&co)for(d=d.child;d!==null;)Bd(d,y,_),d=d.sibling}function Bd(d,y,_){switch(d.tag){case 26:wa(d,y,_),d.flags&co&&d.memoizedState!==null&&Yh(_,xs,d.memoizedState,d.memoizedProps);break;case 5:wa(d,y,_);break;case 3:case 4:var O=xs;xs=Bl(d.stateNode.containerInfo),wa(d,y,_),xs=O;break;case 22:d.memoizedState===null&&(O=d.alternate,O!==null&&O.memoizedState!==null?(O=co,co=16777216,wa(d,y,_),co=O):wa(d,y,_));break;default:wa(d,y,_)}}function _d(d){var y=d.alternate;if(y!==null&&(d=y.child,d!==null)){y.child=null;do y=d.sibling,d.sibling=null,d=y;while(d!==null)}}function Ao(d){var y=d.deletions;if((d.flags&16)!==0){if(y!==null)for(var _=0;_<y.length;_++){var O=y[_];yr=O,Td(O,d)}_d(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Sd(d),d=d.sibling}function Sd(d){switch(d.tag){case 0:case 11:case 15:Ao(d),d.flags&2048&&xi(9,d,d.return);break;case 3:Ao(d);break;case 12:Ao(d);break;case 22:var y=d.stateNode;d.memoizedState!==null&&y._visibility&2&&(d.return===null||d.return.tag!==13)?(y._visibility&=-3,dl(d)):Ao(d);break;default:Ao(d)}}function dl(d){var y=d.deletions;if((d.flags&16)!==0){if(y!==null)for(var _=0;_<y.length;_++){var O=y[_];yr=O,Td(O,d)}_d(d)}for(d=d.child;d!==null;){switch(y=d,y.tag){case 0:case 11:case 15:xi(8,y,y.return),dl(y);break;case 22:_=y.stateNode,_._visibility&2&&(_._visibility&=-3,dl(y));break;default:dl(y)}d=d.sibling}}function Td(d,y){for(;yr!==null;){var _=yr;switch(_.tag){case 0:case 11:case 15:xi(8,_,y);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var O=_.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Ka(_.memoizedState.cache)}if(O=_.child,O!==null)O.return=_,yr=O;else e:for(_=d;yr!==null;){O=yr;var K=O.sibling,q=O.return;if(xd(O),O===_){yr=null;break e}if(K!==null){K.return=q,yr=K;break e}yr=q}}}var dh={getCacheForType:function(d){var y=Cr(lr),_=y.data.get(d);return _===void 0&&(_=d(),y.data.set(d,_)),_},cacheSignal:function(){return Cr(lr).controller.signal}},fh=typeof WeakMap=="function"?WeakMap:Map,bn=0,$n=null,cn=null,hn=0,Tn=0,Xr=null,yi=!1,ba=!1,Yc=!1,Ws=0,er=0,vi=0,Yi=0,Jc=0,Yr=0,Ba=0,uo=null,Ur=null,Zc=!1,fl=0,Rd=0,hl=1/0,pl=null,Ei=null,mr=0,Ci=null,_a=null,qs=0,eA=0,tA=null,Id=null,fo=0,nA=null;function Jr(){return(bn&2)!==0&&hn!==0?hn&-hn:ae.T!==null?lA():wt()}function Nd(){if(Yr===0)if((hn&536870912)===0||xn){var d=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),Yr=d}else Yr=536870912;return d=Wr.current,d!==null&&(d.flags|=32),Yr}function Hr(d,y,_){(d===$n&&(Tn===2||Tn===9)||d.cancelPendingCommit!==null)&&(Sa(d,0),wi(d,hn,Yr,!1)),Zr(d,_),((bn&2)===0||d!==$n)&&(d===$n&&((bn&2)===0&&(Yi|=_),er===4&&wi(d,hn,Yr,!1)),Ts(d))}function Fd(d,y,_){if((bn&6)!==0)throw Error(s(327));var O=!_&&(y&127)===0&&(y&d.expiredLanes)===0||Nn(d,y),K=O?mh(d,y):sA(d,y,!0),q=O;do{if(K===0){ba&&!O&&wi(d,y,0,!1);break}else{if(_=d.current.alternate,q&&!hh(_)){K=sA(d,y,!1),q=!1;continue}if(K===2){if(q=y,d.errorRecoveryDisabledLanes&q)var Ae=0;else Ae=d.pendingLanes&-536870913,Ae=Ae!==0?Ae:Ae&536870912?536870912:0;if(Ae!==0){y=Ae;e:{var ge=d;K=uo;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(Sa(ge,Ae).flags|=256),Ae=sA(ge,Ae,!1),Ae!==2){if(Yc&&!Re){ge.errorRecoveryDisabledLanes|=q,Yi|=q,K=4;break e}q=Ur,Ur=K,q!==null&&(Ur===null?Ur=q:Ur.push.apply(Ur,q))}K=Ae}if(q=!1,K!==2)continue}}if(K===1){Sa(d,0),wi(d,y,0,!0);break}e:{switch(O=d,q=K,q){case 0:case 1:throw Error(s(345));case 4:if((y&4194048)!==y)break;case 6:wi(O,y,Yr,!yi);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(s(329))}if((y&62914560)===y&&(K=fl+300-it(),10<K)){if(wi(O,y,Yr,!yi),Br(O,0,!0)!==0)break e;qs=y,O.timeoutHandle=Af(kd.bind(null,O,_,Ur,pl,Zc,y,Yr,Yi,Ba,yi,q,"Throttled",-0,0),K);break e}kd(O,_,Ur,pl,Zc,y,Yr,Yi,Ba,yi,q,null,-0,0)}}break}while(!0);Ts(d)}function kd(d,y,_,O,K,q,Ae,ge,Re,Qe,nt,st,Ve,qe){if(d.timeoutHandle=-1,st=y.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},Bd(y,q,st);var St=(q&62914560)===q?fl-it():(q&4194048)===q?Rd-it():0;if(St=Jh(st,St),St!==null){qs=q,d.cancelPendingCommit=St(Ud.bind(null,d,y,q,_,O,K,Ae,ge,Re,nt,st,null,Ve,qe)),wi(d,q,Ae,!Qe);return}}Ud(d,y,q,_,O,K,Ae,ge,Re)}function hh(d){for(var y=d;;){var _=y.tag;if((_===0||_===11||_===15)&&y.flags&16384&&(_=y.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var O=0;O<_.length;O++){var K=_[O],q=K.getSnapshot;K=K.value;try{if(!D(q(),K))return!1}catch{return!1}}if(_=y.child,y.subtreeFlags&16384&&_!==null)_.return=y,y=_;else{if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function wi(d,y,_,O){y&=~Jc,y&=~Yi,d.suspendedLanes|=y,d.pingedLanes&=~y,O&&(d.warmLanes|=y),O=d.expirationTimes;for(var K=y;0<K;){var q=31-lt(K),Ae=1<<q;O[q]=-1,K&=~Ae}_!==0&&Te(d,_,y)}function ml(){return(bn&6)===0?(ho(0),!1):!0}function rA(){if(cn!==null){if(Tn===0)var d=cn.return;else d=cn,js=Hi=null,yc(d),ga=null,qa=0,d=cn;for(;d!==null;)Ad(d.alternate,d),d=d.return;cn=null}}function Sa(d,y){var _=d.timeoutHandle;_!==-1&&(d.timeoutHandle=-1,Mh(_)),_=d.cancelPendingCommit,_!==null&&(d.cancelPendingCommit=null,_()),qs=0,rA(),$n=d,cn=_=Ds(d.current,null),hn=y,Tn=0,Xr=null,yi=!1,ba=Nn(d,y),Yc=!1,Ba=Yr=Jc=Yi=vi=er=0,Ur=uo=null,Zc=!1,(y&8)!==0&&(y|=y&32);var O=d.entangledLanes;if(O!==0)for(d=d.entanglements,O&=y;0<O;){var K=31-lt(O),q=1<<K;y|=d[K],O&=~q}return Ws=y,Lo(),_}function Md(d,y){Xt=null,ae.H=ro,y===ma||y===zo?(y=XA(),Tn=3):y===oc?(y=XA(),Tn=4):Tn=y===Oc?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Xr=y,cn===null&&(er=1,il(d,is(y,d.current)))}function Od(){var d=Wr.current;return d===null?!0:(hn&4194048)===hn?As===null:(hn&62914560)===hn||(hn&536870912)!==0?d===As:!1}function Dd(){var d=ae.H;return ae.H=ro,d===null?ro:d}function Ld(){var d=ae.A;return ae.A=dh,d}function gl(){er=4,yi||(hn&4194048)!==hn&&Wr.current!==null||(ba=!0),(vi&134217727)===0&&(Yi&134217727)===0||$n===null||wi($n,hn,Yr,!1)}function sA(d,y,_){var O=bn;bn|=2;var K=Dd(),q=Ld();($n!==d||hn!==y)&&(pl=null,Sa(d,y)),y=!1;var Ae=er;e:do try{if(Tn!==0&&cn!==null){var ge=cn,Re=Xr;switch(Tn){case 8:rA(),Ae=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(y=!0);var Qe=Tn;if(Tn=0,Xr=null,Ta(d,ge,Re,Qe),_&&ba){Ae=0;break e}break;default:Qe=Tn,Tn=0,Xr=null,Ta(d,ge,Re,Qe)}}ph(),Ae=er;break}catch(nt){Md(d,nt)}while(!0);return y&&d.shellSuspendCounter++,js=Hi=null,bn=O,ae.H=K,ae.A=q,cn===null&&($n=null,hn=0,Lo()),Ae}function ph(){for(;cn!==null;)jd(cn)}function mh(d,y){var _=bn;bn|=2;var O=Dd(),K=Ld();$n!==d||hn!==y?(pl=null,hl=it()+500,Sa(d,y)):ba=Nn(d,y);e:do try{if(Tn!==0&&cn!==null){y=cn;var q=Xr;t:switch(Tn){case 1:Tn=0,Xr=null,Ta(d,y,q,1);break;case 2:case 9:if(WA(q)){Tn=0,Xr=null,Pd(y);break}y=function(){Tn!==2&&Tn!==9||$n!==d||(Tn=7),Ts(d)},q.then(y,y);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:WA(q)?(Tn=0,Xr=null,Pd(y)):(Tn=0,Xr=null,Ta(d,y,q,7));break;case 5:var Ae=null;switch(cn.tag){case 26:Ae=cn.memoizedState;case 5:case 27:var ge=cn;if(Ae?Bf(Ae):ge.stateNode.complete){Tn=0,Xr=null;var Re=ge.sibling;if(Re!==null)cn=Re;else{var Qe=ge.return;Qe!==null?(cn=Qe,xl(Qe)):cn=null}break t}}Tn=0,Xr=null,Ta(d,y,q,5);break;case 6:Tn=0,Xr=null,Ta(d,y,q,6);break;case 8:rA(),er=6;break e;default:throw Error(s(462))}}gh();break}catch(nt){Md(d,nt)}while(!0);return js=Hi=null,ae.H=O,ae.A=K,bn=_,cn!==null?0:($n=null,hn=0,Lo(),er)}function gh(){for(;cn!==null&&!Kn();)jd(cn)}function jd(d){var y=ld(d.alternate,d,Ws);d.memoizedProps=d.pendingProps,y===null?xl(d):cn=y}function Pd(d){var y=d,_=y.alternate;switch(y.tag){case 15:case 0:y=nd(_,y,y.pendingProps,y.type,void 0,hn);break;case 11:y=nd(_,y,y.pendingProps,y.type.render,y.ref,hn);break;case 5:yc(y);default:Ad(_,y),y=cn=LA(y,Ws),y=ld(_,y,Ws)}d.memoizedProps=d.pendingProps,y===null?xl(d):cn=y}function Ta(d,y,_,O){js=Hi=null,yc(y),ga=null,qa=0;var K=y.return;try{if(ih(d,K,y,_,hn)){er=1,il(d,is(_,d.current)),cn=null;return}}catch(q){if(K!==null)throw cn=K,q;er=1,il(d,is(_,d.current)),cn=null;return}y.flags&32768?(xn||O===1?d=!0:ba||(hn&536870912)!==0?d=!1:(yi=d=!0,(O===2||O===9||O===3||O===6)&&(O=Wr.current,O!==null&&O.tag===13&&(O.flags|=16384))),$d(y,d)):xl(y)}function xl(d){var y=d;do{if((y.flags&32768)!==0){$d(y,yi);return}d=y.return;var _=lh(y.alternate,y,Ws);if(_!==null){cn=_;return}if(y=y.sibling,y!==null){cn=y;return}cn=y=d}while(y!==null);er===0&&(er=5)}function $d(d,y){do{var _=ch(d.alternate,d);if(_!==null){_.flags&=32767,cn=_;return}if(_=d.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!y&&(d=d.sibling,d!==null)){cn=d;return}cn=d=_}while(d!==null);er=6,cn=null}function Ud(d,y,_,O,K,q,Ae,ge,Re){d.cancelPendingCommit=null;do yl();while(mr!==0);if((bn&6)!==0)throw Error(s(327));if(y!==null){if(y===d.current)throw Error(s(177));if(q=y.lanes|y.childLanes,q|=Gl,kr(d,_,q,Ae,ge,Re),d===$n&&(cn=$n=null,hn=0),_a=y,Ci=d,qs=_,eA=q,tA=K,Id=O,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Eh(Je,function(){return Gd(),null})):(d.callbackNode=null,d.callbackPriority=0),O=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||O){O=ae.T,ae.T=null,K=ue.p,ue.p=2,Ae=bn,bn|=4;try{Ah(d,y,_)}finally{bn=Ae,ue.p=K,ae.T=O}}mr=1,Hd(),Qd(),Vd()}}function Hd(){if(mr===1){mr=0;var d=Ci,y=_a,_=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||_){_=ae.T,ae.T=null;var O=ue.p;ue.p=2;var K=bn;bn|=4;try{Cd(y,d);var q=mA,Ae=fe(d.containerInfo),ge=q.focusedElem,Re=q.selectionRange;if(Ae!==ge&&ge&&ge.ownerDocument&&le(ge.ownerDocument.documentElement,ge)){if(Re!==null&&pe(ge)){var Qe=Re.start,nt=Re.end;if(nt===void 0&&(nt=Qe),"selectionStart"in ge)ge.selectionStart=Qe,ge.selectionEnd=Math.min(nt,ge.value.length);else{var st=ge.ownerDocument||document,Ve=st&&st.defaultView||window;if(Ve.getSelection){var qe=Ve.getSelection(),St=ge.textContent.length,Qt=Math.min(Re.start,St),Mn=Re.end===void 0?Qt:Math.min(Re.end,St);!qe.extend&&Qt>Mn&&(Ae=Mn,Mn=Qt,Qt=Ae);var De=J(ge,Qt),ke=J(ge,Mn);if(De&&ke&&(qe.rangeCount!==1||qe.anchorNode!==De.node||qe.anchorOffset!==De.offset||qe.focusNode!==ke.node||qe.focusOffset!==ke.offset)){var He=st.createRange();He.setStart(De.node,De.offset),qe.removeAllRanges(),Qt>Mn?(qe.addRange(He),qe.extend(ke.node,ke.offset)):(He.setEnd(ke.node,ke.offset),qe.addRange(He))}}}}for(st=[],qe=ge;qe=qe.parentNode;)qe.nodeType===1&&st.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<st.length;ge++){var rt=st[ge];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Fl=!!pA,mA=pA=null}finally{bn=K,ue.p=O,ae.T=_}}d.current=y,mr=2}}function Qd(){if(mr===2){mr=0;var d=Ci,y=_a,_=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||_){_=ae.T,ae.T=null;var O=ue.p;ue.p=2;var K=bn;bn|=4;try{gd(d,y.alternate,y)}finally{bn=K,ue.p=O,ae.T=_}}mr=3}}function Vd(){if(mr===4||mr===3){mr=0,On();var d=Ci,y=_a,_=qs,O=Id;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?mr=5:(mr=0,_a=Ci=null,zd(d,d.pendingLanes));var K=d.pendingLanes;if(K===0&&(Ei=null),ht(_),y=y.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ze,y,void 0,(y.current.flags&128)===128)}catch{}if(O!==null){y=ae.T,K=ue.p,ue.p=2,ae.T=null;try{for(var q=d.onRecoverableError,Ae=0;Ae<O.length;Ae++){var ge=O[Ae];q(ge.value,{componentStack:ge.stack})}}finally{ae.T=y,ue.p=K}}(qs&3)!==0&&yl(),Ts(d),K=d.pendingLanes,(_&261930)!==0&&(K&42)!==0?d===nA?fo++:(fo=0,nA=d):fo=0,ho(0)}}function zd(d,y){(d.pooledCacheLanes&=y)===0&&(y=d.pooledCache,y!=null&&(d.pooledCache=null,Ka(y)))}function yl(){return Hd(),Qd(),Vd(),Gd()}function Gd(){if(mr!==5)return!1;var d=Ci,y=eA;eA=0;var _=ht(qs),O=ae.T,K=ue.p;try{ue.p=32>_?32:_,ae.T=null,_=tA,tA=null;var q=Ci,Ae=qs;if(mr=0,_a=Ci=null,qs=0,(bn&6)!==0)throw Error(s(331));var ge=bn;if(bn|=4,Sd(q.current),bd(q,q.current,Ae,_),bn=ge,ho(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ze,q)}catch{}return!0}finally{ue.p=K,ae.T=O,zd(d,y)}}function Kd(d,y,_){y=is(_,y),y=Mc(d.stateNode,y,2),d=pi(d,y,2),d!==null&&(Zr(d,2),Ts(d))}function Rn(d,y,_){if(d.tag===3)Kd(d,d,_);else for(;y!==null;){if(y.tag===3){Kd(y,d,_);break}else if(y.tag===1){var O=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Ei===null||!Ei.has(O))){d=is(_,d),_=Wu(2),O=pi(y,_,2),O!==null&&(qu(_,O,y,d),Zr(O,2),Ts(O));break}}y=y.return}}function iA(d,y,_){var O=d.pingCache;if(O===null){O=d.pingCache=new fh;var K=new Set;O.set(y,K)}else K=O.get(y),K===void 0&&(K=new Set,O.set(y,K));K.has(_)||(Yc=!0,K.add(_),d=xh.bind(null,d,y,_),y.then(d,d))}function xh(d,y,_){var O=d.pingCache;O!==null&&O.delete(y),d.pingedLanes|=d.suspendedLanes&_,d.warmLanes&=~_,$n===d&&(hn&_)===_&&(er===4||er===3&&(hn&62914560)===hn&&300>it()-fl?(bn&2)===0&&Sa(d,0):Jc|=_,Ba===hn&&(Ba=0)),Ts(d)}function Wd(d,y){y===0&&(y=Dn()),d=Pi(d,y),d!==null&&(Zr(d,y),Ts(d))}function yh(d){var y=d.memoizedState,_=0;y!==null&&(_=y.retryLane),Wd(d,_)}function vh(d,y){var _=0;switch(d.tag){case 31:case 13:var O=d.stateNode,K=d.memoizedState;K!==null&&(_=K.retryLane);break;case 19:O=d.stateNode;break;case 22:O=d.stateNode._retryCache;break;default:throw Error(s(314))}O!==null&&O.delete(y),Wd(d,_)}function Eh(d,y){return In(d,y)}var vl=null,Ra=null,aA=!1,El=!1,oA=!1,bi=0;function Ts(d){d!==Ra&&d.next===null&&(Ra===null?vl=Ra=d:Ra=Ra.next=d),El=!0,aA||(aA=!0,wh())}function ho(d,y){if(!oA&&El){oA=!0;do for(var _=!1,O=vl;O!==null;){if(d!==0){var K=O.pendingLanes;if(K===0)var q=0;else{var Ae=O.suspendedLanes,ge=O.pingedLanes;q=(1<<31-lt(42|d)+1)-1,q&=K&~(Ae&~ge),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(_=!0,Jd(O,q))}else q=hn,q=Br(O,O===$n?q:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(q&3)===0||Nn(O,q)||(_=!0,Jd(O,q));O=O.next}while(_);oA=!1}}function Ch(){qd()}function qd(){El=aA=!1;var d=0;bi!==0&&kh()&&(d=bi);for(var y=it(),_=null,O=vl;O!==null;){var K=O.next,q=Xd(O,y);q===0?(O.next=null,_===null?vl=K:_.next=K,K===null&&(Ra=_)):(_=O,(d!==0||(q&3)!==0)&&(El=!0)),O=K}mr!==0&&mr!==5||ho(d),bi!==0&&(bi=0)}function Xd(d,y){for(var _=d.suspendedLanes,O=d.pingedLanes,K=d.expirationTimes,q=d.pendingLanes&-62914561;0<q;){var Ae=31-lt(q),ge=1<<Ae,Re=K[Ae];Re===-1?((ge&_)===0||(ge&O)!==0)&&(K[Ae]=Tr(ge,y)):Re<=y&&(d.expiredLanes|=ge),q&=~ge}if(y=$n,_=hn,_=Br(d,d===y?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),O=d.callbackNode,_===0||d===y&&(Tn===2||Tn===9)||d.cancelPendingCommit!==null)return O!==null&&O!==null&&pt(O),d.callbackNode=null,d.callbackPriority=0;if((_&3)===0||Nn(d,_)){if(y=_&-_,y===d.callbackPriority)return y;switch(O!==null&&pt(O),ht(_)){case 2:case 8:_=Ye;break;case 32:_=Je;break;case 268435456:_=Mt;break;default:_=Je}return O=Yd.bind(null,d),_=In(_,O),d.callbackPriority=y,d.callbackNode=_,y}return O!==null&&O!==null&&pt(O),d.callbackPriority=2,d.callbackNode=null,2}function Yd(d,y){if(mr!==0&&mr!==5)return d.callbackNode=null,d.callbackPriority=0,null;var _=d.callbackNode;if(yl()&&d.callbackNode!==_)return null;var O=hn;return O=Br(d,d===$n?O:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),O===0?null:(Fd(d,O,y),Xd(d,it()),d.callbackNode!=null&&d.callbackNode===_?Yd.bind(null,d):null)}function Jd(d,y){if(yl())return null;Fd(d,y,!0)}function wh(){Oh(function(){(bn&6)!==0?In(Fe,Ch):qd()})}function lA(){if(bi===0){var d=ha;d===0&&(d=dn,dn<<=1,(dn&261888)===0&&(dn=256)),bi=d}return bi}function Zd(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:ti(""+d)}function ef(d,y){var _=y.ownerDocument.createElement("input");return _.name=y.name,_.value=y.value,d.id&&_.setAttribute("form",d.id),y.parentNode.insertBefore(_,y),d=new FormData(d),_.parentNode.removeChild(_),d}function bh(d,y,_,O,K){if(y==="submit"&&_&&_.stateNode===K){var q=Zd((K[yt]||null).action),Ae=O.submitter;Ae&&(y=(y=Ae[yt]||null)?Zd(y.formAction):Ae.getAttribute("formAction"),y!==null&&(q=y,Ae=null));var ge=new dr("action","action",null,O,K);d.push({event:ge,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(bi!==0){var Re=Ae?ef(K,Ae):new FormData(K);Tc(_,{pending:!0,data:Re,method:K.method,action:q},null,Re)}}else typeof q=="function"&&(ge.preventDefault(),Re=Ae?ef(K,Ae):new FormData(K),Tc(_,{pending:!0,data:Re,method:K.method,action:q},q,Re))},currentTarget:K}]})}}for(var cA=0;cA<Va.length;cA++){var AA=Va[cA],Bh=AA.toLowerCase(),_h=AA[0].toUpperCase()+AA.slice(1);gs(Bh,"on"+_h)}gs(Lr,"onAnimationEnd"),gs(vr,"onAnimationIteration"),gs(Sn,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(pr,"onTransitionRun"),gs(Nr,"onTransitionStart"),gs(li,"onTransitionCancel"),gs(Os,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function tf(d,y){y=(y&4)!==0;for(var _=0;_<d.length;_++){var O=d[_],K=O.event;O=O.listeners;e:{var q=void 0;if(y)for(var Ae=O.length-1;0<=Ae;Ae--){var ge=O[Ae],Re=ge.instance,Qe=ge.currentTarget;if(ge=ge.listener,Re!==q&&K.isPropagationStopped())break e;q=ge,K.currentTarget=Qe;try{q(K)}catch(nt){Do(nt)}K.currentTarget=null,q=Re}else for(Ae=0;Ae<O.length;Ae++){if(ge=O[Ae],Re=ge.instance,Qe=ge.currentTarget,ge=ge.listener,Re!==q&&K.isPropagationStopped())break e;q=ge,K.currentTarget=Qe;try{q(K)}catch(nt){Do(nt)}K.currentTarget=null,q=Re}}}}function An(d,y){var _=y[Tt];_===void 0&&(_=y[Tt]=new Set);var O=d+"__bubble";_.has(O)||(nf(y,d,2,!1),_.add(O))}function uA(d,y,_){var O=0;y&&(O|=4),nf(_,d,O,y)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function dA(d){if(!d[Cl]){d[Cl]=!0,ct.forEach(function(_){_!=="selectionchange"&&(Sh.has(_)||uA(_,!1,d),uA(_,!0,d))});var y=d.nodeType===9?d:d.ownerDocument;y===null||y[Cl]||(y[Cl]=!0,uA("selectionchange",!1,y))}}function nf(d,y,_,O){switch(Ff(y)){case 2:var K=tp;break;case 8:K=np;break;default:K=RA}_=K.bind(null,y,_,d),K=void 0,!La||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(K=!0),O?K!==void 0?d.addEventListener(y,_,{capture:!0,passive:K}):d.addEventListener(y,_,!0):K!==void 0?d.addEventListener(y,_,{passive:K}):d.addEventListener(y,_,!1)}function fA(d,y,_,O,K){var q=O;if((y&1)===0&&(y&2)===0&&O!==null)e:for(;;){if(O===null)return;var Ae=O.tag;if(Ae===3||Ae===4){var ge=O.stateNode.containerInfo;if(ge===K)break;if(Ae===4)for(Ae=O.return;Ae!==null;){var Re=Ae.tag;if((Re===3||Re===4)&&Ae.stateNode.containerInfo===K)return;Ae=Ae.return}for(;ge!==null;){if(Ae=zt(ge),Ae===null)return;if(Re=Ae.tag,Re===5||Re===6||Re===26||Re===27){O=q=Ae;continue e}ge=ge.parentNode}}O=O.return}Bo(function(){var Qe=q,nt=Da(_),st=[];e:{var Ve=Oo.get(d);if(Ve!==void 0){var qe=dr,St=d;switch(d){case"keypress":if(Es(_)===0)break e;case"keydown":case"keyup":qe=ia;break;case"focusin":St="focus",qe=$a;break;case"focusout":St="blur",qe=$a;break;case"beforeblur":case"afterblur":qe=$a;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=Ql;break;case Lr:case vr:case Sn:qe=Yt;break;case Os:qe=Ns;break;case"scroll":case"scrollend":qe=_o;break;case"wheel":qe=Vl;break;case"copy":case"cut":case"paste":qe=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=_n;break;case"toggle":case"beforetoggle":qe=Ha}var Qt=(y&4)!==0,Mn=!Qt&&(d==="scroll"||d==="scrollend"),De=Qt?Ve!==null?Ve+"Capture":null:Ve;Qt=[];for(var ke=Qe,He;ke!==null;){var rt=ke;if(He=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||He===null||De===null||(rt=Gt(ke,De),rt!=null&&Qt.push(mo(ke,rt,He))),Mn)break;ke=ke.return}0<Qt.length&&(Ve=new qe(Ve,St,null,_,nt),st.push({event:Ve,listeners:Qt}))}}if((y&7)===0){e:{if(Ve=d==="mouseover"||d==="pointerover",qe=d==="mouseout"||d==="pointerout",Ve&&_!==Ni&&(St=_.relatedTarget||_.fromElement)&&(zt(St)||St[Nt]))break e;if((qe||Ve)&&(Ve=nt.window===nt?nt:(Ve=nt.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,qe?(St=_.relatedTarget||_.toElement,qe=Qe,St=St?zt(St):null,St!==null&&(Mn=l(St),Qt=St.tag,St!==Mn||Qt!==5&&Qt!==27&&Qt!==6)&&(St=null)):(qe=null,St=Qe),qe!==St)){if(Qt=wn,rt="onMouseLeave",De="onMouseEnter",ke="mouse",(d==="pointerout"||d==="pointerover")&&(Qt=_n,rt="onPointerLeave",De="onPointerEnter",ke="pointer"),Mn=qe==null?Ve:Mr(qe),He=St==null?Ve:Mr(St),Ve=new Qt(rt,ke+"leave",qe,_,nt),Ve.target=Mn,Ve.relatedTarget=He,rt=null,zt(nt)===Qe&&(Qt=new Qt(De,ke+"enter",St,_,nt),Qt.target=He,Qt.relatedTarget=Mn,rt=Qt),Mn=rt,qe&&St)t:{for(Qt=Th,De=qe,ke=St,He=0,rt=De;rt;rt=Qt(rt))He++;rt=0;for(var Lt=ke;Lt;Lt=Qt(Lt))rt++;for(;0<He-rt;)De=Qt(De),He--;for(;0<rt-He;)ke=Qt(ke),rt--;for(;He--;){if(De===ke||ke!==null&&De===ke.alternate){Qt=De;break t}De=Qt(De),ke=Qt(ke)}Qt=null}else Qt=null;qe!==null&&rf(st,Ve,qe,Qt,!1),St!==null&&Mn!==null&&rf(st,Mn,St,Qt,!0)}}e:{if(Ve=Qe?Mr(Qe):window,qe=Ve.nodeName&&Ve.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ve.type==="file")var vn=Gr;else if(Qa(Ve))if(Mo)vn=I;else{vn=C;var Ft=g}else qe=Ve.nodeName,!qe||qe.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Qe&&Ln(Qe.elementType)&&(vn=Gr):vn=B;if(vn&&(vn=vn(d,Qe))){zr(st,vn,_,nt);break e}Ft&&Ft(d,Ve,Qe),d==="focusout"&&Qe&&Ve.type==="number"&&Qe.memoizedProps.value!=null&&be(Ve,"number",Ve.value)}switch(Ft=Qe?Mr(Qe):window,d){case"focusin":(Qa(Ft)||Ft.contentEditable==="true")&&(Ie=Ft,Ne=Qe,Le=null);break;case"focusout":Le=Ne=Ie=null;break;case"mousedown":Ke=!0;break;case"contextmenu":case"mouseup":case"dragend":Ke=!1,ft(st,_,nt);break;case"selectionchange":if(Be)break;case"keydown":case"keyup":ft(st,_,nt)}var Jt;if(Mi)e:{switch(d){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else oi?ko(d,_)&&(pn="onCompositionEnd"):d==="keydown"&&_.keyCode===229&&(pn="onCompositionStart");pn&&(Fo&&_.locale!=="ko"&&(oi||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&oi&&(Jt=ni()):(ps=nt,ms="value"in ps?ps.value:ps.textContent,oi=!0)),Ft=wl(Qe,pn),0<Ft.length&&(pn=new Ro(pn,d,null,_,nt),st.push({event:pn,listeners:Ft}),Jt?pn.data=Jt:(Jt=ai(_),Jt!==null&&(pn.data=Jt)))),(Jt=No?bs(d,_):oa(d,_))&&(pn=wl(Qe,"onBeforeInput"),0<pn.length&&(Ft=new Ro("onBeforeInput","beforeinput",null,_,nt),st.push({event:Ft,listeners:pn}),Ft.data=Jt)),bh(st,d,Qe,_,nt)}tf(st,y)})}function mo(d,y,_){return{instance:d,listener:y,currentTarget:_}}function wl(d,y){for(var _=y+"Capture",O=[];d!==null;){var K=d,q=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||q===null||(K=Gt(d,_),K!=null&&O.unshift(mo(d,K,q)),K=Gt(d,y),K!=null&&O.push(mo(d,K,q))),d.tag===3)return O;d=d.return}return[]}function Th(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function rf(d,y,_,O,K){for(var q=y._reactName,Ae=[];_!==null&&_!==O;){var ge=_,Re=ge.alternate,Qe=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===O)break;ge!==5&&ge!==26&&ge!==27||Qe===null||(Re=Qe,K?(Qe=Gt(_,q),Qe!=null&&Ae.unshift(mo(_,Qe,Re))):K||(Qe=Gt(_,q),Qe!=null&&Ae.push(mo(_,Qe,Re)))),_=_.return}Ae.length!==0&&d.push({event:y,listeners:Ae})}var Rh=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function sf(d){return(typeof d=="string"?d:""+d).replace(Rh,`
`).replace(Ih,"")}function af(d,y){return y=sf(y),sf(d)===y}function kn(d,y,_,O,K,q){switch(_){case"children":typeof O=="string"?y==="body"||y==="textarea"&&O===""||ei(d,O):(typeof O=="number"||typeof O=="bigint")&&y!=="body"&&ei(d,""+O);break;case"className":Cn(d,"class",O);break;case"tabIndex":Cn(d,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(d,_,O);break;case"style":Dt(d,O,q);break;case"data":if(y!=="object"){Cn(d,"data",O);break}case"src":case"href":if(O===""&&(y!=="a"||_!=="href")){d.removeAttribute(_);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){d.removeAttribute(_);break}O=ti(""+O),d.setAttribute(_,O);break;case"action":case"formAction":if(typeof O=="function"){d.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(_==="formAction"?(y!=="input"&&kn(d,y,"name",K.name,K,null),kn(d,y,"formEncType",K.formEncType,K,null),kn(d,y,"formMethod",K.formMethod,K,null),kn(d,y,"formTarget",K.formTarget,K,null)):(kn(d,y,"encType",K.encType,K,null),kn(d,y,"method",K.method,K,null),kn(d,y,"target",K.target,K,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){d.removeAttribute(_);break}O=ti(""+O),d.setAttribute(_,O);break;case"onClick":O!=null&&(d.onclick=Or);break;case"onScroll":O!=null&&An("scroll",d);break;case"onScrollEnd":O!=null&&An("scrollend",d);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(_=O.__html,_!=null){if(K.children!=null)throw Error(s(60));d.innerHTML=_}}break;case"multiple":d.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":d.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){d.removeAttribute("xlink:href");break}_=ti(""+O),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(_,""+O):d.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(_,""):d.removeAttribute(_);break;case"capture":case"download":O===!0?d.setAttribute(_,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(_,O):d.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?d.setAttribute(_,O):d.removeAttribute(_);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?d.removeAttribute(_):d.setAttribute(_,O);break;case"popover":An("beforetoggle",d),An("toggle",d),Sr(d,"popover",O);break;case"xlinkActuate":xr(d,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":xr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":xr(d,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":xr(d,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":xr(d,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":xr(d,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":xr(d,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":xr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":xr(d,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":Sr(d,"is",O);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=bo.get(_)||_,Sr(d,_,O))}}function hA(d,y,_,O,K,q){switch(_){case"style":Dt(d,O,q);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(_=O.__html,_!=null){if(K.children!=null)throw Error(s(60));d.innerHTML=_}}break;case"children":typeof O=="string"?ei(d,O):(typeof O=="number"||typeof O=="bigint")&&ei(d,""+O);break;case"onScroll":O!=null&&An("scroll",d);break;case"onScrollEnd":O!=null&&An("scrollend",d);break;case"onClick":O!=null&&(d.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(K=_.endsWith("Capture"),y=_.slice(2,K?_.length-7:void 0),q=d[yt]||null,q=q!=null?q[_]:null,typeof q=="function"&&d.removeEventListener(y,q,K),typeof O=="function")){typeof q!="function"&&q!==null&&(_ in d?d[_]=null:d.hasAttribute(_)&&d.removeAttribute(_)),d.addEventListener(y,O,K);break e}_ in d?d[_]=O:O===!0?d.setAttribute(_,""):Sr(d,_,O)}}}function br(d,y,_){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",d),An("load",d);var O=!1,K=!1,q;for(q in _)if(_.hasOwnProperty(q)){var Ae=_[q];if(Ae!=null)switch(q){case"src":O=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,y));default:kn(d,y,q,Ae,_,null)}}K&&kn(d,y,"srcSet",_.srcSet,_,null),O&&kn(d,y,"src",_.src,_,null);return;case"input":An("invalid",d);var ge=q=Ae=K=null,Re=null,Qe=null;for(O in _)if(_.hasOwnProperty(O)){var nt=_[O];if(nt!=null)switch(O){case"name":K=nt;break;case"type":Ae=nt;break;case"checked":Re=nt;break;case"defaultChecked":Qe=nt;break;case"value":q=nt;break;case"defaultValue":ge=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,y));break;default:kn(d,y,O,nt,_,null)}}Ue(d,q,ge,Re,Qe,Ae,K,!1);return;case"select":An("invalid",d),O=Ae=q=null;for(K in _)if(_.hasOwnProperty(K)&&(ge=_[K],ge!=null))switch(K){case"value":q=ge;break;case"defaultValue":Ae=ge;break;case"multiple":O=ge;default:kn(d,y,K,ge,_,null)}y=q,_=Ae,d.multiple=!!O,y!=null?Rt(d,!!O,y,!1):_!=null&&Rt(d,!!O,_,!0);return;case"textarea":An("invalid",d),q=K=O=null;for(Ae in _)if(_.hasOwnProperty(Ae)&&(ge=_[Ae],ge!=null))switch(Ae){case"value":O=ge;break;case"defaultValue":K=ge;break;case"children":q=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(91));break;default:kn(d,y,Ae,ge,_,null)}Rr(d,O,K,q);return;case"option":for(Re in _)if(_.hasOwnProperty(Re)&&(O=_[Re],O!=null))switch(Re){case"selected":d.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:kn(d,y,Re,O,_,null)}return;case"dialog":An("beforetoggle",d),An("toggle",d),An("cancel",d),An("close",d);break;case"iframe":case"object":An("load",d);break;case"video":case"audio":for(O=0;O<po.length;O++)An(po[O],d);break;case"image":An("error",d),An("load",d);break;case"details":An("toggle",d);break;case"embed":case"source":case"link":An("error",d),An("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in _)if(_.hasOwnProperty(Qe)&&(O=_[Qe],O!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,y));default:kn(d,y,Qe,O,_,null)}return;default:if(Ln(y)){for(nt in _)_.hasOwnProperty(nt)&&(O=_[nt],O!==void 0&&hA(d,y,nt,O,_,void 0));return}}for(ge in _)_.hasOwnProperty(ge)&&(O=_[ge],O!=null&&kn(d,y,ge,O,_,null))}function Nh(d,y,_,O){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,q=null,Ae=null,ge=null,Re=null,Qe=null,nt=null;for(qe in _){var st=_[qe];if(_.hasOwnProperty(qe)&&st!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":Re=st;default:O.hasOwnProperty(qe)||kn(d,y,qe,null,O,st)}}for(var Ve in O){var qe=O[Ve];if(st=_[Ve],O.hasOwnProperty(Ve)&&(qe!=null||st!=null))switch(Ve){case"type":q=qe;break;case"name":K=qe;break;case"checked":Qe=qe;break;case"defaultChecked":nt=qe;break;case"value":Ae=qe;break;case"defaultValue":ge=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(s(137,y));break;default:qe!==st&&kn(d,y,Ve,qe,O,st)}}ar(d,Ae,ge,Re,Qe,nt,q,K);return;case"select":qe=Ae=ge=Ve=null;for(q in _)if(Re=_[q],_.hasOwnProperty(q)&&Re!=null)switch(q){case"value":break;case"multiple":qe=Re;default:O.hasOwnProperty(q)||kn(d,y,q,null,O,Re)}for(K in O)if(q=O[K],Re=_[K],O.hasOwnProperty(K)&&(q!=null||Re!=null))switch(K){case"value":Ve=q;break;case"defaultValue":ge=q;break;case"multiple":Ae=q;default:q!==Re&&kn(d,y,K,q,O,Re)}y=ge,_=Ae,O=qe,Ve!=null?Rt(d,!!_,Ve,!1):!!O!=!!_&&(y!=null?Rt(d,!!_,y,!0):Rt(d,!!_,_?[]:"",!1));return;case"textarea":qe=Ve=null;for(ge in _)if(K=_[ge],_.hasOwnProperty(ge)&&K!=null&&!O.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:kn(d,y,ge,null,O,K)}for(Ae in O)if(K=O[Ae],q=_[Ae],O.hasOwnProperty(Ae)&&(K!=null||q!=null))switch(Ae){case"value":Ve=K;break;case"defaultValue":qe=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:K!==q&&kn(d,y,Ae,K,O,q)}nr(d,Ve,qe);return;case"option":for(var St in _)if(Ve=_[St],_.hasOwnProperty(St)&&Ve!=null&&!O.hasOwnProperty(St))switch(St){case"selected":d.selected=!1;break;default:kn(d,y,St,null,O,Ve)}for(Re in O)if(Ve=O[Re],qe=_[Re],O.hasOwnProperty(Re)&&Ve!==qe&&(Ve!=null||qe!=null))switch(Re){case"selected":d.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:kn(d,y,Re,Ve,O,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in _)Ve=_[Qt],_.hasOwnProperty(Qt)&&Ve!=null&&!O.hasOwnProperty(Qt)&&kn(d,y,Qt,null,O,Ve);for(Qe in O)if(Ve=O[Qe],qe=_[Qe],O.hasOwnProperty(Qe)&&Ve!==qe&&(Ve!=null||qe!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(s(137,y));break;default:kn(d,y,Qe,Ve,O,qe)}return;default:if(Ln(y)){for(var Mn in _)Ve=_[Mn],_.hasOwnProperty(Mn)&&Ve!==void 0&&!O.hasOwnProperty(Mn)&&hA(d,y,Mn,void 0,O,Ve);for(nt in O)Ve=O[nt],qe=_[nt],!O.hasOwnProperty(nt)||Ve===qe||Ve===void 0&&qe===void 0||hA(d,y,nt,Ve,O,qe);return}}for(var De in _)Ve=_[De],_.hasOwnProperty(De)&&Ve!=null&&!O.hasOwnProperty(De)&&kn(d,y,De,null,O,Ve);for(st in O)Ve=O[st],qe=_[st],!O.hasOwnProperty(st)||Ve===qe||Ve==null&&qe==null||kn(d,y,st,Ve,O,qe)}function of(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fh(){if(typeof performance.getEntriesByType=="function"){for(var d=0,y=0,_=performance.getEntriesByType("resource"),O=0;O<_.length;O++){var K=_[O],q=K.transferSize,Ae=K.initiatorType,ge=K.duration;if(q&&ge&&of(Ae)){for(Ae=0,ge=K.responseEnd,O+=1;O<_.length;O++){var Re=_[O],Qe=Re.startTime;if(Qe>ge)break;var nt=Re.transferSize,st=Re.initiatorType;nt&&of(st)&&(Re=Re.responseEnd,Ae+=nt*(Re<ge?1:(ge-Qe)/(Re-Qe)))}if(--O,y+=8*(q+Ae)/(K.duration/1e3),d++,10<d)break}}if(0<d)return y/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var pA=null,mA=null;function bl(d){return d.nodeType===9?d:d.ownerDocument}function lf(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cf(d,y){if(d===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&y==="foreignObject"?0:d}function gA(d,y){return d==="textarea"||d==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var xA=null;function kh(){var d=window.event;return d&&d.type==="popstate"?d===xA?!1:(xA=d,!0):(xA=null,!1)}var Af=typeof setTimeout=="function"?setTimeout:void 0,Mh=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(d){return uf.resolve(null).then(d).catch(Dh)}:Af;function Dh(d){setTimeout(function(){throw d})}function Bi(d){return d==="head"}function df(d,y){var _=y,O=0;do{var K=_.nextSibling;if(d.removeChild(_),K&&K.nodeType===8)if(_=K.data,_==="/$"||_==="/&"){if(O===0){d.removeChild(K),ka(y);return}O--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")O++;else if(_==="html")go(d.ownerDocument.documentElement);else if(_==="head"){_=d.ownerDocument.head,go(_);for(var q=_.firstChild;q;){var Ae=q.nextSibling,ge=q.nodeName;q[Hn]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&q.rel.toLowerCase()==="stylesheet"||_.removeChild(q),q=Ae}}else _==="body"&&go(d.ownerDocument.body);_=K}while(_);ka(y)}function ff(d,y){var _=d;d=0;do{var O=_.nextSibling;if(_.nodeType===1?y?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(y?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),O&&O.nodeType===8)if(_=O.data,_==="/$"){if(d===0)break;d--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||d++;_=O}while(_)}function yA(d){var y=d.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var _=y;switch(y=y.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":yA(_),en(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}d.removeChild(_)}}function Lh(d,y,_,O){for(;d.nodeType===1;){var K=_;if(d.nodeName.toLowerCase()!==y.toLowerCase()){if(!O&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(O){if(!d[Hn])switch(y){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(q=d.getAttribute("rel"),q==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(q!==K.rel||d.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||d.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||d.getAttribute("title")!==(K.title==null?null:K.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(q=d.getAttribute("src"),(q!==(K.src==null?null:K.src)||d.getAttribute("type")!==(K.type==null?null:K.type)||d.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&q&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(y==="input"&&d.type==="hidden"){var q=K.name==null?null:""+K.name;if(K.type==="hidden"&&d.getAttribute("name")===q)return d}else return d;if(d=us(d.nextSibling),d===null)break}return null}function jh(d,y,_){if(y==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!_||(d=us(d.nextSibling),d===null))return null;return d}function hf(d,y){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!y||(d=us(d.nextSibling),d===null))return null;return d}function vA(d){return d.data==="$?"||d.data==="$~"}function EA(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Ph(d,y){var _=d.ownerDocument;if(d.data==="$~")d._reactRetry=y;else if(d.data!=="$?"||_.readyState!=="loading")y();else{var O=function(){y(),_.removeEventListener("DOMContentLoaded",O)};_.addEventListener("DOMContentLoaded",O),d._reactRetry=O}}function us(d){for(;d!=null;d=d.nextSibling){var y=d.nodeType;if(y===1||y===3)break;if(y===8){if(y=d.data,y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"||y==="F!"||y==="F")break;if(y==="/$"||y==="/&")return null}}return d}var CA=null;function pf(d){d=d.nextSibling;for(var y=0;d;){if(d.nodeType===8){var _=d.data;if(_==="/$"||_==="/&"){if(y===0)return us(d.nextSibling);y--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||y++}d=d.nextSibling}return null}function mf(d){d=d.previousSibling;for(var y=0;d;){if(d.nodeType===8){var _=d.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(y===0)return d;y--}else _!=="/$"&&_!=="/&"||y++}d=d.previousSibling}return null}function gf(d,y,_){switch(y=bl(_),d){case"html":if(d=y.documentElement,!d)throw Error(s(452));return d;case"head":if(d=y.head,!d)throw Error(s(453));return d;case"body":if(d=y.body,!d)throw Error(s(454));return d;default:throw Error(s(451))}}function go(d){for(var y=d.attributes;y.length;)d.removeAttributeNode(y[0]);en(d)}var ds=new Map,xf=new Set;function Bl(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Xs=ue.d;ue.d={f:$h,r:Uh,D:Hh,C:Qh,L:Vh,m:zh,X:Kh,S:Gh,M:Wh};function $h(){var d=Xs.f(),y=ml();return d||y}function Uh(d){var y=rn(d);y!==null&&y.tag===5&&y.type==="form"?Mu(y):Xs.r(d)}var Ia=typeof document>"u"?null:document;function yf(d,y,_){var O=Ia;if(O&&typeof y=="string"&&y){var K=sn(y);K='link[rel="'+d+'"][href="'+K+'"]',typeof _=="string"&&(K+='[crossorigin="'+_+'"]'),xf.has(K)||(xf.add(K),d={rel:d,crossOrigin:_,href:y},O.querySelector(K)===null&&(y=O.createElement("link"),br(y,"link",d),yn(y),O.head.appendChild(y)))}}function Hh(d){Xs.D(d),yf("dns-prefetch",d,null)}function Qh(d,y){Xs.C(d,y),yf("preconnect",d,y)}function Vh(d,y,_){Xs.L(d,y,_);var O=Ia;if(O&&d&&y){var K='link[rel="preload"][as="'+sn(y)+'"]';y==="image"&&_&&_.imageSrcSet?(K+='[imagesrcset="'+sn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(K+='[imagesizes="'+sn(_.imageSizes)+'"]')):K+='[href="'+sn(d)+'"]';var q=K;switch(y){case"style":q=Na(d);break;case"script":q=Fa(d)}ds.has(q)||(d=S({rel:"preload",href:y==="image"&&_&&_.imageSrcSet?void 0:d,as:y},_),ds.set(q,d),O.querySelector(K)!==null||y==="style"&&O.querySelector(xo(q))||y==="script"&&O.querySelector(yo(q))||(y=O.createElement("link"),br(y,"link",d),yn(y),O.head.appendChild(y)))}}function zh(d,y){Xs.m(d,y);var _=Ia;if(_&&d){var O=y&&typeof y.as=="string"?y.as:"script",K='link[rel="modulepreload"][as="'+sn(O)+'"][href="'+sn(d)+'"]',q=K;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=Fa(d)}if(!ds.has(q)&&(d=S({rel:"modulepreload",href:d},y),ds.set(q,d),_.querySelector(K)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(yo(q)))return}O=_.createElement("link"),br(O,"link",d),yn(O),_.head.appendChild(O)}}}function Gh(d,y,_){Xs.S(d,y,_);var O=Ia;if(O&&d){var K=qn(O).hoistableStyles,q=Na(d);y=y||"default";var Ae=K.get(q);if(!Ae){var ge={loading:0,preload:null};if(Ae=O.querySelector(xo(q)))ge.loading=5;else{d=S({rel:"stylesheet",href:d,"data-precedence":y},_),(_=ds.get(q))&&wA(d,_);var Re=Ae=O.createElement("link");yn(Re),br(Re,"link",d),Re._p=new Promise(function(Qe,nt){Re.onload=Qe,Re.onerror=nt}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,_l(Ae,y,O)}Ae={type:"stylesheet",instance:Ae,count:1,state:ge},K.set(q,Ae)}}}function Kh(d,y){Xs.X(d,y);var _=Ia;if(_&&d){var O=qn(_).hoistableScripts,K=Fa(d),q=O.get(K);q||(q=_.querySelector(yo(K)),q||(d=S({src:d,async:!0},y),(y=ds.get(K))&&bA(d,y),q=_.createElement("script"),yn(q),br(q,"link",d),_.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},O.set(K,q))}}function Wh(d,y){Xs.M(d,y);var _=Ia;if(_&&d){var O=qn(_).hoistableScripts,K=Fa(d),q=O.get(K);q||(q=_.querySelector(yo(K)),q||(d=S({src:d,async:!0,type:"module"},y),(y=ds.get(K))&&bA(d,y),q=_.createElement("script"),yn(q),br(q,"link",d),_.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},O.set(K,q))}}function vf(d,y,_,O){var K=(K=Me.current)?Bl(K):null;if(!K)throw Error(s(446));switch(d){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(y=Na(_.href),_=qn(K).hoistableStyles,O=_.get(y),O||(O={type:"style",instance:null,count:0,state:null},_.set(y,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){d=Na(_.href);var q=qn(K).hoistableStyles,Ae=q.get(d);if(Ae||(K=K.ownerDocument||K,Ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(d,Ae),(q=K.querySelector(xo(d)))&&!q._p&&(Ae.instance=q,Ae.state.loading=5),ds.has(d)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},ds.set(d,_),q||qh(K,d,_,Ae.state))),y&&O===null)throw Error(s(528,""));return Ae}if(y&&O!==null)throw Error(s(529,""));return null;case"script":return y=_.async,_=_.src,typeof _=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=Fa(_),_=qn(K).hoistableScripts,O=_.get(y),O||(O={type:"script",instance:null,count:0,state:null},_.set(y,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,d))}}function Na(d){return'href="'+sn(d)+'"'}function xo(d){return'link[rel="stylesheet"]['+d+"]"}function Ef(d){return S({},d,{"data-precedence":d.precedence,precedence:null})}function qh(d,y,_,O){d.querySelector('link[rel="preload"][as="style"]['+y+"]")?O.loading=1:(y=d.createElement("link"),O.preload=y,y.addEventListener("load",function(){return O.loading|=1}),y.addEventListener("error",function(){return O.loading|=2}),br(y,"link",_),yn(y),d.head.appendChild(y))}function Fa(d){return'[src="'+sn(d)+'"]'}function yo(d){return"script[async]"+d}function Cf(d,y,_){if(y.count++,y.instance===null)switch(y.type){case"style":var O=d.querySelector('style[data-href~="'+sn(_.href)+'"]');if(O)return y.instance=O,yn(O),O;var K=S({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return O=(d.ownerDocument||d).createElement("style"),yn(O),br(O,"style",K),_l(O,_.precedence,d),y.instance=O;case"stylesheet":K=Na(_.href);var q=d.querySelector(xo(K));if(q)return y.state.loading|=4,y.instance=q,yn(q),q;O=Ef(_),(K=ds.get(K))&&wA(O,K),q=(d.ownerDocument||d).createElement("link"),yn(q);var Ae=q;return Ae._p=new Promise(function(ge,Re){Ae.onload=ge,Ae.onerror=Re}),br(q,"link",O),y.state.loading|=4,_l(q,_.precedence,d),y.instance=q;case"script":return q=Fa(_.src),(K=d.querySelector(yo(q)))?(y.instance=K,yn(K),K):(O=_,(K=ds.get(q))&&(O=S({},_),bA(O,K)),d=d.ownerDocument||d,K=d.createElement("script"),yn(K),br(K,"link",O),d.head.appendChild(K),y.instance=K);case"void":return null;default:throw Error(s(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(O=y.instance,y.state.loading|=4,_l(O,_.precedence,d));return y.instance}function _l(d,y,_){for(var O=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=O.length?O[O.length-1]:null,q=K,Ae=0;Ae<O.length;Ae++){var ge=O[Ae];if(ge.dataset.precedence===y)q=ge;else if(q!==K)break}q?q.parentNode.insertBefore(d,q.nextSibling):(y=_.nodeType===9?_.head:_,y.insertBefore(d,y.firstChild))}function wA(d,y){d.crossOrigin==null&&(d.crossOrigin=y.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=y.referrerPolicy),d.title==null&&(d.title=y.title)}function bA(d,y){d.crossOrigin==null&&(d.crossOrigin=y.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=y.referrerPolicy),d.integrity==null&&(d.integrity=y.integrity)}var Sl=null;function wf(d,y,_){if(Sl===null){var O=new Map,K=Sl=new Map;K.set(_,O)}else K=Sl,O=K.get(_),O||(O=new Map,K.set(_,O));if(O.has(d))return O;for(O.set(d,null),_=_.getElementsByTagName(d),K=0;K<_.length;K++){var q=_[K];if(!(q[Hn]||q[vt]||d==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var Ae=q.getAttribute(y)||"";Ae=d+Ae;var ge=O.get(Ae);ge?ge.push(q):O.set(Ae,[q])}}return O}function bf(d,y,_){d=d.ownerDocument||d,d.head.insertBefore(_,y==="title"?d.querySelector("head > title"):null)}function Xh(d,y,_){if(_===1||y.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return d=y.disabled,typeof y.precedence=="string"&&d==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function Bf(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Yh(d,y,_,O){if(_.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var K=Na(O.href),q=y.querySelector(xo(K));if(q){y=q._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(d.count++,d=Tl.bind(d),y.then(d,d)),_.state.loading|=4,_.instance=q,yn(q);return}q=y.ownerDocument||y,O=Ef(O),(K=ds.get(K))&&wA(O,K),q=q.createElement("link"),yn(q);var Ae=q;Ae._p=new Promise(function(ge,Re){Ae.onload=ge,Ae.onerror=Re}),br(q,"link",O),_.instance=q}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(_,y),(y=_.state.preload)&&(_.state.loading&3)===0&&(d.count++,_=Tl.bind(d),y.addEventListener("load",_),y.addEventListener("error",_))}}var _A=0;function Jh(d,y){return d.stylesheets&&d.count===0&&Il(d,d.stylesheets),0<d.count||0<d.imgCount?function(_){var O=setTimeout(function(){if(d.stylesheets&&Il(d,d.stylesheets),d.unsuspend){var q=d.unsuspend;d.unsuspend=null,q()}},6e4+y);0<d.imgBytes&&_A===0&&(_A=62500*Fh());var K=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&Il(d,d.stylesheets),d.unsuspend)){var q=d.unsuspend;d.unsuspend=null,q()}},(d.imgBytes>_A?50:800)+y);return d.unsuspend=_,function(){d.unsuspend=null,clearTimeout(O),clearTimeout(K)}}:null}function Tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Il(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Rl=null;function Il(d,y){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Rl=new Map,y.forEach(Zh,d),Rl=null,Tl.call(d))}function Zh(d,y){if(!(y.state.loading&4)){var _=Rl.get(d);if(_)var O=_.get(null);else{_=new Map,Rl.set(d,_);for(var K=d.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<K.length;q++){var Ae=K[q];(Ae.nodeName==="LINK"||Ae.getAttribute("media")!=="not all")&&(_.set(Ae.dataset.precedence,Ae),O=Ae)}O&&_.set(null,O)}K=y.instance,Ae=K.getAttribute("data-precedence"),q=_.get(Ae)||O,q===O&&_.set(null,K),_.set(Ae,K),this.count++,O=Tl.bind(this),K.addEventListener("load",O),K.addEventListener("error",O),q?q.parentNode.insertBefore(K,q.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(K,d.firstChild)),y.state.loading|=4}}var vo={$$typeof:H,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ep(d,y,_,O,K,q,Ae,ge,Re){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=O,this.onUncaughtError=K,this.onCaughtError=q,this.onRecoverableError=Ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function _f(d,y,_,O,K,q,Ae,ge,Re,Qe,nt,st){return d=new ep(d,y,_,Ae,Re,Qe,nt,st,ge),y=1,q===!0&&(y|=24),q=Kr(3,null,null,y),d.current=q,q.stateNode=d,y=sc(),y.refCount++,d.pooledCache=y,y.refCount++,q.memoizedState={element:O,isDehydrated:_,cache:y},lc(q),d}function Sf(d){return d?(d=ca,d):ca}function Tf(d,y,_,O,K,q){K=Sf(K),O.context===null?O.context=K:O.pendingContext=K,O=hi(y),O.payload={element:_},q=q===void 0?null:q,q!==null&&(O.callback=q),_=pi(d,O,y),_!==null&&(Hr(_,d,y),Ya(_,d,y))}function Rf(d,y){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<y?_:y}}function TA(d,y){Rf(d,y),(d=d.alternate)&&Rf(d,y)}function If(d){if(d.tag===13||d.tag===31){var y=Pi(d,67108864);y!==null&&Hr(y,d,67108864),TA(d,67108864)}}function Nf(d){if(d.tag===13||d.tag===31){var y=Jr();y=at(y);var _=Pi(d,y);_!==null&&Hr(_,d,y),TA(d,y)}}var Fl=!0;function tp(d,y,_,O){var K=ae.T;ae.T=null;var q=ue.p;try{ue.p=2,RA(d,y,_,O)}finally{ue.p=q,ae.T=K}}function np(d,y,_,O){var K=ae.T;ae.T=null;var q=ue.p;try{ue.p=8,RA(d,y,_,O)}finally{ue.p=q,ae.T=K}}function RA(d,y,_,O){if(Fl){var K=IA(O);if(K===null)fA(d,y,O,kl,_),kf(d,O);else if(sp(K,d,y,_,O))O.stopPropagation();else if(kf(d,O),y&4&&-1<rp.indexOf(d)){for(;K!==null;){var q=rn(K);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var Ae=Bn(q.pendingLanes);if(Ae!==0){var ge=q;for(ge.pendingLanes|=2,ge.entangledLanes|=2;Ae;){var Re=1<<31-lt(Ae);ge.entanglements[1]|=Re,Ae&=~Re}Ts(q),(bn&6)===0&&(hl=it()+500,ho(0))}}break;case 31:case 13:ge=Pi(q,2),ge!==null&&Hr(ge,q,2),ml(),TA(q,2)}if(q=IA(O),q===null&&fA(d,y,O,kl,_),q===K)break;K=q}K!==null&&O.stopPropagation()}else fA(d,y,O,null,_)}}function IA(d){return d=Da(d),NA(d)}var kl=null;function NA(d){if(kl=null,d=zt(d),d!==null){var y=l(d);if(y===null)d=null;else{var _=y.tag;if(_===13){if(d=c(y),d!==null)return d;d=null}else if(_===31){if(d=p(y),d!==null)return d;d=null}else if(_===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;d=null}else y!==d&&(d=null)}}return kl=d,null}function Ff(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case Fe:return 2;case Ye:return 8;case Je:case bt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var FA=!1,_i=null,Si=null,Ti=null,Eo=new Map,Co=new Map,Ri=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kf(d,y){switch(d){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Eo.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(y.pointerId)}}function wo(d,y,_,O,K,q){return d===null||d.nativeEvent!==q?(d={blockedOn:y,domEventName:_,eventSystemFlags:O,nativeEvent:q,targetContainers:[K]},y!==null&&(y=rn(y),y!==null&&If(y)),d):(d.eventSystemFlags|=O,y=d.targetContainers,K!==null&&y.indexOf(K)===-1&&y.push(K),d)}function sp(d,y,_,O,K){switch(y){case"focusin":return _i=wo(_i,d,y,_,O,K),!0;case"dragenter":return Si=wo(Si,d,y,_,O,K),!0;case"mouseover":return Ti=wo(Ti,d,y,_,O,K),!0;case"pointerover":var q=K.pointerId;return Eo.set(q,wo(Eo.get(q)||null,d,y,_,O,K)),!0;case"gotpointercapture":return q=K.pointerId,Co.set(q,wo(Co.get(q)||null,d,y,_,O,K)),!0}return!1}function Mf(d){var y=zt(d.target);if(y!==null){var _=l(y);if(_!==null){if(y=_.tag,y===13){if(y=c(_),y!==null){d.blockedOn=y,et(d.priority,function(){Nf(_)});return}}else if(y===31){if(y=p(_),y!==null){d.blockedOn=y,et(d.priority,function(){Nf(_)});return}}else if(y===3&&_.stateNode.current.memoizedState.isDehydrated){d.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ml(d){if(d.blockedOn!==null)return!1;for(var y=d.targetContainers;0<y.length;){var _=IA(d.nativeEvent);if(_===null){_=d.nativeEvent;var O=new _.constructor(_.type,_);Ni=O,_.target.dispatchEvent(O),Ni=null}else return y=rn(_),y!==null&&If(y),d.blockedOn=_,!1;y.shift()}return!0}function Of(d,y,_){Ml(d)&&_.delete(y)}function ap(){FA=!1,_i!==null&&Ml(_i)&&(_i=null),Si!==null&&Ml(Si)&&(Si=null),Ti!==null&&Ml(Ti)&&(Ti=null),Eo.forEach(Of),Co.forEach(Of)}function Ol(d,y){d.blockedOn===y&&(d.blockedOn=null,FA||(FA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ap)))}var Dl=null;function Df(d){Dl!==d&&(Dl=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dl===d&&(Dl=null);for(var y=0;y<d.length;y+=3){var _=d[y],O=d[y+1],K=d[y+2];if(typeof O!="function"){if(NA(O||_)===null)continue;break}var q=rn(_);q!==null&&(d.splice(y,3),y-=3,Tc(q,{pending:!0,data:K,method:_.method,action:O},O,K))}}))}function ka(d){function y(Re){return Ol(Re,d)}_i!==null&&Ol(_i,d),Si!==null&&Ol(Si,d),Ti!==null&&Ol(Ti,d),Eo.forEach(y),Co.forEach(y);for(var _=0;_<Ri.length;_++){var O=Ri[_];O.blockedOn===d&&(O.blockedOn=null)}for(;0<Ri.length&&(_=Ri[0],_.blockedOn===null);)Mf(_),_.blockedOn===null&&Ri.shift();if(_=(d.ownerDocument||d).$$reactFormReplay,_!=null)for(O=0;O<_.length;O+=3){var K=_[O],q=_[O+1],Ae=K[yt]||null;if(typeof q=="function")Ae||Df(_);else if(Ae){var ge=null;if(q&&q.hasAttribute("formAction")){if(K=q,Ae=q[yt]||null)ge=Ae.formAction;else if(NA(K)!==null)continue}else ge=Ae.action;typeof ge=="function"?_[O+1]=ge:(_.splice(O,3),O-=3),Df(_)}}}function Lf(){function d(q){q.canIntercept&&q.info==="react-transition"&&q.intercept({handler:function(){return new Promise(function(Ae){return K=Ae})},focusReset:"manual",scroll:"manual"})}function y(){K!==null&&(K(),K=null),O||setTimeout(_,20)}function _(){if(!O&&!navigation.transition){var q=navigation.currentEntry;q&&q.url!=null&&navigation.navigate(q.url,{state:q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,K=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",y),navigation.addEventListener("navigateerror",y),setTimeout(_,100),function(){O=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",y),navigation.removeEventListener("navigateerror",y),K!==null&&(K(),K=null)}}}function kA(d){this._internalRoot=d}Ll.prototype.render=kA.prototype.render=function(d){var y=this._internalRoot;if(y===null)throw Error(s(409));var _=y.current,O=Jr();Tf(_,O,d,y,null,null)},Ll.prototype.unmount=kA.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var y=d.containerInfo;Tf(d.current,2,null,d,null,null),ml(),y[Nt]=null}};function Ll(d){this._internalRoot=d}Ll.prototype.unstable_scheduleHydration=function(d){if(d){var y=wt();d={blockedOn:null,target:d,priority:y};for(var _=0;_<Ri.length&&y!==0&&y<Ri[_].priority;_++);Ri.splice(_,0,d),_===0&&Mf(d)}};var jf=n.version;if(jf!=="19.2.0")throw Error(s(527,jf,"19.2.0"));ue.findDOMNode=function(d){var y=d._reactInternals;if(y===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=x(y),d=d!==null?b(d):null,d=d===null?null:d.stateNode,d};var lp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{ze=jl.inject(lp),$e=jl}catch{}}return reactDomClient_production.createRoot=function(d,y){if(!o(d))throw Error(s(299));var _=!1,O="",K=Vu,q=zu,Ae=Gu;return y!=null&&(y.unstable_strictMode===!0&&(_=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onUncaughtError!==void 0&&(K=y.onUncaughtError),y.onCaughtError!==void 0&&(q=y.onCaughtError),y.onRecoverableError!==void 0&&(Ae=y.onRecoverableError)),y=_f(d,1,!1,null,null,_,O,null,K,q,Ae,Lf),d[Nt]=y.current,dA(d),new kA(y)},reactDomClient_production.hydrateRoot=function(d,y,_){if(!o(d))throw Error(s(299));var O=!1,K="",q=Vu,Ae=zu,ge=Gu,Re=null;return _!=null&&(_.unstable_strictMode===!0&&(O=!0),_.identifierPrefix!==void 0&&(K=_.identifierPrefix),_.onUncaughtError!==void 0&&(q=_.onUncaughtError),_.onCaughtError!==void 0&&(Ae=_.onCaughtError),_.onRecoverableError!==void 0&&(ge=_.onRecoverableError),_.formState!==void 0&&(Re=_.formState)),y=_f(d,1,!0,y,_??null,O,K,Re,q,Ae,ge,Lf),y.context=Sf(null),_=y.current,O=Jr(),O=at(O),K=hi(O),K.callback=null,pi(_,K,O),_=O,y.current.lanes=_,Zr(y,_),Ts(y),d[Nt]=y.current,dA(d),new Ll(y)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactExports$1=requireReact$1();const React4=getDefaultExportFromCjs(reactExports$1),ErrorBoundaryContext=reactExports$1.createContext(null),initialState$1={didCatch:!1,error:null};class ErrorBoundary extends reactExports$1.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$1}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var r,s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];(r=(s=this.props).onReset)===null||r===void 0||r.call(s,{args:l,reason:"imperative-api"}),this.setState(initialState$1)}}componentDidCatch(n,r){var s,o;(s=(o=this.props).onError)===null||s===void 0||s.call(o,n,r)}componentDidUpdate(n,r){const{didCatch:s}=this.state,{resetKeys:o}=this.props;if(s&&r.error!==null&&hasArrayChanged(n.resetKeys,o)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:o,prev:n.resetKeys,reason:"keys"}),this.setState(initialState$1)}}render(){const{children:n,fallbackRender:r,FallbackComponent:s,fallback:o}=this.props,{didCatch:l,error:c}=this.state;let p=n;if(l){const m={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")p=r(m);else if(s)p=reactExports$1.createElement(s,m);else if(o!==void 0)p=o;else throw c}return reactExports$1.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},p)}}function hasArrayChanged(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==n.length||t.some((r,s)=>!Object.is(r,n[s]))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __typeError=t=>{throw TypeError(t)},__accessCheck=(t,n,r)=>n.has(t)||__typeError("Cannot "+r),__privateGet=(t,n,r)=>(__accessCheck(t,n,"read from private field"),r?r.call(t):n.get(t)),__privateAdd=(t,n,r)=>n.has(t)?__typeError("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),PopStateEventType="popstate";function createBrowserHistory(t={}){function n(s,o){let{pathname:l,search:c,hash:p}=s.location;return createLocation("",{pathname:l,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(n,r,null,t)}function invariant(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function warning(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function createKey$1(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,n){return{usr:t.state,key:t.key,idx:n}}function createLocation(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?parsePath(n):n,state:r,key:n&&n.key||s||createKey$1()}}function createPath({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function parsePath(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function getUrlBasedHistory(t,n,r,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,p="POP",m=null,x=b();x==null&&(x=0,c.replaceState({...c.state,idx:x},""));function b(){return(c.state||{idx:null}).idx}function S(){p="POP";let G=b(),P=G==null?null:G-x;x=G,m&&m({action:p,location:j.location,delta:P})}function R(G,P){p="PUSH";let Q=createLocation(j.location,G,P);x=b()+1;let H=getHistoryState(Q,x),X=j.createHref(Q);try{c.pushState(H,"",X)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(X)}l&&m&&m({action:p,location:j.location,delta:1})}function k(G,P){p="REPLACE";let Q=createLocation(j.location,G,P);x=b();let H=getHistoryState(Q,x),X=j.createHref(Q);c.replaceState(H,"",X),l&&m&&m({action:p,location:j.location,delta:0})}function M(G){return createBrowserURLImpl(G)}let j={get action(){return p},get location(){return t(o,c)},listen(G){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,S),m=G,()=>{o.removeEventListener(PopStateEventType,S),m=null}},createHref(G){return n(o,G)},createURL:M,encodeLocation(G){let P=M(G);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:R,replace:k,go(G){return c.go(G)}};return j}function createBrowserURLImpl(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:createPath(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var _map,RouterContextProvider=class{constructor(t){if(__privateAdd(this,_map,new Map),t)for(let[n,r]of t)this.set(n,r)}get(t){if(__privateGet(this,_map).has(t))return __privateGet(this,_map).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,n){__privateGet(this,_map).set(t,n)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(t){return unsupportedLazyRouteObjectKeys.has(t)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function isUnsupportedLazyRouteFunctionKey(t){return unsupportedLazyRouteFunctionKeys.has(t)}function isIndexRoute(t){return t.index===!0}function convertRoutesToDataRoutes(t,n,r=[],s={},o=!1){return t.map((l,c)=>{let p=[...r,String(c)],m=typeof l.id=="string"?l.id:p.join("-");if(invariant(l.index!==!0||!l.children,"Cannot specify children on an index route"),invariant(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(l)){let x={...l,id:m};return s[m]=mergeRouteUpdates(x,n(x)),x}else{let x={...l,id:m,children:void 0};return s[m]=mergeRouteUpdates(x,n(x)),l.children&&(x.children=convertRoutesToDataRoutes(l.children,n,p,s,o)),x}})}function mergeRouteUpdates(t,n){return Object.assign(t,{...n,...typeof n.lazy=="object"&&n.lazy!=null?{lazy:{...t.lazy,...n.lazy}}:{}})}function matchRoutes(t,n,r="/"){return matchRoutesImpl(t,n,r,!1)}function matchRoutesImpl(t,n,r,s){let o=typeof n=="string"?parsePath(n):n,l=stripBasename(o.pathname||"/",r);if(l==null)return null;let c=flattenRoutes(t);rankRouteBranches(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let x=decodePath(l);p=matchRouteBranch(c[m],x,s)}return p}function convertRouteMatchToUiMatch(t,n){let{route:r,pathname:s,params:o}=t;return{id:r.id,pathname:s,params:o,data:n[r.id],loaderData:n[r.id],handle:r.handle}}function flattenRoutes(t,n=[],r=[],s="",o=!1){let l=(c,p,m=o,x)=>{let b={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&m)return;invariant(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let S=joinPaths([s,b.relativePath]),R=r.concat(b);c.children&&c.children.length>0&&(invariant(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),flattenRoutes(c.children,n,R,S,m)),!(c.path==null&&!c.index)&&n.push({path:S,score:computeScore(S,c.index),routesMeta:R})};return t.forEach((c,p)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,p);else for(let x of explodeOptionalSegments(c.path))l(c,p,!0,x)}),n}function explodeOptionalSegments(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=explodeOptionalSegments(s.join("/")),p=[];return p.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&p.push(...c),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function rankRouteBranches(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:compareIndexes(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,n){let r=t.split("/"),s=r.length;return r.some(isSplat)&&(s+=splatPenalty),n&&(s+=indexRouteValue),r.filter(o=>!isSplat(o)).reduce((o,l)=>o+(paramRe.test(l)?dynamicSegmentValue:l===""?emptySegmentValue:staticSegmentValue),s)}function compareIndexes(t,n){return t.length===n.length&&t.slice(0,-1).every((s,o)=>s===n[o])?t[t.length-1]-n[n.length-1]:0}function matchRouteBranch(t,n,r=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let p=0;p<s.length;++p){let m=s[p],x=p===s.length-1,b=l==="/"?n:n.slice(l.length)||"/",S=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:x},b),R=m.route;if(!S&&x&&r&&!s[s.length-1].route.index&&(S=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:joinPaths([l,S.pathname]),pathnameBase:normalizePathname(joinPaths([l,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(l=joinPaths([l,S.pathnameBase]))}return c}function matchPath(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=compilePath(t.path,t.caseSensitive,t.end),o=n.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((x,{paramName:b,isOptional:S},R)=>{if(b==="*"){let M=p[R]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const k=p[R];return S&&!k?x[b]=void 0:x[b]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:c,pattern:t}}function compilePath(t,n=!1,r=!0){warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function decodePath(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return warning(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function stripBasename(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function prependBasename({basename:t,pathname:n}){return n==="/"?t:joinPaths([t,n])}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=t=>ABSOLUTE_URL_REGEX.test(t);function resolvePath(t,n="/"){let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?parsePath(t):t,l;if(r)if(isAbsoluteUrl(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=resolvePathname(r.substring(1),"/"):l=resolvePathname(r,n)}else l=n;return{pathname:l,search:normalizeSearch(s),hash:normalizeHash(o)}}function resolvePathname(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function getInvalidPathError(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function getResolveToMatches(t){let n=getPathContributingMatches(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function resolveTo(t,n,r,s=!1){let o;typeof t=="string"?o=parsePath(t):(o={...t},invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,p;if(c==null)p=r;else{let S=n.length-1;if(!s&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}p=S>=0?n[S]:"/"}let m=resolvePath(o,p),x=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(x||b)&&(m.pathname+="/"),m}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ErrorResponseImpl=class{constructor(t,n,r,s=!1){this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function getRoutePattern(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UninstrumentedSymbol=Symbol("Uninstrumented");function getRouteInstrumentationUpdates(t,n){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(o=>o({id:n.id,index:n.index,path:n.path,instrument(l){let c=Object.keys(r);for(let p of c)l[p]&&r[p].push(l[p])}}));let s={};if(typeof n.lazy=="function"&&r.lazy.length>0){let o=wrapImpl(r.lazy,n.lazy,()=>{});o&&(s.lazy=o)}if(typeof n.lazy=="object"){let o=n.lazy;["middleware","loader","action"].forEach(l=>{let c=o[l],p=r[`lazy.${l}`];if(typeof c=="function"&&p.length>0){let m=wrapImpl(p,c,()=>{});m&&(s.lazy=Object.assign(s.lazy||{},{[l]:m}))}})}return["loader","action"].forEach(o=>{let l=n[o];if(typeof l=="function"&&r[o].length>0){let c=l[UninstrumentedSymbol]??l,p=wrapImpl(r[o],c,(...m)=>getHandlerInfo(m[0]));p&&(p[UninstrumentedSymbol]=c,s[o]=p)}}),n.middleware&&n.middleware.length>0&&r.middleware.length>0&&(s.middleware=n.middleware.map(o=>{let l=o[UninstrumentedSymbol]??o,c=wrapImpl(r.middleware,l,(...p)=>getHandlerInfo(p[0]));return c?(c[UninstrumentedSymbol]=l,c):o})),s}function instrumentClientSideRouter(t,n){let r={navigate:[],fetch:[]};if(n.forEach(s=>s({instrument(o){let l=Object.keys(o);for(let c of l)o[c]&&r[c].push(o[c])}})),r.navigate.length>0){let s=t.navigate[UninstrumentedSymbol]??t.navigate,o=wrapImpl(r.navigate,s,(...l)=>{let[c,p]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?createPath(c):".",...getRouterInfo(t,p??{})}});o&&(o[UninstrumentedSymbol]=s,t.navigate=o)}if(r.fetch.length>0){let s=t.fetch[UninstrumentedSymbol]??t.fetch,o=wrapImpl(r.fetch,s,(...l)=>{let[c,,p,m]=l;return{href:p??".",fetcherKey:c,...getRouterInfo(t,m??{})}});o&&(o[UninstrumentedSymbol]=s,t.fetch=o)}return t}function wrapImpl(t,n,r){return t.length===0?null:async(...s)=>{let o=await recurseRight(t,r(...s),()=>n(...s),t.length-1);if(o.type==="error")throw o.value;return o.value}}async function recurseRight(t,n,r,s){let o=t[s],l;if(o){let c,p=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=recurseRight(t,n,r,s-1),l=await c,invariant(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await o(p,n)}catch(m){console.error("An instrumentation function threw an error:",m)}c||await p(),await c}else try{l={type:"success",value:await r()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function getHandlerInfo(t){let{request:n,context:r,params:s,unstable_pattern:o}=t;return{request:getReadonlyRequest(n),params:{...s},unstable_pattern:o,context:getReadonlyContext(r)}}function getRouterInfo(t,n){return{currentUrl:createPath(t.state.location),..."formMethod"in n?{formMethod:n.formMethod}:{},..."formEncType"in n?{formEncType:n.formEncType}:{},..."formData"in n?{formData:n.formData}:{},..."body"in n?{body:n.body}:{}}}function getReadonlyRequest(t){return{method:t.method,url:t.url,headers:{get:(...n)=>t.headers.get(...n)}}}function getReadonlyContext(t){if(isPlainObject$2(t)){let n={...t};return Object.freeze(n),n}else return{get:n=>t.get(n)}}var objectProtoNames=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function isPlainObject$2(t){if(t===null||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);return n===Object.prototype||n===null||Object.getOwnPropertyNames(n).sort().join("\0")===objectProtoNames}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},defaultMapRouteProperties=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(t){const n=t.window?t.window:typeof window<"u"?window:void 0,r=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u";invariant(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||defaultMapRouteProperties,l=o;if(t.unstable_instrumentations){let Te=t.unstable_instrumentations;l=Oe=>({...o(Oe),...getRouteInstrumentationUpdates(Te.map(Ge=>Ge.route).filter(Boolean),Oe)})}let c={},p=convertRoutesToDataRoutes(t.routes,l,void 0,c),m,x=t.basename||"/";x.startsWith("/")||(x=`/${x}`);let b=t.dataStrategy||defaultDataStrategyWithMiddleware,S={...t.future},R=null,k=new Set,M=null,j=null,G=null,P=t.hydrationData!=null,Q=matchRoutes(p,t.history.location,x),H=!1,X=null,ee;if(Q==null&&!t.patchRoutesOnNavigation){let Te=getInternalRouterError(404,{pathname:t.history.location.pathname}),{matches:Oe,route:Ge}=getShortCircuitMatches(p);ee=!0,Q=Oe,X={[Ge.id]:Te}}else if(Q&&!t.hydrationData&&Tr(Q,p,t.history.location.pathname).active&&(Q=null),Q)if(Q.some(Te=>Te.route.lazy))ee=!1;else if(!Q.some(Te=>routeHasLoaderOrMiddleware(Te.route)))ee=!0;else{let Te=t.hydrationData?t.hydrationData.loaderData:null,Oe=t.hydrationData?t.hydrationData.errors:null;if(Oe){let Ge=Q.findIndex(at=>Oe[at.route.id]!==void 0);ee=Q.slice(0,Ge+1).every(at=>!shouldLoadRouteOnHydration(at.route,Te,Oe))}else ee=Q.every(Ge=>!shouldLoadRouteOnHydration(Ge.route,Te,Oe))}else{ee=!1,Q=[];let Te=Tr(null,p,t.history.location.pathname);Te.active&&Te.matches&&(H=!0,Q=Te.matches)}let ne,Y={historyAction:t.history.action,location:t.history.location,matches:Q,initialized:ee,navigation:IDLE_NAVIGATION,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||X,fetchers:new Map,blockers:new Map},re="POP",oe=!1,xe,ve=!1,me=new Map,we=null,Ee=!1,he=!1,ae=new Set,ue=new Map,te=0,se=-1,Ce=new Map,ce=new Set,ye=new Map,Se=new Map,_e=new Set,je=new Map,Me,Ze=null;function ot(){if(R=t.history.listen(({action:Te,location:Oe,delta:Ge})=>{if(Me){Me(),Me=void 0;return}warning(je.size===0||Ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let at=dn({currentLocation:Y.location,nextLocation:Oe,historyAction:Te});if(at&&Ge!=null){let ht=new Promise(wt=>{Me=wt});t.history.go(Ge*-1),un(at,{state:"blocked",location:Oe,proceed(){un(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),ht.then(()=>t.history.go(Ge))},reset(){let wt=new Map(Y.blockers);wt.set(at,IDLE_BLOCKER),mt({blockers:wt})}});return}return an(Te,Oe)}),r){restoreAppliedTransitions(n,me);let Te=()=>persistAppliedTransitions(n,me);n.addEventListener("pagehide",Te),we=()=>n.removeEventListener("pagehide",Te)}return Y.initialized||an("POP",Y.location,{initialHydration:!0}),ne}function Ct(){R&&R(),we&&we(),k.clear(),xe&&xe.abort(),Y.fetchers.forEach((Te,Oe)=>Wt(Oe)),Y.blockers.forEach((Te,Oe)=>on(Oe))}function It(Te){return k.add(Te),()=>k.delete(Te)}function mt(Te,Oe={}){Te.matches&&(Te.matches=Te.matches.map(ht=>{let wt=c[ht.route.id],et=ht.route;return et.element!==wt.element||et.errorElement!==wt.errorElement||et.hydrateFallbackElement!==wt.hydrateFallbackElement?{...ht,route:wt}:ht})),Y={...Y,...Te};let Ge=[],at=[];Y.fetchers.forEach((ht,wt)=>{ht.state==="idle"&&(_e.has(wt)?Ge.push(wt):at.push(wt))}),_e.forEach(ht=>{!Y.fetchers.has(ht)&&!ue.has(ht)&&Ge.push(ht)}),[...k].forEach(ht=>ht(Y,{deletedFetchers:Ge,viewTransitionOpts:Oe.viewTransitionOpts,flushSync:Oe.flushSync===!0})),Ge.forEach(ht=>Wt(ht)),at.forEach(ht=>Y.fetchers.delete(ht))}function Ut(Te,Oe,{flushSync:Ge}={}){var Nt,Tt;let at=Y.actionData!=null&&Y.navigation.formMethod!=null&&isMutationMethod(Y.navigation.formMethod)&&Y.navigation.state==="loading"&&((Nt=Te.state)==null?void 0:Nt._isRedirect)!==!0,ht;Oe.actionData?Object.keys(Oe.actionData).length>0?ht=Oe.actionData:ht=null:at?ht=Y.actionData:ht=null;let wt=Oe.loaderData?mergeLoaderData(Y.loaderData,Oe.loaderData,Oe.matches||[],Oe.errors):Y.loaderData,et=Y.blockers;et.size>0&&(et=new Map(et),et.forEach((Vt,nn)=>et.set(nn,IDLE_BLOCKER)));let Et=Ee?!1:Nn(Te,Oe.matches||Y.matches),vt=oe===!0||Y.navigation.formMethod!=null&&isMutationMethod(Y.navigation.formMethod)&&((Tt=Te.state)==null?void 0:Tt._isRedirect)!==!0;m&&(p=m,m=void 0),Ee||re==="POP"||(re==="PUSH"?t.history.push(Te,Te.state):re==="REPLACE"&&t.history.replace(Te,Te.state));let yt;if(re==="POP"){let Vt=me.get(Y.location.pathname);Vt&&Vt.has(Te.pathname)?yt={currentLocation:Y.location,nextLocation:Te}:me.has(Te.pathname)&&(yt={currentLocation:Te,nextLocation:Y.location})}else if(ve){let Vt=me.get(Y.location.pathname);Vt?Vt.add(Te.pathname):(Vt=new Set([Te.pathname]),me.set(Y.location.pathname,Vt)),yt={currentLocation:Y.location,nextLocation:Te}}mt({...Oe,actionData:ht,loaderData:wt,historyAction:re,location:Te,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Et,preventScrollReset:vt,blockers:et},{viewTransitionOpts:yt,flushSync:Ge===!0}),re="POP",oe=!1,ve=!1,Ee=!1,he=!1,Ze==null||Ze.resolve(),Ze=null}async function gt(Te,Oe){if(typeof Te=="number"){t.history.go(Te);return}let Ge=normalizeTo(Y.location,Y.matches,x,Te,Oe==null?void 0:Oe.fromRouteId,Oe==null?void 0:Oe.relative),{path:at,submission:ht,error:wt}=normalizeNavigateOptions(!1,Ge,Oe),et=Y.location,Et=createLocation(Y.location,at,Oe&&Oe.state);Et={...Et,...t.history.encodeLocation(Et)};let vt=Oe&&Oe.replace!=null?Oe.replace:void 0,yt="PUSH";vt===!0?yt="REPLACE":vt===!1||ht!=null&&isMutationMethod(ht.formMethod)&&ht.formAction===Y.location.pathname+Y.location.search&&(yt="REPLACE");let Nt=Oe&&"preventScrollReset"in Oe?Oe.preventScrollReset===!0:void 0,Tt=(Oe&&Oe.flushSync)===!0,Vt=dn({currentLocation:et,nextLocation:Et,historyAction:yt});if(Vt){un(Vt,{state:"blocked",location:Et,proceed(){un(Vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Et}),gt(Te,Oe)},reset(){let nn=new Map(Y.blockers);nn.set(Vt,IDLE_BLOCKER),mt({blockers:nn})}});return}await an(yt,Et,{submission:ht,pendingError:wt,preventScrollReset:Nt,replace:Oe&&Oe.replace,enableViewTransition:Oe&&Oe.viewTransition,flushSync:Tt})}function xt(){Ze||(Ze=createDeferred()),Fe(),mt({revalidation:"loading"});let Te=Ze.promise;return Y.navigation.state==="submitting"?Te:Y.navigation.state==="idle"?(an(Y.historyAction,Y.location,{startUninterruptedRevalidation:!0}),Te):(an(re||Y.historyAction,Y.navigation.location,{overrideNavigation:Y.navigation,enableViewTransition:ve===!0}),Te)}async function an(Te,Oe,Ge){xe&&xe.abort(),xe=null,re=Te,Ee=(Ge&&Ge.startUninterruptedRevalidation)===!0,Br(Y.location,Y.matches),oe=(Ge&&Ge.preventScrollReset)===!0,ve=(Ge&&Ge.enableViewTransition)===!0;let at=m||p,ht=Ge&&Ge.overrideNavigation,wt=Ge!=null&&Ge.initialHydration&&Y.matches&&Y.matches.length>0&&!H?Y.matches:matchRoutes(at,Oe,x),et=(Ge&&Ge.flushSync)===!0;if(wt&&Y.initialized&&!he&&isHashChangeOnly(Y.location,Oe)&&!(Ge&&Ge.submission&&isMutationMethod(Ge.submission.formMethod))){Ut(Oe,{matches:wt},{flushSync:et});return}let Et=Tr(wt,at,Oe.pathname);if(Et.active&&Et.matches&&(wt=Et.matches),!wt){let{error:Hn,notFoundMatches:en,route:zt}=kt(Oe.pathname);Ut(Oe,{matches:en,loaderData:{},errors:{[zt.id]:Hn}},{flushSync:et});return}xe=new AbortController;let vt=createClientSideRequest(t.history,Oe,xe.signal,Ge&&Ge.submission),yt=t.getContext?await t.getContext():new RouterContextProvider,Nt;if(Ge&&Ge.pendingError)Nt=[findNearestBoundary(wt).route.id,{type:"error",error:Ge.pendingError}];else if(Ge&&Ge.submission&&isMutationMethod(Ge.submission.formMethod)){let Hn=await Un(vt,Oe,Ge.submission,wt,yt,Et.active,Ge&&Ge.initialHydration===!0,{replace:Ge.replace,flushSync:et});if(Hn.shortCircuited)return;if(Hn.pendingActionResult){let[en,zt]=Hn.pendingActionResult;if(isErrorResult(zt)&&isRouteErrorResponse(zt.error)&&zt.error.status===404){xe=null,Ut(Oe,{matches:Hn.matches,loaderData:{},errors:{[en]:zt.error}});return}}wt=Hn.matches||wt,Nt=Hn.pendingActionResult,ht=getLoadingNavigation(Oe,Ge.submission),et=!1,Et.active=!1,vt=createClientSideRequest(t.history,vt.url,vt.signal)}let{shortCircuited:Tt,matches:Vt,loaderData:nn,errors:Wn}=await Zt(vt,Oe,wt,yt,Et.active,ht,Ge&&Ge.submission,Ge&&Ge.fetcherSubmission,Ge&&Ge.replace,Ge&&Ge.initialHydration===!0,et,Nt);Tt||(xe=null,Ut(Oe,{matches:Vt||wt,...getActionDataForCommit(Nt),loaderData:nn,errors:Wn}))}async function Un(Te,Oe,Ge,at,ht,wt,et,Et={}){Fe();let vt=getSubmittingNavigation(Oe,Ge);if(mt({navigation:vt},{flushSync:Et.flushSync===!0}),wt){let Tt=await Dn(at,Oe.pathname,Te.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){if(Tt.partialMatches.length===0){let{matches:nn,route:Wn}=getShortCircuitMatches(p);return{matches:nn,pendingActionResult:[Wn.id,{type:"error",error:Tt.error}]}}let Vt=findNearestBoundary(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,pendingActionResult:[Vt,{type:"error",error:Tt.error}]}}else if(Tt.matches)at=Tt.matches;else{let{notFoundMatches:Vt,error:nn,route:Wn}=kt(Oe.pathname);return{matches:Vt,pendingActionResult:[Wn.id,{type:"error",error:nn}]}}}let yt,Nt=getTargetMatch(at,Oe);if(!Nt.route.action&&!Nt.route.lazy)yt={type:"error",error:getInternalRouterError(405,{method:Te.method,pathname:Oe.pathname,routeId:Nt.route.id})};else{let Tt=getTargetedDataStrategyMatches(l,c,Te,at,Nt,et?[]:s,ht),Vt=await it(Te,Tt,ht,null);if(yt=Vt[Nt.route.id],!yt){for(let nn of at)if(Vt[nn.route.id]){yt=Vt[nn.route.id];break}}if(Te.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(yt)){let Tt;return Et&&Et.replace!=null?Tt=Et.replace:Tt=normalizeRedirectLocation(yt.response.headers.get("Location"),new URL(Te.url),x)===Y.location.pathname+Y.location.search,await On(Te,yt,!0,{submission:Ge,replace:Tt}),{shortCircuited:!0}}if(isErrorResult(yt)){let Tt=findNearestBoundary(at,Nt.route.id);return(Et&&Et.replace)!==!0&&(re="PUSH"),{matches:at,pendingActionResult:[Tt.route.id,yt,Nt.route.id]}}return{matches:at,pendingActionResult:[Nt.route.id,yt]}}async function Zt(Te,Oe,Ge,at,ht,wt,et,Et,vt,yt,Nt,Tt){let Vt=wt||getLoadingNavigation(Oe,et),nn=et||Et||getSubmissionFromNavigation(Vt),Wn=!Ee&&!yt;if(ht){if(Wn){let Ht=$t(Tt);mt({navigation:Vt,...Ht!==void 0?{actionData:Ht}:{}},{flushSync:Nt})}let _t=await Dn(Ge,Oe.pathname,Te.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){if(_t.partialMatches.length===0){let{matches:qt,route:Sr}=getShortCircuitMatches(p);return{matches:qt,loaderData:{},errors:{[Sr.id]:_t.error}}}let Ht=findNearestBoundary(_t.partialMatches).route.id;return{matches:_t.partialMatches,loaderData:{},errors:{[Ht]:_t.error}}}else if(_t.matches)Ge=_t.matches;else{let{error:Ht,notFoundMatches:qt,route:Sr}=kt(Oe.pathname);return{matches:qt,loaderData:{},errors:{[Sr.id]:Ht}}}}let Hn=m||p,{dsMatches:en,revalidatingFetchers:zt}=getMatchesToLoad(Te,at,l,c,t.history,Y,Ge,nn,Oe,yt?[]:s,yt===!0,he,ae,_e,ye,ce,Hn,x,t.patchRoutesOnNavigation!=null,Tt);if(se=++te,!t.dataStrategy&&!en.some(_t=>_t.shouldLoad)&&!en.some(_t=>_t.route.middleware&&_t.route.middleware.length>0)&&zt.length===0){let _t=ut();return Ut(Oe,{matches:Ge,loaderData:{},errors:Tt&&isErrorResult(Tt[1])?{[Tt[0]]:Tt[1].error}:null,...getActionDataForCommit(Tt),..._t?{fetchers:new Map(Y.fetchers)}:{}},{flushSync:Nt}),{shortCircuited:!0}}if(Wn){let _t={};if(!ht){_t.navigation=Vt;let Ht=$t(Tt);Ht!==void 0&&(_t.actionData=Ht)}zt.length>0&&(_t.fetchers=Ot(zt)),mt(_t,{flushSync:Nt})}zt.forEach(_t=>{ze(_t.key),_t.controller&&ue.set(_t.key,_t.controller)});let rn=()=>zt.forEach(_t=>ze(_t.key));xe&&xe.signal.addEventListener("abort",rn);let{loaderResults:Mr,fetcherResults:qn}=await Pe(en,zt,Te,at);if(Te.signal.aborted)return{shortCircuited:!0};xe&&xe.signal.removeEventListener("abort",rn),zt.forEach(_t=>ue.delete(_t.key));let yn=findRedirect(Mr);if(yn)return await On(Te,yn.result,!0,{replace:vt}),{shortCircuited:!0};if(yn=findRedirect(qn),yn)return ce.add(yn.key),await On(Te,yn.result,!0,{replace:vt}),{shortCircuited:!0};let{loaderData:ct,errors:vs}=processLoaderData(Y,Ge,Mr,Tt,zt,qn);yt&&Y.errors&&(vs={...Y.errors,...vs});let ln=ut(),gr=lt(se),Js=ln||gr||zt.length>0;return{matches:Ge,loaderData:ct,errors:vs,...Js?{fetchers:new Map(Y.fetchers)}:{}}}function $t(Te){if(Te&&!isErrorResult(Te[1]))return{[Te[0]]:Te[1].data};if(Y.actionData)return Object.keys(Y.actionData).length===0?null:Y.actionData}function Ot(Te){return Te.forEach(Oe=>{let Ge=Y.fetchers.get(Oe.key),at=getLoadingFetcher(void 0,Ge?Ge.data:void 0);Y.fetchers.set(Oe.key,at)}),new Map(Y.fetchers)}async function In(Te,Oe,Ge,at){ze(Te);let ht=(at&&at.flushSync)===!0,wt=m||p,et=normalizeTo(Y.location,Y.matches,x,Ge,Oe,at==null?void 0:at.relative),Et=matchRoutes(wt,et,x),vt=Tr(Et,wt,et);if(vt.active&&vt.matches&&(Et=vt.matches),!Et){Je(Te,Oe,getInternalRouterError(404,{pathname:et}),{flushSync:ht});return}let{path:yt,submission:Nt,error:Tt}=normalizeNavigateOptions(!0,et,at);if(Tt){Je(Te,Oe,Tt,{flushSync:ht});return}let Vt=t.getContext?await t.getContext():new RouterContextProvider,nn=(at&&at.preventScrollReset)===!0;if(Nt&&isMutationMethod(Nt.formMethod)){await pt(Te,Oe,yt,Et,Vt,vt.active,ht,nn,Nt);return}ye.set(Te,{routeId:Oe,path:yt}),await Kn(Te,Oe,yt,Et,Vt,vt.active,ht,nn,Nt)}async function pt(Te,Oe,Ge,at,ht,wt,et,Et,vt){Fe(),ye.delete(Te);let yt=Y.fetchers.get(Te);Ye(Te,getSubmittingFetcher(vt,yt),{flushSync:et});let Nt=new AbortController,Tt=createClientSideRequest(t.history,Ge,Nt.signal,vt);if(wt){let Cn=await Dn(at,new URL(Tt.url).pathname,Tt.signal,Te);if(Cn.type==="aborted")return;if(Cn.type==="error"){Je(Te,Oe,Cn.error,{flushSync:et});return}else if(Cn.matches)at=Cn.matches;else{Je(Te,Oe,getInternalRouterError(404,{pathname:Ge}),{flushSync:et});return}}let Vt=getTargetMatch(at,Ge);if(!Vt.route.action&&!Vt.route.lazy){let Cn=getInternalRouterError(405,{method:vt.formMethod,pathname:Ge,routeId:Oe});Je(Te,Oe,Cn,{flushSync:et});return}ue.set(Te,Nt);let nn=te,Wn=getTargetedDataStrategyMatches(l,c,Tt,at,Vt,s,ht),Hn=await it(Tt,Wn,ht,Te),en=Hn[Vt.route.id];if(!en){for(let Cn of Wn)if(Hn[Cn.route.id]){en=Hn[Cn.route.id];break}}if(Tt.signal.aborted){ue.get(Te)===Nt&&ue.delete(Te);return}if(_e.has(Te)){if(isRedirectResult(en)||isErrorResult(en)){Ye(Te,getDoneFetcher(void 0));return}}else{if(isRedirectResult(en))if(ue.delete(Te),se>nn){Ye(Te,getDoneFetcher(void 0));return}else return ce.add(Te),Ye(Te,getLoadingFetcher(vt)),On(Tt,en,!1,{fetcherSubmission:vt,preventScrollReset:Et});if(isErrorResult(en)){Je(Te,Oe,en.error);return}}let zt=Y.navigation.location||Y.location,rn=createClientSideRequest(t.history,zt,Nt.signal),Mr=m||p,qn=Y.navigation.state!=="idle"?matchRoutes(Mr,Y.navigation.location,x):Y.matches;invariant(qn,"Didn't find any matches after fetcher action");let yn=++te;Ce.set(Te,yn);let ct=getLoadingFetcher(vt,en.data);Y.fetchers.set(Te,ct);let{dsMatches:vs,revalidatingFetchers:ln}=getMatchesToLoad(rn,ht,l,c,t.history,Y,qn,vt,zt,s,!1,he,ae,_e,ye,ce,Mr,x,t.patchRoutesOnNavigation!=null,[Vt.route.id,en]);ln.filter(Cn=>Cn.key!==Te).forEach(Cn=>{let xr=Cn.key,gn=Y.fetchers.get(xr),Qr=getLoadingFetcher(void 0,gn?gn.data:void 0);Y.fetchers.set(xr,Qr),ze(xr),Cn.controller&&ue.set(xr,Cn.controller)}),mt({fetchers:new Map(Y.fetchers)});let gr=()=>ln.forEach(Cn=>ze(Cn.key));Nt.signal.addEventListener("abort",gr);let{loaderResults:Js,fetcherResults:_t}=await Pe(vs,ln,rn,ht);if(Nt.signal.aborted)return;if(Nt.signal.removeEventListener("abort",gr),Ce.delete(Te),ue.delete(Te),ln.forEach(Cn=>ue.delete(Cn.key)),Y.fetchers.has(Te)){let Cn=getDoneFetcher(en.data);Y.fetchers.set(Te,Cn)}let Ht=findRedirect(Js);if(Ht)return On(rn,Ht.result,!1,{preventScrollReset:Et});if(Ht=findRedirect(_t),Ht)return ce.add(Ht.key),On(rn,Ht.result,!1,{preventScrollReset:Et});let{loaderData:qt,errors:Sr}=processLoaderData(Y,qn,Js,void 0,ln,_t);lt(yn),Y.navigation.state==="loading"&&yn>se?(invariant(re,"Expected pending action"),xe&&xe.abort(),Ut(Y.navigation.location,{matches:qn,loaderData:qt,errors:Sr,fetchers:new Map(Y.fetchers)})):(mt({errors:Sr,loaderData:mergeLoaderData(Y.loaderData,qt,qn,Sr),fetchers:new Map(Y.fetchers)}),he=!1)}async function Kn(Te,Oe,Ge,at,ht,wt,et,Et,vt){let yt=Y.fetchers.get(Te);Ye(Te,getLoadingFetcher(vt,yt?yt.data:void 0),{flushSync:et});let Nt=new AbortController,Tt=createClientSideRequest(t.history,Ge,Nt.signal);if(wt){let zt=await Dn(at,new URL(Tt.url).pathname,Tt.signal,Te);if(zt.type==="aborted")return;if(zt.type==="error"){Je(Te,Oe,zt.error,{flushSync:et});return}else if(zt.matches)at=zt.matches;else{Je(Te,Oe,getInternalRouterError(404,{pathname:Ge}),{flushSync:et});return}}let Vt=getTargetMatch(at,Ge);ue.set(Te,Nt);let nn=te,Wn=getTargetedDataStrategyMatches(l,c,Tt,at,Vt,s,ht),en=(await it(Tt,Wn,ht,Te))[Vt.route.id];if(ue.get(Te)===Nt&&ue.delete(Te),!Tt.signal.aborted){if(_e.has(Te)){Ye(Te,getDoneFetcher(void 0));return}if(isRedirectResult(en))if(se>nn){Ye(Te,getDoneFetcher(void 0));return}else{ce.add(Te),await On(Tt,en,!1,{preventScrollReset:Et});return}if(isErrorResult(en)){Je(Te,Oe,en.error);return}Ye(Te,getDoneFetcher(en.data))}}async function On(Te,Oe,Ge,{submission:at,fetcherSubmission:ht,preventScrollReset:wt,replace:et}={}){Oe.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Et=Oe.response.headers.get("Location");invariant(Et,"Expected a Location header on the redirect Response"),Et=normalizeRedirectLocation(Et,new URL(Te.url),x);let vt=createLocation(Y.location,Et,{_isRedirect:!0});if(r){let Wn=!1;if(Oe.response.headers.has("X-Remix-Reload-Document"))Wn=!0;else if(isAbsoluteUrl(Et)){const Hn=createBrowserURLImpl(Et,!0);Wn=Hn.origin!==n.location.origin||stripBasename(Hn.pathname,x)==null}if(Wn){et?n.location.replace(Et):n.location.assign(Et);return}}xe=null;let yt=et===!0||Oe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Nt,formAction:Tt,formEncType:Vt}=Y.navigation;!at&&!ht&&Nt&&Tt&&Vt&&(at=getSubmissionFromNavigation(Y.navigation));let nn=at||ht;if(redirectPreserveMethodStatusCodes.has(Oe.response.status)&&nn&&isMutationMethod(nn.formMethod))await an(yt,vt,{submission:{...nn,formAction:Et},preventScrollReset:wt||oe,enableViewTransition:Ge?ve:void 0});else{let Wn=getLoadingNavigation(vt,at);await an(yt,vt,{overrideNavigation:Wn,fetcherSubmission:ht,preventScrollReset:wt||oe,enableViewTransition:Ge?ve:void 0})}}async function it(Te,Oe,Ge,at){let ht,wt={};try{ht=await callDataStrategyImpl(b,Te,Oe,at,Ge,!1)}catch(et){return Oe.filter(Et=>Et.shouldLoad).forEach(Et=>{wt[Et.route.id]={type:"error",error:et}}),wt}if(Te.signal.aborted)return wt;for(let[et,Et]of Object.entries(ht))if(isRedirectDataStrategyResult(Et)){let vt=Et.result;wt[et]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(vt,Te,et,Oe,x)}}else wt[et]=await convertDataStrategyResultToDataResult(Et);return wt}async function Pe(Te,Oe,Ge,at){let ht=it(Ge,Te,at,null),wt=Promise.all(Oe.map(async vt=>{if(vt.matches&&vt.match&&vt.request&&vt.controller){let Nt=(await it(vt.request,vt.matches,at,vt.key))[vt.match.route.id];return{[vt.key]:Nt}}else return Promise.resolve({[vt.key]:{type:"error",error:getInternalRouterError(404,{pathname:vt.path})}})})),et=await ht,Et=(await wt).reduce((vt,yt)=>Object.assign(vt,yt),{});return{loaderResults:et,fetcherResults:Et}}function Fe(){he=!0,ye.forEach((Te,Oe)=>{ue.has(Oe)&&ae.add(Oe),ze(Oe)})}function Ye(Te,Oe,Ge={}){Y.fetchers.set(Te,Oe),mt({fetchers:new Map(Y.fetchers)},{flushSync:(Ge&&Ge.flushSync)===!0})}function Je(Te,Oe,Ge,at={}){let ht=findNearestBoundary(Y.matches,Oe);Wt(Te),mt({errors:{[ht.route.id]:Ge},fetchers:new Map(Y.fetchers)},{flushSync:(at&&at.flushSync)===!0})}function bt(Te){return Se.set(Te,(Se.get(Te)||0)+1),_e.has(Te)&&_e.delete(Te),Y.fetchers.get(Te)||IDLE_FETCHER}function Mt(Te,Oe){ze(Te,Oe==null?void 0:Oe.reason),Ye(Te,getDoneFetcher(null))}function Wt(Te){let Oe=Y.fetchers.get(Te);ue.has(Te)&&!(Oe&&Oe.state==="loading"&&Ce.has(Te))&&ze(Te),ye.delete(Te),Ce.delete(Te),ce.delete(Te),_e.delete(Te),ae.delete(Te),Y.fetchers.delete(Te)}function Xe(Te){let Oe=(Se.get(Te)||0)-1;Oe<=0?(Se.delete(Te),_e.add(Te)):Se.set(Te,Oe),mt({fetchers:new Map(Y.fetchers)})}function ze(Te,Oe){let Ge=ue.get(Te);Ge&&(Ge.abort(Oe),ue.delete(Te))}function $e(Te){for(let Oe of Te){let Ge=bt(Oe),at=getDoneFetcher(Ge.data);Y.fetchers.set(Oe,at)}}function ut(){let Te=[],Oe=!1;for(let Ge of ce){let at=Y.fetchers.get(Ge);invariant(at,`Expected fetcher: ${Ge}`),at.state==="loading"&&(ce.delete(Ge),Te.push(Ge),Oe=!0)}return $e(Te),Oe}function lt(Te){let Oe=[];for(let[Ge,at]of Ce)if(at<Te){let ht=Y.fetchers.get(Ge);invariant(ht,`Expected fetcher: ${Ge}`),ht.state==="loading"&&(ze(Ge),Ce.delete(Ge),Oe.push(Ge))}return $e(Oe),Oe.length>0}function Bt(Te,Oe){let Ge=Y.blockers.get(Te)||IDLE_BLOCKER;return je.get(Te)!==Oe&&je.set(Te,Oe),Ge}function on(Te){Y.blockers.delete(Te),je.delete(Te)}function un(Te,Oe){let Ge=Y.blockers.get(Te)||IDLE_BLOCKER;invariant(Ge.state==="unblocked"&&Oe.state==="blocked"||Ge.state==="blocked"&&Oe.state==="blocked"||Ge.state==="blocked"&&Oe.state==="proceeding"||Ge.state==="blocked"&&Oe.state==="unblocked"||Ge.state==="proceeding"&&Oe.state==="unblocked",`Invalid blocker state transition: ${Ge.state} -> ${Oe.state}`);let at=new Map(Y.blockers);at.set(Te,Oe),mt({blockers:at})}function dn({currentLocation:Te,nextLocation:Oe,historyAction:Ge}){if(je.size===0)return;je.size>1&&warning(!1,"A router only supports one blocker at a time");let at=Array.from(je.entries()),[ht,wt]=at[at.length-1],et=Y.blockers.get(ht);if(!(et&&et.state==="proceeding")&&wt({currentLocation:Te,nextLocation:Oe,historyAction:Ge}))return ht}function kt(Te){let Oe=getInternalRouterError(404,{pathname:Te}),Ge=m||p,{matches:at,route:ht}=getShortCircuitMatches(Ge);return{notFoundMatches:at,route:ht,error:Oe}}function mn(Te,Oe,Ge){if(M=Te,G=Oe,j=Ge||null,!P&&Y.navigation===IDLE_NAVIGATION){P=!0;let at=Nn(Y.location,Y.matches);at!=null&&mt({restoreScrollPosition:at})}return()=>{M=null,G=null,j=null}}function Bn(Te,Oe){return j&&j(Te,Oe.map(at=>convertRouteMatchToUiMatch(at,Y.loaderData)))||Te.key}function Br(Te,Oe){if(M&&G){let Ge=Bn(Te,Oe);M[Ge]=G()}}function Nn(Te,Oe){if(M){let Ge=Bn(Te,Oe),at=M[Ge];if(typeof at=="number")return at}return null}function Tr(Te,Oe,Ge){if(t.patchRoutesOnNavigation)if(Te){if(Object.keys(Te[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Oe,Ge,x,!0)}}else return{active:!0,matches:matchRoutesImpl(Oe,Ge,x,!0)||[]};return{active:!1,matches:null}}async function Dn(Te,Oe,Ge,at){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Te};let ht=Te;for(;;){let wt=m==null,et=m||p,Et=c;try{await t.patchRoutesOnNavigation({signal:Ge,path:Oe,matches:ht,fetcherKey:at,patch:(Nt,Tt)=>{Ge.aborted||patchRoutesImpl(Nt,Tt,et,Et,l,!1)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:ht}}finally{wt&&!Ge.aborted&&(p=[...p])}if(Ge.aborted)return{type:"aborted"};let vt=matchRoutes(et,Oe,x),yt=null;if(vt){if(Object.keys(vt[0].params).length===0)return{type:"success",matches:vt};if(yt=matchRoutesImpl(et,Oe,x,!0),!(yt&&ht.length<yt.length&&_r(ht,yt.slice(0,ht.length))))return{type:"success",matches:vt}}if(yt||(yt=matchRoutesImpl(et,Oe,x,!0)),!yt||_r(ht,yt))return{type:"success",matches:null};ht=yt}}function _r(Te,Oe){return Te.length===Oe.length&&Te.every((Ge,at)=>Ge.route.id===Oe[at].route.id)}function Zr(Te){c={},m=convertRoutesToDataRoutes(Te,l,void 0,c)}function kr(Te,Oe,Ge=!1){let at=m==null;patchRoutesImpl(Te,Oe,m||p,c,l,Ge),at&&(p=[...p],mt({}))}return ne={get basename(){return x},get future(){return S},get state(){return Y},get routes(){return p},get window(){return n},initialize:ot,subscribe:It,enableScrollRestoration:mn,navigate:gt,fetch:In,revalidate:xt,createHref:Te=>t.history.createHref(Te),encodeLocation:Te=>t.history.encodeLocation(Te),getFetcher:bt,resetFetcher:Mt,deleteFetcher:Xe,dispose:Ct,getBlocker:Bt,deleteBlocker:on,patchRoutes:kr,_internalFetchControllers:ue,_internalSetRoutes:Zr,_internalSetStateDoNotUseOrYouWillBreakYourApp(Te){mt(Te)}},t.unstable_instrumentations&&(ne=instrumentClientSideRouter(ne,t.unstable_instrumentations.map(Te=>Te.router).filter(Boolean))),ne}function isSubmissionNavigation(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function normalizeTo(t,n,r,s,o,l){let c,p;if(o){c=[];for(let x of n)if(c.push(x),x.route.id===o){p=x;break}}else c=n,p=n[n.length-1];let m=resolveTo(s||".",getResolveToMatches(c),stripBasename(t.pathname,r)||t.pathname,l==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&p){let x=hasNakedIndexQuery(m.search);if(p.route.index&&!x)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&x){let b=new URLSearchParams(m.search),S=b.getAll("index");b.delete("index"),S.filter(k=>k).forEach(k=>b.append("index",k));let R=b.toString();m.search=R?`?${R}`:""}}return r!=="/"&&(m.pathname=prependBasename({basename:r,pathname:m.pathname})),createPath(m)}function normalizeNavigateOptions(t,n,r){if(!r||!isSubmissionNavigation(r))return{path:n};if(r.formMethod&&!isValidMethod(r.formMethod))return{path:n,error:getInternalRouterError(405,{method:r.formMethod})};let s=()=>({path:n,error:getInternalRouterError(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),c=stripHashFromPath(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!isMutationMethod(l))return s();let S=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,[k,M])=>`${R}${k}=${M}
`,""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:S}}}else if(r.formEncType==="application/json"){if(!isMutationMethod(l))return s();try{let S=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:S,text:void 0}}}catch{return s()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let p,m;if(r.formData)p=convertFormDataToSearchParams(r.formData),m=r.formData;else if(r.body instanceof FormData)p=convertFormDataToSearchParams(r.body),m=r.body;else if(r.body instanceof URLSearchParams)p=r.body,m=convertSearchParamsToFormData(p);else if(r.body==null)p=new URLSearchParams,m=new FormData;else try{p=new URLSearchParams(r.body),m=convertSearchParamsToFormData(p)}catch{return s()}let x={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(isMutationMethod(x.formMethod))return{path:n,submission:x};let b=parsePath(n);return t&&b.search&&hasNakedIndexQuery(b.search)&&p.append("index",""),b.search=`?${p}`,{path:createPath(b),submission:x}}function getMatchesToLoad(t,n,r,s,o,l,c,p,m,x,b,S,R,k,M,j,G,P,Q,H){var Ee;let X=H?isErrorResult(H[1])?H[1].error:H[1].data:void 0,ee=o.createURL(l.location),ne=o.createURL(m),Y;if(b&&l.errors){let he=Object.keys(l.errors)[0];Y=c.findIndex(ae=>ae.route.id===he)}else if(H&&isErrorResult(H[1])){let he=H[0];Y=c.findIndex(ae=>ae.route.id===he)-1}let re=H?H[1].statusCode:void 0,oe=re&&re>=400,xe={currentUrl:ee,currentParams:((Ee=l.matches[0])==null?void 0:Ee.params)||{},nextUrl:ne,nextParams:c[0].params,...p,actionResult:X,actionStatus:re},ve=getRoutePattern(c.map(he=>he.route.path)),me=c.map((he,ae)=>{let{route:ue}=he,te=null;if(Y!=null&&ae>Y?te=!1:ue.lazy?te=!0:routeHasLoaderOrMiddleware(ue)?b?te=shouldLoadRouteOnHydration(ue,l.loaderData,l.errors):isNewLoader(l.loaderData,l.matches[ae],he)&&(te=!0):te=!1,te!==null)return getDataStrategyMatch(r,s,t,ve,he,x,n,te);let se=oe?!1:S||ee.pathname+ee.search===ne.pathname+ne.search||ee.search!==ne.search||isNewRouteInstance(l.matches[ae],he),Ce={...xe,defaultShouldRevalidate:se},ce=shouldRevalidateLoader(he,Ce);return getDataStrategyMatch(r,s,t,ve,he,x,n,ce,Ce)}),we=[];return M.forEach((he,ae)=>{if(b||!c.some(_e=>_e.route.id===he.routeId)||k.has(ae))return;let ue=l.fetchers.get(ae),te=ue&&ue.state!=="idle"&&ue.data===void 0,se=matchRoutes(G,he.path,P);if(!se){if(Q&&te)return;we.push({key:ae,routeId:he.routeId,path:he.path,matches:null,match:null,request:null,controller:null});return}if(j.has(ae))return;let Ce=getTargetMatch(se,he.path),ce=new AbortController,ye=createClientSideRequest(o,he.path,ce.signal),Se=null;if(R.has(ae))R.delete(ae),Se=getTargetedDataStrategyMatches(r,s,ye,se,Ce,x,n);else if(te)S&&(Se=getTargetedDataStrategyMatches(r,s,ye,se,Ce,x,n));else{let _e={...xe,defaultShouldRevalidate:oe?!1:S};shouldRevalidateLoader(Ce,_e)&&(Se=getTargetedDataStrategyMatches(r,s,ye,se,Ce,x,n,_e))}Se&&we.push({key:ae,routeId:he.routeId,path:he.path,matches:Se,match:Ce,request:ye,controller:ce})}),{dsMatches:me,revalidatingFetchers:we}}function routeHasLoaderOrMiddleware(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function shouldLoadRouteOnHydration(t,n,r){if(t.lazy)return!0;if(!routeHasLoaderOrMiddleware(t))return!1;let s=n!=null&&t.id in n,o=r!=null&&r[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function isNewLoader(t,n,r){let s=!n||r.route.id!==n.route.id,o=!t.hasOwnProperty(r.route.id);return s||o}function isNewRouteInstance(t,n){let r=t.route.path;return t.pathname!==n.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==n.params["*"]}function shouldRevalidateLoader(t,n){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(n);if(typeof r=="boolean")return r}return n.defaultShouldRevalidate}function patchRoutesImpl(t,n,r,s,o,l){let c;if(t){let x=s[t];invariant(x,`No route found to patch children into: routeId = ${t}`),x.children||(x.children=[]),c=x.children}else c=r;let p=[],m=[];if(n.forEach(x=>{let b=c.find(S=>isSameRoute(x,S));b?m.push({existingRoute:b,newRoute:x}):p.push(x)}),p.length>0){let x=convertRoutesToDataRoutes(p,o,[t||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...x)}if(l&&m.length>0)for(let x=0;x<m.length;x++){let{existingRoute:b,newRoute:S}=m[x],R=b,[k]=convertRoutesToDataRoutes([S],o,[],{},!0);Object.assign(R,{element:k.element?k.element:R.element,errorElement:k.errorElement?k.errorElement:R.errorElement,hydrateFallbackElement:k.hydrateFallbackElement?k.hydrateFallbackElement:R.hydrateFallbackElement})}}function isSameRoute(t,n){return"id"in t&&"id"in n&&t.id===n.id?!0:t.index===n.index&&t.path===n.path&&t.caseSensitive===n.caseSensitive?(!t.children||t.children.length===0)&&(!n.children||n.children.length===0)?!0:t.children.every((r,s)=>{var o;return(o=n.children)==null?void 0:o.some(l=>isSameRoute(r,l))}):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:t,route:n,manifest:r,mapRouteProperties:s})=>{let o=r[n.id];if(invariant(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[t];if(!l)return;let c=lazyRoutePropertyCache.get(o);c||(c={},lazyRoutePropertyCache.set(o,c));let p=c[t];if(p)return p;let m=(async()=>{let x=isUnsupportedLazyRouteObjectKey(t),S=o[t]!==void 0&&t!=="hasErrorBoundary";if(x)warning(!x,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(S)warning(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let R=await l();R!=null&&(Object.assign(o,{[t]:R}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(R=>R===void 0)&&(o.lazy=void 0))})();return c[t]=m,m},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(t,n,r,s,o){let l=r[t.id];if(invariant(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let b=lazyRouteFunctionCache.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let S=(async()=>{invariant(typeof t.lazy=="function","No lazy route function found");let R=await t.lazy(),k={};for(let M in R){let j=R[M];if(j===void 0)continue;let G=isUnsupportedLazyRouteFunctionKey(M),Q=l[M]!==void 0&&M!=="hasErrorBoundary";G?warning(!G,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Q?warning(!Q,`Route "${l.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):k[M]=j}Object.assign(l,k),Object.assign(l,{...s(l),lazy:void 0})})();return lazyRouteFunctionCache.set(l,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let c=Object.keys(t.lazy),p=[],m;for(let b of c){if(o&&o.includes(b))continue;let S=loadLazyRouteProperty({key:b,route:t,manifest:r,mapRouteProperties:s});S&&(p.push(S),b===n&&(m=S))}let x=p.length>0?Promise.all(p).then(()=>{}):void 0;return x==null||x.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:m}}async function defaultDataStrategy(t){let n=t.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(n.map(o=>o.resolve()))).forEach((o,l)=>{r[n[l].route.id]=o}),r}async function defaultDataStrategyWithMiddleware(t){return t.matches.some(n=>n.route.middleware)?runClientMiddlewarePipeline(t,()=>defaultDataStrategy(t)):defaultDataStrategy(t)}function runClientMiddlewarePipeline(t,n){return runMiddlewarePipeline(t,n,s=>s,isDataStrategyResults,r);function r(s,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:s}}));{let{matches:c}=t,p=Math.min(Math.max(c.findIndex(x=>x.route.id===o),0),Math.max(c.findIndex(x=>x.unstable_shouldCallHandler()),0)),m=findNearestBoundary(c,c[p].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:s}})}}}async function runMiddlewarePipeline(t,n,r,s,o){let{matches:l,request:c,params:p,context:m,unstable_pattern:x}=t,b=l.flatMap(R=>R.route.middleware?R.route.middleware.map(k=>[R.route.id,k]):[]);return await callRouteMiddleware({request:c,params:p,context:m,unstable_pattern:x},b,n,r,s,o)}async function callRouteMiddleware(t,n,r,s,o,l,c=0){let{request:p}=t;if(p.signal.aborted)throw p.signal.reason??new Error(`Request aborted: ${p.method} ${p.url}`);let m=n[c];if(!m)return await r();let[x,b]=m,S,R=async()=>{if(S)throw new Error("You may only call `next()` once per middleware");try{return S={value:await callRouteMiddleware(t,n,r,s,o,l,c+1)},S.value}catch(k){return S={value:await l(k,x,S)},S.value}};try{let k=await b(t,R),M=k!=null?s(k):void 0;return o(M)?M:S?M??S.value:(S={value:await R()},S.value)}catch(k){return await l(k,x,S)}}function getDataStrategyMatchLazyPromises(t,n,r,s,o){let l=loadLazyRouteProperty({key:"middleware",route:s.route,manifest:n,mapRouteProperties:t}),c=loadLazyRoute(s.route,isMutationMethod(r.method)?"action":"loader",n,t,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function getDataStrategyMatch(t,n,r,s,o,l,c,p,m=null){let x=!1,b=getDataStrategyMatchLazyPromises(t,n,r,o,l);return{...o,_lazyPromises:b,shouldLoad:p,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(S){return x=!0,m?typeof S=="boolean"?shouldRevalidateLoader(o,{...m,defaultShouldRevalidate:S}):shouldRevalidateLoader(o,m):p},resolve(S){let{lazy:R,loader:k,middleware:M}=o.route,j=x||p||S&&!isMutationMethod(r.method)&&(R||k),G=M&&M.length>0&&!k&&!R;return j&&(isMutationMethod(r.method)||!G)?callLoaderOrAction({request:r,unstable_pattern:s,match:o,lazyHandlerPromise:b==null?void 0:b.handler,lazyRoutePromise:b==null?void 0:b.route,handlerOverride:S,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(t,n,r,s,o,l,c,p=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(t,n,r,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(t,n,r,getRoutePattern(s.map(x=>x.route.path)),m,l,c,!0,p))}async function callDataStrategyImpl(t,n,r,s,o,l){r.some(x=>{var b;return(b=x._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(r.map(x=>{var b;return(b=x._lazyPromises)==null?void 0:b.middleware}));let c={request:n,unstable_pattern:getRoutePattern(r.map(x=>x.route.path)),params:r[0].params,context:o,matches:r},m=await t({...c,fetcherKey:s,runClientMiddleware:x=>{let b=c;return runClientMiddlewarePipeline(b,()=>x({...b,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(x=>{var b,S;return[(b=x._lazyPromises)==null?void 0:b.handler,(S=x._lazyPromises)==null?void 0:S.route]}))}catch{}return m}async function callLoaderOrAction({request:t,unstable_pattern:n,match:r,lazyHandlerPromise:s,lazyRoutePromise:o,handlerOverride:l,scopedContext:c}){let p,m,x=isMutationMethod(t.method),b=x?"action":"loader",S=R=>{let k,M=new Promise((P,Q)=>k=Q);m=()=>k(),t.signal.addEventListener("abort",m);let j=P=>typeof R!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${b}" [routeId: ${r.route.id}]`)):R({request:t,unstable_pattern:n,params:r.params,context:c},...P!==void 0?[P]:[]),G=(async()=>{try{return{type:"data",result:await(l?l(Q=>j(Q)):j())}}catch(P){return{type:"error",result:P}}})();return Promise.race([G,M])};try{let R=x?r.route.action:r.route.loader;if(s||o)if(R){let k,[M]=await Promise.all([S(R).catch(j=>{k=j}),s,o]);if(k!==void 0)throw k;p=M}else{await s;let k=x?r.route.action:r.route.loader;if(k)[p]=await Promise.all([S(k),o]);else if(b==="action"){let M=new URL(t.url),j=M.pathname+M.search;throw getInternalRouterError(405,{method:t.method,pathname:j,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(R)p=await S(R);else{let k=new URL(t.url),M=k.pathname+k.search;throw getInternalRouterError(404,{pathname:M})}}catch(R){return{type:"error",result:R}}finally{m&&t.signal.removeEventListener("abort",m)}return p}async function parseResponseBody(t){let n=t.headers.get("Content-Type");return n&&/\bapplication\/json\b/.test(n)?t.body==null?null:t.json():t.text()}async function convertDataStrategyResultToDataResult(t){var s,o,l,c,p,m;let{result:n,type:r}=t;if(isResponse$1(n)){let x;try{x=await parseResponseBody(n)}catch(b){return{type:"error",error:b}}return r==="error"?{type:"error",error:new ErrorResponseImpl(n.status,n.statusText,x),statusCode:n.status,headers:n.headers}:{type:"data",data:x,statusCode:n.status,headers:n.headers}}return r==="error"?isDataWithResponseInit(n)?n.data instanceof Error?{type:"error",error:n.data,statusCode:(s=n.init)==null?void 0:s.status,headers:(o=n.init)!=null&&o.headers?new Headers(n.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(((l=n.init)==null?void 0:l.status)||500,void 0,n.data),statusCode:isRouteErrorResponse(n)?n.status:void 0,headers:(c=n.init)!=null&&c.headers?new Headers(n.init.headers):void 0}:{type:"error",error:n,statusCode:isRouteErrorResponse(n)?n.status:void 0}:isDataWithResponseInit(n)?{type:"data",data:n.data,statusCode:(p=n.init)==null?void 0:p.status,headers:(m=n.init)!=null&&m.headers?new Headers(n.init.headers):void 0}:{type:"data",data:n}}function normalizeRelativeRoutingRedirectResponse(t,n,r,s,o){let l=t.headers.get("Location");if(invariant(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!isAbsoluteUrl(l)){let c=s.slice(0,s.findIndex(p=>p.route.id===r)+1);l=normalizeTo(new URL(n.url),c,o,l),t.headers.set("Location",l)}return t}function normalizeRedirectLocation(t,n,r){if(isAbsoluteUrl(t)){let s=t,o=s.startsWith("//")?new URL(n.protocol+s):new URL(s),l=stripBasename(o.pathname,r)!=null;if(o.origin===n.origin&&l)return o.pathname+o.search+o.hash}return t}function createClientSideRequest(t,n,r,s){let o=t.createURL(stripHashFromPath(n)).toString(),l={signal:r};if(s&&isMutationMethod(s.formMethod)){let{formMethod:c,formEncType:p}=s;l.method=c.toUpperCase(),p==="application/json"?(l.headers=new Headers({"Content-Type":p}),l.body=JSON.stringify(s.json)):p==="text/plain"?l.body=s.text:p==="application/x-www-form-urlencoded"&&s.formData?l.body=convertFormDataToSearchParams(s.formData):l.body=s.formData}return new Request(o,l)}function convertFormDataToSearchParams(t){let n=new URLSearchParams;for(let[r,s]of t.entries())n.append(r,typeof s=="string"?s:s.name);return n}function convertSearchParamsToFormData(t){let n=new FormData;for(let[r,s]of t.entries())n.append(r,s);return n}function processRouteLoaderData(t,n,r,s=!1,o=!1){let l={},c=null,p,m=!1,x={},b=r&&isErrorResult(r[1])?r[1].error:void 0;return t.forEach(S=>{if(!(S.route.id in n))return;let R=S.route.id,k=n[R];if(invariant(!isRedirectResult(k),"Cannot handle redirect results in processLoaderData"),isErrorResult(k)){let M=k.error;if(b!==void 0&&(M=b,b=void 0),c=c||{},o)c[R]=M;else{let j=findNearestBoundary(t,R);c[j.route.id]==null&&(c[j.route.id]=M)}s||(l[R]=ResetLoaderDataSymbol),m||(m=!0,p=isRouteErrorResponse(k.error)?k.error.status:500),k.headers&&(x[R]=k.headers)}else l[R]=k.data,k.statusCode&&k.statusCode!==200&&!m&&(p=k.statusCode),k.headers&&(x[R]=k.headers)}),b!==void 0&&r&&(c={[r[0]]:b},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:c,statusCode:p||200,loaderHeaders:x}}function processLoaderData(t,n,r,s,o,l){let{loaderData:c,errors:p}=processRouteLoaderData(n,r,s);return o.filter(m=>!m.matches||m.matches.some(x=>x.shouldLoad)).forEach(m=>{let{key:x,match:b,controller:S}=m;if(S&&S.signal.aborted)return;let R=l[x];if(invariant(R,"Did not find corresponding fetcher result"),isErrorResult(R)){let k=findNearestBoundary(t.matches,b==null?void 0:b.route.id);p&&p[k.route.id]||(p={...p,[k.route.id]:R.error}),t.fetchers.delete(x)}else if(isRedirectResult(R))invariant(!1,"Unhandled fetcher revalidation redirect");else{let k=getDoneFetcher(R.data);t.fetchers.set(x,k)}}),{loaderData:c,errors:p}}function mergeLoaderData(t,n,r,s){let o=Object.entries(n).filter(([,l])=>l!==ResetLoaderDataSymbol).reduce((l,[c,p])=>(l[c]=p,l),{});for(let l of r){let c=l.route.id;if(!n.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(o[c]=t[c]),s&&s.hasOwnProperty(c))break}return o}function getActionDataForCommit(t){return t?isErrorResult(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function findNearestBoundary(t,n){return(n?t.slice(0,t.findIndex(s=>s.route.id===n)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function getShortCircuitMatches(t){let n=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function getInternalRouterError(t,{pathname:n,routeId:r,method:s,type:o,message:l}={}){let c="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&n&&r?p=`You made a ${s} request to "${n}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(p="Unable to encode submission body")):t===403?(c="Forbidden",p=`Route "${r}" does not match URL "${n}"`):t===404?(c="Not Found",p=`No route matches URL "${n}"`):t===405&&(c="Method Not Allowed",s&&n&&r?p=`You made a ${s.toUpperCase()} request to "${n}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(p=`Invalid request method "${s.toUpperCase()}"`)),new ErrorResponseImpl(t||500,c,new Error(p),!0)}function findRedirect(t){let n=Object.entries(t);for(let r=n.length-1;r>=0;r--){let[s,o]=n[r];if(isRedirectResult(o))return{key:s,result:o}}}function stripHashFromPath(t){let n=typeof t=="string"?parsePath(t):t;return createPath({...n,hash:""})}function isHashChangeOnly(t,n){return t.pathname!==n.pathname||t.search!==n.search?!1:t.hash===""?n.hash!=="":t.hash===n.hash?!0:n.hash!==""}function isDataStrategyResults(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([n,r])=>typeof n=="string"&&isDataStrategyResult(r))}function isDataStrategyResult(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function isRedirectDataStrategyResult(t){return isResponse$1(t.result)&&redirectStatusCodes.has(t.result.status)}function isErrorResult(t){return t.type==="error"}function isRedirectResult(t){return(t&&t.type)==="redirect"}function isDataWithResponseInit(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function isResponse$1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function isValidMethod(t){return validRequestMethods.has(t.toUpperCase())}function isMutationMethod(t){return validMutationMethods.has(t.toUpperCase())}function hasNakedIndexQuery(t){return new URLSearchParams(t).getAll("index").some(n=>n==="")}function getTargetMatch(t,n){let r=typeof n=="string"?parsePath(n).search:n.search;if(t[t.length-1].route.index&&hasNakedIndexQuery(r||""))return t[t.length-1];let s=getPathContributingMatches(t);return s[s.length-1]}function getSubmissionFromNavigation(t){let{formMethod:n,formAction:r,formEncType:s,text:o,formData:l,json:c}=t;if(!(!n||!r||!s)){if(o!=null)return{formMethod:n,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:n,formAction:r,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:n,formAction:r,formEncType:s,formData:void 0,json:c,text:void 0}}}function getLoadingNavigation(t,n){return n?{state:"loading",location:t,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(t,n){return{state:"submitting",location:t,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function getLoadingFetcher(t,n){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function getSubmittingFetcher(t,n){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:n?n.data:void 0}}function getDoneFetcher(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function restoreAppliedTransitions(t,n){try{let r=t.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(r){let s=JSON.parse(r);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&n.set(o,new Set(l||[]))}}catch{}}function persistAppliedTransitions(t,n){if(n.size>0){let r={};for(let[s,o]of n)r[s]=[...o];try{t.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(r))}catch(s){warning(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function createDeferred(){let t,n,r=new Promise((s,o)=>{t=async l=>{s(l);try{await r}catch{}},n=async l=>{o(l);try{await r}catch{}}});return{promise:r,resolve:t,reject:n}}var DataRouterContext=reactExports$1.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports$1.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports$1.createContext(!1);var ViewTransitionContext=reactExports$1.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports$1.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports$1.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports$1.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports$1.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports$1.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports$1.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:n}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=reactExports$1.useContext(NavigationContext),{hash:o,pathname:l,search:c}=useResolvedPath(t,{relative:n}),p=l;return r!=="/"&&(p=l==="/"?r:joinPaths([r,l])),s.createHref({pathname:p,search:c,hash:o})}function useInRouterContext(){return reactExports$1.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports$1.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(t){reactExports$1.useContext(NavigationContext).static||reactExports$1.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports$1.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports$1.useContext(DataRouterContext),{basename:n,navigator:r}=reactExports$1.useContext(NavigationContext),{matches:s}=reactExports$1.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(s)),c=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{c.current=!0}),reactExports$1.useCallback((m,x={})=>{if(warning(c.current,navigateEffectWarning),!c.current)return;if(typeof m=="number"){r.go(m);return}let b=resolveTo(m,JSON.parse(l),o,x.relative==="path");t==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:joinPaths([n,b.pathname])),(x.replace?r.replace:r.push)(b,x.state,x)},[n,r,l,o,t])}var OutletContext=reactExports$1.createContext(null);function useOutlet(t){let n=reactExports$1.useContext(RouteContext).outlet;return reactExports$1.useMemo(()=>n&&reactExports$1.createElement(OutletContext.Provider,{value:t},n),[n,t])}function useParams(){let{matches:t}=reactExports$1.useContext(RouteContext),n=t[t.length-1];return n?n.params:{}}function useResolvedPath(t,{relative:n}={}){let{matches:r}=reactExports$1.useContext(RouteContext),{pathname:s}=useLocation(),o=JSON.stringify(getResolveToMatches(r));return reactExports$1.useMemo(()=>resolveTo(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function useRoutesImpl(t,n,r,s,o){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=reactExports$1.useContext(NavigationContext),{matches:c}=reactExports$1.useContext(RouteContext),p=c[c.length-1],m=p?p.params:{},x=p?p.pathname:"/",b=p?p.pathnameBase:"/",S=p&&p.route;{let Q=S&&S.path||"";warningOnce(x,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let R=useLocation(),k;k=R;let M=k.pathname||"/",j=M;if(b!=="/"){let Q=b.replace(/^\//,"").split("/");j="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let G=matchRoutes(t,{pathname:j});return warning(S||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),warning(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches(G&&G.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:joinPaths([b,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?b:joinPaths([b,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,r,s,o)}function DefaultErrorComponent(){let t=useRouteError(),n=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("p",null," Hey developer "),reactExports$1.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports$1.createElement("code",{style:l},"ErrorBoundary")," or"," ",reactExports$1.createElement("code",{style:l},"errorElement")," prop on your route.")),reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("h2",null,"Unexpected Application Error!"),reactExports$1.createElement("h3",{style:{fontStyle:"italic"}},n),r?reactExports$1.createElement("pre",{style:o},r):null,c)}var defaultErrorElement=reactExports$1.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports$1.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?reactExports$1.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports$1.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:n,children:r}){let s=reactExports$1.useContext(DataRouterContext);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports$1.createElement(RouteContext.Provider,{value:t},r)}function _renderMatches(t,n=[],r=null,s=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r==null?void 0:r.errors;if(c!=null){let b=l.findIndex(S=>S.route.id&&(c==null?void 0:c[S.route.id])!==void 0);invariant(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let p=!1,m=-1;if(r)for(let b=0;b<l.length;b++){let S=l[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=b),S.route.id){let{loaderData:R,errors:k}=r,M=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!k||k[S.route.id]===void 0);if(S.route.lazy||M){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let x=r&&s?(b,S)=>{var R,k;s(b,{location:r.location,params:((k=(R=r.matches)==null?void 0:R[0])==null?void 0:k.params)??{},errorInfo:S})}:void 0;return l.reduceRight((b,S,R)=>{let k,M=!1,j=null,G=null;r&&(k=c&&S.route.id?c[S.route.id]:void 0,j=S.route.errorElement||defaultErrorElement,p&&(m<0&&R===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,G=null):m===R&&(M=!0,G=S.route.hydrateFallbackElement||null)));let P=n.concat(l.slice(0,R+1)),Q=()=>{let H;return k?H=j:M?H=G:S.route.Component?H=reactExports$1.createElement(S.route.Component,null):S.route.element?H=S.route.element:H=b,reactExports$1.createElement(RenderedRoute,{match:S,routeContext:{outlet:b,matches:P,isDataRoute:r!=null},children:H})};return r&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?reactExports$1.createElement(RenderErrorBoundary,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:Q(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:x}):Q()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let n=reactExports$1.useContext(DataRouterContext);return invariant(n,getDataRouterConsoleError(t)),n}function useDataRouterState(t){let n=reactExports$1.useContext(DataRouterStateContext);return invariant(n,getDataRouterConsoleError(t)),n}function useRouteContext(t){let n=reactExports$1.useContext(RouteContext);return invariant(n,getDataRouterConsoleError(t)),n}function useCurrentRouteId(t){let n=useRouteContext(t),r=n.matches[n.matches.length-1];return invariant(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var s;let t=reactExports$1.useContext(RouteErrorContext),n=useDataRouterState("useRouteError"),r=useCurrentRouteId("useRouteError");return t!==void 0?t:(s=n.errors)==null?void 0:s[r]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),n=useCurrentRouteId("useNavigate"),r=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{r.current=!0}),reactExports$1.useCallback(async(o,l={})=>{warning(r.current,navigateEffectWarning),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:n,...l}))},[t,n])}var alreadyWarned={};function warningOnce(t,n,r){!n&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning(!1,r))}var alreadyWarned2={};function warnOnce(t,n){!t&&!alreadyWarned2[n]&&(alreadyWarned2[n]=!0,console.warn(n))}function mapRouteProperties(t){let n={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:reactExports$1.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:reactExports$1.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:reactExports$1.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),n}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred$1=class{constructor(){this.status="pending",this.promise=new Promise((n,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",n(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function RouterProvider({router:t,flushSync:n,unstable_onError:r}){let[s,o]=reactExports$1.useState(t.state),[l,c]=reactExports$1.useState(),[p,m]=reactExports$1.useState({isTransitioning:!1}),[x,b]=reactExports$1.useState(),[S,R]=reactExports$1.useState(),[k,M]=reactExports$1.useState(),j=reactExports$1.useRef(new Map),G=reactExports$1.useCallback(ee=>{o(ne=>(ee.errors&&r&&Object.entries(ee.errors).forEach(([Y,re])=>{var oe,xe;((oe=ne.errors)==null?void 0:oe[Y])!==re&&r(re,{location:ee.location,params:((xe=ee.matches[0])==null?void 0:xe.params)??{}})}),ee))},[r]),P=reactExports$1.useCallback((ee,{deletedFetchers:ne,flushSync:Y,viewTransitionOpts:re})=>{ee.fetchers.forEach((xe,ve)=>{xe.data!==void 0&&j.current.set(ve,xe.data)}),ne.forEach(xe=>j.current.delete(xe)),warnOnce(Y===!1||n!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(warnOnce(re==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!re||!oe){n&&Y?n(()=>G(ee)):reactExports$1.startTransition(()=>G(ee));return}if(n&&Y){n(()=>{S&&(x&&x.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:re.currentLocation,nextLocation:re.nextLocation})});let xe=t.window.document.startViewTransition(()=>{n(()=>G(ee))});xe.finished.finally(()=>{n(()=>{b(void 0),R(void 0),c(void 0),m({isTransitioning:!1})})}),n(()=>R(xe));return}S?(x&&x.resolve(),S.skipTransition(),M({state:ee,currentLocation:re.currentLocation,nextLocation:re.nextLocation})):(c(ee),m({isTransitioning:!0,flushSync:!1,currentLocation:re.currentLocation,nextLocation:re.nextLocation}))},[t.window,n,S,x,G]);reactExports$1.useLayoutEffect(()=>t.subscribe(P),[t,P]),reactExports$1.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new Deferred$1)},[p]),reactExports$1.useEffect(()=>{if(x&&l&&t.window){let ee=l,ne=x.promise,Y=t.window.document.startViewTransition(async()=>{reactExports$1.startTransition(()=>G(ee)),await ne});Y.finished.finally(()=>{b(void 0),R(void 0),c(void 0),m({isTransitioning:!1})}),R(Y)}},[l,x,t.window,G]),reactExports$1.useEffect(()=>{x&&l&&s.location.key===l.location.key&&x.resolve()},[x,S,s.location,l]),reactExports$1.useEffect(()=>{!p.isTransitioning&&k&&(c(k.state),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),M(void 0))},[p.isTransitioning,k]);let Q=reactExports$1.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:ee=>t.navigate(ee),push:(ee,ne,Y)=>t.navigate(ee,{state:ne,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(ee,ne,Y)=>t.navigate(ee,{replace:!0,state:ne,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[t]),H=t.basename||"/",X=reactExports$1.useMemo(()=>({router:t,navigator:Q,static:!1,basename:H,unstable_onError:r}),[t,Q,H,r]);return reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement(DataRouterContext.Provider,{value:X},reactExports$1.createElement(DataRouterStateContext.Provider,{value:s},reactExports$1.createElement(FetchersContext.Provider,{value:j.current},reactExports$1.createElement(ViewTransitionContext.Provider,{value:p},reactExports$1.createElement(Router,{basename:H,location:s.location,navigationType:s.historyAction,navigator:Q},reactExports$1.createElement(MemoizedDataRoutes,{routes:t.routes,future:t.future,state:s,unstable_onError:r})))))),null)}var MemoizedDataRoutes=reactExports$1.memo(DataRoutes);function DataRoutes({routes:t,future:n,state:r,unstable_onError:s}){return useRoutesImpl(t,void 0,r,s,n)}function Navigate({to:t,replace:n,state:r,relative:s}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=reactExports$1.useContext(NavigationContext);warning(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=reactExports$1.useContext(RouteContext),{pathname:c}=useLocation(),p=useNavigate(),m=resolveTo(t,getResolveToMatches(l),c,s==="path"),x=JSON.stringify(m);return reactExports$1.useEffect(()=>{p(JSON.parse(x),{replace:n,state:r,relative:s})},[p,x,s,n,r]),null}function Outlet(t){return useOutlet(t.context)}function Router({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:l=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),p=reactExports$1.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=parsePath(r));let{pathname:m="/",search:x="",hash:b="",state:S=null,key:R="default"}=r,k=reactExports$1.useMemo(()=>{let M=stripBasename(m,c);return M==null?null:{location:{pathname:M,search:x,hash:b,state:S,key:R},navigationType:s}},[c,m,x,b,S,R,s]);return warning(k!=null,`<Router basename="${c}"> is not able to match the URL "${m}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:reactExports$1.createElement(NavigationContext.Provider,{value:p},reactExports$1.createElement(LocationContext.Provider,{children:n,value:k}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement$1(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,n){return t.button===0&&(!n||n==="_self")&&!isModifiedEvent(t)}function createSearchParams(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let s=t[r];return n.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function getSearchParamsForLocation(t,n){let r=createSearchParams(t);return n&&n.forEach((s,o)=>{r.has(o)||n.getAll(o).forEach(l=>{r.append(o,l)})}),r}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,n){let r,s,o,l,c;if(isFormElement(t)){let p=t.getAttribute("action");s=p?stripBasename(p,n):null,r=t.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("enctype"))||defaultEncType,l=new FormData(t)}else if(isButtonElement(t)||isInputElement$1(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||p.getAttribute("action");if(s=m?stripBasename(m,n):null,r=t.getAttribute("formmethod")||p.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(p.getAttribute("enctype"))||defaultEncType,l=new FormData(p,t),!isFormDataSubmitterSupported()){let{name:x,type:b,value:S}=t;if(b==="image"){let R=x?`${x}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else x&&l.append(x,S)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=defaultMethod,s=null,o=defaultEncType,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function singleFetchUrl(t,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:n&&stripBasename(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function loadRouteModule(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,n,r){let s=await Promise.all(t.map(async o=>{let l=n.routes[o.route.id];if(l){let c=await loadRouteModule(l,r);return c.links?c.links():[]}return[]}));return dedupeLinkDescriptors(s.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(t,n,r,s,o,l){let c=(m,x)=>r[x]?m.route.id!==r[x].route.id:!0,p=(m,x)=>{var b;return r[x].pathname!==m.pathname||((b=r[x].route.path)==null?void 0:b.endsWith("*"))&&r[x].params["*"]!==m.params["*"]};return l==="assets"?n.filter((m,x)=>c(m,x)||p(m,x)):l==="data"?n.filter((m,x)=>{var S;let b=s.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(c(m,x)||p(m,x))return!0;if(m.route.shouldRevalidate){let R=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=r[0])==null?void 0:S.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function getModuleLinkHrefs(t,n,{includeHydrateFallback:r}={}){return dedupeHrefs(t.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function dedupeLinkDescriptors(t,n){let r=new Set;return new Set(n),t.reduce((s,o)=>{let l=JSON.stringify(sortKeys(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function useDataRouterContext2(){let t=reactExports$1.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports$1.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports$1.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports$1.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,n){let r=reactExports$1.useContext(FrameworkContext),[s,o]=reactExports$1.useState(!1),[l,c]=reactExports$1.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:x,onMouseLeave:b,onTouchStart:S}=n,R=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=P=>{P.forEach(Q=>{c(Q.isIntersecting)})},G=new IntersectionObserver(j,{threshold:.5});return R.current&&G.observe(R.current),()=>{G.disconnect()}}},[t]),reactExports$1.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let k=()=>{o(!0)},M=()=>{o(!1),c(!1)};return r?t!=="intent"?[l,R,{}]:[l,R,{onFocus:composeEventHandlers$1(p,k),onBlur:composeEventHandlers$1(m,M),onMouseEnter:composeEventHandlers$1(x,k),onMouseLeave:composeEventHandlers$1(b,M),onTouchStart:composeEventHandlers$1(S,k)}]:[!1,R,{}]}function composeEventHandlers$1(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function PrefetchPageLinks({page:t,...n}){let{router:r}=useDataRouterContext2(),s=reactExports$1.useMemo(()=>matchRoutes(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?reactExports$1.createElement(PrefetchPageLinksImpl,{page:t,matches:s,...n}):null}function useKeyedPrefetchLinks(t){let{manifest:n,routeModules:r}=useFrameworkContext(),[s,o]=reactExports$1.useState([]);return reactExports$1.useEffect(()=>{let l=!1;return getKeyedPrefetchLinks(t,n,r).then(c=>{l||o(c)}),()=>{l=!0}},[t,n,r]),s}function PrefetchPageLinksImpl({page:t,matches:n,...r}){let s=useLocation(),{manifest:o,routeModules:l}=useFrameworkContext(),{basename:c}=useDataRouterContext2(),{loaderData:p,matches:m}=useDataRouterStateContext(),x=reactExports$1.useMemo(()=>getNewMatchesForLinks(t,n,m,o,s,"data"),[t,n,m,o,s]),b=reactExports$1.useMemo(()=>getNewMatchesForLinks(t,n,m,o,s,"assets"),[t,n,m,o,s]),S=reactExports$1.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,j=!1;if(n.forEach(P=>{var H;let Q=o.routes[P.route.id];!Q||!Q.hasLoader||(!x.some(X=>X.route.id===P.route.id)&&P.route.id in p&&((H=l[P.route.id])!=null&&H.shouldRevalidate)||Q.hasClientLoader?j=!0:M.add(P.route.id))}),M.size===0)return[];let G=singleFetchUrl(t,c,"data");return j&&M.size>0&&G.searchParams.set("_routes",n.filter(P=>M.has(P.route.id)).map(P=>P.route.id).join(",")),[G.pathname+G.search]},[c,p,s,o,x,n,t,l]),R=reactExports$1.useMemo(()=>getModuleLinkHrefs(b,o),[b,o]),k=useKeyedPrefetchLinks(b);return reactExports$1.createElement(reactExports$1.Fragment,null,S.map(M=>reactExports$1.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),R.map(M=>reactExports$1.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),k.map(({key:M,link:j})=>reactExports$1.createElement("link",{key:M,nonce:r.nonce,...j})))}function mergeRefs$1(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function createBrowserRouter(t,n){return createRouter({basename:n==null?void 0:n.basename,getContext:n==null?void 0:n.getContext,future:n==null?void 0:n.future,history:createBrowserHistory({window:n==null?void 0:n.window}),hydrationData:parseHydrationData(),routes:t,mapRouteProperties,hydrationRouteProperties,dataStrategy:n==null?void 0:n.dataStrategy,patchRoutesOnNavigation:n==null?void 0:n.patchRoutesOnNavigation,window:n==null?void 0:n.window,unstable_instrumentations:n==null?void 0:n.unstable_instrumentations}).initialize()}function parseHydrationData(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:deserializeErrors(t.errors)}),t}function deserializeErrors(t){if(!t)return null;let n=Object.entries(t),r={};for(let[s,o]of n)if(o&&o.__type==="RouteErrorResponse")r[s]=new ErrorResponseImpl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",r[s]=c}catch{}}if(r[s]==null){let l=new Error(o.message);l.stack="",r[s]=l}}else r[s]=o;return r}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports$1.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:p,target:m,to:x,preventScrollReset:b,viewTransition:S,...R},k){let{basename:M}=reactExports$1.useContext(NavigationContext),j=typeof x=="string"&&ABSOLUTE_URL_REGEX2.test(x),G,P=!1;if(typeof x=="string"&&j&&(G=x,isBrowser))try{let oe=new URL(window.location.href),xe=x.startsWith("//")?new URL(oe.protocol+x):new URL(x),ve=stripBasename(xe.pathname,M);xe.origin===oe.origin&&ve!=null?x=ve+xe.search+xe.hash:P=!0}catch{warning(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=useHref(x,{relative:o}),[H,X,ee]=usePrefetchBehavior(s,R),ne=useLinkClickHandler(x,{replace:c,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:S});function Y(oe){n&&n(oe),oe.defaultPrevented||ne(oe)}let re=reactExports$1.createElement("a",{...R,...ee,href:G||Q,onClick:P||l?n:Y,ref:mergeRefs$1(k,X),target:m,"data-discover":!j&&r==="render"?"true":void 0});return H&&!j?reactExports$1.createElement(reactExports$1.Fragment,null,re,reactExports$1.createElement(PrefetchPageLinks,{page:Q})):re});Link$1.displayName="Link";var NavLink=reactExports$1.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:p,children:m,...x},b){let S=useResolvedPath(c,{relative:x.relative}),R=useLocation(),k=reactExports$1.useContext(DataRouterStateContext),{navigator:M,basename:j}=reactExports$1.useContext(NavigationContext),G=k!=null&&useViewTransitionState(S)&&p===!0,P=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,Q=R.pathname,H=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,P=P.toLowerCase()),H&&j&&(H=stripBasename(H,j)||H);const X=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ee=Q===P||!o&&Q.startsWith(P)&&Q.charAt(X)==="/",ne=H!=null&&(H===P||!o&&H.startsWith(P)&&H.charAt(P.length)==="/"),Y={isActive:ee,isPending:ne,isTransitioning:G},re=ee?n:void 0,oe;typeof s=="function"?oe=s(Y):oe=[s,ee?"active":null,ne?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let xe=typeof l=="function"?l(Y):l;return reactExports$1.createElement(Link$1,{...x,"aria-current":re,className:oe,ref:b,style:xe,to:c,viewTransition:p},typeof m=="function"?m(Y):m)});NavLink.displayName="NavLink";var Form=reactExports$1.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:o,state:l,method:c=defaultMethod,action:p,onSubmit:m,relative:x,preventScrollReset:b,viewTransition:S,...R},k)=>{let M=useSubmit(),j=useFormAction(p,{relative:x}),G=c.toLowerCase()==="get"?"get":"post",P=typeof p=="string"&&ABSOLUTE_URL_REGEX2.test(p),Q=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,ee=(X==null?void 0:X.getAttribute("formmethod"))||c;M(X||H.currentTarget,{fetcherKey:n,method:ee,navigate:r,replace:o,state:l,relative:x,preventScrollReset:b,viewTransition:S})};return reactExports$1.createElement("form",{ref:k,method:G,action:j,onSubmit:s?m:Q,...R,"data-discover":!P&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let n=reactExports$1.useContext(DataRouterContext);return invariant(n,getDataRouterConsoleError2(t)),n}function useLinkClickHandler(t,{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let p=useNavigate(),m=useLocation(),x=useResolvedPath(t,{relative:l});return reactExports$1.useCallback(b=>{if(shouldProcessLinkClick(b,n)){b.preventDefault();let S=r!==void 0?r:createPath(m)===createPath(x);p(t,{replace:S,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,p,x,r,s,n,t,o,l,c])}function useSearchParams(t){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=reactExports$1.useRef(createSearchParams(t)),r=reactExports$1.useRef(!1),s=useLocation(),o=reactExports$1.useMemo(()=>getSearchParamsForLocation(s.search,r.current?null:n.current),[s.search]),l=useNavigate(),c=reactExports$1.useCallback((p,m)=>{const x=createSearchParams(typeof p=="function"?p(new URLSearchParams(o)):p);r.current=!0,l("?"+x,m)},[l,o]);return[o,c]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:n}=reactExports$1.useContext(NavigationContext),r=useRouteId();return reactExports$1.useCallback(async(s,o={})=>{let{action:l,method:c,encType:p,formData:m,body:x}=getFormSubmissionInfo(s,n);if(o.navigate===!1){let b=o.fetcherKey||getUniqueFetcherId();await t.fetch(b,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:x,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:x,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}function useFormAction(t,{relative:n}={}){let{basename:r}=reactExports$1.useContext(NavigationContext),s=reactExports$1.useContext(RouteContext);invariant(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...useResolvedPath(t||".",{relative:n})},c=useLocation();if(t==null){l.search=c.search;let p=new URLSearchParams(l.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let b=p.toString();l.search=b?`?${b}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:joinPaths([r,l.pathname])),createPath(l)}function useViewTransitionState(t,{relative:n}={}){let r=reactExports$1.useContext(ViewTransitionContext);invariant(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(t,{relative:n});if(!r.isTransitioning)return!1;let l=stripBasename(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=stripBasename(r.nextLocation.pathname,s)||r.nextLocation.pathname;return matchPath(o.pathname,c)!=null||matchPath(o.pathname,l)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function RouterProvider2(t){return reactExports$1.createElement(RouterProvider,{flushSync:reactDomExports.flushSync,...t})}function ScrollToTop(){const{pathname:t}=useLocation();return reactExports$1.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const headerLayout="_headerLayout_1yzgo_1",logoButton="_logoButton_1yzgo_35",rightSection="_rightSection_1yzgo_63",notificationButton="_notificationButton_1yzgo_87",styles$1L={headerLayout,logoButton,rightSection,notificationButton};var cssMediaquery={},hasRequiredCssMediaquery;function requireCssMediaquery(){if(hasRequiredCssMediaquery)return cssMediaquery;hasRequiredCssMediaquery=1,cssMediaquery.match=l,cssMediaquery.parse=c;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,n=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(b,S){return c(b).some(function(R){var k=R.inverse,M=R.type==="all"||S.type===R.type;if(M&&k||!(M||k))return!1;var j=R.expressions.every(function(G){var P=G.feature,Q=G.modifier,H=G.value,X=S[P];if(!X)return!1;switch(P){case"orientation":case"scan":return X.toLowerCase()===H.toLowerCase();case"width":case"height":case"device-width":case"device-height":H=x(H),X=x(X);break;case"resolution":H=m(H),X=m(X);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":H=p(H),X=p(X);break;case"grid":case"color":case"color-index":case"monochrome":H=parseInt(H,10)||1,X=parseInt(X,10)||0;break}switch(Q){case"min":return X>=H;case"max":return X<=H;default:return X===H}});return j&&!k||!j&&k})}function c(b){return b.split(",").map(function(S){S=S.trim();var R=S.match(t),k=R[1],M=R[2],j=R[3]||"",G={};return G.inverse=!!k&&k.toLowerCase()==="not",G.type=M?M.toLowerCase():"all",j=j.match(/\([^\)]+\)/g)||[],G.expressions=j.map(function(P){var Q=P.match(n),H=Q[1].toLowerCase().match(r);return{modifier:H[1],feature:H[2],value:Q[2]}}),G})}function p(b){var S=Number(b),R;return S||(R=b.match(/^(\d+)\s*\/\s*(\d+)$/),S=R[1]/R[2]),S}function m(b){var S=parseFloat(b),R=String(b).match(o)[1];switch(R){case"dpcm":return S/2.54;case"dppx":return S*96;default:return S}}function x(b){var S=parseFloat(b),R=String(b).match(s)[1];switch(R){case"em":return S*16;case"rem":return S*16;case"cm":return S*96/2.54;case"mm":return S*96/2.54/10;case"in":return S*96;case"pt":return S*72;case"pc":return S*72/12;default:return S}}return cssMediaquery}var matchmediaquery,hasRequiredMatchmediaquery;function requireMatchmediaquery(){if(hasRequiredMatchmediaquery)return matchmediaquery;hasRequiredMatchmediaquery=1;var t=requireCssMediaquery().match,n=typeof window<"u"?window.matchMedia:null;function r(o,l,c){var p=this,m;n&&!c&&(m=n.call(window,o)),m?(this.matches=m.matches,this.media=m.media,m.addListener(S)):(this.matches=t(o,l),this.media=o),this.addListener=x,this.removeListener=b,this.dispose=R;function x(k){m&&m.addListener(k)}function b(k){m&&m.removeListener(k)}function S(k){p.matches=k.matches,p.media=k.media}function R(){m&&m.removeListener(S)}}function s(o,l,c){return new r(o,l,c)}return matchmediaquery=s,matchmediaquery}var matchmediaqueryExports=requireMatchmediaquery();const matchMedia$1=getDefaultExportFromCjs(matchmediaqueryExports);var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache$1={};function toHyphenLower(t){return"-"+t.toLowerCase()}function hyphenateStyleName(t){if(cache$1.hasOwnProperty(t))return cache$1[t];var n=t.replace(uppercasePattern,toHyphenLower);return cache$1[t]=msPattern.test(n)?"-"+n:n}function shallowEqualObjects(t,n){if(t===n)return!0;if(!t||!n)return!1;const r=Object.keys(t),s=Object.keys(n),o=r.length;if(s.length!==o)return!1;for(let l=0;l<o;l++){const c=r[l];if(t[c]!==n[c]||!Object.prototype.hasOwnProperty.call(n,c))return!1}return!0}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function n(){}function r(){}return r.resetWarningCache=n,factoryWithThrowingShims=function(){function s(c,p,m,x,b,S){if(S!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:n};return l.PropTypes=l,l},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),stringOrNumber=PropTypes.oneOfType([PropTypes.string,PropTypes.number]),types={all:PropTypes.bool,grid:PropTypes.bool,aural:PropTypes.bool,braille:PropTypes.bool,handheld:PropTypes.bool,print:PropTypes.bool,projection:PropTypes.bool,screen:PropTypes.bool,tty:PropTypes.bool,tv:PropTypes.bool,embossed:PropTypes.bool},matchers={orientation:PropTypes.oneOf(["portrait","landscape"]),scan:PropTypes.oneOf(["progressive","interlace"]),aspectRatio:PropTypes.string,deviceAspectRatio:PropTypes.string,height:stringOrNumber,deviceHeight:stringOrNumber,width:stringOrNumber,deviceWidth:stringOrNumber,color:PropTypes.bool,colorIndex:PropTypes.bool,monochrome:PropTypes.bool,resolution:stringOrNumber,type:Object.keys(types)},{type,...featureMatchers}=matchers,features={minAspectRatio:PropTypes.string,maxAspectRatio:PropTypes.string,minDeviceAspectRatio:PropTypes.string,maxDeviceAspectRatio:PropTypes.string,minHeight:stringOrNumber,maxHeight:stringOrNumber,minDeviceHeight:stringOrNumber,maxDeviceHeight:stringOrNumber,minWidth:stringOrNumber,maxWidth:stringOrNumber,minDeviceWidth:stringOrNumber,maxDeviceWidth:stringOrNumber,minColor:PropTypes.number,maxColor:PropTypes.number,minColorIndex:PropTypes.number,maxColorIndex:PropTypes.number,minMonochrome:PropTypes.number,maxMonochrome:PropTypes.number,minResolution:stringOrNumber,maxResolution:stringOrNumber,...featureMatchers},all$1={...types,...features};var mq={all:all$1};const negate=t=>`not ${t}`,keyVal=(t,n)=>{const r=hyphenateStyleName(t);return typeof n=="number"&&(n=`${n}px`),n===!0?r:n===!1?negate(r):`(${r}: ${n})`},join$1=t=>t.join(" and "),toQuery=t=>{const n=[];return Object.keys(mq.all).forEach(r=>{const s=t[r];s!=null&&n.push(keyVal(r,s))}),join$1(n)},Context$1=reactExports$1.createContext(void 0),makeQuery=t=>t.query||toQuery(t),hyphenateKeys=t=>t?Object.keys(t).reduce((r,s)=>(r[hyphenateStyleName(s)]=t[s],r),{}):void 0,useIsUpdate=()=>{const t=reactExports$1.useRef(!1);return reactExports$1.useEffect(()=>{t.current=!0},[]),t.current},useDevice=t=>{const n=reactExports$1.useContext(Context$1),r=()=>hyphenateKeys(t)||hyphenateKeys(n),[s,o]=reactExports$1.useState(r);return reactExports$1.useEffect(()=>{const l=r();shallowEqualObjects(s,l)||o(l)},[t,n]),s},useQuery=t=>{const n=()=>makeQuery(t),[r,s]=reactExports$1.useState(n);return reactExports$1.useEffect(()=>{const o=n();r!==o&&s(o)},[t]),r},useMatchMedia=(t,n)=>{const r=()=>matchMedia$1(t,n||{},!!n),[s,o]=reactExports$1.useState(r),l=useIsUpdate();return reactExports$1.useEffect(()=>{if(l){const c=r();return o(c),()=>{c&&c.dispose()}}},[t,n]),s},useMatches=t=>{const[n,r]=reactExports$1.useState(t.matches);return reactExports$1.useEffect(()=>{const s=o=>{r(o.matches)};return t.addListener(s),r(t.matches),()=>{t.removeListener(s)}},[t]),n},useMediaQuery=(t,n,r)=>{const s=useDevice(n),o=useQuery(t);if(!o)throw new Error("Invalid or missing MediaQuery!");const l=useMatchMedia(o,s),c=useMatches(l);return useIsUpdate(),reactExports$1.useEffect(()=>{},[c]),reactExports$1.useEffect(()=>()=>{l&&l.dispose()},[]),c},useResponsive=()=>{const t=useMediaQuery({maxWidth:767}),n=useMediaQuery({minWidth:768,maxWidth:1024}),r=useMediaQuery({minWidth:1025});return{isMobile:t,isTablet:n,isDesktop:r}},overlay$5="_overlay_zs741_1",menuLayout="_menuLayout_zs741_33",menuVisible="_menuVisible_zs741_75",menuHidden="_menuHidden_zs741_83",closeContainer="_closeContainer_zs741_91",closeButton$d="_closeButton_zs741_123",menuSection="_menuSection_zs741_179",userNickname="_userNickname_zs741_195",menuSpan="_menuSpan_zs741_211",divider$3="_divider_zs741_243",styles$1K={overlay:overlay$5,menuLayout,menuVisible,menuHidden,closeContainer,closeButton:closeButton$d,menuSection,userNickname,menuSpan,divider:divider$3};function bind$1(t,n){return function(){return t.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>n=>{const r=toString.call(n);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),n=>kindOf(n)===t),typeOfTest=t=>n=>typeof n===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$2(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&isArrayBuffer(t.buffer),n}const isString=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$5=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const n=getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in t)&&!(iterator in t)},isEmptyObject$1=t=>{if(!isObject$5(t)||isBuffer(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$5(t)&&isFunction$2(t.pipe),isFormData=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$2(t.append)&&((n=kindOf(t))==="formdata"||n==="object"&&isFunction$2(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,n,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,o;if(typeof t!="object"&&(t=[t]),isArray(t))for(s=0,o=t.length;s<o;s++)n.call(null,t[s],s,t);else{if(isBuffer(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let p;for(s=0;s<c;s++)p=l[s],n.call(null,t[p],p,t)}}function findKey(t,n){if(isBuffer(t))return null;n=n.toLowerCase();const r=Object.keys(t);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t,skipUndefined:n}=isContextDefined(this)&&this||{},r={},s=(o,l)=>{const c=t&&findKey(r,l)||l;isPlainObject$1(r[c])&&isPlainObject$1(o)?r[c]=merge(r[c],o):isPlainObject$1(o)?r[c]=merge({},o):isArray(o)?r[c]=o.slice():(!n||!isUndefined(o))&&(r[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&forEach$1(arguments[o],s);return r}const extend$3=(t,n,r,{allOwnKeys:s}={})=>(forEach$1(n,(o,l)=>{r&&isFunction$2(o)?t[l]=bind$1(o,r):t[l]=o},{allOwnKeys:s}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,n,r,s)=>{t.prototype=Object.create(n.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject=(t,n,r,s)=>{let o,l,c;const p={};if(n=n||{},t==null)return n;do{for(o=Object.getOwnPropertyNames(t),l=o.length;l-- >0;)c=o[l],(!s||s(c,t,n))&&!p[c]&&(n[c]=t[c],p[c]=!0);t=r!==!1&&getPrototypeOf(t)}while(t&&(!r||r(t,n))&&t!==Object.prototype);return n},endsWith=(t,n,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=n.length;const s=t.indexOf(n,r);return s!==-1&&s===r},toArray$1=t=>{if(!t)return null;if(isArray(t))return t;let n=t.length;if(!isNumber$1(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=t[n];return r},isTypedArray=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,n)=>{const s=(t&&t[iterator]).call(t);let o;for(;(o=s.next())&&!o.done;){const l=o.value;n.call(t,l[0],l[1])}},matchAll=(t,n)=>{let r;const s=[];for(;(r=t.exec(n))!==null;)s.push(r);return s},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),hasOwnProperty=(({hasOwnProperty:t})=>(n,r)=>t.call(n,r))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(t,n)=>{const r=Object.getOwnPropertyDescriptors(t),s={};forEach$1(r,(o,l)=>{let c;(c=n(o,l,t))!==!1&&(s[l]=c||o)}),Object.defineProperties(t,s)},freezeMethods=t=>{reduceDescriptors(t,(n,r)=>{if(isFunction$2(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(isFunction$2(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(t,n)=>{const r={},s=o=>{o.forEach(l=>{r[l]=!0})};return isArray(t)?s(t):s(String(t).split(n)),r},noop$2=()=>{},toFiniteNumber=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function isSpecCompliantForm(t){return!!(t&&isFunction$2(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const n=new Array(10),r=(s,o)=>{if(isObject$5(s)){if(n.indexOf(s)>=0)return;if(isBuffer(s))return s;if(!("toJSON"in s)){n[o]=s;const l=isArray(s)?[]:{};return forEach$1(s,(c,p)=>{const m=r(c,o+1);!isUndefined(m)&&(l[p]=m)}),n[o]=void 0,l}}return s};return r(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$5(t)||isFunction$2(t))&&isFunction$2(t.then)&&isFunction$2(t.catch),_setImmediate=((t,n)=>t?setImmediate:n?((r,s)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===r&&s.length&&s.shift()()},!1),o=>{s.push(o),_global.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$2(t[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean,isObject:isObject$5,isPlainObject:isPlainObject$1,isEmptyObject:isEmptyObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend:extend$3,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,n,r,s,o,l)=>{const c=Object.create(prototype$1);utils$1.toFlatObject(t,c,function(b){return b!==Error.prototype},x=>x!=="isAxiosError");const p=t&&t.message?t.message:"Error",m=n==null&&t?t.code:n;return AxiosError$1.call(c,p,m,r,s,o),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,n,r){return t?t.concat(n).map(function(o,l){return o=removeBrackets(o),!r&&l?"["+o+"]":o}).join(r?".":""):n}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData$1(t,n,r){if(!utils$1.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,G){return!utils$1.isUndefined(G[j])});const s=r.metaTokens,o=r.visitor||b,l=r.dots,c=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function x(M){if(M===null)return"";if(utils$1.isDate(M))return M.toISOString();if(utils$1.isBoolean(M))return M.toString();if(!m&&utils$1.isBlob(M))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(M)||utils$1.isTypedArray(M)?m&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function b(M,j,G){let P=M;if(M&&!G&&typeof M=="object"){if(utils$1.endsWith(j,"{}"))j=s?j:j.slice(0,-2),M=JSON.stringify(M);else if(utils$1.isArray(M)&&isFlatArray(M)||(utils$1.isFileList(M)||utils$1.endsWith(j,"[]"))&&(P=utils$1.toArray(M)))return j=removeBrackets(j),P.forEach(function(H,X){!(utils$1.isUndefined(H)||H===null)&&n.append(c===!0?renderKey([j],X,l):c===null?j:j+"[]",x(H))}),!1}return isVisitable(M)?!0:(n.append(renderKey(G,j,l),x(M)),!1)}const S=[],R=Object.assign(predicates,{defaultVisitor:b,convertValue:x,isVisitable});function k(M,j){if(!utils$1.isUndefined(M)){if(S.indexOf(M)!==-1)throw Error("Circular reference detected in "+j.join("."));S.push(M),utils$1.forEach(M,function(P,Q){(!(utils$1.isUndefined(P)||P===null)&&o.call(n,P,utils$1.isString(Q)?Q.trim():Q,j,R))===!0&&k(P,j?j.concat(Q):[Q])}),S.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return k(t),n}function encode$2(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function AxiosURLSearchParams(t,n){this._pairs=[],t&&toFormData$1(t,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,r){this._pairs.push([n,r])};prototype.toString=function(n){const r=n?function(s){return n.call(this,s,encode$2)}:encode$2;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function encode$1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(t,n,r){if(!n)return t;const s=r&&r.encode||encode$1;utils$1.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let l;if(o?l=o(n,r):l=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,r).toString(s),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class InterceptorManager{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(s){s!==null&&n(s)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,n){return toFormData$1(t,new platform.classes.URLSearchParams,{visitor:function(r,s,o,l){return platform.isNode&&utils$1.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...n})}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(t){const n={},r=Object.keys(t);let s;const o=r.length;let l;for(s=0;s<o;s++)l=r[s],n[l]=t[l];return n}function formDataToJSON(t){function n(r,s,o,l){let c=r[l++];if(c==="__proto__")return!0;const p=Number.isFinite(+c),m=l>=r.length;return c=!c&&utils$1.isArray(o)?o.length:c,m?(utils$1.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!p):((!o[c]||!utils$1.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],l)&&utils$1.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!p)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const r={};return utils$1.forEachEntry(t,(s,o)=>{n(parsePropPath(s),o,r,0)}),r}return null}function stringifySafely(t,n,r){if(utils$1.isString(t))try{return(n||JSON.parse)(t),utils$1.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,l=utils$1.isObject(n);if(l&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return o?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let p;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((p=utils$1.isFileList(n))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return toFormData$1(p?{"files[]":n}:n,m&&new m,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const r=this.transitional||defaults$2.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n,this.parseReviver)}catch(p){if(c)throw p.name==="SyntaxError"?AxiosError$1.from(p,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):p}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults$2.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const n={};let r,s,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)n[s[1]]=s[2];return n}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,n,r,s,o){if(utils$1.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!utils$1.isString(n)){if(utils$1.isString(s))return n.indexOf(s)!==-1;if(utils$1.isRegExp(s))return s.test(n)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function buildAccessors(t,n){const r=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(o,l,c){return this[s].call(this,n,o,l,c)},configurable:!0})})}let AxiosHeaders$1=class{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function l(p,m,x){const b=normalizeHeader(m);if(!b)throw new Error("header name must be a non-empty string");const S=utils$1.findKey(o,b);(!S||o[S]===void 0||x===!0||x===void 0&&o[S]!==!1)&&(o[S||m]=normalizeValue(p))}const c=(p,m)=>utils$1.forEach(p,(x,b)=>l(x,b,m));if(utils$1.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))c(parseHeaders(n),r);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let p={},m,x;for(const b of n){if(!utils$1.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[x=b[0]]=(m=p[x])?utils$1.isArray(m)?[...m,b[1]]:[m,b[1]]:b[1]}c(p,r)}else n!=null&&l(r,n,s);return this}get(n,r){if(n=normalizeHeader(n),n){const s=utils$1.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return parseTokens(o);if(utils$1.isFunction(r))return r.call(this,o,s);if(utils$1.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader(n),n){const s=utils$1.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||matchHeaderValue(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function l(c){if(c=normalizeHeader(c),c){const p=utils$1.findKey(s,c);p&&(!r||matchHeaderValue(s,s[p],p,r))&&(delete s[p],o=!0)}}return utils$1.isArray(n)?n.forEach(l):l(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const l=r[s];(!n||matchHeaderValue(this,this[l],l,n,!0))&&(delete this[l],o=!0)}return o}normalize(n){const r=this,s={};return utils$1.forEach(this,(o,l)=>{const c=utils$1.findKey(s,l);if(c){r[c]=normalizeValue(o),delete r[l];return}const p=n?formatHeader(l):String(l).trim();p!==l&&delete r[l],r[p]=normalizeValue(o),s[p]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils$1.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&utils$1.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(c){const p=normalizeHeader(c);s[p]||(buildAccessors(o,c),s[p]=!0)}return utils$1.isArray(n)?n.forEach(l):l(n),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(s){this[r]=s}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,n){const r=this||defaults$2,s=n||r,o=AxiosHeaders$1.from(s.headers);let l=s.data;return utils$1.forEach(t,function(p){l=p.call(r,l,o.normalize(),n?n.status:void 0)}),o.normalize(),l}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,n,r){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,n,r),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):n(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function parseProtocol(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function speedometer(t,n){t=t||10;const r=new Array(t),s=new Array(t);let o=0,l=0,c;return n=n!==void 0?n:1e3,function(m){const x=Date.now(),b=s[l];c||(c=x),r[o]=m,s[o]=x;let S=l,R=0;for(;S!==o;)R+=r[S++],S=S%t;if(o=(o+1)%t,o===l&&(l=(l+1)%t),x-c<n)return;const k=b&&x-b;return k?Math.round(R*1e3/k):void 0}}function throttle(t,n){let r=0,s=1e3/n,o,l;const c=(x,b=Date.now())=>{r=b,o=null,l&&(clearTimeout(l),l=null),t(...x)};return[(...x)=>{const b=Date.now(),S=b-r;S>=s?c(x,b):(o=x,l||(l=setTimeout(()=>{l=null,c(o)},s-S)))},()=>o&&c(o)]}const progressEventReducer=(t,n,r=3)=>{let s=0;const o=speedometer(50,250);return throttle(l=>{const c=l.loaded,p=l.lengthComputable?l.total:void 0,m=c-s,x=o(m),b=c<=p;s=c;const S={loaded:c,total:p,progress:p?c/p:void 0,bytes:m,rate:x||void 0,estimated:x&&p&&b?(p-c)/x:void 0,event:l,lengthComputable:p!=null,[n?"download":"upload"]:!0};t(S)},r)},progressEventDecorator=(t,n)=>{const r=t!=null;return[s=>n[0]({lengthComputable:r,total:t,loaded:s}),n[1]]},asyncDecorator=t=>(...n)=>utils$1.asap(()=>t(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,n)=>r=>(r=new URL(r,platform.origin),t.protocol===r.protocol&&t.host===r.host&&(n||t.port===r.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,n,r,s,o,l,c){if(typeof document>"u")return;const p=[`${t}=${encodeURIComponent(n)}`];utils$1.isNumber(r)&&p.push(`expires=${new Date(r).toUTCString()}`),utils$1.isString(s)&&p.push(`path=${s}`),utils$1.isString(o)&&p.push(`domain=${o}`),l===!0&&p.push("secure"),utils$1.isString(c)&&p.push(`SameSite=${c}`),document.cookie=p.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function buildFullPath(t,n,r){let s=!isAbsoluteURL(n);return t&&(s||r==!1)?combineURLs(t,n):n}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,n){n=n||{};const r={};function s(x,b,S,R){return utils$1.isPlainObject(x)&&utils$1.isPlainObject(b)?utils$1.merge.call({caseless:R},x,b):utils$1.isPlainObject(b)?utils$1.merge({},b):utils$1.isArray(b)?b.slice():b}function o(x,b,S,R){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(x))return s(void 0,x,S,R)}else return s(x,b,S,R)}function l(x,b){if(!utils$1.isUndefined(b))return s(void 0,b)}function c(x,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(x))return s(void 0,x)}else return s(void 0,b)}function p(x,b,S){if(S in n)return s(x,b);if(S in t)return s(void 0,x)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p,headers:(x,b,S)=>o(headersToObject(x),headersToObject(b),S,!0)};return utils$1.forEach(Object.keys({...t,...n}),function(b){const S=m[b]||o,R=S(t[b],n[b],b);utils$1.isUndefined(R)&&S!==p||(r[b]=R)}),r}const resolveConfig=t=>{const n=mergeConfig$1({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:p}=n;if(n.headers=c=AxiosHeaders$1.from(c),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&c.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),utils$1.isFormData(r)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(utils$1.isFunction(r.getHeaders)){const m=r.getHeaders(),x=["content-type","content-length"];Object.entries(m).forEach(([b,S])=>{x.includes(b.toLowerCase())&&c.set(b,S)})}}if(platform.hasStandardBrowserEnv&&(s&&utils$1.isFunction(s)&&(s=s(n)),s||s!==!1&&isURLSameOrigin(n.url))){const m=o&&l&&cookies.read(l);m&&c.set(o,m)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(r,s){const o=resolveConfig(t);let l=o.data;const c=AxiosHeaders$1.from(o.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:x}=o,b,S,R,k,M;function j(){k&&k(),M&&M(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let G=new XMLHttpRequest;G.open(o.method.toUpperCase(),o.url,!0),G.timeout=o.timeout;function P(){if(!G)return;const H=AxiosHeaders$1.from("getAllResponseHeaders"in G&&G.getAllResponseHeaders()),ee={data:!p||p==="text"||p==="json"?G.responseText:G.response,status:G.status,statusText:G.statusText,headers:H,config:t,request:G};settle(function(Y){r(Y),j()},function(Y){s(Y),j()},ee),G=null}"onloadend"in G?G.onloadend=P:G.onreadystatechange=function(){!G||G.readyState!==4||G.status===0&&!(G.responseURL&&G.responseURL.indexOf("file:")===0)||setTimeout(P)},G.onabort=function(){G&&(s(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,G)),G=null)},G.onerror=function(X){const ee=X&&X.message?X.message:"Network Error",ne=new AxiosError$1(ee,AxiosError$1.ERR_NETWORK,t,G);ne.event=X||null,s(ne),G=null},G.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),s(new AxiosError$1(X,ee.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,G)),G=null},l===void 0&&c.setContentType(null),"setRequestHeader"in G&&utils$1.forEach(c.toJSON(),function(X,ee){G.setRequestHeader(ee,X)}),utils$1.isUndefined(o.withCredentials)||(G.withCredentials=!!o.withCredentials),p&&p!=="json"&&(G.responseType=o.responseType),x&&([R,M]=progressEventReducer(x,!0),G.addEventListener("progress",R)),m&&G.upload&&([S,k]=progressEventReducer(m),G.upload.addEventListener("progress",S),G.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(b=H=>{G&&(s(!H||H.type?new CanceledError$1(null,t,G):H),G.abort(),G=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const Q=parseProtocol(o.url);if(Q&&platform.protocols.indexOf(Q)===-1){s(new AxiosError$1("Unsupported protocol "+Q+":",AxiosError$1.ERR_BAD_REQUEST,t));return}G.send(l||null)})},composeSignals=(t,n)=>{const{length:r}=t=t?t.filter(Boolean):[];if(n||r){let s=new AbortController,o;const l=function(x){if(!o){o=!0,p();const b=x instanceof Error?x:this.reason;s.abort(b instanceof AxiosError$1?b:new CanceledError$1(b instanceof Error?b.message:b))}};let c=n&&setTimeout(()=>{c=null,l(new AxiosError$1(`timeout ${n} of ms exceeded`,AxiosError$1.ETIMEDOUT))},n);const p=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(l):x.removeEventListener("abort",l)}),t=null)};t.forEach(x=>x.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>utils$1.asap(p),m}},streamChunk=function*(t,n){let r=t.byteLength;if(r<n){yield t;return}let s=0,o;for(;s<r;)o=s+n,yield t.slice(s,o),s=o},readBytes=async function*(t,n){for await(const r of readStream(t))yield*streamChunk(r,n)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:r,value:s}=await n.read();if(r)break;yield s}}finally{await n.cancel()}},trackStream=(t,n,r,s)=>{const o=readBytes(t,n);let l=0,c,p=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:x,value:b}=await o.next();if(x){p(),m.close();return}let S=b.byteLength;if(r){let R=l+=S;r(R)}m.enqueue(new Uint8Array(b))}catch(x){throw p(x),x}},cancel(m){return p(m),o.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$1}=utils$1,globalFetchAPI=(({Request:t,Response:n})=>({Request:t,Response:n}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test=(t,...n)=>{try{return!!t(...n)}catch{return!1}},factory$1=t=>{t=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,t);const{fetch:n,Request:r,Response:s}=t,o=n?isFunction$1(n):typeof fetch=="function",l=isFunction$1(r),c=isFunction$1(s);if(!o)return!1;const p=o&&isFunction$1(ReadableStream$1),m=o&&(typeof TextEncoder$1=="function"?(M=>j=>M.encode(j))(new TextEncoder$1):async M=>new Uint8Array(await new r(M).arrayBuffer())),x=l&&p&&test(()=>{let M=!1;const j=new r(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!j}),b=c&&p&&test(()=>utils$1.isReadableStream(new s("").body)),S={stream:b&&(M=>M.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!S[M]&&(S[M]=(j,G)=>{let P=j&&j[M];if(P)return P.call(j);throw new AxiosError$1(`Response type '${M}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,G)})});const R=async M=>{if(M==null)return 0;if(utils$1.isBlob(M))return M.size;if(utils$1.isSpecCompliantForm(M))return(await new r(platform.origin,{method:"POST",body:M}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(M)||utils$1.isArrayBuffer(M))return M.byteLength;if(utils$1.isURLSearchParams(M)&&(M=M+""),utils$1.isString(M))return(await m(M)).byteLength},k=async(M,j)=>{const G=utils$1.toFiniteNumber(M.getContentLength());return G??R(j)};return async M=>{let{url:j,method:G,data:P,signal:Q,cancelToken:H,timeout:X,onDownloadProgress:ee,onUploadProgress:ne,responseType:Y,headers:re,withCredentials:oe="same-origin",fetchOptions:xe}=resolveConfig(M),ve=n||fetch;Y=Y?(Y+"").toLowerCase():"text";let me=composeSignals([Q,H&&H.toAbortSignal()],X),we=null;const Ee=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let he;try{if(ne&&x&&G!=="get"&&G!=="head"&&(he=await k(re,P))!==0){let ce=new r(j,{method:"POST",body:P,duplex:"half"}),ye;if(utils$1.isFormData(P)&&(ye=ce.headers.get("content-type"))&&re.setContentType(ye),ce.body){const[Se,_e]=progressEventDecorator(he,progressEventReducer(asyncDecorator(ne)));P=trackStream(ce.body,DEFAULT_CHUNK_SIZE,Se,_e)}}utils$1.isString(oe)||(oe=oe?"include":"omit");const ae=l&&"credentials"in r.prototype,ue={...xe,signal:me,method:G.toUpperCase(),headers:re.normalize().toJSON(),body:P,duplex:"half",credentials:ae?oe:void 0};we=l&&new r(j,ue);let te=await(l?ve(we,xe):ve(j,ue));const se=b&&(Y==="stream"||Y==="response");if(b&&(ee||se&&Ee)){const ce={};["status","statusText","headers"].forEach(je=>{ce[je]=te[je]});const ye=utils$1.toFiniteNumber(te.headers.get("content-length")),[Se,_e]=ee&&progressEventDecorator(ye,progressEventReducer(asyncDecorator(ee),!0))||[];te=new s(trackStream(te.body,DEFAULT_CHUNK_SIZE,Se,()=>{_e&&_e(),Ee&&Ee()}),ce)}Y=Y||"text";let Ce=await S[utils$1.findKey(S,Y)||"text"](te,M);return!se&&Ee&&Ee(),await new Promise((ce,ye)=>{settle(ce,ye,{data:Ce,headers:AxiosHeaders$1.from(te.headers),status:te.status,statusText:te.statusText,config:M,request:we})})}catch(ae){throw Ee&&Ee(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,M,we),{cause:ae.cause||ae}):AxiosError$1.from(ae,ae&&ae.code,M,we)}}},seedCache=new Map,getFetch=t=>{let n=t&&t.env||{};const{fetch:r,Request:s,Response:o}=n,l=[s,o,r];let c=l.length,p=c,m,x,b=seedCache;for(;p--;)m=l[p],x=b.get(m),x===void 0&&b.set(m,x=p?new Map:factory$1(n)),b=x;return x};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1;function getAdapter$1(t,n){t=utils$1.isArray(t)?t:[t];const{length:r}=t;let s,o;const l={};for(let c=0;c<r;c++){s=t[c];let p;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[(p=String(s)).toLowerCase()],o===void 0))throw new AxiosError$1(`Unknown adapter '${p}'`);if(o&&(utils$1.isFunction(o)||(o=o.get(n))))break;l[p||"#"+c]=o}if(!o){const c=Object.entries(l).map(([m,x])=>`adapter ${m} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=r?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$2.adapter,t)(t).then(function(s){return throwIfCancellationRequested(t),s.data=transformData.call(t,t.transformResponse,s),s.headers=AxiosHeaders$1.from(s.headers),s},function(s){return isCancel$1(s)||(throwIfCancellationRequested(t),s&&s.response&&(s.response.data=transformData.call(t,t.transformResponse,s.response),s.response.headers=AxiosHeaders$1.from(s.response.headers))),Promise.reject(s)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{validators$1[t]=function(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(n,r,s){function o(l,c){return"[Axios v"+VERSION$1+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,p)=>{if(n===!1)throw new AxiosError$1(o(c," has been removed"+(r?" in "+r:"")),AxiosError$1.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(l,c,p):!0}};validators$1.spelling=function(n){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${n}`),!0)};function assertOptions(t,n,r){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let o=s.length;for(;o-- >0;){const l=s[o],c=n[l];if(c){const p=t[l],m=p===void 0||c(p,l,t);if(m!==!0)throw new AxiosError$1("option "+l+" must be "+m,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+l,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig$1(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:l}=r;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?r.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),validator.assertOptions(r,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&utils$1.merge(l.common,l[r.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],M=>{delete l[M]}),r.headers=AxiosHeaders$1.concat(c,l);const p=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(m=m&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const x=[];this.interceptors.response.forEach(function(j){x.push(j.fulfilled,j.rejected)});let b,S=0,R;if(!m){const M=[dispatchRequest.bind(this),void 0];for(M.unshift(...p),M.push(...x),R=M.length,b=Promise.resolve(r);S<R;)b=b.then(M[S++],M[S++]);return b}R=p.length;let k=r;for(;S<R;){const M=p[S++],j=p[S++];try{k=M(k)}catch(G){j.call(this,G);break}}try{b=dispatchRequest.call(this,k)}catch(M){return Promise.reject(M)}for(S=0,R=x.length;S<R;)b=b.then(x[S++],x[S++]);return b}getUri(n){n=mergeConfig$1(this.defaults,n);const r=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(r,n.params,n.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(n){Axios$1.prototype[n]=function(r,s){return this.request(mergeConfig$1(s||{},{method:n,url:r,data:(s||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function r(s){return function(l,c,p){return this.request(mergeConfig$1(p||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios$1.prototype[n]=r(),Axios$1.prototype[n+"Form"]=r(!0)});let CancelToken$1=class Pf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(p=>{s.subscribe(p),l=p}).then(o);return c.cancel=function(){s.unsubscribe(l)},c},n(function(l,c,p){s.reason||(s.reason=new CanceledError$1(l,c,p),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=s=>{n.abort(s)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new Pf(function(o){n=o}),cancel:n}}};function spread$1(t){return function(r){return t.apply(null,r)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([t,n])=>{HttpStatusCode$1[n]=t});function createInstance(t){const n=new Axios$1(t),r=bind$1(Axios$1.prototype.request,n);return utils$1.extend(r,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return createInstance(mergeConfig$1(t,o))},r}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;/*! js-cookie v3.0.5 | MIT */function assign(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)t[s]=r[s]}return t}var defaultConverter={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$3(t,n){function r(o,l,c){if(!(typeof document>"u")){c=assign({},n,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var m in c)c[m]&&(p+="; "+m,c[m]!==!0&&(p+="="+c[m].split(";")[0]));return document.cookie=o+"="+t.write(l,o)+p}}function s(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],c={},p=0;p<l.length;p++){var m=l[p].split("="),x=m.slice(1).join("=");try{var b=decodeURIComponent(m[0]);if(c[b]=t.read(x,b),o===b)break}catch{}}return o?c[o]:c}}return Object.create({set:r,get:s,remove:function(o,l){r(o,"",assign({},l,{expires:-1}))},withAttributes:function(o){return init$3(this.converter,assign({},this.attributes,o))},withConverter:function(o){return init$3(assign({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}var api=init$3(defaultConverter,{path:"/"});const JWT_Token$1="ACCESS_TOKEN",instance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),mapInstance=axios.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),userInstance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});userInstance.interceptors.request.use(t=>{const n=api.get(JWT_Token$1);return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));const UserContext=reactExports$1.createContext(),JWT_Token="ACCESS_TOKEN";function UserProvider({children:t}){const[n,r]=reactExports$1.useState(null),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{const S=api.get(JWT_Token);if(S){o(S);try{const R=await userInstance.get("/api/users/me");r(R.data)}catch{api.remove(JWT_Token,{path:"/"}),o(null),r(null)}}c(!1)})()},[]);const x={user:n,setUser:r,token:s,login:(b,S)=>{r(b),o(S),api.set(JWT_Token,S,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{r(null),o(null),api.remove(JWT_Token,{path:"/"})},isLoading:l};return jsxRuntimeExports.jsx(UserContext.Provider,{value:x,children:t})}const useUser=()=>reactExports$1.useContext(UserContext),menuList$2=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}],modalOverlay$a="_modalOverlay_1iirb_1",modalContainer$5="_modalContainer_1iirb_39",messageBox="_messageBox_1iirb_75",title$k="_title_1iirb_93",desc="_desc_1iirb_105",closeButton$c="_closeButton_1iirb_119",styles$1J={modalOverlay:modalOverlay$a,modalContainer:modalContainer$5,messageBox,title:title$k,desc,closeButton:closeButton$c};function LogoutModal({isOpen:t,onClose:n}){return t?jsxRuntimeExports.jsx("div",{className:styles$1J.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$1J.modalContainer,onClick:r=>r.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$1J.messageBox,children:[jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginBottom:"1rem"},children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#E8F3FF"}),jsxRuntimeExports.jsx("path",{d:"M7 12L10.5 15.5L17 9",stroke:"#3665F3",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("h2",{className:styles$1J.title,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$1J.desc,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$1J.closeButton,onClick:n,children:""})]})}):null}function Menu({onOpen:t,isOpen:n}){const r=useNavigate(),{user:s,logout:o}=reactExports$1.useContext(UserContext),[l,c]=reactExports$1.useState(!1),p=()=>{c(!0)},m=()=>{api.remove("ACCESS_TOKEN"),o(),c(!1),t(),r("/")},x=(b,S=!1)=>{t(),S?r(b,{state:{activeTab:"MY"}}):r(b)};return jsxRuntimeExports.jsxs("div",{className:styles$1K.overlay,onClick:t,children:[jsxRuntimeExports.jsx(LogoutModal,{isOpen:l,onClose:m}),jsxRuntimeExports.jsxs("div",{className:`${styles$1K.menuLayout} ${n?styles$1K.menuVisible:styles$1K.menuHidden}`,onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:styles$1K.closeContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1K.closeButton,onClick:t})}),jsxRuntimeExports.jsxs("section",{className:styles$1K.menuSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$1K.userNickname,children:s?`${s.user_name} `:" "}),s&&s.admin_flag==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1K.sidebarMenu,children:jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/console/main"),children:" "})})]}),jsxRuntimeExports.jsx("hr",{className:styles$1K.divider}),jsxRuntimeExports.jsx("section",{className:styles$1K.menuSection,children:menuList$2.map(({name:b,label:S,path:R})=>jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x(R),children:S},b))}),jsxRuntimeExports.jsx("hr",{className:styles$1K.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1K.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/scan"),children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>{x("/mypage",!0)},children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/nearby-galleries"),children:" "})]}),jsxRuntimeExports.jsx("hr",{className:styles$1K.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1K.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/mypage"),children:""}),jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/announcement"),children:" & FAQ"}),s?jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:p,children:""}):jsxRuntimeExports.jsx("span",{className:styles$1K.menuSpan,onClick:()=>x("/login"),children:""})]})]})]})}const navbarNavigation="_navbarNavigation_1vr4j_1",menuList$1="_menuList_1vr4j_39",menuItem="_menuItem_1vr4j_61",defaultLink$1="_defaultLink_1vr4j_81",activeLink="_activeLink_1vr4j_83",styles$1I={navbarNavigation,menuList:menuList$1,menuItem,defaultLink:defaultLink$1,activeLink};function NavBar(){const{pathname:t}=useLocation();return jsxRuntimeExports.jsx("nav",{className:styles$1I.navbarNavigation,children:jsxRuntimeExports.jsx("ul",{className:styles$1I.menuList,children:menuList$2.map(({label:n,path:r,index:s})=>jsxRuntimeExports.jsx("li",{className:`${styles$1I.menuItem} ${t===r&&styles$1I.currentMenu}`,children:jsxRuntimeExports.jsx(NavLink,{to:r,className:({isActive:o})=>o?styles$1I.activeLink:styles$1I.defaultLink,children:n})},`${n}-${s}`))})})}const IcMenu=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M2 12H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 4H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 20H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]}),IcBell=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),IcLogo=({color:t="#fff"})=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"86",height:"17",viewBox:"0 0 86 17",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M9.4792 16.2951L10.4931 16.2014C10.7118 16.1701 10.823 16.0833 10.823 15.941C10.823 15.8611 10.7986 15.7674 10.7535 15.6597L9.19795 12.2153H3.72571L2.31251 15.6597C2.2639 15.7708 2.24306 15.8646 2.24306 15.941C2.24306 16.0833 2.35417 16.1701 2.57292 16.2014L3.58682 16.2951V16.7674H0V16.2951L0.871531 16.2014C1.05903 16.1875 1.19445 16.1389 1.27084 16.059C1.34723 15.9792 1.4375 15.8403 1.53125 15.6354L8.066 0H8.81947L15.7292 15.6354C15.823 15.8403 15.9098 15.9826 15.9896 16.059C16.0695 16.1389 16.2014 16.184 16.3889 16.2014L17.2605 16.2951V16.7674H9.4792V16.2951ZM8.88892 11.5069L6.34377 5.87153L4.01043 11.5069H8.89239H8.88892Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M28.4028 9.70519C28.2362 9.39964 27.9758 9.19477 27.6146 9.09061C27.2535 8.98991 26.6563 8.93783 25.823 8.93783H25.1389V15.5628C25.1389 15.7364 25.1737 15.8545 25.2466 15.917C25.316 15.9795 25.4688 16.0351 25.7049 16.0837L26.7188 16.2955V16.7677H18.8889V16.2955L19.7604 16.108C19.9966 16.0594 20.1493 16.0073 20.2188 15.9413C20.2882 15.8788 20.3264 15.7607 20.3264 15.5871V1.43783C20.3264 1.26421 20.2917 1.14616 20.2188 1.08366C20.1493 1.02116 19.9966 0.965604 19.7604 0.916993L18.8889 0.729492V0.260742H25.823C27.9306 0.260742 29.6042 0.399631 30.8473 0.673937C32.0903 0.948243 32.9931 1.39963 33.5591 2.0281C34.1251 2.65658 34.4098 3.51422 34.4098 4.59755C34.4098 5.80936 34.0487 6.73991 33.3265 7.39269C32.6042 8.04547 31.4306 8.48991 29.8126 8.72602C30.7396 8.78852 31.4827 8.93783 32.0417 9.17394C32.6008 9.41005 33.0348 9.78505 33.3508 10.2955C33.6667 10.8059 33.9098 11.5107 34.0799 12.4066L34.3404 13.8198C34.4654 14.4969 34.5556 14.9517 34.6112 15.1878C34.6667 15.4239 34.7431 15.6045 34.8473 15.7295C34.948 15.8545 35.1112 15.917 35.3299 15.917C35.7223 15.917 36.0522 15.6253 36.3195 15.0455L36.8161 15.4691C36.5973 15.9239 36.2605 16.2955 35.8126 16.5767C35.3647 16.8614 34.6355 17.0003 33.632 17.0003C32.6285 17.0003 31.8334 16.8892 31.2501 16.6705C30.6667 16.4517 30.2119 16.0628 29.882 15.5038C29.5521 14.9448 29.2987 14.1392 29.1285 13.0871L28.8473 11.3198C28.7223 10.5489 28.5764 10.0107 28.4098 9.70519H28.4028ZM25.1389 8.2295H26.0348C26.9445 8.2295 27.6494 8.1045 28.1459 7.85102C28.6424 7.60102 28.9827 7.21561 29.1702 6.69477C29.3577 6.17741 29.4549 5.47602 29.4549 4.59755C29.4549 3.71908 29.3612 3.01769 29.1702 2.50033C28.9827 1.98297 28.6389 1.59755 28.1459 1.34408C27.6494 1.09408 26.948 0.965604 26.0348 0.965604H25.1389V8.2295Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M47.3863 15.9413C47.4557 16.0038 47.612 16.0594 47.8446 16.108L48.7161 16.2955V16.7677H41.0286V16.2955L41.9001 16.108C42.1362 16.0594 42.289 16.0073 42.3585 15.9413C42.4279 15.8788 42.4661 15.7608 42.4661 15.5871V0.920465H41.9244C40.9661 0.920465 40.223 1.07671 39.6953 1.39269C39.1675 1.70866 38.7682 2.11491 38.4939 2.61838C38.2196 3.12185 37.8758 3.92394 37.4661 5.02463H36.9487V0.260742H52.796V5.02463H52.2786C51.8689 3.92394 51.5286 3.12185 51.2543 2.61838C50.98 2.11491 50.5772 1.70519 50.0529 1.39269C49.5252 1.07671 48.7821 0.920465 47.8238 0.920465H47.2821V15.5871C47.2821 15.7608 47.3168 15.8788 47.3897 15.9413H47.3863Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M56.5384 1.08366C56.4689 1.02116 56.3127 0.965604 56.08 0.916993L55.2085 0.729492V0.260742H63.0384V0.732965L62.0245 0.94477C61.7884 0.993382 61.6356 1.04546 61.5662 1.11144C61.4967 1.17394 61.4585 1.29199 61.4585 1.4656V16.0628H64.4307C65.3578 16.0628 66.0801 15.9205 66.6009 15.6392C67.1183 15.3545 67.5245 14.9552 67.8162 14.4378C68.1078 13.9205 68.4342 13.1323 68.7953 12.0802H69.4551V16.7746H55.212V16.3024L56.0835 16.1149C56.3196 16.0663 56.4724 16.0142 56.5418 15.9483C56.6113 15.8858 56.6495 15.7677 56.6495 15.5941V1.43783C56.6495 1.26422 56.6148 1.14616 56.5418 1.08366H56.5384Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M83.2884 1.20171C83.2884 1.0906 83.2398 1.00033 83.1461 0.930881C83.0523 0.861437 82.9412 0.816298 82.8162 0.802409L81.7086 0.708659V0.260742H85.6218V0.732965L84.8926 0.802409C84.6391 0.81977 84.469 0.868381 84.3752 0.955187C84.2815 1.04199 84.1704 1.18783 84.0454 1.39269L79.5419 9.1288V15.5906C79.5419 15.7642 79.5766 15.8823 79.6495 15.9448C79.719 16.0073 79.8752 16.0628 80.1079 16.1114L80.9794 16.2989V16.7712H73.2919V16.2989L74.1634 16.1114C74.3995 16.0628 74.5523 16.0108 74.6217 15.9448C74.6912 15.8823 74.7294 15.7642 74.7294 15.5906V9.27116L70.3891 1.39616C70.278 1.20866 70.1773 1.06977 70.0835 0.982965C69.9898 0.896159 69.8648 0.844076 69.7051 0.830187L68.7849 0.736437V0.260742H76.4481V0.732965L75.5037 0.826715C75.2849 0.844076 75.1738 0.937826 75.1738 1.11144C75.1738 1.20519 75.2051 1.30935 75.2676 1.41699L79.0419 8.53852L83.2398 1.36838C83.2711 1.27463 83.2884 1.21908 83.2884 1.20171Z",fill:t})]});function Header(){const[t,n]=reactExports$1.useState(!1),{isDesktop:r}=useResponsive(),s=useNavigate(),{user:o}=reactExports$1.useContext(UserContext),l=()=>{n(!0),document.body.style.overflow="hidden"},c=()=>{n(!1),document.body.style.overflow="unset"},p=()=>{c(),s("/")},m=()=>{c(),o&&o.admin_flag==="1"?s("/console/notification"):s("/notifications")};return jsxRuntimeExports.jsxs("header",{className:styles$1L.headerLayout,children:[jsxRuntimeExports.jsx("button",{className:styles$1L.logoButton,onClick:p,children:jsxRuntimeExports.jsx(IcLogo,{})}),r&&jsxRuntimeExports.jsx(NavBar,{}),jsxRuntimeExports.jsxs("div",{className:styles$1L.rightSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1L.notificationButton,onClick:m,"aria-label":"",children:jsxRuntimeExports.jsx(IcBell,{})}),jsxRuntimeExports.jsx("button",{onClick:t?c:l,children:jsxRuntimeExports.jsx(IcMenu,{})})]}),t&&jsxRuntimeExports.jsx(Menu,{onOpen:c,isOpen:t})]})}const chatbotContainer="_chatbotContainer_1sxap_1",chatbotButton="_chatbotButton_1sxap_15",chatbotOverlay="_chatbotOverlay_1sxap_61",popupContainer="_popupContainer_1sxap_85",headerContainer="_headerContainer_1sxap_125",headerTitle="_headerTitle_1sxap_147",closeButton$b="_closeButton_1sxap_161",chatContainer="_chatContainer_1sxap_199",botMessageContainer="_botMessageContainer_1sxap_245",botProfile="_botProfile_1sxap_261",botContent="_botContent_1sxap_289",botName="_botName_1sxap_299",botBubble="_botBubble_1sxap_313",userMessageContainer="_userMessageContainer_1sxap_335",userBubble="_userBubble_1sxap_347",inputContainer$2="_inputContainer_1sxap_373",input$7="_input_1sxap_373",sendButton$1="_sendButton_1sxap_427",styles$1H={chatbotContainer,chatbotButton,chatbotOverlay,popupContainer,headerContainer,headerTitle,closeButton:closeButton$b,chatContainer,botMessageContainer,botProfile,botContent,botName,botBubble,userMessageContainer,userBubble,inputContainer:inputContainer$2,input:input$7,sendButton:sendButton$1};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React4.createContext&&React4.createContext(DefaultContext),_excluded$3=["attr","size","title"];function _objectWithoutProperties$2(t,n){if(t==null)return{};var r=_objectWithoutPropertiesLoose$2(t,n),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _objectWithoutPropertiesLoose$2(t,n){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(n.indexOf(s)>=0)continue;r[s]=t[s]}return r}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_extends$1.apply(this,arguments)}function ownKeys$3(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread$2(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$3(Object(r),!0).forEach(function(s){_defineProperty$3(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty$3(t,n,r){return n=_toPropertyKey$1(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _toPropertyKey$1(t){var n=_toPrimitive$1(t,"string");return typeof n=="symbol"?n:n+""}function _toPrimitive$1(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Tree2Element(t){return t&&t.map((n,r)=>React4.createElement(n.tag,_objectSpread$2({key:r},n.attr),Tree2Element(n.child)))}function GenIcon(t){return n=>React4.createElement(IconBase,_extends$1({attr:_objectSpread$2({},t.attr)},n),Tree2Element(t.child))}function IconBase(t){var n=r=>{var{attr:s,size:o,title:l}=t,c=_objectWithoutProperties$2(t,_excluded$3),p=o||r.size||"1em",m;return r.className&&(m=r.className),t.className&&(m=(m?m+" ":"")+t.className),React4.createElement("svg",_extends$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:m,style:_objectSpread$2(_objectSpread$2({color:t.color||r.color},r.style),t.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&React4.createElement("title",null,l),t.children)};return IconContext!==void 0?React4.createElement(IconContext.Consumer,null,r=>n(r)):n(DefaultContext)}function BsChatFill(t){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function IoClose(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function IoMegaphoneOutline(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(t)}function IoSend(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function ChatbotWidget(){const{user:t}=useUser(),[n,r]=reactExports$1.useState(!1),[s,o]=reactExports$1.useState([{id:0,sender:"bot",text:`!   Artlas :)
 ?`}]),[l,c]=reactExports$1.useState(""),[p,m]=reactExports$1.useState(!1),x=reactExports$1.useRef(null),b=t?userInstance:instance,S=()=>s[s.length-1].id+1;reactExports$1.useEffect(()=>{var H;(H=x.current)==null||H.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[s,n]);const R=()=>{r(H=>!H),n?document.body.style.overflow="unset":document.body.style.overflow="hidden"},k=H=>{c(H.target.value)},M=async H=>{const X={id:S(),sender:"user",text:H};o(ne=>[...ne,X]);const ee={id:S()+1,sender:"bot",text:"An error occured. Please report this to the service team."};try{m(!0);const ne=await b.post("/api/chats",{text:H});ee.text=ne.data}catch(ne){console.error("Error occurred while querying GPT:",ne)}finally{m(!1)}o(ne=>[...ne,ee])},j=H=>H.split(/(\*\*[^\*]+\*\*)/g).map(ee=>{if(ee.startsWith("**")&&ee.endsWith("**")){const ne=ee.slice(2,-2);return jsxRuntimeExports.jsx("b",{children:ne},ne)}return ee}),G=H=>{H.key==="Enter"&&P()},P=()=>{const H=l.trim();H&&(M(H),c(""))},Q=H=>{setTimeout(()=>{H.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1H.chatbotContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1H.chatbotButton,onClick:R,children:jsxRuntimeExports.jsx(BsChatFill,{size:20})})}),n&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1H.chatbotOverlay,onClick:R}),jsxRuntimeExports.jsxs("div",{className:styles$1H.popupContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1H.headerContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1H.headerTitle,children:"Artly AI"}),jsxRuntimeExports.jsx("button",{className:styles$1H.closeButton,onClick:R,children:jsxRuntimeExports.jsx(IoClose,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$1H.chatContainer,children:[s.map(H=>jsxRuntimeExports.jsx("div",{className:H.sender==="bot"?styles$1H.botMessageContainer:styles$1H.userMessageContainer,ref:x,children:H.sender==="bot"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1H.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1H.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1H.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1H.botBubble,children:j(H.text)})]})]}):jsxRuntimeExports.jsx("div",{className:styles$1H.userBubble,children:H.text})},H.id)),p&&jsxRuntimeExports.jsxs("div",{className:styles$1H.botMessageContainer,ref:x,children:[jsxRuntimeExports.jsx("div",{className:styles$1H.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1H.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1H.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1H.botBubble,children:"  ..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1H.inputContainer,children:[jsxRuntimeExports.jsx("input",{className:styles$1H.input,type:"text",value:l,onChange:k,onKeyPress:G,onFocus:Q,placeholder:"  ..."}),jsxRuntimeExports.jsx("button",{className:styles$1H.sendButton,onClick:P,children:jsxRuntimeExports.jsx(IoSend,{size:20})})]})]})]})]})}function Layout(){const t=useLocation(),r=!["/login","/register","/mypage","/mypage/edit"].some(s=>t.pathname.startsWith(s));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),r&&jsxRuntimeExports.jsx(ChatbotWidget,{})]})}const footerLayout="_footerLayout_6sik4_1",linkContainer$1="_linkContainer_6sik4_27",link="_link_6sik4_27",divideSpan="_divideSpan_6sik4_61",infoContainer$4="_infoContainer_6sik4_71",styles$1G={footerLayout,linkContainer:linkContainer$1,link,divideSpan,infoContainer:infoContainer$4};function Footer(){return jsxRuntimeExports.jsxs("footer",{className:styles$1G.footerLayout,children:[jsxRuntimeExports.jsxs("div",{className:styles$1G.linkContainer,children:[jsxRuntimeExports.jsx(Link$1,{to:"/announcement",className:styles$1G.link,children:"&FAQ"}),jsxRuntimeExports.jsx("span",{className:styles$1G.divideSpan,children:"|"}),jsxRuntimeExports.jsx(Link$1,{to:"/termspolicy",className:styles$1G.link,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$1G.infoContainer,children:[jsxRuntimeExports.jsx("p",{children:"()"}),jsxRuntimeExports.jsx("p",{children:" : 477-88-01191"}),jsxRuntimeExports.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),jsxRuntimeExports.jsxs("p",{children:[" All rights reserved by"," ",jsxRuntimeExports.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function AuthRoute(){const{user:t,isLoading:n}=reactExports$1.useContext(UserContext),r=useLocation();if(n)return jsxRuntimeExports.jsx("div",{children:" ..."});if(!t||!t.id)return jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0});const s=r.pathname!=="/notifications";return jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{flex:"1"},children:jsxRuntimeExports.jsx(Outlet,{})}),s&&jsxRuntimeExports.jsx(Footer,{})]})}const mainLayout="_mainLayout_114k4_1",tabContainer$1="_tabContainer_114k4_29",userText$1="_userText_114k4_47",itemContainer$1="_itemContainer_114k4_67",itemBox$1="_itemBox_114k4_95",itemIcon$1="_itemIcon_114k4_127",carouselContainer$1="_carouselContainer_114k4_137",styles$1F={mainLayout,tabContainer:tabContainer$1,userText:userText$1,itemContainer:itemContainer$1,itemBox:itemBox$1,itemIcon:itemIcon$1,carouselContainer:carouselContainer$1},carouselContainer="_carouselContainer_1o6e9_1",sliderWrapper="_sliderWrapper_1o6e9_21",slider$1="_slider_1o6e9_21",carouselItem="_carouselItem_1o6e9_47",carouselImage$1="_carouselImage_1o6e9_81",captionBox="_captionBox_1o6e9_105",title$j="_title_1o6e9_129",location$2="_location_1o6e9_145",detailButton="_detailButton_1o6e9_159",arrowButton="_arrowButton_1o6e9_201",left="_left_1o6e9_251",right="_right_1o6e9_257",dots="_dots_1o6e9_265",dot="_dot_1o6e9_265",active$7="_active_1o6e9_303",styles$1E={carouselContainer,sliderWrapper,slider:slider$1,carouselItem,carouselImage:carouselImage$1,captionBox,title:title$j,location:location$2,detailButton,arrowButton,left,right,dots,dot,active:active$7};var build={exports:{}},hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,(()=>{var t={296:(o,l,c)=>{var p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,b=/^0o[0-7]+$/i,S=parseInt,R=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,k=typeof self=="object"&&self&&self.Object===Object&&self,M=R||k||Function("return this")(),j=Object.prototype.toString,G=Math.max,P=Math.min,Q=function(){return M.Date.now()};function H(ee){var ne=typeof ee;return!!ee&&(ne=="object"||ne=="function")}function X(ee){if(typeof ee=="number")return ee;if((function(re){return typeof re=="symbol"||(function(oe){return!!oe&&typeof oe=="object"})(re)&&j.call(re)=="[object Symbol]"})(ee))return NaN;if(H(ee)){var ne=typeof ee.valueOf=="function"?ee.valueOf():ee;ee=H(ne)?ne+"":ne}if(typeof ee!="string")return ee===0?ee:+ee;ee=ee.replace(p,"");var Y=x.test(ee);return Y||b.test(ee)?S(ee.slice(2),Y?2:8):m.test(ee)?NaN:+ee}o.exports=function(ee,ne,Y){var re,oe,xe,ve,me,we,Ee=0,he=!1,ae=!1,ue=!0;if(typeof ee!="function")throw new TypeError("Expected a function");function te(Se){var _e=re,je=oe;return re=oe=void 0,Ee=Se,ve=ee.apply(je,_e)}function se(Se){var _e=Se-we;return we===void 0||_e>=ne||_e<0||ae&&Se-Ee>=xe}function Ce(){var Se=Q();if(se(Se))return ce(Se);me=setTimeout(Ce,(function(_e){var je=ne-(_e-we);return ae?P(je,xe-(_e-Ee)):je})(Se))}function ce(Se){return me=void 0,ue&&re?te(Se):(re=oe=void 0,ve)}function ye(){var Se=Q(),_e=se(Se);if(re=arguments,oe=this,we=Se,_e){if(me===void 0)return(function(je){return Ee=je,me=setTimeout(Ce,ne),he?te(je):ve})(we);if(ae)return me=setTimeout(Ce,ne),te(we)}return me===void 0&&(me=setTimeout(Ce,ne)),ve}return ne=X(ne)||0,H(Y)&&(he=!!Y.leading,xe=(ae="maxWait"in Y)?G(X(Y.maxWait)||0,ne):xe,ue="trailing"in Y?!!Y.trailing:ue),ye.cancel=function(){me!==void 0&&clearTimeout(me),Ee=0,re=we=oe=me=void 0},ye.flush=function(){return me===void 0?ve:ce(Q())},ye}},96:(o,l,c)=>{var p="Expected a function",m=NaN,x="[object Symbol]",b=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,k=/^0o[0-7]+$/i,M=parseInt,j=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,G=typeof self=="object"&&self&&self.Object===Object&&self,P=j||G||Function("return this")(),Q=Object.prototype.toString,H=Math.max,X=Math.min,ee=function(){return P.Date.now()};function ne(re){var oe=typeof re;return!!re&&(oe=="object"||oe=="function")}function Y(re){if(typeof re=="number")return re;if((function(ve){return typeof ve=="symbol"||(function(me){return!!me&&typeof me=="object"})(ve)&&Q.call(ve)==x})(re))return m;if(ne(re)){var oe=typeof re.valueOf=="function"?re.valueOf():re;re=ne(oe)?oe+"":oe}if(typeof re!="string")return re===0?re:+re;re=re.replace(b,"");var xe=R.test(re);return xe||k.test(re)?M(re.slice(2),xe?2:8):S.test(re)?m:+re}o.exports=function(re,oe,xe){var ve=!0,me=!0;if(typeof re!="function")throw new TypeError(p);return ne(xe)&&(ve="leading"in xe?!!xe.leading:ve,me="trailing"in xe?!!xe.trailing:me),(function(we,Ee,he){var ae,ue,te,se,Ce,ce,ye=0,Se=!1,_e=!1,je=!0;if(typeof we!="function")throw new TypeError(p);function Me(mt){var Ut=ae,gt=ue;return ae=ue=void 0,ye=mt,se=we.apply(gt,Ut)}function Ze(mt){var Ut=mt-ce;return ce===void 0||Ut>=Ee||Ut<0||_e&&mt-ye>=te}function ot(){var mt=ee();if(Ze(mt))return Ct(mt);Ce=setTimeout(ot,(function(Ut){var gt=Ee-(Ut-ce);return _e?X(gt,te-(Ut-ye)):gt})(mt))}function Ct(mt){return Ce=void 0,je&&ae?Me(mt):(ae=ue=void 0,se)}function It(){var mt=ee(),Ut=Ze(mt);if(ae=arguments,ue=this,ce=mt,Ut){if(Ce===void 0)return(function(gt){return ye=gt,Ce=setTimeout(ot,Ee),Se?Me(gt):se})(ce);if(_e)return Ce=setTimeout(ot,Ee),Me(ce)}return Ce===void 0&&(Ce=setTimeout(ot,Ee)),se}return Ee=Y(Ee)||0,ne(he)&&(Se=!!he.leading,te=(_e="maxWait"in he)?H(Y(he.maxWait)||0,Ee):te,je="trailing"in he?!!he.trailing:je),It.cancel=function(){Ce!==void 0&&clearTimeout(Ce),ye=0,ae=ce=ue=Ce=void 0},It.flush=function(){return Ce===void 0?se:Ct(ee())},It})(re,oe,{leading:ve,maxWait:oe,trailing:me})}},703:(o,l,c)=>{var p=c(414);function m(){}function x(){}x.resetWarningCache=m,o.exports=function(){function b(k,M,j,G,P,Q){if(Q!==p){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}}function S(){return b}b.isRequired=b;var R={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:S,element:b,elementType:b,instanceOf:S,node:b,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:x,resetWarningCache:m};return R.PropTypes=R,R}},697:(o,l,c)=>{o.exports=c(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function r(o){var l=n[o];if(l!==void 0)return l.exports;var c=n[o]={exports:{}};return t[o](c,c.exports,r),c.exports}r.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return r.d(l,{a:l}),l},r.d=(o,l)=>{for(var c in l)r.o(l,c)&&!r.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},r.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),r.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{LazyLoadComponent:()=>Ut,LazyLoadImage:()=>it,trackWindowScroll:()=>se});const o=requireReact$1();var l=r.n(o),c=r(697);function p(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(Pe){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},m(Pe)}function x(Pe,Fe){var Ye=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Pe);Fe&&(Je=Je.filter((function(bt){return Object.getOwnPropertyDescriptor(Pe,bt).enumerable}))),Ye.push.apply(Ye,Je)}return Ye}function b(Pe,Fe,Ye){return(Fe=R(Fe))in Pe?Object.defineProperty(Pe,Fe,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):Pe[Fe]=Ye,Pe}function S(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,R(Je.key),Je)}}function R(Pe){var Fe=(function(Ye,Je){if(m(Ye)!=="object"||Ye===null)return Ye;var bt=Ye[Symbol.toPrimitive];if(bt!==void 0){var Mt=bt.call(Ye,"string");if(m(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ye)})(Pe);return m(Fe)==="symbol"?Fe:String(Fe)}function k(Pe,Fe){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},k(Pe,Fe)}function M(Pe){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},M(Pe)}var j=function(Pe){Pe.forEach((function(Fe){Fe.isIntersecting&&Fe.target.onVisible()}))},G={},P=(function(Pe){(function(Xe,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),ze&&k(Xe,ze)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,ze=M(Je);if(bt){var $e=M(this).constructor;Xe=Reflect.construct(ze,arguments,$e)}else Xe=ze.apply(this,arguments);return(function(ut,lt){if(lt&&(m(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt})(ut)})(this,Xe)});function Wt(Xe){var ze;if((function(ut,lt){if(!(ut instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,Wt),(ze=Mt.call(this,Xe)).supportsObserver=!Xe.scrollPosition&&Xe.useIntersectionObserver&&p(),ze.supportsObserver){var $e=Xe.threshold;ze.observer=(function(ut){return G[ut]=G[ut]||new IntersectionObserver(j,{rootMargin:ut+"px"}),G[ut]})($e)}return ze}return Fe=Wt,Ye=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ze=this.placeholder.getBoundingClientRect(),$e=this.placeholder.style,ut=parseInt($e.getPropertyValue("margin-left"),10)||0,lt=parseInt($e.getPropertyValue("margin-top"),10)||0;return{bottom:Xe.y+ze.bottom+lt,left:Xe.x+ze.left+ut,right:Xe.x+ze.right+ut,top:Xe.y+ze.top+lt}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Xe=this.props,ze=Xe.scrollPosition,$e=Xe.threshold,ut=this.getPlaceholderBoundingBox(ze),lt=ze.y+window.innerHeight,Bt=ze.x,on=ze.x+window.innerWidth,un=ze.y;return un-$e<=ut.bottom&&lt+$e>=ut.top&&Bt-$e<=ut.right&&on+$e>=ut.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Xe=this,ze=this.props,$e=ze.className,ut=ze.height,lt=ze.placeholder,Bt=ze.style,on=ze.width;if(lt&&typeof lt.type!="function")return l().cloneElement(lt,{ref:function(dn){return Xe.placeholder=dn}});var un=(function(dn){for(var kt=1;kt<arguments.length;kt++){var mn=arguments[kt]!=null?arguments[kt]:{};kt%2?x(Object(mn),!0).forEach((function(Bn){b(dn,Bn,mn[Bn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(mn)):x(Object(mn)).forEach((function(Bn){Object.defineProperty(dn,Bn,Object.getOwnPropertyDescriptor(mn,Bn))}))}return dn})({display:"inline-block"},Bt);return on!==void 0&&(un.width=on),ut!==void 0&&(un.height=ut),l().createElement("span",{className:$e,ref:function(dn){return Xe.placeholder=dn},style:un},lt)}}],Ye&&S(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);P.propTypes={onVisible:c.PropTypes.func.isRequired,className:c.PropTypes.string,height:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),placeholder:c.PropTypes.element,threshold:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool,scrollPosition:c.PropTypes.shape({x:c.PropTypes.number.isRequired,y:c.PropTypes.number.isRequired}),width:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string])},P.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const Q=P;var H=r(296),X=r.n(H),ee=r(96),ne=r.n(ee),Y=function(Pe){var Fe=getComputedStyle(Pe,null);return Fe.getPropertyValue("overflow")+Fe.getPropertyValue("overflow-y")+Fe.getPropertyValue("overflow-x")};const re=function(Pe){if(!(Pe instanceof HTMLElement))return window;for(var Fe=Pe;Fe&&Fe instanceof HTMLElement;){if(/(scroll|auto)/.test(Y(Fe)))return Fe;Fe=Fe.parentNode}return window};function oe(Pe){return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},oe(Pe)}var xe=["delayMethod","delayTime"];function ve(){return ve=Object.assign?Object.assign.bind():function(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe];for(var Je in Ye)Object.prototype.hasOwnProperty.call(Ye,Je)&&(Pe[Je]=Ye[Je])}return Pe},ve.apply(this,arguments)}function me(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(oe(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var ze=Xe.call(Mt,"string");if(oe(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),oe(bt)==="symbol"?bt:String(bt)),Je)}var bt}function we(Pe,Fe){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},we(Pe,Fe)}function Ee(Pe,Fe){if(Fe&&(oe(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(Pe)}function he(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function ae(Pe){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},ae(Pe)}var ue=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},te=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const se=function(Pe){var Fe=(function(Ye){(function($e,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(ut&&ut.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),Object.defineProperty($e,"prototype",{writable:!1}),ut&&we($e,ut)})(ze,Ye);var Je,bt,Mt,Wt,Xe=(Mt=ze,Wt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var $e,ut=ae(Mt);if(Wt){var lt=ae(this).constructor;$e=Reflect.construct(ut,arguments,lt)}else $e=ut.apply(this,arguments);return Ee(this,$e)});function ze($e){var ut;if((function(Bt,on){if(!(Bt instanceof on))throw new TypeError("Cannot call a class as a function")})(this,ze),(ut=Xe.call(this,$e)).useIntersectionObserver=$e.useIntersectionObserver&&p(),ut.useIntersectionObserver)return Ee(ut);var lt=ut.onChangeScroll.bind(he(ut));return $e.delayMethod==="debounce"?ut.delayedScroll=X()(lt,$e.delayTime):$e.delayMethod==="throttle"&&(ut.delayedScroll=ne()(lt,$e.delayTime)),ut.state={scrollPosition:{x:ue(),y:te()}},ut.baseComponentRef=l().createRef(),ut}return Je=ze,(bt=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||re(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=re(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ue(),y:te()}})}},{key:"render",value:function(){var $e=this.props,ut=($e.delayMethod,$e.delayTime,(function(Bt,on){if(Bt==null)return{};var un,dn,kt=(function(Bn,Br){if(Bn==null)return{};var Nn,Tr,Dn={},_r=Object.keys(Bn);for(Tr=0;Tr<_r.length;Tr++)Nn=_r[Tr],Br.indexOf(Nn)>=0||(Dn[Nn]=Bn[Nn]);return Dn})(Bt,on);if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(Bt);for(dn=0;dn<mn.length;dn++)un=mn[dn],on.indexOf(un)>=0||Object.prototype.propertyIsEnumerable.call(Bt,un)&&(kt[un]=Bt[un])}return kt})($e,xe)),lt=this.useIntersectionObserver?null:this.state.scrollPosition;return l().createElement(Pe,ve({forwardRef:this.baseComponentRef,scrollPosition:lt},ut))}}])&&me(Je.prototype,bt),Object.defineProperty(Je,"prototype",{writable:!1}),ze})(l().Component);return Fe.propTypes={delayMethod:c.PropTypes.oneOf(["debounce","throttle"]),delayTime:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool},Fe.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},Fe};function Ce(Pe){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},Ce(Pe)}function ce(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(Ce(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var ze=Xe.call(Mt,"string");if(Ce(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),Ce(bt)==="symbol"?bt:String(bt)),Je)}var bt}function ye(Pe,Fe){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},ye(Pe,Fe)}function Se(Pe){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},Se(Pe)}var _e=(function(Pe){(function(Xe,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),ze&&ye(Xe,ze)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,ze=Se(Je);if(bt){var $e=Se(this).constructor;Xe=Reflect.construct(ze,arguments,$e)}else Xe=ze.apply(this,arguments);return(function(ut,lt){if(lt&&(Ce(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt})(ut)})(this,Xe)});function Wt(Xe){return(function(ze,$e){if(!(ze instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,Wt),Mt.call(this,Xe)}return Fe=Wt,(Ye=[{key:"render",value:function(){return l().createElement(Q,this.props)}}])&&ce(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);const je=se(_e);function Me(Pe){return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},Me(Pe)}function Ze(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(Me(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var ze=Xe.call(Mt,"string");if(Me(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),Me(bt)==="symbol"?bt:String(bt)),Je)}var bt}function ot(Pe,Fe){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},ot(Pe,Fe)}function Ct(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function It(Pe){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},It(Pe)}var mt=(function(Pe){(function(Xe,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),ze&&ot(Xe,ze)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,ze=It(Je);if(bt){var $e=It(this).constructor;Xe=Reflect.construct(ze,arguments,$e)}else Xe=ze.apply(this,arguments);return(function(ut,lt){if(lt&&(Me(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ct(ut)})(this,Xe)});function Wt(Xe){var ze;(function(on,un){if(!(on instanceof un))throw new TypeError("Cannot call a class as a function")})(this,Wt),ze=Mt.call(this,Xe);var $e=Xe.afterLoad,ut=Xe.beforeLoad,lt=Xe.scrollPosition,Bt=Xe.visibleByDefault;return ze.state={visible:Bt},Bt&&(ut(),$e()),ze.onVisible=ze.onVisible.bind(Ct(ze)),ze.isScrollTracked=!!(lt&&Number.isFinite(lt.x)&&lt.x>=0&&Number.isFinite(lt.y)&&lt.y>=0),ze}return Fe=Wt,(Ye=[{key:"componentDidUpdate",value:function(Xe,ze){ze.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Xe=this.props,ze=Xe.className,$e=Xe.delayMethod,ut=Xe.delayTime,lt=Xe.height,Bt=Xe.placeholder,on=Xe.scrollPosition,un=Xe.style,dn=Xe.threshold,kt=Xe.useIntersectionObserver,mn=Xe.width;return this.isScrollTracked||kt&&p()?l().createElement(Q,{className:ze,height:lt,onVisible:this.onVisible,placeholder:Bt,scrollPosition:on,style:un,threshold:dn,useIntersectionObserver:kt,width:mn}):l().createElement(je,{className:ze,delayMethod:$e,delayTime:ut,height:lt,onVisible:this.onVisible,placeholder:Bt,style:un,threshold:dn,width:mn})}}])&&Ze(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);mt.propTypes={afterLoad:c.PropTypes.func,beforeLoad:c.PropTypes.func,useIntersectionObserver:c.PropTypes.bool,visibleByDefault:c.PropTypes.bool},mt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ut=mt;function gt(Pe){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},gt(Pe)}var xt=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function an(Pe,Fe){var Ye=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Pe);Fe&&(Je=Je.filter((function(bt){return Object.getOwnPropertyDescriptor(Pe,bt).enumerable}))),Ye.push.apply(Ye,Je)}return Ye}function Un(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?an(Object(Ye),!0).forEach((function(Je){Zt(Pe,Je,Ye[Je])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Ye)):an(Object(Ye)).forEach((function(Je){Object.defineProperty(Pe,Je,Object.getOwnPropertyDescriptor(Ye,Je))}))}return Pe}function Zt(Pe,Fe,Ye){return(Fe=In(Fe))in Pe?Object.defineProperty(Pe,Fe,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):Pe[Fe]=Ye,Pe}function $t(){return $t=Object.assign?Object.assign.bind():function(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe];for(var Je in Ye)Object.prototype.hasOwnProperty.call(Ye,Je)&&(Pe[Je]=Ye[Je])}return Pe},$t.apply(this,arguments)}function Ot(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,In(Je.key),Je)}}function In(Pe){var Fe=(function(Ye,Je){if(gt(Ye)!=="object"||Ye===null)return Ye;var bt=Ye[Symbol.toPrimitive];if(bt!==void 0){var Mt=bt.call(Ye,"string");if(gt(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ye)})(Pe);return gt(Fe)==="symbol"?Fe:String(Fe)}function pt(Pe,Fe){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},pt(Pe,Fe)}function Kn(Pe){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},Kn(Pe)}var On=(function(Pe){(function(Xe,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),ze&&pt(Xe,ze)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,ze=Kn(Je);if(bt){var $e=Kn(this).constructor;Xe=Reflect.construct(ze,arguments,$e)}else Xe=ze.apply(this,arguments);return(function(ut,lt){if(lt&&(gt(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt})(ut)})(this,Xe)});function Wt(Xe){var ze;return(function($e,ut){if(!($e instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,Wt),(ze=Mt.call(this,Xe)).state={loaded:!1},ze}return Fe=Wt,(Ye=[{key:"onImageLoad",value:function(){var Xe=this;return this.state.loaded?null:function(ze){Xe.props.onLoad(ze),Xe.props.afterLoad(),Xe.setState({loaded:!0})}}},{key:"getImg",value:function(){var Xe=this.props,ze=(Xe.afterLoad,Xe.beforeLoad,Xe.delayMethod,Xe.delayTime,Xe.effect,Xe.placeholder,Xe.placeholderSrc,Xe.scrollPosition,Xe.threshold,Xe.useIntersectionObserver,Xe.visibleByDefault,Xe.wrapperClassName,Xe.wrapperProps,(function($e,ut){if($e==null)return{};var lt,Bt,on=(function(dn,kt){if(dn==null)return{};var mn,Bn,Br={},Nn=Object.keys(dn);for(Bn=0;Bn<Nn.length;Bn++)mn=Nn[Bn],kt.indexOf(mn)>=0||(Br[mn]=dn[mn]);return Br})($e,ut);if(Object.getOwnPropertySymbols){var un=Object.getOwnPropertySymbols($e);for(Bt=0;Bt<un.length;Bt++)lt=un[Bt],ut.indexOf(lt)>=0||Object.prototype.propertyIsEnumerable.call($e,lt)&&(on[lt]=$e[lt])}return on})(Xe,xt));return l().createElement("img",$t({},ze,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Xe=this.props,ze=Xe.beforeLoad,$e=Xe.className,ut=Xe.delayMethod,lt=Xe.delayTime,Bt=Xe.height,on=Xe.placeholder,un=Xe.scrollPosition,dn=Xe.style,kt=Xe.threshold,mn=Xe.useIntersectionObserver,Bn=Xe.visibleByDefault,Br=Xe.width;return l().createElement(Ut,{beforeLoad:ze,className:$e,delayMethod:ut,delayTime:lt,height:Bt,placeholder:on,scrollPosition:un,style:dn,threshold:kt,useIntersectionObserver:mn,visibleByDefault:Bn,width:Br},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Xe){var ze=this.props,$e=ze.effect,ut=ze.height,lt=ze.placeholderSrc,Bt=ze.width,on=ze.wrapperClassName,un=ze.wrapperProps,dn=this.state.loaded,kt=dn?" lazy-load-image-loaded":"",mn=dn||!lt?{}:{backgroundImage:"url(".concat(lt,")"),backgroundSize:"100% 100%"};return l().createElement("span",$t({className:on+" lazy-load-image-background "+$e+kt,style:Un(Un({},mn),{},{color:"transparent",display:"inline-block",height:ut,width:Bt})},un),Xe)}},{key:"render",value:function(){var Xe=this.props,ze=Xe.effect,$e=Xe.placeholderSrc,ut=Xe.visibleByDefault,lt=Xe.wrapperClassName,Bt=Xe.wrapperProps,on=this.getLazyLoadImage();return(ze||$e)&&!ut||lt||Bt?this.getWrappedLazyLoadImage(on):on}}])&&Ot(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);On.propTypes={onLoad:c.PropTypes.func,afterLoad:c.PropTypes.func,beforeLoad:c.PropTypes.func,delayMethod:c.PropTypes.string,delayTime:c.PropTypes.number,effect:c.PropTypes.string,placeholderSrc:c.PropTypes.string,threshold:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool,visibleByDefault:c.PropTypes.bool,wrapperClassName:c.PropTypes.string,wrapperProps:c.PropTypes.object},On.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const it=On})(),build.exports=s})()),build.exports}var buildExports=requireBuild();const FALLBACK_IMAGE="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 400 400'%3E%3Crect width='400' height='400' fill='%23f3f4f6'/%3E%3Cpath d='M140 240 L180 200 L210 230 L250 190 L320 260 H80 Z' fill='%23d1d5db'/%3E%3Ccircle cx='140' cy='140' r='30' fill='%23d1d5db'/%3E%3C/svg%3E",BASE_URL$2="https://artly.soundgram.co.kr";function Img({src:t,alt:n,className:r,style:s,...o}){const[l,c]=reactExports$1.useState(FALLBACK_IMAGE);reactExports$1.useEffect(()=>{if(!t){c(FALLBACK_IMAGE);return}if(t.startsWith("http")||t.startsWith("data:")||t.startsWith("blob:"))c(t);else{const m=t.startsWith("/")?t:`/${t}`;c(`${BASE_URL$2}${m}`)}},[t]);const p=m=>{m.target.src!==FALLBACK_IMAGE&&(m.target.src=FALLBACK_IMAGE)};return jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{src:l,alt:n,className:r,onError:p,style:{objectFit:"cover"},...o})}function MainCarousel(){const[t,n]=reactExports$1.useState(0),[r,s]=reactExports$1.useState([]),o=reactExports$1.useRef(null),l=useNavigate();reactExports$1.useEffect(()=>(c(),()=>clearTimeout(o.current)),[t,r]);const c=()=>{clearTimeout(o.current),!(!r||r.length<=1)&&(o.current=setTimeout(()=>{n(b=>(b+1)%r.length)},5e3))},p=()=>{n(b=>(b-1+r.length)%r.length)},m=()=>{n(b=>(b+1)%r.length)},x=b=>n(b);return reactExports$1.useEffect(()=>{(async()=>{try{const R=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:k,exhibition_poster:M,exhibition_title:j,exhibition_category:G,exhibition_status:P,exhibition_start_date:Q,exhibition_end_date:H,exhibition_organization:X})=>({id:k,image:M,title:j,category:G,status:P,startDate:Q,endDate:H,organization:X}));s(R)}catch(S){console.error("     :",S)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1E.carouselContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$1E.arrowButton} ${styles$1E.left}`,onClick:p,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1E.sliderWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$1E.slider,style:{transform:`translateX(-${t*100}%)`},children:r.map(b=>jsxRuntimeExports.jsxs("div",{className:styles$1E.carouselItem,children:[jsxRuntimeExports.jsx(Img,{src:b==null?void 0:b.image,alt:(b==null?void 0:b.title)||(b==null?void 0:b.name),className:styles$1E.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1E.captionBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$1E.title,children:b==null?void 0:b.title}),jsxRuntimeExports.jsxs("p",{className:styles$1E.location,children:[b==null?void 0:b.organization.name,jsxRuntimeExports.jsx("br",{}),(b==null?void 0:b.period)||`${b==null?void 0:b.startDate} ~ ${b==null?void 0:b.endDate}`]}),jsxRuntimeExports.jsx("button",{className:styles$1E.detailButton,onClick:()=>{l(`/exhibitions/${b==null?void 0:b.id}`)},children:" "})]})]},b==null?void 0:b.id))})}),jsxRuntimeExports.jsx("button",{className:`${styles$1E.arrowButton} ${styles$1E.right}`,onClick:m,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1E.dots,children:r.map((b,S)=>jsxRuntimeExports.jsx("button",{onClick:()=>x(S),className:`${styles$1E.dot} ${S===t?styles$1E.active:""}`},b==null?void 0:b.id))})]})}function isObject$4(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function extend$2(t={},n={}){const r=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>r.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=n[s]:isObject$4(n[s])&&isObject$4(t[s])&&Object.keys(n[s]).length>0&&extend$2(t[s],n[s])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const t=typeof document<"u"?document:{};return extend$2(t,ssrDocument),t}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function getWindow(){const t=typeof window<"u"?window:{};return extend$2(t,ssrWindow),t}function classesToTokens(t=""){return t.trim().split(" ").filter(n=>!!n.trim())}function deleteProps$1(t){const n=t;Object.keys(n).forEach(r=>{try{n[r]=null}catch{}try{delete n[r]}catch{}})}function nextTick(t,n=0){return setTimeout(t,n)}function now(){return Date.now()}function getComputedStyle$1(t){const n=getWindow();let r;return n.getComputedStyle&&(r=n.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function getTranslate(t,n="x"){const r=getWindow();let s,o,l;const c=getComputedStyle$1(t);return r.WebKitCSSMatrix?(o=c.transform||c.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(p=>p.replace(",",".")).join(", ")),l=new r.WebKitCSSMatrix(o==="none"?"":o)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=l.toString().split(",")),n==="x"&&(r.WebKitCSSMatrix?o=l.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),n==="y"&&(r.WebKitCSSMatrix?o=l.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function isObject$3(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function isNode(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function extend$1(...t){const n=Object(t[0]),r=["__proto__","constructor","prototype"];for(let s=1;s<t.length;s+=1){const o=t[s];if(o!=null&&!isNode(o)){const l=Object.keys(Object(o)).filter(c=>r.indexOf(c)<0);for(let c=0,p=l.length;c<p;c+=1){const m=l[c],x=Object.getOwnPropertyDescriptor(o,m);x!==void 0&&x.enumerable&&(isObject$3(n[m])&&isObject$3(o[m])?o[m].__swiper__?n[m]=o[m]:extend$1(n[m],o[m]):!isObject$3(n[m])&&isObject$3(o[m])?(n[m]={},o[m].__swiper__?n[m]=o[m]:extend$1(n[m],o[m])):n[m]=o[m])}}}return n}function setCSSProperty(t,n,r){t.style.setProperty(n,r)}function animateCSSModeScroll({swiper:t,targetPosition:n,side:r}){const s=getWindow(),o=-t.translate;let l=null,c;const p=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const m=n>o?"next":"prev",x=(S,R)=>m==="next"&&S>=R||m==="prev"&&S<=R,b=()=>{c=new Date().getTime(),l===null&&(l=c);const S=Math.max(Math.min((c-l)/p,1),0),R=.5-Math.cos(S*Math.PI)/2;let k=o+R*(n-o);if(x(k,n)&&(k=n),t.wrapperEl.scrollTo({[r]:k}),x(k,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:k})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(b)};b()}function elementChildren(t,n=""){const r=getWindow(),s=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),n?s.filter(o=>o.matches(n)):s}function elementIsChildOfSlot(t,n){const r=[n];for(;r.length>0;){const s=r.shift();if(t===s)return!0;r.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function elementIsChildOf(t,n){const r=getWindow();let s=n.contains(t);return!s&&r.HTMLSlotElement&&n instanceof HTMLSlotElement&&(s=[...n.assignedElements()].includes(t),s||(s=elementIsChildOfSlot(t,n))),s}function showWarning(t){try{console.warn(t);return}catch{}}function createElement(t,n=[]){const r=document.createElement(t);return r.classList.add(...Array.isArray(n)?n:classesToTokens(n)),r}function elementPrevAll(t,n){const r=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;n?s.matches(n)&&r.push(s):r.push(s),t=s}return r}function elementNextAll(t,n){const r=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;n?s.matches(n)&&r.push(s):r.push(s),t=s}return r}function elementStyle(t,n){return getWindow().getComputedStyle(t,null).getPropertyValue(n)}function elementIndex(t){let n=t,r;if(n){for(r=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(r+=1);return r}}function elementParents(t,n){const r=[];let s=t.parentElement;for(;s;)r.push(s),s=s.parentElement;return r}function elementOuterSize(t,n,r){const s=getWindow();return t[n==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(t){return(Array.isArray(t)?t:[t]).filter(n=>!!n)}function setInnerHTML(t,n=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(n):t.innerHTML=n}let support;function calcSupport(){const t=getWindow(),n=getDocument();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:t}={}){const n=getSupport(),r=getWindow(),s=r.navigator.platform,o=t||r.navigator.userAgent,l={ios:!1,android:!1},c=r.screen.width,p=r.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let x=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),S=!x&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),R=s==="Win32";let k=s==="MacIntel";const M=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!x&&k&&n.touch&&M.indexOf(`${c}x${p}`)>=0&&(x=o.match(/(Version)\/([\d.]+)/),x||(x=[0,1,"13_0_0"]),k=!1),m&&!R&&(l.os="android",l.android=!0),(x||S||b)&&(l.os="ios",l.ios=!0),l}function getDevice(t={}){return deviceCached||(deviceCached=calcDevice(t)),deviceCached}let browser$1;function calcBrowser(){const t=getWindow(),n=getDevice();let r=!1;function s(){const p=t.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(s()){const p=String(t.navigator.userAgent);if(p.includes("Version/")){const[m,x]=p.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));r=m<16||m===16&&x<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),l=s(),c=l||o&&n.ios;return{isSafari:r||l,needPerspectiveFix:r,need3dFix:c,isWebView:o}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize({swiper:t,on:n,emit:r}){const s=getWindow();let o=null,l=null;const c=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},p=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(b=>{l=s.requestAnimationFrame(()=>{const{width:S,height:R}=t;let k=S,M=R;b.forEach(({contentBoxSize:j,contentRect:G,target:P})=>{P&&P!==t.el||(k=G?G.width:(j[0]||j).inlineSize,M=G?G.height:(j[0]||j).blockSize)}),(k!==S||M!==R)&&c()})}),o.observe(t.el))},m=()=>{l&&s.cancelAnimationFrame(l),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},x=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){p();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",x)}),n("destroy",()=>{m(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",x)})}function Observer({swiper:t,extendParams:n,on:r,emit:s}){const o=[],l=getWindow(),c=(x,b={})=>{const S=l.MutationObserver||l.WebkitMutationObserver,R=new S(k=>{if(t.__preventObserver__)return;if(k.length===1){s("observerUpdate",k[0]);return}const M=function(){s("observerUpdate",k[0])};l.requestAnimationFrame?l.requestAnimationFrame(M):l.setTimeout(M,0)});R.observe(x,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:t.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(R)},p=()=>{if(t.params.observer){if(t.params.observeParents){const x=elementParents(t.hostEl);for(let b=0;b<x.length;b+=1)c(x[b])}c(t.hostEl,{childList:t.params.observeSlideChildren}),c(t.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(x=>{x.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",p),r("destroy",m)}var eventsEmitter={on(t,n,r){const s=this;if(!s.eventsListeners||s.destroyed||typeof n!="function")return s;const o=r?"unshift":"push";return t.split(" ").forEach(l=>{s.eventsListeners[l]||(s.eventsListeners[l]=[]),s.eventsListeners[l][o](n)}),s},once(t,n,r){const s=this;if(!s.eventsListeners||s.destroyed||typeof n!="function")return s;function o(...l){s.off(t,o),o.__emitterProxy&&delete o.__emitterProxy,n.apply(s,l)}return o.__emitterProxy=n,s.on(t,o,r)},onAny(t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const s=n?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[s](t),r},offAny(t){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;const r=n.eventsAnyListeners.indexOf(t);return r>=0&&n.eventsAnyListeners.splice(r,1),n},off(t,n){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(s=>{typeof n>"u"?r.eventsListeners[s]=[]:r.eventsListeners[s]&&r.eventsListeners[s].forEach((o,l)=>{(o===n||o.__emitterProxy&&o.__emitterProxy===n)&&r.eventsListeners[s].splice(l,1)})}),r},emit(...t){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let r,s,o;return typeof t[0]=="string"||Array.isArray(t[0])?(r=t[0],s=t.slice(1,t.length),o=n):(r=t[0].events,s=t[0].data,o=t[0].context||n),s.unshift(o),(Array.isArray(r)?r:r.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(o,[c,...s])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(p=>{p.apply(o,s)})}),n}};function updateSize(){const t=this;let n,r;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?n=t.params.width:n=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=s.clientHeight,!(n===0&&t.isHorizontal()||r===0&&t.isVertical())&&(n=n-parseInt(elementStyle(s,"padding-left")||0,10)-parseInt(elementStyle(s,"padding-right")||0,10),r=r-parseInt(elementStyle(s,"padding-top")||0,10)-parseInt(elementStyle(s,"padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:n,height:r,size:t.isHorizontal()?n:r}))}function updateSlides(){const t=this;function n(xe,ve){return parseFloat(xe.getPropertyValue(t.getDirectionLabel(ve))||0)}const r=t.params,{wrapperEl:s,slidesEl:o,rtlTranslate:l,wrongRTL:c}=t,p=t.virtual&&r.virtual.enabled,m=p?t.virtual.slides.length:t.slides.length,x=elementChildren(o,`.${t.params.slideClass}, swiper-slide`),b=p?t.virtual.slides.length:x.length;let S=[];const R=[],k=[];let M=r.slidesOffsetBefore;typeof M=="function"&&(M=r.slidesOffsetBefore.call(t));let j=r.slidesOffsetAfter;typeof j=="function"&&(j=r.slidesOffsetAfter.call(t));const G=t.snapGrid.length,P=t.slidesGrid.length,Q=t.size-M-j;let H=r.spaceBetween,X=-M,ee=0,ne=0;if(typeof Q>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*Q:typeof H=="string"&&(H=parseFloat(H)),t.virtualSize=-H-M-j,x.forEach(xe=>{l?xe.style.marginLeft="":xe.style.marginRight="",xe.style.marginBottom="",xe.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(setCSSProperty(s,"--swiper-centered-offset-before",""),setCSSProperty(s,"--swiper-centered-offset-after",""));const Y=r.grid&&r.grid.rows>1&&t.grid;Y?t.grid.initSlides(x):t.grid&&t.grid.unsetSlides();let re;const oe=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(xe=>typeof r.breakpoints[xe].slidesPerView<"u").length>0;for(let xe=0;xe<b;xe+=1){re=0;const ve=x[xe];if(!(ve&&(Y&&t.grid.updateSlide(xe,ve,x),elementStyle(ve,"display")==="none"))){if(p&&r.slidesPerView==="auto")r.virtual.slidesPerViewAutoSlideSize&&(re=r.virtual.slidesPerViewAutoSlideSize),re&&ve&&(r.roundLengths&&(re=Math.floor(re)),ve.style[t.getDirectionLabel("width")]=`${re}px`);else if(r.slidesPerView==="auto"){oe&&(ve.style[t.getDirectionLabel("width")]="");const me=getComputedStyle(ve),we=ve.style.transform,Ee=ve.style.webkitTransform;if(we&&(ve.style.transform="none"),Ee&&(ve.style.webkitTransform="none"),r.roundLengths)re=t.isHorizontal()?elementOuterSize(ve,"width"):elementOuterSize(ve,"height");else{const he=n(me,"width"),ae=n(me,"padding-left"),ue=n(me,"padding-right"),te=n(me,"margin-left"),se=n(me,"margin-right"),Ce=me.getPropertyValue("box-sizing");if(Ce&&Ce==="border-box")re=he+te+se;else{const{clientWidth:ce,offsetWidth:ye}=ve;re=he+ae+ue+te+se+(ye-ce)}}we&&(ve.style.transform=we),Ee&&(ve.style.webkitTransform=Ee),r.roundLengths&&(re=Math.floor(re))}else re=(Q-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&(re=Math.floor(re)),ve&&(ve.style[t.getDirectionLabel("width")]=`${re}px`);ve&&(ve.swiperSlideSize=re),k.push(re),r.centeredSlides?(X=X+re/2+ee/2+H,ee===0&&xe!==0&&(X=X-Q/2-H),xe===0&&(X=X-Q/2-H),Math.abs(X)<1/1e3&&(X=0),r.roundLengths&&(X=Math.floor(X)),ne%r.slidesPerGroup===0&&S.push(X),R.push(X)):(r.roundLengths&&(X=Math.floor(X)),(ne-Math.min(t.params.slidesPerGroupSkip,ne))%t.params.slidesPerGroup===0&&S.push(X),R.push(X),X=X+re+H),t.virtualSize+=re+H,ee=re,ne+=1}}if(t.virtualSize=Math.max(t.virtualSize,Q)+j,l&&c&&(r.effect==="slide"||r.effect==="coverflow")&&(s.style.width=`${t.virtualSize+H}px`),r.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+H}px`),Y&&t.grid.updateWrapperSize(re,S),!r.centeredSlides){const xe=[];for(let ve=0;ve<S.length;ve+=1){let me=S[ve];r.roundLengths&&(me=Math.floor(me)),S[ve]<=t.virtualSize-Q&&xe.push(me)}S=xe,Math.floor(t.virtualSize-Q)-Math.floor(S[S.length-1])>1&&S.push(t.virtualSize-Q)}if(p&&r.loop){const xe=k[0]+H;if(r.slidesPerGroup>1){const ve=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),me=xe*r.slidesPerGroup;for(let we=0;we<ve;we+=1)S.push(S[S.length-1]+me)}for(let ve=0;ve<t.virtual.slidesBefore+t.virtual.slidesAfter;ve+=1)r.slidesPerGroup===1&&S.push(S[S.length-1]+xe),R.push(R[R.length-1]+xe),t.virtualSize+=xe}if(S.length===0&&(S=[0]),H!==0){const xe=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");x.filter((ve,me)=>!r.cssMode||r.loop?!0:me!==x.length-1).forEach(ve=>{ve.style[xe]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let xe=0;k.forEach(me=>{xe+=me+(H||0)}),xe-=H;const ve=xe>Q?xe-Q:0;S=S.map(me=>me<=0?-M:me>ve?ve+j:me)}if(r.centerInsufficientSlides){let xe=0;k.forEach(me=>{xe+=me+(H||0)}),xe-=H;const ve=(M||0)+(j||0);if(xe+ve<Q){const me=(Q-xe-ve)/2;S.forEach((we,Ee)=>{S[Ee]=we-me}),R.forEach((we,Ee)=>{R[Ee]=we+me})}}if(Object.assign(t,{slides:x,snapGrid:S,slidesGrid:R,slidesSizesGrid:k}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){setCSSProperty(s,"--swiper-centered-offset-before",`${-S[0]}px`),setCSSProperty(s,"--swiper-centered-offset-after",`${t.size/2-k[k.length-1]/2}px`);const xe=-t.snapGrid[0],ve=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(me=>me+xe),t.slidesGrid=t.slidesGrid.map(me=>me+ve)}if(b!==m&&t.emit("slidesLengthChange"),S.length!==G&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),R.length!==P&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!p&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const xe=`${r.containerModifierClass}backface-hidden`,ve=t.el.classList.contains(xe);b<=r.maxBackfaceHiddenSlides?ve||t.el.classList.add(xe):ve&&t.el.classList.remove(xe)}}function updateAutoHeight(t){const n=this,r=[],s=n.virtual&&n.params.virtual.enabled;let o=0,l;typeof t=="number"?n.setTransition(t):t===!0&&n.setTransition(n.params.speed);const c=p=>s?n.slides[n.getSlideIndexByData(p)]:n.slides[p];if(n.params.slidesPerView!=="auto"&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach(p=>{r.push(p)});else for(l=0;l<Math.ceil(n.params.slidesPerView);l+=1){const p=n.activeIndex+l;if(p>n.slides.length&&!s)break;r.push(c(p))}else r.push(c(n.activeIndex));for(l=0;l<r.length;l+=1)if(typeof r[l]<"u"){const p=r[l].offsetHeight;o=p>o?p:o}(o||o===0)&&(n.wrapperEl.style.height=`${o}px`)}function updateSlidesOffset(){const t=this,n=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<n.length;s+=1)n[s].swiperSlideOffset=(t.isHorizontal()?n[s].offsetLeft:n[s].offsetTop)-r-t.cssOverflowAdjustment()}const toggleSlideClasses$1=(t,n,r)=>{n&&!t.classList.contains(r)?t.classList.add(r):!n&&t.classList.contains(r)&&t.classList.remove(r)};function updateSlidesProgress(t=this&&this.translate||0){const n=this,r=n.params,{slides:s,rtlTranslate:o,snapGrid:l}=n;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let c=-t;o&&(c=t),n.visibleSlidesIndexes=[],n.visibleSlides=[];let p=r.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*n.size:typeof p=="string"&&(p=parseFloat(p));for(let m=0;m<s.length;m+=1){const x=s[m];let b=x.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(b-=s[0].swiperSlideOffset);const S=(c+(r.centeredSlides?n.minTranslate():0)-b)/(x.swiperSlideSize+p),R=(c-l[0]+(r.centeredSlides?n.minTranslate():0)-b)/(x.swiperSlideSize+p),k=-(c-b),M=k+n.slidesSizesGrid[m],j=k>=0&&k<=n.size-n.slidesSizesGrid[m],G=k>=0&&k<n.size-1||M>1&&M<=n.size||k<=0&&M>=n.size;G&&(n.visibleSlides.push(x),n.visibleSlidesIndexes.push(m)),toggleSlideClasses$1(x,G,r.slideVisibleClass),toggleSlideClasses$1(x,j,r.slideFullyVisibleClass),x.progress=o?-S:S,x.originalProgress=o?-R:R}}function updateProgress(t){const n=this;if(typeof t>"u"){const b=n.rtlTranslate?-1:1;t=n&&n.translate&&n.translate*b||0}const r=n.params,s=n.maxTranslate()-n.minTranslate();let{progress:o,isBeginning:l,isEnd:c,progressLoop:p}=n;const m=l,x=c;if(s===0)o=0,l=!0,c=!0;else{o=(t-n.minTranslate())/s;const b=Math.abs(t-n.minTranslate())<1,S=Math.abs(t-n.maxTranslate())<1;l=b||o<=0,c=S||o>=1,b&&(o=0),S&&(o=1)}if(r.loop){const b=n.getSlideIndexByData(0),S=n.getSlideIndexByData(n.slides.length-1),R=n.slidesGrid[b],k=n.slidesGrid[S],M=n.slidesGrid[n.slidesGrid.length-1],j=Math.abs(t);j>=R?p=(j-R)/M:p=(j+M-k)/M,p>1&&(p-=1)}Object.assign(n,{progress:o,progressLoop:p,isBeginning:l,isEnd:c}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&n.updateSlidesProgress(t),l&&!m&&n.emit("reachBeginning toEdge"),c&&!x&&n.emit("reachEnd toEdge"),(m&&!l||x&&!c)&&n.emit("fromEdge"),n.emit("progress",o)}const toggleSlideClasses=(t,n,r)=>{n&&!t.classList.contains(r)?t.classList.add(r):!n&&t.classList.contains(r)&&t.classList.remove(r)};function updateSlidesClasses(){const t=this,{slides:n,params:r,slidesEl:s,activeIndex:o}=t,l=t.virtual&&r.virtual.enabled,c=t.grid&&r.grid&&r.grid.rows>1,p=S=>elementChildren(s,`.${r.slideClass}${S}, swiper-slide${S}`)[0];let m,x,b;if(l)if(r.loop){let S=o-t.virtual.slidesBefore;S<0&&(S=t.virtual.slides.length+S),S>=t.virtual.slides.length&&(S-=t.virtual.slides.length),m=p(`[data-swiper-slide-index="${S}"]`)}else m=p(`[data-swiper-slide-index="${o}"]`);else c?(m=n.find(S=>S.column===o),b=n.find(S=>S.column===o+1),x=n.find(S=>S.column===o-1)):m=n[o];m&&(c||(b=elementNextAll(m,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!b&&(b=n[0]),x=elementPrevAll(m,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!x===0&&(x=n[n.length-1]))),n.forEach(S=>{toggleSlideClasses(S,S===m,r.slideActiveClass),toggleSlideClasses(S,S===b,r.slideNextClass),toggleSlideClasses(S,S===x,r.slidePrevClass)}),t.emitSlidesClasses()}const processLazyPreloader=(t,n)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=n.closest(r());if(s){let o=s.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},unlazy=(t,n)=>{if(!t.slides[n])return;const r=t.slides[n].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},preload=t=>{if(!t||t.destroyed||!t.params)return;let n=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!n||n<0)return;n=Math.min(n,r);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const c=o,p=[c-n];p.push(...Array.from({length:n}).map((m,x)=>c+s+x)),t.slides.forEach((m,x)=>{p.includes(m.column)&&unlazy(t,x)});return}const l=o+s-1;if(t.params.rewind||t.params.loop)for(let c=o-n;c<=l+n;c+=1){const p=(c%r+r)%r;(p<o||p>l)&&unlazy(t,p)}else for(let c=Math.max(o-n,0);c<=Math.min(l+n,r-1);c+=1)c!==o&&(c>l||c<o)&&unlazy(t,c)};function getActiveIndexByTranslate(t){const{slidesGrid:n,params:r}=t,s=t.rtlTranslate?t.translate:-t.translate;let o;for(let l=0;l<n.length;l+=1)typeof n[l+1]<"u"?s>=n[l]&&s<n[l+1]-(n[l+1]-n[l])/2?o=l:s>=n[l]&&s<n[l+1]&&(o=l+1):s>=n[l]&&(o=l);return r.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function updateActiveIndex(t){const n=this,r=n.rtlTranslate?n.translate:-n.translate,{snapGrid:s,params:o,activeIndex:l,realIndex:c,snapIndex:p}=n;let m=t,x;const b=k=>{let M=k-n.virtual.slidesBefore;return M<0&&(M=n.virtual.slides.length+M),M>=n.virtual.slides.length&&(M-=n.virtual.slides.length),M};if(typeof m>"u"&&(m=getActiveIndexByTranslate(n)),s.indexOf(r)>=0)x=s.indexOf(r);else{const k=Math.min(o.slidesPerGroupSkip,m);x=k+Math.floor((m-k)/o.slidesPerGroup)}if(x>=s.length&&(x=s.length-1),m===l&&!n.params.loop){x!==p&&(n.snapIndex=x,n.emit("snapIndexChange"));return}if(m===l&&n.params.loop&&n.virtual&&n.params.virtual.enabled){n.realIndex=b(m);return}const S=n.grid&&o.grid&&o.grid.rows>1;let R;if(n.virtual&&o.virtual.enabled&&o.loop)R=b(m);else if(S){const k=n.slides.find(j=>j.column===m);let M=parseInt(k.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(n.slides.indexOf(k),0)),R=Math.floor(M/o.grid.rows)}else if(n.slides[m]){const k=n.slides[m].getAttribute("data-swiper-slide-index");k?R=parseInt(k,10):R=m}else R=m;Object.assign(n,{previousSnapIndex:p,snapIndex:x,previousRealIndex:c,realIndex:R,previousIndex:l,activeIndex:m}),n.initialized&&preload(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&(c!==R&&n.emit("realIndexChange"),n.emit("slideChange"))}function updateClickedSlide(t,n){const r=this,s=r.params;let o=t.closest(`.${s.slideClass}, swiper-slide`);!o&&r.isElement&&n&&n.length>1&&n.includes(t)&&[...n.slice(n.indexOf(t)+1,n.length)].forEach(p=>{!o&&p.matches&&p.matches(`.${s.slideClass}, swiper-slide`)&&(o=p)});let l=!1,c;if(o){for(let p=0;p<r.slides.length;p+=1)if(r.slides[p]===o){l=!0,c=p;break}}if(o&&l)r.clickedSlide=o,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=c;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}s.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var update$1={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(t=this.isHorizontal()?"x":"y"){const n=this,{params:r,rtlTranslate:s,translate:o,wrapperEl:l}=n;if(r.virtualTranslate)return s?-o:o;if(r.cssMode)return o;let c=getTranslate(l,t);return c+=n.cssOverflowAdjustment(),s&&(c=-c),c||0}function setTranslate(t,n){const r=this,{rtlTranslate:s,params:o,wrapperEl:l,progress:c}=r;let p=0,m=0;const x=0;r.isHorizontal()?p=s?-t:t:m=t,o.roundLengths&&(p=Math.floor(p),m=Math.floor(m)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?p:m,o.cssMode?l[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-p:-m:o.virtualTranslate||(r.isHorizontal()?p-=r.cssOverflowAdjustment():m-=r.cssOverflowAdjustment(),l.style.transform=`translate3d(${p}px, ${m}px, ${x}px)`);let b;const S=r.maxTranslate()-r.minTranslate();S===0?b=0:b=(t-r.minTranslate())/S,b!==c&&r.updateProgress(t),r.emit("setTranslate",r.translate,n)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(t=0,n=this.params.speed,r=!0,s=!0,o){const l=this,{params:c,wrapperEl:p}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const m=l.minTranslate(),x=l.maxTranslate();let b;if(s&&t>m?b=m:s&&t<x?b=x:b=t,l.updateProgress(b),c.cssMode){const S=l.isHorizontal();if(n===0)p[S?"scrollLeft":"scrollTop"]=-b;else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:-b,side:S?"left":"top"}),!0;p.scrollTo({[S?"left":"top"]:-b,behavior:"smooth"})}return!0}return n===0?(l.setTransition(0),l.setTranslate(b),r&&(l.emit("beforeTransitionStart",n,o),l.emit("transitionEnd"))):(l.setTransition(n),l.setTranslate(b),r&&(l.emit("beforeTransitionStart",n,o),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(R){!l||l.destroyed||R.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,r&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(t,n){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,n)}function transitionEmit({swiper:t,runCallbacks:n,direction:r,step:s}){const{activeIndex:o,previousIndex:l}=t;let c=r;c||(o>l?c="next":o<l?c="prev":c="reset"),t.emit(`transition${s}`),n&&c==="reset"?t.emit(`slideResetTransition${s}`):n&&o!==l&&(t.emit(`slideChangeTransition${s}`),c==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function transitionStart(t=!0,n){const r=this,{params:s}=r;s.cssMode||(s.autoHeight&&r.updateAutoHeight(),transitionEmit({swiper:r,runCallbacks:t,direction:n,step:"Start"}))}function transitionEnd(t=!0,n){const r=this,{params:s}=r;r.animating=!1,!s.cssMode&&(r.setTransition(0),transitionEmit({swiper:r,runCallbacks:t,direction:n,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(t=0,n,r=!0,s,o){typeof t=="string"&&(t=parseInt(t,10));const l=this;let c=t;c<0&&(c=0);const{params:p,snapGrid:m,slidesGrid:x,previousIndex:b,activeIndex:S,rtlTranslate:R,wrapperEl:k,enabled:M}=l;if(!M&&!s&&!o||l.destroyed||l.animating&&p.preventInteractionOnTransition)return!1;typeof n>"u"&&(n=l.params.speed);const j=Math.min(l.params.slidesPerGroupSkip,c);let G=j+Math.floor((c-j)/l.params.slidesPerGroup);G>=m.length&&(G=m.length-1);const P=-m[G];if(p.normalizeSlideIndex)for(let Y=0;Y<x.length;Y+=1){const re=-Math.floor(P*100),oe=Math.floor(x[Y]*100),xe=Math.floor(x[Y+1]*100);typeof x[Y+1]<"u"?re>=oe&&re<xe-(xe-oe)/2?c=Y:re>=oe&&re<xe&&(c=Y+1):re>=oe&&(c=Y)}if(l.initialized&&c!==S&&(!l.allowSlideNext&&(R?P>l.translate&&P>l.minTranslate():P<l.translate&&P<l.minTranslate())||!l.allowSlidePrev&&P>l.translate&&P>l.maxTranslate()&&(S||0)!==c))return!1;c!==(b||0)&&r&&l.emit("beforeSlideChangeStart"),l.updateProgress(P);let Q;c>S?Q="next":c<S?Q="prev":Q="reset";const H=l.virtual&&l.params.virtual.enabled;if(!(H&&o)&&(R&&-P===l.translate||!R&&P===l.translate))return l.updateActiveIndex(c),p.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),p.effect!=="slide"&&l.setTranslate(P),Q!=="reset"&&(l.transitionStart(r,Q),l.transitionEnd(r,Q)),!1;if(p.cssMode){const Y=l.isHorizontal(),re=R?P:-P;if(n===0)H&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),H&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{k[Y?"scrollLeft":"scrollTop"]=re})):k[Y?"scrollLeft":"scrollTop"]=re,H&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:re,side:Y?"left":"top"}),!0;k.scrollTo({[Y?"left":"top"]:re,behavior:"smooth"})}return!0}const ne=getBrowser().isSafari;return H&&!o&&ne&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(n),l.setTranslate(P),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",n,s),l.transitionStart(r,Q),n===0?l.transitionEnd(r,Q):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(re){!l||l.destroyed||re.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(r,Q))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(t=0,n,r=!0,s){typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);const l=o.grid&&o.params.grid&&o.params.grid.rows>1;let c=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)c=c+o.virtual.slidesBefore;else{let p;if(l){const j=c*o.params.grid.rows;p=o.slides.find(G=>G.getAttribute("data-swiper-slide-index")*1===j).column}else p=o.getSlideIndexByData(c);const m=l?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:x,slidesOffsetBefore:b,slidesOffsetAfter:S}=o.params,R=x||!!b||!!S;let k=o.params.slidesPerView;k==="auto"?k=o.slidesPerViewDynamic():(k=Math.ceil(parseFloat(o.params.slidesPerView,10)),R&&k%2===0&&(k=k+1));let M=m-p<k;if(R&&(M=M||p<Math.ceil(k/2)),s&&R&&o.params.slidesPerView!=="auto"&&!l&&(M=!1),M){const j=R?p<o.activeIndex?"prev":"next":p-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:j,slideTo:!0,activeSlideIndex:j==="next"?p+1:p-m+1,slideRealIndex:j==="next"?o.realIndex:void 0})}if(l){const j=c*o.params.grid.rows;c=o.slides.find(G=>G.getAttribute("data-swiper-slide-index")*1===j).column}else c=o.getSlideIndexByData(c)}return requestAnimationFrame(()=>{o.slideTo(c,n,r,s)}),o}function slideNext(t,n=!0,r){const s=this,{enabled:o,params:l,animating:c}=s;if(!o||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let p=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(p=Math.max(s.slidesPerViewDynamic("current",!0),1));const m=s.activeIndex<l.slidesPerGroupSkip?1:p,x=s.virtual&&l.virtual.enabled;if(l.loop){if(c&&!x&&l.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+m,t,n,r)}),!0}return l.rewind&&s.isEnd?s.slideTo(0,t,n,r):s.slideTo(s.activeIndex+m,t,n,r)}function slidePrev(t,n=!0,r){const s=this,{params:o,snapGrid:l,slidesGrid:c,rtlTranslate:p,enabled:m,animating:x}=s;if(!m||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const b=s.virtual&&o.virtual.enabled;if(o.loop){if(x&&!b&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const S=p?s.translate:-s.translate;function R(Q){return Q<0?-Math.floor(Math.abs(Q)):Math.floor(Q)}const k=R(S),M=l.map(Q=>R(Q)),j=o.freeMode&&o.freeMode.enabled;let G=l[M.indexOf(k)-1];if(typeof G>"u"&&(o.cssMode||j)){let Q;l.forEach((H,X)=>{k>=H&&(Q=X)}),typeof Q<"u"&&(G=j?l[Q]:l[Q>0?Q-1:Q])}let P=0;if(typeof G<"u"&&(P=c.indexOf(G),P<0&&(P=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(P=P-s.slidesPerViewDynamic("previous",!0)+1,P=Math.max(P,0))),o.rewind&&s.isBeginning){const Q=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(Q,t,n,r)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(P,t,n,r)}),!0;return s.slideTo(P,t,n,r)}function slideReset(t,n=!0,r){const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,n,r)}function slideToClosest(t,n=!0,r,s=.5){const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let l=o.activeIndex;const c=Math.min(o.params.slidesPerGroupSkip,l),p=c+Math.floor((l-c)/o.params.slidesPerGroup),m=o.rtlTranslate?o.translate:-o.translate;if(m>=o.snapGrid[p]){const x=o.snapGrid[p],b=o.snapGrid[p+1];m-x>(b-x)*s&&(l+=o.params.slidesPerGroup)}else{const x=o.snapGrid[p-1],b=o.snapGrid[p];m-x<=(b-x)*s&&(l-=o.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,o.slidesGrid.length-1),o.slideTo(l,t,n,r)}function slideToClickedSlide(){const t=this;if(t.destroyed)return;const{params:n,slidesEl:r}=t,s=n.slidesPerView==="auto"?t.slidesPerViewDynamic():n.slidesPerView;let o=t.getSlideIndexWhenGrid(t.clickedIndex),l;const c=t.isElement?"swiper-slide":`.${n.slideClass}`,p=t.grid&&t.params.grid&&t.params.grid.rows>1;if(n.loop){if(t.animating)return;l=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?t.slideToLoop(l):o>(p?(t.slides.length-s)/2-(t.params.grid.rows-1):t.slides.length-s)?(t.loopFix(),o=t.getSlideIndex(elementChildren(r,`${c}[data-swiper-slide-index="${l}"]`)[0]),nextTick(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var slide$1={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(t,n){const r=this,{params:s,slidesEl:o}=r;if(!s.loop||r.virtual&&r.params.virtual.enabled)return;const l=()=>{elementChildren(o,`.${s.slideClass}, swiper-slide`).forEach((M,j)=>{M.setAttribute("data-swiper-slide-index",j)})},c=()=>{const k=elementChildren(o,`.${s.slideBlankClass}`);k.forEach(M=>{M.remove()}),k.length>0&&(r.recalcSlides(),r.updateSlides())},p=r.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||p)&&c();const m=s.slidesPerGroup*(p?s.grid.rows:1),x=r.slides.length%m!==0,b=p&&r.slides.length%s.grid.rows!==0,S=k=>{for(let M=0;M<k;M+=1){const j=r.isElement?createElement("swiper-slide",[s.slideBlankClass]):createElement("div",[s.slideClass,s.slideBlankClass]);r.slidesEl.append(j)}};if(x){if(s.loopAddBlankSlides){const k=m-r.slides.length%m;S(k),r.recalcSlides(),r.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(b){if(s.loopAddBlankSlides){const k=s.grid.rows-r.slides.length%s.grid.rows;S(k),r.recalcSlides(),r.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();const R=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;r.loopFix({slideRealIndex:t,direction:R?void 0:"next",initial:n})}function loopFix({slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:l,byController:c,byMousewheel:p}={}){const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:x,allowSlidePrev:b,allowSlideNext:S,slidesEl:R,params:k}=m,{centeredSlides:M,slidesOffsetBefore:j,slidesOffsetAfter:G,initialSlide:P}=k,Q=M||!!j||!!G;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&k.virtual.enabled){n&&(!Q&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):Q&&m.snapIndex<k.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=b,m.allowSlideNext=S,m.emit("loopFix");return}let H=k.slidesPerView;H==="auto"?H=m.slidesPerViewDynamic():(H=Math.ceil(parseFloat(k.slidesPerView,10)),Q&&H%2===0&&(H=H+1));const X=k.slidesPerGroupAuto?H:k.slidesPerGroup;let ee=Q?Math.max(X,Math.ceil(H/2)):X;ee%X!==0&&(ee+=X-ee%X),ee+=k.loopAdditionalSlides,m.loopedSlides=ee;const ne=m.grid&&k.grid&&k.grid.rows>1;x.length<H+ee||m.params.effect==="cards"&&x.length<H+ee*2?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ne&&k.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Y=[],re=[],oe=ne?Math.ceil(x.length/k.grid.rows):x.length,xe=l&&oe-P<H&&!Q;let ve=xe?P:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(x.find(te=>te.classList.contains(k.slideActiveClass))):ve=o;const me=r==="next"||!r,we=r==="prev"||!r;let Ee=0,he=0;const ue=(ne?x[o].column:o)+(Q&&typeof s>"u"?-H/2+.5:0);if(ue<ee){Ee=Math.max(ee-ue,X);for(let te=0;te<ee-ue;te+=1){const se=te-Math.floor(te/oe)*oe;if(ne){const Ce=oe-se-1;for(let ce=x.length-1;ce>=0;ce-=1)x[ce].column===Ce&&Y.push(ce)}else Y.push(oe-se-1)}}else if(ue+H>oe-ee){he=Math.max(ue-(oe-ee*2),X),xe&&(he=Math.max(he,H-oe+P+1));for(let te=0;te<he;te+=1){const se=te-Math.floor(te/oe)*oe;ne?x.forEach((Ce,ce)=>{Ce.column===se&&re.push(ce)}):re.push(se)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&x.length<H+ee*2&&(re.includes(o)&&re.splice(re.indexOf(o),1),Y.includes(o)&&Y.splice(Y.indexOf(o),1)),we&&Y.forEach(te=>{x[te].swiperLoopMoveDOM=!0,R.prepend(x[te]),x[te].swiperLoopMoveDOM=!1}),me&&re.forEach(te=>{x[te].swiperLoopMoveDOM=!0,R.append(x[te]),x[te].swiperLoopMoveDOM=!1}),m.recalcSlides(),k.slidesPerView==="auto"?m.updateSlides():ne&&(Y.length>0&&we||re.length>0&&me)&&m.slides.forEach((te,se)=>{m.grid.updateSlide(se,te,m.slides)}),k.watchSlidesProgress&&m.updateSlidesOffset(),n){if(Y.length>0&&we){if(typeof t>"u"){const te=m.slidesGrid[ve],Ce=m.slidesGrid[ve+Ee]-te;p?m.setTranslate(m.translate-Ce):(m.slideTo(ve+Math.ceil(Ee),0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ce))}else if(s){const te=ne?Y.length/k.grid.rows:Y.length;m.slideTo(m.activeIndex+te,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(re.length>0&&me)if(typeof t>"u"){const te=m.slidesGrid[ve],Ce=m.slidesGrid[ve-he]-te;p?m.setTranslate(m.translate-Ce):(m.slideTo(ve-he,0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ce))}else{const te=ne?re.length/k.grid.rows:re.length;m.slideTo(m.activeIndex-te,0,!1,!0)}}if(m.allowSlidePrev=b,m.allowSlideNext=S,m.controller&&m.controller.control&&!c){const te={slideRealIndex:t,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...te,slideTo:se.params.slidesPerView===k.slidesPerView?n:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...te,slideTo:m.controller.control.params.slidesPerView===k.slidesPerView?n:!1})}m.emit("loopFix")}function loopDestroy(){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||!r||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(o=>{const l=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[l]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{r.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(t){const n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const r=n.params.touchEventsTarget==="container"?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1})}function unsetGrabCursor(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(t,n=this){function r(s){if(!s||s===getDocument()||s===getWindow())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(t);return!o&&!s.getRootNode?null:o||r(s.getRootNode().host)}return r(n)}function preventEdgeSwipe(t,n,r){const s=getWindow(),{params:o}=t,l=o.edgeSwipeDetection,c=o.edgeSwipeThreshold;return l&&(r<=c||r>=s.innerWidth-c)?l==="prevent"?(n.preventDefault(),!0):!1:!0}function onTouchStart(t){const n=this,r=getDocument();let s=t;s.originalEvent&&(s=s.originalEvent);const o=n.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){preventEdgeSwipe(n,s,s.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:p}=n;if(!p||!l.simulateTouch&&s.pointerType==="mouse"||n.animating&&l.preventInteractionOnTransition)return;!n.animating&&l.cssMode&&l.loop&&n.loopFix();let m=s.target;if(l.touchEventsTarget==="wrapper"&&!elementIsChildOf(m,n.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const x=!!l.noSwipingClass&&l.noSwipingClass!=="",b=s.composedPath?s.composedPath():s.path;x&&s.target&&s.target.shadowRoot&&b&&(m=b[0]);const S=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,R=!!(s.target&&s.target.shadowRoot);if(l.noSwiping&&(R?closestElement(S,m):m.closest(S))){n.allowClick=!0;return}if(l.swipeHandler&&!m.closest(l.swipeHandler))return;c.currentX=s.pageX,c.currentY=s.pageY;const k=c.currentX,M=c.currentY;if(!preventEdgeSwipe(n,s,k))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=k,c.startY=M,o.touchStartTime=now(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,l.threshold>0&&(o.allowThresholdMove=!1);let j=!0;m.matches(o.focusableElements)&&(j=!1,m.nodeName==="SELECT"&&(o.isTouched=!1)),r.activeElement&&r.activeElement.matches(o.focusableElements)&&r.activeElement!==m&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!m.matches(o.focusableElements))&&r.activeElement.blur();const G=j&&n.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||G)&&!m.isContentEditable&&s.preventDefault(),l.freeMode&&l.freeMode.enabled&&n.freeMode&&n.animating&&!l.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",s)}function onTouchMove(t){const n=getDocument(),r=this,s=r.touchEventsData,{params:o,touches:l,rtlTranslate:c,enabled:p}=r;if(!p||!o.simulateTouch&&t.pointerType==="mouse")return;let m=t;if(m.originalEvent&&(m=m.originalEvent),m.type==="pointermove"&&(s.touchId!==null||m.pointerId!==s.pointerId))return;let x;if(m.type==="touchmove"){if(x=[...m.changedTouches].find(ee=>ee.identifier===s.touchId),!x||x.identifier!==s.touchId)return}else x=m;if(!s.isTouched){s.startMoving&&s.isScrolling&&r.emit("touchMoveOpposite",m);return}const b=x.pageX,S=x.pageY;if(m.preventedByNestedSwiper){l.startX=b,l.startY=S;return}if(!r.allowTouchMove){m.target.matches(s.focusableElements)||(r.allowClick=!1),s.isTouched&&(Object.assign(l,{startX:b,startY:S,currentX:b,currentY:S}),s.touchStartTime=now());return}if(o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(S<l.startY&&r.translate<=r.maxTranslate()||S>l.startY&&r.translate>=r.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(c&&(b>l.startX&&-r.translate<=r.maxTranslate()||b<l.startX&&-r.translate>=r.minTranslate()))return;if(!c&&(b<l.startX&&r.translate<=r.maxTranslate()||b>l.startX&&r.translate>=r.minTranslate()))return}if(n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==m.target&&m.pointerType!=="mouse"&&n.activeElement.blur(),n.activeElement&&m.target===n.activeElement&&m.target.matches(s.focusableElements)){s.isMoved=!0,r.allowClick=!1;return}s.allowTouchCallbacks&&r.emit("touchMove",m),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=b,l.currentY=S;const R=l.currentX-l.startX,k=l.currentY-l.startY;if(r.params.threshold&&Math.sqrt(R**2+k**2)<r.params.threshold)return;if(typeof s.isScrolling>"u"){let ee;r.isHorizontal()&&l.currentY===l.startY||r.isVertical()&&l.currentX===l.startX?s.isScrolling=!1:R*R+k*k>=25&&(ee=Math.atan2(Math.abs(k),Math.abs(R))*180/Math.PI,s.isScrolling=r.isHorizontal()?ee>o.touchAngle:90-ee>o.touchAngle)}if(s.isScrolling&&r.emit("touchMoveOpposite",m),typeof s.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(s.startMoving=!0),s.isScrolling||m.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;r.allowClick=!1,!o.cssMode&&m.cancelable&&m.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&m.stopPropagation();let M=r.isHorizontal()?R:k,j=r.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;o.oneWayMovement&&(M=Math.abs(M)*(c?1:-1),j=Math.abs(j)*(c?1:-1)),l.diff=M,M*=o.touchRatio,c&&(M=-M,j=-j);const G=r.touchesDirection;r.swipeDirection=M>0?"prev":"next",r.touchesDirection=j>0?"prev":"next";const P=r.params.loop&&!o.cssMode,Q=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!s.isMoved){if(P&&Q&&r.loopFix({direction:r.swipeDirection}),s.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const ee=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(ee)}s.allowMomentumBounce=!1,o.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",m)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&G!==r.touchesDirection&&P&&Q&&Math.abs(M)>=1){Object.assign(l,{startX:b,startY:S,currentX:b,currentY:S,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}r.emit("sliderMove",m),s.isMoved=!0,s.currentTranslate=M+s.startTranslate;let H=!0,X=o.resistanceRatio;if(o.touchReleaseOnEdges&&(X=0),M>0?(P&&Q&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(o.slidesPerView!=="auto"&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>r.minTranslate()&&(H=!1,o.resistance&&(s.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+s.startTranslate+M)**X))):M<0&&(P&&Q&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(o.slidesPerView!=="auto"&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(o.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<r.maxTranslate()&&(H=!1,o.resistance&&(s.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-s.startTranslate-M)**X))),H&&(m.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(M)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,s.currentTranslate=s.startTranslate,l.diff=r.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(s.currentTranslate),r.setTranslate(s.currentTranslate))}function onTouchEnd(t){const n=this,r=n.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(ee=>ee.identifier===r.touchId),!o||o.identifier!==r.touchId)return}else{if(r.touchId!==null||s.pointerId!==r.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(n.browser.isSafari||n.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:c,touches:p,rtlTranslate:m,slidesGrid:x,enabled:b}=n;if(!b||!c.simulateTouch&&s.pointerType==="mouse")return;if(r.allowTouchCallbacks&&n.emit("touchEnd",s),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&c.grabCursor&&n.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}c.grabCursor&&r.isMoved&&r.isTouched&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!1);const S=now(),R=S-r.touchStartTime;if(n.allowClick){const ee=s.path||s.composedPath&&s.composedPath();n.updateClickedSlide(ee&&ee[0]||s.target,ee),n.emit("tap click",s),R<300&&S-r.lastClickTime<300&&n.emit("doubleTap doubleClick",s)}if(r.lastClickTime=now(),nextTick(()=>{n.destroyed||(n.allowClick=!0)}),!r.isTouched||!r.isMoved||!n.swipeDirection||p.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let k;if(c.followFinger?k=m?n.translate:-n.translate:k=-r.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){n.freeMode.onTouchEnd({currentPos:k});return}const M=k>=-n.maxTranslate()&&!n.params.loop;let j=0,G=n.slidesSizesGrid[0];for(let ee=0;ee<x.length;ee+=ee<c.slidesPerGroupSkip?1:c.slidesPerGroup){const ne=ee<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof x[ee+ne]<"u"?(M||k>=x[ee]&&k<x[ee+ne])&&(j=ee,G=x[ee+ne]-x[ee]):(M||k>=x[ee])&&(j=ee,G=x[x.length-1]-x[x.length-2])}let P=null,Q=null;c.rewind&&(n.isBeginning?Q=c.virtual&&c.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(P=0));const H=(k-x[j])/G,X=j<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(R>c.longSwipesMs){if(!c.longSwipes){n.slideTo(n.activeIndex);return}n.swipeDirection==="next"&&(H>=c.longSwipesRatio?n.slideTo(c.rewind&&n.isEnd?P:j+X):n.slideTo(j)),n.swipeDirection==="prev"&&(H>1-c.longSwipesRatio?n.slideTo(j+X):Q!==null&&H<0&&Math.abs(H)>c.longSwipesRatio?n.slideTo(Q):n.slideTo(j))}else{if(!c.shortSwipes){n.slideTo(n.activeIndex);return}n.navigation&&(s.target===n.navigation.nextEl||s.target===n.navigation.prevEl)?s.target===n.navigation.nextEl?n.slideTo(j+X):n.slideTo(j):(n.swipeDirection==="next"&&n.slideTo(P!==null?P:j+X),n.swipeDirection==="prev"&&n.slideTo(Q!==null?Q:j))}}function onResize(){const t=this,{params:n,el:r}=t;if(r&&r.offsetWidth===0)return;n.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:l}=t,c=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const p=c&&n.loop;(n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!p?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!c?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=s,t.params.watchOverflow&&l!==t.snapGrid&&t.checkOverflow()}function onClick(t){const n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&t.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function onScroll(){const t=this,{wrapperEl:n,rtlTranslate:r,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-n.scrollLeft:t.translate=-n.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const l=t.maxTranslate()-t.minTranslate();l===0?o=0:o=(t.translate-t.minTranslate())/l,o!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function onLoad(t){const n=this;processLazyPreloader(n,t.target),!(n.params.cssMode||n.params.slidesPerView!=="auto"&&!n.params.autoHeight)&&n.update()}function onDocumentTouchStart(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const events=(t,n)=>{const r=getDocument(),{params:s,el:o,wrapperEl:l,device:c}=t,p=!!s.nested,m=n==="on"?"addEventListener":"removeEventListener",x=n;!o||typeof o=="string"||(r[m]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:p}),o[m]("touchstart",t.onTouchStart,{passive:!1}),o[m]("pointerdown",t.onTouchStart,{passive:!1}),r[m]("touchmove",t.onTouchMove,{passive:!1,capture:p}),r[m]("pointermove",t.onTouchMove,{passive:!1,capture:p}),r[m]("touchend",t.onTouchEnd,{passive:!0}),r[m]("pointerup",t.onTouchEnd,{passive:!0}),r[m]("pointercancel",t.onTouchEnd,{passive:!0}),r[m]("touchcancel",t.onTouchEnd,{passive:!0}),r[m]("pointerout",t.onTouchEnd,{passive:!0}),r[m]("pointerleave",t.onTouchEnd,{passive:!0}),r[m]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[m]("click",t.onClick,!0),s.cssMode&&l[m]("scroll",t.onScroll),s.updateOnWindowResize?t[x](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):t[x]("observerUpdate",onResize,!0),o[m]("load",t.onLoad,{capture:!0}))};function attachEvents(){const t=this,{params:n}=t;t.onTouchStart=onTouchStart.bind(t),t.onTouchMove=onTouchMove.bind(t),t.onTouchEnd=onTouchEnd.bind(t),t.onDocumentTouchStart=onDocumentTouchStart.bind(t),n.cssMode&&(t.onScroll=onScroll.bind(t)),t.onClick=onClick.bind(t),t.onLoad=onLoad.bind(t),events(t,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(t,n)=>t.grid&&n.grid&&n.grid.rows>1;function setBreakpoint(){const t=this,{realIndex:n,initialized:r,params:s,el:o}=t,l=s.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=getDocument(),p=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",m=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:c.querySelector(s.breakpointsBase),x=t.getBreakpoint(l,p,m);if(!x||t.currentBreakpoint===x)return;const S=(x in l?l[x]:void 0)||t.originalParams,R=isGridEnabled(t,s),k=isGridEnabled(t,S),M=t.params.grabCursor,j=S.grabCursor,G=s.enabled;R&&!k?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!R&&k&&(o.classList.add(`${s.containerModifierClass}grid`),(S.grid.fill&&S.grid.fill==="column"||!S.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),M&&!j?t.unsetGrabCursor():!M&&j&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ne=>{if(typeof S[ne]>"u")return;const Y=s[ne]&&s[ne].enabled,re=S[ne]&&S[ne].enabled;Y&&!re&&t[ne].disable(),!Y&&re&&t[ne].enable()});const P=S.direction&&S.direction!==s.direction,Q=s.loop&&(S.slidesPerView!==s.slidesPerView||P),H=s.loop;P&&r&&t.changeDirection(),extend$1(t.params,S);const X=t.params.enabled,ee=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),G&&!X?t.disable():!G&&X&&t.enable(),t.currentBreakpoint=x,t.emit("_beforeBreakpoint",S),r&&(Q?(t.loopDestroy(),t.loopCreate(n),t.updateSlides()):!H&&ee?(t.loopCreate(n),t.updateSlides()):H&&!ee&&t.loopDestroy()),t.emit("breakpoint",S)}function getBreakpoint(t,n="window",r){if(!t||n==="container"&&!r)return;let s=!1;const o=getWindow(),l=n==="window"?o.innerHeight:r.clientHeight,c=Object.keys(t).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const m=parseFloat(p.substr(1));return{value:l*m,point:p}}return{value:p,point:p}});c.sort((p,m)=>parseInt(p.value,10)-parseInt(m.value,10));for(let p=0;p<c.length;p+=1){const{point:m,value:x}=c[p];n==="window"?o.matchMedia(`(min-width: ${x}px)`).matches&&(s=m):x<=r.clientWidth&&(s=m)}return s||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(t,n){const r=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&r.push(n+o)}):typeof s=="string"&&r.push(n+s)}),r}function addClasses(){const t=this,{classNames:n,params:r,rtl:s,el:o,device:l}=t,c=prepareClasses(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:s},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);n.push(...c),o.classList.add(...n),t.emitContainerClasses()}function removeClasses(){const t=this,{el:n,classNames:r}=t;!n||typeof n=="string"||(n.classList.remove(...r),t.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const t=this,{isLocked:n,params:r}=t,{slidesOffsetBefore:s}=r;if(s){const o=t.slides.length-1,l=t.slidesGrid[o]+t.slidesSizesGrid[o]+s*2;t.isLocked=t.size>l}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),n&&n!==t.isLocked&&(t.isEnd=!1),n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(t,n){return function(s={}){const o=Object.keys(s)[0],l=s[o];if(typeof l!="object"||l===null){extend$1(n,s);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in l)){extend$1(n,s);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),extend$1(n,s)}}const prototypes={eventsEmitter,update:update$1,translate,transition,slide:slide$1,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Ys{constructor(...n){let r,s;n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?s=n[0]:[r,s]=n,s||(s={}),s=extend$1({},s),r&&!s.el&&(s.el=r);const o=getDocument();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const m=[];return o.querySelectorAll(s.el).forEach(x=>{const b=extend$1({},s,{el:x});m.push(new Ys(b))}),m}const l=this;l.__swiper__=!0,l.support=getSupport(),l.device=getDevice({userAgent:s.userAgent}),l.browser=getBrowser(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],s.modules&&Array.isArray(s.modules)&&l.modules.push(...s.modules);const c={};l.modules.forEach(m=>{m({params:s,swiper:l,extendParams:moduleExtendParams(s,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const p=extend$1({},defaults$1,c);return l.params=extend$1({},p,extendedDefaults,s),l.originalParams=extend$1({},l.params),l.passedParams=extend$1({},s),l.params&&l.params.on&&Object.keys(l.params.on).forEach(m=>{l.on(m,l.params.on[m])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(n){return this.isHorizontal()?n:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[n]}getSlideIndex(n){const{slidesEl:r,params:s}=this,o=elementChildren(r,`.${s.slideClass}, swiper-slide`),l=elementIndex(o[0]);return elementIndex(n)-l}getSlideIndexByData(n){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===n))}getSlideIndexWhenGrid(n){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?n=Math.floor(n/this.params.grid.rows):this.params.grid.fill==="row"&&(n=n%Math.ceil(this.slides.length/this.params.grid.rows))),n}recalcSlides(){const n=this,{slidesEl:r,params:s}=n;n.slides=elementChildren(r,`.${s.slideClass}, swiper-slide`)}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;n.enabled&&(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,r){const s=this;n=Math.min(Math.max(n,0),1);const o=s.minTranslate(),c=(s.maxTranslate()-o)*n+o;s.translateTo(c,typeof r>"u"?0:r),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=n.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(n.params.containerModifierClass)===0);n.emit("_containerClasses",r.join(" "))}getSlideClasses(n){const r=this;return r.destroyed?"":n.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=[];n.slides.forEach(s=>{const o=n.getSlideClasses(s);r.push({slideEl:s,classNames:o}),n.emit("_slideClass",s,o)}),n.emit("_slideClasses",r)}slidesPerViewDynamic(n="current",r=!1){const s=this,{params:o,slides:l,slidesGrid:c,slidesSizesGrid:p,size:m,activeIndex:x}=s;let b=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let S=l[x]?Math.ceil(l[x].swiperSlideSize):0,R;for(let k=x+1;k<l.length;k+=1)l[k]&&!R&&(S+=Math.ceil(l[k].swiperSlideSize),b+=1,S>m&&(R=!0));for(let k=x-1;k>=0;k-=1)l[k]&&!R&&(S+=l[k].swiperSlideSize,b+=1,S>m&&(R=!0))}else if(n==="current")for(let S=x+1;S<l.length;S+=1)(r?c[S]+p[S]-c[x]<m:c[S]-c[x]<m)&&(b+=1);else for(let S=x-1;S>=0;S-=1)c[x]-c[S]<m&&(b+=1);return b}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:r,params:s}=n;s.breakpoints&&n.setBreakpoint(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&processLazyPreloader(n,c)}),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses();function o(){const c=n.rtlTranslate?n.translate*-1:n.translate,p=Math.min(Math.max(c,n.maxTranslate()),n.minTranslate());n.setTranslate(p),n.updateActiveIndex(),n.updateSlidesClasses()}let l;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&n.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&n.isEnd&&!s.centeredSlides){const c=n.virtual&&s.virtual.enabled?n.virtual.slides:n.slides;l=n.slideTo(c.length-1,0,!1,!0)}else l=n.slideTo(n.activeIndex,0,!1,!0);l||o()}s.watchOverflow&&r!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,r=!0){const s=this,o=s.params.direction;return n||(n=o==="horizontal"?"vertical":"horizontal"),n===o||n!=="horizontal"&&n!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${n}`),s.emitContainerClasses(),s.params.direction=n,s.slides.forEach(l=>{n==="vertical"?l.style.width="":l.style.height=""}),s.emit("changeDirection"),r&&s.update()),s}changeLanguageDirection(n){const r=this;r.rtl&&n==="rtl"||!r.rtl&&n==="ltr"||(r.rtl=n==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(n){const r=this;if(r.mounted)return!0;let s=n||r.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=r,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const o=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):elementChildren(s,o())[0];return!c&&r.params.createElements&&(c=createElement("div",r.params.wrapperClass),s.append(c),elementChildren(s,`.${r.params.slideClass}`).forEach(p=>{c.append(p)})),Object.assign(r,{el:s,wrapperEl:c,slidesEl:r.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:c,hostEl:r.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||elementStyle(s,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||elementStyle(s,"direction")==="rtl"),wrongRTL:elementStyle(c,"display")==="-webkit-box"}),!0}init(n){const r=this;if(r.initialized||r.mount(n)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const o=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&o.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(l=>{l.complete?processLazyPreloader(r,l):l.addEventListener("load",c=>{processLazyPreloader(r,c.target)})}),preload(r),r.initialized=!0,preload(r),r.emit("init"),r.emit("afterInit"),r}destroy(n=!0,r=!0){const s=this,{params:o,el:l,wrapperEl:c,slides:p}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),r&&(s.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),p&&p.length&&p.forEach(m=>{m.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),m.removeAttribute("style"),m.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(m=>{s.off(m)}),n!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),deleteProps$1(s)),s.destroyed=!0),null}static extendDefaults(n){extend$1(extendedDefaults,n)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$1}static installModule(n){Ys.prototype.__modules__||(Ys.prototype.__modules__=[]);const r=Ys.prototype.__modules__;typeof n=="function"&&r.indexOf(n)<0&&r.push(n)}static use(n){return Array.isArray(n)?(n.forEach(r=>Ys.installModule(r)),Ys):(Ys.installModule(n),Ys)}};Object.keys(prototypes).forEach(t=>{Object.keys(prototypes[t]).forEach(n=>{Swiper$1.prototype[n]=prototypes[t][n]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$2(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function extend(t,n){const r=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>r.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=n[s]:isObject$2(n[s])&&isObject$2(t[s])&&Object.keys(n[s]).length>0?n[s].__swiper__?t[s]=n[s]:extend(t[s],n[s]):t[s]=n[s]})}function needsNavigation(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function needsPagination(t={}){return t.pagination&&typeof t.pagination.el>"u"}function needsScrollbar(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function uniqueClasses(t=""){const n=t.split(" ").map(s=>s.trim()).filter(s=>!!s),r=[];return n.forEach(s=>{r.indexOf(s)<0&&r.push(s)}),r.join(" ")}function wrapperClass(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function updateSwiper({swiper:t,slides:n,passedParams:r,changedParams:s,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:p}){const m=s.filter(re=>re!=="children"&&re!=="direction"&&re!=="wrapperClass"),{params:x,pagination:b,navigation:S,scrollbar:R,virtual:k,thumbs:M}=t;let j,G,P,Q,H,X,ee,ne;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&x.thumbs&&(!x.thumbs.swiper||x.thumbs.swiper.destroyed)&&(j=!0),s.includes("controller")&&r.controller&&r.controller.control&&x.controller&&!x.controller.control&&(G=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||p)&&(x.pagination||x.pagination===!1)&&b&&!b.el&&(P=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(x.scrollbar||x.scrollbar===!1)&&R&&!R.el&&(Q=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||l)&&(r.navigation.nextEl||o)&&(x.navigation||x.navigation===!1)&&S&&!S.prevEl&&!S.nextEl&&(H=!0);const Y=re=>{t[re]&&(t[re].destroy(),re==="navigation"?(t.isElement&&(t[re].prevEl.remove(),t[re].nextEl.remove()),x[re].prevEl=void 0,x[re].nextEl=void 0,t[re].prevEl=void 0,t[re].nextEl=void 0):(t.isElement&&t[re].el.remove(),x[re].el=void 0,t[re].el=void 0))};s.includes("loop")&&t.isElement&&(x.loop&&!r.loop?X=!0:!x.loop&&r.loop?ee=!0:ne=!0),m.forEach(re=>{if(isObject$2(x[re])&&isObject$2(r[re]))Object.assign(x[re],r[re]),(re==="navigation"||re==="pagination"||re==="scrollbar")&&"enabled"in r[re]&&!r[re].enabled&&Y(re);else{const oe=r[re];(oe===!0||oe===!1)&&(re==="navigation"||re==="pagination"||re==="scrollbar")?oe===!1&&Y(re):x[re]=r[re]}}),m.includes("controller")&&!G&&t.controller&&t.controller.control&&x.controller&&x.controller.control&&(t.controller.control=x.controller.control),s.includes("children")&&n&&k&&x.virtual.enabled?(k.slides=n,k.update(!0)):s.includes("virtual")&&k&&x.virtual.enabled&&(n&&(k.slides=n),k.update(!0)),s.includes("children")&&n&&x.loop&&(ne=!0),j&&M.init()&&M.update(!0),G&&(t.controller.control=x.controller.control),P&&(t.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),t.el.appendChild(p)),p&&(x.pagination.el=p),b.init(),b.render(),b.update()),Q&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),t.el.appendChild(c)),c&&(x.scrollbar.el=c),R.init(),R.updateSize(),R.setTranslate()),H&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),setInnerHTML(o,t.navigation.arrowSvg),o.part.add("button-next"),t.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),setInnerHTML(l,t.navigation.arrowSvg),l.part.add("button-prev"),t.el.appendChild(l))),o&&(x.navigation.nextEl=o),l&&(x.navigation.prevEl=l),S.init(),S.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&t.changeDirection(r.direction,!1),(X||ne)&&t.loopDestroy(),(ee||ne)&&t.loopCreate(),t.update()}function getParams(t={},n=!0){const r={on:{}},s={},o={};extend(r,defaults$1),r._emitClasses=!0,r.init=!1;const l={},c=paramsList.map(m=>m.replace(/_/,"")),p=Object.assign({},t);return Object.keys(p).forEach(m=>{typeof t[m]>"u"||(c.indexOf(m)>=0?isObject$2(t[m])?(r[m]={},o[m]={},extend(r[m],t[m]),extend(o[m],t[m])):(r[m]=t[m],o[m]=t[m]):m.search(/on[A-Z]/)===0&&typeof t[m]=="function"?n?s[`${m[2].toLowerCase()}${m.substr(3)}`]=t[m]:r.on[`${m[2].toLowerCase()}${m.substr(3)}`]=t[m]:l[m]=t[m])}),["navigation","pagination","scrollbar"].forEach(m=>{r[m]===!0&&(r[m]={}),r[m]===!1&&delete r[m]}),{params:r,passedParams:o,rest:l,events:s}}function mountSwiper({el:t,nextEl:n,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:l},c){needsNavigation(c)&&n&&r&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=r,l.originalParams.navigation.prevEl=r),needsPagination(c)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),needsScrollbar(c)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(t)}function getChangedParams(t,n,r,s,o){const l=[];if(!n)return l;const c=m=>{l.indexOf(m)<0&&l.push(m)};if(r&&s){const m=s.map(o),x=r.map(o);m.join("")!==x.join("")&&c("children"),s.length!==r.length&&c("children")}return paramsList.filter(m=>m[0]==="_").map(m=>m.replace(/_/,"")).forEach(m=>{if(m in t&&m in n)if(isObject$2(t[m])&&isObject$2(n[m])){const x=Object.keys(t[m]),b=Object.keys(n[m]);x.length!==b.length?c(m):(x.forEach(S=>{t[m][S]!==n[m][S]&&c(m)}),b.forEach(S=>{t[m][S]!==n[m][S]&&c(m)}))}else t[m]!==n[m]&&c(m)}),l}const updateOnVirtualData=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_extends.apply(this,arguments)}function isChildSwiperSlide(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function processChildren(t){const n=[];return React4.Children.toArray(t).forEach(r=>{isChildSwiperSlide(r)?n.push(r):r.props&&r.props.children&&processChildren(r.props.children).forEach(s=>n.push(s))}),n}function getChildren(t){const n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React4.Children.toArray(t).forEach(s=>{if(isChildSwiperSlide(s))n.push(s);else if(s.props&&s.props.slot&&r[s.props.slot])r[s.props.slot].push(s);else if(s.props&&s.props.children){const o=processChildren(s.props.children);o.length>0?o.forEach(l=>n.push(l)):r["container-end"].push(s)}else r["container-end"].push(s)}),{slides:n,slots:r}}function renderVirtual(t,n,r){if(!r)return null;const s=b=>{let S=b;return b<0?S=n.length+b:S>=n.length&&(S=S-n.length),S},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:l,to:c}=r,p=t.params.loop?-n.length:0,m=t.params.loop?n.length*2:n.length,x=[];for(let b=p;b<m;b+=1)b>=l&&b<=c&&x.push(n[s(b)]);return x.map((b,S)=>React4.cloneElement(b,{swiper:t,style:o,key:b.props.virtualIndex||b.key||`slide-${S}`}))}function useIsomorphicLayoutEffect$1(t,n){return typeof window>"u"?reactExports$1.useEffect(t,n):reactExports$1.useLayoutEffect(t,n)}const SwiperSlideContext=reactExports$1.createContext(null),SwiperContext=reactExports$1.createContext(null),Swiper=reactExports$1.forwardRef(({className:t,tag:n="div",wrapperTag:r="div",children:s,onSwiper:o,...l}={},c)=>{let p=!1;const[m,x]=reactExports$1.useState("swiper"),[b,S]=reactExports$1.useState(null),[R,k]=reactExports$1.useState(!1),M=reactExports$1.useRef(!1),j=reactExports$1.useRef(null),G=reactExports$1.useRef(null),P=reactExports$1.useRef(null),Q=reactExports$1.useRef(null),H=reactExports$1.useRef(null),X=reactExports$1.useRef(null),ee=reactExports$1.useRef(null),ne=reactExports$1.useRef(null),{params:Y,passedParams:re,rest:oe,events:xe}=getParams(l),{slides:ve,slots:me}=getChildren(s),we=()=>{k(!R)};Object.assign(Y.on,{_containerClasses(te,se){x(se)}});const Ee=()=>{Object.assign(Y.on,xe),p=!0;const te={...Y};if(delete te.wrapperClass,G.current=new Swiper$1(te),G.current.virtual&&G.current.params.virtual.enabled){G.current.virtual.slides=ve;const se={cache:!1,slides:ve,renderExternal:S,renderExternalUpdate:!1};extend(G.current.params.virtual,se),extend(G.current.originalParams.virtual,se)}};j.current||Ee(),G.current&&G.current.on("_beforeBreakpoint",we);const he=()=>{p||!xe||!G.current||Object.keys(xe).forEach(te=>{G.current.on(te,xe[te])})},ae=()=>{!xe||!G.current||Object.keys(xe).forEach(te=>{G.current.off(te,xe[te])})};reactExports$1.useEffect(()=>()=>{G.current&&G.current.off("_beforeBreakpoint",we)}),reactExports$1.useEffect(()=>{!M.current&&G.current&&(G.current.emitSlidesClasses(),M.current=!0)}),useIsomorphicLayoutEffect$1(()=>{if(c&&(c.current=j.current),!!j.current)return G.current.destroyed&&Ee(),mountSwiper({el:j.current,nextEl:H.current,prevEl:X.current,paginationEl:ee.current,scrollbarEl:ne.current,swiper:G.current},Y),o&&!G.current.destroyed&&o(G.current),()=>{G.current&&!G.current.destroyed&&G.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$1(()=>{he();const te=getChangedParams(re,P.current,ve,Q.current,se=>se.key);return P.current=re,Q.current=ve,te.length&&G.current&&!G.current.destroyed&&updateSwiper({swiper:G.current,slides:ve,passedParams:re,changedParams:te,nextEl:H.current,prevEl:X.current,scrollbarEl:ne.current,paginationEl:ee.current}),()=>{ae()}}),useIsomorphicLayoutEffect$1(()=>{updateOnVirtualData(G.current)},[b]);function ue(){return Y.virtual?renderVirtual(G.current,ve,b):ve.map((te,se)=>React4.cloneElement(te,{swiper:G.current,swiperSlideIndex:se}))}return React4.createElement(n,_extends({ref:j,className:uniqueClasses(`${m}${t?` ${t}`:""}`)},oe),React4.createElement(SwiperContext.Provider,{value:G.current},me["container-start"],React4.createElement(r,{className:wrapperClass(Y.wrapperClass)},me["wrapper-start"],ue(),me["wrapper-end"]),needsNavigation(Y)&&React4.createElement(React4.Fragment,null,React4.createElement("div",{ref:X,className:"swiper-button-prev"}),React4.createElement("div",{ref:H,className:"swiper-button-next"})),needsScrollbar(Y)&&React4.createElement("div",{ref:ne,className:"swiper-scrollbar"}),needsPagination(Y)&&React4.createElement("div",{ref:ee,className:"swiper-pagination"}),me["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports$1.forwardRef(({tag:t="div",children:n,className:r="",swiper:s,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:p,...m}={},x)=>{const b=reactExports$1.useRef(null),[S,R]=reactExports$1.useState("swiper-slide"),[k,M]=reactExports$1.useState(!1);function j(H,X,ee){X===b.current&&R(ee)}useIsomorphicLayoutEffect$1(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),x&&(x.current=b.current),!(!b.current||!s)){if(s.destroyed){S!=="swiper-slide"&&R("swiper-slide");return}return s.on("_slideClass",j),()=>{s&&s.off("_slideClass",j)}}}),useIsomorphicLayoutEffect$1(()=>{s&&b.current&&!s.destroyed&&R(s.getSlideClasses(b.current))},[s]);const G={isActive:S.indexOf("swiper-slide-active")>=0,isVisible:S.indexOf("swiper-slide-visible")>=0,isPrev:S.indexOf("swiper-slide-prev")>=0,isNext:S.indexOf("swiper-slide-next")>=0},P=()=>typeof n=="function"?n(G):n,Q=()=>{M(!0)};return React4.createElement(t,_extends({ref:b,className:uniqueClasses(`${S}${r?` ${r}`:""}`),"data-swiper-slide-index":c,onLoad:Q},m),o&&React4.createElement(SwiperSlideContext.Provider,{value:G},React4.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},P(),l&&!k&&React4.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&React4.createElement(SwiperSlideContext.Provider,{value:G},P(),l&&!k&&React4.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(t,n,r,s){return t.params.createElements&&Object.keys(s).forEach(o=>{if(!r[o]&&r.auto===!0){let l=elementChildren(t.el,`.${s[o]}`)[0];l||(l=createElement("div",s[o]),l.className=s[o],t.el.append(l)),r[o]=l,n[o]=l}}),r}const arrowSvg='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Navigation({swiper:t,extendParams:n,on:r,emit:s}){n({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg};function o(k){let M;return k&&typeof k=="string"&&t.isElement&&(M=t.el.querySelector(k)||t.hostEl.querySelector(k),M)?M:(k&&(typeof k=="string"&&(M=[...document.querySelectorAll(k)]),t.params.uniqueNavElements&&typeof k=="string"&&M&&M.length>1&&t.el.querySelectorAll(k).length===1?M=t.el.querySelector(k):M&&M.length===1&&(M=M[0])),k&&!M?k:M)}function l(k,M){const j=t.params.navigation;k=makeElementsArray(k),k.forEach(G=>{G&&(G.classList[M?"add":"remove"](...j.disabledClass.split(" ")),G.tagName==="BUTTON"&&(G.disabled=M),t.params.watchOverflow&&t.enabled&&G.classList[t.isLocked?"add":"remove"](j.lockClass))})}function c(){const{nextEl:k,prevEl:M}=t.navigation;if(t.params.loop){l(M,!1),l(k,!1);return}l(M,t.isBeginning&&!t.params.rewind),l(k,t.isEnd&&!t.params.rewind)}function p(k){k.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),s("navigationPrev"))}function m(k){k.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),s("navigationNext"))}function x(){const k=t.params.navigation;if(t.params.navigation=createElementIfNotDefined(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(k.nextEl||k.prevEl))return;let M=o(k.nextEl),j=o(k.prevEl);Object.assign(t.navigation,{nextEl:M,prevEl:j}),M=makeElementsArray(M),j=makeElementsArray(j);const G=(P,Q)=>{if(P){if(k.addIcons&&P.matches(".swiper-button-next,.swiper-button-prev")&&!P.querySelector("svg")){const H=document.createElement("div");setInnerHTML(H,arrowSvg),P.appendChild(H.querySelector("svg")),H.remove()}P.addEventListener("click",Q==="next"?m:p)}!t.enabled&&P&&P.classList.add(...k.lockClass.split(" "))};M.forEach(P=>G(P,"next")),j.forEach(P=>G(P,"prev"))}function b(){let{nextEl:k,prevEl:M}=t.navigation;k=makeElementsArray(k),M=makeElementsArray(M);const j=(G,P)=>{G.removeEventListener("click",P==="next"?m:p),G.classList.remove(...t.params.navigation.disabledClass.split(" "))};k.forEach(G=>j(G,"next")),M.forEach(G=>j(G,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?R():(x(),c())}),r("toEdge fromEdge lock unlock",()=>{c()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:k,prevEl:M}=t.navigation;if(k=makeElementsArray(k),M=makeElementsArray(M),t.enabled){c();return}[...k,...M].filter(j=>!!j).forEach(j=>j.classList.add(t.params.navigation.lockClass))}),r("click",(k,M)=>{let{nextEl:j,prevEl:G}=t.navigation;j=makeElementsArray(j),G=makeElementsArray(G);const P=M.target;let Q=G.includes(P)||j.includes(P);if(t.isElement&&!Q){const H=M.path||M.composedPath&&M.composedPath();H&&(Q=H.find(X=>j.includes(X)||G.includes(X)))}if(t.params.navigation.hideOnClick&&!Q){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===P||t.pagination.el.contains(P)))return;let H;j.length?H=j[0].classList.contains(t.params.navigation.hiddenClass):G.length&&(H=G[0].classList.contains(t.params.navigation.hiddenClass)),s(H===!0?"navigationShow":"navigationHide"),[...j,...G].filter(X=>!!X).forEach(X=>X.classList.toggle(t.params.navigation.hiddenClass))}});const S=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),x(),c()},R=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(t.navigation,{enable:S,disable:R,update:c,init:x,destroy:b})}const carouselWrapper$1="_carouselWrapper_1ra8y_1",titleContainer$3="_titleContainer_1ra8y_15",carouselTitle$1="_carouselTitle_1ra8y_31",moreButton$1="_moreButton_1ra8y_45",carouselViewport$1="_carouselViewport_1ra8y_77",slideItem="_slideItem_1ra8y_87",carouselLink="_carouselLink_1ra8y_97",imageContainer$2="_imageContainer_1ra8y_123",artistImage$4="_artistImage_1ra8y_143",artistText="_artistText_1ra8y_165",name$s="_name_1ra8y_175",field="_field_1ra8y_189",prevButton$1="_prevButton_1ra8y_201",nextButton$1="_nextButton_1ra8y_203",styles$1D={carouselWrapper:carouselWrapper$1,titleContainer:titleContainer$3,carouselTitle:carouselTitle$1,moreButton:moreButton$1,carouselViewport:carouselViewport$1,slideItem,carouselLink,imageContainer:imageContainer$2,artistImage:artistImage$4,artistText,name:name$s,field,prevButton:prevButton$1,nextButton:nextButton$1};function ArtistCarousel({title:t}){const[n,r]=reactExports$1.useState([]),s=reactExports$1.useRef(null),o=reactExports$1.useRef(null),l=c=>{c.params.navigation.prevEl=s.current,c.params.navigation.nextEl=o.current,c.navigation.destroy(),c.navigation.init(),c.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const m=(await instance.get("/api/artist",{params:{category:"onExhibition"}})).data.map(({id:x,artist_name:b,artist_category:S,artist_image:R})=>({id:x,artist_name:b,artist_category:S,artist_image:R})).slice(0,10);r(m)}catch(p){console.error("     :",p)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1D.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1D.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$1D.carouselTitle,children:t}),jsxRuntimeExports.jsx(Link$1,{to:"/artists",className:styles$1D.moreButton,children:""})]}),n.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:l,spaceBetween:20,slidesPerView:4,loop:n.length>4,className:styles$1D.carouselViewport,breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}},children:n.map(c=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1D.slideItem,children:jsxRuntimeExports.jsxs(Link$1,{to:`/artists/${c==null?void 0:c.id}`,className:styles$1D.carouselLink,children:[jsxRuntimeExports.jsx("div",{className:styles$1D.imageContainer,children:jsxRuntimeExports.jsx(Img,{src:(c==null?void 0:c.artist_image)||"/default.jpg",alt:(c==null?void 0:c.artist_name)||" ",className:styles$1D.artistImage})}),jsxRuntimeExports.jsxs("div",{className:styles$1D.artistText,children:[jsxRuntimeExports.jsx("h3",{className:styles$1D.name,children:c!=null&&c.artist_name&&c.artist_name.trim()!==""?c.artist_name:" "}),jsxRuntimeExports.jsx("p",{className:styles$1D.field,children:c!=null&&c.artist_category&&c.artist_category.trim()!==""?c.artist_category:" "})]})]})},`${c==null?void 0:c.id}`))}):jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"5rem",color:"#999",fontSize:"1.4rem"},children:"  ."}),jsxRuntimeExports.jsx("button",{ref:s,className:styles$1D.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:o,className:styles$1D.nextButton,children:""})]})}const carouselWrapper="_carouselWrapper_60msd_1",carouselHeader="_carouselHeader_60msd_13",carouselTitle="_carouselTitle_60msd_29",moreButton="_moreButton_60msd_43",carouselViewport="_carouselViewport_60msd_75",carouselSlide="_carouselSlide_60msd_85",slideCard="_slideCard_60msd_107",carouselImage="_carouselImage_60msd_137",cardText="_cardText_60msd_153",prevButton="_prevButton_60msd_205",nextButton="_nextButton_60msd_207",emptyBox$1="_emptyBox_60msd_289",styles$1C={carouselWrapper,carouselHeader,carouselTitle,moreButton,carouselViewport,carouselSlide,slideCard,carouselImage,cardText,prevButton,nextButton,emptyBox:emptyBox$1};function SwipeCarousel({title:t,category:n,value:r}){const[s,o]=reactExports$1.useState([]),l=reactExports$1.useRef(null),c=reactExports$1.useRef(null),p=m=>{m.params.navigation.prevEl=l.current,m.params.navigation.nextEl=c.current,m.navigation.destroy(),m.navigation.init(),m.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const x={status:"exhibited"};n&&r&&(x[n]=r);const S=(await instance.get("/api/exhibitions",{params:x})).data.map(({id:R,exhibition_poster:k,exhibition_title:M,exhibition_category:j,exhibition_status:G,exhibition_start_date:P,exhibition_end_date:Q,exhibition_organization:H,exhibition_location:X})=>({id:R,image:k,title:M,category:j,status:G,startDate:P,endDate:Q,organizationName:typeof H=="object"?H==null?void 0:H.name:H||X}));o(S)}catch(x){console.error("     :",x)}})()},[n,r]),jsxRuntimeExports.jsxs("div",{className:styles$1C.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1C.carouselHeader,children:[jsxRuntimeExports.jsx("h2",{className:styles$1C.carouselTitle,children:t}),jsxRuntimeExports.jsx(Link$1,{to:"/exhibitions",className:styles$1C.moreButton,children:""})]}),s.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:p,slidesPerView:"auto",centeredSlides:!1,spaceBetween:20,loop:s.length>3,className:styles$1C.carouselViewport,children:s.map(m=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1C.carouselSlide,children:jsxRuntimeExports.jsxs(Link$1,{to:`/exhibitions/${m.id}`,className:styles$1C.slideCard,children:[jsxRuntimeExports.jsx(Img,{src:m.image,alt:m.title,className:styles$1C.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1C.cardText,children:[jsxRuntimeExports.jsxs("h3",{children:["",m.title,""]}),jsxRuntimeExports.jsx("p",{children:m.organizationName}),jsxRuntimeExports.jsxs("p",{children:[m.startDate," ~ ",m.endDate]})]})]})},m.id))}):jsxRuntimeExports.jsx("div",{className:styles$1C.emptyBox,children:"  ."}),jsxRuntimeExports.jsx("button",{ref:l,className:styles$1C.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:c,className:styles$1C.nextButton,children:""})]})}const mobileMain="_mobileMain_1lnn6_1",carousel="_carousel_1lnn6_19",slider="_slider_1lnn6_33",slide="_slide_1lnn6_33",slideImage="_slideImage_1lnn6_77",tagline="_tagline_1lnn6_97",contentContainer$7="_contentContainer_1lnn6_121",userText="_userText_1lnn6_129",itemContainer="_itemContainer_1lnn6_149",itemBox="_itemBox_1lnn6_177",itemIcon="_itemIcon_1lnn6_209",nonGalleryBox="_nonGalleryBox_1lnn6_219",listSection="_listSection_1lnn6_259",titleSection$4="_titleSection_1lnn6_273",exhibitionList$2="_exhibitionList_1lnn6_295",galleryItemCard="_galleryItemCard_1lnn6_307",imageBox$1="_imageBox_1lnn6_349",exhibitionImage$2="_exhibitionImage_1lnn6_363",statusBadge$3="_statusBadge_1lnn6_377",ongoing$1="_ongoing_1lnn6_415",cardInfo$3="_cardInfo_1lnn6_423",galleryTitle$4="_galleryTitle_1lnn6_437",ellipsisTitle="_ellipsisTitle_1lnn6_463",addressText="_addressText_1lnn6_489",styles$1B={mobileMain,carousel,slider,slide,slideImage,tagline,contentContainer:contentContainer$7,userText,itemContainer,itemBox,itemIcon,nonGalleryBox,listSection,titleSection:titleSection$4,exhibitionList:exhibitionList$2,galleryItemCard,imageBox:imageBox$1,exhibitionImage:exhibitionImage$2,statusBadge:statusBadge$3,ongoing:ongoing$1,cardInfo:cardInfo$3,galleryTitle:galleryTitle$4,ellipsisTitle,addressText};function FaInstagram(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function FaYoutube(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function FaCalendarCheck(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function FaChevronLeft(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"},child:[]}]})(t)}function FaChevronRight$1(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(t)}function FaHeadphones(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function FaLink(t){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function FaLocationDot(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function FaPhone(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function FaShare$1(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function FaStar$1(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function FaX(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"},child:[]}]})(t)}function FaXmark(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const IcDocent=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"43",height:"44",viewBox:"0 0 40 31",fill:"none",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7315)",children:[jsxRuntimeExports.jsx("path",{d:"M8.49088 28.1266L6.79921 28.0436C3.74782 28.0436 1.27734 25.4071 1.27734 22.1579V21.5195C1.27734 18.2702 3.74782 15.6338 6.79921 15.6338L8.49088 15.5508C9.35267 15.5508 10.0549 16.2402 10.0549 17.0956V26.5881C10.0549 27.4435 9.35905 28.133 8.49088 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M10.5892 13.4258H10.3222C9.73218 13.4258 9.25391 13.9745 9.25391 14.6514V29.0211C9.25391 29.698 9.73218 30.2467 10.3222 30.2467H10.5892C11.1792 30.2467 11.6575 29.698 11.6575 29.0211V14.6514C11.6575 13.9745 11.1792 13.4258 10.5892 13.4258Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.5034 28.1266L33.1951 28.0436C36.2465 28.0436 38.717 25.4071 38.717 22.1579V21.5195C38.717 18.2702 36.2465 15.6338 33.1951 15.6338L31.5034 15.5508C30.6417 15.5508 29.9395 16.2402 29.9395 17.0956V26.5881C29.9395 27.4435 30.6353 28.133 31.5034 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.5523 13.4258H29.3182C28.8011 13.4258 28.3818 13.9745 28.3818 14.6514V29.0211C28.3818 29.698 28.8011 30.2467 29.3182 30.2467H29.5523C30.0694 30.2467 30.4886 29.698 30.4886 29.0211V14.6514C30.4886 13.9745 30.0694 13.4258 29.5523 13.4258Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M6.25 14.932C6.25 7.3865 12.4038 1.27734 20.0004 1.27734C27.597 1.27734 33.7508 7.3865 33.7508 14.932",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M9.51172 15.1494C9.51172 9.27002 14.2101 4.50781 20.0001 4.50781C25.79 4.50781 30.4884 9.27002 30.4884 15.1494",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M20.0002 23.0073C20.6912 23.0073 21.2514 22.4471 21.2514 21.7561C21.2514 21.0651 20.6912 20.5049 20.0002 20.5049C19.3092 20.5049 18.749 21.0651 18.749 21.7561C18.749 22.4471 19.3092 23.0073 20.0002 23.0073Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M20.0127 26.6843V25.8991C20.0127 25.6182 20.2106 25.382 20.4851 25.3437C20.7916 25.299 21.0916 25.2224 21.3788 25.1012C21.6342 24.9926 21.9342 25.1012 22.0683 25.3437L22.4641 26.0268C22.6364 26.3204 22.5088 26.7035 22.196 26.8375C21.7044 27.0482 21.1873 27.1886 20.6511 27.2524C20.3128 27.2907 20.0064 27.029 20.0064 26.6907L20.0127 26.6843ZM16.7124 26.2055C16.2847 25.8863 15.9017 25.5097 15.5761 25.082C15.3718 24.8075 15.4484 24.4181 15.7421 24.2457L16.4187 23.85C16.6613 23.7095 16.9677 23.7606 17.1401 23.984C17.3316 24.2266 17.555 24.45 17.7976 24.6351C18.021 24.8075 18.0721 25.1139 17.9381 25.3565L17.5487 26.0396C17.3763 26.3332 16.9869 26.4162 16.7124 26.2119V26.2055ZM24.2643 24.2138L23.5812 23.818C23.3386 23.6776 23.2301 23.3839 23.3386 23.1286C23.4599 22.835 23.5365 22.5285 23.5812 22.2157C23.6131 21.9476 23.8429 21.7497 24.1174 21.737L24.909 21.705C25.2537 21.6923 25.5282 21.9859 25.4963 22.3306C25.4708 22.5924 25.4197 22.8796 25.3367 23.1861C25.2601 23.4733 25.1644 23.7287 25.0686 23.9521C24.9345 24.2649 24.5579 24.3862 24.2643 24.2138ZM14.5036 21.1305C14.5611 20.6007 14.7015 20.0836 14.9058 19.5984C15.0399 19.2856 15.4165 19.1516 15.7165 19.3239L16.3996 19.7133C16.6422 19.8538 16.7507 20.1474 16.6422 20.4028C16.5273 20.6837 16.4507 20.9773 16.4124 21.2837C16.3741 21.5582 16.1379 21.7625 15.8634 21.7625C15.6016 21.7625 15.3399 21.7625 15.0782 21.7689C14.7335 21.7689 14.4653 21.4689 14.5036 21.1305ZM22.8343 19.5218C22.6428 19.2793 22.4194 19.0622 22.1704 18.8707C21.947 18.7047 21.8895 18.3919 22.03 18.1494L22.4194 17.4663C22.5854 17.1663 22.9811 17.0897 23.2556 17.2876C23.6897 17.6004 24.0728 17.977 24.3983 18.4047C24.6026 18.6792 24.5324 19.0686 24.2387 19.2473L23.5621 19.6495C23.3195 19.79 23.0131 19.7389 22.8407 19.5218H22.8343ZM17.8998 18.1877L17.4976 17.511C17.3252 17.2173 17.4465 16.8343 17.7657 16.7003C18.2572 16.4832 18.7743 16.3428 19.3042 16.2726C19.6425 16.2279 19.9489 16.4896 19.9489 16.8343V17.6195C19.9617 17.9004 19.7574 18.143 19.4829 18.1813C19.1765 18.226 18.8765 18.3089 18.5892 18.4302C18.3338 18.5388 18.0338 18.4302 17.8934 18.194L17.8998 18.1877Z",fill:"#3c504b"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7315",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"30.2458",fill:"white"})})})]}),IcBook=()=>jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M34.8147 9.71498V35.8671C34.8147 37.2268 33.429 38.3275 31.7132 38.3275H17.3066C15.5907 38.3275 14.2051 37.2268 14.2051 35.8671V9.71498C14.2051 9.00274 14.5871 8.35525 15.2022 7.90849C15.7591 7.50057 16.4907 7.24805 17.3066 7.24805H31.7132C33.429 7.24805 34.8147 8.35525 34.8147 9.71498Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M25.7951 4.0298V6.42551L17.2871 6.52263C16.4713 6.52263 15.7332 6.77515 15.1828 7.18307C14.5677 7.62984 14.1857 8.27733 14.1857 8.98957V32.746L8.28702 32.6488C6.57117 32.6488 5.18555 31.5481 5.18555 30.1819V4.0298C5.18555 2.67007 6.57117 1.56934 8.28702 1.56934H22.6872C24.403 1.56934 25.7951 2.67007 25.7951 4.0298Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M14.7559 7.53373L23.2768 1.51855",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip1_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M19.3828 11.9541H17.9862C17.5947 11.9541 17.2773 12.2715 17.2773 12.6629V14.0595C17.2773 14.451 17.5947 14.7683 17.9862 14.7683H19.3828C19.7742 14.7683 20.0916 14.451 20.0916 14.0595V12.6629C20.0916 12.2715 19.7742 11.9541 19.3828 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 11.9541H23.8114C23.4199 11.9541 23.1025 12.2715 23.1025 12.6629V14.0595C23.1025 14.451 23.4199 14.7683 23.8114 14.7683H25.208C25.5994 14.7683 25.9168 14.451 25.9168 14.0595V12.6629C25.9168 12.2715 25.5994 11.9541 25.208 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 11.9541H29.6356C29.2441 11.9541 28.9268 12.2715 28.9268 12.6629V14.0595C28.9268 14.451 29.2441 14.7683 29.6356 14.7683H31.0322C31.4236 14.7683 31.741 14.451 31.741 14.0595V12.6629C31.741 12.2715 31.4236 11.9541 31.0322 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 16.6289H17.9862C17.5947 16.6289 17.2773 16.9463 17.2773 17.3377V18.7343C17.2773 19.1258 17.5947 19.4431 17.9862 19.4431H19.3828C19.7742 19.4431 20.0916 19.1258 20.0916 18.7343V17.3377C20.0916 16.9463 19.7742 16.6289 19.3828 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 16.6289H23.8114C23.4199 16.6289 23.1025 16.9463 23.1025 17.3377V18.7343C23.1025 19.1258 23.4199 19.4431 23.8114 19.4431H25.208C25.5994 19.4431 25.9168 19.1258 25.9168 18.7343V17.3377C25.9168 16.9463 25.5994 16.6289 25.208 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 16.6289H29.6356C29.2441 16.6289 28.9268 16.9463 28.9268 17.3377V18.7343C28.9268 19.1258 29.2441 19.4431 29.6356 19.4431H31.0322C31.4236 19.4431 31.741 19.1258 31.741 18.7343V17.3377C31.741 16.9463 31.4236 16.6289 31.0322 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 21.3018H17.9862C17.5947 21.3018 17.2773 21.6191 17.2773 22.0106V23.4072C17.2773 23.7986 17.5947 24.116 17.9862 24.116H19.3828C19.7742 24.116 20.0916 23.7986 20.0916 23.4072V22.0106C20.0916 21.6191 19.7742 21.3018 19.3828 21.3018Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 21.3018H23.8114C23.4199 21.3018 23.1025 21.6191 23.1025 22.0106V23.4072C23.1025 23.7986 23.4199 24.116 23.8114 24.116H25.208C25.5994 24.116 25.9168 23.7986 25.9168 23.4072V22.0106C25.9168 21.6191 25.5994 21.3018 25.208 21.3018Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 21.3018H29.6356C29.2441 21.3018 28.9268 21.6191 28.9268 22.0106V23.4072C28.9268 23.7986 29.2441 24.116 29.6356 24.116H31.0322C31.4236 24.116 31.741 23.7986 31.741 23.4072V22.0106C31.741 21.6191 31.4236 21.3018 31.0322 21.3018Z",fill:"#3c504b"})]})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"39.8458",fill:"white"})}),jsxRuntimeExports.jsx("clipPath",{id:"clip1_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"14.4642",height:"12.1623",fill:"white",transform:"translate(17.2773 11.9541)"})})]})]}),IcFindGallery=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"41",viewBox:"0 0 39 36",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M33.5268 34.2223H5.24267C3.12862 34.2223 1.41895 32.5127 1.41895 30.3986V15.1037C1.41895 13.7559 2.12836 12.5073 3.29179 11.8192L17.5084 1.95837C18.7215 1.24187 20.2254 1.24187 21.4314 1.96546L35.4919 11.8192C36.6412 12.5073 37.3435 13.7559 37.3435 15.0966V30.3986C37.3435 32.5127 35.6338 34.2223 33.5198 34.2223H33.5268Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M8.8457 33.9734V18.5295C8.8457 18.0755 9.07271 17.6499 9.4558 17.4016L13.996 14.4575C14.897 13.8687 16.0817 14.5143 16.0817 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.9157 33.9734V18.5295C29.9157 18.0755 29.6887 17.6499 29.3056 17.4016L24.7654 14.4575C23.8644 13.8687 22.6797 14.5143 22.6797 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"})]}),SLIDE_INTERVAL=4e3,MAX_SLIDES=3;function MobileMain(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(0),l=useNavigate(),[c,p]=reactExports$1.useState([]),[m,x]=reactExports$1.useState([]),b=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}],S=M=>M?M.startsWith("http")?M:`https://artly.soundgram.co.kr/${M}`:"",R=M=>M==="exhibited"?"":M==="scheduled"?"":"";reactExports$1.useEffect(()=>{(async()=>{try{const G=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:P,exhibition_poster:Q,exhibition_title:H})=>({id:P,image:S(Q),title:H})).slice(0,MAX_SLIDES);r(G||[]),o(0)}catch(j){console.error("    :",j)}})()},[]),reactExports$1.useEffect(()=>{if(n.length<=1)return;const M=setInterval(()=>{o(j=>(j+1)%n.length)},SLIDE_INTERVAL);return()=>clearInterval(M)},[n]),reactExports$1.useEffect(()=>{(async()=>{try{if(t){const j=await userInstance.get("/api/galleries",{params:{liked_only:1}});p(j.data),x([])}else{const G=(await instance.get("/api/galleries")).data.sort((H,X)=>(X.like_count||0)-(H.like_count||0)).slice(0,10);p(G);const Q=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.sort((H,X)=>(X.like_count||0)-(H.like_count||0)).slice(0,10);x(Q)}}catch(j){console.error("   :",j)}})()},[t]);const k=t&&c.some(M=>M.exhibitions&&M.exhibitions.some(j=>j.exhibition_status==="exhibited"));return jsxRuntimeExports.jsxs("div",{className:styles$1B.mobileMain,children:[jsxRuntimeExports.jsx("div",{className:styles$1B.carousel,children:jsxRuntimeExports.jsx("div",{className:styles$1B.slider,style:{transform:`translateX(-${s*100}%)`},children:n.map(M=>jsxRuntimeExports.jsx("div",{className:styles$1B.slide,onClick:()=>l(`/exhibitions/${M==null?void 0:M.id}`),children:jsxRuntimeExports.jsx(Img,{src:M==null?void 0:M.image,alt:M==null?void 0:M.title,className:styles$1B.slideImage})},M==null?void 0:M.id))})}),jsxRuntimeExports.jsxs("div",{className:styles$1B.tagline,children:["    ",jsxRuntimeExports.jsx("br",{})," , ARTLY"]}),jsxRuntimeExports.jsxs("div",{className:styles$1B.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1B.userText,onClick:t?void 0:()=>l("/login"),style:t?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:t?`${t.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight$1,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1B.itemContainer,children:b.map(({key:M,icon:j,label:G,link:P})=>jsxRuntimeExports.jsxs("div",{className:styles$1B.itemBox,onClick:()=>{M==="book"?l(P,{state:{activeTab:"MY"}}):l(P)},children:[jsxRuntimeExports.jsx("span",{className:styles$1B.itemIcon,children:j}),jsxRuntimeExports.jsx("span",{className:styles$1B.itemLabel,children:G})]},M))}),t&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1B.titleSection,children:"|  "}),k?jsxRuntimeExports.jsx("div",{className:styles$1B.exhibitionList,children:c.map(({id:M,gallery_name:j,gallery_address:G,exhibitions:P})=>jsxRuntimeExports.jsx("div",{className:styles$1B.exhibitionList,children:P==null?void 0:P.filter(Q=>Q.exhibition_status==="exhibited").map(Q=>jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryItemCard,onClick:()=>l(`/exhibitions/${Q.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1B.statusBadge} ${styles$1B.ongoing}`,children:R(Q.exhibition_status)}),jsxRuntimeExports.jsx(Img,{className:styles$1B.exhibitionImage,src:S(Q.exhibition_poster),alt:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$1B.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryTitle,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.ellipsisTitle,children:[j," ",jsxRuntimeExports.jsx("span",{style:{margin:"0 4px",color:"#ddd"},children:"|"})," ",Q.exhibition_title]}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1B.addressText,children:G})]})]},Q.id))},M))}):jsxRuntimeExports.jsxs("div",{className:styles$1B.nonGalleryBox,children:["   , ",jsxRuntimeExports.jsx("br",{}),"   ."]})]}),!t&&jsxRuntimeExports.jsxs("div",{className:styles$1B.listSection,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1B.titleSection,children:"|   TOP 10"}),m.length>0?jsxRuntimeExports.jsx("div",{className:styles$1B.exhibitionList,children:m.map(M=>{var j;return jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryItemCard,onClick:()=>l(`/exhibitions/${M.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1B.statusBadge} ${styles$1B.ongoing}`,children:R(M.exhibition_status)}),jsxRuntimeExports.jsx(Img,{className:styles$1B.exhibitionImage,src:S(M.exhibition_poster),alt:M.exhibition_title})]}),jsxRuntimeExports.jsxs("div",{className:styles$1B.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1B.ellipsisTitle,children:M.exhibition_title}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1B.addressText,children:typeof M.exhibition_organization=="object"?(j=M.exhibition_organization)==null?void 0:j.name:M.exhibition_organization||M.exhibition_location})]})]},M.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1B.nonGalleryBox,children:"     ."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1B.titleSection,children:"|   TOP 10"}),c.length>0?jsxRuntimeExports.jsx("div",{className:styles$1B.exhibitionList,children:c.map(M=>{var G,P;const j=M.gallery_image||((P=(G=M.exhibitions)==null?void 0:G[0])==null?void 0:P.exhibition_poster);return jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryItemCard,onClick:()=>l(`/galleries/${M.id}`),children:[jsxRuntimeExports.jsx("div",{className:styles$1B.imageBox,children:jsxRuntimeExports.jsx(Img,{className:styles$1B.exhibitionImage,src:S(j),alt:M.gallery_name})}),jsxRuntimeExports.jsxs("div",{className:styles$1B.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1B.ellipsisTitle,children:M.gallery_name}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1B.addressText,children:M.gallery_address||"  "})]})]},M.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1B.nonGalleryBox,children:"  ."})]})]})]})]})}function FaCheck(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function FaChevronDown(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function FaChevronRight(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function FaChevronUp(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function FaHome(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function FaPause(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function FaPlay(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function FaPlus(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function FaSearch(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function FaShare(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function FaStar(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function FaStop(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function FaTimes(t){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function FaUser(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Main(){const{isMobile:t}=useResponsive(),{user:n}=useUser(),r=useNavigate(),s=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1F.mainLayout,children:t?jsxRuntimeExports.jsx(MobileMain,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MainCarousel,{}),jsxRuntimeExports.jsxs("div",{className:styles$1F.tabContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1F.userText,onClick:n?void 0:()=>r("/login"),style:n?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:n?`${n.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1F.itemContainer,children:s.map(({key:o,icon:l,label:c,link:p})=>jsxRuntimeExports.jsxs("div",{className:styles$1F.itemBox,onClick:()=>{o==="book"?r(p,{state:{activeTab:"MY"}}):r(p)},children:[jsxRuntimeExports.jsx("span",{className:styles$1F.itemIcon,children:l}),jsxRuntimeExports.jsx("span",{className:styles$1F.itemLabel,children:c})]},o))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1F.carouselContainer,children:[jsxRuntimeExports.jsx(SwipeCarousel,{title:"|    "}),jsxRuntimeExports.jsx(SwipeCarousel,{title:"|  ",category:"sort",value:"popular"}),jsxRuntimeExports.jsx(ArtistCarousel,{title:"|   "})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}const layout$C="_layout_s8a5n_1",gridContainer$3="_gridContainer_s8a5n_19",dropboxContainer$2="_dropboxContainer_s8a5n_31",nonDataText$3="_nonDataText_s8a5n_43",styles$1A={layout:layout$C,gridContainer:gridContainer$3,dropboxContainer:dropboxContainer$2,nonDataText:nonDataText$3},layout$B="_layout_1ew8p_1",titleContainer$2="_titleContainer_1ew8p_13",listTitle="_listTitle_1ew8p_29",searchForm$1="_searchForm_1ew8p_107",searchInput$1="_searchInput_1ew8p_121",formButton="_formButton_1ew8p_149",styles$1z={layout:layout$B,titleContainer:titleContainer$2,listTitle,searchForm:searchForm$1,searchInput:searchInput$1,formButton},IcSearch=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function ListHeader({title:t,onEvent:n,onSearch:r,value:s,isArtworks:o=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1z.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$1z.titleContainer,children:jsxRuntimeExports.jsx("h1",{className:styles$1z.listTitle,children:t})}),!o&&jsxRuntimeExports.jsxs("form",{className:styles$1z.searchForm,action:n,children:[jsxRuntimeExports.jsx("input",{className:styles$1z.searchInput,placeholder:"...",onChange:r,value:s}),jsxRuntimeExports.jsx("button",{className:styles$1z.formButton,children:jsxRuntimeExports.jsx(IcSearch,{})})]})]})}const layout$A="_layout_11xsl_1",styles$1y={layout:layout$A},layout$z="_layout_1g516_1",clickedLabel="_clickedLabel_1g516_11",dropdownButton="_dropdownButton_1g516_19",clickedButton="_clickedButton_1g516_63",undisplay="_undisplay_1g516_85",clickedDropdownList="_clickedDropdownList_1g516_93",clickedItem="_clickedItem_1g516_129",dropdownItem$1="_dropdownItem_1g516_131",rectButton="_rectButton_1g516_173",styles$1x={layout:layout$z,clickedLabel,dropdownButton,clickedButton,undisplay,clickedDropdownList,clickedItem,dropdownItem:dropdownItem$1,rectButton};function Dropdown({title:t,dropdownItems:n,isOpen:r,filterKey:s,onOpen:o,onSetFilter:l,shape:c="round",defaultValue:p}){const m=n.find(k=>k.value===p)||n[0],[x,b]=reactExports$1.useState(m.label),{isMobile:S}=useResponsive(),R=k=>{b(k.label),l(M=>({...M,[s]:k.value})),o()};return jsxRuntimeExports.jsxs("div",{className:styles$1x.layout,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$1x.dropdownButton} ${r&&styles$1x.clickedButton} ${c==="rect"?styles$1x.rectButton:""}`,onClick:o,children:[!S&&`${t} - `,jsxRuntimeExports.jsx("span",{className:`${x!==n[0].label&&styles$1x.clickedLabel}`,children:x})]}),jsxRuntimeExports.jsx("ul",{className:`${r&&styles$1x.clickedDropdownList} ${r&&styles$1x.undisplay}`,children:r&&n.map(k=>jsxRuntimeExports.jsx("li",{className:`${styles$1x.dropdownItem} ${k.label===x&&styles$1x.clickedItem}`,onClick:()=>{R(k)},children:k.label},k.label))})]})}function DropdownContainer({labels:t,filterList:n,onSetFilter:r,shape:s="round"}){const[o,l]=reactExports$1.useState(null),c=p=>{l(o===p?null:p)};return jsxRuntimeExports.jsx("div",{className:styles$1y.layout,children:n.map((p,m)=>jsxRuntimeExports.jsx(Dropdown,{title:p.label,dropdownItems:p.options,filterKey:p.key,defaultValue:p.defaultValue,isOpen:m===o,onOpen:()=>{c(m)},onSetFilter:r,shape:s},p.key))})}const exhibitionFilter=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],countParagraph="_countParagraph_1ppwl_1",counts="_counts_1ppwl_11",styles$1w={countParagraph,counts};function TotalCounts({num:t,label:n}){return jsxRuntimeExports.jsxs("p",{className:styles$1w.countParagraph,children:[" ",jsxRuntimeExports.jsx("strong",{className:styles$1w.counts,children:t})," ",n,"  "]})}const paginationContainer="_paginationContainer_vhj2k_1",sideButtonContainer="_sideButtonContainer_vhj2k_11",pageNumbersContainer="_pageNumbersContainer_vhj2k_19",pageButton="_pageButton_vhj2k_33",active$6="_active_vhj2k_57",styles$1v={paginationContainer,sideButtonContainer,pageNumbersContainer,pageButton,active:active$6};function Pagination({currentPage:t,onPageChange:n,totalItems:r,itemsPerPage:s=10}){const o=Math.ceil(r/s),l=getPageNumbers(t,o,5);return jsxRuntimeExports.jsxs("div",{className:styles$1v.paginationContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1v.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>n(t-1),className:styles$1v.pageButton,disabled:t===1,children:"<"})}),jsxRuntimeExports.jsx("div",{className:styles$1v.pageNumbersContainer,children:l.map(c=>jsxRuntimeExports.jsx("button",{onClick:()=>n(c),className:`${styles$1v.pageButton} ${t===c?styles$1v.active:""}`,children:c},c))}),jsxRuntimeExports.jsx("div",{className:styles$1v.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>n(t+1),className:styles$1v.pageButton,disabled:t===o,children:">"})})]})}const getPageNumbers=(t,n,r)=>{const s=Math.floor(r/2);let o=Math.max(t-s,1),l=Math.min(o+r-1,n);return l-o+1<r&&(o=Math.max(l-r+1,1)),Array.from({length:l-o+1},(c,p)=>o+p)},usePagination=(t=10,n)=>{const[r,s]=reactExports$1.useState(1),o=Array.isArray(n)?n:[],l=(r-1)*t,c=o.slice(l,l+t);return{currentPage:r,setCurrentPage:s,pageItems:c}},exhibitionCardLayout="_exhibitionCardLayout_18fnj_1",statusContainer$2="_statusContainer_18fnj_37",ongoing="_ongoing_18fnj_73",imageBox="_imageBox_18fnj_81",exhibitionImage$1="_exhibitionImage_18fnj_89",favButton$4="_favButton_18fnj_105",locButton="_locButton_18fnj_127",icon$8="_icon_18fnj_151",likedIcon$6="_likedIcon_18fnj_161",exhibitionTitle$3="_exhibitionTitle_18fnj_183",infoContainer$3="_infoContainer_18fnj_201",subParagraph$4="_subParagraph_18fnj_209",styles$1u={exhibitionCardLayout,statusContainer:statusContainer$2,ongoing,imageBox,exhibitionImage:exhibitionImage$1,favButton:favButton$4,locButton,icon:icon$8,likedIcon:likedIcon$6,exhibitionTitle:exhibitionTitle$3,infoContainer:infoContainer$3,subParagraph:subParagraph$4},layout$y="_layout_kgces_1",container$a="_container_kgces_39",header$g="_header_kgces_69",title$i="_title_kgces_93",closeButton$a="_closeButton_kgces_107",icon$7="_icon_kgces_139",map="_map_kgces_151",infoContainer$2="_infoContainer_kgces_163",infoSpan="_infoSpan_kgces_189",infoParagraph="_infoParagraph_kgces_201",buttonField$4="_buttonField_kgces_215",locateButton="_locateButton_kgces_229",button$2="_button_kgces_215",styles$1t={layout:layout$y,container:container$a,header:header$g,title:title$i,closeButton:closeButton$a,icon:icon$7,map,infoContainer:infoContainer$2,infoSpan,infoParagraph,buttonField:buttonField$4,locateButton,button:button$2},container$9="_container_zry8e_1",infoBox="_infoBox_zry8e_17",styles$1s={container:container$9,infoBox},IcGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",IcFavGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function Marker({title:t,isLike:n=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1s.container,children:[jsxRuntimeExports.jsx(Img,{src:n?IcFavGallery:IcGallery}),jsxRuntimeExports.jsx("div",{className:styles$1s.infoBox,children:t})]})}const createMarkerElement=(t,n=!1)=>{const r=document.createElement("div");return ReactDOM$1.createRoot(r).render(jsxRuntimeExports.jsx(Marker,{title:t,isLike:n})),r},useMap=({lat:t,lng:n,id:r,results:s,zoomLevel:o=15,title:l,location:c})=>{const p=reactExports$1.useRef(null),m=useNavigate(),x=reactExports$1.useRef([]);return reactExports$1.useEffect(()=>{var R;const b=document.getElementById(r);if(!((R=window.naver)!=null&&R.maps)||!b||t===null||n===null)return;const S=new naver.maps.Map(b,{center:new naver.maps.LatLng(t,n),zoom:o});if(p.current=S,x.current.forEach(k=>k.setMap(null)),x.current=[],l&&c){const k=createMarkerElement(l,!1);new naver.maps.Marker({position:new naver.maps.LatLng(t,n),map:S,title:l,icon:{content:k}})}else{const k=new naver.maps.Marker({position:new naver.maps.LatLng(t,n),map:p.current,title:" "});x.current.push(k)}return s&&s.length>0&&s.map(({gallery_name:k,gallery_latitude:M,gallery_longitude:j,gallery_address:G,is_liked:P,id:Q})=>{const H=createMarkerElement(k,P),X=new naver.maps.LatLng(M,j),ee=new naver.maps.Marker({position:X,map:p.current,title:k,icon:{content:H}});naver.maps.Event.addListener(ee,"click",()=>{m(`/galleries/${Q}`)}),x.current.push(ee)}),()=>{const k=p.current;k&&k.getElement()&&k.destroy(),p.current=null}},[r,t,n,s,m,o,l,c]),p};function MapModal({item:t,onClose:n}){const{id:r,exhibition_title:s,exhibition_location:o,exhibition_start_date:l,exhibition_end_date:c,exhibition_start_time:p,exhibition_end_time:m,exhibition_organization:x,exhibition_price:b}=t,S=[{key:"location",label:"",content:o||""},{key:"date",label:"",content:l&&c?`${l} ~ ${c}`:""},{key:"time",label:"",content:p&&m?`${p.slice(0,5)} ~ ${m.slice(0,5)}`:""},{key:"closedDay",label:"",content:x.closed_day},{key:"price",label:"",content:b.toLocaleString()||""}];return useMap({lat:x.latitude,lng:x.longitude,id:`exhibition-${r}-map`,title:s,location:o}),jsxRuntimeExports.jsx("div",{className:styles$1t.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$1t.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$1t.header,children:[jsxRuntimeExports.jsx("h4",{className:styles$1t.title,children:s}),jsxRuntimeExports.jsx("button",{className:styles$1t.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaXmark,{className:styles$1t.icon})})]}),jsxRuntimeExports.jsx("div",{className:styles$1t.map,id:`exhibition-${r}-map`}),jsxRuntimeExports.jsx("div",{className:styles$1t.infoContainer,children:S.map(({key:R,label:k,content:M})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$1t.infoSpan,children:k}),jsxRuntimeExports.jsx("p",{className:styles$1t.infoParagraph,children:M})]},R))}),jsxRuntimeExports.jsxs("div",{className:styles$1t.buttonField,children:[jsxRuntimeExports.jsx("button",{className:styles$1t.locateButton,onClick:()=>{alert("  .")},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1t.button,onClick:n,children:""})]})]})})}const IcLocation=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function ExhibitionCard({exhibitionItem:t,onEvent:n}){const{user:r}=useUser(),{id:s,exhibition_title:o,exhibition_category:l,exhibition_poster:c,exhibition_location:p,exhibition_start_date:m,exhibition_end_date:x,exhibition_status:b,is_liked:S}=t,[R,k]=reactExports$1.useState(!1),M=useNavigate(),j=b==="exhibited"?" ":b==="upcoming"?" ":" ",G=()=>{k(H=>!H),document.body.style.overflow="hidden"},P=()=>{k(H=>!H),document.body.style.overflow="unset"},Q=async()=>{!r&&M("/login");try{S===!0?await userInstance.delete("/api/likes",{data:{liked_id:s,liked_type:"exhibition"}}):await userInstance.post("/api/likes",{liked_id:s,liked_type:"exhibition"}),await n()}catch(H){console.error(H)}};return jsxRuntimeExports.jsxs("div",{className:styles$1u.exhibitionCardLayout,children:[R&&jsxRuntimeExports.jsx(MapModal,{item:t,onClose:P}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1u.layout,to:`/exhibitions/${s}`,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1u.statusContainer} ${b==="exhibited"&&styles$1u.ongoing}`,children:j}),jsxRuntimeExports.jsx("div",{className:styles$1u.imageBox,children:jsxRuntimeExports.jsx(Img,{className:styles$1u.exhibitionImage,src:c,alt:"  "})}),jsxRuntimeExports.jsx("button",{className:styles$1u.favButton,onClick:H=>{H.preventDefault(),H.stopPropagation(),Q()},children:jsxRuntimeExports.jsx(FaStar$1,{className:S===!0?styles$1u.likedIcon:styles$1u.icon})}),jsxRuntimeExports.jsx("button",{className:styles$1u.locButton,onClick:H=>{H.preventDefault(),H.stopPropagation(),G()},children:jsxRuntimeExports.jsx(IcLocation,{})}),jsxRuntimeExports.jsxs("div",{className:styles$1u.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1u.exhibitionTitle,children:o}),jsxRuntimeExports.jsxs("p",{className:styles$1u.subParagraph,children:[l," | ",p||" "]}),jsxRuntimeExports.jsxs("p",{className:styles$1u.subParagraph,children:[m," ~ ",x]})]})]})]})}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(t,n){module.exports=n()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(n){_useWebWorker=!!n},getWebWorker=function(){return _useWebWorker},setLocationHref=function(n){locationHref=n},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,n){var r,s=t.length,o;for(r=0;r<s;r+=1){o=t[r].prototype;for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n.prototype[l]=o[l])}}function getDescriptor(t,n){return Object.getOwnPropertyDescriptor(t,n)}function createProxyFunction(t){function n(){}return n.prototype=t,n}var audioControllerFactory=(function(){function t(n){this.audios=[],this.audioFactory=n,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].pause()},resume:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].resume()},setRate:function(r){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}})(),createTypedArray=(function(){function t(r,s){var o=0,l=[],c;switch(r){case"int16":case"uint8c":c=1;break;default:c=1.1;break}for(o=0;o<s;o+=1)l.push(c);return l}function n(r,s){return r==="float32"?new Float32Array(s):r==="int16"?new Int16Array(s):r==="uint8c"?new Uint8ClampedArray(s):t(r,s)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?n:t})();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n,r=t.length;for(n=0;n<r;n+=1)BMMath[t[n]]=Math[t[n]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var n=_typeof$6(t);if(n==="object"&&t.length){var r=createSizedArray(t.length),s,o=t.length;for(s=0;s<o;s+=1)r[s]=Math.abs(t[s]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,n,r,s){this.type=t,this.currentTime=n,this.totalTime=r,this.direction=s<0?-1:1}function BMCompleteEvent(t,n){this.type=t,this.direction=n<0?-1:1}function BMCompleteLoopEvent(t,n,r,s){this.type=t,this.currentLoop=r,this.totalLoops=n,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,n,r){this.type=t,this.firstFrame=n,this.totalFrames=r}function BMDestroyEvent(t,n){this.type=t,this.target=n}function BMRenderFrameErrorEvent(t,n){this.type="renderFrameError",this.nativeError=t,this.currentTime=n}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}})();function HSVtoRGB(t,n,r){var s,o,l,c,p,m,x,b;switch(c=Math.floor(t*6),p=t*6-c,m=r*(1-n),x=r*(1-p*n),b=r*(1-(1-p)*n),c%6){case 0:s=r,o=b,l=m;break;case 1:s=x,o=r,l=m;break;case 2:s=m,o=r,l=b;break;case 3:s=m,o=x,l=r;break;case 4:s=b,o=m,l=r;break;case 5:s=r,o=m,l=x;break}return[s,o,l]}function RGBtoHSV(t,n,r){var s=Math.max(t,n,r),o=Math.min(t,n,r),l=s-o,c,p=s===0?0:l/s,m=s/255;switch(s){case o:c=0;break;case t:c=n-r+l*(n<r?6:0),c/=6*l;break;case n:c=r-t+l*2,c/=6*l;break;case r:c=t-n+l*4,c/=6*l;break}return[c,p,m]}function addSaturationToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[1]+=n,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[2]+=n,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[0]+=n/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=(function(){var t=[],n,r;for(n=0;n<256;n+=1)r=n.toString(16),t[n]=r.length===1?"0"+r:r;return function(s,o,l){return s<0&&(s=0),o<0&&(o=0),l<0&&(l=0),"#"+t[s]+t[o]+t[l]}})(),setSubframeEnabled=function(n){subframeEnabled=!!n},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(n){expressionsPlugin=n},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(n){expressionsInterfaces=n},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(n){defaultCurveSegments=n},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(n){idPrefix$1=n};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(t)}var dataManager=(function(){var t=1,n=[],r,s,o={onmessage:function(){},postMessage:function(k){r({data:k})}},l={postMessage:function(k){o.onmessage({data:k})}};function c(R){if(window.Worker&&window.Blob&&getWebWorker()){var k=new Blob(["var _workerSelf = self; self.onmessage = ",R.toString()],{type:"text/javascript"}),M=URL.createObjectURL(k);return new Worker(M)}return r=R,o}function p(){s||(s=c(function(k){function M(){function G(he,ae){var ue,te,se=he.length,Ce,ce,ye,Se;for(te=0;te<se;te+=1)if(ue=he[te],"ks"in ue&&!ue.completed){if(ue.completed=!0,ue.hasMask){var _e=ue.masksProperties;for(ce=_e.length,Ce=0;Ce<ce;Ce+=1)if(_e[Ce].pt.k.i)ee(_e[Ce].pt.k);else for(Se=_e[Ce].pt.k.length,ye=0;ye<Se;ye+=1)_e[Ce].pt.k[ye].s&&ee(_e[Ce].pt.k[ye].s[0]),_e[Ce].pt.k[ye].e&&ee(_e[Ce].pt.k[ye].e[0])}ue.ty===0?(ue.layers=H(ue.refId,ae),G(ue.layers,ae)):ue.ty===4?X(ue.shapes):ue.ty===5&&we(ue)}}function P(he,ae){if(he){var ue=0,te=he.length;for(ue=0;ue<te;ue+=1)he[ue].t===1&&(he[ue].data.layers=H(he[ue].data.refId,ae),G(he[ue].data.layers,ae))}}function Q(he,ae){for(var ue=0,te=ae.length;ue<te;){if(ae[ue].id===he)return ae[ue];ue+=1}return null}function H(he,ae){var ue=Q(he,ae);return ue?ue.layers.__used?JSON.parse(JSON.stringify(ue.layers)):(ue.layers.__used=!0,ue.layers):null}function X(he){var ae,ue=he.length,te,se;for(ae=ue-1;ae>=0;ae-=1)if(he[ae].ty==="sh")if(he[ae].ks.k.i)ee(he[ae].ks.k);else for(se=he[ae].ks.k.length,te=0;te<se;te+=1)he[ae].ks.k[te].s&&ee(he[ae].ks.k[te].s[0]),he[ae].ks.k[te].e&&ee(he[ae].ks.k[te].e[0]);else he[ae].ty==="gr"&&X(he[ae].it)}function ee(he){var ae,ue=he.i.length;for(ae=0;ae<ue;ae+=1)he.i[ae][0]+=he.v[ae][0],he.i[ae][1]+=he.v[ae][1],he.o[ae][0]+=he.v[ae][0],he.o[ae][1]+=he.v[ae][1]}function ne(he,ae){var ue=ae?ae.split("."):[100,100,100];return he[0]>ue[0]?!0:ue[0]>he[0]?!1:he[1]>ue[1]?!0:ue[1]>he[1]?!1:he[2]>ue[2]?!0:ue[2]>he[2]?!1:null}var Y=(function(){var he=[4,4,14];function ae(te){var se=te.t.d;te.t.d={k:[{s:se,t:0}]}}function ue(te){var se,Ce=te.length;for(se=0;se<Ce;se+=1)te[se].ty===5&&ae(te[se])}return function(te){if(ne(he,te.v)&&(ue(te.layers),te.assets)){var se,Ce=te.assets.length;for(se=0;se<Ce;se+=1)te.assets[se].layers&&ue(te.assets[se].layers)}}})(),re=(function(){var he=[4,7,99];return function(ae){if(ae.chars&&!ne(he,ae.v)){var ue,te=ae.chars.length;for(ue=0;ue<te;ue+=1){var se=ae.chars[ue];se.data&&se.data.shapes&&(X(se.data.shapes),se.data.ip=0,se.data.op=99999,se.data.st=0,se.data.sr=1,se.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ae.chars[ue].t||(se.data.shapes.push({ty:"no"}),se.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),oe=(function(){var he=[5,7,15];function ae(te){var se=te.t.p;typeof se.a=="number"&&(se.a={a:0,k:se.a}),typeof se.p=="number"&&(se.p={a:0,k:se.p}),typeof se.r=="number"&&(se.r={a:0,k:se.r})}function ue(te){var se,Ce=te.length;for(se=0;se<Ce;se+=1)te[se].ty===5&&ae(te[se])}return function(te){if(ne(he,te.v)&&(ue(te.layers),te.assets)){var se,Ce=te.assets.length;for(se=0;se<Ce;se+=1)te.assets[se].layers&&ue(te.assets[se].layers)}}})(),xe=(function(){var he=[4,1,9];function ae(te){var se,Ce=te.length,ce,ye;for(se=0;se<Ce;se+=1)if(te[se].ty==="gr")ae(te[se].it);else if(te[se].ty==="fl"||te[se].ty==="st")if(te[se].c.k&&te[se].c.k[0].i)for(ye=te[se].c.k.length,ce=0;ce<ye;ce+=1)te[se].c.k[ce].s&&(te[se].c.k[ce].s[0]/=255,te[se].c.k[ce].s[1]/=255,te[se].c.k[ce].s[2]/=255,te[se].c.k[ce].s[3]/=255),te[se].c.k[ce].e&&(te[se].c.k[ce].e[0]/=255,te[se].c.k[ce].e[1]/=255,te[se].c.k[ce].e[2]/=255,te[se].c.k[ce].e[3]/=255);else te[se].c.k[0]/=255,te[se].c.k[1]/=255,te[se].c.k[2]/=255,te[se].c.k[3]/=255}function ue(te){var se,Ce=te.length;for(se=0;se<Ce;se+=1)te[se].ty===4&&ae(te[se].shapes)}return function(te){if(ne(he,te.v)&&(ue(te.layers),te.assets)){var se,Ce=te.assets.length;for(se=0;se<Ce;se+=1)te.assets[se].layers&&ue(te.assets[se].layers)}}})(),ve=(function(){var he=[4,4,18];function ae(te){var se,Ce=te.length,ce,ye;for(se=Ce-1;se>=0;se-=1)if(te[se].ty==="sh")if(te[se].ks.k.i)te[se].ks.k.c=te[se].closed;else for(ye=te[se].ks.k.length,ce=0;ce<ye;ce+=1)te[se].ks.k[ce].s&&(te[se].ks.k[ce].s[0].c=te[se].closed),te[se].ks.k[ce].e&&(te[se].ks.k[ce].e[0].c=te[se].closed);else te[se].ty==="gr"&&ae(te[se].it)}function ue(te){var se,Ce,ce=te.length,ye,Se,_e,je;for(Ce=0;Ce<ce;Ce+=1){if(se=te[Ce],se.hasMask){var Me=se.masksProperties;for(Se=Me.length,ye=0;ye<Se;ye+=1)if(Me[ye].pt.k.i)Me[ye].pt.k.c=Me[ye].cl;else for(je=Me[ye].pt.k.length,_e=0;_e<je;_e+=1)Me[ye].pt.k[_e].s&&(Me[ye].pt.k[_e].s[0].c=Me[ye].cl),Me[ye].pt.k[_e].e&&(Me[ye].pt.k[_e].e[0].c=Me[ye].cl)}se.ty===4&&ae(se.shapes)}}return function(te){if(ne(he,te.v)&&(ue(te.layers),te.assets)){var se,Ce=te.assets.length;for(se=0;se<Ce;se+=1)te.assets[se].layers&&ue(te.assets[se].layers)}}})();function me(he){he.__complete||(xe(he),Y(he),re(he),oe(he),ve(he),G(he.layers,he.assets),P(he.chars,he.assets),he.__complete=!0)}function we(he){he.t.a.length===0&&"m"in he.t.p}var Ee={};return Ee.completeData=me,Ee.checkColors=xe,Ee.checkChars=re,Ee.checkPathProperties=oe,Ee.checkShapes=ve,Ee.completeLayers=G,Ee}if(l.dataManager||(l.dataManager=M()),l.assetLoader||(l.assetLoader=(function(){function G(Q){var H=Q.getResponseHeader("content-type");return H&&Q.responseType==="json"&&H.indexOf("json")!==-1||Q.response&&_typeof$5(Q.response)==="object"?Q.response:Q.response&&typeof Q.response=="string"?JSON.parse(Q.response):Q.responseText?JSON.parse(Q.responseText):null}function P(Q,H,X,ee){var ne,Y=new XMLHttpRequest;try{Y.responseType="json"}catch{}Y.onreadystatechange=function(){if(Y.readyState===4)if(Y.status===200)ne=G(Y),X(ne);else try{ne=G(Y),X(ne)}catch(re){ee&&ee(re)}};try{Y.open(["G","E","T"].join(""),Q,!0)}catch{Y.open(["G","E","T"].join(""),H+"/"+Q,!0)}Y.send()}return{load:P}})()),k.data.type==="loadAnimation")l.assetLoader.load(k.data.path,k.data.fullPath,function(G){l.dataManager.completeData(G),l.postMessage({id:k.data.id,payload:G,status:"success"})},function(){l.postMessage({id:k.data.id,status:"error"})});else if(k.data.type==="complete"){var j=k.data.animation;l.dataManager.completeData(j),l.postMessage({id:k.data.id,payload:j,status:"success"})}else k.data.type==="loadData"&&l.assetLoader.load(k.data.path,k.data.fullPath,function(G){l.postMessage({id:k.data.id,payload:G,status:"success"})},function(){l.postMessage({id:k.data.id,status:"error"})})}),s.onmessage=function(R){var k=R.data,M=k.id,j=n[M];n[M]=null,k.status==="success"?j.onComplete(k.payload):j.onError&&j.onError()})}function m(R,k){t+=1;var M="processId_"+t;return n[M]={onComplete:R,onError:k},M}function x(R,k,M){p();var j=m(k,M);s.postMessage({type:"loadAnimation",path:R,fullPath:window.location.origin+window.location.pathname,id:j})}function b(R,k,M){p();var j=m(k,M);s.postMessage({type:"loadData",path:R,fullPath:window.location.origin+window.location.pathname,id:j})}function S(R,k,M){p();var j=m(k,M);s.postMessage({type:"complete",animation:R,id:j})}return{loadAnimation:x,loadData:b,completeAnimation:S}})(),ImagePreloader=(function(){var t=(function(){var P=createTag("canvas");P.width=1,P.height=1;var Q=P.getContext("2d");return Q.fillStyle="rgba(0,0,0,0)",Q.fillRect(0,0,1,1),P})();function n(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(P,Q,H){var X="";if(P.e)X=P.p;else if(Q){var ee=P.p;ee.indexOf("images/")!==-1&&(ee=ee.split("/")[1]),X=Q+ee}else X=H,X+=P.u?P.u:"",X+=P.p;return X}function o(P){var Q=0,H=setInterval((function(){var X=P.getBBox();(X.width||Q>500)&&(this._imageLoaded(),clearInterval(H)),Q+=1}).bind(this),50)}function l(P){var Q=s(P,this.assetsPath,this.path),H=createNS("image");isSafari?this.testImageLoaded(H):H.addEventListener("load",this._imageLoaded,!1),H.addEventListener("error",(function(){X.img=t,this._imageLoaded()}).bind(this),!1),H.setAttributeNS("http://www.w3.org/1999/xlink","href",Q),this._elementHelper.append?this._elementHelper.append(H):this._elementHelper.appendChild(H);var X={img:H,assetData:P};return X}function c(P){var Q=s(P,this.assetsPath,this.path),H=createTag("img");H.crossOrigin="anonymous",H.addEventListener("load",this._imageLoaded,!1),H.addEventListener("error",(function(){X.img=t,this._imageLoaded()}).bind(this),!1),H.src=Q;var X={img:H,assetData:P};return X}function p(P){var Q={assetData:P},H=s(P,this.assetsPath,this.path);return dataManager.loadData(H,(function(X){Q.img=X,this._footageLoaded()}).bind(this),(function(){Q.img={},this._footageLoaded()}).bind(this)),Q}function m(P,Q){this.imagesLoadedCb=Q;var H,X=P.length;for(H=0;H<X;H+=1)P[H].layers||(!P[H].t||P[H].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(P[H]))):P[H].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(P[H]))))}function x(P){this.path=P||""}function b(P){this.assetsPath=P||""}function S(P){for(var Q=0,H=this.images.length;Q<H;){if(this.images[Q].assetData===P)return this.images[Q].img;Q+=1}return null}function R(){this.imagesLoadedCb=null,this.images.length=0}function k(){return this.totalImages===this.loadedAssets}function M(){return this.totalFootages===this.loadedFootagesCount}function j(P,Q){P==="svg"?(this._elementHelper=Q,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function G(){this._imageLoaded=n.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=p.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return G.prototype={loadAssets:m,setAssetsPath:b,setPath:x,loadedImages:k,loadedFootages:M,destroy:R,getAsset:S,createImgData:c,createImageData:l,imageLoaded:n,footageLoaded:r,setCacheType:j},G})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(n,r){if(this._cbs[n])for(var s=this._cbs[n],o=0;o<s.length;o+=1)s[o](r)},addEventListener:function(n,r){return this._cbs[n]||(this._cbs[n]=[]),this._cbs[n].push(r),(function(){this.removeEventListener(n,r)}).bind(this)},removeEventListener:function(n,r){if(!r)this._cbs[n]=null;else if(this._cbs[n]){for(var s=0,o=this._cbs[n].length;s<o;)this._cbs[n][s]===r&&(this._cbs[n].splice(s,1),s-=1,o-=1),s+=1;this._cbs[n].length||(this._cbs[n]=null)}}};var markerParser=(function(){function t(n){for(var r=n.split(`\r
`),s={},o,l=0,c=0;c<r.length;c+=1)o=r[c].split(":"),o.length===2&&(s[o[0]]=o[1].trim(),l+=1);if(l===0)throw new Error;return s}return function(n){for(var r=[],s=0;s<n.length;s+=1){var o=n[s],l={time:o.tm,duration:o.dr};try{l.payload=JSON.parse(n[s].cm)}catch{try{l.payload=t(n[s].cm)}catch{l.payload={name:n[s].cm}}}r.push(l)}return r}})(),ProjectInterface=(function(){function t(n){this.compositions.push(n)}return function(){function n(r){for(var s=0,o=this.compositions.length;s<o;){if(this.compositions[s].data&&this.compositions[s].data.nm===r)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return n.compositions=[],n.currentFrame=0,n.registerComposition=t,n}})(),renderers={},registerRenderer=function(n,r){renderers[n]=r};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var n="svg";t.animType?n=t.animType:t.renderer&&(n=t.renderer);var r=getRenderer(n);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(n,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=n,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,n){n&&_typeof$4(n)!=="object"&&(n=JSON.parse(n));var r={wrapper:t,animationData:n},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";o==="false"?r.loop=!1:o==="true"?r.loop=!0:o!==""&&(r.loop=parseInt(o,10));var l=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:s.getNamedItem("bm-autoplay")?s.getNamedItem("bm-autoplay").value:!0;r.autoplay=l!=="false",r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"";var c=s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"";c==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var n=this.animationData.layers,r,s=n.length,o=t.layers,l,c=o.length;for(l=0;l<c;l+=1)for(r=0;r<s;){if(n[r].id===o[l].id){n[r]=o[l];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,r=0;r<s;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var n=getExpressionsPlugin();n&&n.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var n=t.shift();this.timeCompleted=n.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(n){this.triggerConfigError(n)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,n){var r=typeof t=="number"?t:void 0,s=typeof n=="number"?n:void 0;this.renderer.updateContainerSize(r,s)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var n,r=0;r<this.markers.length;r+=1)if(n=this.markers[r],n.payload&&n.payload.name===t)return n;return null},AnimationItem.prototype.goToAndStop=function(t,n,r){if(!(r&&this.name!==r)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&this.goToAndStop(o.time,!0)}else n?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,n,r){if(!(r&&this.name!==r)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(s,n,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var n=this.currentRawFrame+t*this.frameModifier,r=!1;n>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(n>this.totalFrames?n%this.totalFrames:0)||(r=!0,n=this.totalFrames-1):n>=this.totalFrames?(this.playCount+=1,this.checkSegments(n%this.totalFrames)||(this.setCurrentRawFrameValue(n%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(n):n<0?this.checkSegments(n%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+n%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,n=0)):this.setCurrentRawFrameValue(n),r&&(this.setCurrentRawFrameValue(n),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,n){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-n)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+n)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,n){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>n&&(r=n-t)),this.firstFrame=t,this.totalFrames=n-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,n){if(n&&(this.segments.length=0),_typeof$4(t[0])==="object"){var r,s=t.length;for(r=0;r<s;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&n&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,n){n&&this.name!==n||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var n="";if(t.e)n=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),n=this.assetsPath+r}else n=this.path,n+=t.u?t.u:"",n+=t.p;return n},AnimationItem.prototype.getAssetData=function(t){for(var n=0,r=this.assets.length;n<r;){if(t===this.assets[n].id)return this.assets[n];n+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,n,r){try{var s=this.renderer.getElementByPath(t);s.updateDocumentData(n,r)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var n=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",n),this.onError&&this.onError.call(this,n)},AnimationItem.prototype.triggerConfigError=function(t){var n=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",n),this.onError&&this.onError.call(this,n)};var animationManager=(function(){var t={},n=[],r=0,s=0,o=0,l=!0,c=!1;function p(ae){for(var ue=0,te=ae.target;ue<s;)n[ue].animation===te&&(n.splice(ue,1),ue-=1,s-=1,te.isPaused||S()),ue+=1}function m(ae,ue){if(!ae)return null;for(var te=0;te<s;){if(n[te].elem===ae&&n[te].elem!==null)return n[te].animation;te+=1}var se=new AnimationItem;return R(se,ae),se.setData(ae,ue),se}function x(){var ae,ue=n.length,te=[];for(ae=0;ae<ue;ae+=1)te.push(n[ae].animation);return te}function b(){o+=1,xe()}function S(){o-=1}function R(ae,ue){ae.addEventListener("destroy",p),ae.addEventListener("_active",b),ae.addEventListener("_idle",S),n.push({elem:ue,animation:ae}),s+=1}function k(ae){var ue=new AnimationItem;return R(ue,null),ue.setParams(ae),ue}function M(ae,ue){var te;for(te=0;te<s;te+=1)n[te].animation.setSpeed(ae,ue)}function j(ae,ue){var te;for(te=0;te<s;te+=1)n[te].animation.setDirection(ae,ue)}function G(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.play(ae)}function P(ae){var ue=ae-r,te;for(te=0;te<s;te+=1)n[te].animation.advanceTime(ue);r=ae,o&&!c?window.requestAnimationFrame(P):l=!0}function Q(ae){r=ae,window.requestAnimationFrame(P)}function H(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.pause(ae)}function X(ae,ue,te){var se;for(se=0;se<s;se+=1)n[se].animation.goToAndStop(ae,ue,te)}function ee(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.stop(ae)}function ne(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.togglePause(ae)}function Y(ae){var ue;for(ue=s-1;ue>=0;ue-=1)n[ue].animation.destroy(ae)}function re(ae,ue,te){var se=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ce,ce=se.length;for(Ce=0;Ce<ce;Ce+=1)te&&se[Ce].setAttribute("data-bm-type",te),m(se[Ce],ae);if(ue&&ce===0){te||(te="svg");var ye=document.getElementsByTagName("body")[0];ye.innerText="";var Se=createTag("div");Se.style.width="100%",Se.style.height="100%",Se.setAttribute("data-bm-type",te),ye.appendChild(Se),m(Se,ae)}}function oe(){var ae;for(ae=0;ae<s;ae+=1)n[ae].animation.resize()}function xe(){!c&&o&&l&&(window.requestAnimationFrame(Q),l=!1)}function ve(){c=!0}function me(){c=!1,xe()}function we(ae,ue){var te;for(te=0;te<s;te+=1)n[te].animation.setVolume(ae,ue)}function Ee(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.mute(ae)}function he(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.unmute(ae)}return t.registerAnimation=m,t.loadAnimation=k,t.setSpeed=M,t.setDirection=j,t.play=G,t.pause=H,t.stop=ee,t.togglePause=ne,t.searchAnimations=re,t.resize=oe,t.goToAndStop=X,t.destroy=Y,t.freeze=ve,t.unfreeze=me,t.setVolume=we,t.mute=Ee,t.unmute=he,t.getRegisteredAnimations=x,t})(),BezierFactory=(function(){var t={};t.getBezierEasing=r;var n={};function r(Q,H,X,ee,ne){var Y=ne||("bez_"+Q+"_"+H+"_"+X+"_"+ee).replace(/\./g,"p");if(n[Y])return n[Y];var re=new P([Q,H,X,ee]);return n[Y]=re,re}var s=4,o=.001,l=1e-7,c=10,p=11,m=1/(p-1),x=typeof Float32Array=="function";function b(Q,H){return 1-3*H+3*Q}function S(Q,H){return 3*H-6*Q}function R(Q){return 3*Q}function k(Q,H,X){return((b(H,X)*Q+S(H,X))*Q+R(H))*Q}function M(Q,H,X){return 3*b(H,X)*Q*Q+2*S(H,X)*Q+R(H)}function j(Q,H,X,ee,ne){var Y,re,oe=0;do re=H+(X-H)/2,Y=k(re,ee,ne)-Q,Y>0?X=re:H=re;while(Math.abs(Y)>l&&++oe<c);return re}function G(Q,H,X,ee){for(var ne=0;ne<s;++ne){var Y=M(H,X,ee);if(Y===0)return H;var re=k(H,X,ee)-Q;H-=re/Y}return H}function P(Q){this._p=Q,this._mSampleValues=x?new Float32Array(p):new Array(p),this._precomputed=!1,this.get=this.get.bind(this)}return P.prototype={get:function(H){var X=this._p[0],ee=this._p[1],ne=this._p[2],Y=this._p[3];return this._precomputed||this._precompute(),X===ee&&ne===Y?H:H===0?0:H===1?1:k(this._getTForX(H),ee,Y)},_precompute:function(){var H=this._p[0],X=this._p[1],ee=this._p[2],ne=this._p[3];this._precomputed=!0,(H!==X||ee!==ne)&&this._calcSampleValues()},_calcSampleValues:function(){for(var H=this._p[0],X=this._p[2],ee=0;ee<p;++ee)this._mSampleValues[ee]=k(ee*m,H,X)},_getTForX:function(H){for(var X=this._p[0],ee=this._p[2],ne=this._mSampleValues,Y=0,re=1,oe=p-1;re!==oe&&ne[re]<=H;++re)Y+=m;--re;var xe=(H-ne[re])/(ne[re+1]-ne[re]),ve=Y+xe*m,me=M(ve,X,ee);return me>=o?G(H,ve,X,ee):me===0?ve:j(H,Y,Y+m,X,ee)}},t})(),pooling=(function(){function t(n){return n.concat(createSizedArray(n.length))}return{double:t}})(),poolFactory=(function(){return function(t,n,r){var s=0,o=t,l=createSizedArray(o),c={newElement:p,release:m};function p(){var x;return s?(s-=1,x=l[s]):x=n(),x}function m(x){s===o&&(l=pooling.double(l),o*=2),r&&r(x),l[s]=x,s+=1}return c}})(),bezierLengthPool=(function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)})(),segmentsLengthPool=(function(){function t(){return{lengths:[],totalLength:0}}function n(r){var s,o=r.lengths.length;for(s=0;s<o;s+=1)bezierLengthPool.release(r.lengths[s]);r.lengths.length=0}return poolFactory(8,t,n)})();function bezFunction(){var t=Math;function n(R,k,M,j,G,P){var Q=R*j+k*G+M*P-G*j-P*R-M*k;return Q>-.001&&Q<.001}function r(R,k,M,j,G,P,Q,H,X){if(M===0&&P===0&&X===0)return n(R,k,j,G,Q,H);var ee=t.sqrt(t.pow(j-R,2)+t.pow(G-k,2)+t.pow(P-M,2)),ne=t.sqrt(t.pow(Q-R,2)+t.pow(H-k,2)+t.pow(X-M,2)),Y=t.sqrt(t.pow(Q-j,2)+t.pow(H-G,2)+t.pow(X-P,2)),re;return ee>ne?ee>Y?re=ee-ne-Y:re=Y-ne-ee:Y>ne?re=Y-ne-ee:re=ne-ee-Y,re>-1e-4&&re<1e-4}var s=(function(){return function(R,k,M,j){var G=getDefaultCurveSegments(),P,Q,H,X,ee,ne=0,Y,re=[],oe=[],xe=bezierLengthPool.newElement();for(H=M.length,P=0;P<G;P+=1){for(ee=P/(G-1),Y=0,Q=0;Q<H;Q+=1)X=bmPow(1-ee,3)*R[Q]+3*bmPow(1-ee,2)*ee*M[Q]+3*(1-ee)*bmPow(ee,2)*j[Q]+bmPow(ee,3)*k[Q],re[Q]=X,oe[Q]!==null&&(Y+=bmPow(re[Q]-oe[Q],2)),oe[Q]=re[Q];Y&&(Y=bmSqrt(Y),ne+=Y),xe.percents[P]=ee,xe.lengths[P]=ne}return xe.addedLength=ne,xe}})();function o(R){var k=segmentsLengthPool.newElement(),M=R.c,j=R.v,G=R.o,P=R.i,Q,H=R._length,X=k.lengths,ee=0;for(Q=0;Q<H-1;Q+=1)X[Q]=s(j[Q],j[Q+1],G[Q],P[Q+1]),ee+=X[Q].addedLength;return M&&H&&(X[Q]=s(j[Q],j[0],G[Q],P[0]),ee+=X[Q].addedLength),k.totalLength=ee,k}function l(R){this.segmentLength=0,this.points=new Array(R)}function c(R,k){this.partialLength=R,this.point=k}var p=(function(){var R={};return function(k,M,j,G){var P=(k[0]+"_"+k[1]+"_"+M[0]+"_"+M[1]+"_"+j[0]+"_"+j[1]+"_"+G[0]+"_"+G[1]).replace(/\./g,"p");if(!R[P]){var Q=getDefaultCurveSegments(),H,X,ee,ne,Y,re=0,oe,xe,ve=null;k.length===2&&(k[0]!==M[0]||k[1]!==M[1])&&n(k[0],k[1],M[0],M[1],k[0]+j[0],k[1]+j[1])&&n(k[0],k[1],M[0],M[1],M[0]+G[0],M[1]+G[1])&&(Q=2);var me=new l(Q);for(ee=j.length,H=0;H<Q;H+=1){for(xe=createSizedArray(ee),Y=H/(Q-1),oe=0,X=0;X<ee;X+=1)ne=bmPow(1-Y,3)*k[X]+3*bmPow(1-Y,2)*Y*(k[X]+j[X])+3*(1-Y)*bmPow(Y,2)*(M[X]+G[X])+bmPow(Y,3)*M[X],xe[X]=ne,ve!==null&&(oe+=bmPow(xe[X]-ve[X],2));oe=bmSqrt(oe),re+=oe,me.points[H]=new c(oe,xe),ve=xe}me.segmentLength=re,R[P]=me}return R[P]}})();function m(R,k){var M=k.percents,j=k.lengths,G=M.length,P=bmFloor((G-1)*R),Q=R*k.addedLength,H=0;if(P===G-1||P===0||Q===j[P])return M[P];for(var X=j[P]>Q?-1:1,ee=!0;ee;)if(j[P]<=Q&&j[P+1]>Q?(H=(Q-j[P])/(j[P+1]-j[P]),ee=!1):P+=X,P<0||P>=G-1){if(P===G-1)return M[P];ee=!1}return M[P]+(M[P+1]-M[P])*H}function x(R,k,M,j,G,P){var Q=m(G,P),H=1-Q,X=t.round((H*H*H*R[0]+(Q*H*H+H*Q*H+H*H*Q)*M[0]+(Q*Q*H+H*Q*Q+Q*H*Q)*j[0]+Q*Q*Q*k[0])*1e3)/1e3,ee=t.round((H*H*H*R[1]+(Q*H*H+H*Q*H+H*H*Q)*M[1]+(Q*Q*H+H*Q*Q+Q*H*Q)*j[1]+Q*Q*Q*k[1])*1e3)/1e3;return[X,ee]}var b=createTypedArray("float32",8);function S(R,k,M,j,G,P,Q){G<0?G=0:G>1&&(G=1);var H=m(G,Q);P=P>1?1:P;var X=m(P,Q),ee,ne=R.length,Y=1-H,re=1-X,oe=Y*Y*Y,xe=H*Y*Y*3,ve=H*H*Y*3,me=H*H*H,we=Y*Y*re,Ee=H*Y*re+Y*H*re+Y*Y*X,he=H*H*re+Y*H*X+H*Y*X,ae=H*H*X,ue=Y*re*re,te=H*re*re+Y*X*re+Y*re*X,se=H*X*re+Y*X*X+H*re*X,Ce=H*X*X,ce=re*re*re,ye=X*re*re+re*X*re+re*re*X,Se=X*X*re+re*X*X+X*re*X,_e=X*X*X;for(ee=0;ee<ne;ee+=1)b[ee*4]=t.round((oe*R[ee]+xe*M[ee]+ve*j[ee]+me*k[ee])*1e3)/1e3,b[ee*4+1]=t.round((we*R[ee]+Ee*M[ee]+he*j[ee]+ae*k[ee])*1e3)/1e3,b[ee*4+2]=t.round((ue*R[ee]+te*M[ee]+se*j[ee]+Ce*k[ee])*1e3)/1e3,b[ee*4+3]=t.round((ce*R[ee]+ye*M[ee]+Se*j[ee]+_e*k[ee])*1e3)/1e3;return b}return{getSegmentsLength:o,getNewSegment:S,getPointInSegment:x,buildBezierData:p,pointOnLine2D:n,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,n){var r=this.offsetTime,s;this.propType==="multidimensional"&&(s=createTypedArray("float32",this.pv.length));for(var o=n.lastIndex,l=o,c=this.keyframes.length-1,p=!0,m,x,b;p;){if(m=this.keyframes[l],x=this.keyframes[l+1],l===c-1&&t>=x.t-r){m.h&&(m=x),o=0;break}if(x.t-r>t){o=l;break}l<c-1?l+=1:(o=0,p=!1)}b=this.keyframesMetadata[l]||{};var S,R,k,M,j,G,P=x.t-r,Q=m.t-r,H;if(m.to){b.bezierData||(b.bezierData=bez.buildBezierData(m.s,x.s||m.e,m.to,m.ti));var X=b.bezierData;if(t>=P||t<Q){var ee=t>=P?X.points.length-1:0;for(R=X.points[ee].point.length,S=0;S<R;S+=1)s[S]=X.points[ee].point[S]}else{b.__fnct?G=b.__fnct:(G=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y,m.n).get,b.__fnct=G),k=G((t-Q)/(P-Q));var ne=X.segmentLength*k,Y,re=n.lastFrame<t&&n._lastKeyframeIndex===l?n._lastAddedLength:0;for(j=n.lastFrame<t&&n._lastKeyframeIndex===l?n._lastPoint:0,p=!0,M=X.points.length;p;){if(re+=X.points[j].partialLength,ne===0||k===0||j===X.points.length-1){for(R=X.points[j].point.length,S=0;S<R;S+=1)s[S]=X.points[j].point[S];break}else if(ne>=re&&ne<re+X.points[j+1].partialLength){for(Y=(ne-re)/X.points[j+1].partialLength,R=X.points[j].point.length,S=0;S<R;S+=1)s[S]=X.points[j].point[S]+(X.points[j+1].point[S]-X.points[j].point[S])*Y;break}j<M-1?j+=1:p=!1}n._lastPoint=j,n._lastAddedLength=re-X.points[j].partialLength,n._lastKeyframeIndex=l}}else{var oe,xe,ve,me,we;if(c=m.s.length,H=x.s||m.e,this.sh&&m.h!==1)if(t>=P)s[0]=H[0],s[1]=H[1],s[2]=H[2];else if(t<=Q)s[0]=m.s[0],s[1]=m.s[1],s[2]=m.s[2];else{var Ee=createQuaternion(m.s),he=createQuaternion(H),ae=(t-Q)/(P-Q);quaternionToEuler(s,slerp(Ee,he,ae))}else for(l=0;l<c;l+=1)m.h!==1&&(t>=P?k=1:t<Q?k=0:(m.o.x.constructor===Array?(b.__fnct||(b.__fnct=[]),b.__fnct[l]?G=b.__fnct[l]:(oe=m.o.x[l]===void 0?m.o.x[0]:m.o.x[l],xe=m.o.y[l]===void 0?m.o.y[0]:m.o.y[l],ve=m.i.x[l]===void 0?m.i.x[0]:m.i.x[l],me=m.i.y[l]===void 0?m.i.y[0]:m.i.y[l],G=BezierFactory.getBezierEasing(oe,xe,ve,me).get,b.__fnct[l]=G)):b.__fnct?G=b.__fnct:(oe=m.o.x,xe=m.o.y,ve=m.i.x,me=m.i.y,G=BezierFactory.getBezierEasing(oe,xe,ve,me).get,m.keyframeMetadata=G),k=G((t-Q)/(P-Q)))),H=x.s||m.e,we=m.h===1?m.s[l]:m.s[l]+(H[l]-m.s[l])*k,this.propType==="multidimensional"?s[l]=we:s=we}return n.lastIndex=o,s}function slerp(t,n,r){var s=[],o=t[0],l=t[1],c=t[2],p=t[3],m=n[0],x=n[1],b=n[2],S=n[3],R,k,M,j,G;return k=o*m+l*x+c*b+p*S,k<0&&(k=-k,m=-m,x=-x,b=-b,S=-S),1-k>1e-6?(R=Math.acos(k),M=Math.sin(R),j=Math.sin((1-r)*R)/M,G=Math.sin(r*R)/M):(j=1-r,G=r),s[0]=j*o+G*m,s[1]=j*l+G*x,s[2]=j*c+G*b,s[3]=j*p+G*S,s}function quaternionToEuler(t,n){var r=n[0],s=n[1],o=n[2],l=n[3],c=Math.atan2(2*s*l-2*r*o,1-2*s*s-2*o*o),p=Math.asin(2*r*s+2*o*l),m=Math.atan2(2*r*l-2*s*o,1-2*r*r-2*o*o);t[0]=c/degToRads,t[1]=p/degToRads,t[2]=m/degToRads}function createQuaternion(t){var n=t[0]*degToRads,r=t[1]*degToRads,s=t[2]*degToRads,o=Math.cos(n/2),l=Math.cos(r/2),c=Math.cos(s/2),p=Math.sin(n/2),m=Math.sin(r/2),x=Math.sin(s/2),b=o*l*c-p*m*x,S=p*m*c+o*l*x,R=p*l*c+o*m*x,k=o*m*c-p*l*x;return[S,R,k,b]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(t,this._caching);this.pv=s}return this._caching.lastFrame=t,this.pv}function setVValue(t){var n;if(this.propType==="unidimensional")n=t*this.mult,mathAbs(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,s=this.v.length;r<s;)n=t[r]*this.mult,mathAbs(this.v[r]-n)>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,n=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<n;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,n,r,s){this.propType="unidimensional",this.mult=r||1,this.data=n,this.v=r?n.k*r:n.k,this.pv=n.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,n,r,s){this.propType="multidimensional",this.mult=r||1,this.data=n,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,l=n.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=n.k[o]*this.mult,this.pv[o]=n.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,n,r,s){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,n,r,s){this.propType="multidimensional";var o,l=n.k.length,c,p,m,x;for(o=0;o<l-1;o+=1)n.k[o].to&&n.k[o].s&&n.k[o+1]&&n.k[o+1].s&&(c=n.k[o].s,p=n.k[o+1].s,m=n.k[o].to,x=n.k[o].ti,(c.length===2&&!(c[0]===p[0]&&c[1]===p[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],c[0]+m[0],c[1]+m[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],p[0]+x[0],p[1]+x[1])||c.length===3&&!(c[0]===p[0]&&c[1]===p[1]&&c[2]===p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],c[0]+m[0],c[1]+m[1],c[2]+m[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],p[0]+x[0],p[1]+x[1],p[2]+x[2]))&&(n.k[o].to=null,n.k[o].ti=null),c[0]===p[0]&&c[1]===p[1]&&m[0]===0&&m[1]===0&&x[0]===0&&x[1]===0&&(c.length===2||c[2]===p[2]&&m[2]===0&&x[2]===0)&&(n.k[o].to=null,n.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var b=n.k[0].s.length;for(this.v=createTypedArray("float32",b),this.pv=createTypedArray("float32",b),o=0;o<b;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",b)},this.addEffect=addEffect}var PropertyFactory=(function(){function t(r,s,o,l,c){s.sid&&(s=r.globalData.slotManager.getProp(s));var p;if(!s.k.length)p=new ValueProperty(r,s,l,c);else if(typeof s.k[0]=="number")p=new MultiDimensionalProperty(r,s,l,c);else switch(o){case 0:p=new KeyframedValueProperty(r,s,l,c);break;case 1:p=new KeyframedMultidimensionalProperty(r,s,l,c);break}return p.effectsSequence.length&&c.addDynamicProperty(p),p}var n={getProp:t};return n})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(n){this.dynamicProperties.indexOf(n)===-1&&(this.dynamicProperties.push(n),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(n){this.container=n,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,n){this.c=t,this.setLength(n);for(var r=0;r<n;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,n,r,s,o){var l;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":l=this.v;break;case"i":l=this.i;break;case"o":l=this.o;break;default:l=[];break}(!l[s]||l[s]&&!o)&&(l[s]=pointPool.newElement()),l[s][0]=t,l[s][1]=n},ShapePath.prototype.setTripleAt=function(t,n,r,s,o,l,c,p){this.setXYAt(t,n,"v",c,p),this.setXYAt(r,s,"o",c,p),this.setXYAt(o,l,"i",c,p)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var n=this.v,r=this.o,s=this.i,o=0;this.c&&(t.setTripleAt(n[0][0],n[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),o=1);var l=this._length-1,c=this._length,p;for(p=o;p<c;p+=1)t.setTripleAt(n[l][0],n[l][1],s[l][0],s[l][1],r[l][0],r[l][1],p,!1),l-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function t(){return new ShapePath}function n(o){var l=o._length,c;for(c=0;c<l;c+=1)pointPool.release(o.v[c]),pointPool.release(o.i[c]),pointPool.release(o.o[c]),o.v[c]=null,o.i[c]=null,o.o[c]=null;o._length=0,o.c=!1}function r(o){var l=s.newElement(),c,p=o._length===void 0?o.v.length:o._length;for(l.setLength(p),l.c=o.c,c=0;c<p;c+=1)l.setTripleAt(o.v[c][0],o.v[c][1],o.o[c][0],o.o[c][1],o.i[c][0],o.i[c][1],c);return l}var s=poolFactory(4,t,n);return s.clone=r,s})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(function(){var t={newShapeCollection:o,release:l},n=0,r=4,s=createSizedArray(r);function o(){var c;return n?(n-=1,c=s[n]):c=new ShapeCollection,c}function l(c){var p,m=c._length;for(p=0;p<m;p+=1)shapePool.release(c.shapes[p]);c._length=0,n===r&&(s=pooling.double(s),r*=2),s[n]=c,n+=1}return t})(),ShapePropertyFactory=(function(){var t=-999999;function n(P,Q,H){var X=H.lastIndex,ee,ne,Y,re,oe,xe,ve,me,we,Ee=this.keyframes;if(P<Ee[0].t-this.offsetTime)ee=Ee[0].s[0],Y=!0,X=0;else if(P>=Ee[Ee.length-1].t-this.offsetTime)ee=Ee[Ee.length-1].s?Ee[Ee.length-1].s[0]:Ee[Ee.length-2].e[0],Y=!0;else{for(var he=X,ae=Ee.length-1,ue=!0,te,se,Ce;ue&&(te=Ee[he],se=Ee[he+1],!(se.t-this.offsetTime>P));)he<ae-1?he+=1:ue=!1;if(Ce=this.keyframesMetadata[he]||{},Y=te.h===1,X=he,!Y){if(P>=se.t-this.offsetTime)me=1;else if(P<te.t-this.offsetTime)me=0;else{var ce;Ce.__fnct?ce=Ce.__fnct:(ce=BezierFactory.getBezierEasing(te.o.x,te.o.y,te.i.x,te.i.y).get,Ce.__fnct=ce),me=ce((P-(te.t-this.offsetTime))/(se.t-this.offsetTime-(te.t-this.offsetTime)))}ne=se.s?se.s[0]:te.e[0]}ee=te.s[0]}for(xe=Q._length,ve=ee.i[0].length,H.lastIndex=X,re=0;re<xe;re+=1)for(oe=0;oe<ve;oe+=1)we=Y?ee.i[re][oe]:ee.i[re][oe]+(ne.i[re][oe]-ee.i[re][oe])*me,Q.i[re][oe]=we,we=Y?ee.o[re][oe]:ee.o[re][oe]+(ne.o[re][oe]-ee.o[re][oe])*me,Q.o[re][oe]=we,we=Y?ee.v[re][oe]:ee.v[re][oe]+(ne.v[re][oe]-ee.v[re][oe])*me,Q.v[re][oe]=we}function r(){var P=this.comp.renderedFrame-this.offsetTime,Q=this.keyframes[0].t-this.offsetTime,H=this.keyframes[this.keyframes.length-1].t-this.offsetTime,X=this._caching.lastFrame;return X!==t&&(X<Q&&P<Q||X>H&&P>H)||(this._caching.lastIndex=X<P?this._caching.lastIndex:0,this.interpolateShape(P,this.pv,this._caching)),this._caching.lastFrame=P,this.pv}function s(){this.paths=this.localShapeCollection}function o(P,Q){if(P._length!==Q._length||P.c!==Q.c)return!1;var H,X=P._length;for(H=0;H<X;H+=1)if(P.v[H][0]!==Q.v[H][0]||P.v[H][1]!==Q.v[H][1]||P.o[H][0]!==Q.o[H][0]||P.o[H][1]!==Q.o[H][1]||P.i[H][0]!==Q.i[H][0]||P.i[H][1]!==Q.i[H][1])return!1;return!0}function l(P){o(this.v,P)||(this.v=shapePool.clone(P),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function c(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var P;this.kf?P=this.pv:this.data.ks?P=this.data.ks.k:P=this.data.pt.k;var Q,H=this.effectsSequence.length;for(Q=0;Q<H;Q+=1)P=this.effectsSequence[Q](P);this.setVValue(P),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function p(P,Q,H){this.propType="shape",this.comp=P.comp,this.container=P,this.elem=P,this.data=Q,this.k=!1,this.kf=!1,this._mdf=!1;var X=H===3?Q.pt.k:Q.ks.k;this.v=shapePool.clone(X),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function m(P){this.effectsSequence.push(P),this.container.addDynamicProperty(this)}p.prototype.interpolateShape=n,p.prototype.getValue=c,p.prototype.setVValue=l,p.prototype.addEffect=m;function x(P,Q,H){this.propType="shape",this.comp=P.comp,this.elem=P,this.container=P,this.offsetTime=P.data.st,this.keyframes=H===3?Q.pt.k:Q.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var X=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,X),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}x.prototype.getValue=c,x.prototype.interpolateShape=n,x.prototype.setVValue=l,x.prototype.addEffect=m;var b=(function(){var P=roundCorner;function Q(H,X){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=X.d,this.elem=H,this.comp=H.comp,this.frameId=-1,this.initDynamicPropertyContainer(H),this.p=PropertyFactory.getProp(H,X.p,1,0,this),this.s=PropertyFactory.getProp(H,X.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Q.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var X=this.p.v[0],ee=this.p.v[1],ne=this.s.v[0]/2,Y=this.s.v[1]/2,re=this.d!==3,oe=this.v;oe.v[0][0]=X,oe.v[0][1]=ee-Y,oe.v[1][0]=re?X+ne:X-ne,oe.v[1][1]=ee,oe.v[2][0]=X,oe.v[2][1]=ee+Y,oe.v[3][0]=re?X-ne:X+ne,oe.v[3][1]=ee,oe.i[0][0]=re?X-ne*P:X+ne*P,oe.i[0][1]=ee-Y,oe.i[1][0]=re?X+ne:X-ne,oe.i[1][1]=ee-Y*P,oe.i[2][0]=re?X+ne*P:X-ne*P,oe.i[2][1]=ee+Y,oe.i[3][0]=re?X-ne:X+ne,oe.i[3][1]=ee+Y*P,oe.o[0][0]=re?X+ne*P:X-ne*P,oe.o[0][1]=ee-Y,oe.o[1][0]=re?X+ne:X-ne,oe.o[1][1]=ee+Y*P,oe.o[2][0]=re?X-ne*P:X+ne*P,oe.o[2][1]=ee+Y,oe.o[3][0]=re?X-ne:X+ne,oe.o[3][1]=ee-Y*P}},extendPrototype([DynamicPropertyContainer],Q),Q})(),S=(function(){function P(Q,H){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Q,this.comp=Q.comp,this.data=H,this.frameId=-1,this.d=H.d,this.initDynamicPropertyContainer(Q),H.sy===1?(this.ir=PropertyFactory.getProp(Q,H.ir,0,0,this),this.is=PropertyFactory.getProp(Q,H.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Q,H.pt,0,0,this),this.p=PropertyFactory.getProp(Q,H.p,1,0,this),this.r=PropertyFactory.getProp(Q,H.r,0,degToRads,this),this.or=PropertyFactory.getProp(Q,H.or,0,0,this),this.os=PropertyFactory.getProp(Q,H.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return P.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var H=Math.floor(this.pt.v)*2,X=Math.PI*2/H,ee=!0,ne=this.or.v,Y=this.ir.v,re=this.os.v,oe=this.is.v,xe=2*Math.PI*ne/(H*2),ve=2*Math.PI*Y/(H*2),me,we,Ee,he,ae=-Math.PI/2;ae+=this.r.v;var ue=this.data.d===3?-1:1;for(this.v._length=0,me=0;me<H;me+=1){we=ee?ne:Y,Ee=ee?re:oe,he=ee?xe:ve;var te=we*Math.cos(ae),se=we*Math.sin(ae),Ce=te===0&&se===0?0:se/Math.sqrt(te*te+se*se),ce=te===0&&se===0?0:-te/Math.sqrt(te*te+se*se);te+=+this.p.v[0],se+=+this.p.v[1],this.v.setTripleAt(te,se,te-Ce*he*Ee*ue,se-ce*he*Ee*ue,te+Ce*he*Ee*ue,se+ce*he*Ee*ue,me,!0),ee=!ee,ae+=X*ue}},convertPolygonToPath:function(){var H=Math.floor(this.pt.v),X=Math.PI*2/H,ee=this.or.v,ne=this.os.v,Y=2*Math.PI*ee/(H*4),re,oe=-Math.PI*.5,xe=this.data.d===3?-1:1;for(oe+=this.r.v,this.v._length=0,re=0;re<H;re+=1){var ve=ee*Math.cos(oe),me=ee*Math.sin(oe),we=ve===0&&me===0?0:me/Math.sqrt(ve*ve+me*me),Ee=ve===0&&me===0?0:-ve/Math.sqrt(ve*ve+me*me);ve+=+this.p.v[0],me+=+this.p.v[1],this.v.setTripleAt(ve,me,ve-we*Y*ne*xe,me-Ee*Y*ne*xe,ve+we*Y*ne*xe,me+Ee*Y*ne*xe,re,!0),oe+=X*xe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],P),P})(),R=(function(){function P(Q,H){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Q,this.comp=Q.comp,this.frameId=-1,this.d=H.d,this.initDynamicPropertyContainer(Q),this.p=PropertyFactory.getProp(Q,H.p,1,0,this),this.s=PropertyFactory.getProp(Q,H.s,1,0,this),this.r=PropertyFactory.getProp(Q,H.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return P.prototype={convertRectToPath:function(){var H=this.p.v[0],X=this.p.v[1],ee=this.s.v[0]/2,ne=this.s.v[1]/2,Y=bmMin(ee,ne,this.r.v),re=Y*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(H+ee,X-ne+Y,H+ee,X-ne+Y,H+ee,X-ne+re,0,!0),this.v.setTripleAt(H+ee,X+ne-Y,H+ee,X+ne-re,H+ee,X+ne-Y,1,!0),Y!==0?(this.v.setTripleAt(H+ee-Y,X+ne,H+ee-Y,X+ne,H+ee-re,X+ne,2,!0),this.v.setTripleAt(H-ee+Y,X+ne,H-ee+re,X+ne,H-ee+Y,X+ne,3,!0),this.v.setTripleAt(H-ee,X+ne-Y,H-ee,X+ne-Y,H-ee,X+ne-re,4,!0),this.v.setTripleAt(H-ee,X-ne+Y,H-ee,X-ne+re,H-ee,X-ne+Y,5,!0),this.v.setTripleAt(H-ee+Y,X-ne,H-ee+Y,X-ne,H-ee+re,X-ne,6,!0),this.v.setTripleAt(H+ee-Y,X-ne,H+ee-re,X-ne,H+ee-Y,X-ne,7,!0)):(this.v.setTripleAt(H-ee,X+ne,H-ee+re,X+ne,H-ee,X+ne,2),this.v.setTripleAt(H-ee,X-ne,H-ee,X-ne+re,H-ee,X-ne,3))):(this.v.setTripleAt(H+ee,X-ne+Y,H+ee,X-ne+re,H+ee,X-ne+Y,0,!0),Y!==0?(this.v.setTripleAt(H+ee-Y,X-ne,H+ee-Y,X-ne,H+ee-re,X-ne,1,!0),this.v.setTripleAt(H-ee+Y,X-ne,H-ee+re,X-ne,H-ee+Y,X-ne,2,!0),this.v.setTripleAt(H-ee,X-ne+Y,H-ee,X-ne+Y,H-ee,X-ne+re,3,!0),this.v.setTripleAt(H-ee,X+ne-Y,H-ee,X+ne-re,H-ee,X+ne-Y,4,!0),this.v.setTripleAt(H-ee+Y,X+ne,H-ee+Y,X+ne,H-ee+re,X+ne,5,!0),this.v.setTripleAt(H+ee-Y,X+ne,H+ee-re,X+ne,H+ee-Y,X+ne,6,!0),this.v.setTripleAt(H+ee,X+ne-Y,H+ee,X+ne-Y,H+ee,X+ne-re,7,!0)):(this.v.setTripleAt(H-ee,X-ne,H-ee+re,X-ne,H-ee,X-ne,1,!0),this.v.setTripleAt(H-ee,X+ne,H-ee,X+ne-re,H-ee,X+ne,2,!0),this.v.setTripleAt(H+ee,X+ne,H+ee-re,X+ne,H+ee,X+ne,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],P),P})();function k(P,Q,H){var X;if(H===3||H===4){var ee=H===3?Q.pt:Q.ks,ne=ee.k;ne.length?X=new x(P,Q,H):X=new p(P,Q,H)}else H===5?X=new R(P,Q):H===6?X=new b(P,Q):H===7&&(X=new S(P,Q));return X.k&&P.addDynamicProperty(X),X}function M(){return p}function j(){return x}var G={};return G.getShapeProp=k,G.getConstructorFunction=M,G.getKeyframedConstructorFunction=j,G})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var t=Math.cos,n=Math.sin,r=Math.tan,s=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function l(te){if(te===0)return this;var se=t(te),Ce=n(te);return this._t(se,-Ce,0,0,Ce,se,0,0,0,0,1,0,0,0,0,1)}function c(te){if(te===0)return this;var se=t(te),Ce=n(te);return this._t(1,0,0,0,0,se,-Ce,0,0,Ce,se,0,0,0,0,1)}function p(te){if(te===0)return this;var se=t(te),Ce=n(te);return this._t(se,0,Ce,0,0,1,0,0,-Ce,0,se,0,0,0,0,1)}function m(te){if(te===0)return this;var se=t(te),Ce=n(te);return this._t(se,-Ce,0,0,Ce,se,0,0,0,0,1,0,0,0,0,1)}function x(te,se){return this._t(1,se,te,1,0,0)}function b(te,se){return this.shear(r(te),r(se))}function S(te,se){var Ce=t(se),ce=n(se);return this._t(Ce,ce,0,0,-ce,Ce,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(te),1,0,0,0,0,1,0,0,0,0,1)._t(Ce,-ce,0,0,ce,Ce,0,0,0,0,1,0,0,0,0,1)}function R(te,se,Ce){return!Ce&&Ce!==0&&(Ce=1),te===1&&se===1&&Ce===1?this:this._t(te,0,0,0,0,se,0,0,0,0,Ce,0,0,0,0,1)}function k(te,se,Ce,ce,ye,Se,_e,je,Me,Ze,ot,Ct,It,mt,Ut,gt){return this.props[0]=te,this.props[1]=se,this.props[2]=Ce,this.props[3]=ce,this.props[4]=ye,this.props[5]=Se,this.props[6]=_e,this.props[7]=je,this.props[8]=Me,this.props[9]=Ze,this.props[10]=ot,this.props[11]=Ct,this.props[12]=It,this.props[13]=mt,this.props[14]=Ut,this.props[15]=gt,this}function M(te,se,Ce){return Ce=Ce||0,te!==0||se!==0||Ce!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,te,se,Ce,1):this}function j(te,se,Ce,ce,ye,Se,_e,je,Me,Ze,ot,Ct,It,mt,Ut,gt){var xt=this.props;if(te===1&&se===0&&Ce===0&&ce===0&&ye===0&&Se===1&&_e===0&&je===0&&Me===0&&Ze===0&&ot===1&&Ct===0)return xt[12]=xt[12]*te+xt[15]*It,xt[13]=xt[13]*Se+xt[15]*mt,xt[14]=xt[14]*ot+xt[15]*Ut,xt[15]*=gt,this._identityCalculated=!1,this;var an=xt[0],Un=xt[1],Zt=xt[2],$t=xt[3],Ot=xt[4],In=xt[5],pt=xt[6],Kn=xt[7],On=xt[8],it=xt[9],Pe=xt[10],Fe=xt[11],Ye=xt[12],Je=xt[13],bt=xt[14],Mt=xt[15];return xt[0]=an*te+Un*ye+Zt*Me+$t*It,xt[1]=an*se+Un*Se+Zt*Ze+$t*mt,xt[2]=an*Ce+Un*_e+Zt*ot+$t*Ut,xt[3]=an*ce+Un*je+Zt*Ct+$t*gt,xt[4]=Ot*te+In*ye+pt*Me+Kn*It,xt[5]=Ot*se+In*Se+pt*Ze+Kn*mt,xt[6]=Ot*Ce+In*_e+pt*ot+Kn*Ut,xt[7]=Ot*ce+In*je+pt*Ct+Kn*gt,xt[8]=On*te+it*ye+Pe*Me+Fe*It,xt[9]=On*se+it*Se+Pe*Ze+Fe*mt,xt[10]=On*Ce+it*_e+Pe*ot+Fe*Ut,xt[11]=On*ce+it*je+Pe*Ct+Fe*gt,xt[12]=Ye*te+Je*ye+bt*Me+Mt*It,xt[13]=Ye*se+Je*Se+bt*Ze+Mt*mt,xt[14]=Ye*Ce+Je*_e+bt*ot+Mt*Ut,xt[15]=Ye*ce+Je*je+bt*Ct+Mt*gt,this._identityCalculated=!1,this}function G(te){var se=te.props;return this.transform(se[0],se[1],se[2],se[3],se[4],se[5],se[6],se[7],se[8],se[9],se[10],se[11],se[12],se[13],se[14],se[15])}function P(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Q(te){for(var se=0;se<16;){if(te.props[se]!==this.props[se])return!1;se+=1}return!0}function H(te){var se;for(se=0;se<16;se+=1)te.props[se]=this.props[se];return te}function X(te){var se;for(se=0;se<16;se+=1)this.props[se]=te[se]}function ee(te,se,Ce){return{x:te*this.props[0]+se*this.props[4]+Ce*this.props[8]+this.props[12],y:te*this.props[1]+se*this.props[5]+Ce*this.props[9]+this.props[13],z:te*this.props[2]+se*this.props[6]+Ce*this.props[10]+this.props[14]}}function ne(te,se,Ce){return te*this.props[0]+se*this.props[4]+Ce*this.props[8]+this.props[12]}function Y(te,se,Ce){return te*this.props[1]+se*this.props[5]+Ce*this.props[9]+this.props[13]}function re(te,se,Ce){return te*this.props[2]+se*this.props[6]+Ce*this.props[10]+this.props[14]}function oe(){var te=this.props[0]*this.props[5]-this.props[1]*this.props[4],se=this.props[5]/te,Ce=-this.props[1]/te,ce=-this.props[4]/te,ye=this.props[0]/te,Se=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/te,_e=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/te,je=new Matrix;return je.props[0]=se,je.props[1]=Ce,je.props[4]=ce,je.props[5]=ye,je.props[12]=Se,je.props[13]=_e,je}function xe(te){var se=this.getInverseMatrix();return se.applyToPointArray(te[0],te[1],te[2]||0)}function ve(te){var se,Ce=te.length,ce=[];for(se=0;se<Ce;se+=1)ce[se]=xe(te[se]);return ce}function me(te,se,Ce){var ce=createTypedArray("float32",6);if(this.isIdentity())ce[0]=te[0],ce[1]=te[1],ce[2]=se[0],ce[3]=se[1],ce[4]=Ce[0],ce[5]=Ce[1];else{var ye=this.props[0],Se=this.props[1],_e=this.props[4],je=this.props[5],Me=this.props[12],Ze=this.props[13];ce[0]=te[0]*ye+te[1]*_e+Me,ce[1]=te[0]*Se+te[1]*je+Ze,ce[2]=se[0]*ye+se[1]*_e+Me,ce[3]=se[0]*Se+se[1]*je+Ze,ce[4]=Ce[0]*ye+Ce[1]*_e+Me,ce[5]=Ce[0]*Se+Ce[1]*je+Ze}return ce}function we(te,se,Ce){var ce;return this.isIdentity()?ce=[te,se,Ce]:ce=[te*this.props[0]+se*this.props[4]+Ce*this.props[8]+this.props[12],te*this.props[1]+se*this.props[5]+Ce*this.props[9]+this.props[13],te*this.props[2]+se*this.props[6]+Ce*this.props[10]+this.props[14]],ce}function Ee(te,se){if(this.isIdentity())return te+","+se;var Ce=this.props;return Math.round((te*Ce[0]+se*Ce[4]+Ce[12])*100)/100+","+Math.round((te*Ce[1]+se*Ce[5]+Ce[13])*100)/100}function he(){for(var te=0,se=this.props,Ce="matrix3d(",ce=1e4;te<16;)Ce+=s(se[te]*ce)/ce,Ce+=te===15?")":",",te+=1;return Ce}function ae(te){var se=1e4;return te<1e-6&&te>0||te>-1e-6&&te<0?s(te*se)/se:te}function ue(){var te=this.props,se=ae(te[0]),Ce=ae(te[1]),ce=ae(te[4]),ye=ae(te[5]),Se=ae(te[12]),_e=ae(te[13]);return"matrix("+se+","+Ce+","+ce+","+ye+","+Se+","+_e+")"}return function(){this.reset=o,this.rotate=l,this.rotateX=c,this.rotateY=p,this.rotateZ=m,this.skew=b,this.skewFromAxis=S,this.shear=x,this.scale=R,this.setTransform=k,this.translate=M,this.transform=j,this.multiply=G,this.applyToPoint=ee,this.applyToX=ne,this.applyToY=Y,this.applyToZ=re,this.applyToPointArray=we,this.applyToTriplePoints=me,this.applyToPointStringified=Ee,this.toCSS=he,this.to2dCSS=ue,this.clone=H,this.cloneFromProps=X,this.equals=Q,this.inversePoints=ve,this.inversePoint=xe,this.getInverseMatrix=oe,this._t=this.transform,this.isIdentity=P,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,n){t==="expressions"&&setExpressionsPlugin(n)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var n=queryString.split("&"),r=0;r<n.length;r+=1){var s=n[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=(function(){var t={},n={};t.registerModifier=r,t.getModifier=s;function r(o,l){n[o]||(n[o]=l)}function s(o,l,c){return new n[o](l,c)}return t})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var n={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(n),this.addShapeToModifier(n),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,n){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,n),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,n){this.s=PropertyFactory.getProp(t,n.s,0,.01,this),this.e=PropertyFactory.getProp(t,n.e,0,.01,this),this.o=PropertyFactory.getProp(t,n.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=n.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,n,r,s,o){var l=[];n<=1?l.push({s:t,e:n}):t>=1?l.push({s:t-1,e:n-1}):(l.push({s:t,e:1}),l.push({s:0,e:n-1}));var c=[],p,m=l.length,x;for(p=0;p<m;p+=1)if(x=l[p],!(x.e*o<s||x.s*o>s+r)){var b,S;x.s*o<=s?b=0:b=(x.s*o-s)/r,x.e*o>=s+r?S=1:S=(x.e*o-s)/r,c.push([b,S])}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var n,r=t.length;for(n=0;n<r;n+=1)segmentsLengthPool.release(t[n]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var n,r;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),this.s.v>1?n=1+s:this.s.v<0?n=0+s:n=this.s.v+s,this.e.v>1?r=1+s:this.e.v<0?r=0+s:r=this.e.v+s,n>r){var o=n;n=r,r=o}n=Math.round(n*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=n,this.eValue=r}else n=this.sValue,r=this.eValue;var l,c,p=this.shapes.length,m,x,b,S,R,k=0;if(r===n)for(c=0;c<p;c+=1)this.shapes[c].localShapeCollection.releaseShapes(),this.shapes[c].shape._mdf=!0,this.shapes[c].shape.paths=this.shapes[c].localShapeCollection,this._mdf&&(this.shapes[c].pathsData.length=0);else if(r===1&&n===0||r===0&&n===1){if(this._mdf)for(c=0;c<p;c+=1)this.shapes[c].pathsData.length=0,this.shapes[c].shape._mdf=!0}else{var M=[],j,G;for(c=0;c<p;c+=1)if(j=this.shapes[c],!j.shape._mdf&&!this._mdf&&!t&&this.m!==2)j.shape.paths=j.localShapeCollection;else{if(l=j.shape.paths,x=l._length,R=0,!j.shape._mdf&&j.pathsData.length)R=j.totalShapeLength;else{for(b=this.releasePathsData(j.pathsData),m=0;m<x;m+=1)S=bez.getSegmentsLength(l.shapes[m]),b.push(S),R+=S.totalLength;j.totalShapeLength=R,j.pathsData=b}k+=R,j.shape._mdf=!0}var P=n,Q=r,H=0,X;for(c=p-1;c>=0;c-=1)if(j=this.shapes[c],j.shape._mdf){for(G=j.localShapeCollection,G.releaseShapes(),this.m===2&&p>1?(X=this.calculateShapeEdges(n,r,j.totalShapeLength,H,k),H+=j.totalShapeLength):X=[[P,Q]],x=X.length,m=0;m<x;m+=1){P=X[m][0],Q=X[m][1],M.length=0,Q<=1?M.push({s:j.totalShapeLength*P,e:j.totalShapeLength*Q}):P>=1?M.push({s:j.totalShapeLength*(P-1),e:j.totalShapeLength*(Q-1)}):(M.push({s:j.totalShapeLength*P,e:j.totalShapeLength}),M.push({s:0,e:j.totalShapeLength*(Q-1)}));var ee=this.addShapes(j,M[0]);if(M[0].s!==M[0].e){if(M.length>1){var ne=j.shape.paths.shapes[j.shape.paths._length-1];if(ne.c){var Y=ee.pop();this.addPaths(ee,G),ee=this.addShapes(j,M[1],Y)}else this.addPaths(ee,G),ee=this.addShapes(j,M[1])}this.addPaths(ee,G)}}j.shape.paths=G}}},TrimModifier.prototype.addPaths=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)n.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,n,r,s,o,l,c){o.setXYAt(n[0],n[1],"o",l),o.setXYAt(r[0],r[1],"i",l+1),c&&o.setXYAt(t[0],t[1],"v",l),o.setXYAt(s[0],s[1],"v",l+1)},TrimModifier.prototype.addSegmentFromArray=function(t,n,r,s){n.setXYAt(t[1],t[5],"o",r),n.setXYAt(t[2],t[6],"i",r+1),s&&n.setXYAt(t[0],t[4],"v",r),n.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,n,r){var s=t.pathsData,o=t.shape.paths.shapes,l,c=t.shape.paths._length,p,m,x=0,b,S,R,k,M=[],j,G=!0;for(r?(S=r._length,j=r._length):(r=shapePool.newElement(),S=0,j=0),M.push(r),l=0;l<c;l+=1){for(R=s[l].lengths,r.c=o[l].c,m=o[l].c?R.length:R.length+1,p=1;p<m;p+=1)if(b=R[p-1],x+b.addedLength<n.s)x+=b.addedLength,r.c=!1;else if(x>n.e){r.c=!1;break}else n.s<=x&&n.e>=x+b.addedLength?(this.addSegment(o[l].v[p-1],o[l].o[p-1],o[l].i[p],o[l].v[p],r,S,G),G=!1):(k=bez.getNewSegment(o[l].v[p-1],o[l].v[p],o[l].o[p-1],o[l].i[p],(n.s-x)/b.addedLength,(n.e-x)/b.addedLength,R[p-1]),this.addSegmentFromArray(k,r,S,G),G=!1,r.c=!1),x+=b.addedLength,S+=1;if(o[l].c&&R.length){if(b=R[p-1],x<=n.e){var P=R[p-1].addedLength;n.s<=x&&n.e>=x+P?(this.addSegment(o[l].v[p-1],o[l].o[p-1],o[l].i[0],o[l].v[0],r,S,G),G=!1):(k=bez.getNewSegment(o[l].v[p-1],o[l].v[0],o[l].o[p-1],o[l].i[0],(n.s-x)/P,(n.e-x)/P,R[p-1]),this.addSegmentFromArray(k,r,S,G),G=!1,r.c=!1)}else r.c=!1;x+=b.addedLength,S+=1}if(r._length&&(r.setXYAt(r.v[j][0],r.v[j][1],"i",j),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),x>n.e)break;l<c-1&&(r=shapePool.newElement(),G=!0,M.push(r),S=0)}return M};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,n.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,n){var r=n/100,s=[0,0],o=t._length,l=0;for(l=0;l<o;l+=1)s[0]+=t.v[l][0],s[1]+=t.v[l][1];s[0]/=o,s[1]/=o;var c=shapePool.newElement();c.c=t.c;var p,m,x,b,S,R;for(l=0;l<o;l+=1)p=t.v[l][0]+(s[0]-t.v[l][0])*r,m=t.v[l][1]+(s[1]-t.v[l][1])*r,x=t.o[l][0]+(s[0]-t.o[l][0])*-r,b=t.o[l][1]+(s[1]-t.o[l][1])*-r,S=t.i[l][0]+(s[0]-t.i[l][0])*-r,R=t.i[l][1]+(s[1]-t.i[l][1])*-r,c.setTripleAt(p,m,x,b,S,R,l);return c},PuckerAndBloatModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amount.v;if(c!==0){var p,m;for(r=0;r<s;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(m.releaseShapes(),p.shape._mdf=!0,n=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)m.addShape(this.processPath(n[o],c));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var t=[0,0];function n(m){var x=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||x,this.a&&m.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&m.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&m.skewFromAxis(-this.sk.v,this.sa.v),this.r?m.rotate(-this.r.v):m.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?m.translate(this.px.v,this.py.v,-this.pz.v):m.translate(this.px.v,this.py.v,0):m.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(m){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||m){var x;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var b,S;if(x=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(b=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/x,0),S=this.p.getValueAtTime(this.p.keyframes[0].t/x,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(b=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/x,0),S=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/x,0)):(b=this.p.pv,S=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/x,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){b=[],S=[];var R=this.px,k=this.py;R._caching.lastFrame+R.offsetTime<=R.keyframes[0].t?(b[0]=R.getValueAtTime((R.keyframes[0].t+.01)/x,0),b[1]=k.getValueAtTime((k.keyframes[0].t+.01)/x,0),S[0]=R.getValueAtTime(R.keyframes[0].t/x,0),S[1]=k.getValueAtTime(k.keyframes[0].t/x,0)):R._caching.lastFrame+R.offsetTime>=R.keyframes[R.keyframes.length-1].t?(b[0]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/x,0),b[1]=k.getValueAtTime(k.keyframes[k.keyframes.length-1].t/x,0),S[0]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/x,0),S[1]=k.getValueAtTime((k.keyframes[k.keyframes.length-1].t-.01)/x,0)):(b=[R.pv,k.pv],S[0]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/x,R.offsetTime),S[1]=k.getValueAtTime((k._caching.lastFrame+k.offsetTime-.01)/x,k.offsetTime))}else S=t,b=S;this.v.rotate(-Math.atan2(b[1]-S[1],b[0]-S[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function s(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function l(m){this._addDynamicProperty(m),this.elem.addDynamicProperty(m),this._isDirty=!0}function c(m,x,b){if(this.elem=m,this.frameId=-1,this.propType="transform",this.data=x,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(b||m),x.p&&x.p.s?(this.px=PropertyFactory.getProp(m,x.p.x,0,0,this),this.py=PropertyFactory.getProp(m,x.p.y,0,0,this),x.p.z&&(this.pz=PropertyFactory.getProp(m,x.p.z,0,0,this))):this.p=PropertyFactory.getProp(m,x.p||{k:[0,0,0]},1,0,this),x.rx){if(this.rx=PropertyFactory.getProp(m,x.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(m,x.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(m,x.rz,0,degToRads,this),x.or.k[0].ti){var S,R=x.or.k.length;for(S=0;S<R;S+=1)x.or.k[S].to=null,x.or.k[S].ti=null}this.or=PropertyFactory.getProp(m,x.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(m,x.r||{k:0},0,degToRads,this);x.sk&&(this.sk=PropertyFactory.getProp(m,x.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(m,x.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(m,x.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(m,x.s||{k:[100,100,100]},1,.01,this),x.o?this.o=PropertyFactory.getProp(m,x.o,0,.01,m):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}c.prototype={applyToMatrix:n,getValue:r,precalculateMatrix:s,autoOrient:o},extendPrototype([DynamicPropertyContainer],c),c.prototype.addDynamicProperty=l,c.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function p(m,x,b){return new c(m,x,b)}return{getTransformProperty:p}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,n.c,0,null,this),this.o=PropertyFactory.getProp(t,n.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,n.tr,this),this.so=PropertyFactory.getProp(t,n.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,n.tr.eo,0,.01,this),this.data=n,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,n,r,s,o,l){var c=l?-1:1,p=s.s.v[0]+(1-s.s.v[0])*(1-o),m=s.s.v[1]+(1-s.s.v[1])*(1-o);t.translate(s.p.v[0]*c*o,s.p.v[1]*c*o,s.p.v[2]),n.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),n.rotate(-s.r.v*c*o),n.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(l?1/p:p,l?1/m:m),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,n,r,s){for(this.elem=t,this.arr=n,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,n[r]);r>0;)r-=1,this._elements.unshift(n[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._processed=!1,t[n].ty==="gr"&&this.resetElements(t[n].it)},RepeaterModifier.prototype.cloneElements=function(t){var n=JSON.parse(JSON.stringify(t));return this.resetElements(n),n},RepeaterModifier.prototype.changeGroupRender=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)t[r]._render=n,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,n)},RepeaterModifier.prototype.processShapes=function(t){var n,r,s,o,l,c=!1;if(this._mdf||t){var p=Math.ceil(this.c.v);if(this._groups.length<p){for(;this._groups.length<p;){var m={it:this.cloneElements(this._elements),ty:"gr"};m.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,m),this._groups.splice(0,0,m),this._currentCopies+=1}this.elem.reloadShapes(),c=!0}l=0;var x;for(s=0;s<=this._groups.length-1;s+=1){if(x=l<p,this._groups[s]._render=x,this.changeGroupRender(this._groups[s].it,x),!x){var b=this.elemsData[s].it,S=b[b.length-1];S.transform.op.v!==0?(S.transform.op._mdf=!0,S.transform.op.v=0):S.transform.op._mdf=!1}l+=1}this._currentCopies=p;var R=this.o.v,k=R%1,M=R>0?Math.floor(R):Math.ceil(R),j=this.pMatrix.props,G=this.rMatrix.props,P=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Q=0;if(R>0){for(;Q<M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Q+=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,k,!1),Q+=k)}else if(R<0){for(;Q>M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Q-=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-k,!0),Q-=k)}s=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,l=this._currentCopies;for(var H,X;l;){if(n=this.elemsData[s].it,r=n[n.length-1].transform.mProps.v.props,X=r.length,n[n.length-1].transform.mProps._mdf=!0,n[n.length-1].transform.op._mdf=!0,n[n.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),Q!==0){for((s!==0&&o===1||s!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),this.matrix.transform(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15]),this.matrix.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]),H=0;H<X;H+=1)r[H]=this.matrix.props[H];this.matrix.reset()}else for(this.matrix.reset(),H=0;H<X;H+=1)r[H]=this.matrix.props[H];Q+=1,l-=1,s+=o}}else for(l=this._currentCopies,s=0,o=1;l;)n=this.elemsData[s].it,r=n[n.length-1].transform.mProps.v.props,n[n.length-1].transform.mProps._mdf=!1,n[n.length-1].transform.op._mdf=!1,l-=1,s+=o;return c},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,n.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,n){var r=shapePool.newElement();r.c=t.c;var s,o=t._length,l,c,p,m,x,b,S=0,R,k,M,j,G,P;for(s=0;s<o;s+=1)l=t.v[s],p=t.o[s],c=t.i[s],l[0]===p[0]&&l[1]===p[1]&&l[0]===c[0]&&l[1]===c[1]?(s===0||s===o-1)&&!t.c?(r.setTripleAt(l[0],l[1],p[0],p[1],c[0],c[1],S),S+=1):(s===0?m=t.v[o-1]:m=t.v[s-1],x=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2)),b=x?Math.min(x/2,n)/x:0,G=l[0]+(m[0]-l[0])*b,R=G,P=l[1]-(l[1]-m[1])*b,k=P,M=R-(R-l[0])*roundCorner,j=k-(k-l[1])*roundCorner,r.setTripleAt(R,k,M,j,G,P,S),S+=1,s===o-1?m=t.v[0]:m=t.v[s+1],x=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2)),b=x?Math.min(x/2,n)/x:0,M=l[0]+(m[0]-l[0])*b,R=M,j=l[1]+(m[1]-l[1])*b,k=j,G=R-(R-l[0])*roundCorner,P=k-(k-l[1])*roundCorner,r.setTripleAt(R,k,M,j,G,P,S),S+=1):(r.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],S),S+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.rd.v;if(c!==0){var p,m;for(r=0;r<s;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(m.releaseShapes(),p.shape._mdf=!0,n=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)m.addShape(this.processPath(n[o],c));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,n){return Math.abs(t-n)*1e5<=Math.min(Math.abs(t),Math.abs(n))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,n,r){return t*(1-r)+n*r}function lerpPoint(t,n,r){return[lerp(t[0],n[0],r),lerp(t[1],n[1],r)]}function quadRoots(t,n,r){if(t===0)return[];var s=n*n-4*t*r;if(s<0)return[];var o=-n/(2*t);if(s===0)return[o];var l=Math.sqrt(s)/(2*t);return[o-l,o+l]}function polynomialCoefficients(t,n,r,s){return[-t+3*n-3*r+s,3*t-6*n+3*r,-3*t+3*n,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,n,r,s,o){o&&pointEqual(t,n)&&(n=lerpPoint(t,s,1/3)),o&&pointEqual(r,s)&&(r=lerpPoint(t,s,2/3));var l=polynomialCoefficients(t[0],n[0],r[0],s[0]),c=polynomialCoefficients(t[1],n[1],r[1],s[1]);this.a=[l[0],c[0]],this.b=[l[1],c[1]],this.c=[l[2],c[2]],this.d=[l[3],c[3]],this.points=[t,n,r,s]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var n=this.derivative(t);return Math.atan2(n[1],n[0])},PolynomialBezier.prototype.normalAngle=function(t){var n=this.derivative(t);return Math.atan2(n[0],n[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var n=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=n*n-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var s=Math.sqrt(r);return floatZero(s)?s>0&&s<1?[n]:[]:[n-s,n+s].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var n=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),s=lerpPoint(this.points[2],this.points[3],t),o=lerpPoint(n,r,t),l=lerpPoint(r,s,t),c=lerpPoint(o,l,t);return[new PolynomialBezier(this.points[0],n,o,c,!0),new PolynomialBezier(c,l,s,this.points[3],!0)]};function extrema(t,n){var r=t.points[0][n],s=t.points[t.points.length-1][n];if(r>s){var o=s;s=r,r=o}for(var l=quadRoots(3*t.a[n],2*t.b[n],t.c[n]),c=0;c<l.length;c+=1)if(l[c]>0&&l[c]<1){var p=t.point(l[c])[n];p<r?r=p:p>s&&(s=p)}return{min:r,max:s}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,n,r){var s=t.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:t,t:(n+r)/2,t1:n,t2:r}}function splitData(t){var n=t.bez.split(.5);return[intersectData(n[0],t.t1,t.t),intersectData(n[1],t.t,t.t2)]}function boxIntersect(t,n){return Math.abs(t.cx-n.cx)*2<t.width+n.width&&Math.abs(t.cy-n.cy)*2<t.height+n.height}function intersectsImpl(t,n,r,s,o,l){if(boxIntersect(t,n)){if(r>=l||t.width<=s&&t.height<=s&&n.width<=s&&n.height<=s){o.push([t.t,n.t]);return}var c=splitData(t),p=splitData(n);intersectsImpl(c[0],p[0],r+1,s,o,l),intersectsImpl(c[0],p[1],r+1,s,o,l),intersectsImpl(c[1],p[0],r+1,s,o,l),intersectsImpl(c[1],p[1],r+1,s,o,l)}}PolynomialBezier.prototype.intersections=function(t,n,r){n===void 0&&(n=2),r===void 0&&(r=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,n,s,r),s},PolynomialBezier.shapeSegment=function(t,n){var r=(n+1)%t.length();return new PolynomialBezier(t.v[n],t.o[n],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,n){var r=(n+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[n],t.v[n],!0)};function crossProduct(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function lineIntersection(t,n,r,s){var o=[t[0],t[1],1],l=[n[0],n[1],1],c=[r[0],r[1],1],p=[s[0],s[1],1],m=crossProduct(crossProduct(o,l),crossProduct(c,p));return floatZero(m[2])?null:[m[0]/m[2],m[1]/m[2]]}function polarOffset(t,n,r){return[t[0]+Math.cos(n)*r,t[1]-Math.sin(n)*r]}function pointDistance(t,n){return Math.hypot(t[0]-n[0],t[1]-n[1])}function pointEqual(t,n){return floatEqual(t[0],n[0])&&floatEqual(t[1],n[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,n.s,0,null,this),this.frequency=PropertyFactory.getProp(t,n.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,n.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,n,r,s,o,l,c){var p=r-Math.PI/2,m=r+Math.PI/2,x=n[0]+Math.cos(r)*s*o,b=n[1]-Math.sin(r)*s*o;t.setTripleAt(x,b,x+Math.cos(p)*l,b-Math.sin(p)*l,x+Math.cos(m)*c,b-Math.sin(m)*c,t.length())}function getPerpendicularVector(t,n){var r=[n[0]-t[0],n[1]-t[1]],s=-Math.PI*.5,o=[Math.cos(s)*r[0]-Math.sin(s)*r[1],Math.sin(s)*r[0]+Math.cos(s)*r[1]];return o}function getProjectingAngle(t,n){var r=n===0?t.length()-1:n-1,s=(n+1)%t.length(),o=t.v[r],l=t.v[s],c=getPerpendicularVector(o,l);return Math.atan2(0,1)-Math.atan2(c[1],c[0])}function zigZagCorner(t,n,r,s,o,l,c){var p=getProjectingAngle(n,r),m=n.v[r%n._length],x=n.v[r===0?n._length-1:r-1],b=n.v[(r+1)%n._length],S=l===2?Math.sqrt(Math.pow(m[0]-x[0],2)+Math.pow(m[1]-x[1],2)):0,R=l===2?Math.sqrt(Math.pow(m[0]-b[0],2)+Math.pow(m[1]-b[1],2)):0;setPoint(t,n.v[r%n._length],p,c,s,R/((o+1)*2),S/((o+1)*2))}function zigZagSegment(t,n,r,s,o,l){for(var c=0;c<s;c+=1){var p=(c+1)/(s+1),m=o===2?Math.sqrt(Math.pow(n.points[3][0]-n.points[0][0],2)+Math.pow(n.points[3][1]-n.points[0][1],2)):0,x=n.normalAngle(p),b=n.point(p);setPoint(t,b,x,l,r,m/((s+1)*2),m/((s+1)*2)),l=-l}return l}ZigZagModifier.prototype.processPath=function(t,n,r,s){var o=t._length,l=shapePool.newElement();if(l.c=t.c,t.c||(o-=1),o===0)return l;var c=-1,p=PolynomialBezier.shapeSegment(t,0);zigZagCorner(l,t,0,n,r,s,c);for(var m=0;m<o;m+=1)c=zigZagSegment(l,p,n,r,s,-c),m===o-1&&!t.c?p=null:p=PolynomialBezier.shapeSegment(t,(m+1)%o),zigZagCorner(l,t,m+1,n,r,s,c);return l},ZigZagModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amplitude.v,p=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(c!==0){var x,b;for(r=0;r<s;r+=1){if(x=this.shapes[r],b=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!t))for(b.releaseShapes(),x.shape._mdf=!0,n=x.shape.paths.shapes,l=x.shape.paths._length,o=0;o<l;o+=1)b.addShape(this.processPath(n[o],c,p,m));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,n,r){var s=Math.atan2(n[0]-t[0],n[1]-t[1]);return[polarOffset(t,s,r),polarOffset(n,s,r)]}function offsetSegment(t,n){var r,s,o,l,c,p,m;m=linearOffset(t.points[0],t.points[1],n),r=m[0],s=m[1],m=linearOffset(t.points[1],t.points[2],n),o=m[0],l=m[1],m=linearOffset(t.points[2],t.points[3],n),c=m[0],p=m[1];var x=lineIntersection(r,s,o,l);x===null&&(x=s);var b=lineIntersection(c,p,o,l);return b===null&&(b=c),new PolynomialBezier(r,x,b,p)}function joinLines(t,n,r,s,o){var l=n.points[3],c=r.points[0];if(s===3||pointEqual(l,c))return l;if(s===2){var p=-n.tangentAngle(1),m=-r.tangentAngle(0)+Math.PI,x=lineIntersection(l,polarOffset(l,p+Math.PI/2,100),c,polarOffset(c,p+Math.PI/2,100)),b=x?pointDistance(x,l):pointDistance(l,c)/2,S=polarOffset(l,p,2*b*roundCorner);return t.setXYAt(S[0],S[1],"o",t.length()-1),S=polarOffset(c,m,2*b*roundCorner),t.setTripleAt(c[0],c[1],c[0],c[1],S[0],S[1],t.length()),c}var R=pointEqual(l,n.points[2])?n.points[0]:n.points[2],k=pointEqual(c,r.points[1])?r.points[3]:r.points[1],M=lineIntersection(R,l,c,k);return M&&pointDistance(M,l)<o?(t.setTripleAt(M[0],M[1],M[0],M[1],M[0],M[1],t.length()),M):l}function getIntersection(t,n){var r=t.intersections(n);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,n){var r=t.slice(),s=n.slice(),o=getIntersection(t[t.length-1],n[0]);return o&&(r[t.length-1]=t[t.length-1].split(o[0])[0],s[0]=n[0].split(o[1])[1]),t.length>1&&n.length>1&&(o=getIntersection(t[0],n[n.length-1]),o)?[[t[0].split(o[0])[0]],[n[n.length-1].split(o[1])[1]]]:[r,s]}function pruneIntersections(t){for(var n,r=1;r<t.length;r+=1)n=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=n[0],t[r]=n[1];return t.length>1&&(n=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=n[0],t[0]=n[1]),t}function offsetSegmentSplit(t,n){var r=t.inflectionPoints(),s,o,l,c;if(r.length===0)return[offsetSegment(t,n)];if(r.length===1||floatEqual(r[1],1))return l=t.split(r[0]),s=l[0],o=l[1],[offsetSegment(s,n),offsetSegment(o,n)];l=t.split(r[0]),s=l[0];var p=(r[1]-r[0])/(1-r[0]);return l=l[1].split(p),c=l[0],o=l[1],[offsetSegment(s,n),offsetSegment(c,n),offsetSegment(o,n)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,n.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,n.ml,0,null,this),this.lineJoin=n.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,n,r,s){var o=shapePool.newElement();o.c=t.c;var l=t.length();t.c||(l-=1);var c,p,m,x=[];for(c=0;c<l;c+=1)m=PolynomialBezier.shapeSegment(t,c),x.push(offsetSegmentSplit(m,n));if(!t.c)for(c=l-1;c>=0;c-=1)m=PolynomialBezier.shapeSegmentInverted(t,c),x.push(offsetSegmentSplit(m,n));x=pruneIntersections(x);var b=null,S=null;for(c=0;c<x.length;c+=1){var R=x[c];for(S&&(b=joinLines(o,S,R[0],r,s)),S=R[R.length-1],p=0;p<R.length;p+=1)m=R[p],b&&pointEqual(m.points[0],b)?o.setXYAt(m.points[1][0],m.points[1][1],"o",o.length()-1):o.setTripleAt(m.points[0][0],m.points[0][1],m.points[1][0],m.points[1][1],m.points[0][0],m.points[0][1],o.length()),o.setTripleAt(m.points[3][0],m.points[3][1],m.points[3][0],m.points[3][1],m.points[2][0],m.points[2][1],o.length()),b=m.points[3]}return x.length&&joinLines(o,S,x[0][0],r,s),o},OffsetPathModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amount.v,p=this.miterLimit.v,m=this.lineJoin;if(c!==0){var x,b;for(r=0;r<s;r+=1){if(x=this.shapes[r],b=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!t))for(b.releaseShapes(),x.shape._mdf=!0,n=x.shape.paths.shapes,l=x.shape.paths._length,o=0;o<l;o+=1)b.addShape(this.processPath(n[o],c,m,p));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var n=t.fStyle?t.fStyle.split(" "):[],r="normal",s="normal",o=n.length,l,c=0;c<o;c+=1)switch(l=n[c].toLowerCase(),l){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:s,weight:t.fWeight||r}}var FontManager=(function(){var t=5e3,n={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=127988,o=917631,l=917601,c=917626,p=65039,m=8205,x=127462,b=127487,S=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function R(ae){var ue=ae.split(","),te,se=ue.length,Ce=[];for(te=0;te<se;te+=1)ue[te]!=="sans-serif"&&ue[te]!=="monospace"&&Ce.push(ue[te]);return Ce.join(",")}function k(ae,ue){var te=createTag("span");te.setAttribute("aria-hidden",!0),te.style.fontFamily=ue;var se=createTag("span");se.innerText="giItT1WQy@!-/#",te.style.position="absolute",te.style.left="-10000px",te.style.top="-10000px",te.style.fontSize="300px",te.style.fontVariant="normal",te.style.fontStyle="normal",te.style.fontWeight="normal",te.style.letterSpacing="0",te.appendChild(se),document.body.appendChild(te);var Ce=se.offsetWidth;return se.style.fontFamily=R(ae)+", "+ue,{node:se,w:Ce,parent:te}}function M(){var ae,ue=this.fonts.length,te,se,Ce=ue;for(ae=0;ae<ue;ae+=1)this.fonts[ae].loaded?Ce-=1:this.fonts[ae].fOrigin==="n"||this.fonts[ae].origin===0?this.fonts[ae].loaded=!0:(te=this.fonts[ae].monoCase.node,se=this.fonts[ae].monoCase.w,te.offsetWidth!==se?(Ce-=1,this.fonts[ae].loaded=!0):(te=this.fonts[ae].sansCase.node,se=this.fonts[ae].sansCase.w,te.offsetWidth!==se&&(Ce-=1,this.fonts[ae].loaded=!0)),this.fonts[ae].loaded&&(this.fonts[ae].sansCase.parent.parentNode.removeChild(this.fonts[ae].sansCase.parent),this.fonts[ae].monoCase.parent.parentNode.removeChild(this.fonts[ae].monoCase.parent)));Ce!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function j(ae,ue){var te=document.body&&ue?"svg":"canvas",se,Ce=getFontProperties(ae);if(te==="svg"){var ce=createNS("text");ce.style.fontSize="100px",ce.setAttribute("font-family",ae.fFamily),ce.setAttribute("font-style",Ce.style),ce.setAttribute("font-weight",Ce.weight),ce.textContent="1",ae.fClass?(ce.style.fontFamily="inherit",ce.setAttribute("class",ae.fClass)):ce.style.fontFamily=ae.fFamily,ue.appendChild(ce),se=ce}else{var ye=new OffscreenCanvas(500,500).getContext("2d");ye.font=Ce.style+" "+Ce.weight+" 100px "+ae.fFamily,se=ye}function Se(_e){return te==="svg"?(se.textContent=_e,se.getComputedTextLength()):se.measureText(_e).width}return{measureText:Se}}function G(ae,ue){if(!ae){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ae.list;return}if(!document.body){this.isLoaded=!0,ae.list.forEach(function(ot){ot.helper=j(ot),ot.cache={}}),this.fonts=ae.list;return}var te=ae.list,se,Ce=te.length,ce=Ce;for(se=0;se<Ce;se+=1){var ye=!0,Se,_e;if(te[se].loaded=!1,te[se].monoCase=k(te[se].fFamily,"monospace"),te[se].sansCase=k(te[se].fFamily,"sans-serif"),!te[se].fPath)te[se].loaded=!0,ce-=1;else if(te[se].fOrigin==="p"||te[se].origin===3){if(Se=document.querySelectorAll('style[f-forigin="p"][f-family="'+te[se].fFamily+'"], style[f-origin="3"][f-family="'+te[se].fFamily+'"]'),Se.length>0&&(ye=!1),ye){var je=createTag("style");je.setAttribute("f-forigin",te[se].fOrigin),je.setAttribute("f-origin",te[se].origin),je.setAttribute("f-family",te[se].fFamily),je.type="text/css",je.innerText="@font-face {font-family: "+te[se].fFamily+"; font-style: normal; src: url('"+te[se].fPath+"');}",ue.appendChild(je)}}else if(te[se].fOrigin==="g"||te[se].origin===1){for(Se=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),_e=0;_e<Se.length;_e+=1)Se[_e].href.indexOf(te[se].fPath)!==-1&&(ye=!1);if(ye){var Me=createTag("link");Me.setAttribute("f-forigin",te[se].fOrigin),Me.setAttribute("f-origin",te[se].origin),Me.type="text/css",Me.rel="stylesheet",Me.href=te[se].fPath,document.body.appendChild(Me)}}else if(te[se].fOrigin==="t"||te[se].origin===2){for(Se=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),_e=0;_e<Se.length;_e+=1)te[se].fPath===Se[_e].src&&(ye=!1);if(ye){var Ze=createTag("link");Ze.setAttribute("f-forigin",te[se].fOrigin),Ze.setAttribute("f-origin",te[se].origin),Ze.setAttribute("rel","stylesheet"),Ze.setAttribute("href",te[se].fPath),ue.appendChild(Ze)}}te[se].helper=j(te[se],ue),te[se].cache={},this.fonts.push(te[se])}ce===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function P(ae){if(ae){this.chars||(this.chars=[]);var ue,te=ae.length,se,Ce=this.chars.length,ce;for(ue=0;ue<te;ue+=1){for(se=0,ce=!1;se<Ce;)this.chars[se].style===ae[ue].style&&this.chars[se].fFamily===ae[ue].fFamily&&this.chars[se].ch===ae[ue].ch&&(ce=!0),se+=1;ce||(this.chars.push(ae[ue]),Ce+=1)}}}function Q(ae,ue,te){for(var se=0,Ce=this.chars.length;se<Ce;){if(this.chars[se].ch===ae&&this.chars[se].style===ue&&this.chars[se].fFamily===te)return this.chars[se];se+=1}return(typeof ae=="string"&&ae.charCodeAt(0)!==13||!ae)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ae,ue,te)),n}function H(ae,ue,te){var se=this.getFontByName(ue),Ce=ae;if(!se.cache[Ce]){var ce=se.helper;if(ae===" "){var ye=ce.measureText("|"+ae+"|"),Se=ce.measureText("||");se.cache[Ce]=(ye-Se)/100}else se.cache[Ce]=ce.measureText(ae)/100}return se.cache[Ce]*te}function X(ae){for(var ue=0,te=this.fonts.length;ue<te;){if(this.fonts[ue].fName===ae)return this.fonts[ue];ue+=1}return this.fonts[0]}function ee(ae){var ue=0,te=ae.charCodeAt(0);if(te>=55296&&te<=56319){var se=ae.charCodeAt(1);se>=56320&&se<=57343&&(ue=(te-55296)*1024+se-56320+65536)}return ue}function ne(ae,ue){var te=ae.toString(16)+ue.toString(16);return S.indexOf(te)!==-1}function Y(ae){return ae===m}function re(ae){return ae===p}function oe(ae){var ue=ee(ae);return ue>=x&&ue<=b}function xe(ae){return oe(ae.substr(0,2))&&oe(ae.substr(2,2))}function ve(ae){return r.indexOf(ae)!==-1}function me(ae,ue){var te=ee(ae.substr(ue,2));if(te!==s)return!1;var se=0;for(ue+=2;se<5;){if(te=ee(ae.substr(ue,2)),te<l||te>c)return!1;se+=1,ue+=2}return ee(ae.substr(ue,2))===o}function we(){this.isLoaded=!0}var Ee=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ee.isModifier=ne,Ee.isZeroWidthJoiner=Y,Ee.isFlagEmoji=xe,Ee.isRegionalCode=oe,Ee.isCombinedCharacter=ve,Ee.isRegionalFlag=me,Ee.isVariationSelector=re,Ee.BLACK_FLAG_CODE_POINT=s;var he={addChars:P,addFonts:G,getCharData:Q,getFontByName:X,measureText:H,checkLoadedFonts:M,setIsLoaded:we};return Ee.prototype=he,Ee})();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(n){this.renderableComponents.indexOf(n)===-1&&this.renderableComponents.push(n)},removeRenderableComponent:function(n){this.renderableComponents.indexOf(n)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(n),1)},prepareRenderableFrame:function(n){this.checkLayerLimits(n)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(n){this.data.ip-this.data.st<=n&&this.data.op-this.data.st>n?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var n,r=this.renderableComponents.length;for(n=0;n<r;n+=1)this.renderableComponents[n].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(n){return t[n]||""}})();function SliderEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function AngleEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function ColorEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,1,0,r)}function PointEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,1,0,r)}function LayerIndexEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function MaskIndexEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function CheckboxEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,n){var r=t.ef||[];this.effectElements=[];var s,o=r.length,l;for(s=0;s<o;s+=1)l=new GroupEffect(r[s],n),this.effectElements.push(l)}function GroupEffect(t,n){this.init(t,n)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,n){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(n);var r,s=this.data.ef.length,o,l=this.data.ef;for(r=0;r<s;r+=1){switch(o=null,l[r].ty){case 0:o=new SliderEffect(l[r],n,this);break;case 1:o=new AngleEffect(l[r],n,this);break;case 2:o=new ColorEffect(l[r],n,this);break;case 3:o=new PointEffect(l[r],n,this);break;case 4:case 7:o=new CheckboxEffect(l[r],n,this);break;case 10:o=new LayerIndexEffect(l[r],n,this);break;case 11:o=new MaskIndexEffect(l[r],n,this);break;case 5:o=new EffectsManager(l[r],n);break;default:o=new NoValueEffect(l[r]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var n=0,r=this.data.masksProperties.length;n<r;){if(this.data.masksProperties[n].mode!=="n"&&this.data.masksProperties[n].cl!==!1)return!0;n+=1}return!1},initExpressions:function(){var n=getExpressionInterfaces();if(n){var r=n("layer"),s=n("effects"),o=n("shape"),l=n("text"),c=n("comp");this.layerInterface=r(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var p=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(p),this.data.ty===0||this.data.xt?this.compInterface=c(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var n=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=n},initBaseData:function(n,r,s){this.globalData=r,this.comp=s,this.data=n,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(n,r){var s,o=this.dynamicProperties.length;for(s=0;s<o;s+=1)(r||this._isParent&&this.dynamicProperties[s].propType==="transform")&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(n){this.dynamicProperties.indexOf(n)===-1&&this.dynamicProperties.push(n)}};function FootageElement(t,n,r){this.initFrame(),this.initRenderable(),this.assetData=n.getAssetData(t.refId),this.footageData=n.imageLoader.getAsset(this.assetData),this.initBaseData(t,n,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var n=t("footage");this.layerInterface=n(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,n,r){this.initFrame(),this.initRenderable(),this.assetData=n.getAssetData(t.refId),this.initBaseData(t,n,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var n=this.tm.v;this._currentTime=n}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var n,r=this.layers.length,s;for(this.completeLayers=!0,n=r-1;n>=0;n-=1)this.elements[n]||(s=this.layers[n],s.ip-s.st<=t-this.layers[n].st&&s.op-s.st>t-this.layers[n].st&&this.buildItem(n)),this.completeLayers=this.elements[n]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var n,r=t.length,s,o=this.layers.length;for(n=0;n<r;n+=1)for(s=0;s<o;){if(this.layers[s].id===t[n].id){this.layers[s]=t[n];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,n,r){for(var s=this.elements,o=this.layers,l=0,c=o.length;l<c;)o[l].ind==n&&(!s[l]||s[l]===!0?(this.buildItem(l),this.addPendingElement(t)):(r.push(s[l]),s[l].setAsParent(),o[l].parent!==void 0?this.buildElementParenting(t,o[l].parent,r):t.setHierarchy(r))),l+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var n,r=t.length;for(n=0;n<r;n+=1)if(t[n].xt){var s=this.createComp(t[n]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(t){var n,r=this.elements.length;for(n=0;n<r;n+=1)if(this.elements[n].data.ind===t)return this.elements[n];return null},BaseRenderer.prototype.getElementByPath=function(t){var n=t.shift(),r;if(typeof n=="number")r=this.elements[n];else{var s,o=this.elements.length;for(s=0;s<o;s+=1)if(this.elements[s].data.nm===n){r=this.elements[s];break}}return t.length===0?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,n){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,n),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var n=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:n,localMat:n,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var n,r=this.finalTransform.mat,s=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<o;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(n=this.finalTransform.mProp.v.props,r.cloneFromProps(n),s=0;s<o;s+=1)r.multiply(this.hierarchy[s].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var n=0,r=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;n<r;)this.localTransforms[n]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[n]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),n+=1;if(this.finalTransform._localMatMdf){var s=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(s),n=1;n<r;n+=1){var o=this.localTransforms[n].matrix;s.multiply(o)}s.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(n=0;n<r;n+=1)l*=this.localTransforms[n].opacity*.01;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var n=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(n.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var r=0,s=n.length;for(r=0;r<s;r+=1)this.localTransforms.push(n[r])}}},globalToLocal:function(n){var r=[];r.push(this.finalTransform);for(var s=!0,o=this.comp;s;)o.finalTransform?(o.data.hasMask&&r.splice(0,0,o.finalTransform),o=o.comp):s=!1;var l,c=r.length,p;for(l=0;l<c;l+=1)p=r[l].mat.applyToPointArray(0,0,0),n=[n[0]-p[0],n[1]-p[1],0];return n},mHelper:new Matrix};function MaskElement(t,n,r){this.data=t,this.element=n,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s=this.globalData.defs,o,l=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(l),this.solidPath="";var c,p=this.masksProperties,m=0,x=[],b,S,R=createElementID(),k,M,j,G,P="clipPath",Q="clip-path";for(o=0;o<l;o+=1)if((p[o].mode!=="a"&&p[o].mode!=="n"||p[o].inv||p[o].o.k!==100||p[o].o.x)&&(P="mask",Q="mask"),(p[o].mode==="s"||p[o].mode==="i")&&m===0?(k=createNS("rect"),k.setAttribute("fill","#ffffff"),k.setAttribute("width",this.element.comp.data.w||0),k.setAttribute("height",this.element.comp.data.h||0),x.push(k)):k=null,c=createNS("path"),p[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,p[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[o],3),elem:c,lastPath:""},s.appendChild(c);else{m+=1,c.setAttribute("fill",p[o].mode==="s"?"#000000":"#ffffff"),c.setAttribute("clip-rule","nonzero");var H;if(p[o].x.k!==0?(P="mask",Q="mask",G=PropertyFactory.getProp(this.element,p[o].x,0,null,this.element),H=createElementID(),M=createNS("filter"),M.setAttribute("id",H),j=createNS("feMorphology"),j.setAttribute("operator","erode"),j.setAttribute("in","SourceGraphic"),j.setAttribute("radius","0"),M.appendChild(j),s.appendChild(M),c.setAttribute("stroke",p[o].mode==="s"?"#000000":"#ffffff")):(j=null,G=null),this.storedData[o]={elem:c,x:G,expan:j,lastPath:"",lastOperator:"",filterId:H,lastRadius:0},p[o].mode==="i"){S=x.length;var X=createNS("g");for(b=0;b<S;b+=1)X.appendChild(x[b]);var ee=createNS("mask");ee.setAttribute("mask-type","alpha"),ee.setAttribute("id",R+"_"+m),ee.appendChild(c),s.appendChild(ee),X.setAttribute("mask","url("+getLocationHref()+"#"+R+"_"+m+")"),x.length=0,x.push(X)}else x.push(c);p[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:c,lastPath:"",op:PropertyFactory.getProp(this.element,p[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[o],3),invRect:k},this.viewData[o].prop.k||this.drawPath(p[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(P),l=x.length,o=0;o<l;o+=1)this.maskElement.appendChild(x[o]);m>0&&(this.maskElement.setAttribute("id",R),this.element.maskedElement.setAttribute(Q,"url("+getLocationHref()+"#"+R+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var n=this.element.finalTransform.mat,r,s=this.masksProperties.length;for(r=0;r<s;r+=1)if((this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))){var o=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),o.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,n,r){var s=" M"+n.v[0][0]+","+n.v[0][1],o,l;for(l=n._length,o=1;o<l;o+=1)s+=" C"+n.o[o-1][0]+","+n.o[o-1][1]+" "+n.i[o][0]+","+n.i[o][1]+" "+n.v[o][0]+","+n.v[o][1];if(n.c&&l>1&&(s+=" C"+n.o[o-1][0]+","+n.o[o-1][1]+" "+n.i[0][0]+","+n.i[0][1]+" "+n.v[0][0]+","+n.v[0][1]),r.lastPath!==s){var c="";r.elem&&(n.c&&(c=t.inv?this.solidPath+s:s),r.elem.setAttribute("d",c)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var t={};t.createFilter=n,t.createAlphaToLuminanceFilter=r;function n(s,o){var l=createNS("filter");return l.setAttribute("id",s),o!==!0&&(l.setAttribute("filterUnits","objectBoundingBox"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%")),l}function r(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}return t})(),featureSupport=(function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var n,r="SourceGraphic",s=t.data.ef?t.data.ef.length:0,o=createElementID(),l=filtersFactory.createFilter(o,!0),c=0;this.filters=[];var p;for(n=0;n<s;n+=1){p=null;var m=t.data.ef[n].ty;if(registeredEffects$1[m]){var x=registeredEffects$1[m].effect;p=new x(l,t.effectsManager.effectElements[n],t,idPrefix+c,r),r=idPrefix+c,registeredEffects$1[m].countsAsEffect&&(c+=1)}p&&this.filters.push(p)}c&&(t.globalData.defs.appendChild(l),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var n,r=this.filters.length;for(n=0;n<r;n+=1)this.filters[n].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var n,r=this.filters.length,s=[];for(n=0;n<r;n+=1)this.filters[n].type===t&&s.push(this.filters[n]);return s};function registerEffect$1(t,n,r){registeredEffects$1[t]={effect:n,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var n=null;if(this.data.td){this.matteMasks={};var r=createNS("g");r.setAttribute("id",this.layerId),r.appendChild(this.layerElement),n=r,this.globalData.defs.appendChild(r)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var s=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(s.setAttribute("id",l),s.appendChild(o),this.globalData.defs.appendChild(s),this.checkMasks()){var c=createNS("g");c.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),c.appendChild(this.layerElement),this.transformedElement=c,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(n){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[n]){var r=this.layerId+"_"+n,s,o,l,c;if(n===1||n===3){var p=createNS("mask");p.setAttribute("id",r),p.setAttribute("mask-type",n===3?"luminance":"alpha"),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),p.appendChild(l),this.globalData.defs.appendChild(p),!featureSupport.maskType&&n===1&&(p.setAttribute("mask-type","luminance"),s=createElementID(),o=filtersFactory.createFilter(s),this.globalData.defs.appendChild(o),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),c.appendChild(l),p.appendChild(c),c.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(n===2){var m=createNS("mask");m.setAttribute("id",r),m.setAttribute("mask-type","alpha");var x=createNS("g");m.appendChild(x),s=createElementID(),o=filtersFactory.createFilter(s);var b=createNS("feComponentTransfer");b.setAttribute("in","SourceGraphic"),o.appendChild(b);var S=createNS("feFuncA");S.setAttribute("type","table"),S.setAttribute("tableValues","1.0 0.0"),b.appendChild(S),this.globalData.defs.appendChild(o);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),x.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),x.appendChild(R),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),x.appendChild(l),featureSupport.maskType||(m.setAttribute("mask-type","luminance"),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),x.appendChild(R),c.appendChild(this.layerElement),x.appendChild(c)),this.globalData.defs.appendChild(m)}this.matteMasks[n]=r}return this.matteMasks[n]},setMatte:function(n){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+n+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(n){this.hierarchy=n},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(r,s,o){this.initFrame(),this.initBaseData(r,s,o),this.initTransform(r,s,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=n.slotManager.getProp(this.assetData)),this.initElement(t,n,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,n){this.elem=t,this.pos=n}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(n){var r,s=this.shapeModifiers.length;for(r=0;r<s;r+=1)this.shapeModifiers[r].addShape(n)},isShapeInAnimatedModifiers:function(n){for(var r=0,s=this.shapeModifiers.length;r<s;)if(this.shapeModifiers[r].isAnimatedWithShape(n))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var n,r=this.shapes.length;for(n=0;n<r;n+=1)this.shapes[n].sh.reset();r=this.shapeModifiers.length;var s;for(n=r-1;n>=0&&(s=this.shapeModifiers[n].processShapes(this._isFirstFrame),!s);n-=1);}},searchProcessedElement:function(n){for(var r=this.processedElements,s=0,o=r.length;s<o;){if(r[s].elem===n)return r[s].pos;s+=1}return 0},addProcessedElement:function(n,r){for(var s=this.processedElements,o=s.length;o;)if(o-=1,s[o].elem===n){s[o].pos=r;return}s.push(new ProcessedElement(n,r))},prepareFrame:function(n){this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,n,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=n,this._isAnimated=!!r.k;for(var s=0,o=t.length;s<o;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,n){this.data=t,this.type=t.ty,this.d="",this.lvl=n,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,n,r,s){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(n.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",n.length?n.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var o,l=n.length||0,c;for(o=0;o<l;o+=1)c=PropertyFactory.getProp(t,n[o].v,0,0,this),this.k=c.k||this.k,this.dataProps[o]={n:n[o].n,p:c};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var n=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),n=0;n<r;n+=1)this.dataProps[n].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[n].p.v:this.dashArray[n]=this.dataProps[n].p.v:this.dashoffset[0]=this.dataProps[n].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.w=PropertyFactory.getProp(t,n.w,0,null,this),this.d=new DashProperty(t,n.d||{},"svg",this),this.c=PropertyFactory.getProp(t,n.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.c=PropertyFactory.getProp(t,n.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,n,r){this.data=n,this.c=createTypedArray("uint8c",n.p*4);var s=n.k.k[0].s?n.k.k[0].s.length-n.p*4:n.k.k.length-n.p*4;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,n.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,n){for(var r=0,s=this.o.length/2,o;r<s;){if(o=Math.abs(t[r*4]-t[n*4+r*2]),o>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,n=this.data.k.k.length;t<n;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var n,r=this.data.p*4,s,o;for(n=0;n<r;n+=1)s=n%4===0?100:255,o=Math.round(this.prop.v[n]*s),this.c[n]!==o&&(this.c[n]=o,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,n=this.data.p*4;n<r;n+=1)s=n%2===0?100:1,o=n%2===0?Math.round(this.prop.v[n]*100):this.prop.v[n],this.o[n-this.data.p*4]!==o&&(this.o[n-this.data.p*4]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,n,r)}SVGGradientFillStyleData.prototype.initGradientData=function(t,n,r){this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.s=PropertyFactory.getProp(t,n.s,1,null,this),this.e=PropertyFactory.getProp(t,n.e,1,null,this),this.h=PropertyFactory.getProp(t,n.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,n.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,n.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,n),this.setGradientOpacity(n,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,n){var r=createElementID(),s=createNS(n.t===1?"linearGradient":"radialGradient");s.setAttribute("id",r),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var o=[],l,c,p;for(p=n.g.p*4,c=0;c<p;c+=4)l=createNS("stop"),s.appendChild(l),o.push(l);t.setAttribute(n.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=s,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,n){if(this.g._hasOpacity&&!this.g._collapsable){var r,s,o,l=createNS("mask"),c=createNS("path");l.appendChild(c);var p=createElementID(),m=createElementID();l.setAttribute("id",m);var x=createNS(t.t===1?"linearGradient":"radialGradient");x.setAttribute("id",p),x.setAttribute("spreadMethod","pad"),x.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var b=this.stops;for(s=t.g.p*4;s<o;s+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),x.appendChild(r),b.push(r);c.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+p+")"),t.ty==="gs"&&(c.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),c.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&c.setAttribute("stroke-miterlimit",t.ml)),this.of=x,this.ms=l,this.ost=b,this.maskId=m,n.msElem=c}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,n.w,0,null,this),this.d=new DashProperty(t,n.d||{},"svg",this),this.initGradientData(t,n,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,n,r){this.transform={mProps:t,op:n,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(n,r,s,o){if(r===0)return"";var l=n.o,c=n.i,p=n.v,m,x=" M"+o.applyToPointStringified(p[0][0],p[0][1]);for(m=1;m<r;m+=1)x+=" C"+o.applyToPointStringified(l[m-1][0],l[m-1][1])+" "+o.applyToPointStringified(c[m][0],c[m][1])+" "+o.applyToPointStringified(p[m][0],p[m][1]);return s&&r&&(x+=" C"+o.applyToPointStringified(l[m-1][0],l[m-1][1])+" "+o.applyToPointStringified(c[0][0],c[0][1])+" "+o.applyToPointStringified(p[0][0],p[0][1]),x+="z"),x},SVGElementsRenderer=(function(){var t=new Matrix,n=new Matrix,r={createRenderFunction:s};function s(S){switch(S.ty){case"fl":return p;case"gf":return x;case"gs":return m;case"st":return b;case"sh":case"el":case"rc":case"sr":return c;case"tr":return o;case"no":return l;default:return null}}function o(S,R,k){(k||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(k||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function l(){}function c(S,R,k){var M,j,G,P,Q,H,X=R.styles.length,ee=R.lvl,ne,Y,re,oe;for(H=0;H<X;H+=1){if(P=R.sh._mdf||k,R.styles[H].lvl<ee){for(Y=n.reset(),re=ee-R.styles[H].lvl,oe=R.transformers.length-1;!P&&re>0;)P=R.transformers[oe].mProps._mdf||P,re-=1,oe-=1;if(P)for(re=ee-R.styles[H].lvl,oe=R.transformers.length-1;re>0;)Y.multiply(R.transformers[oe].mProps.v),re-=1,oe-=1}else Y=t;if(ne=R.sh.paths,j=ne._length,P){for(G="",M=0;M<j;M+=1)Q=ne.shapes[M],Q&&Q._length&&(G+=buildShapeString(Q,Q._length,Q.c,Y));R.caches[H]=G}else G=R.caches[H];R.styles[H].d+=S.hd===!0?"":G,R.styles[H]._mdf=P||R.styles[H]._mdf}}function p(S,R,k){var M=R.style;(R.c._mdf||k)&&M.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||k)&&M.pElem.setAttribute("fill-opacity",R.o.v)}function m(S,R,k){x(S,R,k),b(S,R,k)}function x(S,R,k){var M=R.gf,j=R.g._hasOpacity,G=R.s.v,P=R.e.v;if(R.o._mdf||k){var Q=S.ty==="gf"?"fill-opacity":"stroke-opacity";R.style.pElem.setAttribute(Q,R.o.v)}if(R.s._mdf||k){var H=S.t===1?"x1":"cx",X=H==="x1"?"y1":"cy";M.setAttribute(H,G[0]),M.setAttribute(X,G[1]),j&&!R.g._collapsable&&(R.of.setAttribute(H,G[0]),R.of.setAttribute(X,G[1]))}var ee,ne,Y,re;if(R.g._cmdf||k){ee=R.cst;var oe=R.g.c;for(Y=ee.length,ne=0;ne<Y;ne+=1)re=ee[ne],re.setAttribute("offset",oe[ne*4]+"%"),re.setAttribute("stop-color","rgb("+oe[ne*4+1]+","+oe[ne*4+2]+","+oe[ne*4+3]+")")}if(j&&(R.g._omdf||k)){var xe=R.g.o;for(R.g._collapsable?ee=R.cst:ee=R.ost,Y=ee.length,ne=0;ne<Y;ne+=1)re=ee[ne],R.g._collapsable||re.setAttribute("offset",xe[ne*2]+"%"),re.setAttribute("stop-opacity",xe[ne*2+1])}if(S.t===1)(R.e._mdf||k)&&(M.setAttribute("x2",P[0]),M.setAttribute("y2",P[1]),j&&!R.g._collapsable&&(R.of.setAttribute("x2",P[0]),R.of.setAttribute("y2",P[1])));else{var ve;if((R.s._mdf||R.e._mdf||k)&&(ve=Math.sqrt(Math.pow(G[0]-P[0],2)+Math.pow(G[1]-P[1],2)),M.setAttribute("r",ve),j&&!R.g._collapsable&&R.of.setAttribute("r",ve)),R.s._mdf||R.e._mdf||R.h._mdf||R.a._mdf||k){ve||(ve=Math.sqrt(Math.pow(G[0]-P[0],2)+Math.pow(G[1]-P[1],2)));var me=Math.atan2(P[1]-G[1],P[0]-G[0]),we=R.h.v;we>=1?we=.99:we<=-1&&(we=-.99);var Ee=ve*we,he=Math.cos(me+R.a.v)*Ee+G[0],ae=Math.sin(me+R.a.v)*Ee+G[1];M.setAttribute("fx",he),M.setAttribute("fy",ae),j&&!R.g._collapsable&&(R.of.setAttribute("fx",he),R.of.setAttribute("fy",ae))}}}function b(S,R,k){var M=R.style,j=R.d;j&&(j._mdf||k)&&j.dashStr&&(M.pElem.setAttribute("stroke-dasharray",j.dashStr),M.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),R.c&&(R.c._mdf||k)&&M.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||k)&&M.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||k)&&(M.pElem.setAttribute("stroke-width",R.w.v),M.msElem&&M.msElem.setAttribute("stroke-width",R.w.v))}return r})();function SVGShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,n,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,n=this.shapes.length,r,s,o=this.stylesList.length,l,c=[],p=!1;for(s=0;s<o;s+=1){for(l=this.stylesList[s],p=!1,c.length=0,t=0;t<n;t+=1)r=this.shapes[t],r.styles.indexOf(l)!==-1&&(c.push(r),p=r._isAnimated||p);c.length>1&&p&&this.setShapesAsAnimated(c)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,n){var r,s=new SVGStyleData(t,n),o=s.pElem;if(t.ty==="st")r=new SVGStrokeStyleData(this,t,s);else if(t.ty==="fl")r=new SVGFillStyleData(this,t,s);else if(t.ty==="gf"||t.ty==="gs"){var l=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new l(this,t,s),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else t.ty==="no"&&(r=new SVGNoStyleData(this,t,s));return(t.ty==="st"||t.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),o.setAttribute("fill-opacity","0"),t.lj===1&&o.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&o.setAttribute("fill-rule","evenodd"),t.ln&&o.setAttribute("id",t.ln),t.cl&&o.setAttribute("class",t.cl),t.bm&&(o.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var n=new ShapeGroupData;return t.ln&&n.gr.setAttribute("id",t.ln),t.cl&&n.gr.setAttribute("class",t.cl),t.bm&&(n.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),n},SVGShapeElement.prototype.createTransformElement=function(t,n){var r=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(r,r.o,n);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,n,r){var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7);var o=ShapePropertyFactory.getShapeProp(this,t,s,this),l=new SVGShapeData(n,r,o);return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,n){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===n)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:n,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var n=t.styles,r,s=this.stylesList.length;for(r=0;r<s;r+=1)n.indexOf(this.stylesList[r])===-1&&!this.stylesList[r].closed&&n.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,n=this.itemsData.length;for(t=0;t<n;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),n=this.dynamicProperties.length,t=0;t<n;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,n,r,s,o,l,c){var p=[].concat(l),m,x=t.length-1,b,S,R=[],k=[],M,j,G;for(m=x;m>=0;m-=1){if(G=this.searchProcessedElement(t[m]),G?n[m]=r[G-1]:t[m]._render=c,t[m].ty==="fl"||t[m].ty==="st"||t[m].ty==="gf"||t[m].ty==="gs"||t[m].ty==="no")G?n[m].style.closed=t[m].hd:n[m]=this.createStyleElement(t[m],o),t[m]._render&&n[m].style.pElem.parentNode!==s&&s.appendChild(n[m].style.pElem),R.push(n[m].style);else if(t[m].ty==="gr"){if(!G)n[m]=this.createGroupElement(t[m]);else for(S=n[m].it.length,b=0;b<S;b+=1)n[m].prevViewData[b]=n[m].it[b];this.searchShapes(t[m].it,n[m].it,n[m].prevViewData,n[m].gr,o+1,p,c),t[m]._render&&n[m].gr.parentNode!==s&&s.appendChild(n[m].gr)}else t[m].ty==="tr"?(G||(n[m]=this.createTransformElement(t[m],s)),M=n[m].transform,p.push(M)):t[m].ty==="sh"||t[m].ty==="rc"||t[m].ty==="el"||t[m].ty==="sr"?(G||(n[m]=this.createShapeElement(t[m],p,o)),this.setElementStyles(n[m])):t[m].ty==="tm"||t[m].ty==="rd"||t[m].ty==="ms"||t[m].ty==="pb"||t[m].ty==="zz"||t[m].ty==="op"?(G?(j=n[m],j.closed=!1):(j=ShapeModifiers.getModifier(t[m].ty),j.init(this,t[m]),n[m]=j,this.shapeModifiers.push(j)),k.push(j)):t[m].ty==="rp"&&(G?(j=n[m],j.closed=!0):(j=ShapeModifiers.getModifier(t[m].ty),n[m]=j,j.init(this,t,m,n),this.shapeModifiers.push(j),c=!1),k.push(j));this.addProcessedElement(t[m],m+1)}for(x=R.length,m=0;m<x;m+=1)R[m].closed=!0;for(x=k.length,m=0;m<x;m+=1)k[m].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<n;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,n=this.animatedContents.length,r;for(t=0;t<n;t+=1)r=this.animatedContents[t],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,n,r,s,o,l){this.o=t,this.sw=n,this.sc=r,this.fc=s,this.m=o,this.p=l,this._mdf={o:!0,sw:!!n,sc:!!r,fc:!!s,m:!0,p:!0}}LetterProps.prototype.update=function(t,n,r,s,o,l){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var c=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,c=!0),this.sw!==n&&(this.sw=n,this._mdf.sw=!0,c=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,c=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,c=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,c=!0),l.length&&(this.p[0]!==l[0]||this.p[1]!==l[1]||this.p[4]!==l[4]||this.p[5]!==l[5]||this.p[12]!==l[12]||this.p[13]!==l[13])&&(this.p=l,this._mdf.p=!0,c=!0),c};function TextProperty(t,n){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,n.d&&n.d.sid&&(n.d=t.globalData.slotManager.getProp(n.d)),this.data=n,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var n=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var s,o=this.effectsSequence.length,l=t||this.data.d.k[this.keysIndex].s;for(s=0;s<o;s+=1)r!==this.keysIndex?l=this.effectsSequence[s](l,l.t):l=this.effectsSequence[s](this.currentData,l.t);n!==l&&this.setCurrentData(l),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,n=this.elem.comp.renderedFrame,r=0,s=t.length;r<=s-1&&!(r===s-1||t[r+1].t>n);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var n=[],r=0,s=t.length,o,l,c=!1,p=!1,m="";r<s;)c=p,p=!1,o=t.charCodeAt(r),m=t.charAt(r),FontManager.isCombinedCharacter(o)?c=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(t,r)?m=t.substr(r,14):(l=t.charCodeAt(r+1),l>=56320&&l<=57343&&(FontManager.isModifier(o,l)?(m=t.substr(r,2),c=!0):FontManager.isFlagEmoji(t.substr(r,4))?m=t.substr(r,4):m=t.substr(r,2))):o>56319?(l=t.charCodeAt(r+1),FontManager.isVariationSelector(o)&&(c=!0)):FontManager.isZeroWidthJoiner(o)&&(c=!0,p=!0),c?(n[n.length-1]+=m,c=!1):n.push(m),r+=m.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var n=this.elem.globalData.fontManager,r=this.data,s=[],o,l,c,p=0,m,x=r.m.g,b=0,S=0,R=0,k=[],M=0,j=0,G,P,Q=n.getFontByName(t.f),H,X=0,ee=getFontProperties(Q);t.fWeight=ee.weight,t.fStyle=ee.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),l=t.finalText.length,t.finalLineHeight=t.lh;var ne=t.tr/1e3*t.finalSize,Y;if(t.sz)for(var re=!0,oe=t.sz[0],xe=t.sz[1],ve,me;re;){me=this.buildFinalText(t.t),ve=0,M=0,l=me.length,ne=t.tr/1e3*t.finalSize;var we=-1;for(o=0;o<l;o+=1)Y=me[o].charCodeAt(0),c=!1,me[o]===" "?we=o:(Y===13||Y===3)&&(M=0,c=!0,ve+=t.finalLineHeight||t.finalSize*1.2),n.chars?(H=n.getCharData(me[o],Q.fStyle,Q.fFamily),X=c?0:H.w*t.finalSize/100):X=n.measureText(me[o],t.f,t.finalSize),M+X>oe&&me[o]!==" "?(we===-1?l+=1:o=we,ve+=t.finalLineHeight||t.finalSize*1.2,me.splice(o,we===o?1:0,"\r"),we=-1,M=0):(M+=X,M+=ne);ve+=Q.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&xe<ve?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=me,l=t.finalText.length,re=!1)}M=-ne,X=0;var Ee=0,he;for(o=0;o<l;o+=1)if(c=!1,he=t.finalText[o],Y=he.charCodeAt(0),Y===13||Y===3?(Ee=0,k.push(M),j=M>j?M:j,M=-2*ne,m="",c=!0,R+=1):m=he,n.chars?(H=n.getCharData(he,Q.fStyle,n.getFontByName(t.f).fFamily),X=c?0:H.w*t.finalSize/100):X=n.measureText(m,t.f,t.finalSize),he===" "?Ee+=X+ne:(M+=X+ne+Ee,Ee=0),s.push({l:X,an:X,add:b,n:c,anIndexes:[],val:m,line:R,animatorJustifyOffset:0}),x==2){if(b+=X,m===""||m===" "||o===l-1){for((m===""||m===" ")&&(b-=X);S<=o;)s[S].an=b,s[S].ind=p,s[S].extra=X,S+=1;p+=1,b=0}}else if(x==3){if(b+=X,m===""||o===l-1){for(m===""&&(b-=X);S<=o;)s[S].an=b,s[S].ind=p,s[S].extra=X,S+=1;b=0,p+=1}}else s[p].ind=p,s[p].extra=0,p+=1;if(t.l=s,j=M>j?M:j,k.push(M),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=j,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=k;var ae=r.a,ue,te;P=ae.length;var se,Ce,ce=[];for(G=0;G<P;G+=1){for(ue=ae[G],ue.a.sc&&(t.strokeColorAnim=!0),ue.a.sw&&(t.strokeWidthAnim=!0),(ue.a.fc||ue.a.fh||ue.a.fs||ue.a.fb)&&(t.fillColorAnim=!0),Ce=0,se=ue.s.b,o=0;o<l;o+=1)te=s[o],te.anIndexes[G]=Ce,(se==1&&te.val!==""||se==2&&te.val!==""&&te.val!==" "||se==3&&(te.n||te.val==" "||o==l-1)||se==4&&(te.n||o==l-1))&&(ue.s.rn===1&&ce.push(Ce),Ce+=1);r.a[G].s.totalChars=Ce;var ye=-1,Se;if(ue.s.rn===1)for(o=0;o<l;o+=1)te=s[o],ye!=te.anIndexes[G]&&(ye=te.anIndexes[G],Se=ce.splice(Math.floor(Math.random()*ce.length),1)[0]),te.anIndexes[G]=Se}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=Q.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,n){n=n===void 0?this.keysIndex:n;var r=this.copyData({},this.data.d.k[n].s);r=this.copyData(r,t),this.data.d.k[n].s=r,this.recalculate(n),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var n=this.data.d.k[t].s;n.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(n)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var t=Math.max,n=Math.min,r=Math.floor;function s(l,c){this._currentTextLength=-1,this.k=!1,this.data=c,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,c.s||{k:0},0,0,this),"e"in c?this.e=PropertyFactory.getProp(l,c.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(l,c.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,c.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,c.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,c.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,c.a,0,.01,this),this.dynamicProperties.length||this.getValue()}s.prototype={getMult:function(c){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var p=0,m=0,x=1,b=1;this.ne.v>0?p=this.ne.v/100:m=-this.ne.v/100,this.xe.v>0?x=1-this.xe.v/100:b=1+this.xe.v/100;var S=BezierFactory.getBezierEasing(p,m,x,b).get,R=0,k=this.finalS,M=this.finalE,j=this.data.sh;if(j===2)M===k?R=c>=M?1:0:R=t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R=S(R);else if(j===3)M===k?R=c>=M?0:1:R=1-t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R=S(R);else if(j===4)M===k?R=0:(R=t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R<.5?R*=2:R=1-2*(R-.5)),R=S(R);else if(j===5){if(M===k)R=0;else{var G=M-k;c=n(t(0,c+.5-k),M-k);var P=-G/2+c,Q=G/2;R=Math.sqrt(1-P*P/(Q*Q))}R=S(R)}else j===6?(M===k?R=0:(c=n(t(0,c+.5-k),M-k),R=(1+Math.cos(Math.PI+Math.PI*2*c/(M-k)))/2),R=S(R)):(c>=r(k)&&(c-k<0?R=t(0,n(n(M,1)-(k-c),1)):R=t(0,n(M-c,1))),R=S(R));if(this.sm.v!==100){var H=this.sm.v*.01;H===0&&(H=1e-8);var X=.5-H*.5;R<X?R=0:(R=(R-X)/H,R>1&&(R=1))}return R*this.a.v},getValue:function(c){this.iterateDynamicProperties(),this._mdf=c||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,c&&this.data.r===2&&(this.e.v=this._currentTextLength);var p=this.data.r===2?1:100/this.data.totalChars,m=this.o.v/p,x=this.s.v/p+m,b=this.e.v/p+m;if(x>b){var S=x;x=b,b=S}this.finalS=x,this.finalE=b}},extendPrototype([DynamicPropertyContainer],s);function o(l,c,p){return new s(l,c)}return{getTextSelectorProp:o}})();function TextAnimatorDataProperty(t,n,r){var s={propType:!1},o=PropertyFactory.getProp,l=n.a;this.a={r:l.r?o(t,l.r,0,degToRads,r):s,rx:l.rx?o(t,l.rx,0,degToRads,r):s,ry:l.ry?o(t,l.ry,0,degToRads,r):s,sk:l.sk?o(t,l.sk,0,degToRads,r):s,sa:l.sa?o(t,l.sa,0,degToRads,r):s,s:l.s?o(t,l.s,1,.01,r):s,a:l.a?o(t,l.a,1,0,r):s,o:l.o?o(t,l.o,0,.01,r):s,p:l.p?o(t,l.p,1,0,r):s,sw:l.sw?o(t,l.sw,0,0,r):s,sc:l.sc?o(t,l.sc,1,0,r):s,fc:l.fc?o(t,l.fc,1,0,r):s,fh:l.fh?o(t,l.fh,0,0,r):s,fs:l.fs?o(t,l.fs,0,.01,r):s,fb:l.fb?o(t,l.fb,0,.01,r):s,t:l.t?o(t,l.t,0,0,r):s},this.s=TextSelectorProp.getTextSelectorProp(t,n.s,r),this.s.t=n.s.t}function TextAnimatorProperty(t,n,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=n,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var t,n=this._textData.a.length,r,s=PropertyFactory.getProp;for(t=0;t<n;t+=1)r=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,n){if(this.lettersChangedFlag=n,!(!this._mdf&&!this._isFirstFrame&&!n&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,s=this._animatorsData,o=this._textData,l=this.mHelper,c=this._renderType,p=this.renderedLetters.length,m,x,b,S,R=t.l,k,M,j,G,P,Q,H,X,ee,ne,Y,re,oe,xe,ve;if(this._hasMaskedPath){if(ve=this._pathData.m,!this._pathData.n||this._pathData._mdf){var me=ve.v;this._pathData.r.v&&(me=me.reverse()),k={tLength:0,segments:[]},S=me._length-1;var we;for(re=0,b=0;b<S;b+=1)we=bez.buildBezierData(me.v[b],me.v[b+1],[me.o[b][0]-me.v[b][0],me.o[b][1]-me.v[b][1]],[me.i[b+1][0]-me.v[b+1][0],me.i[b+1][1]-me.v[b+1][1]]),k.tLength+=we.segmentLength,k.segments.push(we),re+=we.segmentLength;b=S,ve.v.c&&(we=bez.buildBezierData(me.v[b],me.v[0],[me.o[b][0]-me.v[b][0],me.o[b][1]-me.v[b][1]],[me.i[0][0]-me.v[0][0],me.i[0][1]-me.v[0][1]]),k.tLength+=we.segmentLength,k.segments.push(we),re+=we.segmentLength),this._pathData.pi=k}if(k=this._pathData.pi,M=this._pathData.f.v,H=0,Q=1,G=0,P=!0,ne=k.segments,M<0&&ve.v.c)for(k.tLength<Math.abs(M)&&(M=-Math.abs(M)%k.tLength),H=ne.length-1,ee=ne[H].points,Q=ee.length-1;M<0;)M+=ee[Q].partialLength,Q-=1,Q<0&&(H-=1,ee=ne[H].points,Q=ee.length-1);ee=ne[H].points,X=ee[Q-1],j=ee[Q],Y=j.partialLength}S=R.length,m=0,x=0;var Ee=t.finalSize*1.2*.714,he=!0,ae,ue,te,se,Ce;se=s.length;var ce,ye=-1,Se,_e,je,Me=M,Ze=H,ot=Q,Ct=-1,It,mt,Ut,gt,xt,an,Un,Zt,$t="",Ot=this.defaultPropsArray,In;if(t.j===2||t.j===1){var pt=0,Kn=0,On=t.j===2?-.5:-1,it=0,Pe=!0;for(b=0;b<S;b+=1)if(R[b].n){for(pt&&(pt+=Kn);it<b;)R[it].animatorJustifyOffset=pt,it+=1;pt=0,Pe=!0}else{for(te=0;te<se;te+=1)ae=s[te].a,ae.t.propType&&(Pe&&t.j===2&&(Kn+=ae.t.v*On),ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ce.length?pt+=ae.t.v*ce[0]*On:pt+=ae.t.v*ce*On);Pe=!1}for(pt&&(pt+=Kn);it<b;)R[it].animatorJustifyOffset=pt,it+=1}for(b=0;b<S;b+=1){if(l.reset(),It=1,R[b].n)m=0,x+=t.yOffset,x+=he?1:0,M=Me,he=!1,this._hasMaskedPath&&(H=Ze,Q=ot,ee=ne[H].points,X=ee[Q-1],j=ee[Q],Y=j.partialLength,G=0),$t="",Zt="",an="",In="",Ot=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ct!==R[b].line){switch(t.j){case 1:M+=re-t.lineWidths[R[b].line];break;case 2:M+=(re-t.lineWidths[R[b].line])/2;break}Ct=R[b].line}ye!==R[b].ind&&(R[ye]&&(M+=R[ye].extra),M+=R[b].an/2,ye=R[b].ind),M+=r[0]*R[b].an*.005;var Fe=0;for(te=0;te<se;te+=1)ae=s[te].a,ae.p.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ce.length?Fe+=ae.p.v[0]*ce[0]:Fe+=ae.p.v[0]*ce),ae.a.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ce.length?Fe+=ae.a.v[0]*ce[0]:Fe+=ae.a.v[0]*ce);for(P=!0,this._pathData.a.v&&(M=R[0].an*.5+(re-this._pathData.f.v-R[0].an*.5-R[R.length-1].an*.5)*ye/(S-1),M+=this._pathData.f.v);P;)G+Y>=M+Fe||!ee?(oe=(M+Fe-G)/j.partialLength,_e=X.point[0]+(j.point[0]-X.point[0])*oe,je=X.point[1]+(j.point[1]-X.point[1])*oe,l.translate(-r[0]*R[b].an*.005,-(r[1]*Ee)*.01),P=!1):ee&&(G+=j.partialLength,Q+=1,Q>=ee.length&&(Q=0,H+=1,ne[H]?ee=ne[H].points:ve.v.c?(Q=0,H=0,ee=ne[H].points):(G-=j.partialLength,ee=null)),ee&&(X=j,j=ee[Q],Y=j.partialLength));Se=R[b].an/2-R[b].add,l.translate(-Se,0,0)}else Se=R[b].an/2-R[b].add,l.translate(-Se,0,0),l.translate(-r[0]*R[b].an*.005,-r[1]*Ee*.01,0);for(te=0;te<se;te+=1)ae=s[te].a,ae.t.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),(m!==0||t.j!==0)&&(this._hasMaskedPath?ce.length?M+=ae.t.v*ce[0]:M+=ae.t.v*ce:ce.length?m+=ae.t.v*ce[0]:m+=ae.t.v*ce));for(t.strokeWidthAnim&&(Ut=t.sw||0),t.strokeColorAnim&&(t.sc?mt=[t.sc[0],t.sc[1],t.sc[2]]:mt=[0,0,0]),t.fillColorAnim&&t.fc&&(gt=[t.fc[0],t.fc[1],t.fc[2]]),te=0;te<se;te+=1)ae=s[te].a,ae.a.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ce.length?l.translate(-ae.a.v[0]*ce[0],-ae.a.v[1]*ce[1],ae.a.v[2]*ce[2]):l.translate(-ae.a.v[0]*ce,-ae.a.v[1]*ce,ae.a.v[2]*ce));for(te=0;te<se;te+=1)ae=s[te].a,ae.s.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ce.length?l.scale(1+(ae.s.v[0]-1)*ce[0],1+(ae.s.v[1]-1)*ce[1],1):l.scale(1+(ae.s.v[0]-1)*ce,1+(ae.s.v[1]-1)*ce,1));for(te=0;te<se;te+=1){if(ae=s[te].a,ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),ae.sk.propType&&(ce.length?l.skewFromAxis(-ae.sk.v*ce[0],ae.sa.v*ce[1]):l.skewFromAxis(-ae.sk.v*ce,ae.sa.v*ce)),ae.r.propType&&(ce.length?l.rotateZ(-ae.r.v*ce[2]):l.rotateZ(-ae.r.v*ce)),ae.ry.propType&&(ce.length?l.rotateY(ae.ry.v*ce[1]):l.rotateY(ae.ry.v*ce)),ae.rx.propType&&(ce.length?l.rotateX(ae.rx.v*ce[0]):l.rotateX(ae.rx.v*ce)),ae.o.propType&&(ce.length?It+=(ae.o.v*ce[0]-It)*ce[0]:It+=(ae.o.v*ce-It)*ce),t.strokeWidthAnim&&ae.sw.propType&&(ce.length?Ut+=ae.sw.v*ce[0]:Ut+=ae.sw.v*ce),t.strokeColorAnim&&ae.sc.propType)for(xt=0;xt<3;xt+=1)ce.length?mt[xt]+=(ae.sc.v[xt]-mt[xt])*ce[0]:mt[xt]+=(ae.sc.v[xt]-mt[xt])*ce;if(t.fillColorAnim&&t.fc){if(ae.fc.propType)for(xt=0;xt<3;xt+=1)ce.length?gt[xt]+=(ae.fc.v[xt]-gt[xt])*ce[0]:gt[xt]+=(ae.fc.v[xt]-gt[xt])*ce;ae.fh.propType&&(ce.length?gt=addHueToRGB(gt,ae.fh.v*ce[0]):gt=addHueToRGB(gt,ae.fh.v*ce)),ae.fs.propType&&(ce.length?gt=addSaturationToRGB(gt,ae.fs.v*ce[0]):gt=addSaturationToRGB(gt,ae.fs.v*ce)),ae.fb.propType&&(ce.length?gt=addBrightnessToRGB(gt,ae.fb.v*ce[0]):gt=addBrightnessToRGB(gt,ae.fb.v*ce))}}for(te=0;te<se;te+=1)ae=s[te].a,ae.p.propType&&(ue=s[te].s,ce=ue.getMult(R[b].anIndexes[te],o.a[te].s.totalChars),this._hasMaskedPath?ce.length?l.translate(0,ae.p.v[1]*ce[0],-ae.p.v[2]*ce[1]):l.translate(0,ae.p.v[1]*ce,-ae.p.v[2]*ce):ce.length?l.translate(ae.p.v[0]*ce[0],ae.p.v[1]*ce[1],-ae.p.v[2]*ce[2]):l.translate(ae.p.v[0]*ce,ae.p.v[1]*ce,-ae.p.v[2]*ce));if(t.strokeWidthAnim&&(an=Ut<0?0:Ut),t.strokeColorAnim&&(Un="rgb("+Math.round(mt[0]*255)+","+Math.round(mt[1]*255)+","+Math.round(mt[2]*255)+")"),t.fillColorAnim&&t.fc&&(Zt="rgb("+Math.round(gt[0]*255)+","+Math.round(gt[1]*255)+","+Math.round(gt[2]*255)+")"),this._hasMaskedPath){if(l.translate(0,-t.ls),l.translate(0,r[1]*Ee*.01+x,0),this._pathData.p.v){xe=(j.point[1]-X.point[1])/(j.point[0]-X.point[0]);var Ye=Math.atan(xe)*180/Math.PI;j.point[0]<X.point[0]&&(Ye+=180),l.rotate(-Ye*Math.PI/180)}l.translate(_e,je,0),M-=r[0]*R[b].an*.005,R[b+1]&&ye!==R[b+1].ind&&(M+=R[b].an/2,M+=t.tr*.001*t.finalSize)}else{switch(l.translate(m,x,0),t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(R[b].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[R[b].line]),0,0);break;case 2:l.translate(R[b].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[R[b].line])/2,0,0);break}l.translate(0,-t.ls),l.translate(Se,0,0),l.translate(r[0]*R[b].an*.005,r[1]*Ee*.01,0),m+=R[b].l+t.tr*.001*t.finalSize}c==="html"?$t=l.toCSS():c==="svg"?$t=l.to2dCSS():Ot=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],In=It}p<=b?(Ce=new LetterProps(In,an,Un,Zt,$t,Ot),this.renderedLetters.push(Ce),p+=1,this.lettersChangedFlag=!0):(Ce=this.renderedLetters[b],this.lettersChangedFlag=Ce.update(In,an,Un,Zt,$t,Ot)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,n,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,n,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,n,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,n){var r,s=n.length,o,l="";for(r=0;r<s;r+=1)n[r].ty==="sh"&&(o=n[r].ks.k,l+=buildShapeString(o,o.i.length,!0,t));return l},ITextElement.prototype.updateDocumentData=function(t,n){this.textProperty.updateDocumentData(t,n)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,n,r,s,o){switch(t.ps&&n.translate(t.ps[0],t.ps[1]+t.ascent,0),n.translate(0,-t.ls,0),t.j){case 1:n.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:n.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0);break}n.translate(s,o,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,n,r){this.textSpans=[],this.renderType="svg",this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var n=0,r=t.length,s=[],o="";n<r;)t[n]==="\r"||t[n]===""?(s.push(o),o=""):o+=t[n],n+=1;return s.push(o),s},SVGTextLottieElement.prototype.buildShapeData=function(t,n){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var s=r.it[r.it.length-1];s.s&&(s.s.k[0]=n,s.s.k[1]=n)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,n,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var o=r.fWeight,l=r.fStyle;this.layerElement.setAttribute("font-style",l),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var c=r.l||[],p=!!this.globalData.fontManager.chars;n=c.length;var m,x=this.mHelper,b="",S=this.data.singleShape,R=0,k=0,M=!0,j=r.tr*.001*r.finalSize;if(S&&!p&&!r.sz){var G=this.textContainer,P="start";switch(r.j){case 1:P="end";break;case 2:P="middle";break;default:P="start";break}G.setAttribute("text-anchor",P),G.setAttribute("letter-spacing",j);var Q=this.buildTextContents(r.finalText);for(n=Q.length,k=r.ps?r.ps[1]+r.ascent:0,t=0;t<n;t+=1)m=this.textSpans[t].span||createNS("tspan"),m.textContent=Q[t],m.setAttribute("x",0),m.setAttribute("y",k),m.style.display="inherit",G.appendChild(m),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=m,k+=r.finalLineHeight;this.layerElement.appendChild(G)}else{var H=this.textSpans.length,X;for(t=0;t<n;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!p||!S||t===0){if(m=H>t?this.textSpans[t].span:createNS(p?"g":"text"),H<=t){if(m.setAttribute("stroke-linecap","butt"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=m,p){var ee=createNS("g");m.appendChild(ee),this.textSpans[t].childSpan=ee}this.textSpans[t].span=m,this.layerElement.appendChild(m)}m.style.display="inherit"}if(x.reset(),S&&(c[t].n&&(R=-j,k+=r.yOffset,k+=M?1:0,M=!1),this.applyTextPropertiesToMatrix(r,x,c[t].line,R,k),R+=c[t].l||0,R+=j),p){X=this.globalData.fontManager.getCharData(r.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var ne;if(X.t===1)ne=new SVGCompElement(X.data,this.globalData,this);else{var Y=emptyShapeData;X.data&&X.data.shapes&&(Y=this.buildShapeData(X.data,r.finalSize)),ne=new SVGShapeElement(Y,this.globalData,this)}if(this.textSpans[t].glyph){var re=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(re.layerElement),re.destroy()}this.textSpans[t].glyph=ne,ne._debug=!0,ne.prepareFrame(0),ne.renderFrame(),this.textSpans[t].childSpan.appendChild(ne.layerElement),X.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else S&&m.setAttribute("transform","translate("+x.props[12]+","+x.props[13]+")"),m.textContent=c[t].val,m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}S&&m&&m.setAttribute("d",b)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,n=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)r=this.textSpans[t].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,n,r=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;n=s.length;var o,l,c;for(t=0;t<n;t+=1)s[t].n||(o=r[t],l=this.textSpans[t].span,c=this.textSpans[t].glyph,c&&c.renderFrame(),o._mdf.m&&l.setAttribute("transform",o.m),o._mdf.o&&l.setAttribute("opacity",o.o),o._mdf.sw&&l.setAttribute("stroke-width",o.sw),o._mdf.sc&&l.setAttribute("stroke",o.sc),o._mdf.fc&&l.setAttribute("fill",o.fc))}};function ISolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initFrame(),this.initTransform(t,n,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var n=this.globalData.defs;this.setupGlobalData(t,n),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),n.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,n=this.layers?this.layers.length:0;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var n=0,r=this.layers.length;for(n=0;n<r;n+=1)if(this.layers[n].ind===t)return n;return-1},SVGRendererBase.prototype.buildItem=function(t){var n=this.elements;if(!(n[t]||this.layers[t].ty===99)){n[t]=!0;var r=this.createItem(this.layers[t]);if(n[t]=r,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var s="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(s===-1)return;if(!this.elements[s]||this.elements[s]===!0)this.buildItem(s),this.addPendingElement(r);else{var o=n[s],l=o.getMatte(this.layers[t].tt);r.setMatte(l)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var n=0,r=this.elements.length;n<r;){if(this.elements[n]===t){var s="tp"in t.data?this.findIndexByInd(t.data.tp):n-1,o=this.elements[s],l=o.getMatte(this.layers[n].tt);t.setMatte(l);break}n+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf)for(n=0;n<r;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,n){var r=t.getBaseElement();if(r){for(var s=0,o;s<n;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement()&&(o=this.elements[s].getBaseElement()),s+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initTransform(t,n,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!n.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var n=this.tm.v;n===this.data.op&&(n=this.data.op-1),this.renderedFrame=n}var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,n,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(n&&n.title){var s=createNS("title"),o=createElementID();s.setAttribute("id",o),s.textContent=n.title,this.svgElement.appendChild(s),r+=o}if(n&&n.description){var l=createNS("desc"),c=createElementID();l.setAttribute("id",c),l.textContent=n.description,this.svgElement.appendChild(l),r+=" "+c}r&&this.svgElement.setAttribute("aria-labelledby",r);var p=createNS("defs");this.svgElement.appendChild(p);var m=createNS("g");this.svgElement.appendChild(m),this.layerElement=m,this.renderConfig={preserveAspectRatio:n&&n.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:n&&n.contentVisibility||"visible",progressiveLoad:n&&n.progressiveLoad||!1,hideOnTransparent:!(n&&n.hideOnTransparent===!1),viewBoxOnly:n&&n.viewBoxOnly||!1,viewBoxSize:n&&n.viewBoxSize||!1,className:n&&n.className||"",id:n&&n.id||"",focusable:n&&n.focusable,filterSize:{width:n&&n.filterSize&&n.filterSize.width||"100%",height:n&&n.filterSize&&n.filterSize.height||"100%",x:n&&n.filterSize&&n.filterSize.x||"0%",y:n&&n.filterSize&&n.filterSize.y||"0%"},width:n&&n.width,height:n&&n.height,runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:p,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(n){var r,s=n.length,o="_";for(r=0;r<s;r+=1)o+=n[r].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(n),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(n,r){for(var s=0,o=n.transforms.length,l=r;s<o&&!r;){if(n.transforms[s].transform.mProps._mdf){l=!0;break}s+=1}if(l)for(n.finalTransform.reset(),s=o-1;s>=0;s-=1)n.finalTransform.multiply(n.transforms[s].transform.mProps.v);n._mdf=l},processSequences:function(n){var r,s=this.sequenceList.length;for(r=0;r<s;r+=1)this.processSequence(this.sequenceList[r],n)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var n="__lottie_element_luma_buffer",r=null,s=null,o=null;function l(){var m=createNS("svg"),x=createNS("filter"),b=createNS("feColorMatrix");return x.setAttribute("id",n),b.setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),x.appendChild(b),m.appendChild(x),m.setAttribute("id",n+"_svg"),featureSupport.svgLumaHidden&&(m.style.display="none"),m}function c(){r||(o=l(),document.body.appendChild(o),r=createTag("canvas"),s=r.getContext("2d"),s.filter="url(#"+n+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}function p(m){return r||c(),r.width=m.width,r.height=m.height,s.filter="url(#"+n+")",r}return{load:c,get:p}};function createCanvas(t,n){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,n);var r=createTag("canvas");return r.width=t,r.height=n,r}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(t){var n,r=t.data.ef?t.data.ef.length:0;this.filters=[];var s;for(n=0;n<r;n+=1){s=null;var o=t.data.ef[n].ty;if(registeredEffects[o]){var l=registeredEffects[o].effect;s=new l(t.effectsManager.effectElements[n],t)}s&&this.filters.push(s)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var n,r=this.filters.length;for(n=0;n<r;n+=1)this.filters[n].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var n,r=this.filters.length,s=[];for(n=0;n<r;n+=1)this.filters[n].type===t&&s.push(this.filters[n]);return s};function registerEffect(t,n){registeredEffects[t]={effect:n}}function CVMaskElement(t,n){this.data=t,this.element=n,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,s=this.masksProperties.length,o=!1;for(r=0;r<s;r+=1)this.masksProperties[r].mode!=="n"&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,n=this.element.canvasContext,r,s=this.masksProperties.length,o,l,c;for(n.beginPath(),r=0;r<s;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(n.moveTo(0,0),n.lineTo(this.element.globalData.compSize.w,0),n.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),n.lineTo(0,this.element.globalData.compSize.h),n.lineTo(0,0)),c=this.viewData[r].v,o=t.applyToPointArray(c.v[0][0],c.v[0][1],0),n.moveTo(o[0],o[1]);var p,m=c._length;for(p=1;p<m;p+=1)l=t.applyToTriplePoints(c.o[p-1],c.i[p],c.v[p]),n.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);l=t.applyToTriplePoints(c.o[p-1],c.i[0],c.v[0]),n.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}this.element.globalData.renderer.save(!0),n.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var n=this.globalData.canvasContext,r=assetLoader.createCanvas(n.canvas.width,n.canvas.height);this.buffers.push(r);var s=assetLoader.createCanvas(n.canvas.width,n.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var n=this.globalData;if(n.blendMode!==this.data.bm){n.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);n.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(n){n.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var n=this.buffers[0],r=n.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var n=this.buffers[1],r=n.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var s=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(s.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var o=assetLoader.getLumaCanvas(this.canvasContext.canvas),l=o.getContext("2d");l.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(o,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(n,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(n){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!n)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var r=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(r),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,n,r,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;n.ty==="rc"?o=5:n.ty==="el"?o=6:n.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,n,o,t);var l,c=r.length,p;for(l=0;l<c;l+=1)r[l].closed||(p={transforms:s.addTransformSequence(r[l].transforms),trNodes:[]},this.styledShapes.push(p),r[l].elements.push(p))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,n){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(n),transforms:[],elements:[],closed:t.hd===!0},s={};if(t.ty==="fl"||t.ty==="st"?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(r.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(r.wi=s.w.v),t.d){var o=new DashProperty(this,t.d,"canvas",this);s.d=o,s.d.k||(r.da=s.d.dashArray,r.do=s.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var n={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return n},CVShapeElement.prototype.createShapeElement=function(t){var n=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(n),this.addShapeToModifiers(n),n},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,n=this.itemsData.length;for(t=0;t<n;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),n=this.dynamicProperties.length,t=0;t<n;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var n,r=this.stylesList.length;for(n=0;n<r;n+=1)this.stylesList[n].closed||this.stylesList[n].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n].closed=!0},CVShapeElement.prototype.searchShapes=function(t,n,r,s,o){var l,c=t.length-1,p,m,x=[],b=[],S,R,k,M=[].concat(o);for(l=c;l>=0;l-=1){if(S=this.searchProcessedElement(t[l]),S?n[l]=r[S-1]:t[l]._shouldRender=s,t[l].ty==="fl"||t[l].ty==="st"||t[l].ty==="gf"||t[l].ty==="gs")S?n[l].style.closed=!1:n[l]=this.createStyleElement(t[l],M),x.push(n[l].style);else if(t[l].ty==="gr"){if(!S)n[l]=this.createGroupElement(t[l]);else for(m=n[l].it.length,p=0;p<m;p+=1)n[l].prevViewData[p]=n[l].it[p];this.searchShapes(t[l].it,n[l].it,n[l].prevViewData,s,M)}else t[l].ty==="tr"?(S||(k=this.createTransformElement(t[l]),n[l]=k),M.push(n[l]),this.addTransformToStyleList(n[l])):t[l].ty==="sh"||t[l].ty==="rc"||t[l].ty==="el"||t[l].ty==="sr"?S||(n[l]=this.createShapeElement(t[l])):t[l].ty==="tm"||t[l].ty==="rd"||t[l].ty==="pb"||t[l].ty==="zz"||t[l].ty==="op"?(S?(R=n[l],R.closed=!1):(R=ShapeModifiers.getModifier(t[l].ty),R.init(this,t[l]),n[l]=R,this.shapeModifiers.push(R)),b.push(R)):t[l].ty==="rp"&&(S?(R=n[l],R.closed=!0):(R=ShapeModifiers.getModifier(t[l].ty),n[l]=R,R.init(this,t,l,n),this.shapeModifiers.push(R),s=!1),b.push(R));this.addProcessedElement(t[l],l+1)}for(this.removeTransformFromStyleList(),this.closeStyles(x),c=b.length,l=0;l<c;l+=1)b[l].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,n){(t._opMdf||n.op._mdf||this._isFirstFrame)&&(n.opacity=t.opacity,n.opacity*=n.op.v,n._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,n=this.stylesList.length,r,s,o,l,c,p,m=this.globalData.renderer,x=this.globalData.canvasContext,b,S;for(t=0;t<n;t+=1)if(S=this.stylesList[t],b=S.type,!((b==="st"||b==="gs")&&S.wi===0||!S.data._shouldRender||S.coOp===0||this.globalData.currentGlobalAlpha===0)){for(m.save(),c=S.elements,b==="st"||b==="gs"?(m.ctxStrokeStyle(b==="st"?S.co:S.grd),m.ctxLineWidth(S.wi),m.ctxLineCap(S.lc),m.ctxLineJoin(S.lj),m.ctxMiterLimit(S.ml||0)):m.ctxFillStyle(b==="fl"?S.co:S.grd),m.ctxOpacity(S.coOp),b!=="st"&&b!=="gs"&&x.beginPath(),m.ctxTransform(S.preTransforms.finalTransform.props),s=c.length,r=0;r<s;r+=1){for((b==="st"||b==="gs")&&(x.beginPath(),S.da&&(x.setLineDash(S.da),x.lineDashOffset=S.do)),p=c[r].trNodes,l=p.length,o=0;o<l;o+=1)p[o].t==="m"?x.moveTo(p[o].p[0],p[o].p[1]):p[o].t==="c"?x.bezierCurveTo(p[o].pts[0],p[o].pts[1],p[o].pts[2],p[o].pts[3],p[o].pts[4],p[o].pts[5]):x.closePath();(b==="st"||b==="gs")&&(m.ctxStroke(),S.da&&x.setLineDash(this.dashResetter))}b!=="st"&&b!=="gs"&&this.globalData.renderer.ctxFill(S.r),m.restore()}},CVShapeElement.prototype.renderShape=function(t,n,r,s){var o,l=n.length-1,c;for(c=t,o=l;o>=0;o-=1)n[o].ty==="tr"?(c=r[o].transform,this.renderShapeTransform(t,c)):n[o].ty==="sh"||n[o].ty==="el"||n[o].ty==="rc"||n[o].ty==="sr"?this.renderPath(n[o],r[o]):n[o].ty==="fl"?this.renderFill(n[o],r[o],c):n[o].ty==="st"?this.renderStroke(n[o],r[o],c):n[o].ty==="gf"||n[o].ty==="gs"?this.renderGradientFill(n[o],r[o],c):n[o].ty==="gr"?this.renderShape(c,n[o].it,r[o].it):n[o].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,n){if(this._isFirstFrame||n._mdf||t.transforms._mdf){var r=t.trNodes,s=n.paths,o,l,c,p=s._length;r.length=0;var m=t.transforms.finalTransform;for(c=0;c<p;c+=1){var x=s.shapes[c];if(x&&x.v){for(l=x._length,o=1;o<l;o+=1)o===1&&r.push({t:"m",p:m.applyToPointArray(x.v[0][0],x.v[0][1],0)}),r.push({t:"c",pts:m.applyToTriplePoints(x.o[o-1],x.i[o],x.v[o])});l===1&&r.push({t:"m",p:m.applyToPointArray(x.v[0][0],x.v[0][1],0)}),x.c&&l&&(r.push({t:"c",pts:m.applyToTriplePoints(x.o[o-1],x.i[0],x.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,n){if(t.hd!==!0&&t._shouldRender){var r,s=n.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(n.styledShapes[r],n.sh)}},CVShapeElement.prototype.renderFill=function(t,n,r){var s=n.style;(n.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")"),(n.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=n.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,n,r){var s=n.style,o;if(!s.grd||n.g._mdf||n.s._mdf||n.e._mdf||t.t!==1&&(n.h._mdf||n.a._mdf)){var l=this.globalData.canvasContext,c=n.s.v,p=n.e.v;if(t.t===1)o=l.createLinearGradient(c[0],c[1],p[0],p[1]);else{var m=Math.sqrt(Math.pow(c[0]-p[0],2)+Math.pow(c[1]-p[1],2)),x=Math.atan2(p[1]-c[1],p[0]-c[0]),b=n.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var S=m*b,R=Math.cos(x+n.a.v)*S+c[0],k=Math.sin(x+n.a.v)*S+c[1];o=l.createRadialGradient(R,k,0,c[0],c[1],m)}var M,j=t.g.p,G=n.g.c,P=1;for(M=0;M<j;M+=1)n.g._hasOpacity&&n.g._collapsable&&(P=n.g.o[M*2+1]),o.addColorStop(G[M*4]/100,"rgba("+G[M*4+1]+","+G[M*4+2]+","+G[M*4+3]+","+P+")");s.grd=o}s.coOp=n.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,n,r){var s=n.style,o=n.d;o&&(o._mdf||this._isFirstFrame)&&(s.da=o.dashArray,s.do=o.dashoffset[0]),(n.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")"),(n.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=n.o.v*r.opacity),(n.w._mdf||this._isFirstFrame)&&(s.wi=n.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,n,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var n=!1;t.fc?(n=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=n;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s=this.globalData.fontManager.getFontByName(t.f),o,l,c=t.l,p=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var m,x,b,S,R,k,M,j,G,P,Q=this.data.singleShape,H=t.tr*.001*t.finalSize,X=0,ee=0,ne=!0,Y=0;for(o=0;o<l;o+=1){m=this.globalData.fontManager.getCharData(t.finalText[o],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),x=m&&m.data||{},p.reset(),Q&&c[o].n&&(X=-H,ee+=t.yOffset,ee+=ne?1:0,ne=!1),R=x.shapes?x.shapes[0].it:[],M=R.length,p.scale(t.finalSize/100,t.finalSize/100),Q&&this.applyTextPropertiesToMatrix(t,p,c[o].line,X,ee),G=createSizedArray(M-1);var re=0;for(k=0;k<M;k+=1)if(R[k].ty==="sh"){for(S=R[k].ks.k.i.length,j=R[k].ks.k,P=[],b=1;b<S;b+=1)b===1&&P.push(p.applyToX(j.v[0][0],j.v[0][1],0),p.applyToY(j.v[0][0],j.v[0][1],0)),P.push(p.applyToX(j.o[b-1][0],j.o[b-1][1],0),p.applyToY(j.o[b-1][0],j.o[b-1][1],0),p.applyToX(j.i[b][0],j.i[b][1],0),p.applyToY(j.i[b][0],j.i[b][1],0),p.applyToX(j.v[b][0],j.v[b][1],0),p.applyToY(j.v[b][0],j.v[b][1],0));P.push(p.applyToX(j.o[b-1][0],j.o[b-1][1],0),p.applyToY(j.o[b-1][0],j.o[b-1][1],0),p.applyToX(j.i[0][0],j.i[0][1],0),p.applyToY(j.i[0][0],j.i[0][1],0),p.applyToX(j.v[0][0],j.v[0][1],0),p.applyToY(j.v[0][0],j.v[0][1],0)),G[re]=P,re+=1}Q&&(X+=c[o].l,X+=H),this.textSpans[Y]?this.textSpans[Y].elem=G:this.textSpans[Y]={elem:G},Y+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var n,r,s,o,l,c,p=this.textAnimator.renderedLetters,m=this.textProperty.currentData.l;r=m.length;var x,b=null,S=null,R=null,k,M,j=this.globalData.renderer;for(n=0;n<r;n+=1)if(!m[n].n){if(x=p[n],x&&(j.save(),j.ctxTransform(x.p),j.ctxOpacity(x.o)),this.fill){for(x&&x.fc?b!==x.fc&&(j.ctxFillStyle(x.fc),b=x.fc):b!==this.values.fill&&(b=this.values.fill,j.ctxFillStyle(this.values.fill)),k=this.textSpans[n].elem,o=k.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(M=k[s],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(M[l],M[l+1],M[l+2],M[l+3],M[l+4],M[l+5]);this.globalData.canvasContext.closePath(),j.ctxFill()}if(this.stroke){for(x&&x.sw?R!==x.sw&&(R=x.sw,j.ctxLineWidth(x.sw)):R!==this.values.sWidth&&(R=this.values.sWidth,j.ctxLineWidth(this.values.sWidth)),x&&x.sc?S!==x.sc&&(S=x.sc,j.ctxStrokeStyle(x.sc)):S!==this.values.stroke&&(S=this.values.stroke,j.ctxStrokeStyle(this.values.stroke)),k=this.textSpans[n].elem,o=k.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(M=k[s],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(M[l],M[l+1],M[l+2],M[l+3],M[l+4],M[l+5]);this.globalData.canvasContext.closePath(),j.ctxStroke()}x&&this.globalData.renderer.restore()}};function CVImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.img=n.imageLoader.getAsset(this.assetData),this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var n=t.getContext("2d"),r=this.img.width,s=this.img.height,o=r/s,l=this.assetData.w/this.assetData.h,c,p,m=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>l&&m==="xMidYMid slice"||o<l&&m!=="xMidYMid slice"?(p=s,c=p*l):(c=r,p=c/l),n.drawImage(this.img,(r-c)/2,(s-p)/2,c,p,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,n,r,s){this.canvasContext.fillRect(t,n,r,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var n=this.animationItem.container.style;n.width="100%",n.height="100%";var r="0px 0px 0px";n.transformOrigin=r,n.mozTransformOrigin=r,n.webkitTransformOrigin=r,n["-webkit-transform"]=r,n.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,n){this.reset();var r,s;t?(r=t,s=n,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr);var o,l;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var c=this.renderConfig.preserveAspectRatio.split(" "),p=c[1]||"meet",m=c[0]||"xMidYMid",x=m.substr(0,4),b=m.substr(4);o=r/s,l=this.transformCanvas.w/this.transformCanvas.h,l>o&&p==="meet"||l<o&&p==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),x==="xMid"&&(l<o&&p==="meet"||l>o&&p==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:x==="xMax"&&(l<o&&p==="meet"||l>o&&p==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,b==="YMid"&&(l>o&&p==="meet"||l<o&&p==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:b==="YMax"&&(l>o&&p==="meet"||l<o&&p==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,n=this.layers?this.layers.length:0;for(t=n-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,n){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!n||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||n,this.globalData.projectInterface.currentFrame=t;var r,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var n=this.elements;if(!(n[t]||this.layers[t].ty===99)){var r=this.createItem(this.layers[t],this,this.globalData);n[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,n=15;for(t=0;t<n;t+=1){var r=new CanvasContext;this.stack[t]=r}this._length=n,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,n=0;for(n=this._length;n<t;n+=1)this.stack[n]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var n=this.stack[this.cArrPos],r=n.transform,s,o=this.cTr.props;for(s=0;s<16;s+=1)o[s]=r[s];if(t){this.nativeContext.restore();var l=this.stack[this.cArrPos+1];this.appliedFillStyle=l.fillStyle,this.appliedStrokeStyle=l.strokeStyle,this.appliedLineWidth=l.lineWidth,this.appliedLineCap=l.lineCap,this.appliedLineJoin=l.lineJoin,this.appliedMiterLimit=l.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||n.opacity!==-1&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var n=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos],s;for(s=0;s<16;s+=1)r.transform[s]=n[s];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=r.opacity,o.fillStyle=r.fillStyle,o.strokeStyle=r.strokeStyle,o.lineWidth=r.lineWidth,o.lineCap=r.lineCap,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var n=this.cTr;this.transformMat.multiply(n),n.cloneFromProps(this.transformMat.props);var r=n.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var n=this.stack[this.cArrPos].opacity;n*=t<0?0:t,this.stack[this.cArrPos].opacity!==n&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=n)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,n,r,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,n,r,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,n,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var n,r=this.layers.length;for(n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame()},CVCompElement.prototype.destroy=function(){var t,n=this.layers.length;for(t=n-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,n){this.animationItem=t,this.renderConfig={clearCanvas:n&&n.clearCanvas!==void 0?n.clearCanvas:!0,context:n&&n.context||null,progressiveLoad:n&&n.progressiveLoad||!1,preserveAspectRatio:n&&n.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:n&&n.contentVisibility||"visible",className:n&&n.className||"",id:n&&n.id||"",runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.renderConfig.dpr=n&&n.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=n&&n.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var n=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();n.transform=r,n.webkitTransform=r}this.finalTransform._opMdf&&(n.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,n,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var n=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",n.w),t.setAttribute("height",n.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)n=t[r].mProps.v.applyToPointArray(n[0],n[1],0);return n},HShapeElement.prototype.calculateShapeBoundingBox=function(t,n){var r=t.sh.v,s=t.transformers,o,l=r._length,c,p,m,x;if(!(l<=1)){for(o=0;o<l-1;o+=1)c=this.getTransformedPoint(s,r.v[o]),p=this.getTransformedPoint(s,r.o[o]),m=this.getTransformedPoint(s,r.i[o+1]),x=this.getTransformedPoint(s,r.v[o+1]),this.checkBounds(c,p,m,x,n);r.c&&(c=this.getTransformedPoint(s,r.v[o]),p=this.getTransformedPoint(s,r.o[o]),m=this.getTransformedPoint(s,r.i[0]),x=this.getTransformedPoint(s,r.v[0]),this.checkBounds(c,p,m,x,n))}},HShapeElement.prototype.checkBounds=function(t,n,r,s,o){this.getBoundsOfCurve(t,n,r,s);var l=this.shapeBoundingBox;o.x=bmMin(l.left,o.x),o.xMax=bmMax(l.right,o.xMax),o.y=bmMin(l.top,o.y),o.yMax=bmMax(l.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,n,r,s){for(var o=[[t[0],s[0]],[t[1],s[1]]],l,c,p,m,x,b,S,R=0;R<2;++R)c=6*t[R]-12*n[R]+6*r[R],l=-3*t[R]+9*n[R]-9*r[R]+3*s[R],p=3*n[R]-3*t[R],c|=0,l|=0,p|=0,l===0&&c===0||(l===0?(m=-p/c,m>0&&m<1&&o[R].push(this.calculateF(m,t,n,r,s,R))):(x=c*c-4*p*l,x>=0&&(b=(-c+bmSqrt(x))/(2*l),b>0&&b<1&&o[R].push(this.calculateF(b,t,n,r,s,R)),S=(-c-bmSqrt(x))/(2*l),S>0&&S<1&&o[R].push(this.calculateF(S,t,n,r,s,R)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(t,n,r,s,o,l){return bmPow(1-t,3)*n[l]+3*bmPow(1-t,2)*t*r[l]+3*(1-t)*bmPow(t,2)*s[l]+bmPow(t,3)*o[l]},HShapeElement.prototype.calculateBoundingBox=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],n):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,n):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,n)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,n){var r=0;if(t.keyframes){for(var s=0;s<t.keyframes.length;s+=1){var o=t.keyframes[s].s;o>r&&(r=o)}r*=t.mult}else r=t.v*t.mult;n.x-=r,n.xMax+=r,n.y-=r,n.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,n=999999;if(t.x=n,t.xMax=-n,t.y=n,t.yMax=-n,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=o,s.webkitTransform=o}}};function HTextElement(t,n,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var n=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";n.fill=r,n.color=r,t.sc&&(n.stroke=this.buildColor(t.sc),n.strokeWidth=t.sw+"px");var s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(n.fontSize=t.finalSize+"px",n.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{n.fontFamily=s.fFamily;var o=t.fWeight,l=t.fStyle;n.fontStyle=l,n.fontWeight=o}var c,p,m=t.l;p=m.length;var x,b,S,R=this.mHelper,k,M="",j=0;for(c=0;c<p;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[j]?x=this.textPaths[j]:(x=createNS("path"),x.setAttribute("stroke-linecap",lineCapEnum[1]),x.setAttribute("stroke-linejoin",lineJoinEnum[2]),x.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[j]?(b=this.textSpans[j],S=b.children[0]):(b=createTag("div"),b.style.lineHeight=0,S=createNS("svg"),S.appendChild(x),styleDiv(b)))):this.isMasked?x=this.textPaths[j]?this.textPaths[j]:createNS("text"):this.textSpans[j]?(b=this.textSpans[j],x=this.textPaths[j]):(b=createTag("span"),styleDiv(b),x=createTag("span"),styleDiv(x),b.appendChild(x)),this.globalData.fontManager.chars){var G=this.globalData.fontManager.getCharData(t.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),P;if(G?P=G.data:P=null,R.reset(),P&&P.shapes&&P.shapes.length&&(k=P.shapes[0].it,R.scale(t.finalSize/100,t.finalSize/100),M=this.createPathShape(R,k),x.setAttribute("d",M)),this.isMasked)this.innerElem.appendChild(x);else{if(this.innerElem.appendChild(b),P&&P.shapes){document.body.appendChild(S);var Q=S.getBBox();S.setAttribute("width",Q.width+2),S.setAttribute("height",Q.height+2),S.setAttribute("viewBox",Q.x-1+" "+(Q.y-1)+" "+(Q.width+2)+" "+(Q.height+2));var H=S.style,X="translate("+(Q.x-1)+"px,"+(Q.y-1)+"px)";H.transform=X,H.webkitTransform=X,m[c].yOffset=Q.y-1}else S.setAttribute("width",1),S.setAttribute("height",1);b.appendChild(S)}}else if(x.textContent=m[c].val,x.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(x);else{this.innerElem.appendChild(b);var ee=x.style,ne="translate3d(0,"+-t.finalSize/1.2+"px,0)";ee.transform=ne,ee.webkitTransform=ne}this.isMasked?this.textSpans[j]=x:this.textSpans[j]=b,this.textSpans[j].style.display="block",this.textPaths[j]=x,j+=1}for(;j<this.textSpans.length;)this.textSpans[j].style.display="none",j+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var n="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=n,t.webkitTransform=n}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,s,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;s=c.length;var p,m,x;for(r=0;r<s;r+=1)c[r].n?o+=1:(m=this.textSpans[r],x=this.textPaths[r],p=l[o],o+=1,p._mdf.m&&(this.isMasked?m.setAttribute("transform",p.m):(m.style.webkitTransform=p.m,m.style.transform=p.m)),m.style.opacity=p.o,p.sw&&p._mdf.sw&&x.setAttribute("stroke-width",p.sw),p.sc&&p._mdf.sc&&x.setAttribute("stroke",p.sc),p.fc&&p._mdf.fc&&(x.setAttribute("fill",p.fc),x.style.color=p.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var b=this.innerElem.getBBox();this.currentBBox.w!==b.width&&(this.currentBBox.w=b.width,this.svgElement.setAttribute("width",b.width)),this.currentBBox.h!==b.height&&(this.currentBBox.h=b.height,this.svgElement.setAttribute("height",b.height));var S=1;if(this.currentBBox.w!==b.width+S*2||this.currentBBox.h!==b.height+S*2||this.currentBBox.x!==b.x-S||this.currentBBox.y!==b.y-S){this.currentBBox.w=b.width+S*2,this.currentBBox.h=b.height+S*2,this.currentBBox.x=b.x-S,this.currentBBox.y=b.y-S,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=R,t.webkitTransform=R}}}};function HCameraElement(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var o,l=t.ks.or.k.length;for(o=0;o<l;o+=1)t.ks.or.k[o].to=null,t.ks.or.k[o].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,n=this.comp.threeDElements.length,r,s,o;for(t=0;t<n;t+=1)if(r=this.comp.threeDElements[t],r.type==="3d"){s=r.perspectiveElem.style,o=r.container.style;var l=this.pe.v+"px",c="0px 0px 0px",p="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.perspective=l,s.webkitPerspective=l,o.transformOrigin=c,o.mozTransformOrigin=c,o.webkitTransformOrigin=c,s.transform=p,s.webkitTransform=p}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,n,r;if(this.hierarchy)for(r=this.hierarchy.length,n=0;n<r;n+=1)t=this.hierarchy[n].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,n=r;n>=0;n-=1){var s=this.hierarchy[n].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var l=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),c=[o[0]/l,o[1]/l,o[2]/l],p=Math.sqrt(c[2]*c[2]+c[0]*c[0]),m=Math.atan2(c[1],p),x=Math.atan2(c[0],-c[2]);this.mat.rotateY(x).rotateX(-m)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var b=!this._prevMat.equals(this.mat);if((b||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var S,R,k;for(n=0;n<r;n+=1)if(S=this.comp.threeDElements[n],S.type==="3d"){if(b){var M=this.mat.toCSS();k=S.container.style,k.transform=M,k.webkitTransform=M}this.pe._mdf&&(R=S.perspectiveElem.style,R.perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),n=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(n),n.crossOrigin="anonymous",n.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:n&&n.className||"",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(n&&n.hideOnTransparent===!1),filterSize:{width:n&&n.filterSize&&n.filterSize.width||"400%",height:n&&n.filterSize&&n.filterSize.height||"400%",x:n&&n.filterSize&&n.filterSize.x||"-100%",y:n&&n.filterSize&&n.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,n){var r=t.getBaseElement();if(r){var s=this.layers[n];if(!s.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,n);else{for(var o=0,l,c,p;o<n;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(c=this.elements[o],p=this.layers[o].ddd?this.getThreeDContainerByPos(o):c.getBaseElement(),l=p||l),o+=1;l?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,l):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,n)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var n=0,r=this.threeDElements.length;n<r;){if(this.threeDElements[n].startPos<=t&&this.threeDElements[n].endPos>=t)return this.threeDElements[n].perspectiveElem;n+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,n){var r=createTag("div"),s,o;styleDiv(r);var l=createTag("div");if(styleDiv(l),n==="3d"){s=r.style,s.width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var c="50% 50%";s.webkitTransformOrigin=c,s.mozTransformOrigin=c,s.transformOrigin=c,o=l.style;var p="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=p,o.webkitTransform=p}r.appendChild(l);var m={container:l,perspectiveElem:r,startPos:t,endPos:t,type:n};return this.threeDElements.push(m),m},HybridRendererBase.prototype.build3dContainers=function(){var t,n=this.layers.length,r,s="";for(t=0;t<n;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(s!=="3d"&&(s="3d",r=this.createThreeDContainer(t,"3d")),r.endPos=Math.max(r.endPos,t)):(s!=="2d"&&(s="2d",r=this.createThreeDContainer(t,"2d")),r.endPos=Math.max(r.endPos,t));for(n=this.threeDElements.length,t=n-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,n){for(var r=0,s=this.threeDElements.length;r<s;){if(n<=this.threeDElements[r].endPos){for(var o=this.threeDElements[r].startPos,l;o<n;)this.elements[o]&&this.elements[o].getBaseElement&&(l=this.elements[o].getBaseElement()),o+=1;l?this.threeDElements[r].container.insertBefore(t,l):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var n=createTag("div"),r=this.animationItem.wrapper,s=n.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=n,styleDiv(n),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&n.setAttribute("class",this.renderConfig.className),r.appendChild(n),s.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var l=createNS("defs");o.appendChild(l),this.data=t,this.setupGlobalData(t,o),this.globalData.defs=l,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,n=this.layers?this.layers.length:0;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight,r=t/n,s=this.globalData.compSize.w/this.globalData.compSize.h,o,l,c,p;s>r?(o=t/this.globalData.compSize.w,l=t/this.globalData.compSize.w,c=0,p=(n-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(o=n/this.globalData.compSize.h,l=n/this.globalData.compSize.h,c=(t-this.globalData.compSize.w*(n/this.globalData.compSize.h))/2,p=0);var m=this.resizerElem.style;m.webkitTransform="matrix3d("+o+",0,0,0,0,"+l+",0,0,0,0,1,0,"+c+","+p+",0,1)",m.transform=m.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,n=this.globalData.compSize.h,r,s=this.threeDElements.length;for(r=0;r<s;r+=1){var o=this.threeDElements[r].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var n,r=t.length,s=createTag("div");for(n=0;n<r;n+=1)if(t[n].xt){var o=this.createComp(t[n],s,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(t,n,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,n){for(var r=0,s;r<n;)this.elements[r]&&this.elements[r].getBaseElement&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(t,s):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:n&&n.className||"",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(n&&n.hideOnTransparent===!1),filterSize:{width:n&&n.filterSize&&n.filterSize.width||"400%",height:n&&n.filterSize&&n.filterSize.height||"400%",x:n&&n.filterSize&&n.filterSize.x||"-100%",y:n&&n.filterSize&&n.filterSize.y||"-100%"},runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=(function(){return function(t){function n(r){for(var s=0,o=t.layers.length;s<o;){if(t.layers[s].nm===r||t.layers[s].ind===r)return t.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(n,"_name",{value:t.data.nm}),n.layer=n,n.pixelAspect=1,n.height=t.data.h||t.globalData.compSize.h,n.width=t.data.w||t.globalData.compSize.w,n.pixelAspect=1,n.frameDuration=1/t.globalData.frameRate,n.displayStartTime=0,n.numLayers=t.layers.length,n}})();function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(t)}function seedRandom(t,n){var r=this,s=256,o=6,l=52,c="random",p=n.pow(s,o),m=n.pow(2,l),x=m*2,b=s-1,S;function R(H,X,ee){var ne=[];X=X===!0?{entropy:!0}:X||{};var Y=G(j(X.entropy?[H,Q(t)]:H===null?P():H,3),ne),re=new k(ne),oe=function(){for(var ve=re.g(o),me=p,we=0;ve<m;)ve=(ve+we)*s,me*=s,we=re.g(1);for(;ve>=x;)ve/=2,me/=2,we>>>=1;return(ve+we)/me};return oe.int32=function(){return re.g(4)|0},oe.quick=function(){return re.g(4)/4294967296},oe.double=oe,G(Q(re.S),t),(X.pass||ee||function(xe,ve,me,we){return we&&(we.S&&M(we,re),xe.state=function(){return M(re,{})}),me?(n[c]=xe,ve):xe})(oe,Y,"global"in X?X.global:this==n,X.state)}n["seed"+c]=R;function k(H){var X,ee=H.length,ne=this,Y=0,re=ne.i=ne.j=0,oe=ne.S=[];for(ee||(H=[ee++]);Y<s;)oe[Y]=Y++;for(Y=0;Y<s;Y++)oe[Y]=oe[re=b&re+H[Y%ee]+(X=oe[Y])],oe[re]=X;ne.g=function(xe){for(var ve,me=0,we=ne.i,Ee=ne.j,he=ne.S;xe--;)ve=he[we=b&we+1],me=me*s+he[b&(he[we]=he[Ee=b&Ee+ve])+(he[Ee]=ve)];return ne.i=we,ne.j=Ee,me}}function M(H,X){return X.i=H.i,X.j=H.j,X.S=H.S.slice(),X}function j(H,X){var ee=[],ne=_typeof$2(H),Y;if(X&&ne=="object")for(Y in H)try{ee.push(j(H[Y],X-1))}catch{}return ee.length?ee:ne=="string"?H:H+"\0"}function G(H,X){for(var ee=H+"",ne,Y=0;Y<ee.length;)X[b&Y]=b&(ne^=X[b&Y]*19)+ee.charCodeAt(Y++);return Q(X)}function P(){try{var H=new Uint8Array(s);return(r.crypto||r.msCrypto).getRandomValues(H),Q(H)}catch{var X=r.navigator,ee=X&&X.plugins;return[+new Date,r,ee,r.screen,Q(t)]}}function Q(H){return String.fromCharCode.apply(0,H)}G(n.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,n){return t==="number"||n instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var n=_typeof$1(t);if(n==="number"||t instanceof Number||n==="boolean")return-t;if($bm_isInstanceOfArray(t)){var r,s=t.length,o=[];for(r=0;r<s;r+=1)o[r]=-t[r];return o}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,n){var r=_typeof$1(t),s=_typeof$1(n);if(isNumerable(r,t)&&isNumerable(s,n)||r==="string"||s==="string")return t+n;if($bm_isInstanceOfArray(t)&&isNumerable(s,n))return t=t.slice(0),t[0]+=n,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(n))return n=n.slice(0),n[0]=t+n[0],n;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(n)){for(var o=0,l=t.length,c=n.length,p=[];o<l||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof n[o]=="number"||n[o]instanceof Number)?p[o]=t[o]+n[o]:p[o]=n[o]===void 0?t[o]:t[o]||n[o],o+=1;return p}return 0}var add=sum;function sub(t,n){var r=_typeof$1(t),s=_typeof$1(n);if(isNumerable(r,t)&&isNumerable(s,n))return r==="string"&&(t=parseInt(t,10)),s==="string"&&(n=parseInt(n,10)),t-n;if($bm_isInstanceOfArray(t)&&isNumerable(s,n))return t=t.slice(0),t[0]-=n,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(n))return n=n.slice(0),n[0]=t-n[0],n;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(n)){for(var o=0,l=t.length,c=n.length,p=[];o<l||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof n[o]=="number"||n[o]instanceof Number)?p[o]=t[o]-n[o]:p[o]=n[o]===void 0?t[o]:t[o]||n[o],o+=1;return p}return 0}function mul(t,n){var r=_typeof$1(t),s=_typeof$1(n),o;if(isNumerable(r,t)&&isNumerable(s,n))return t*n;var l,c;if($bm_isInstanceOfArray(t)&&isNumerable(s,n)){for(c=t.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t[l]*n;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(n)){for(c=n.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t*n[l];return o}return 0}function div(t,n){var r=_typeof$1(t),s=_typeof$1(n),o;if(isNumerable(r,t)&&isNumerable(s,n))return t/n;var l,c;if($bm_isInstanceOfArray(t)&&isNumerable(s,n)){for(c=t.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t[l]/n;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(n)){for(c=n.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t/n[l];return o}return 0}function mod(t,n){return typeof t=="string"&&(t=parseInt(t,10)),typeof n=="string"&&(n=parseInt(n,10)),t%n}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,n,r){if(n>r){var s=r;r=n,n=s}return Math.min(Math.max(t,n),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,n){if(typeof t=="number"||t instanceof Number)return n=n||0,Math.abs(t-n);n||(n=helperLengthArray);var r,s=Math.min(t.length,n.length),o=0;for(r=0;r<s;r+=1)o+=Math.pow(n[r]-t[r],2);return Math.sqrt(o)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var n=t[0],r=t[1],s=t[2],o=Math.max(n,r,s),l=Math.min(n,r,s),c,p,m=(o+l)/2;if(o===l)c=0,p=0;else{var x=o-l;switch(p=m>.5?x/(2-o-l):x/(o+l),o){case n:c=(r-s)/x+(r<s?6:0);break;case r:c=(s-n)/x+2;break;case s:c=(n-r)/x+4;break}c/=6}return[c,p,m,t[3]]}function hue2rgb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function hslToRgb(t){var n=t[0],r=t[1],s=t[2],o,l,c;if(r===0)o=s,c=s,l=s;else{var p=s<.5?s*(1+r):s+r-s*r,m=2*s-p;o=hue2rgb(m,p,n+1/3),l=hue2rgb(m,p,n),c=hue2rgb(m,p,n-1/3)}return[o,l,c,t[3]]}function linear(t,n,r,s,o){if((s===void 0||o===void 0)&&(s=n,o=r,n=0,r=1),r<n){var l=r;r=n,n=l}if(t<=n)return s;if(t>=r)return o;var c=r===n?0:(t-n)/(r-n);if(!s.length)return s+(o-s)*c;var p,m=s.length,x=createTypedArray("float32",m);for(p=0;p<m;p+=1)x[p]=s[p]+(o[p]-s[p])*c;return x}function random(t,n){if(n===void 0&&(t===void 0?(t=0,n=1):(n=t,t=void 0)),n.length){var r,s=n.length;t||(t=createTypedArray("float32",s));var o=createTypedArray("float32",s),l=BMMath.random();for(r=0;r<s;r+=1)o[r]=t[r]+l*(n[r]-t[r]);return o}t===void 0&&(t=0);var c=BMMath.random();return t+c*(n-t)}function createPath(t,n,r,s){var o,l=t.length,c=shapePool.newElement();c.setPathData(!!s,l);var p=[0,0],m,x;for(o=0;o<l;o+=1)m=n&&n[o]?n[o]:p,x=r&&r[o]?r[o]:p,c.setTripleAt(t[o][0],t[o][1],x[0]+t[o][0],x[1]+t[o][1],m[0]+t[o][0],m[1]+t[o][1],o,!0);return c}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(n,r){var s,o,l=this.pv.length?this.pv.length:1,c=createTypedArray("float32",l);n=5;var p=Math.floor(time*n);for(s=0,o=0;s<p;){for(o=0;o<l;o+=1)c[o]+=-r+r*2*BMMath.random();s+=1}var m=time*n,x=m-Math.floor(m),b=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)b[o]=this.pv[o]+c[o]+(-r+r*2*BMMath.random())*x;return b}return this.pv+c[0]+(-r+r*2*BMMath.random())*x}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,n){return loopIn(t,n,!0)}function loopOutDuration(t,n){return loopOut(t,n,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,n){var r=[n[0]-t[0],n[1]-t[1],n[2]-t[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,o=-Math.atan2(r[1],r[2])/degToRads;return[o,s,0]}function easeOut(t,n,r,s,o){return applyEase(easeOutBez,t,n,r,s,o)}function easeIn(t,n,r,s,o){return applyEase(easeInBez,t,n,r,s,o)}function ease(t,n,r,s,o){return applyEase(easeInOutBez,t,n,r,s,o)}function applyEase(t,n,r,s,o,l){o===void 0?(o=r,l=s):n=(n-r)/(s-r),n>1?n=1:n<0&&(n=0);var c=t(n);if($bm_isInstanceOfArray(o)){var p,m=o.length,x=createTypedArray("float32",m);for(p=0;p<m;p+=1)x[p]=(l[p]-o[p])*c+o[p];return x}return(l-o)*c+o}function nearestKey(t){var n,r=data.k.length,s,o;if(!data.k.length||typeof data.k[0]=="number")s=0,o=0;else if(s=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)s=1,o=data.k[0].t;else{for(n=0;n<r-1;n+=1)if(t===data.k[n].t){s=n+1,o=data.k[n].t;break}else if(t>data.k[n].t&&t<data.k[n+1].t){t-data.k[n].t>data.k[n+1].t-t?(s=n+2,o=data.k[n+1].t):(s=n+1,o=data.k[n].t);break}s===-1&&(s=n+1,o=data.k[n].t)}var l={};return l.index=s,l.time=o/elem.comp.globalData.frameRate,l}function key(t){var n,r,s;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,n={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(s=o.length,r=0;r<s;r+=1)n[r]=o[r],n.value[r]=o[r];return n}function framesToTime(t,n){return n||(n=elem.comp.globalData.frameRate),t/n}function timeToFrames(t,n){return!t&&t!==0&&(t=time),n||(n=elem.comp.globalData.frameRate),t*n}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,n){return typeof value=="string"?n===void 0?value.substring(t):value.substring(t,n):""}function substr(t,n){return typeof value=="string"?n===void 0?value.substr(t):value.substr(t,n):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var t={};t.initExpressions=n,t.resetFrame=ExpressionManager.resetFrame;function n(r){var s=0,o=[];function l(){s+=1}function c(){s-=1,s===0&&m()}function p(x){o.indexOf(x)===-1&&o.push(x)}function m(){var x,b=o.length;for(x=0;x<b;x+=1)o[x].release();o.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=l,r.renderer.globalData.popExpression=c,r.renderer.globalData.registerExpressionProperty=p}return t})(),MaskManagerInterface=(function(){function t(r,s){this._mask=r,this._data=s}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var n=function(s){var o=createSizedArray(s.viewData.length),l,c=s.viewData.length;for(l=0;l<c;l+=1)o[l]=new t(s.viewData[l],s.masksProperties[l]);var p=function(x){for(l=0;l<c;){if(s.masksProperties[l].nm===x)return o[l];l+=1}return null};return p};return n})(),ExpressionPropertyInterface=(function(){var t={pv:0,v:0,mult:1},n={pv:[0,0,0],v:[0,0,0],mult:1};function r(c,p,m){Object.defineProperty(c,"velocity",{get:function(){return p.getVelocityAtTime(p.comp.currentFrame)}}),c.numKeys=p.keyframes?p.keyframes.length:0,c.key=function(x){if(!c.numKeys)return 0;var b="";"s"in p.keyframes[x-1]?b=p.keyframes[x-1].s:"e"in p.keyframes[x-2]?b=p.keyframes[x-2].e:b=p.keyframes[x-2].s;var S=m==="unidimensional"?new Number(b):Object.assign({},b);return S.time=p.keyframes[x-1].t/p.elem.comp.globalData.frameRate,S.value=m==="unidimensional"?b[0]:b,S},c.valueAtTime=p.getValueAtTime,c.speedAtTime=p.getSpeedAtTime,c.velocityAtTime=p.getVelocityAtTime,c.propertyGroup=p.propertyGroup}function s(c){(!c||!("pv"in c))&&(c=t);var p=1/c.mult,m=c.pv*p,x=new Number(m);return x.value=m,r(x,c,"unidimensional"),function(){return c.k&&c.getValue(),m=c.v*p,x.value!==m&&(x=new Number(m),x.value=m,x[0]=m,r(x,c,"unidimensional")),x}}function o(c){(!c||!("pv"in c))&&(c=n);var p=1/c.mult,m=c.data&&c.data.l||c.pv.length,x=createTypedArray("float32",m),b=createTypedArray("float32",m);return x.value=b,r(x,c,"multidimensional"),function(){c.k&&c.getValue();for(var S=0;S<m;S+=1)b[S]=c.v[S]*p,x[S]=b[S];return x}}function l(){return t}return function(c){return c?c.propType==="unidimensional"?s(c):o(c):l}})(),TransformExpressionInterface=(function(){return function(t){function n(c){switch(c){case"scale":case"Scale":case"ADBE Scale":case 6:return n.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return n.rotation;case"ADBE Rotate X":return n.xRotation;case"ADBE Rotate Y":return n.yRotation;case"position":case"Position":case"ADBE Position":case 2:return n.position;case"ADBE Position_0":return n.xPosition;case"ADBE Position_1":return n.yPosition;case"ADBE Position_2":return n.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return n.anchorPoint;case"opacity":case"Opacity":case 11:return n.opacity;default:return null}}Object.defineProperty(n,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(n,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(n,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(n,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(n,"scale",{get:ExpressionPropertyInterface(t.s)});var r,s,o,l;return t.p?l=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py),t.pz&&(o=ExpressionPropertyInterface(t.pz))),Object.defineProperty(n,"position",{get:function(){return t.p?l():[r(),s(),o?o():0]}}),Object.defineProperty(n,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(n,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(n,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(n,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(n,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(n,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(n,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(n,"orientation",{get:ExpressionPropertyInterface(t.or)}),n}})(),LayerExpressionInterface=(function(){function t(x){var b=new Matrix;if(x!==void 0){var S=this._elem.finalTransform.mProp.getValueAtTime(x);S.clone(b)}else{var R=this._elem.finalTransform.mProp;R.applyToMatrix(b)}return b}function n(x,b){var S=this.getMatrix(b);return S.props[12]=0,S.props[13]=0,S.props[14]=0,this.applyPoint(S,x)}function r(x,b){var S=this.getMatrix(b);return this.applyPoint(S,x)}function s(x,b){var S=this.getMatrix(b);return S.props[12]=0,S.props[13]=0,S.props[14]=0,this.invertPoint(S,x)}function o(x,b){var S=this.getMatrix(b);return this.invertPoint(S,x)}function l(x,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var S,R=this._elem.hierarchy.length;for(S=0;S<R;S+=1)this._elem.hierarchy[S].finalTransform.mProp.applyToMatrix(x)}return x.applyToPointArray(b[0],b[1],b[2]||0)}function c(x,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var S,R=this._elem.hierarchy.length;for(S=0;S<R;S+=1)this._elem.hierarchy[S].finalTransform.mProp.applyToMatrix(x)}return x.inversePoint(b)}function p(x){var b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){var S,R=this._elem.hierarchy.length;for(S=0;S<R;S+=1)this._elem.hierarchy[S].finalTransform.mProp.applyToMatrix(b);return b.inversePoint(x)}return b.inversePoint(x)}function m(){return[1,1,1,1]}return function(x){var b;function S(j){k.mask=new MaskManagerInterface(j,x)}function R(j){k.effect=j}function k(j){switch(j){case"ADBE Root Vectors Group":case"Contents":case 2:return k.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return b;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return k.effect;case"ADBE Text Properties":return k.textInterface;default:return null}}k.getMatrix=t,k.invertPoint=c,k.applyPoint=l,k.toWorld=r,k.toWorldVec=n,k.fromWorld=o,k.fromWorldVec=s,k.toComp=r,k.fromComp=p,k.sampleImage=m,k.sourceRectAtTime=x.sourceRectAtTime.bind(x),k._elem=x,b=TransformExpressionInterface(x.finalTransform.mProp);var M=getDescriptor(b,"anchorPoint");return Object.defineProperties(k,{hasParent:{get:function(){return x.hierarchy.length}},parent:{get:function(){return x.hierarchy[0].layerInterface}},rotation:getDescriptor(b,"rotation"),scale:getDescriptor(b,"scale"),position:getDescriptor(b,"position"),opacity:getDescriptor(b,"opacity"),anchorPoint:M,anchor_point:M,transform:{get:function(){return b}},active:{get:function(){return x.isInRange}}}),k.startTime=x.data.st,k.index=x.data.ind,k.source=x.data.refId,k.height=x.data.ty===0?x.data.h:100,k.width=x.data.ty===0?x.data.w:100,k.inPoint=x.data.ip/x.comp.globalData.frameRate,k.outPoint=x.data.op/x.comp.globalData.frameRate,k._name=x.data.nm,k.registerMaskInterface=S,k.registerEffectsInterface=R,k}})(),propertyGroupFactory=(function(){return function(t,n){return function(r){return r=r===void 0?1:r,r<=0?t:n(r-1)}}})(),PropertyInterface=(function(){return function(t,n){var r={_name:t};function s(o){return o=o===void 0?1:o,o<=0?r:n(o-1)}return s}})(),EffectsExpressionInterface=(function(){var t={createEffectsInterface:n};function n(o,l){if(o.effectsManager){var c=[],p=o.data.ef,m,x=o.effectsManager.effectElements.length;for(m=0;m<x;m+=1)c.push(r(p[m],o.effectsManager.effectElements[m],l,o));var b=o.data.ef||[],S=function(k){for(m=0,x=b.length;m<x;){if(k===b[m].nm||k===b[m].mn||k===b[m].ix)return c[m];m+=1}return null};return Object.defineProperty(S,"numProperties",{get:function(){return b.length}}),S}return null}function r(o,l,c,p){function m(k){for(var M=o.ef,j=0,G=M.length;j<G;){if(k===M[j].nm||k===M[j].mn||k===M[j].ix)return M[j].ty===5?b[j]:b[j]();j+=1}throw new Error}var x=propertyGroupFactory(m,c),b=[],S,R=o.ef.length;for(S=0;S<R;S+=1)o.ef[S].ty===5?b.push(r(o.ef[S],l.effectElements[S],l.effectElements[S].propertyGroup,p)):b.push(s(l.effectElements[S],o.ef[S].ty,p,x));return o.mn==="ADBE Color Control"&&Object.defineProperty(m,"color",{get:function(){return b[0]()}}),Object.defineProperties(m,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:x}}),m.enabled=o.en!==0,m.active=m.enabled,m}function s(o,l,c,p){var m=ExpressionPropertyInterface(o.p);function x(){return l===10?c.comp.compInterface(o.p.v):m()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",p)),x}return t})(),ShapePathInterface=(function(){return function(n,r,s){var o=r.sh;function l(p){return p==="Shape"||p==="shape"||p==="Path"||p==="path"||p==="ADBE Vector Shape"||p===2?l.path:null}var c=propertyGroupFactory(l,s);return o.setGroupProperty(PropertyInterface("Path",c)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:n.nm},ix:{value:n.ix},propertyIndex:{value:n.ix},mn:{value:n.mn},propertyGroup:{value:s}}),l}})(),ShapeExpressionInterface=(function(){function t(M,j,G){var P=[],Q,H=M?M.length:0;for(Q=0;Q<H;Q+=1)M[Q].ty==="gr"?P.push(r(M[Q],j[Q],G)):M[Q].ty==="fl"?P.push(s(M[Q],j[Q],G)):M[Q].ty==="st"?P.push(c(M[Q],j[Q],G)):M[Q].ty==="tm"?P.push(p(M[Q],j[Q],G)):M[Q].ty==="tr"||(M[Q].ty==="el"?P.push(x(M[Q],j[Q],G)):M[Q].ty==="sr"?P.push(b(M[Q],j[Q],G)):M[Q].ty==="sh"?P.push(ShapePathInterface(M[Q],j[Q],G)):M[Q].ty==="rc"?P.push(S(M[Q],j[Q],G)):M[Q].ty==="rd"?P.push(R(M[Q],j[Q],G)):M[Q].ty==="rp"?P.push(k(M[Q],j[Q],G)):M[Q].ty==="gf"?P.push(o(M[Q],j[Q],G)):P.push(l(M[Q],j[Q])));return P}function n(M,j,G){var P,Q=function(ee){for(var ne=0,Y=P.length;ne<Y;){if(P[ne]._name===ee||P[ne].mn===ee||P[ne].propertyIndex===ee||P[ne].ix===ee||P[ne].ind===ee)return P[ne];ne+=1}return typeof ee=="number"?P[ee-1]:null};Q.propertyGroup=propertyGroupFactory(Q,G),P=t(M.it,j.it,Q.propertyGroup),Q.numProperties=P.length;var H=m(M.it[M.it.length-1],j.it[j.it.length-1],Q.propertyGroup);return Q.transform=H,Q.propertyIndex=M.cix,Q._name=M.nm,Q}function r(M,j,G){var P=function(ee){switch(ee){case"ADBE Vectors Group":case"Contents":case 2:return P.content;default:return P.transform}};P.propertyGroup=propertyGroupFactory(P,G);var Q=n(M,j,P.propertyGroup),H=m(M.it[M.it.length-1],j.it[j.it.length-1],P.propertyGroup);return P.content=Q,P.transform=H,Object.defineProperty(P,"_name",{get:function(){return M.nm}}),P.numProperties=M.np,P.propertyIndex=M.ix,P.nm=M.nm,P.mn=M.mn,P}function s(M,j,G){function P(Q){return Q==="Color"||Q==="color"?P.color:Q==="Opacity"||Q==="opacity"?P.opacity:null}return Object.defineProperties(P,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},_name:{value:M.nm},mn:{value:M.mn}}),j.c.setGroupProperty(PropertyInterface("Color",G)),j.o.setGroupProperty(PropertyInterface("Opacity",G)),P}function o(M,j,G){function P(Q){return Q==="Start Point"||Q==="start point"?P.startPoint:Q==="End Point"||Q==="end point"?P.endPoint:Q==="Opacity"||Q==="opacity"?P.opacity:null}return Object.defineProperties(P,{startPoint:{get:ExpressionPropertyInterface(j.s)},endPoint:{get:ExpressionPropertyInterface(j.e)},opacity:{get:ExpressionPropertyInterface(j.o)},type:{get:function(){return"a"}},_name:{value:M.nm},mn:{value:M.mn}}),j.s.setGroupProperty(PropertyInterface("Start Point",G)),j.e.setGroupProperty(PropertyInterface("End Point",G)),j.o.setGroupProperty(PropertyInterface("Opacity",G)),P}function l(){function M(){return null}return M}function c(M,j,G){var P=propertyGroupFactory(Y,G),Q=propertyGroupFactory(ne,P);function H(re){Object.defineProperty(ne,M.d[re].nm,{get:ExpressionPropertyInterface(j.d.dataProps[re].p)})}var X,ee=M.d?M.d.length:0,ne={};for(X=0;X<ee;X+=1)H(X),j.d.dataProps[X].p.setGroupProperty(Q);function Y(re){return re==="Color"||re==="color"?Y.color:re==="Opacity"||re==="opacity"?Y.opacity:re==="Stroke Width"||re==="stroke width"?Y.strokeWidth:null}return Object.defineProperties(Y,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},strokeWidth:{get:ExpressionPropertyInterface(j.w)},dash:{get:function(){return ne}},_name:{value:M.nm},mn:{value:M.mn}}),j.c.setGroupProperty(PropertyInterface("Color",P)),j.o.setGroupProperty(PropertyInterface("Opacity",P)),j.w.setGroupProperty(PropertyInterface("Stroke Width",P)),Y}function p(M,j,G){function P(H){return H===M.e.ix||H==="End"||H==="end"?P.end:H===M.s.ix?P.start:H===M.o.ix?P.offset:null}var Q=propertyGroupFactory(P,G);return P.propertyIndex=M.ix,j.s.setGroupProperty(PropertyInterface("Start",Q)),j.e.setGroupProperty(PropertyInterface("End",Q)),j.o.setGroupProperty(PropertyInterface("Offset",Q)),P.propertyIndex=M.ix,P.propertyGroup=G,Object.defineProperties(P,{start:{get:ExpressionPropertyInterface(j.s)},end:{get:ExpressionPropertyInterface(j.e)},offset:{get:ExpressionPropertyInterface(j.o)},_name:{value:M.nm}}),P.mn=M.mn,P}function m(M,j,G){function P(H){return M.a.ix===H||H==="Anchor Point"?P.anchorPoint:M.o.ix===H||H==="Opacity"?P.opacity:M.p.ix===H||H==="Position"?P.position:M.r.ix===H||H==="Rotation"||H==="ADBE Vector Rotation"?P.rotation:M.s.ix===H||H==="Scale"?P.scale:M.sk&&M.sk.ix===H||H==="Skew"?P.skew:M.sa&&M.sa.ix===H||H==="Skew Axis"?P.skewAxis:null}var Q=propertyGroupFactory(P,G);return j.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Q)),j.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Q)),j.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Q)),j.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Q)),j.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Q)),j.transform.mProps.sk&&(j.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Q)),j.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Q))),j.transform.op.setGroupProperty(PropertyInterface("Opacity",Q)),Object.defineProperties(P,{opacity:{get:ExpressionPropertyInterface(j.transform.mProps.o)},position:{get:ExpressionPropertyInterface(j.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(j.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(j.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(j.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(j.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(j.transform.mProps.sa)},_name:{value:M.nm}}),P.ty="tr",P.mn=M.mn,P.propertyGroup=G,P}function x(M,j,G){function P(X){return M.p.ix===X?P.position:M.s.ix===X?P.size:null}var Q=propertyGroupFactory(P,G);P.propertyIndex=M.ix;var H=j.sh.ty==="tm"?j.sh.prop:j.sh;return H.s.setGroupProperty(PropertyInterface("Size",Q)),H.p.setGroupProperty(PropertyInterface("Position",Q)),Object.defineProperties(P,{size:{get:ExpressionPropertyInterface(H.s)},position:{get:ExpressionPropertyInterface(H.p)},_name:{value:M.nm}}),P.mn=M.mn,P}function b(M,j,G){function P(X){return M.p.ix===X?P.position:M.r.ix===X?P.rotation:M.pt.ix===X?P.points:M.or.ix===X||X==="ADBE Vector Star Outer Radius"?P.outerRadius:M.os.ix===X?P.outerRoundness:M.ir&&(M.ir.ix===X||X==="ADBE Vector Star Inner Radius")?P.innerRadius:M.is&&M.is.ix===X?P.innerRoundness:null}var Q=propertyGroupFactory(P,G),H=j.sh.ty==="tm"?j.sh.prop:j.sh;return P.propertyIndex=M.ix,H.or.setGroupProperty(PropertyInterface("Outer Radius",Q)),H.os.setGroupProperty(PropertyInterface("Outer Roundness",Q)),H.pt.setGroupProperty(PropertyInterface("Points",Q)),H.p.setGroupProperty(PropertyInterface("Position",Q)),H.r.setGroupProperty(PropertyInterface("Rotation",Q)),M.ir&&(H.ir.setGroupProperty(PropertyInterface("Inner Radius",Q)),H.is.setGroupProperty(PropertyInterface("Inner Roundness",Q))),Object.defineProperties(P,{position:{get:ExpressionPropertyInterface(H.p)},rotation:{get:ExpressionPropertyInterface(H.r)},points:{get:ExpressionPropertyInterface(H.pt)},outerRadius:{get:ExpressionPropertyInterface(H.or)},outerRoundness:{get:ExpressionPropertyInterface(H.os)},innerRadius:{get:ExpressionPropertyInterface(H.ir)},innerRoundness:{get:ExpressionPropertyInterface(H.is)},_name:{value:M.nm}}),P.mn=M.mn,P}function S(M,j,G){function P(X){return M.p.ix===X?P.position:M.r.ix===X?P.roundness:M.s.ix===X||X==="Size"||X==="ADBE Vector Rect Size"?P.size:null}var Q=propertyGroupFactory(P,G),H=j.sh.ty==="tm"?j.sh.prop:j.sh;return P.propertyIndex=M.ix,H.p.setGroupProperty(PropertyInterface("Position",Q)),H.s.setGroupProperty(PropertyInterface("Size",Q)),H.r.setGroupProperty(PropertyInterface("Rotation",Q)),Object.defineProperties(P,{position:{get:ExpressionPropertyInterface(H.p)},roundness:{get:ExpressionPropertyInterface(H.r)},size:{get:ExpressionPropertyInterface(H.s)},_name:{value:M.nm}}),P.mn=M.mn,P}function R(M,j,G){function P(X){return M.r.ix===X||X==="Round Corners 1"?P.radius:null}var Q=propertyGroupFactory(P,G),H=j;return P.propertyIndex=M.ix,H.rd.setGroupProperty(PropertyInterface("Radius",Q)),Object.defineProperties(P,{radius:{get:ExpressionPropertyInterface(H.rd)},_name:{value:M.nm}}),P.mn=M.mn,P}function k(M,j,G){function P(X){return M.c.ix===X||X==="Copies"?P.copies:M.o.ix===X||X==="Offset"?P.offset:null}var Q=propertyGroupFactory(P,G),H=j;return P.propertyIndex=M.ix,H.c.setGroupProperty(PropertyInterface("Copies",Q)),H.o.setGroupProperty(PropertyInterface("Offset",Q)),Object.defineProperties(P,{copies:{get:ExpressionPropertyInterface(H.c)},offset:{get:ExpressionPropertyInterface(H.o)},_name:{value:M.nm}}),P.mn=M.mn,P}return function(M,j,G){var P;function Q(X){if(typeof X=="number")return X=X===void 0?1:X,X===0?G:P[X-1];for(var ee=0,ne=P.length;ee<ne;){if(P[ee]._name===X)return P[ee];ee+=1}return null}function H(){return G}return Q.propertyGroup=propertyGroupFactory(Q,H),P=t(M,j,Q.propertyGroup),Q.numProperties=P.length,Q._name="Contents",Q}})(),TextExpressionInterface=(function(){return function(t){var n;function r(s){switch(s){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return(!n||o!==n.value)&&(n=new String(o),n.value=o||new String(o),Object.defineProperty(n,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),n}}),r}})();function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}var FootageInterface=(function(){var t=function(s){var o="",l=s.getFootageData();function c(){return o="",l=s.getFootageData(),p}function p(m){if(l[m])return o=m,l=l[m],_typeof(l)==="object"?p:l;var x=m.indexOf(o);if(x!==-1){var b=parseInt(m.substr(x+o.length),10);return l=l[b],_typeof(l)==="object"?p:l}return""}return c},n=function(s){function o(l){return l==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=t(s),o};return function(r){function s(o){return o==="Data"?s.dataInterface:null}return s._name="Data",s.dataInterface=n(r),s}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=(function(){function t(c,p,m){p.x&&(m.k=!0,m.x=!0,m.initiateExpression=ExpressionManager.initiateExpression,m.effectsSequence.push(m.initiateExpression(c,p,m).bind(m)))}function n(c){return c*=this.elem.globalData.frameRate,c-=this.offsetTime,c!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<c?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(c,this._cachingAtTime),this._cachingAtTime.lastFrame=c),this._cachingAtTime.value}function r(c){var p=-.01,m=this.getValueAtTime(c),x=this.getValueAtTime(c+p),b=0;if(m.length){var S;for(S=0;S<m.length;S+=1)b+=Math.pow(x[S]-m[S],2);b=Math.sqrt(b)*100}else b=0;return b}function s(c){if(this.vel!==void 0)return this.vel;var p=-.001,m=this.getValueAtTime(c),x=this.getValueAtTime(c+p),b;if(m.length){b=createTypedArray("float32",m.length);var S;for(S=0;S<m.length;S+=1)b[S]=(x[S]-m[S])/p}else b=(x-m)/p;return b}function o(){return this.pv}function l(c){this.propertyGroup=c}return{searchExpressions:t,getSpeedAtTime:r,getVelocityAtTime:s,getValueAtTime:n,getStaticValueAtTime:o,setGroupProperty:l}})();function addPropertyDecorator(){function t(R,k,M){if(!this.k||!this.keyframes)return this.pv;R=R?R.toLowerCase():"";var j=this.comp.renderedFrame,G=this.keyframes,P=G[G.length-1].t;if(j<=P)return this.pv;var Q,H;M?(k?Q=Math.abs(P-this.elem.comp.globalData.frameRate*k):Q=Math.max(0,P-this.elem.data.ip),H=P-Q):((!k||k>G.length-1)&&(k=G.length-1),H=G[G.length-1-k].t,Q=P-H);var X,ee,ne;if(R==="pingpong"){var Y=Math.floor((j-H)/Q);if(Y%2!==0)return this.getValueAtTime((Q-(j-H)%Q+H)/this.comp.globalData.frameRate,0)}else if(R==="offset"){var re=this.getValueAtTime(H/this.comp.globalData.frameRate,0),oe=this.getValueAtTime(P/this.comp.globalData.frameRate,0),xe=this.getValueAtTime(((j-H)%Q+H)/this.comp.globalData.frameRate,0),ve=Math.floor((j-H)/Q);if(this.pv.length){for(ne=new Array(re.length),ee=ne.length,X=0;X<ee;X+=1)ne[X]=(oe[X]-re[X])*ve+xe[X];return ne}return(oe-re)*ve+xe}else if(R==="continue"){var me=this.getValueAtTime(P/this.comp.globalData.frameRate,0),we=this.getValueAtTime((P-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ne=new Array(me.length),ee=ne.length,X=0;X<ee;X+=1)ne[X]=me[X]+(me[X]-we[X])*((j-P)/this.comp.globalData.frameRate)/5e-4;return ne}return me+(me-we)*((j-P)/.001)}return this.getValueAtTime(((j-H)%Q+H)/this.comp.globalData.frameRate,0)}function n(R,k,M){if(!this.k)return this.pv;R=R?R.toLowerCase():"";var j=this.comp.renderedFrame,G=this.keyframes,P=G[0].t;if(j>=P)return this.pv;var Q,H;M?(k?Q=Math.abs(this.elem.comp.globalData.frameRate*k):Q=Math.max(0,this.elem.data.op-P),H=P+Q):((!k||k>G.length-1)&&(k=G.length-1),H=G[k].t,Q=H-P);var X,ee,ne;if(R==="pingpong"){var Y=Math.floor((P-j)/Q);if(Y%2===0)return this.getValueAtTime(((P-j)%Q+P)/this.comp.globalData.frameRate,0)}else if(R==="offset"){var re=this.getValueAtTime(P/this.comp.globalData.frameRate,0),oe=this.getValueAtTime(H/this.comp.globalData.frameRate,0),xe=this.getValueAtTime((Q-(P-j)%Q+P)/this.comp.globalData.frameRate,0),ve=Math.floor((P-j)/Q)+1;if(this.pv.length){for(ne=new Array(re.length),ee=ne.length,X=0;X<ee;X+=1)ne[X]=xe[X]-(oe[X]-re[X])*ve;return ne}return xe-(oe-re)*ve}else if(R==="continue"){var me=this.getValueAtTime(P/this.comp.globalData.frameRate,0),we=this.getValueAtTime((P+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ne=new Array(me.length),ee=ne.length,X=0;X<ee;X+=1)ne[X]=me[X]+(me[X]-we[X])*(P-j)/.001;return ne}return me+(me-we)*(P-j)/.001}return this.getValueAtTime((Q-((P-j)%Q+P))/this.comp.globalData.frameRate,0)}function r(R,k){if(!this.k)return this.pv;if(R=(R||.4)*.5,k=Math.floor(k||5),k<=1)return this.pv;var M=this.comp.renderedFrame/this.comp.globalData.frameRate,j=M-R,G=M+R,P=k>1?(G-j)/(k-1):1,Q=0,H=0,X;this.pv.length?X=createTypedArray("float32",this.pv.length):X=0;for(var ee;Q<k;){if(ee=this.getValueAtTime(j+Q*P),this.pv.length)for(H=0;H<this.pv.length;H+=1)X[H]+=ee[H];else X+=ee;Q+=1}if(this.pv.length)for(H=0;H<this.pv.length;H+=1)X[H]/=k;else X/=k;return X}function s(R){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var k=this._transformCachingAtTime.v;if(k.cloneFromProps(this.pre.props),this.appliedTransformations<1){var M=this.a.getValueAtTime(R);k.translate(-M[0]*this.a.mult,-M[1]*this.a.mult,M[2]*this.a.mult)}if(this.appliedTransformations<2){var j=this.s.getValueAtTime(R);k.scale(j[0]*this.s.mult,j[1]*this.s.mult,j[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var G=this.sk.getValueAtTime(R),P=this.sa.getValueAtTime(R);k.skewFromAxis(-G*this.sk.mult,P*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Q=this.r.getValueAtTime(R);k.rotate(-Q*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var H=this.rz.getValueAtTime(R),X=this.ry.getValueAtTime(R),ee=this.rx.getValueAtTime(R),ne=this.or.getValueAtTime(R);k.rotateZ(-H*this.rz.mult).rotateY(X*this.ry.mult).rotateX(ee*this.rx.mult).rotateZ(-ne[2]*this.or.mult).rotateY(ne[1]*this.or.mult).rotateX(ne[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Y=this.px.getValueAtTime(R),re=this.py.getValueAtTime(R);if(this.data.p.z){var oe=this.pz.getValueAtTime(R);k.translate(Y*this.px.mult,re*this.py.mult,-oe*this.pz.mult)}else k.translate(Y*this.px.mult,re*this.py.mult,0)}else{var xe=this.p.getValueAtTime(R);k.translate(xe[0]*this.p.mult,xe[1]*this.p.mult,-xe[2]*this.p.mult)}return k}function o(){return this.v.clone(new Matrix)}var l=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(R,k,M){var j=l(R,k,M);return j.dynamicProperties.length?j.getValueAtTime=s.bind(j):j.getValueAtTime=o.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(R,k,M,j,G){var P=c(R,k,M,j,G);P.kf?P.getValueAtTime=expressionHelpers.getValueAtTime.bind(P):P.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(P),P.setGroupProperty=expressionHelpers.setGroupProperty,P.loopOut=t,P.loopIn=n,P.smooth=r,P.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(P),P.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(P),P.numKeys=k.a===1?k.k.length:0,P.propertyIndex=k.ix;var Q=0;return M!==0&&(Q=createTypedArray("float32",k.a===1?k.k[0].s.length:k.k.length)),P._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Q},expressionHelpers.searchExpressions(R,k,P),P.k&&G.addDynamicProperty(P),P};function p(R){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),R*=this.elem.globalData.frameRate,R-=this.offsetTime,R!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<R?this._caching.lastIndex:0,this._cachingAtTime.lastTime=R,this.interpolateShape(R,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var m=ShapePropertyFactory.getConstructorFunction(),x=ShapePropertyFactory.getKeyframedConstructorFunction();function b(){}b.prototype={vertices:function(k,M){this.k&&this.getValue();var j=this.v;M!==void 0&&(j=this.getValueAtTime(M,0));var G,P=j._length,Q=j[k],H=j.v,X=createSizedArray(P);for(G=0;G<P;G+=1)k==="i"||k==="o"?X[G]=[Q[G][0]-H[G][0],Q[G][1]-H[G][1]]:X[G]=[Q[G][0],Q[G][1]];return X},points:function(k){return this.vertices("v",k)},inTangents:function(k){return this.vertices("i",k)},outTangents:function(k){return this.vertices("o",k)},isClosed:function(){return this.v.c},pointOnPath:function(k,M){var j=this.v;M!==void 0&&(j=this.getValueAtTime(M,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(j));for(var G=this._segmentsLength,P=G.lengths,Q=G.totalLength*k,H=0,X=P.length,ee=0,ne;H<X;){if(ee+P[H].addedLength>Q){var Y=H,re=j.c&&H===X-1?0:H+1,oe=(Q-ee)/P[H].addedLength;ne=bez.getPointInSegment(j.v[Y],j.v[re],j.o[Y],j.i[re],oe,P[H]);break}else ee+=P[H].addedLength;H+=1}return ne||(ne=j.c?[j.v[0][0],j.v[0][1]]:[j.v[j._length-1][0],j.v[j._length-1][1]]),ne},vectorOnPath:function(k,M,j){k==1?k=this.v.c:k==0&&(k=.999);var G=this.pointOnPath(k,M),P=this.pointOnPath(k+.001,M),Q=P[0]-G[0],H=P[1]-G[1],X=Math.sqrt(Math.pow(Q,2)+Math.pow(H,2));if(X===0)return[0,0];var ee=j==="tangent"?[Q/X,H/X]:[-H/X,Q/X];return ee},tangentOnPath:function(k,M){return this.vectorOnPath(k,M,"tangent")},normalOnPath:function(k,M){return this.vectorOnPath(k,M,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([b],m),extendPrototype([b],x),x.prototype.getValueAtTime=p,x.prototype.initiateExpression=ExpressionManager.initiateExpression;var S=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(R,k,M,j,G){var P=S(R,k,M,j,G);return P.propertyIndex=k.ix,P.lock=!1,M===3?expressionHelpers.searchExpressions(R,k.pt,P):M===4&&expressionHelpers.searchExpressions(R,k.ks,P),P.k&&R.addDynamicProperty(P),P}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(n,r){var s=this.calculateExpression(r);if(n.t!==s){var o={};return this.copyData(o,n),o.t=s.toString(),o.__complete=!1,o}return n},TextProperty.prototype.searchProperty=function(){var n=this.searchKeyframes(),r=this.searchExpressions();return this.kf=n||r,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(n,r){var s=createNS("feMerge");s.setAttribute("result",n);var o,l;for(l=0;l<r.length;l+=1)o=createNS("feMergeNode"),o.setAttribute("in",r[l]),s.appendChild(o),s.appendChild(o);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,n,r,s,o){this.filterManager=n;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=l,l.setAttribute("result",s+"_tint_1"),t.appendChild(l),l=createNS("feColorMatrix"),l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",s+"_tint_2"),t.appendChild(l),this.matrixFilter=l;var c=this.createMergeNode(s,[o,s+"_tint_1",s+"_tint_2"]);t.appendChild(c)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",r[0]-n[0]+" 0 0 0 "+n[0]+" "+(r[1]-n[1])+" 0 0 0 "+n[1]+" "+(r[2]-n[2])+" 0 0 0 "+n[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,n,r,s){this.filterManager=n;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",s),t.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+n[0]+" 0 0 0 0 "+n[1]+" 0 0 0 0 "+n[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(t,n,r){this.initialized=!1,this.filterManager=n,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,n,r,s,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,s=0):(s=this.filterManager.effectElements[0].p.v-1,o=s+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),s;s<o;s+=1)n=createNS("path"),r.appendChild(n),this.paths.push({p:n,m:s});if(this.filterManager.effectElements[10].p.v===3){var l=createNS("mask"),c=createElementID();l.setAttribute("id",c),l.setAttribute("mask-type","alpha"),l.appendChild(r),this.elem.globalData.defs.appendChild(l);var p=createNS("g");for(p.setAttribute("mask","url("+getLocationHref()+"#"+c+")");t[0];)p.appendChild(t[0]);this.elem.layerElement.appendChild(p),this.masker=l,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var n,r=this.paths.length,s,o;for(n=0;n<r;n+=1)if(this.paths[n].m!==-1&&(s=this.elem.maskManager.viewData[this.paths[n].m],o=this.paths[n].p,(t||this.filterManager._mdf||s.prop._mdf)&&o.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var l;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var c=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,p=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,m=o.getTotalLength();l="0 0 0 "+m*c+" ";var x=m*(p-c),b=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,S=Math.floor(x/b),R;for(R=0;R<S;R+=1)l+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+m*10+" 0 0"}else l="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",l)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var k=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(k[0]*255)+","+bmFloor(k[1]*255)+","+bmFloor(k[2]*255)+")")}};function SVGTritoneFilter(t,n,r,s){this.filterManager=n;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(o);var l=createNS("feComponentTransfer");l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",s),this.matrixFilter=l;var c=createNS("feFuncR");c.setAttribute("type","table"),l.appendChild(c),this.feFuncR=c;var p=createNS("feFuncG");p.setAttribute("type","table"),l.appendChild(p),this.feFuncG=p;var m=createNS("feFuncB");m.setAttribute("type","table"),l.appendChild(m),this.feFuncB=m,t.appendChild(l)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,o=s[0]+" "+r[0]+" "+n[0],l=s[1]+" "+r[1]+" "+n[1],c=s[2]+" "+r[2]+" "+n[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",l),this.feFuncB.setAttribute("tableValues",c)}};function SVGProLevelsFilter(t,n,r,s){this.filterManager=n;var o=this.filterManager.effectElements,l=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",l)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",l)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",l)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",l)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(l.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(l)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(l=createNS("feComponentTransfer"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",s),t.appendChild(l),this.feFuncRComposed=this.createFeFunc("feFuncR",l),this.feFuncGComposed=this.createFeFunc("feFuncG",l),this.feFuncBComposed=this.createFeFunc("feFuncB",l))}SVGProLevelsFilter.prototype.createFeFunc=function(t,n){var r=createNS(t);return r.setAttribute("type","table"),n.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,n,r,s,o){for(var l=0,c=256,p,m=Math.min(t,n),x=Math.max(t,n),b=Array.call(null,{length:c}),S,R=0,k=o-s,M=n-t;l<=256;)p=l/256,p<=m?S=M<0?o:s:p>=x?S=M<0?s:o:S=s+k*Math.pow((p-t)/M,1/r),b[R]=S,R+=1,l+=256/(c-1);return b.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(n=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",n),this.feFuncGComposed.setAttribute("tableValues",n),this.feFuncBComposed.setAttribute("tableValues",n)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(n=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",n)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(n=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",n)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(n=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",n)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(n=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",n))}};function SVGDropShadowEffect(t,n,r,s,o){var l=n.container.globalData.renderConfig.filterSize,c=n.data.fs||l;t.setAttribute("x",c.x||l.x),t.setAttribute("y",c.y||l.y),t.setAttribute("width",c.width||l.width),t.setAttribute("height",c.height||l.height),this.filterManager=n;var p=createNS("feGaussianBlur");p.setAttribute("in","SourceAlpha"),p.setAttribute("result",s+"_drop_shadow_1"),p.setAttribute("stdDeviation","0"),this.feGaussianBlur=p,t.appendChild(p);var m=createNS("feOffset");m.setAttribute("dx","25"),m.setAttribute("dy","0"),m.setAttribute("in",s+"_drop_shadow_1"),m.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=m,t.appendChild(m);var x=createNS("feFlood");x.setAttribute("flood-color","#00ff00"),x.setAttribute("flood-opacity","1"),x.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=x,t.appendChild(x);var b=createNS("feComposite");b.setAttribute("in",s+"_drop_shadow_3"),b.setAttribute("in2",s+"_drop_shadow_2"),b.setAttribute("operator","in"),b.setAttribute("result",s+"_drop_shadow_4"),t.appendChild(b);var S=this.createMergeNode(s,[s+"_drop_shadow_4",o]);t.appendChild(S)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var n=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(n[0]*255),Math.round(n[1]*255),Math.round(n[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(s),l=r*Math.sin(s);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",l)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,n,r){this.initialized=!1,this.filterManager=n,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var n=0,r=_svgMatteSymbols.length;n<r;){if(_svgMatteSymbols[n]===t)return _svgMatteSymbols[n];n+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,n){var r=t.layerElement.parentNode;if(r){for(var s=r.children,o=0,l=s.length;o<l&&s[o]!==t.layerElement;)o+=1;var c;o<=l-2&&(c=s[o+1]);var p=createNS("use");p.setAttribute("href","#"+n),c?r.insertBefore(p,c):r.appendChild(p)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,n){if(!this.findSymbol(n)){var r=createElementID(),s=createNS("mask");s.setAttribute("id",n.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(n);var o=t.globalData.defs;o.appendChild(s);var l=createNS("symbol");l.setAttribute("id",r),this.replaceInParent(n,r),l.appendChild(n.layerElement),o.appendChild(l);var c=createNS("use");c.setAttribute("href","#"+r),s.appendChild(c),n.data.hd=!1,n.show()}t.setMatte(n.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,n=this.elem.comp.elements,r=0,s=n.length;r<s;)n[r]&&n[r].data.ind===t&&this.setElementAsMask(this.elem,n[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,n,r,s){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=n;var o=createNS("feGaussianBlur");o.setAttribute("result",s),t.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=.3,r=this.filterManager.effectElements[0].p.v*n,s=this.filterManager.effectElements[1].p.v,o=s==3?0:r,l=s==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var c=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",c)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var n=this.effectsManager.effectElements,r=n[0].p.v,s=n[1].p.v,o=n[2].p.v===1,l=n[3].p.v,c=o?l:n[4].p.v,p=n[5].p.v,m=n[6].p.v,x=n[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(c*.01,l*.01,1),this.matrix.rotate(-x*degToRads),this.matrix.skewFromAxis(-p*degToRads,(m+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==n[8].p.v&&(this.opacity=n[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,n){this.init(n)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$2(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=Array(n);r<n;r++)s[r]=t[r];return s}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function _defineProperty$2(t,n,r){return(n=_toPropertyKey(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _iterableToArrayLimit$2(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,o,l,c,p=[],m=!0,x=!1;try{if(l=(r=r.call(t)).next,n!==0)for(;!(m=(s=l.call(r)).done)&&(p.push(s.value),p.length!==n);m=!0);}catch(b){x=!0,o=b}finally{try{if(!m&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(x)throw o}}return p}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$2(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread2(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$2(Object(r),!0).forEach(function(s){_defineProperty$2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _objectWithoutProperties$1(t,n){if(t==null)return{};var r,s,o=_objectWithoutPropertiesLoose$1(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)r=l[s],n.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function _objectWithoutPropertiesLoose$1(t,n){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.includes(s))continue;r[s]=t[s]}return r}function _slicedToArray$2(t,n){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,n)||_unsupportedIterableToArray$2(t,n)||_nonIterableRest$2()}function _toPrimitive(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function _toPropertyKey(t){var n=_toPrimitive(t,"string");return typeof n=="symbol"?n:n+""}function _unsupportedIterableToArray$2(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,n);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(t,n):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function t(n,r){var s=n.animationData,o=n.loop,l=n.autoplay,c=n.initialSegment,p=n.onComplete,m=n.onLoopComplete,x=n.onEnterFrame,b=n.onSegmentStart,S=n.onConfigReady,R=n.onDataReady,k=n.onDataFailed,M=n.onLoadedImages,j=n.onDOMLoaded,G=n.onDestroy;n.lottieRef,n.renderer,n.name,n.assetsPath,n.rendererSettings;var P=_objectWithoutProperties$1(n,_excluded$1),Q=reactExports$1.useState(!1),H=_slicedToArray$2(Q,2),X=H[0],ee=H[1],ne=reactExports$1.useRef(),Y=reactExports$1.useRef(null),re=function(){var ye;(ye=ne.current)===null||ye===void 0||ye.play()},oe=function(){var ye;(ye=ne.current)===null||ye===void 0||ye.stop()},xe=function(){var ye;(ye=ne.current)===null||ye===void 0||ye.pause()},ve=function(ye){var Se;(Se=ne.current)===null||Se===void 0||Se.setSpeed(ye)},me=function(ye,Se){var _e;(_e=ne.current)===null||_e===void 0||_e.goToAndPlay(ye,Se)},we=function(ye,Se){var _e;(_e=ne.current)===null||_e===void 0||_e.goToAndStop(ye,Se)},Ee=function(ye){var Se;(Se=ne.current)===null||Se===void 0||Se.setDirection(ye)},he=function(ye,Se){var _e;(_e=ne.current)===null||_e===void 0||_e.playSegments(ye,Se)},ae=function(ye){var Se;(Se=ne.current)===null||Se===void 0||Se.setSubframe(ye)},ue=function(ye){var Se;return(Se=ne.current)===null||Se===void 0?void 0:Se.getDuration(ye)},te=function(){var ye;(ye=ne.current)===null||ye===void 0||ye.destroy(),ne.current=void 0},se=function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se;if(Y.current){(Se=ne.current)===null||Se===void 0||Se.destroy();var _e=_objectSpread2(_objectSpread2(_objectSpread2({},n),ye),{},{container:Y.current});return ne.current=lottie.loadAnimation(_e),ee(!!ne.current),function(){var je;(je=ne.current)===null||je===void 0||je.destroy(),ne.current=void 0}}};reactExports$1.useEffect(function(){var ce=se();return function(){return ce==null?void 0:ce()}},[s,o]),reactExports$1.useEffect(function(){ne.current&&(ne.current.autoplay=!!l)},[l]),reactExports$1.useEffect(function(){if(ne.current){if(!c){ne.current.resetSegments(!0);return}!Array.isArray(c)||!c.length||((ne.current.currentRawFrame<c[0]||ne.current.currentRawFrame>c[1])&&(ne.current.currentRawFrame=c[0]),ne.current.setSegment(c[0],c[1]))}},[c]),reactExports$1.useEffect(function(){var ce=[{name:"complete",handler:p},{name:"loopComplete",handler:m},{name:"enterFrame",handler:x},{name:"segmentStart",handler:b},{name:"config_ready",handler:S},{name:"data_ready",handler:R},{name:"data_failed",handler:k},{name:"loaded_images",handler:M},{name:"DOMLoaded",handler:j},{name:"destroy",handler:G}],ye=ce.filter(function(_e){return _e.handler!=null});if(ye.length){var Se=ye.map(function(_e){var je;return(je=ne.current)===null||je===void 0||je.addEventListener(_e.name,_e.handler),function(){var Me;(Me=ne.current)===null||Me===void 0||Me.removeEventListener(_e.name,_e.handler)}});return function(){Se.forEach(function(_e){return _e()})}}},[p,m,x,b,S,R,k,M,j,G]);var Ce=React4.createElement("div",_objectSpread2({style:r,ref:Y},P));return{View:Ce,play:re,stop:oe,pause:xe,setSpeed:ve,goToAndStop:we,goToAndPlay:me,setDirection:Ee,playSegments:he,setSubframe:ae,getDuration:ue,destroy:te,animationContainerRef:Y,animationLoaded:X,animationItem:ne.current}};function getContainerVisibility(t){var n=t.getBoundingClientRect(),r=n.top,s=n.height,o=window.innerHeight-r,l=window.innerHeight+s;return o/l}function getContainerCursorPosition(t,n,r){var s=t.getBoundingClientRect(),o=s.top,l=s.left,c=s.width,p=s.height,m=(n-l)/c,x=(r-o)/p;return{x:m,y:x}}var useInitInteractivity=function t(n){var r=n.wrapperRef,s=n.animationItem,o=n.mode,l=n.actions;reactExports$1.useEffect(function(){var c=r.current;if(!(!c||!s||!l.length)){s.stop();var p=function(){var b=null,S=function(){var k=getContainerVisibility(c),M=l.find(function(G){var P=G.visibility;return P&&k>=P[0]&&k<=P[1]});if(M){if(M.type==="seek"&&M.visibility&&M.frames.length===2){var j=M.frames[0]+Math.ceil((k-M.visibility[0])/(M.visibility[1]-M.visibility[0])*M.frames[1]);//! goToAndStop must be relative to the start of the current segment
s.goToAndStop(j-s.firstFrame-1,!0)}M.type==="loop"&&(b===null||b!==M.frames||s.isPaused)&&(s.playSegments(M.frames,!0),b=M.frames),M.type==="play"&&s.isPaused&&(s.resetSegments(!0),s.play()),M.type==="stop"&&s.goToAndStop(M.frames[0]-s.firstFrame-1,!0)}};return document.addEventListener("scroll",S),function(){document.removeEventListener("scroll",S)}},m=function(){var b=function(M,j){var G=M,P=j;if(G!==-1&&P!==-1){var Q=getContainerCursorPosition(c,G,P);G=Q.x,P=Q.y}var H=l.find(function(ne){var Y=ne.position;return Y&&Array.isArray(Y.x)&&Array.isArray(Y.y)?G>=Y.x[0]&&G<=Y.x[1]&&P>=Y.y[0]&&P<=Y.y[1]:Y&&!Number.isNaN(Y.x)&&!Number.isNaN(Y.y)?G===Y.x&&P===Y.y:!1});if(H){if(H.type==="seek"&&H.position&&Array.isArray(H.position.x)&&Array.isArray(H.position.y)&&H.frames.length===2){var X=(G-H.position.x[0])/(H.position.x[1]-H.position.x[0]),ee=(P-H.position.y[0])/(H.position.y[1]-H.position.y[0]);s.playSegments(H.frames,!0),s.goToAndStop(Math.ceil((X+ee)/2*(H.frames[1]-H.frames[0])),!0)}H.type==="loop"&&s.playSegments(H.frames,!0),H.type==="play"&&(s.isPaused&&s.resetSegments(!1),s.playSegments(H.frames)),H.type==="stop"&&s.goToAndStop(H.frames[0],!0)}},S=function(M){b(M.clientX,M.clientY)},R=function(){b(-1,-1)};return c.addEventListener("mousemove",S),c.addEventListener("mouseout",R),function(){c.removeEventListener("mousemove",S),c.removeEventListener("mouseout",R)}};switch(o){case"scroll":return p();case"cursor":return m()}}},[o,s])},useLottieInteractivity=function t(n){var r=n.actions,s=n.mode,o=n.lottieObj,l=o.animationItem,c=o.View,p=o.animationContainerRef;return useInitInteractivity({actions:r,animationItem:l,mode:s,wrapperRef:p}),c},_excluded$2=["style","interactivity"],Lottie=function t(n){var r,s,o,l=n.style,c=n.interactivity,p=_objectWithoutProperties$1(n,_excluded$2),m=useLottie(p,l),x=m.View,b=m.play,S=m.stop,R=m.pause,k=m.setSpeed,M=m.goToAndStop,j=m.goToAndPlay,G=m.setDirection,P=m.playSegments,Q=m.setSubframe,H=m.getDuration,X=m.destroy,ee=m.animationContainerRef,ne=m.animationLoaded,Y=m.animationItem;return reactExports$1.useEffect(function(){n.lottieRef&&(n.lottieRef.current={play:b,stop:S,pause:R,setSpeed:k,goToAndPlay:j,goToAndStop:M,setDirection:G,playSegments:P,setSubframe:Q,getDuration:H,destroy:X,animationContainerRef:ee,animationLoaded:ne,animationItem:Y})},[(r=n.lottieRef)===null||r===void 0?void 0:r.current]),useLottieInteractivity({lottieObj:{View:x,play:b,stop:S,pause:R,setSpeed:k,goToAndStop:M,goToAndPlay:j,setDirection:G,playSegments:P,setSubframe:Q,getDuration:H,destroy:X,animationContainerRef:ee,animationLoaded:ne,animationItem:Y},actions:(s=c==null?void 0:c.actions)!==null&&s!==void 0?s:[],mode:(o=c==null?void 0:c.mode)!==null&&o!==void 0?o:"scroll"})};const spinnerWrapper="_spinnerWrapper_1d31w_1",styles$1r={spinnerWrapper},v="5.5.5",fr=25,ip=0,op=79,w=300,h$1=150,nm="Loading-2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"icon 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[-90]},{t:79,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{t:79,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[0]},{t:64,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:39,op:79,st:39,bm:0},{ddd:0,ind:2,ty:4,nm:"icon",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-90]},{t:40,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:12,s:[0]},{t:40,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:25,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:40,st:0,bm:0}],markers=[],loadingAnim={v,fr,ip,op,w,h:h$1,nm,ddd,assets,layers,markers};function LoadingSpinner(){return jsxRuntimeExports.jsx("div",{className:styles$1r.spinnerWrapper,children:jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnim,loop:!0})})}const clickedFavButton$1="_clickedFavButton_ctyf9_1",favButton$3="_favButton_ctyf9_3",clickedIcon$1="_clickedIcon_ctyf9_47",styles$1q={clickedFavButton:clickedFavButton$1,favButton:favButton$3,clickedIcon:clickedIcon$1};function FavButton({onFav:t,isFav:n}){return jsxRuntimeExports.jsx("button",{className:`${styles$1q.favButton} ${n&&styles$1q.clickedFavButton}`,onClick:t,children:jsxRuntimeExports.jsx(FaStar$1,{className:`${n&&styles$1q.clickedIcon}`})})}function Exhibitions(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),b=useNavigate(),[S,R]=reactExports$1.useState(""),k=P=>{R(P.target.value)},M=()=>{!t&&b("/login"),x(P=>({...P,liked_only:!P.liked_only}))},j=async()=>{try{o(!0);const P={...m,search:S},Q=await userInstance.get("/api/exhibitions",{params:P});r(Q.data)}catch(P){console.error("   :",P)}finally{o(!1)}};reactExports$1.useEffect(()=>{j()},[m]);const G=["","","",""];return jsxRuntimeExports.jsxs("div",{className:styles$1A.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:j,onFav:M,onSearch:k,value:S}),jsxRuntimeExports.jsxs("div",{className:styles$1A.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{labels:G,filterList:exhibitionFilter,onSetFilter:x}),jsxRuntimeExports.jsx(FavButton,{onFav:M,isFav:m.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1A.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1A.gridContainer,children:p.map(P=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:P,onEvent:j},P.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$x="_layout_16k0h_1",gridContainer$2="_gridContainer_16k0h_19",dropboxContainer$1="_dropboxContainer_16k0h_31",nonDataText$2="_nonDataText_16k0h_43",styles$1p={layout:layout$x,gridContainer:gridContainer$2,dropboxContainer:dropboxContainer$1,nonDataText:nonDataText$2},artistFilter=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$w="_layout_1tcsu_1",artistImage$3="_artistImage_1tcsu_39",titleContainer$1="_titleContainer_1tcsu_57",artistNameTitle="_artistNameTitle_1tcsu_75",statusContainer$1="_statusContainer_1tcsu_93",subParagraph$3="_subParagraph_1tcsu_129",favButton$2="_favButton_1tcsu_143",icon$6="_icon_1tcsu_165",likedIcon$5="_likedIcon_1tcsu_175",styles$1o={layout:layout$w,artistImage:artistImage$3,titleContainer:titleContainer$1,artistNameTitle,statusContainer:statusContainer$1,subParagraph:subParagraph$3,favButton:favButton$2,icon:icon$6,likedIcon:likedIcon$5};function ArtistCard({artistItem:t,onEvent:n}){const{id:r,artist_name:s,artist_category:o,artist_image:l,artist_nation:c,is_on_exhibition:p,is_liked:m}=t,x=useNavigate(),b=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&x("/login");try{m===!0?await userInstance.delete("/api/likes",{data:{liked_id:r,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:r,liked_type:"artist"}),await n()}catch(S){console.error(S)}};return jsxRuntimeExports.jsxs(Link$1,{className:styles$1o.layout,to:`/artists/${r}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$1o.artistImage,src:l,alt:"  "}),p==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1o.statusContainer,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$1o.titleContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1o.artistNameTitle,children:s}),jsxRuntimeExports.jsx("button",{className:styles$1o.favButton,onClick:S=>{S.preventDefault(),S.stopPropagation(),b()},children:jsxRuntimeExports.jsx(FaStar$1,{className:m==="1"?styles$1o.likedIcon:styles$1o.icon})})]}),jsxRuntimeExports.jsx("p",{className:styles$1o.subParagraph,children:o}),jsxRuntimeExports.jsx("p",{className:styles$1o.subParagraph,children:c})]})}function Artists(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({category:"",nation:"",birthDecade:"",liked_only:0}),b=useNavigate(),[S,R]=reactExports$1.useState(""),k=()=>{!t&&b("/login"),x(G=>({...G,liked_only:!G.liked_only}))},M=G=>{R(G.target.value)},j=async()=>{const G={...m,search:S};try{o(!0);const P=await userInstance.get("/api/artist",{params:G});r(P.data)}catch(P){throw new Error(P)}finally{o(!1)}};return reactExports$1.useEffect(()=>{j()},[m]),jsxRuntimeExports.jsxs("div",{className:styles$1p.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:j,onFav:k,onSearch:M,value:S}),jsxRuntimeExports.jsxs("div",{className:styles$1p.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:artistFilter,onSetFilter:x}),jsxRuntimeExports.jsx(FavButton,{onFav:k,isFav:m.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1p.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1p.gridContainer,children:p.map(G=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:G,onEvent:j},G.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$v="_layout_15yv5_1",dropboxContainer="_dropboxContainer_15yv5_19",dropBoxButtonSection="_dropBoxButtonSection_15yv5_31",gridContainer$1="_gridContainer_15yv5_43",mapButton="_mapButton_15yv5_55",nonDataText$1="_nonDataText_15yv5_81",styles$1n={layout:layout$v,dropboxContainer,dropBoxButtonSection,gridContainer:gridContainer$1,mapButton,nonDataText:nonDataText$1},galleryFilter=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$u="_layout_pbc6h_1",linkContainer="_linkContainer_pbc6h_31",galleryImage$3="_galleryImage_pbc6h_41",infoContainer$1="_infoContainer_pbc6h_65",favButton$1="_favButton_pbc6h_73",icon$5="_icon_pbc6h_95",likedIcon$4="_likedIcon_pbc6h_105",galleryTitle$3="_galleryTitle_pbc6h_115",addressParagraph="_addressParagraph_pbc6h_135",styles$1m={layout:layout$u,linkContainer,galleryImage:galleryImage$3,infoContainer:infoContainer$1,favButton:favButton$1,icon:icon$5,likedIcon:likedIcon$4,galleryTitle:galleryTitle$3,addressParagraph};function GalleryCard({galleryItem:t,onEvent:n}){const{user:r}=useUser(),{id:s,gallery_name:o,gallery_image:l,gallery_address:c,gallery_start_time:p,gallery_end_time:m,is_liked:x}=t,b=k=>{if(k)return k.slice(0,5)},S=useNavigate(),R=async()=>{!r&&S("/login");try{x===!0?await userInstance.delete("/api/likes",{data:{liked_id:s,liked_type:"gallery"}}):await userInstance.post("/api/likes",{liked_id:s,liked_type:"gallery"}),await n()}catch(k){console.error(k)}};return console.log(x),jsxRuntimeExports.jsx("div",{className:styles$1m.layout,children:jsxRuntimeExports.jsxs(Link$1,{className:styles$1m.linkContainer,to:`/galleries/${s}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$1m.galleryImage,src:l,alt:`${o}  `}),jsxRuntimeExports.jsx("button",{className:styles$1m.favButton,onClick:k=>{k.preventDefault(),k.stopPropagation(),R()},children:jsxRuntimeExports.jsx(FaStar$1,{className:x===!0?styles$1m.likedIcon:styles$1m.icon})}),jsxRuntimeExports.jsxs("div",{className:styles$1m.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1m.galleryTitle,children:o}),jsxRuntimeExports.jsx("p",{className:styles$1m.addressParagraph,children:c}),jsxRuntimeExports.jsxs("p",{className:styles$1m.addressParagraph,children:[b(p)," ~ ",b(m)]})]})]})})}const useModal=()=>{const[t,n]=reactExports$1.useState(!1);return{isOpen:t,handleOpenModal:()=>{n(s=>!s)}}},modalOverlay$9="_modalOverlay_lavxu_1",modalContainer$4="_modalContainer_lavxu_21",modalHeader$3="_modalHeader_lavxu_45",modalTitle$3="_modalTitle_lavxu_59",favButton="_favButton_lavxu_71",clickedFavButton="_clickedFavButton_lavxu_109",clickedIcon="_clickedIcon_lavxu_121",modalMap="_modalMap_lavxu_143",closeButton$9="_closeButton_lavxu_159",styles$1l={modalOverlay:modalOverlay$9,modalContainer:modalContainer$4,modalHeader:modalHeader$3,modalTitle:modalTitle$3,favButton,clickedFavButton,clickedIcon,modalMap,closeButton:closeButton$9},modalOverlay$8="_modalOverlay_1lkbp_1",fadeOutOverlay="_fadeOutOverlay_1lkbp_37",modalBox$4="_modalBox_1lkbp_45",modalMessage="_modalMessage_1lkbp_81",errorMessage$6="_errorMessage_1lkbp_105",modalButton="_modalButton_1lkbp_115",errorButton="_errorButton_1lkbp_155",slideUp="_slideUp_1lkbp_231",slideDown="_slideDown_1lkbp_239",styles$1k={modalOverlay:modalOverlay$8,fadeOutOverlay,modalBox:modalBox$4,modalMessage,errorMessage:errorMessage$6,modalButton,errorButton,slideUp,slideDown};function AlertModal({isOpen:t,message:n,onClose:r,type:s="default"}){const[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(""),m=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{if(t)l(!0),p(styles$1k.slideUp);else if(o){p(styles$1k.slideDown);const R=setTimeout(()=>{l(!1)},300);return()=>clearTimeout(R)}},[t,o]),reactExports$1.useEffect(()=>{t&&o&&m.current&&m.current.focus()},[t,o]),!o)return null;const x=s==="error",b=x?`${styles$1k.modalButton} ${styles$1k.errorButton}`:styles$1k.modalButton,S=x?`${styles$1k.modalMessage} ${styles$1k.errorMessage}`:styles$1k.modalMessage;return jsxRuntimeExports.jsx("div",{className:`${styles$1k.modalOverlay} ${t?"":styles$1k.fadeOutOverlay}`,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:`${styles$1k.modalBox} ${c}`,onClick:R=>R.stopPropagation(),children:[jsxRuntimeExports.jsx("p",{className:S,children:n}),jsxRuntimeExports.jsx("button",{ref:m,className:b,onClick:r,children:""})]})})}const AlertContext=reactExports$1.createContext();function AlertProvider({children:t}){const[n,r]=reactExports$1.useState({isOpen:!1,message:"",type:"default"}),s=reactExports$1.useCallback((l,c="default")=>{r({isOpen:!0,message:l,type:c})},[]),o=reactExports$1.useCallback(()=>{r(l=>({...l,isOpen:!1}))},[]);return jsxRuntimeExports.jsxs(AlertContext.Provider,{value:{showAlert:s},children:[t,jsxRuntimeExports.jsx(AlertModal,{isOpen:n.isOpen,message:n.message,type:n.type,onClose:o})]})}const useAlert=()=>{const t=reactExports$1.useContext(AlertContext);if(!t)throw new Error("useAlert AlertProvider   .");return t},useGeoLocation=()=>{const[t,n]=reactExports$1.useState({lat:37.3595704,lng:127.105399}),{showAlert:r}=useAlert(),s=l=>{const c=l.coords.latitude,p=l.coords.longitude;n({lat:c,lng:p})},o=l=>{r(`(${l.code}): ${l.message}`)};return reactExports$1.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s,o):r("    !")},[]),{coords:t,setCoords:n}};function GalleryMapModal({onOpen:t}){const{coords:n}=useGeoLocation(),{lat:r,lng:s}=n,[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),b=useNavigate(),S=useMap({lat:r,lng:s,id:"gallery-map",results:o,zoomLevel:16});reactExports$1.useEffect(()=>{var G;const k=S.current;if(!k||!((G=window.naver)!=null&&G.maps))return;const M=async()=>{try{p(!0);const P=k.getBounds(),Q=P.getSW(),H=P.getNE(),X={latitude:H.lat(),longitude:H.lng()};m&&(X.liked_only=1);const ee=await userInstance.get("/api/galleries",{params:X});l(ee.data)}catch(P){console.error("  :",P)}finally{p(!1)}},j=naver.maps.Event.addListener(k,"idle",M);return M(),()=>{j&&naver.maps.Event.removeListener(j)}},[S,m]);const R=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){b("/login");return}x(k=>!k)};return reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$1l.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1l.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1l.modalHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$1l.modalTitle,children:"  "}),jsxRuntimeExports.jsxs("button",{className:`${styles$1l.favButton} ${m&&styles$1l.clickedFavButton}`,onClick:R,children:[jsxRuntimeExports.jsx(FaStar,{className:`${m&&styles$1l.clickedIcon}`})," "]})]}),c&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx("div",{className:styles$1l.modalMap,id:"gallery-map"}),jsxRuntimeExports.jsx("button",{className:styles$1l.closeButton,onClick:t,children:""})]})})}function Galleries(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({status:"",regions:"",type:"",liked_only:0}),b=useNavigate(),[S,R]=reactExports$1.useState(""),{isOpen:k,handleOpenModal:M}=useModal(),j=Q=>{R(Q.target.value)},G=()=>{!t&&b("/login"),x(Q=>({...Q,liked_only:!Q.liked_only}))},P=async()=>{try{o(!0);const Q={...m,regions:m.regions.replace(/\s+/g,","),search:S},H=await userInstance.get("/api/galleries",{params:Q});r(H.data)}catch(Q){throw new Error(Q)}finally{o(!1)}};return reactExports$1.useEffect(()=>{P()},[m]),jsxRuntimeExports.jsxs("div",{className:styles$1n.layout,children:[k&&jsxRuntimeExports.jsx(GalleryMapModal,{onOpen:M}),jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:P,onFav:G,onSearch:j,value:S}),jsxRuntimeExports.jsxs("div",{className:styles$1n.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:galleryFilter,onSetFilter:x}),jsxRuntimeExports.jsxs("div",{className:styles$1n.dropBoxButtonSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1n.mapButton,onClick:M,children:""}),jsxRuntimeExports.jsx(FavButton,{onFav:G,isFav:m.liked_only})]})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1n.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1n.gridContainer,children:p.map(Q=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:Q,onEvent:P},Q.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$t="_layout_mohm0_1",registerTitle="_registerTitle_mohm0_15",subParagraph$2="_subParagraph_mohm0_27",form$2="_form_mohm0_37",radioGroup="_radioGroup_mohm0_55",submitButton$4="_submitButton_mohm0_67",styles$1j={layout:layout$t,registerTitle,subParagraph:subParagraph$2,form:form$2,radioGroup,submitButton:submitButton$4},useInput=t=>{const[n,r]=reactExports$1.useState(t);return{data:n,handleChange:o=>{r(l=>({...l,[o.target.name]:o.target.value}))},setData:r}},input$6="_input_982er_13",styles$1i={input:input$6};function InputText({type:t="text",name:n,placeholder:r,value:s,onChange:o}){return jsxRuntimeExports.jsx("input",{className:styles$1i.input,name:n,type:t,placeholder:r,value:s,onChange:o})}const layout$s="_layout_1s1dl_1",radioLabel="_radioLabel_1s1dl_17",radioInput="_radioInput_1s1dl_31",styles$1h={layout:layout$s,radioLabel,radioInput};function InputRadio({name:t,value:n,label:r,onChange:s,checked:o}){return jsxRuntimeExports.jsxs("label",{className:styles$1h.layout,children:[jsxRuntimeExports.jsx("input",{className:styles$1h.radioInput,type:"radio",name:t,value:n,onChange:s,defaultChecked:o}),jsxRuntimeExports.jsx("span",{className:styles$1h.radioLabel,children:r})]})}const layout$r="_layout_3526f_1",inputTitle="_inputTitle_3526f_13",inputContainer$1="_inputContainer_3526f_25",errorParagraph="_errorParagraph_3526f_35",styles$1g={layout:layout$r,inputTitle,inputContainer:inputContainer$1,errorParagraph};function InputContainer({children:t,title:n,isValid:r,errorText:s}){return jsxRuntimeExports.jsxs("div",{className:styles$1g.layout,children:[jsxRuntimeExports.jsx("h3",{className:styles$1g.inputTitle,children:n}),jsxRuntimeExports.jsx("div",{className:styles$1g.inputContainer,children:t}),!r&&jsxRuntimeExports.jsx("div",{className:styles$1g.errorParagraph,children:s})]})}function Register(){const{data:t,handleChange:n}=useInput({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),[r,s]=reactExports$1.useState({isOpen:!1,message:"",callback:null}),o=useNavigate(),l=useLocation(),c=()=>{s(R=>({...R,isOpen:!1})),r.callback&&r.callback()},p=R=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(R),m=R=>/^[A-Za-z0-9]{6,20}$/.test(R),x=R=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(R),b=()=>{const{login_id:R,login_pwd:k,user_email:M,user_name:j,admin_flag:G}=t;return m(R)&&p(k)&&x(M)&&j.trim()!==""&&G!==""},S=async R=>{R.preventDefault();try{await instance.post("/api/auth/register",t),s({isOpen:!0,message:" .",callback:()=>o("/login",{state:{from:l.pathname}})})}catch(k){let M="    .";k.response&&k.response.status===409&&(M=k.response.data.message||"  ."),s({isOpen:!0,message:M,callback:null})}};return jsxRuntimeExports.jsxs("div",{className:styles$1j.layout,children:[jsxRuntimeExports.jsx(AlertModal,{isOpen:r.isOpen,message:r.message,onClose:c}),jsxRuntimeExports.jsx("h1",{className:styles$1j.registerTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$1j.subParagraph,children:"  "}),jsxRuntimeExports.jsxs("form",{className:styles$1j.form,onSubmit:S,children:[jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.login_id===""?!0:m(t.login_id),errorText:" 6~20     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_id",placeholder:" (6~20 , )",onChange:n,value:t.login_id})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.login_pwd===""?!0:p(t.login_pwd),errorText:"8~20 , ,     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:n,value:t.login_pwd})}),jsxRuntimeExports.jsx(InputContainer,{title:"",children:jsxRuntimeExports.jsx(InputText,{name:"user_name",placeholder:" ",onChange:n,value:t.user_name})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.user_email===""?!0:x(t.user_email),errorText:"   ",children:jsxRuntimeExports.jsx(InputText,{name:"user_email",placeholder:" ",onChange:n,value:t.user_email})}),jsxRuntimeExports.jsx(InputContainer,{title:" ?",children:jsxRuntimeExports.jsxs("div",{className:styles$1j.radioGroup,children:[jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:1,onChange:n}),jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:0,onChange:n})]})}),jsxRuntimeExports.jsx("button",{className:styles$1j.submitButton,disabled:!b(),children:""})]})]})}const layout$q="_layout_23on5_1",mainTab="_mainTab_23on5_23",tabButton$5="_tabButton_23on5_41",active$5="_active_23on5_77",styles$1f={layout:layout$q,mainTab,tabButton:tabButton$5,active:active$5},layout$p="_layout_e7upq_1",pageTitle$1="_pageTitle_e7upq_15",editLink="_editLink_e7upq_33",styles$1e={layout:layout$p,pageTitle:pageTitle$1,editLink};function ProfileCard(){const{user:t}=reactExports$1.useContext(UserContext);return t?jsxRuntimeExports.jsxs("div",{className:styles$1e.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$1e.pageTitle,children:""}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1e.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):jsxRuntimeExports.jsx("div",{children:"  "})}const header$f="_header_10m40_1",countText$3="_countText_10m40_9",count$2="_count_10m40_9",tabButtonContainer="_tabButtonContainer_10m40_45",tabButton$4="_tabButton_10m40_45",active$4="_active_10m40_77",cardListSection="_cardListSection_10m40_87",cardList$2="_cardList_10m40_87",emptyText$4="_emptyText_10m40_107",styles$1d={header:header$f,countText:countText$3,count:count$2,tabButtonContainer,tabButton:tabButton$4,active:active$4,cardListSection,cardList:cardList$2,emptyText:emptyText$4},TABS=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}],removeDuplicates$1=t=>{const n=new Set;return t.filter(r=>n.has(r.id)?!1:(n.add(r.id),!0))};function TabLike(){var p,m;const[t,n]=reactExports$1.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[r,s]=reactExports$1.useState("exhibition"),[o,l]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{try{const b=await userInstance.get("/api/users/me/likes"),{data:S}=b,R=removeDuplicates$1(S.like_exhibitions||[]),k=removeDuplicates$1(S.like_galleries||[]),M=removeDuplicates$1(S.like_artists||[]);n({exhibition:R,gallery:k,artist:M,artwork:[]})}catch(b){console.log("like fetch err : ",b),n({exhibition:[],gallery:[],artwork:[],artist:[]})}finally{l(!1)}})()},[]);const c=t[r]||[];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$1d.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$1d.countText,children:["",jsxRuntimeExports.jsx("span",{className:styles$1d.count,children:c.length}),""," ",(p=TABS.find(x=>x.key===r))==null?void 0:p.label," ."]}),jsxRuntimeExports.jsx("div",{className:styles$1d.tabButtonContainer,children:TABS.map(x=>jsxRuntimeExports.jsx("button",{className:`${styles$1d.tabButton} ${r===x.key?styles$1d.active:""}`,onClick:()=>s(x.key),children:x.label},x.key))})]}),jsxRuntimeExports.jsx("section",{className:styles$1d.cardListSection,children:jsxRuntimeExports.jsx("div",{className:styles$1d.cardList,children:c.length>0?r==="exhibition"?c.map(x=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:x},`exhibition-${x.id}`)):r==="gallery"?c.map(x=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:x},`gallery-${x.id}`)):r==="artist"?c.map(x=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:x},`artist-${x.id}`)):null:o?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1d.emptyText,children:[" ",(m=TABS.find(x=>x.key===r))==null?void 0:m.label," ."]})})})]})}const cardContainer$2="_cardContainer_18zcp_1",imgContainer="_imgContainer_18zcp_33",image$4="_image_18zcp_41",artistImage$2="_artistImage_18zcp_53",contents="_contents_18zcp_69",title$h="_title_18zcp_83",info$4="_info_18zcp_95",statusContainer="_statusContainer_18zcp_109",statusCompleted="_statusCompleted_18zcp_123",statusReserved="_statusReserved_18zcp_137",statusCanceled="_statusCanceled_18zcp_153",cancel="_cancel_18zcp_173",action="_action_18zcp_205",btn="_btn_18zcp_215",catalogRegisteredDate="_catalogRegisteredDate_18zcp_247",styles$1c={cardContainer:cardContainer$2,imgContainer,image:image$4,artistImage:artistImage$2,contents,title:title$h,info:info$4,statusContainer,statusCompleted,statusReserved,statusCanceled,cancel,action,btn,catalogRegisteredDate};function SectionCard({item:t,onQR:n,onCancel:r,onGoDetail:s,onReservation:o,type:l}){if(!t)return null;const c=()=>{const{likeType:x}=t;let b="",S="",R="",k=styles$1c.image;if(x==="exhibition")b=t.exhibition_poster,S=t.exhibition_title,R=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(x==="gallery")b=t.gallery_image,S=t.gallery_name,R=t.gallery_address;else if(x==="artist")b=t.artist_image,S=t.artist_name,R=`${t.artist_category} / ${t.artist_nation}`,k=styles$1c.artistImage;else return null;return jsxRuntimeExports.jsxs("div",{onClick:s,className:styles$1c.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1c.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:b,alt:S,className:`${styles$1c.image} ${k}`})}),jsxRuntimeExports.jsxs("div",{className:styles$1c.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1c.title,children:S}),jsxRuntimeExports.jsx("p",{className:styles$1c.info,dangerouslySetInnerHTML:{__html:R}})]})]})},p=()=>{var Q,H;const{exhibition_poster:x,exhibition_title:b="  ",exhibition_location:S="  ",reservation_status:R="",id:k=" ",reservation_datetime:M}=t,j={reserved:{label:"",className:styles$1c.statusReserved},used:{label:"",className:styles$1c.statusCompleted},canceled:{label:"",className:styles$1c.statusCanceled}},G=((Q=j[R])==null?void 0:Q.label)||"  ",P=((H=j[R])==null?void 0:H.className)||"";return jsxRuntimeExports.jsxs("div",{className:styles$1c.cardContainer,onClick:o,children:[jsxRuntimeExports.jsx("div",{className:styles$1c.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:x,alt:b,className:styles$1c.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1c.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1c.title,children:b}),jsxRuntimeExports.jsxs("p",{className:styles$1c.info,children:[S,jsxRuntimeExports.jsx("br",{}),M.split(" ")[0],jsxRuntimeExports.jsx("br",{}),": ",k]}),jsxRuntimeExports.jsxs("div",{className:styles$1c.statusContainer,children:[jsxRuntimeExports.jsx("span",{className:P,children:G}),jsxRuntimeExports.jsxs("div",{className:styles$1c.action,children:[jsxRuntimeExports.jsx("button",{className:styles$1c.btn,onClick:X=>{X.stopPropagation(),s()},children:""}),R==="reserved"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$1c.btn,onClick:X=>{X.stopPropagation(),n(t.exhibition_id)},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1c.cancel,onClick:X=>{X.stopPropagation(),r()},children:""})]})]})]})]})]})},m=()=>{const{bookDetail:x,book_poster:b,create_dtm:S=""}=t,{book:{book_title:R="  "}={},exhibition:{exhibition_location:k="   "}={},gallery:{gallery_name:M="  "}={},exhibition:{exhibition_start_date:j=""}={},exhibition:{exhibition_end_date:G=""}={}}=(x==null?void 0:x.book)||{},P=j&&G?`${j} ~ ${G}`:"",Q=S?new Date(S).toISOString().slice(0,10):"";return jsxRuntimeExports.jsxs("div",{onClick:s,className:styles$1c.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1c.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:b,alt:R,className:styles$1c.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1c.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1c.title,children:R}),jsxRuntimeExports.jsxs("p",{className:styles$1c.info,children:[M," / ",k,jsxRuntimeExports.jsx("br",{}),P]}),jsxRuntimeExports.jsxs("p",{className:styles$1c.catalogRegisteredDate,children:[": ",Q]})]})]})};switch(l){case"like":return c();case"reservation":return p();case"catalog":return m();default:return null}}const header$e="_header_1tuse_1",countText$2="_countText_1tuse_15",count$1="_count_1tuse_15",registerCatalogBtn="_registerCatalogBtn_1tuse_41",cardList$1="_cardList_1tuse_71",emptyText$3="_emptyText_1tuse_83",styles$1b={header:header$e,countText:countText$2,count:count$1,registerCatalogBtn,cardList:cardList$1,emptyText:emptyText$3};function TabPurchased(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),o=useNavigate(),l=()=>{o("/scan")},c=m=>{o(`/catalog/${m}`)},p=()=>{console.log("QR  or ")};return reactExports$1.useEffect(()=>{async function m(){try{s(!0);const b=(await userInstance.get("/api/users/me/purchases")).data,S=await Promise.all(b.map(async R=>{try{const k=await userInstance.get(`/api/books/${R.book_id}`);return{...R,bookDetail:k.data}}catch(k){return console.error(`Book ${R.book_id}    : `,k),{...R,bookDetail:null}}}));console.log(S),n(S)}catch(x){console.error("   : ",x),n([])}finally{s(!1)}}m()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1b.myCatalog,children:[jsxRuntimeExports.jsxs("div",{className:styles$1b.header,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:styles$1b.countText,children:["  ",jsxRuntimeExports.jsx("span",{className:styles$1b.count,children:t.length})]})}),jsxRuntimeExports.jsx("button",{className:styles$1b.registerCatalogBtn,onClick:l,children:"  "})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$1b.cardList,children:t.length>0?t.map(m=>jsxRuntimeExports.jsx(SectionCard,{item:m,onGoDetail:()=>c(m.id),onQR:p,onCancel:null,type:"catalog"},m.id)):r?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1b.emptyText,children:["   .",jsxRuntimeExports.jsx("br",{})," QR "]})})})]})}const cardList="_cardList_12369_1",header$d="_header_12369_13",countText$1="_countText_12369_27",count="_count_12369_27",emptyText$2="_emptyText_12369_53",styles$1a={cardList,header:header$d,countText:countText$1,count,emptyText:emptyText$2},tabMyViewFilter=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",defaultValue:"reserved",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],modalOverlay$7="_modalOverlay_14003_1",modalContainer$3="_modalContainer_14003_27",modalHeader$2="_modalHeader_14003_55",closeButton$8="_closeButton_14003_73",imageContainer$1="_imageContainer_14003_97",checkIconContainer="_checkIconContainer_14003_129",confirmText="_confirmText_14003_163",visitDate="_visitDate_14003_179",infoButton="_infoButton_14003_193",styles$19={modalOverlay:modalOverlay$7,modalContainer:modalContainer$3,modalHeader:modalHeader$2,closeButton:closeButton$8,imageContainer:imageContainer$1,checkIconContainer,confirmText,visitDate,infoButton},AttendanceModal=({isOpen:t,onClose:n,exhibitionTitle:r,imageUrl:s,visitDate:o,onViewExhibition:l})=>t?jsxRuntimeExports.jsx("div",{className:styles$19.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$19.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$19.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$19.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{children:r})]}),jsxRuntimeExports.jsx("div",{className:styles$19.imageContainer,children:jsxRuntimeExports.jsx(Img,{src:s,alt:r})}),jsxRuntimeExports.jsx("div",{className:styles$19.checkIconContainer,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$19.confirmText,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$19.visitDate,children:" ."}),jsxRuntimeExports.jsxs("div",{className:styles$19.visitDate,children:[" : ",o]}),jsxRuntimeExports.jsx("button",{className:styles$19.infoButton,onClick:l,children:"  "})]})}):null;function ConfirmModal({isOpen:t,message:n,onConfirm:r,onCancel:s,isDanger:o=!1}){const l=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),!t)return null;const c=o?`${styles$1k.modalButton} ${styles$1k.errorButton}`:styles$1k.modalButton;return jsxRuntimeExports.jsx("div",{className:styles$1k.modalOverlay,onClick:s,children:jsxRuntimeExports.jsxs("div",{className:styles$1k.modalBox,onClick:p=>p.stopPropagation(),children:[jsxRuntimeExports.jsx("p",{className:styles$1k.modalMessage,children:n}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%"},children:[jsxRuntimeExports.jsx("button",{className:styles$1k.modalButton,onClick:s,style:{backgroundColor:"#e9ecef",color:"#333"},children:""}),jsxRuntimeExports.jsx("button",{ref:l,className:c,onClick:r,children:""})]})]})})}const ConfirmContext=reactExports$1.createContext();function ConfirmProvider({children:t}){const[n,r]=reactExports$1.useState({isOpen:!1,message:"",isDanger:!1,resolve:null}),s=reactExports$1.useCallback((c,p=!1)=>new Promise(m=>{r({isOpen:!0,message:c,isDanger:p,resolve:m})}),[]),o=reactExports$1.useCallback(()=>{n.resolve&&n.resolve(!0),r(c=>({...c,isOpen:!1}))},[n]),l=reactExports$1.useCallback(()=>{n.resolve&&n.resolve(!1),r(c=>({...c,isOpen:!1}))},[n]);return jsxRuntimeExports.jsxs(ConfirmContext.Provider,{value:{showConfirm:s},children:[t,jsxRuntimeExports.jsx(ConfirmModal,{isOpen:n.isOpen,message:n.message,isDanger:n.isDanger,onConfirm:o,onCancel:l})]})}const useConfirm=()=>{const t=reactExports$1.useContext(ConfirmContext);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};function TabMyView(){const{showConfirm:t}=useConfirm(),{showAlert:n}=useAlert(),r=useLocation(),[s,o]=reactExports$1.useState([]),[l,c]=reactExports$1.useState({dateSort:"latest",statusFilter:"reserved"}),[p,m]=reactExports$1.useState(!0),x=useNavigate(),[b,S]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState({id:"",title:"",imageUrl:""});reactExports$1.useEffect(()=>{var Q,H;(Q=r.state)!=null&&Q.successModal&&((H=r.state)!=null&&H.exhibitionInfo)&&(k(r.state.exhibitionInfo),S(!0))},[r.state]),reactExports$1.useEffect(()=>{(async()=>{try{m(!0);const H=await userInstance.get("/api/users/me/exhibitions"),{data:X}=H;o(X)}catch(H){console.error("  :",H)}finally{m(!1)}})()},[]);const M=reactExports$1.useMemo(()=>{let Q=s;return l.statusFilter!=="all"&&(Q=Q.filter(H=>H.reservation_status===l.statusFilter)),Q.sort((H,X)=>{const ee=new Date(H.reservation_datetime),ne=new Date(X.reservation_datetime);return l.dateSort==="latest"?ne-ee:ee-ne}),Q},[s,l]);console.log(M);const j=()=>{S(!1)},G=async Q=>{if(await t(" ?",!0))try{await userInstance.delete(`/api/reservations/${Q}`),o(X=>X.map(ee=>ee.id===Q?{...ee,reservation_status:"canceled"}:ee)),n(" .")}catch(X){console.error("  :",X),n("    .","error")}},P=Q=>{const H={id:Q.exhibition_id,title:Q.exhibition_title,imageUrl:Q.exhibition_poster};x(`/scan?itemId=${Q.id}`,{state:{exhibitionInfo:H}})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$1a.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$1a.countText,children:[" "," ",jsxRuntimeExports.jsx("span",{className:styles$1a.count,children:M.length})]}),jsxRuntimeExports.jsx("div",{className:styles$1a.filterSection,children:jsxRuntimeExports.jsx(DropdownContainer,{filterList:tabMyViewFilter,onSetFilter:c,shape:"rect"})})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$1a.cardList,children:M.length>0?M.map(Q=>jsxRuntimeExports.jsx(SectionCard,{item:Q,status:Q.reservation_status==="reserved",onReservation:()=>{x(`/reservationconfirm/${Q.id}`)},onGoDetail:()=>x(`/exhibitions/${Q.exhibition_id}`),onCancel:()=>G(Q.id),onQR:()=>P(Q),type:"reservation"},Q.id)):p?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsx("p",{className:styles$1a.emptyText,children:"  ."})})}),b&&jsxRuntimeExports.jsx(AttendanceModal,{isOpen:b,onClose:j,exhibitionTitle:R.title,imageUrl:R.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>x("/exhibitions")})]})}function MyPage(){const t=useLocation(),[n,r]=reactExports$1.useState(""),s=["","MY","MY"];reactExports$1.useEffect(()=>{var l,c;(l=t.state)!=null&&l.successModal?r("MY"):(c=t.state)!=null&&c.activeTab&&r(t.state.activeTab)},[t.state]);const o=()=>{switch(n){case"":return jsxRuntimeExports.jsx(TabLike,{});case"MY":return jsxRuntimeExports.jsx(TabMyView,{});case"MY":return jsxRuntimeExports.jsx(TabPurchased,{});default:return null}};return jsxRuntimeExports.jsxs("div",{className:styles$1f.layout,children:[jsxRuntimeExports.jsx(ProfileCard,{}),jsxRuntimeExports.jsx("nav",{className:styles$1f.mainTab,children:s.map(l=>jsxRuntimeExports.jsx("button",{className:`${styles$1f.tabButton} ${n===l?styles$1f.active:""}`,onClick:()=>r(l),children:l},l))}),o()]})}const container$8="_container_123ft_1",pageTitle="_pageTitle_123ft_17",profileCard="_profileCard_123ft_29",infoRow$5="_infoRow_123ft_173",infoLabel$5="_infoLabel_123ft_193",infoValue$1="_infoValue_123ft_205",input$5="_input_123ft_215",changeButton="_changeButton_123ft_231",profileStatsCard="_profileStatsCard_123ft_259",sectionTitle$4="_sectionTitle_123ft_277",statsRow="_statsRow_123ft_289",statsItem="_statsItem_123ft_305",profileDetailsCard="_profileDetailsCard_123ft_313",detailsRow="_detailsRow_123ft_329",detailsLabel="_detailsLabel_123ft_351",detailsValue="_detailsValue_123ft_359",changeButtonSmall="_changeButtonSmall_123ft_369",buttonField$3="_buttonField_123ft_397",backBtn$1="_backBtn_123ft_409",styles$18={container:container$8,pageTitle,profileCard,infoRow:infoRow$5,infoLabel:infoLabel$5,infoValue:infoValue$1,input:input$5,changeButton,profileStatsCard,sectionTitle:sectionTitle$4,statsRow,statsItem,profileDetailsCard,detailsRow,detailsLabel,detailsValue,changeButtonSmall,buttonField:buttonField$3,backBtn:backBtn$1},modalOverlay$6="_modalOverlay_1278k_1",modalContainer$2="_modalContainer_1278k_27",modalHeader$1="_modalHeader_1278k_51",closeButton$7="_closeButton_1278k_67",modalTitle$2="_modalTitle_1278k_87",modalContent$2="_modalContent_1278k_105",passwordSection="_passwordSection_1278k_121",sectionTitle$3="_sectionTitle_1278k_129",sectionDescription$1="_sectionDescription_1278k_141",form$1="_form_1278k_155",formGroup$3="_formGroup_1278k_167",input$4="_input_1278k_175",submitButton$3="_submitButton_1278k_209",errorMessage$5="_errorMessage_1278k_243",styles$17={modalOverlay:modalOverlay$6,modalContainer:modalContainer$2,modalHeader:modalHeader$1,closeButton:closeButton$7,modalTitle:modalTitle$2,modalContent:modalContent$2,passwordSection,sectionTitle:sectionTitle$3,sectionDescription:sectionDescription$1,form:form$1,formGroup:formGroup$3,input:input$4,submitButton:submitButton$3,errorMessage:errorMessage$5},PwModal=({isOpen:t,onClose:n,userInfo:r,onUpdateUserInfo:s})=>{const[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(""),[m,x]=reactExports$1.useState(""),[b,S]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{t&&(l(""),p(""),x(""),S(!1))},[t]);const R=async M=>{if(M.preventDefault(),x(""),!r)return;if(!o||!c){x("  .");return}if(o===c){x("     .");return}const j={...r,login_pwd:c};try{const G=await userInstance.put("/api/users/me",j);s(G.data),S(!0)}catch(G){console.error(G),x("  .   .")}},k=()=>{S(!1),n()};return t?jsxRuntimeExports.jsxs("div",{className:styles$17.modalOverlay,children:[jsxRuntimeExports.jsxs("div",{className:styles$17.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$17.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$17.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$17.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$17.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$17.passwordSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$17.sectionTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$17.sectionDescription,children:["    ",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsxs("form",{className:styles$17.form,onSubmit:R,children:[jsxRuntimeExports.jsx("div",{className:styles$17.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$17.input} ${m?styles$17.inputError:""}`,value:o,onChange:M=>{l(M.target.value),m&&x("")},required:!0})}),jsxRuntimeExports.jsx("div",{className:styles$17.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$17.input} ${m?styles$17.inputError:""}`,value:c,onChange:M=>{p(M.target.value),m&&x("")},required:!0})}),m&&jsxRuntimeExports.jsx("div",{className:styles$17.errorMessage,children:m}),jsxRuntimeExports.jsx("button",{className:styles$17.submitButton,type:"submit",children:" "})]})]})})]}),jsxRuntimeExports.jsx(AlertModal,{isOpen:b,message:"  .",onClose:k})]}):null},modalOverlay$5="_modalOverlay_lcu9a_1",modalContainer$1="_modalContainer_lcu9a_27",modalHeader="_modalHeader_lcu9a_51",closeButton$6="_closeButton_lcu9a_67",modalTitle$1="_modalTitle_lcu9a_89",modalContent$1="_modalContent_lcu9a_107",withdrawSection="_withdrawSection_lcu9a_119",sectionTitle$2="_sectionTitle_lcu9a_129",sectionDescription="_sectionDescription_lcu9a_143",form="_form_lcu9a_173",formGroup$2="_formGroup_lcu9a_185",input$3="_input_lcu9a_193",withdrawButton="_withdrawButton_lcu9a_231",errorMessage$4="_errorMessage_lcu9a_267",inputError="_inputError_lcu9a_285",styles$16={modalOverlay:modalOverlay$5,modalContainer:modalContainer$1,modalHeader,closeButton:closeButton$6,modalTitle:modalTitle$1,modalContent:modalContent$1,withdrawSection,sectionTitle:sectionTitle$2,sectionDescription,form,formGroup:formGroup$2,input:input$3,withdrawButton,errorMessage:errorMessage$4,inputError},WithdrawModal=({isOpen:t,onClose:n,userInfo:r,onWithdrawSuccess:s})=>{const[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(""),m=async b=>{if(b.preventDefault(),p(""),!!r){if(!o){p(" .");return}try{await userInstance.delete("/api/auth/withdraw",{data:{login_id:r.login_id,login_pwd:o}}),s(),l(""),p(""),n()}catch(S){console.error(S),S.response&&S.response.status===400?p("  ."):p("  .   .")}}},x=()=>{p(""),l(""),n()};return t?jsxRuntimeExports.jsx("div",{className:styles$16.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$16.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$16.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$16.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$16.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$16.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$16.withdrawSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:" ?"}),jsxRuntimeExports.jsxs("p",{className:styles$16.sectionDescription,children:["    .",jsxRuntimeExports.jsx("br",{}),"  ,    .",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("form",{className:styles$16.form,onSubmit:m,children:[jsxRuntimeExports.jsx("div",{className:styles$16.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$16.input} ${c?styles$16.inputError:""}`,value:o,onChange:b=>{l(b.target.value),c&&p("")},autoComplete:"off"})}),c&&jsxRuntimeExports.jsx("div",{className:styles$16.errorMessage,children:c}),jsxRuntimeExports.jsx("button",{className:styles$16.withdrawButton,type:"submit",children:""})]})]})})]})}):null},EditProfile=()=>{const{user:t,setUser:n}=reactExports$1.useContext(UserContext),[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(""),[b,S]=reactExports$1.useState(""),R=useNavigate(),[k,M]=reactExports$1.useState(!1),[j,G]=reactExports$1.useState(!1);if(!t)return jsxRuntimeExports.jsx("div",{children:"  "});const P=me=>n({...t,...me}),Q=()=>s(!0),H=()=>s(!1),X=()=>{p(!0),S(t.user_email)},ee=me=>S(me.target.value),ne=async()=>{try{await userInstance.put("/api/users/me",{user_email:b}),n({...t,user_email:b}),p(!1)}catch(me){console.error("  ",me)}},Y=()=>{G(!0)},re=()=>{api.remove("ACCESS_TOKEN"),G(!1),n(null),R("/")},oe=()=>{api.remove("ACCESS_TOKEN"),n(null),R("/")},xe=()=>{window.location.href="mailto:oddlemon@oddlemon.co.kr"},ve=()=>{R("/termspolicy")};return jsxRuntimeExports.jsxs("div",{className:styles$18.container,children:[jsxRuntimeExports.jsx("h2",{className:styles$18.pageTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$18.profileCard,children:jsxRuntimeExports.jsxs("div",{className:styles$18.profileInfoDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$18.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$18.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$18.infoValue,children:t.user_name||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$18.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$18.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$18.infoValue,children:t.login_id||""}),jsxRuntimeExports.jsx("button",{className:styles$18.changeButtonSmall,onClick:Q,children:" "})]}),jsxRuntimeExports.jsxs("div",{className:styles$18.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$18.infoLabel,children:""}),c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"email",className:styles$18.input,value:b,onChange:ee}),jsxRuntimeExports.jsx("button",{className:styles$18.changeButton,onClick:ne,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$18.infoValue,children:t.user_email||"email@email.com"}),jsxRuntimeExports.jsx("button",{className:styles$18.changeButton,onClick:X,children:""})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:styles$18.profileStatsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$18.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$18.statsRow,onClick:xe,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$18.statsItem,children:"1:1 "})}),jsxRuntimeExports.jsx("div",{className:styles$18.statsRow,onClick:ve,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$18.statsItem,children:" "})})]}),jsxRuntimeExports.jsxs("div",{className:styles$18.profileDetailsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$18.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$18.detailsRow,onClick:Y,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$18.detailsLabel,children:""})}),jsxRuntimeExports.jsxs("div",{className:styles$18.detailsRow,children:[jsxRuntimeExports.jsx("span",{className:styles$18.detailsLabel,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$18.detailsValue,children:"1.10.24"})]}),jsxRuntimeExports.jsx("div",{className:styles$18.detailsRow,onClick:()=>M(!0),style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$18.detailsLabel,children:" "})})]}),jsxRuntimeExports.jsx("div",{className:styles$18.buttonField,children:jsxRuntimeExports.jsx("button",{className:styles$18.backBtn,onClick:()=>R("/mypage"),children:" "})}),jsxRuntimeExports.jsx(PwModal,{isOpen:r,onClose:H,userInfo:t,onUpdateUserInfo:P}),jsxRuntimeExports.jsx(LogoutModal,{isOpen:j,onClose:re}),jsxRuntimeExports.jsx(WithdrawModal,{isOpen:k,onClose:()=>M(!1),userInfo:t,onWithdrawSuccess:oe})]})},layout$o="_layout_11t2z_1",summaryTitle$1="_summaryTitle_11t2z_15",queryStringSpan="_queryStringSpan_11t2z_25",resultSection$1="_resultSection_11t2z_33",styles$15={layout:layout$o,summaryTitle:summaryTitle$1,queryStringSpan,resultSection:resultSection$1},filterResults=(t,n)=>{switch(n){case"exhibition":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.exhibition_poster,title:r.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.gallery_image,title:r.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.artist_image,title:r.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.announcement_poster,title:r.announcement_title}))}},layout$n="_layout_uizu7_1",titleContainer="_titleContainer_uizu7_13",categoryTitle="_categoryTitle_uizu7_25",extraLink="_extraLink_uizu7_33",resultList="_resultList_uizu7_45",emptyBox="_emptyBox_uizu7_63",styles$14={layout:layout$n,titleContainer,categoryTitle,extraLink,resultList,emptyBox},filterCategory=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},layout$m="_layout_i3rj4_1",itemImage="_itemImage_i3rj4_13",itemSpan="_itemSpan_i3rj4_27",styles$13={layout:layout$m,itemImage,itemSpan};function SearchResultItem({link:t,thumbnail:n,title:r}){return jsxRuntimeExports.jsxs(Link$1,{className:styles$13.layout,to:t,children:[jsxRuntimeExports.jsx(Img,{className:styles$13.itemImage,src:n}),jsxRuntimeExports.jsx("span",{className:styles$13.itemSpan,children:r})]})}function SearchResultSection({category:t,results:n}){return jsxRuntimeExports.jsxs("section",{className:styles$14.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$14.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$14.categoryTitle,children:filterCategory(t).label}),(n==null?void 0:n.length)===10&&jsxRuntimeExports.jsx(Link$1,{className:styles$14.extraLink,to:`/${filterCategory(t).link}`,children:""})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("div",{className:styles$14.resultList,children:!n||n.length===0?jsxRuntimeExports.jsx("div",{className:styles$14.emptyBox,children:"  "}):n.map(({id:r,thumbnail:s,title:o})=>jsxRuntimeExports.jsx(SearchResultItem,{link:`/${filterCategory(t).link}/${r}`,thumbnail:s,title:o},r))})]})}function Search(){const t=useLocation(),r=new URLSearchParams(t.search).get("query"),[s,o]=reactExports$1.useState({});console.log(r);const l=async()=>{try{const c=await instance.get("/api/search",{params:{search:r}});o(c.data)}catch(c){throw new Error(c)}};return reactExports$1.useEffect(()=>{l()},[r]),jsxRuntimeExports.jsxs("div",{className:styles$15.layout,children:[jsxRuntimeExports.jsxs("h1",{className:styles$15.summaryTitle,children:[jsxRuntimeExports.jsx("span",{className:styles$15.queryStringSpan,children:`'${r}'`}),"   "]}),jsxRuntimeExports.jsxs("section",{className:styles$15.resultSection,children:[jsxRuntimeExports.jsx(SearchResultSection,{category:"exhibition",results:filterResults(s.exhibitions,"exhibition")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"gallery",results:filterResults(s.galleries,"gallery")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"artist",results:filterResults(s.artists,"artist")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"notice",results:filterResults(s.announcements,"notice")})]})]})}const layout$l="_layout_1jxus_1",header$c="_header_1jxus_11",backBtn="_backBtn_1jxus_37",orderSection="_orderSection_1jxus_47",userInfo="_userInfo_1jxus_61",productBox="_productBox_1jxus_71",productImage="_productImage_1jxus_81",productInfo="_productInfo_1jxus_95",paymentInfo="_paymentInfo_1jxus_109",discountInfo="_discountInfo_1jxus_111",paymentMethod="_paymentMethod_1jxus_113",total="_total_1jxus_129",kakao="_kakao_1jxus_169",naver$1="_naver_1jxus_177",basic="_basic_1jxus_183",paymentButton="_paymentButton_1jxus_191",styles$12={layout:layout$l,header:header$c,backBtn,orderSection,userInfo,productBox,productImage,productInfo,paymentInfo,discountInfo,paymentMethod,total,kakao,naver:naver$1,basic,paymentButton};function Purchase(){const{reservationId:t}=useParams(),{state:n}=useLocation(),r=useNavigate(),[s,o]=reactExports$1.useState(""),{exhibition:l={},date:c="",time:p="",people:{adults:m=0,teens:x=0,children:b=0}={},total:S=0,email:R="test@test.com",phone:k="010-1234-5678",name:M=""}=n||{},j=()=>r(`/reservation/${l.id}`),G=()=>{if(!s){alert("  .");return}alert(`${s}  .`);const ne={...n,payment:s};r(`/reservation/complete/${t}`,{state:ne})},P=()=>jsxRuntimeExports.jsxs("div",{className:styles$12.userInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[M," "]}),jsxRuntimeExports.jsx("p",{children:R}),jsxRuntimeExports.jsx("p",{children:k})]}),Q=()=>jsxRuntimeExports.jsxs("div",{className:styles$12.productBox,children:[jsxRuntimeExports.jsx(Img,{src:l.imageUrl,alt:" ",className:styles$12.productImage}),jsxRuntimeExports.jsxs("div",{className:styles$12.productInfo,children:[jsxRuntimeExports.jsx("h3",{children:l.title}),jsxRuntimeExports.jsxs("p",{children:["-  : ",c]}),jsxRuntimeExports.jsxs("p",{children:["-   : ",p]}),jsxRuntimeExports.jsxs("p",{children:["-  :  ",m,",  ",x,",  ",b]}),jsxRuntimeExports.jsxs("p",{children:["-  : ",S.toLocaleString(),""]})]})]}),H=()=>jsxRuntimeExports.jsxs("div",{className:styles$12.discountInfo,children:[jsxRuntimeExports.jsx("h3",{children:"   "}),jsxRuntimeExports.jsx("p",{children:"1,000point "}),jsxRuntimeExports.jsx("p",{children:" : 0"})]}),X=()=>jsxRuntimeExports.jsxs("div",{className:styles$12.paymentInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[" : ",S.toLocaleString(),""]}),jsxRuntimeExports.jsx("p",{children:" : -1,000"}),jsxRuntimeExports.jsxs("p",{className:styles$12.total,children:["  : ",(S-1e3).toLocaleString(),""]})]}),ee=()=>{const ne={:"kakao",:"naver"," ":"basic"};return jsxRuntimeExports.jsxs("div",{className:styles$12.paymentMethod,children:[jsxRuntimeExports.jsx("h3",{children:" "}),Object.entries(ne).map(([Y,re])=>jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment",value:Y,onChange:oe=>o(oe.target.value)}),jsxRuntimeExports.jsxs("span",{className:styles$12[re],children:[" ",Y]})]},Y))]})};return jsxRuntimeExports.jsxs("div",{className:styles$12.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$12.header,children:[jsxRuntimeExports.jsx("button",{className:styles$12.backBtn,onClick:j,children:""}),jsxRuntimeExports.jsx("span",{className:styles$12.title,children:"   "})]}),jsxRuntimeExports.jsxs("div",{className:styles$12.orderSection,children:[P(),Q()]}),H(),X(),ee(),jsxRuntimeExports.jsx("button",{className:styles$12.paymentButton,onClick:G,children:""})]})}const layout$k="_layout_dz2j9_1",newsListSection="_newsListSection_dz2j9_61",styles$11={layout:layout$k,newsListSection},newsFilter=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],card$6="_card_1ldzd_1",header$b="_header_1ldzd_31",badge$1="_badge_1ldzd_45",title$g="_title_1ldzd_99",info$3="_info_1ldzd_121",period="_period_1ldzd_131",organizer="_organizer_1ldzd_133",styles$10={card:card$6,header:header$b,badge:badge$1,:"__1ldzd_81",:"__1ldzd_91",title:title$g,info:info$3,period,organizer};function NewsCard({newsItem:t}){const n=useNavigate(),{id:r,announcement_title:s,announcement_start_datetime:o,announcement_end_datetime:l,announcement_organizer:c,announcement_category:p,announcement_status:m}=t,x=R=>R==null?void 0:R.split(" ")[0].replace(/-/g,"."),b=R=>{switch(R){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},S=()=>{n(`/notices/${r}`)};return jsxRuntimeExports.jsxs("div",{className:styles$10.card,onClick:S,role:"button",tabIndex:0,children:[jsxRuntimeExports.jsxs("div",{className:styles$10.header,children:[jsxRuntimeExports.jsx("span",{className:`${styles$10.badge}`,children:p}),jsxRuntimeExports.jsx("span",{className:`${styles$10.badge} ${styles$10[b(m)]}`,children:b(m)})]}),jsxRuntimeExports.jsx("h3",{className:styles$10.title,children:s}),jsxRuntimeExports.jsxs("div",{className:styles$10.info,children:[jsxRuntimeExports.jsx("p",{className:styles$10.period,children:`${x(o)} ~ ${x(l)}`}),jsxRuntimeExports.jsx("p",{className:styles$10.organizer,children:c})]})]})}function News(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),{currentPage:o,setCurrentPage:l,pageItems:c}=usePagination(10,t),[p,m]=reactExports$1.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[x,b]=reactExports$1.useState(""),S=k=>{b(k.target.value)},R=async()=>{try{s(!0);const k={...p,search:x},M=await instance.get("/api/announcements",{params:k});n(M.data)}catch(k){console.error("   :",k)}finally{s(!1)}};return reactExports$1.useEffect(()=>{R()},[p]),jsxRuntimeExports.jsxs("div",{className:styles$11.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",placeholder:" ",onEvent:R,onSearch:S,value:x,isNews:!0}),jsxRuntimeExports.jsx(DropdownContainer,{filterList:newsFilter,onSetFilter:m}),jsxRuntimeExports.jsx(TotalCounts,{num:t.length,label:""}),r&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!r&&t.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),jsxRuntimeExports.jsx("section",{className:styles$11.newsListSection,children:c.map(k=>jsxRuntimeExports.jsx(NewsCard,{newsItem:k},k.id))}),jsxRuntimeExports.jsx(Pagination,{currentPage:o,onPageChange:l,totalItems:t.length})]})}const noticeLayout="_noticeLayout_p2ihj_1",categorySpan="_categorySpan_p2ihj_25",newsTitle="_newsTitle_p2ihj_33",newsImage="_newsImage_p2ihj_41",contentsContainer="_contentsContainer_p2ihj_55",divider$2="_divider_p2ihj_73",contentParagraph="_contentParagraph_p2ihj_87",noticeText="_noticeText_p2ihj_99",backButton$a="_backButton_p2ihj_115",styles$$={noticeLayout,categorySpan,newsTitle,newsImage,contentsContainer,divider:divider$2,contentParagraph,noticeText,backButton:backButton$a},info$2="_info_pjhlh_1",label$5="_label_pjhlh_41",styles$_={info:info$2,label:label$5};function ContentsInfoSection({startDate:t,host:n,contact:r,apply:s,attachment:o,site:l}){return jsxRuntimeExports.jsxs("div",{className:styles$_.info,children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$_.label,children:" "})," ",t]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$_.label,children:" "})," ",n]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$_.label,children:" "})," ",r]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$_.label,children:" "})," ",s]}),l&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$_.label,children:" "})," ",jsxRuntimeExports.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:l})]}),o&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",jsxRuntimeExports.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",children:o.name})]})]})}function NewsDetail(){const{noticeId:t}=useParams(),[n,r]=reactExports$1.useState({}),s=async()=>{try{const Q=await instance.get(`/api/announcements/${t}`);r(Q.data)}catch(Q){throw new Error(Q)}};if(reactExports$1.useEffect(()=>{s()},[]),!n)return jsxRuntimeExports.jsx("p",{children:"   ."});const{announcement_title:o,announcement_poster:l,announcement_start_datetime:c,announcement_end_datetime:p,announcement_organizer:m,announcement_contact:x,announcement_support_detail:b,announcement_attachment_url:S,announcement_site_url:R,announcement_content:k,announcement_category:M,created_at:j,views:G}=n,P=(Q,H)=>{const X=ee=>ee==null?void 0:ee.split(" ")[0];return`${X(Q)} ~ ${X(H)}`};return jsxRuntimeExports.jsxs("section",{className:styles$$.noticeLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$$.categorySpan,children:M}),jsxRuntimeExports.jsx("h1",{className:styles$$.newsTitle,children:o}),jsxRuntimeExports.jsx("hr",{className:styles$$.divider}),jsxRuntimeExports.jsxs("div",{className:styles$$.contentsContainer,children:[jsxRuntimeExports.jsx(Img,{className:styles$$.newsImage,src:l,alt:`${o}  `}),jsxRuntimeExports.jsx(ContentsInfoSection,{startDate:P(c,p),host:m,contact:x,apply:b,attachment:S,site:R,createdAt:j,views:G}),jsxRuntimeExports.jsx("p",{className:styles$$.contentParagraph,children:k}),jsxRuntimeExports.jsx("hr",{className:styles$$.divider}),jsxRuntimeExports.jsx("p",{className:styles$$.noticeText,children:"*         ."}),jsxRuntimeExports.jsx(Link$1,{className:styles$$.backButton,to:"/notices",children:" "})]})]})}const layout$j="_layout_kj9ra_1",mainContent="_mainContent_kj9ra_17",title$f="_title_kj9ra_45",infoImage="_infoImage_kj9ra_65",textContainer="_textContainer_kj9ra_77",textBox="_textBox_kj9ra_89",styles$Z={layout:layout$j,mainContent,title:title$f,infoImage,textContainer,textBox},sectionContainer="_sectionContainer_qhws2_1",controlsContainer="_controlsContainer_qhws2_13",speedContainer="_speedContainer_qhws2_33",speedButton="_speedButton_qhws2_67",clickedSpeedButton="_clickedSpeedButton_qhws2_93",buttonField$2="_buttonField_qhws2_103",optionSpan="_optionSpan_qhws2_113",optionButton="_optionButton_qhws2_123",styles$Y={sectionContainer,controlsContainer,speedContainer,speedButton,clickedSpeedButton,buttonField:buttonField$2,optionSpan,optionButton},audioPlayerWrapper="_audioPlayerWrapper_xy4n2_1",audioButton="_audioButton_xy4n2_17",videoPlayer="_videoPlayer_xy4n2_27",placeholder$2="_placeholder_xy4n2_59",styles$X={audioPlayerWrapper,audioButton,videoPlayer,placeholder:placeholder$2};function DocentAudioPlayer({artwork:t,playbackRate:n}){const[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(n),m=reactExports$1.useRef(null),x="https://artly.soundgram.co.kr",b=!!(t!=null&&t.docent_audio_path),S=!!(t!=null&&t.docent_video_path),R=b&&!S,k=b||S;reactExports$1.useEffect(()=>(l(!1),R&&(async()=>{const P=new Audio(`${x}/media/${t.docent_audio_path}`);P.playbackRate=n,P.onended=()=>s(!1),P.playbackRate=c,m.current=P,l(!0)})(),()=>{m.current&&(m.current.pause(),m.current.currentTime=0,m.current=null)}),[t]),reactExports$1.useEffect(()=>{p(n),m.current&&(m.current.playbackRate=n)},[n]);const M=()=>{o&&(r?(m.current.pause(),s(!1)):(m.current.play(),s(!0)))},j=()=>{m.current&&(m.current.pause(),m.current.currentTime=0,s(!1))};return jsxRuntimeExports.jsx("div",{className:styles$X.audioPlayerWrapper,children:k?R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$X.audioButton,onClick:M,disabled:!o,children:o?r?jsxRuntimeExports.jsx(FaPause,{}):jsxRuntimeExports.jsx(FaPlay,{}):jsxRuntimeExports.jsx(LoadingSpinner,{})}),jsxRuntimeExports.jsx("button",{className:styles$X.audioButton,onClick:j,disabled:!o,"aria-label":"",children:o?jsxRuntimeExports.jsx(FaStop,{}):""})]}):jsxRuntimeExports.jsx("video",{className:styles$X.videoPlayer,controls:!0,src:`${x}/media/${t.docent_video_path}`}):jsxRuntimeExports.jsx("div",{className:styles$X.placeholder,role:"status",children:"   ."})})}function DocentSection({artwork:t}){const[n,r]=reactExports$1.useState(1),{isOpen:s,handleOpenModal:o}=useModal(),l=[.5,1,1.25,1.5,2],{showAlert:c}=useAlert();return jsxRuntimeExports.jsxs("section",{className:styles$Y.sectionContainer,children:[jsxRuntimeExports.jsx(DocentAudioPlayer,{artwork:t,playbackRate:n}),jsxRuntimeExports.jsxs("div",{className:styles$Y.controlsContainer,children:[s&&jsxRuntimeExports.jsx("div",{className:styles$Y.speedContainer,children:l.map(p=>jsxRuntimeExports.jsxs("button",{className:`${styles$Y.speedButton} ${p===n&&styles$Y.clickedSpeedButton}`,onClick:()=>{r(p),o()},children:[p,"x"]},p))}),jsxRuntimeExports.jsxs("div",{className:styles$Y.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$Y.optionSpan,children:""}),jsxRuntimeExports.jsxs("button",{className:styles$Y.optionButton,onClick:o,children:[n,"x"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$Y.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$Y.optionSpan,children:" "}),jsxRuntimeExports.jsx("button",{className:styles$Y.optionButton,onClick:()=>{c("     .")},children:""})]})]})]})}const paginateScript$1=(t,n=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/n)},(r,s)=>t.slice(s*n,(s+1)*n));function Artwork(){const[t,n]=reactExports$1.useState({}),{art_image:r,art_title:s,art_description:o,art_docent:l,artist_name:c}=t,{artId:p}=useParams(),{showAlert:m}=useAlert();return paginateScript$1(l),reactExports$1.useEffect(()=>{(async()=>{try{const b=await instance.get(`/api/arts/${p}`);n(b.data)}catch(b){console.error(b),m("    .")}})()},[]),jsxRuntimeExports.jsxs("main",{className:styles$Z.layout,children:[jsxRuntimeExports.jsx("h2",{className:styles$Z.title,children:s}),jsxRuntimeExports.jsxs("section",{className:styles$Z.mainContent,children:[jsxRuntimeExports.jsx(Img,{src:r,alt:`${s} `,className:styles$Z.infoImage}),jsxRuntimeExports.jsx("div",{className:styles$Z.textContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$Z.textBox,children:[jsxRuntimeExports.jsx("strong",{children:""}),jsxRuntimeExports.jsx("span",{className:styles$Z.text,children:c})]})}),jsxRuntimeExports.jsx(DocentSection,{artwork:t})]})]})}const layout$i="_layout_1opcn_1",gridContainer="_gridContainer_1opcn_19",nonDataText="_nonDataText_1opcn_43",styles$W={layout:layout$i,gridContainer,nonDataText},layout$h="_layout_l90xy_1",artworkImage$3="_artworkImage_l90xy_27",artworkTitle$4="_artworkTitle_l90xy_43",subParagraph$1="_subParagraph_l90xy_63",styles$V={layout:layout$h,artworkImage:artworkImage$3,artworkTitle:artworkTitle$4,subParagraph:subParagraph$1};function ArtworkList$1({artworkItems:t}){const{id:n,art_image:r,art_title:s,art_description:o}=t,l=o?o.replace(/(<([^>]+)>)/gi,""):" ";return jsxRuntimeExports.jsxs(Link$1,{className:styles$V.layout,to:`/artworks/${n}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$V.artworkImage,src:r,alt:" "}),jsxRuntimeExports.jsx("h3",{className:styles$V.artworkTitle,children:s}),jsxRuntimeExports.jsx("p",{className:styles$V.subParagraph,children:l})]})}function ArtworkList(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),{currentPage:o,setCurrentPage:l,pageItems:c}=usePagination(10,t),[p,m]=reactExports$1.useState({type:""});return reactExports$1.useEffect(()=>{(async()=>{try{s(!0);const b=await instance.get("/api/arts");n(b.data)}catch(b){throw new Error(b)}finally{s(!1)}})()},[p]),jsxRuntimeExports.jsxs("div",{className:styles$W.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isArtworks:!0}),jsxRuntimeExports.jsx(TotalCounts,{num:t.length,label:""}),r&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!r&&t.length===0&&jsxRuntimeExports.jsx("div",{className:styles$W.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$W.gridContainer,children:c.map(x=>jsxRuntimeExports.jsx(ArtworkList$1,{artworkItems:x},x.id))}),t.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:o,onPageChange:l,totalItems:t.length})]})}const catalogLayout="_catalogLayout_1rr2f_1",bodyContainer="_bodyContainer_1rr2f_19",overlay$4="_overlay_1rr2f_33",styles$U={catalogLayout,bodyContainer,overlay:overlay$4},titleBar="_titleBar_1jvc1_1",leftButtons="_leftButtons_1jvc1_23",rightButtons="_rightButtons_1jvc1_25",title$e="_title_1jvc1_1",button$1="_button_1jvc1_45",styles$T={titleBar,leftButtons,rightButtons,title:title$e,button:button$1};function CatalogTitle({onToggleIndex:t}){const n=useNavigate(),r=()=>{n("/mypage")};return jsxRuntimeExports.jsxs("div",{className:styles$T.titleBar,children:[jsxRuntimeExports.jsx("div",{className:styles$T.leftButtons,children:jsxRuntimeExports.jsx("button",{className:styles$T.button,onClick:t,children:" "})}),jsxRuntimeExports.jsx("h1",{className:styles$T.title,children:""}),jsxRuntimeExports.jsx("div",{className:styles$T.rightButtons,children:jsxRuntimeExports.jsx("button",{className:styles$T.button,onClick:r,children:" "})})]})}const indexContainer="_indexContainer_zrf7c_1",menuList="_menuList_zrf7c_37",active$3="_active_zrf7c_71",closeButton$5="_closeButton_zrf7c_81",styles$S={indexContainer,menuList,active:active$3,closeButton:closeButton$5},image2="/assets/mockCatalog-DwV1yhn-.png",mockCatalog=[{id:"cover",title:"",image:image2,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:image2,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function CatalogIndex({onSelect:t,currentIndex:n,sectionStarts:r,onClose:s}){const o=reactExports$1.useRef();return reactExports$1.useEffect(()=>{const l=p=>{o.current&&!o.current.contains(p.target)&&s()},c=p=>{p.key==="Escape"&&s()};return document.addEventListener("mousedown",l),document.addEventListener("keydown",c),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c)}},[s]),jsxRuntimeExports.jsxs("aside",{className:styles$S.indexContainer,ref:o,children:[jsxRuntimeExports.jsx("button",{className:styles$S.closeButton,onClick:s,children:""}),jsxRuntimeExports.jsx("ul",{className:styles$S.menuList,children:mockCatalog.map((l,c)=>jsxRuntimeExports.jsx("li",{className:c===n?styles$S.active:"",onClick:()=>t(r[c]),tabIndex:0,children:l.title},l.id))})]})}const container$7="_container_c1nh1_1",page$2="_page_c1nh1_23",image$3="_image_c1nh1_41",title$d="_title_c1nh1_55",meta$1="_meta_c1nh1_67",script="_script_c1nh1_79",arrowLeft="_arrowLeft_c1nh1_89",arrowRight="_arrowRight_c1nh1_91",pageCount="_pageCount_c1nh1_155",styles$R={container:container$7,page:page$2,image:image$3,title:title$d,meta:meta$1,script,arrowLeft,arrowRight,pageCount};function CatalogContents({data:t,pageIndex:n,totalPages:r,onPrev:s,onNext:o,isFirst:l,isLast:c}){return jsxRuntimeExports.jsxs("div",{className:styles$R.container,children:[!l&&jsxRuntimeExports.jsx("button",{onClick:s,className:styles$R.arrowLeft,children:""}),!c&&jsxRuntimeExports.jsx("button",{onClick:o,className:styles$R.arrowRight,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$R.page,children:[t.image&&jsxRuntimeExports.jsx(Img,{src:t.image,alt:t.title,className:styles$R.image}),jsxRuntimeExports.jsx("h2",{className:styles$R.title,children:t.title}),jsxRuntimeExports.jsxs("p",{className:styles$R.meta,children:[t.artist,"  ",t.info]}),jsxRuntimeExports.jsx("p",{className:styles$R.script,children:t.script}),jsxRuntimeExports.jsxs("p",{className:styles$R.pageCount,children:[" ",n+1," / ",r]})]})]})}const paginateScript=(t,n=200)=>{const r=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(r.length/n)},(s,o)=>r.slice(o*n,(o+1)*n))};function Catalog(){const[t,n]=reactExports$1.useState(!1),[r,s]=reactExports$1.useState(0),{allPages:o,sectionStarts:l}=reactExports$1.useMemo(()=>{const x=[],b=[];return mockCatalog.forEach(S=>{const R=paginateScript(S.script);b.push(x.length),R.forEach(k=>{x.push({...S,script:k})})}),{allPages:x,sectionStarts:b}},[]),c=()=>{s(x=>Math.max(0,x-1))},p=()=>{s(x=>Math.min(o.length-1,x+1))},m=reactExports$1.useMemo(()=>l.reduce((x,b,S)=>r>=b?S:x,0),[r,l]);return jsxRuntimeExports.jsxs("div",{className:styles$U.catalogLayout,children:[jsxRuntimeExports.jsx(CatalogTitle,{onToggleIndex:()=>n(x=>!x)}),jsxRuntimeExports.jsxs("div",{className:styles$U.bodyContainer,children:[t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$U.overlay}),jsxRuntimeExports.jsx(CatalogIndex,{onSelect:x=>s(x),onClose:()=>n(!1),currentIndex:m,sectionStarts:l})]}),jsxRuntimeExports.jsx(CatalogContents,{data:o[r],pageIndex:r,totalPages:o.length,onPrev:c,onNext:p,isFirst:r===0,isLast:r===o.length-1})]})]})}var Html5QrcodeSupportedFormats;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Html5QrcodeSupportedFormats||(Html5QrcodeSupportedFormats={}));var html5QrcodeSupportedFormatsTextMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"QR_CODE"],[Html5QrcodeSupportedFormats.AZTEC,"AZTEC"],[Html5QrcodeSupportedFormats.CODABAR,"CODABAR"],[Html5QrcodeSupportedFormats.CODE_39,"CODE_39"],[Html5QrcodeSupportedFormats.CODE_93,"CODE_93"],[Html5QrcodeSupportedFormats.CODE_128,"CODE_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"DATA_MATRIX"],[Html5QrcodeSupportedFormats.MAXICODE,"MAXICODE"],[Html5QrcodeSupportedFormats.ITF,"ITF"],[Html5QrcodeSupportedFormats.EAN_13,"EAN_13"],[Html5QrcodeSupportedFormats.EAN_8,"EAN_8"],[Html5QrcodeSupportedFormats.PDF_417,"PDF_417"],[Html5QrcodeSupportedFormats.RSS_14,"RSS_14"],[Html5QrcodeSupportedFormats.RSS_EXPANDED,"RSS_EXPANDED"],[Html5QrcodeSupportedFormats.UPC_A,"UPC_A"],[Html5QrcodeSupportedFormats.UPC_E,"UPC_E"],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DecodedTextType;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(DecodedTextType||(DecodedTextType={}));function isValidHtml5QrcodeSupportedFormats(t){return Object.values(Html5QrcodeSupportedFormats).includes(t)}var Html5QrcodeScanType;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Html5QrcodeScanType||(Html5QrcodeScanType={}));var Html5QrcodeConstants=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Html5QrcodeScanType.SCAN_TYPE_CAMERA,Html5QrcodeScanType.SCAN_TYPE_FILE],t})(),QrcodeResultFormat=(function(){function t(n,r){this.format=n,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!html5QrcodeSupportedFormatsTextMap.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,html5QrcodeSupportedFormatsTextMap.get(n))},t})(),Html5QrcodeResultFactory=(function(){function t(){}return t.createFromText=function(n){var r={text:n};return{decodedText:n,result:r}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t})(),Html5QrcodeErrorTypes;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Html5QrcodeErrorTypes||(Html5QrcodeErrorTypes={}));var Html5QrcodeErrorFactory=(function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:Html5QrcodeErrorTypes.UNKWOWN_ERROR}},t})(),BaseLoggger=(function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,r){(this.verbose||r===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t})();function isNullOrUndefined(t){return typeof t>"u"||t===null}var Html5QrcodeStrings=(function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),VideoConstraintsUtil=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,r){if(typeof n!="object"){var s=typeof n;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),c=Object.keys(n),p=0,m=c;p<m.length;p++){var x=m[p];if(l.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t})(),zxingJs_umd$2={exports:{}},zxingJs_umd$1=zxingJs_umd$2.exports,hasRequiredZxingJs_umd;function requireZxingJs_umd(){return hasRequiredZxingJs_umd||(hasRequiredZxingJs_umd=1,(function(t,n){(function(r,s){s(n)})(zxingJs_umd$1,(function(r){function s(de){return de==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,g){de.__proto__=g}||function(de,g){for(var C in g)g.hasOwnProperty(C)&&(de[C]=g[C])};function l(de,g){o(de,g);function C(){this.constructor=de}de.prototype=g===null?Object.create(g):(C.prototype=g.prototype,new C)}function c(de,g){var C=Object.setPrototypeOf;C?C(de,g):de.__proto__=g}function p(de,g){g===void 0&&(g=de.constructor);var C=Error.captureStackTrace;C&&C(de,g)}var m=(function(de){l(g,de);function g(C){var B=this.constructor,I=de.call(this,C)||this;return Object.defineProperty(I,"name",{value:B.name,enumerable:!1}),c(I,B.prototype),p(I),I}return g})(Error);class x extends m{constructor(g=void 0){super(g),this.message=g}getKind(){return this.constructor.kind}}x.kind="Exception";class b extends x{}b.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class R{constructor(g){if(this.binarizer=g,g===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(g,C){return this.binarizer.getBlackRow(g,C)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(g,C,B,I){const N=this.binarizer.getLuminanceSource().crop(g,C,B,I);return new R(this.binarizer.createBinarizer(N))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const g=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(g))}rotateCounterClockwise45(){const g=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(g))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class M{constructor(g){this.source=g}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(g,C,B,I,N){for(;N--;)B[I++]=g[C++]}static currentTimeMillis(){return Date.now()}}class G extends x{}G.kind="IndexOutOfBoundsException";class P extends G{constructor(g=void 0,C=void 0){super(C),this.index=g,this.message=C}}P.kind="ArrayIndexOutOfBoundsException";class Q{static fill(g,C){for(let B=0,I=g.length;B<I;B++)g[B]=C}static fillWithin(g,C,B,I){Q.rangeCheck(g.length,C,B);for(let N=C;N<B;N++)g[N]=I}static rangeCheck(g,C,B){if(C>B)throw new S("fromIndex("+C+") > toIndex("+B+")");if(C<0)throw new P(C);if(B>g)throw new P(B)}static asList(...g){return g}static create(g,C,B){return Array.from({length:g}).map(N=>Array.from({length:C}).fill(B))}static createInt32Array(g,C,B){return Array.from({length:g}).map(N=>Int32Array.from({length:C}).fill(B))}static equals(g,C){if(!g||!C||!g.length||!C.length||g.length!==C.length)return!1;for(let B=0,I=g.length;B<I;B++)if(g[B]!==C[B])return!1;return!0}static hashCode(g){if(g===null)return 0;let C=1;for(const B of g)C=31*C+B;return C}static fillUint8Array(g,C){for(let B=0;B!==g.length;B++)g[B]=C}static copyOf(g,C){return g.slice(0,C)}static copyOfUint8Array(g,C){if(g.length<=C){const B=new Uint8Array(C);return B.set(g),B}return g.slice(0,C)}static copyOfRange(g,C,B){const I=B-C,N=new Int32Array(I);return j.arraycopy(g,C,N,0,I),N}static binarySearch(g,C,B){B===void 0&&(B=Q.numberComparator);let I=0,N=g.length-1;for(;I<=N;){const D=N+I>>1,$=B(C,g[D]);if($>0)I=D+1;else if($<0)N=D-1;else return D}return-I-1}static numberComparator(g,C){return g-C}}class H{static numberOfTrailingZeros(g){let C;if(g===0)return 32;let B=31;return C=g<<16,C!==0&&(B-=16,g=C),C=g<<8,C!==0&&(B-=8,g=C),C=g<<4,C!==0&&(B-=4,g=C),C=g<<2,C!==0&&(B-=2,g=C),B-(g<<1>>>31)}static numberOfLeadingZeros(g){if(g===0)return 32;let C=1;return g>>>16||(C+=16,g<<=16),g>>>24||(C+=8,g<<=8),g>>>28||(C+=4,g<<=4),g>>>30||(C+=2,g<<=2),C-=g>>>31,C}static toHexString(g){return g.toString(16)}static toBinaryString(g){return String(parseInt(String(g),2))}static bitCount(g){return g=g-(g>>>1&1431655765),g=(g&858993459)+(g>>>2&858993459),g=g+(g>>>4)&252645135,g=g+(g>>>8),g=g+(g>>>16),g&63}static truncDivision(g,C){return Math.trunc(g/C)}static parseInt(g,C=void 0){return parseInt(g,C)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(g,C){g===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=g,C==null?this.bits=X.makeArray(g):this.bits=C)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(g){if(g>this.bits.length*32){const C=X.makeArray(g);j.arraycopy(this.bits,0,C,0,this.bits.length),this.bits=C}}get(g){return(this.bits[Math.floor(g/32)]&1<<(g&31))!==0}set(g){this.bits[Math.floor(g/32)]|=1<<(g&31)}flip(g){this.bits[Math.floor(g/32)]^=1<<(g&31)}getNextSet(g){const C=this.size;if(g>=C)return C;const B=this.bits;let I=Math.floor(g/32),N=B[I];N&=~((1<<(g&31))-1);const D=B.length;for(;N===0;){if(++I===D)return C;N=B[I]}const $=I*32+H.numberOfTrailingZeros(N);return $>C?C:$}getNextUnset(g){const C=this.size;if(g>=C)return C;const B=this.bits;let I=Math.floor(g/32),N=~B[I];N&=~((1<<(g&31))-1);const D=B.length;for(;N===0;){if(++I===D)return C;N=~B[I]}const $=I*32+H.numberOfTrailingZeros(N);return $>C?C:$}setBulk(g,C){this.bits[Math.floor(g/32)]=C}setRange(g,C){if(C<g||g<0||C>this.size)throw new S;if(C===g)return;C--;const B=Math.floor(g/32),I=Math.floor(C/32),N=this.bits;for(let D=B;D<=I;D++){const $=D>B?0:g&31,J=(2<<(D<I?31:C&31))-(1<<$);N[D]|=J}}clear(){const g=this.bits.length,C=this.bits;for(let B=0;B<g;B++)C[B]=0}isRange(g,C,B){if(C<g||g<0||C>this.size)throw new S;if(C===g)return!0;C--;const I=Math.floor(g/32),N=Math.floor(C/32),D=this.bits;for(let $=I;$<=N;$++){const W=$>I?0:g&31,le=(2<<($<N?31:C&31))-(1<<W)&4294967295;if((D[$]&le)!==(B?le:0))return!1}return!0}appendBit(g){this.ensureCapacity(this.size+1),g&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(g,C){if(C<0||C>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+C);for(let B=C;B>0;B--)this.appendBit((g>>B-1&1)===1)}appendBitArray(g){const C=g.size;this.ensureCapacity(this.size+C);for(let B=0;B<C;B++)this.appendBit(g.get(B))}xor(g){if(this.size!==g.size)throw new S("Sizes don't match");const C=this.bits;for(let B=0,I=C.length;B<I;B++)C[B]^=g.bits[B]}toBytes(g,C,B,I){for(let N=0;N<I;N++){let D=0;for(let $=0;$<8;$++)this.get(g)&&(D|=1<<7-$),g++;C[B+N]=D}}getBitArray(){return this.bits}reverse(){const g=new Int32Array(this.bits.length),C=Math.floor((this.size-1)/32),B=C+1,I=this.bits;for(let N=0;N<B;N++){let D=I[N];D=D>>1&1431655765|(D&1431655765)<<1,D=D>>2&858993459|(D&858993459)<<2,D=D>>4&252645135|(D&252645135)<<4,D=D>>8&16711935|(D&16711935)<<8,D=D>>16&65535|(D&65535)<<16,g[C-N]=D}if(this.size!==B*32){const N=B*32-this.size;let D=g[0]>>>N;for(let $=1;$<B;$++){const W=g[$];D|=W<<32-N,g[$-1]=D,D=W>>>N}g[B-1]=D}this.bits=g}static makeArray(g){return new Int32Array(Math.floor((g+31)/32))}equals(g){if(!(g instanceof X))return!1;const C=g;return this.size===C.size&&Q.equals(this.bits,C.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let g="";for(let C=0,B=this.size;C<B;C++)(C&7)===0&&(g+=" "),g+=this.get(C)?"X":".";return g}clone(){return new X(this.size,this.bits.slice())}}var ee;(function(de){de[de.OTHER=0]="OTHER",de[de.PURE_BARCODE=1]="PURE_BARCODE",de[de.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",de[de.TRY_HARDER=3]="TRY_HARDER",de[de.CHARACTER_SET=4]="CHARACTER_SET",de[de.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",de[de.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",de[de.ASSUME_GS1=7]="ASSUME_GS1",de[de.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",de[de.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",de[de.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ee||(ee={}));var ne=ee;class Y extends x{static getFormatInstance(){return new Y}}Y.kind="FormatException";var re;(function(de){de[de.Cp437=0]="Cp437",de[de.ISO8859_1=1]="ISO8859_1",de[de.ISO8859_2=2]="ISO8859_2",de[de.ISO8859_3=3]="ISO8859_3",de[de.ISO8859_4=4]="ISO8859_4",de[de.ISO8859_5=5]="ISO8859_5",de[de.ISO8859_6=6]="ISO8859_6",de[de.ISO8859_7=7]="ISO8859_7",de[de.ISO8859_8=8]="ISO8859_8",de[de.ISO8859_9=9]="ISO8859_9",de[de.ISO8859_10=10]="ISO8859_10",de[de.ISO8859_11=11]="ISO8859_11",de[de.ISO8859_13=12]="ISO8859_13",de[de.ISO8859_14=13]="ISO8859_14",de[de.ISO8859_15=14]="ISO8859_15",de[de.ISO8859_16=15]="ISO8859_16",de[de.SJIS=16]="SJIS",de[de.Cp1250=17]="Cp1250",de[de.Cp1251=18]="Cp1251",de[de.Cp1252=19]="Cp1252",de[de.Cp1256=20]="Cp1256",de[de.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",de[de.UTF8=22]="UTF8",de[de.ASCII=23]="ASCII",de[de.Big5=24]="Big5",de[de.GB18030=25]="GB18030",de[de.EUC_KR=26]="EUC_KR"})(re||(re={}));class oe{constructor(g,C,B,...I){this.valueIdentifier=g,this.name=B,typeof C=="number"?this.values=Int32Array.from([C]):this.values=C,this.otherEncodingNames=I,oe.VALUE_IDENTIFIER_TO_ECI.set(g,this),oe.NAME_TO_ECI.set(B,this);const N=this.values;for(let D=0,$=N.length;D!==$;D++){const W=N[D];oe.VALUES_TO_ECI.set(W,this)}for(const D of I)oe.NAME_TO_ECI.set(D,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(g){if(g<0||g>=900)throw new Y("incorect value");const C=oe.VALUES_TO_ECI.get(g);if(C===void 0)throw new Y("incorect value");return C}static getCharacterSetECIByName(g){const C=oe.NAME_TO_ECI.get(g);if(C===void 0)throw new Y("incorect value");return C}equals(g){if(!(g instanceof oe))return!1;const C=g;return this.getName()===C.getName()}}oe.VALUE_IDENTIFIER_TO_ECI=new Map,oe.VALUES_TO_ECI=new Map,oe.NAME_TO_ECI=new Map,oe.Cp437=new oe(re.Cp437,Int32Array.from([0,2]),"Cp437"),oe.ISO8859_1=new oe(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),oe.ISO8859_2=new oe(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),oe.ISO8859_3=new oe(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),oe.ISO8859_4=new oe(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),oe.ISO8859_5=new oe(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),oe.ISO8859_6=new oe(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),oe.ISO8859_7=new oe(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),oe.ISO8859_8=new oe(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),oe.ISO8859_9=new oe(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),oe.ISO8859_10=new oe(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),oe.ISO8859_11=new oe(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),oe.ISO8859_13=new oe(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),oe.ISO8859_14=new oe(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),oe.ISO8859_15=new oe(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),oe.ISO8859_16=new oe(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),oe.SJIS=new oe(re.SJIS,20,"SJIS","Shift_JIS"),oe.Cp1250=new oe(re.Cp1250,21,"Cp1250","windows-1250"),oe.Cp1251=new oe(re.Cp1251,22,"Cp1251","windows-1251"),oe.Cp1252=new oe(re.Cp1252,23,"Cp1252","windows-1252"),oe.Cp1256=new oe(re.Cp1256,24,"Cp1256","windows-1256"),oe.UnicodeBigUnmarked=new oe(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),oe.UTF8=new oe(re.UTF8,26,"UTF8","UTF-8"),oe.ASCII=new oe(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),oe.Big5=new oe(re.Big5,28,"Big5"),oe.GB18030=new oe(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),oe.EUC_KR=new oe(re.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends x{}xe.kind="UnsupportedOperationException";class ve{static decode(g,C){const B=this.encodingName(C);return this.customDecoder?this.customDecoder(g,B):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(B)?this.decodeFallback(g,B):new TextDecoder(B).decode(g)}static shouldDecodeOnFallback(g){return!ve.isBrowser()&&g==="ISO-8859-1"}static encode(g,C){const B=this.encodingName(C);return this.customEncoder?this.customEncoder(g,B):typeof TextEncoder>"u"?this.encodeFallback(g):new TextEncoder().encode(g)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(g){return typeof g=="string"?g:g.getName()}static encodingCharacterSet(g){return g instanceof oe?g:oe.getCharacterSetECIByName(g)}static decodeFallback(g,C){const B=this.encodingCharacterSet(C);if(ve.isDecodeFallbackSupported(B)){let I="";for(let N=0,D=g.length;N<D;N++){let $=g[N].toString(16);$.length<2&&($="0"+$),I+="%"+$}return decodeURIComponent(I)}if(B.equals(oe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(g.buffer));throw new xe(`Encoding ${this.encodingName(C)} not supported by fallback.`)}static isDecodeFallbackSupported(g){return g.equals(oe.UTF8)||g.equals(oe.ISO8859_1)||g.equals(oe.ASCII)}static encodeFallback(g){const B=btoa(unescape(encodeURIComponent(g))).split(""),I=[];for(let N=0;N<B.length;N++)I.push(B[N].charCodeAt(0));return new Uint8Array(I)}}class me{static castAsNonUtf8Char(g,C=null){const B=C?C.getName():this.ISO88591;return ve.decode(new Uint8Array([g]),B)}static guessEncoding(g,C){if(C!=null&&C.get(ne.CHARACTER_SET)!==void 0)return C.get(ne.CHARACTER_SET).toString();const B=g.length;let I=!0,N=!0,D=!0,$=0,W=0,J=0,le=0,fe=0,pe=0,Be=0,Ie=0,Ne=0,Le=0,Ke=0;const ft=g.length>3&&g[0]===239&&g[1]===187&&g[2]===191;for(let dt=0;dt<B&&(I||N||D);dt++){const At=g[dt]&255;D&&($>0?(At&128)===0?D=!1:$--:(At&128)!==0&&((At&64)===0?D=!1:($++,(At&32)===0?W++:($++,(At&16)===0?J++:($++,(At&8)===0?le++:D=!1))))),I&&(At>127&&At<160?I=!1:At>159&&(At<192||At===215||At===247)&&Ke++),N&&(fe>0?At<64||At===127||At>252?N=!1:fe--:At===128||At===160||At>239?N=!1:At>160&&At<224?(pe++,Ie=0,Be++,Be>Ne&&(Ne=Be)):At>127?(fe++,Be=0,Ie++,Ie>Le&&(Le=Ie)):(Be=0,Ie=0))}return D&&$>0&&(D=!1),N&&fe>0&&(N=!1),D&&(ft||W+J+le>0)?me.UTF8:N&&(me.ASSUME_SHIFT_JIS||Ne>=3||Le>=3)?me.SHIFT_JIS:I&&N?Ne===2&&pe===2||Ke*10>=B?me.SHIFT_JIS:me.ISO88591:I?me.ISO88591:N?me.SHIFT_JIS:D?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(g,...C){let B=-1;function I(D,$,W,J,le,fe){if(D==="%%")return"%";if(C[++B]===void 0)return;D=J?parseInt(J.substr(1)):void 0;let pe=le?parseInt(le.substr(1)):void 0,Be;switch(fe){case"s":Be=C[B];break;case"c":Be=C[B][0];break;case"f":Be=parseFloat(C[B]).toFixed(D);break;case"p":Be=parseFloat(C[B]).toPrecision(D);break;case"e":Be=parseFloat(C[B]).toExponential(D);break;case"x":Be=parseInt(C[B]).toString(pe||16);break;case"d":Be=parseFloat(parseInt(C[B],pe||10).toPrecision(D)).toFixed(0);break}Be=typeof Be=="object"?JSON.stringify(Be):(+Be).toString(pe);let Ie=parseInt(W),Ne=W&&W[0]+""=="0"?"0":" ";for(;Be.length<Ie;)Be=$!==void 0?Be+Ne:Ne+Be;return Be}let N=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return g.replace(N,I)}static getBytes(g,C){return ve.encode(g,C)}static getCharCode(g,C=0){return g.charCodeAt(C)}static getCharAt(g){return String.fromCharCode(g)}}me.SHIFT_JIS=oe.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=oe.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=oe.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class we{constructor(g=""){this.value=g}enableDecoding(g){return this.encoding=g,this}append(g){return typeof g=="string"?this.value+=g.toString():this.encoding?this.value+=me.castAsNonUtf8Char(g,this.encoding):this.value+=String.fromCharCode(g),this}appendChars(g,C,B){for(let I=C;C<C+B;I++)this.append(g[I]);return this}length(){return this.value.length}charAt(g){return this.value.charAt(g)}deleteCharAt(g){this.value=this.value.substr(0,g)+this.value.substring(g+1)}setCharAt(g,C){this.value=this.value.substr(0,g)+C+this.value.substr(g+1)}substring(g,C){return this.value.substring(g,C)}setLengthToZero(){this.value=""}toString(){return this.value}insert(g,C){this.value=this.value.substr(0,g)+C+this.value.substr(g+C.length)}}class Ee{constructor(g,C,B,I){if(this.width=g,this.height=C,this.rowSize=B,this.bits=I,C==null&&(C=g),this.height=C,g<1||C<1)throw new S("Both dimensions must be greater than 0");B==null&&(B=Math.floor((g+31)/32)),this.rowSize=B,I==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(g){const C=g.length,B=g[0].length,I=new Ee(B,C);for(let N=0;N<C;N++){const D=g[N];for(let $=0;$<B;$++)D[$]&&I.set($,N)}return I}static parseFromString(g,C,B){if(g===null)throw new S("stringRepresentation cannot be null");const I=new Array(g.length);let N=0,D=0,$=-1,W=0,J=0;for(;J<g.length;)if(g.charAt(J)===`
`||g.charAt(J)==="\r"){if(N>D){if($===-1)$=N-D;else if(N-D!==$)throw new S("row lengths do not match");D=N,W++}J++}else if(g.substring(J,J+C.length)===C)J+=C.length,I[N]=!0,N++;else if(g.substring(J,J+B.length)===B)J+=B.length,I[N]=!1,N++;else throw new S("illegal character encountered: "+g.substring(J));if(N>D){if($===-1)$=N-D;else if(N-D!==$)throw new S("row lengths do not match");W++}const le=new Ee($,W);for(let fe=0;fe<N;fe++)I[fe]&&le.set(Math.floor(fe%$),Math.floor(fe/$));return le}get(g,C){const B=C*this.rowSize+Math.floor(g/32);return(this.bits[B]>>>(g&31)&1)!==0}set(g,C){const B=C*this.rowSize+Math.floor(g/32);this.bits[B]|=1<<(g&31)&4294967295}unset(g,C){const B=C*this.rowSize+Math.floor(g/32);this.bits[B]&=~(1<<(g&31)&4294967295)}flip(g,C){const B=C*this.rowSize+Math.floor(g/32);this.bits[B]^=1<<(g&31)&4294967295}xor(g){if(this.width!==g.getWidth()||this.height!==g.getHeight()||this.rowSize!==g.getRowSize())throw new S("input matrix dimensions do not match");const C=new X(Math.floor(this.width/32)+1),B=this.rowSize,I=this.bits;for(let N=0,D=this.height;N<D;N++){const $=N*B,W=g.getRow(N,C).getBitArray();for(let J=0;J<B;J++)I[$+J]^=W[J]}}clear(){const g=this.bits,C=g.length;for(let B=0;B<C;B++)g[B]=0}setRegion(g,C,B,I){if(C<0||g<0)throw new S("Left and top must be nonnegative");if(I<1||B<1)throw new S("Height and width must be at least 1");const N=g+B,D=C+I;if(D>this.height||N>this.width)throw new S("The region must fit inside the matrix");const $=this.rowSize,W=this.bits;for(let J=C;J<D;J++){const le=J*$;for(let fe=g;fe<N;fe++)W[le+Math.floor(fe/32)]|=1<<(fe&31)&4294967295}}getRow(g,C){C==null||C.getSize()<this.width?C=new X(this.width):C.clear();const B=this.rowSize,I=this.bits,N=g*B;for(let D=0;D<B;D++)C.setBulk(D*32,I[N+D]);return C}setRow(g,C){j.arraycopy(C.getBitArray(),0,this.bits,g*this.rowSize,this.rowSize)}rotate180(){const g=this.getWidth(),C=this.getHeight();let B=new X(g),I=new X(g);for(let N=0,D=Math.floor((C+1)/2);N<D;N++)B=this.getRow(N,B),I=this.getRow(C-1-N,I),B.reverse(),I.reverse(),this.setRow(N,I),this.setRow(C-1-N,B)}getEnclosingRectangle(){const g=this.width,C=this.height,B=this.rowSize,I=this.bits;let N=g,D=C,$=-1,W=-1;for(let J=0;J<C;J++)for(let le=0;le<B;le++){const fe=I[J*B+le];if(fe!==0){if(J<D&&(D=J),J>W&&(W=J),le*32<N){let pe=0;for(;(fe<<31-pe&4294967295)===0;)pe++;le*32+pe<N&&(N=le*32+pe)}if(le*32+31>$){let pe=31;for(;!(fe>>>pe);)pe--;le*32+pe>$&&($=le*32+pe)}}}return $<N||W<D?null:Int32Array.from([N,D,$-N+1,W-D+1])}getTopLeftOnBit(){const g=this.rowSize,C=this.bits;let B=0;for(;B<C.length&&C[B]===0;)B++;if(B===C.length)return null;const I=B/g;let N=B%g*32;const D=C[B];let $=0;for(;(D<<31-$&4294967295)===0;)$++;return N+=$,Int32Array.from([N,I])}getBottomRightOnBit(){const g=this.rowSize,C=this.bits;let B=C.length-1;for(;B>=0&&C[B]===0;)B--;if(B<0)return null;const I=Math.floor(B/g);let N=Math.floor(B%g)*32;const D=C[B];let $=31;for(;!(D>>>$);)$--;return N+=$,Int32Array.from([N,I])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(g){if(!(g instanceof Ee))return!1;const C=g;return this.width===C.width&&this.height===C.height&&this.rowSize===C.rowSize&&Q.equals(this.bits,C.bits)}hashCode(){let g=this.width;return g=31*g+this.width,g=31*g+this.height,g=31*g+this.rowSize,g=31*g+Q.hashCode(this.bits),g}toString(g="X ",C="  ",B=`
`){return this.buildToString(g,C,B)}buildToString(g,C,B){let I=new we;for(let N=0,D=this.height;N<D;N++){for(let $=0,W=this.width;$<W;$++)I.append(this.get($,N)?g:C);I.append(B)}return I.toString()}clone(){return new Ee(this.width,this.height,this.rowSize,this.bits.slice())}}class he extends x{static getNotFoundInstance(){return new he}}he.kind="NotFoundException";class ae extends M{constructor(g){super(g),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(g,C){const B=this.getLuminanceSource(),I=B.getWidth();C==null||C.getSize()<I?C=new X(I):C.clear(),this.initArrays(I);const N=B.getRow(g,this.luminances),D=this.buckets;for(let W=0;W<I;W++)D[(N[W]&255)>>ae.LUMINANCE_SHIFT]++;const $=ae.estimateBlackPoint(D);if(I<3)for(let W=0;W<I;W++)(N[W]&255)<$&&C.set(W);else{let W=N[0]&255,J=N[1]&255;for(let le=1;le<I-1;le++){const fe=N[le+1]&255;(J*4-W-fe)/2<$&&C.set(le),W=J,J=fe}}return C}getBlackMatrix(){const g=this.getLuminanceSource(),C=g.getWidth(),B=g.getHeight(),I=new Ee(C,B);this.initArrays(C);const N=this.buckets;for(let W=1;W<5;W++){const J=Math.floor(B*W/5),le=g.getRow(J,this.luminances),fe=Math.floor(C*4/5);for(let pe=Math.floor(C/5);pe<fe;pe++){const Be=le[pe]&255;N[Be>>ae.LUMINANCE_SHIFT]++}}const D=ae.estimateBlackPoint(N),$=g.getMatrix();for(let W=0;W<B;W++){const J=W*C;for(let le=0;le<C;le++)($[J+le]&255)<D&&I.set(le,W)}return I}createBinarizer(g){return new ae(g)}initArrays(g){this.luminances.length<g&&(this.luminances=new Uint8ClampedArray(g));const C=this.buckets;for(let B=0;B<ae.LUMINANCE_BUCKETS;B++)C[B]=0}static estimateBlackPoint(g){const C=g.length;let B=0,I=0,N=0;for(let le=0;le<C;le++)g[le]>N&&(I=le,N=g[le]),g[le]>B&&(B=g[le]);let D=0,$=0;for(let le=0;le<C;le++){const fe=le-I,pe=g[le]*fe*fe;pe>$&&(D=le,$=pe)}if(I>D){const le=I;I=D,D=le}if(D-I<=C/16)throw new he;let W=D-1,J=-1;for(let le=D-1;le>I;le--){const fe=le-I,pe=fe*fe*(D-le)*(B-g[le]);pe>J&&(W=le,J=pe)}return W<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class ue extends ae{constructor(g){super(g),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const g=this.getLuminanceSource(),C=g.getWidth(),B=g.getHeight();if(C>=ue.MINIMUM_DIMENSION&&B>=ue.MINIMUM_DIMENSION){const I=g.getMatrix();let N=C>>ue.BLOCK_SIZE_POWER;(C&ue.BLOCK_SIZE_MASK)!==0&&N++;let D=B>>ue.BLOCK_SIZE_POWER;(B&ue.BLOCK_SIZE_MASK)!==0&&D++;const $=ue.calculateBlackPoints(I,N,D,C,B),W=new Ee(C,B);ue.calculateThresholdForBlock(I,N,D,C,B,$,W),this.matrix=W}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(g){return new ue(g)}static calculateThresholdForBlock(g,C,B,I,N,D,$){const W=N-ue.BLOCK_SIZE,J=I-ue.BLOCK_SIZE;for(let le=0;le<B;le++){let fe=le<<ue.BLOCK_SIZE_POWER;fe>W&&(fe=W);const pe=ue.cap(le,2,B-3);for(let Be=0;Be<C;Be++){let Ie=Be<<ue.BLOCK_SIZE_POWER;Ie>J&&(Ie=J);const Ne=ue.cap(Be,2,C-3);let Le=0;for(let ft=-2;ft<=2;ft++){const dt=D[pe+ft];Le+=dt[Ne-2]+dt[Ne-1]+dt[Ne]+dt[Ne+1]+dt[Ne+2]}const Ke=Le/25;ue.thresholdBlock(g,Ie,fe,Ke,I,$)}}}static cap(g,C,B){return g<C?C:g>B?B:g}static thresholdBlock(g,C,B,I,N,D){for(let $=0,W=B*N+C;$<ue.BLOCK_SIZE;$++,W+=N)for(let J=0;J<ue.BLOCK_SIZE;J++)(g[W+J]&255)<=I&&D.set(C+J,B+$)}static calculateBlackPoints(g,C,B,I,N){const D=N-ue.BLOCK_SIZE,$=I-ue.BLOCK_SIZE,W=new Array(B);for(let J=0;J<B;J++){W[J]=new Int32Array(C);let le=J<<ue.BLOCK_SIZE_POWER;le>D&&(le=D);for(let fe=0;fe<C;fe++){let pe=fe<<ue.BLOCK_SIZE_POWER;pe>$&&(pe=$);let Be=0,Ie=255,Ne=0;for(let Ke=0,ft=le*I+pe;Ke<ue.BLOCK_SIZE;Ke++,ft+=I){for(let dt=0;dt<ue.BLOCK_SIZE;dt++){const At=g[ft+dt]&255;Be+=At,At<Ie&&(Ie=At),At>Ne&&(Ne=At)}if(Ne-Ie>ue.MIN_DYNAMIC_RANGE)for(Ke++,ft+=I;Ke<ue.BLOCK_SIZE;Ke++,ft+=I)for(let dt=0;dt<ue.BLOCK_SIZE;dt++)Be+=g[ft+dt]&255}let Le=Be>>ue.BLOCK_SIZE_POWER*2;if(Ne-Ie<=ue.MIN_DYNAMIC_RANGE&&(Le=Ie/2,J>0&&fe>0)){const Ke=(W[J-1][fe]+2*W[J][fe-1]+W[J-1][fe-1])/4;Ie<Ke&&(Le=Ke)}W[J][fe]=Le}}return W}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class te{constructor(g,C){this.width=g,this.height=C}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(g,C,B,I){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const g=new Uint8ClampedArray(this.width);let C=new we;for(let B=0;B<this.height;B++){const I=this.getRow(B,g);for(let N=0;N<this.width;N++){const D=I[N]&255;let $;D<64?$="#":D<128?$="+":D<192?$=".":$=" ",C.append($)}C.append(`
`)}return C.toString()}}class se extends te{constructor(g){super(g.getWidth(),g.getHeight()),this.delegate=g}getRow(g,C){const B=this.delegate.getRow(g,C),I=this.getWidth();for(let N=0;N<I;N++)B[N]=255-(B[N]&255);return B}getMatrix(){const g=this.delegate.getMatrix(),C=this.getWidth()*this.getHeight(),B=new Uint8ClampedArray(C);for(let I=0;I<C;I++)B[I]=255-(g[I]&255);return B}isCropSupported(){return this.delegate.isCropSupported()}crop(g,C,B,I){return new se(this.delegate.crop(g,C,B,I))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new se(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new se(this.delegate.rotateCounterClockwise45())}}class Ce extends te{constructor(g){super(g.width,g.height),this.canvas=g,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(g)}static makeBufferFromCanvasImageData(g){const C=g.getContext("2d").getImageData(0,0,g.width,g.height);return Ce.toGrayscaleBuffer(C.data,g.width,g.height)}static toGrayscaleBuffer(g,C,B){const I=new Uint8ClampedArray(C*B);for(let N=0,D=0,$=g.length;N<$;N+=4,D++){let W;if(g[N+3]===0)W=255;else{const le=g[N],fe=g[N+1],pe=g[N+2];W=306*le+601*fe+117*pe+512>>10}I[D]=W}return I}getRow(g,C){if(g<0||g>=this.getHeight())throw new S("Requested row is outside the image: "+g);const B=this.getWidth(),I=g*B;return C===null?C=this.buffer.slice(I,I+B):(C.length<B&&(C=new Uint8ClampedArray(B)),C.set(this.buffer.slice(I,I+B))),C}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(g,C,B,I){return super.crop(g,C,B,I),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const g=this.canvas.ownerDocument.createElement("canvas");g.width=this.canvas.width,g.height=this.canvas.height,this.tempCanvasElement=g}return this.tempCanvasElement}rotate(g){const C=this.getTempCanvasElement(),B=C.getContext("2d"),I=g*Ce.DEGREE_TO_RADIANS,N=this.canvas.width,D=this.canvas.height,$=Math.ceil(Math.abs(Math.cos(I))*N+Math.abs(Math.sin(I))*D),W=Math.ceil(Math.abs(Math.sin(I))*N+Math.abs(Math.cos(I))*D);return C.width=$,C.height=W,B.translate($/2,W/2),B.rotate(I),B.drawImage(this.canvas,N/-2,D/-2),this.buffer=Ce.makeBufferFromCanvasImageData(C),this}invert(){return new se(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(g,C,B){this.deviceId=g,this.label=C,this.kind="videoinput",this.groupId=B||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ye=(globalThis||commonjsGlobal||self||window||void 0)&&(globalThis||commonjsGlobal||self||window||void 0).__awaiter||function(de,g,C,B){function I(N){return N instanceof C?N:new C(function(D){D(N)})}return new(C||(C=Promise))(function(N,D){function $(le){try{J(B.next(le))}catch(fe){D(fe)}}function W(le){try{J(B.throw(le))}catch(fe){D(fe)}}function J(le){le.done?N(le.value):I(le.value).then($,W)}J((B=B.apply(de,g||[])).next())})};class Se{constructor(g,C=500,B){this.reader=g,this.timeBetweenScansMillis=C,this._hints=B,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(g){this._timeBetweenDecodingAttempts=g<0?0:g}set hints(g){this._hints=g||null}get hints(){return this._hints}listVideoInputDevices(){return ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const g=yield navigator.mediaDevices.enumerateDevices(),C=[];for(const B of g){const I=B.kind==="video"?"videoinput":B.kind;if(I!=="videoinput")continue;const N=B.deviceId||B.id,D=B.label||`Video device ${C.length+1}`,$=B.groupId,W={deviceId:N,label:D,kind:I,groupId:$};C.push(W)}return C})}getVideoInputDevices(){return ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(C=>new ce(C.deviceId,C.label))})}findDeviceById(g){return ye(this,void 0,void 0,function*(){const C=yield this.listVideoInputDevices();return C?C.find(B=>B.deviceId===g):null})}decodeFromInputVideoDevice(g,C){return ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(g,C)})}decodeOnceFromVideoDevice(g,C){return ye(this,void 0,void 0,function*(){this.reset();let B;g?B={deviceId:{exact:g}}:B={facingMode:"environment"};const I={video:B};return yield this.decodeOnceFromConstraints(I,C)})}decodeOnceFromConstraints(g,C){return ye(this,void 0,void 0,function*(){const B=yield navigator.mediaDevices.getUserMedia(g);return yield this.decodeOnceFromStream(B,C)})}decodeOnceFromStream(g,C){return ye(this,void 0,void 0,function*(){this.reset();const B=yield this.attachStreamToVideo(g,C);return yield this.decodeOnce(B)})}decodeFromInputVideoDeviceContinuously(g,C,B){return ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(g,C,B)})}decodeFromVideoDevice(g,C,B){return ye(this,void 0,void 0,function*(){let I;g?I={deviceId:{exact:g}}:I={facingMode:"environment"};const N={video:I};return yield this.decodeFromConstraints(N,C,B)})}decodeFromConstraints(g,C,B){return ye(this,void 0,void 0,function*(){const I=yield navigator.mediaDevices.getUserMedia(g);return yield this.decodeFromStream(I,C,B)})}decodeFromStream(g,C,B){return ye(this,void 0,void 0,function*(){this.reset();const I=yield this.attachStreamToVideo(g,C);return yield this.decodeContinuously(I,B)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(g,C){return ye(this,void 0,void 0,function*(){const B=this.prepareVideoElement(C);return this.addVideoSource(B,g),this.videoElement=B,this.stream=g,yield this.playVideoOnLoadAsync(B),B})}playVideoOnLoadAsync(g){return new Promise((C,B)=>this.playVideoOnLoad(g,()=>C()))}playVideoOnLoad(g,C){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(g),g.addEventListener("ended",this.videoEndedListener),g.addEventListener("canplay",this.videoCanPlayListener),g.addEventListener("playing",C),this.tryPlayVideo(g)}isVideoPlaying(g){return g.currentTime>0&&!g.paused&&!g.ended&&g.readyState>2}tryPlayVideo(g){return ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(g)){console.warn("Trying to play video that is already playing.");return}try{yield g.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(g,C){const B=document.getElementById(g);if(!B)throw new b(`element with id '${g}' not found`);if(B.nodeName.toLowerCase()!==C.toLowerCase())throw new b(`element with id '${g}' must be an ${C} element`);return B}decodeFromImage(g,C){if(!g&&!C)throw new b("either imageElement with a src set or an url must be provided");return C&&!g?this.decodeFromImageUrl(C):this.decodeFromImageElement(g)}decodeFromVideo(g,C){if(!g&&!C)throw new b("Either an element with a src set or an URL must be provided");return C&&!g?this.decodeFromVideoUrl(C):this.decodeFromVideoElement(g)}decodeFromVideoContinuously(g,C,B){if(g===void 0&&C===void 0)throw new b("Either an element with a src set or an URL must be provided");return C&&!g?this.decodeFromVideoUrlContinuously(C,B):this.decodeFromVideoElementContinuously(g,B)}decodeFromImageElement(g){if(!g)throw new b("An image element must be provided.");this.reset();const C=this.prepareImageElement(g);this.imageElement=C;let B;return this.isImageLoaded(C)?B=this.decodeOnce(C,!1,!0):B=this._decodeOnLoadImage(C),B}decodeFromVideoElement(g){const C=this._decodeFromVideoElementSetup(g);return this._decodeOnLoadVideo(C)}decodeFromVideoElementContinuously(g,C){const B=this._decodeFromVideoElementSetup(g);return this._decodeOnLoadVideoContinuously(B,C)}_decodeFromVideoElementSetup(g){if(!g)throw new b("A video element must be provided.");this.reset();const C=this.prepareVideoElement(g);return this.videoElement=C,C}decodeFromImageUrl(g){if(!g)throw new b("An URL must be provided.");this.reset();const C=this.prepareImageElement();this.imageElement=C;const B=this._decodeOnLoadImage(C);return C.src=g,B}decodeFromVideoUrl(g){if(!g)throw new b("An URL must be provided.");this.reset();const C=this.prepareVideoElement(),B=this.decodeFromVideoElement(C);return C.src=g,B}decodeFromVideoUrlContinuously(g,C){if(!g)throw new b("An URL must be provided.");this.reset();const B=this.prepareVideoElement(),I=this.decodeFromVideoElementContinuously(B,C);return B.src=g,I}_decodeOnLoadImage(g){return new Promise((C,B)=>{this.imageLoadedListener=()=>this.decodeOnce(g,!1,!0).then(C,B),g.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(g){return ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(g),yield this.decodeOnce(g)})}_decodeOnLoadVideoContinuously(g,C){return ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(g),this.decodeContinuously(g,C)})}isImageLoaded(g){return!(!g.complete||g.naturalWidth===0)}prepareImageElement(g){let C;return typeof g>"u"&&(C=document.createElement("img"),C.width=200,C.height=200),typeof g=="string"&&(C=this.getMediaElement(g,"img")),g instanceof HTMLImageElement&&(C=g),C}prepareVideoElement(g){let C;return!g&&typeof document<"u"&&(C=document.createElement("video"),C.width=200,C.height=200),typeof g=="string"&&(C=this.getMediaElement(g,"video")),g instanceof HTMLVideoElement&&(C=g),C.setAttribute("autoplay","true"),C.setAttribute("muted","true"),C.setAttribute("playsinline","true"),C}decodeOnce(g,C=!0,B=!0){this._stopAsyncDecode=!1;const I=(N,D)=>{if(this._stopAsyncDecode){D(new he("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const $=this.decode(g);N($)}catch($){const W=C&&$ instanceof he,le=($ instanceof k||$ instanceof Y)&&B;if(W||le)return setTimeout(I,this._timeBetweenDecodingAttempts,N,D);D($)}};return new Promise((N,D)=>I(N,D))}decodeContinuously(g,C){this._stopContinuousDecode=!1;const B=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const I=this.decode(g);C(I,null),setTimeout(B,this.timeBetweenScansMillis)}catch(I){C(null,I);const N=I instanceof k||I instanceof Y,D=I instanceof he;(N||D)&&setTimeout(B,this._timeBetweenDecodingAttempts)}};B()}decode(g){const C=this.createBinaryBitmap(g);return this.decodeBitmap(C)}_isHTMLVideoElement(g){return g.videoWidth!==0}drawFrameOnCanvas(g,C,B){C||(C={sx:0,sy:0,sWidth:g.videoWidth,sHeight:g.videoHeight,dx:0,dy:0,dWidth:g.videoWidth,dHeight:g.videoHeight}),B||(B=this.captureCanvasContext),B.drawImage(g,C.sx,C.sy,C.sWidth,C.sHeight,C.dx,C.dy,C.dWidth,C.dHeight)}drawImageOnCanvas(g,C,B=this.captureCanvasContext){C||(C={sx:0,sy:0,sWidth:g.naturalWidth,sHeight:g.naturalHeight,dx:0,dy:0,dWidth:g.naturalWidth,dHeight:g.naturalHeight}),B||(B=this.captureCanvasContext),B.drawImage(g,C.sx,C.sy,C.sWidth,C.sHeight,C.dx,C.dy,C.dWidth,C.dHeight)}createBinaryBitmap(g){this.getCaptureCanvasContext(g),this._isHTMLVideoElement(g)?this.drawFrameOnCanvas(g):this.drawImageOnCanvas(g);const C=this.getCaptureCanvas(g),B=new Ce(C),I=new ue(B);return new R(I)}getCaptureCanvasContext(g){if(!this.captureCanvasContext){const B=this.getCaptureCanvas(g).getContext("2d");this.captureCanvasContext=B}return this.captureCanvasContext}getCaptureCanvas(g){if(!this.captureCanvas){const C=this.createCaptureCanvas(g);this.captureCanvas=C}return this.captureCanvas}decodeBitmap(g){return this.reader.decode(g,this._hints)}createCaptureCanvas(g){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const C=document.createElement("canvas");let B,I;return typeof g<"u"&&(g instanceof HTMLVideoElement?(B=g.videoWidth,I=g.videoHeight):g instanceof HTMLImageElement&&(B=g.naturalWidth||g.width,I=g.naturalHeight||g.height)),C.style.width=B+"px",C.style.height=I+"px",C.width=B,C.height=I,C}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(g=>g.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(g,C){try{g.srcObject=C}catch{g.src=URL.createObjectURL(C)}}cleanVideoSource(g){try{g.srcObject=null}catch{g.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(g,C,B=C==null?0:8*C.length,I,N,D=j.currentTimeMillis()){this.text=g,this.rawBytes=C,this.numBits=B,this.resultPoints=I,this.format=N,this.timestamp=D,this.text=g,this.rawBytes=C,B==null?this.numBits=C==null?0:8*C.length:this.numBits=B,this.resultPoints=I,this.format=N,this.resultMetadata=null,D==null?this.timestamp=j.currentTimeMillis():this.timestamp=D}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(g,C){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(g,C)}putAllMetadata(g){g!==null&&(this.resultMetadata===null?this.resultMetadata=g:this.resultMetadata=new Map(g))}addResultPoints(g){const C=this.resultPoints;if(C===null)this.resultPoints=g;else if(g!==null&&g.length>0){const B=new Array(C.length+g.length);j.arraycopy(C,0,B,0,C.length),j.arraycopy(g,0,B,C.length,g.length),this.resultPoints=B}}getTimestamp(){return this.timestamp}toString(){return this.text}}var je;(function(de){de[de.AZTEC=0]="AZTEC",de[de.CODABAR=1]="CODABAR",de[de.CODE_39=2]="CODE_39",de[de.CODE_93=3]="CODE_93",de[de.CODE_128=4]="CODE_128",de[de.DATA_MATRIX=5]="DATA_MATRIX",de[de.EAN_8=6]="EAN_8",de[de.EAN_13=7]="EAN_13",de[de.ITF=8]="ITF",de[de.MAXICODE=9]="MAXICODE",de[de.PDF_417=10]="PDF_417",de[de.QR_CODE=11]="QR_CODE",de[de.RSS_14=12]="RSS_14",de[de.RSS_EXPANDED=13]="RSS_EXPANDED",de[de.UPC_A=14]="UPC_A",de[de.UPC_E=15]="UPC_E",de[de.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var Me=je,Ze;(function(de){de[de.OTHER=0]="OTHER",de[de.ORIENTATION=1]="ORIENTATION",de[de.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",de[de.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",de[de.ISSUE_NUMBER=4]="ISSUE_NUMBER",de[de.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",de[de.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",de[de.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",de[de.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",de[de.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",de[de.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ze||(Ze={}));var ot=Ze;class Ct{constructor(g,C,B,I,N=-1,D=-1){this.rawBytes=g,this.text=C,this.byteSegments=B,this.ecLevel=I,this.structuredAppendSequenceNumber=N,this.structuredAppendParity=D,this.numBits=g==null?0:8*g.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(g){this.numBits=g}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(g){this.errorsCorrected=g}getErasures(){return this.erasures}setErasures(g){this.erasures=g}getOther(){return this.other}setOther(g){this.other=g}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class It{exp(g){return this.expTable[g]}log(g){if(g===0)throw new S;return this.logTable[g]}static addOrSubtract(g,C){return g^C}}class mt{constructor(g,C){if(C.length===0)throw new S;this.field=g;const B=C.length;if(B>1&&C[0]===0){let I=1;for(;I<B&&C[I]===0;)I++;I===B?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(B-I),j.arraycopy(C,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=C}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(g){return this.coefficients[this.coefficients.length-1-g]}evaluateAt(g){if(g===0)return this.getCoefficient(0);const C=this.coefficients;let B;if(g===1){B=0;for(let D=0,$=C.length;D!==$;D++){const W=C[D];B=It.addOrSubtract(B,W)}return B}B=C[0];const I=C.length,N=this.field;for(let D=1;D<I;D++)B=It.addOrSubtract(N.multiply(g,B),C[D]);return B}addOrSubtract(g){if(!this.field.equals(g.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return g;if(g.isZero())return this;let C=this.coefficients,B=g.coefficients;if(C.length>B.length){const D=C;C=B,B=D}let I=new Int32Array(B.length);const N=B.length-C.length;j.arraycopy(B,0,I,0,N);for(let D=N;D<B.length;D++)I[D]=It.addOrSubtract(C[D-N],B[D]);return new mt(this.field,I)}multiply(g){if(!this.field.equals(g.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||g.isZero())return this.field.getZero();const C=this.coefficients,B=C.length,I=g.coefficients,N=I.length,D=new Int32Array(B+N-1),$=this.field;for(let W=0;W<B;W++){const J=C[W];for(let le=0;le<N;le++)D[W+le]=It.addOrSubtract(D[W+le],$.multiply(J,I[le]))}return new mt($,D)}multiplyScalar(g){if(g===0)return this.field.getZero();if(g===1)return this;const C=this.coefficients.length,B=this.field,I=new Int32Array(C),N=this.coefficients;for(let D=0;D<C;D++)I[D]=B.multiply(N[D],g);return new mt(B,I)}multiplyByMonomial(g,C){if(g<0)throw new S;if(C===0)return this.field.getZero();const B=this.coefficients,I=B.length,N=new Int32Array(I+g),D=this.field;for(let $=0;$<I;$++)N[$]=D.multiply(B[$],C);return new mt(D,N)}divide(g){if(!this.field.equals(g.field))throw new S("GenericGFPolys do not have same GenericGF field");if(g.isZero())throw new S("Divide by 0");const C=this.field;let B=C.getZero(),I=this;const N=g.getCoefficient(g.getDegree()),D=C.inverse(N);for(;I.getDegree()>=g.getDegree()&&!I.isZero();){const $=I.getDegree()-g.getDegree(),W=C.multiply(I.getCoefficient(I.getDegree()),D),J=g.multiplyByMonomial($,W),le=C.buildMonomial($,W);B=B.addOrSubtract(le),I=I.addOrSubtract(J)}return[B,I]}toString(){let g="";for(let C=this.getDegree();C>=0;C--){let B=this.getCoefficient(C);if(B!==0){if(B<0?(g+=" - ",B=-B):g.length>0&&(g+=" + "),C===0||B!==1){const I=this.field.log(B);I===0?g+="1":I===1?g+="a":(g+="a^",g+=I)}C!==0&&(C===1?g+="x":(g+="x^",g+=C))}}return g}}class Ut extends x{}Ut.kind="ArithmeticException";class gt extends It{constructor(g,C,B){super(),this.primitive=g,this.size=C,this.generatorBase=B;const I=new Int32Array(C);let N=1;for(let $=0;$<C;$++)I[$]=N,N*=2,N>=C&&(N^=g,N&=C-1);this.expTable=I;const D=new Int32Array(C);for(let $=0;$<C-1;$++)D[I[$]]=$;this.logTable=D,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(g,C){if(g<0)throw new S;if(C===0)return this.zero;const B=new Int32Array(g+1);return B[0]=C,new mt(this,B)}inverse(g){if(g===0)throw new Ut;return this.expTable[this.size-this.logTable[g]-1]}multiply(g,C){return g===0||C===0?0:this.expTable[(this.logTable[g]+this.logTable[C])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(g){return g===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class xt extends x{}xt.kind="ReedSolomonException";class an extends x{}an.kind="IllegalStateException";class Un{constructor(g){this.field=g}decode(g,C){const B=this.field,I=new mt(B,g),N=new Int32Array(C);let D=!0;for(let Be=0;Be<C;Be++){const Ie=I.evaluateAt(B.exp(Be+B.getGeneratorBase()));N[N.length-1-Be]=Ie,Ie!==0&&(D=!1)}if(D)return;const $=new mt(B,N),W=this.runEuclideanAlgorithm(B.buildMonomial(C,1),$,C),J=W[0],le=W[1],fe=this.findErrorLocations(J),pe=this.findErrorMagnitudes(le,fe);for(let Be=0;Be<fe.length;Be++){const Ie=g.length-1-B.log(fe[Be]);if(Ie<0)throw new xt("Bad error location");g[Ie]=gt.addOrSubtract(g[Ie],pe[Be])}}runEuclideanAlgorithm(g,C,B){if(g.getDegree()<C.getDegree()){const Be=g;g=C,C=Be}const I=this.field;let N=g,D=C,$=I.getZero(),W=I.getOne();for(;D.getDegree()>=(B/2|0);){let Be=N,Ie=$;if(N=D,$=W,N.isZero())throw new xt("r_{i-1} was zero");D=Be;let Ne=I.getZero();const Le=N.getCoefficient(N.getDegree()),Ke=I.inverse(Le);for(;D.getDegree()>=N.getDegree()&&!D.isZero();){const ft=D.getDegree()-N.getDegree(),dt=I.multiply(D.getCoefficient(D.getDegree()),Ke);Ne=Ne.addOrSubtract(I.buildMonomial(ft,dt)),D=D.addOrSubtract(N.multiplyByMonomial(ft,dt))}if(W=Ne.multiply($).addOrSubtract(Ie),D.getDegree()>=N.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const J=W.getCoefficient(0);if(J===0)throw new xt("sigmaTilde(0) was zero");const le=I.inverse(J),fe=W.multiplyScalar(le),pe=D.multiplyScalar(le);return[fe,pe]}findErrorLocations(g){const C=g.getDegree();if(C===1)return Int32Array.from([g.getCoefficient(1)]);const B=new Int32Array(C);let I=0;const N=this.field;for(let D=1;D<N.getSize()&&I<C;D++)g.evaluateAt(D)===0&&(B[I]=N.inverse(D),I++);if(I!==C)throw new xt("Error locator degree does not match number of roots");return B}findErrorMagnitudes(g,C){const B=C.length,I=new Int32Array(B),N=this.field;for(let D=0;D<B;D++){const $=N.inverse(C[D]);let W=1;for(let J=0;J<B;J++)if(D!==J){const le=N.multiply(C[J],$),fe=(le&1)===0?le|1:le&-2;W=N.multiply(W,fe)}I[D]=N.multiply(g.evaluateAt($),N.inverse(W)),N.getGeneratorBase()!==0&&(I[D]=N.multiply(I[D],$))}return I}}var Zt;(function(de){de[de.UPPER=0]="UPPER",de[de.LOWER=1]="LOWER",de[de.MIXED=2]="MIXED",de[de.DIGIT=3]="DIGIT",de[de.PUNCT=4]="PUNCT",de[de.BINARY=5]="BINARY"})(Zt||(Zt={}));class $t{decode(g){this.ddata=g;let C=g.getBits(),B=this.extractBits(C),I=this.correctBits(B),N=$t.convertBoolArrayToByteArray(I),D=$t.getEncodedData(I),$=new Ct(N,D,null,null);return $.setNumBits(I.length),$}static highLevelDecode(g){return this.getEncodedData(g)}static getEncodedData(g){let C=g.length,B=Zt.UPPER,I=Zt.UPPER,N="",D=0;for(;D<C;)if(I===Zt.BINARY){if(C-D<5)break;let $=$t.readCode(g,D,5);if(D+=5,$===0){if(C-D<11)break;$=$t.readCode(g,D,11)+31,D+=11}for(let W=0;W<$;W++){if(C-D<8){D=C;break}const J=$t.readCode(g,D,8);N+=me.castAsNonUtf8Char(J),D+=8}I=B}else{let $=I===Zt.DIGIT?4:5;if(C-D<$)break;let W=$t.readCode(g,D,$);D+=$;let J=$t.getCharacter(I,W);J.startsWith("CTRL_")?(B=I,I=$t.getTable(J.charAt(5)),J.charAt(6)==="L"&&(B=I)):(N+=J,I=B)}return N}static getTable(g){switch(g){case"L":return Zt.LOWER;case"P":return Zt.PUNCT;case"M":return Zt.MIXED;case"D":return Zt.DIGIT;case"B":return Zt.BINARY;case"U":default:return Zt.UPPER}}static getCharacter(g,C){switch(g){case Zt.UPPER:return $t.UPPER_TABLE[C];case Zt.LOWER:return $t.LOWER_TABLE[C];case Zt.MIXED:return $t.MIXED_TABLE[C];case Zt.PUNCT:return $t.PUNCT_TABLE[C];case Zt.DIGIT:return $t.DIGIT_TABLE[C];default:throw new an("Bad table")}}correctBits(g){let C,B;this.ddata.getNbLayers()<=2?(B=6,C=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(B=8,C=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(B=10,C=gt.AZTEC_DATA_10):(B=12,C=gt.AZTEC_DATA_12);let I=this.ddata.getNbDatablocks(),N=g.length/B;if(N<I)throw new Y;let D=g.length%B,$=new Int32Array(N);for(let pe=0;pe<N;pe++,D+=B)$[pe]=$t.readCode(g,D,B);try{new Un(C).decode($,N-I)}catch(pe){throw new Y(pe)}let W=(1<<B)-1,J=0;for(let pe=0;pe<I;pe++){let Be=$[pe];if(Be===0||Be===W)throw new Y;(Be===1||Be===W-1)&&J++}let le=new Array(I*B-J),fe=0;for(let pe=0;pe<I;pe++){let Be=$[pe];if(Be===1||Be===W-1)le.fill(Be>1,fe,fe+B-1),fe+=B-1;else for(let Ie=B-1;Ie>=0;--Ie)le[fe++]=(Be&1<<Ie)!==0}return le}extractBits(g){let C=this.ddata.isCompact(),B=this.ddata.getNbLayers(),I=(C?11:14)+B*4,N=new Int32Array(I),D=new Array(this.totalBitsInLayer(B,C));if(C)for(let $=0;$<N.length;$++)N[$]=$;else{let $=I+1+2*H.truncDivision(H.truncDivision(I,2)-1,15),W=I/2,J=H.truncDivision($,2);for(let le=0;le<W;le++){let fe=le+H.truncDivision(le,15);N[W-le-1]=J-fe-1,N[W+le]=J+fe+1}}for(let $=0,W=0;$<B;$++){let J=(B-$)*4+(C?9:12),le=$*2,fe=I-1-le;for(let pe=0;pe<J;pe++){let Be=pe*2;for(let Ie=0;Ie<2;Ie++)D[W+Be+Ie]=g.get(N[le+Ie],N[le+pe]),D[W+2*J+Be+Ie]=g.get(N[le+pe],N[fe-Ie]),D[W+4*J+Be+Ie]=g.get(N[fe-Ie],N[fe-pe]),D[W+6*J+Be+Ie]=g.get(N[fe-pe],N[le+Ie])}W+=J*8}return D}static readCode(g,C,B){let I=0;for(let N=C;N<C+B;N++)I<<=1,g[N]&&(I|=1);return I}static readByte(g,C){let B=g.length-C;return B>=8?$t.readCode(g,C,8):$t.readCode(g,C,B)<<8-B}static convertBoolArrayToByteArray(g){let C=new Uint8Array((g.length+7)/8);for(let B=0;B<C.length;B++)C[B]=$t.readByte(g,8*B);return C}totalBitsInLayer(g,C){return((C?88:112)+16*g)*g}}$t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],$t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],$t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],$t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],$t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ot{constructor(){}static round(g){return g===NaN?0:g<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:g>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:g+(g<0?-.5:.5)|0}static distance(g,C,B,I){const N=g-B,D=C-I;return Math.sqrt(N*N+D*D)}static sum(g){let C=0;for(let B=0,I=g.length;B!==I;B++){const N=g[B];C+=N}return C}}class In{static floatToIntBits(g){return g}}In.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pt{constructor(g,C){this.x=g,this.y=C}getX(){return this.x}getY(){return this.y}equals(g){if(g instanceof pt){const C=g;return this.x===C.x&&this.y===C.y}return!1}hashCode(){return 31*In.floatToIntBits(this.x)+In.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(g){const C=this.distance(g[0],g[1]),B=this.distance(g[1],g[2]),I=this.distance(g[0],g[2]);let N,D,$;if(B>=C&&B>=I?(D=g[0],N=g[1],$=g[2]):I>=B&&I>=C?(D=g[1],N=g[0],$=g[2]):(D=g[2],N=g[0],$=g[1]),this.crossProductZ(N,D,$)<0){const W=N;N=$,$=W}g[0]=N,g[1]=D,g[2]=$}static distance(g,C){return Ot.distance(g.x,g.y,C.x,C.y)}static crossProductZ(g,C,B){const I=C.x,N=C.y;return(B.x-I)*(g.y-N)-(B.y-N)*(g.x-I)}}class Kn{constructor(g,C){this.bits=g,this.points=C}getBits(){return this.bits}getPoints(){return this.points}}class On extends Kn{constructor(g,C,B,I,N){super(g,C),this.compact=B,this.nbDatablocks=I,this.nbLayers=N}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class it{constructor(g,C,B,I){this.image=g,this.height=g.getHeight(),this.width=g.getWidth(),C==null&&(C=it.INIT_SIZE),B==null&&(B=g.getWidth()/2|0),I==null&&(I=g.getHeight()/2|0);const N=C/2|0;if(this.leftInit=B-N,this.rightInit=B+N,this.upInit=I-N,this.downInit=I+N,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new he}detect(){let g=this.leftInit,C=this.rightInit,B=this.upInit,I=this.downInit,N=!1,D=!0,$=!1,W=!1,J=!1,le=!1,fe=!1;const pe=this.width,Be=this.height;for(;D;){D=!1;let Ie=!0;for(;(Ie||!W)&&C<pe;)Ie=this.containsBlackPoint(B,I,C,!1),Ie?(C++,D=!0,W=!0):W||C++;if(C>=pe){N=!0;break}let Ne=!0;for(;(Ne||!J)&&I<Be;)Ne=this.containsBlackPoint(g,C,I,!0),Ne?(I++,D=!0,J=!0):J||I++;if(I>=Be){N=!0;break}let Le=!0;for(;(Le||!le)&&g>=0;)Le=this.containsBlackPoint(B,I,g,!1),Le?(g--,D=!0,le=!0):le||g--;if(g<0){N=!0;break}let Ke=!0;for(;(Ke||!fe)&&B>=0;)Ke=this.containsBlackPoint(g,C,B,!0),Ke?(B--,D=!0,fe=!0):fe||B--;if(B<0){N=!0;break}D&&($=!0)}if(!N&&$){const Ie=C-g;let Ne=null;for(let dt=1;Ne===null&&dt<Ie;dt++)Ne=this.getBlackPointOnSegment(g,I-dt,g+dt,I);if(Ne==null)throw new he;let Le=null;for(let dt=1;Le===null&&dt<Ie;dt++)Le=this.getBlackPointOnSegment(g,B+dt,g+dt,B);if(Le==null)throw new he;let Ke=null;for(let dt=1;Ke===null&&dt<Ie;dt++)Ke=this.getBlackPointOnSegment(C,B+dt,C-dt,B);if(Ke==null)throw new he;let ft=null;for(let dt=1;ft===null&&dt<Ie;dt++)ft=this.getBlackPointOnSegment(C,I-dt,C-dt,I);if(ft==null)throw new he;return this.centerEdges(ft,Ne,Ke,Le)}else throw new he}getBlackPointOnSegment(g,C,B,I){const N=Ot.round(Ot.distance(g,C,B,I)),D=(B-g)/N,$=(I-C)/N,W=this.image;for(let J=0;J<N;J++){const le=Ot.round(g+J*D),fe=Ot.round(C+J*$);if(W.get(le,fe))return new pt(le,fe)}return null}centerEdges(g,C,B,I){const N=g.getX(),D=g.getY(),$=C.getX(),W=C.getY(),J=B.getX(),le=B.getY(),fe=I.getX(),pe=I.getY(),Be=it.CORR;return N<this.width/2?[new pt(fe-Be,pe+Be),new pt($+Be,W+Be),new pt(J-Be,le-Be),new pt(N+Be,D-Be)]:[new pt(fe+Be,pe+Be),new pt($+Be,W-Be),new pt(J-Be,le+Be),new pt(N-Be,D-Be)]}containsBlackPoint(g,C,B,I){const N=this.image;if(I){for(let D=g;D<=C;D++)if(N.get(D,B))return!0}else for(let D=g;D<=C;D++)if(N.get(B,D))return!0;return!1}}it.INIT_SIZE=10,it.CORR=1;class Pe{static checkAndNudgePoints(g,C){const B=g.getWidth(),I=g.getHeight();let N=!0;for(let D=0;D<C.length&&N;D+=2){const $=Math.floor(C[D]),W=Math.floor(C[D+1]);if($<-1||$>B||W<-1||W>I)throw new he;N=!1,$===-1?(C[D]=0,N=!0):$===B&&(C[D]=B-1,N=!0),W===-1?(C[D+1]=0,N=!0):W===I&&(C[D+1]=I-1,N=!0)}N=!0;for(let D=C.length-2;D>=0&&N;D-=2){const $=Math.floor(C[D]),W=Math.floor(C[D+1]);if($<-1||$>B||W<-1||W>I)throw new he;N=!1,$===-1?(C[D]=0,N=!0):$===B&&(C[D]=B-1,N=!0),W===-1?(C[D+1]=0,N=!0):W===I&&(C[D+1]=I-1,N=!0)}}}class Fe{constructor(g,C,B,I,N,D,$,W,J){this.a11=g,this.a21=C,this.a31=B,this.a12=I,this.a22=N,this.a32=D,this.a13=$,this.a23=W,this.a33=J}static quadrilateralToQuadrilateral(g,C,B,I,N,D,$,W,J,le,fe,pe,Be,Ie,Ne,Le){const Ke=Fe.quadrilateralToSquare(g,C,B,I,N,D,$,W);return Fe.squareToQuadrilateral(J,le,fe,pe,Be,Ie,Ne,Le).times(Ke)}transformPoints(g){const C=g.length,B=this.a11,I=this.a12,N=this.a13,D=this.a21,$=this.a22,W=this.a23,J=this.a31,le=this.a32,fe=this.a33;for(let pe=0;pe<C;pe+=2){const Be=g[pe],Ie=g[pe+1],Ne=N*Be+W*Ie+fe;g[pe]=(B*Be+D*Ie+J)/Ne,g[pe+1]=(I*Be+$*Ie+le)/Ne}}transformPointsWithValues(g,C){const B=this.a11,I=this.a12,N=this.a13,D=this.a21,$=this.a22,W=this.a23,J=this.a31,le=this.a32,fe=this.a33,pe=g.length;for(let Be=0;Be<pe;Be++){const Ie=g[Be],Ne=C[Be],Le=N*Ie+W*Ne+fe;g[Be]=(B*Ie+D*Ne+J)/Le,C[Be]=(I*Ie+$*Ne+le)/Le}}static squareToQuadrilateral(g,C,B,I,N,D,$,W){const J=g-B+N-$,le=C-I+D-W;if(J===0&&le===0)return new Fe(B-g,N-B,g,I-C,D-I,C,0,0,1);{const fe=B-N,pe=$-N,Be=I-D,Ie=W-D,Ne=fe*Ie-pe*Be,Le=(J*Ie-pe*le)/Ne,Ke=(fe*le-J*Be)/Ne;return new Fe(B-g+Le*B,$-g+Ke*$,g,I-C+Le*I,W-C+Ke*W,C,Le,Ke,1)}}static quadrilateralToSquare(g,C,B,I,N,D,$,W){return Fe.squareToQuadrilateral(g,C,B,I,N,D,$,W).buildAdjoint()}buildAdjoint(){return new Fe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(g){return new Fe(this.a11*g.a11+this.a21*g.a12+this.a31*g.a13,this.a11*g.a21+this.a21*g.a22+this.a31*g.a23,this.a11*g.a31+this.a21*g.a32+this.a31*g.a33,this.a12*g.a11+this.a22*g.a12+this.a32*g.a13,this.a12*g.a21+this.a22*g.a22+this.a32*g.a23,this.a12*g.a31+this.a22*g.a32+this.a32*g.a33,this.a13*g.a11+this.a23*g.a12+this.a33*g.a13,this.a13*g.a21+this.a23*g.a22+this.a33*g.a23,this.a13*g.a31+this.a23*g.a32+this.a33*g.a33)}}class Ye extends Pe{sampleGrid(g,C,B,I,N,D,$,W,J,le,fe,pe,Be,Ie,Ne,Le,Ke,ft,dt){const At=Fe.quadrilateralToQuadrilateral(I,N,D,$,W,J,le,fe,pe,Be,Ie,Ne,Le,Ke,ft,dt);return this.sampleGridWithTransform(g,C,B,At)}sampleGridWithTransform(g,C,B,I){if(C<=0||B<=0)throw new he;const N=new Ee(C,B),D=new Float32Array(2*C);for(let $=0;$<B;$++){const W=D.length,J=$+.5;for(let le=0;le<W;le+=2)D[le]=le/2+.5,D[le+1]=J;I.transformPoints(D),Pe.checkAndNudgePoints(g,D);try{for(let le=0;le<W;le+=2)g.get(Math.floor(D[le]),Math.floor(D[le+1]))&&N.set(le/2,$)}catch{throw new he}}return N}}class Je{static setGridSampler(g){Je.gridSampler=g}static getInstance(){return Je.gridSampler}}Je.gridSampler=new Ye;class bt{constructor(g,C){this.x=g,this.y=C}toResultPoint(){return new pt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(g){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=g}detect(){return this.detectMirror(!1)}detectMirror(g){let C=this.getMatrixCenter(),B=this.getBullsEyeCorners(C);if(g){let D=B[0];B[0]=B[2],B[2]=D}this.extractParameters(B);let I=this.sampleGrid(this.image,B[this.shift%4],B[(this.shift+1)%4],B[(this.shift+2)%4],B[(this.shift+3)%4]),N=this.getMatrixCornerPoints(B);return new On(I,N,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(g){if(!this.isValidPoint(g[0])||!this.isValidPoint(g[1])||!this.isValidPoint(g[2])||!this.isValidPoint(g[3]))throw new he;let C=2*this.nbCenterLayers,B=new Int32Array([this.sampleLine(g[0],g[1],C),this.sampleLine(g[1],g[2],C),this.sampleLine(g[2],g[3],C),this.sampleLine(g[3],g[0],C)]);this.shift=this.getRotation(B,C);let I=0;for(let D=0;D<4;D++){let $=B[(this.shift+D)%4];this.compact?(I<<=7,I+=$>>1&127):(I<<=10,I+=($>>2&992)+($>>1&31))}let N=this.getCorrectedParameterData(I,this.compact);this.compact?(this.nbLayers=(N>>6)+1,this.nbDataBlocks=(N&63)+1):(this.nbLayers=(N>>11)+1,this.nbDataBlocks=(N&2047)+1)}getRotation(g,C){let B=0;g.forEach((I,N,D)=>{let $=(I>>C-2<<1)+(I&1);B=(B<<3)+$}),B=((B&1)<<11)+(B>>1);for(let I=0;I<4;I++)if(H.bitCount(B^this.EXPECTED_CORNER_BITS[I])<=2)return I;throw new he}getCorrectedParameterData(g,C){let B,I;C?(B=7,I=2):(B=10,I=4);let N=B-I,D=new Int32Array(B);for(let W=B-1;W>=0;--W)D[W]=g&15,g>>=4;try{new Un(gt.AZTEC_PARAM).decode(D,N)}catch{throw new he}let $=0;for(let W=0;W<I;W++)$=($<<4)+D[W];return $}getBullsEyeCorners(g){let C=g,B=g,I=g,N=g,D=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let fe=this.getFirstDifferent(C,D,1,-1),pe=this.getFirstDifferent(B,D,1,1),Be=this.getFirstDifferent(I,D,-1,1),Ie=this.getFirstDifferent(N,D,-1,-1);if(this.nbCenterLayers>2){let Ne=this.distancePoint(Ie,fe)*this.nbCenterLayers/(this.distancePoint(N,C)*(this.nbCenterLayers+2));if(Ne<.75||Ne>1.25||!this.isWhiteOrBlackRectangle(fe,pe,Be,Ie))break}C=fe,B=pe,I=Be,N=Ie,D=!D}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new he;this.compact=this.nbCenterLayers===5;let $=new pt(C.getX()+.5,C.getY()-.5),W=new pt(B.getX()+.5,B.getY()+.5),J=new pt(I.getX()-.5,I.getY()+.5),le=new pt(N.getX()-.5,N.getY()-.5);return this.expandSquare([$,W,J,le],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let g,C,B,I;try{let $=new it(this.image).detect();g=$[0],C=$[1],B=$[2],I=$[3]}catch{let W=this.image.getWidth()/2,J=this.image.getHeight()/2;g=this.getFirstDifferent(new bt(W+7,J-7),!1,1,-1).toResultPoint(),C=this.getFirstDifferent(new bt(W+7,J+7),!1,1,1).toResultPoint(),B=this.getFirstDifferent(new bt(W-7,J+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new bt(W-7,J-7),!1,-1,-1).toResultPoint()}let N=Ot.round((g.getX()+I.getX()+C.getX()+B.getX())/4),D=Ot.round((g.getY()+I.getY()+C.getY()+B.getY())/4);try{let $=new it(this.image,15,N,D).detect();g=$[0],C=$[1],B=$[2],I=$[3]}catch{g=this.getFirstDifferent(new bt(N+7,D-7),!1,1,-1).toResultPoint(),C=this.getFirstDifferent(new bt(N+7,D+7),!1,1,1).toResultPoint(),B=this.getFirstDifferent(new bt(N-7,D+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new bt(N-7,D-7),!1,-1,-1).toResultPoint()}return N=Ot.round((g.getX()+I.getX()+C.getX()+B.getX())/4),D=Ot.round((g.getY()+I.getY()+C.getY()+B.getY())/4),new bt(N,D)}getMatrixCornerPoints(g){return this.expandSquare(g,2*this.nbCenterLayers,this.getDimension())}sampleGrid(g,C,B,I,N){let D=Je.getInstance(),$=this.getDimension(),W=$/2-this.nbCenterLayers,J=$/2+this.nbCenterLayers;return D.sampleGrid(g,$,$,W,W,J,W,J,J,W,J,C.getX(),C.getY(),B.getX(),B.getY(),I.getX(),I.getY(),N.getX(),N.getY())}sampleLine(g,C,B){let I=0,N=this.distanceResultPoint(g,C),D=N/B,$=g.getX(),W=g.getY(),J=D*(C.getX()-g.getX())/N,le=D*(C.getY()-g.getY())/N;for(let fe=0;fe<B;fe++)this.image.get(Ot.round($+fe*J),Ot.round(W+fe*le))&&(I|=1<<B-fe-1);return I}isWhiteOrBlackRectangle(g,C,B,I){let N=3;g=new bt(g.getX()-N,g.getY()+N),C=new bt(C.getX()-N,C.getY()-N),B=new bt(B.getX()+N,B.getY()-N),I=new bt(I.getX()+N,I.getY()+N);let D=this.getColor(I,g);if(D===0)return!1;let $=this.getColor(g,C);return $!==D||($=this.getColor(C,B),$!==D)?!1:($=this.getColor(B,I),$===D)}getColor(g,C){let B=this.distancePoint(g,C),I=(C.getX()-g.getX())/B,N=(C.getY()-g.getY())/B,D=0,$=g.getX(),W=g.getY(),J=this.image.get(g.getX(),g.getY()),le=Math.ceil(B);for(let pe=0;pe<le;pe++)$+=I,W+=N,this.image.get(Ot.round($),Ot.round(W))!==J&&D++;let fe=D/B;return fe>.1&&fe<.9?0:fe<=.1===J?1:-1}getFirstDifferent(g,C,B,I){let N=g.getX()+B,D=g.getY()+I;for(;this.isValid(N,D)&&this.image.get(N,D)===C;)N+=B,D+=I;for(N-=B,D-=I;this.isValid(N,D)&&this.image.get(N,D)===C;)N+=B;for(N-=B;this.isValid(N,D)&&this.image.get(N,D)===C;)D+=I;return D-=I,new bt(N,D)}expandSquare(g,C,B){let I=B/(2*C),N=g[0].getX()-g[2].getX(),D=g[0].getY()-g[2].getY(),$=(g[0].getX()+g[2].getX())/2,W=(g[0].getY()+g[2].getY())/2,J=new pt($+I*N,W+I*D),le=new pt($-I*N,W-I*D);N=g[1].getX()-g[3].getX(),D=g[1].getY()-g[3].getY(),$=(g[1].getX()+g[3].getX())/2,W=(g[1].getY()+g[3].getY())/2;let fe=new pt($+I*N,W+I*D),pe=new pt($-I*N,W-I*D);return[J,fe,le,pe]}isValid(g,C){return g>=0&&g<this.image.getWidth()&&C>0&&C<this.image.getHeight()}isValidPoint(g){let C=Ot.round(g.getX()),B=Ot.round(g.getY());return this.isValid(C,B)}distancePoint(g,C){return Ot.distance(g.getX(),g.getY(),C.getX(),C.getY())}distanceResultPoint(g,C){return Ot.distance(g.getX(),g.getY(),C.getX(),C.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Wt{decode(g,C=null){let B=null,I=new Mt(g.getBlackMatrix()),N=null,D=null;try{let le=I.detectMirror(!1);N=le.getPoints(),this.reportFoundResultPoints(C,N),D=new $t().decode(le)}catch(le){B=le}if(D==null)try{let le=I.detectMirror(!0);N=le.getPoints(),this.reportFoundResultPoints(C,N),D=new $t().decode(le)}catch(le){throw B??le}let $=new _e(D.getText(),D.getRawBytes(),D.getNumBits(),N,Me.AZTEC,j.currentTimeMillis()),W=D.getByteSegments();W!=null&&$.putMetadata(ot.BYTE_SEGMENTS,W);let J=D.getECLevel();return J!=null&&$.putMetadata(ot.ERROR_CORRECTION_LEVEL,J),$}reportFoundResultPoints(g,C){if(g!=null){let B=g.get(ne.NEED_RESULT_POINT_CALLBACK);B!=null&&C.forEach((I,N,D)=>{B.foundPossibleResultPoint(I)})}}reset(){}}class Xe extends Se{constructor(g=500){super(new Wt,g)}}class ze{decode(g,C){try{return this.doDecode(g,C)}catch{if(C&&C.get(ne.TRY_HARDER)===!0&&g.isRotateSupported()){const N=g.rotateCounterClockwise(),D=this.doDecode(N,C),$=D.getResultMetadata();let W=270;$!==null&&$.get(ot.ORIENTATION)===!0&&(W=W+$.get(ot.ORIENTATION)%360),D.putMetadata(ot.ORIENTATION,W);const J=D.getResultPoints();if(J!==null){const le=N.getHeight();for(let fe=0;fe<J.length;fe++)J[fe]=new pt(le-J[fe].getY()-1,J[fe].getX())}return D}else throw new he}}reset(){}doDecode(g,C){const B=g.getWidth(),I=g.getHeight();let N=new X(B);const D=C&&C.get(ne.TRY_HARDER)===!0,$=Math.max(1,I>>(D?8:5));let W;D?W=I:W=15;const J=Math.trunc(I/2);for(let le=0;le<W;le++){const fe=Math.trunc((le+1)/2),pe=(le&1)===0,Be=J+$*(pe?fe:-fe);if(Be<0||Be>=I)break;try{N=g.getBlackRow(Be,N)}catch{continue}for(let Ie=0;Ie<2;Ie++){if(Ie===1&&(N.reverse(),C&&C.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const Ne=new Map;C.forEach((Le,Ke)=>Ne.set(Ke,Le)),Ne.delete(ne.NEED_RESULT_POINT_CALLBACK),C=Ne}try{const Ne=this.decodeRow(Be,N,C);if(Ie===1){Ne.putMetadata(ot.ORIENTATION,180);const Le=Ne.getResultPoints();Le!==null&&(Le[0]=new pt(B-Le[0].getX()-1,Le[0].getY()),Le[1]=new pt(B-Le[1].getX()-1,Le[1].getY()))}return Ne}catch{}}}throw new he}static recordPattern(g,C,B){const I=B.length;for(let J=0;J<I;J++)B[J]=0;const N=g.getSize();if(C>=N)throw new he;let D=!g.get(C),$=0,W=C;for(;W<N;){if(g.get(W)!==D)B[$]++;else{if(++$===I)break;B[$]=1,D=!D}W++}if(!($===I||$===I-1&&W===N))throw new he}static recordPatternInReverse(g,C,B){let I=B.length,N=g.get(C);for(;C>0&&I>=0;)g.get(--C)!==N&&(I--,N=!N);if(I>=0)throw new he;ze.recordPattern(g,C+1,B)}static patternMatchVariance(g,C,B){const I=g.length;let N=0,D=0;for(let J=0;J<I;J++)N+=g[J],D+=C[J];if(N<D)return Number.POSITIVE_INFINITY;const $=N/D;B*=$;let W=0;for(let J=0;J<I;J++){const le=g[J],fe=C[J]*$,pe=le>fe?le-fe:fe-le;if(pe>B)return Number.POSITIVE_INFINITY;W+=pe}return W/N}}class $e extends ze{static findStartPattern(g){const C=g.getSize(),B=g.getNextSet(0);let I=0,N=Int32Array.from([0,0,0,0,0,0]),D=B,$=!1;const W=6;for(let J=B;J<C;J++)if(g.get(J)!==$)N[I]++;else{if(I===W-1){let le=$e.MAX_AVG_VARIANCE,fe=-1;for(let pe=$e.CODE_START_A;pe<=$e.CODE_START_C;pe++){const Be=ze.patternMatchVariance(N,$e.CODE_PATTERNS[pe],$e.MAX_INDIVIDUAL_VARIANCE);Be<le&&(le=Be,fe=pe)}if(fe>=0&&g.isRange(Math.max(0,D-(J-D)/2),D,!1))return Int32Array.from([D,J,fe]);D+=N[0]+N[1],N=N.slice(2,N.length-1),N[I-1]=0,N[I]=0,I--}else I++;N[I]=1,$=!$}throw new he}static decodeCode(g,C,B){ze.recordPattern(g,B,C);let I=$e.MAX_AVG_VARIANCE,N=-1;for(let D=0;D<$e.CODE_PATTERNS.length;D++){const $=$e.CODE_PATTERNS[D],W=this.patternMatchVariance(C,$,$e.MAX_INDIVIDUAL_VARIANCE);W<I&&(I=W,N=D)}if(N>=0)return N;throw new he}decodeRow(g,C,B){const I=B&&B.get(ne.ASSUME_GS1)===!0,N=$e.findStartPattern(C),D=N[2];let $=0;const W=new Uint8Array(20);W[$++]=D;let J;switch(D){case $e.CODE_START_A:J=$e.CODE_CODE_A;break;case $e.CODE_START_B:J=$e.CODE_CODE_B;break;case $e.CODE_START_C:J=$e.CODE_CODE_C;break;default:throw new Y}let le=!1,fe=!1,pe="",Be=N[0],Ie=N[1];const Ne=Int32Array.from([0,0,0,0,0,0]);let Le=0,Ke=0,ft=D,dt=0,At=!0,tn=!1,Kt=!1;for(;!le;){const Os=fe;switch(fe=!1,Le=Ke,Ke=$e.decodeCode(C,Ne,Ie),W[$++]=Ke,Ke!==$e.CODE_STOP&&(At=!0),Ke!==$e.CODE_STOP&&(dt++,ft+=dt*Ke),Be=Ie,Ie+=Ne.reduce((Oo,Va)=>Oo+Va,0),Ke){case $e.CODE_START_A:case $e.CODE_START_B:case $e.CODE_START_C:throw new Y}switch(J){case $e.CODE_CODE_A:if(Ke<64)Kt===tn?pe+=String.fromCharCode(32+Ke):pe+=String.fromCharCode(32+Ke+128),Kt=!1;else if(Ke<96)Kt===tn?pe+=String.fromCharCode(Ke-64):pe+=String.fromCharCode(Ke+64),Kt=!1;else switch(Ke!==$e.CODE_STOP&&(At=!1),Ke){case $e.CODE_FNC_1:I&&(pe.length===0?pe+="]C1":pe+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_A:!tn&&Kt?(tn=!0,Kt=!1):tn&&Kt?(tn=!1,Kt=!1):Kt=!0;break;case $e.CODE_SHIFT:fe=!0,J=$e.CODE_CODE_B;break;case $e.CODE_CODE_B:J=$e.CODE_CODE_B;break;case $e.CODE_CODE_C:J=$e.CODE_CODE_C;break;case $e.CODE_STOP:le=!0;break}break;case $e.CODE_CODE_B:if(Ke<96)Kt===tn?pe+=String.fromCharCode(32+Ke):pe+=String.fromCharCode(32+Ke+128),Kt=!1;else switch(Ke!==$e.CODE_STOP&&(At=!1),Ke){case $e.CODE_FNC_1:I&&(pe.length===0?pe+="]C1":pe+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_B:!tn&&Kt?(tn=!0,Kt=!1):tn&&Kt?(tn=!1,Kt=!1):Kt=!0;break;case $e.CODE_SHIFT:fe=!0,J=$e.CODE_CODE_A;break;case $e.CODE_CODE_A:J=$e.CODE_CODE_A;break;case $e.CODE_CODE_C:J=$e.CODE_CODE_C;break;case $e.CODE_STOP:le=!0;break}break;case $e.CODE_CODE_C:if(Ke<100)Ke<10&&(pe+="0"),pe+=Ke;else switch(Ke!==$e.CODE_STOP&&(At=!1),Ke){case $e.CODE_FNC_1:I&&(pe.length===0?pe+="]C1":pe+="");break;case $e.CODE_CODE_A:J=$e.CODE_CODE_A;break;case $e.CODE_CODE_B:J=$e.CODE_CODE_B;break;case $e.CODE_STOP:le=!0;break}break}Os&&(J=J===$e.CODE_CODE_A?$e.CODE_CODE_B:$e.CODE_CODE_A)}const Jn=Ie-Be;if(Ie=C.getNextUnset(Ie),!C.isRange(Ie,Math.min(C.getSize(),Ie+(Ie-Be)/2),!1))throw new he;if(ft-=dt*Le,ft%103!==Le)throw new k;const Lr=pe.length;if(Lr===0)throw new he;Lr>0&&At&&(J===$e.CODE_CODE_C?pe=pe.substring(0,Lr-2):pe=pe.substring(0,Lr-1));const vr=(N[1]+N[0])/2,Sn=Be+Jn/2,pr=W.length,Nr=new Uint8Array(pr);for(let Os=0;Os<pr;Os++)Nr[Os]=W[Os];const li=[new pt(vr,g),new pt(Sn,g)];return new _e(pe,Nr,0,li,Me.CODE_128,new Date().getTime())}}$e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],$e.MAX_AVG_VARIANCE=.25,$e.MAX_INDIVIDUAL_VARIANCE=.7,$e.CODE_SHIFT=98,$e.CODE_CODE_C=99,$e.CODE_CODE_B=100,$e.CODE_CODE_A=101,$e.CODE_FNC_1=102,$e.CODE_FNC_2=97,$e.CODE_FNC_3=96,$e.CODE_FNC_4_A=101,$e.CODE_FNC_4_B=100,$e.CODE_START_A=103,$e.CODE_START_B=104,$e.CODE_START_C=105,$e.CODE_STOP=106;class ut extends ze{constructor(g=!1,C=!1){super(),this.usingCheckDigit=g,this.extendedMode=C,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(g,C,B){let I=this.counters;I.fill(0),this.decodeRowResult="";let N=ut.findAsteriskPattern(C,I),D=C.getNextSet(N[1]),$=C.getSize(),W,J;do{ut.recordPattern(C,D,I);let Ne=ut.toNarrowWidePattern(I);if(Ne<0)throw new he;W=ut.patternToChar(Ne),this.decodeRowResult+=W,J=D;for(let Le of I)D+=Le;D=C.getNextSet(D)}while(W!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let le=0;for(let Ne of I)le+=Ne;let fe=D-J-le;if(D!==$&&fe*2<le)throw new he;if(this.usingCheckDigit){let Ne=this.decodeRowResult.length-1,Le=0;for(let Ke=0;Ke<Ne;Ke++)Le+=ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ke));if(this.decodeRowResult.charAt(Ne)!==ut.ALPHABET_STRING.charAt(Le%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,Ne)}if(this.decodeRowResult.length===0)throw new he;let pe;this.extendedMode?pe=ut.decodeExtended(this.decodeRowResult):pe=this.decodeRowResult;let Be=(N[1]+N[0])/2,Ie=J+le/2;return new _e(pe,null,0,[new pt(Be,g),new pt(Ie,g)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(g,C){let B=g.getSize(),I=g.getNextSet(0),N=0,D=I,$=!1,W=C.length;for(let J=I;J<B;J++)if(g.get(J)!==$)C[N]++;else{if(N===W-1){if(this.toNarrowWidePattern(C)===ut.ASTERISK_ENCODING&&g.isRange(Math.max(0,D-Math.floor((J-D)/2)),D,!1))return[D,J];D+=C[0]+C[1],C.copyWithin(0,2,2+N-1),C[N-1]=0,C[N]=0,N--}else N++;C[N]=1,$=!$}throw new he}static toNarrowWidePattern(g){let C=g.length,B=0,I;do{let N=2147483647;for(let W of g)W<N&&W>B&&(N=W);B=N,I=0;let D=0,$=0;for(let W=0;W<C;W++){let J=g[W];J>B&&($|=1<<C-1-W,I++,D+=J)}if(I===3){for(let W=0;W<C&&I>0;W++){let J=g[W];if(J>B&&(I--,J*2>=D))return-1}return $}}while(I>3);return-1}static patternToChar(g){for(let C=0;C<ut.CHARACTER_ENCODINGS.length;C++)if(ut.CHARACTER_ENCODINGS[C]===g)return ut.ALPHABET_STRING.charAt(C);if(g===ut.ASTERISK_ENCODING)return"*";throw new he}static decodeExtended(g){let C=g.length,B="";for(let I=0;I<C;I++){let N=g.charAt(I);if(N==="+"||N==="$"||N==="%"||N==="/"){let D=g.charAt(I+1),$="\0";switch(N){case"+":if(D>="A"&&D<="Z")$=String.fromCharCode(D.charCodeAt(0)+32);else throw new Y;break;case"$":if(D>="A"&&D<="Z")$=String.fromCharCode(D.charCodeAt(0)-64);else throw new Y;break;case"%":if(D>="A"&&D<="E")$=String.fromCharCode(D.charCodeAt(0)-38);else if(D>="F"&&D<="J")$=String.fromCharCode(D.charCodeAt(0)-11);else if(D>="K"&&D<="O")$=String.fromCharCode(D.charCodeAt(0)+16);else if(D>="P"&&D<="T")$=String.fromCharCode(D.charCodeAt(0)+43);else if(D==="U")$="\0";else if(D==="V")$="@";else if(D==="W")$="`";else if(D==="X"||D==="Y"||D==="Z")$="";else throw new Y;break;case"/":if(D>="A"&&D<="O")$=String.fromCharCode(D.charCodeAt(0)-32);else if(D==="Z")$=":";else throw new Y;break}B+=$,I++}else B+=N}return B}}ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ut.ASTERISK_ENCODING=148;class lt extends ze{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(g,C,B){let I=this.decodeStart(C),N=this.decodeEnd(C),D=new we;lt.decodeMiddle(C,I[1],N[0],D);let $=D.toString(),W=null;B!=null&&(W=B.get(ne.ALLOWED_LENGTHS)),W==null&&(W=lt.DEFAULT_ALLOWED_LENGTHS);let J=$.length,le=!1,fe=0;for(let Ie of W){if(J===Ie){le=!0;break}Ie>fe&&(fe=Ie)}if(!le&&J>fe&&(le=!0),!le)throw new Y;const pe=[new pt(I[1],g),new pt(N[0],g)];return new _e($,null,0,pe,Me.ITF,new Date().getTime())}static decodeMiddle(g,C,B,I){let N=new Int32Array(10),D=new Int32Array(5),$=new Int32Array(5);for(N.fill(0),D.fill(0),$.fill(0);C<B;){ze.recordPattern(g,C,N);for(let J=0;J<5;J++){let le=2*J;D[J]=N[le],$[J]=N[le+1]}let W=lt.decodeDigit(D);I.append(W.toString()),W=this.decodeDigit($),I.append(W.toString()),N.forEach(function(J){C+=J})}}decodeStart(g){let C=lt.skipWhiteSpace(g),B=lt.findGuardPattern(g,C,lt.START_PATTERN);return this.narrowLineWidth=(B[1]-B[0])/4,this.validateQuietZone(g,B[0]),B}validateQuietZone(g,C){let B=this.narrowLineWidth*10;B=B<C?B:C;for(let I=C-1;B>0&&I>=0&&!g.get(I);I--)B--;if(B!==0)throw new he}static skipWhiteSpace(g){const C=g.getSize(),B=g.getNextSet(0);if(B===C)throw new he;return B}decodeEnd(g){g.reverse();try{let C=lt.skipWhiteSpace(g),B;try{B=lt.findGuardPattern(g,C,lt.END_PATTERN_REVERSED[0])}catch(N){N instanceof he&&(B=lt.findGuardPattern(g,C,lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(g,B[0]);let I=B[0];return B[0]=g.getSize()-B[1],B[1]=g.getSize()-I,B}finally{g.reverse()}}static findGuardPattern(g,C,B){let I=B.length,N=new Int32Array(I),D=g.getSize(),$=!1,W=0,J=C;N.fill(0);for(let le=C;le<D;le++)if(g.get(le)!==$)N[W]++;else{if(W===I-1){if(ze.patternMatchVariance(N,B,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return[J,le];J+=N[0]+N[1],j.arraycopy(N,2,N,0,W-1),N[W-1]=0,N[W]=0,W--}else W++;N[W]=1,$=!$}throw new he}static decodeDigit(g){let C=lt.MAX_AVG_VARIANCE,B=-1,I=lt.PATTERNS.length;for(let N=0;N<I;N++){let D=lt.PATTERNS[N],$=ze.patternMatchVariance(g,D,lt.MAX_INDIVIDUAL_VARIANCE);$<C?(C=$,B=N):$===C&&(B=-1)}if(B>=0)return B%10;throw new he}}lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],lt.MAX_AVG_VARIANCE=.38,lt.MAX_INDIVIDUAL_VARIANCE=.5,lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],lt.START_PATTERN=Int32Array.from([1,1,1,1]),lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bt extends ze{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(g){let C=!1,B,I=0,N=Int32Array.from([0,0,0]);for(;!C;){N=Int32Array.from([0,0,0]),B=Bt.findGuardPattern(g,I,!1,this.START_END_PATTERN,N);let D=B[0];I=B[1];let $=D-(I-D);$>=0&&(C=g.isRange($,D,!1))}return B}static checkChecksum(g){return Bt.checkStandardUPCEANChecksum(g)}static checkStandardUPCEANChecksum(g){let C=g.length;if(C===0)return!1;let B=parseInt(g.charAt(C-1),10);return Bt.getStandardUPCEANChecksum(g.substring(0,C-1))===B}static getStandardUPCEANChecksum(g){let C=g.length,B=0;for(let I=C-1;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new Y;B+=N}B*=3;for(let I=C-2;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new Y;B+=N}return(1e3-B)%10}static decodeEnd(g,C){return Bt.findGuardPattern(g,C,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(g,C,B,I){return this.findGuardPattern(g,C,B,I,new Int32Array(I.length))}static findGuardPattern(g,C,B,I,N){let D=g.getSize();C=B?g.getNextUnset(C):g.getNextSet(C);let $=0,W=C,J=I.length,le=B;for(let fe=C;fe<D;fe++)if(g.get(fe)!==le)N[$]++;else{if($===J-1){if(ze.patternMatchVariance(N,I,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return Int32Array.from([W,fe]);W+=N[0]+N[1];let pe=N.slice(2,N.length-1);for(let Be=0;Be<$-1;Be++)N[Be]=pe[Be];N[$-1]=0,N[$]=0,$--}else $++;N[$]=1,le=!le}throw new he}static decodeDigit(g,C,B,I){this.recordPattern(g,B,C);let N=this.MAX_AVG_VARIANCE,D=-1,$=I.length;for(let W=0;W<$;W++){let J=I[W],le=ze.patternMatchVariance(C,J,Bt.MAX_INDIVIDUAL_VARIANCE);le<N&&(N=le,D=W)}if(D>=0)return D;throw new he}}Bt.MAX_AVG_VARIANCE=.48,Bt.MAX_INDIVIDUAL_VARIANCE=.7,Bt.START_END_PATTERN=Int32Array.from([1,1,1]),Bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class on{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(g,C,B){let I=this.decodeRowStringBuffer,N=this.decodeMiddle(C,B,I),D=I.toString(),$=on.parseExtensionString(D),W=[new pt((B[0]+B[1])/2,g),new pt(N,g)],J=new _e(D,null,0,W,Me.UPC_EAN_EXTENSION,new Date().getTime());return $!=null&&J.putAllMetadata($),J}decodeMiddle(g,C,B){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],$=0;for(let J=0;J<5&&D<N;J++){let le=Bt.decodeDigit(g,I,D,Bt.L_AND_G_PATTERNS);B+=String.fromCharCode(48+le%10);for(let fe of I)D+=fe;le>=10&&($|=1<<4-J),J!==4&&(D=g.getNextSet(D),D=g.getNextUnset(D))}if(B.length!==5)throw new he;let W=this.determineCheckDigit($);if(on.extensionChecksum(B.toString())!==W)throw new he;return D}static extensionChecksum(g){let C=g.length,B=0;for(let I=C-2;I>=0;I-=2)B+=g.charAt(I).charCodeAt(0)-48;B*=3;for(let I=C-1;I>=0;I-=2)B+=g.charAt(I).charCodeAt(0)-48;return B*=3,B%10}determineCheckDigit(g){for(let C=0;C<10;C++)if(g===this.CHECK_DIGIT_ENCODINGS[C])return C;throw new he}static parseExtensionString(g){if(g.length!==5)return null;let C=on.parseExtension5String(g);return C==null?null:new Map([[ot.SUGGESTED_PRICE,C]])}static parseExtension5String(g){let C;switch(g.charAt(0)){case"0":C="";break;case"5":C="$";break;case"9":switch(g){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}C="";break;default:C="";break}let B=parseInt(g.substring(1)),I=(B/100).toString(),N=B%100,D=N<10?"0"+N:N.toString();return C+I+"."+D}}class un{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(g,C,B){let I=this.decodeRowStringBuffer,N=this.decodeMiddle(C,B,I),D=I.toString(),$=un.parseExtensionString(D),W=[new pt((B[0]+B[1])/2,g),new pt(N,g)],J=new _e(D,null,0,W,Me.UPC_EAN_EXTENSION,new Date().getTime());return $!=null&&J.putAllMetadata($),J}decodeMiddle(g,C,B){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],$=0;for(let W=0;W<2&&D<N;W++){let J=Bt.decodeDigit(g,I,D,Bt.L_AND_G_PATTERNS);B+=String.fromCharCode(48+J%10);for(let le of I)D+=le;J>=10&&($|=1<<1-W),W!==1&&(D=g.getNextSet(D),D=g.getNextUnset(D))}if(B.length!==2)throw new he;if(parseInt(B.toString())%4!==$)throw new he;return D}static parseExtensionString(g){return g.length!==2?null:new Map([[ot.ISSUE_NUMBER,parseInt(g)]])}}class dn{static decodeRow(g,C,B){let I=Bt.findGuardPattern(C,B,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new on().decodeRow(g,C,I)}catch{return new un().decodeRow(g,C,I)}}}dn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class kt extends Bt{constructor(){super(),this.decodeRowStringBuffer="",kt.L_AND_G_PATTERNS=kt.L_PATTERNS.map(g=>Int32Array.from(g));for(let g=10;g<20;g++){let C=kt.L_PATTERNS[g-10],B=new Int32Array(C.length);for(let I=0;I<C.length;I++)B[I]=C[C.length-I-1];kt.L_AND_G_PATTERNS[g]=B}}decodeRow(g,C,B){let I=kt.findStartGuardPattern(C),N=B==null?null:B.get(ne.NEED_RESULT_POINT_CALLBACK);if(N!=null){const At=new pt((I[0]+I[1])/2,g);N.foundPossibleResultPoint(At)}let D=this.decodeMiddle(C,I,this.decodeRowStringBuffer),$=D.rowOffset,W=D.resultString;if(N!=null){const At=new pt($,g);N.foundPossibleResultPoint(At)}let J=this.decodeEnd(C,$);if(N!=null){const At=new pt((J[0]+J[1])/2,g);N.foundPossibleResultPoint(At)}let le=J[1],fe=le+(le-J[0]);if(fe>=C.getSize()||!C.isRange(le,fe,!1))throw new he;let pe=W.toString();if(pe.length<8)throw new Y;if(!kt.checkChecksum(pe))throw new k;let Be=(I[1]+I[0])/2,Ie=(J[1]+J[0])/2,Ne=this.getBarcodeFormat(),Le=[new pt(Be,g),new pt(Ie,g)],Ke=new _e(pe,null,0,Le,Ne,new Date().getTime()),ft=0;try{let At=dn.decodeRow(g,C,J[1]);Ke.putMetadata(ot.UPC_EAN_EXTENSION,At.getText()),Ke.putAllMetadata(At.getResultMetadata()),Ke.addResultPoints(At.getResultPoints()),ft=At.getText().length}catch{}let dt=B==null?null:B.get(ne.ALLOWED_EAN_EXTENSIONS);if(dt!=null){let At=!1;for(let tn in dt)if(ft.toString()===tn){At=!0;break}if(!At)throw new he}return Ke}decodeEnd(g,C){return kt.findGuardPattern(g,C,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static checkChecksum(g){return kt.checkStandardUPCEANChecksum(g)}static checkStandardUPCEANChecksum(g){let C=g.length;if(C===0)return!1;let B=parseInt(g.charAt(C-1),10);return kt.getStandardUPCEANChecksum(g.substring(0,C-1))===B}static getStandardUPCEANChecksum(g){let C=g.length,B=0;for(let I=C-1;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new Y;B+=N}B*=3;for(let I=C-2;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new Y;B+=N}return(1e3-B)%10}}class mn extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(g,C,B){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],$=0;for(let J=0;J<6&&D<N;J++){let le=kt.decodeDigit(g,I,D,kt.L_AND_G_PATTERNS);B+=String.fromCharCode(48+le%10);for(let fe of I)D+=fe;le>=10&&($|=1<<5-J)}B=mn.determineFirstDigit(B,$),D=kt.findGuardPattern(g,D,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let J=0;J<6&&D<N;J++){let le=kt.decodeDigit(g,I,D,kt.L_PATTERNS);B+=String.fromCharCode(48+le);for(let fe of I)D+=fe}return{rowOffset:D,resultString:B}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(g,C){for(let B=0;B<10;B++)if(C===this.FIRST_DIGIT_ENCODINGS[B])return g=String.fromCharCode(48+B)+g,g;throw new he}}mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Bn extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(g,C,B){const I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1];for(let W=0;W<4&&D<N;W++){let J=kt.decodeDigit(g,I,D,kt.L_PATTERNS);B+=String.fromCharCode(48+J);for(let le of I)D+=le}D=kt.findGuardPattern(g,D,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let W=0;W<4&&D<N;W++){let J=kt.decodeDigit(g,I,D,kt.L_PATTERNS);B+=String.fromCharCode(48+J);for(let le of I)D+=le}return{rowOffset:D,resultString:B}}getBarcodeFormat(){return Me.EAN_8}}class Br extends kt{constructor(){super(...arguments),this.ean13Reader=new mn}getBarcodeFormat(){return Me.UPC_A}decode(g,C){return this.maybeReturnResult(this.ean13Reader.decode(g))}decodeRow(g,C,B){return this.maybeReturnResult(this.ean13Reader.decodeRow(g,C,B))}decodeMiddle(g,C,B){return this.ean13Reader.decodeMiddle(g,C,B)}maybeReturnResult(g){let C=g.getText();if(C.charAt(0)==="0"){let B=new _e(C.substring(1),null,null,g.getResultPoints(),Me.UPC_A);return g.getResultMetadata()!=null&&B.putAllMetadata(g.getResultMetadata()),B}else throw new he}reset(){this.ean13Reader.reset()}}class Nn extends kt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(g,C,B){const I=this.decodeMiddleCounters.map(J=>J);I[0]=0,I[1]=0,I[2]=0,I[3]=0;const N=g.getSize();let D=C[1],$=0;for(let J=0;J<6&&D<N;J++){const le=Nn.decodeDigit(g,I,D,Nn.L_AND_G_PATTERNS);B+=String.fromCharCode(48+le%10);for(let fe of I)D+=fe;le>=10&&($|=1<<5-J)}let W=Nn.determineNumSysAndCheckDigit(B,$);return{rowOffset:D,resultString:W}}decodeEnd(g,C){return Nn.findGuardPatternWithoutCounters(g,C,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(g){return kt.checkChecksum(Nn.convertUPCEtoUPCA(g))}static determineNumSysAndCheckDigit(g,C){for(let B=0;B<=1;B++)for(let I=0;I<10;I++)if(C===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[B][I]){let N=String.fromCharCode(48+B),D=String.fromCharCode(48+I);return N+g+D}throw he.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(g){const C=g.slice(1,7).split("").map(N=>N.charCodeAt(0)),B=new we;B.append(g.charAt(0));let I=C[5];switch(I){case 0:case 1:case 2:B.appendChars(C,0,2),B.append(I),B.append("0000"),B.appendChars(C,2,3);break;case 3:B.appendChars(C,0,3),B.append("00000"),B.appendChars(C,3,2);break;case 4:B.appendChars(C,0,4),B.append("00000"),B.append(C[4]);break;default:B.appendChars(C,0,5),B.append("0000"),B.append(I);break}return g.length>=8&&B.append(g.charAt(7)),B.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Tr extends ze{constructor(g){super();let C=g==null?null:g.get(ne.POSSIBLE_FORMATS),B=[];s(C)?(B.push(new mn),B.push(new Br),B.push(new Bn),B.push(new Nn)):(C.indexOf(Me.EAN_13)>-1&&B.push(new mn),C.indexOf(Me.UPC_A)>-1&&B.push(new Br),C.indexOf(Me.EAN_8)>-1&&B.push(new Bn),C.indexOf(Me.UPC_E)>-1&&B.push(new Nn)),this.readers=B}decodeRow(g,C,B){for(let I of this.readers)try{const N=I.decodeRow(g,C,B),D=N.getBarcodeFormat()===Me.EAN_13&&N.getText().charAt(0)==="0",$=B==null?null:B.get(ne.POSSIBLE_FORMATS),W=$==null||$.includes(Me.UPC_A);if(D&&W){const J=N.getRawBytes(),le=new _e(N.getText().substring(1),J,J?J.length:null,N.getResultPoints(),Me.UPC_A);return le.putAllMetadata(N.getResultMetadata()),le}return N}catch{}throw new he}reset(){for(let g of this.readers)g.reset()}}class Dn extends ze{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(g,C){for(let B=0;B<C.length;B++)if(ze.patternMatchVariance(g,C[B],Dn.MAX_INDIVIDUAL_VARIANCE)<Dn.MAX_AVG_VARIANCE)return B;throw new he}static count(g){return Ot.sum(new Int32Array(g))}static increment(g,C){let B=0,I=C[0];for(let N=1;N<g.length;N++)C[N]>I&&(I=C[N],B=N);g[B]++}static decrement(g,C){let B=0,I=C[0];for(let N=1;N<g.length;N++)C[N]<I&&(I=C[N],B=N);g[B]--}static isFinderPattern(g){let C=g[0]+g[1],B=C+g[2]+g[3],I=C/B;if(I>=Dn.MIN_FINDER_PATTERN_RATIO&&I<=Dn.MAX_FINDER_PATTERN_RATIO){let N=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;for(let $ of g)$>D&&(D=$),$<N&&(N=$);return D<10*N}return!1}}Dn.MAX_AVG_VARIANCE=.2,Dn.MAX_INDIVIDUAL_VARIANCE=.45,Dn.MIN_FINDER_PATTERN_RATIO=9.5/12,Dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class _r{constructor(g,C){this.value=g,this.checksumPortion=C}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(g){if(!(g instanceof _r))return!1;const C=g;return this.value===C.value&&this.checksumPortion===C.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zr{constructor(g,C,B,I,N){this.value=g,this.startEnd=C,this.value=g,this.startEnd=C,this.resultPoints=new Array,this.resultPoints.push(new pt(B,N)),this.resultPoints.push(new pt(I,N))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(g){if(!(g instanceof Zr))return!1;const C=g;return this.value===C.value}hashCode(){return this.value}}class kr{constructor(){}static getRSSvalue(g,C,B){let I=0;for(let W of g)I+=W;let N=0,D=0,$=g.length;for(let W=0;W<$-1;W++){let J;for(J=1,D|=1<<W;J<g[W];J++,D&=~(1<<W)){let le=kr.combins(I-J-1,$-W-2);if(B&&D===0&&I-J-($-W-1)>=$-W-1&&(le-=kr.combins(I-J-($-W),$-W-2)),$-W-1>1){let fe=0;for(let pe=I-J-($-W-2);pe>C;pe--)fe+=kr.combins(I-J-pe-1,$-W-3);le-=fe*($-1-W)}else I-J>C&&le--;N+=le}I-=J}return N}static combins(g,C){let B,I;g-C>C?(I=C,B=g-C):(I=g-C,B=C);let N=1,D=1;for(let $=g;$>B;$--)N*=$,D<=I&&(N/=D,D++);for(;D<=I;)N/=D,D++;return N}}class Te{static buildBitArray(g){let C=g.length*2-1;g[g.length-1].getRightChar()==null&&(C-=1);let B=12*C,I=new X(B),N=0,$=g[0].getRightChar().getValue();for(let W=11;W>=0;--W)($&1<<W)!=0&&I.set(N),N++;for(let W=1;W<g.length;++W){let J=g[W],le=J.getLeftChar().getValue();for(let fe=11;fe>=0;--fe)(le&1<<fe)!=0&&I.set(N),N++;if(J.getRightChar()!=null){let fe=J.getRightChar().getValue();for(let pe=11;pe>=0;--pe)(fe&1<<pe)!=0&&I.set(N),N++}}return I}}class Oe{constructor(g,C){C?this.decodedInformation=null:(this.finished=g,this.decodedInformation=C)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ge{constructor(g){this.newPosition=g}getNewPosition(){return this.newPosition}}class at extends Ge{constructor(g,C){super(g),this.value=C}getValue(){return this.value}isFNC1(){return this.value===at.FNC1}}at.FNC1="$";class ht extends Ge{constructor(g,C,B){super(g),B?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=C}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wt extends Ge{constructor(g,C,B){if(super(g),C<0||C>10||B<0||B>10)throw new Y;this.firstDigit=C,this.secondDigit=B}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===wt.FNC1}isAnyFNC1(){return this.firstDigit===wt.FNC1||this.secondDigit===wt.FNC1}}wt.FNC1=10;class et{constructor(){}static parseFieldsInGeneralPurpose(g){if(!g)return null;if(g.length<2)throw new he;let C=g.substring(0,2);for(let N of et.TWO_DIGIT_DATA_LENGTH)if(N[0]===C)return N[1]===et.VARIABLE_LENGTH?et.processVariableAI(2,N[2],g):et.processFixedAI(2,N[1],g);if(g.length<3)throw new he;let B=g.substring(0,3);for(let N of et.THREE_DIGIT_DATA_LENGTH)if(N[0]===B)return N[1]===et.VARIABLE_LENGTH?et.processVariableAI(3,N[2],g):et.processFixedAI(3,N[1],g);for(let N of et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(N[0]===B)return N[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,N[2],g):et.processFixedAI(4,N[1],g);if(g.length<4)throw new he;let I=g.substring(0,4);for(let N of et.FOUR_DIGIT_DATA_LENGTH)if(N[0]===I)return N[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,N[2],g):et.processFixedAI(4,N[1],g);throw new he}static processFixedAI(g,C,B){if(B.length<g)throw new he;let I=B.substring(0,g);if(B.length<g+C)throw new he;let N=B.substring(g,g+C),D=B.substring(g+C),$="("+I+")"+N,W=et.parseFieldsInGeneralPurpose(D);return W==null?$:$+W}static processVariableAI(g,C,B){let I=B.substring(0,g),N;B.length<g+C?N=B.length:N=g+C;let D=B.substring(g,N),$=B.substring(N),W="("+I+")"+D,J=et.parseFieldsInGeneralPurpose($);return J==null?W:W+J}}et.VARIABLE_LENGTH=[],et.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",et.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",et.VARIABLE_LENGTH,20],["22",et.VARIABLE_LENGTH,29],["30",et.VARIABLE_LENGTH,8],["37",et.VARIABLE_LENGTH,8],["90",et.VARIABLE_LENGTH,30],["91",et.VARIABLE_LENGTH,30],["92",et.VARIABLE_LENGTH,30],["93",et.VARIABLE_LENGTH,30],["94",et.VARIABLE_LENGTH,30],["95",et.VARIABLE_LENGTH,30],["96",et.VARIABLE_LENGTH,30],["97",et.VARIABLE_LENGTH,3],["98",et.VARIABLE_LENGTH,30],["99",et.VARIABLE_LENGTH,30]],et.THREE_DIGIT_DATA_LENGTH=[["240",et.VARIABLE_LENGTH,30],["241",et.VARIABLE_LENGTH,30],["242",et.VARIABLE_LENGTH,6],["250",et.VARIABLE_LENGTH,30],["251",et.VARIABLE_LENGTH,30],["253",et.VARIABLE_LENGTH,17],["254",et.VARIABLE_LENGTH,20],["400",et.VARIABLE_LENGTH,30],["401",et.VARIABLE_LENGTH,30],["402",17],["403",et.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",et.VARIABLE_LENGTH,20],["421",et.VARIABLE_LENGTH,15],["422",3],["423",et.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",et.VARIABLE_LENGTH,15],["391",et.VARIABLE_LENGTH,18],["392",et.VARIABLE_LENGTH,15],["393",et.VARIABLE_LENGTH,18],["703",et.VARIABLE_LENGTH,30]],et.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",et.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",et.VARIABLE_LENGTH,20],["8003",et.VARIABLE_LENGTH,30],["8004",et.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",et.VARIABLE_LENGTH,30],["8008",et.VARIABLE_LENGTH,12],["8018",18],["8020",et.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",et.VARIABLE_LENGTH,70],["8200",et.VARIABLE_LENGTH,70]];class Et{constructor(g){this.buffer=new we,this.information=g}decodeAllCodes(g,C){let B=C,I=null;do{let N=this.decodeGeneralPurposeField(B,I),D=et.parseFieldsInGeneralPurpose(N.getNewString());if(D!=null&&g.append(D),N.isRemaining()?I=""+N.getRemainingValue():I=null,B===N.getNewPosition())break;B=N.getNewPosition()}while(!0);return g.toString()}isStillNumeric(g){if(g+7>this.information.getSize())return g+4<=this.information.getSize();for(let C=g;C<g+3;++C)if(this.information.get(C))return!0;return this.information.get(g+3)}decodeNumeric(g){if(g+7>this.information.getSize()){let N=this.extractNumericValueFromBitArray(g,4);return N===0?new wt(this.information.getSize(),wt.FNC1,wt.FNC1):new wt(this.information.getSize(),N-1,wt.FNC1)}let C=this.extractNumericValueFromBitArray(g,7),B=(C-8)/11,I=(C-8)%11;return new wt(g+7,B,I)}extractNumericValueFromBitArray(g,C){return Et.extractNumericValueFromBitArray(this.information,g,C)}static extractNumericValueFromBitArray(g,C,B){let I=0;for(let N=0;N<B;++N)g.get(C+N)&&(I|=1<<B-N-1);return I}decodeGeneralPurposeField(g,C){this.buffer.setLengthToZero(),C!=null&&this.buffer.append(C),this.current.setPosition(g);let B=this.parseBlocks();return B!=null&&B.isRemaining()?new ht(this.current.getPosition(),this.buffer.toString(),B.getRemainingValue()):new ht(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let g,C;do{let B=this.current.getPosition();if(this.current.isAlpha()?(C=this.parseAlphaBlock(),g=C.isFinished()):this.current.isIsoIec646()?(C=this.parseIsoIec646Block(),g=C.isFinished()):(C=this.parseNumericBlock(),g=C.isFinished()),!(B!==this.current.getPosition())&&!g)break}while(!g);return C.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let g=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFirstDigitFNC1()){let C;return g.isSecondDigitFNC1()?C=new ht(this.current.getPosition(),this.buffer.toString()):C=new ht(this.current.getPosition(),this.buffer.toString(),g.getSecondDigit()),new Oe(!0,C)}if(this.buffer.append(g.getFirstDigit()),g.isSecondDigitFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Oe(!0,C)}this.buffer.append(g.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Oe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let g=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Oe(!0,C)}this.buffer.append(g.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Oe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let g=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Oe(!0,C)}this.buffer.append(g.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Oe(!1)}isStillIsoIec646(g){if(g+5>this.information.getSize())return!1;let C=this.extractNumericValueFromBitArray(g,5);if(C>=5&&C<16)return!0;if(g+7>this.information.getSize())return!1;let B=this.extractNumericValueFromBitArray(g,7);if(B>=64&&B<116)return!0;if(g+8>this.information.getSize())return!1;let I=this.extractNumericValueFromBitArray(g,8);return I>=232&&I<253}decodeIsoIec646(g){let C=this.extractNumericValueFromBitArray(g,5);if(C===15)return new at(g+5,at.FNC1);if(C>=5&&C<15)return new at(g+5,"0"+(C-5));let B=this.extractNumericValueFromBitArray(g,7);if(B>=64&&B<90)return new at(g+7,""+(B+1));if(B>=90&&B<116)return new at(g+7,""+(B+7));let I=this.extractNumericValueFromBitArray(g,8),N;switch(I){case 232:N="!";break;case 233:N='"';break;case 234:N="%";break;case 235:N="&";break;case 236:N="'";break;case 237:N="(";break;case 238:N=")";break;case 239:N="*";break;case 240:N="+";break;case 241:N=",";break;case 242:N="-";break;case 243:N=".";break;case 244:N="/";break;case 245:N=":";break;case 246:N=";";break;case 247:N="<";break;case 248:N="=";break;case 249:N=">";break;case 250:N="?";break;case 251:N="_";break;case 252:N=" ";break;default:throw new Y}return new at(g+8,N)}isStillAlpha(g){if(g+5>this.information.getSize())return!1;let C=this.extractNumericValueFromBitArray(g,5);if(C>=5&&C<16)return!0;if(g+6>this.information.getSize())return!1;let B=this.extractNumericValueFromBitArray(g,6);return B>=16&&B<63}decodeAlphanumeric(g){let C=this.extractNumericValueFromBitArray(g,5);if(C===15)return new at(g+5,at.FNC1);if(C>=5&&C<15)return new at(g+5,"0"+(C-5));let B=this.extractNumericValueFromBitArray(g,6);if(B>=32&&B<58)return new at(g+6,""+(B+33));let I;switch(B){case 58:I="*";break;case 59:I=",";break;case 60:I="-";break;case 61:I=".";break;case 62:I="/";break;default:throw new an("Decoding invalid alphanumeric value: "+B)}return new at(g+6,I)}isAlphaTo646ToAlphaLatch(g){if(g+1>this.information.getSize())return!1;for(let C=0;C<5&&C+g<this.information.getSize();++C)if(C===2){if(!this.information.get(g+2))return!1}else if(this.information.get(g+C))return!1;return!0}isAlphaOr646ToNumericLatch(g){if(g+3>this.information.getSize())return!1;for(let C=g;C<g+3;++C)if(this.information.get(C))return!1;return!0}isNumericToAlphaNumericLatch(g){if(g+1>this.information.getSize())return!1;for(let C=0;C<4&&C+g<this.information.getSize();++C)if(this.information.get(g+C))return!1;return!0}}class vt{constructor(g){this.information=g,this.generalDecoder=new Et(g)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yt extends vt{constructor(g){super(g)}encodeCompressedGtin(g,C){g.append("(01)");let B=g.length();g.append("9"),this.encodeCompressedGtinWithoutAI(g,C,B)}encodeCompressedGtinWithoutAI(g,C,B){for(let I=0;I<4;++I){let N=this.getGeneralDecoder().extractNumericValueFromBitArray(C+10*I,10);N/100===0&&g.append("0"),N/10===0&&g.append("0"),g.append(N)}yt.appendCheckDigit(g,B)}static appendCheckDigit(g,C){let B=0;for(let I=0;I<13;I++){let N=g.charAt(I+C).charCodeAt(0)-48;B+=(I&1)===0?3*N:N}B=10-B%10,B===10&&(B=0),g.append(B)}}yt.GTIN_SIZE=40;class Nt extends yt{constructor(g){super(g)}parseInformation(){let g=new we;g.append("(01)");let C=g.length(),B=this.getGeneralDecoder().extractNumericValueFromBitArray(Nt.HEADER_SIZE,4);return g.append(B),this.encodeCompressedGtinWithoutAI(g,Nt.HEADER_SIZE+4,C),this.getGeneralDecoder().decodeAllCodes(g,Nt.HEADER_SIZE+44)}}Nt.HEADER_SIZE=4;class Tt extends vt{constructor(g){super(g)}parseInformation(){let g=new we;return this.getGeneralDecoder().decodeAllCodes(g,Tt.HEADER_SIZE)}}Tt.HEADER_SIZE=5;class Vt extends yt{constructor(g){super(g)}encodeCompressedWeight(g,C,B){let I=this.getGeneralDecoder().extractNumericValueFromBitArray(C,B);this.addWeightCode(g,I);let N=this.checkWeight(I),D=1e5;for(let $=0;$<5;++$)N/D===0&&g.append("0"),D/=10;g.append(N)}}class nn extends Vt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()!=nn.HEADER_SIZE+Vt.GTIN_SIZE+nn.WEIGHT_SIZE)throw new he;let g=new we;return this.encodeCompressedGtin(g,nn.HEADER_SIZE),this.encodeCompressedWeight(g,nn.HEADER_SIZE+Vt.GTIN_SIZE,nn.WEIGHT_SIZE),g.toString()}}nn.HEADER_SIZE=5,nn.WEIGHT_SIZE=15;class Wn extends nn{constructor(g){super(g)}addWeightCode(g,C){g.append("(3103)")}checkWeight(g){return g}}class Hn extends nn{constructor(g){super(g)}addWeightCode(g,C){C<1e4?g.append("(3202)"):g.append("(3203)")}checkWeight(g){return g<1e4?g:g-1e4}}class en extends yt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+yt.GTIN_SIZE)throw new he;let g=new we;this.encodeCompressedGtin(g,en.HEADER_SIZE);let C=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+yt.GTIN_SIZE,en.LAST_DIGIT_SIZE);g.append("(392"),g.append(C),g.append(")");let B=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+yt.GTIN_SIZE+en.LAST_DIGIT_SIZE,null);return g.append(B.getNewString()),g.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2;class zt extends yt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()<zt.HEADER_SIZE+yt.GTIN_SIZE)throw new he;let g=new we;this.encodeCompressedGtin(g,zt.HEADER_SIZE);let C=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+yt.GTIN_SIZE,zt.LAST_DIGIT_SIZE);g.append("(393"),g.append(C),g.append(")");let B=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+yt.GTIN_SIZE+zt.LAST_DIGIT_SIZE,zt.FIRST_THREE_DIGITS_SIZE);B/100==0&&g.append("0"),B/10==0&&g.append("0"),g.append(B);let I=this.getGeneralDecoder().decodeGeneralPurposeField(zt.HEADER_SIZE+yt.GTIN_SIZE+zt.LAST_DIGIT_SIZE+zt.FIRST_THREE_DIGITS_SIZE,null);return g.append(I.getNewString()),g.toString()}}zt.HEADER_SIZE=8,zt.LAST_DIGIT_SIZE=2,zt.FIRST_THREE_DIGITS_SIZE=10;class rn extends Vt{constructor(g,C,B){super(g),this.dateCode=B,this.firstAIdigits=C}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE+rn.DATE_SIZE)throw new he;let g=new we;return this.encodeCompressedGtin(g,rn.HEADER_SIZE),this.encodeCompressedWeight(g,rn.HEADER_SIZE+rn.GTIN_SIZE,rn.WEIGHT_SIZE),this.encodeCompressedDate(g,rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE),g.toString()}encodeCompressedDate(g,C){let B=this.getGeneralDecoder().extractNumericValueFromBitArray(C,rn.DATE_SIZE);if(B==38400)return;g.append("("),g.append(this.dateCode),g.append(")");let I=B%32;B/=32;let N=B%12+1;B/=12;let D=B;D/10==0&&g.append("0"),g.append(D),N/10==0&&g.append("0"),g.append(N),I/10==0&&g.append("0"),g.append(I)}addWeightCode(g,C){g.append("("),g.append(this.firstAIdigits),g.append(C/1e5),g.append(")")}checkWeight(g){return g%1e5}}rn.HEADER_SIZE=8,rn.WEIGHT_SIZE=20,rn.DATE_SIZE=16;function Mr(de){try{if(de.get(1))return new Nt(de);if(!de.get(2))return new Tt(de);switch(Et.extractNumericValueFromBitArray(de,1,4)){case 4:return new Wn(de);case 5:return new Hn(de)}switch(Et.extractNumericValueFromBitArray(de,1,5)){case 12:return new en(de);case 13:return new zt(de)}switch(Et.extractNumericValueFromBitArray(de,1,7)){case 56:return new rn(de,"310","11");case 57:return new rn(de,"320","11");case 58:return new rn(de,"310","13");case 59:return new rn(de,"320","13");case 60:return new rn(de,"310","15");case 61:return new rn(de,"320","15");case 62:return new rn(de,"310","17");case 63:return new rn(de,"320","17")}}catch(g){throw console.log(g),new an("unknown decoder: "+de)}}class qn{constructor(g,C,B,I){this.leftchar=g,this.rightchar=C,this.finderpattern=B,this.maybeLast=I}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(g,C){return g instanceof qn?qn.equalsOrNull(g.leftchar,C.leftchar)&&qn.equalsOrNull(g.rightchar,C.rightchar)&&qn.equalsOrNull(g.finderpattern,C.finderpattern):!1}static equalsOrNull(g,C){return g===null?C===null:qn.equals(g,C)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yn{constructor(g,C,B){this.pairs=g,this.rowNumber=C,this.wasReversed=B}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(g){return this.checkEqualitity(this,g)}toString(){return"{ "+this.pairs+" }"}equals(g,C){return g instanceof yn?this.checkEqualitity(g,C)&&g.wasReversed===C.wasReversed:!1}checkEqualitity(g,C){if(!g||!C)return;let B;return g.forEach((I,N)=>{C.forEach(D=>{I.getLeftChar().getValue()===D.getLeftChar().getValue()&&I.getRightChar().getValue()===D.getRightChar().getValue()&&I.getFinderPatter().getValue()===D.getFinderPatter().getValue()&&(B=!0)})}),B}}class ct extends Dn{constructor(g){super(...arguments),this.pairs=new Array(ct.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=g===!0}decodeRow(g,C,B){this.pairs.length=0,this.startFromEven=!1;try{return ct.constructResult(this.decodeRow2pairs(g,C))}catch(I){this.verbose&&console.log(I)}return this.pairs.length=0,this.startFromEven=!0,ct.constructResult(this.decodeRow2pairs(g,C))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(g,C){let B=!1;for(;!B;)try{this.pairs.push(this.retrieveNextPair(C,this.pairs,g))}catch(N){if(N instanceof he){if(!this.pairs.length)throw new he;B=!0}}if(this.checkChecksum())return this.pairs;let I;if(this.rows.length?I=!0:I=!1,this.storeRow(g,!1),I){let N=this.checkRowsBoolean(!1);if(N!=null||(N=this.checkRowsBoolean(!0),N!=null))return N}throw new he}checkRowsBoolean(g){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,g&&(this.rows=this.rows.reverse());let C=null;try{C=this.checkRows(new Array,0)}catch(B){this.verbose&&console.log(B)}return g&&(this.rows=this.rows.reverse()),C}checkRows(g,C){for(let B=C;B<this.rows.length;B++){let I=this.rows[B];this.pairs.length=0;for(let D of g)this.pairs.push(D.getPairs());if(this.pairs.push(I.getPairs()),!ct.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let N=new Array(g);N.push(I);try{return this.checkRows(N,B+1)}catch(D){this.verbose&&console.log(D)}}throw new he}static isValidSequence(g){for(let C of ct.FINDER_PATTERN_SEQUENCES){if(g.length>C.length)continue;let B=!0;for(let I=0;I<g.length;I++)if(g[I].getFinderPattern().getValue()!=C[I]){B=!1;break}if(B)return!0}return!1}storeRow(g,C){let B=0,I=!1,N=!1;for(;B<this.rows.length;){let D=this.rows[B];if(D.getRowNumber()>g){N=D.isEquivalent(this.pairs);break}I=D.isEquivalent(this.pairs),B++}N||I||ct.isPartialRow(this.pairs,this.rows)||(this.rows.push(B,new yn(this.pairs,g,C)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(g,C){for(let B of C)if(B.getPairs().length!==g.length){for(let I of B.getPairs())for(let N of g)if(qn.equals(I,N))break}}static isPartialRow(g,C){for(let B of C){let I=!0;for(let N of g){let D=!1;for(let $ of B.getPairs())if(N.equals($)){D=!0;break}if(!D){I=!1;break}}if(I)return!0}return!1}getRows(){return this.rows}static constructResult(g){let C=Te.buildBitArray(g),I=Mr(C).parseInformation(),N=g[0].getFinderPattern().getResultPoints(),D=g[g.length-1].getFinderPattern().getResultPoints(),$=[N[0],N[1],D[0],D[1]];return new _e(I,null,null,$,Me.RSS_EXPANDED,null)}checkChecksum(){let g=this.pairs.get(0),C=g.getLeftChar(),B=g.getRightChar();if(B==null)return!1;let I=B.getChecksumPortion(),N=2;for(let $=1;$<this.pairs.size();++$){let W=this.pairs.get($);I+=W.getLeftChar().getChecksumPortion(),N++;let J=W.getRightChar();J!=null&&(I+=J.getChecksumPortion(),N++)}return I%=211,211*(N-4)+I==C.getValue()}static getNextSecondBar(g,C){let B;return g.get(C)?(B=g.getNextUnset(C),B=g.getNextSet(B)):(B=g.getNextSet(C),B=g.getNextUnset(B)),B}retrieveNextPair(g,C,B){let I=C.length%2==0;this.startFromEven&&(I=!I);let N,D=!0,$=-1;do this.findNextPair(g,C,$),N=this.parseFoundFinderPattern(g,B,I),N==null?$=ct.getNextSecondBar(g,this.startEnd[0]):D=!1;while(D);let W=this.decodeDataCharacter(g,N,I,!0);if(!this.isEmptyPair(C)&&C[C.length-1].mustBeLast())throw new he;let J;try{J=this.decodeDataCharacter(g,N,I,!1)}catch(le){J=null,this.verbose&&console.log(le)}return new qn(W,J,N,!0)}isEmptyPair(g){return g.length===0}findNextPair(g,C,B){let I=this.getDecodeFinderCounters();I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D;B>=0?D=B:this.isEmptyPair(C)?D=0:D=C[C.length-1].getFinderPattern().getStartEnd()[1];let $=C.length%2!=0;this.startFromEven&&($=!$);let W=!1;for(;D<N&&(W=!g.get(D),!!W);)D++;let J=0,le=D;for(let fe=D;fe<N;fe++)if(g.get(fe)!=W)I[J]++;else{if(J==3){if($&&ct.reverseCounters(I),ct.isFinderPattern(I)){this.startEnd[0]=le,this.startEnd[1]=fe;return}$&&ct.reverseCounters(I),le+=I[0]+I[1],I[0]=I[2],I[1]=I[3],I[2]=0,I[3]=0,J--}else J++;I[J]=1,W=!W}throw new he}static reverseCounters(g){let C=g.length;for(let B=0;B<C/2;++B){let I=g[B];g[B]=g[C-B-1],g[C-B-1]=I}}parseFoundFinderPattern(g,C,B){let I,N,D;if(B){let J=this.startEnd[0]-1;for(;J>=0&&!g.get(J);)J--;J++,I=this.startEnd[0]-J,N=J,D=this.startEnd[1]}else N=this.startEnd[0],D=g.getNextUnset(this.startEnd[1]+1),I=D-this.startEnd[1];let $=this.getDecodeFinderCounters();j.arraycopy($,0,$,1,$.length-1),$[0]=I;let W;try{W=this.parseFinderValue($,ct.FINDER_PATTERNS)}catch{return null}return new Zr(W,[N,D],N,D,C)}decodeDataCharacter(g,C,B,I){let N=this.getDataCharacterCounters();for(let Sn=0;Sn<N.length;Sn++)N[Sn]=0;if(I)ct.recordPatternInReverse(g,C.getStartEnd()[0],N);else{ct.recordPattern(g,C.getStartEnd()[1],N);for(let Sn=0,pr=N.length-1;Sn<pr;Sn++,pr--){let Nr=N[Sn];N[Sn]=N[pr],N[pr]=Nr}}let D=17,$=Ot.sum(new Int32Array(N))/D,W=(C.getStartEnd()[1]-C.getStartEnd()[0])/15;if(Math.abs($-W)/W>.3)throw new he;let J=this.getOddCounts(),le=this.getEvenCounts(),fe=this.getOddRoundingErrors(),pe=this.getEvenRoundingErrors();for(let Sn=0;Sn<N.length;Sn++){let pr=1*N[Sn]/$,Nr=pr+.5;if(Nr<1){if(pr<.3)throw new he;Nr=1}else if(Nr>8){if(pr>8.7)throw new he;Nr=8}let li=Sn/2;(Sn&1)==0?(J[li]=Nr,fe[li]=pr-Nr):(le[li]=Nr,pe[li]=pr-Nr)}this.adjustOddEvenCounts(D);let Be=4*C.getValue()+(B?0:2)+(I?0:1)-1,Ie=0,Ne=0;for(let Sn=J.length-1;Sn>=0;Sn--){if(ct.isNotA1left(C,B,I)){let pr=ct.WEIGHTS[Be][2*Sn];Ne+=J[Sn]*pr}Ie+=J[Sn]}let Le=0;for(let Sn=le.length-1;Sn>=0;Sn--)if(ct.isNotA1left(C,B,I)){let pr=ct.WEIGHTS[Be][2*Sn+1];Le+=le[Sn]*pr}let Ke=Ne+Le;if((Ie&1)!=0||Ie>13||Ie<4)throw new he;let ft=(13-Ie)/2,dt=ct.SYMBOL_WIDEST[ft],At=9-dt,tn=kr.getRSSvalue(J,dt,!0),Kt=kr.getRSSvalue(le,At,!1),Jn=ct.EVEN_TOTAL_SUBSET[ft],Lr=ct.GSUM[ft],vr=tn*Jn+Kt+Lr;return new _r(vr,Ke)}static isNotA1left(g,C,B){return!(g.getValue()==0&&C&&B)}adjustOddEvenCounts(g){let C=Ot.sum(new Int32Array(this.getOddCounts())),B=Ot.sum(new Int32Array(this.getEvenCounts())),I=!1,N=!1;C>13?N=!0:C<4&&(I=!0);let D=!1,$=!1;B>13?$=!0:B<4&&(D=!0);let W=C+B-g,J=(C&1)==1,le=(B&1)==0;if(W==1)if(J){if(le)throw new he;N=!0}else{if(!le)throw new he;$=!0}else if(W==-1)if(J){if(le)throw new he;I=!0}else{if(!le)throw new he;D=!0}else if(W==0){if(J){if(!le)throw new he;C<B?(I=!0,$=!0):(N=!0,D=!0)}else if(le)throw new he}else throw new he;if(I){if(N)throw new he;ct.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(N&&ct.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if($)throw new he;ct.increment(this.getEvenCounts(),this.getOddRoundingErrors())}$&&ct.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ct.SYMBOL_WIDEST=[7,5,4,3,1],ct.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ct.GSUM=[0,348,1388,2948,3988],ct.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ct.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ct.FINDER_PAT_A=0,ct.FINDER_PAT_B=1,ct.FINDER_PAT_C=2,ct.FINDER_PAT_D=3,ct.FINDER_PAT_E=4,ct.FINDER_PAT_F=5,ct.FINDER_PATTERN_SEQUENCES=[[ct.FINDER_PAT_A,ct.FINDER_PAT_A],[ct.FINDER_PAT_A,ct.FINDER_PAT_B,ct.FINDER_PAT_B],[ct.FINDER_PAT_A,ct.FINDER_PAT_C,ct.FINDER_PAT_B,ct.FINDER_PAT_D],[ct.FINDER_PAT_A,ct.FINDER_PAT_E,ct.FINDER_PAT_B,ct.FINDER_PAT_D,ct.FINDER_PAT_C],[ct.FINDER_PAT_A,ct.FINDER_PAT_E,ct.FINDER_PAT_B,ct.FINDER_PAT_D,ct.FINDER_PAT_D,ct.FINDER_PAT_F],[ct.FINDER_PAT_A,ct.FINDER_PAT_E,ct.FINDER_PAT_B,ct.FINDER_PAT_D,ct.FINDER_PAT_E,ct.FINDER_PAT_F,ct.FINDER_PAT_F],[ct.FINDER_PAT_A,ct.FINDER_PAT_A,ct.FINDER_PAT_B,ct.FINDER_PAT_B,ct.FINDER_PAT_C,ct.FINDER_PAT_C,ct.FINDER_PAT_D,ct.FINDER_PAT_D],[ct.FINDER_PAT_A,ct.FINDER_PAT_A,ct.FINDER_PAT_B,ct.FINDER_PAT_B,ct.FINDER_PAT_C,ct.FINDER_PAT_C,ct.FINDER_PAT_D,ct.FINDER_PAT_E,ct.FINDER_PAT_E],[ct.FINDER_PAT_A,ct.FINDER_PAT_A,ct.FINDER_PAT_B,ct.FINDER_PAT_B,ct.FINDER_PAT_C,ct.FINDER_PAT_C,ct.FINDER_PAT_D,ct.FINDER_PAT_E,ct.FINDER_PAT_F,ct.FINDER_PAT_F],[ct.FINDER_PAT_A,ct.FINDER_PAT_A,ct.FINDER_PAT_B,ct.FINDER_PAT_B,ct.FINDER_PAT_C,ct.FINDER_PAT_D,ct.FINDER_PAT_D,ct.FINDER_PAT_E,ct.FINDER_PAT_E,ct.FINDER_PAT_F,ct.FINDER_PAT_F]],ct.MAX_PAIRS=11;class vs extends _r{constructor(g,C,B){super(g,C),this.count=0,this.finderPattern=B}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ln extends Dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(g,C,B){const I=this.decodePair(C,!1,g,B);ln.addOrTally(this.possibleLeftPairs,I),C.reverse();let N=this.decodePair(C,!0,g,B);ln.addOrTally(this.possibleRightPairs,N),C.reverse();for(let D of this.possibleLeftPairs)if(D.getCount()>1){for(let $ of this.possibleRightPairs)if($.getCount()>1&&ln.checkChecksum(D,$))return ln.constructResult(D,$)}throw new he}static addOrTally(g,C){if(C==null)return;let B=!1;for(let I of g)if(I.getValue()===C.getValue()){I.incrementCount(),B=!0;break}B||g.push(C)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(g,C){let B=4537077*g.getValue()+C.getValue(),I=new String(B).toString(),N=new we;for(let J=13-I.length;J>0;J--)N.append("0");N.append(I);let D=0;for(let J=0;J<13;J++){let le=N.charAt(J).charCodeAt(0)-48;D+=(J&1)===0?3*le:le}D=10-D%10,D===10&&(D=0),N.append(D.toString());let $=g.getFinderPattern().getResultPoints(),W=C.getFinderPattern().getResultPoints();return new _e(N.toString(),null,0,[$[0],$[1],W[0],W[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(g,C){let B=(g.getChecksumPortion()+16*C.getChecksumPortion())%79,I=9*g.getFinderPattern().getValue()+C.getFinderPattern().getValue();return I>72&&I--,I>8&&I--,B===I}decodePair(g,C,B,I){try{let N=this.findFinderPattern(g,C),D=this.parseFoundFinderPattern(g,B,C,N),$=I==null?null:I.get(ne.NEED_RESULT_POINT_CALLBACK);if($!=null){let le=(N[0]+N[1])/2;C&&(le=g.getSize()-1-le),$.foundPossibleResultPoint(new pt(le,B))}let W=this.decodeDataCharacter(g,D,!0),J=this.decodeDataCharacter(g,D,!1);return new vs(1597*W.getValue()+J.getValue(),W.getChecksumPortion()+4*J.getChecksumPortion(),D)}catch{return null}}decodeDataCharacter(g,C,B){let I=this.getDataCharacterCounters();for(let Le=0;Le<I.length;Le++)I[Le]=0;if(B)ze.recordPatternInReverse(g,C.getStartEnd()[0],I);else{ze.recordPattern(g,C.getStartEnd()[1]+1,I);for(let Le=0,Ke=I.length-1;Le<Ke;Le++,Ke--){let ft=I[Le];I[Le]=I[Ke],I[Ke]=ft}}let N=B?16:15,D=Ot.sum(new Int32Array(I))/N,$=this.getOddCounts(),W=this.getEvenCounts(),J=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let Le=0;Le<I.length;Le++){let Ke=I[Le]/D,ft=Math.floor(Ke+.5);ft<1?ft=1:ft>8&&(ft=8);let dt=Math.floor(Le/2);(Le&1)===0?($[dt]=ft,J[dt]=Ke-ft):(W[dt]=ft,le[dt]=Ke-ft)}this.adjustOddEvenCounts(B,N);let fe=0,pe=0;for(let Le=$.length-1;Le>=0;Le--)pe*=9,pe+=$[Le],fe+=$[Le];let Be=0,Ie=0;for(let Le=W.length-1;Le>=0;Le--)Be*=9,Be+=W[Le],Ie+=W[Le];let Ne=pe+3*Be;if(B){if((fe&1)!==0||fe>12||fe<4)throw new he;let Le=(12-fe)/2,Ke=ln.OUTSIDE_ODD_WIDEST[Le],ft=9-Ke,dt=kr.getRSSvalue($,Ke,!1),At=kr.getRSSvalue(W,ft,!0),tn=ln.OUTSIDE_EVEN_TOTAL_SUBSET[Le],Kt=ln.OUTSIDE_GSUM[Le];return new _r(dt*tn+At+Kt,Ne)}else{if((Ie&1)!==0||Ie>10||Ie<4)throw new he;let Le=(10-Ie)/2,Ke=ln.INSIDE_ODD_WIDEST[Le],ft=9-Ke,dt=kr.getRSSvalue($,Ke,!0),At=kr.getRSSvalue(W,ft,!1),tn=ln.INSIDE_ODD_TOTAL_SUBSET[Le],Kt=ln.INSIDE_GSUM[Le];return new _r(At*tn+dt+Kt,Ne)}}findFinderPattern(g,C){let B=this.getDecodeFinderCounters();B[0]=0,B[1]=0,B[2]=0,B[3]=0;let I=g.getSize(),N=!1,D=0;for(;D<I&&(N=!g.get(D),C!==N);)D++;let $=0,W=D;for(let J=D;J<I;J++)if(g.get(J)!==N)B[$]++;else{if($===3){if(Dn.isFinderPattern(B))return[W,J];W+=B[0]+B[1],B[0]=B[2],B[1]=B[3],B[2]=0,B[3]=0,$--}else $++;B[$]=1,N=!N}throw new he}parseFoundFinderPattern(g,C,B,I){let N=g.get(I[0]),D=I[0]-1;for(;D>=0&&N!==g.get(D);)D--;D++;const $=I[0]-D,W=this.getDecodeFinderCounters(),J=new Int32Array(W.length);j.arraycopy(W,0,J,1,W.length-1),J[0]=$;const le=this.parseFinderValue(J,ln.FINDER_PATTERNS);let fe=D,pe=I[1];return B&&(fe=g.getSize()-1-fe,pe=g.getSize()-1-pe),new Zr(le,[D,I[1]],fe,pe,C)}adjustOddEvenCounts(g,C){let B=Ot.sum(new Int32Array(this.getOddCounts())),I=Ot.sum(new Int32Array(this.getEvenCounts())),N=!1,D=!1,$=!1,W=!1;g?(B>12?D=!0:B<4&&(N=!0),I>12?W=!0:I<4&&($=!0)):(B>11?D=!0:B<5&&(N=!0),I>10?W=!0:I<4&&($=!0));let J=B+I-C,le=(B&1)===(g?1:0),fe=(I&1)===1;if(J===1)if(le){if(fe)throw new he;D=!0}else{if(!fe)throw new he;W=!0}else if(J===-1)if(le){if(fe)throw new he;N=!0}else{if(!fe)throw new he;$=!0}else if(J===0){if(le){if(!fe)throw new he;B<I?(N=!0,W=!0):(D=!0,$=!0)}else if(fe)throw new he}else throw new he;if(N){if(D)throw new he;Dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&Dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),$){if(W)throw new he;Dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}W&&Dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ln.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ln.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ln.OUTSIDE_GSUM=[0,161,961,2015,2715],ln.INSIDE_GSUM=[0,336,1036,1516],ln.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ln.INSIDE_ODD_WIDEST=[2,4,6,8],ln.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class gr extends ze{constructor(g,C){super(),this.readers=[],this.verbose=C===!0;const B=g?g.get(ne.POSSIBLE_FORMATS):null,I=g&&g.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;B?((B.includes(Me.EAN_13)||B.includes(Me.UPC_A)||B.includes(Me.EAN_8)||B.includes(Me.UPC_E))&&this.readers.push(new Tr(g)),B.includes(Me.CODE_39)&&this.readers.push(new ut(I)),B.includes(Me.CODE_128)&&this.readers.push(new $e),B.includes(Me.ITF)&&this.readers.push(new lt),B.includes(Me.RSS_14)&&this.readers.push(new ln),B.includes(Me.RSS_EXPANDED)&&this.readers.push(new ct(this.verbose))):(this.readers.push(new Tr(g)),this.readers.push(new ut),this.readers.push(new Tr(g)),this.readers.push(new $e),this.readers.push(new lt),this.readers.push(new ln),this.readers.push(new ct(this.verbose)))}decodeRow(g,C,B){for(let I=0;I<this.readers.length;I++)try{return this.readers[I].decodeRow(g,C,B)}catch{}throw new he}reset(){this.readers.forEach(g=>g.reset())}}class Js extends Se{constructor(g=500,C){super(new gr(C),g,C)}}class _t{constructor(g,C,B){this.ecCodewords=g,this.ecBlocks=[C],B&&this.ecBlocks.push(B)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ht{constructor(g,C){this.count=g,this.dataCodewords=C}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(g,C,B,I,N,D){this.versionNumber=g,this.symbolSizeRows=C,this.symbolSizeColumns=B,this.dataRegionSizeRows=I,this.dataRegionSizeColumns=N,this.ecBlocks=D;let $=0;const W=D.getECCodewords(),J=D.getECBlocks();for(let le of J)$+=le.getCount()*(le.getDataCodewords()+W);this.totalCodewords=$}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(g,C){if((g&1)!==0||(C&1)!==0)throw new Y;for(let B of qt.VERSIONS)if(B.symbolSizeRows===g&&B.symbolSizeColumns===C)return B;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new qt(1,10,10,8,8,new _t(5,new Ht(1,3))),new qt(2,12,12,10,10,new _t(7,new Ht(1,5))),new qt(3,14,14,12,12,new _t(10,new Ht(1,8))),new qt(4,16,16,14,14,new _t(12,new Ht(1,12))),new qt(5,18,18,16,16,new _t(14,new Ht(1,18))),new qt(6,20,20,18,18,new _t(18,new Ht(1,22))),new qt(7,22,22,20,20,new _t(20,new Ht(1,30))),new qt(8,24,24,22,22,new _t(24,new Ht(1,36))),new qt(9,26,26,24,24,new _t(28,new Ht(1,44))),new qt(10,32,32,14,14,new _t(36,new Ht(1,62))),new qt(11,36,36,16,16,new _t(42,new Ht(1,86))),new qt(12,40,40,18,18,new _t(48,new Ht(1,114))),new qt(13,44,44,20,20,new _t(56,new Ht(1,144))),new qt(14,48,48,22,22,new _t(68,new Ht(1,174))),new qt(15,52,52,24,24,new _t(42,new Ht(2,102))),new qt(16,64,64,14,14,new _t(56,new Ht(2,140))),new qt(17,72,72,16,16,new _t(36,new Ht(4,92))),new qt(18,80,80,18,18,new _t(48,new Ht(4,114))),new qt(19,88,88,20,20,new _t(56,new Ht(4,144))),new qt(20,96,96,22,22,new _t(68,new Ht(4,174))),new qt(21,104,104,24,24,new _t(56,new Ht(6,136))),new qt(22,120,120,18,18,new _t(68,new Ht(6,175))),new qt(23,132,132,20,20,new _t(62,new Ht(8,163))),new qt(24,144,144,22,22,new _t(62,new Ht(8,156),new Ht(2,155))),new qt(25,8,18,6,16,new _t(7,new Ht(1,5))),new qt(26,8,32,6,14,new _t(11,new Ht(1,10))),new qt(27,12,26,10,24,new _t(14,new Ht(1,16))),new qt(28,12,36,10,16,new _t(18,new Ht(1,22))),new qt(29,16,36,14,16,new _t(24,new Ht(1,32))),new qt(30,16,48,14,22,new _t(28,new Ht(1,49)))]}}qt.VERSIONS=qt.buildVersions();class Sr{constructor(g){const C=g.getHeight();if(C<8||C>144||(C&1)!==0)throw new Y;this.version=Sr.readVersion(g),this.mappingBitMatrix=this.extractDataRegion(g),this.readMappingMatrix=new Ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(g){const C=g.getHeight(),B=g.getWidth();return qt.getVersionForDimensions(C,B)}readCodewords(){const g=new Int8Array(this.version.getTotalCodewords());let C=0,B=4,I=0;const N=this.mappingBitMatrix.getHeight(),D=this.mappingBitMatrix.getWidth();let $=!1,W=!1,J=!1,le=!1;do if(B===N&&I===0&&!$)g[C++]=this.readCorner1(N,D)&255,B-=2,I+=2,$=!0;else if(B===N-2&&I===0&&(D&3)!==0&&!W)g[C++]=this.readCorner2(N,D)&255,B-=2,I+=2,W=!0;else if(B===N+4&&I===2&&(D&7)===0&&!J)g[C++]=this.readCorner3(N,D)&255,B-=2,I+=2,J=!0;else if(B===N-2&&I===0&&(D&7)===4&&!le)g[C++]=this.readCorner4(N,D)&255,B-=2,I+=2,le=!0;else{do B<N&&I>=0&&!this.readMappingMatrix.get(I,B)&&(g[C++]=this.readUtah(B,I,N,D)&255),B-=2,I+=2;while(B>=0&&I<D);B+=1,I+=3;do B>=0&&I<D&&!this.readMappingMatrix.get(I,B)&&(g[C++]=this.readUtah(B,I,N,D)&255),B+=2,I-=2;while(B<N&&I>=0);B+=3,I+=1}while(B<N||I<D);if(C!==this.version.getTotalCodewords())throw new Y;return g}readModule(g,C,B,I){return g<0&&(g+=B,C+=4-(B+4&7)),C<0&&(C+=I,g+=4-(I+4&7)),this.readMappingMatrix.set(C,g),this.mappingBitMatrix.get(C,g)}readUtah(g,C,B,I){let N=0;return this.readModule(g-2,C-2,B,I)&&(N|=1),N<<=1,this.readModule(g-2,C-1,B,I)&&(N|=1),N<<=1,this.readModule(g-1,C-2,B,I)&&(N|=1),N<<=1,this.readModule(g-1,C-1,B,I)&&(N|=1),N<<=1,this.readModule(g-1,C,B,I)&&(N|=1),N<<=1,this.readModule(g,C-2,B,I)&&(N|=1),N<<=1,this.readModule(g,C-1,B,I)&&(N|=1),N<<=1,this.readModule(g,C,B,I)&&(N|=1),N}readCorner1(g,C){let B=0;return this.readModule(g-1,0,g,C)&&(B|=1),B<<=1,this.readModule(g-1,1,g,C)&&(B|=1),B<<=1,this.readModule(g-1,2,g,C)&&(B|=1),B<<=1,this.readModule(0,C-2,g,C)&&(B|=1),B<<=1,this.readModule(0,C-1,g,C)&&(B|=1),B<<=1,this.readModule(1,C-1,g,C)&&(B|=1),B<<=1,this.readModule(2,C-1,g,C)&&(B|=1),B<<=1,this.readModule(3,C-1,g,C)&&(B|=1),B}readCorner2(g,C){let B=0;return this.readModule(g-3,0,g,C)&&(B|=1),B<<=1,this.readModule(g-2,0,g,C)&&(B|=1),B<<=1,this.readModule(g-1,0,g,C)&&(B|=1),B<<=1,this.readModule(0,C-4,g,C)&&(B|=1),B<<=1,this.readModule(0,C-3,g,C)&&(B|=1),B<<=1,this.readModule(0,C-2,g,C)&&(B|=1),B<<=1,this.readModule(0,C-1,g,C)&&(B|=1),B<<=1,this.readModule(1,C-1,g,C)&&(B|=1),B}readCorner3(g,C){let B=0;return this.readModule(g-1,0,g,C)&&(B|=1),B<<=1,this.readModule(g-1,C-1,g,C)&&(B|=1),B<<=1,this.readModule(0,C-3,g,C)&&(B|=1),B<<=1,this.readModule(0,C-2,g,C)&&(B|=1),B<<=1,this.readModule(0,C-1,g,C)&&(B|=1),B<<=1,this.readModule(1,C-3,g,C)&&(B|=1),B<<=1,this.readModule(1,C-2,g,C)&&(B|=1),B<<=1,this.readModule(1,C-1,g,C)&&(B|=1),B}readCorner4(g,C){let B=0;return this.readModule(g-3,0,g,C)&&(B|=1),B<<=1,this.readModule(g-2,0,g,C)&&(B|=1),B<<=1,this.readModule(g-1,0,g,C)&&(B|=1),B<<=1,this.readModule(0,C-2,g,C)&&(B|=1),B<<=1,this.readModule(0,C-1,g,C)&&(B|=1),B<<=1,this.readModule(1,C-1,g,C)&&(B|=1),B<<=1,this.readModule(2,C-1,g,C)&&(B|=1),B<<=1,this.readModule(3,C-1,g,C)&&(B|=1),B}extractDataRegion(g){const C=this.version.getSymbolSizeRows(),B=this.version.getSymbolSizeColumns();if(g.getHeight()!==C)throw new S("Dimension of bitMatrix must match the version size");const I=this.version.getDataRegionSizeRows(),N=this.version.getDataRegionSizeColumns(),D=C/I|0,$=B/N|0,W=D*I,J=$*N,le=new Ee(J,W);for(let fe=0;fe<D;++fe){const pe=fe*I;for(let Be=0;Be<$;++Be){const Ie=Be*N;for(let Ne=0;Ne<I;++Ne){const Le=fe*(I+2)+1+Ne,Ke=pe+Ne;for(let ft=0;ft<N;++ft){const dt=Be*(N+2)+1+ft;if(g.get(dt,Le)){const At=Ie+ft;le.set(At,Ke)}}}}}return le}}class Cn{constructor(g,C){this.numDataCodewords=g,this.codewords=C}static getDataBlocks(g,C){const B=C.getECBlocks();let I=0;const N=B.getECBlocks();for(let Ne of N)I+=Ne.getCount();const D=new Array(I);let $=0;for(let Ne of N)for(let Le=0;Le<Ne.getCount();Le++){const Ke=Ne.getDataCodewords(),ft=B.getECCodewords()+Ke;D[$++]=new Cn(Ke,new Uint8Array(ft))}const J=D[0].codewords.length-B.getECCodewords(),le=J-1;let fe=0;for(let Ne=0;Ne<le;Ne++)for(let Le=0;Le<$;Le++)D[Le].codewords[Ne]=g[fe++];const pe=C.getVersionNumber()===24,Be=pe?8:$;for(let Ne=0;Ne<Be;Ne++)D[Ne].codewords[J-1]=g[fe++];const Ie=D[0].codewords.length;for(let Ne=J;Ne<Ie;Ne++)for(let Le=0;Le<$;Le++){const Ke=pe?(Le+8)%$:Le,ft=pe&&Ke>7?Ne-1:Ne;D[Ke].codewords[ft]=g[fe++]}if(fe!==g.length)throw new S;return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xr{constructor(g){this.bytes=g,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(g){if(g<1||g>32||g>this.available())throw new S(""+g);let C=0,B=this.bitOffset,I=this.byteOffset;const N=this.bytes;if(B>0){const D=8-B,$=g<D?g:D,W=D-$,J=255>>8-$<<W;C=(N[I]&J)>>W,g-=$,B+=$,B===8&&(B=0,I++)}if(g>0){for(;g>=8;)C=C<<8|N[I]&255,I++,g-=8;if(g>0){const D=8-g,$=255>>D<<D;C=C<<g|(N[I]&$)>>D,B+=g}}return this.bitOffset=B,this.byteOffset=I,C}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gn;(function(de){de[de.PAD_ENCODE=0]="PAD_ENCODE",de[de.ASCII_ENCODE=1]="ASCII_ENCODE",de[de.C40_ENCODE=2]="C40_ENCODE",de[de.TEXT_ENCODE=3]="TEXT_ENCODE",de[de.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",de[de.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",de[de.BASE256_ENCODE=6]="BASE256_ENCODE"})(gn||(gn={}));class Qr{static decode(g){const C=new xr(g),B=new we,I=new we,N=new Array;let D=gn.ASCII_ENCODE;do if(D===gn.ASCII_ENCODE)D=this.decodeAsciiSegment(C,B,I);else{switch(D){case gn.C40_ENCODE:this.decodeC40Segment(C,B);break;case gn.TEXT_ENCODE:this.decodeTextSegment(C,B);break;case gn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(C,B);break;case gn.EDIFACT_ENCODE:this.decodeEdifactSegment(C,B);break;case gn.BASE256_ENCODE:this.decodeBase256Segment(C,B,N);break;default:throw new Y}D=gn.ASCII_ENCODE}while(D!==gn.PAD_ENCODE&&C.available()>0);return I.length()>0&&B.append(I.toString()),new Ct(g,B.toString(),N.length===0?null:N,null)}static decodeAsciiSegment(g,C,B){let I=!1;do{let N=g.readBits(8);if(N===0)throw new Y;if(N<=128)return I&&(N+=128),C.append(String.fromCharCode(N-1)),gn.ASCII_ENCODE;if(N===129)return gn.PAD_ENCODE;if(N<=229){const D=N-130;D<10&&C.append("0"),C.append(""+D)}else switch(N){case 230:return gn.C40_ENCODE;case 231:return gn.BASE256_ENCODE;case 232:C.append("");break;case 233:case 234:break;case 235:I=!0;break;case 236:C.append("[)>05"),B.insert(0,"");break;case 237:C.append("[)>06"),B.insert(0,"");break;case 238:return gn.ANSIX12_ENCODE;case 239:return gn.TEXT_ENCODE;case 240:return gn.EDIFACT_ENCODE;case 241:break;default:if(N!==254||g.available()!==0)throw new Y;break}}while(g.available()>0);return gn.ASCII_ENCODE}static decodeC40Segment(g,C){let B=!1;const I=[];let N=0;do{if(g.available()===8)return;const D=g.readBits(8);if(D===254)return;this.parseTwoBytes(D,g.readBits(8),I);for(let $=0;$<3;$++){const W=I[$];switch(N){case 0:if(W<3)N=W+1;else if(W<this.C40_BASIC_SET_CHARS.length){const J=this.C40_BASIC_SET_CHARS[W];B?(C.append(String.fromCharCode(J.charCodeAt(0)+128)),B=!1):C.append(J)}else throw new Y;break;case 1:B?(C.append(String.fromCharCode(W+128)),B=!1):C.append(String.fromCharCode(W)),N=0;break;case 2:if(W<this.C40_SHIFT2_SET_CHARS.length){const J=this.C40_SHIFT2_SET_CHARS[W];B?(C.append(String.fromCharCode(J.charCodeAt(0)+128)),B=!1):C.append(J)}else switch(W){case 27:C.append("");break;case 30:B=!0;break;default:throw new Y}N=0;break;case 3:B?(C.append(String.fromCharCode(W+224)),B=!1):C.append(String.fromCharCode(W+96)),N=0;break;default:throw new Y}}}while(g.available()>0)}static decodeTextSegment(g,C){let B=!1,I=[],N=0;do{if(g.available()===8)return;const D=g.readBits(8);if(D===254)return;this.parseTwoBytes(D,g.readBits(8),I);for(let $=0;$<3;$++){const W=I[$];switch(N){case 0:if(W<3)N=W+1;else if(W<this.TEXT_BASIC_SET_CHARS.length){const J=this.TEXT_BASIC_SET_CHARS[W];B?(C.append(String.fromCharCode(J.charCodeAt(0)+128)),B=!1):C.append(J)}else throw new Y;break;case 1:B?(C.append(String.fromCharCode(W+128)),B=!1):C.append(String.fromCharCode(W)),N=0;break;case 2:if(W<this.TEXT_SHIFT2_SET_CHARS.length){const J=this.TEXT_SHIFT2_SET_CHARS[W];B?(C.append(String.fromCharCode(J.charCodeAt(0)+128)),B=!1):C.append(J)}else switch(W){case 27:C.append("");break;case 30:B=!0;break;default:throw new Y}N=0;break;case 3:if(W<this.TEXT_SHIFT3_SET_CHARS.length){const J=this.TEXT_SHIFT3_SET_CHARS[W];B?(C.append(String.fromCharCode(J.charCodeAt(0)+128)),B=!1):C.append(J),N=0}else throw new Y;break;default:throw new Y}}}while(g.available()>0)}static decodeAnsiX12Segment(g,C){const B=[];do{if(g.available()===8)return;const I=g.readBits(8);if(I===254)return;this.parseTwoBytes(I,g.readBits(8),B);for(let N=0;N<3;N++){const D=B[N];switch(D){case 0:C.append("\r");break;case 1:C.append("*");break;case 2:C.append(">");break;case 3:C.append(" ");break;default:if(D<14)C.append(String.fromCharCode(D+44));else if(D<40)C.append(String.fromCharCode(D+51));else throw new Y;break}}}while(g.available()>0)}static parseTwoBytes(g,C,B){let I=(g<<8)+C-1,N=Math.floor(I/1600);B[0]=N,I-=N*1600,N=Math.floor(I/40),B[1]=N,B[2]=I-N*40}static decodeEdifactSegment(g,C){do{if(g.available()<=16)return;for(let B=0;B<4;B++){let I=g.readBits(6);if(I===31){const N=8-g.getBitOffset();N!==8&&g.readBits(N);return}(I&32)===0&&(I|=64),C.append(String.fromCharCode(I))}}while(g.available()>0)}static decodeBase256Segment(g,C,B){let I=1+g.getByteOffset();const N=this.unrandomize255State(g.readBits(8),I++);let D;if(N===0?D=g.available()/8|0:N<250?D=N:D=250*(N-249)+this.unrandomize255State(g.readBits(8),I++),D<0)throw new Y;const $=new Uint8Array(D);for(let W=0;W<D;W++){if(g.available()<8)throw new Y;$[W]=this.unrandomize255State(g.readBits(8),I++)}B.push($);try{C.append(ve.decode($,me.ISO88591))}catch(W){throw new an("Platform does not support required encoding: "+W.message)}}static unrandomize255State(g,C){const B=149*C%255+1,I=g-B;return I>=0?I:I+256}}Qr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qr.TEXT_SHIFT2_SET_CHARS=Qr.C40_SHIFT2_SET_CHARS,Qr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Pl{constructor(){this.rsDecoder=new Un(gt.DATA_MATRIX_FIELD_256)}decode(g){const C=new Sr(g),B=C.getVersion(),I=C.readCodewords(),N=Cn.getDataBlocks(I,B);let D=0;for(let J of N)D+=J.getNumDataCodewords();const $=new Uint8Array(D),W=N.length;for(let J=0;J<W;J++){const le=N[J],fe=le.getCodewords(),pe=le.getNumDataCodewords();this.correctErrors(fe,pe);for(let Be=0;Be<pe;Be++)$[Be*W+J]=fe[Be]}return Qr.decode($)}correctErrors(g,C){const B=new Int32Array(g);try{this.rsDecoder.decode(B,g.length-C)}catch{throw new k}for(let I=0;I<C;I++)g[I]=B[I]}}class Qn{constructor(g){this.image=g,this.rectangleDetector=new it(this.image)}detect(){const g=this.rectangleDetector.detect();let C=this.detectSolid1(g);if(C=this.detectSolid2(C),C[3]=this.correctTopRight(C),!C[3])throw new he;C=this.shiftToModuleCenter(C);const B=C[0],I=C[1],N=C[2],D=C[3];let $=this.transitionsBetween(B,D)+1,W=this.transitionsBetween(N,D)+1;($&1)===1&&($+=1),(W&1)===1&&(W+=1),4*$<7*W&&4*W<7*$&&($=W=Math.max($,W));let J=Qn.sampleGrid(this.image,B,I,N,D,$,W);return new Kn(J,[B,I,N,D])}static shiftPoint(g,C,B){let I=(C.getX()-g.getX())/(B+1),N=(C.getY()-g.getY())/(B+1);return new pt(g.getX()+I,g.getY()+N)}static moveAway(g,C,B){let I=g.getX(),N=g.getY();return I<C?I-=1:I+=1,N<B?N-=1:N+=1,new pt(I,N)}detectSolid1(g){let C=g[0],B=g[1],I=g[3],N=g[2],D=this.transitionsBetween(C,B),$=this.transitionsBetween(B,I),W=this.transitionsBetween(I,N),J=this.transitionsBetween(N,C),le=D,fe=[N,C,B,I];return le>$&&(le=$,fe[0]=C,fe[1]=B,fe[2]=I,fe[3]=N),le>W&&(le=W,fe[0]=B,fe[1]=I,fe[2]=N,fe[3]=C),le>J&&(fe[0]=I,fe[1]=N,fe[2]=C,fe[3]=B),fe}detectSolid2(g){let C=g[0],B=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N),$=Qn.shiftPoint(B,I,(D+1)*4),W=Qn.shiftPoint(I,B,(D+1)*4),J=this.transitionsBetween($,C),le=this.transitionsBetween(W,N);return J<le?(g[0]=C,g[1]=B,g[2]=I,g[3]=N):(g[0]=B,g[1]=I,g[2]=N,g[3]=C),g}correctTopRight(g){let C=g[0],B=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N),$=this.transitionsBetween(B,N),W=Qn.shiftPoint(C,B,($+1)*4),J=Qn.shiftPoint(I,B,(D+1)*4);D=this.transitionsBetween(W,N),$=this.transitionsBetween(J,N);let le=new pt(N.getX()+(I.getX()-B.getX())/(D+1),N.getY()+(I.getY()-B.getY())/(D+1)),fe=new pt(N.getX()+(C.getX()-B.getX())/($+1),N.getY()+(C.getY()-B.getY())/($+1));if(!this.isValid(le))return this.isValid(fe)?fe:null;if(!this.isValid(fe))return le;let pe=this.transitionsBetween(W,le)+this.transitionsBetween(J,le),Be=this.transitionsBetween(W,fe)+this.transitionsBetween(J,fe);return pe>Be?le:fe}shiftToModuleCenter(g){let C=g[0],B=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N)+1,$=this.transitionsBetween(I,N)+1,W=Qn.shiftPoint(C,B,$*4),J=Qn.shiftPoint(I,B,D*4);D=this.transitionsBetween(W,N)+1,$=this.transitionsBetween(J,N)+1,(D&1)===1&&(D+=1),($&1)===1&&($+=1);let le=(C.getX()+B.getX()+I.getX()+N.getX())/4,fe=(C.getY()+B.getY()+I.getY()+N.getY())/4;C=Qn.moveAway(C,le,fe),B=Qn.moveAway(B,le,fe),I=Qn.moveAway(I,le,fe),N=Qn.moveAway(N,le,fe);let pe,Be;return W=Qn.shiftPoint(C,B,$*4),W=Qn.shiftPoint(W,N,D*4),pe=Qn.shiftPoint(B,C,$*4),pe=Qn.shiftPoint(pe,I,D*4),J=Qn.shiftPoint(I,N,$*4),J=Qn.shiftPoint(J,B,D*4),Be=Qn.shiftPoint(N,I,$*4),Be=Qn.shiftPoint(Be,C,D*4),[W,pe,J,Be]}isValid(g){return g.getX()>=0&&g.getX()<this.image.getWidth()&&g.getY()>0&&g.getY()<this.image.getHeight()}static sampleGrid(g,C,B,I,N,D,$){return Je.getInstance().sampleGrid(g,D,$,.5,.5,D-.5,.5,D-.5,$-.5,.5,$-.5,C.getX(),C.getY(),N.getX(),N.getY(),I.getX(),I.getY(),B.getX(),B.getY())}transitionsBetween(g,C){let B=Math.trunc(g.getX()),I=Math.trunc(g.getY()),N=Math.trunc(C.getX()),D=Math.trunc(C.getY()),$=Math.abs(D-I)>Math.abs(N-B);if($){let Ne=B;B=I,I=Ne,Ne=N,N=D,D=Ne}let W=Math.abs(N-B),J=Math.abs(D-I),le=-W/2,fe=I<D?1:-1,pe=B<N?1:-1,Be=0,Ie=this.image.get($?I:B,$?B:I);for(let Ne=B,Le=I;Ne!==N;Ne+=pe){let Ke=this.image.get($?Le:Ne,$?Ne:Le);if(Ke!==Ie&&(Be++,Ie=Ke),le+=J,le>0){if(Le===D)break;Le+=fe,le-=W}}return Be}}class fs{constructor(){this.decoder=new Pl}decode(g,C=null){let B,I;if(C!=null&&C.has(ne.PURE_BARCODE)){const J=fs.extractPureBits(g.getBlackMatrix());B=this.decoder.decode(J),I=fs.NO_POINTS}else{const J=new Qn(g.getBlackMatrix()).detect();B=this.decoder.decode(J.getBits()),I=J.getPoints()}const N=B.getRawBytes(),D=new _e(B.getText(),N,8*N.length,I,Me.DATA_MATRIX,j.currentTimeMillis()),$=B.getByteSegments();$!=null&&D.putMetadata(ot.BYTE_SEGMENTS,$);const W=B.getECLevel();return W!=null&&D.putMetadata(ot.ERROR_CORRECTION_LEVEL,W),D}reset(){}static extractPureBits(g){const C=g.getTopLeftOnBit(),B=g.getBottomRightOnBit();if(C==null||B==null)throw new he;const I=this.moduleSize(C,g);let N=C[1];const D=B[1];let $=C[0];const J=(B[0]-$+1)/I,le=(D-N+1)/I;if(J<=0||le<=0)throw new he;const fe=I/2;N+=fe,$+=fe;const pe=new Ee(J,le);for(let Be=0;Be<le;Be++){const Ie=N+Be*I;for(let Ne=0;Ne<J;Ne++)g.get($+Ne*I,Ie)&&pe.set(Ne,Be)}return pe}static moduleSize(g,C){const B=C.getWidth();let I=g[0];const N=g[1];for(;I<B&&C.get(I,N);)I++;if(I===B)throw new he;const D=I-g[0];if(D===0)throw new he;return D}}fs.NO_POINTS=[];class Ji extends Se{constructor(g=500){super(new fs,g)}}var Zs;(function(de){de[de.L=0]="L",de[de.M=1]="M",de[de.Q=2]="Q",de[de.H=3]="H"})(Zs||(Zs={}));class sn{constructor(g,C,B){this.value=g,this.stringValue=C,this.bits=B,sn.FOR_BITS.set(B,this),sn.FOR_VALUE.set(g,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(g){switch(g){case"L":return sn.L;case"M":return sn.M;case"Q":return sn.Q;case"H":return sn.H;default:throw new b(g+"not available")}}toString(){return this.stringValue}equals(g){if(!(g instanceof sn))return!1;const C=g;return this.value===C.value}static forBits(g){if(g<0||g>=sn.FOR_BITS.size)throw new S;return sn.FOR_BITS.get(g)}}sn.FOR_BITS=new Map,sn.FOR_VALUE=new Map,sn.L=new sn(Zs.L,"L",1),sn.M=new sn(Zs.M,"M",0),sn.Q=new sn(Zs.Q,"Q",3),sn.H=new sn(Zs.H,"H",2);class ar{constructor(g){this.errorCorrectionLevel=sn.forBits(g>>3&3),this.dataMask=g&7}static numBitsDiffering(g,C){return H.bitCount(g^C)}static decodeFormatInformation(g,C){const B=ar.doDecodeFormatInformation(g,C);return B!==null?B:ar.doDecodeFormatInformation(g^ar.FORMAT_INFO_MASK_QR,C^ar.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(g,C){let B=Number.MAX_SAFE_INTEGER,I=0;for(const N of ar.FORMAT_INFO_DECODE_LOOKUP){const D=N[0];if(D===g||D===C)return new ar(N[1]);let $=ar.numBitsDiffering(g,D);$<B&&(I=N[1],B=$),g!==C&&($=ar.numBitsDiffering(C,D),$<B&&(I=N[1],B=$))}return B<=3?new ar(I):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(g){if(!(g instanceof ar))return!1;const C=g;return this.errorCorrectionLevel===C.errorCorrectionLevel&&this.dataMask===C.dataMask}}ar.FORMAT_INFO_MASK_QR=21522,ar.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ue{constructor(g,...C){this.ecCodewordsPerBlock=g,this.ecBlocks=C}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let g=0;const C=this.ecBlocks;for(const B of C)g+=B.getCount();return g}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class be{constructor(g,C){this.count=g,this.dataCodewords=C}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rt{constructor(g,C,...B){this.versionNumber=g,this.alignmentPatternCenters=C,this.ecBlocks=B;let I=0;const N=B[0].getECCodewordsPerBlock(),D=B[0].getECBlocks();for(const $ of D)I+=$.getCount()*($.getDataCodewords()+N);this.totalCodewords=I}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(g){return this.ecBlocks[g.getValue()]}static getProvisionalVersionForDimension(g){if(g%4!==1)throw new Y;try{return this.getVersionForNumber((g-17)/4)}catch{throw new Y}}static getVersionForNumber(g){if(g<1||g>40)throw new S;return Rt.VERSIONS[g-1]}static decodeVersionInformation(g){let C=Number.MAX_SAFE_INTEGER,B=0;for(let I=0;I<Rt.VERSION_DECODE_INFO.length;I++){const N=Rt.VERSION_DECODE_INFO[I];if(N===g)return Rt.getVersionForNumber(I+7);const D=ar.numBitsDiffering(g,N);D<C&&(B=I+7,C=D)}return C<=3?Rt.getVersionForNumber(B):null}buildFunctionPattern(){const g=this.getDimensionForVersion(),C=new Ee(g);C.setRegion(0,0,9,9),C.setRegion(g-8,0,8,9),C.setRegion(0,g-8,9,8);const B=this.alignmentPatternCenters.length;for(let I=0;I<B;I++){const N=this.alignmentPatternCenters[I]-2;for(let D=0;D<B;D++)I===0&&(D===0||D===B-1)||I===B-1&&D===0||C.setRegion(this.alignmentPatternCenters[D]-2,N,5,5)}return C.setRegion(6,9,1,g-17),C.setRegion(9,6,g-17,1),this.versionNumber>6&&(C.setRegion(g-11,0,3,6),C.setRegion(0,g-11,6,3)),C}toString(){return""+this.versionNumber}}Rt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Rt.VERSIONS=[new Rt(1,new Int32Array(0),new Ue(7,new be(1,19)),new Ue(10,new be(1,16)),new Ue(13,new be(1,13)),new Ue(17,new be(1,9))),new Rt(2,Int32Array.from([6,18]),new Ue(10,new be(1,34)),new Ue(16,new be(1,28)),new Ue(22,new be(1,22)),new Ue(28,new be(1,16))),new Rt(3,Int32Array.from([6,22]),new Ue(15,new be(1,55)),new Ue(26,new be(1,44)),new Ue(18,new be(2,17)),new Ue(22,new be(2,13))),new Rt(4,Int32Array.from([6,26]),new Ue(20,new be(1,80)),new Ue(18,new be(2,32)),new Ue(26,new be(2,24)),new Ue(16,new be(4,9))),new Rt(5,Int32Array.from([6,30]),new Ue(26,new be(1,108)),new Ue(24,new be(2,43)),new Ue(18,new be(2,15),new be(2,16)),new Ue(22,new be(2,11),new be(2,12))),new Rt(6,Int32Array.from([6,34]),new Ue(18,new be(2,68)),new Ue(16,new be(4,27)),new Ue(24,new be(4,19)),new Ue(28,new be(4,15))),new Rt(7,Int32Array.from([6,22,38]),new Ue(20,new be(2,78)),new Ue(18,new be(4,31)),new Ue(18,new be(2,14),new be(4,15)),new Ue(26,new be(4,13),new be(1,14))),new Rt(8,Int32Array.from([6,24,42]),new Ue(24,new be(2,97)),new Ue(22,new be(2,38),new be(2,39)),new Ue(22,new be(4,18),new be(2,19)),new Ue(26,new be(4,14),new be(2,15))),new Rt(9,Int32Array.from([6,26,46]),new Ue(30,new be(2,116)),new Ue(22,new be(3,36),new be(2,37)),new Ue(20,new be(4,16),new be(4,17)),new Ue(24,new be(4,12),new be(4,13))),new Rt(10,Int32Array.from([6,28,50]),new Ue(18,new be(2,68),new be(2,69)),new Ue(26,new be(4,43),new be(1,44)),new Ue(24,new be(6,19),new be(2,20)),new Ue(28,new be(6,15),new be(2,16))),new Rt(11,Int32Array.from([6,30,54]),new Ue(20,new be(4,81)),new Ue(30,new be(1,50),new be(4,51)),new Ue(28,new be(4,22),new be(4,23)),new Ue(24,new be(3,12),new be(8,13))),new Rt(12,Int32Array.from([6,32,58]),new Ue(24,new be(2,92),new be(2,93)),new Ue(22,new be(6,36),new be(2,37)),new Ue(26,new be(4,20),new be(6,21)),new Ue(28,new be(7,14),new be(4,15))),new Rt(13,Int32Array.from([6,34,62]),new Ue(26,new be(4,107)),new Ue(22,new be(8,37),new be(1,38)),new Ue(24,new be(8,20),new be(4,21)),new Ue(22,new be(12,11),new be(4,12))),new Rt(14,Int32Array.from([6,26,46,66]),new Ue(30,new be(3,115),new be(1,116)),new Ue(24,new be(4,40),new be(5,41)),new Ue(20,new be(11,16),new be(5,17)),new Ue(24,new be(11,12),new be(5,13))),new Rt(15,Int32Array.from([6,26,48,70]),new Ue(22,new be(5,87),new be(1,88)),new Ue(24,new be(5,41),new be(5,42)),new Ue(30,new be(5,24),new be(7,25)),new Ue(24,new be(11,12),new be(7,13))),new Rt(16,Int32Array.from([6,26,50,74]),new Ue(24,new be(5,98),new be(1,99)),new Ue(28,new be(7,45),new be(3,46)),new Ue(24,new be(15,19),new be(2,20)),new Ue(30,new be(3,15),new be(13,16))),new Rt(17,Int32Array.from([6,30,54,78]),new Ue(28,new be(1,107),new be(5,108)),new Ue(28,new be(10,46),new be(1,47)),new Ue(28,new be(1,22),new be(15,23)),new Ue(28,new be(2,14),new be(17,15))),new Rt(18,Int32Array.from([6,30,56,82]),new Ue(30,new be(5,120),new be(1,121)),new Ue(26,new be(9,43),new be(4,44)),new Ue(28,new be(17,22),new be(1,23)),new Ue(28,new be(2,14),new be(19,15))),new Rt(19,Int32Array.from([6,30,58,86]),new Ue(28,new be(3,113),new be(4,114)),new Ue(26,new be(3,44),new be(11,45)),new Ue(26,new be(17,21),new be(4,22)),new Ue(26,new be(9,13),new be(16,14))),new Rt(20,Int32Array.from([6,34,62,90]),new Ue(28,new be(3,107),new be(5,108)),new Ue(26,new be(3,41),new be(13,42)),new Ue(30,new be(15,24),new be(5,25)),new Ue(28,new be(15,15),new be(10,16))),new Rt(21,Int32Array.from([6,28,50,72,94]),new Ue(28,new be(4,116),new be(4,117)),new Ue(26,new be(17,42)),new Ue(28,new be(17,22),new be(6,23)),new Ue(30,new be(19,16),new be(6,17))),new Rt(22,Int32Array.from([6,26,50,74,98]),new Ue(28,new be(2,111),new be(7,112)),new Ue(28,new be(17,46)),new Ue(30,new be(7,24),new be(16,25)),new Ue(24,new be(34,13))),new Rt(23,Int32Array.from([6,30,54,78,102]),new Ue(30,new be(4,121),new be(5,122)),new Ue(28,new be(4,47),new be(14,48)),new Ue(30,new be(11,24),new be(14,25)),new Ue(30,new be(16,15),new be(14,16))),new Rt(24,Int32Array.from([6,28,54,80,106]),new Ue(30,new be(6,117),new be(4,118)),new Ue(28,new be(6,45),new be(14,46)),new Ue(30,new be(11,24),new be(16,25)),new Ue(30,new be(30,16),new be(2,17))),new Rt(25,Int32Array.from([6,32,58,84,110]),new Ue(26,new be(8,106),new be(4,107)),new Ue(28,new be(8,47),new be(13,48)),new Ue(30,new be(7,24),new be(22,25)),new Ue(30,new be(22,15),new be(13,16))),new Rt(26,Int32Array.from([6,30,58,86,114]),new Ue(28,new be(10,114),new be(2,115)),new Ue(28,new be(19,46),new be(4,47)),new Ue(28,new be(28,22),new be(6,23)),new Ue(30,new be(33,16),new be(4,17))),new Rt(27,Int32Array.from([6,34,62,90,118]),new Ue(30,new be(8,122),new be(4,123)),new Ue(28,new be(22,45),new be(3,46)),new Ue(30,new be(8,23),new be(26,24)),new Ue(30,new be(12,15),new be(28,16))),new Rt(28,Int32Array.from([6,26,50,74,98,122]),new Ue(30,new be(3,117),new be(10,118)),new Ue(28,new be(3,45),new be(23,46)),new Ue(30,new be(4,24),new be(31,25)),new Ue(30,new be(11,15),new be(31,16))),new Rt(29,Int32Array.from([6,30,54,78,102,126]),new Ue(30,new be(7,116),new be(7,117)),new Ue(28,new be(21,45),new be(7,46)),new Ue(30,new be(1,23),new be(37,24)),new Ue(30,new be(19,15),new be(26,16))),new Rt(30,Int32Array.from([6,26,52,78,104,130]),new Ue(30,new be(5,115),new be(10,116)),new Ue(28,new be(19,47),new be(10,48)),new Ue(30,new be(15,24),new be(25,25)),new Ue(30,new be(23,15),new be(25,16))),new Rt(31,Int32Array.from([6,30,56,82,108,134]),new Ue(30,new be(13,115),new be(3,116)),new Ue(28,new be(2,46),new be(29,47)),new Ue(30,new be(42,24),new be(1,25)),new Ue(30,new be(23,15),new be(28,16))),new Rt(32,Int32Array.from([6,34,60,86,112,138]),new Ue(30,new be(17,115)),new Ue(28,new be(10,46),new be(23,47)),new Ue(30,new be(10,24),new be(35,25)),new Ue(30,new be(19,15),new be(35,16))),new Rt(33,Int32Array.from([6,30,58,86,114,142]),new Ue(30,new be(17,115),new be(1,116)),new Ue(28,new be(14,46),new be(21,47)),new Ue(30,new be(29,24),new be(19,25)),new Ue(30,new be(11,15),new be(46,16))),new Rt(34,Int32Array.from([6,34,62,90,118,146]),new Ue(30,new be(13,115),new be(6,116)),new Ue(28,new be(14,46),new be(23,47)),new Ue(30,new be(44,24),new be(7,25)),new Ue(30,new be(59,16),new be(1,17))),new Rt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ue(30,new be(12,121),new be(7,122)),new Ue(28,new be(12,47),new be(26,48)),new Ue(30,new be(39,24),new be(14,25)),new Ue(30,new be(22,15),new be(41,16))),new Rt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ue(30,new be(6,121),new be(14,122)),new Ue(28,new be(6,47),new be(34,48)),new Ue(30,new be(46,24),new be(10,25)),new Ue(30,new be(2,15),new be(64,16))),new Rt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ue(30,new be(17,122),new be(4,123)),new Ue(28,new be(29,46),new be(14,47)),new Ue(30,new be(49,24),new be(10,25)),new Ue(30,new be(24,15),new be(46,16))),new Rt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ue(30,new be(4,122),new be(18,123)),new Ue(28,new be(13,46),new be(32,47)),new Ue(30,new be(48,24),new be(14,25)),new Ue(30,new be(42,15),new be(32,16))),new Rt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ue(30,new be(20,117),new be(4,118)),new Ue(28,new be(40,47),new be(7,48)),new Ue(30,new be(43,24),new be(22,25)),new Ue(30,new be(10,15),new be(67,16))),new Rt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ue(30,new be(19,118),new be(6,119)),new Ue(28,new be(18,47),new be(31,48)),new Ue(30,new be(34,24),new be(34,25)),new Ue(30,new be(20,15),new be(61,16)))];var nr;(function(de){de[de.DATA_MASK_000=0]="DATA_MASK_000",de[de.DATA_MASK_001=1]="DATA_MASK_001",de[de.DATA_MASK_010=2]="DATA_MASK_010",de[de.DATA_MASK_011=3]="DATA_MASK_011",de[de.DATA_MASK_100=4]="DATA_MASK_100",de[de.DATA_MASK_101=5]="DATA_MASK_101",de[de.DATA_MASK_110=6]="DATA_MASK_110",de[de.DATA_MASK_111=7]="DATA_MASK_111"})(nr||(nr={}));class Rr{constructor(g,C){this.value=g,this.isMasked=C}unmaskBitMatrix(g,C){for(let B=0;B<C;B++)for(let I=0;I<C;I++)this.isMasked(B,I)&&g.flip(I,B)}}Rr.values=new Map([[nr.DATA_MASK_000,new Rr(nr.DATA_MASK_000,(de,g)=>(de+g&1)===0)],[nr.DATA_MASK_001,new Rr(nr.DATA_MASK_001,(de,g)=>(de&1)===0)],[nr.DATA_MASK_010,new Rr(nr.DATA_MASK_010,(de,g)=>g%3===0)],[nr.DATA_MASK_011,new Rr(nr.DATA_MASK_011,(de,g)=>(de+g)%3===0)],[nr.DATA_MASK_100,new Rr(nr.DATA_MASK_100,(de,g)=>(Math.floor(de/2)+Math.floor(g/3)&1)===0)],[nr.DATA_MASK_101,new Rr(nr.DATA_MASK_101,(de,g)=>de*g%6===0)],[nr.DATA_MASK_110,new Rr(nr.DATA_MASK_110,(de,g)=>de*g%6<3)],[nr.DATA_MASK_111,new Rr(nr.DATA_MASK_111,(de,g)=>(de+g+de*g%3&1)===0)]]);class ei{constructor(g){const C=g.getHeight();if(C<21||(C&3)!==1)throw new Y;this.bitMatrix=g}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let g=0;for(let N=0;N<6;N++)g=this.copyBit(N,8,g);g=this.copyBit(7,8,g),g=this.copyBit(8,8,g),g=this.copyBit(8,7,g);for(let N=5;N>=0;N--)g=this.copyBit(8,N,g);const C=this.bitMatrix.getHeight();let B=0;const I=C-7;for(let N=C-1;N>=I;N--)B=this.copyBit(8,N,B);for(let N=C-8;N<C;N++)B=this.copyBit(N,8,B);if(this.parsedFormatInfo=ar.decodeFormatInformation(g,B),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const g=this.bitMatrix.getHeight(),C=Math.floor((g-17)/4);if(C<=6)return Rt.getVersionForNumber(C);let B=0;const I=g-11;for(let D=5;D>=0;D--)for(let $=g-9;$>=I;$--)B=this.copyBit($,D,B);let N=Rt.decodeVersionInformation(B);if(N!==null&&N.getDimensionForVersion()===g)return this.parsedVersion=N,N;B=0;for(let D=5;D>=0;D--)for(let $=g-9;$>=I;$--)B=this.copyBit(D,$,B);if(N=Rt.decodeVersionInformation(B),N!==null&&N.getDimensionForVersion()===g)return this.parsedVersion=N,N;throw new Y}copyBit(g,C,B){return(this.isMirror?this.bitMatrix.get(C,g):this.bitMatrix.get(g,C))?B<<1|1:B<<1}readCodewords(){const g=this.readFormatInformation(),C=this.readVersion(),B=Rr.values.get(g.getDataMask()),I=this.bitMatrix.getHeight();B.unmaskBitMatrix(this.bitMatrix,I);const N=C.buildFunctionPattern();let D=!0;const $=new Uint8Array(C.getTotalCodewords());let W=0,J=0,le=0;for(let fe=I-1;fe>0;fe-=2){fe===6&&fe--;for(let pe=0;pe<I;pe++){const Be=D?I-1-pe:pe;for(let Ie=0;Ie<2;Ie++)N.get(fe-Ie,Be)||(le++,J<<=1,this.bitMatrix.get(fe-Ie,Be)&&(J|=1),le===8&&($[W++]=J,le=0,J=0))}D=!D}if(W!==C.getTotalCodewords())throw new Y;return $}remask(){if(this.parsedFormatInfo===null)return;const g=Rr.values[this.parsedFormatInfo.getDataMask()],C=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,C)}setMirror(g){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=g}mirror(){const g=this.bitMatrix;for(let C=0,B=g.getWidth();C<B;C++)for(let I=C+1,N=g.getHeight();I<N;I++)g.get(C,I)!==g.get(I,C)&&(g.flip(I,C),g.flip(C,I))}}class Oa{constructor(g,C){this.numDataCodewords=g,this.codewords=C}static getDataBlocks(g,C,B){if(g.length!==C.getTotalCodewords())throw new S;const I=C.getECBlocksForLevel(B);let N=0;const D=I.getECBlocks();for(const Ie of D)N+=Ie.getCount();const $=new Array(N);let W=0;for(const Ie of D)for(let Ne=0;Ne<Ie.getCount();Ne++){const Le=Ie.getDataCodewords(),Ke=I.getECCodewordsPerBlock()+Le;$[W++]=new Oa(Le,new Uint8Array(Ke))}const J=$[0].codewords.length;let le=$.length-1;for(;le>=0&&$[le].codewords.length!==J;)le--;le++;const fe=J-I.getECCodewordsPerBlock();let pe=0;for(let Ie=0;Ie<fe;Ie++)for(let Ne=0;Ne<W;Ne++)$[Ne].codewords[Ie]=g[pe++];for(let Ie=le;Ie<W;Ie++)$[Ie].codewords[fe]=g[pe++];const Be=$[0].codewords.length;for(let Ie=fe;Ie<Be;Ie++)for(let Ne=0;Ne<W;Ne++){const Le=Ne<le?Ie:Ie+1;$[Ne].codewords[Le]=g[pe++]}return $}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ir;(function(de){de[de.TERMINATOR=0]="TERMINATOR",de[de.NUMERIC=1]="NUMERIC",de[de.ALPHANUMERIC=2]="ALPHANUMERIC",de[de.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",de[de.BYTE=4]="BYTE",de[de.ECI=5]="ECI",de[de.KANJI=6]="KANJI",de[de.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",de[de.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",de[de.HANZI=9]="HANZI"})(Ir||(Ir={}));class Dt{constructor(g,C,B,I){this.value=g,this.stringValue=C,this.characterCountBitsForVersions=B,this.bits=I,Dt.FOR_BITS.set(I,this),Dt.FOR_VALUE.set(g,this)}static forBits(g){const C=Dt.FOR_BITS.get(g);if(C===void 0)throw new S;return C}getCharacterCountBits(g){const C=g.getVersionNumber();let B;return C<=9?B=0:C<=26?B=1:B=2,this.characterCountBitsForVersions[B]}getValue(){return this.value}getBits(){return this.bits}equals(g){if(!(g instanceof Dt))return!1;const C=g;return this.value===C.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(Ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(Ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(Ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(Ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(Ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(Ir.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(Ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(Ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(Ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(Ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ln{static decode(g,C,B,I){const N=new xr(g);let D=new we;const $=new Array;let W=-1,J=-1;try{let le=null,fe=!1,pe;do{if(N.available()<4)pe=Dt.TERMINATOR;else{const Be=N.readBits(4);pe=Dt.forBits(Be)}switch(pe){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:fe=!0;break;case Dt.STRUCTURED_APPEND:if(N.available()<16)throw new Y;W=N.readBits(8),J=N.readBits(8);break;case Dt.ECI:const Be=Ln.parseECIValue(N);if(le=oe.getCharacterSetECIByValue(Be),le===null)throw new Y;break;case Dt.HANZI:const Ie=N.readBits(4),Ne=N.readBits(pe.getCharacterCountBits(C));Ie===Ln.GB2312_SUBSET&&Ln.decodeHanziSegment(N,D,Ne);break;default:const Le=N.readBits(pe.getCharacterCountBits(C));switch(pe){case Dt.NUMERIC:Ln.decodeNumericSegment(N,D,Le);break;case Dt.ALPHANUMERIC:Ln.decodeAlphanumericSegment(N,D,Le,fe);break;case Dt.BYTE:Ln.decodeByteSegment(N,D,Le,le,$,I);break;case Dt.KANJI:Ln.decodeKanjiSegment(N,D,Le);break;default:throw new Y}break}}while(pe!==Dt.TERMINATOR)}catch{throw new Y}return new Ct(g,D.toString(),$.length===0?null:$,B===null?null:B.toString(),W,J)}static decodeHanziSegment(g,C,B){if(B*13>g.available())throw new Y;const I=new Uint8Array(2*B);let N=0;for(;B>0;){const D=g.readBits(13);let $=D/96<<8&4294967295|D%96;$<959?$+=41377:$+=42657,I[N]=$>>8&255,I[N+1]=$&255,N+=2,B--}try{C.append(ve.decode(I,me.GB2312))}catch(D){throw new Y(D)}}static decodeKanjiSegment(g,C,B){if(B*13>g.available())throw new Y;const I=new Uint8Array(2*B);let N=0;for(;B>0;){const D=g.readBits(13);let $=D/192<<8&4294967295|D%192;$<7936?$+=33088:$+=49472,I[N]=$>>8,I[N+1]=$,N+=2,B--}try{C.append(ve.decode(I,me.SHIFT_JIS))}catch(D){throw new Y(D)}}static decodeByteSegment(g,C,B,I,N,D){if(8*B>g.available())throw new Y;const $=new Uint8Array(B);for(let J=0;J<B;J++)$[J]=g.readBits(8);let W;I===null?W=me.guessEncoding($,D):W=I.getName();try{C.append(ve.decode($,W))}catch(J){throw new Y(J)}N.push($)}static toAlphaNumericChar(g){if(g>=Ln.ALPHANUMERIC_CHARS.length)throw new Y;return Ln.ALPHANUMERIC_CHARS[g]}static decodeAlphanumericSegment(g,C,B,I){const N=C.length();for(;B>1;){if(g.available()<11)throw new Y;const D=g.readBits(11);C.append(Ln.toAlphaNumericChar(Math.floor(D/45))),C.append(Ln.toAlphaNumericChar(D%45)),B-=2}if(B===1){if(g.available()<6)throw new Y;C.append(Ln.toAlphaNumericChar(g.readBits(6)))}if(I)for(let D=N;D<C.length();D++)C.charAt(D)==="%"&&(D<C.length()-1&&C.charAt(D+1)==="%"?C.deleteCharAt(D+1):C.setCharAt(D,""))}static decodeNumericSegment(g,C,B){for(;B>=3;){if(g.available()<10)throw new Y;const I=g.readBits(10);if(I>=1e3)throw new Y;C.append(Ln.toAlphaNumericChar(Math.floor(I/100))),C.append(Ln.toAlphaNumericChar(Math.floor(I/10)%10)),C.append(Ln.toAlphaNumericChar(I%10)),B-=3}if(B===2){if(g.available()<7)throw new Y;const I=g.readBits(7);if(I>=100)throw new Y;C.append(Ln.toAlphaNumericChar(Math.floor(I/10))),C.append(Ln.toAlphaNumericChar(I%10))}else if(B===1){if(g.available()<4)throw new Y;const I=g.readBits(4);if(I>=10)throw new Y;C.append(Ln.toAlphaNumericChar(I))}}static parseECIValue(g){const C=g.readBits(8);if((C&128)===0)return C&127;if((C&192)===128){const B=g.readBits(8);return(C&63)<<8&4294967295|B}if((C&224)===192){const B=g.readBits(16);return(C&31)<<16&4294967295|B}throw new Y}}Ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ln.GB2312_SUBSET=1;class bo{constructor(g){this.mirrored=g}isMirrored(){return this.mirrored}applyMirroredCorrection(g){if(!this.mirrored||g===null||g.length<3)return;const C=g[0];g[0]=g[2],g[2]=C}}class $l{constructor(){this.rsDecoder=new Un(gt.QR_CODE_FIELD_256)}decodeBooleanArray(g,C){return this.decodeBitMatrix(Ee.parseFromBooleanArray(g),C)}decodeBitMatrix(g,C){const B=new ei(g);let I=null;try{return this.decodeBitMatrixParser(B,C)}catch(N){I=N}try{B.remask(),B.setMirror(!0),B.readVersion(),B.readFormatInformation(),B.mirror();const N=this.decodeBitMatrixParser(B,C);return N.setOther(new bo(!0)),N}catch(N){throw I!==null?I:N}}decodeBitMatrixParser(g,C){const B=g.readVersion(),I=g.readFormatInformation().getErrorCorrectionLevel(),N=g.readCodewords(),D=Oa.getDataBlocks(N,B,I);let $=0;for(const le of D)$+=le.getNumDataCodewords();const W=new Uint8Array($);let J=0;for(const le of D){const fe=le.getCodewords(),pe=le.getNumDataCodewords();this.correctErrors(fe,pe);for(let Be=0;Be<pe;Be++)W[J++]=fe[Be]}return Ln.decode(W,B,I,C)}correctErrors(g,C){const B=new Int32Array(g);try{this.rsDecoder.decode(B,g.length-C)}catch{throw new k}for(let I=0;I<C;I++)g[I]=B[I]}}class ti extends pt{constructor(g,C,B){super(g,C),this.estimatedModuleSize=B}aboutEquals(g,C,B){if(Math.abs(C-this.getY())<=g&&Math.abs(B-this.getX())<=g){const I=Math.abs(g-this.estimatedModuleSize);return I<=1||I<=this.estimatedModuleSize}return!1}combineEstimate(g,C,B){const I=(this.getX()+C)/2,N=(this.getY()+g)/2,D=(this.estimatedModuleSize+B)/2;return new ti(I,N,D)}}class Or{constructor(g,C,B,I,N,D,$){this.image=g,this.startX=C,this.startY=B,this.width=I,this.height=N,this.moduleSize=D,this.resultPointCallback=$,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const g=this.startX,C=this.height,B=this.width,I=g+B,N=this.startY+C/2,D=new Int32Array(3),$=this.image;for(let W=0;W<C;W++){const J=N+((W&1)===0?Math.floor((W+1)/2):-Math.floor((W+1)/2));D[0]=0,D[1]=0,D[2]=0;let le=g;for(;le<I&&!$.get(le,J);)le++;let fe=0;for(;le<I;){if($.get(le,J))if(fe===1)D[1]++;else if(fe===2){if(this.foundPatternCross(D)){const pe=this.handlePossibleCenter(D,J,le);if(pe!==null)return pe}D[0]=D[2],D[1]=1,D[2]=0,fe=1}else D[++fe]++;else fe===1&&fe++,D[fe]++;le++}if(this.foundPatternCross(D)){const pe=this.handlePossibleCenter(D,J,I);if(pe!==null)return pe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new he}static centerFromEnd(g,C){return C-g[2]-g[1]/2}foundPatternCross(g){const C=this.moduleSize,B=C/2;for(let I=0;I<3;I++)if(Math.abs(C-g[I])>=B)return!1;return!0}crossCheckVertical(g,C,B,I){const N=this.image,D=N.getHeight(),$=this.crossCheckStateCount;$[0]=0,$[1]=0,$[2]=0;let W=g;for(;W>=0&&N.get(C,W)&&$[1]<=B;)$[1]++,W--;if(W<0||$[1]>B)return NaN;for(;W>=0&&!N.get(C,W)&&$[0]<=B;)$[0]++,W--;if($[0]>B)return NaN;for(W=g+1;W<D&&N.get(C,W)&&$[1]<=B;)$[1]++,W++;if(W===D||$[1]>B)return NaN;for(;W<D&&!N.get(C,W)&&$[2]<=B;)$[2]++,W++;if($[2]>B)return NaN;const J=$[0]+$[1]+$[2];return 5*Math.abs(J-I)>=2*I?NaN:this.foundPatternCross($)?Or.centerFromEnd($,W):NaN}handlePossibleCenter(g,C,B){const I=g[0]+g[1]+g[2],N=Or.centerFromEnd(g,B),D=this.crossCheckVertical(C,N,2*g[1],I);if(!isNaN(D)){const $=(g[0]+g[1]+g[2])/3;for(const J of this.possibleCenters)if(J.aboutEquals($,D,N))return J.combineEstimate(D,N,$);const W=new ti(N,D,$);this.possibleCenters.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return null}}class Ni extends pt{constructor(g,C,B,I){super(g,C),this.estimatedModuleSize=B,this.count=I,I===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(g,C,B){if(Math.abs(C-this.getY())<=g&&Math.abs(B-this.getX())<=g){const I=Math.abs(g-this.estimatedModuleSize);return I<=1||I<=this.estimatedModuleSize}return!1}combineEstimate(g,C,B){const I=this.count+1,N=(this.count*this.getX()+C)/I,D=(this.count*this.getY()+g)/I,$=(this.count*this.estimatedModuleSize+B)/I;return new Ni(N,D,$,I)}}class Da{constructor(g){this.bottomLeft=g[0],this.topLeft=g[1],this.topRight=g[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vn{constructor(g,C){this.image=g,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=C}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(g){const C=g!=null&&g.get(ne.TRY_HARDER)!==void 0,B=g!=null&&g.get(ne.PURE_BARCODE)!==void 0,I=this.image,N=I.getHeight(),D=I.getWidth();let $=Math.floor(3*N/(4*Vn.MAX_MODULES));($<Vn.MIN_SKIP||C)&&($=Vn.MIN_SKIP);let W=!1;const J=new Int32Array(5);for(let fe=$-1;fe<N&&!W;fe+=$){J[0]=0,J[1]=0,J[2]=0,J[3]=0,J[4]=0;let pe=0;for(let Be=0;Be<D;Be++)if(I.get(Be,fe))(pe&1)===1&&pe++,J[pe]++;else if((pe&1)===0)if(pe===4)if(Vn.foundPatternCross(J)){if(this.handlePossibleCenter(J,fe,Be,B)===!0)if($=2,this.hasSkipped===!0)W=this.haveMultiplyConfirmedCenters();else{const Ne=this.findRowSkip();Ne>J[2]&&(fe+=Ne-J[2]-$,Be=D-1)}else{J[0]=J[2],J[1]=J[3],J[2]=J[4],J[3]=1,J[4]=0,pe=3;continue}pe=0,J[0]=0,J[1]=0,J[2]=0,J[3]=0,J[4]=0}else J[0]=J[2],J[1]=J[3],J[2]=J[4],J[3]=1,J[4]=0,pe=3;else J[++pe]++;else J[pe]++;Vn.foundPatternCross(J)&&this.handlePossibleCenter(J,fe,D,B)===!0&&($=J[0],this.hasSkipped&&(W=this.haveMultiplyConfirmedCenters()))}const le=this.selectBestPatterns();return pt.orderBestPatterns(le),new Da(le)}static centerFromEnd(g,C){return C-g[4]-g[3]-g[2]/2}static foundPatternCross(g){let C=0;for(let N=0;N<5;N++){const D=g[N];if(D===0)return!1;C+=D}if(C<7)return!1;const B=C/7,I=B/2;return Math.abs(B-g[0])<I&&Math.abs(B-g[1])<I&&Math.abs(3*B-g[2])<3*I&&Math.abs(B-g[3])<I&&Math.abs(B-g[4])<I}getCrossCheckStateCount(){const g=this.crossCheckStateCount;return g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g}crossCheckDiagonal(g,C,B,I){const N=this.getCrossCheckStateCount();let D=0;const $=this.image;for(;g>=D&&C>=D&&$.get(C-D,g-D);)N[2]++,D++;if(g<D||C<D)return!1;for(;g>=D&&C>=D&&!$.get(C-D,g-D)&&N[1]<=B;)N[1]++,D++;if(g<D||C<D||N[1]>B)return!1;for(;g>=D&&C>=D&&$.get(C-D,g-D)&&N[0]<=B;)N[0]++,D++;if(N[0]>B)return!1;const W=$.getHeight(),J=$.getWidth();for(D=1;g+D<W&&C+D<J&&$.get(C+D,g+D);)N[2]++,D++;if(g+D>=W||C+D>=J)return!1;for(;g+D<W&&C+D<J&&!$.get(C+D,g+D)&&N[3]<B;)N[3]++,D++;if(g+D>=W||C+D>=J||N[3]>=B)return!1;for(;g+D<W&&C+D<J&&$.get(C+D,g+D)&&N[4]<B;)N[4]++,D++;if(N[4]>=B)return!1;const le=N[0]+N[1]+N[2]+N[3]+N[4];return Math.abs(le-I)<2*I&&Vn.foundPatternCross(N)}crossCheckVertical(g,C,B,I){const N=this.image,D=N.getHeight(),$=this.getCrossCheckStateCount();let W=g;for(;W>=0&&N.get(C,W);)$[2]++,W--;if(W<0)return NaN;for(;W>=0&&!N.get(C,W)&&$[1]<=B;)$[1]++,W--;if(W<0||$[1]>B)return NaN;for(;W>=0&&N.get(C,W)&&$[0]<=B;)$[0]++,W--;if($[0]>B)return NaN;for(W=g+1;W<D&&N.get(C,W);)$[2]++,W++;if(W===D)return NaN;for(;W<D&&!N.get(C,W)&&$[3]<B;)$[3]++,W++;if(W===D||$[3]>=B)return NaN;for(;W<D&&N.get(C,W)&&$[4]<B;)$[4]++,W++;if($[4]>=B)return NaN;const J=$[0]+$[1]+$[2]+$[3]+$[4];return 5*Math.abs(J-I)>=2*I?NaN:Vn.foundPatternCross($)?Vn.centerFromEnd($,W):NaN}crossCheckHorizontal(g,C,B,I){const N=this.image,D=N.getWidth(),$=this.getCrossCheckStateCount();let W=g;for(;W>=0&&N.get(W,C);)$[2]++,W--;if(W<0)return NaN;for(;W>=0&&!N.get(W,C)&&$[1]<=B;)$[1]++,W--;if(W<0||$[1]>B)return NaN;for(;W>=0&&N.get(W,C)&&$[0]<=B;)$[0]++,W--;if($[0]>B)return NaN;for(W=g+1;W<D&&N.get(W,C);)$[2]++,W++;if(W===D)return NaN;for(;W<D&&!N.get(W,C)&&$[3]<B;)$[3]++,W++;if(W===D||$[3]>=B)return NaN;for(;W<D&&N.get(W,C)&&$[4]<B;)$[4]++,W++;if($[4]>=B)return NaN;const J=$[0]+$[1]+$[2]+$[3]+$[4];return 5*Math.abs(J-I)>=I?NaN:Vn.foundPatternCross($)?Vn.centerFromEnd($,W):NaN}handlePossibleCenter(g,C,B,I){const N=g[0]+g[1]+g[2]+g[3]+g[4];let D=Vn.centerFromEnd(g,B),$=this.crossCheckVertical(C,Math.floor(D),g[2],N);if(!isNaN($)&&(D=this.crossCheckHorizontal(Math.floor(D),Math.floor($),g[2],N),!isNaN(D)&&(!I||this.crossCheckDiagonal(Math.floor($),Math.floor(D),g[2],N)))){const W=N/7;let J=!1;const le=this.possibleCenters;for(let fe=0,pe=le.length;fe<pe;fe++){const Be=le[fe];if(Be.aboutEquals(W,$,D)){le[fe]=Be.combineEstimate($,D,W),J=!0;break}}if(!J){const fe=new Ni(D,$,W);le.push(fe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(fe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let C=null;for(const B of this.possibleCenters)if(B.getCount()>=Vn.CENTER_QUORUM)if(C==null)C=B;else return this.hasSkipped=!0,Math.floor((Math.abs(C.getX()-B.getX())-Math.abs(C.getY()-B.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let g=0,C=0;const B=this.possibleCenters.length;for(const D of this.possibleCenters)D.getCount()>=Vn.CENTER_QUORUM&&(g++,C+=D.getEstimatedModuleSize());if(g<3)return!1;const I=C/B;let N=0;for(const D of this.possibleCenters)N+=Math.abs(D.getEstimatedModuleSize()-I);return N<=.05*C}selectBestPatterns(){const g=this.possibleCenters.length;if(g<3)throw new he;const C=this.possibleCenters;let B;if(g>3){let I=0,N=0;for(const W of this.possibleCenters){const J=W.getEstimatedModuleSize();I+=J,N+=J*J}B=I/g;let D=Math.sqrt(N/g-B*B);C.sort((W,J)=>{const le=Math.abs(J.getEstimatedModuleSize()-B),fe=Math.abs(W.getEstimatedModuleSize()-B);return le<fe?-1:le>fe?1:0});const $=Math.max(.2*B,D);for(let W=0;W<C.length&&C.length>3;W++){const J=C[W];Math.abs(J.getEstimatedModuleSize()-B)>$&&(C.splice(W,1),W--)}}if(C.length>3){let I=0;for(const N of C)I+=N.getEstimatedModuleSize();B=I/C.length,C.sort((N,D)=>{if(D.getCount()===N.getCount()){const $=Math.abs(D.getEstimatedModuleSize()-B),W=Math.abs(N.getEstimatedModuleSize()-B);return $<W?1:$>W?-1:0}else return D.getCount()-N.getCount()}),C.splice(3)}return[C[0],C[1],C[2]]}}Vn.CENTER_QUORUM=2,Vn.MIN_SKIP=3,Vn.MAX_MODULES=57;class ns{constructor(g){this.image=g}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(g){this.resultPointCallback=g==null?null:g.get(ne.NEED_RESULT_POINT_CALLBACK);const B=new Vn(this.image,this.resultPointCallback).find(g);return this.processFinderPatternInfo(B)}processFinderPatternInfo(g){const C=g.getTopLeft(),B=g.getTopRight(),I=g.getBottomLeft(),N=this.calculateModuleSize(C,B,I);if(N<1)throw new he("No pattern found in proccess finder.");const D=ns.computeDimension(C,B,I,N),$=Rt.getProvisionalVersionForDimension(D),W=$.getDimensionForVersion()-7;let J=null;if($.getAlignmentPatternCenters().length>0){const Be=B.getX()-C.getX()+I.getX(),Ie=B.getY()-C.getY()+I.getY(),Ne=1-3/W,Le=Math.floor(C.getX()+Ne*(Be-C.getX())),Ke=Math.floor(C.getY()+Ne*(Ie-C.getY()));for(let ft=4;ft<=16;ft<<=1)try{J=this.findAlignmentInRegion(N,Le,Ke,ft);break}catch(dt){if(!(dt instanceof he))throw dt}}const le=ns.createTransform(C,B,I,J,D),fe=ns.sampleGrid(this.image,le,D);let pe;return J===null?pe=[I,C,B]:pe=[I,C,B,J],new Kn(fe,pe)}static createTransform(g,C,B,I,N){const D=N-3.5;let $,W,J,le;return I!==null?($=I.getX(),W=I.getY(),J=D-3,le=J):($=C.getX()-g.getX()+B.getX(),W=C.getY()-g.getY()+B.getY(),J=D,le=D),Fe.quadrilateralToQuadrilateral(3.5,3.5,D,3.5,J,le,3.5,D,g.getX(),g.getY(),C.getX(),C.getY(),$,W,B.getX(),B.getY())}static sampleGrid(g,C,B){return Je.getInstance().sampleGridWithTransform(g,B,B,C)}static computeDimension(g,C,B,I){const N=Ot.round(pt.distance(g,C)/I),D=Ot.round(pt.distance(g,B)/I);let $=Math.floor((N+D)/2)+7;switch($&3){case 0:$++;break;case 2:$--;break;case 3:throw new he("Dimensions could be not found.")}return $}calculateModuleSize(g,C,B){return(this.calculateModuleSizeOneWay(g,C)+this.calculateModuleSizeOneWay(g,B))/2}calculateModuleSizeOneWay(g,C){const B=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(g.getX()),Math.floor(g.getY()),Math.floor(C.getX()),Math.floor(C.getY())),I=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(C.getX()),Math.floor(C.getY()),Math.floor(g.getX()),Math.floor(g.getY()));return isNaN(B)?I/7:isNaN(I)?B/7:(B+I)/14}sizeOfBlackWhiteBlackRunBothWays(g,C,B,I){let N=this.sizeOfBlackWhiteBlackRun(g,C,B,I),D=1,$=g-(B-g);$<0?(D=g/(g-$),$=0):$>=this.image.getWidth()&&(D=(this.image.getWidth()-1-g)/($-g),$=this.image.getWidth()-1);let W=Math.floor(C-(I-C)*D);return D=1,W<0?(D=C/(C-W),W=0):W>=this.image.getHeight()&&(D=(this.image.getHeight()-1-C)/(W-C),W=this.image.getHeight()-1),$=Math.floor(g+($-g)*D),N+=this.sizeOfBlackWhiteBlackRun(g,C,$,W),N-1}sizeOfBlackWhiteBlackRun(g,C,B,I){const N=Math.abs(I-C)>Math.abs(B-g);if(N){let Be=g;g=C,C=Be,Be=B,B=I,I=Be}const D=Math.abs(B-g),$=Math.abs(I-C);let W=-D/2;const J=g<B?1:-1,le=C<I?1:-1;let fe=0;const pe=B+J;for(let Be=g,Ie=C;Be!==pe;Be+=J){const Ne=N?Ie:Be,Le=N?Be:Ie;if(fe===1===this.image.get(Ne,Le)){if(fe===2)return Ot.distance(Be,Ie,g,C);fe++}if(W+=$,W>0){if(Ie===I)break;Ie+=le,W-=D}}return fe===2?Ot.distance(B+J,I,g,C):NaN}findAlignmentInRegion(g,C,B,I){const N=Math.floor(I*g),D=Math.max(0,C-N),$=Math.min(this.image.getWidth()-1,C+N);if($-D<g*3)throw new he("Alignment top exceeds estimated module size.");const W=Math.max(0,B-N),J=Math.min(this.image.getHeight()-1,B+N);if(J-W<g*3)throw new he("Alignment bottom exceeds estimated module size.");return new Or(this.image,D,W,$-D,J-W,g,this.resultPointCallback).find()}}class hs{constructor(){this.decoder=new $l}getDecoder(){return this.decoder}decode(g,C){let B,I;if(C!=null&&C.get(ne.PURE_BARCODE)!==void 0){const W=hs.extractPureBits(g.getBlackMatrix());B=this.decoder.decodeBitMatrix(W,C),I=hs.NO_POINTS}else{const W=new ns(g.getBlackMatrix()).detect(C);B=this.decoder.decodeBitMatrix(W.getBits(),C),I=W.getPoints()}B.getOther()instanceof bo&&B.getOther().applyMirroredCorrection(I);const N=new _e(B.getText(),B.getRawBytes(),void 0,I,Me.QR_CODE,void 0),D=B.getByteSegments();D!==null&&N.putMetadata(ot.BYTE_SEGMENTS,D);const $=B.getECLevel();return $!==null&&N.putMetadata(ot.ERROR_CORRECTION_LEVEL,$),B.hasStructuredAppend()&&(N.putMetadata(ot.STRUCTURED_APPEND_SEQUENCE,B.getStructuredAppendSequenceNumber()),N.putMetadata(ot.STRUCTURED_APPEND_PARITY,B.getStructuredAppendParity())),N}reset(){}static extractPureBits(g){const C=g.getTopLeftOnBit(),B=g.getBottomRightOnBit();if(C===null||B===null)throw new he;const I=this.moduleSize(C,g);let N=C[1],D=B[1],$=C[0],W=B[0];if($>=W||N>=D)throw new he;if(D-N!==W-$&&(W=$+(D-N),W>=g.getWidth()))throw new he;const J=Math.round((W-$+1)/I),le=Math.round((D-N+1)/I);if(J<=0||le<=0)throw new he;if(le!==J)throw new he;const fe=Math.floor(I/2);N+=fe,$+=fe;const pe=$+Math.floor((J-1)*I)-W;if(pe>0){if(pe>fe)throw new he;$-=pe}const Be=N+Math.floor((le-1)*I)-D;if(Be>0){if(Be>fe)throw new he;N-=Be}const Ie=new Ee(J,le);for(let Ne=0;Ne<le;Ne++){const Le=N+Math.floor(Ne*I);for(let Ke=0;Ke<J;Ke++)g.get($+Math.floor(Ke*I),Le)&&Ie.set(Ke,Ne)}return Ie}static moduleSize(g,C){const B=C.getHeight(),I=C.getWidth();let N=g[0],D=g[1],$=!0,W=0;for(;N<I&&D<B;){if($!==C.get(N,D)){if(++W===5)break;$=!$}N++,D++}if(N===I||D===B)throw new he;return(N-g[0])/7}}hs.NO_POINTS=new Array;class jt{PDF417Common(){}static getBitCountSum(g){return Ot.sum(g)}static toIntArray(g){if(g==null||!g.length)return jt.EMPTY_INT_ARRAY;const C=new Int32Array(g.length);let B=0;for(const I of g)C[B++]=I;return C}static getCodeword(g){const C=Q.binarySearch(jt.SYMBOL_TABLE,g&262143);return C<0?-1:(jt.CODEWORD_TABLE[C]-1)%jt.NUMBER_OF_CODEWORDS}}jt.NUMBER_OF_CODEWORDS=929,jt.MAX_CODEWORDS_IN_BARCODE=jt.NUMBER_OF_CODEWORDS-1,jt.MIN_ROWS_IN_BARCODE=3,jt.MAX_ROWS_IN_BARCODE=90,jt.MODULES_IN_CODEWORD=17,jt.MODULES_IN_STOP_PATTERN=18,jt.BARS_IN_MODULE=8,jt.EMPTY_INT_ARRAY=new Int32Array([]),jt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),jt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Bo{constructor(g,C){this.bits=g,this.points=C}getBits(){return this.bits}getPoints(){return this.points}}class Gt{static detectMultiple(g,C,B){let I=g.getBlackMatrix(),N=Gt.detect(B,I);return N.length||(I=I.clone(),I.rotate180(),N=Gt.detect(B,I)),new Bo(I,N)}static detect(g,C){const B=new Array;let I=0,N=0,D=!1;for(;I<C.getHeight();){const $=Gt.findVertices(C,I,N);if($[0]==null&&$[3]==null){if(!D)break;D=!1,N=0;for(const W of B)W[1]!=null&&(I=Math.trunc(Math.max(I,W[1].getY()))),W[3]!=null&&(I=Math.max(I,Math.trunc(W[3].getY())));I+=Gt.ROW_STEP;continue}if(D=!0,B.push($),!g)break;$[2]!=null?(N=Math.trunc($[2].getX()),I=Math.trunc($[2].getY())):(N=Math.trunc($[4].getX()),I=Math.trunc($[4].getY()))}return B}static findVertices(g,C,B){const I=g.getHeight(),N=g.getWidth(),D=new Array(8);return Gt.copyToResult(D,Gt.findRowsWithPattern(g,I,N,C,B,Gt.START_PATTERN),Gt.INDEXES_START_PATTERN),D[4]!=null&&(B=Math.trunc(D[4].getX()),C=Math.trunc(D[4].getY())),Gt.copyToResult(D,Gt.findRowsWithPattern(g,I,N,C,B,Gt.STOP_PATTERN),Gt.INDEXES_STOP_PATTERN),D}static copyToResult(g,C,B){for(let I=0;I<B.length;I++)g[B[I]]=C[I]}static findRowsWithPattern(g,C,B,I,N,D){const $=new Array(4);let W=!1;const J=new Int32Array(D.length);for(;I<C;I+=Gt.ROW_STEP){let fe=Gt.findGuardPattern(g,N,I,B,!1,D,J);if(fe!=null){for(;I>0;){const pe=Gt.findGuardPattern(g,N,--I,B,!1,D,J);if(pe!=null)fe=pe;else{I++;break}}$[0]=new pt(fe[0],I),$[1]=new pt(fe[1],I),W=!0;break}}let le=I+1;if(W){let fe=0,pe=Int32Array.from([Math.trunc($[0].getX()),Math.trunc($[1].getX())]);for(;le<C;le++){const Be=Gt.findGuardPattern(g,pe[0],le,B,!1,D,J);if(Be!=null&&Math.abs(pe[0]-Be[0])<Gt.MAX_PATTERN_DRIFT&&Math.abs(pe[1]-Be[1])<Gt.MAX_PATTERN_DRIFT)pe=Be,fe=0;else{if(fe>Gt.SKIPPED_ROW_COUNT_MAX)break;fe++}}le-=fe+1,$[2]=new pt(pe[0],le),$[3]=new pt(pe[1],le)}return le-I<Gt.BARCODE_MIN_HEIGHT&&Q.fill($,null),$}static findGuardPattern(g,C,B,I,N,D,$){Q.fillWithin($,0,$.length,0);let W=C,J=0;for(;g.get(W,B)&&W>0&&J++<Gt.MAX_PIXEL_DRIFT;)W--;let le=W,fe=0,pe=D.length;for(let Be=N;le<I;le++)if(g.get(le,B)!==Be)$[fe]++;else{if(fe===pe-1){if(Gt.patternMatchVariance($,D,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return new Int32Array([W,le]);W+=$[0]+$[1],j.arraycopy($,2,$,0,fe-1),$[fe-1]=0,$[fe]=0,fe--}else fe++;$[fe]=1,Be=!Be}return fe===pe-1&&Gt.patternMatchVariance($,D,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE?new Int32Array([W,le-1]):null}static patternMatchVariance(g,C,B){let I=g.length,N=0,D=0;for(let J=0;J<I;J++)N+=g[J],D+=C[J];if(N<D)return 1/0;let $=N/D;B*=$;let W=0;for(let J=0;J<I;J++){let le=g[J],fe=C[J]*$,pe=le>fe?le-fe:fe-le;if(pe>B)return 1/0;W+=pe}return W/N}}Gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Gt.MAX_AVG_VARIANCE=.42,Gt.MAX_INDIVIDUAL_VARIANCE=.8,Gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Gt.MAX_PIXEL_DRIFT=3,Gt.MAX_PATTERN_DRIFT=5,Gt.SKIPPED_ROW_COUNT_MAX=25,Gt.ROW_STEP=5,Gt.BARCODE_MIN_HEIGHT=10;class jn{constructor(g,C){if(C.length===0)throw new S;this.field=g;let B=C.length;if(B>1&&C[0]===0){let I=1;for(;I<B&&C[I]===0;)I++;I===B?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(B-I),j.arraycopy(C,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=C}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(g){return this.coefficients[this.coefficients.length-1-g]}evaluateAt(g){if(g===0)return this.getCoefficient(0);if(g===1){let I=0;for(let N of this.coefficients)I=this.field.add(I,N);return I}let C=this.coefficients[0],B=this.coefficients.length;for(let I=1;I<B;I++)C=this.field.add(this.field.multiply(g,C),this.coefficients[I]);return C}add(g){if(!this.field.equals(g.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return g;if(g.isZero())return this;let C=this.coefficients,B=g.coefficients;if(C.length>B.length){let D=C;C=B,B=D}let I=new Int32Array(B.length),N=B.length-C.length;j.arraycopy(B,0,I,0,N);for(let D=N;D<B.length;D++)I[D]=this.field.add(C[D-N],B[D]);return new jn(this.field,I)}subtract(g){if(!this.field.equals(g.field))throw new S("ModulusPolys do not have same ModulusGF field");return g.isZero()?this:this.add(g.negative())}multiply(g){return g instanceof jn?this.multiplyOther(g):this.multiplyScalar(g)}multiplyOther(g){if(!this.field.equals(g.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||g.isZero())return new jn(this.field,new Int32Array([0]));let C=this.coefficients,B=C.length,I=g.coefficients,N=I.length,D=new Int32Array(B+N-1);for(let $=0;$<B;$++){let W=C[$];for(let J=0;J<N;J++)D[$+J]=this.field.add(D[$+J],this.field.multiply(W,I[J]))}return new jn(this.field,D)}negative(){let g=this.coefficients.length,C=new Int32Array(g);for(let B=0;B<g;B++)C[B]=this.field.subtract(0,this.coefficients[B]);return new jn(this.field,C)}multiplyScalar(g){if(g===0)return new jn(this.field,new Int32Array([0]));if(g===1)return this;let C=this.coefficients.length,B=new Int32Array(C);for(let I=0;I<C;I++)B[I]=this.field.multiply(this.coefficients[I],g);return new jn(this.field,B)}multiplyByMonomial(g,C){if(g<0)throw new S;if(C===0)return new jn(this.field,new Int32Array([0]));let B=this.coefficients.length,I=new Int32Array(B+g);for(let N=0;N<B;N++)I[N]=this.field.multiply(this.coefficients[N],C);return new jn(this.field,I)}toString(){let g=new we;for(let C=this.getDegree();C>=0;C--){let B=this.getCoefficient(C);B!==0&&(B<0?(g.append(" - "),B=-B):g.length()>0&&g.append(" + "),(C===0||B!==1)&&g.append(B),C!==0&&(C===1?g.append("x"):(g.append("x^"),g.append(C))))}return g.toString()}}class La{add(g,C){return(g+C)%this.modulus}subtract(g,C){return(this.modulus+g-C)%this.modulus}exp(g){return this.expTable[g]}log(g){if(g===0)throw new S;return this.logTable[g]}inverse(g){if(g===0)throw new Ut;return this.expTable[this.modulus-this.logTable[g]-1]}multiply(g,C){return g===0||C===0?0:this.expTable[(this.logTable[g]+this.logTable[C])%(this.modulus-1)]}getSize(){return this.modulus}equals(g){return g===this}}class Rs extends La{constructor(g,C){super(),this.modulus=g,this.expTable=new Int32Array(g),this.logTable=new Int32Array(g);let B=1;for(let I=0;I<g;I++)this.expTable[I]=B,B=B*C%g;for(let I=0;I<g-1;I++)this.logTable[this.expTable[I]]=I;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(g,C){if(g<0)throw new S;if(C===0)return this.zero;let B=new Int32Array(g+1);return B[0]=C,new jn(this,B)}}Rs.PDF417_GF=new Rs(jt.NUMBER_OF_CODEWORDS,3);class ps{constructor(){this.field=Rs.PDF417_GF}decode(g,C,B){let I=new jn(this.field,g),N=new Int32Array(C),D=!1;for(let Ie=C;Ie>0;Ie--){let Ne=I.evaluateAt(this.field.exp(Ie));N[C-Ie]=Ne,Ne!==0&&(D=!0)}if(!D)return 0;let $=this.field.getOne();if(B!=null)for(const Ie of B){let Ne=this.field.exp(g.length-1-Ie),Le=new jn(this.field,new Int32Array([this.field.subtract(0,Ne),1]));$=$.multiply(Le)}let W=new jn(this.field,N),J=this.runEuclideanAlgorithm(this.field.buildMonomial(C,1),W,C),le=J[0],fe=J[1],pe=this.findErrorLocations(le),Be=this.findErrorMagnitudes(fe,le,pe);for(let Ie=0;Ie<pe.length;Ie++){let Ne=g.length-1-this.field.log(pe[Ie]);if(Ne<0)throw k.getChecksumInstance();g[Ne]=this.field.subtract(g[Ne],Be[Ie])}return pe.length}runEuclideanAlgorithm(g,C,B){if(g.getDegree()<C.getDegree()){let pe=g;g=C,C=pe}let I=g,N=C,D=this.field.getZero(),$=this.field.getOne();for(;N.getDegree()>=Math.round(B/2);){let pe=I,Be=D;if(I=N,D=$,I.isZero())throw k.getChecksumInstance();N=pe;let Ie=this.field.getZero(),Ne=I.getCoefficient(I.getDegree()),Le=this.field.inverse(Ne);for(;N.getDegree()>=I.getDegree()&&!N.isZero();){let Ke=N.getDegree()-I.getDegree(),ft=this.field.multiply(N.getCoefficient(N.getDegree()),Le);Ie=Ie.add(this.field.buildMonomial(Ke,ft)),N=N.subtract(I.multiplyByMonomial(Ke,ft))}$=Ie.multiply(D).subtract(Be).negative()}let W=$.getCoefficient(0);if(W===0)throw k.getChecksumInstance();let J=this.field.inverse(W),le=$.multiply(J),fe=N.multiply(J);return[le,fe]}findErrorLocations(g){let C=g.getDegree(),B=new Int32Array(C),I=0;for(let N=1;N<this.field.getSize()&&I<C;N++)g.evaluateAt(N)===0&&(B[I]=this.field.inverse(N),I++);if(I!==C)throw k.getChecksumInstance();return B}findErrorMagnitudes(g,C,B){let I=C.getDegree(),N=new Int32Array(I);for(let J=1;J<=I;J++)N[I-J]=this.field.multiply(J,C.getCoefficient(J));let D=new jn(this.field,N),$=B.length,W=new Int32Array($);for(let J=0;J<$;J++){let le=this.field.inverse(B[J]),fe=this.field.subtract(0,g.evaluateAt(le)),pe=this.field.inverse(D.evaluateAt(le));W[J]=this.field.multiply(fe,pe)}return W}}class ms{constructor(g,C,B,I,N){g instanceof ms?this.constructor_2(g):this.constructor_1(g,C,B,I,N)}constructor_1(g,C,B,I,N){const D=C==null||B==null,$=I==null||N==null;if(D&&$)throw new he;D?(C=new pt(0,I.getY()),B=new pt(0,N.getY())):$&&(I=new pt(g.getWidth()-1,C.getY()),N=new pt(g.getWidth()-1,B.getY())),this.image=g,this.topLeft=C,this.bottomLeft=B,this.topRight=I,this.bottomRight=N,this.minX=Math.trunc(Math.min(C.getX(),B.getX())),this.maxX=Math.trunc(Math.max(I.getX(),N.getX())),this.minY=Math.trunc(Math.min(C.getY(),I.getY())),this.maxY=Math.trunc(Math.max(B.getY(),N.getY()))}constructor_2(g){this.image=g.image,this.topLeft=g.getTopLeft(),this.bottomLeft=g.getBottomLeft(),this.topRight=g.getTopRight(),this.bottomRight=g.getBottomRight(),this.minX=g.getMinX(),this.maxX=g.getMaxX(),this.minY=g.getMinY(),this.maxY=g.getMaxY()}static merge(g,C){return g==null?C:C==null?g:new ms(g.image,g.topLeft,g.bottomLeft,C.topRight,C.bottomRight)}addMissingRows(g,C,B){let I=this.topLeft,N=this.bottomLeft,D=this.topRight,$=this.bottomRight;if(g>0){let W=B?this.topLeft:this.topRight,J=Math.trunc(W.getY()-g);J<0&&(J=0);let le=new pt(W.getX(),J);B?I=le:D=le}if(C>0){let W=B?this.bottomLeft:this.bottomRight,J=Math.trunc(W.getY()+C);J>=this.image.getHeight()&&(J=this.image.getHeight()-1);let le=new pt(W.getX(),J);B?N=le:$=le}return new ms(this.image,I,N,D,$)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Zi{constructor(g,C,B,I){this.columnCount=g,this.errorCorrectionLevel=I,this.rowCountUpperPart=C,this.rowCountLowerPart=B,this.rowCount=C+B}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(g,C){let B=-1;function I(D,$,W,J,le,fe){if(D==="%%")return"%";if(C[++B]===void 0)return;D=J?parseInt(J.substr(1)):void 0;let pe=le?parseInt(le.substr(1)):void 0,Be;switch(fe){case"s":Be=C[B];break;case"c":Be=C[B][0];break;case"f":Be=parseFloat(C[B]).toFixed(D);break;case"p":Be=parseFloat(C[B]).toPrecision(D);break;case"e":Be=parseFloat(C[B]).toExponential(D);break;case"x":Be=parseInt(C[B]).toString(pe||16);break;case"d":Be=parseFloat(parseInt(C[B],pe||10).toPrecision(D)).toFixed(0);break}Be=typeof Be=="object"?JSON.stringify(Be):(+Be).toString(pe);let Ie=parseInt(W),Ne=W&&W[0]+""=="0"?"0":" ";for(;Be.length<Ie;)Be=$!==void 0?Be+Ne:Ne+Be;return Be}let N=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return g.replace(N,I)}format(g,...C){this.buffer+=ni.form(g,C)}toString(){return this.buffer}}class Es{constructor(g){this.boundingBox=new ms(g),this.codewords=new Array(g.getMaxY()-g.getMinY()+1)}getCodewordNearby(g){let C=this.getCodeword(g);if(C!=null)return C;for(let B=1;B<Es.MAX_NEARBY_DISTANCE;B++){let I=this.imageRowToCodewordIndex(g)-B;if(I>=0&&(C=this.codewords[I],C!=null)||(I=this.imageRowToCodewordIndex(g)+B,I<this.codewords.length&&(C=this.codewords[I],C!=null)))return C}return null}imageRowToCodewordIndex(g){return g-this.boundingBox.getMinY()}setCodeword(g,C){this.codewords[this.imageRowToCodewordIndex(g)]=C}getCodeword(g){return this.codewords[this.imageRowToCodewordIndex(g)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const g=new ni;let C=0;for(const B of this.codewords){if(B==null){g.format("%3d:    |   %n",C++);continue}g.format("%3d: %3d|%3d%n",C++,B.getRowNumber(),B.getValue())}return g.toString()}}Es.MAX_NEARBY_DISTANCE=5;class Cs{constructor(){this.values=new Map}setValue(g){g=Math.trunc(g);let C=this.values.get(g);C==null&&(C=0),C++,this.values.set(g,C)}getValue(){let g=-1,C=new Array;for(const[B,I]of this.values.entries()){const N={getKey:()=>B,getValue:()=>I};N.getValue()>g?(g=N.getValue(),C=[],C.push(N.getKey())):N.getValue()===g&&C.push(N.getKey())}return jt.toIntArray(C)}getConfidence(g){return this.values.get(g)}}class ja extends Es{constructor(g,C){super(g),this._isLeft=C}setRowNumbers(){for(let g of this.getCodewords())g!=null&&g.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(g){let C=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(C,g);let B=this.getBoundingBox(),I=this._isLeft?B.getTopLeft():B.getTopRight(),N=this._isLeft?B.getBottomLeft():B.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(I.getY())),$=this.imageRowToCodewordIndex(Math.trunc(N.getY())),W=-1,J=1,le=0;for(let fe=D;fe<$;fe++){if(C[fe]==null)continue;let pe=C[fe],Be=pe.getRowNumber()-W;if(Be===0)le++;else if(Be===1)J=Math.max(J,le),le=1,W=pe.getRowNumber();else if(Be<0||pe.getRowNumber()>=g.getRowCount()||Be>fe)C[fe]=null;else{let Ie;J>2?Ie=(J-2)*Be:Ie=Be;let Ne=Ie>=fe;for(let Le=1;Le<=Ie&&!Ne;Le++)Ne=C[fe-Le]!=null;Ne?C[fe]=null:(W=pe.getRowNumber(),le=1)}}}getRowHeights(){let g=this.getBarcodeMetadata();if(g==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(g);let C=new Int32Array(g.getRowCount());for(let B of this.getCodewords())if(B!=null){let I=B.getRowNumber();if(I>=C.length)continue;C[I]++}return C}adjustIncompleteIndicatorColumnRowNumbers(g){let C=this.getBoundingBox(),B=this._isLeft?C.getTopLeft():C.getTopRight(),I=this._isLeft?C.getBottomLeft():C.getBottomRight(),N=this.imageRowToCodewordIndex(Math.trunc(B.getY())),D=this.imageRowToCodewordIndex(Math.trunc(I.getY())),$=this.getCodewords(),W=-1;for(let J=N;J<D;J++){if($[J]==null)continue;let le=$[J];le.setRowNumberAsRowIndicatorColumn();let fe=le.getRowNumber()-W;fe===0||(fe===1?W=le.getRowNumber():le.getRowNumber()>=g.getRowCount()?$[J]=null:W=le.getRowNumber())}}getBarcodeMetadata(){let g=this.getCodewords(),C=new Cs,B=new Cs,I=new Cs,N=new Cs;for(let $ of g){if($==null)continue;$.setRowNumberAsRowIndicatorColumn();let W=$.getValue()%30,J=$.getRowNumber();switch(this._isLeft||(J+=2),J%3){case 0:B.setValue(W*3+1);break;case 1:N.setValue(W/3),I.setValue(W%3);break;case 2:C.setValue(W+1);break}}if(C.getValue().length===0||B.getValue().length===0||I.getValue().length===0||N.getValue().length===0||C.getValue()[0]<1||B.getValue()[0]+I.getValue()[0]<jt.MIN_ROWS_IN_BARCODE||B.getValue()[0]+I.getValue()[0]>jt.MAX_ROWS_IN_BARCODE)return null;let D=new Zi(C.getValue()[0],B.getValue()[0],I.getValue()[0],N.getValue()[0]);return this.removeIncorrectCodewords(g,D),D}removeIncorrectCodewords(g,C){for(let B=0;B<g.length;B++){let I=g[B];if(g[B]==null)continue;let N=I.getValue()%30,D=I.getRowNumber();if(D>C.getRowCount()){g[B]=null;continue}switch(this._isLeft||(D+=2),D%3){case 0:N*3+1!==C.getRowCountUpperPart()&&(g[B]=null);break;case 1:(Math.trunc(N/3)!==C.getErrorCorrectionLevel()||N%3!==C.getRowCountLowerPart())&&(g[B]=null);break;case 2:N+1!==C.getColumnCount()&&(g[B]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class or{constructor(g,C){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=g,this.barcodeColumnCount=g.getColumnCount(),this.boundingBox=C,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let g=jt.MAX_CODEWORDS_IN_BARCODE,C;do C=g,g=this.adjustRowNumbersAndGetCount();while(g>0&&g<C);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(g){g!=null&&g.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let g=this.adjustRowNumbersByRow();if(g===0)return 0;for(let C=1;C<this.barcodeColumnCount+1;C++){let B=this.detectionResultColumns[C].getCodewords();for(let I=0;I<B.length;I++)B[I]!=null&&(B[I].hasValidRowNumber()||this.adjustRowNumbers(C,I,B))}return g}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let g=this.detectionResultColumns[0].getCodewords(),C=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let B=0;B<g.length;B++)if(g[B]!=null&&C[B]!=null&&g[B].getRowNumber()===C[B].getRowNumber())for(let I=1;I<=this.barcodeColumnCount;I++){let N=this.detectionResultColumns[I].getCodewords()[B];N!=null&&(N.setRowNumber(g[B].getRowNumber()),N.hasValidRowNumber()||(this.detectionResultColumns[I].getCodewords()[B]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let g=0,C=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let B=0;B<C.length;B++){if(C[B]==null)continue;let I=C[B].getRowNumber(),N=0;for(let D=this.barcodeColumnCount+1;D>0&&N<this.ADJUST_ROW_NUMBER_SKIP;D--){let $=this.detectionResultColumns[D].getCodewords()[B];$!=null&&(N=or.adjustRowNumberIfValid(I,N,$),$.hasValidRowNumber()||g++)}}return g}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let g=0,C=this.detectionResultColumns[0].getCodewords();for(let B=0;B<C.length;B++){if(C[B]==null)continue;let I=C[B].getRowNumber(),N=0;for(let D=1;D<this.barcodeColumnCount+1&&N<this.ADJUST_ROW_NUMBER_SKIP;D++){let $=this.detectionResultColumns[D].getCodewords()[B];$!=null&&(N=or.adjustRowNumberIfValid(I,N,$),$.hasValidRowNumber()||g++)}}return g}static adjustRowNumberIfValid(g,C,B){return B==null||B.hasValidRowNumber()||(B.isValidRowNumber(g)?(B.setRowNumber(g),C=0):++C),C}adjustRowNumbers(g,C,B){if(!this.detectionResultColumns[g-1])return;let I=B[C],N=this.detectionResultColumns[g-1].getCodewords(),D=N;this.detectionResultColumns[g+1]!=null&&(D=this.detectionResultColumns[g+1].getCodewords());let $=new Array(14);$[2]=N[C],$[3]=D[C],C>0&&($[0]=B[C-1],$[4]=N[C-1],$[5]=D[C-1]),C>1&&($[8]=B[C-2],$[10]=N[C-2],$[11]=D[C-2]),C<B.length-1&&($[1]=B[C+1],$[6]=N[C+1],$[7]=D[C+1]),C<B.length-2&&($[9]=B[C+2],$[12]=N[C+2],$[13]=D[C+2]);for(let W of $)if(or.adjustRowNumber(I,W))return}static adjustRowNumber(g,C){return C==null?!1:C.hasValidRowNumber()&&C.getBucket()===g.getBucket()?(g.setRowNumber(C.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(g){this.boundingBox=g}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(g,C){this.detectionResultColumns[g]=C}getDetectionResultColumn(g){return this.detectionResultColumns[g]}toString(){let g=this.detectionResultColumns[0];g==null&&(g=this.detectionResultColumns[this.barcodeColumnCount+1]);let C=new ni;for(let B=0;B<g.getCodewords().length;B++){C.format("CW %3d:",B);for(let I=0;I<this.barcodeColumnCount+2;I++){if(this.detectionResultColumns[I]==null){C.format("    |   ");continue}let N=this.detectionResultColumns[I].getCodewords()[B];if(N==null){C.format("    |   ");continue}C.format(" %3d|%3d",N.getRowNumber(),N.getValue())}C.format("%n")}return C.toString()}}class Vr{constructor(g,C,B,I){this.rowNumber=Vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(g),this.endX=Math.trunc(C),this.bucket=Math.trunc(B),this.value=Math.trunc(I)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(g){return g!==Vr.BARCODE_ROW_UNKNOWN&&this.bucket===g%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(g){this.rowNumber=g}toString(){return this.rowNumber+"|"+this.value}}Vr.BARCODE_ROW_UNKNOWN=-1;class dr{static initialize(){for(let g=0;g<jt.SYMBOL_TABLE.length;g++){let C=jt.SYMBOL_TABLE[g],B=C&1;for(let I=0;I<jt.BARS_IN_MODULE;I++){let N=0;for(;(C&1)===B;)N+=1,C>>=1;B=C&1,dr.RATIOS_TABLE[g]||(dr.RATIOS_TABLE[g]=new Array(jt.BARS_IN_MODULE)),dr.RATIOS_TABLE[g][jt.BARS_IN_MODULE-I-1]=Math.fround(N/jt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(g){let C=dr.getDecodedCodewordValue(dr.sampleBitCounts(g));return C!==-1?C:dr.getClosestDecodedValue(g)}static sampleBitCounts(g){let C=Ot.sum(g),B=new Int32Array(jt.BARS_IN_MODULE),I=0,N=0;for(let D=0;D<jt.MODULES_IN_CODEWORD;D++){let $=C/(2*jt.MODULES_IN_CODEWORD)+D*C/jt.MODULES_IN_CODEWORD;N+g[I]<=$&&(N+=g[I],I++),B[I]++}return B}static getDecodedCodewordValue(g){let C=dr.getBitValue(g);return jt.getCodeword(C)===-1?-1:C}static getBitValue(g){let C=0;for(let B=0;B<g.length;B++)for(let I=0;I<g[B];I++)C=C<<1|(B%2===0?1:0);return Math.trunc(C)}static getClosestDecodedValue(g){let C=Ot.sum(g),B=new Array(jt.BARS_IN_MODULE);if(C>1)for(let D=0;D<B.length;D++)B[D]=Math.fround(g[D]/C);let I=In.MAX_VALUE,N=-1;this.bSymbolTableReady||dr.initialize();for(let D=0;D<dr.RATIOS_TABLE.length;D++){let $=0,W=dr.RATIOS_TABLE[D];for(let J=0;J<jt.BARS_IN_MODULE;J++){let le=Math.fround(W[J]-B[J]);if($+=Math.fround(le*le),$>=I)break}$<I&&(I=$,N=jt.SYMBOL_TABLE[D])}return N}}dr.bSymbolTableReady=!1,dr.RATIOS_TABLE=new Array(jt.SYMBOL_TABLE.length).map(de=>new Array(jt.BARS_IN_MODULE));class ri{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(g){this.segmentIndex=g}getFileId(){return this.fileId}setFileId(g){this.fileId=g}getOptionalData(){return this.optionalData}setOptionalData(g){this.optionalData=g}isLastSegment(){return this.lastSegment}setLastSegment(g){this.lastSegment=g}getSegmentCount(){return this.segmentCount}setSegmentCount(g){this.segmentCount=g}getSender(){return this.sender||null}setSender(g){this.sender=g}getAddressee(){return this.addressee||null}setAddressee(g){this.addressee=g}getFileName(){return this.fileName}setFileName(g){this.fileName=g}getFileSize(){return this.fileSize}setFileSize(g){this.fileSize=g}getChecksum(){return this.checksum}setChecksum(g){this.checksum=g}getTimestamp(){return this.timestamp}setTimestamp(g){this.timestamp=g}}class _o{static parseLong(g,C=void 0){return parseInt(g,C)}}class ea extends x{}ea.kind="NullPointerException";class Pa{writeBytes(g){this.writeBytesOffset(g,0,g.length)}writeBytesOffset(g,C,B){if(g==null)throw new ea;if(C<0||C>g.length||B<0||C+B>g.length||C+B<0)throw new G;if(B===0)return;for(let I=0;I<B;I++)this.write(g[C+I])}flush(){}close(){}}class Fi extends x{}class na extends Pa{constructor(g=32){if(super(),this.count=0,g<0)throw new S("Negative initial size: "+g);this.buf=new Uint8Array(g)}ensureCapacity(g){g-this.buf.length>0&&this.grow(g)}grow(g){let B=this.buf.length<<1;if(B-g<0&&(B=g),B<0){if(g<0)throw new Fi;B=H.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,B)}write(g){this.ensureCapacity(this.count+1),this.buf[this.count]=g,this.count+=1}writeBytesOffset(g,C,B){if(C<0||C>g.length||B<0||C+B-g.length>0)throw new G;this.ensureCapacity(this.count+B),j.arraycopy(g,C,this.buf,this.count,B),this.count+=B}writeTo(g){g.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(g){return g?typeof g=="string"?this.toString_string(g):this.toString_number(g):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(g){return new String(this.buf).toString()}toString_number(g){return new String(this.buf).toString()}close(){}}var wn;(function(de){de[de.ALPHA=0]="ALPHA",de[de.LOWER=1]="LOWER",de[de.MIXED=2]="MIXED",de[de.PUNCT=3]="PUNCT",de[de.ALPHA_SHIFT=4]="ALPHA_SHIFT",de[de.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wn||(wn={}));function So(){if(typeof window<"u")return window.BigInt||null;if(typeof commonjsGlobal<"u")return commonjsGlobal.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ra;function ws(de){if(typeof ra>"u"&&(ra=So()),ra===null)throw new Error("BigInt is not supported!");return ra(de)}function $a(){let de=[];de[0]=ws(1);let g=ws(900);de[1]=g;for(let C=2;C<16;C++)de[C]=de[C-1]*g;return de}class We{static decode(g,C){let B=new we(""),I=oe.ISO8859_1;B.enableDecoding(I);let N=1,D=g[N++],$=new ri;for(;N<g[0];){switch(D){case We.TEXT_COMPACTION_MODE_LATCH:N=We.textCompaction(g,N,B);break;case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:N=We.byteCompaction(D,g,I,N,B);break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:B.append(g[N++]);break;case We.NUMERIC_COMPACTION_MODE_LATCH:N=We.numericCompaction(g,N,B);break;case We.ECI_CHARSET:oe.getCharacterSetECIByValue(g[N++]);break;case We.ECI_GENERAL_PURPOSE:N+=2;break;case We.ECI_USER_DEFINED:N++;break;case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:N=We.decodeMacroBlock(g,N,$);break;case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:throw new Y;default:N--,N=We.textCompaction(g,N,B);break}if(N<g.length)D=g[N++];else throw Y.getFormatInstance()}if(B.length()===0)throw Y.getFormatInstance();let W=new Ct(null,B.toString(),null,C);return W.setOther($),W}static decodeMacroBlock(g,C,B){if(C+We.NUMBER_OF_SEQUENCE_CODEWORDS>g[0])throw Y.getFormatInstance();let I=new Int32Array(We.NUMBER_OF_SEQUENCE_CODEWORDS);for(let $=0;$<We.NUMBER_OF_SEQUENCE_CODEWORDS;$++,C++)I[$]=g[C];B.setSegmentIndex(H.parseInt(We.decodeBase900toBase10(I,We.NUMBER_OF_SEQUENCE_CODEWORDS)));let N=new we;C=We.textCompaction(g,C,N),B.setFileId(N.toString());let D=-1;for(g[C]===We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(D=C+1);C<g[0];)switch(g[C]){case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(C++,g[C]){case We.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let $=new we;C=We.textCompaction(g,C+1,$),B.setFileName($.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let W=new we;C=We.textCompaction(g,C+1,W),B.setSender(W.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let J=new we;C=We.textCompaction(g,C+1,J),B.setAddressee(J.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let le=new we;C=We.numericCompaction(g,C+1,le),B.setSegmentCount(H.parseInt(le.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let fe=new we;C=We.numericCompaction(g,C+1,fe),B.setTimestamp(_o.parseLong(fe.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let pe=new we;C=We.numericCompaction(g,C+1,pe),B.setChecksum(H.parseInt(pe.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Be=new we;C=We.numericCompaction(g,C+1,Be),B.setFileSize(_o.parseLong(Be.toString()));break;default:throw Y.getFormatInstance()}break;case We.MACRO_PDF417_TERMINATOR:C++,B.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(D!==-1){let $=C-D;B.isLastSegment()&&$--,B.setOptionalData(Q.copyOfRange(g,D,D+$))}return C}static textCompaction(g,C,B){let I=new Int32Array((g[0]-C)*2),N=new Int32Array((g[0]-C)*2),D=0,$=!1;for(;C<g[0]&&!$;){let W=g[C++];if(W<We.TEXT_COMPACTION_MODE_LATCH)I[D]=W/30,I[D+1]=W%30,D+=2;else switch(W){case We.TEXT_COMPACTION_MODE_LATCH:I[D++]=We.TEXT_COMPACTION_MODE_LATCH;break;case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:C--,$=!0;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I[D]=We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,W=g[C++],N[D]=W,D++;break}}return We.decodeTextCompaction(I,N,D,B),C}static decodeTextCompaction(g,C,B,I){let N=wn.ALPHA,D=wn.ALPHA,$=0;for(;$<B;){let W=g[$],J="";switch(N){case wn.ALPHA:if(W<26)J=String.fromCharCode(65+W);else switch(W){case 26:J=" ";break;case We.LL:N=wn.LOWER;break;case We.ML:N=wn.MIXED;break;case We.PS:D=N,N=wn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[$]);break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.LOWER:if(W<26)J=String.fromCharCode(97+W);else switch(W){case 26:J=" ";break;case We.AS:D=N,N=wn.ALPHA_SHIFT;break;case We.ML:N=wn.MIXED;break;case We.PS:D=N,N=wn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[$]);break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.MIXED:if(W<We.PL)J=We.MIXED_CHARS[W];else switch(W){case We.PL:N=wn.PUNCT;break;case 26:J=" ";break;case We.LL:N=wn.LOWER;break;case We.AL:N=wn.ALPHA;break;case We.PS:D=N,N=wn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[$]);break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.PUNCT:if(W<We.PAL)J=We.PUNCT_CHARS[W];else switch(W){case We.PAL:N=wn.ALPHA;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[$]);break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.ALPHA_SHIFT:if(N=D,W<26)J=String.fromCharCode(65+W);else switch(W){case 26:J=" ";break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.PUNCT_SHIFT:if(N=D,W<We.PAL)J=We.PUNCT_CHARS[W];else switch(W){case We.PAL:N=wn.ALPHA;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[$]);break;case We.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break}J!==""&&I.append(J),$++}}static byteCompaction(g,C,B,I,N){let D=new na,$=0,W=0,J=!1;switch(g){case We.BYTE_COMPACTION_MODE_LATCH:let le=new Int32Array(6),fe=C[I++];for(;I<C[0]&&!J;)switch(le[$++]=fe,W=900*W+fe,fe=C[I++],fe){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:I--,J=!0;break;default:if($%5===0&&$>0){for(let pe=0;pe<6;++pe)D.write(Number(ws(W)>>ws(8*(5-pe))));W=0,$=0}break}I===C[0]&&fe<We.TEXT_COMPACTION_MODE_LATCH&&(le[$++]=fe);for(let pe=0;pe<$;pe++)D.write(le[pe]);break;case We.BYTE_COMPACTION_MODE_LATCH_6:for(;I<C[0]&&!J;){let pe=C[I++];if(pe<We.TEXT_COMPACTION_MODE_LATCH)$++,W=900*W+pe;else switch(pe){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:I--,J=!0;break}if($%5===0&&$>0){for(let Be=0;Be<6;++Be)D.write(Number(ws(W)>>ws(8*(5-Be))));W=0,$=0}}break}return N.append(ve.decode(D.toByteArray(),B)),I}static numericCompaction(g,C,B){let I=0,N=!1,D=new Int32Array(We.MAX_NUMERIC_CODEWORDS);for(;C<g[0]&&!N;){let $=g[C++];if(C===g[0]&&(N=!0),$<We.TEXT_COMPACTION_MODE_LATCH)D[I]=$,I++;else switch($){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:C--,N=!0;break}(I%We.MAX_NUMERIC_CODEWORDS===0||$===We.NUMERIC_COMPACTION_MODE_LATCH||N)&&I>0&&(B.append(We.decodeBase900toBase10(D,I)),I=0)}return C}static decodeBase900toBase10(g,C){let B=ws(0);for(let N=0;N<C;N++)B+=We.EXP900[C-N-1]*ws(g[N]);let I=B.toString();if(I.charAt(0)!=="1")throw new Y;return I.substring(1)}}We.TEXT_COMPACTION_MODE_LATCH=900,We.BYTE_COMPACTION_MODE_LATCH=901,We.NUMERIC_COMPACTION_MODE_LATCH=902,We.BYTE_COMPACTION_MODE_LATCH_6=924,We.ECI_USER_DEFINED=925,We.ECI_GENERAL_PURPOSE=926,We.ECI_CHARSET=927,We.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,We.MACRO_PDF417_TERMINATOR=922,We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,We.MAX_NUMERIC_CODEWORDS=15,We.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,We.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,We.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,We.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,We.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,We.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,We.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,We.PL=25,We.LL=27,We.AS=27,We.ML=28,We.AL=28,We.PS=29,We.PAL=29,We.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,We.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",We.EXP900=So()?$a():[],We.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(g,C,B,I,N,D,$){let W=new ms(g,C,B,I,N),J=null,le=null,fe;for(let Ie=!0;;Ie=!1){if(C!=null&&(J=Yt.getRowIndicatorColumn(g,W,C,!0,D,$)),I!=null&&(le=Yt.getRowIndicatorColumn(g,W,I,!1,D,$)),fe=Yt.merge(J,le),fe==null)throw he.getNotFoundInstance();let Ne=fe.getBoundingBox();if(Ie&&Ne!=null&&(Ne.getMinY()<W.getMinY()||Ne.getMaxY()>W.getMaxY()))W=Ne;else break}fe.setBoundingBox(W);let pe=fe.getBarcodeColumnCount()+1;fe.setDetectionResultColumn(0,J),fe.setDetectionResultColumn(pe,le);let Be=J!=null;for(let Ie=1;Ie<=pe;Ie++){let Ne=Be?Ie:pe-Ie;if(fe.getDetectionResultColumn(Ne)!==void 0)continue;let Le;Ne===0||Ne===pe?Le=new ja(W,Ne===0):Le=new Es(W),fe.setDetectionResultColumn(Ne,Le);let Ke=-1,ft=Ke;for(let dt=W.getMinY();dt<=W.getMaxY();dt++){if(Ke=Yt.getStartColumn(fe,Ne,dt,Be),Ke<0||Ke>W.getMaxX()){if(ft===-1)continue;Ke=ft}let At=Yt.detectCodeword(g,W.getMinX(),W.getMaxX(),Be,Ke,dt,D,$);At!=null&&(Le.setCodeword(dt,At),ft=Ke,D=Math.min(D,At.getWidth()),$=Math.max($,At.getWidth()))}}return Yt.createDecoderResult(fe)}static merge(g,C){if(g==null&&C==null)return null;let B=Yt.getBarcodeMetadata(g,C);if(B==null)return null;let I=ms.merge(Yt.adjustBoundingBox(g),Yt.adjustBoundingBox(C));return new or(B,I)}static adjustBoundingBox(g){if(g==null)return null;let C=g.getRowHeights();if(C==null)return null;let B=Yt.getMax(C),I=0;for(let $ of C)if(I+=B-$,$>0)break;let N=g.getCodewords();for(let $=0;I>0&&N[$]==null;$++)I--;let D=0;for(let $=C.length-1;$>=0&&(D+=B-C[$],!(C[$]>0));$--);for(let $=N.length-1;D>0&&N[$]==null;$--)D--;return g.getBoundingBox().addMissingRows(I,D,g.isLeft())}static getMax(g){let C=-1;for(let B of g)C=Math.max(C,B);return C}static getBarcodeMetadata(g,C){let B;if(g==null||(B=g.getBarcodeMetadata())==null)return C==null?null:C.getBarcodeMetadata();let I;return C==null||(I=C.getBarcodeMetadata())==null?B:B.getColumnCount()!==I.getColumnCount()&&B.getErrorCorrectionLevel()!==I.getErrorCorrectionLevel()&&B.getRowCount()!==I.getRowCount()?null:B}static getRowIndicatorColumn(g,C,B,I,N,D){let $=new ja(C,I);for(let W=0;W<2;W++){let J=W===0?1:-1,le=Math.trunc(Math.trunc(B.getX()));for(let fe=Math.trunc(Math.trunc(B.getY()));fe<=C.getMaxY()&&fe>=C.getMinY();fe+=J){let pe=Yt.detectCodeword(g,0,g.getWidth(),I,le,fe,N,D);pe!=null&&($.setCodeword(fe,pe),I?le=pe.getStartX():le=pe.getEndX())}}return $}static adjustCodewordCount(g,C){let B=C[0][1],I=B.getValue(),N=g.getBarcodeColumnCount()*g.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(g.getBarcodeECLevel());if(I.length===0){if(N<1||N>jt.MAX_CODEWORDS_IN_BARCODE)throw he.getNotFoundInstance();B.setValue(N)}else I[0]!==N&&B.setValue(N)}static createDecoderResult(g){let C=Yt.createBarcodeMatrix(g);Yt.adjustCodewordCount(g,C);let B=new Array,I=new Int32Array(g.getBarcodeRowCount()*g.getBarcodeColumnCount()),N=[],D=new Array;for(let W=0;W<g.getBarcodeRowCount();W++)for(let J=0;J<g.getBarcodeColumnCount();J++){let le=C[W][J+1].getValue(),fe=W*g.getBarcodeColumnCount()+J;le.length===0?B.push(fe):le.length===1?I[fe]=le[0]:(D.push(fe),N.push(le))}let $=new Array(N.length);for(let W=0;W<$.length;W++)$[W]=N[W];return Yt.createDecoderResultFromAmbiguousValues(g.getBarcodeECLevel(),I,jt.toIntArray(B),jt.toIntArray(D),$)}static createDecoderResultFromAmbiguousValues(g,C,B,I,N){let D=new Int32Array(I.length),$=100;for(;$-- >0;){for(let W=0;W<D.length;W++)C[I[W]]=N[W][D[W]];try{return Yt.decodeCodewords(C,g,B)}catch(W){if(!(W instanceof k))throw W}if(D.length===0)throw k.getChecksumInstance();for(let W=0;W<D.length;W++)if(D[W]<N[W].length-1){D[W]++;break}else if(D[W]=0,W===D.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(g){let C=Array.from({length:g.getBarcodeRowCount()},()=>new Array(g.getBarcodeColumnCount()+2));for(let I=0;I<C.length;I++)for(let N=0;N<C[I].length;N++)C[I][N]=new Cs;let B=0;for(let I of g.getDetectionResultColumns()){if(I!=null){for(let N of I.getCodewords())if(N!=null){let D=N.getRowNumber();if(D>=0){if(D>=C.length)continue;C[D][B].setValue(N.getValue())}}}B++}return C}static isValidBarcodeColumn(g,C){return C>=0&&C<=g.getBarcodeColumnCount()+1}static getStartColumn(g,C,B,I){let N=I?1:-1,D=null;if(Yt.isValidBarcodeColumn(g,C-N)&&(D=g.getDetectionResultColumn(C-N).getCodeword(B)),D!=null)return I?D.getEndX():D.getStartX();if(D=g.getDetectionResultColumn(C).getCodewordNearby(B),D!=null)return I?D.getStartX():D.getEndX();if(Yt.isValidBarcodeColumn(g,C-N)&&(D=g.getDetectionResultColumn(C-N).getCodewordNearby(B)),D!=null)return I?D.getEndX():D.getStartX();let $=0;for(;Yt.isValidBarcodeColumn(g,C-N);){C-=N;for(let W of g.getDetectionResultColumn(C).getCodewords())if(W!=null)return(I?W.getEndX():W.getStartX())+N*$*(W.getEndX()-W.getStartX());$++}return I?g.getBoundingBox().getMinX():g.getBoundingBox().getMaxX()}static detectCodeword(g,C,B,I,N,D,$,W){N=Yt.adjustCodewordStartColumn(g,C,B,I,N,D);let J=Yt.getModuleBitCount(g,C,B,I,N,D);if(J==null)return null;let le,fe=Ot.sum(J);if(I)le=N+fe;else{for(let Ie=0;Ie<J.length/2;Ie++){let Ne=J[Ie];J[Ie]=J[J.length-1-Ie],J[J.length-1-Ie]=Ne}le=N,N=le-fe}if(!Yt.checkCodewordSkew(fe,$,W))return null;let pe=dr.getDecodedValue(J),Be=jt.getCodeword(pe);return Be===-1?null:new Vr(N,le,Yt.getCodewordBucketNumber(pe),Be)}static getModuleBitCount(g,C,B,I,N,D){let $=N,W=new Int32Array(8),J=0,le=I?1:-1,fe=I;for(;(I?$<B:$>=C)&&J<W.length;)g.get($,D)===fe?(W[J]++,$+=le):(J++,fe=!fe);return J===W.length||$===(I?B:C)&&J===W.length-1?W:null}static getNumberOfECCodeWords(g){return 2<<g}static adjustCodewordStartColumn(g,C,B,I,N,D){let $=N,W=I?-1:1;for(let J=0;J<2;J++){for(;(I?$>=C:$<B)&&I===g.get($,D);){if(Math.abs(N-$)>Yt.CODEWORD_SKEW_SIZE)return N;$+=W}W=-W,I=!I}return $}static checkCodewordSkew(g,C,B){return C-Yt.CODEWORD_SKEW_SIZE<=g&&g<=B+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(g,C,B){if(g.length===0)throw Y.getFormatInstance();let I=1<<C+1,N=Yt.correctErrors(g,B,I);Yt.verifyCodewordCount(g,I);let D=We.decode(g,""+C);return D.setErrorsCorrected(N),D.setErasures(B.length),D}static correctErrors(g,C,B){if(C!=null&&C.length>B/2+Yt.MAX_ERRORS||B<0||B>Yt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Yt.errorCorrection.decode(g,B,C)}static verifyCodewordCount(g,C){if(g.length<4)throw Y.getFormatInstance();let B=g[0];if(B>g.length)throw Y.getFormatInstance();if(B===0)if(C<g.length)g[0]=g.length-C;else throw Y.getFormatInstance()}static getBitCountForCodeword(g){let C=new Int32Array(8),B=0,I=C.length-1;for(;!((g&1)!==B&&(B=g&1,I--,I<0));)C[I]++,g>>=1;return C}static getCodewordBucketNumber(g){return g instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(g):this.getCodewordBucketNumber_number(g)}static getCodewordBucketNumber_number(g){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(g))}static getCodewordBucketNumber_Int32Array(g){return(g[0]-g[2]+g[4]-g[6]+9)%9}static toString(g){let C=new ni;for(let B=0;B<g.length;B++){C.format("Row %2d: ",B);for(let I=0;I<g[B].length;I++){let N=g[B][I];N.getValue().length===0?C.format("        ",null):C.format("%4d(%2d)",N.getValue()[0],N.getConfidence(N.getValue()[0]))}C.format("%n")}return C.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new ps;class hr{decode(g,C=null){let B=hr.decode(g,C,!1);if(B==null||B.length===0||B[0]==null)throw he.getNotFoundInstance();return B[0]}decodeMultiple(g,C=null){try{return hr.decode(g,C,!0)}catch(B){throw B instanceof Y||B instanceof k?he.getNotFoundInstance():B}}static decode(g,C,B){const I=new Array,N=Gt.detectMultiple(g,C,B);for(const D of N.getPoints()){const $=Yt.decode(N.getBits(),D[4],D[5],D[6],D[7],hr.getMinCodewordWidth(D),hr.getMaxCodewordWidth(D)),W=new _e($.getText(),$.getRawBytes(),void 0,D,Me.PDF_417);W.putMetadata(ot.ERROR_CORRECTION_LEVEL,$.getECLevel());const J=$.getOther();J!=null&&W.putMetadata(ot.PDF417_EXTRA_METADATA,J),I.push(W)}return I.map(D=>D)}static getMaxWidth(g,C){return g==null||C==null?0:Math.trunc(Math.abs(g.getX()-C.getX()))}static getMinWidth(g,C){return g==null||C==null?H.MAX_VALUE:Math.trunc(Math.abs(g.getX()-C.getX()))}static getMaxCodewordWidth(g){return Math.floor(Math.max(Math.max(hr.getMaxWidth(g[0],g[4]),hr.getMaxWidth(g[6],g[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.max(hr.getMaxWidth(g[1],g[5]),hr.getMaxWidth(g[7],g[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(g){return Math.floor(Math.min(Math.min(hr.getMinWidth(g[0],g[4]),hr.getMinWidth(g[6],g[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.min(hr.getMinWidth(g[1],g[5]),hr.getMinWidth(g[7],g[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}reset(){}}class sa extends x{}sa.kind="ReaderException";class To{constructor(g,C){this.verbose=g===!0,C&&this.setHints(C)}decode(g,C){return C&&this.setHints(C),this.decodeInternal(g)}decodeWithState(g){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(g)}setHints(g){this.hints=g;const C=!s(g)&&g.get(ne.TRY_HARDER)===!0,B=s(g)?null:g.get(ne.POSSIBLE_FORMATS),I=new Array;if(!s(B)){const N=B.some(D=>D===Me.UPC_A||D===Me.UPC_E||D===Me.EAN_13||D===Me.EAN_8||D===Me.CODABAR||D===Me.CODE_39||D===Me.CODE_93||D===Me.CODE_128||D===Me.ITF||D===Me.RSS_14||D===Me.RSS_EXPANDED);N&&!C&&I.push(new gr(g,this.verbose)),B.includes(Me.QR_CODE)&&I.push(new hs),B.includes(Me.DATA_MATRIX)&&I.push(new fs),B.includes(Me.AZTEC)&&I.push(new Wt),B.includes(Me.PDF_417)&&I.push(new hr),N&&C&&I.push(new gr(g,this.verbose))}I.length===0&&(C||I.push(new gr(g,this.verbose)),I.push(new hs),I.push(new fs),I.push(new Wt),I.push(new hr),C&&I.push(new gr(g,this.verbose))),this.readers=I}reset(){if(this.readers!==null)for(const g of this.readers)g.reset()}decodeInternal(g){if(this.readers===null)throw new sa("No readers where selected, nothing can be read.");for(const C of this.readers)try{return C.decode(g,this.hints)}catch(B){if(B instanceof sa)continue}throw new he("No MultiFormat Readers were able to detect the code.")}}class Ro extends Se{constructor(g=null,C=500){const B=new To;B.setHints(g),super(B,C)}decodeBitmap(g){return this.reader.decodeWithState(g)}}class Ul extends Se{constructor(g=500){super(new hr,g)}}class Hl extends Se{constructor(g=500){super(new hs,g)}}var Ua;(function(de){de[de.ERROR_CORRECTION=0]="ERROR_CORRECTION",de[de.CHARACTER_SET=1]="CHARACTER_SET",de[de.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",de[de.MIN_SIZE=3]="MIN_SIZE",de[de.MAX_SIZE=4]="MAX_SIZE",de[de.MARGIN=5]="MARGIN",de[de.PDF417_COMPACT=6]="PDF417_COMPACT",de[de.PDF417_COMPACTION=7]="PDF417_COMPACTION",de[de.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",de[de.AZTEC_LAYERS=9]="AZTEC_LAYERS",de[de.QR_VERSION=10]="QR_VERSION"})(Ua||(Ua={}));var rr=Ua;class ki{constructor(g){this.field=g,this.cachedGenerators=[],this.cachedGenerators.push(new mt(g,Int32Array.from([1])))}buildGenerator(g){const C=this.cachedGenerators;if(g>=C.length){let B=C[C.length-1];const I=this.field;for(let N=C.length;N<=g;N++){const D=B.multiply(new mt(I,Int32Array.from([1,I.exp(N-1+I.getGeneratorBase())])));C.push(D),B=D}}return C[g]}encode(g,C){if(C===0)throw new S("No error correction bytes");const B=g.length-C;if(B<=0)throw new S("No data bytes provided");const I=this.buildGenerator(C),N=new Int32Array(B);j.arraycopy(g,0,N,0,B);let D=new mt(this.field,N);D=D.multiplyByMonomial(C,1);const W=D.divide(I)[1].getCoefficients(),J=C-W.length;for(let le=0;le<J;le++)g[B+le]=0;j.arraycopy(W,0,g,B+J,W.length)}}class Xn{constructor(){}static applyMaskPenaltyRule1(g){return Xn.applyMaskPenaltyRule1Internal(g,!0)+Xn.applyMaskPenaltyRule1Internal(g,!1)}static applyMaskPenaltyRule2(g){let C=0;const B=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let D=0;D<N-1;D++){const $=B[D];for(let W=0;W<I-1;W++){const J=$[W];J===$[W+1]&&J===B[D+1][W]&&J===B[D+1][W+1]&&C++}}return Xn.N2*C}static applyMaskPenaltyRule3(g){let C=0;const B=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let D=0;D<N;D++)for(let $=0;$<I;$++){const W=B[D];$+6<I&&W[$]===1&&W[$+1]===0&&W[$+2]===1&&W[$+3]===1&&W[$+4]===1&&W[$+5]===0&&W[$+6]===1&&(Xn.isWhiteHorizontal(W,$-4,$)||Xn.isWhiteHorizontal(W,$+7,$+11))&&C++,D+6<N&&B[D][$]===1&&B[D+1][$]===0&&B[D+2][$]===1&&B[D+3][$]===1&&B[D+4][$]===1&&B[D+5][$]===0&&B[D+6][$]===1&&(Xn.isWhiteVertical(B,$,D-4,D)||Xn.isWhiteVertical(B,$,D+7,D+11))&&C++}return C*Xn.N3}static isWhiteHorizontal(g,C,B){C=Math.max(C,0),B=Math.min(B,g.length);for(let I=C;I<B;I++)if(g[I]===1)return!1;return!0}static isWhiteVertical(g,C,B,I){B=Math.max(B,0),I=Math.min(I,g.length);for(let N=B;N<I;N++)if(g[N][C]===1)return!1;return!0}static applyMaskPenaltyRule4(g){let C=0;const B=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let W=0;W<N;W++){const J=B[W];for(let le=0;le<I;le++)J[le]===1&&C++}const D=g.getHeight()*g.getWidth();return Math.floor(Math.abs(C*2-D)*10/D)*Xn.N4}static getDataMaskBit(g,C,B){let I,N;switch(g){case 0:I=B+C&1;break;case 1:I=B&1;break;case 2:I=C%3;break;case 3:I=(B+C)%3;break;case 4:I=Math.floor(B/2)+Math.floor(C/3)&1;break;case 5:N=B*C,I=(N&1)+N%3;break;case 6:N=B*C,I=(N&1)+N%3&1;break;case 7:N=B*C,I=N%3+(B+C&1)&1;break;default:throw new S("Invalid mask pattern: "+g)}return I===0}static applyMaskPenaltyRule1Internal(g,C){let B=0;const I=C?g.getHeight():g.getWidth(),N=C?g.getWidth():g.getHeight(),D=g.getArray();for(let $=0;$<I;$++){let W=0,J=-1;for(let le=0;le<N;le++){const fe=C?D[$][le]:D[le][$];fe===J?W++:(W>=5&&(B+=Xn.N1+(W-5)),W=1,J=fe)}W>=5&&(B+=Xn.N1+(W-5))}return B}}Xn.N1=3,Xn.N2=3,Xn.N3=40,Xn.N4=10;class ia{constructor(g,C){this.width=g,this.height=C;const B=new Array(C);for(let I=0;I!==C;I++)B[I]=new Uint8Array(g);this.bytes=B}getHeight(){return this.height}getWidth(){return this.width}get(g,C){return this.bytes[C][g]}getArray(){return this.bytes}setNumber(g,C,B){this.bytes[C][g]=B}setBoolean(g,C,B){this.bytes[C][g]=B?1:0}clear(g){for(const C of this.bytes)Q.fill(C,g)}equals(g){if(!(g instanceof ia))return!1;const C=g;if(this.width!==C.width||this.height!==C.height)return!1;for(let B=0,I=this.height;B<I;++B){const N=this.bytes[B],D=C.bytes[B];for(let $=0,W=this.width;$<W;++$)if(N[$]!==D[$])return!1}return!0}toString(){const g=new we;for(let C=0,B=this.height;C<B;++C){const I=this.bytes[C];for(let N=0,D=this.width;N<D;++N)switch(I[N]){case 0:g.append(" 0");break;case 1:g.append(" 1");break;default:g.append("  ");break}g.append(`
`)}return g.toString()}}class Is{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const g=new we;return g.append(`<<
`),g.append(" mode: "),g.append(this.mode?this.mode.toString():"null"),g.append(`
 ecLevel: `),g.append(this.ecLevel?this.ecLevel.toString():"null"),g.append(`
 version: `),g.append(this.version?this.version.toString():"null"),g.append(`
 maskPattern: `),g.append(this.maskPattern.toString()),this.matrix?(g.append(`
 matrix:
`),g.append(this.matrix.toString())):g.append(`
 matrix: null
`),g.append(`>>
`),g.toString()}setMode(g){this.mode=g}setECLevel(g){this.ecLevel=g}setVersion(g){this.version=g}setMaskPattern(g){this.maskPattern=g}setMatrix(g){this.matrix=g}static isValidMaskPattern(g){return g>=0&&g<Is.NUM_MASK_PATTERNS}}Is.NUM_MASK_PATTERNS=8;class _n extends x{}_n.kind="WriterException";class Pt{constructor(){}static clearMatrix(g){g.clear(255)}static buildMatrix(g,C,B,I,N){Pt.clearMatrix(N),Pt.embedBasicPatterns(B,N),Pt.embedTypeInfo(C,I,N),Pt.maybeEmbedVersionInfo(B,N),Pt.embedDataBits(g,I,N)}static embedBasicPatterns(g,C){Pt.embedPositionDetectionPatternsAndSeparators(C),Pt.embedDarkDotAtLeftBottomCorner(C),Pt.maybeEmbedPositionAdjustmentPatterns(g,C),Pt.embedTimingPatterns(C)}static embedTypeInfo(g,C,B){const I=new X;Pt.makeTypeInfoBits(g,C,I);for(let N=0,D=I.getSize();N<D;++N){const $=I.get(I.getSize()-1-N),W=Pt.TYPE_INFO_COORDINATES[N],J=W[0],le=W[1];if(B.setBoolean(J,le,$),N<8){const fe=B.getWidth()-N-1;B.setBoolean(fe,8,$)}else{const pe=B.getHeight()-7+(N-8);B.setBoolean(8,pe,$)}}}static maybeEmbedVersionInfo(g,C){if(g.getVersionNumber()<7)return;const B=new X;Pt.makeVersionInfoBits(g,B);let I=17;for(let N=0;N<6;++N)for(let D=0;D<3;++D){const $=B.get(I);I--,C.setBoolean(N,C.getHeight()-11+D,$),C.setBoolean(C.getHeight()-11+D,N,$)}}static embedDataBits(g,C,B){let I=0,N=-1,D=B.getWidth()-1,$=B.getHeight()-1;for(;D>0;){for(D===6&&(D-=1);$>=0&&$<B.getHeight();){for(let W=0;W<2;++W){const J=D-W;if(!Pt.isEmpty(B.get(J,$)))continue;let le;I<g.getSize()?(le=g.get(I),++I):le=!1,C!==255&&Xn.getDataMaskBit(C,J,$)&&(le=!le),B.setBoolean(J,$,le)}$+=N}N=-N,$+=N,D-=2}if(I!==g.getSize())throw new _n("Not all bits consumed: "+I+"/"+g.getSize())}static findMSBSet(g){return 32-H.numberOfLeadingZeros(g)}static calculateBCHCode(g,C){if(C===0)throw new S("0 polynomial");const B=Pt.findMSBSet(C);for(g<<=B-1;Pt.findMSBSet(g)>=B;)g^=C<<Pt.findMSBSet(g)-B;return g}static makeTypeInfoBits(g,C,B){if(!Is.isValidMaskPattern(C))throw new _n("Invalid mask pattern");const I=g.getBits()<<3|C;B.appendBits(I,5);const N=Pt.calculateBCHCode(I,Pt.TYPE_INFO_POLY);B.appendBits(N,10);const D=new X;if(D.appendBits(Pt.TYPE_INFO_MASK_PATTERN,15),B.xor(D),B.getSize()!==15)throw new _n("should not happen but we got: "+B.getSize())}static makeVersionInfoBits(g,C){C.appendBits(g.getVersionNumber(),6);const B=Pt.calculateBCHCode(g.getVersionNumber(),Pt.VERSION_INFO_POLY);if(C.appendBits(B,12),C.getSize()!==18)throw new _n("should not happen but we got: "+C.getSize())}static isEmpty(g){return g===255}static embedTimingPatterns(g){for(let C=8;C<g.getWidth()-8;++C){const B=(C+1)%2;Pt.isEmpty(g.get(C,6))&&g.setNumber(C,6,B),Pt.isEmpty(g.get(6,C))&&g.setNumber(6,C,B)}}static embedDarkDotAtLeftBottomCorner(g){if(g.get(8,g.getHeight()-8)===0)throw new _n;g.setNumber(8,g.getHeight()-8,1)}static embedHorizontalSeparationPattern(g,C,B){for(let I=0;I<8;++I){if(!Pt.isEmpty(B.get(g+I,C)))throw new _n;B.setNumber(g+I,C,0)}}static embedVerticalSeparationPattern(g,C,B){for(let I=0;I<7;++I){if(!Pt.isEmpty(B.get(g,C+I)))throw new _n;B.setNumber(g,C+I,0)}}static embedPositionAdjustmentPattern(g,C,B){for(let I=0;I<5;++I){const N=Pt.POSITION_ADJUSTMENT_PATTERN[I];for(let D=0;D<5;++D)B.setNumber(g+D,C+I,N[D])}}static embedPositionDetectionPattern(g,C,B){for(let I=0;I<7;++I){const N=Pt.POSITION_DETECTION_PATTERN[I];for(let D=0;D<7;++D)B.setNumber(g+D,C+I,N[D])}}static embedPositionDetectionPatternsAndSeparators(g){const C=Pt.POSITION_DETECTION_PATTERN[0].length;Pt.embedPositionDetectionPattern(0,0,g),Pt.embedPositionDetectionPattern(g.getWidth()-C,0,g),Pt.embedPositionDetectionPattern(0,g.getWidth()-C,g);const B=8;Pt.embedHorizontalSeparationPattern(0,B-1,g),Pt.embedHorizontalSeparationPattern(g.getWidth()-B,B-1,g),Pt.embedHorizontalSeparationPattern(0,g.getWidth()-B,g);const I=7;Pt.embedVerticalSeparationPattern(I,0,g),Pt.embedVerticalSeparationPattern(g.getHeight()-I-1,0,g),Pt.embedVerticalSeparationPattern(I,g.getHeight()-I,g)}static maybeEmbedPositionAdjustmentPatterns(g,C){if(g.getVersionNumber()<2)return;const B=g.getVersionNumber()-1,I=Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[B];for(let N=0,D=I.length;N!==D;N++){const $=I[N];if($>=0)for(let W=0;W!==D;W++){const J=I[W];J>=0&&Pt.isEmpty(C.get(J,$))&&Pt.embedPositionAdjustmentPattern(J-2,$-2,C)}}}}Pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pt.VERSION_INFO_POLY=7973,Pt.TYPE_INFO_POLY=1335,Pt.TYPE_INFO_MASK_PATTERN=21522;class Ql{constructor(g,C){this.dataBytes=g,this.errorCorrectionBytes=C}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pn{constructor(){}static calculateMaskPenalty(g){return Xn.applyMaskPenaltyRule1(g)+Xn.applyMaskPenaltyRule2(g)+Xn.applyMaskPenaltyRule3(g)+Xn.applyMaskPenaltyRule4(g)}static encode(g,C,B=null){let I=Pn.DEFAULT_BYTE_MODE_ENCODING;const N=B!==null&&B.get(rr.CHARACTER_SET)!==void 0;N&&(I=B.get(rr.CHARACTER_SET).toString());const D=this.chooseMode(g,I),$=new X;if(D===Dt.BYTE&&(N||Pn.DEFAULT_BYTE_MODE_ENCODING!==I)){const dt=oe.getCharacterSetECIByName(I);dt!==void 0&&this.appendECI(dt,$)}this.appendModeInfo(D,$);const W=new X;this.appendBytes(g,D,W,I);let J;if(B!==null&&B.get(rr.QR_VERSION)!==void 0){const dt=Number.parseInt(B.get(rr.QR_VERSION).toString(),10);J=Rt.getVersionForNumber(dt);const At=this.calculateBitsNeeded(D,$,W,J);if(!this.willFit(At,J,C))throw new _n("Data too big for requested version")}else J=this.recommendVersion(C,D,$,W);const le=new X;le.appendBitArray($);const fe=D===Dt.BYTE?W.getSizeInBytes():g.length;this.appendLengthInfo(fe,J,D,le),le.appendBitArray(W);const pe=J.getECBlocksForLevel(C),Be=J.getTotalCodewords()-pe.getTotalECCodewords();this.terminateBits(Be,le);const Ie=this.interleaveWithECBytes(le,J.getTotalCodewords(),Be,pe.getNumBlocks()),Ne=new Is;Ne.setECLevel(C),Ne.setMode(D),Ne.setVersion(J);const Le=J.getDimensionForVersion(),Ke=new ia(Le,Le),ft=this.chooseMaskPattern(Ie,C,J,Ke);return Ne.setMaskPattern(ft),Pt.buildMatrix(Ie,C,J,ft,Ke),Ne.setMatrix(Ke),Ne}static recommendVersion(g,C,B,I){const N=this.calculateBitsNeeded(C,B,I,Rt.getVersionForNumber(1)),D=this.chooseVersion(N,g),$=this.calculateBitsNeeded(C,B,I,D);return this.chooseVersion($,g)}static calculateBitsNeeded(g,C,B,I){return C.getSize()+g.getCharacterCountBits(I)+B.getSize()}static getAlphanumericCode(g){return g<Pn.ALPHANUMERIC_TABLE.length?Pn.ALPHANUMERIC_TABLE[g]:-1}static chooseMode(g,C=null){if(oe.SJIS.getName()===C&&this.isOnlyDoubleByteKanji(g))return Dt.KANJI;let B=!1,I=!1;for(let N=0,D=g.length;N<D;++N){const $=g.charAt(N);if(Pn.isDigit($))B=!0;else if(this.getAlphanumericCode($.charCodeAt(0))!==-1)I=!0;else return Dt.BYTE}return I?Dt.ALPHANUMERIC:B?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(g){let C;try{C=ve.encode(g,oe.SJIS)}catch{return!1}const B=C.length;if(B%2!==0)return!1;for(let I=0;I<B;I+=2){const N=C[I]&255;if((N<129||N>159)&&(N<224||N>235))return!1}return!0}static chooseMaskPattern(g,C,B,I){let N=Number.MAX_SAFE_INTEGER,D=-1;for(let $=0;$<Is.NUM_MASK_PATTERNS;$++){Pt.buildMatrix(g,C,B,$,I);let W=this.calculateMaskPenalty(I);W<N&&(N=W,D=$)}return D}static chooseVersion(g,C){for(let B=1;B<=40;B++){const I=Rt.getVersionForNumber(B);if(Pn.willFit(g,I,C))return I}throw new _n("Data too big")}static willFit(g,C,B){const I=C.getTotalCodewords(),D=C.getECBlocksForLevel(B).getTotalECCodewords(),$=I-D,W=(g+7)/8;return $>=W}static terminateBits(g,C){const B=g*8;if(C.getSize()>B)throw new _n("data bits cannot fit in the QR Code"+C.getSize()+" > "+B);for(let D=0;D<4&&C.getSize()<B;++D)C.appendBit(!1);const I=C.getSize()&7;if(I>0)for(let D=I;D<8;D++)C.appendBit(!1);const N=g-C.getSizeInBytes();for(let D=0;D<N;++D)C.appendBits((D&1)===0?236:17,8);if(C.getSize()!==B)throw new _n("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(g,C,B,I,N,D){if(I>=B)throw new _n("Block ID too large");const $=g%B,W=B-$,J=Math.floor(g/B),le=J+1,fe=Math.floor(C/B),pe=fe+1,Be=J-fe,Ie=le-pe;if(Be!==Ie)throw new _n("EC bytes mismatch");if(B!==W+$)throw new _n("RS blocks mismatch");if(g!==(fe+Be)*W+(pe+Ie)*$)throw new _n("Total bytes mismatch");I<W?(N[0]=fe,D[0]=Be):(N[0]=pe,D[0]=Ie)}static interleaveWithECBytes(g,C,B,I){if(g.getSizeInBytes()!==B)throw new _n("Number of bits and data bytes does not match");let N=0,D=0,$=0;const W=new Array;for(let le=0;le<I;++le){const fe=new Int32Array(1),pe=new Int32Array(1);Pn.getNumDataBytesAndNumECBytesForBlockID(C,B,I,le,fe,pe);const Be=fe[0],Ie=new Uint8Array(Be);g.toBytes(8*N,Ie,0,Be);const Ne=Pn.generateECBytes(Ie,pe[0]);W.push(new Ql(Ie,Ne)),D=Math.max(D,Be),$=Math.max($,Ne.length),N+=fe[0]}if(B!==N)throw new _n("Data bytes does not match offset");const J=new X;for(let le=0;le<D;++le)for(const fe of W){const pe=fe.getDataBytes();le<pe.length&&J.appendBits(pe[le],8)}for(let le=0;le<$;++le)for(const fe of W){const pe=fe.getErrorCorrectionBytes();le<pe.length&&J.appendBits(pe[le],8)}if(C!==J.getSizeInBytes())throw new _n("Interleaving error: "+C+" and "+J.getSizeInBytes()+" differ.");return J}static generateECBytes(g,C){const B=g.length,I=new Int32Array(B+C);for(let D=0;D<B;D++)I[D]=g[D]&255;new ki(gt.QR_CODE_FIELD_256).encode(I,C);const N=new Uint8Array(C);for(let D=0;D<C;D++)N[D]=I[B+D];return N}static appendModeInfo(g,C){C.appendBits(g.getBits(),4)}static appendLengthInfo(g,C,B,I){const N=B.getCharacterCountBits(C);if(g>=1<<N)throw new _n(g+" is bigger than "+((1<<N)-1));I.appendBits(g,N)}static appendBytes(g,C,B,I){switch(C){case Dt.NUMERIC:Pn.appendNumericBytes(g,B);break;case Dt.ALPHANUMERIC:Pn.appendAlphanumericBytes(g,B);break;case Dt.BYTE:Pn.append8BitBytes(g,B,I);break;case Dt.KANJI:Pn.appendKanjiBytes(g,B);break;default:throw new _n("Invalid mode: "+C)}}static getDigit(g){return g.charCodeAt(0)-48}static isDigit(g){const C=Pn.getDigit(g);return C>=0&&C<=9}static appendNumericBytes(g,C){const B=g.length;let I=0;for(;I<B;){const N=Pn.getDigit(g.charAt(I));if(I+2<B){const D=Pn.getDigit(g.charAt(I+1)),$=Pn.getDigit(g.charAt(I+2));C.appendBits(N*100+D*10+$,10),I+=3}else if(I+1<B){const D=Pn.getDigit(g.charAt(I+1));C.appendBits(N*10+D,7),I+=2}else C.appendBits(N,4),I++}}static appendAlphanumericBytes(g,C){const B=g.length;let I=0;for(;I<B;){const N=Pn.getAlphanumericCode(g.charCodeAt(I));if(N===-1)throw new _n;if(I+1<B){const D=Pn.getAlphanumericCode(g.charCodeAt(I+1));if(D===-1)throw new _n;C.appendBits(N*45+D,11),I+=2}else C.appendBits(N,6),I++}}static append8BitBytes(g,C,B){let I;try{I=ve.encode(g,B)}catch(N){throw new _n(N)}for(let N=0,D=I.length;N!==D;N++){const $=I[N];C.appendBits($,8)}}static appendKanjiBytes(g,C){let B;try{B=ve.encode(g,oe.SJIS)}catch(N){throw new _n(N)}const I=B.length;for(let N=0;N<I;N+=2){const D=B[N]&255,$=B[N+1]&255,W=D<<8&4294967295|$;let J=-1;if(W>=33088&&W<=40956?J=W-33088:W>=57408&&W<=60351&&(J=W-49472),J===-1)throw new _n("Invalid byte sequence");const le=(J>>8)*192+(J&255);C.appendBits(le,13)}}static appendECI(g,C){C.appendBits(Dt.ECI.getBits(),4),C.appendBits(g.getValue(),8)}}Pn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pn.DEFAULT_BYTE_MODE_ENCODING=oe.UTF8.getName();class Ns{write(g,C,B,I=null){if(g.length===0)throw new S("Found empty contents");if(C<0||B<0)throw new S("Requested dimensions are too small: "+C+"x"+B);let N=sn.L,D=Ns.QUIET_ZONE_SIZE;I!==null&&(I.get(rr.ERROR_CORRECTION)!==void 0&&(N=sn.fromString(I.get(rr.ERROR_CORRECTION).toString())),I.get(rr.MARGIN)!==void 0&&(D=Number.parseInt(I.get(rr.MARGIN).toString(),10)));const $=Pn.encode(g,N,I);return this.renderResult($,C,B,D)}writeToDom(g,C,B,I,N=null){typeof g=="string"&&(g=document.querySelector(g));const D=this.write(C,B,I,N);g&&g.appendChild(D)}renderResult(g,C,B,I){const N=g.getMatrix();if(N===null)throw new an;const D=N.getWidth(),$=N.getHeight(),W=D+I*2,J=$+I*2,le=Math.max(C,W),fe=Math.max(B,J),pe=Math.min(Math.floor(le/W),Math.floor(fe/J)),Be=Math.floor((le-D*pe)/2),Ie=Math.floor((fe-$*pe)/2),Ne=this.createSVGElement(le,fe);for(let Le=0,Ke=Ie;Le<$;Le++,Ke+=pe)for(let ft=0,dt=Be;ft<D;ft++,dt+=pe)if(N.get(ft,Le)===1){const At=this.createSvgRectElement(dt,Ke,pe,pe);Ne.appendChild(At)}return Ne}createSVGElement(g,C){const B=document.createElementNS(Ns.SVG_NS,"svg");return B.setAttributeNS(null,"height",g.toString()),B.setAttributeNS(null,"width",C.toString()),B}createSvgRectElement(g,C,B,I){const N=document.createElementNS(Ns.SVG_NS,"rect");return N.setAttributeNS(null,"x",g.toString()),N.setAttributeNS(null,"y",C.toString()),N.setAttributeNS(null,"height",B.toString()),N.setAttributeNS(null,"width",I.toString()),N.setAttributeNS(null,"fill","#000000"),N}}Ns.QUIET_ZONE_SIZE=4,Ns.SVG_NS="http://www.w3.org/2000/svg";class si{encode(g,C,B,I,N){if(g.length===0)throw new S("Found empty contents");if(C!==Me.QR_CODE)throw new S("Can only encode QR_CODE, but got "+C);if(B<0||I<0)throw new S(`Requested dimensions are too small: ${B}x${I}`);let D=sn.L,$=si.QUIET_ZONE_SIZE;N!==null&&(N.get(rr.ERROR_CORRECTION)!==void 0&&(D=sn.fromString(N.get(rr.ERROR_CORRECTION).toString())),N.get(rr.MARGIN)!==void 0&&($=Number.parseInt(N.get(rr.MARGIN).toString(),10)));const W=Pn.encode(g,D,N);return si.renderResult(W,B,I,$)}static renderResult(g,C,B,I){const N=g.getMatrix();if(N===null)throw new an;const D=N.getWidth(),$=N.getHeight(),W=D+I*2,J=$+I*2,le=Math.max(C,W),fe=Math.max(B,J),pe=Math.min(Math.floor(le/W),Math.floor(fe/J)),Be=Math.floor((le-D*pe)/2),Ie=Math.floor((fe-$*pe)/2),Ne=new Ee(le,fe);for(let Le=0,Ke=Ie;Le<$;Le++,Ke+=pe)for(let ft=0,dt=Be;ft<D;ft++,dt+=pe)N.get(ft,Le)===1&&Ne.setRegion(dt,Ke,pe,pe);return Ne}}si.QUIET_ZONE_SIZE=4;class Vl{encode(g,C,B,I,N){let D;switch(C){case Me.QR_CODE:D=new si;break;default:throw new S("No encoder available for format "+C)}return D.encode(g,C,B,I,N)}}class rs extends te{constructor(g,C,B,I,N,D,$,W){if(super(D,$),this.yuvData=g,this.dataWidth=C,this.dataHeight=B,this.left=I,this.top=N,I+D>C||N+$>B)throw new S("Crop rectangle does not fit within image data.");W&&this.reverseHorizontal(D,$)}getRow(g,C){if(g<0||g>=this.getHeight())throw new S("Requested row is outside the image: "+g);const B=this.getWidth();(C==null||C.length<B)&&(C=new Uint8ClampedArray(B));const I=(g+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,I,C,0,B),C}getMatrix(){const g=this.getWidth(),C=this.getHeight();if(g===this.dataWidth&&C===this.dataHeight)return this.yuvData;const B=g*C,I=new Uint8ClampedArray(B);let N=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return j.arraycopy(this.yuvData,N,I,0,B),I;for(let D=0;D<C;D++){const $=D*g;j.arraycopy(this.yuvData,N,I,$,g),N+=this.dataWidth}return I}isCropSupported(){return!0}crop(g,C,B,I){return new rs(this.yuvData,this.dataWidth,this.dataHeight,this.left+g,this.top+C,B,I,!1)}renderThumbnail(){const g=this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR,C=this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR,B=new Int32Array(g*C),I=this.yuvData;let N=this.top*this.dataWidth+this.left;for(let D=0;D<C;D++){const $=D*g;for(let W=0;W<g;W++){const J=I[N+W*rs.THUMBNAIL_SCALE_FACTOR]&255;B[$+W]=4278190080|J*65793}N+=this.dataWidth*rs.THUMBNAIL_SCALE_FACTOR}return B}getThumbnailWidth(){return this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(g,C){const B=this.yuvData;for(let I=0,N=this.top*this.dataWidth+this.left;I<C;I++,N+=this.dataWidth){const D=N+g/2;for(let $=N,W=N+g-1;$<D;$++,W--){const J=B[$];B[$]=B[W],B[W]=J}}}invert(){return new se(this)}}rs.THUMBNAIL_SCALE_FACTOR=2;class Ha extends te{constructor(g,C,B,I,N,D,$){if(super(C,B),this.dataWidth=I,this.dataHeight=N,this.left=D,this.top=$,g.BYTES_PER_ELEMENT===4){const W=C*B,J=new Uint8ClampedArray(W);for(let le=0;le<W;le++){const fe=g[le],pe=fe>>16&255,Be=fe>>7&510,Ie=fe&255;J[le]=(pe+Be+Ie)/4&255}this.luminances=J}else this.luminances=g;if(I===void 0&&(this.dataWidth=C),N===void 0&&(this.dataHeight=B),D===void 0&&(this.left=0),$===void 0&&(this.top=0),this.left+C>this.dataWidth||this.top+B>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(g,C){if(g<0||g>=this.getHeight())throw new S("Requested row is outside the image: "+g);const B=this.getWidth();(C==null||C.length<B)&&(C=new Uint8ClampedArray(B));const I=(g+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,I,C,0,B),C}getMatrix(){const g=this.getWidth(),C=this.getHeight();if(g===this.dataWidth&&C===this.dataHeight)return this.luminances;const B=g*C,I=new Uint8ClampedArray(B);let N=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return j.arraycopy(this.luminances,N,I,0,B),I;for(let D=0;D<C;D++){const $=D*g;j.arraycopy(this.luminances,N,I,$,g),N+=this.dataWidth}return I}isCropSupported(){return!0}crop(g,C,B,I){return new Ha(this.luminances,B,I,this.dataWidth,this.dataHeight,this.left+g,this.top+C)}invert(){return new se(this)}}class Io extends oe{static forName(g){return this.getCharacterSetECIByName(g)}}class Mi{}Mi.ISO_8859_1=oe.ISO8859_1;class ii{isCompact(){return this.compact}setCompact(g){this.compact=g}getSize(){return this.size}setSize(g){this.size=g}getLayers(){return this.layers}setLayers(g){this.layers=g}getCodeWords(){return this.codeWords}setCodeWords(g){this.codeWords=g}getMatrix(){return this.matrix}setMatrix(g){this.matrix=g}}class No{static singletonList(g){return[g]}static min(g,C){return g.sort(C)[0]}}class Fo{constructor(g){this.previous=g}getPrevious(){return this.previous}}class Fs extends Fo{constructor(g,C,B){super(g),this.value=C,this.bitCount=B}appendTo(g,C){g.appendBits(this.value,this.bitCount)}add(g,C){return new Fs(this,g,C)}addBinaryShift(g,C){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fs(this,g,C)}toString(){let g=this.value&(1<<this.bitCount)-1;return g|=1<<this.bitCount,"<"+H.toBinaryString(g|1<<this.bitCount).substring(1)+">"}}class aa extends Fs{constructor(g,C,B){super(g,0,0),this.binaryShiftStart=C,this.binaryShiftByteCount=B}appendTo(g,C){for(let B=0;B<this.binaryShiftByteCount;B++)(B===0||B===31&&this.binaryShiftByteCount<=62)&&(g.appendBits(31,5),this.binaryShiftByteCount>62?g.appendBits(this.binaryShiftByteCount-31,16):B===0?g.appendBits(Math.min(this.binaryShiftByteCount,31),5):g.appendBits(this.binaryShiftByteCount-31,5)),g.appendBits(C[this.binaryShiftStart+B],8)}addBinaryShift(g,C){return new aa(this,g,C)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ko(de,g,C){return new aa(de,g,C)}function ai(de,g,C){return new Fs(de,g,C)}const oi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bs=0,oa=1,Dr=2,Qa=3,zr=4,Oi=new Fs(null,0,0),ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function zl(de){for(let g of de)Q.fill(g,-1);return de[bs][zr]=0,de[oa][zr]=0,de[oa][bs]=28,de[Qa][zr]=0,de[Dr][zr]=0,de[Dr][bs]=15,de}const Di=zl(Q.createInt32Array(6,6));class Gr{constructor(g,C,B,I){this.token=g,this.mode=C,this.binaryShiftByteCount=B,this.bitCount=I}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(g,C){let B=this.bitCount,I=this.token;if(g!==this.mode){let D=ks[this.mode][g];I=ai(I,D&65535,D>>16),B+=D>>16}let N=g===Dr?4:5;return I=ai(I,C,N),new Gr(I,g,0,B+N)}shiftAndAppend(g,C){let B=this.token,I=this.mode===Dr?4:5;return B=ai(B,Di[this.mode][g],I),B=ai(B,C,5),new Gr(B,this.mode,0,this.bitCount+I+5)}addBinaryShiftChar(g){let C=this.token,B=this.mode,I=this.bitCount;if(this.mode===zr||this.mode===Dr){let $=ks[B][bs];C=ai(C,$&65535,$>>16),I+=$>>16,B=bs}let N=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,D=new Gr(C,B,this.binaryShiftByteCount+1,I+N);return D.binaryShiftByteCount===2078&&(D=D.endBinaryShift(g+1)),D}endBinaryShift(g){if(this.binaryShiftByteCount===0)return this;let C=this.token;return C=ko(C,g-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gr(C,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(g){let C=this.bitCount+(ks[this.mode][g.mode]>>16);return this.binaryShiftByteCount<g.binaryShiftByteCount?C+=Gr.calculateBinaryShiftCost(g)-Gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>g.binaryShiftByteCount&&g.binaryShiftByteCount>0&&(C+=10),C<=g.bitCount}toBitArray(g){let C=[];for(let I=this.endBinaryShift(g.length).token;I!==null;I=I.getPrevious())C.unshift(I);let B=new X;for(const I of C)I.appendTo(B,g);return B}toString(){return me.format("%s bits=%d bytes=%d",oi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(g){return g.binaryShiftByteCount>62?21:g.binaryShiftByteCount>31?20:g.binaryShiftByteCount>0?10:0}}Gr.INITIAL_STATE=new Gr(Oi,bs,0,0);function Mo(de){const g=me.getCharCode(" "),C=me.getCharCode("."),B=me.getCharCode(",");de[bs][g]=1;const I=me.getCharCode("Z"),N=me.getCharCode("A");for(let pe=N;pe<=I;pe++)de[bs][pe]=pe-N+2;de[oa][g]=1;const D=me.getCharCode("z"),$=me.getCharCode("a");for(let pe=$;pe<=D;pe++)de[oa][pe]=pe-$+2;de[Dr][g]=1;const W=me.getCharCode("9"),J=me.getCharCode("0");for(let pe=J;pe<=W;pe++)de[Dr][pe]=pe-J+2;de[Dr][B]=12,de[Dr][C]=13;const le=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let pe=0;pe<le.length;pe++)de[Qa][me.getCharCode(le[pe])]=pe;const fe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let pe=0;pe<fe.length;pe++)me.getCharCode(fe[pe])>0&&(de[zr][me.getCharCode(fe[pe])]=pe);return de}const Li=Mo(Q.createInt32Array(5,256));class Ms{constructor(g){this.text=g}encode(){const g=me.getCharCode(" "),C=me.getCharCode(`
`);let B=No.singletonList(Gr.INITIAL_STATE);for(let N=0;N<this.text.length;N++){let D,$=N+1<this.text.length?this.text[N+1]:0;switch(this.text[N]){case me.getCharCode("\r"):D=$===C?2:0;break;case me.getCharCode("."):D=$===g?3:0;break;case me.getCharCode(","):D=$===g?4:0;break;case me.getCharCode(":"):D=$===g?5:0;break;default:D=0}D>0?(B=Ms.updateStateListForPair(B,N,D),N++):B=this.updateStateListForChar(B,N)}return No.min(B,(N,D)=>N.getBitCount()-D.getBitCount()).toBitArray(this.text)}updateStateListForChar(g,C){const B=[];for(let I of g)this.updateStateForChar(I,C,B);return Ms.simplifyStates(B)}updateStateForChar(g,C,B){let I=this.text[C]&255,N=Li[g.getMode()][I]>0,D=null;for(let $=0;$<=zr;$++){let W=Li[$][I];if(W>0){if(D==null&&(D=g.endBinaryShift(C)),!N||$===g.getMode()||$===Dr){const J=D.latchAndAppend($,W);B.push(J)}if(!N&&Di[g.getMode()][$]>=0){const J=D.shiftAndAppend($,W);B.push(J)}}}if(g.getBinaryShiftByteCount()>0||Li[g.getMode()][I]===0){let $=g.addBinaryShiftChar(C);B.push($)}}static updateStateListForPair(g,C,B){const I=[];for(let N of g)this.updateStateForPair(N,C,B,I);return this.simplifyStates(I)}static updateStateForPair(g,C,B,I){let N=g.endBinaryShift(C);if(I.push(N.latchAndAppend(zr,B)),g.getMode()!==zr&&I.push(N.shiftAndAppend(zr,B)),B===3||B===4){let D=N.latchAndAppend(Dr,16-B).latchAndAppend(Dr,1);I.push(D)}if(g.getBinaryShiftByteCount()>0){let D=g.addBinaryShiftChar(C).addBinaryShiftChar(C+1);I.push(D)}}static simplifyStates(g){let C=[];for(const B of g){let I=!0;for(const N of C){if(N.isBetterThanOrEqualTo(B)){I=!1;break}B.isBetterThanOrEqualTo(N)&&(C=C.filter(D=>D!==N))}I&&C.push(B)}return C}}class fn{constructor(){}static encodeBytes(g){return fn.encode(g,fn.DEFAULT_EC_PERCENT,fn.DEFAULT_AZTEC_LAYERS)}static encode(g,C,B){let I=new Ms(g).encode(),N=H.truncDivision(I.getSize()*C,100)+11,D=I.getSize()+N,$,W,J,le,fe;if(B!==fn.DEFAULT_AZTEC_LAYERS){if($=B<0,W=Math.abs(B),W>($?fn.MAX_NB_BITS_COMPACT:fn.MAX_NB_BITS))throw new S(me.format("Illegal value %s for layers",B));J=fn.totalBitsInLayer(W,$),le=fn.WORD_SIZE[W];let At=J-J%le;if(fe=fn.stuffBits(I,le),fe.getSize()+N>At)throw new S("Data to large for user specified layer");if($&&fe.getSize()>le*64)throw new S("Data to large for user specified layer")}else{le=0,fe=null;for(let At=0;;At++){if(At>fn.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if($=At<=3,W=$?At+1:At,J=fn.totalBitsInLayer(W,$),D>J)continue;(fe==null||le!==fn.WORD_SIZE[W])&&(le=fn.WORD_SIZE[W],fe=fn.stuffBits(I,le));let tn=J-J%le;if(!($&&fe.getSize()>le*64)&&fe.getSize()+N<=tn)break}}let pe=fn.generateCheckWords(fe,J,le),Be=fe.getSize()/le,Ie=fn.generateModeMessage($,W,Be),Ne=($?11:14)+W*4,Le=new Int32Array(Ne),Ke;if($){Ke=Ne;for(let At=0;At<Le.length;At++)Le[At]=At}else{Ke=Ne+1+2*H.truncDivision(H.truncDivision(Ne,2)-1,15);let At=H.truncDivision(Ne,2),tn=H.truncDivision(Ke,2);for(let Kt=0;Kt<At;Kt++){let Jn=Kt+H.truncDivision(Kt,15);Le[At-Kt-1]=tn-Jn-1,Le[At+Kt]=tn+Jn+1}}let ft=new Ee(Ke);for(let At=0,tn=0;At<W;At++){let Kt=(W-At)*4+($?9:12);for(let Jn=0;Jn<Kt;Jn++){let Lr=Jn*2;for(let vr=0;vr<2;vr++)pe.get(tn+Lr+vr)&&ft.set(Le[At*2+vr],Le[At*2+Jn]),pe.get(tn+Kt*2+Lr+vr)&&ft.set(Le[At*2+Jn],Le[Ne-1-At*2-vr]),pe.get(tn+Kt*4+Lr+vr)&&ft.set(Le[Ne-1-At*2-vr],Le[Ne-1-At*2-Jn]),pe.get(tn+Kt*6+Lr+vr)&&ft.set(Le[Ne-1-At*2-Jn],Le[At*2+vr])}tn+=Kt*8}if(fn.drawModeMessage(ft,$,Ke,Ie),$)fn.drawBullsEye(ft,H.truncDivision(Ke,2),5);else{fn.drawBullsEye(ft,H.truncDivision(Ke,2),7);for(let At=0,tn=0;At<H.truncDivision(Ne,2)-1;At+=15,tn+=16)for(let Kt=H.truncDivision(Ke,2)&1;Kt<Ke;Kt+=2)ft.set(H.truncDivision(Ke,2)-tn,Kt),ft.set(H.truncDivision(Ke,2)+tn,Kt),ft.set(Kt,H.truncDivision(Ke,2)-tn),ft.set(Kt,H.truncDivision(Ke,2)+tn)}let dt=new ii;return dt.setCompact($),dt.setSize(Ke),dt.setLayers(W),dt.setCodeWords(Be),dt.setMatrix(ft),dt}static drawBullsEye(g,C,B){for(let I=0;I<B;I+=2)for(let N=C-I;N<=C+I;N++)g.set(N,C-I),g.set(N,C+I),g.set(C-I,N),g.set(C+I,N);g.set(C-B,C-B),g.set(C-B+1,C-B),g.set(C-B,C-B+1),g.set(C+B,C-B),g.set(C+B,C-B+1),g.set(C+B,C+B-1)}static generateModeMessage(g,C,B){let I=new X;return g?(I.appendBits(C-1,2),I.appendBits(B-1,6),I=fn.generateCheckWords(I,28,4)):(I.appendBits(C-1,5),I.appendBits(B-1,11),I=fn.generateCheckWords(I,40,4)),I}static drawModeMessage(g,C,B,I){let N=H.truncDivision(B,2);if(C)for(let D=0;D<7;D++){let $=N-3+D;I.get(D)&&g.set($,N-5),I.get(D+7)&&g.set(N+5,$),I.get(20-D)&&g.set($,N+5),I.get(27-D)&&g.set(N-5,$)}else for(let D=0;D<10;D++){let $=N-5+D+H.truncDivision(D,5);I.get(D)&&g.set($,N-7),I.get(D+10)&&g.set(N+7,$),I.get(29-D)&&g.set($,N+7),I.get(39-D)&&g.set(N-7,$)}}static generateCheckWords(g,C,B){let I=g.getSize()/B,N=new ki(fn.getGF(B)),D=H.truncDivision(C,B),$=fn.bitsToWords(g,B,D);N.encode($,D-I);let W=C%B,J=new X;J.appendBits(0,W);for(const le of Array.from($))J.appendBits(le,B);return J}static bitsToWords(g,C,B){let I=new Int32Array(B),N,D;for(N=0,D=g.getSize()/C;N<D;N++){let $=0;for(let W=0;W<C;W++)$|=g.get(N*C+W)?1<<C-W-1:0;I[N]=$}return I}static getGF(g){switch(g){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new S("Unsupported word size "+g)}}static stuffBits(g,C){let B=new X,I=g.getSize(),N=(1<<C)-2;for(let D=0;D<I;D+=C){let $=0;for(let W=0;W<C;W++)(D+W>=I||g.get(D+W))&&($|=1<<C-1-W);($&N)===N?(B.appendBits($&N,C),D--):($&N)===0?(B.appendBits($|1,C),D--):B.appendBits($,C)}return B}static totalBitsInLayer(g,C){return((C?88:112)+16*g)*g}}fn.DEFAULT_EC_PERCENT=33,fn.DEFAULT_AZTEC_LAYERS=0,fn.MAX_NB_BITS=32,fn.MAX_NB_BITS_COMPACT=4,fn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ji{encode(g,C,B,I){return this.encodeWithHints(g,C,B,I,null)}encodeWithHints(g,C,B,I,N){let D=Mi.ISO_8859_1,$=fn.DEFAULT_EC_PERCENT,W=fn.DEFAULT_AZTEC_LAYERS;return N!=null&&(N.has(rr.CHARACTER_SET)&&(D=Io.forName(N.get(rr.CHARACTER_SET).toString())),N.has(rr.ERROR_CORRECTION)&&($=H.parseInt(N.get(rr.ERROR_CORRECTION).toString())),N.has(rr.AZTEC_LAYERS)&&(W=H.parseInt(N.get(rr.AZTEC_LAYERS).toString()))),ji.encodeLayers(g,C,B,I,D,$,W)}static encodeLayers(g,C,B,I,N,D,$){if(C!==Me.AZTEC)throw new S("Can only encode AZTEC, but got "+C);let W=fn.encode(me.getBytes(g,N),D,$);return ji.renderResult(W,B,I)}static renderResult(g,C,B){let I=g.getMatrix();if(I==null)throw new an;let N=I.getWidth(),D=I.getHeight(),$=Math.max(C,N),W=Math.max(B,D),J=Math.min($/N,W/D),le=($-N*J)/2,fe=(W-D*J)/2,pe=new Ee($,W);for(let Be=0,Ie=fe;Be<D;Be++,Ie+=J)for(let Ne=0,Le=le;Ne<N;Ne++,Le+=J)I.get(Ne,Be)&&pe.setRegion(Le,Ie,J,J);return pe}}r.AbstractExpandedDecoder=vt,r.ArgumentException=b,r.ArithmeticException=Ut,r.AztecCode=ii,r.AztecCodeReader=Wt,r.AztecCodeWriter=ji,r.AztecDecoder=$t,r.AztecDetector=Mt,r.AztecDetectorResult=On,r.AztecEncoder=fn,r.AztecHighLevelEncoder=Ms,r.AztecPoint=bt,r.BarcodeFormat=Me,r.Binarizer=M,r.BinaryBitmap=R,r.BitArray=X,r.BitMatrix=Ee,r.BitSource=xr,r.BrowserAztecCodeReader=Xe,r.BrowserBarcodeReader=Js,r.BrowserCodeReader=Se,r.BrowserDatamatrixCodeReader=Ji,r.BrowserMultiFormatReader=Ro,r.BrowserPDF417Reader=Ul,r.BrowserQRCodeReader=Hl,r.BrowserQRCodeSvgWriter=Ns,r.CharacterSetECI=oe,r.ChecksumException=k,r.Code128Reader=$e,r.Code39Reader=ut,r.DataMatrixDecodedBitStreamParser=Qr,r.DataMatrixReader=fs,r.DecodeHintType=ne,r.DecoderResult=Ct,r.DefaultGridSampler=Ye,r.DetectorResult=Kn,r.EAN13Reader=mn,r.EncodeHintType=rr,r.Exception=x,r.FormatException=Y,r.GenericGF=gt,r.GenericGFPoly=mt,r.GlobalHistogramBinarizer=ae,r.GridSampler=Pe,r.GridSamplerInstance=Je,r.HTMLCanvasElementLuminanceSource=Ce,r.HybridBinarizer=ue,r.ITFReader=lt,r.IllegalArgumentException=S,r.IllegalStateException=an,r.InvertedLuminanceSource=se,r.LuminanceSource=te,r.MathUtils=Ot,r.MultiFormatOneDReader=gr,r.MultiFormatReader=To,r.MultiFormatWriter=Vl,r.NotFoundException=he,r.OneDReader=ze,r.PDF417DecodedBitStreamParser=We,r.PDF417DecoderErrorCorrection=ps,r.PDF417Reader=hr,r.PDF417ResultMetadata=ri,r.PerspectiveTransform=Fe,r.PlanarYUVLuminanceSource=rs,r.QRCodeByteMatrix=ia,r.QRCodeDataMask=Rr,r.QRCodeDecodedBitStreamParser=Ln,r.QRCodeDecoderErrorCorrectionLevel=sn,r.QRCodeDecoderFormatInformation=ar,r.QRCodeEncoder=Pn,r.QRCodeEncoderQRCode=Is,r.QRCodeMaskUtil=Xn,r.QRCodeMatrixUtil=Pt,r.QRCodeMode=Dt,r.QRCodeReader=hs,r.QRCodeVersion=Rt,r.QRCodeWriter=si,r.RGBLuminanceSource=Ha,r.RSS14Reader=ln,r.RSSExpandedReader=ct,r.ReaderException=sa,r.ReedSolomonDecoder=Un,r.ReedSolomonEncoder=ki,r.ReedSolomonException=xt,r.Result=_e,r.ResultMetadataType=ot,r.ResultPoint=pt,r.StringUtils=me,r.UnsupportedOperationException=xe,r.VideoInputDevice=ce,r.WhiteRectangleDetector=it,r.WriterException=_n,r.ZXingArrays=Q,r.ZXingCharset=Io,r.ZXingInteger=H,r.ZXingStandardCharsets=Mi,r.ZXingStringBuilder=we,r.ZXingStringEncoding=ve,r.ZXingSystem=j,r.createAbstractExpandedDecoder=Mr,Object.defineProperty(r,"__esModule",{value:!0})}))})(zxingJs_umd$2,zxingJs_umd$2.exports)),zxingJs_umd$2.exports}var zxingJs_umdExports=requireZxingJs_umd();const zxingJs_umd=getDefaultExportFromCjs(zxingJs_umdExports),ZXing=_mergeNamespaces({__proto__:null,default:zxingJs_umd},[zxingJs_umdExports]);var ZXingHtml5QrcodeDecoder=(function(){function t(n,r,s){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,zxingJs_umdExports.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,zxingJs_umdExports.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,zxingJs_umdExports.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,zxingJs_umdExports.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,zxingJs_umdExports.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,zxingJs_umdExports.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,zxingJs_umdExports.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,zxingJs_umdExports.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,zxingJs_umdExports.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,zxingJs_umdExports.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,zxingJs_umdExports.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,zxingJs_umdExports.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,zxingJs_umdExports.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,zxingJs_umdExports.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,zxingJs_umdExports.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,zxingJs_umdExports.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,zxingJs_umdExports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var o=this.createZXingFormats(n),l=new Map;l.set(zxingJs_umdExports.DecodeHintType.POSSIBLE_FORMATS,o),l.set(zxingJs_umdExports.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(n){var r=this;return new Promise(function(s,o){try{s(r.decode(n))}catch(l){o(l)}})},t.prototype.decode=function(n){var r=new zxingJs_umdExports.MultiFormatReader(this.verbose,this.hints),s=new zxingJs_umdExports.HTMLCanvasElementLuminanceSource(n),o=new zxingJs_umdExports.BinaryBitmap(new zxingJs_umdExports.HybridBinarizer(s)),l=r.decode(o);return{text:l.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(r,s,o){n.set(r,s)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var r=[],s=0,o=n;s<o.length;s++){var l=o[s];this.formatMap.has(l)?r.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),__awaiter$6=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$5=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},BarcodeDetectorDelegate=(function(){function t(n,r,s){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[Html5QrcodeSupportedFormats.AZTEC,"aztec"],[Html5QrcodeSupportedFormats.CODABAR,"codabar"],[Html5QrcodeSupportedFormats.CODE_39,"code_39"],[Html5QrcodeSupportedFormats.CODE_93,"code_93"],[Html5QrcodeSupportedFormats.CODE_128,"code_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[Html5QrcodeSupportedFormats.ITF,"itf"],[Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var o=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return __awaiter$6(this,void 0,void 0,function(){var r,s;return __generator$5(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(n)];case 1:if(r=o.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var r=null,s=0,o=0,l=n;o<l.length;o++){var c=l[o],p=c.boundingBox.width*c.boundingBox.height;p>s&&(s=p,r=c)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(n){for(var r=[],s=0,o=n;s<o.length;s++){var l=o[s];this.formatMap.has(l)?r.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(r,s,o){n.set(r,s)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),__awaiter$5=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$4=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Html5QrcodeShim=(function(){function t(n,r,s,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(n,s,o),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(n,s,o)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(n,s,o)}return t.prototype.decodeAsync=function(n){return __awaiter$5(this,void 0,void 0,function(){var r;return __generator$4(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return __awaiter$5(this,void 0,void 0,function(){var r,s;return __generator$4(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,o.sent()];case 3:if(s=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var r=performance.now()-n;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,r=0,s=this.executionResults;r<s.length;r++){var o=s[r];n+=o}var l=n/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),__extends$2=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function s(){this.constructor=n}n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),__awaiter$4=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$3=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},AbstractCameraCapability=(function(){function t(n,r){this.name=n,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var r=n[this.name];return r}return null},t})(),AbstractRangeCameraCapability=(function(t){__extends$2(n,t);function n(r,s){return t.call(this,r,s)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(r){var s={};s[this.name]=r;var o={advanced:[s]};return this.track.applyConstraints(o)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n})(AbstractCameraCapability),ZoomFeatureImpl=(function(t){__extends$2(n,t);function n(r){return t.call(this,"zoom",r)||this}return n})(AbstractRangeCameraCapability),TorchFeatureImpl=(function(t){__extends$2(n,t);function n(r){return t.call(this,"torch",r)||this}return n})(AbstractCameraCapability),CameraCapabilitiesImpl=(function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new ZoomFeatureImpl(this.track)},t.prototype.torchFeature=function(){return new TorchFeatureImpl(this.track)},t})(),RenderedCameraImpl=(function(){function t(n,r,s){this.isClosed=!1,this.parentElement=n,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var r=document.createElement("video");return r.style.width="".concat(n,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=n.surface.clientWidth,o=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(s,o),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,r,s,o){return __awaiter$4(this,void 0,void 0,function(){var l,c;return __generator$3(this,function(p){switch(p.label){case 0:return l=new t(n,r,o),s.aspectRatio?(c={aspectRatio:s.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var r=this,s=function(){setTimeout(n,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(r){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(r,s){var o=n.mediaStream.getVideoTracks(),l=o.length,c=0;n.mediaStream.getVideoTracks().forEach(function(p){n.mediaStream.removeTrack(p),p.stop(),++c,c>=l&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),r())})})},t.prototype.getCapabilities=function(){return new CameraCapabilitiesImpl(this.getFirstTrackOrFail())},t})(),CameraImpl=(function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,r,s){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(o){return[2,RenderedCameraImpl.create(n,this.mediaStream,r,s)]})})},t.create=function(n){return __awaiter$4(this,void 0,void 0,function(){var r,s;return __generator$3(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=o.sent(),[2,new t(s)]}})})},t})(),__awaiter$3=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$2=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},CameraFactory=(function(){function t(){}return t.failIfNotSupported=function(){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,CameraImpl.create(n)]})})},t})(),__awaiter$2=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$1=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},CameraRetriever=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=Html5QrcodeStrings.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=Html5QrcodeStrings.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return __awaiter$2(this,void 0,void 0,function(){var n,r,s,o,l,c,p;return __generator$1(this,function(m){switch(m.label){case 0:return n=function(x){for(var b=x.getVideoTracks(),S=0,R=b;S<R.length;S++){var k=R[S];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=m.sent(),o=[],l=0,c=s;l<c.length;l++)p=c[l],p.kind==="videoinput"&&o.push({id:p.deviceId,label:p.label});return n(r),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,r){var s=function(l){for(var c=[],p=0,m=l;p<m.length;p++){var x=m[p];x.kind==="video"&&c.push({id:x.id,label:x.label})}n(c)},o=MediaStreamTrack;o.getSources(s)})},t})(),Html5QrcodeScannerState;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Html5QrcodeScannerState||(Html5QrcodeScannerState={}));var StateManagerImpl=(function(){function t(){this.state=Html5QrcodeScannerState.NOT_STARTED,this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Html5QrcodeScannerState.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Html5QrcodeScannerState.UNKNOWN:throw"Transition from unknown is not allowed";case Html5QrcodeScannerState.NOT_STARTED:this.failIfNewStateIs(n,[Html5QrcodeScannerState.PAUSED]);break;case Html5QrcodeScannerState.SCANNING:break;case Html5QrcodeScannerState.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,r){for(var s=0,o=r;s<o.length;s++){var l=o[s];if(n===l)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t})(),StateManagerProxy=(function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Html5QrcodeScannerState.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Html5QrcodeScannerState.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Html5QrcodeScannerState.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Html5QrcodeScannerState.PAUSED},t})(),StateManagerFactory=(function(){function t(){}return t.create=function(){return new StateManagerProxy(new StateManagerImpl)},t})(),__extends$1=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function s(){this.constructor=n}n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Constants=(function(t){__extends$1(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n})(Html5QrcodeConstants),InternalHtml5QrcodeConfig=(function(){function t(n,r){this.logger=r,this.fps=Constants.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Constants.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!isNullOrUndefined(this.qrbox)},t.create=function(n,r){return new t(n,r)},t})(),Html5Qrcode=(function(){function t(n,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var s;typeof r=="boolean"?this.verbose=r===!0:r&&(s=r,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new BaseLoggger(this.verbose),this.qrcode=new Html5QrcodeShim(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=StateManagerFactory.create()}return t.prototype.start=function(n,r,s,o){var l=this;if(!n)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;o?c=o:c=this.verbose?this.logger.log:function(){};var p=InternalHtml5QrcodeConfig.create(r,this.logger);this.clearElement();var m=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Constants.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var S=this,R=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);return new Promise(function(k,M){var j=x?p.videoConstraints:S.createVideoConstraints(n);if(!j){R.cancel(),M("videoConstraints should be defined");return}var G={};(!x||p.aspectRatio)&&(G.aspectRatio=p.aspectRatio);var P={onRenderSurfaceReady:function(Q,H){S.setupUi(Q,H,p),S.isScanning=!0,S.foreverScan(p,s,c)}};CameraFactory.failIfNotSupported().then(function(Q){Q.create(j).then(function(H){return H.render(l.element,G,P).then(function(X){S.renderedCamera=X,R.execute(),k(null)}).catch(function(X){R.cancel(),M(X)})}).catch(function(H){R.cancel(),M(Html5QrcodeStrings.errorGettingUserMedia(H))})}).catch(function(Q){R.cancel(),M(Html5QrcodeStrings.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED),this.showPausedState(),(isNullOrUndefined(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,r=function(){n.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(n.element){var l=document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);l&&n.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),s(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),r.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,r){return this.scanFileV2(n,r).then(function(s){return s.decodedText})},t.prototype.scanFileV2=function(n,r){var s=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(isNullOrUndefined(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(n);var c=new Image;c.onload=function(){var p=c.width,m=c.height,x=document.getElementById(s.elementId),b=x.clientWidth?x.clientWidth:Constants.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:m,Constants.FILE_SCAN_MIN_HEIGHT),R=s.computeCanvasDrawConfig(p,m,b,S);if(r){var k=s.createCanvasElement(b,S,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var M=k.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=b,M.canvas.height=S,M.drawImage(c,0,0,p,m,R.x,R.y,R.width,R.height)}var j=Constants.FILE_SCAN_HIDDEN_CANVAS_PADDING,G=Math.max(c.width,R.width),P=Math.max(c.height,R.height),Q=G+2*j,H=P+2*j,X=s.createCanvasElement(Q,H);x.appendChild(X);var ee=X.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=Q,ee.canvas.height=H,ee.drawImage(c,0,0,p,m,j,j,G,P);try{s.qrcode.decodeRobustlyAsync(X).then(function(ne){o(Html5QrcodeResultFactory.createFromQrcodeResult(ne))}).catch(l)}catch(ne){l("QR code parse error, error = ".concat(ne))}},c.onerror=l,c.onabort=l,c.onstalled=l,c.onsuspend=l,c.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return CameraRetriever.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!VideoConstraintsUtil.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var r=[Html5QrcodeSupportedFormats.QR_CODE,Html5QrcodeSupportedFormats.AZTEC,Html5QrcodeSupportedFormats.CODABAR,Html5QrcodeSupportedFormats.CODE_39,Html5QrcodeSupportedFormats.CODE_93,Html5QrcodeSupportedFormats.CODE_128,Html5QrcodeSupportedFormats.DATA_MATRIX,Html5QrcodeSupportedFormats.MAXICODE,Html5QrcodeSupportedFormats.ITF,Html5QrcodeSupportedFormats.EAN_13,Html5QrcodeSupportedFormats.EAN_8,Html5QrcodeSupportedFormats.PDF_417,Html5QrcodeSupportedFormats.RSS_14,Html5QrcodeSupportedFormats.RSS_EXPANDED,Html5QrcodeSupportedFormats.UPC_A,Html5QrcodeSupportedFormats.UPC_E,Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return r;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],o=0,l=n.formatsToSupport;o<l.length;o++){var c=l[o];isValidHtml5QrcodeSupportedFormats(c)?s.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(isNullOrUndefined(n))return!0;if(!isNullOrUndefined(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(isNullOrUndefined(n.experimentalFeatures))return!0;var r=n.experimentalFeatures;return isNullOrUndefined(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,r,s){var o=this,l=s.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(n,r,l),p=function(x){if(x<Constants.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Constants.MIN_QR_BOX_SIZE,"px.")},m=function(x){return x>n&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};p(c.width),p(c.height),c.width=m(c.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(n,r)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return s},t.prototype.setupUi=function(n,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(n,r,s);var o=isNullOrUndefined(s.qrbox)?{width:n,height:r}:s.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(n,r,o);l.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=s.isShadedBoxEnabled()&&l.height<=r,p={x:0,y:0,width:n,height:r},m=c?this.getShadedRegionBounds(n,r,l):p,x=this.createCanvasElement(m.width,m.height),b={willReadFrequently:!0},S=x.getContext("2d",b);S.canvas.width=m.width,S.canvas.height=m.height,this.element.append(x),c&&this.possiblyInsertShadingElement(this.element,n,r,l),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=S,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(n){var r=document.createElement("div");r.innerText=Html5QrcodeStrings.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",n.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(n,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return n(o.text,Html5QrcodeResultFactory.createFromQrcodeResult(o)),s.possiblyUpdateShaders(!0),!0}).catch(function(o){s.possiblyUpdateShaders(!1);var l=Html5QrcodeStrings.codeParseError(o);return r(l,Html5QrcodeErrorFactory.createFrom(l)),!1})},t.prototype.foreverScan=function(n,r,s){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),c=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,x=this.qrRegion.height*p,b=this.qrRegion.x*c,S=this.qrRegion.y*p;this.context.drawImage(l,b,S,m,x,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(n,r,s)},o.getTimeoutFps(n.fps))};this.scanContext(r,s).then(function(k){!k&&n.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(r,s).finally(function(){R()})):R()}).catch(function(k){o.logger.logError("Error happend while scanning context",k),R()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var r="facingMode",s="deviceId",o={user:!0,environment:!0},l="exact",c=function(M){if(M in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(n);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var m=Object.keys(n)[0];if(m!==r&&m!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var x=n.facingMode;if(typeof x=="string"){if(c(x))return{facingMode:x}}else if(typeof x=="object")if(l in x){if(c(x["".concat(l)]))return{facingMode:{exact:x["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var b=typeof x;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(l in S)return{deviceId:{exact:S["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var k=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},t.prototype.computeCanvasDrawConfig=function(n,r,s,o){if(n<=s&&r<=o){var l=(s-n)/2,c=(o-r)/2;return{x:l,y:c,width:n,height:r}}else{var p=n,m=r;return n>s&&(r=s/n*r,n=s),r>o&&(n=o/r*n,r=o),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(m)+" to ".concat(n,"X").concat(r,".")),this.computeCanvasDrawConfig(n,r,s,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=n?Constants.BORDER_SHADER_MATCH_COLOR:Constants.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,r,s){var o=n,l=r,c=document.createElement("canvas");return c.style.width="".concat(o,"px"),c.style.height="".concat(l,"px"),c.style.display="none",c.id=isNullOrUndefined(s)?"qr-canvas":s,c},t.prototype.getShadedRegionBounds=function(n,r,s){if(s.width>n||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},t.prototype.possiblyInsertShadingElement=function(n,r,s,o){if(!(r-o.width<1||s-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var c=(r-o.width)/2,p=(s-o.height)/2;if(l.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Constants.SHADED_REGION_ELEMENT_ID),r-o.width<11||s-o.height<11)this.hasBorderShaders=!1;else{var m=5,x=40;this.insertShaderBorders(l,x,m,-m,null,0,!0),this.insertShaderBorders(l,x,m,-m,null,0,!1),this.insertShaderBorders(l,x,m,null,-m,0,!0),this.insertShaderBorders(l,x,m,null,-m,0,!1),this.insertShaderBorders(l,m,x+m,-m,null,-m,!0),this.insertShaderBorders(l,m,x+m,null,-m,-m,!0),this.insertShaderBorders(l,m,x+m,-m,null,-m,!1),this.insertShaderBorders(l,m,x+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(l)}},t.prototype.insertShaderBorders=function(n,r,s,o,l,c,p){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Constants.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(s,"px"),o!==null&&(m.style.top="".concat(o,"px")),l!==null&&(m.style.bottom="".concat(l,"px")),p?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t})(),Html5QrcodeScannerStatus;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Html5QrcodeScannerStatus||(Html5QrcodeScannerStatus={}));const scannerContainer="_scannerContainer_yftsj_1",header$a="_header_yftsj_25",closeButton$4="_closeButton_yftsj_37",title$c="_title_yftsj_59",scannerArea="_scannerArea_yftsj_79",qrScannerWrapper="_qrScannerWrapper_yftsj_91",scannerOverlay="_scannerOverlay_yftsj_135",corner="_corner_yftsj_153",topLeft="_topLeft_yftsj_167",topRight="_topRight_yftsj_183",bottomLeft="_bottomLeft_yftsj_199",bottomRight="_bottomRight_yftsj_215",instructionBox="_instructionBox_yftsj_229",qrIconButton="_qrIconButton_yftsj_253",errorMessage$3="_errorMessage_yftsj_293",styles$Q={scannerContainer,header:header$a,closeButton:closeButton$4,title:title$c,scannerArea,qrScannerWrapper,scannerOverlay,corner,topLeft,topRight,bottomLeft,bottomRight,instructionBox,qrIconButton,errorMessage:errorMessage$3};function QrScanner(){var b;const t=useNavigate(),n=useLocation(),r="html5qr-code-full-region",s=reactExports$1.useRef(null),[o,l]=reactExports$1.useState(null),[c,p]=reactExports$1.useState(!1),{showAlert:m}=useAlert();(b=n.state)!=null&&b.exhibitionInfo,reactExports$1.useEffect(()=>{const S={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return s.current=new Html5Qrcode(r),s.current.start({facingMode:"environment"},S,R=>{s.current.stop().then(()=>{t(R)}).catch(k=>{console.error("Failed to stop scanner:",k)})},()=>{}).catch(R=>{l("   ."),console.error("QR  :",R)}),async()=>{const R=s.current;if(R)try{R.isScanning&&await R.stop(),R.clear()}catch(k){console.error("Cleanup :",k)}}},[t]);const x=()=>{t(-1)};return reactExports$1.useEffect(()=>{new URLSearchParams(n.search).get("itemId")&&p(!0)},[n]),jsxRuntimeExports.jsxs("div",{className:styles$Q.scannerContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$Q.header,children:[jsxRuntimeExports.jsx("button",{className:styles$Q.closeButton,onClick:x,children:""}),jsxRuntimeExports.jsx("h2",{className:styles$Q.title,children:"Artly QR Reader"})]}),jsxRuntimeExports.jsxs("div",{className:styles$Q.scannerArea,children:[jsxRuntimeExports.jsx("div",{id:r,className:styles$Q.qrScannerWrapper}),jsxRuntimeExports.jsxs("div",{className:styles$Q.scannerOverlay,children:[jsxRuntimeExports.jsx("div",{className:`${styles$Q.corner} ${styles$Q.topLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$Q.corner} ${styles$Q.topRight}`}),jsxRuntimeExports.jsx("div",{className:`${styles$Q.corner} ${styles$Q.bottomLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$Q.corner} ${styles$Q.bottomRight}`})]}),o&&jsxRuntimeExports.jsx("div",{className:styles$Q.errorMessage,children:o})]}),jsxRuntimeExports.jsx("button",{className:styles$Q.qrIconButton,children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),jsxRuntimeExports.jsx("div",{className:styles$Q.instructionBox,children:jsxRuntimeExports.jsx("p",{children:"QR   ."})})]})}const layout$g="_layout_14fhd_1",title$b="_title_14fhd_23",galleryWrapper="_galleryWrapper_14fhd_33",searchForm="_searchForm_14fhd_45",searchInput="_searchInput_14fhd_59",styles$P={layout:layout$g,title:title$b,galleryWrapper,searchForm,searchInput},layout$f="_layout_akvc9_1",searchTitle="_searchTitle_akvc9_15",resultNumParagraph="_resultNumParagraph_akvc9_25",highlightSpan="_highlightSpan_akvc9_33",paginationRow="_paginationRow_akvc9_53",styles$O={layout:layout$f,searchTitle,resultNumParagraph,highlightSpan,paginationRow};function NearbyGalleries({results:t,onEvent:n}){const{currentPage:r,setCurrentPage:s,pageItems:o}=usePagination(10,t);return jsxRuntimeExports.jsxs("section",{className:styles$O.layout,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$O.searchTitle,children:"   "}),jsxRuntimeExports.jsxs("p",{className:styles$O.resultNumParagraph,children:[" ",jsxRuntimeExports.jsx("span",{className:styles$O.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),o.map(l=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:l,onEvent:n},l.id)),jsxRuntimeExports.jsx("div",{className:styles$O.paginationRow,children:jsxRuntimeExports.jsx(Pagination,{currentPage:r,onPageChange:s,totalItems:t.length})})]})}function Nearby(){const{coords:t,setCoords:n}=useGeoLocation(),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!1),{lat:c,lng:p}=t,[m,x]=reactExports$1.useState(""),{showAlert:b}=useAlert(),S=M=>{x(M.target.value)};useMap({lat:c,lng:p,id:"nearby-map",results:r,zoomLevel:12});const R=async M=>{M.preventDefault();try{const j=await mapInstance.get("/v2/geocode",{params:{query:m}}),G=j.data.addresses[0].x,P=j.data.addresses[0].y;n({lat:P,lng:G})}catch(j){console.error(j),b("  ")}},k=async()=>{try{l(!0);const M=await userInstance.get("/api/galleries",{params:{latitude:c,longitude:p,distance:5e3}});s(M.data)}catch(M){console.error(M),b("   ","error")}finally{l(!1)}};return reactExports$1.useEffect(()=>{k()},[c,p]),jsxRuntimeExports.jsxs("div",{className:styles$P.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$P.title,children:"  "}),jsxRuntimeExports.jsx("form",{className:styles$P.searchForm,onSubmit:R,children:jsxRuntimeExports.jsx("input",{className:styles$P.searchInput,value:m,onChange:S,placeholder:" (,// )"})}),jsxRuntimeExports.jsx("div",{id:"nearby-map",className:styles$P.galleryWrapper}),o&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx(NearbyGalleries,{results:r,onEvent:k})]})}const layout$e="_layout_r8ggq_1",breadcrumb$4="_breadcrumb_r8ggq_21",breadcrumbBack$4="_breadcrumbBack_r8ggq_33",card$5="_card_r8ggq_43",mainImage="_mainImage_r8ggq_61",titleSection$3="_titleSection_r8ggq_81",artworkTitle$3="_artworkTitle_r8ggq_89",artworkMaterial="_artworkMaterial_r8ggq_101",btnLayout$3="_btnLayout_r8ggq_113",divider$1="_divider_r8ggq_127",actionButton$4="_actionButton_r8ggq_141",icon$4="_icon_r8ggq_163",likedIcon$3="_likedIcon_r8ggq_169",artistSection="_artistSection_r8ggq_179",artistImage$1="_artistImage_r8ggq_191",artistName$1="_artistName_r8ggq_205",infoList$3="_infoList_r8ggq_217",infoRow$4="_infoRow_r8ggq_229",infoLabel$4="_infoLabel_r8ggq_237",infoContent$3="_infoContent_r8ggq_249",emptyInfo$3="_emptyInfo_r8ggq_257",descriptionParagraph$3="_descriptionParagraph_r8ggq_267",docentBox="_docentBox_r8ggq_313",docentLabel="_docentLabel_r8ggq_327",docentAudio="_docentAudio_r8ggq_353",docentVideo="_docentVideo_r8ggq_401",recommendSection="_recommendSection_r8ggq_431",sectionTitle$1="_sectionTitle_r8ggq_437",relatedGrid="_relatedGrid_r8ggq_449",relatedCard="_relatedCard_r8ggq_459",relatedImage="_relatedImage_r8ggq_481",relatedInfo="_relatedInfo_r8ggq_491",relatedTitle="_relatedTitle_r8ggq_497",exhibitionSection="_exhibitionSection_r8ggq_511",exhibitionList$1="_exhibitionList_r8ggq_539",exhibitionItem$1="_exhibitionItem_r8ggq_553",exhibitionTitle$2="_exhibitionTitle_r8ggq_601",exhibitionDate="_exhibitionDate_r8ggq_613",statusBadge$2="_statusBadge_r8ggq_625",exhibited$1="_exhibited_r8ggq_641",scheduled$1="_scheduled_r8ggq_651",ended$1="_ended_r8ggq_661",arrowIcon="_arrowIcon_r8ggq_671",emptyContent$6="_emptyContent_r8ggq_681",backButton$9="_backButton_r8ggq_695",styles$N={layout:layout$e,breadcrumb:breadcrumb$4,breadcrumbBack:breadcrumbBack$4,card:card$5,mainImage,titleSection:titleSection$3,artworkTitle:artworkTitle$3,artworkMaterial,btnLayout:btnLayout$3,divider:divider$1,actionButton:actionButton$4,icon:icon$4,likedIcon:likedIcon$3,artistSection,artistImage:artistImage$1,artistName:artistName$1,infoList:infoList$3,infoRow:infoRow$4,infoLabel:infoLabel$4,infoContent:infoContent$3,emptyInfo:emptyInfo$3,descriptionParagraph:descriptionParagraph$3,docentBox,docentLabel,docentAudio,docentVideo,recommendSection,sectionTitle:sectionTitle$1,relatedGrid,relatedCard,relatedImage,relatedInfo,relatedTitle,exhibitionSection,exhibitionList:exhibitionList$1,exhibitionItem:exhibitionItem$1,exhibitionTitle:exhibitionTitle$2,exhibitionDate,statusBadge:statusBadge$2,exhibited:exhibited$1,scheduled:scheduled$1,ended:ended$1,arrowIcon,emptyContent:emptyContent$6,backButton:backButton$9},modalOverlay$4="_modalOverlay_1ae8l_1",likeModalBox="_likeModalBox_1ae8l_21",likeModalStar="_likeModalStar_1ae8l_63",likeModalTitle="_likeModalTitle_1ae8l_75",likeModalSub="_likeModalSub_1ae8l_85",likeModalButton="_likeModalButton_1ae8l_99",styles$M={modalOverlay:modalOverlay$4,likeModalBox,likeModalStar,likeModalTitle,likeModalSub,likeModalButton};function LikePopup({onClose:t,type:n}){const s={galleries:"",exhibitions:"",artworks:""}[n]||"";return jsxRuntimeExports.jsx("div",{className:styles$M.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$M.likeModalBox,children:[jsxRuntimeExports.jsx(FaStar$1,{className:styles$M.likeModalStar}),jsxRuntimeExports.jsxs("h3",{className:styles$M.likeModalTitle,children:[" ",s,"  !"]}),jsxRuntimeExports.jsx("p",{className:styles$M.likeModalSub,children:"      ."}),jsxRuntimeExports.jsx("button",{className:styles$M.likeModalButton,onClick:t,children:""})]})})}const modalOverlay$3="_modalOverlay_18m8e_1",modalBox$3="_modalBox_18m8e_27",closeButton$3="_closeButton_18m8e_73",modalIconBox="_modalIconBox_18m8e_103",modalIcon="_modalIcon_18m8e_103",modalTitle="_modalTitle_18m8e_135",modalDesc="_modalDesc_18m8e_149",phoneInfo="_phoneInfo_18m8e_163",phoneNumber="_phoneNumber_18m8e_175",callButton="_callButton_18m8e_191",pcInfo="_pcInfo_18m8e_225",errorText$1="_errorText_18m8e_237",styles$L={modalOverlay:modalOverlay$3,modalBox:modalBox$3,closeButton:closeButton$3,modalIconBox,modalIcon,modalTitle,modalDesc,phoneInfo,phoneNumber,callButton,pcInfo,errorText:errorText$1};function PurchaseModal({phoneNumber:t,onClose:n}){const r=()=>{t&&(window.location.href=`tel:${t}`)};return jsxRuntimeExports.jsx("div",{className:styles$L.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$L.modalBox,onClick:s=>s.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:styles$L.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaXmark,{})}),jsxRuntimeExports.jsxs("div",{className:styles$L.modalContent,children:[jsxRuntimeExports.jsx("div",{className:styles$L.modalIconBox,children:jsxRuntimeExports.jsx(FaPhone,{className:styles$L.modalIcon})}),jsxRuntimeExports.jsx("h3",{className:styles$L.modalTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$L.modalDesc,children:["   ?",jsxRuntimeExports.jsx("br",{}),"     ."]}),t?jsxRuntimeExports.jsxs("div",{className:styles$L.phoneInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$L.phoneNumber,children:t}),jsxRuntimeExports.jsx("button",{className:styles$L.callButton,onClick:r,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$L.pcInfo,children:"*     ."})]}):jsxRuntimeExports.jsx("p",{className:styles$L.errorText,children:"   ."})]})]})})}function ArtworkDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{showAlert:s}=useAlert(),{artworkId:o}=useParams(),l=n||o,c=useNavigate(),{pathname:p}=useLocation(),m=p.includes("console"),[x,b]=reactExports$1.useState(null),[S,R]=reactExports$1.useState(!1),[k,M]=reactExports$1.useState(!1),[j,G]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{if(!l)return;(async()=>{try{const ot=await userInstance.get(`/api/arts/${l}`),{data:Ct}=ot;b(Ct),typeof Ct.is_liked=="boolean"&&R(Ct.is_liked)}catch(ot){console.error("   :",ot)}})()},[l]);const P=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){c("/login");return}try{const Ze={liked_id:l,liked_type:"art"};S?(await userInstance.delete("/api/likes",{data:Ze}),R(!1)):(await userInstance.post("/api/likes",Ze),R(!0),M(!0))}catch(Ze){console.error("  :",Ze),s("  .","error")}},Q=()=>{G(!0)},H=()=>{const Ze=x==null?void 0:x.art_title,ot=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${Ze}`,text:`${Ze}  `,url:ot}):navigator.clipboard.writeText(ot).then(()=>s(" ."))};if(!x)return jsxRuntimeExports.jsx(LoadingSpinner,{});const{art_title:X,art_description:ee,art_image:ne,art_year:Y,art_material:re,art_size:oe,art_docent:xe,docent_audio_path:ve,docent_video_path:me,gallery_phone:we,artist:Ee={},artist_name:he,exhibitions:ae=[]}=x,ue="https://artly.soundgram.co.kr",te={exhibited:{label:"",className:styles$N.exhibited},scheduled:{label:"",className:styles$N.scheduled},ended:{label:"",className:styles$N.ended}},se={exhibited:1,scheduled:2,ended:3},Ce=[...ae].sort((Ze,ot)=>{const Ct=se[Ze.exhibition_status]??99,It=se[ot.exhibition_status]??99;return Ct-It}),ce=(Ee==null?void 0:Ee.artist_name)||he||"Unknown Artist",ye=Ee!=null&&Ee.artist_image&&!Ee.artist_image.startsWith("http")?`${ue}/${Ee.artist_image}`:Ee.artist_image,Se=ve?`${ue}/media/${ve}`:null,_e=me?`${ue}/media/${me}`:null,je=((Ee==null?void 0:Ee.artworks)||[]).filter(Ze=>String(Ze.id)!==String(l)),Me=[{label:"",content:Y?`${Y} `:" "},{label:"",content:re||" "},{label:"",content:oe||" "}];return jsxRuntimeExports.jsxs("div",{className:styles$N.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$N.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$N.breadcrumbBack,onClick:()=>c("/artworks"),children:""})," > "," ",X]}),jsxRuntimeExports.jsxs("div",{className:styles$N.card,children:[jsxRuntimeExports.jsx(Img,{src:ne,alt:X,className:styles$N.mainImage}),jsxRuntimeExports.jsx(Img,{src:ne,alt:X,className:styles$N.mainImage}),jsxRuntimeExports.jsxs("section",{className:styles$N.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$N.artworkTitle,children:X}),jsxRuntimeExports.jsx("p",{className:styles$N.artworkMaterial,children:re||"Mixed Media"})]}),t&&jsxRuntimeExports.jsxs("div",{className:styles$N.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$N.actionButton,onClick:P,children:[jsxRuntimeExports.jsx(FaStar$1,{className:S?styles$N.likedIcon:styles$N.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$N.actionButton,onClick:Q,children:[jsxRuntimeExports.jsx(FaPhone,{className:styles$N.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$N.actionButton,onClick:H,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$N.icon}),""]})]}),jsxRuntimeExports.jsx("hr",{className:styles$N.divider}),jsxRuntimeExports.jsxs("div",{className:styles$N.artistSection,children:[jsxRuntimeExports.jsx(Img,{src:ye,alt:ce,className:styles$N.artistImage}),jsxRuntimeExports.jsx("span",{className:styles$N.artistName,children:ce})]}),jsxRuntimeExports.jsx("div",{className:styles$N.infoList,children:Me.map(({label:Ze,content:ot})=>jsxRuntimeExports.jsxs("div",{className:styles$N.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$N.infoLabel,children:Ze}),jsxRuntimeExports.jsx("div",{className:styles$N.infoContent,children:ot})]},Ze))}),jsxRuntimeExports.jsxs("div",{className:styles$N.descriptionSection,children:[ee?jsxRuntimeExports.jsx("div",{className:styles$N.descriptionParagraph,dangerouslySetInnerHTML:{__html:ee}}):jsxRuntimeExports.jsx("p",{className:styles$N.emptyInfo,children:"  ."}),xe&&jsxRuntimeExports.jsxs("div",{className:styles$N.docentBox,children:[jsxRuntimeExports.jsx("span",{className:styles$N.docentLabel,children:"AI Docent"}),jsxRuntimeExports.jsx("p",{children:xe}),m&&!_e&&Se&&jsxRuntimeExports.jsx("audio",{className:styles$N.docentAudio,controls:!0,preload:"metadata",src:Se}),m&&_e&&jsxRuntimeExports.jsx("video",{className:styles$N.docentVideo,controls:!0,preload:"metadata",src:_e})]})]})]}),Ce.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$N.exhibitionSection,children:[jsxRuntimeExports.jsx("span",{className:styles$N.sectionTitle,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$N.exhibitionList,children:Ce.map(Ze=>{const ot=te[Ze.exhibition_status]||te.ended;return jsxRuntimeExports.jsxs("div",{className:styles$N.exhibitionItem,onClick:()=>c(m?`/console/exhibitions/${Ze.id}`:`/exhibitions/${Ze.id}`),children:[jsxRuntimeExports.jsx("span",{className:`${styles$N.statusBadge} ${ot.className}`,children:ot.label}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$N.exhibitionTitle,children:Ze.exhibition_title}),Ze.start_date&&Ze.end_date&&jsxRuntimeExports.jsxs("span",{className:styles$N.exhibitionDate,children:[Ze.start_date," ~ ",Ze.end_date]})]}),jsxRuntimeExports.jsx(FaChevronRight,{className:styles$N.arrowIcon})]},Ze.id)})})]}),t&&je.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$N.recommendSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$N.sectionTitle,children:"  "}),je.length>0?jsxRuntimeExports.jsx("div",{className:styles$N.relatedGrid,children:je.map(Ze=>jsxRuntimeExports.jsxs("div",{className:styles$N.relatedCard,onClick:()=>{c(`/artworks/${Ze.id}`),window.scrollTo(0,0)},children:[jsxRuntimeExports.jsx(Img,{src:Ze.art_image,alt:Ze.art_title,className:styles$N.relatedImage}),jsxRuntimeExports.jsx("div",{className:styles$N.relatedInfo,children:jsxRuntimeExports.jsx("h4",{className:styles$N.relatedTitle,children:Ze.art_title})})]},Ze.id))}):jsxRuntimeExports.jsx("div",{className:styles$N.card,children:jsxRuntimeExports.jsx("p",{className:styles$N.emptyContent,children:"   ."})}),jsxRuntimeExports.jsx("button",{className:styles$N.backButton,onClick:()=>c("/artworks"),children:""})]}),k&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>M(!1),type:"artworks"}),j&&jsxRuntimeExports.jsx(PurchaseModal,{phoneNumber:we,onClose:()=>G(!1)})]})}const layout$d="_layout_ezrs8_1",findForm="_findForm_ezrs8_15",formTitle$1="_formTitle_ezrs8_33",submitButton$2="_submitButton_ezrs8_43",styles$K={layout:layout$d,findForm,formTitle:formTitle$1,submitButton:submitButton$2};function Find(){const{data:t,handleChange:n}=useInput({userName:"",userEmail:""}),{data:r,handleChange:s}=useInput({userId:"",userEmail:""}),{showAlert:o}=useAlert(),l=p=>{p.preventDefault(),alert("  ")},c=p=>{p.preventDefault(),alert("  ")};return jsxRuntimeExports.jsxs("div",{className:styles$K.layout,children:[jsxRuntimeExports.jsxs("form",{className:styles$K.findForm,onSubmit:l,children:[jsxRuntimeExports.jsx("h2",{className:styles$K.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userName",placeholder:"",onChange:n,value:t.userName}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:n,value:t.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$K.submitButton,children:" "})]}),jsxRuntimeExports.jsxs("form",{className:styles$K.findForm,onSubmit:c,children:[jsxRuntimeExports.jsx("h2",{className:styles$K.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userId",placeholder:"",onChange:s,value:r.userId}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:s,value:r.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$K.submitButton,children:"  "})]})]})}const announcementLayout="_announcementLayout_11rfx_1",heading="_heading_11rfx_19",tabWrapper$1="_tabWrapper_11rfx_31",tab$1="_tab_11rfx_31",active$2="_active_11rfx_71",listItem="_listItem_11rfx_99",buttonField$1="_buttonField_11rfx_107",contentContainer$6="_contentContainer_11rfx_129",styles$J={announcementLayout,heading,tabWrapper:tabWrapper$1,tab:tab$1,active:active$2,listItem,buttonField:buttonField$1,contentContainer:contentContainer$6},announcementData=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],FAQData=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],categoryList=["","FAQ"];function Announcement(){const[t,n]=reactExports$1.useState(""),[r,s]=reactExports$1.useState({}),o=t===""?announcementData:FAQData,l=p=>{if(r[p]){s(x=>({...x,[p]:!1}));return}s(x=>({...x,[p]:!0}))},c=p=>{n(p),s({})};return jsxRuntimeExports.jsxs("div",{className:styles$J.announcementLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$J.heading,children:"&FAQ"}),jsxRuntimeExports.jsx("div",{className:styles$J.tabWrapper,children:categoryList.map(p=>jsxRuntimeExports.jsx("button",{className:`${styles$J.tab} ${t===p?styles$J.active:""}`,onClick:()=>c(p),children:p},p))}),jsxRuntimeExports.jsx("ul",{children:o.map((p,m)=>jsxRuntimeExports.jsxs("li",{className:styles$J.listItem,onClick:()=>{l(m)},children:[jsxRuntimeExports.jsxs("div",{className:styles$J.buttonField,children:[p.title,jsxRuntimeExports.jsx("span",{children:r[m]?jsxRuntimeExports.jsx(FaChevronUp,{}):jsxRuntimeExports.jsx(FaChevronDown,{})})]}),r[m]&&jsxRuntimeExports.jsx("div",{className:styles$J.contentContainer,children:p.content})]},p.id))})]})}const termsLayout="_termsLayout_1m4fn_1",mainTitle="_mainTitle_1m4fn_19",tabWrapper="_tabWrapper_1m4fn_43",tab="_tab_1m4fn_43",active$1="_active_1m4fn_83",contentContainer$5="_contentContainer_1m4fn_99",styles$I={termsLayout,mainTitle,tabWrapper,tab,active:active$1,contentContainer:contentContainer$5},termsPolicyData={content:`  

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},privacyPolicyData={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function TermsPolicy(){const t=["",""],[n,r]=reactExports$1.useState(""),s=n===""?termsPolicyData:privacyPolicyData,o=l=>{r(l)};return jsxRuntimeExports.jsxs("section",{className:styles$I.termsLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$I.mainTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$I.tabWrapper,children:t.map(l=>jsxRuntimeExports.jsx("button",{className:`${styles$I.tab} ${n===l?styles$I.active:""}`,onClick:()=>o(l),children:l},l))}),jsxRuntimeExports.jsx("div",{className:styles$I.contentContainer,children:s.content})]})}const layout$c="_layout_3y7o4_1",title$a="_title_3y7o4_19",posterImage$1="_posterImage_3y7o4_31",completionIcon$1="_completionIcon_3y7o4_43",completionTitle$1="_completionTitle_3y7o4_67",reservationSummary$1="_reservationSummary_3y7o4_81",summaryRow$1="_summaryRow_3y7o4_95",summaryLabel$1="_summaryLabel_3y7o4_115",summaryValue$1="_summaryValue_3y7o4_125",buttonField="_buttonField_3y7o4_155",exhibitionLink="_exhibitionLink_3y7o4_165",mypageLink="_mypageLink_3y7o4_167",styles$H={layout:layout$c,title:title$a,posterImage:posterImage$1,completionIcon:completionIcon$1,completionTitle:completionTitle$1,reservationSummary:reservationSummary$1,summaryRow:summaryRow$1,summaryLabel:summaryLabel$1,summaryValue:summaryValue$1,buttonField,exhibitionLink,mypageLink};function ReservationConfirm(){const{reservationId:t}=useParams(),[n,r]=reactExports$1.useState([]),{exhibition_location:s,exhibition_title:o,exhibition_poster:l,exhibition_id:c,reservation_total_price:p,reservation_number_of_tickets:m,reservation_datetime:x}=n,S=[{label:"",value:n?o:""},{label:"",value:n?s:""},{label:"",value:(R=>{if(R)return R.split(" ")[0]})(x)},{label:"",value:`${m}`},{label:"",value:`${p}`}];return reactExports$1.useEffect(()=>{(async()=>{try{const k=await userInstance.get("/api/users/me/exhibitions");r(k.data.find(M=>M.id===t))}catch(k){console.error(k)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$H.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$H.title,children:"  "}),jsxRuntimeExports.jsx(Img,{className:styles$H.posterImage,src:l,alt:"  "}),jsxRuntimeExports.jsx("div",{className:styles$H.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$H.completionTitle,children:"   "}),jsxRuntimeExports.jsx("div",{className:styles$H.reservationSummary,children:S.map(R=>jsxRuntimeExports.jsxs("div",{className:styles$H.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$H.summaryLabel,children:R.label}),jsxRuntimeExports.jsx("span",{className:styles$H.summaryValue,children:R.value})]},R.label))}),jsxRuntimeExports.jsxs("div",{className:styles$H.buttonField,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$H.mypageLink,to:"/mypage",children:""}),jsxRuntimeExports.jsx(Link$1,{className:styles$H.exhibitionLink,to:`/exhibitions/${c}`,children:" "})]})]})}const container$6="_container_xs957_1",breadcrumb$3="_breadcrumb_xs957_37",breadcrumbBack$3="_breadcrumbBack_xs957_51",loading$1="_loading_xs957_63",error="_error_xs957_65",empty$1="_empty_xs957_67",exhibitionInfo="_exhibitionInfo_xs957_93",calendarContainer="_calendarContainer_xs957_175",calendarHeader="_calendarHeader_xs957_191",legend="_legend_xs957_207",legendItem="_legendItem_xs957_229",legendDot="_legendDot_xs957_241",dotRed="_dotRed_xs957_253",dotBlue="_dotBlue_xs957_261",monthNavigator="_monthNavigator_xs957_269",currentMonth="_currentMonth_xs957_281",monthButton="_monthButton_xs957_297",weekdaysRow="_weekdaysRow_xs957_339",weekdayCell="_weekdayCell_xs957_355",weekend="_weekend_xs957_369",closedDot="_closedDot_xs957_377",calendarGrid="_calendarGrid_xs957_393",dateCell$1="_dateCell_xs957_405",todayDot="_todayDot_xs957_445",disabled="_disabled_xs957_459",selected$1="_selected_xs957_459",today="_today_xs957_445",visitorCount="_visitorCount_xs957_507",countLabel="_countLabel_xs957_529",countControls="_countControls_xs957_541",countButton="_countButton_xs957_553",countDisplay="_countDisplay_xs957_595",reservationInfo="_reservationInfo_xs957_613",infoRow$3="_infoRow_xs957_627",infoLabel$3="_infoLabel_xs957_655",infoValue="_infoValue_xs957_665",reservationForm="_reservationForm_xs957_679",formTitle="_formTitle_xs957_687",formGroup$1="_formGroup_xs957_701",formLabel="_formLabel_xs957_709",formInput="_formInput_xs957_725",reservationSummary="_reservationSummary_xs957_767",summaryTitle="_summaryTitle_xs957_785",summaryTitle2="_summaryTitle2_xs957_803",summaryImage="_summaryImage_xs957_819",summaryRow="_summaryRow_xs957_833",summaryLabel="_summaryLabel_xs957_855",summaryValue="_summaryValue_xs957_871",completionScreen="_completionScreen_xs957_889",completionIcon="_completionIcon_xs957_923",completionTitle="_completionTitle_xs957_949",completionMessage="_completionMessage_xs957_963",buttonsContainer="_buttonsContainer_xs957_977",actionButton$3="_actionButton_xs957_993",backButton$8="_backButton_xs957_995",styles$G={container:container$6,breadcrumb:breadcrumb$3,breadcrumbBack:breadcrumbBack$3,loading:loading$1,error,empty:empty$1,exhibitionInfo,calendarContainer,calendarHeader,legend,legendItem,legendDot,dotRed,dotBlue,monthNavigator,currentMonth,monthButton,weekdaysRow,weekdayCell,weekend,closedDot,calendarGrid,dateCell:dateCell$1,todayDot,disabled,selected:selected$1,today,visitorCount,countLabel,countControls,countButton,countDisplay,reservationInfo,infoRow:infoRow$3,infoLabel:infoLabel$3,infoValue,reservationForm,formTitle,formGroup:formGroup$1,formLabel,formInput,reservationSummary,summaryTitle,summaryTitle2,summaryImage,summaryRow,summaryLabel,summaryValue,completionScreen,completionIcon,completionTitle,completionMessage,buttonsContainer,actionButton:actionButton$3,backButton:backButton$8};function Reservation(){const{exhibitionId:t}=useParams(),n=useNavigate(),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),{showAlert:m}=useAlert(),[x,b]=reactExports$1.useState(1),[S,R]=reactExports$1.useState(""),[k,M]=reactExports$1.useState(1),[j,G]=reactExports$1.useState({name:"",phone:"",email:"",date:"",gallery:"",price:0,state:""}),P=new Date,[Q,H]=reactExports$1.useState(P.getMonth()),[X,ee]=reactExports$1.useState(P.getFullYear());reactExports$1.useEffect(()=>{t&&(async()=>{try{const se=await userInstance.get(`/api/exhibitions/${t}`);s(se.data)}catch{p("     .")}finally{l(!1)}})()},[t]),reactExports$1.useEffect(()=>{r&&G(te=>({...te,gallery:r.exhibition_location,price:r.exhibition_price}))},[r]),reactExports$1.useEffect(()=>{(async()=>{try{const Ce=(await userInstance.get("/api/users/me")).data;console.log(Ce),G(ce=>({...ce,name:Ce.user_name||"",phone:Ce.user_phone||"",email:Ce.user_email||""}))}catch(se){console.error("   :",se)}})()},[]),reactExports$1.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[x]);const ne=te=>{if(!te)return[];const se={:0,:1,:2,:3,:4,:5,:6};return te.split(",").map(Ce=>se[Ce.trim()]).filter(Ce=>Ce!==void 0)},Y=()=>{const te=new Date(X,Q+1,0).getDate(),se=new Date(X,Q,1).getDay(),Ce=[],ce=r!=null&&r.exhibition_start_date?new Date(r.exhibition_start_date):null,ye=r!=null&&r.exhibition_end_date?new Date(r.exhibition_end_date):null,Se=r?ne(r.exhibition_closed_day):[];ce&&ce.setHours(0,0,0,0),ye&&ye.setHours(0,0,0,0);const _e=new Date;return _e.setHours(0,0,0,0),Array.from({length:se}).forEach(()=>{Ce.push({day:"",disabled:!0})}),Array.from({length:te}).forEach((je,Me)=>{const Ze=Me+1,ot=new Date(X,Q,Ze);ot.setHours(0,0,0,0);const Ct=ot.getTime()===_e.getTime();let It=!1,mt=!1;ot<_e&&(It=!0),ce&&ot<ce&&(It=!0),ye&&ot>ye&&(It=!0),Se.includes(ot.getDay())&&(It=!0,mt=!0),Ce.push({day:Ze,date:ot,disabled:It,isToday:Ct,isClosedDay:mt})}),Ce},re=()=>{H(te=>te===11?0:te+1),Q===11&&ee(te=>te+1)},oe=()=>{H(te=>te===0?11:te-1),Q===0&&ee(te=>te-1)},xe=te=>{if(te.disabled)return;const se=`${X}.${String(Q+1).padStart(2,"0")}.${String(te.day).padStart(2,"0")}`;R(se),G(Ce=>({...Ce,date:se}))},ve=te=>{const se=k+te;se>=1&&se<=10&&M(se)},me=te=>{const{name:se,value:Ce}=te.target;G(ce=>({...ce,[se]:Ce}))},we=async()=>{if(x===1&&!S){m(" .");return}if(x===2&&(!j.name||!j.phone||!j.email)){m("   .");return}if(x===2)try{const te=await userInstance.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:k,reservation_datetime:S,visitor_name:j.name,visitor_phone:j.phone,visitor_email:j.email,payment_method:"",total_price:r.exhibition_price*k});console.log(" :",te.data)}catch(te){console.error(" :",te),m("    .");return}b(x+1)},Ee=()=>{b(x-1)},he=()=>{n("/mypage",{state:{activeTab:"MY"}})};if(o)return jsxRuntimeExports.jsx("div",{className:styles$G.loading,children:" ..."});if(c)return jsxRuntimeExports.jsx("div",{className:styles$G.error,children:c});if(!r)return jsxRuntimeExports.jsx("div",{className:styles$G.empty,children:"    ."});const ae=["","","","","","",""],ue=[{label:"",value:r?r.exhibition_title:""},{label:"",value:S},{label:"",value:`${k}`},{label:"",value:r?r.exhibition_location:""},{label:"",value:j.name},{label:"",value:j.phone},{label:"",value:j.email},{label:" ",value:`${(r.exhibition_price||0).toLocaleString()} (  )`}];return jsxRuntimeExports.jsxs("div",{className:styles$G.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$G.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$G.breadcrumbBack,onClick:()=>n(`/exhibitions/${t}`),children:""})," ","> "]}),x===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$G.exhibitionInfo,children:[jsxRuntimeExports.jsx("strong",{children:r.exhibition_title}),jsxRuntimeExports.jsx("p",{children:r.exhibition_organization})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.calendarContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$G.calendarHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$G.monthNavigator,children:[jsxRuntimeExports.jsx("button",{className:styles$G.monthButton,onClick:oe,children:"<"}),jsxRuntimeExports.jsx("span",{className:styles$G.currentMonth,children:`${X}.${String(Q+1).padStart(2,"0")}`}),jsxRuntimeExports.jsx("button",{className:styles$G.monthButton,onClick:re,children:">"})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.legend,children:[jsxRuntimeExports.jsxs("div",{className:styles$G.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$G.legendDot} ${styles$G.dotRed}`}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$G.legendDot} ${styles$G.dotBlue}`}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles$G.weekdaysRow,children:ae.map((te,se)=>jsxRuntimeExports.jsx("div",{className:`${styles$G.weekdayCell} ${se===0||se===6?styles$G.weekend:""}`,children:te},te))}),jsxRuntimeExports.jsx("div",{className:styles$G.calendarGrid,children:Y().map((te,se)=>{const Ce=te.day?`${X}-${Q}-${te.day}`:`empty-${se}`;return jsxRuntimeExports.jsxs("div",{className:`${styles$G.dateCell} ${te.disabled?styles$G.disabled:""} ${te.isToday?styles$G.today:""} ${S&&te.day&&S===`${X}.${String(Q+1).padStart(2,"0")}.${String(te.day).padStart(2,"0")}`?styles$G.selected:""}`,onClick:()=>xe(te),children:[jsxRuntimeExports.jsx("span",{className:styles$G.dateNumber,children:te.day}),te.day&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[te.isClosedDay&&jsxRuntimeExports.jsx("div",{className:styles$G.closedDot}),!te.isClosedDay&&te.isToday&&jsxRuntimeExports.jsx("div",{className:styles$G.todayDot})]})]},Ce)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.visitorCount,children:[jsxRuntimeExports.jsx("span",{className:styles$G.countLabel,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$G.countControls,children:[jsxRuntimeExports.jsx("button",{className:styles$G.countButton,onClick:()=>ve(-1),children:"-"}),jsxRuntimeExports.jsxs("span",{className:styles$G.countDisplay,children:[k,""]}),jsxRuntimeExports.jsx("button",{className:styles$G.countButton,onClick:()=>ve(1),children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.reservationInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$G.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$G.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$G.infoValue,children:S||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$G.infoLabel,children:""}),jsxRuntimeExports.jsxs("span",{className:styles$G.infoLabel,children:[k,""]})]}),jsxRuntimeExports.jsxs("div",{className:styles$G.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$G.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$G.infoValue,children:r.exhibition_location})]})]})]}),x===2&&jsxRuntimeExports.jsxs("div",{className:styles$G.reservationForm,children:[jsxRuntimeExports.jsx("h3",{className:styles$G.formTitle,children:"  "}),["name","phone","email"].map(te=>jsxRuntimeExports.jsxs("div",{className:styles$G.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$G.formLabel,children:te==="name"?"":te==="phone"?"":""}),jsxRuntimeExports.jsx("input",{className:styles$G.formInput,type:te==="email"?"email":te==="phone"?"tel":"text",name:te,value:j[te],onChange:me,placeholder:te==="name"?" ":te==="phone"?"010-0000-0000":"example@email.com"})]},te)),jsxRuntimeExports.jsxs("div",{className:styles$G.reservationSummary,children:[jsxRuntimeExports.jsx("div",{className:styles$G.summaryTitle,children:"  "}),[{label:"",value:r?r.exhibition_title:" "},{label:"",value:S},{label:"",value:`${k}`},{label:"",value:r?r.exhibition_location:" "},{label:" ",value:`${(r.exhibition_price||0).toLocaleString()}`}].map(te=>jsxRuntimeExports.jsxs("div",{className:styles$G.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$G.summaryLabel,children:te.label}),jsxRuntimeExports.jsx("span",{className:styles$G.summaryValue,children:te.value})]},te.label))]})]}),x===3&&jsxRuntimeExports.jsxs("div",{className:styles$G.completionScreen,children:[jsxRuntimeExports.jsx("div",{className:styles$G.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$G.completionTitle,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$G.completionMessage,children:[j.name,"   ."]}),jsxRuntimeExports.jsxs("div",{className:styles$G.reservationSummary,children:[jsxRuntimeExports.jsx(Img,{className:styles$G.summaryImage,src:r.exhibition_poster}),ue.map(te=>jsxRuntimeExports.jsx("div",{className:styles$G.summaryRow,children:te.label===""?jsxRuntimeExports.jsx("h2",{className:styles$G.summaryTitle2,children:te.value}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$G.summaryLabel,children:te.label}),jsxRuntimeExports.jsx("span",{className:styles$G.summaryValue,children:te.value})]})},te.label))]})]}),jsxRuntimeExports.jsx("div",{className:styles$G.buttonsContainer,children:x===1?jsxRuntimeExports.jsx("button",{className:styles$G.actionButton,onClick:we,children:""}):x===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$G.backButton,onClick:Ee,children:""}),jsxRuntimeExports.jsx("button",{className:styles$G.actionButton,onClick:we,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$G.backButton,onClick:()=>n("/exhibitions"),children:""}),jsxRuntimeExports.jsx("button",{className:styles$G.actionButton,onClick:he,children:" "})]})})]})}const actionContainer="_actionContainer_haua7_1",actionButton$2="_actionButton_haua7_17",actionButtonActive="_actionButtonActive_haua7_57",actionButtonInactive="_actionButtonInactive_haua7_79",styles$F={actionContainer,actionButton:actionButton$2,actionButtonActive,actionButtonInactive};function ActionBar({tabList:t,activeTab:n,onTabChange:r}){return jsxRuntimeExports.jsx("nav",{className:styles$F.actionContainer,children:t.map(s=>jsxRuntimeExports.jsx("button",{onClick:()=>r(s),className:`${styles$F.actionButton} ${n===s?styles$F.actionButtonActive:styles$F.actionButtonInactive}`,children:s},s))})}function HiChevronDown(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function HiTrash(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function HiX(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function useDropdown(t="",n=""){const[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(t||n),c=reactExports$1.useRef(null);return reactExports$1.useEffect(()=>{const S=R=>{c.current&&!c.current.contains(R.target)&&s(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),{isOpen:r,selectedValue:o,dropdownRef:c,handleOptionClick:(S,R)=>{l(S.name),R(S.id),s(!1)},toggleDropdown:()=>{s(!r)},closeDropdown:()=>{s(!1)},openDropdown:()=>{s(!0)},setSelectedValue:l}}const dropdownWrapper="_dropdownWrapper_1sd9j_3",inputContainer="_inputContainer_1sd9j_13",dropdownTrigger="_dropdownTrigger_1sd9j_37",dropdownList="_dropdownList_1sd9j_51",dropdownItem="_dropdownItem_1sd9j_83",dropdownItemActive="_dropdownItemActive_1sd9j_123",inputField="_inputField_1sd9j_163",chevron="_chevron_1sd9j_185",chevronOpen="_chevronOpen_1sd9j_199",styles$E={dropdownWrapper,inputContainer,dropdownTrigger,dropdownList,dropdownItem,dropdownItemActive,inputField,chevron,chevronOpen};function LookUp({value:t,onChange:n,placeholder:r=" ",isInput:s=!1,options:o=[],title:l=" "}){var j;const{isOpen:c,dropdownRef:p,handleOptionClick:m,toggleDropdown:x}=useDropdown(t,r),[b,S]=reactExports$1.useState(t||""),R=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{t!==b&&S(t||"")},[t]);const k=((j=o.find(G=>G.id===t))==null?void 0:j.name)||r,M=G=>{const P=G.target.value;S(P),n(P)};return s?jsxRuntimeExports.jsx("div",{className:styles$E.inputContainer,children:jsxRuntimeExports.jsx("input",{ref:R,type:"text",value:b,onChange:M,placeholder:r,className:styles$E.inputField})}):jsxRuntimeExports.jsx("div",{className:styles$E.dropdownWrapper,children:jsxRuntimeExports.jsxs("div",{className:styles$E.inputContainer,ref:p,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.dropdownTrigger,onClick:x,children:[jsxRuntimeExports.jsx("span",{className:styles$E.inputField,children:k}),jsxRuntimeExports.jsx(HiChevronDown,{className:`${styles$E.chevron} ${c?styles$E.chevronOpen:""}`})]}),c&&jsxRuntimeExports.jsx("div",{className:styles$E.dropdownList,children:o.map(G=>jsxRuntimeExports.jsx("div",{className:`${styles$E.dropdownItem} ${t===G.id?styles$E.dropdownItemActive:""}`,onClick:()=>m(G,n),children:G.name},G.id))})]})})}const countText="_countText_1ceqk_3",styles$D={countText};function CountList({count:t}){return jsxRuntimeExports.jsxs("span",{className:styles$D.countText,children:[" ",t,""]})}const registerButton$1="_registerButton_1e0nv_3",styles$C={registerButton:registerButton$1};function RegisterButton({buttonText:t,onButtonClick:n}){return jsxRuntimeExports.jsx("button",{onClick:n,className:styles$C.registerButton,children:t})}const container$5="_container_1oiix_3",message$1="_message_1oiix_33",buttonText="_buttonText_1oiix_57",instruction="_instruction_1oiix_67",styles$B={container:container$5,message:message$1,buttonText,instruction};function EmptyState({message:t,buttonText:n}){return jsxRuntimeExports.jsxs("div",{className:styles$B.container,children:[jsxRuntimeExports.jsx("p",{className:styles$B.message,children:t}),jsxRuntimeExports.jsx("p",{className:styles$B.buttonText,children:n}),jsxRuntimeExports.jsx("p",{className:styles$B.instruction,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$B.instruction,children:"  ."})]})}function useDebounceSearch({onSearch:t,onEmptySearch:n,onSearchValueChange:r,onClearSearch:s,minLength:o=1,delay:l=500}){const[c,p]=reactExports$1.useState(""),m=reactExports$1.useRef(null),x=S=>{if(p(S),r&&r(S),m.current&&clearTimeout(m.current),!S.trim()){n&&n();return}S.trim().length<o||(m.current=setTimeout(()=>{t(S)},l))},b=()=>{x(""),s&&s()};return reactExports$1.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),{searchValue:c,handleSearchChange:x,clearSearch:b}}const contentContainer$4="_contentContainer_15kk5_3",emptyStateContainer$2="_emptyStateContainer_15kk5_15",searchContainer$2="_searchContainer_15kk5_23",galleryCard$1="_galleryCard_15kk5_31",cardContent$2="_cardContent_15kk5_43",cardInfo$2="_cardInfo_15kk5_53",cardHeader$3="_cardHeader_15kk5_65",cardFooter="_cardFooter_15kk5_77",countAndButtonContainer$3="_countAndButtonContainer_15kk5_127",errorMessage$2="_errorMessage_15kk5_143",galleryImage$2="_galleryImage_15kk5_173",deleteButton$2="_deleteButton_15kk5_197",galleryAddress$1="_galleryAddress_15kk5_227",galleryTitle$2="_galleryTitle_15kk5_285",galleryClosedDay="_galleryClosedDay_15kk5_311",galleryTime="_galleryTime_15kk5_321",separator="_separator_15kk5_341",styles$A={contentContainer:contentContainer$4,emptyStateContainer:emptyStateContainer$2,searchContainer:searchContainer$2,galleryCard:galleryCard$1,cardContent:cardContent$2,cardInfo:cardInfo$2,cardHeader:cardHeader$3,cardFooter,countAndButtonContainer:countAndButtonContainer$3,errorMessage:errorMessage$2,galleryImage:galleryImage$2,deleteButton:deleteButton$2,galleryAddress:galleryAddress$1,galleryTitle:galleryTitle$2,galleryClosedDay,galleryTime,separator};function GalleryManagement({galleryList:t,onDelete:n,loadGalleries:r,isLoading:s,isSearching:o,error:l}){const{showConfirm:c}=useConfirm(),p=useNavigate(),{searchValue:m,handleSearchChange:x}=useDebounceSearch({onSearch:r,onEmptySearch:()=>r(""),minLength:2,delay:500}),b=Array.isArray(t)?t:[],S=async R=>{await c("   ?",!0)&&(await n(R,"gallery"),p("/console/main",{state:{activeTab:""},replace:!0}))};return jsxRuntimeExports.jsxs("div",{className:styles$A.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$A.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:m,onChange:x,placeholder:" ",isInput:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$A.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:b.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>p("/console/galleries/edit/new")})]}),s?jsxRuntimeExports.jsx("div",{className:styles$A.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):l?jsxRuntimeExports.jsx("div",{className:styles$A.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$A.errorMessage,children:[" : ",l]})}):b.length>0?jsxRuntimeExports.jsx("section",{className:styles$A.contentContainer,children:b.map(R=>jsxRuntimeExports.jsxs("div",{className:styles$A.galleryCard,onClick:()=>p(`/console/galleries/${R.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$A.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:R.image,alt:R.name,className:styles$A.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$A.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$A.galleryTitle,children:R.name}),jsxRuntimeExports.jsx("button",{onClick:k=>{k.stopPropagation(),S(R.id)},className:styles$A.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$A.galleryAddress,children:R.address}),jsxRuntimeExports.jsxs("p",{className:styles$A.galleryClosedDay,children:[" | ",R.closedDay]}),jsxRuntimeExports.jsx("p",{className:styles$A.galleryTime,children:R.time})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$A.cardFooter,children:[jsxRuntimeExports.jsxs("span",{children:["  ",R.registered,""]}),jsxRuntimeExports.jsx("span",{className:styles$A.separator,children:"|"}),jsxRuntimeExports.jsxs("span",{children:[" ",R.liked,""]})]})]},R.id))}):jsxRuntimeExports.jsx("section",{className:styles$A.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$3="_contentContainer_1y5f5_3",cardContainer$1="_cardContainer_1y5f5_15",emptyStateContainer$1="_emptyStateContainer_1y5f5_27",searchContainer$1="_searchContainer_1y5f5_35",galleryCard="_galleryCard_1y5f5_43",cardContent$1="_cardContent_1y5f5_53",cardInfo$1="_cardInfo_1y5f5_63",cardHeader$2="_cardHeader_1y5f5_75",countAndButtonContainer$2="_countAndButtonContainer_1y5f5_127",galleryImage$1="_galleryImage_1y5f5_173",deleteButton$1="_deleteButton_1y5f5_197",galleryAddress="_galleryAddress_1y5f5_227",galleryFloor="_galleryFloor_1y5f5_235",galleryTitle$1="_galleryTitle_1y5f5_263",styles$z={contentContainer:contentContainer$3,cardContainer:cardContainer$1,emptyStateContainer:emptyStateContainer$1,searchContainer:searchContainer$1,galleryCard,cardContent:cardContent$1,cardInfo:cardInfo$1,cardHeader:cardHeader$2,countAndButtonContainer:countAndButtonContainer$2,galleryImage:galleryImage$1,deleteButton:deleteButton$1,galleryAddress,galleryFloor,galleryTitle:galleryTitle$1};function ExhibitionManagement({exhibitionList:t,selectedGallery:n,onGalleryChange:r,onDelete:s,loadExhibitions:o,isLoading:l,error:c,galleryList:p}){const m=useNavigate(),{showConfirm:x}=useConfirm(),{showAlert:b}=useAlert(),S=async(G,P)=>{G.stopPropagation(),await x("   ?",!0)&&(await s(P,"exhibition"),m("/console/main",{state:{activeTab:""},replace:!0}))};reactExports$1.useEffect(()=>{p.length>0&&o(" ")},[p.length]);const R=reactExports$1.useMemo(()=>n?t.filter(G=>G.gallery_id===n):t,[t,n]),k=reactExports$1.useMemo(()=>{const G=[],P=new Set(t.map(Q=>Q.gallery_id).filter(Boolean));return p&&p.forEach(Q=>{P.has(Q.id)&&G.push({id:Q.id,name:Q.name,value:Q.id})}),G},[p,t]),M=n,j=()=>{if(!M){b("      .");return}m(`/console/exhibitions/edit/new?gallery_id=${M}`)};return l?jsxRuntimeExports.jsx("div",{className:styles$z.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$z.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$z.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:n,onChange:r,options:k})}),jsxRuntimeExports.jsxs("div",{className:styles$z.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:R.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:j})]}),R.length>0?jsxRuntimeExports.jsx("section",{className:styles$z.cardContainer,children:R.map(G=>jsxRuntimeExports.jsx("div",{className:styles$z.galleryCard,onClick:()=>m(`/console/exhibitions/${G.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$z.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:G.image,alt:G.title,className:styles$z.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$z.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$z.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$z.galleryTitle,children:G.title}),jsxRuntimeExports.jsx("button",{onClick:P=>S(P,G.id),className:styles$z.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$z.galleryAddress,children:G.period}),jsxRuntimeExports.jsx("p",{className:styles$z.galleryFloor,children:G.gallery_name})]})]})},G.id))}):jsxRuntimeExports.jsx("section",{className:styles$z.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$2="_contentContainer_14m9x_3",cardContainer="_cardContainer_14m9x_15",emptyStateContainer="_emptyStateContainer_14m9x_27",searchContainer="_searchContainer_14m9x_35",artworkCard$3="_artworkCard_14m9x_43",cardContent="_cardContent_14m9x_53",cardInfo="_cardInfo_14m9x_63",cardHeader$1="_cardHeader_14m9x_75",countAndButtonContainer$1="_countAndButtonContainer_14m9x_127",artworkImage$2="_artworkImage_14m9x_173",deleteButton="_deleteButton_14m9x_197",artworkArtist$1="_artworkArtist_14m9x_227",artworkExhibition="_artworkExhibition_14m9x_243",artworkTitle$2="_artworkTitle_14m9x_271",styles$y={contentContainer:contentContainer$2,cardContainer,emptyStateContainer,searchContainer,artworkCard:artworkCard$3,cardContent,cardInfo,cardHeader:cardHeader$1,countAndButtonContainer:countAndButtonContainer$1,artworkImage:artworkImage$2,deleteButton,artworkArtist:artworkArtist$1,artworkExhibition,artworkTitle:artworkTitle$2};function ArtworkManagement({artworkList:t,selectedExhibition:n,onExhibitionChange:r,onDelete:s,loadArtworks:o,loadExhibitions:l,isLoading:c,error:p,galleryList:m,exhibitionList:x}){const b=useNavigate(),{showConfirm:S}=useConfirm(),{showAlert:R}=useAlert(),k=async P=>{await S("   ?",!0)&&(await s(P,"artwork"),b("/console/main",{state:{activeTab:""},replace:!0}))};reactExports$1.useEffect(()=>{l&&l(" ")},[]),reactExports$1.useEffect(()=>{if(n){if(!x||x.length===0)return;const P=x.find(Q=>String(Q.id)===String(n));P&&o(P.title)}else o("")},[n,x,o]);const M=()=>{if(!n){R("      .");return}b(`/console/artworks/edit/new?exhibition_id=${n}`)},j=reactExports$1.useMemo(()=>t||[],[t]),G=reactExports$1.useMemo(()=>{const P=[];return x&&x.forEach(Q=>{P.push({id:Q.id,name:Q.title,value:Q.id})}),P},[x]);return c?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$y.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$y.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:n,onChange:r,options:G,placeholder:" "})}),jsxRuntimeExports.jsxs("div",{className:styles$y.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:j.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:M})]}),j.length>0?jsxRuntimeExports.jsx("section",{className:styles$y.cardContainer,children:j.map(P=>{var Q;return jsxRuntimeExports.jsx("div",{className:styles$y.artworkCard,onClick:()=>b(`/console/artworks/${P.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$y.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:P.image,alt:P.title,className:styles$y.artworkImage}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$y.artworkTitle,children:P.title}),jsxRuntimeExports.jsx("button",{onClick:H=>{H.stopPropagation(),k(P.id)},className:styles$y.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$y.artworkArtist,children:P.artist||" "}),jsxRuntimeExports.jsx("p",{className:styles$y.artworkExhibition,children:n?(Q=x.find(H=>H.id===n))==null?void 0:Q.title:P.exhibition_title||P.exhibition_name||"-"})]})]})},P.id)})}):jsxRuntimeExports.jsx("section",{className:styles$y.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ ",onButtonClick:M})})]})}const overlay$3="_overlay_1vrfn_3",modal="_modal_1vrfn_15",header$9="_header_1vrfn_23",countBadge$1="_countBadge_1vrfn_35",label$4="_label_1vrfn_43",buttonContainer="_buttonContainer_1vrfn_51",closeButton$2="_closeButton_1vrfn_113",headerSpacer="_headerSpacer_1vrfn_121",formGroup="_formGroup_1vrfn_137",input$2="_input_1vrfn_153",textarea$3="_textarea_1vrfn_177",sendButton="_sendButton_1vrfn_205",title$9="_title_1vrfn_285",styles$x={overlay:overlay$3,modal,header:header$9,countBadge:countBadge$1,label:label$4,buttonContainer,closeButton:closeButton$2,headerSpacer,formGroup,input:input$2,textarea:textarea$3,sendButton,title:title$9};function AlarmModal({isOpen:t,onClose:n,selectedUsersCount:r,onSendAlarm:s,isSending:o=!1}){const{showConfirm:l}=useConfirm(),[c,p]=reactExports$1.useState(""),[m,x]=reactExports$1.useState(""),{showAlert:b}=useAlert(),S=()=>{p(""),x(""),n()};if(!t)return null;const R=async()=>{if(!c.trim()){b(" .");return}if(!m.trim()){b("  .");return}if(r===0){b("  .  .");return}await l(`     ?
 ,   .`)&&(await s(c.trim(),m.trim()),p(""),x(""))};return jsxRuntimeExports.jsx("div",{className:styles$x.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$x.modal,children:[jsxRuntimeExports.jsxs("header",{className:styles$x.header,children:[jsxRuntimeExports.jsx("button",{onClick:S,className:styles$x.closeButton,children:jsxRuntimeExports.jsx(HiX,{size:24})}),jsxRuntimeExports.jsx("h2",{className:styles$x.title,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$x.headerSpacer})]}),jsxRuntimeExports.jsx("div",{className:styles$x.countBadge,children:jsxRuntimeExports.jsxs("span",{children:["  :  ",r,""]})}),jsxRuntimeExports.jsxs("div",{className:styles$x.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$x.label,children:""}),jsxRuntimeExports.jsx("input",{type:"text",className:styles$x.input,placeholder:" ",value:c,onChange:k=>p(k.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$x.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$x.label,children:" ( 80)"}),jsxRuntimeExports.jsx("textarea",{className:styles$x.textarea,placeholder:"  ",maxLength:80,value:m,onChange:k=>x(k.target.value)})]}),jsxRuntimeExports.jsx("div",{className:styles$x.buttonContainer,children:jsxRuntimeExports.jsx("button",{onClick:R,className:styles$x.sendButton,disabled:o||r===0,children:o?" ...":""})})]})})}const tableCard="_tableCard_14b3v_3",tabHeader="_tabHeader_14b3v_23",tabList="_tabList_14b3v_35",tabButton$3="_tabButton_14b3v_57",tabButtonActive="_tabButtonActive_14b3v_93",tableContainer="_tableContainer_14b3v_107",table="_table_14b3v_3",tableHeader="_tableHeader_14b3v_125",tableRow="_tableRow_14b3v_135",tableRowSelected="_tableRowSelected_14b3v_161",tableCell="_tableCell_14b3v_169",tableHeaderCell="_tableHeaderCell_14b3v_185",checkboxCell="_checkboxCell_14b3v_203",checkboxWrapper="_checkboxWrapper_14b3v_219",checkbox$2="_checkbox_14b3v_203",checkboxCustom="_checkboxCustom_14b3v_247",categoryName="_categoryName_14b3v_395",userName="_userName_14b3v_407",dateCell="_dateCell_14b3v_417",emptyState$2="_emptyState_14b3v_431",emptyIcon="_emptyIcon_14b3v_441",emptyText$1="_emptyText_14b3v_451",emptySubtext="_emptySubtext_14b3v_465",styles$w={tableCard,tabHeader,tabList,tabButton:tabButton$3,tabButtonActive,tableContainer,table,tableHeader,tableRow,tableRowSelected,tableCell,tableHeaderCell,checkboxCell,checkboxWrapper,checkbox:checkbox$2,checkboxCustom,categoryName,userName,dateCell,emptyState:emptyState$2,emptyIcon,emptyText:emptyText$1,emptySubtext};function Table({interestedUserList:t,selectedUserList:n,onUserSelect:r,onSelectAll:s,isAllSelected:o,activeTab:l,onTabChange:c}){const p=()=>{s(t)};return jsxRuntimeExports.jsxs("div",{className:styles$w.tableCard,children:[jsxRuntimeExports.jsx("div",{className:styles$w.tabHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$w.tabList,children:[jsxRuntimeExports.jsx("button",{className:`${styles$w.tabButton} ${l==="all"?styles$w.tabButtonActive:""}`,onClick:()=>c("all"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$w.tabButton} ${l==="gallery"?styles$w.tabButtonActive:""}`,onClick:()=>c("gallery"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$w.tabButton} ${l==="exhibition"?styles$w.tabButtonActive:""}`,onClick:()=>c("exhibition"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$w.tabButton} ${l==="art"?styles$w.tabButtonActive:""}`,onClick:()=>c("art"),children:""})]})}),t.length>0?jsxRuntimeExports.jsx("div",{className:styles$w.tableContainer,children:jsxRuntimeExports.jsxs("table",{className:styles$w.table,children:[jsxRuntimeExports.jsx("thead",{className:styles$w.tableHeader,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:`${styles$w.tableHeaderCell} ${styles$w.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$w.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$w.checkbox,checked:o(t),onChange:p}),jsxRuntimeExports.jsx("span",{className:styles$w.checkboxCustom})]})}),jsxRuntimeExports.jsx("th",{className:styles$w.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$w.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$w.tableHeaderCell,children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:t.map(m=>jsxRuntimeExports.jsxs("tr",{className:`${styles$w.tableRow} ${n.includes(m.id)?styles$w.tableRowSelected:""}`,children:[jsxRuntimeExports.jsx("td",{className:`${styles$w.tableCell} ${styles$w.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$w.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$w.checkbox,checked:n.includes(m.id),onChange:()=>r(m.id)}),jsxRuntimeExports.jsx("span",{className:styles$w.checkboxCustom})]})}),jsxRuntimeExports.jsx("td",{className:styles$w.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$w.categoryName,children:m.category})}),jsxRuntimeExports.jsx("td",{className:styles$w.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$w.userName,children:m.name})}),jsxRuntimeExports.jsx("td",{className:`${styles$w.tableCell} ${styles$w.dateCell}`,children:m.date})]},`${m.type}-${m.id}`))})]})}):jsxRuntimeExports.jsxs("div",{className:styles$w.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$w.emptyIcon,children:""}),jsxRuntimeExports.jsx("p",{className:styles$w.emptyText,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$w.emptySubtext,children:[l==="all"?"":l==="gallery"?"":l==="exhibition"?"":"","   "]})]})]})}function useUserSelection(){const[t,n]=reactExports$1.useState([]);return{selectedUserList:t,handleUserSelect:c=>{n(p=>p.includes(c)?p.filter(m=>m!==c):[...p,c])},handleSelectAll:c=>{if(c.length>0&&c.every(m=>t.includes(m.id))){const m=t.filter(x=>!c.some(b=>b.id===x));n(m)}else{const x=c.filter(b=>!t.includes(b.id)).map(b=>b.id);n(b=>[...b,...x])}},clearSelection:()=>{n([])},isAllSelected:c=>c.length>0&&c.every(p=>t.includes(p.id))}}function useInterestedUser({galleryList:t=[],exhibitionList:n=[],artworkList:r=[]}={}){const{user:s}=useUser(),[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),[b,S]=reactExports$1.useState(null),[R,k]=reactExports$1.useState("all"),M=t.map(oe=>Number(oe.id)),j=n.map(oe=>Number(oe.id)),G=r.map(oe=>Number(oe.id)),P=(oe,xe)=>oe.filter(me=>{var we,Ee,he;if(xe==="gallery"){const ae=Number((we=me.gallery)==null?void 0:we.id);return ae&&M.includes(ae)}else if(xe==="exhibition"){const ae=Number((Ee=me.exhibition)==null?void 0:Ee.id);return ae&&j.includes(ae)}else if(xe==="art"){const ae=Number((he=me.art)==null?void 0:he.id);return ae&&G.includes(ae)}return!0}),Q=async(oe="gallery",xe="")=>{var ve,me;try{p(!0);const we=localStorage.getItem("ACCESS_TOKEN"),Ee=new URLSearchParams;Ee.append("liked_type",oe),xe&&Ee.append("search",xe);const he=await userInstance.get(`/api/users/console/likes?${Ee.toString()}`,{headers:{Authorization:`Bearer ${we}`}}),ue=(Array.isArray(he.data)?P(he.data,oe):[]).map(te=>{var se,Ce,ce,ye,Se,_e,je,Me,Ze;return{id:te.id,userId:te.user_id||((se=te.user)==null?void 0:se.id),name:((Ce=te.user)==null?void 0:Ce.user_name)||"  ",category:((ce=te.gallery)==null?void 0:ce.gallery_name)||((ye=te.exhibition)==null?void 0:ye.exhibition_title)||((Se=te.art)==null?void 0:Se.art_title)||" ",date:te.create_dtm?new Date(te.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((_e=te.user)==null?void 0:_e.user_name)||"  ",galleryName:((je=te.gallery)==null?void 0:je.gallery_name)||"  ",exhibitionName:((Me=te.exhibition)==null?void 0:Me.exhibition_title)||"  ",artworkName:((Ze=te.art)==null?void 0:Ze.art_title)||"  ",type:oe}});l(ue)}catch(we){S(we.message),console.error("   :",we),console.error(" :",(ve=we.response)==null?void 0:ve.data),console.error(" :",(me=we.response)==null?void 0:me.status),l([])}finally{p(!1)}},H=[...o].sort((oe,xe)=>{const ve=new Date(oe.date.replace(/\./g,"-"));return new Date(xe.date.replace(/\./g,"-"))-ve}),X=async(oe,xe="")=>{if(k(oe),xe&&xe.length>=2)if(oe==="all")try{p(!0);const ve=localStorage.getItem("ACCESS_TOKEN"),me=new URLSearchParams;me.append("liked_type","gallery"),me.append("search",xe);const we=new URLSearchParams;we.append("liked_type","exhibition"),we.append("search",xe);const Ee=new URLSearchParams;Ee.append("liked_type","art"),Ee.append("search",xe);const[he,ae,ue]=await Promise.all([userInstance.get(`/api/users/console/likes?${me.toString()}`,{headers:{Authorization:`Bearer ${ve}`}}),userInstance.get(`/api/users/console/likes?${we.toString()}`,{headers:{Authorization:`Bearer ${ve}`}}),userInstance.get(`/api/users/console/likes?${Ee.toString()}`,{headers:{Authorization:`Bearer ${ve}`}})]),te=P(he.data||[],"gallery"),se=P(ae.data||[],"exhibition"),Ce=P(ue.data||[],"art"),ce=[...te.map(ye=>{var Se,_e,je,Me,Ze;return{id:ye.id,userId:ye.user_id||((Se=ye.user)==null?void 0:Se.id),name:((_e=ye.user)==null?void 0:_e.user_name)||"  ",category:((je=ye.gallery)==null?void 0:je.gallery_name)||" ",date:ye.create_dtm?new Date(ye.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Me=ye.user)==null?void 0:Me.user_name)||"  ",galleryName:((Ze=ye.gallery)==null?void 0:Ze.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...se.map(ye=>{var Se,_e,je,Me,Ze;return{id:ye.id,userId:ye.user_id||((Se=ye.user)==null?void 0:Se.id),name:((_e=ye.user)==null?void 0:_e.user_name)||"  ",category:((je=ye.exhibition)==null?void 0:je.exhibition_title)||" ",date:ye.create_dtm?new Date(ye.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Me=ye.user)==null?void 0:Me.user_name)||"  ",galleryName:"  ",exhibitionName:((Ze=ye.exhibition)==null?void 0:Ze.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...Ce.map(ye=>{var Se,_e,je,Me,Ze;return{id:ye.id,userId:ye.user_id||((Se=ye.user)==null?void 0:Se.id),name:((_e=ye.user)==null?void 0:_e.user_name)||"  ",category:((je=ye.art)==null?void 0:je.art_title)||" ",date:ye.create_dtm?new Date(ye.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Me=ye.user)==null?void 0:Me.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Ze=ye.art)==null?void 0:Ze.art_title)||"  ",type:"art"}})];l(ce)}catch(ve){S(ve.message),console.error("+ :",ve),l([])}finally{p(!1)}else await Q(oe,xe);else if(oe==="all")try{p(!0);const ve=localStorage.getItem("ACCESS_TOKEN"),[me,we,Ee]=await Promise.all([userInstance.get("/api/users/console/likes?liked_type=gallery",{headers:{Authorization:`Bearer ${ve}`}}),userInstance.get("/api/users/console/likes?liked_type=exhibition",{headers:{Authorization:`Bearer ${ve}`}}),userInstance.get("/api/users/console/likes?liked_type=art",{headers:{Authorization:`Bearer ${ve}`}})]),he=P(me.data||[],"gallery"),ae=P(we.data||[],"exhibition"),ue=P(Ee.data||[],"art"),te=[...he.map(se=>{var Ce,ce,ye,Se,_e;return{id:se.id,userId:se.user_id||((Ce=se.user)==null?void 0:Ce.id),name:((ce=se.user)==null?void 0:ce.user_name)||"  ",category:((ye=se.gallery)==null?void 0:ye.gallery_name)||" ",date:se.create_dtm?new Date(se.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Se=se.user)==null?void 0:Se.user_name)||"  ",galleryName:((_e=se.gallery)==null?void 0:_e.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...ae.map(se=>{var Ce,ce,ye,Se,_e;return{id:se.id,userId:se.user_id||((Ce=se.user)==null?void 0:Ce.id),name:((ce=se.user)==null?void 0:ce.user_name)||"  ",category:((ye=se.exhibition)==null?void 0:ye.exhibition_title)||" ",date:se.create_dtm?new Date(se.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Se=se.user)==null?void 0:Se.user_name)||"  ",galleryName:"  ",exhibitionName:((_e=se.exhibition)==null?void 0:_e.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...ue.map(se=>{var Ce,ce,ye,Se,_e;return{id:se.id,userId:se.user_id||((Ce=se.user)==null?void 0:Ce.id),name:((ce=se.user)==null?void 0:ce.user_name)||"  ",category:((ye=se.art)==null?void 0:ye.art_title)||" ",date:se.create_dtm?new Date(se.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Se=se.user)==null?void 0:Se.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((_e=se.art)==null?void 0:_e.art_title)||"  ",type:"art"}})];l(te)}catch(ve){S(ve.message),console.error("    :",ve),l([])}finally{p(!1)}else await Q(oe)},ee=async oe=>{if(x(!0),R==="all")try{p(!0);const xe=localStorage.getItem("ACCESS_TOKEN"),ve=new URLSearchParams;ve.append("liked_type","gallery"),ve.append("search",oe);const me=new URLSearchParams;me.append("liked_type","exhibition"),me.append("search",oe);const we=new URLSearchParams;we.append("liked_type","art"),we.append("search",oe);const[Ee,he,ae]=await Promise.all([userInstance.get(`/api/users/console/likes?${ve.toString()}`,{headers:{Authorization:`Bearer ${xe}`}}),userInstance.get(`/api/users/console/likes?${me.toString()}`,{headers:{Authorization:`Bearer ${xe}`}}),userInstance.get(`/api/users/console/likes?${we.toString()}`,{headers:{Authorization:`Bearer ${xe}`}})]),ue=P(Ee.data||[],"gallery"),te=P(he.data||[],"exhibition"),se=P(ae.data||[],"art"),Ce=[...ue.map(ce=>{var ye,Se,_e,je,Me;return{id:ce.id,userId:ce.user_id||((ye=ce.user)==null?void 0:ye.id),name:((Se=ce.user)==null?void 0:Se.user_name)||"  ",category:((_e=ce.gallery)==null?void 0:_e.gallery_name)||" ",date:ce.create_dtm?new Date(ce.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((je=ce.user)==null?void 0:je.user_name)||"  ",galleryName:((Me=ce.gallery)==null?void 0:Me.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...te.map(ce=>{var ye,Se,_e,je,Me;return{id:ce.id,userId:ce.user_id||((ye=ce.user)==null?void 0:ye.id),name:((Se=ce.user)==null?void 0:Se.user_name)||"  ",category:((_e=ce.exhibition)==null?void 0:_e.exhibition_title)||" ",date:ce.create_dtm?new Date(ce.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((je=ce.user)==null?void 0:je.user_name)||"  ",galleryName:"  ",exhibitionName:((Me=ce.exhibition)==null?void 0:Me.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...se.map(ce=>{var ye,Se,_e,je,Me;return{id:ce.id,userId:ce.user_id||((ye=ce.user)==null?void 0:ye.id),name:((Se=ce.user)==null?void 0:Se.user_name)||"  ",category:((_e=ce.art)==null?void 0:_e.art_title)||" ",date:ce.create_dtm?new Date(ce.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((je=ce.user)==null?void 0:je.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Me=ce.art)==null?void 0:Me.art_title)||"  ",type:"art"}})];l(Ce)}catch(xe){S(xe.message),console.error(" :",xe),l([])}finally{p(!1),x(!1)}else try{p(!0),await Q(R,oe)}finally{x(!1)}},{searchValue:ne,handleSearchChange:Y,clearSearch:re}=useDebounceSearch({onSearch:ee,onEmptySearch:()=>X(R),onClearSearch:async()=>{R==="all"?await X("all"):await Q(R,"")},minLength:2,delay:500});return reactExports$1.useEffect(()=>{t.length>0&&X("all")},[t.length,n.length,r.length]),{interestedUserList:H,setInterestedUserList:l,searchQuery:ne,isLoading:c,isSearching:m,error:b,activeTab:R,loadInterestedUsers:Q,handleSearchChange:Y,clearSearch:re,handleTabChange:X}}const contentContainer$1="_contentContainer_m513q_3",countAndButtonContainer="_countAndButtonContainer_m513q_27",loadingContainer="_loadingContainer_m513q_45",errorContainer="_errorContainer_m513q_65",errorMessage$1="_errorMessage_m513q_79",styles$v={contentContainer:contentContainer$1,countAndButtonContainer,loadingContainer,errorContainer,errorMessage:errorMessage$1};function InterestedUserManagement({galleryList:t=[],exhibitionList:n=[],artworkList:r=[]}){const{showAlert:s}=useAlert(),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(null),{selectedUserList:b,handleUserSelect:S,handleSelectAll:R,clearSelection:k,isAllSelected:M}=useUserSelection(),{interestedUserList:j,searchQuery:G,isLoading:P,isSearching:Q,error:H,activeTab:X,handleSearchChange:ee,handleTabChange:ne}=useInterestedUser({galleryList:t,exhibitionList:n,artworkList:r}),Y=async(oe,xe)=>{var ve,me;if(!(!b||b.length===0))try{p(!0),x(null);const we=localStorage.getItem("ACCESS_TOKEN"),Ee=b.map(ae=>{const ue=j.find(te=>String(te.id)===String(ae));return(ue==null?void 0:ue.userId)??null}).filter(ae=>ae!=null);if(Ee.length===0){s("  ID   .");return}const he=await userInstance.post("/api/notification/send",{userIds:Ee,title:oe,message:xe},{headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json"}});s(`${Ee.length}    .`),l(!1),k()}catch(we){console.error("  :",we);const Ee=((me=(ve=we==null?void 0:we.response)==null?void 0:ve.data)==null?void 0:me.message)||we.message||"    .";x(Ee),s(`  .
${Ee}`,"error")}finally{p(!1)}},re=oe=>{ne(oe,G)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$v.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:G,onChange:ee,placeholder:", , ,  ",isInput:!0}),jsxRuntimeExports.jsxs("div",{className:styles$v.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:j.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:" ",onButtonClick:()=>l(!0),disabled:b.length===0||c})]}),m&&jsxRuntimeExports.jsxs("div",{className:styles$v.errorMessage,children:["    : ",m]}),P||Q?jsxRuntimeExports.jsx("div",{className:styles$v.loadingContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):H?jsxRuntimeExports.jsx("div",{className:styles$v.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$v.errorMessage,children:[" : ",H]})}):jsxRuntimeExports.jsx(Table,{interestedUserList:j,selectedUserList:b,onUserSelect:S,onSelectAll:R,isAllSelected:M,activeTab:X,onTabChange:re})]}),jsxRuntimeExports.jsx(AlarmModal,{isOpen:o,onClose:()=>l(!1),selectedUsersCount:b.length,onSendAlarm:Y,isSending:c})]})}function useDeleteItem(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState([]),[l,c]=reactExports$1.useState([]),[p,m]=reactExports$1.useState(!1),[x,b]=reactExports$1.useState(!1),[S,R]=reactExports$1.useState(null),{showAlert:k}=useAlert(),M=reactExports$1.useCallback(async(Q="")=>{var H,X,ee;try{m(!0),Q.trim()&&b(!0);const ne=new URLSearchParams;Q&&ne.append("search",Q),ne.append("is_console",!0);const Y=`/api/galleries${ne.toString()?`?${ne.toString()}`:""}`,re=await userInstance.get(Y),oe=Array.isArray(re.data)?re.data.map(xe=>({id:xe.id,name:xe.gallery_name,address:xe.gallery_address,closedDay:xe.gallery_closed_day,time:`${xe.gallery_start_time} - ${xe.gallery_end_time}`,registered:xe.exhibitions?xe.exhibitions.length:0,liked:xe.like_count,image:xe.gallery_image})):[];r(oe)}catch(ne){R(ne.message),console.error("   :",ne),console.error(" :",(H=ne.response)==null?void 0:H.data),console.error(" :",(X=ne.response)==null?void 0:X.status),console.error(" :",(ee=ne.response)==null?void 0:ee.headers),r([])}finally{m(!1),b(!1)}},[]),j=reactExports$1.useCallback(async(Q="")=>{try{m(!0);const H=new URLSearchParams;Q&&Q!==" "&&H.append("gallery_name",Q);const X=`/api/exhibitions${H.toString()?`?${H.toString()}`:""}`,ee=await userInstance.get(X),ne=n.map(re=>re.id),Y=Array.isArray(ee.data)?ee.data.filter(re=>ne.includes(re.gallery_id)).map(re=>{var oe,xe;return{id:re.id,title:re.exhibition_title,period:`${re.exhibition_start_date} - ${re.exhibition_end_date}`,image:re.exhibition_poster||null,gallery_name:((oe=re.exhibition_organization)==null?void 0:oe.name)||"  ",gallery_id:re.gallery_id||null,value:((xe=re.exhibition_organization)==null?void 0:xe.name)||"  "}}):[];o(Y)}catch(H){R(H.message),console.error("   :",H),o([])}finally{m(!1)}},[n]),G=reactExports$1.useCallback(async(Q="")=>{try{m(!0);const H=new URLSearchParams;Q&&Q!==" "&&H.append("exhibition_title",Q);const X=`/api/arts${H.toString()?`?${H.toString()}`:""}`,ee=await userInstance.get(X),ne=Array.isArray(ee.data)?ee.data.map(Y=>{var oe,xe;const re=Y.exhibitions&&Y.exhibitions.length>0?Y.exhibitions[0]:null;return{id:Y.id,title:Y.art_title||Y.title,artist:((oe=Y.artist)==null?void 0:oe.artist_name)||Y.artist_name||"  ",image:Y.art_image||Y.image_url||Y.image,gallery_name:((xe=re==null?void 0:re.gallery)==null?void 0:xe.gallery_name)||"",exhibition_title:(re==null?void 0:re.exhibition_title)||""}}):[];c(ne)}catch(H){R(H.message),console.error("   :",H),c([])}finally{m(!1)}},[]);return reactExports$1.useEffect(()=>{t!=null&&t.id&&M()},[t==null?void 0:t.id]),reactExports$1.useEffect(()=>{n.length>0&&j(" ")},[n.length]),reactExports$1.useEffect(()=>{s.length>0&&G(" ")},[s.length]),{galleryList:n,exhibitionList:s,artworkList:l,handleDelete:async(Q,H)=>{try{H==="gallery"?r(ee=>ee.filter(ne=>ne.id!==Q)):H==="exhibition"?o(ee=>ee.filter(ne=>ne.id!==Q)):H==="artwork"&&c(ee=>ee.filter(ne=>ne.id!==Q));let X;if(H==="gallery"?X=await userInstance.delete(`/api/galleries/${Q}`):H==="exhibition"?X=await userInstance.delete(`/api/exhibitions/${Q}`):H==="artwork"&&(X=await userInstance.delete(`/api/arts/${Q}`)),typeof X.data=="string"&&(X.data.includes("Fatal error")||X.data.includes("Integrity constraint violation")))throw new Error("FOREIGN_KEY_ERROR");k(`${H==="gallery"?"":H==="exhibition"?"":""}  .`)}catch(X){console.error(" :",X),X.message==="FOREIGN_KEY_ERROR"?k(`${H==="gallery"?"":H==="exhibition"?"":" "}   .
 ${H==="gallery"?"":""}   (${H==="gallery"?"":", "} )  .`,"error"):k("   .  .","error"),H==="gallery"?M():H==="exhibition"?j(" "):H==="artwork"&&G("")}},loadGalleries:M,loadExhibitions:j,loadArtworks:G,isLoading:p,isSearching:x,error:S}}const layout$b="_layout_1pq3h_3",tabSection="_tabSection_1pq3h_19",content$3="_content_1pq3h_39",styles$u={layout:layout$b,tabSection,content:content$3};function ConsoleMain({defaultTab:t="",defaultGallery:n=" "}){const r=useLocation(),[s,o]=reactExports$1.useState(t),[l,c]=reactExports$1.useState(null),[p,m]=reactExports$1.useState(null);reactExports$1.useEffect(()=>{var ee;(ee=r.state)!=null&&ee.activeTab&&o(r.state.activeTab)},[r.state]);const x=ee=>{o(ee),ee===""?m(null):c(null)},b=["","","",""],{galleryList:S,exhibitionList:R,artworkList:k,handleDelete:M,loadGalleries:j,loadExhibitions:G,loadArtworks:P,isLoading:Q,isSearching:H,error:X}=useDeleteItem();return jsxRuntimeExports.jsxs("div",{className:styles$u.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$u.tabSection,children:jsxRuntimeExports.jsx(ActionBar,{tabList:b,activeTab:s,onTabChange:x})}),jsxRuntimeExports.jsxs("div",{className:styles$u.content,children:[s===""&&jsxRuntimeExports.jsx(GalleryManagement,{galleryList:S,onDelete:M,loadGalleries:j,isLoading:Q,isSearching:H,error:X}),s===""&&jsxRuntimeExports.jsx(ExhibitionManagement,{exhibitionList:R,selectedGallery:l,onGalleryChange:c,onDelete:M,loadExhibitions:G,isLoading:Q,error:X,galleryList:S}),s===""&&jsxRuntimeExports.jsx(ArtworkManagement,{artworkList:k,selectedExhibition:p,onExhibitionChange:m,onDelete:M,loadArtworks:P,loadExhibitions:G,isLoading:Q,error:X,galleryList:S,exhibitionList:R},s),s===""&&jsxRuntimeExports.jsx(InterestedUserManagement,{galleryList:S,exhibitionList:R,artworkList:k})]})]})}function LayoutConsole(){const{user:t,isLoading:n}=useUser();return n?jsxRuntimeExports.jsx("div",{children:" ..."}):t?t.admin_flag===1?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{flex:1},children:jsxRuntimeExports.jsx(Outlet,{})})]}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}const layout$a="_layout_1n1bs_1",header$8="_header_1n1bs_9",title$8="_title_1n1bs_35",backButton$7="_backButton_1n1bs_45",content$2="_content_1n1bs_63",adminTabNav="_adminTabNav_1n1bs_77",adminTabButton="_adminTabButton_1n1bs_103",addButton="_addButton_1n1bs_193",styles$t={layout:layout$a,header:header$8,title:title$8,backButton:backButton$7,content:content$2,adminTabNav,adminTabButton,addButton};var lib={},ErrorCorrectLevel,hasRequiredErrorCorrectLevel;function requireErrorCorrectLevel(){return hasRequiredErrorCorrectLevel||(hasRequiredErrorCorrectLevel=1,ErrorCorrectLevel={L:1,M:0,Q:3,H:2}),ErrorCorrectLevel}var mode,hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,mode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),mode}var _8BitByte,hasRequired_8BitByte;function require_8BitByte(){if(hasRequired_8BitByte)return _8BitByte;hasRequired_8BitByte=1;var t=requireMode();function n(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return n.prototype={getLength:function(r){return this.data.length},write:function(r){for(var s=0;s<this.data.length;s++)r.put(this.data.charCodeAt(s),8)}},_8BitByte=n,_8BitByte}var RSBlock,hasRequiredRSBlock;function requireRSBlock(){if(hasRequiredRSBlock)return RSBlock;hasRequiredRSBlock=1;var t=requireErrorCorrectLevel();function n(r,s){this.totalCount=r,this.dataCount=s}return n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(r,s){var o=n.getRsBlockTable(r,s);if(o==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+s);for(var l=o.length/3,c=new Array,p=0;p<l;p++)for(var m=o[p*3+0],x=o[p*3+1],b=o[p*3+2],S=0;S<m;S++)c.push(new n(x,b));return c},n.getRsBlockTable=function(r,s){switch(s){case t.L:return n.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return n.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return n.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return n.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},RSBlock=n,RSBlock}var BitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return BitBuffer;hasRequiredBitBuffer=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(n){var r=Math.floor(n/8);return(this.buffer[r]>>>7-n%8&1)==1},put:function(n,r){for(var s=0;s<r;s++)this.putBit((n>>>r-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),n&&(this.buffer[r]|=128>>>this.length%8),this.length++}},BitBuffer=t,BitBuffer}var math,hasRequiredMath;function requireMath(){if(hasRequiredMath)return math;hasRequiredMath=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(var n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;return math=t,math}var Polynomial,hasRequiredPolynomial;function requirePolynomial(){if(hasRequiredPolynomial)return Polynomial;hasRequiredPolynomial=1;var t=requireMath();function n(r,s){if(r.length==null)throw new Error(r.length+"/"+s);for(var o=0;o<r.length&&r[o]==0;)o++;this.num=new Array(r.length-o+s);for(var l=0;l<r.length-o;l++)this.num[l]=r[l+o]}return n.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var s=new Array(this.getLength()+r.getLength()-1),o=0;o<this.getLength();o++)for(var l=0;l<r.getLength();l++)s[o+l]^=t.gexp(t.glog(this.get(o))+t.glog(r.get(l)));return new n(s,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var s=t.glog(this.get(0))-t.glog(r.get(0)),o=new Array(this.getLength()),l=0;l<this.getLength();l++)o[l]=this.get(l);for(var l=0;l<r.getLength();l++)o[l]^=t.gexp(t.glog(r.get(l))+s);return new n(o,0).mod(r)}},Polynomial=n,Polynomial}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var t=requireMode(),n=requirePolynomial(),r=requireMath(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;o.getBCHDigit(c)-o.getBCHDigit(o.G15)>=0;)c^=o.G15<<o.getBCHDigit(c)-o.getBCHDigit(o.G15);return(l<<10|c)^o.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;o.getBCHDigit(c)-o.getBCHDigit(o.G18)>=0;)c^=o.G18<<o.getBCHDigit(c)-o.getBCHDigit(o.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return o.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,p){switch(l){case s.PATTERN000:return(c+p)%2==0;case s.PATTERN001:return c%2==0;case s.PATTERN010:return p%3==0;case s.PATTERN011:return(c+p)%3==0;case s.PATTERN100:return(Math.floor(c/2)+Math.floor(p/3))%2==0;case s.PATTERN101:return c*p%2+c*p%3==0;case s.PATTERN110:return(c*p%2+c*p%3)%2==0;case s.PATTERN111:return(c*p%3+(c+p)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new n([1],0),p=0;p<l;p++)c=c.multiply(new n([1,r.gexp(p)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(c<41)switch(l){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+c)},getLostPoint:function(l){for(var c=l.getModuleCount(),p=0,m=0;m<c;m++)for(var x=0;x<c;x++){for(var b=0,S=l.isDark(m,x),R=-1;R<=1;R++)if(!(m+R<0||c<=m+R))for(var k=-1;k<=1;k++)x+k<0||c<=x+k||R==0&&k==0||S==l.isDark(m+R,x+k)&&b++;b>5&&(p+=3+b-5)}for(var m=0;m<c-1;m++)for(var x=0;x<c-1;x++){var M=0;l.isDark(m,x)&&M++,l.isDark(m+1,x)&&M++,l.isDark(m,x+1)&&M++,l.isDark(m+1,x+1)&&M++,(M==0||M==4)&&(p+=3)}for(var m=0;m<c;m++)for(var x=0;x<c-6;x++)l.isDark(m,x)&&!l.isDark(m,x+1)&&l.isDark(m,x+2)&&l.isDark(m,x+3)&&l.isDark(m,x+4)&&!l.isDark(m,x+5)&&l.isDark(m,x+6)&&(p+=40);for(var x=0;x<c;x++)for(var m=0;m<c-6;m++)l.isDark(m,x)&&!l.isDark(m+1,x)&&l.isDark(m+2,x)&&l.isDark(m+3,x)&&l.isDark(m+4,x)&&!l.isDark(m+5,x)&&l.isDark(m+6,x)&&(p+=40);for(var j=0,x=0;x<c;x++)for(var m=0;m<c;m++)l.isDark(m,x)&&j++;var G=Math.abs(100*j/c/c-50)/5;return p+=G*10,p}};return util=o,util}var QRCode_1,hasRequiredQRCode;function requireQRCode(){if(hasRequiredQRCode)return QRCode_1;hasRequiredQRCode=1;var t=require_8BitByte(),n=requireRSBlock(),r=requireBitBuffer(),s=requireUtil(),o=requirePolynomial();function l(p,m){this.typeNumber=p,this.errorCorrectLevel=m,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;return c.addData=function(p){var m=new t(p);this.dataList.push(m),this.dataCache=null},c.isDark=function(p,m){if(p<0||this.moduleCount<=p||m<0||this.moduleCount<=m)throw new Error(p+","+m);return this.modules[p][m]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var p=1;for(p=1;p<40;p++){for(var m=n.getRSBlocks(p,this.errorCorrectLevel),x=new r,b=0,S=0;S<m.length;S++)b+=m[S].dataCount;for(var S=0;S<this.dataList.length;S++){var R=this.dataList[S];x.put(R.mode,4),x.put(R.getLength(),s.getLengthInBits(R.mode,p)),R.write(x)}if(x.getLengthInBits()<=b*8)break}this.typeNumber=p}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(p,m){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var x=0;x<this.moduleCount;x++){this.modules[x]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[x][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(p,m),this.typeNumber>=7&&this.setupTypeNumber(p),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,m)},c.setupPositionProbePattern=function(p,m){for(var x=-1;x<=7;x++)if(!(p+x<=-1||this.moduleCount<=p+x))for(var b=-1;b<=7;b++)m+b<=-1||this.moduleCount<=m+b||(0<=x&&x<=6&&(b==0||b==6)||0<=b&&b<=6&&(x==0||x==6)||2<=x&&x<=4&&2<=b&&b<=4?this.modules[p+x][m+b]=!0:this.modules[p+x][m+b]=!1)},c.getBestMaskPattern=function(){for(var p=0,m=0,x=0;x<8;x++){this.makeImpl(!0,x);var b=s.getLostPoint(this);(x==0||p>b)&&(p=b,m=x)}return m},c.createMovieClip=function(p,m,x){var b=p.createEmptyMovieClip(m,x),S=1;this.make();for(var R=0;R<this.modules.length;R++)for(var k=R*S,M=0;M<this.modules[R].length;M++){var j=M*S,G=this.modules[R][M];G&&(b.beginFill(0,100),b.moveTo(j,k),b.lineTo(j+S,k),b.lineTo(j+S,k+S),b.lineTo(j,k+S),b.endFill())}return b},c.setupTimingPattern=function(){for(var p=8;p<this.moduleCount-8;p++)this.modules[p][6]==null&&(this.modules[p][6]=p%2==0);for(var m=8;m<this.moduleCount-8;m++)this.modules[6][m]==null&&(this.modules[6][m]=m%2==0)},c.setupPositionAdjustPattern=function(){for(var p=s.getPatternPosition(this.typeNumber),m=0;m<p.length;m++)for(var x=0;x<p.length;x++){var b=p[m],S=p[x];if(this.modules[b][S]==null)for(var R=-2;R<=2;R++)for(var k=-2;k<=2;k++)R==-2||R==2||k==-2||k==2||R==0&&k==0?this.modules[b+R][S+k]=!0:this.modules[b+R][S+k]=!1}},c.setupTypeNumber=function(p){for(var m=s.getBCHTypeNumber(this.typeNumber),x=0;x<18;x++){var b=!p&&(m>>x&1)==1;this.modules[Math.floor(x/3)][x%3+this.moduleCount-8-3]=b}for(var x=0;x<18;x++){var b=!p&&(m>>x&1)==1;this.modules[x%3+this.moduleCount-8-3][Math.floor(x/3)]=b}},c.setupTypeInfo=function(p,m){for(var x=this.errorCorrectLevel<<3|m,b=s.getBCHTypeInfo(x),S=0;S<15;S++){var R=!p&&(b>>S&1)==1;S<6?this.modules[S][8]=R:S<8?this.modules[S+1][8]=R:this.modules[this.moduleCount-15+S][8]=R}for(var S=0;S<15;S++){var R=!p&&(b>>S&1)==1;S<8?this.modules[8][this.moduleCount-S-1]=R:S<9?this.modules[8][15-S-1+1]=R:this.modules[8][15-S-1]=R}this.modules[this.moduleCount-8][8]=!p},c.mapData=function(p,m){for(var x=-1,b=this.moduleCount-1,S=7,R=0,k=this.moduleCount-1;k>0;k-=2)for(k==6&&k--;;){for(var M=0;M<2;M++)if(this.modules[b][k-M]==null){var j=!1;R<p.length&&(j=(p[R]>>>S&1)==1);var G=s.getMask(m,b,k-M);G&&(j=!j),this.modules[b][k-M]=j,S--,S==-1&&(R++,S=7)}if(b+=x,b<0||this.moduleCount<=b){b-=x,x=-x;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(p,m,x){for(var b=n.getRSBlocks(p,m),S=new r,R=0;R<x.length;R++){var k=x[R];S.put(k.mode,4),S.put(k.getLength(),s.getLengthInBits(k.mode,p)),k.write(S)}for(var M=0,R=0;R<b.length;R++)M+=b[R].dataCount;if(S.getLengthInBits()>M*8)throw new Error("code length overflow. ("+S.getLengthInBits()+">"+M*8+")");for(S.getLengthInBits()+4<=M*8&&S.put(0,4);S.getLengthInBits()%8!=0;)S.putBit(!1);for(;!(S.getLengthInBits()>=M*8||(S.put(l.PAD0,8),S.getLengthInBits()>=M*8));)S.put(l.PAD1,8);return l.createBytes(S,b)},l.createBytes=function(p,m){for(var x=0,b=0,S=0,R=new Array(m.length),k=new Array(m.length),M=0;M<m.length;M++){var j=m[M].dataCount,G=m[M].totalCount-j;b=Math.max(b,j),S=Math.max(S,G),R[M]=new Array(j);for(var P=0;P<R[M].length;P++)R[M][P]=255&p.buffer[P+x];x+=j;var Q=s.getErrorCorrectPolynomial(G),H=new o(R[M],Q.getLength()-1),X=H.mod(Q);k[M]=new Array(Q.getLength()-1);for(var P=0;P<k[M].length;P++){var ee=P+X.getLength()-k[M].length;k[M][P]=ee>=0?X.get(ee):0}}for(var ne=0,P=0;P<m.length;P++)ne+=m[P].totalCount;for(var Y=new Array(ne),re=0,P=0;P<b;P++)for(var M=0;M<m.length;M++)P<R[M].length&&(Y[re++]=R[M][P]);for(var P=0;P<S;P++)for(var M=0;M<m.length;M++)P<k[M].length&&(Y[re++]=k[M][P]);return Y},QRCode_1=l,QRCode_1}var QRCodeSvg={},hasRequiredQRCodeSvg;function requireQRCodeSvg(){if(hasRequiredQRCodeSvg)return QRCodeSvg;hasRequiredQRCodeSvg=1,Object.defineProperty(QRCodeSvg,"__esModule",{value:!0});var t=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(x[R]=S[R])}return x},n=requirePropTypes(),r=l(n),s=requireReact$1(),o=l(s);function l(x){return x&&x.__esModule?x:{default:x}}function c(x,b){var S={};for(var R in x)b.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(x,R)&&(S[R]=x[R]);return S}var p={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},m=(0,s.forwardRef)(function(x,b){var S=x.bgColor,R=x.bgD,k=x.fgD,M=x.fgColor,j=x.size,G=x.title,P=x.viewBoxSize,Q=x.xmlns,H=Q===void 0?"http://www.w3.org/2000/svg":Q,X=c(x,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",t({},X,{height:j,ref:b,viewBox:"0 0 "+P+" "+P,width:j,xmlns:H}),G?o.default.createElement("title",null,G):null,o.default.createElement("path",{d:R,fill:S}),o.default.createElement("path",{d:k,fill:M}))});return m.displayName="QRCodeSvg",m.propTypes=p,QRCodeSvg.default=m,QRCodeSvg}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.QRCode=void 0;var t=Object.assign||function(j){for(var G=1;G<arguments.length;G++){var P=arguments[G];for(var Q in P)Object.prototype.hasOwnProperty.call(P,Q)&&(j[Q]=P[Q])}return j},n=requirePropTypes(),r=S(n),s=requireErrorCorrectLevel(),o=S(s),l=requireQRCode(),c=S(l),p=requireReact$1(),m=S(p),x=requireQRCodeSvg(),b=S(x);function S(j){return j&&j.__esModule?j:{default:j}}function R(j,G){var P={};for(var Q in j)G.indexOf(Q)>=0||Object.prototype.hasOwnProperty.call(j,Q)&&(P[Q]=j[Q]);return P}var k={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},M=(0,p.forwardRef)(function(j,G){var P=j.bgColor,Q=P===void 0?"#FFFFFF":P,H=j.fgColor,X=H===void 0?"#000000":H,ee=j.level,ne=ee===void 0?"L":ee,Y=j.size,re=Y===void 0?256:Y,oe=j.value,xe=R(j,["bgColor","fgColor","level","size","value"]),ve=new c.default(-1,o.default[ne]);ve.addData(oe),ve.make();var me=ve.modules;return m.default.createElement(b.default,t({},xe,{bgColor:Q,bgD:me.map(function(we,Ee){return we.map(function(he,ae){return he?"":"M "+ae+" "+Ee+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:X,fgD:me.map(function(we,Ee){return we.map(function(he,ae){return he?"M "+ae+" "+Ee+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:G,size:re,viewBoxSize:me.length}))});return lib.QRCode=M,M.displayName="QRCode",M.propTypes=k,lib.default=M,lib}var libExports=requireLib();const QRCode=getDefaultExportFromCjs(libExports);function resolveUrl(t,n){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),s=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(s),r.body.appendChild(o),n&&(s.href=n),o.href=t,o.href}const uuid=(()=>{let t=0;const n=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${n()}${t}`)})();function toArray(t){const n=[];for(let r=0,s=t.length;r<s;r++)n.push(t[r]);return n}let styleProps=null;function getStyleProperties(t={}){return styleProps||(t.includeStyleProperties?(styleProps=t.includeStyleProperties,styleProps):(styleProps=toArray(window.getComputedStyle(document.documentElement)),styleProps))}function px(t,n){const s=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(n);return s?parseFloat(s.replace("px","")):0}function getNodeWidth(t){const n=px(t,"border-left-width"),r=px(t,"border-right-width");return t.clientWidth+n+r}function getNodeHeight(t){const n=px(t,"border-top-width"),r=px(t,"border-bottom-width");return t.clientHeight+n+r}function getImageSize(t,n={}){const r=n.width||getNodeWidth(t),s=n.height||getNodeHeight(t);return{width:r,height:s}}function getPixelRatio(){let t,n;try{n=process}catch{}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(t){(t.width>canvasDimensionLimit||t.height>canvasDimensionLimit)&&(t.width>canvasDimensionLimit&&t.height>canvasDimensionLimit?t.width>t.height?(t.height*=canvasDimensionLimit/t.width,t.width=canvasDimensionLimit):(t.width*=canvasDimensionLimit/t.height,t.height=canvasDimensionLimit):t.width>canvasDimensionLimit?(t.height*=canvasDimensionLimit/t.width,t.width=canvasDimensionLimit):(t.width*=canvasDimensionLimit/t.height,t.height=canvasDimensionLimit))}function createImage(t){return new Promise((n,r)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>n(s))})},s.onerror=r,s.crossOrigin="anonymous",s.decoding="async",s.src=t})}async function svgToDataURL(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)}async function nodeToDataURL(t,n,r){const s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${n}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${n} ${r}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),o.appendChild(l),l.appendChild(t),svgToDataURL(o)}const isInstanceOfElement=(t,n)=>{if(t instanceof n)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===n.name||isInstanceOfElement(r,n)};function formatCSSText(t){const n=t.getPropertyValue("content");return`${t.cssText} content: '${n.replace(/'|"/g,"")}';`}function formatCSSProperties(t,n){return getStyleProperties(n).map(r=>{const s=t.getPropertyValue(r),o=t.getPropertyPriority(r);return`${r}: ${s}${o?" !important":""};`}).join(" ")}function getPseudoElementStyle(t,n,r,s){const o=`.${t}:${n}`,l=r.cssText?formatCSSText(r):formatCSSProperties(r,s);return document.createTextNode(`${o}{${l}}`)}function clonePseudoElement(t,n,r,s){const o=window.getComputedStyle(t,r),l=o.getPropertyValue("content");if(l===""||l==="none")return;const c=uuid();try{n.className=`${n.className} ${c}`}catch{return}const p=document.createElement("style");p.appendChild(getPseudoElementStyle(c,r,o,s)),n.appendChild(p)}function clonePseudoElements(t,n,r){clonePseudoElement(t,n,":before",r),clonePseudoElement(t,n,":after",r)}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(t){const n=/\.([^./]*?)$/g.exec(t);return n?n[1]:""}function getMimeType(t){const n=getExtension(t).toLowerCase();return mimes[n]||""}function getContentFromDataUrl(t){return t.split(/,/)[1]}function isDataUrl(t){return t.search(/^(data:)/)!==-1}function makeDataUrl(t,n){return`data:${n};base64,${t}`}async function fetchAsDataURL(t,n,r){const s=await fetch(t,n);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const o=await s.blob();return new Promise((l,c)=>{const p=new FileReader;p.onerror=c,p.onloadend=()=>{try{l(r({res:s,result:p.result}))}catch(m){c(m)}},p.readAsDataURL(o)})}const cache={};function getCacheKey(t,n,r){let s=t.replace(/\?.*/,"");return r&&(s=t),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),n?`[${n}]${s}`:s}async function resourceToDataURL(t,n,r){const s=getCacheKey(t,n,r.includeQueryParams);if(cache[s]!=null)return cache[s];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let o;try{const l=await fetchAsDataURL(t,r.fetchRequestInit,({res:c,result:p})=>(n||(n=c.headers.get("Content-Type")||""),getContentFromDataUrl(p)));o=makeDataUrl(l,n)}catch(l){o=r.imagePlaceholder||"";let c=`Failed to fetch resource: ${t}`;l&&(c=typeof l=="string"?l:l.message),c&&console.warn(c)}return cache[s]=o,o}async function cloneCanvasElement(t){const n=t.toDataURL();return n==="data:,"?t.cloneNode(!1):createImage(n)}async function cloneVideoElement(t,n){if(t.currentSrc){const l=document.createElement("canvas"),c=l.getContext("2d");l.width=t.clientWidth,l.height=t.clientHeight,c==null||c.drawImage(t,0,0,l.width,l.height);const p=l.toDataURL();return createImage(p)}const r=t.poster,s=getMimeType(r),o=await resourceToDataURL(r,s,n);return createImage(o)}async function cloneIFrameElement(t,n){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await cloneNode(t.contentDocument.body,n,!0)}catch{}return t.cloneNode(!1)}async function cloneSingleNode(t,n){return isInstanceOfElement(t,HTMLCanvasElement)?cloneCanvasElement(t):isInstanceOfElement(t,HTMLVideoElement)?cloneVideoElement(t,n):isInstanceOfElement(t,HTMLIFrameElement)?cloneIFrameElement(t,n):t.cloneNode(isSVGElement$1(t))}const isSlotElement$1=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",isSVGElement$1=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function cloneChildren(t,n,r){var s,o;if(isSVGElement$1(n))return n;let l=[];return isSlotElement$1(t)&&t.assignedNodes?l=toArray(t.assignedNodes()):isInstanceOfElement(t,HTMLIFrameElement)&&(!((s=t.contentDocument)===null||s===void 0)&&s.body)?l=toArray(t.contentDocument.body.childNodes):l=toArray(((o=t.shadowRoot)!==null&&o!==void 0?o:t).childNodes),l.length===0||isInstanceOfElement(t,HTMLVideoElement)||await l.reduce((c,p)=>c.then(()=>cloneNode(p,r)).then(m=>{m&&n.appendChild(m)}),Promise.resolve()),n}function cloneCSSStyle(t,n,r){const s=n.style;if(!s)return;const o=window.getComputedStyle(t);o.cssText?(s.cssText=o.cssText,s.transformOrigin=o.transformOrigin):getStyleProperties(r).forEach(l=>{let c=o.getPropertyValue(l);l==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),isInstanceOfElement(t,HTMLIFrameElement)&&l==="display"&&c==="inline"&&(c="block"),l==="d"&&n.getAttribute("d")&&(c=`path(${n.getAttribute("d")})`),s.setProperty(l,c,o.getPropertyPriority(l))})}function cloneInputValue(t,n){isInstanceOfElement(t,HTMLTextAreaElement)&&(n.innerHTML=t.value),isInstanceOfElement(t,HTMLInputElement)&&n.setAttribute("value",t.value)}function cloneSelectValue(t,n){if(isInstanceOfElement(t,HTMLSelectElement)){const s=Array.from(n.children).find(o=>t.value===o.getAttribute("value"));s&&s.setAttribute("selected","")}}function decorate(t,n,r){return isInstanceOfElement(n,Element)&&(cloneCSSStyle(t,n,r),clonePseudoElements(t,n,r),cloneInputValue(t,n),cloneSelectValue(t,n)),n}async function ensureSVGSymbols(t,n){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const s={};for(let l=0;l<r.length;l++){const p=r[l].getAttribute("xlink:href");if(p){const m=t.querySelector(p),x=document.querySelector(p);!m&&x&&!s[p]&&(s[p]=await cloneNode(x,n,!0))}}const o=Object.values(s);if(o.length){const l="http://www.w3.org/1999/xhtml",c=document.createElementNS(l,"svg");c.setAttribute("xmlns",l),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const p=document.createElementNS(l,"defs");c.appendChild(p);for(let m=0;m<o.length;m++)p.appendChild(o[m]);t.appendChild(c)}return t}async function cloneNode(t,n,r){return!r&&n.filter&&!n.filter(t)?null:Promise.resolve(t).then(s=>cloneSingleNode(s,n)).then(s=>cloneChildren(t,s,n)).then(s=>decorate(t,s,n)).then(s=>ensureSVGSymbols(s,n))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(t){const n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}function parseURLs(t){const n=[];return t.replace(URL_REGEX,(r,s,o)=>(n.push(o),r)),n.filter(r=>!isDataUrl(r))}async function embed(t,n,r,s,o){try{const l=r?resolveUrl(n,r):n,c=getMimeType(n);let p;return o||(p=await resourceToDataURL(l,c,s)),t.replace(toRegex(n),`$1${p}$3`)}catch{}return t}function filterPreferredFontFormat(t,{preferredFontFormat:n}){return n?t.replace(FONT_SRC_REGEX,r=>{for(;;){const[s,,o]=URL_WITH_FORMAT_REGEX.exec(r)||[];if(!o)return"";if(o===n)return`src: ${s};`}}):t}function shouldEmbed(t){return t.search(URL_REGEX)!==-1}async function embedResources(t,n,r){if(!shouldEmbed(t))return t;const s=filterPreferredFontFormat(t,r);return parseURLs(s).reduce((l,c)=>l.then(p=>embed(p,c,n,r)),Promise.resolve(s))}async function embedProp(t,n,r){var s;const o=(s=n.style)===null||s===void 0?void 0:s.getPropertyValue(t);if(o){const l=await embedResources(o,null,r);return n.style.setProperty(t,l,n.style.getPropertyPriority(t)),!0}return!1}async function embedBackground(t,n){await embedProp("background",t,n)||await embedProp("background-image",t,n),await embedProp("mask",t,n)||await embedProp("-webkit-mask",t,n)||await embedProp("mask-image",t,n)||await embedProp("-webkit-mask-image",t,n)}async function embedImageNode(t,n){const r=isInstanceOfElement(t,HTMLImageElement);if(!(r&&!isDataUrl(t.src))&&!(isInstanceOfElement(t,SVGImageElement)&&!isDataUrl(t.href.baseVal)))return;const s=r?t.src:t.href.baseVal,o=await resourceToDataURL(s,getMimeType(s),n);await new Promise((l,c)=>{t.onload=l,t.onerror=n.onImageErrorHandler?(...m)=>{try{l(n.onImageErrorHandler(...m))}catch(x){c(x)}}:c;const p=t;p.decode&&(p.decode=l),p.loading==="lazy"&&(p.loading="eager"),r?(t.srcset="",t.src=o):t.href.baseVal=o})}async function embedChildren(t,n){const s=toArray(t.childNodes).map(o=>embedImages(o,n));await Promise.all(s).then(()=>t)}async function embedImages(t,n){isInstanceOfElement(t,Element)&&(await embedBackground(t,n),await embedImageNode(t,n),await embedChildren(t,n))}function applyStyle(t,n){const{style:r}=t;n.backgroundColor&&(r.backgroundColor=n.backgroundColor),n.width&&(r.width=`${n.width}px`),n.height&&(r.height=`${n.height}px`);const s=n.style;return s!=null&&Object.keys(s).forEach(o=>{r[o]=s[o]}),t}const cssFetchCache={};async function fetchCSS(t){let n=cssFetchCache[t];if(n!=null)return n;const s=await(await fetch(t)).text();return n={url:t,cssText:s},cssFetchCache[t]=n,n}async function embedFonts(t,n){let r=t.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,l=(r.match(/url\([^)]+\)/g)||[]).map(async c=>{let p=c.replace(s,"$1");return p.startsWith("https://")||(p=new URL(p,t.url).href),fetchAsDataURL(p,n.fetchRequestInit,({result:m})=>(r=r.replace(c,`url(${m})`),[c,m]))});return Promise.all(l).then(()=>r)}function parseCSS(t){if(t==null)return[];const n=[],r=/(\/\*[\s\S]*?\*\/)/gi;let s=t.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=o.exec(s);if(m===null)break;n.push(m[0])}s=s.replace(o,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",p=new RegExp(c,"gi");for(;;){let m=l.exec(s);if(m===null){if(m=p.exec(s),m===null)break;l.lastIndex=p.lastIndex}else p.lastIndex=l.lastIndex;n.push(m[0])}return n}async function getCSSRules(t,n){const r=[],s=[];return t.forEach(o=>{if("cssRules"in o)try{toArray(o.cssRules||[]).forEach((l,c)=>{if(l.type===CSSRule.IMPORT_RULE){let p=c+1;const m=l.href,x=fetchCSS(m).then(b=>embedFonts(b,n)).then(b=>parseCSS(b).forEach(S=>{try{o.insertRule(S,S.startsWith("@import")?p+=1:o.cssRules.length)}catch(R){console.error("Error inserting rule from remote css",{rule:S,error:R})}})).catch(b=>{console.error("Error loading remote css",b.toString())});s.push(x)}})}catch(l){const c=t.find(p=>p.href==null)||document.styleSheets[0];o.href!=null&&s.push(fetchCSS(o.href).then(p=>embedFonts(p,n)).then(p=>parseCSS(p).forEach(m=>{c.insertRule(m,c.cssRules.length)})).catch(p=>{console.error("Error loading remote stylesheet",p)})),console.error("Error inlining remote css file",l)}}),Promise.all(s).then(()=>(t.forEach(o=>{if("cssRules"in o)try{toArray(o.cssRules||[]).forEach(l=>{r.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${o.href}`,l)}}),r))}function getWebFontRules(t){return t.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>shouldEmbed(n.style.getPropertyValue("src")))}async function parseWebFontRules(t,n){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=toArray(t.ownerDocument.styleSheets),s=await getCSSRules(r,n);return getWebFontRules(s)}function normalizeFontFamily(t){return t.trim().replace(/["']/g,"")}function getUsedFonts(t){const n=new Set;function r(s){(s.style.fontFamily||getComputedStyle(s).fontFamily).split(",").forEach(l=>{n.add(normalizeFontFamily(l))}),Array.from(s.children).forEach(l=>{l instanceof HTMLElement&&r(l)})}return r(t),n}async function getWebFontCSS(t,n){const r=await parseWebFontRules(t,n),s=getUsedFonts(t);return(await Promise.all(r.filter(l=>s.has(normalizeFontFamily(l.style.fontFamily))).map(l=>{const c=l.parentStyleSheet?l.parentStyleSheet.href:null;return embedResources(l.cssText,c,n)}))).join(`
`)}async function embedWebFonts(t,n){const r=n.fontEmbedCSS!=null?n.fontEmbedCSS:n.skipFonts?null:await getWebFontCSS(t,n);if(r){const s=document.createElement("style"),o=document.createTextNode(r);s.appendChild(o),t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)}}async function toSvg(t,n={}){const{width:r,height:s}=getImageSize(t,n),o=await cloneNode(t,n,!0);return await embedWebFonts(o,n),await embedImages(o,n),applyStyle(o,n),await nodeToDataURL(o,r,s)}async function toCanvas(t,n={}){const{width:r,height:s}=getImageSize(t,n),o=await toSvg(t,n),l=await createImage(o),c=document.createElement("canvas"),p=c.getContext("2d"),m=n.pixelRatio||getPixelRatio(),x=n.canvasWidth||r,b=n.canvasHeight||s;return c.width=x*m,c.height=b*m,n.skipAutoScale||checkCanvasDimensions(c),c.style.width=`${x}`,c.style.height=`${b}`,n.backgroundColor&&(p.fillStyle=n.backgroundColor,p.fillRect(0,0,c.width,c.height)),p.drawImage(l,0,0,c.width,c.height),c}async function toPng(t,n={}){return(await toCanvas(t,n)).toDataURL()}const modalOverlay$2="_modalOverlay_1vmb9_1",modalContent="_modalContent_1vmb9_27",header$7="_header_1vmb9_43",title$7="_title_1vmb9_59",closeButton$1="_closeButton_1vmb9_71",body$2="_body_1vmb9_87",qrCodeWrapper="_qrCodeWrapper_1vmb9_139",downloadButton$1="_downloadButton_1vmb9_151",loadingState="_loadingState_1vmb9_201",noContentState="_noContentState_1vmb9_221",mainName="_mainName_1vmb9_241",subName="_subName_1vmb9_257",emptyMessage="_emptyMessage_1vmb9_273",qrDownloadArea="_qrDownloadArea_1vmb9_287",styles$s={modalOverlay:modalOverlay$2,modalContent,header:header$7,title:title$7,closeButton:closeButton$1,body:body$2,qrCodeWrapper,downloadButton:downloadButton$1,loadingState,noContentState,mainName,subName,emptyMessage,qrDownloadArea};function QrModal({data:t,onClose:n,type:r}){var P;const[s,o]=reactExports$1.useState(!0),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(""),{showAlert:x}=useAlert(),b=reactExports$1.useRef(null),S=r==="artworks",R=r==="exhibitions";let k="",M="",j="";t&&(S?(k=t.art_title,M=t.artist_name||t.art_medium||"",j=t.art_title||"artwork"):R?(k=t.exhibition_title,M=((P=t.gallery)==null?void 0:P.gallery_name)||t.gallery_name||"",j=t.exhibition_title||"exhibition"):(k=t.gallery_name,M=t.gallery_eng_name||"",j=t.gallery_name||"gallery")),reactExports$1.useEffect(()=>{(async()=>{if(t!=null&&t.id){o(!0);try{if(S){const X=(await userInstance.get(`/api/arts/${t.id}`)).data,ee=X.docent_audio_path||X.docent_video_path;ee?(c(!0),m(ee)):c(!1)}else{const H=R?"exhibitionCategory":"galleryCategory",X=await userInstance.get("/api/leaflet",{params:{category:H,category_id:t.id}});if((Array.isArray(X.data)?X.data:[]).length>0){c(!0);const ne=`${window.location.origin}/view/leaflet/${r}/${t.id}`;m(ne),console.log(ne)}else c(!1)}}catch(H){console.error("  :",H),c(!1)}finally{o(!1)}}})()},[t,r,S,R]);const G=()=>{b.current!==null&&toPng(b.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(Q=>{const H=document.createElement("a");H.download=`${j}-qr-code.png`,H.href=Q,H.click()}).catch(Q=>{console.error("  :",Q),x("  .","error")})};return t?jsxRuntimeExports.jsx("div",{className:styles$s.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$s.modalContent,onClick:Q=>Q.stopPropagation(),children:[jsxRuntimeExports.jsxs("header",{className:styles$s.header,children:[jsxRuntimeExports.jsx("h2",{className:styles$s.title,children:S?"QR :  ":"QR : /"}),jsxRuntimeExports.jsx("button",{className:styles$s.closeButton,onClick:n,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$s.body,children:s?jsxRuntimeExports.jsx("div",{className:styles$s.loadingState,children:jsxRuntimeExports.jsx("p",{children:"  ..."})}):l?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:b,className:styles$s.qrDownloadArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$s.infoArea,children:[jsxRuntimeExports.jsx("p",{className:styles$s.mainName,children:k||"  "}),jsxRuntimeExports.jsx("p",{className:styles$s.subName,children:M})]}),jsxRuntimeExports.jsx("div",{className:styles$s.qrCodeWrapper,children:jsxRuntimeExports.jsx(QRCode,{value:p,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),jsxRuntimeExports.jsx("button",{className:styles$s.downloadButton,onClick:G,children:""})]}):jsxRuntimeExports.jsxs("div",{className:styles$s.noContentState,children:[jsxRuntimeExports.jsx("p",{className:styles$s.mainName,children:k||"  "}),jsxRuntimeExports.jsx("p",{className:styles$s.subName,children:M}),jsxRuntimeExports.jsx("div",{className:styles$s.emptyMessage,children:S?" (/) .":"   ."})]})})]})}):null}const layout$9="_layout_vgga5_1",breadcrumb$2="_breadcrumb_vgga5_21",breadcrumbBack$2="_breadcrumbBack_vgga5_35",card$4="_card_vgga5_45",titleSection$2="_titleSection_vgga5_63",galleryTitle="_galleryTitle_vgga5_73",gallerySubTitle="_gallerySubTitle_vgga5_87",galleryImage="_galleryImage_vgga5_99",btnLayout$2="_btnLayout_vgga5_117",likeButton$1="_likeButton_vgga5_131",icon$3="_icon_vgga5_155",likedIcon$2="_likedIcon_vgga5_163",containerLayout="_containerLayout_vgga5_173",tagContainer="_tagContainer_vgga5_185",tag="_tag_vgga5_185",infoList$2="_infoList_vgga5_221",infoRow$2="_infoRow_vgga5_235",infoLabel$2="_infoLabel_vgga5_245",infoContent$2="_infoContent_vgga5_257",homepageButton$1="_homepageButton_vgga5_277",descriptionParagraph$2="_descriptionParagraph_vgga5_335",inlineSns="_inlineSns_vgga5_381",snsLink="_snsLink_vgga5_395",snsIcon="_snsIcon_vgga5_405",instagram="_instagram_vgga5_429",youtube="_youtube_vgga5_437",defaultLink="_defaultLink_vgga5_445",emptyContent$5="_emptyContent_vgga5_453",sectionTitle="_sectionTitle_vgga5_467",backButton$6="_backButton_vgga5_479",emptyInfo$2="_emptyInfo_vgga5_513",styles$r={layout:layout$9,breadcrumb:breadcrumb$2,breadcrumbBack:breadcrumbBack$2,card:card$4,titleSection:titleSection$2,galleryTitle,gallerySubTitle,galleryImage,btnLayout:btnLayout$2,likeButton:likeButton$1,icon:icon$3,likedIcon:likedIcon$2,containerLayout,tagContainer,tag,infoList:infoList$2,infoRow:infoRow$2,infoLabel:infoLabel$2,infoContent:infoContent$2,homepageButton:homepageButton$1,descriptionParagraph:descriptionParagraph$2,inlineSns,snsLink,snsIcon,instagram,youtube,defaultLink,emptyContent:emptyContent$5,sectionTitle,backButton:backButton$6,emptyInfo:emptyInfo$2},tabsLayout="_tabsLayout_19iru_1",tabNav="_tabNav_19iru_13",tabContent="_tabContent_19iru_39",tabButton$2="_tabButton_19iru_63",activeTab$1="_activeTab_19iru_93",styles$q={tabsLayout,tabNav,tabContent,tabButton:tabButton$2,activeTab:activeTab$1};function DetailTabs({tabs:t,activeTab:n,setActiveTab:r,children:s}){return jsxRuntimeExports.jsxs("div",{className:styles$q.tabsLayout,children:[jsxRuntimeExports.jsx("nav",{className:styles$q.tabNav,children:t.map(({key:o,label:l})=>jsxRuntimeExports.jsx("button",{className:`${styles$q.tabButton} ${n===o?styles$q.activeTab:""}`,onClick:()=>r(o),children:l},o))}),jsxRuntimeExports.jsx("section",{className:styles$q.tabContent,children:s})]})}const exhibitionList="_exhibitionList_w9oxj_1",exhibitionCard="_exhibitionCard_w9oxj_17",imageContainer="_imageContainer_w9oxj_49",exhibitionImage="_exhibitionImage_w9oxj_63",statusTag="_statusTag_w9oxj_77",statusOn="_statusOn_w9oxj_101",statusScheduled="_statusScheduled_w9oxj_107",statusDone="_statusDone_w9oxj_113",statusDefault="_statusDefault_w9oxj_119",infoContainer="_infoContainer_w9oxj_127",title$6="_title_w9oxj_147",location$1="_location_w9oxj_165",date$1="_date_w9oxj_175",emptyContent$4="_emptyContent_w9oxj_185",styles$p={exhibitionList,exhibitionCard,imageContainer,exhibitionImage,statusTag,statusOn,statusScheduled,statusDone,statusDefault,infoContainer,title:title$6,location:location$1,date:date$1,emptyContent:emptyContent$4},STATUS_CONFIG={exhibited:{text:"",className:styles$p.statusOn},scheduled:{text:"",className:styles$p.statusScheduled},ended:{text:"",className:styles$p.statusDone},default:{text:"",className:styles$p.statusDefault}},BASE_URL$1="https://artly.soundgram.co.kr";function ExhibitionsCards({exhibitions:t}){const r=useLocation().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$p.exhibitionList,children:t.map(({id:s,exhibition_poster:o,exhibition_title:l,exhibition_status:c,exhibition_location:p,exhibition_start_date:m,exhibition_end_date:x})=>{const b=STATUS_CONFIG[c]||STATUS_CONFIG.default,S=r?`/console/exhibitions/${s}`:`/exhibitions/${s}`,R=o&&!o.startsWith("http")?`${BASE_URL$1}/${o}`:o;return jsxRuntimeExports.jsxs(Link$1,{className:styles$p.exhibitionCard,to:S,children:[jsxRuntimeExports.jsxs("div",{className:styles$p.imageContainer,children:[jsxRuntimeExports.jsx(Img,{className:styles$p.exhibitionImage,src:R,alt:"  "}),jsxRuntimeExports.jsx("span",{className:`${styles$p.statusTag} ${b.className}`,children:b.text})]}),jsxRuntimeExports.jsxs("div",{className:styles$p.infoContainer,children:[jsxRuntimeExports.jsx("h4",{className:styles$p.title,children:l||" "}),jsxRuntimeExports.jsx("p",{className:styles$p.location,children:p||"  "}),jsxRuntimeExports.jsx("p",{className:styles$p.date,children:`${m||" "} ~ ${x||" "}`})]})]},s)})})}const artworkGrid$2="_artworkGrid_2xf7o_1",artworkCard$2="_artworkCard_2xf7o_45",artworkImage$1="_artworkImage_2xf7o_83",artworkInfo="_artworkInfo_2xf7o_97",title$5="_title_2xf7o_111",materials="_materials_2xf7o_123",emptyContent$3="_emptyContent_2xf7o_145",styles$o={artworkGrid:artworkGrid$2,artworkCard:artworkCard$2,artworkImage:artworkImage$1,artworkInfo,title:title$5,materials,emptyContent:emptyContent$3};function ArtworksCards({artworks:t}){const r=useLocation().pathname.includes("/console");return console.log(t),!t||t.length===0?jsxRuntimeExports.jsx("p",{className:styles$o.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$o.artworkGrid,children:t.map(({id:s,image_url:o,title:l,artist_name:c})=>{const p=r?`/console/artworks/${s}`:`/artworks/${s}`;return jsxRuntimeExports.jsxs(Link$1,{className:styles$o.artworkCard,to:p,children:[jsxRuntimeExports.jsx(Img,{className:styles$o.artworkImage,src:o,alt:l}),jsxRuntimeExports.jsxs("div",{className:styles$o.artworkInfo,children:[jsxRuntimeExports.jsx("h4",{className:styles$o.title,children:l}),jsxRuntimeExports.jsx("p",{className:styles$o.materials,children:c})]})]},s)})})}const modalOverlay$1="_modalOverlay_1ug3w_1",mapModalBox="_mapModalBox_1ug3w_21",mapModalTitle="_mapModalTitle_1ug3w_61",mapModalSubTitle="_mapModalSubTitle_1ug3w_73",mapModalMap="_mapModalMap_1ug3w_87",mapModalClose="_mapModalClose_1ug3w_101",styles$n={modalOverlay:modalOverlay$1,mapModalBox,mapModalTitle,mapModalSubTitle,mapModalMap,mapModalClose};function MapModalSimple({lat:t,lng:n,title:r,address:s,mapId:o,onClose:l}){return useMap({lat:t,lng:n,id:o,title:r,location:s}),console.log("MapModalSimple !",o),reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$n.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$n.mapModalBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$n.mapModalTitle,children:r}),jsxRuntimeExports.jsx("p",{className:styles$n.mapModalSubTitle,children:s}),jsxRuntimeExports.jsx("div",{id:o,className:styles$n.mapModalMap}),jsxRuntimeExports.jsx("button",{className:styles$n.mapModalClose,onClick:l,children:""})]})})}function GalleryDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{galleryId:s}=useParams(),o=n||s,l=useNavigate(),{user:c}=useUser(),[p,m]=reactExports$1.useState(null),[x,b]=reactExports$1.useState(!1),[S,R]=reactExports$1.useState(!1),[k,M]=reactExports$1.useState("info"),[j,G]=reactExports$1.useState(!1),{showAlert:P}=useAlert(),Q=async()=>{if(o)try{const ot=await userInstance.get(`/api/galleries/${o}`),{data:Ct}=ot;m(Ct),typeof Ct.is_liked=="boolean"&&b(Ct.is_liked)}catch(ot){console.error("   :",ot)}};if(reactExports$1.useEffect(()=>{Q()},[o]),reactExports$1.useEffect(()=>{p&&typeof p.is_liked=="boolean"&&b(p.is_liked)},[p]),!p)return jsxRuntimeExports.jsx("div",{children:" ..."});const H=async()=>{if(!c){l("/login");return}try{const ot={liked_id:o,liked_type:"gallery"};if(x){await userInstance.delete("/api/likes",{data:ot}),b(!1);return}else await userInstance.post("/api/likes",{liked_id:o,liked_type:"gallery"});await userInstance.post("/api/likes",ot),b(!0),R(!0)}catch(ot){console.error("  :",ot)}},X=()=>{const ot=p.gallery_name,Ct=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${ot}`,text:`${ot}   !`,url:Ct}).catch(It=>console.error(" :",It));else{const It=document.createElement("textarea");It.value=Ct,document.body.appendChild(It),It.select();try{document.execCommand("copy"),P("  .")}catch(mt){console.error("  :",mt),P("  .","error")}finally{document.body.removeChild(It)}}},ee={instagram:FaInstagram,youtube:FaYoutube,default:FaLink},{exhibitions:ne=[],artworks:Y=[],gallery_address:re="",gallery_category:oe="",gallery_closed_day:xe="",gallery_description:ve="",gallery_end_time:me="",gallery_start_time:we="",gallery_image:Ee="",gallery_name:he="",gallery_eng_name:ae="",gallery_phone:ue="",gallery_email:te="",gallery_homepage:se="",gallery_sns:Ce,gallery_latitude:ce,gallery_longitude:ye}=p;let Se=[];try{Array.isArray(Ce)?Se=Ce:typeof Ce=="string"&&(Se=JSON.parse(Ce))}catch(ot){console.error("SNS   :",ot),Se=[]}const _e=Se.filter(ot=>ot.url&&ot.url.trim()!==""),je=[{label:"",content:we&&me?`${we.slice(0,5)} ~ ${me.slice(0,5)}`:" "},{label:"",content:xe||" "},{label:"",content:ue||" "},{label:"",content:re||" "},{label:"",content:te?jsxRuntimeExports.jsx("a",{href:`mailto:${te}`,children:te}):" "},{label:"SNS",content:_e.length>0?jsxRuntimeExports.jsx("div",{className:styles$r.inlineSns,children:_e.map(({type:ot,url:Ct})=>{const It=ot==null?void 0:ot.toLowerCase(),mt=ee[It]||ee.default,Ut=styles$r[It]||styles$r.defaultLink;return jsxRuntimeExports.jsx("a",{href:Ct,target:"_blank",rel:"noopener noreferrer",className:styles$r.snsLink,children:jsxRuntimeExports.jsx(mt,{className:`${styles$r.snsIcon} ${Ut}`})},`${ot}-${Ct}`)})}):" "}],Me=[{key:"info",label:""},{key:"exhibitions",label:`(${ne.length||0})`}],Ze=`gallery-${o}-map`;return jsxRuntimeExports.jsxs("div",{className:styles$r.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$r.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$r.breadcrumbBack,onClick:()=>l("/galleries"),children:""})," ","> ",he]}),jsxRuntimeExports.jsxs("section",{className:styles$r.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$r.galleryTitle,children:he}),jsxRuntimeExports.jsx("p",{className:styles$r.gallerySubTitle,children:ae||"Gallery"})]}),jsxRuntimeExports.jsxs("div",{className:styles$r.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$r.galleryImage,src:Ee,alt:"  "}),t&&jsxRuntimeExports.jsxs("div",{className:styles$r.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$r.likeButton,onClick:H,children:[jsxRuntimeExports.jsx(FaStar$1,{className:x?styles$r.likedIcon:styles$r.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$r.likeButton,onClick:()=>G(!0),children:[jsxRuntimeExports.jsx(FaLocationDot,{className:styles$r.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$r.likeButton,onClick:X,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$r.icon}),""]})]}),jsxRuntimeExports.jsx("div",{className:styles$r.tagContainer,children:oe&&oe.split(",").map(ot=>jsxRuntimeExports.jsx("span",{className:styles$r.tag,children:ot.trim()},ot))}),jsxRuntimeExports.jsxs("section",{className:styles$r.infoList,children:[je.map(({label:ot,content:Ct})=>{const It=!Ct||typeof Ct=="string"&&Ct.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$r.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$r.infoLabel,children:ot}),jsxRuntimeExports.jsx("div",{className:`${styles$r.infoContent} ${It?styles$r.emptyInfo:""}`,children:Ct})]},ot)}),jsxRuntimeExports.jsx("button",{disabled:!se,className:styles$r.homepageButton,onClick:()=>window.open(se,"_blank"),children:se?"":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:Me,activeTab:k,setActiveTab:M,children:[k==="info"&&(ve?jsxRuntimeExports.jsx("div",{className:styles$r.descriptionParagraph,dangerouslySetInnerHTML:{__html:ve}}):jsxRuntimeExports.jsx("p",{className:styles$r.emptyContent,children:"   ."})),k==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Y.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:Y}):jsxRuntimeExports.jsx("p",{className:styles$r.emptyContent,children:"  ."}),r==null?void 0:r.artworks]}),k==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ne.length>0?jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:ne}):jsxRuntimeExports.jsx("p",{className:styles$r.emptyContent,children:"  ."}),r==null?void 0:r.exhibitions]})]}),t&&jsxRuntimeExports.jsx("button",{className:styles$r.backButton,onClick:()=>l("/galleries"),children:" "}),j&&jsxRuntimeExports.jsx(MapModalSimple,{lat:ce,lng:ye,title:he,address:re,mapId:Ze,onClose:()=>G(!1)}),S&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>R(!1)})]})}const layout$8="_layout_1s9mv_1",breadcrumb$1="_breadcrumb_1s9mv_21",breadcrumbBack$1="_breadcrumbBack_1s9mv_35",card$3="_card_1s9mv_45",titleSection$1="_titleSection_1s9mv_63",exhibitionTitle$1="_exhibitionTitle_1s9mv_73",posterImage="_posterImage_1s9mv_87",btnLayout$1="_btnLayout_1s9mv_111",likeButton="_likeButton_1s9mv_125",icon$2="_icon_1s9mv_149",likedIcon$1="_likedIcon_1s9mv_157",infoList$1="_infoList_1s9mv_165",infoRow$1="_infoRow_1s9mv_181",infoLabel$1="_infoLabel_1s9mv_191",infoContent$1="_infoContent_1s9mv_203",homepageButton="_homepageButton_1s9mv_223",descriptionParagraph$1="_descriptionParagraph_1s9mv_281",emptyContent$2="_emptyContent_1s9mv_317",emptyInfo$1="_emptyInfo_1s9mv_331",backButton$5="_backButton_1s9mv_339",disabledButton="_disabledButton_1s9mv_377",styles$m={layout:layout$8,breadcrumb:breadcrumb$1,breadcrumbBack:breadcrumbBack$1,card:card$3,titleSection:titleSection$1,exhibitionTitle:exhibitionTitle$1,posterImage,btnLayout:btnLayout$1,likeButton,icon:icon$2,likedIcon:likedIcon$1,infoList:infoList$1,infoRow:infoRow$1,infoLabel:infoLabel$1,infoContent:infoContent$1,homepageButton,descriptionParagraph:descriptionParagraph$1,emptyContent:emptyContent$2,emptyInfo:emptyInfo$1,backButton:backButton$5,disabledButton},relatedSection="_relatedSection_c53cq_1",list$1="_list_c53cq_17",card$2="_card_c53cq_31",imageWrapper$2="_imageWrapper_c53cq_63",image$2="_image_c53cq_63",info$1="_info_c53cq_99",title$4="_title_c53cq_115",meta="_meta_c53cq_127",date="_date_c53cq_137",styles$l={relatedSection,list:list$1,card:card$2,imageWrapper:imageWrapper$2,image:image$2,info:info$1,title:title$4,meta,date},BASE_URL="https://artly.soundgram.co.kr";function RelatedExhibitions({exhibitions:t}){const n=useNavigate();return jsxRuntimeExports.jsx("section",{className:styles$l.relatedSection,children:jsxRuntimeExports.jsx("div",{className:styles$l.list,children:t.map(({id:r,title:s,poster:o,start_date:l,end_date:c,location:p,organization:m})=>{const x=o&&!o.startsWith("http")?`${BASE_URL}/${o}`:o;return jsxRuntimeExports.jsxs("div",{className:styles$l.card,onClick:()=>n(`/exhibitions/${r}`),children:[jsxRuntimeExports.jsx("div",{className:styles$l.imageWrapper,children:jsxRuntimeExports.jsx(Img,{src:x,alt:s,className:styles$l.image})}),jsxRuntimeExports.jsxs("div",{className:styles$l.info,children:[jsxRuntimeExports.jsx("h4",{className:styles$l.title,children:s||" "}),jsxRuntimeExports.jsxs("p",{className:styles$l.meta,children:[m||"  "," |"," ",p||"  "]}),jsxRuntimeExports.jsxs("p",{className:styles$l.date,children:[l," ~ ",c]})]})]},r)})})})}function ExhibitionDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{exhibitionId:s}=useParams(),o=n||s,{user:l}=useUser(),c=useNavigate(),{showAlert:p}=useAlert(),[m,x]=reactExports$1.useState(null),[b,S]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState(!1),[M,j]=reactExports$1.useState("info"),G=async()=>{if(o)try{const _e=await userInstance.get(`/api/exhibitions/${o}`),{data:je}=_e;x(je),typeof je.is_liked=="boolean"&&S(je.is_liked)}catch(_e){console.error("   :",_e)}};reactExports$1.useEffect(()=>{G()},[o]);const P=async()=>{if(!l){c("/login");return}try{const _e={liked_id:o,liked_type:"exhibition"};b?(await userInstance.delete("/api/likes",{data:_e}),S(!1)):(await userInstance.post("/api/likes",_e),S(!0),k(!0))}catch(_e){console.error("  :",_e)}},Q=()=>{const _e=m==null?void 0:m.exhibition_title,je=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${_e}`,text:`${_e}   !`,url:je}).catch(Me=>console.error(" :",Me));else{const Me=document.createElement("textarea");Me.value=je,document.body.appendChild(Me),Me.select();try{document.execCommand("copy"),p("  .")}catch(Ze){console.error("  :",Ze),p("  .","error")}finally{document.body.removeChild(Me)}}},H=()=>{c("/scan")};if(console.log("",m),!m)return jsxRuntimeExports.jsx("div",{children:" ..."});const{exhibition_title:X,exhibition_poster:ee,exhibition_start_date:ne,exhibition_end_date:Y,exhibition_start_time:re,exhibition_end_time:oe,exhibition_organization:xe,exhibition_location:ve,exhibition_price:me,exhibition_closed_day:we,exhibition_description:Ee,related_exhibitions:he=[],artworks:ae=[],exhibition_phone:ue,artists:te=[],exhibition_homepage:se,exhibition_status:Ce}=m,ce=Ce==="exhibited",ye=[{label:"",content:ne&&Y?`${ne} ~ ${Y}`:" "},{label:"",content:xe},{label:"",content:re&&oe?`${re.slice(0,5)} ~ ${oe.slice(0,5)}`:" "},{label:"",content:we||" "},{label:"",content:me?`${me.toLocaleString()}`:""},{label:"",content:ue||" "},{label:"",content:ve||" "},{label:"",content:te.map(_e=>_e.artist_name).join(", ")||" "}],Se=[{key:"info",label:""},{key:"artworks",label:`(${ae.length})`}];return jsxRuntimeExports.jsxs("div",{className:styles$m.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$m.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$m.breadcrumbBack,onClick:()=>c("/exhibitions"),children:""})," ","> ",X]}),jsxRuntimeExports.jsxs("div",{className:styles$m.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$m.posterImage,src:ee,alt:" "}),jsxRuntimeExports.jsx("section",{className:styles$m.titleSection,children:jsxRuntimeExports.jsx("h1",{className:styles$m.exhibitionTitle,children:X})}),t&&jsxRuntimeExports.jsxs("div",{className:styles$m.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:P,children:[jsxRuntimeExports.jsx(FaStar$1,{className:b?styles$m.likedIcon:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:`${styles$m.likeButton} ${ce?"":styles$m.disabledButton}`,disabled:!ce,onClick:()=>c(`/reservation/${o}`),title:ce?"":"   ",children:[jsxRuntimeExports.jsx(FaCalendarCheck,{className:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:H,children:[jsxRuntimeExports.jsx(FaHeadphones,{className:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:Q,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$m.icon}),""]})]}),jsxRuntimeExports.jsxs("section",{className:styles$m.infoList,children:[ye.map(({label:_e,content:je})=>{const Me=!je||typeof je=="string"&&je.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$m.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$m.infoLabel,children:_e}),jsxRuntimeExports.jsx("div",{className:`${styles$m.infoContent} ${Me?styles$m.emptyInfo:""}`,children:je})]},_e)}),jsxRuntimeExports.jsx("button",{disabled:!se,className:styles$m.homepageButton,onClick:()=>window.open(se,"_blank"),children:se?"  ":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:Se,activeTab:M,setActiveTab:j,children:[M==="info"&&(Ee?jsxRuntimeExports.jsx("div",{className:styles$m.descriptionParagraph,dangerouslySetInnerHTML:{__html:Ee}}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"    ."})),M==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ae.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:ae}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"  ."}),r==null?void 0:r.artworks]}),M==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[he.length>0?jsxRuntimeExports.jsx(RelatedExhibitions,{exhibitions:he}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"  ."}),r==null?void 0:r.exhibitions]})]}),t&&jsxRuntimeExports.jsx("button",{className:styles$m.backButton,onClick:()=>c("/exhibitions"),children:" "}),R&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>k(!1)})]})}const overlay$2="_overlay_1ujik_1",modalContainer="_modalContainer_1ujik_27",closeButton="_closeButton_1ujik_51",tabArea="_tabArea_1ujik_59",tabButton$1="_tabButton_1ujik_79",active="_active_1ujik_115",generateContainer="_generateContainer_1ujik_133",styles$k={overlay:overlay$2,modalContainer,closeButton,tabArea,tabButton:tabButton$1,active,generateContainer},page$1="_page_bbpl7_1",formArea="_formArea_bbpl7_27",label$3="_label_bbpl7_39",input$1="_input_bbpl7_49",textarea$2="_textarea_bbpl7_51",submitButton$1="_submitButton_bbpl7_137",resultArea="_resultArea_bbpl7_177",resultCard="_resultCard_bbpl7_191",textContent="_textContent_bbpl7_211",cardHeader="_cardHeader_bbpl7_241",buttonGroup$1="_buttonGroup_bbpl7_267",copyButton="_copyButton_bbpl7_279",captureButton="_captureButton_bbpl7_281",refineButton="_refineButton_bbpl7_329",placeholder$1="_placeholder_bbpl7_361",styles$j={page:page$1,formArea,label:label$3,input:input$1,textarea:textarea$2,submitButton:submitButton$1,resultArea,resultCard,textContent,cardHeader,buttonGroup:buttonGroup$1,copyButton,captureButton,refineButton,placeholder:placeholder$1};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},extendStatics(t,n)};function __extends(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},__assign.apply(this,arguments)};function __awaiter$1(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,[])).next())})}function __generator(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}}function __spreadArray(t,n,r){if(arguments.length===2)for(var s=0,o=n.length,l;s<o;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||n)}var Bounds=(function(){function t(n,r,s,o){this.left=n,this.top=r,this.width=s,this.height=o}return t.prototype.add=function(n,r,s,o){return new t(this.left+n,this.top+r,this.width+s,this.height+o)},t.fromClientRect=function(n,r){return new t(r.left+n.windowBounds.left,r.top+n.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(n,r){var s=Array.from(r).find(function(o){return o.width!==0});return s?new t(s.left+n.windowBounds.left,s.top+n.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),parseBounds=function(t,n){return Bounds.fromClientRect(t,n.getBoundingClientRect())},parseDocumentSize=function(t){var n=t.body,r=t.documentElement;if(!n||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),o=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight));return new Bounds(0,0,s,o)},toCodePoints$1=function(t){for(var n=[],r=0,s=t.length;r<s;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<s){var l=t.charCodeAt(r++);(l&64512)===56320?n.push(((o&1023)<<10)+(l&1023)+65536):(n.push(o),r--)}else n.push(o)}return n},fromCodePoint$1=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],o=-1,l="";++o<r;){var c=t[o];c<=65535?s.push(c):(c-=65536,s.push((c>>10)+55296,c%1024+56320)),(o+1===r||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(t){var n=t.length*.75,r=t.length,s,o=0,l,c,p,m;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var x=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),b=Array.isArray(x)?x:new Uint8Array(x);for(s=0;s<r;s+=4)l=lookup$1$1[t.charCodeAt(s)],c=lookup$1$1[t.charCodeAt(s+1)],p=lookup$1$1[t.charCodeAt(s+2)],m=lookup$1$1[t.charCodeAt(s+3)],b[o++]=l<<2|c>>4,b[o++]=(c&15)<<4|p>>2,b[o++]=(p&3)<<6|m&63;return x},polyUint16Array$1=function(t){for(var n=t.length,r=[],s=0;s<n;s+=2)r.push(t[s+1]<<8|t[s]);return r},polyUint32Array$1=function(t){for(var n=t.length,r=[],s=0;s<n;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(t,n,r){return t.slice?t.slice(n,r):new Uint16Array(Array.prototype.slice.call(t,n,r))},slice32$1=function(t,n,r){return t.slice?t.slice(n,r):new Uint32Array(Array.prototype.slice.call(t,n,r))},createTrieFromBase64$1=function(t,n){var r=decode$1(t),s=Array.isArray(r)?polyUint32Array$1(r):new Uint32Array(r),o=Array.isArray(r)?polyUint16Array$1(r):new Uint16Array(r),l=24,c=slice16$1(o,l/2,s[4]/2),p=s[5]===2?slice16$1(o,(l+s[4])/2):slice32$1(s,Math.ceil((l+s[4])/4));return new Trie$1(s[0],s[1],s[2],s[3],c,p)},Trie$1=(function(){function t(n,r,s,o,l,c){this.initialValue=n,this.errorValue=r,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=c}return t.prototype.get=function(n){var r;if(n>=0){if(n<55296||n>56319&&n<=65535)return r=this.index[n>>UTRIE2_SHIFT_2$1],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<=65535)return r=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(n-55296>>UTRIE2_SHIFT_2$1)],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<this.highStart)return r=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(n>>UTRIE2_SHIFT_1$1),r=this.index[r],r+=n>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,r=this.index[r],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL$1=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="",BREAK_ALLOWED$1="",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL$1],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN$1=[HY,BA],codePointsToCharacterClasses=function(t,n){n===void 0&&(n="strict");var r=[],s=[],o=[];return t.forEach(function(l,c){var p=UnicodeTrie$1.get(l);if(p>LETTER_NUMBER_MODIFIER?(o.push(!0),p-=LETTER_NUMBER_MODIFIER):o.push(!1),["normal","auto","loose"].indexOf(n)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return s.push(c),r.push(CB);if(p===CM||p===ZWJ$1){if(c===0)return s.push(c),r.push(AL);var m=r[c-1];return LINE_BREAKS.indexOf(m)===-1?(s.push(s[c-1]),r.push(m)):(s.push(c),r.push(AL))}if(s.push(c),p===CJ)return r.push(n==="strict"?NS:ID);if(p===SA||p===AI)return r.push(AL);if(p===XX)return l>=131072&&l<=196605||l>=196608&&l<=262141?r.push(ID):r.push(AL);r.push(p)}),[s,r,o]},isAdjacentWithSpaceIgnored=function(t,n,r,s){var o=s[r];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=s.length;){l++;var c=s[l];if(c===n)return!0;if(c!==SP)break}if(o===SP)for(var l=r;l>0;){l--;var p=s[l];if(Array.isArray(t)?t.indexOf(p)!==-1:t===p)for(var m=r;m<=s.length;){m++;var c=s[m];if(c===n)return!0;if(c!==SP)break}if(p!==SP)break}return!1},previousNonSpaceClassType=function(t,n){for(var r=t;r>=0;){var s=n[r];if(s===SP)r--;else return s}return 0},_lineBreakAtIndex=function(t,n,r,s,o){if(r[s]===0)return BREAK_NOT_ALLOWED$1;var l=s-1;if(Array.isArray(o)&&o[l]===!0)return BREAK_NOT_ALLOWED$1;var c=l-1,p=l+1,m=n[l],x=c>=0?n[c]:0,b=n[p];if(m===CR$1&&b===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(m)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(b)!==-1||SPACE$1.indexOf(b)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(l,n)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(t[l])===ZWJ$1||(m===EB||m===EM)&&UnicodeTrie$1.get(t[p])===ZWJ$1||m===WJ||b===WJ||m===GL||[SP,BA,HY].indexOf(m)===-1&&b===GL||[CL,CP,EX,IS,SY].indexOf(b)!==-1||previousNonSpaceClassType(l,n)===OP||isAdjacentWithSpaceIgnored(QU,OP,l,n)||isAdjacentWithSpaceIgnored([CL,CP],NS,l,n)||isAdjacentWithSpaceIgnored(B2,B2,l,n))return BREAK_NOT_ALLOWED$1;if(m===SP)return BREAK_ALLOWED$1;if(m===QU||b===QU)return BREAK_NOT_ALLOWED$1;if(b===CB||m===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(b)!==-1||m===BB||x===HL&&HYPHEN$1.indexOf(m)!==-1||m===SY&&b===HL||b===IN||ALPHABETICS.indexOf(b)!==-1&&m===NU||ALPHABETICS.indexOf(m)!==-1&&b===NU||m===PR&&[ID,EB,EM].indexOf(b)!==-1||[ID,EB,EM].indexOf(m)!==-1&&b===PO||ALPHABETICS.indexOf(m)!==-1&&PREFIX_POSTFIX.indexOf(b)!==-1||PREFIX_POSTFIX.indexOf(m)!==-1&&ALPHABETICS.indexOf(b)!==-1||[PR,PO].indexOf(m)!==-1&&(b===NU||[OP,HY].indexOf(b)!==-1&&n[p+1]===NU)||[OP,HY].indexOf(m)!==-1&&b===NU||m===NU&&[NU,SY,IS].indexOf(b)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(b)!==-1)for(var S=l;S>=0;){var R=n[S];if(R===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(R)!==-1)S--;else break}if([PR,PO].indexOf(b)!==-1)for(var S=[CL,CP].indexOf(m)!==-1?c:l;S>=0;){var R=n[S];if(R===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(R)!==-1)S--;else break}if(JL===m&&[JL,JV,H2,H3].indexOf(b)!==-1||[JV,H2].indexOf(m)!==-1&&[JV,JT].indexOf(b)!==-1||[JT,H3].indexOf(m)!==-1&&b===JT||KOREAN_SYLLABLE_BLOCK.indexOf(m)!==-1&&[IN,PO].indexOf(b)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(b)!==-1&&m===PR||ALPHABETICS.indexOf(m)!==-1&&ALPHABETICS.indexOf(b)!==-1||m===IS&&ALPHABETICS.indexOf(b)!==-1||ALPHABETICS.concat(NU).indexOf(m)!==-1&&b===OP&&ea_OP.indexOf(t[p])===-1||ALPHABETICS.concat(NU).indexOf(b)!==-1&&m===CP)return BREAK_NOT_ALLOWED$1;if(m===RI$1&&b===RI$1){for(var k=r[l],M=1;k>0&&(k--,n[k]===RI$1);)M++;if(M%2!==0)return BREAK_NOT_ALLOWED$1}return m===EB&&b===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(t,n){n||(n={lineBreak:"normal",wordBreak:"normal"});var r=codePointsToCharacterClasses(t,n.lineBreak),s=r[0],o=r[1],l=r[2];(n.wordBreak==="break-all"||n.wordBreak==="break-word")&&(o=o.map(function(p){return[NU,AL,SA].indexOf(p)!==-1?ID:p}));var c=n.wordBreak==="keep-all"?l.map(function(p,m){return p&&t[m]>=19968&&t[m]<=40959}):void 0;return[s,o,c]},Break=(function(){function t(n,r,s,o){this.codePoints=n,this.required=r===BREAK_MANDATORY,this.start=s,this.end=o}return t.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),LineBreaker=function(t,n){var r=toCodePoints$1(t),s=cssFormattedClasses(r,n),o=s[0],l=s[1],c=s[2],p=r.length,m=0,x=0;return{next:function(){if(x>=p)return{done:!0,value:null};for(var b=BREAK_NOT_ALLOWED$1;x<p&&(b=_lineBreakAtIndex(r,l,o,++x,c))===BREAK_NOT_ALLOWED$1;);if(b!==BREAK_NOT_ALLOWED$1||x===p){var S=new Break(r,b,m,x);return m=x,{value:S,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE$2=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE$1=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE$1=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK$1=42,PLUS_SIGN=43,COMMA$1=44,COLON$1=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z=122,A=65,E=69,F=70,U=85,Z=90,isDigit=function(t){return t>=ZERO&&t<=57},isSurrogateCodePoint=function(t){return t>=55296&&t<=57343},isHex=function(t){return isDigit(t)||t>=A&&t<=F||t>=a&&t<=f},isLowerCaseLetter=function(t){return t>=a&&t<=z},isUpperCaseLetter=function(t){return t>=A&&t<=Z},isLetter=function(t){return isLowerCaseLetter(t)||isUpperCaseLetter(t)},isNonASCIICodePoint=function(t){return t>=CONTROL},isWhiteSpace=function(t){return t===LINE_FEED||t===CHARACTER_TABULATION||t===SPACE$2},isNameStartCodePoint=function(t){return isLetter(t)||isNonASCIICodePoint(t)||t===LOW_LINE},isNameCodePoint=function(t){return isNameStartCodePoint(t)||isDigit(t)||t===HYPHEN_MINUS},isNonPrintableCodePoint=function(t){return t>=NULL&&t<=BACKSPACE||t===LINE_TABULATION||t>=SHIFT_OUT&&t<=INFORMATION_SEPARATOR_ONE||t===DELETE},isValidEscape=function(t,n){return t!==REVERSE_SOLIDUS?!1:n!==LINE_FEED},isIdentifierStart=function(t,n,r){return t===HYPHEN_MINUS?isNameStartCodePoint(n)||isValidEscape(n,r):isNameStartCodePoint(t)?!0:!!(t===REVERSE_SOLIDUS&&isValidEscape(t,n))},isNumberStart=function(t,n,r){return t===PLUS_SIGN||t===HYPHEN_MINUS?isDigit(n)?!0:n===FULL_STOP&&isDigit(r):isDigit(t===FULL_STOP?n:t)},stringToNumber=function(t){var n=0,r=1;(t[n]===PLUS_SIGN||t[n]===HYPHEN_MINUS)&&(t[n]===HYPHEN_MINUS&&(r=-1),n++);for(var s=[];isDigit(t[n]);)s.push(t[n++]);var o=s.length?parseInt(fromCodePoint$1.apply(void 0,s),10):0;t[n]===FULL_STOP&&n++;for(var l=[];isDigit(t[n]);)l.push(t[n++]);var c=l.length,p=c?parseInt(fromCodePoint$1.apply(void 0,l),10):0;(t[n]===E||t[n]===e)&&n++;var m=1;(t[n]===PLUS_SIGN||t[n]===HYPHEN_MINUS)&&(t[n]===HYPHEN_MINUS&&(m=-1),n++);for(var x=[];isDigit(t[n]);)x.push(t[n++]);var b=x.length?parseInt(fromCodePoint$1.apply(void 0,x),10):0;return r*(o+p*Math.pow(10,-c))*Math.pow(10,m*b)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=(function(){function t(){this._value=[]}return t.prototype.write=function(n){this._value=this._value.concat(toCodePoints$1(n))},t.prototype.read=function(){for(var n=[],r=this.consumeToken();r!==EOF_TOKEN;)n.push(r),r=this.consumeToken();return n},t.prototype.consumeToken=function(){var n=this.consumeCodePoint();switch(n){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(isNameCodePoint(r)||isValidEscape(s,o)){var l=isIdentifierStart(r,s,o)?FLAG_ID:FLAG_UNRESTRICTED,c=this.consumeName();return{type:5,value:c,flags:l}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE$1:return this.consumeStringToken(APOSTROPHE$1);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case COMMA$1:return COMMA_TOKEN;case HYPHEN_MINUS:var p=n,m=this.peekCodePoint(0),x=this.peekCodePoint(1);if(isNumberStart(p,m,x))return this.reconsumeCodePoint(n),this.consumeNumericToken();if(isIdentifierStart(p,m,x))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();if(m===HYPHEN_MINUS&&x===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK$1)for(this.consumeCodePoint();;){var b=this.consumeCodePoint();if(b===ASTERISK$1&&(b=this.consumeCodePoint(),b===SOLIDUS))return this.consumeToken();if(b===EOF)return this.consumeToken()}break;case COLON$1:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var S=this.peekCodePoint(0),R=this.peekCodePoint(1),k=this.peekCodePoint(2);if(isIdentifierStart(S,R,k)){var c=this.consumeName();return{type:7,value:c}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(n,this.peekCodePoint(0)))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var M=this.peekCodePoint(0),j=this.peekCodePoint(1);return M===PLUS_SIGN&&(isHex(j)||j===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(n),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(n)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(n)?(this.reconsumeCodePoint(n),this.consumeNumericToken()):isNameStartCodePoint(n)?(this.reconsumeCodePoint(n),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(n)}},t.prototype.consumeCodePoint=function(){var n=this._value.shift();return typeof n>"u"?-1:n},t.prototype.reconsumeCodePoint=function(n){this._value.unshift(n)},t.prototype.peekCodePoint=function(n){return n>=this._value.length?-1:this._value[n]},t.prototype.consumeUnicodeRangeToken=function(){for(var n=[],r=this.consumeCodePoint();isHex(r)&&n.length<6;)n.push(r),r=this.consumeCodePoint();for(var s=!1;r===QUESTION_MARK&&n.length<6;)n.push(r),r=this.consumeCodePoint(),s=!0;if(s){var o=parseInt(fromCodePoint$1.apply(void 0,n.map(function(m){return m===QUESTION_MARK?ZERO:m})),16),l=parseInt(fromCodePoint$1.apply(void 0,n.map(function(m){return m===QUESTION_MARK?F:m})),16);return{type:30,start:o,end:l}}var c=parseInt(fromCodePoint$1.apply(void 0,n),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var p=[];isHex(r)&&p.length<6;)p.push(r),r=this.consumeCodePoint();var l=parseInt(fromCodePoint$1.apply(void 0,p),16);return{type:30,start:c,end:l}}else return{type:30,start:c,end:c}},t.prototype.consumeIdentLikeToken=function(){var n=this.consumeName();return n.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:n}):{type:20,value:n}},t.prototype.consumeUrlToken=function(){var n=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===APOSTROPHE$1||r===QUOTATION_MARK){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var o=this.consumeCodePoint();if(o===EOF||o===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,n)};if(isWhiteSpace(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,n)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(o===QUOTATION_MARK||o===APOSTROPHE$1||o===LEFT_PARENTHESIS||isNonPrintableCodePoint(o))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(o===REVERSE_SOLIDUS)if(isValidEscape(o,this.peekCodePoint(0)))n.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else n.push(o)}},t.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var n=this.consumeCodePoint();if(n===RIGHT_PARENTHESIS||n===EOF)return;isValidEscape(n,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(n){for(var r=5e4,s="";n>0;){var o=Math.min(r,n);s+=fromCodePoint$1.apply(void 0,this._value.splice(0,o)),n-=o}return this._value.shift(),s},t.prototype.consumeStringToken=function(n){var r="",s=0;do{var o=this._value[s];if(o===EOF||o===void 0||o===n)return r+=this.consumeStringSlice(s),{type:0,value:r};if(o===LINE_FEED)return this._value.splice(0,s),BAD_STRING_TOKEN;if(o===REVERSE_SOLIDUS){var l=this._value[s+1];l!==EOF&&l!==void 0&&(l===LINE_FEED?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):isValidEscape(o,l)&&(r+=this.consumeStringSlice(s),r+=fromCodePoint$1(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var n=[],r=FLAG_INTEGER,s=this.peekCodePoint(0);for((s===PLUS_SIGN||s===HYPHEN_MINUS)&&n.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());s=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(s===FULL_STOP&&isDigit(o))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());s=this.peekCodePoint(0),o=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((s===E||s===e)&&((o===PLUS_SIGN||o===HYPHEN_MINUS)&&isDigit(l)||isDigit(o)))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());return[stringToNumber(n),r]},t.prototype.consumeNumericToken=function(){var n=this.consumeNumber(),r=n[0],s=n[1],o=this.peekCodePoint(0),l=this.peekCodePoint(1),c=this.peekCodePoint(2);if(isIdentifierStart(o,l,c)){var p=this.consumeName();return{type:15,number:r,flags:s,unit:p}}return o===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var n=this.consumeCodePoint();if(isHex(n)){for(var r=fromCodePoint$1(n);isHex(this.peekCodePoint(0))&&r.length<6;)r+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||isSurrogateCodePoint(s)||s>1114111?REPLACEMENT_CHARACTER:s}return n===EOF?REPLACEMENT_CHARACTER:n},t.prototype.consumeName=function(){for(var n="";;){var r=this.consumeCodePoint();if(isNameCodePoint(r))n+=fromCodePoint$1(r);else if(isValidEscape(r,this.peekCodePoint(0)))n+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),n}},t})(),Parser=(function(){function t(n){this._tokens=n}return t.create=function(n){var r=new Tokenizer;return r.write(n),new t(r.read())},t.parseValue=function(n){return t.create(n).parseComponentValue()},t.parseValues=function(n){return t.create(n).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var n=this.consumeToken();n.type===31;)n=this.consumeToken();if(n.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(n);var r=this.consumeComponentValue();do n=this.consumeToken();while(n.type===31);if(n.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var n=[];;){var r=this.consumeComponentValue();if(r.type===32)return n;n.push(r),n.push()}},t.prototype.consumeComponentValue=function(){var n=this.consumeToken();switch(n.type){case 11:case 28:case 2:return this.consumeSimpleBlock(n.type);case 19:return this.consumeFunction(n)}return n},t.prototype.consumeSimpleBlock=function(n){for(var r={type:n,values:[]},s=this.consumeToken();;){if(s.type===32||isEndingTokenFor(s,n))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(n){for(var r={name:n.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var n=this._tokens.shift();return typeof n>"u"?EOF_TOKEN:n},t.prototype.reconsumeToken=function(n){this._tokens.unshift(n)},t})(),isDimensionToken=function(t){return t.type===15},isNumberToken=function(t){return t.type===17},isIdentToken=function(t){return t.type===20},isStringToken=function(t){return t.type===0},isIdentWithValue=function(t,n){return isIdentToken(t)&&t.value===n},nonWhiteSpace=function(t){return t.type!==31},nonFunctionArgSeparator=function(t){return t.type!==31&&t.type!==4},parseFunctionArgs=function(t){var n=[],r=[];return t.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");n.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&n.push(r),n},isEndingTokenFor=function(t,n){return n===11&&t.type===12||n===28&&t.type===29?!0:n===2&&t.type===3},isLength=function(t){return t.type===17||t.type===15},isLengthPercentage=function(t){return t.type===16||isLength(t)},parseLengthPercentageTuple=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(t,n,r){var s=t[0],o=t[1];return[getAbsoluteValue(s,n),getAbsoluteValue(typeof o<"u"?o:s,r)]},getAbsoluteValue=function(t,n){if(t.type===16)return t.number/100*n;if(isDimensionToken(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(t,n){if(n.type===15)switch(n.unit){case DEG:return Math.PI*n.number/180;case GRAD:return Math.PI/200*n.number;case RAD:return n.number;case TURN:return Math.PI*2*n.number}throw new Error("Unsupported angle type")}},isAngle=function(t){return t.type===15&&(t.unit===DEG||t.unit===GRAD||t.unit===RAD||t.unit===TURN)},parseNamedSide=function(t){var n=t.filter(isIdentToken).map(function(r){return r.value}).join(" ");switch(n){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(t){return Math.PI*t/180},color$1={name:"color",parse:function(t,n){if(n.type===18){var r=SUPPORTED_COLOR_FUNCTIONS[n.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+n.name+'"');return r(t,n.values)}if(n.type===5){if(n.value.length===3){var s=n.value.substring(0,1),o=n.value.substring(1,2),l=n.value.substring(2,3);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),1)}if(n.value.length===4){var s=n.value.substring(0,1),o=n.value.substring(1,2),l=n.value.substring(2,3),c=n.value.substring(3,4);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),parseInt(c+c,16)/255)}if(n.value.length===6){var s=n.value.substring(0,2),o=n.value.substring(2,4),l=n.value.substring(4,6);return pack(parseInt(s,16),parseInt(o,16),parseInt(l,16),1)}if(n.value.length===8){var s=n.value.substring(0,2),o=n.value.substring(2,4),l=n.value.substring(4,6),c=n.value.substring(6,8);return pack(parseInt(s,16),parseInt(o,16),parseInt(l,16),parseInt(c,16)/255)}}if(n.type===20){var p=COLORS[n.value.toUpperCase()];if(typeof p<"u")return p}return COLORS.TRANSPARENT}},isTransparent=function(t){return(255&t)===0},asString=function(t){var n=255&t,r=255&t>>8,s=255&t>>16,o=255&t>>24;return n<255?"rgba("+o+","+s+","+r+","+n/255+")":"rgb("+o+","+s+","+r+")"},pack=function(t,n,r,s){return(t<<24|n<<16|r<<8|Math.round(s*255)<<0)>>>0},getTokenColorValue=function(t,n){if(t.type===17)return t.number;if(t.type===16){var r=n===3?1:255;return n===3?t.number/100*r:Math.round(t.number/100*r)}return 0},rgb=function(t,n){var r=n.filter(nonFunctionArgSeparator);if(r.length===3){var s=r.map(getTokenColorValue),o=s[0],l=s[1],c=s[2];return pack(o,l,c,1)}if(r.length===4){var p=r.map(getTokenColorValue),o=p[0],l=p[1],c=p[2],m=p[3];return pack(o,l,c,m)}return 0};function hue2rgb(t,n,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(n-t)*r*6+t:r<1/2?n:r<2/3?(n-t)*6*(2/3-r)+t:t}var hsl=function(t,n){var r=n.filter(nonFunctionArgSeparator),s=r[0],o=r[1],l=r[2],c=r[3],p=(s.type===17?deg(s.number):angle.parse(t,s))/(Math.PI*2),m=isLengthPercentage(o)?o.number/100:0,x=isLengthPercentage(l)?l.number/100:0,b=typeof c<"u"&&isLengthPercentage(c)?getAbsoluteValue(c,1):1;if(m===0)return pack(x*255,x*255,x*255,1);var S=x<=.5?x*(m+1):x+m-x*m,R=x*2-S,k=hue2rgb(R,S,p+1/3),M=hue2rgb(R,S,p),j=hue2rgb(R,S,p-1/3);return pack(k*255,M*255,j*255,b)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(t,n){return color$1.parse(t,Parser.create(n).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(r){if(isIdentToken(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(t,n){var r=color$1.parse(t,n[0]),s=n[1];return s&&isLengthPercentage(s)?{color:r,stop:s}:{color:r,stop:null}},processColorStops=function(t,n){var r=t[0],s=t[t.length-1];r.stop===null&&(r.stop=ZERO_LENGTH),s.stop===null&&(s.stop=HUNDRED_PERCENT);for(var o=[],l=0,c=0;c<t.length;c++){var p=t[c].stop;if(p!==null){var m=getAbsoluteValue(p,n);m>l?o.push(m):o.push(l),l=m}else o.push(null)}for(var x=null,c=0;c<o.length;c++){var b=o[c];if(b===null)x===null&&(x=c);else if(x!==null){for(var S=c-x,R=o[x-1],k=(b-R)/(S+1),M=1;M<=S;M++)o[x+M-1]=k*M;x=null}}return t.map(function(j,G){var P=j.color;return{color:P,stop:Math.max(Math.min(1,o[G]/n),0)}})},getAngleFromCorner=function(t,n,r){var s=n/2,o=r/2,l=getAbsoluteValue(t[0],n)-s,c=o-getAbsoluteValue(t[1],r);return(Math.atan2(c,l)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(t,n,r){var s=typeof t=="number"?t:getAngleFromCorner(t,n,r),o=Math.abs(n*Math.sin(s))+Math.abs(r*Math.cos(s)),l=n/2,c=r/2,p=o/2,m=Math.sin(s-Math.PI/2)*p,x=Math.cos(s-Math.PI/2)*p;return[o,l-x,l+x,c-m,c+m]},distance=function(t,n){return Math.sqrt(t*t+n*n)},findCorner=function(t,n,r,s,o){var l=[[0,0],[0,n],[t,0],[t,n]];return l.reduce(function(c,p){var m=p[0],x=p[1],b=distance(r-m,s-x);return(o?b<c.optimumDistance:b>c.optimumDistance)?{optimumCorner:p,optimumDistance:b}:c},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(t,n,r,s,o){var l=0,c=0;switch(t.size){case 0:t.shape===0?l=c=Math.min(Math.abs(n),Math.abs(n-s),Math.abs(r),Math.abs(r-o)):t.shape===1&&(l=Math.min(Math.abs(n),Math.abs(n-s)),c=Math.min(Math.abs(r),Math.abs(r-o)));break;case 2:if(t.shape===0)l=c=Math.min(distance(n,r),distance(n,r-o),distance(n-s,r),distance(n-s,r-o));else if(t.shape===1){var p=Math.min(Math.abs(r),Math.abs(r-o))/Math.min(Math.abs(n),Math.abs(n-s)),m=findCorner(s,o,n,r,!0),x=m[0],b=m[1];l=distance(x-n,(b-r)/p),c=p*l}break;case 1:t.shape===0?l=c=Math.max(Math.abs(n),Math.abs(n-s),Math.abs(r),Math.abs(r-o)):t.shape===1&&(l=Math.max(Math.abs(n),Math.abs(n-s)),c=Math.max(Math.abs(r),Math.abs(r-o)));break;case 3:if(t.shape===0)l=c=Math.max(distance(n,r),distance(n,r-o),distance(n-s,r),distance(n-s,r-o));else if(t.shape===1){var p=Math.max(Math.abs(r),Math.abs(r-o))/Math.max(Math.abs(n),Math.abs(n-s)),S=findCorner(s,o,n,r,!1),x=S[0],b=S[1];l=distance(x-n,(b-r)/p),c=p*l}break}return Array.isArray(t.size)&&(l=getAbsoluteValue(t.size[0],s),c=t.size.length===2?getAbsoluteValue(t.size[1],o):l),[l,c]},linearGradient=function(t,n){var r=deg(180),s=[];return parseFunctionArgs(n).forEach(function(o,l){if(l===0){var c=o[0];if(c.type===20&&c.value==="to"){r=parseNamedSide(o);return}else if(isAngle(c)){r=angle.parse(t,c);return}}var p=parseColorStop(t,o);s.push(p)}),{angle:r,stops:s,type:1}},prefixLinearGradient=function(t,n){var r=deg(180),s=[];return parseFunctionArgs(n).forEach(function(o,l){if(l===0){var c=o[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){r=parseNamedSide(o);return}else if(isAngle(c)){r=(angle.parse(t,c)+deg(270))%deg(360);return}}var p=parseColorStop(t,o);s.push(p)}),{angle:r,stops:s,type:1}},webkitGradient=function(t,n){var r=deg(180),s=[],o=1,l=0,c=3,p=[];return parseFunctionArgs(n).forEach(function(m,x){var b=m[0];if(x===0){if(isIdentToken(b)&&b.value==="linear"){o=1;return}else if(isIdentToken(b)&&b.value==="radial"){o=2;return}}if(b.type===18){if(b.name==="from"){var S=color$1.parse(t,b.values[0]);s.push({stop:ZERO_LENGTH,color:S})}else if(b.name==="to"){var S=color$1.parse(t,b.values[0]);s.push({stop:HUNDRED_PERCENT,color:S})}else if(b.name==="color-stop"){var R=b.values.filter(nonFunctionArgSeparator);if(R.length===2){var S=color$1.parse(t,R[1]),k=R[0];isNumberToken(k)&&s.push({stop:{type:16,number:k.number*100,flags:k.flags},color:S})}}}}),o===1?{angle:(r+deg(180))%deg(360),stops:s,type:o}:{size:c,shape:l,stops:s,position:p,type:o}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(t,n){var r=0,s=3,o=[],l=[];return parseFunctionArgs(n).forEach(function(c,p){var m=!0;if(p===0){var x=!1;m=c.reduce(function(S,R){if(x)if(isIdentToken(R))switch(R.value){case"center":return l.push(FIFTY_PERCENT),S;case"top":case"left":return l.push(ZERO_LENGTH),S;case"right":case"bottom":return l.push(HUNDRED_PERCENT),S}else(isLengthPercentage(R)||isLength(R))&&l.push(R);else if(isIdentToken(R))switch(R.value){case CIRCLE:return r=0,!1;case ELLIPSE:return r=1,!1;case"at":return x=!0,!1;case CLOSEST_SIDE:return s=0,!1;case COVER:case FARTHEST_SIDE:return s=1,!1;case CONTAIN:case CLOSEST_CORNER:return s=2,!1;case FARTHEST_CORNER:return s=3,!1}else if(isLength(R)||isLengthPercentage(R))return Array.isArray(s)||(s=[]),s.push(R),!1;return S},m)}if(m){var b=parseColorStop(t,c);o.push(b)}}),{size:s,shape:r,stops:o,position:l,type:2}},prefixRadialGradient=function(t,n){var r=0,s=3,o=[],l=[];return parseFunctionArgs(n).forEach(function(c,p){var m=!0;if(p===0?m=c.reduce(function(b,S){if(isIdentToken(S))switch(S.value){case"center":return l.push(FIFTY_PERCENT),!1;case"top":case"left":return l.push(ZERO_LENGTH),!1;case"right":case"bottom":return l.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(S)||isLength(S))return l.push(S),!1;return b},m):p===1&&(m=c.reduce(function(b,S){if(isIdentToken(S))switch(S.value){case CIRCLE:return r=0,!1;case ELLIPSE:return r=1,!1;case CONTAIN:case CLOSEST_SIDE:return s=0,!1;case FARTHEST_SIDE:return s=1,!1;case CLOSEST_CORNER:return s=2,!1;case COVER:case FARTHEST_CORNER:return s=3,!1}else if(isLength(S)||isLengthPercentage(S))return Array.isArray(s)||(s=[]),s.push(S),!1;return b},m)),m){var x=parseColorStop(t,c);o.push(x)}}),{size:s,shape:r,stops:o,position:l,type:2}},isLinearGradient=function(t){return t.type===1},isRadialGradient=function(t){return t.type===2},image$1={name:"image",parse:function(t,n){if(n.type===22){var r={url:n.value,type:0};return t.cache.addImage(n.value),r}if(n.type===18){var s=SUPPORTED_IMAGE_FUNCTIONS[n.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+n.name+'"');return s(t,n.values)}throw new Error("Unsupported image type "+n.type)}};function isSupportedImage(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[t.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,n){if(n.length===0)return[];var r=n[0];return r.type===20&&r.value==="none"?[]:n.filter(function(s){return nonFunctionArgSeparator(s)&&isSupportedImage(s)}).map(function(s){return image$1.parse(t,s)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(r){if(isIdentToken(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isIdentToken).map(function(s){return s.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(t){return isIdentToken(t)||isLengthPercentage(t)},borderColorForSide=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(n,r){return parseLengthPercentageTuple(r.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(n,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(n,r){return isDimensionToken(r)?r.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,n){switch(n){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).reduce(function(r,s){return r|parseDisplayValue(s.value)},0)}},parseDisplayValue=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,n){return n.type===20&&n.value==="normal"?0:n.type===17||n.type===15?n.number:0}},LINE_BREAK;(function(t){t.NORMAL="normal",t.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(t,n){return isIdentToken(t)&&t.value==="normal"?1.2*n:t.type===17?n*t.number:isLengthPercentage(t)?getAbsoluteValue(t,n):n},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,n){return n.type===20&&n.value==="none"?null:image$1.parse(t,n)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,n){switch(n){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,n){switch(n){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,n){switch(n){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&isIdentWithValue(n[0],"none")?[]:parseFunctionArgs(n).map(function(r){for(var s={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},o=0,l=0;l<r.length;l++){var c=r[l];isLength(c)?(o===0?s.offsetX=c:o===1?s.offsetY=c:s.blur=c,o++):s.color=color$1.parse(t,c)}return s})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,n){if(n.type===20&&n.value==="none")return null;if(n.type===18){var r=SUPPORTED_TRANSFORM_FUNCTIONS[n.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+n.name+'"');return r(n.values)}return null}},matrix=function(t){var n=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return n.length===6?n:null},matrix3d=function(t){var n=t.filter(function(m){return m.type===17}).map(function(m){return m.number}),r=n[0],s=n[1];n[2],n[3];var o=n[4],l=n[5];n[6],n[7],n[8],n[9],n[10],n[11];var c=n[12],p=n[13];return n[14],n[15],n.length===16?[r,s,o,l,c,p]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,n){var r=n.filter(isLengthPercentage);return r.length!==2?DEFAULT:[r[0],r[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,n){if(n.type===20)return{auto:!0,order:0};if(isNumberToken(n))return{auto:!1,order:n.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(t,n){if(n.type===15)switch(n.unit.toLowerCase()){case"s":return 1e3*n.number;case"ms":return n.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,n){return isNumberToken(n)?n.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,n){var r=[],s=[];return n.forEach(function(o){switch(o.type){case 20:case 0:r.push(o.value);break;case 17:r.push(o.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,n){if(isNumberToken(n))return n.number;if(isIdentToken(n))switch(n.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){return r.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(t,n){return(t&n)!==0},content$1={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,n){if(n.length===0)return[];var r=n[0];return r.type===20&&r.value==="none"?[]:n}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return null;var r=n[0];if(r.type===20&&r.value==="none")return null;for(var s=[],o=n.filter(nonWhiteSpace),l=0;l<o.length;l++){var c=o[l],p=o[l+1];if(c.type===20){var m=p&&isNumberToken(p)?p.number:1;s.push({counter:c.value,increment:m})}}return s}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return[];for(var r=[],s=n.filter(nonWhiteSpace),o=0;o<s.length;o++){var l=s[o],c=s[o+1];if(isIdentToken(l)&&l.value!=="none"){var p=c&&isNumberToken(c)?c.number:0;r.push({counter:l.value,reset:p})}}return r}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,n){return n.filter(isDimensionToken).map(function(r){return time.parse(t,r)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return null;var r=n[0];if(r.type===20&&r.value==="none")return null;var s=[],o=n.filter(isStringToken);if(o.length%2!==0)return null;for(var l=0;l<o.length;l+=2){var c=o[l].value,p=o[l+1].value;s.push({open:c,close:p})}return s}},getQuote=function(t,n,r){if(!t)return"";var s=t[Math.min(n,t.length-1)];return s?r?s.open:s.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&isIdentWithValue(n[0],"none")?[]:parseFunctionArgs(n).map(function(r){for(var s={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},o=0,l=0;l<r.length;l++){var c=r[l];isIdentWithValue(c,"inset")?s.inset=!0:isLength(c)?(o===0?s.offsetX=c:o===1?s.offsetY=c:o===2?s.blur=c:s.spread=c,o++):s.color=color$1.parse(t,c)}return s})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,n){var r=[0,1,2],s=[];return n.filter(isIdentToken).forEach(function(o){switch(o.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(o){s.indexOf(o)===-1&&s.push(o)}),s}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return isDimensionToken(n)?n.number:0}},CSSParsedDeclaration=(function(){function t(n,r){var s,o;this.animationDuration=parse(n,duration,r.animationDuration),this.backgroundClip=parse(n,backgroundClip,r.backgroundClip),this.backgroundColor=parse(n,backgroundColor,r.backgroundColor),this.backgroundImage=parse(n,backgroundImage,r.backgroundImage),this.backgroundOrigin=parse(n,backgroundOrigin,r.backgroundOrigin),this.backgroundPosition=parse(n,backgroundPosition,r.backgroundPosition),this.backgroundRepeat=parse(n,backgroundRepeat,r.backgroundRepeat),this.backgroundSize=parse(n,backgroundSize,r.backgroundSize),this.borderTopColor=parse(n,borderTopColor,r.borderTopColor),this.borderRightColor=parse(n,borderRightColor,r.borderRightColor),this.borderBottomColor=parse(n,borderBottomColor,r.borderBottomColor),this.borderLeftColor=parse(n,borderLeftColor,r.borderLeftColor),this.borderTopLeftRadius=parse(n,borderTopLeftRadius,r.borderTopLeftRadius),this.borderTopRightRadius=parse(n,borderTopRightRadius,r.borderTopRightRadius),this.borderBottomRightRadius=parse(n,borderBottomRightRadius,r.borderBottomRightRadius),this.borderBottomLeftRadius=parse(n,borderBottomLeftRadius,r.borderBottomLeftRadius),this.borderTopStyle=parse(n,borderTopStyle,r.borderTopStyle),this.borderRightStyle=parse(n,borderRightStyle,r.borderRightStyle),this.borderBottomStyle=parse(n,borderBottomStyle,r.borderBottomStyle),this.borderLeftStyle=parse(n,borderLeftStyle,r.borderLeftStyle),this.borderTopWidth=parse(n,borderTopWidth,r.borderTopWidth),this.borderRightWidth=parse(n,borderRightWidth,r.borderRightWidth),this.borderBottomWidth=parse(n,borderBottomWidth,r.borderBottomWidth),this.borderLeftWidth=parse(n,borderLeftWidth,r.borderLeftWidth),this.boxShadow=parse(n,boxShadow,r.boxShadow),this.color=parse(n,color,r.color),this.direction=parse(n,direction,r.direction),this.display=parse(n,display,r.display),this.float=parse(n,float,r.cssFloat),this.fontFamily=parse(n,fontFamily,r.fontFamily),this.fontSize=parse(n,fontSize,r.fontSize),this.fontStyle=parse(n,fontStyle,r.fontStyle),this.fontVariant=parse(n,fontVariant,r.fontVariant),this.fontWeight=parse(n,fontWeight,r.fontWeight),this.letterSpacing=parse(n,letterSpacing,r.letterSpacing),this.lineBreak=parse(n,lineBreak,r.lineBreak),this.lineHeight=parse(n,lineHeight,r.lineHeight),this.listStyleImage=parse(n,listStyleImage,r.listStyleImage),this.listStylePosition=parse(n,listStylePosition,r.listStylePosition),this.listStyleType=parse(n,listStyleType,r.listStyleType),this.marginTop=parse(n,marginTop,r.marginTop),this.marginRight=parse(n,marginRight,r.marginRight),this.marginBottom=parse(n,marginBottom,r.marginBottom),this.marginLeft=parse(n,marginLeft,r.marginLeft),this.opacity=parse(n,opacity,r.opacity);var l=parse(n,overflow,r.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=parse(n,overflowWrap,r.overflowWrap),this.paddingTop=parse(n,paddingTop,r.paddingTop),this.paddingRight=parse(n,paddingRight,r.paddingRight),this.paddingBottom=parse(n,paddingBottom,r.paddingBottom),this.paddingLeft=parse(n,paddingLeft,r.paddingLeft),this.paintOrder=parse(n,paintOrder,r.paintOrder),this.position=parse(n,position,r.position),this.textAlign=parse(n,textAlign,r.textAlign),this.textDecorationColor=parse(n,textDecorationColor,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=parse(n,textDecorationLine,(o=r.textDecorationLine)!==null&&o!==void 0?o:r.textDecoration),this.textShadow=parse(n,textShadow,r.textShadow),this.textTransform=parse(n,textTransform,r.textTransform),this.transform=parse(n,transform$1,r.transform),this.transformOrigin=parse(n,transformOrigin,r.transformOrigin),this.visibility=parse(n,visibility,r.visibility),this.webkitTextStrokeColor=parse(n,webkitTextStrokeColor,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse(n,webkitTextStrokeWidth,r.webkitTextStrokeWidth),this.wordBreak=parse(n,wordBreak,r.wordBreak),this.zIndex=parse(n,zIndex,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},t})(),CSSParsedPseudoDeclaration=(function(){function t(n,r){this.content=parse(n,content$1,r.content),this.quotes=parse(n,quotes,r.quotes)}return t})(),CSSParsedCounterDeclaration=(function(){function t(n,r){this.counterIncrement=parse(n,counterIncrement,r.counterIncrement),this.counterReset=parse(n,counterReset,r.counterReset)}return t})(),parse=function(t,n,r){var s=new Tokenizer,o=r!==null&&typeof r<"u"?r.toString():n.initialValue;s.write(o);var l=new Parser(s.read());switch(n.type){case 2:var c=l.parseComponentValue();return n.parse(t,isIdentToken(c)?c.value:n.initialValue);case 0:return n.parse(t,l.parseComponentValue());case 1:return n.parse(t,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(n.format){case"angle":return angle.parse(t,l.parseComponentValue());case"color":return color$1.parse(t,l.parseComponentValue());case"image":return image$1.parse(t,l.parseComponentValue());case"length":var p=l.parseComponentValue();return isLength(p)?p:ZERO_LENGTH;case"length-percentage":var m=l.parseComponentValue();return isLengthPercentage(m)?m:ZERO_LENGTH;case"time":return time.parse(t,l.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(t){var n=t.getAttribute(elementDebuggerAttribute);switch(n){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(t,n){var r=getElementDebugType(t);return r===1||n===r},ElementContainer=(function(){function t(n,r){if(this.context=n,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(r,3))debugger;this.styles=new CSSParsedDeclaration(n,window.getComputedStyle(r,null)),isHTMLElementNode(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=parseBounds(this.context,r),isDebugging(r,4)&&(this.flags|=16)}return t})(),base64$2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var decode=function(t){var n=t.length*.75,r=t.length,s,o=0,l,c,p,m;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var x=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),b=Array.isArray(x)?x:new Uint8Array(x);for(s=0;s<r;s+=4)l=lookup$1[t.charCodeAt(s)],c=lookup$1[t.charCodeAt(s+1)],p=lookup$1[t.charCodeAt(s+2)],m=lookup$1[t.charCodeAt(s+3)],b[o++]=l<<2|c>>4,b[o++]=(c&15)<<4|p>>2,b[o++]=(p&3)<<6|m&63;return x},polyUint16Array=function(t){for(var n=t.length,r=[],s=0;s<n;s+=2)r.push(t[s+1]<<8|t[s]);return r},polyUint32Array=function(t){for(var n=t.length,r=[],s=0;s<n;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(t,n,r){return t.slice?t.slice(n,r):new Uint16Array(Array.prototype.slice.call(t,n,r))},slice32=function(t,n,r){return t.slice?t.slice(n,r):new Uint32Array(Array.prototype.slice.call(t,n,r))},createTrieFromBase64=function(t,n){var r=decode(t),s=Array.isArray(r)?polyUint32Array(r):new Uint32Array(r),o=Array.isArray(r)?polyUint16Array(r):new Uint16Array(r),l=24,c=slice16(o,l/2,s[4]/2),p=s[5]===2?slice16(o,(l+s[4])/2):slice32(s,Math.ceil((l+s[4])/4));return new Trie(s[0],s[1],s[2],s[3],c,p)},Trie=(function(){function t(n,r,s,o,l,c){this.initialValue=n,this.errorValue=r,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=c}return t.prototype.get=function(n){var r;if(n>=0){if(n<55296||n>56319&&n<=65535)return r=this.index[n>>UTRIE2_SHIFT_2],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<=65535)return r=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(n-55296>>UTRIE2_SHIFT_2)],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<this.highStart)return r=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(n>>UTRIE2_SHIFT_1),r=this.index[r],r+=n>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,r=this.index[r],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$4=0;i$4<chars.length;i$4++)lookup[chars.charCodeAt(i$4)]=i$4;var Prepend=1,CR$2=2,LF$2=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(t){for(var n=[],r=0,s=t.length;r<s;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<s){var l=t.charCodeAt(r++);(l&64512)===56320?n.push(((o&1023)<<10)+(l&1023)+65536):(n.push(o),r--)}else n.push(o)}return n},fromCodePoint=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],o=-1,l="";++o<r;){var c=t[o];c<=65535?s.push(c):(c-=65536,s.push((c>>10)+55296,c%1024+56320)),(o+1===r||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},UnicodeTrie=createTrieFromBase64(base64$2),BREAK_NOT_ALLOWED="",BREAK_ALLOWED="",codePointToClass=function(t){return UnicodeTrie.get(t)},_graphemeBreakAtIndex=function(t,n,r){var s=r-2,o=n[s],l=n[r-1],c=n[r];if(l===CR$2&&c===LF$2)return BREAK_NOT_ALLOWED;if(l===CR$2||l===LF$2||l===Control||c===CR$2||c===LF$2||c===Control)return BREAK_ALLOWED;if(l===L&&[L,V,LV,LVT].indexOf(c)!==-1||(l===LV||l===V)&&(c===V||c===T)||(l===LVT||l===T)&&c===T||c===ZWJ||c===Extend||c===SpacingMark||l===Prepend)return BREAK_NOT_ALLOWED;if(l===ZWJ&&c===Extended_Pictographic){for(;o===Extend;)o=n[--s];if(o===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(l===RI&&c===RI){for(var p=0;o===RI;)p++,o=n[--s];if(p%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(t){var n=toCodePoints(t),r=n.length,s=0,o=0,l=n.map(codePointToClass);return{next:function(){if(s>=r)return{done:!0,value:null};for(var c=BREAK_NOT_ALLOWED;s<r&&(c=_graphemeBreakAtIndex(n,l,++s))===BREAK_NOT_ALLOWED;);if(c!==BREAK_NOT_ALLOWED||s===r){var p=fromCodePoint.apply(null,n.slice(o,s));return o=s,{value:p,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(t){for(var n=GraphemeBreaker(t),r=[],s;!(s=n.next()).done;)s.value&&r.push(s.value.slice());return r},testRangeBounds=function(t){var n=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=n+"px",s.style.display="block",t.body.appendChild(s),r.selectNode(s);var o=r.getBoundingClientRect(),l=Math.round(o.height);if(t.body.removeChild(s),l===n)return!0}}return!1},testIOSLineBreak=function(t){var n=t.createElement("boundtest");n.style.width="50px",n.style.display="block",n.style.fontSize="12px",n.style.letterSpacing="0px",n.style.wordSpacing="0px",t.body.appendChild(n);var r=t.createRange();n.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=n.firstChild,o=toCodePoints$1(s.data).map(function(m){return fromCodePoint$1(m)}),l=0,c={},p=o.every(function(m,x){r.setStart(s,l),r.setEnd(s,l+m.length);var b=r.getBoundingClientRect();l+=m.length;var S=b.x>c.x||b.y>c.y;return c=b,x===0?!0:S});return t.body.removeChild(n),p},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(t){var n=new Image,r=t.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;n.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(n,0,0),r.toDataURL()}catch{return!1}return!0},isGreenPixel=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},testForeignObject=function(t){var n=t.createElement("canvas"),r=100;n.width=r,n.height=r;var s=n.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var o=new Image,l=n.toDataURL();o.src=l;var c=createForeignObjectSVG(r,r,0,0,o);return s.fillStyle="red",s.fillRect(0,0,r,r),loadSerializedSVG$1(c).then(function(p){s.drawImage(p,0,0);var m=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var x=t.createElement("div");return x.style.backgroundImage="url("+l+")",x.style.height=r+"px",isGreenPixel(m)?loadSerializedSVG$1(createForeignObjectSVG(r,r,0,0,x)):Promise.reject(!1)}).then(function(p){return s.drawImage(p,0,0),isGreenPixel(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},createForeignObjectSVG=function(t,n,r,s,o){var l="http://www.w3.org/2000/svg",c=document.createElementNS(l,"svg"),p=document.createElementNS(l,"foreignObject");return c.setAttributeNS(null,"width",t.toString()),c.setAttributeNS(null,"height",n.toString()),p.setAttributeNS(null,"width","100%"),p.setAttributeNS(null,"height","100%"),p.setAttributeNS(null,"x",r.toString()),p.setAttributeNS(null,"y",s.toString()),p.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(p),p.appendChild(o),c},loadSerializedSVG$1=function(t){return new Promise(function(n,r){var s=new Image;s.onload=function(){return n(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var t=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},TextBounds=(function(){function t(n,r){this.text=n,this.bounds=r}return t})(),parseTextBounds=function(t,n,r,s){var o=breakText(n,r),l=[],c=0;return o.forEach(function(p){if(r.textDecorationLine.length||p.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var m=createRange(s,c,p.length).getClientRects();if(m.length>1){var x=segmentGraphemes(p),b=0;x.forEach(function(R){l.push(new TextBounds(R,Bounds.fromDOMRectList(t,createRange(s,b+c,R.length).getClientRects()))),b+=R.length})}else l.push(new TextBounds(p,Bounds.fromDOMRectList(t,m)))}else{var S=s.splitText(p.length);l.push(new TextBounds(p,getWrapperBounds(t,s))),s=S}else FEATURES.SUPPORT_RANGE_BOUNDS||(s=s.splitText(p.length));c+=p.length}),l},getWrapperBounds=function(t,n){var r=n.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(n.cloneNode(!0));var o=n.parentNode;if(o){o.replaceChild(s,n);var l=parseBounds(t,s);return s.firstChild&&o.replaceChild(s.firstChild,s),l}}return Bounds.EMPTY},createRange=function(t,n,r){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var o=s.createRange();return o.setStart(t,n),o.setEnd(t,n+r),o},segmentGraphemes=function(t){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return splitGraphemes(t)},segmentWords=function(t,n){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(s){return s.segment})}return breakWords(t,n)},breakText=function(t,n){return n.letterSpacing!==0?segmentGraphemes(t):segmentWords(t,n)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(t,n){for(var r=LineBreaker(t,{lineBreak:n.lineBreak,wordBreak:n.overflowWrap==="break-word"?"break-word":n.wordBreak}),s=[],o,l=function(){if(o.value){var c=o.value.slice(),p=toCodePoints$1(c),m="";p.forEach(function(x){wordSeparators.indexOf(x)===-1?m+=fromCodePoint$1(x):(m.length&&s.push(m),s.push(fromCodePoint$1(x)),m="")}),m.length&&s.push(m)}};!(o=r.next()).done;)l();return s},TextContainer=(function(){function t(n,r,s){this.text=transform(r.data,s.textTransform),this.textBounds=parseTextBounds(n,this.text,s,r)}return t})(),transform=function(t,n){switch(n){case 1:return t.toLowerCase();case 3:return t.replace(CAPITALIZE,capitalize);case 2:return t.toUpperCase();default:return t}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(t,n,r){return t.length>0?n+r.toUpperCase():t},ImageElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.src=s.currentSrc||s.src,o.intrinsicWidth=s.naturalWidth,o.intrinsicHeight=s.naturalHeight,o.context.cache.addImage(o.src),o}return n})(ElementContainer),CanvasElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.canvas=s,o.intrinsicWidth=s.width,o.intrinsicHeight=s.height,o}return n})(ElementContainer),SVGElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this,l=new XMLSerializer,c=parseBounds(r,s);return s.setAttribute("width",c.width+"px"),s.setAttribute("height",c.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(s)),o.intrinsicWidth=s.width.baseVal.value,o.intrinsicHeight=s.height.baseVal.value,o.context.cache.addImage(o.svg),o}return n})(ElementContainer),LIElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.value=s.value,o}return n})(ElementContainer),OLElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.start=s.start,o.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,o}return n})(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(t){return t.width>t.height?new Bounds(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Bounds(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},getInputValue=function(t){var n=t.type===PASSWORD?new Array(t.value.length+1).join(""):t.value;return n.length===0?t.placeholder||"":n},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;switch(o.type=s.type.toLowerCase(),o.checked=s.checked,o.value=getInputValue(s),(o.type===CHECKBOX||o.type===RADIO)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=reformatInputBounds(o.bounds)),o.type){case CHECKBOX:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return o}return n})(ElementContainer),SelectElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this,l=s.options[s.selectedIndex||0];return o.value=l&&l.text||"",o}return n})(ElementContainer),TextareaElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.value=s.value,o}return n})(ElementContainer),IFrameElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;o.src=s.src,o.width=parseInt(s.width,10)||0,o.height=parseInt(s.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){o.tree=parseTree(r,s.contentWindow.document.documentElement);var l=s.contentWindow.document.documentElement?parseColor(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,c=s.contentWindow.document.body?parseColor(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;o.backgroundColor=isTransparent(l)?isTransparent(c)?o.styles.backgroundColor:c:l}}catch{}return o}return n})(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(t,n,r,s){for(var o=n.firstChild,l=void 0;o;o=l)if(l=o.nextSibling,isTextNode(o)&&o.data.trim().length>0)r.textNodes.push(new TextContainer(t,o,r.styles));else if(isElementNode(o))if(isSlotElement(o)&&o.assignedNodes)o.assignedNodes().forEach(function(p){return parseNodeTree(t,p,r,s)});else{var c=createContainer(t,o);c.styles.isVisible()&&(createsRealStackingContext(o,c,s)?c.flags|=4:createsStackingContext(c.styles)&&(c.flags|=2),LIST_OWNERS.indexOf(o.tagName)!==-1&&(c.flags|=8),r.elements.push(c),o.slot,o.shadowRoot?parseNodeTree(t,o.shadowRoot,c,s):!isTextareaElement(o)&&!isSVGElement(o)&&!isSelectElement(o)&&parseNodeTree(t,o,c,s))}},createContainer=function(t,n){return isImageElement(n)?new ImageElementContainer(t,n):isCanvasElement(n)?new CanvasElementContainer(t,n):isSVGElement(n)?new SVGElementContainer(t,n):isLIElement(n)?new LIElementContainer(t,n):isOLElement(n)?new OLElementContainer(t,n):isInputElement(n)?new InputElementContainer(t,n):isSelectElement(n)?new SelectElementContainer(t,n):isTextareaElement(n)?new TextareaElementContainer(t,n):isIFrameElement(n)?new IFrameElementContainer(t,n):new ElementContainer(t,n)},parseTree=function(t,n){var r=createContainer(t,n);return r.flags|=4,parseNodeTree(t,n,r,r),r},createsRealStackingContext=function(t,n,r){return n.styles.isPositionedWithZIndex()||n.styles.opacity<1||n.styles.isTransformed()||isBodyElement(t)&&r.styles.isTransparent()},createsStackingContext=function(t){return t.isPositioned()||t.isFloating()},isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(t){return isElementNode(t)&&typeof t.style<"u"&&!isSVGElementNode(t)},isSVGElementNode=function(t){return typeof t.className=="object"},isLIElement=function(t){return t.tagName==="LI"},isOLElement=function(t){return t.tagName==="OL"},isInputElement=function(t){return t.tagName==="INPUT"},isHTMLElement=function(t){return t.tagName==="HTML"},isSVGElement=function(t){return t.tagName==="svg"},isBodyElement=function(t){return t.tagName==="BODY"},isCanvasElement=function(t){return t.tagName==="CANVAS"},isVideoElement=function(t){return t.tagName==="VIDEO"},isImageElement=function(t){return t.tagName==="IMG"},isIFrameElement=function(t){return t.tagName==="IFRAME"},isStyleElement=function(t){return t.tagName==="STYLE"},isScriptElement=function(t){return t.tagName==="SCRIPT"},isTextareaElement=function(t){return t.tagName==="TEXTAREA"},isSelectElement=function(t){return t.tagName==="SELECT"},isSlotElement=function(t){return t.tagName==="SLOT"},isCustomElement=function(t){return t.tagName.indexOf("-")>0},CounterState=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(n){var r=this.counters[n];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(n){var r=this.counters[n];return r||[]},t.prototype.pop=function(n){var r=this;n.forEach(function(s){return r.counters[s].pop()})},t.prototype.parse=function(n){var r=this,s=n.counterIncrement,o=n.counterReset,l=!0;s!==null&&s.forEach(function(p){var m=r.counters[p.counter];m&&p.increment!==0&&(l=!1,m.length||m.push(1),m[Math.max(0,m.length-1)]+=p.increment)});var c=[];return l&&o.forEach(function(p){var m=r.counters[p.counter];c.push(p.counter),m||(m=r.counters[p.counter]=[]),m.push(p.reset)}),c},t})(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},createAdditiveCounter=function(t,n,r,s,o,l){return t<n||t>r?createCounterText(t,o,l.length>0):s.integers.reduce(function(c,p,m){for(;t>=p;)t-=p,c+=s.values[m];return c},"")+l},createCounterStyleWithSymbolResolver=function(t,n,r,s){var o="";do r||t--,o=s(t)+o,t/=n;while(t*n>=n);return o},createCounterStyleFromRange=function(t,n,r,s,o){var l=r-n+1;return(t<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(t),l,s,function(c){return fromCodePoint$1(Math.floor(c%l)+n)})+o)},createCounterStyleFromSymbols=function(t,n,r){r===void 0&&(r=". ");var s=n.length;return createCounterStyleWithSymbolResolver(Math.abs(t),s,!1,function(o){return n[Math.floor(o%s)]})+r},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(t,n,r,s,o,l){if(t<-9999||t>9999)return createCounterText(t,4,o.length>0);var c=Math.abs(t),p=o;if(c===0)return n[0]+p;for(var m=0;c>0&&m<=4;m++){var x=c%10;x===0&&contains(l,CJK_ZEROS)&&p!==""?p=n[x]+p:x>1||x===1&&m===0||x===1&&m===1&&contains(l,CJK_TEN_COEFFICIENTS)||x===1&&m===1&&contains(l,CJK_TEN_HIGH_COEFFICIENTS)&&t>100||x===1&&m>1&&contains(l,CJK_HUNDRED_COEFFICIENTS)?p=n[x]+(m>0?r[m-1]:"")+p:x===1&&m>0&&(p=r[m-1]+p),c=Math.floor(c/10)}return(t<0?s:"")+p},CHINESE_INFORMAL_MULTIPLIERS="",CHINESE_FORMAL_MULTIPLIERS="",JAPANESE_NEGATIVE="",KOREAN_NEGATIVE="",createCounterText=function(t,n,r){var s=r?". ":"",o=r?"":"",l=r?", ":"",c=r?" ":"";switch(n){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var p=createCounterStyleFromRange(t,48,57,!0,s);return p.length<4?"0"+p:p;case 4:return createCounterStyleFromSymbols(t,"",o);case 6:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s).toLowerCase();case 7:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s);case 8:return createCounterStyleFromRange(t,945,969,!1,s);case 9:return createCounterStyleFromRange(t,97,122,!1,s);case 10:return createCounterStyleFromRange(t,65,90,!1,s);case 11:return createCounterStyleFromRange(t,1632,1641,!0,s);case 12:case 49:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s);case 35:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s).toLowerCase();case 13:return createCounterStyleFromRange(t,2534,2543,!0,s);case 14:case 30:return createCounterStyleFromRange(t,6112,6121,!0,s);case 15:return createCounterStyleFromSymbols(t,"",o);case 16:return createCounterStyleFromSymbols(t,"",o);case 17:case 48:return createCJKCounter(t,"",CHINESE_INFORMAL_MULTIPLIERS,"",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(t,"",CHINESE_FORMAL_MULTIPLIERS,"",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(t,"",CHINESE_INFORMAL_MULTIPLIERS,"",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(t,"",CHINESE_FORMAL_MULTIPLIERS,"",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(t,"","",JAPANESE_NEGATIVE,o,0);case 25:return createCJKCounter(t,"","",JAPANESE_NEGATIVE,o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,0);case 32:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(t,2406,2415,!0,s);case 20:return createAdditiveCounter(t,1,19999,GEORGIAN,3,s);case 21:return createCounterStyleFromRange(t,2790,2799,!0,s);case 22:return createCounterStyleFromRange(t,2662,2671,!0,s);case 22:return createAdditiveCounter(t,1,10999,HEBREW,3,s);case 23:return createCounterStyleFromSymbols(t,"");case 24:return createCounterStyleFromSymbols(t,"");case 27:return createCounterStyleFromRange(t,3302,3311,!0,s);case 28:return createCounterStyleFromSymbols(t,"",o);case 29:return createCounterStyleFromSymbols(t,"",o);case 34:return createCounterStyleFromRange(t,3792,3801,!0,s);case 37:return createCounterStyleFromRange(t,6160,6169,!0,s);case 38:return createCounterStyleFromRange(t,4160,4169,!0,s);case 39:return createCounterStyleFromRange(t,2918,2927,!0,s);case 40:return createCounterStyleFromRange(t,1776,1785,!0,s);case 43:return createCounterStyleFromRange(t,3046,3055,!0,s);case 44:return createCounterStyleFromRange(t,3174,3183,!0,s);case 45:return createCounterStyleFromRange(t,3664,3673,!0,s);case 46:return createCounterStyleFromRange(t,3872,3881,!0,s);case 3:default:return createCounterStyleFromRange(t,48,57,!0,s)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=(function(){function t(n,r,s){if(this.context=n,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new CounterState,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(n,r){var s=this,o=createIFrameContainer(n,r);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var l=n.defaultView.pageXOffset,c=n.defaultView.pageYOffset,p=o.contentWindow,m=p.document,x=iframeLoader(o).then(function(){return __awaiter$1(s,void 0,void 0,function(){var b,S;return __generator(this,function(R){switch(R.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),p&&(p.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(p.scrollY!==r.top||p.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(p.scrollX-r.left,p.scrollY-r.top,0,0))),b=this.options.onclone,S=this.clonedReferenceElement,typeof S>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:m.fonts&&m.fonts.ready?[4,m.fonts.ready]:[3,2];case 1:R.sent(),R.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(m)]:[3,4];case 3:R.sent(),R.label=4;case 4:return typeof b=="function"?[2,Promise.resolve().then(function(){return b(m,S)}).then(function(){return o})]:[2,o]}})})});return m.open(),m.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,l,c),m.replaceChild(m.adoptNode(this.documentElement),m.documentElement),m.close(),x},t.prototype.createElementClone=function(n){if(isDebugging(n,2))debugger;if(isCanvasElement(n))return this.createCanvasClone(n);if(isVideoElement(n))return this.createVideoClone(n);if(isStyleElement(n))return this.createStyleClone(n);var r=n.cloneNode(!1);return isImageElement(r)&&(isImageElement(n)&&n.currentSrc&&n.currentSrc!==n.src&&(r.src=n.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),isCustomElement(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(n){var r=document.createElement("html2canvascustomelement");return copyCSSStyles(n.style,r),r},t.prototype.createStyleClone=function(n){try{var r=n.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(l,c){return c&&typeof c.cssText=="string"?l+c.cssText:l},""),o=n.cloneNode(!1);return o.textContent=s,o}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return n.cloneNode(!1)},t.prototype.createCanvasClone=function(n){var r;if(this.options.inlineImages&&n.ownerDocument){var s=n.ownerDocument.createElement("img");try{return s.src=n.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",n)}}var o=n.cloneNode(!1);try{o.width=n.width,o.height=n.height;var l=n.getContext("2d"),c=o.getContext("2d");if(c)if(!this.options.allowTaint&&l)c.putImageData(l.getImageData(0,0,n.width,n.height),0,0);else{var p=(r=n.getContext("webgl2"))!==null&&r!==void 0?r:n.getContext("webgl");if(p){var m=p.getContextAttributes();(m==null?void 0:m.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",n)}c.drawImage(n,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",n)}return o},t.prototype.createVideoClone=function(n){var r=n.ownerDocument.createElement("canvas");r.width=n.offsetWidth,r.height=n.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(n,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",n)}var o=n.ownerDocument.createElement("canvas");return o.width=n.offsetWidth,o.height=n.offsetHeight,o},t.prototype.appendChildNode=function(n,r,s){(!isElementNode(r)||!isScriptElement(r)&&!r.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!isElementNode(r)||!isStyleElement(r))&&n.appendChild(this.cloneNode(r,s))},t.prototype.cloneChildNodes=function(n,r,s){for(var o=this,l=n.shadowRoot?n.shadowRoot.firstChild:n.firstChild;l;l=l.nextSibling)if(isElementNode(l)&&isSlotElement(l)&&typeof l.assignedNodes=="function"){var c=l.assignedNodes();c.length&&c.forEach(function(p){return o.appendChildNode(r,p,s)})}else this.appendChildNode(r,l,s)},t.prototype.cloneNode=function(n,r){if(isTextNode(n))return document.createTextNode(n.data);if(!n.ownerDocument)return n.cloneNode(!1);var s=n.ownerDocument.defaultView;if(s&&isElementNode(n)&&(isHTMLElementNode(n)||isSVGElementNode(n))){var o=this.createElementClone(n);o.style.transitionProperty="none";var l=s.getComputedStyle(n),c=s.getComputedStyle(n,":before"),p=s.getComputedStyle(n,":after");this.referenceElement===n&&isHTMLElementNode(o)&&(this.clonedReferenceElement=o),isBodyElement(o)&&createPseudoHideStyles(o);var m=this.counters.parse(new CSSParsedCounterDeclaration(this.context,l)),x=this.resolvePseudoContent(n,o,c,PseudoElementType.BEFORE);isCustomElement(n)&&(r=!0),isVideoElement(n)||this.cloneChildNodes(n,o,r),x&&o.insertBefore(x,o.firstChild);var b=this.resolvePseudoContent(n,o,p,PseudoElementType.AFTER);return b&&o.appendChild(b),this.counters.pop(m),(l&&(this.options.copyStyles||isSVGElementNode(n))&&!isIFrameElement(n)||r)&&copyCSSStyles(l,o),(n.scrollTop!==0||n.scrollLeft!==0)&&this.scrolledElements.push([o,n.scrollLeft,n.scrollTop]),(isTextareaElement(n)||isSelectElement(n))&&(isTextareaElement(o)||isSelectElement(o))&&(o.value=n.value),o}return n.cloneNode(!1)},t.prototype.resolvePseudoContent=function(n,r,s,o){var l=this;if(s){var c=s.content,p=r.ownerDocument;if(!(!p||!c||c==="none"||c==="-moz-alt-content"||s.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,s));var m=new CSSParsedPseudoDeclaration(this.context,s),x=p.createElement("html2canvaspseudoelement");copyCSSStyles(s,x),m.content.forEach(function(S){if(S.type===0)x.appendChild(p.createTextNode(S.value));else if(S.type===22){var R=p.createElement("img");R.src=S.value,R.style.opacity="1",x.appendChild(R)}else if(S.type===18){if(S.name==="attr"){var k=S.values.filter(isIdentToken);k.length&&x.appendChild(p.createTextNode(n.getAttribute(k[0].value)||""))}else if(S.name==="counter"){var M=S.values.filter(nonFunctionArgSeparator),j=M[0],G=M[1];if(j&&isIdentToken(j)){var P=l.counters.getCounterValue(j.value),Q=G&&isIdentToken(G)?listStyleType.parse(l.context,G.value):3;x.appendChild(p.createTextNode(createCounterText(P,Q,!1)))}}else if(S.name==="counters"){var H=S.values.filter(nonFunctionArgSeparator),j=H[0],X=H[1],G=H[2];if(j&&isIdentToken(j)){var ee=l.counters.getCounterValues(j.value),ne=G&&isIdentToken(G)?listStyleType.parse(l.context,G.value):3,Y=X&&X.type===0?X.value:"",re=ee.map(function(ve){return createCounterText(ve,ne,!1)}).join(Y);x.appendChild(p.createTextNode(re))}}}else if(S.type===20)switch(S.value){case"open-quote":x.appendChild(p.createTextNode(getQuote(m.quotes,l.quoteDepth++,!0)));break;case"close-quote":x.appendChild(p.createTextNode(getQuote(m.quotes,--l.quoteDepth,!1)));break;default:x.appendChild(p.createTextNode(S.value))}}),x.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var b=o===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(r)?r.className.baseValue+=b:r.className+=b,x}}},t.destroy=function(n){return n.parentNode?(n.parentNode.removeChild(n),!0):!1},t})(),PseudoElementType;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(t,n){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=n.width.toString(),r.height=n.height.toString(),r.scrolling="no",r.setAttribute(IGNORE_ATTRIBUTE,"true"),t.body.appendChild(r),r},imageReady=function(t){return new Promise(function(n){if(t.complete){n();return}if(!t.src){n();return}t.onload=n,t.onerror=n})},imagesReady=function(t){return Promise.all([].slice.call(t.images,0).map(imageReady))},iframeLoader=function(t){return new Promise(function(n,r){var s=t.contentWindow;if(!s)return r("No window assigned for iframe");var o=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var l=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(l),n(t))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t.item(r);ignoredStyleProperties.indexOf(s)===-1&&n.style.setProperty(s,t.getPropertyValue(s))}return n},serializeDoctype=function(t){var n="";return t&&(n+="<!DOCTYPE ",t.name&&(n+=t.name),t.internalSubset&&(n+=t.internalSubset),t.publicId&&(n+='"'+t.publicId+'"'),t.systemId&&(n+='"'+t.systemId+'"'),n+=">"),n},restoreOwnerScroll=function(t,n,r){t&&t.defaultView&&(n!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(n,r)},restoreNodeScroll=function(t){var n=t[0],r=t[1],s=t[2];n.scrollLeft=r,n.scrollTop=s},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(t){createStyles(t,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(t,n){var r=t.ownerDocument;if(r){var s=r.createElement("style");s.textContent=n,t.appendChild(s)}},CacheStorage=(function(){function t(){}return t.getOrigin=function(n){var r=t._link;return r?(r.href=n,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(n){return t.getOrigin(n)===t._origin},t.setContext=function(n){t._link=n.document.createElement("a"),t._origin=t.getOrigin(n.location.href)},t._origin="about:blank",t})(),Cache=(function(){function t(n,r){this.context=n,this._options=r,this._cache={}}return t.prototype.addImage=function(n){var r=Promise.resolve();return this.has(n)||(isBlobImage(n)||isRenderable(n))&&(this._cache[n]=this.loadImage(n)).catch(function(){}),r},t.prototype.match=function(n){return this._cache[n]},t.prototype.loadImage=function(n){return __awaiter$1(this,void 0,void 0,function(){var r,s,o,l,c=this;return __generator(this,function(p){switch(p.label){case 0:return r=CacheStorage.isSameOrigin(n),s=!isInlineImage(n)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!r,o=!isInlineImage(n)&&!r&&!isBlobImage(n)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!isInlineImage(n)&&!isBlobImage(n)&&!o&&!s?[2]:(l=n,o?[4,this.proxy(l)]:[3,2]);case 1:l=p.sent(),p.label=2;case 2:return this.context.logger.debug("Added image "+n.substring(0,256)),[4,new Promise(function(m,x){var b=new Image;b.onload=function(){return m(b)},b.onerror=x,(isInlineBase64Image(l)||s)&&(b.crossOrigin="anonymous"),b.src=l,b.complete===!0&&setTimeout(function(){return m(b)},500),c._options.imageTimeout>0&&setTimeout(function(){return x("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,p.sent()]}})})},t.prototype.has=function(n){return typeof this._cache[n]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(n){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var o=n.substring(0,256);return new Promise(function(l,c){var p=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",m=new XMLHttpRequest;m.onload=function(){if(m.status===200)if(p==="text")l(m.response);else{var S=new FileReader;S.addEventListener("load",function(){return l(S.result)},!1),S.addEventListener("error",function(R){return c(R)},!1),S.readAsDataURL(m.response)}else c("Failed to proxy resource "+o+" with status code "+m.status)},m.onerror=c;var x=s.indexOf("?")>-1?"&":"?";if(m.open("GET",""+s+x+"url="+encodeURIComponent(n)+"&responseType="+p),p!=="text"&&m instanceof XMLHttpRequest&&(m.responseType=p),r._options.imageTimeout){var b=r._options.imageTimeout;m.timeout=b,m.ontimeout=function(){return c("Timed out ("+b+"ms) proxying "+o)}}m.send()})},t})(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(t){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(t)},isInlineImage=function(t){return INLINE_IMG.test(t)},isInlineBase64Image=function(t){return INLINE_BASE64.test(t)},isBlobImage=function(t){return t.substr(0,4)==="blob"},isSVG=function(t){return t.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(t)},Vector=(function(){function t(n,r){this.type=0,this.x=n,this.y=r}return t.prototype.add=function(n,r){return new t(this.x+n,this.y+r)},t})(),lerp=function(t,n,r){return new Vector(t.x+(n.x-t.x)*r,t.y+(n.y-t.y)*r)},BezierCurve=(function(){function t(n,r,s,o){this.type=1,this.start=n,this.startControl=r,this.endControl=s,this.end=o}return t.prototype.subdivide=function(n,r){var s=lerp(this.start,this.startControl,n),o=lerp(this.startControl,this.endControl,n),l=lerp(this.endControl,this.end,n),c=lerp(s,o,n),p=lerp(o,l,n),m=lerp(c,p,n);return r?new t(this.start,s,c,m):new t(m,p,l,this.end)},t.prototype.add=function(n,r){return new t(this.start.add(n,r),this.startControl.add(n,r),this.endControl.add(n,r),this.end.add(n,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),isBezierCurve=function(t){return t.type===1},BoundCurves=(function(){function t(n){var r=n.styles,s=n.bounds,o=getAbsoluteValueForTuple(r.borderTopLeftRadius,s.width,s.height),l=o[0],c=o[1],p=getAbsoluteValueForTuple(r.borderTopRightRadius,s.width,s.height),m=p[0],x=p[1],b=getAbsoluteValueForTuple(r.borderBottomRightRadius,s.width,s.height),S=b[0],R=b[1],k=getAbsoluteValueForTuple(r.borderBottomLeftRadius,s.width,s.height),M=k[0],j=k[1],G=[];G.push((l+m)/s.width),G.push((M+S)/s.width),G.push((c+j)/s.height),G.push((x+R)/s.height);var P=Math.max.apply(Math,G);P>1&&(l/=P,c/=P,m/=P,x/=P,S/=P,R/=P,M/=P,j/=P);var Q=s.width-m,H=s.height-R,X=s.width-S,ee=s.height-j,ne=r.borderTopWidth,Y=r.borderRightWidth,re=r.borderBottomWidth,oe=r.borderLeftWidth,xe=getAbsoluteValue(r.paddingTop,n.bounds.width),ve=getAbsoluteValue(r.paddingRight,n.bounds.width),me=getAbsoluteValue(r.paddingBottom,n.bounds.width),we=getAbsoluteValue(r.paddingLeft,n.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||c>0?getCurvePoints(s.left+oe/3,s.top+ne/3,l-oe/3,c-ne/3,CORNER.TOP_LEFT):new Vector(s.left+oe/3,s.top+ne/3),this.topRightBorderDoubleOuterBox=l>0||c>0?getCurvePoints(s.left+Q,s.top+ne/3,m-Y/3,x-ne/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-Y/3,s.top+ne/3),this.bottomRightBorderDoubleOuterBox=S>0||R>0?getCurvePoints(s.left+X,s.top+H,S-Y/3,R-re/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-Y/3,s.top+s.height-re/3),this.bottomLeftBorderDoubleOuterBox=M>0||j>0?getCurvePoints(s.left+oe/3,s.top+ee,M-oe/3,j-re/3,CORNER.BOTTOM_LEFT):new Vector(s.left+oe/3,s.top+s.height-re/3),this.topLeftBorderDoubleInnerBox=l>0||c>0?getCurvePoints(s.left+oe*2/3,s.top+ne*2/3,l-oe*2/3,c-ne*2/3,CORNER.TOP_LEFT):new Vector(s.left+oe*2/3,s.top+ne*2/3),this.topRightBorderDoubleInnerBox=l>0||c>0?getCurvePoints(s.left+Q,s.top+ne*2/3,m-Y*2/3,x-ne*2/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-Y*2/3,s.top+ne*2/3),this.bottomRightBorderDoubleInnerBox=S>0||R>0?getCurvePoints(s.left+X,s.top+H,S-Y*2/3,R-re*2/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-Y*2/3,s.top+s.height-re*2/3),this.bottomLeftBorderDoubleInnerBox=M>0||j>0?getCurvePoints(s.left+oe*2/3,s.top+ee,M-oe*2/3,j-re*2/3,CORNER.BOTTOM_LEFT):new Vector(s.left+oe*2/3,s.top+s.height-re*2/3),this.topLeftBorderStroke=l>0||c>0?getCurvePoints(s.left+oe/2,s.top+ne/2,l-oe/2,c-ne/2,CORNER.TOP_LEFT):new Vector(s.left+oe/2,s.top+ne/2),this.topRightBorderStroke=l>0||c>0?getCurvePoints(s.left+Q,s.top+ne/2,m-Y/2,x-ne/2,CORNER.TOP_RIGHT):new Vector(s.left+s.width-Y/2,s.top+ne/2),this.bottomRightBorderStroke=S>0||R>0?getCurvePoints(s.left+X,s.top+H,S-Y/2,R-re/2,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-Y/2,s.top+s.height-re/2),this.bottomLeftBorderStroke=M>0||j>0?getCurvePoints(s.left+oe/2,s.top+ee,M-oe/2,j-re/2,CORNER.BOTTOM_LEFT):new Vector(s.left+oe/2,s.top+s.height-re/2),this.topLeftBorderBox=l>0||c>0?getCurvePoints(s.left,s.top,l,c,CORNER.TOP_LEFT):new Vector(s.left,s.top),this.topRightBorderBox=m>0||x>0?getCurvePoints(s.left+Q,s.top,m,x,CORNER.TOP_RIGHT):new Vector(s.left+s.width,s.top),this.bottomRightBorderBox=S>0||R>0?getCurvePoints(s.left+X,s.top+H,S,R,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=M>0||j>0?getCurvePoints(s.left,s.top+ee,M,j,CORNER.BOTTOM_LEFT):new Vector(s.left,s.top+s.height),this.topLeftPaddingBox=l>0||c>0?getCurvePoints(s.left+oe,s.top+ne,Math.max(0,l-oe),Math.max(0,c-ne),CORNER.TOP_LEFT):new Vector(s.left+oe,s.top+ne),this.topRightPaddingBox=m>0||x>0?getCurvePoints(s.left+Math.min(Q,s.width-Y),s.top+ne,Q>s.width+Y?0:Math.max(0,m-Y),Math.max(0,x-ne),CORNER.TOP_RIGHT):new Vector(s.left+s.width-Y,s.top+ne),this.bottomRightPaddingBox=S>0||R>0?getCurvePoints(s.left+Math.min(X,s.width-oe),s.top+Math.min(H,s.height-re),Math.max(0,S-Y),Math.max(0,R-re),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-Y,s.top+s.height-re),this.bottomLeftPaddingBox=M>0||j>0?getCurvePoints(s.left+oe,s.top+Math.min(ee,s.height-re),Math.max(0,M-oe),Math.max(0,j-re),CORNER.BOTTOM_LEFT):new Vector(s.left+oe,s.top+s.height-re),this.topLeftContentBox=l>0||c>0?getCurvePoints(s.left+oe+we,s.top+ne+xe,Math.max(0,l-(oe+we)),Math.max(0,c-(ne+xe)),CORNER.TOP_LEFT):new Vector(s.left+oe+we,s.top+ne+xe),this.topRightContentBox=m>0||x>0?getCurvePoints(s.left+Math.min(Q,s.width+oe+we),s.top+ne+xe,Q>s.width+oe+we?0:m-oe+we,x-(ne+xe),CORNER.TOP_RIGHT):new Vector(s.left+s.width-(Y+ve),s.top+ne+xe),this.bottomRightContentBox=S>0||R>0?getCurvePoints(s.left+Math.min(X,s.width-(oe+we)),s.top+Math.min(H,s.height+ne+xe),Math.max(0,S-(Y+ve)),R-(re+me),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-(Y+ve),s.top+s.height-(re+me)),this.bottomLeftContentBox=M>0||j>0?getCurvePoints(s.left+oe+we,s.top+ee,Math.max(0,M-(oe+we)),j-(re+me),CORNER.BOTTOM_LEFT):new Vector(s.left+oe+we,s.top+s.height-(re+me))}return t})(),CORNER;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(t,n,r,s,o){var l=4*((Math.sqrt(2)-1)/3),c=r*l,p=s*l,m=t+r,x=n+s;switch(o){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(t,x),new Vector(t,x-p),new Vector(m-c,n),new Vector(m,n));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(t,n),new Vector(t+c,n),new Vector(m,x-p),new Vector(m,x));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(m,n),new Vector(m,n+p),new Vector(t+c,x),new Vector(t,x));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(m,x),new Vector(m-c,x),new Vector(t,n+p),new Vector(t,n))}},calculateBorderBoxPath=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},calculateContentBoxPath=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},calculatePaddingBoxPath=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},TransformEffect=(function(){function t(n,r,s){this.offsetX=n,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return t})(),ClipEffect=(function(){function t(n,r){this.path=n,this.target=r,this.type=1}return t})(),OpacityEffect=(function(){function t(n){this.opacity=n,this.type=2,this.target=6}return t})(),isTransformEffect=function(t){return t.type===0},isClipEffect=function(t){return t.type===1},isOpacityEffect=function(t){return t.type===2},equalPath=function(t,n){return t.length===n.length?t.some(function(r,s){return r===n[s]}):!1},transformPath=function(t,n,r,s,o){return t.map(function(l,c){switch(c){case 0:return l.add(n,r);case 1:return l.add(n+s,r);case 2:return l.add(n+s,r+o);case 3:return l.add(n,r+o)}return l})},StackingContext=(function(){function t(n){this.element=n,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),ElementPaint=(function(){function t(n,r){if(this.container=n,this.parent=r,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new TransformEffect(s,o,l))}if(this.container.styles.overflowX!==0){var c=calculateBorderBoxPath(this.curves),p=calculatePaddingBoxPath(this.curves);equalPath(c,p)?this.effects.push(new ClipEffect(c,6)):(this.effects.push(new ClipEffect(c,2)),this.effects.push(new ClipEffect(p,4)))}}return t.prototype.getEffects=function(n){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,o=this.effects.slice(0);s;){var l=s.effects.filter(function(m){return!isClipEffect(m)});if(r||s.container.styles.position!==0||!s.parent){if(o.unshift.apply(o,l),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var c=calculateBorderBoxPath(s.curves),p=calculatePaddingBoxPath(s.curves);equalPath(c,p)||o.unshift(new ClipEffect(p,6))}}else o.unshift.apply(o,l);s=s.parent}return o.filter(function(m){return contains(m.target,n)})},t})(),parseStackTree=function(t,n,r,s){t.container.elements.forEach(function(o){var l=contains(o.flags,4),c=contains(o.flags,2),p=new ElementPaint(o,t);contains(o.styles.display,2048)&&s.push(p);var m=contains(o.flags,8)?[]:s;if(l||c){var x=l||o.styles.isPositioned()?r:n,b=new StackingContext(p);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var S=o.styles.zIndex.order;if(S<0){var R=0;x.negativeZIndex.some(function(M,j){return S>M.element.container.styles.zIndex.order?(R=j,!1):R>0}),x.negativeZIndex.splice(R,0,b)}else if(S>0){var k=0;x.positiveZIndex.some(function(M,j){return S>=M.element.container.styles.zIndex.order?(k=j+1,!1):k>0}),x.positiveZIndex.splice(k,0,b)}else x.zeroOrAutoZIndexOrTransformedOrOpacity.push(b)}else o.styles.isFloating()?x.nonPositionedFloats.push(b):x.nonPositionedInlineLevel.push(b);parseStackTree(p,b,l?b:r,m)}else o.styles.isInlineLevel()?n.inlineLevel.push(p):n.nonInlineLevel.push(p),parseStackTree(p,n,r,m);contains(o.flags,8)&&processListItems(o,m)})},processListItems=function(t,n){for(var r=t instanceof OLElementContainer?t.start:1,s=t instanceof OLElementContainer?t.reversed:!1,o=0;o<n.length;o++){var l=n[o];l.container instanceof LIElementContainer&&typeof l.container.value=="number"&&l.container.value!==0&&(r=l.container.value),l.listValue=createCounterText(r,l.container.styles.listStyleType,!0),r+=s?-1:1}},parseStackingContexts=function(t){var n=new ElementPaint(t,null),r=new StackingContext(n),s=[];return parseStackTree(n,r,r,s),processListItems(n.container,s),r},parsePathForBorder=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},parsePathForBorderStroke=function(t,n){switch(n){case 0:return createStrokePathFromCurves(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return createStrokePathFromCurves(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},createStrokePathFromCurves=function(t,n){var r=[];return isBezierCurve(t)?r.push(t.subdivide(.5,!1)):r.push(t),isBezierCurve(n)?r.push(n.subdivide(.5,!0)):r.push(n),r},createPathFromCurves=function(t,n,r,s){var o=[];return isBezierCurve(t)?o.push(t.subdivide(.5,!1)):o.push(t),isBezierCurve(r)?o.push(r.subdivide(.5,!0)):o.push(r),isBezierCurve(s)?o.push(s.subdivide(.5,!0).reverse()):o.push(s),isBezierCurve(n)?o.push(n.subdivide(.5,!1).reverse()):o.push(n),o},paddingBox=function(t){var n=t.bounds,r=t.styles;return n.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},contentBox$1=function(t){var n=t.styles,r=t.bounds,s=getAbsoluteValue(n.paddingLeft,r.width),o=getAbsoluteValue(n.paddingRight,r.width),l=getAbsoluteValue(n.paddingTop,r.width),c=getAbsoluteValue(n.paddingBottom,r.width);return r.add(s+n.borderLeftWidth,l+n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth+s+o),-(n.borderTopWidth+n.borderBottomWidth+l+c))},calculateBackgroundPositioningArea=function(t,n){return t===0?n.bounds:t===2?contentBox$1(n):paddingBox(n)},calculateBackgroundPaintingArea=function(t,n){return t===0?n.bounds:t===2?contentBox$1(n):paddingBox(n)},calculateBackgroundRendering=function(t,n,r){var s=calculateBackgroundPositioningArea(getBackgroundValueForIndex(t.styles.backgroundOrigin,n),t),o=calculateBackgroundPaintingArea(getBackgroundValueForIndex(t.styles.backgroundClip,n),t),l=calculateBackgroundSize(getBackgroundValueForIndex(t.styles.backgroundSize,n),r,s),c=l[0],p=l[1],m=getAbsoluteValueForTuple(getBackgroundValueForIndex(t.styles.backgroundPosition,n),s.width-c,s.height-p),x=calculateBackgroundRepeatPath(getBackgroundValueForIndex(t.styles.backgroundRepeat,n),m,l,s,o),b=Math.round(s.left+m[0]),S=Math.round(s.top+m[1]);return[x,b,S,c,p]},isAuto=function(t){return isIdentToken(t)&&t.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(t){return typeof t=="number"},calculateBackgroundSize=function(t,n,r){var s=n[0],o=n[1],l=n[2],c=t[0],p=t[1];if(!c)return[0,0];if(isLengthPercentage(c)&&p&&isLengthPercentage(p))return[getAbsoluteValue(c,r.width),getAbsoluteValue(p,r.height)];var m=hasIntrinsicValue(l);if(isIdentToken(c)&&(c.value===BACKGROUND_SIZE.CONTAIN||c.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(l)){var x=r.width/r.height;return x<l!=(c.value===BACKGROUND_SIZE.COVER)?[r.width,r.width/l]:[r.height*l,r.height]}return[r.width,r.height]}var b=hasIntrinsicValue(s),S=hasIntrinsicValue(o),R=b||S;if(isAuto(c)&&(!p||isAuto(p))){if(b&&S)return[s,o];if(!m&&!R)return[r.width,r.height];if(R&&m){var k=b?s:o*l,M=S?o:s/l;return[k,M]}var j=b?s:r.width,G=S?o:r.height;return[j,G]}if(m){var P=0,Q=0;return isLengthPercentage(c)?P=getAbsoluteValue(c,r.width):isLengthPercentage(p)&&(Q=getAbsoluteValue(p,r.height)),isAuto(c)?P=Q*l:(!p||isAuto(p))&&(Q=P/l),[P,Q]}var H=null,X=null;if(isLengthPercentage(c)?H=getAbsoluteValue(c,r.width):p&&isLengthPercentage(p)&&(X=getAbsoluteValue(p,r.height)),H!==null&&(!p||isAuto(p))&&(X=b&&S?H/s*o:r.height),X!==null&&isAuto(c)&&(H=b&&S?X/o*s:r.width),H!==null&&X!==null)return[H,X];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(t,n){var r=t[n];return typeof r>"u"?t[0]:r},calculateBackgroundRepeatPath=function(t,n,r,s,o){var l=n[0],c=n[1],p=r[0],m=r[1];switch(t){case 2:return[new Vector(Math.round(s.left),Math.round(s.top+c)),new Vector(Math.round(s.left+s.width),Math.round(s.top+c)),new Vector(Math.round(s.left+s.width),Math.round(m+s.top+c)),new Vector(Math.round(s.left),Math.round(m+s.top+c))];case 3:return[new Vector(Math.round(s.left+l),Math.round(s.top)),new Vector(Math.round(s.left+l+p),Math.round(s.top)),new Vector(Math.round(s.left+l+p),Math.round(s.height+s.top)),new Vector(Math.round(s.left+l),Math.round(s.height+s.top))];case 1:return[new Vector(Math.round(s.left+l),Math.round(s.top+c)),new Vector(Math.round(s.left+l+p),Math.round(s.top+c)),new Vector(Math.round(s.left+l+p),Math.round(s.top+c+m)),new Vector(Math.round(s.left+l),Math.round(s.top+c+m))];default:return[new Vector(Math.round(o.left),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Vector(Math.round(o.left),Math.round(o.height+o.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=(function(){function t(n){this._data={},this._document=n}return t.prototype.parseMetrics=function(n,r){var s=this._document.createElement("div"),o=this._document.createElement("img"),l=this._document.createElement("span"),c=this._document.body;s.style.visibility="hidden",s.style.fontFamily=n,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",c.appendChild(s),o.src=SMALL_IMAGE,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",l.style.fontFamily=n,l.style.fontSize=r,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.appendChild(l),s.appendChild(o);var p=o.offsetTop-l.offsetTop+2;s.removeChild(l),s.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.style.lineHeight="normal",o.style.verticalAlign="super";var m=o.offsetTop-s.offsetTop+2;return c.removeChild(s),{baseline:p,middle:m}},t.prototype.getMetrics=function(n,r){var s=n+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(n,r)),this._data[s]},t})(),Renderer=(function(){function t(n,r){this.context=n,this.options=r}return t})(),MASK_OFFSET=1e4,CanvasRenderer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o._activeEffects=[],o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),s.canvas||(o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px"),o.fontMetrics=new FontMetrics(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),o}return n.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(o){return s.applyEffect(o)})},n.prototype.applyEffect=function(r){this.ctx.save(),isOpacityEffect(r)&&(this.ctx.globalAlpha=r.opacity),isTransformEffect(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),isClipEffect(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(r){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator(this,function(o){switch(o.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(r){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:if(contains(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(r,s,o){var l=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+o);else{var c=segmentGraphemes(r.text);c.reduce(function(p,m){return l.ctx.fillText(m,p,r.bounds.top+o),p+l.ctx.measureText(m).width},r.bounds.left)}},n.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),o=fixIOSSystemFonts(r.fontFamily).join(", "),l=isDimensionToken(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,l,o].join(" "),o,l]},n.prototype.renderTextNode=function(r,s){return __awaiter$1(this,void 0,void 0,function(){var o,l,c,p,m,x,b,S,R=this;return __generator(this,function(k){return o=this.createFontStyle(s),l=o[0],c=o[1],p=o[2],this.ctx.font=l,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",m=this.fontMetrics.getMetrics(c,p),x=m.baseline,b=m.middle,S=s.paintOrder,r.textBounds.forEach(function(M){S.forEach(function(j){switch(j){case 0:R.ctx.fillStyle=asString(s.color),R.renderTextWithLetterSpacing(M,s.letterSpacing,x);var G=s.textShadow;G.length&&M.text.trim().length&&(G.slice(0).reverse().forEach(function(P){R.ctx.shadowColor=asString(P.color),R.ctx.shadowOffsetX=P.offsetX.number*R.options.scale,R.ctx.shadowOffsetY=P.offsetY.number*R.options.scale,R.ctx.shadowBlur=P.blur.number,R.renderTextWithLetterSpacing(M,s.letterSpacing,x)}),R.ctx.shadowColor="",R.ctx.shadowOffsetX=0,R.ctx.shadowOffsetY=0,R.ctx.shadowBlur=0),s.textDecorationLine.length&&(R.ctx.fillStyle=asString(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(P){switch(P){case 1:R.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top+x),M.bounds.width,1);break;case 2:R.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top),M.bounds.width,1);break;case 3:R.ctx.fillRect(M.bounds.left,Math.ceil(M.bounds.top+b),M.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&M.text.trim().length&&(R.ctx.strokeStyle=asString(s.webkitTextStrokeColor),R.ctx.lineWidth=s.webkitTextStrokeWidth,R.ctx.lineJoin=window.chrome?"miter":"round",R.ctx.strokeText(M.text,M.bounds.left,M.bounds.top+x)),R.ctx.strokeStyle="",R.ctx.lineWidth=0,R.ctx.lineJoin="miter";break}})}),[2]})})},n.prototype.renderReplacedElement=function(r,s,o){if(o&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var l=contentBox$1(r),c=calculatePaddingBoxPath(s);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,r.intrinsicWidth,r.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m,Q,Q,x,b,S,R,X,k,M,ee,j,G,P,Q,H,X,ee;return __generator(this,function(ne){switch(ne.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,o=r.curves,l=s.styles,c=0,p=s.textNodes,ne.label=1;case 1:return c<p.length?(m=p[c],[4,this.renderTextNode(m,l)]):[3,4];case 2:ne.sent(),ne.label=3;case 3:return c++,[3,1];case 4:if(!(s instanceof ImageElementContainer))return[3,8];ne.label=5;case 5:return ne.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return Q=ne.sent(),this.renderReplacedElement(s,o,Q),[3,8];case 7:return ne.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof CanvasElementContainer&&this.renderReplacedElement(s,o,s.canvas),!(s instanceof SVGElementContainer))return[3,12];ne.label=9;case 9:return ne.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return Q=ne.sent(),this.renderReplacedElement(s,o,Q),[3,12];case 11:return ne.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof IFrameElementContainer&&s.tree?(x=new n(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,x.render(s.tree)]):[3,14];case 13:b=ne.sent(),s.width&&s.height&&this.ctx.drawImage(b,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),ne.label=14;case 14:if(s instanceof InputElementContainer&&(S=Math.min(s.bounds.width,s.bounds.height),s.type===CHECKBOX?s.checked&&(this.ctx.save(),this.path([new Vector(s.bounds.left+S*.39363,s.bounds.top+S*.79),new Vector(s.bounds.left+S*.16,s.bounds.top+S*.5549),new Vector(s.bounds.left+S*.27347,s.bounds.top+S*.44071),new Vector(s.bounds.left+S*.39694,s.bounds.top+S*.5649),new Vector(s.bounds.left+S*.72983,s.bounds.top+S*.23),new Vector(s.bounds.left+S*.84,s.bounds.top+S*.34085),new Vector(s.bounds.left+S*.39363,s.bounds.top+S*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):s.type===RADIO&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+S/2,s.bounds.top+S/2,S/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(s)&&s.value.length){switch(R=this.createFontStyle(l),X=R[0],k=R[1],M=this.fontMetrics.getMetrics(X,k).baseline,this.ctx.font=X,this.ctx.fillStyle=asString(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(s.styles.textAlign),ee=contentBox$1(s),j=0,s.styles.textAlign){case 1:j+=ee.width/2;break;case 2:j+=ee.width;break}G=ee.add(j,0,0,-ee.height/2+1),this.ctx.save(),this.path([new Vector(ee.left,ee.top),new Vector(ee.left+ee.width,ee.top),new Vector(ee.left+ee.width,ee.top+ee.height),new Vector(ee.left,ee.top+ee.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(s.value,G),l.letterSpacing,M),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(P=s.styles.listStyleImage,P.type!==0)return[3,18];Q=void 0,H=P.url,ne.label=15;case 15:return ne.trys.push([15,17,,18]),[4,this.context.cache.match(H)];case 16:return Q=ne.sent(),this.ctx.drawImage(Q,s.bounds.left-(Q.width+10),s.bounds.top),[3,18];case 17:return ne.sent(),this.context.logger.error("Error loading list-style-image "+H),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(X=this.createFontStyle(l)[0],this.ctx.font=X,this.ctx.fillStyle=asString(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ee=new Bounds(s.bounds.left,s.bounds.top+getAbsoluteValue(s.styles.paddingTop,s.bounds.width),s.bounds.width,computeLineHeight(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(r.listValue,ee),l.letterSpacing,computeLineHeight(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ne.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,P,l,c,P,p,m,P,x,b,P,S,R,P,k,M,P,j,G,P;return __generator(this,function(Q){switch(Q.label){case 0:if(contains(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:Q.sent(),s=0,o=r.negativeZIndex,Q.label=2;case 2:return s<o.length?(P=o[s],[4,this.renderStack(P)]):[3,5];case 3:Q.sent(),Q.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:Q.sent(),l=0,c=r.nonInlineLevel,Q.label=7;case 7:return l<c.length?(P=c[l],[4,this.renderNode(P)]):[3,10];case 8:Q.sent(),Q.label=9;case 9:return l++,[3,7];case 10:p=0,m=r.nonPositionedFloats,Q.label=11;case 11:return p<m.length?(P=m[p],[4,this.renderStack(P)]):[3,14];case 12:Q.sent(),Q.label=13;case 13:return p++,[3,11];case 14:x=0,b=r.nonPositionedInlineLevel,Q.label=15;case 15:return x<b.length?(P=b[x],[4,this.renderStack(P)]):[3,18];case 16:Q.sent(),Q.label=17;case 17:return x++,[3,15];case 18:S=0,R=r.inlineLevel,Q.label=19;case 19:return S<R.length?(P=R[S],[4,this.renderNode(P)]):[3,22];case 20:Q.sent(),Q.label=21;case 21:return S++,[3,19];case 22:k=0,M=r.zeroOrAutoZIndexOrTransformedOrOpacity,Q.label=23;case 23:return k<M.length?(P=M[k],[4,this.renderStack(P)]):[3,26];case 24:Q.sent(),Q.label=25;case 25:return k++,[3,23];case 26:j=0,G=r.positiveZIndex,Q.label=27;case 27:return j<G.length?(P=G[j],[4,this.renderStack(P)]):[3,30];case 28:Q.sent(),Q.label=29;case 29:return j++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},n.prototype.formatPath=function(r){var s=this;r.forEach(function(o,l){var c=isBezierCurve(o)?o.start:o;l===0?s.ctx.moveTo(c.x,c.y):s.ctx.lineTo(c.x,c.y),isBezierCurve(o)&&s.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},n.prototype.renderRepeat=function(r,s,o,l){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(o,l),this.ctx.fill(),this.ctx.translate(-o,-l)},n.prototype.resizeImage=function(r,s,o){var l;if(r.width===s&&r.height===o)return r;var c=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,p=c.createElement("canvas");p.width=Math.max(1,s),p.height=Math.max(1,o);var m=p.getContext("2d");return m.drawImage(r,0,0,r.width,r.height,0,0,s,o),p},n.prototype.renderBackgroundImage=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m;return __generator(this,function(x){switch(x.label){case 0:s=r.styles.backgroundImage.length-1,o=function(b){var S,R,k,xe,ae,ue,we,Ee,re,M,xe,ae,ue,we,Ee,j,G,P,Q,H,X,ee,ne,Y,re,oe,xe,ve,me,we,Ee,he,ae,ue,te,se,Ce,ce,ye,Se,_e,je;return __generator(this,function(Me){switch(Me.label){case 0:if(b.type!==0)return[3,5];S=void 0,R=b.url,Me.label=1;case 1:return Me.trys.push([1,3,,4]),[4,l.context.cache.match(R)];case 2:return S=Me.sent(),[3,4];case 3:return Me.sent(),l.context.logger.error("Error loading background-image "+R),[3,4];case 4:return S&&(k=calculateBackgroundRendering(r,s,[S.width,S.height,S.width/S.height]),xe=k[0],ae=k[1],ue=k[2],we=k[3],Ee=k[4],re=l.ctx.createPattern(l.resizeImage(S,we,Ee),"repeat"),l.renderRepeat(xe,re,ae,ue)),[3,6];case 5:isLinearGradient(b)?(M=calculateBackgroundRendering(r,s,[null,null,null]),xe=M[0],ae=M[1],ue=M[2],we=M[3],Ee=M[4],j=calculateGradientDirection(b.angle,we,Ee),G=j[0],P=j[1],Q=j[2],H=j[3],X=j[4],ee=document.createElement("canvas"),ee.width=we,ee.height=Ee,ne=ee.getContext("2d"),Y=ne.createLinearGradient(P,H,Q,X),processColorStops(b.stops,G).forEach(function(Ze){return Y.addColorStop(Ze.stop,asString(Ze.color))}),ne.fillStyle=Y,ne.fillRect(0,0,we,Ee),we>0&&Ee>0&&(re=l.ctx.createPattern(ee,"repeat"),l.renderRepeat(xe,re,ae,ue))):isRadialGradient(b)&&(oe=calculateBackgroundRendering(r,s,[null,null,null]),xe=oe[0],ve=oe[1],me=oe[2],we=oe[3],Ee=oe[4],he=b.position.length===0?[FIFTY_PERCENT]:b.position,ae=getAbsoluteValue(he[0],we),ue=getAbsoluteValue(he[he.length-1],Ee),te=calculateRadius(b,ae,ue,we,Ee),se=te[0],Ce=te[1],se>0&&Ce>0&&(ce=l.ctx.createRadialGradient(ve+ae,me+ue,0,ve+ae,me+ue,se),processColorStops(b.stops,se*2).forEach(function(Ze){return ce.addColorStop(Ze.stop,asString(Ze.color))}),l.path(xe),l.ctx.fillStyle=ce,se!==Ce?(ye=r.bounds.left+.5*r.bounds.width,Se=r.bounds.top+.5*r.bounds.height,_e=Ce/se,je=1/_e,l.ctx.save(),l.ctx.translate(ye,Se),l.ctx.transform(1,0,0,_e,0,0),l.ctx.translate(-ye,-Se),l.ctx.fillRect(ve,je*(me-Se)+Se,we,Ee*je),l.ctx.restore()):l.ctx.fill())),Me.label=6;case 6:return s--,[2]}})},l=this,c=0,p=r.styles.backgroundImage.slice(0).reverse(),x.label=1;case 1:return c<p.length?(m=p[c],[5,o(m)]):[3,4];case 2:x.sent(),x.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(r,s,o){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(l){return this.path(parsePathForBorder(o,s)),this.ctx.fillStyle=asString(r),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(r,s,o,l){return __awaiter$1(this,void 0,void 0,function(){var c,p;return __generator(this,function(m){switch(m.label){case 0:return s<3?[4,this.renderSolidBorder(r,o,l)]:[3,2];case 1:return m.sent(),[2];case 2:return c=parsePathForBorderDoubleOuter(l,o),this.path(c),this.ctx.fillStyle=asString(r),this.ctx.fill(),p=parsePathForBorderDoubleInner(l,o),this.path(p),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m,x,b,S=this;return __generator(this,function(R){switch(R.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,o=!isTransparent(s.backgroundColor)||s.backgroundImage.length,l=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],c=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(s.backgroundClip,0),r.curves),o||s.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),isTransparent(s.backgroundColor)||(this.ctx.fillStyle=asString(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:R.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(k){S.ctx.save();var M=calculateBorderBoxPath(r.curves),j=k.inset?0:MASK_OFFSET,G=transformPath(M,-j+(k.inset?1:-1)*k.spread.number,(k.inset?1:-1)*k.spread.number,k.spread.number*(k.inset?-2:2),k.spread.number*(k.inset?-2:2));k.inset?(S.path(M),S.ctx.clip(),S.mask(G)):(S.mask(M),S.ctx.clip(),S.path(G)),S.ctx.shadowOffsetX=k.offsetX.number+j,S.ctx.shadowOffsetY=k.offsetY.number,S.ctx.shadowColor=asString(k.color),S.ctx.shadowBlur=k.blur.number,S.ctx.fillStyle=k.inset?asString(k.color):"rgba(0,0,0,1)",S.ctx.fill(),S.ctx.restore()}),R.label=2;case 2:p=0,m=0,x=l,R.label=3;case 3:return m<x.length?(b=x[m],b.style!==0&&!isTransparent(b.color)&&b.width>0?b.style!==2?[3,5]:[4,this.renderDashedDottedBorder(b.color,b.width,p,r.curves,2)]:[3,11]):[3,13];case 4:return R.sent(),[3,11];case 5:return b.style!==3?[3,7]:[4,this.renderDashedDottedBorder(b.color,b.width,p,r.curves,3)];case 6:return R.sent(),[3,11];case 7:return b.style!==4?[3,9]:[4,this.renderDoubleBorder(b.color,b.width,p,r.curves)];case 8:return R.sent(),[3,11];case 9:return[4,this.renderSolidBorder(b.color,p,r.curves)];case 10:R.sent(),R.label=11;case 11:p++,R.label=12;case 12:return m++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(r,s,o,l,c){return __awaiter$1(this,void 0,void 0,function(){var p,m,x,b,S,R,k,M,j,G,P,Q,H,X,ee,ne,ee,ne;return __generator(this,function(Y){return this.ctx.save(),p=parsePathForBorderStroke(l,o),m=parsePathForBorder(l,o),c===2&&(this.path(m),this.ctx.clip()),isBezierCurve(m[0])?(x=m[0].start.x,b=m[0].start.y):(x=m[0].x,b=m[0].y),isBezierCurve(m[1])?(S=m[1].end.x,R=m[1].end.y):(S=m[1].x,R=m[1].y),o===0||o===2?k=Math.abs(x-S):k=Math.abs(b-R),this.ctx.beginPath(),c===3?this.formatPath(p):this.formatPath(m.slice(0,2)),M=s<3?s*3:s*2,j=s<3?s*2:s,c===3&&(M=s,j=s),G=!0,k<=M*2?G=!1:k<=M*2+j?(P=k/(2*M+j),M*=P,j*=P):(Q=Math.floor((k+j)/(M+j)),H=(k-Q*M)/(Q-1),X=(k-(Q+1)*M)/Q,j=X<=0||Math.abs(j-H)<Math.abs(j-X)?H:X),G&&(c===3?this.ctx.setLineDash([0,M+j]):this.ctx.setLineDash([M,j])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=asString(r),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(isBezierCurve(m[0])&&(ee=m[3],ne=m[0],this.ctx.beginPath(),this.formatPath([new Vector(ee.end.x,ee.end.y),new Vector(ne.start.x,ne.start.y)]),this.ctx.stroke()),isBezierCurve(m[1])&&(ee=m[1],ne=m[2],this.ctx.beginPath(),this.formatPath([new Vector(ee.end.x,ee.end.y),new Vector(ne.start.x,ne.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(r){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=parseStackingContexts(r),[4,this.renderStack(s)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},n})(Renderer),isTextInputElement=function(t){return t instanceof TextareaElementContainer||t instanceof SelectElementContainer?!0:t instanceof InputElementContainer&&t.type!==RADIO&&t.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(t,n){switch(t){case 0:return calculateBorderBoxPath(n);case 2:return calculateContentBoxPath(n);case 1:default:return calculatePaddingBoxPath(n)}},canvasTextAlign=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(n){return iOSBrokenFonts.indexOf(n)===-1}):t},ForeignObjectRenderer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=s,o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),o}return n.prototype.render=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o;return __generator(this,function(l){switch(l.label){case 0:return s=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,loadSerializedSVG(s)];case 1:return o=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n})(Renderer),loadSerializedSVG=function(t){return new Promise(function(n,r){var s=new Image;s.onload=function(){n(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Logger$1=(function(){function t(n){var r=n.id,s=n.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n))},t.prototype.warn=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.prototype.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.instances={},t})(),Context=(function(){function t(n,r){var s;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Logger$1({id:this.instanceName,enabled:n.logging}),this.cache=(s=n.cache)!==null&&s!==void 0?s:new Cache(this,n)}return t.instanceCount=1,t})(),html2canvas=function(t,n){return n===void 0&&(n={}),renderElement(t,n)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(t,n){return __awaiter$1(void 0,void 0,void 0,function(){var r,s,o,l,c,p,m,x,b,S,R,k,M,j,G,P,Q,H,X,ee,Y,ne,Y,re,oe,xe,ve,me,we,Ee,he,ae,ue,te,se,Ce,ce,ye,Se,_e;return __generator(this,function(je){switch(je.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return o={allowTaint:(re=n.allowTaint)!==null&&re!==void 0?re:!1,imageTimeout:(oe=n.imageTimeout)!==null&&oe!==void 0?oe:15e3,proxy:n.proxy,useCORS:(xe=n.useCORS)!==null&&xe!==void 0?xe:!1},l=__assign({logging:(ve=n.logging)!==null&&ve!==void 0?ve:!0,cache:n.cache},o),c={windowWidth:(me=n.windowWidth)!==null&&me!==void 0?me:s.innerWidth,windowHeight:(we=n.windowHeight)!==null&&we!==void 0?we:s.innerHeight,scrollX:(Ee=n.scrollX)!==null&&Ee!==void 0?Ee:s.pageXOffset,scrollY:(he=n.scrollY)!==null&&he!==void 0?he:s.pageYOffset},p=new Bounds(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),m=new Context(l,p),x=(ae=n.foreignObjectRendering)!==null&&ae!==void 0?ae:!1,b={allowTaint:(ue=n.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:n.onclone,ignoreElements:n.ignoreElements,inlineImages:x,copyStyles:x},m.logger.debug("Starting document clone with size "+p.width+"x"+p.height+" scrolled to "+-p.left+","+-p.top),S=new DocumentCloner(m,t,b),R=S.clonedReferenceElement,R?[4,S.toIFrame(r,p)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return k=je.sent(),M=isBodyElement(R)||isHTMLElement(R)?parseDocumentSize(R.ownerDocument):parseBounds(m,R),j=M.width,G=M.height,P=M.left,Q=M.top,H=parseBackgroundColor(m,R,n.backgroundColor),X={canvas:n.canvas,backgroundColor:H,scale:(se=(te=n.scale)!==null&&te!==void 0?te:s.devicePixelRatio)!==null&&se!==void 0?se:1,x:((Ce=n.x)!==null&&Ce!==void 0?Ce:0)+P,y:((ce=n.y)!==null&&ce!==void 0?ce:0)+Q,width:(ye=n.width)!==null&&ye!==void 0?ye:Math.ceil(j),height:(Se=n.height)!==null&&Se!==void 0?Se:Math.ceil(G)},x?(m.logger.debug("Document cloned, using foreign object rendering"),Y=new ForeignObjectRenderer(m,X),[4,Y.render(R)]):[3,3];case 2:return ee=je.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+P+","+Q+" with size "+j+"x"+G+" using computed rendering"),m.logger.debug("Starting DOM parsing"),ne=parseTree(m,R),H===ne.styles.backgroundColor&&(ne.styles.backgroundColor=COLORS.TRANSPARENT),m.logger.debug("Starting renderer for element at "+X.x+","+X.y+" with size "+X.width+"x"+X.height),Y=new CanvasRenderer(m,X),[4,Y.render(ne)];case 4:ee=je.sent(),je.label=5;case 5:return(!((_e=n.removeContainer)!==null&&_e!==void 0)||_e)&&(DocumentCloner.destroy(k)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,ee]}})})},parseBackgroundColor=function(t,n,r){var s=n.ownerDocument,o=s.documentElement?parseColor(t,getComputedStyle(s.documentElement).backgroundColor):COLORS.TRANSPARENT,l=s.body?parseColor(t,getComputedStyle(s.body).backgroundColor):COLORS.TRANSPARENT,c=typeof r=="string"?parseColor(t,r):r===null?COLORS.TRANSPARENT:4294967295;return n===s.documentElement?isTransparent(o)?isTransparent(l)?c:l:o:c};function InvitationGenerator({initialTheme:t="",initialOthers:n="",showTitle:r=!0}){const[s,o]=reactExports$1.useState(t),[l,c]=reactExports$1.useState(n),[p,m]=reactExports$1.useState([]),[x,b]=reactExports$1.useState(!1),S=reactExports$1.useRef([]),{showAlert:R}=useAlert();reactExports$1.useEffect(()=>{t&&o(t),n!==void 0&&c(n)},[t,n]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const k=async()=>{var P,Q;if(m([]),b(!0),!s.trim()){m(["  ."]),b(!1);return}try{const H=await userInstance.post("/api/console/invitation/create",{eventTopic:s,userRequirements:l||""}),{data:X}=H;X&&typeof X=="string"?m([X]):Array.isArray(X)?m(X):X.invitations&&Array.isArray(X.invitations)?m(X.invitations):m([" ."])}catch(H){console.error("API  :",H),((P=H.response)==null?void 0:P.status)===401?m([" .  ."]):((Q=H.response)==null?void 0:Q.status)===403?m([" ."]):m([`API  : ${H.message}`])}finally{b(!1)}},M=async(P,Q)=>{var H,X;if(P.trim())try{const ne=(await userInstance.post("/api/console/invitation/refine",{selectedInvitation:P,eventTopic:s,userRequirements:"   "})).data,Y=Array.isArray(ne)?ne[0]:ne;m(re=>re.map((oe,xe)=>xe===Q?Y:oe))}catch(ee){console.error(" API  :",ee),((H=ee.response)==null?void 0:H.status)===401?R(" .  ."):((X=ee.response)==null?void 0:X.status)===403?R(" ."):R("  .","error")}},j=async P=>{try{await navigator.clipboard.writeText(P),R(" !")}catch(Q){console.error(" :",Q);const H=document.createElement("textarea");H.value=P,document.body.appendChild(H),H.select();try{document.execCommand("copy"),R(" !")}catch{R(" .","error")}document.body.removeChild(H)}},G=async P=>{const Q=S.current[P];if(Q)try{const H=await html2canvas(Q,{backgroundColor:"#ffffff",scale:2,useCORS:!0}),X=document.createElement("a");X.download=`_${P+1}.png`,X.href=H.toDataURL("image/png"),X.click(),R(" !")}catch(H){console.error(" :",H),R("  .","error")}};return jsxRuntimeExports.jsxs("div",{className:styles$j.page,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.formArea,children:[jsxRuntimeExports.jsx("label",{className:styles$j.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:P=>o(P.target.value),placeholder:":  ,  ",className:styles$j.input}),jsxRuntimeExports.jsx("label",{className:styles$j.label,children:""}),jsxRuntimeExports.jsx("textarea",{value:l,onChange:P=>c(P.target.value),placeholder:": #, #, # ",className:styles$j.textarea}),jsxRuntimeExports.jsx("button",{onClick:k,className:styles$j.submitButton,disabled:x,children:x?" ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$j.resultArea,children:p.length>0?p.map((P,Q)=>jsxRuntimeExports.jsxs("div",{className:styles$j.resultCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.cardHeader,children:[jsxRuntimeExports.jsxs("h3",{children:[" ",Q+1]}),jsxRuntimeExports.jsxs("div",{className:styles$j.buttonGroup,children:[jsxRuntimeExports.jsx("button",{className:styles$j.copyButton,onClick:()=>j(P),title:"",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$j.captureButton,onClick:()=>G(Q),title:" ",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$j.refineButton,onClick:()=>M(P,Q),children:" "})]})]}),jsxRuntimeExports.jsx("div",{className:styles$j.textContent,ref:H=>S.current[Q]=H,children:jsxRuntimeExports.jsx("p",{children:P})})]},Q)):jsxRuntimeExports.jsx("div",{className:styles$j.placeholder,children:"    ."})})]})}const container$4="_container_1qhrc_1",contentBox="_contentBox_1qhrc_31",inputSection="_inputSection_1qhrc_53",label$2="_label_1qhrc_65",textarea$1="_textarea_1qhrc_77",generateButton="_generateButton_1qhrc_97",resultSection="_resultSection_1qhrc_117",generatedImage="_generatedImage_1qhrc_135",downloadButton="_downloadButton_1qhrc_151",imagePlaceholder="_imagePlaceholder_1qhrc_175",styles$i={container:container$4,contentBox,inputSection,label:label$2,textarea:textarea$1,generateButton,resultSection,generatedImage,downloadButton,imagePlaceholder};function ImageGenerator(){const[t,n]=reactExports$1.useState(""),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(!1),c=async()=>{l(!0);try{const p=await instance.post("/api/console/images/generate",{text:t});console.log(p),s(p.data.image)}catch(p){console.error(p)}finally{l(!1)}};return jsxRuntimeExports.jsx("div",{className:styles$i.container,children:jsxRuntimeExports.jsxs("div",{className:styles$i.contentBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.inputSection,children:[jsxRuntimeExports.jsx("label",{className:styles$i.label,children:"  "}),jsxRuntimeExports.jsx("textarea",{value:t,onChange:p=>n(p.target.value),placeholder:":        ",className:styles$i.textarea}),jsxRuntimeExports.jsx("button",{onClick:c,className:styles$i.generateButton,disabled:o,children:o?"  ...":"  "})]}),jsxRuntimeExports.jsx("div",{className:styles$i.resultSection,children:r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:r,alt:" ",className:styles$i.generatedImage}),jsxRuntimeExports.jsx("button",{className:styles$i.downloadButton,onClick:()=>{const p=document.createElement("a");p.href=r,p.download="generated-image.png",document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:" "})]}):jsxRuntimeExports.jsx("div",{className:styles$i.imagePlaceholder,children:o?"  ...":"   ."})})]})})}function CreateModal({onClose:t}){const[n,r]=reactExports$1.useState(" "),s=[" "," "];return jsxRuntimeExports.jsx("div",{className:styles$k.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$k.modalContainer,children:[jsxRuntimeExports.jsx("button",{className:styles$k.closeButton,onClick:t,children:jsxRuntimeExports.jsx(FaX,{})}),jsxRuntimeExports.jsx("div",{className:styles$k.tabArea,children:s.map(o=>jsxRuntimeExports.jsx("button",{className:`${styles$k.tabButton} ${n===o?styles$k.active:""}`,onClick:()=>{r(o)},children:o},o))}),jsxRuntimeExports.jsx("div",{className:styles$k.generateContainer,children:n===" "?jsxRuntimeExports.jsx(ImageGenerator,{}):jsxRuntimeExports.jsx(InvitationGenerator,{})})]})})}const DETAIL_CONFIG={galleries:{title:"",Component:GalleryDetail,tabs:["","QR",""],fetchUrl:t=>`/api/galleries/${t}`},exhibitions:{title:"",Component:ExhibitionDetail,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","","/"]},artworks:{title:"",Component:ArtworkDetail,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function ConsoleDetail({type:t}){const{id:n}=useParams(),r=useNavigate(),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(!1),x=DETAIL_CONFIG[t],{title:b,Component:S,fetchUrl:R,tabs:k}=x||{},M=P=>{switch(P){case"galleries":return"";case"exhibitions":return"";case"artworks":return"";default:return""}};reactExports$1.useEffect(()=>{if(!R||!n)return;(async()=>{try{const Q=await userInstance.get(R(n));o(Q.data)}catch(Q){console.error("  :",Q)}})()},[n,t,R]);const j=P=>{switch(P){case"":r(`/console/${t}/edit/${n}`);break;case"QR":c(!0);break;case"":r(`/console/artworks/docent/${n}`);break;case"":r(`/console/${t}/leaflet/${n}`);break;case"/":m(!0);break}},G={artworks:jsxRuntimeExports.jsx("button",{className:styles$t.addButton,onClick:()=>r(`/console/artworks/edit/new?exhibition_id=${n}`),children:"+  "}),exhibitions:jsxRuntimeExports.jsx("button",{className:styles$t.addButton,onClick:()=>r(`/console/exhibitions/edit/new?gallery_id=${n}`),children:"+  "})};return s?jsxRuntimeExports.jsxs("div",{className:styles$t.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$t.header,children:[jsxRuntimeExports.jsx("button",{className:styles$t.backButton,onClick:()=>r("/console/main",{state:{activeTab:M(t)}}),children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$t.title,children:b})]}),jsxRuntimeExports.jsx("nav",{className:styles$t.adminTabNav,children:k.map(P=>jsxRuntimeExports.jsx("button",{className:styles$t.adminTabButton,onClick:()=>j(P),children:P},P))}),jsxRuntimeExports.jsx("main",{className:styles$t.content,children:jsxRuntimeExports.jsx(S,{showUserActions:!1,id:n,actionButtons:G})}),l&&jsxRuntimeExports.jsx(QrModal,{data:s,onClose:()=>c(!1),type:t}),p&&jsxRuntimeExports.jsx(CreateModal,{onClose:()=>{m(!1)}})]}):jsxRuntimeExports.jsx(LoadingSpinner,{})}const layout$7="_layout_wdn79_1",loading="_loading_wdn79_21",breadcrumb="_breadcrumb_wdn79_35",breadcrumbBack="_breadcrumbBack_wdn79_47",titleSection="_titleSection_wdn79_63",statusBadge$1="_statusBadge_wdn79_71",artistTitle="_artistTitle_wdn79_111",artistSubTitle="_artistSubTitle_wdn79_123",card$1="_card_wdn79_135",artistImage="_artistImage_wdn79_157",btnLayout="_btnLayout_wdn79_171",actionButton$1="_actionButton_wdn79_187",icon$1="_icon_wdn79_221",likedIcon="_likedIcon_wdn79_229",infoList="_infoList_wdn79_275",infoRow="_infoRow_wdn79_293",infoLabel="_infoLabel_wdn79_305",infoContent="_infoContent_wdn79_317",emptyInfo="_emptyInfo_wdn79_327",descriptionParagraph="_descriptionParagraph_wdn79_335",emptyContent$1="_emptyContent_wdn79_361",artworkGrid$1="_artworkGrid_wdn79_467",artworkCard$1="_artworkCard_wdn79_479",artworkImage="_artworkImage_wdn79_503",artworkTitle$1="_artworkTitle_wdn79_519",backButton$4="_backButton_wdn79_539",styles$h={layout:layout$7,loading,breadcrumb,breadcrumbBack,titleSection,statusBadge:statusBadge$1,artistTitle,artistSubTitle,card:card$1,artistImage,btnLayout,actionButton:actionButton$1,icon:icon$1,likedIcon,infoList,infoRow,infoLabel,infoContent,emptyInfo,descriptionParagraph,emptyContent:emptyContent$1,artworkGrid:artworkGrid$1,artworkCard:artworkCard$1,artworkImage,artworkTitle:artworkTitle$1,backButton:backButton$4};function ArtistDetail(){const{user:t}=useUser(),{artistId:n}=useParams(),r=useNavigate(),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState("profile"),{showAlert:p}=useAlert(),m=async()=>{if(n)try{const we=await userInstance.get(`/api/artists/${n}`);o(we.data)}catch(we){console.error(we)}};if(reactExports$1.useEffect(()=>{m()},[n]),!s)return jsxRuntimeExports.jsx("div",{className:styles$h.loading,children:" ..."});const{artist_name:x="",artist_nation:b="",artist_category:S="",artist_image:R="",artist_description:k="",artist_homepage:M="",is_liked:j,is_on_exhibition:G,like_count:P,exhibitions:Q=[],artworks:H=[]}=s,X=M?M.startsWith("http")?M:`https://${M}`:"",ee=async()=>{if(!t){r("/login");return}try{j?await userInstance.delete("/api/likes",{data:{liked_id:n,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:n,liked_type:"artist"}),await m()}catch(we){console.error("   :",we)}},ne=()=>{X&&window.open(X,"_blank","noopener,noreferrer")},Y=()=>{const we=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${x}`,text:`${x}   !`,url:we}).catch(Ee=>console.error(" :",Ee));else{const Ee=document.createElement("textarea");Ee.value=we,document.body.appendChild(Ee),Ee.select();try{document.execCommand("copy"),p("  .")}catch(he){console.error("  :",he),p("  .","error")}finally{document.body.removeChild(Ee)}}},re=[{label:"",content:b||" "},{label:"",content:S||" "},{label:" ",content:G?" ":"  "},{label:" ",content:`${P.toLocaleString()}`}],oe=[{key:"profile",label:""},{key:"exhibitions",label:` (${Q.length||0})`},{key:"artworks",label:` (${H.length||0})`}],xe=(we,Ee)=>{if(!we||!Ee)return"default";const he=new Date().setHours(0,0,0,0),ae=new Date(we).setHours(0,0,0,0),ue=new Date(Ee).setHours(0,0,0,0);return he<ae?"scheduled":he>ue?"ended":"exhibited"},ve=()=>{if(!Q.length)return jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});const we=Q.map((Ee={})=>{const he=xe(Ee.exhibition_start_date,Ee.exhibition_end_date);return{exhibition_id:Ee.id,exhibition_poster:Ee.exhibition_poster,exhibition_title:Ee.exhibition_title,exhibition_status:he,exhibition_location:Ee.exhibition_location||Ee.location||"  ",exhibition_start_date:Ee.exhibition_start_date,exhibition_end_date:Ee.exhibition_end_date}});return jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:we})},me=()=>H.length?jsxRuntimeExports.jsx("div",{className:styles$h.artworkGrid,children:H.map(({id:we,art_title:Ee,art_image:he,title:ae,imageUrl:ue})=>{const te=Ee||ae||"",se=he||ue||"";return jsxRuntimeExports.jsxs("div",{className:styles$h.artworkCard,children:[jsxRuntimeExports.jsx(Img,{className:styles$h.artworkImage,src:se,alt:te}),jsxRuntimeExports.jsx("p",{className:styles$h.artworkTitle,children:te})]},`${we}-${te}`)})}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});return jsxRuntimeExports.jsxs("div",{className:styles$h.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$h.breadcrumbBack,onClick:()=>r("/artists"),children:""})," ","> ",x]}),jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$h.artistImage,src:R,alt:`${x}  `}),G&&jsxRuntimeExports.jsx("div",{className:styles$h.statusBadge,children:""}),jsxRuntimeExports.jsxs("section",{className:styles$h.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$h.artistTitle,children:x}),(b||S)&&jsxRuntimeExports.jsx("p",{className:styles$h.artistSubTitle,children:[b,S].filter(Boolean).join(" | ")})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:ee,children:[jsxRuntimeExports.jsx(FaStar,{className:`${styles$h.icon} ${j?styles$h.likedIcon:""}`})," "]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,disabled:!X,onClick:ne,children:[jsxRuntimeExports.jsx(FaHome,{className:styles$h.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:Y,children:[jsxRuntimeExports.jsx(FaShare,{className:styles$h.icon}),""]})]}),jsxRuntimeExports.jsx("section",{className:styles$h.infoList,children:re.map(({label:we,content:Ee})=>{const he=!Ee||typeof Ee=="string"&&Ee.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$h.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$h.infoLabel,children:we}),jsxRuntimeExports.jsx("div",{className:`${styles$h.infoContent} ${he?styles$h.emptyInfo:""}`,children:Ee})]},we)})})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:oe,activeTab:l,setActiveTab:c,children:[l==="profile"&&(k?jsxRuntimeExports.jsx("div",{className:styles$h.descriptionParagraph,dangerouslySetInnerHTML:{__html:k}}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."})),l==="exhibitions"&&ve(),l==="artworks"&&me()]}),jsxRuntimeExports.jsx("button",{className:styles$h.backButton,onClick:()=>r("/artists"),children:" "})]})}const layout$6="_layout_dbbuw_1",container$3="_container_dbbuw_21",header$6="_header_dbbuw_39",loginTitle="_loginTitle_dbbuw_49",subParagraph="_subParagraph_dbbuw_63",contentContainer="_contentContainer_dbbuw_75",loginForm="_loginForm_dbbuw_91",submitButton="_submitButton_dbbuw_105",styles$g={layout:layout$6,container:container$3,header:header$6,loginTitle,subParagraph,contentContainer,loginForm,submitButton},layout$5="_layout_i8wj8_1",navigateLink="_navigateLink_i8wj8_19",termParagraph="_termParagraph_i8wj8_59",termLink="_termLink_i8wj8_77",registerButton="_registerButton_i8wj8_85",styles$f={layout:layout$5,navigateLink,termParagraph,termLink,registerButton};function SupportSection(){return jsxRuntimeExports.jsxs("section",{className:styles$f.layout,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$f.navigateLink,to:"/find",children:" /  "}),jsxRuntimeExports.jsxs("p",{className:styles$f.termParagraph,children:["    ,",jsxRuntimeExports.jsx("br",{})," "," ",jsxRuntimeExports.jsx(Link$1,{className:styles$f.termLink,children:"  "}),"",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsx(Link$1,{className:styles$f.registerButton,to:"/register",children:" "})]})}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const n=[];let r=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=o&63|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=o&63|128)}return n},byteArrayToString=function(t){const n=[];let r=0,s=0;for(;r<t.length;){const o=t[r++];if(o<128)n[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[r++];n[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[r++],c=t[r++],p=t[r++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|p&63)-65536;n[s++]=String.fromCharCode(55296+(m>>10)),n[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[r++],c=t[r++];n[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return n.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,p=c?t[o+1]:0,m=o+2<t.length,x=m?t[o+2]:0,b=l>>2,S=(l&3)<<4|p>>4;let R=(p&15)<<2|x>>6,k=x&63;m||(k=64,c||(R=64)),s.push(r[b],r[S],r[R],r[k])}return s.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(stringToByteArray$1(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):byteArrayToString(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();const r=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=r[t.charAt(o++)],p=o<t.length?r[t.charAt(o)]:0;++o;const x=o<t.length?r[t.charAt(o)]:64;++o;const S=o<t.length?r[t.charAt(o)]:64;if(++o,l==null||p==null||x==null||S==null)throw new DecodeBase64StringError;const R=l<<2|p>>4;if(s.push(R),x!==64){const k=p<<4&240|x>>2;if(s.push(k),S!==64){const M=x<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const n=stringToByteArray$1(t);return base64.encodeByteArray(n,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=t&&base64Decode(t[1]);return n&&JSON.parse(n)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultAppConfig=()=>{var t;return(t=getDefaults())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}wrapCallback(n){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(r):n(r,s))}}}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,n)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var l;n(((l=o.error)==null?void 0:l.message)||"")}}catch(r){n(r)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(n,r,s){super(r),this.code=n,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(n,r,s){this.service=n,this.serviceName=r,this.errors=s}create(n,...r){const s=r[0]||{},o=`${this.service}/${n}`,l=this.errors[n],c=l?replaceTemplate(l,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new FirebaseError(o,p,s)}}function replaceTemplate(t,n){return t.replace(PATTERN,(r,s)=>{const o=n[s];return o!=null?String(o):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual$1(t,n){if(t===n)return!0;const r=Object.keys(t),s=Object.keys(n);for(const o of r){if(!s.includes(o))return!1;const l=t[o],c=n[o];if(isObject$1(l)&&isObject$1(c)){if(!deepEqual$1(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(t,n=DEFAULT_INTERVAL_MILLIS,r=DEFAULT_BACKOFF_FACTOR){const s=n*Math.pow(r,t),o=Math.round(RANDOM_FACTOR*s*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(n,r,s){this.name=n,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){const s=new Deferred;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(n){const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),s=(n==null?void 0:n.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(isComponentEager(n))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(n=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=DEFAULT_ENTRY_NAME$1){return this.instances.has(n)}getOptions(n=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:r={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[l,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&c.resolve(o)}return o}onInit(n,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(n),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&n(l,s),()=>{o.delete(n)}}invokeOnInitCallbacks(n,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(n,r)}catch{}}getOrInitializeService({instanceIdentifier:n,options:r={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(n),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?n:DEFAULT_ENTRY_NAME$1:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const r=this.getProvider(n.name);if(r.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);r.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const r=new Provider(n,this);return this.providers.set(n,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,n,...r)=>{if(n<t.logLevel)return;const s=new Date().toISOString(),o=ConsoleMethod[n];if(o)console[o](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Logger{constructor(n){this.name=n,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in LogLevel))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?levelStringToEnum[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...n),this._logHandler(this,LogLevel.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...n),this._logHandler(this,LogLevel.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...n),this._logHandler(this,LogLevel.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...n),this._logHandler(this,LogLevel.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...n),this._logHandler(this,LogLevel.ERROR,...n)}}const instanceOfAny=(t,n)=>n.some(r=>t instanceof r);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const n=new Promise((r,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{r(wrap$1(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return n.then(r=>{r instanceof IDBCursor&&cursorRequestMap.set(r,t)}).catch(()=>{}),reverseTransformCache.set(n,t),n}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const n=new Promise((r,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{r(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});transactionDoneMap.set(t,n)}let idbProxyTraps={get(t,n,r){if(t instanceof IDBTransaction){if(n==="done")return transactionDoneMap.get(t);if(n==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap$1(t[n])},set(t,n,r){return t[n]=r,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){const s=t.call(unwrap(this),n,...r);return transactionStoreNamesMap.set(s,n.sort?n.sort():[n]),wrap$1(s)}:getCursorAdvanceMethods().includes(t)?function(...n){return t.apply(unwrap(this),n),wrap$1(cursorRequestMap.get(this))}:function(...n){return wrap$1(t.apply(unwrap(this),n))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap$1(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const n=transformCachableValue(t);return n!==t&&(transformCache.set(t,n),reverseTransformCache.set(n,t)),n}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,n,{blocked:r,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,n),p=wrap$1(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wrap$1(c.result),m.oldVersion,m.newVersion,wrap$1(c.transaction),m)}),r&&c.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}function deleteDB(t,{blocked:n}={}){const r=indexedDB.deleteDatabase(t);return n&&r.addEventListener("blocked",s=>n(s.oldVersion,s)),wrap$1(r).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(cachedMethods.get(n))return cachedMethods.get(n);const r=n.replace(/FromIndex$/,""),s=n!==r,o=writeMethods.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(r)))return;const l=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let x=m.store;return s&&(x=x.index(p.shift())),(await Promise.all([x[r](...p),o&&m.done]))[0]};return cachedMethods.set(n,l),l}replaceTraps(t=>({...t,get:(n,r,s)=>getMethod(n,r)||t.get(n,r,s),has:(n,r)=>!!getMethod(n,r)||t.has(n,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(t){const n=t.getComponent();return(n==null?void 0:n.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5$1="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5$1]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,n){try{t.container.addComponent(n)}catch(r){logger$1.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,r)}}function _registerComponent(t){const n=t.name;if(_components.has(n))return logger$1.debug(`There were multiple attempts to register component ${n}.`),!1;_components.set(n,t);for(const r of _apps.values())_addComponent(r,t);for(const r of _serverApps.values())_addComponent(r,t);return!0}function _getProvider(t,n){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$3=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(n,r,s){this._isDeleted=!1,this._options={...n},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$3.create("app-deleted",{appName:this._name})}}function initializeApp(t,n={}){let r=t;typeof n!="object"&&(n={name:n});const s={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...n},o=s.name;if(typeof o!="string"||!o)throw ERROR_FACTORY$3.create("bad-app-name",{appName:String(o)});if(r||(r=getDefaultAppConfig()),!r)throw ERROR_FACTORY$3.create("no-options");const l=_apps.get(o);if(l){if(deepEqual$1(r,l.options)&&deepEqual$1(s,l.config))return l;throw ERROR_FACTORY$3.create("duplicate-app",{appName:o})}const c=new ComponentContainer(o);for(const m of _components.values())c.addComponent(m);const p=new FirebaseAppImpl(r,s,c);return _apps.set(o,p),p}function getApp(t=DEFAULT_ENTRY_NAME){const n=_apps.get(t);if(!n&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!n)throw ERROR_FACTORY$3.create("no-app",{appName:t});return n}function registerVersion(t,n,r){let s=PLATFORM_LOG_STRING[t]??t;r&&(s+=`-${r}`);const o=s.match(/\s|\//),l=n.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${n}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${n}" contains illegal characters (whitespace or "/")`),logger$1.warn(c.join(" "));return}_registerComponent(new Component(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$2=null;function getDbPromise$2(){return dbPromise$2||(dbPromise$2=openDB(DB_NAME,DB_VERSION,{upgrade:(t,n)=>{switch(n){case 0:try{t.createObjectStore(STORE_NAME)}catch(r){console.warn(r)}}}}).catch(t=>{throw ERROR_FACTORY$3.create("idb-open",{originalErrorMessage:t.message})})),dbPromise$2}async function readHeartbeatsFromIndexedDB(t){try{const r=(await getDbPromise$2()).transaction(STORE_NAME),s=await r.objectStore(STORE_NAME).get(computeKey(t));return await r.done,s}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const r=ERROR_FACTORY$3.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(r.message)}}}async function writeHeartbeatsToIndexedDB(t,n){try{const s=(await getDbPromise$2()).transaction(STORE_NAME,"readwrite");await s.objectStore(STORE_NAME).put(n,computeKey(t)),await s.done}catch(r){if(r instanceof FirebaseError)logger$1.warn(r.message);else{const s=ERROR_FACTORY$3.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});logger$1.warn(s.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(n){this.container=n,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=getUTCDateString();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const c=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){logger$1.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),l=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return logger$1.warn(r),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,n=MAX_HEADER_BYTES){const r=[];let s=t.slice();for(const o of t){const l=r.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),countBytes(r)>n){l.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),countBytes(r)>n){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class HeartbeatStorageImpl{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await readHeartbeatsFromIndexedDB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function getEarliestHeartbeatIdx(t){if(t.length===0)return-1;let n=0,r=t[0].date;for(let s=1;s<t.length;s++)t[s].date<r&&(r=t[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",n=>new PlatformLoggerServiceImpl(n),"PRIVATE")),_registerComponent(new Component("heartbeat",n=>new HeartbeatServiceImpl(n),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");const name$5="@firebase/installations",version$3="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$3}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$2=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(t){return t instanceof FirebaseError&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:t}){return`${INSTALLATIONS_API_URL}/projects/${t}/installations`}function extractAuthTokenInfoFromResponse(t){return{token:t.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(t.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(t,n){const s=(await n.json()).error;return ERROR_FACTORY$2.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function getHeaders$2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function getHeadersWithAuth(t,{refreshToken:n}){const r=getHeaders$2(t);return r.append("Authorization",getAuthorizationHeader(n)),r}async function retryIfServerError(t){const n=await t();return n.status>=500&&n.status<600?t():n}function getExpiresInFromResponseExpiresIn(t){return Number(t.replace("s","000"))}function getAuthorizationHeader(t){return`${INTERNAL_AUTH_VERSION} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:t,heartbeatServiceProvider:n},{fid:r}){const s=getInstallationsEndpoint(t),o=getHeaders$2(t),l=n.getImmediate({optional:!0});if(l){const x=await l.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const c={fid:r,authVersion:INTERNAL_AUTH_VERSION,appId:t.appId,sdkVersion:PACKAGE_VERSION},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await retryIfServerError(()=>fetch(s,p));if(m.ok){const x=await m.json();return{fid:x.fid||r,registrationStatus:2,refreshToken:x.refreshToken,authToken:extractAuthTokenInfoFromResponse(x.authToken)}}else throw await getErrorFromResponse("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(t){return new Promise(n=>{setTimeout(n,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=encode(t);return VALID_FID_PATTERN.test(r)?r:INVALID_FID}catch{return INVALID_FID}}function encode(t){return bufferToBase64UrlSafe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(t,n){const r=getKey$1(t);callFidChangeCallbacks(r,n),broadcastFidChange(r,n)}function callFidChangeCallbacks(t,n){const r=fidChangeCallbacks.get(t);if(r)for(const s of r)s(n)}function broadcastFidChange(t,n){const r=getBroadcastChannel();r&&r.postMessage({key:t,fid:n}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=t=>{callFidChangeCallbacks(t.data.key,t.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-installations-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-installations-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function set(t,n){const r=getKey$1(t),o=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=o.objectStore(OBJECT_STORE_NAME$1),c=await l.get(r);return await l.put(n,r),await o.done,(!c||c.fid!==n.fid)&&fidChanged(t,n.fid),n}async function remove(t){const n=getKey$1(t),s=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await s.objectStore(OBJECT_STORE_NAME$1).delete(n),await s.done}async function update(t,n){const r=getKey$1(t),o=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=o.objectStore(OBJECT_STORE_NAME$1),c=await l.get(r),p=n(c);return p===void 0?await l.delete(r):await l.put(p,r),await o.done,p&&(!c||c.fid!==p.fid)&&fidChanged(t,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(t){let n;const r=await update(t.appConfig,s=>{const o=updateOrCreateInstallationEntry(s),l=triggerRegistrationIfNecessary(t,o);return n=l.registrationPromise,l.installationEntry});return r.fid===INVALID_FID?{installationEntry:await n}:{installationEntry:r,registrationPromise:n}}function updateOrCreateInstallationEntry(t){const n=t||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(n)}function triggerRegistrationIfNecessary(t,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ERROR_FACTORY$2.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},s=registerInstallation(t,r);return{installationEntry:r,registrationPromise:s}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:waitUntilFidRegistration(t)}:{installationEntry:n}}async function registerInstallation(t,n){try{const r=await createInstallationRequest(t,n);return set(t.appConfig,r)}catch(r){throw isServerError(r)&&r.customData.serverCode===409?await remove(t.appConfig):await set(t.appConfig,{fid:n.fid,registrationStatus:0}),r}}async function waitUntilFidRegistration(t){let n=await updateInstallationRequest(t.appConfig);for(;n.registrationStatus===1;)await sleep(100),n=await updateInstallationRequest(t.appConfig);if(n.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await getInstallationEntry(t);return s||r}return n}function updateInstallationRequest(t){return update(t,n=>{if(!n)throw ERROR_FACTORY$2.create("installation-not-found");return clearTimedOutRequest(n)})}function clearTimedOutRequest(t){return hasInstallationRequestTimedOut(t)?{fid:t.fid,registrationStatus:0}:t}function hasInstallationRequestTimedOut(t){return t.registrationStatus===1&&t.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:t,heartbeatServiceProvider:n},r){const s=getGenerateAuthTokenEndpoint(t,r),o=getHeadersWithAuth(t,r),l=n.getImmediate({optional:!0});if(l){const x=await l.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const c={installation:{sdkVersion:PACKAGE_VERSION,appId:t.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await retryIfServerError(()=>fetch(s,p));if(m.ok){const x=await m.json();return extractAuthTokenInfoFromResponse(x)}else throw await getErrorFromResponse("Generate Auth Token",m)}function getGenerateAuthTokenEndpoint(t,{fid:n}){return`${getInstallationsEndpoint(t)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(t,n=!1){let r;const s=await update(t.appConfig,l=>{if(!isEntryRegistered(l))throw ERROR_FACTORY$2.create("not-registered");const c=l.authToken;if(!n&&isAuthTokenValid(c))return l;if(c.requestStatus===1)return r=waitUntilAuthTokenRequest(t,n),l;{if(!navigator.onLine)throw ERROR_FACTORY$2.create("app-offline");const p=makeAuthTokenRequestInProgressEntry(l);return r=fetchAuthTokenFromServer(t,p),p}});return r?await r:s.authToken}async function waitUntilAuthTokenRequest(t,n){let r=await updateAuthTokenRequest(t.appConfig);for(;r.authToken.requestStatus===1;)await sleep(100),r=await updateAuthTokenRequest(t.appConfig);const s=r.authToken;return s.requestStatus===0?refreshAuthToken(t,n):s}function updateAuthTokenRequest(t){return update(t,n=>{if(!isEntryRegistered(n))throw ERROR_FACTORY$2.create("not-registered");const r=n.authToken;return hasAuthTokenRequestTimedOut(r)?{...n,authToken:{requestStatus:0}}:n})}async function fetchAuthTokenFromServer(t,n){try{const r=await generateAuthTokenRequest(t,n),s={...n,authToken:r};return await set(t.appConfig,s),r}catch(r){if(isServerError(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await remove(t.appConfig);else{const s={...n,authToken:{requestStatus:0}};await set(t.appConfig,s)}throw r}}function isEntryRegistered(t){return t!==void 0&&t.registrationStatus===2}function isAuthTokenValid(t){return t.requestStatus===2&&!isAuthTokenExpired(t)}function isAuthTokenExpired(t){const n=Date.now();return n<t.creationTime||t.creationTime+t.expiresIn<n+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(t){const n={requestStatus:1,requestTime:Date.now()};return{...t,authToken:n}}function hasAuthTokenRequestTimedOut(t){return t.requestStatus===1&&t.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId$1(t){const n=t,{installationEntry:r,registrationPromise:s}=await getInstallationEntry(n);return s?s.catch(console.error):refreshAuthToken(n).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$2(t,n=!1){const r=t;return await completeInstallationRegistration(r),(await refreshAuthToken(r,n)).token}async function completeInstallationRegistration(t){const{registrationPromise:n}=await getInstallationEntry(t);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(t){if(!t||!t.options)throw getMissingValueError$1("App Configuration");if(!t.name)throw getMissingValueError$1("App Name");const n=["projectId","apiKey","appId"];for(const r of n)if(!t.options[r])throw getMissingValueError$1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function getMissingValueError$1(t){return ERROR_FACTORY$2.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=t=>{const n=t.getProvider("app").getImmediate(),r=extractAppConfig$1(n),s=_getProvider(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},internalFactory=t=>{const n=t.getProvider("app").getImmediate(),r=_getProvider(n,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId$1(r),getToken:o=>getToken$2(r,o)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$5,version$3);registerVersion(name$5,version$3,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e",DEFAULT_REGISTRATION_TIMEOUT=1e4;var MessageType$1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(t){const n=new Uint8Array(t);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(t){const n="=".repeat((4-t.length%4)%4),r=(t+n).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),o=new Uint8Array(s.length);for(let l=0;l<s.length;++l)o[l]=s.charCodeAt(l);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(OLD_DB_NAME))return null;let n=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(s,o,l,c)=>{if(o<2||!s.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const p=c.objectStore(OLD_OBJECT_STORE_NAME),m=await p.index("fcmSenderId").get(t);if(await p.clear(),!!m){if(o===2){const x=m;if(!x.auth||!x.p256dh||!x.endpoint)return;n={token:x.fcmToken,createTime:x.createTime??Date.now(),subscriptionOptions:{auth:x.auth,p256dh:x.p256dh,endpoint:x.endpoint,swScope:x.swScope,vapidKey:typeof x.vapidKey=="string"?x.vapidKey:arrayToBase64(x.vapidKey)}}}else if(o===3){const x=m;n={token:x.fcmToken,createTime:x.createTime,subscriptionOptions:{auth:arrayToBase64(x.auth),p256dh:arrayToBase64(x.p256dh),endpoint:x.endpoint,swScope:x.swScope,vapidKey:arrayToBase64(x.vapidKey)}}}else if(o===4){const x=m;n={token:x.fcmToken,createTime:x.createTime,subscriptionOptions:{auth:arrayToBase64(x.auth),p256dh:arrayToBase64(x.p256dh),endpoint:x.endpoint,swScope:x.swScope,vapidKey:arrayToBase64(x.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(n)?n:null}function checkTokenDetails(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:n}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(t){const n=getKey(t),s=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(n);if(s)return s;{const o=await migrateOldDatabase(t.appConfig.senderId);if(o)return await dbSet(t,o),o}}async function dbSet(t,n){const r=getKey(t),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await o.objectStore(OBJECT_STORE_NAME).put(n,r),await o.done,n}function getKey({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$1=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(t,n){const r=await getHeaders$1(t),s=getBody(n),o={method:"POST",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(getEndpoint(t.appConfig),o)).json()}catch(c){throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw ERROR_FACTORY$1.create("token-subscribe-no-token");return l.token}async function requestUpdateToken(t,n){const r=await getHeaders$1(t),s=getBody(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(`${getEndpoint(t.appConfig)}/${n.token}`,o)).json()}catch(c){throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:c})}if(!l.token)throw ERROR_FACTORY$1.create("token-update-no-token");return l.token}async function requestDeleteToken(t,n){const s={method:"DELETE",headers:await getHeaders$1(t)};try{const l=await(await fetch(`${getEndpoint(t.appConfig)}/${n}`,s)).json();if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:c})}}catch(o){throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function getEndpoint({projectId:t}){return`${ENDPOINT}/projects/${t}/registrations`}async function getHeaders$1({appConfig:t,installations:n}){const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function getBody({p256dh:t,auth:n,endpoint:r,vapidKey:s}){const o={web:{endpoint:r,auth:n,p256dh:t}};return s!==DEFAULT_VAPID_KEY&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=10080*60*1e3;async function getTokenInternal(t){const n=await getPushSubscription(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:arrayToBase64(n.getKey("auth")),p256dh:arrayToBase64(n.getKey("p256dh"))},s=await dbGet(t.firebaseDependencies);if(s){if(isTokenValid(s.subscriptionOptions,r))return Date.now()>=s.createTime+TOKEN_EXPIRATION_MS?updateToken(t,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await requestDeleteToken(t.firebaseDependencies,s.token)}catch(o){console.warn(o)}return getNewToken(t.firebaseDependencies,r)}else return getNewToken(t.firebaseDependencies,r)}async function updateToken(t,n){try{const r=await requestUpdateToken(t.firebaseDependencies,n),s={...n,token:r,createTime:Date.now()};return await dbSet(t.firebaseDependencies,s),r}catch(r){throw r}}async function getNewToken(t,n){const s={token:await requestGetToken(t,n),createTime:Date.now(),subscriptionOptions:n};return await dbSet(t,s),s.token}async function getPushSubscription(t,n){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(n)})}function isTokenValid(t,n){const r=n.vapidKey===t.vapidKey,s=n.endpoint===t.endpoint,o=n.auth===t.auth,l=n.p256dh===t.p256dh;return r&&s&&o&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(t){const n={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return propagateNotificationPayload(n,t),propagateDataPayload(n,t),propagateFcmOptions(n,t),n}function propagateNotificationPayload(t,n){if(!n.notification)return;t.notification={};const r=n.notification.title;r&&(t.notification.title=r);const s=n.notification.body;s&&(t.notification.body=s);const o=n.notification.image;o&&(t.notification.image=o);const l=n.notification.icon;l&&(t.notification.icon=l)}function propagateDataPayload(t,n){n.data&&(t.data=n.data)}function propagateFcmOptions(t,n){var o,l,c,p;if(!n.fcmOptions&&!((o=n.notification)!=null&&o.click_action))return;t.fcmOptions={};const r=((l=n.fcmOptions)==null?void 0:l.link)??((c=n.notification)==null?void 0:c.click_action);r&&(t.fcmOptions.link=r);const s=(p=n.fcmOptions)==null?void 0:p.analytics_label;s&&(t.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(t){return typeof t=="object"&&!!t&&CONSOLE_CAMPAIGN_ID in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(t){if(!t||!t.options)throw getMissingValueError("App Configuration Object");if(!t.name)throw getMissingValueError("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const s of n)if(!r[s])throw getMissingValueError(s);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function getMissingValueError(t){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(n,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=extractAppConfig(n);this.firebaseDependencies={app:n,appConfig:o,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(t){try{t.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),t.swRegistration.update().catch(()=>{}),await waitForRegistrationActive(t.swRegistration)}catch(n){throw ERROR_FACTORY$1.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}}async function waitForRegistrationActive(t){return new Promise((n,r)=>{const s=setTimeout(()=>r(new Error(`Service worker not registered after ${DEFAULT_REGISTRATION_TIMEOUT} ms`)),DEFAULT_REGISTRATION_TIMEOUT),o=t.installing||t.waiting;t.active?(clearTimeout(s),n()):o?o.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(o.onstatechange=null,clearTimeout(s),n())}:(clearTimeout(s),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(t,n){if(!n&&!t.swRegistration&&await registerDefaultSw(t),!(!n&&t.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw ERROR_FACTORY$1.create("invalid-sw-registration");t.swRegistration=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(t,n){n?t.vapidKey=n:t.vapidKey||(t.vapidKey=DEFAULT_VAPID_KEY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(t,n){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY$1.create("permission-blocked");return await updateVapidKey(t,n==null?void 0:n.vapidKey),await updateSwReg(t,n==null?void 0:n.serviceWorkerRegistration),getTokenInternal(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(t,n,r){const s=getEventType(n);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[CONSOLE_CAMPAIGN_ID],message_name:r[CONSOLE_CAMPAIGN_NAME],message_time:r[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(t){switch(t){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(t,n){const r=n.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===MessageType.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(externalizePayload(r)):t.onMessageHandler.next(externalizePayload(r)));const s=r.data;isConsoleMessage(s)&&s[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(t,r.messageType,s)}const name$4="@firebase/messaging",version$2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=t=>{const n=new MessagingService(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>messageEventListener(n,r)),n},WindowMessagingInternalFactory=t=>{const n=t.getProvider("messaging").getImmediate();return{getToken:s=>getToken$1(n,s)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name$4,version$2),registerVersion(name$4,version$2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function isWindowSupported(){try{await validateIndexedDBOpenable()}catch{return!1}return typeof window<"u"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onMessage$1(t,n){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");return t.onMessageHandler=n,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getMessagingInWindow(t=getApp()){return isWindowSupported().then(n=>{if(!n)throw ERROR_FACTORY$1.create("unsupported-browser")},n=>{throw ERROR_FACTORY$1.create("indexed-db-unsupported")}),_getProvider(getModularInstance(t),"messaging").getImmediate()}async function getToken(t,n){return t=getModularInstance(t),getToken$1(t,n)}function onMessage(t,n){return t=getModularInstance(t),onMessage$1(t,n)}registerMessagingInWindow();var name$3="firebase",version$1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$1,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(t){if(!t.startsWith(GTAG_URL)){const n=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:t});return logger.warn(n.message),""}return t}function promiseAllSettled(t){return Promise.all(t.map(n=>n.catch(r=>r)))}function createTrustedTypesPolicy(t,n){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,n)),r}function insertScriptTag(t,n){const r=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),s=document.createElement("script"),o=`${GTAG_URL}?l=${t}&id=${n}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function getOrCreateDataLayer(t){let n=[];return Array.isArray(window[t])?n=window[t]:window[t]=n,n}async function gtagOnConfig(t,n,r,s,o,l){const c=s[o];try{if(c)await n[c];else{const m=(await promiseAllSettled(r)).find(x=>x.measurementId===o);m&&await n[m.appId]}}catch(p){logger.error(p)}t("config",o,l)}async function gtagOnEvent(t,n,r,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await promiseAllSettled(r);for(const m of c){const x=p.find(S=>S.measurementId===m),b=x&&n[x.appId];if(b)l.push(b);else{l=[];break}}}l.length===0&&(l=Object.values(n)),await Promise.all(l),t("event",s,o||{})}catch(l){logger.error(l)}}function wrapGtag(t,n,r,s){async function o(l,...c){try{if(l==="event"){const[p,m]=c;await gtagOnEvent(t,n,r,p,m)}else if(l==="config"){const[p,m]=c;await gtagOnConfig(t,n,r,s,p,m)}else if(l==="consent"){const[p,m]=c;t("consent",p,m)}else if(l==="get"){const[p,m,x]=c;t("get",p,m,x)}else if(l==="set"){const[p]=c;t("set",p)}else t(l,...c)}catch(p){logger.error(p)}}return o}function wrapOrCreateGtag(t,n,r,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=wrapGtag(l,t,n,r),{gtagCore:l,wrappedGtag:window[o]}}function findGtagScriptOnPage(t){const n=window.document.getElementsByTagName("script");for(const r of Object.values(n))if(r.src&&r.src.includes(GTAG_URL)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(n={},r=BASE_INTERVAL_MILLIS){this.throttleMetadata=n,this.intervalMillis=r}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,r){this.throttleMetadata[n]=r}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const defaultRetryData=new RetryData;function getHeaders(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fetchDynamicConfig(t){var c;const{appId:n,apiKey:r}=t,s={method:"GET",headers:getHeaders(r)},o=DYNAMIC_CONFIG_URL.replace("{app-id}",n),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let p="";try{const m=await l.json();(c=m.error)!=null&&c.message&&(p=m.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:l.status,responseMessage:p})}return l.json()}async function fetchDynamicConfigWithRetry(t,n=defaultRetryData,r){const{appId:s,apiKey:o,measurementId:l}=t.options;if(!s)throw ERROR_FACTORY.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw ERROR_FACTORY.create("no-api-key")}const c=n.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new AnalyticsAbortSignal;return setTimeout(async()=>{p.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:s,apiKey:o,measurementId:l},c,p,n)}async function attemptFetchDynamicConfigWithRetry(t,{throttleEndTimeMillis:n,backoffCount:r},s,o=defaultRetryData){var p;const{appId:l,measurementId:c}=t;try{await setAbortableTimeout(s,n)}catch(m){if(c)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw m}try{const m=await fetchDynamicConfig(t);return o.deleteThrottleMetadata(l),m}catch(m){const x=m;if(!isRetriableError(x)){if(o.deleteThrottleMetadata(l),c)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:l,measurementId:c};throw m}const b=Number((p=x==null?void 0:x.customData)==null?void 0:p.httpStatus)===503?calculateBackoffMillis(r,o.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(r,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+b,backoffCount:r+1};return o.setThrottleMetadata(l,S),logger.debug(`Calling attemptFetch again in ${b} millis`),attemptFetchDynamicConfigWithRetry(t,S,s,o)}}function setAbortableTimeout(t,n){return new Promise((r,s)=>{const o=Math.max(n-Date.now(),0),l=setTimeout(r,o);t.addEventListener(()=>{clearTimeout(l),s(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function isRetriableError(t){if(!(t instanceof FirebaseError)||!t.customData)return!1;const n=Number(t.customData.httpStatus);return n===429||n===500||n===503||n===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function logEvent$1(t,n,r,s,o){if(o&&o.global){t("event",r,s);return}else{const l=await n,c={...s,send_to:l};t("event",r,c)}}async function setUserProperties$1(t,n,r,s){if(s&&s.global){const o={};for(const l of Object.keys(r))o[`user_properties.${l}`]=r[l];return t("set",o),Promise.resolve()}else{const o=await n;t("config",o,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(t){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(t,n,r,s,o,l,c){const p=fetchDynamicConfigWithRetry(t);p.then(R=>{r[R.measurementId]=R.appId,t.options.measurementId&&R.measurementId!==t.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>logger.error(R)),n.push(p);const m=validateIndexedDB().then(R=>{if(R)return s.getId()}),[x,b]=await Promise.all([p,m]);findGtagScriptOnPage(l)||insertScriptTag(l,x.measurementId),o("js",new Date);const S=(c==null?void 0:c.config)??{};return S[ORIGIN_KEY]="firebase",S.update=!0,b!=null&&(S[GA_FID_KEY]=b),o("config",x.measurementId,S),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(n){this.app=n}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const t=[];if(isBrowserExtension()&&t.push("This is a browser extension environment."),areCookiesEnabled()||t.push("Cookies are not available."),t.length>0){const n=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:n});logger.warn(r.message)}}function factory(t,n,r){warnOnBrowserContextMismatch();const s=t.options.appId;if(!s)throw ERROR_FACTORY.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[s]!=null)throw ERROR_FACTORY.create("already-exists",{id:s});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:l,gtagCore:c}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=l,gtagCoreFunction=c,globalInitDone=!0}return initializationPromisesMap[s]=_initializeAnalytics(t,dynamicConfigPromisesList,measurementIdToAppId,n,gtagCoreFunction,dataLayerName,r),new AnalyticsService(t)}function getAnalytics(t=getApp()){t=getModularInstance(t);const n=_getProvider(t,ANALYTICS_TYPE);return n.isInitialized()?n.getImmediate():initializeAnalytics(t)}function initializeAnalytics(t,n={}){const r=_getProvider(t,ANALYTICS_TYPE);if(r.isInitialized()){const o=r.getImmediate();if(deepEqual$1(n,r.getOptions()))return o;throw ERROR_FACTORY.create("already-initialized")}return r.initialize({options:n})}function setUserProperties(t,n,r){t=getModularInstance(t),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[t.app.options.appId],n,r).catch(s=>logger.error(s))}function logEvent(t,n,r,s){t=getModularInstance(t),logEvent$1(wrappedGtagFunction,initializationPromisesMap[t.app.options.appId],n,r,s).catch(o=>logger.error(o))}const name$2="@firebase/analytics",version="0.10.19";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider("installations-internal").getImmediate();return factory(s,o,r)},"PUBLIC")),_registerComponent(new Component("analytics-internal",t,"PRIVATE")),registerVersion(name$2,version),registerVersion(name$2,version,"esm2020");function t(n){try{const r=n.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(s,o,l)=>logEvent(r,s,o,l),setUserProperties:(s,o)=>setUserProperties(r,s,o)}}catch(r){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:r})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},app=initializeApp(firebaseConfig);getAnalytics(app);const messaging=getMessagingInWindow(app),VAPID_KEY="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",FCM_TOKEN_KEY="fcm_token",isIOSWebView=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,requestFCMToken=async t=>{if(isIOSWebView()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(t),window.receiveFcmToken=async function(n){console.log(`iOS FCM  : ${n}`),n&&await sendTokenToServer(t,n)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${t}`);const n=window.Android.getFcmToken();return window.Android.setUserId(t),n?(console.log(` FCM Token: ${n}`),await sendTokenToServer(t,n),n):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const r=await getToken(messaging,{vapidKey:VAPID_KEY});return r?(console.log("FCM  :",r),api.set(FCM_TOKEN_KEY,r,{path:"/"}),await sendTokenToServer(t,r),r):(console.warn("   ."),null)}else return console.warn("  "),null}catch(n){throw n}},sendTokenToServer=async(t,n)=>{try{const r=await instance.post("/api/notification/registerToken",{user_id:t,fcm_token:n});return console.log("  ",r.data),r.data}catch(r){throw console.error("   ",r),r}},onForegroundMessage=t=>messaging?onMessage(messaging,n=>{if(console.log(" ",n),n.notification){const{title:r,body:s}=n.notification;Notification.permission==="granted"&&new Notification(r,{body:s,icon:"/logo192.png",data:n.data}),t&&t(n)}}):(console.log("  "),()=>{});function LoginDetail(){var m,x;const{data:t,handleChange:n}=useInput({login_id:"",login_pwd:""}),r=useNavigate(),s=useLocation(),o=((x=(m=s.state)==null?void 0:m.from)==null?void 0:x.pathname)||"/",{showAlert:l}=useAlert(),{login:c}=reactExports$1.useContext(UserContext),p=async()=>{try{const b=await instance.post("/api/auth/login",t),S=b.data.data,R=b.data.jwt;c(S,R),S&&S.id&&S.admin_flag!=="1"?await requestFCMToken(S.id):console.log("  - FCM   "),o==="/register"?r("/",{replace:!0}):o&&o!=="/login"&&o!==s.pathname?r(o,{replace:!0}):r("/",{replace:!0})}catch(b){b.status===401?l("   "):l("  .    .")}};return jsxRuntimeExports.jsx("div",{className:styles$g.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$g.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$g.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$g.loginTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$g.subParagraph,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$g.contentContainer,children:[jsxRuntimeExports.jsxs("form",{className:styles$g.loginForm,onSubmit:b=>{b.preventDefault(),p()},children:[jsxRuntimeExports.jsx(InputText,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:n,value:t.login_id}),jsxRuntimeExports.jsx(InputText,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",type:"password",onChange:n,value:t.login_pwd}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$g.submitButton,children:" "})]}),jsxRuntimeExports.jsx(SupportSection,{})]})]})})}const container$2="_container_17td7_1",loginContent="_loginContent_17td7_23",header$5="_header_17td7_39",subtitle="_subtitle_17td7_49",emailButton="_emailButton_17td7_81",footer$1="_footer_17td7_217",registerLink="_registerLink_17td7_229",styles$e={container:container$2,loginContent,header:header$5,subtitle,emailButton,footer:footer$1,registerLink};function Login(){const t=useNavigate(),n=()=>{t("/login-detail")};return jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsxs("div",{className:styles$e.loginContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.header,children:[jsxRuntimeExports.jsx(IcLogo,{color:"#3c504b"}),jsxRuntimeExports.jsx("p",{className:styles$e.subtitle,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$e.emailButton,onClick:n,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$e.footer,children:jsxRuntimeExports.jsx(Link$1,{className:styles$e.registerLink,to:"/register",children:" "})})]})})}const layout$4="_layout_cert2_1",layoutTitle="_layoutTitle_cert2_31",backButton$3="_backButton_cert2_65",mainContentContainer="_mainContentContainer_cert2_81",formSection="_formSection_cert2_149",inputGroup$1="_inputGroup_cert2_163",label$1="_label_cert2_173",textInput="_textInput_cert2_189",contentGrid="_contentGrid_cert2_225",leftColumn="_leftColumn_cert2_237",rightColumn="_rightColumn_cert2_249",actionFooter="_actionFooter_cert2_261",buttonGroup="_buttonGroup_cert2_291",actionButton="_actionButton_cert2_305",previewBtn="_previewBtn_cert2_327",submitBtn="_submitBtn_cert2_345",editModeButtons="_editModeButtons_cert2_383",deleteBtn="_deleteBtn_cert2_395",styles$d={layout:layout$4,layoutTitle,backButton:backButton$3,mainContentContainer,formSection,inputGroup:inputGroup$1,label:label$1,textInput,contentGrid,leftColumn,rightColumn,actionFooter,buttonGroup,actionButton,previewBtn,submitBtn,editModeButtons,deleteBtn},coverSectionBox="_coverSectionBox_ul99z_1",sectionHeader="_sectionHeader_ul99z_13",coverLabelSpan="_coverLabelSpan_ul99z_27",badge="_badge_ul99z_41",coverWrapper="_coverWrapper_ul99z_61",coverImageContainerBox="_coverImageContainerBox_ul99z_87",coverImage="_coverImage_ul99z_87",removeCoverButton="_removeCoverButton_ul99z_117",coverPlaceholderBox="_coverPlaceholderBox_ul99z_169",dragActive="_dragActive_ul99z_201",placeholderContent="_placeholderContent_ul99z_211",plusIconSpan$1="_plusIconSpan_ul99z_225",placeholderText="_placeholderText_ul99z_237",styles$c={coverSectionBox,sectionHeader,coverLabelSpan,badge,coverWrapper,coverImageContainerBox,coverImage,removeCoverButton,coverPlaceholderBox,dragActive,placeholderContent,plusIconSpan:plusIconSpan$1,placeholderText};function Cover({coverImage:t,setCoverImage:n,coverDropzone:r,openFileDialogForCover:s}){return jsxRuntimeExports.jsxs("div",{className:styles$c.coverSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$c.sectionHeader,children:[jsxRuntimeExports.jsx("span",{className:styles$c.coverLabelSpan,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$c.badge,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$c.coverWrapper,children:t?jsxRuntimeExports.jsxs("div",{className:styles$c.coverImageContainerBox,children:[jsxRuntimeExports.jsx("img",{src:t.url,alt:"",className:styles$c.coverImage}),jsxRuntimeExports.jsx("button",{className:styles$c.removeCoverButton,onClick:()=>n(null),"aria-label":" ",children:""})]}):jsxRuntimeExports.jsxs("div",{...r.getRootProps(),className:`${styles$c.coverPlaceholderBox} ${r.isDragActive?styles$c.dragActive:""}`,onClick:o=>{o.stopPropagation(),s()},children:[jsxRuntimeExports.jsx("input",{...r.getInputProps()}),jsxRuntimeExports.jsxs("div",{className:styles$c.placeholderContent,children:[jsxRuntimeExports.jsx("span",{className:styles$c.plusIconSpan,children:"+"}),jsxRuntimeExports.jsx("span",{className:styles$c.placeholderText,children:" "})]})]})})]})}const innerPagesSectionBox="_innerPagesSectionBox_1g0ac_1",headerRow$1="_headerRow_1g0ac_13",innerPagesLabelSpan="_innerPagesLabelSpan_1g0ac_27",countBadge="_countBadge_1g0ac_41",innerPagesGridContainer="_innerPagesGridContainer_1g0ac_61",dropzoneActive="_dropzoneActive_1g0ac_93",innerPageItemBox="_innerPageItemBox_1g0ac_105",dragging="_dragging_1g0ac_147",dragOver="_dragOver_1g0ac_157",imageWrapper$1="_imageWrapper_1g0ac_167",innerPageImage="_innerPageImage_1g0ac_175",removeInnerPageButton="_removeInnerPageButton_1g0ac_195",pageNumberBadge="_pageNumberBadge_1g0ac_259",addInnerPageButton="_addInnerPageButton_1g0ac_287",plusIconSpan="_plusIconSpan_1g0ac_327",addText="_addText_1g0ac_339",styles$b={innerPagesSectionBox,headerRow:headerRow$1,innerPagesLabelSpan,countBadge,innerPagesGridContainer,dropzoneActive,innerPageItemBox,dragging,dragOver,imageWrapper:imageWrapper$1,innerPageImage,removeInnerPageButton,pageNumberBadge,addInnerPageButton,plusIconSpan,addText};function Inner({imageList:t,setImageList:n,innerDropzone:r,handleRemoveImage:s,openFileDialogForInner:o}){const[l,c]=reactExports$1.useState(null),[p,m]=reactExports$1.useState(null),x=(M,j)=>{M.stopPropagation(),c(j),M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",j.toString())},b=M=>{M.stopPropagation(),c(null),m(null)},S=(M,j)=>{M.preventDefault(),M.stopPropagation(),M.dataTransfer.dropEffect="move",l!==null&&l!==j&&m(j)},R=M=>{M.currentTarget.contains(M.relatedTarget)||m(null)},k=(M,j)=>{if(l===null)return;if(M.preventDefault(),M.stopPropagation(),l===j){c(null),m(null);return}const G=t.filter((P,Q)=>Q!==l);G.splice(j,0,t[l]),n(G),c(null),m(null)};return jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$b.innerPagesLabelSpan,children:" "}),jsxRuntimeExports.jsxs("span",{className:styles$b.countBadge,children:[t.length,""]})]}),jsxRuntimeExports.jsxs("div",{...r.getRootProps(),className:`${styles$b.innerPagesGridContainer} ${r.isDragActive?styles$b.dropzoneActive:""}`,children:[jsxRuntimeExports.jsx("input",{...r.getInputProps()}),t.map((M,j)=>jsxRuntimeExports.jsxs("div",{className:`
              ${styles$b.innerPageItemBox} 
              ${l===j?styles$b.dragging:""} 
              ${p===j?styles$b.dragOver:""}
            `,draggable:!0,onDragStart:G=>x(G,j),onDragEnd:b,onDragOver:G=>S(G,j),onDragLeave:R,onDrop:G=>k(G,j),children:[jsxRuntimeExports.jsx("div",{className:styles$b.imageWrapper,children:jsxRuntimeExports.jsx("img",{src:M.url,alt:` ${j+1}`,className:styles$b.innerPageImage})}),jsxRuntimeExports.jsx("div",{className:styles$b.pageNumberBadge,children:j+1}),jsxRuntimeExports.jsx("button",{className:styles$b.removeInnerPageButton,onClick:G=>{G.stopPropagation(),s(j)},title:"",children:""})]},M.url)),jsxRuntimeExports.jsxs("div",{className:styles$b.addInnerPageButton,onClick:M=>{M.stopPropagation(),o()},children:[jsxRuntimeExports.jsx("span",{className:styles$b.plusIconSpan,children:"+"}),jsxRuntimeExports.jsx("span",{className:styles$b.addText,children:""})]})]})]})}function __awaiter(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(S){c(S)}}function m(b){try{x(s.throw(b))}catch(S){c(S)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(t,n,r){const s=withMimeType(t),{webkitRelativePath:o}=t,l=typeof n=="string"?n:typeof o=="string"&&o.length>0?o:`./${t.name}`;return typeof s.path!="string"&&setObjProp(s,"path",l),setObjProp(s,"relativePath",l),s}function withMimeType(t){const{name:n}=t;if(n&&n.lastIndexOf(".")!==-1&&!t.type){const s=n.split(".").pop().toLowerCase(),o=COMMON_MIME_TYPES.get(s);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}function setObjProp(t,n,r){Object.defineProperty(t,n,{value:r,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(t){return __awaiter(this,void 0,void 0,function*(){return isObject(t)&&isDataTransfer(t.dataTransfer)?getDataTransferFiles(t.dataTransfer,t.type):isChangeEvt(t)?getInputFiles(t):Array.isArray(t)&&t.every(n=>"getFile"in n&&typeof n.getFile=="function")?getFsHandleFiles(t):[]})}function isDataTransfer(t){return isObject(t)}function isChangeEvt(t){return isObject(t)&&isObject(t.target)}function isObject(t){return typeof t=="object"&&t!==null}function getInputFiles(t){return fromList(t.target.files).map(n=>toFileWithPath(n))}function getFsHandleFiles(t){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>toFileWithPath(r))})}function getDataTransferFiles(t,n){return __awaiter(this,void 0,void 0,function*(){if(t.items){const r=fromList(t.items).filter(o=>o.kind==="file");if(n!=="drop")return r;const s=yield Promise.all(r.map(toFilePromises));return noIgnoredFiles(flatten(s))}return noIgnoredFiles(fromList(t.files).map(r=>toFileWithPath(r)))})}function noIgnoredFiles(t){return t.filter(n=>FILES_TO_IGNORE.indexOf(n.name)===-1)}function fromList(t){if(t===null)return[];const n=[];for(let r=0;r<t.length;r++){const s=t[r];n.push(s)}return n}function toFilePromises(t){if(typeof t.webkitGetAsEntry!="function")return fromDataTransferItem(t);const n=t.webkitGetAsEntry();return n&&n.isDirectory?fromDirEntry(n):fromDataTransferItem(t,n)}function flatten(t){return t.reduce((n,r)=>[...n,...Array.isArray(r)?flatten(r):[r]],[])}function fromDataTransferItem(t,n){return __awaiter(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const l=yield t.getAsFileSystemHandle();if(l===null)throw new Error(`${t} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,toFileWithPath(c)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return toFileWithPath(s,(r=n==null?void 0:n.fullPath)!==null&&r!==void 0?r:void 0)})}function fromEntry(t){return __awaiter(this,void 0,void 0,function*(){return t.isDirectory?fromDirEntry(t):fromFileEntry(t)})}function fromDirEntry(t){const n=t.createReader();return new Promise((r,s)=>{const o=[];function l(){n.readEntries(c=>__awaiter(this,void 0,void 0,function*(){if(c.length){const p=Promise.all(c.map(fromEntry));o.push(p),l()}else try{const p=yield Promise.all(o);r(p)}catch(p){s(p)}}),c=>{s(c)})}l()})}function fromFileEntry(t){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,r)=>{t.file(s=>{const o=toFileWithPath(s,t.fullPath);n(o)},s=>{r(s)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(t,n){if(t&&n){var r=Array.isArray(n)?n:n.split(",");if(r.length===0)return!0;var s=t.name||"",o=(t.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return r.some(function(c){var p=c.trim().toLowerCase();return p.charAt(0)==="."?s.toLowerCase().endsWith(p):p.endsWith("/*")?l===p.replace(/\/.*$/,""):o===p})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs(esExports);function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function ownKeys$1(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread$1(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(r),!0).forEach(function(s){_defineProperty$1(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty$1(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _slicedToArray$1(t,n){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,n)||_unsupportedIterableToArray$1(t,n)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,n)}}function _arrayLikeToArray$1(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=t[r];return s}function _iterableToArrayLimit$1(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,p;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(m){l=!0,p=m}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw p}}return s}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=n.split(","),s=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(s)}},getTooLargeRejectionErr=function t(n){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},getTooSmallRejectionErr=function t(n){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(t,n){var r=t.type==="application/x-moz-file"||accepts(t,n);return[r,r?null:getInvalidTypeRejectionErr(n)]}function fileMatchSize(t,n,r){if(isDefined(t.size))if(isDefined(n)&&isDefined(r)){if(t.size>r)return[!1,getTooLargeRejectionErr(r)];if(t.size<n)return[!1,getTooSmallRejectionErr(n)]}else{if(isDefined(n)&&t.size<n)return[!1,getTooSmallRejectionErr(n)];if(isDefined(r)&&t.size>r)return[!1,getTooLargeRejectionErr(r)]}return[!0,null]}function isDefined(t){return t!=null}function allFilesAccepted(t){var n=t.files,r=t.accept,s=t.minSize,o=t.maxSize,l=t.multiple,c=t.maxFiles,p=t.validator;return!l&&n.length>1||l&&c>=1&&n.length>c?!1:n.every(function(m){var x=fileAccepted(m,r),b=_slicedToArray$1(x,1),S=b[0],R=fileMatchSize(m,s,o),k=_slicedToArray$1(R,1),M=k[0],j=p?p(m):null;return S&&M&&!j})}function isPropagationStopped(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function isEvtWithFiles(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!t.target&&!!t.target.files}function onDocumentDragOver(t){t.preventDefault()}function isIe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function isEdge(t){return t.indexOf("Edge/")!==-1}function isIeOrEdge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(t)||isEdge(t)}function composeEventHandlers(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return n.some(function(p){return!isPropagationStopped(s)&&p&&p.apply(void 0,[s].concat(l)),isPropagationStopped(s)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(t){if(isDefined(t)){var n=Object.entries(t).filter(function(r){var s=_slicedToArray$1(r,2),o=s[0],l=s[1],c=!0;return isMIMEType(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(isExt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(r,s){var o=_slicedToArray$1(s,2),l=o[0],c=o[1];return _objectSpread$1(_objectSpread$1({},r),{},_defineProperty$1({},l,c))},{});return[{description:"Files",accept:n}]}return t}function acceptPropAsAcceptAttr(t){if(isDefined(t))return Object.entries(t).reduce(function(n,r){var s=_slicedToArray$1(r,2),o=s[0],l=s[1];return[].concat(_toConsumableArray$1(n),[o],_toConsumableArray$1(l))},[]).filter(function(n){return isMIMEType(n)||isExt(n)}).join(",")}function isAbort(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function isSecurityError(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function isMIMEType(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function isExt(t){return/^.*\.[\w]+$/.test(t)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_unsupportedIterableToArray(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,n)}}function _arrayLikeToArray(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=t[r];return s}function _iterableToArrayLimit(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,p;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(m){l=!0,p=m}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw p}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach(function(s){_defineProperty(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _objectWithoutProperties(t,n){if(t==null)return{};var r=_objectWithoutPropertiesLoose(t,n),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _objectWithoutPropertiesLoose(t,n){if(t==null)return{};var r={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(n.indexOf(o)>=0)&&(r[o]=t[o]);return r}var Dropzone=reactExports$1.forwardRef(function(t,n){var r=t.children,s=_objectWithoutProperties(t,_excluded),o=useDropzone(s),l=o.open,c=_objectWithoutProperties(o,_excluded2);return reactExports$1.useImperativeHandle(n,function(){return{open:l}},[l]),React4.createElement(reactExports$1.Fragment,null,r(_objectSpread(_objectSpread({},c),{},{open:l})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=_objectSpread(_objectSpread({},defaultProps),t),r=n.accept,s=n.disabled,o=n.getFilesFromEvent,l=n.maxSize,c=n.minSize,p=n.multiple,m=n.maxFiles,x=n.onDragEnter,b=n.onDragLeave,S=n.onDragOver,R=n.onDrop,k=n.onDropAccepted,M=n.onDropRejected,j=n.onFileDialogCancel,G=n.onFileDialogOpen,P=n.useFsAccessApi,Q=n.autoFocus,H=n.preventDropOnDocument,X=n.noClick,ee=n.noKeyboard,ne=n.noDrag,Y=n.noDragEventsBubbling,re=n.onError,oe=n.validator,xe=reactExports$1.useMemo(function(){return acceptPropAsAcceptAttr(r)},[r]),ve=reactExports$1.useMemo(function(){return pickerOptionsFromAccept(r)},[r]),me=reactExports$1.useMemo(function(){return typeof G=="function"?G:noop$1},[G]),we=reactExports$1.useMemo(function(){return typeof j=="function"?j:noop$1},[j]),Ee=reactExports$1.useRef(null),he=reactExports$1.useRef(null),ae=reactExports$1.useReducer(reducer,initialState),ue=_slicedToArray(ae,2),te=ue[0],se=ue[1],Ce=te.isFocused,ce=te.isFileDialogActive,ye=reactExports$1.useRef(typeof window<"u"&&window.isSecureContext&&P&&canUseFileSystemAccessAPI()),Se=function(){!ye.current&&ce&&setTimeout(function(){if(he.current){var Pe=he.current.files;Pe.length||(se({type:"closeDialog"}),we())}},300)};reactExports$1.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[he,ce,we,ye]);var _e=reactExports$1.useRef([]),je=function(Pe){Ee.current&&Ee.current.contains(Pe.target)||(Pe.preventDefault(),_e.current=[])};reactExports$1.useEffect(function(){return H&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",je,!1)),function(){H&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",je))}},[Ee,H]),reactExports$1.useEffect(function(){return!s&&Q&&Ee.current&&Ee.current.focus(),function(){}},[Ee,Q,s]);var Me=reactExports$1.useCallback(function(it){re?re(it):console.error(it)},[re]),Ze=reactExports$1.useCallback(function(it){it.preventDefault(),it.persist(),In(it),_e.current=[].concat(_toConsumableArray(_e.current),[it.target]),isEvtWithFiles(it)&&Promise.resolve(o(it)).then(function(Pe){if(!(isPropagationStopped(it)&&!Y)){var Fe=Pe.length,Ye=Fe>0&&allFilesAccepted({files:Pe,accept:xe,minSize:c,maxSize:l,multiple:p,maxFiles:m,validator:oe}),Je=Fe>0&&!Ye;se({isDragAccept:Ye,isDragReject:Je,isDragActive:!0,type:"setDraggedFiles"}),x&&x(it)}}).catch(function(Pe){return Me(Pe)})},[o,x,Me,Y,xe,c,l,p,m,oe]),ot=reactExports$1.useCallback(function(it){it.preventDefault(),it.persist(),In(it);var Pe=isEvtWithFiles(it);if(Pe&&it.dataTransfer)try{it.dataTransfer.dropEffect="copy"}catch{}return Pe&&S&&S(it),!1},[S,Y]),Ct=reactExports$1.useCallback(function(it){it.preventDefault(),it.persist(),In(it);var Pe=_e.current.filter(function(Ye){return Ee.current&&Ee.current.contains(Ye)}),Fe=Pe.indexOf(it.target);Fe!==-1&&Pe.splice(Fe,1),_e.current=Pe,!(Pe.length>0)&&(se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(it)&&b&&b(it))},[Ee,b,Y]),It=reactExports$1.useCallback(function(it,Pe){var Fe=[],Ye=[];it.forEach(function(Je){var bt=fileAccepted(Je,xe),Mt=_slicedToArray(bt,2),Wt=Mt[0],Xe=Mt[1],ze=fileMatchSize(Je,c,l),$e=_slicedToArray(ze,2),ut=$e[0],lt=$e[1],Bt=oe?oe(Je):null;if(Wt&&ut&&!Bt)Fe.push(Je);else{var on=[Xe,lt];Bt&&(on=on.concat(Bt)),Ye.push({file:Je,errors:on.filter(function(un){return un})})}}),(!p&&Fe.length>1||p&&m>=1&&Fe.length>m)&&(Fe.forEach(function(Je){Ye.push({file:Je,errors:[TOO_MANY_FILES_REJECTION]})}),Fe.splice(0)),se({acceptedFiles:Fe,fileRejections:Ye,isDragReject:Ye.length>0,type:"setFiles"}),R&&R(Fe,Ye,Pe),Ye.length>0&&M&&M(Ye,Pe),Fe.length>0&&k&&k(Fe,Pe)},[se,p,xe,c,l,m,R,k,M,oe]),mt=reactExports$1.useCallback(function(it){it.preventDefault(),it.persist(),In(it),_e.current=[],isEvtWithFiles(it)&&Promise.resolve(o(it)).then(function(Pe){isPropagationStopped(it)&&!Y||It(Pe,it)}).catch(function(Pe){return Me(Pe)}),se({type:"reset"})},[o,It,Me,Y]),Ut=reactExports$1.useCallback(function(){if(ye.current){se({type:"openDialog"}),me();var it={multiple:p,types:ve};window.showOpenFilePicker(it).then(function(Pe){return o(Pe)}).then(function(Pe){It(Pe,null),se({type:"closeDialog"})}).catch(function(Pe){isAbort(Pe)?(we(Pe),se({type:"closeDialog"})):isSecurityError(Pe)?(ye.current=!1,he.current?(he.current.value=null,he.current.click()):Me(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Me(Pe)});return}he.current&&(se({type:"openDialog"}),me(),he.current.value=null,he.current.click())},[se,me,we,P,It,Me,ve,p]),gt=reactExports$1.useCallback(function(it){!Ee.current||!Ee.current.isEqualNode(it.target)||(it.key===" "||it.key==="Enter"||it.keyCode===32||it.keyCode===13)&&(it.preventDefault(),Ut())},[Ee,Ut]),xt=reactExports$1.useCallback(function(){se({type:"focus"})},[]),an=reactExports$1.useCallback(function(){se({type:"blur"})},[]),Un=reactExports$1.useCallback(function(){X||(isIeOrEdge()?setTimeout(Ut,0):Ut())},[X,Ut]),Zt=function(Pe){return s?null:Pe},$t=function(Pe){return ee?null:Zt(Pe)},Ot=function(Pe){return ne?null:Zt(Pe)},In=function(Pe){Y&&Pe.stopPropagation()},pt=reactExports$1.useMemo(function(){return function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=it.refKey,Fe=Pe===void 0?"ref":Pe,Ye=it.role,Je=it.onKeyDown,bt=it.onFocus,Mt=it.onBlur,Wt=it.onClick,Xe=it.onDragEnter,ze=it.onDragOver,$e=it.onDragLeave,ut=it.onDrop,lt=_objectWithoutProperties(it,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:$t(composeEventHandlers(Je,gt)),onFocus:$t(composeEventHandlers(bt,xt)),onBlur:$t(composeEventHandlers(Mt,an)),onClick:Zt(composeEventHandlers(Wt,Un)),onDragEnter:Ot(composeEventHandlers(Xe,Ze)),onDragOver:Ot(composeEventHandlers(ze,ot)),onDragLeave:Ot(composeEventHandlers($e,Ct)),onDrop:Ot(composeEventHandlers(ut,mt)),role:typeof Ye=="string"&&Ye!==""?Ye:"presentation"},Fe,Ee),!s&&!ee?{tabIndex:0}:{}),lt)}},[Ee,gt,xt,an,Un,Ze,ot,Ct,mt,ee,ne,s]),Kn=reactExports$1.useCallback(function(it){it.stopPropagation()},[]),On=reactExports$1.useMemo(function(){return function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=it.refKey,Fe=Pe===void 0?"ref":Pe,Ye=it.onChange,Je=it.onClick,bt=_objectWithoutProperties(it,_excluded4),Mt=_defineProperty({accept:xe,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Zt(composeEventHandlers(Ye,mt)),onClick:Zt(composeEventHandlers(Je,Kn)),tabIndex:-1},Fe,he);return _objectSpread(_objectSpread({},Mt),bt)}},[he,r,p,mt,s]);return _objectSpread(_objectSpread({},te),{},{isFocused:Ce&&!s,getRootProps:pt,getInputProps:On,rootRef:Ee,inputRef:he,open:Zt(Ut)})}function reducer(t,n){switch(n.type){case"focus":return _objectSpread(_objectSpread({},t),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},t),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},t),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},t),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return _objectSpread({},initialState);default:return t}}function noop$1(){}function useLeaflet(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(null),o=R=>{if(!R.target||!R.target.files)return;const M=Array.from(R.target.files).map(j=>new Promise(G=>{const P=new FileReader;P.onload=Q=>{G({file:j,url:Q.target.result,name:j.name})},P.readAsDataURL(j)}));Promise.all(M).then(j=>{n(G=>[...G,...j]),R.target&&(R.target.value="")})},l=R=>{n(k=>k.filter((M,j)=>j!==R))},c=R=>{const k=new FileReader;k.onload=M=>{s({file:R,url:M.target.result,name:R.name})},k.readAsDataURL(R)},p=()=>{const R=document.createElement("input");R.type="file",R.accept="image/*",R.onchange=k=>{const M=k.target.files[0];M&&c(M)},R.click()},m=()=>{const R=document.createElement("input");R.type="file",R.accept="image/*",R.multiple=!0,R.onchange=o,R.click()},x=(R,k="inner")=>{const M=R.map(j=>new Promise(G=>{const P=new FileReader;P.onload=Q=>{G({file:j,url:Q.target.result,name:j.name})},P.readAsDataURL(j)}));Promise.all(M).then(j=>{k==="cover"?j.length>0&&s(j[0]):n(G=>[...G,...j])})},b=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:R=>x(R,"cover"),onDropRejected:R=>{console.log("   :",R)}}),S=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:R=>x(R,"inner"),onDropRejected:R=>{console.log("   :",R)}});return{imageList:t,setImageList:n,coverImage:r,setCoverImage:s,handleImageChange:o,handleRemoveImage:l,openFileDialogForCover:p,openFileDialogForInner:m,coverDropzone:b,innerDropzone:S,handleDrop:x}}function Leaflet({type:t}){const{id:n}=useParams(),r=useNavigate(),{showConfirm:s}=useConfirm(),{showAlert:o}=useAlert(),[l,c]=reactExports$1.useState(null),[p,m]=reactExports$1.useState(""),[x,b]=reactExports$1.useState(!1),[S,R]=reactExports$1.useState(null),{imageList:k,setImageList:M,coverImage:j,setCoverImage:G,coverDropzone:P,innerDropzone:Q,openFileDialogForCover:H,openFileDialogForInner:X,handleRemoveImage:ee}=useLeaflet();reactExports$1.useEffect(()=>{(async()=>{var me;try{b(!0);const we=t==="galleries"?"galleryCategory":"exhibitionCategory",Ee=await userInstance.get("/api/leaflet",{params:{category:we,category_id:n}});let he=null;if(Array.isArray(Ee.data)?Ee.data.length>0&&(he=Ee.data[0]):he=Ee.data,he&&(R(he),c(he.id),m(he.title||""),he.image_urls&&he.image_urls.length>0&&(he.image_urls[0]&&G({url:he.image_urls[0],file:null,isNew:!1}),he.image_urls.length>1))){const ae=he.image_urls.slice(1).map(ue=>({url:ue,file:null,isNew:!1}));M(ae)}}catch(we){console.error("  :",we),((me=we.response)==null?void 0:me.status)!==404&&o("   .","error")}finally{b(!1)}})()},[n,t,G,M]);const ne=()=>{if(!l){o("  !");return}r(`/view/leaflet/${t}/${n}`)},Y=async()=>{if(!(!l||!await s("   ?",!0)))try{b(!0),await userInstance.delete(`/api/leaflet/${l}`),o(" ."),r(`/console/${t}/${n}`)}catch(me){console.error("  :",me),o("  .","error"),b(!1)}},re=async(ve,me)=>{try{const we=ve.includes("?")?`${ve}&t=${Date.now()}`:`${ve}?t=${Date.now()}`,Ee=await fetch(we,{mode:"cors"});if(!Ee.ok)throw new Error(`  : ${Ee.status}`);const he=await Ee.blob(),ae=he.type.split("/")[1]||"jpg",ue=`reupload_${Date.now()}_${me}.${ae}`;return new File([he],ue,{type:he.type})}catch(we){return console.error(`(${ve})   :`,we),null}},oe=async()=>{if(!p.trim()){o("  !");return}if(!j){o("  !");return}try{b(!0);const ve=t==="galleries"?"galleryCategory":"exhibitionCategory",me=[j,...k],we=me.some(se=>se.file);if(l&&S&&!we){console.log(" /  -> PATCH");const se=me.map(Ce=>Ce.url);await userInstance.patch(`/api/leaflet/${l}`,{title:p.trim(),category:ve,image_urls:se}),o("  !");return}console.log("   ->    ");const Ee=me.map(async(se,Ce)=>se.file?se.file:await re(se.url,Ce)),ae=(await Promise.all(Ee)).filter(se=>se!==null);if(ae.length!==me.length){console.error("   ."),o("    .      ."),b(!1);return}const ue=new FormData;ae.forEach(se=>{ue.append("image[]",se)}),ue.append("title",p.trim()),ue.append("category",ve),ue.append("categoryId",n);const te=await userInstance.post("/api/leaflet",ue,{headers:{"Content-Type":"multipart/form-data"}});if(te.data&&te.data.id){const se=te.data.id;if(l)try{console.log(` (${se})  .  (${l})  .`),await userInstance.delete(`/api/leaflet/${l}`)}catch(Ce){console.warn("    ():",Ce)}o("  .")}}catch{o("    .","error")}finally{b(!1)}},xe=!j&&k.length===0;return jsxRuntimeExports.jsxs("div",{className:styles$d.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.layoutTitle,children:[" ",jsxRuntimeExports.jsx("button",{className:styles$d.backButton,onClick:()=>{r(-1)},children:jsxRuntimeExports.jsx(FaChevronLeft,{})})]}),jsxRuntimeExports.jsxs("div",{className:styles$d.mainContentContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.formSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$d.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:p,onChange:ve=>m(ve.target.value),placeholder:" .",className:styles$d.textInput,disabled:x})]}),jsxRuntimeExports.jsxs("div",{className:styles$d.contentGrid,children:[jsxRuntimeExports.jsx("div",{className:styles$d.leftColumn,children:jsxRuntimeExports.jsx(Cover,{coverImage:j,setCoverImage:G,openFileDialogForCover:H,coverDropzone:P})}),jsxRuntimeExports.jsx("div",{className:styles$d.rightColumn,children:jsxRuntimeExports.jsx(Inner,{imageList:k,setImageList:M,handleRemoveImage:ee,openFileDialogForInner:X,innerDropzone:Q})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$d.actionFooter,children:jsxRuntimeExports.jsxs("div",{className:styles$d.buttonGroup,children:[jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.previewBtn}`,onClick:ne,disabled:xe,children:""}),l?jsxRuntimeExports.jsxs("div",{className:styles$d.editModeButtons,children:[jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.submitBtn}`,onClick:oe,disabled:xe||x,children:x?" ...":" "}),jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.deleteBtn}`,onClick:Y,disabled:x,children:""})]}):jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.submitBtn}`,onClick:oe,disabled:xe||x,children:x?" ...":" "})]})})]})]})}const layout$3="_layout_11fk5_3",list="_list_11fk5_49",notificationItem$1="_notificationItem_11fk5_65",iconArea="_iconArea_11fk5_97",icon="_icon_11fk5_97",contentArea$1="_contentArea_11fk5_131",headerRow="_headerRow_11fk5_141",notiTitle="_notiTitle_11fk5_155",timestamp$1="_timestamp_11fk5_169",notiBody="_notiBody_11fk5_185",tabContainer="_tabContainer_11fk5_223",tabButton="_tabButton_11fk5_237",activeTab="_activeTab_11fk5_265",styles$a={layout:layout$3,list,notificationItem:notificationItem$1,iconArea,icon,contentArea:contentArea$1,headerRow,notiTitle,timestamp:timestamp$1,notiBody,tabContainer,tabButton,activeTab},parseTimestamp=t=>t?new Date(t.replace(" ","T")+"+09:00"):new Date,formatTimestamp$1=t=>{const n=parseTimestamp(t),s=new Date-n,o=Math.floor(s/(1e3*60)),l=Math.floor(s/(1e3*60*60)),c=Math.floor(s/(1e3*60*60*24));return o<1?" ":o<60?`${o} `:l<24?`${l} `:c<7?`${c} `:n.toLocaleDateString("ko-KR")},Icon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:22,className:styles$a.icon});function ConsoleNotification(){const[t,n]=reactExports$1.useState("sent"),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),m=reactExports$1.useCallback(async()=>{var x;try{l(!0),p(null);const b=localStorage.getItem("ACCESS_TOKEN"),S=t==="sent"?"/api/notification/console":"/api/notification/user",R=await userInstance.get(S,{headers:{Authorization:`Bearer ${b}`}}),j=(Array.isArray((x=R.data)==null?void 0:x.data)?R.data.data:[]).map(G=>({id:G.notification_id||G.id,title:G.title,body:G.body||G.content,create_dtm:G.create_dtm})).sort((G,P)=>new Date(P.create_dtm).getTime()-new Date(G.create_dtm).getTime());s(j)}catch(b){console.error(b),p("    .")}finally{l(!1)}},[t]);return reactExports$1.useEffect(()=>{m()},[m]),reactExports$1.useEffect(()=>{const x=()=>{console.log(" NEW_NOTIFICATION      "),m()};return window.addEventListener("NEW_NOTIFICATION",x),()=>window.removeEventListener("NEW_NOTIFICATION",x)},[m]),o?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:" ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:c}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:jsxRuntimeExports.jsx("h2",{children:"   ."})}):jsxRuntimeExports.jsxs("div",{className:styles$a.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.tabContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${t==="sent"?styles$a.activeTab:""}`,onClick:()=>n("sent"),children:" "}),jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${t==="received"?styles$a.activeTab:""}`,onClick:()=>n("received"),children:" "})]}),o?jsxRuntimeExports.jsx("div",{className:styles$a.loading,children:" ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$a.error,children:c}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.empty,children:" ."}):jsxRuntimeExports.jsx("div",{className:styles$a.list,children:r.map((x,b)=>jsxRuntimeExports.jsxs("div",{className:styles$a.notificationItem,children:[jsxRuntimeExports.jsx("div",{className:styles$a.iconArea,children:jsxRuntimeExports.jsx(Icon,{})}),jsxRuntimeExports.jsxs("div",{className:styles$a.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$a.notiTitle,children:x.title}),jsxRuntimeExports.jsx("span",{className:styles$a.timestamp,children:formatTimestamp$1(x.create_dtm)})]}),jsxRuntimeExports.jsx("p",{className:styles$a.notiBody,children:x.body})]})]},`${x.id}-${b}`))})]})}const container$1="_container_1ktes_3",image="_image_1ktes_27",info="_info_1ktes_41",productName="_productName_1ktes_49",artist="_artist_1ktes_59",guide="_guide_1ktes_71",textArea="_textArea_1ktes_87",checkboxBlock="_checkboxBlock_1ktes_113",checkboxLabel="_checkboxLabel_1ktes_163",checkbox$1="_checkbox_1ktes_113",checkboxText="_checkboxText_1ktes_191",expandedContent="_expandedContent_1ktes_203",expandedActive="_expandedActive_1ktes_225",expandedTitle="_expandedTitle_1ktes_251",expandedList="_expandedList_1ktes_265",fileInputArea="_fileInputArea_1ktes_289",fileInputLabel="_fileInputLabel_1ktes_305",fileInput="_fileInput_1ktes_289",fileName="_fileName_1ktes_331",buttonRow="_buttonRow_1ktes_341",containerExpanded="_containerExpanded_1ktes_357",saveBtn="_saveBtn_1ktes_391",cancelBtn$1="_cancelBtn_1ktes_393",styles$9={container:container$1,image,info,productName,artist,guide,textArea,checkboxBlock,checkboxLabel,checkbox:checkbox$1,checkboxText,expandedContent,expandedActive,expandedTitle,expandedList,fileInputArea,fileInputLabel,fileInput,fileName,buttonRow,containerExpanded,saveBtn,cancelBtn:cancelBtn$1};function DocentGenerator({autoGenerate:t=!1}){var re;const{id:n}=useParams(),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),[b,S]=reactExports$1.useState(""),[R,k]=reactExports$1.useState(!1),[M,j]=reactExports$1.useState(null),{showAlert:G}=useAlert(),P=useNavigate(),Q=(r==null?void 0:r.art_title)||"",H=(r==null?void 0:r.artist_name)||((re=r==null?void 0:r.artist)==null?void 0:re.artist_name)||"",X=(r==null?void 0:r.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",ee=async oe=>{var xe,ve,me;p(!0),S("");try{const we=await userInstance.get(`/api/arts/${oe}`),Ee=((xe=we.data)==null?void 0:xe.data)??we.data;if(!Ee){S("    ."),s(null),l("");return}s(Ee),l((Ee==null?void 0:Ee.art_docent)||"")}catch(we){S(((me=(ve=we.response)==null?void 0:ve.data)==null?void 0:me.message)||"     ."),s(null),l("")}finally{p(!1)}};reactExports$1.useEffect(()=>{n&&ee(n)},[n]);const ne=async()=>{if(!n)return G("  ID .");if(!o.trim())return G("  .");if(!r)return G("   .    .");try{x(!0);const oe=new FormData;oe.append("_method","PATCH"),r.art_title&&oe.append("art_title",r.art_title),r.art_description&&oe.append("art_description",r.art_description),r.artist_id&&oe.append("artist_id",r.artist_id),r.artist_name&&oe.append("artist_name",r.artist_name),r.art_material&&oe.append("art_material",r.art_material),r.art_size&&oe.append("art_size",r.art_size),r.art_year&&oe.append("art_year",r.art_year),r.art_price&&oe.append("art_price",r.art_price),oe.append("art_docent",o),r.art_image&&typeof r.art_image=="string"&&oe.append("art_image",r.art_image),r.art_images&&oe.append("art_images",r.art_images),r.art_image_mime&&oe.append("art_image_mime",r.art_image_mime),r.art_image_name&&oe.append("art_image_name",r.art_image_name),r.art_image_size&&oe.append("art_image_size",r.art_image_size);const xe=await userInstance.post(`/api/arts/${n}`,oe,{headers:{"Content-Type":void 0}}),ve=new FormData;ve.append("docent_script",o),ve.append("art_name",Q),M&&ve.append("docent_img",M),userInstance.post(`/api/docents/${n}?type=${R?"video":"audio"}`,ve),G(" ."),await ee(n),P(`/console/artworks/${n}`)}catch(oe){G("    ."),console.error(oe)}finally{x(!1)}},Y=()=>{confirm("     . ?")&&(l((r==null?void 0:r.art_docent)||""),P(`/console/artworks/${n}`))};return n?jsxRuntimeExports.jsx("div",{className:`${styles$9.container} ${R?styles$9.containerExpanded:""}`,children:c?jsxRuntimeExports.jsx("div",{className:styles$9.guide,children:"   ..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:X,alt:Q,className:styles$9.image}),jsxRuntimeExports.jsxs("div",{className:styles$9.info,children:[jsxRuntimeExports.jsx("div",{className:styles$9.productName,children:Q}),jsxRuntimeExports.jsx("div",{className:styles$9.artist,children:H})]}),b&&jsxRuntimeExports.jsx("div",{className:styles$9.guide,style:{color:"#ef4444"},children:b}),jsxRuntimeExports.jsx("p",{className:styles$9.guide,children:"    ."}),jsxRuntimeExports.jsx("textarea",{className:styles$9.textArea,value:o,onChange:oe=>l(oe.target.value),placeholder:"  .",disabled:c}),jsxRuntimeExports.jsxs("div",{className:styles$9.checkboxBlock,children:[jsxRuntimeExports.jsxs("label",{className:styles$9.checkboxLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R,onChange:oe=>k(oe.target.checked),className:styles$9.checkbox}),jsxRuntimeExports.jsx("span",{className:styles$9.checkboxText,children:"  ."})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$9.expandedContent} ${R?styles$9.expandedActive:""}`,children:[jsxRuntimeExports.jsx("p",{className:styles$9.expandedTitle,children:"  "}),jsxRuntimeExports.jsxs("ul",{className:styles$9.expandedList,children:[jsxRuntimeExports.jsx("li",{children:"  ,          ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"========================================"}),jsxRuntimeExports.jsx("li",{children:"     .       ."})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileInputArea,children:[jsxRuntimeExports.jsxs("label",{className:styles$9.fileInputLabel,children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:oe=>j(oe.target.files&&oe.target.files[0]?oe.target.files[0]:null),className:styles$9.fileInput}),jsxRuntimeExports.jsx("span",{className:styles$9.checkboxText})]}),M&&jsxRuntimeExports.jsx("div",{className:styles$9.fileName,children:M.name})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.buttonRow,children:[jsxRuntimeExports.jsx("button",{className:styles$9.saveBtn,onClick:ne,disabled:m||!!b||c,children:m?" ...":""}),jsxRuntimeExports.jsx("button",{className:styles$9.cancelBtn,onClick:Y,disabled:m||c,children:""})]})]})}):jsxRuntimeExports.jsx("div",{className:styles$9.container,children:"  ID ."})}function NotFound(){return null}const layout$2="_layout_17e18_1",header$4="_header_17e18_15",title$3="_title_17e18_41",backButton$2="_backButton_17e18_51",formContainer="_formContainer_17e18_69",bottomButtonContainer="_bottomButtonContainer_17e18_83",button="_button_17e18_105",cancelButton="_cancelButton_17e18_125",saveButton="_saveButton_17e18_135",styles$8={layout:layout$2,header:header$4,title:title$3,backButton:backButton$2,formContainer,bottomButtonContainer,button,cancelButton,saveButton},useEditData=(t,n,r,s)=>{const[o,l]=reactExports$1.useState(null),[c,p]=reactExports$1.useState(!0),[m]=useSearchParams(),x=useNavigate(),{showAlert:b}=useAlert();return reactExports$1.useEffect(()=>{s&&(async()=>{p(!0);try{let R={},k=null;if(r){const M=m.get("exhibition_id"),j=m.get("gallery_id");M&&(R.exhibition_id=M),j&&(R.gallery_id=j),k=j}else{const M=await userInstance.get(s.apiUrl(n));R=typeof M.data=="string"?JSON.parse(M.data):M.data,k=R.gallery_id}if(t==="exhibitions"&&!r&&(R._originalArtworks=[...R.artworks||[]],R._originalArtists=[...R.artists||[]]),t==="artworks"&&k)try{const M=await userInstance.get(`/api/exhibitions?gallery_id=${k}`);R.exhibitions=Array.isArray(M.data)?M.data:[],!r&&R.exhibitions_connected&&(R.selected_exhibition_ids=R.exhibitions_connected.map(j=>j.id))}catch(M){console.error("   :",M),R.exhibitions=[]}l(R)}catch(R){console.error("  :",R),b("  ."),x(`/console/${t}`)}finally{p(!1)}})()},[t,n,r,s,m,x]),{data:o,setData:l,isLoading:c}},getId=t=>t.id||t.artist_id,useEditSave=(t,n,r,s,o,l)=>{const[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(null),{showAlert:b}=useAlert(),[S]=useSearchParams(),R=()=>{if(t==="artworks"){if(!o.art_title)return" .";if(!o.artist_id)return" .";if(r&&!m)return"  ."}if(t==="galleries"&&!o.gallery_name)return" .";if(t==="exhibitions"){if(r&&!o.gallery_id)return"  .";if(!o.exhibition_title)return" ."}return null},k=()=>{var Q;const P=new FormData;if(r||P.append("_method","PATCH"),Object.entries(o).forEach(([H,X])=>{if(X!=null&&!["artists","artworks","_originalArtworks","_originalArtists"].includes(H)){if(H==="gallery_sns"&&Array.isArray(X)){const ee=X.filter(ne=>ne.type!=="twitter");P.append(H,JSON.stringify(ee));return}typeof X=="object"&&!(X instanceof File)?P.append(H,JSON.stringify(X)):P.append(H,X)}}),!P.has("gallery_id")){const H=o.gallery_id||((Q=o.gallery)==null?void 0:Q.id);H&&P.append("gallery_id",H)}return m&&P.append(s.formImageField,m),P},M=async P=>{const Q=o.artworks||[],H=o._originalArtworks||[],X=Q.filter(Ee=>!H.some(he=>getId(he)===getId(Ee))),ee=H.filter(Ee=>!Q.some(he=>getId(he)===getId(Ee))),ne=[...X.map(Ee=>userInstance.post(`/api/exhibitions/${P}/arts`,{art_id:getId(Ee),display_order:0})),...ee.map(Ee=>userInstance.delete(`/api/exhibitions/${P}/arts/${getId(Ee)}`))],Y=o.artists||[],re=o._originalArtists||[],oe=Y.filter(Ee=>!re.some(he=>getId(he)===getId(Ee))),xe=re.filter(Ee=>!Y.some(he=>getId(he)===getId(Ee))),ve=oe.map(Ee=>getId(Ee)).filter(Boolean),me=ve.length>0?userInstance.post(`/api/exhibitions/${P}/artists`,{artist_ids:ve}):Promise.resolve(),we=xe.map(Ee=>userInstance.delete(`/api/exhibitions/${P}/artists/${getId(Ee)}`));try{await Promise.all([...ne,me,...we]),console.log(` : (${X.length}/${ee.length}), (${oe.length}/${xe.length})`)}catch(Ee){console.error("   :",Ee),b("      .")}},j=async P=>{const Q=S.get("exhibition_id")||o.exhibition_id,H=o.selected_exhibition_ids||[],X=new Set([...H]);if(Q&&X.add(Number(Q)),console.log("   IDs:",Array.from(X)),X.size>0&&P){const ee=Array.from(X).map(ne=>userInstance.post(`/api/exhibitions/${ne}/arts`,{art_id:P,display_order:0}));await Promise.all(ee)}};return{handleSave:async()=>{var Q;if(c||!o)return;const P=R();if(P)return b(P);p(!0);try{const H=k(),X=await userInstance.post(s.apiUrl(n),H,{headers:{"Content-Type":"multipart/form-data"}}),ee=r?((Q=X.data.data)==null?void 0:Q.id)||X.data.id:n;t==="exhibitions"&&ee?await M(ee):t==="artworks"&&await j(ee),b(r?`${t==="galleries"?"":t==="exhibitions"?"":""} .`:"."),r?l("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):l(`/console/${t}/${n}`)}catch(H){console.error(" :",H),b("   .")}finally{p(!1)}},isSaving:c,setSelectedImageFile:x}},card="_card_hijaa_1",input="_input_hijaa_17",tagInputField="_tagInputField_hijaa_19",timeInput="_timeInput_hijaa_21",galleryNameInput="_galleryNameInput_hijaa_55",gallerySubNameInput="_gallerySubNameInput_hijaa_73",imageUploadBox="_imageUploadBox_hijaa_99",previewImage="_previewImage_hijaa_129",previewImageDesc="_previewImageDesc_hijaa_141",imageDelBtn="_imageDelBtn_hijaa_149",inputGroup="_inputGroup_hijaa_185",label="_label_hijaa_199",tagInputContainer="_tagInputContainer_hijaa_211",tagItem="_tagItem_hijaa_231",removeTagBtn="_removeTagBtn_hijaa_251",timeInputContainer="_timeInputContainer_hijaa_293",checkboxGroup="_checkboxGroup_hijaa_313",snsCard="_snsCard_hijaa_339",snsInputGroup="_snsInputGroup_hijaa_349",tiptap="_tiptap_hijaa_363",emptyContent="_emptyContent_hijaa_381",uploadButton="_uploadButton_hijaa_395",artistSelectRow="_artistSelectRow_hijaa_423",selectButton="_selectButton_hijaa_435",modalOverlay="_modalOverlay_hijaa_467",modalBox$2="_modalBox_hijaa_487",inputDocent="_inputDocent_hijaa_503",docent="_docent_hijaa_515",textarea="_textarea_hijaa_527",exhibitionListWrapper="_exhibitionListWrapper_hijaa_561",exhibitionItem="_exhibitionItem_hijaa_575",exhibitionTitle="_exhibitionTitle_hijaa_595",statusBadge="_statusBadge_hijaa_605",exhibited="_exhibited_hijaa_619",scheduled="_scheduled_hijaa_629",ended="_ended_hijaa_639",emptyText="_emptyText_hijaa_657",helperText="_helperText_hijaa_667",addHeaderContainer="_addHeaderContainer_hijaa_679",artworkSection="_artworkSection_hijaa_693",addBtn="_addBtn_hijaa_703",artworkGrid="_artworkGrid_hijaa_737",artworkCard="_artworkCard_hijaa_749",artworkThumb="_artworkThumb_hijaa_779",artworkMeta="_artworkMeta_hijaa_795",artworkTitle="_artworkTitle_hijaa_809",artworkArtist="_artworkArtist_hijaa_827",removeBtn="_removeBtn_hijaa_837",fullWidth="_fullWidth_hijaa_869",addArtistBtn="_addArtistBtn_hijaa_877",artistList="_artistList_hijaa_889",artistItem="_artistItem_hijaa_901",artistName="_artistName_hijaa_919",artistThumb="_artistThumb_hijaa_931",styles$7={card,input,tagInputField,timeInput,galleryNameInput,gallerySubNameInput,imageUploadBox,previewImage,previewImageDesc,imageDelBtn,inputGroup,label,tagInputContainer,tagItem,removeTagBtn,timeInputContainer,checkboxGroup,snsCard,snsInputGroup,tiptap,emptyContent,uploadButton,artistSelectRow,selectButton,modalOverlay,modalBox:modalBox$2,inputDocent,docent,textarea,exhibitionListWrapper,exhibitionItem,exhibitionTitle,statusBadge,exhibited,scheduled,ended,default:"_default_hijaa_647",emptyText,helperText,addHeaderContainer,artworkSection,addBtn,artworkGrid,artworkCard,artworkThumb,artworkMeta,artworkTitle,artworkArtist,removeBtn,fullWidth,addArtistBtn,artistList,artistItem,artistName,artistThumb};var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var t=requireReact$1();function n(S,R){return S===R&&(S!==0||1/S===1/R)||S!==S&&R!==R}var r=typeof Object.is=="function"?Object.is:n,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function p(S,R){var k=R(),M=s({inst:{value:k,getSnapshot:R}}),j=M[0].inst,G=M[1];return l(function(){j.value=k,j.getSnapshot=R,m(j)&&G({inst:j})},[S,k,R]),o(function(){return m(j)&&G({inst:j}),S(function(){m(j)&&G({inst:j})})},[S]),c(k),k}function m(S){var R=S.getSnapshot;S=S.value;try{var k=R();return!r(S,k)}catch{return!0}}function x(S,R){return R()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:p;return useSyncExternalStoreShim_production.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function OrderedMap(t){this.content=t}OrderedMap.prototype={constructor:OrderedMap,find:function(t){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===t)return n;return-1},get:function(t){var n=this.find(t);return n==-1?void 0:this.content[n+1]},update:function(t,n,r){var s=r&&r!=t?this.remove(r):this,o=s.find(t),l=s.content.slice();return o==-1?l.push(r||t,n):(l[o+1]=n,r&&(l[o]=r)),new OrderedMap(l)},remove:function(t){var n=this.find(t);if(n==-1)return this;var r=this.content.slice();return r.splice(n,2),new OrderedMap(r)},addToStart:function(t,n){return new OrderedMap([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new OrderedMap(r)},addBefore:function(t,n,r){var s=this.remove(n),o=s.content.slice(),l=s.find(t);return o.splice(l==-1?o.length:l,0,n,r),new OrderedMap(o)},forEach:function(t){for(var n=0;n<this.content.length;n+=2)t(this.content[n],this.content[n+1])},prepend:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=OrderedMap.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},toObject:function(){var t={};return this.forEach(function(n,r){t[n]=r}),t},get size(){return this.content.length>>1}};OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new OrderedMap(n)};function findDiffStart(t,n,r){for(let s=0;;s++){if(s==t.childCount||s==n.childCount)return t.childCount==n.childCount?null:r;let o=t.child(s),l=n.child(s);if(o==l){r+=o.nodeSize;continue}if(!o.sameMarkup(l))return r;if(o.isText&&o.text!=l.text){for(let c=0;o.text[c]==l.text[c];c++)r++;return r}if(o.content.size||l.content.size){let c=findDiffStart(o.content,l.content,r+1);if(c!=null)return c}r+=o.nodeSize}}function findDiffEnd(t,n,r,s){for(let o=t.childCount,l=n.childCount;;){if(o==0||l==0)return o==l?null:{a:r,b:s};let c=t.child(--o),p=n.child(--l),m=c.nodeSize;if(c==p){r-=m,s-=m;continue}if(!c.sameMarkup(p))return{a:r,b:s};if(c.isText&&c.text!=p.text){let x=0,b=Math.min(c.text.length,p.text.length);for(;x<b&&c.text[c.text.length-x-1]==p.text[p.text.length-x-1];)x++,r--,s--;return{a:r,b:s}}if(c.content.size||p.content.size){let x=findDiffEnd(c.content,p.content,r-1,s-1);if(x)return x}r-=m,s-=m}}class Fragment{constructor(n,r){if(this.content=n,this.size=r||0,r==null)for(let s=0;s<n.length;s++)this.size+=n[s].nodeSize}nodesBetween(n,r,s,o=0,l){for(let c=0,p=0;p<r;c++){let m=this.content[c],x=p+m.nodeSize;if(x>n&&s(m,o+p,l||null,c)!==!1&&m.content.size){let b=p+1;m.nodesBetween(Math.max(0,n-b),Math.min(m.content.size,r-b),s,o+b)}p=x}}descendants(n){this.nodesBetween(0,this.size,n)}textBetween(n,r,s,o){let l="",c=!0;return this.nodesBetween(n,r,(p,m)=>{let x=p.isText?p.text.slice(Math.max(n,m)-m,r-m):p.isLeaf?o?typeof o=="function"?o(p):o:p.type.spec.leafText?p.type.spec.leafText(p):"":"";p.isBlock&&(p.isLeaf&&x||p.isTextblock)&&s&&(c?c=!1:l+=s),l+=x},0),l}append(n){if(!n.size)return this;if(!this.size)return n;let r=this.lastChild,s=n.firstChild,o=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(s)&&(o[o.length-1]=r.withText(r.text+s.text),l=1);l<n.content.length;l++)o.push(n.content[l]);return new Fragment(o,this.size+n.size)}cut(n,r=this.size){if(n==0&&r==this.size)return this;let s=[],o=0;if(r>n)for(let l=0,c=0;c<r;l++){let p=this.content[l],m=c+p.nodeSize;m>n&&((c<n||m>r)&&(p.isText?p=p.cut(Math.max(0,n-c),Math.min(p.text.length,r-c)):p=p.cut(Math.max(0,n-c-1),Math.min(p.content.size,r-c-1))),s.push(p),o+=p.nodeSize),c=m}return new Fragment(s,o)}cutByIndex(n,r){return n==r?Fragment.empty:n==0&&r==this.content.length?this:new Fragment(this.content.slice(n,r))}replaceChild(n,r){let s=this.content[n];if(s==r)return this;let o=this.content.slice(),l=this.size+r.nodeSize-s.nodeSize;return o[n]=r,new Fragment(o,l)}addToStart(n){return new Fragment([n].concat(this.content),this.size+n.nodeSize)}addToEnd(n){return new Fragment(this.content.concat(n),this.size+n.nodeSize)}eq(n){if(this.content.length!=n.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(n.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(n){let r=this.content[n];if(!r)throw new RangeError("Index "+n+" out of range for "+this);return r}maybeChild(n){return this.content[n]||null}forEach(n){for(let r=0,s=0;r<this.content.length;r++){let o=this.content[r];n(o,s,r),s+=o.nodeSize}}findDiffStart(n,r=0){return findDiffStart(this,n,r)}findDiffEnd(n,r=this.size,s=n.size){return findDiffEnd(this,n,r,s)}findIndex(n){if(n==0)return retIndex(0,n);if(n==this.size)return retIndex(this.content.length,n);if(n>this.size||n<0)throw new RangeError(`Position ${n} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),l=s+o.nodeSize;if(l>=n)return l==n?retIndex(r+1,l):retIndex(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(n=>n.toJSON()):null}static fromJSON(n,r){if(!r)return Fragment.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(r.map(n.nodeFromJSON))}static fromArray(n){if(!n.length)return Fragment.empty;let r,s=0;for(let o=0;o<n.length;o++){let l=n[o];s+=l.nodeSize,o&&l.isText&&n[o-1].sameMarkup(l)?(r||(r=n.slice(0,o)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Fragment(r||n,s)}static from(n){if(!n)return Fragment.empty;if(n instanceof Fragment)return n;if(Array.isArray(n))return this.fromArray(n);if(n.attrs)return new Fragment([n],n.nodeSize);throw new RangeError("Can not convert "+n+" to a Fragment"+(n.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(t,n){return found.index=t,found.offset=n,found}function compareDeep(t,n){if(t===n)return!0;if(!(t&&typeof t=="object")||!(n&&typeof n=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(n)!=r)return!1;if(r){if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++)if(!compareDeep(t[s],n[s]))return!1}else{for(let s in t)if(!(s in n)||!compareDeep(t[s],n[s]))return!1;for(let s in n)if(!(s in t))return!1}return!0}let Mark$1=class MA{constructor(n,r){this.type=n,this.attrs=r}addToSet(n){let r,s=!1;for(let o=0;o<n.length;o++){let l=n[o];if(this.eq(l))return n;if(this.type.excludes(l.type))r||(r=n.slice(0,o));else{if(l.type.excludes(this.type))return n;!s&&l.type.rank>this.type.rank&&(r||(r=n.slice(0,o)),r.push(this),s=!0),r&&r.push(l)}}return r||(r=n.slice()),s||r.push(this),r}removeFromSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return n.slice(0,r).concat(n.slice(r+1));return n}isInSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return!0;return!1}eq(n){return this==n||this.type==n.type&&compareDeep(this.attrs,n.attrs)}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let s=n.marks[r.type];if(!s)throw new RangeError(`There is no mark type ${r.type} in this schema`);let o=s.create(r.attrs);return s.checkAttrs(o.attrs),o}static sameSet(n,r){if(n==r)return!0;if(n.length!=r.length)return!1;for(let s=0;s<n.length;s++)if(!n[s].eq(r[s]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&n.length==0)return MA.none;if(n instanceof MA)return[n];let r=n.slice();return r.sort((s,o)=>s.type.rank-o.type.rank),r}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(n,r,s){this.content=n,this.openStart=r,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(n,r){let s=insertInto(this.content,n+this.openStart,r);return s&&new Slice(s,this.openStart,this.openEnd)}removeBetween(n,r){return new Slice(removeRange(this.content,n+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(n){return this.content.eq(n.content)&&this.openStart==n.openStart&&this.openEnd==n.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let n={content:this.content.toJSON()};return this.openStart>0&&(n.openStart=this.openStart),this.openEnd>0&&(n.openEnd=this.openEnd),n}static fromJSON(n,r){if(!r)return Slice.empty;let s=r.openStart||0,o=r.openEnd||0;if(typeof s!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(n,r.content),s,o)}static maxOpen(n,r=!0){let s=0,o=0;for(let l=n.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=n.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)o++;return new Slice(n,s,o)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(t,n,r){let{index:s,offset:o}=t.findIndex(n),l=t.maybeChild(s),{index:c,offset:p}=t.findIndex(r);if(o==n||l.isText){if(p!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(s!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(s,l.copy(removeRange(l.content,n-o-1,r-o-1)))}function insertInto(t,n,r,s){let{index:o,offset:l}=t.findIndex(n),c=t.maybeChild(o);if(l==n||c.isText)return s&&!s.canReplace(o,o,r)?null:t.cut(0,n).append(r).append(t.cut(n));let p=insertInto(c.content,n-l-1,r,c);return p&&t.replaceChild(o,c.copy(p))}function replace(t,n,r){if(r.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-r.openStart!=n.depth-r.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,n,r,0)}function replaceOuter(t,n,r,s){let o=t.index(s),l=t.node(s);if(o==n.index(s)&&s<t.depth-r.openStart){let c=replaceOuter(t,n,r,s+1);return l.copy(l.content.replaceChild(o,c))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==s&&n.depth==s){let c=t.parent,p=c.content;return close(c,p.cut(0,t.parentOffset).append(r.content).append(p.cut(n.parentOffset)))}else{let{start:c,end:p}=prepareSliceForReplace(r,t);return close(l,replaceThreeWay(t,c,p,n,s))}else return close(l,replaceTwoWay(t,n,s))}function checkJoin(t,n){if(!n.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+n.type.name+" onto "+t.type.name)}function joinable$1(t,n,r){let s=t.node(r);return checkJoin(s,n.node(r)),s}function addNode(t,n){let r=n.length-1;r>=0&&t.isText&&t.sameMarkup(n[r])?n[r]=t.withText(n[r].text+t.text):n.push(t)}function addRange(t,n,r,s){let o=(n||t).node(r),l=0,c=n?n.index(r):o.childCount;t&&(l=t.index(r),t.depth>r?l++:t.textOffset&&(addNode(t.nodeAfter,s),l++));for(let p=l;p<c;p++)addNode(o.child(p),s);n&&n.depth==r&&n.textOffset&&addNode(n.nodeBefore,s)}function close(t,n){return t.type.checkContent(n),t.copy(n)}function replaceThreeWay(t,n,r,s,o){let l=t.depth>o&&joinable$1(t,n,o+1),c=s.depth>o&&joinable$1(r,s,o+1),p=[];return addRange(null,t,o,p),l&&c&&n.index(o)==r.index(o)?(checkJoin(l,c),addNode(close(l,replaceThreeWay(t,n,r,s,o+1)),p)):(l&&addNode(close(l,replaceTwoWay(t,n,o+1)),p),addRange(n,r,o,p),c&&addNode(close(c,replaceTwoWay(r,s,o+1)),p)),addRange(s,null,o,p),new Fragment(p)}function replaceTwoWay(t,n,r){let s=[];if(addRange(null,t,r,s),t.depth>r){let o=joinable$1(t,n,r+1);addNode(close(o,replaceTwoWay(t,n,r+1)),s)}return addRange(n,null,r,s),new Fragment(s)}function prepareSliceForReplace(t,n){let r=n.depth-t.openStart,o=n.node(r).copy(t.content);for(let l=r-1;l>=0;l--)o=n.node(l).copy(Fragment.from(o));return{start:o.resolveNoCache(t.openStart+r),end:o.resolveNoCache(o.content.size-t.openEnd-r)}}class ResolvedPos{constructor(n,r,s){this.pos=n,this.path=r,this.parentOffset=s,this.depth=r.length/3-1}resolveDepth(n){return n==null?this.depth:n<0?this.depth+n:n}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(n){return this.path[this.resolveDepth(n)*3]}index(n){return this.path[this.resolveDepth(n)*3+1]}indexAfter(n){return n=this.resolveDepth(n),this.index(n)+(n==this.depth&&!this.textOffset?0:1)}start(n){return n=this.resolveDepth(n),n==0?0:this.path[n*3-1]+1}end(n){return n=this.resolveDepth(n),this.start(n)+this.node(n).content.size}before(n){if(n=this.resolveDepth(n),!n)throw new RangeError("There is no position before the top-level node");return n==this.depth+1?this.pos:this.path[n*3-1]}after(n){if(n=this.resolveDepth(n),!n)throw new RangeError("There is no position after the top-level node");return n==this.depth+1?this.pos:this.path[n*3-1]+this.path[n*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let n=this.parent,r=this.index(this.depth);if(r==n.childCount)return null;let s=this.pos-this.path[this.path.length-1],o=n.child(r);return s?n.child(r).cut(s):o}get nodeBefore(){let n=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(n).cut(0,r):n==0?null:this.parent.child(n-1)}posAtIndex(n,r){r=this.resolveDepth(r);let s=this.path[r*3],o=r==0?0:this.path[r*3-1]+1;for(let l=0;l<n;l++)o+=s.child(l).nodeSize;return o}marks(){let n=this.parent,r=this.index();if(n.content.size==0)return Mark$1.none;if(this.textOffset)return n.child(r).marks;let s=n.maybeChild(r-1),o=n.maybeChild(r);if(!s){let p=s;s=o,o=p}let l=s.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!o||!l[c].isInSet(o.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(n){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let s=r.marks,o=n.parent.maybeChild(n.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!o||!s[l].isInSet(o.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(n){for(let r=this.depth;r>0;r--)if(this.start(r)<=n&&this.end(r)>=n)return r;return 0}blockRange(n=this,r){if(n.pos<this.pos)return n.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==n.pos?1:0);s>=0;s--)if(n.pos<=this.end(s)&&(!r||r(this.node(s))))return new NodeRange(this,n,s);return null}sameParent(n){return this.pos-this.parentOffset==n.pos-n.parentOffset}max(n){return n.pos>this.pos?n:this}min(n){return n.pos<this.pos?n:this}toString(){let n="";for(let r=1;r<=this.depth;r++)n+=(n?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return n+":"+this.parentOffset}static resolve(n,r){if(!(r>=0&&r<=n.content.size))throw new RangeError("Position "+r+" out of range");let s=[],o=0,l=r;for(let c=n;;){let{index:p,offset:m}=c.content.findIndex(l),x=l-m;if(s.push(c,p,o+m),!x||(c=c.child(p),c.isText))break;l=x-1,o+=m+1}return new ResolvedPos(r,s,l)}static resolveCached(n,r){let s=resolveCache.get(n);if(s)for(let l=0;l<s.elts.length;l++){let c=s.elts[l];if(c.pos==r)return c}else resolveCache.set(n,s=new ResolveCache);let o=s.elts[s.i]=ResolvedPos.resolve(n,r);return s.i=(s.i+1)%resolveCacheSize,o}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(n,r,s){this.$from=n,this.$to=r,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class OA{constructor(n,r,s,o=Mark$1.none){this.type=n,this.attrs=r,this.marks=o,this.content=s||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(n){return this.content.child(n)}maybeChild(n){return this.content.maybeChild(n)}forEach(n){this.content.forEach(n)}nodesBetween(n,r,s,o=0){this.content.nodesBetween(n,r,s,o,this)}descendants(n){this.nodesBetween(0,this.content.size,n)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(n,r,s,o){return this.content.textBetween(n,r,s,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(n){return this==n||this.sameMarkup(n)&&this.content.eq(n.content)}sameMarkup(n){return this.hasMarkup(n.type,n.attrs,n.marks)}hasMarkup(n,r,s){return this.type==n&&compareDeep(this.attrs,r||n.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,s||Mark$1.none)}copy(n=null){return n==this.content?this:new OA(this.type,this.attrs,n,this.marks)}mark(n){return n==this.marks?this:new OA(this.type,this.attrs,this.content,n)}cut(n,r=this.content.size){return n==0&&r==this.content.size?this:this.copy(this.content.cut(n,r))}slice(n,r=this.content.size,s=!1){if(n==r)return Slice.empty;let o=this.resolve(n),l=this.resolve(r),c=s?0:o.sharedDepth(r),p=o.start(c),x=o.node(c).content.cut(o.pos-p,l.pos-p);return new Slice(x,o.depth-c,l.depth-c)}replace(n,r,s){return replace(this.resolve(n),this.resolve(r),s)}nodeAt(n){for(let r=this;;){let{index:s,offset:o}=r.content.findIndex(n);if(r=r.maybeChild(s),!r)return null;if(o==n||r.isText)return r;n-=o+1}}childAfter(n){let{index:r,offset:s}=this.content.findIndex(n);return{node:this.content.maybeChild(r),index:r,offset:s}}childBefore(n){if(n==0)return{node:null,index:0,offset:0};let{index:r,offset:s}=this.content.findIndex(n);if(s<n)return{node:this.content.child(r),index:r,offset:s};let o=this.content.child(r-1);return{node:o,index:r-1,offset:s-o.nodeSize}}resolve(n){return ResolvedPos.resolveCached(this,n)}resolveNoCache(n){return ResolvedPos.resolve(this,n)}rangeHasMark(n,r,s){let o=!1;return r>n&&this.nodesBetween(n,r,l=>(s.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let n=this.type.name;return this.content.size&&(n+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,n)}contentMatchAt(n){let r=this.type.contentMatch.matchFragment(this.content,0,n);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(n,r,s=Fragment.empty,o=0,l=s.childCount){let c=this.contentMatchAt(n).matchFragment(s,o,l),p=c&&c.matchFragment(this.content,r);if(!p||!p.validEnd)return!1;for(let m=o;m<l;m++)if(!this.type.allowsMarks(s.child(m).marks))return!1;return!0}canReplaceWith(n,r,s,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(n).matchType(s),c=l&&l.matchFragment(this.content,r);return c?c.validEnd:!1}canAppend(n){return n.content.size?this.canReplace(this.childCount,this.childCount,n.content):this.type.compatibleContent(n.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let n=Mark$1.none;for(let r=0;r<this.marks.length;r++){let s=this.marks[r];s.type.checkAttrs(s.attrs),n=s.addToSet(n)}if(!Mark$1.sameSet(n,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return this.content.size&&(n.content=this.content.toJSON()),this.marks.length&&(n.marks=this.marks.map(r=>r.toJSON())),n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let s;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=r.marks.map(n.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return n.text(r.text,s)}let o=Fragment.fromJSON(n,r.content),l=n.nodeType(r.type).create(r.attrs,o,s);return l.type.checkAttrs(l.attrs),l}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(n,r,s,o){if(super(n,r,null,o),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(n,r){return this.text.slice(n,r)}get nodeSize(){return this.text.length}mark(n){return n==this.marks?this:new TextNode(this.type,this.attrs,this.text,n)}withText(n){return n==this.text?this:new TextNode(this.type,this.attrs,n,this.marks)}cut(n=0,r=this.text.length){return n==0&&r==this.text.length?this:this.withText(this.text.slice(n,r))}eq(n){return this.sameMarkup(n)&&this.text==n.text}toJSON(){let n=super.toJSON();return n.text=this.text,n}}function wrapMarks(t,n){for(let r=t.length-1;r>=0;r--)n=t[r].type.name+"("+n+")";return n}class ContentMatch{constructor(n){this.validEnd=n,this.next=[],this.wrapCache=[]}static parse(n,r){let s=new TokenStream(n,r);if(s.next==null)return ContentMatch.empty;let o=parseExpr(s);s.next&&s.err("Unexpected trailing text");let l=dfa(nfa(o));return checkForDeadEnds(l,s),l}matchType(n){for(let r=0;r<this.next.length;r++)if(this.next[r].type==n)return this.next[r].next;return null}matchFragment(n,r=0,s=n.childCount){let o=this;for(let l=r;o&&l<s;l++)o=o.matchType(n.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let n=0;n<this.next.length;n++){let{type:r}=this.next[n];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(n){for(let r=0;r<this.next.length;r++)for(let s=0;s<n.next.length;s++)if(this.next[r].type==n.next[s].type)return!0;return!1}fillBefore(n,r=!1,s=0){let o=[this];function l(c,p){let m=c.matchFragment(n,s);if(m&&(!r||m.validEnd))return Fragment.from(p.map(x=>x.createAndFill()));for(let x=0;x<c.next.length;x++){let{type:b,next:S}=c.next[x];if(!(b.isText||b.hasRequiredAttrs())&&o.indexOf(S)==-1){o.push(S);let R=l(S,p.concat(b));if(R)return R}}return null}return l(this,[])}findWrapping(n){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==n)return this.wrapCache[s+1];let r=this.computeWrapping(n);return this.wrapCache.push(n,r),r}computeWrapping(n){let r=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let o=s.shift(),l=o.match;if(l.matchType(n)){let c=[];for(let p=o;p.type;p=p.via)c.push(p.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:p,next:m}=l.next[c];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in r)&&(!o.type||m.validEnd)&&(s.push({match:p.contentMatch,type:p,via:o}),r[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(n){if(n>=this.next.length)throw new RangeError(`There's no ${n}th edge in this content match`);return this.next[n]}toString(){let n=[];function r(s){n.push(s);for(let o=0;o<s.next.length;o++)n.indexOf(s.next[o].next)==-1&&r(s.next[o].next)}return r(this),n.map((s,o)=>{let l=o+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)l+=(c?", ":"")+s.next[c].type.name+"->"+n.indexOf(s.next[c].next);return l}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(n,r){this.string=n,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=n.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(n){return this.next==n&&(this.pos++||!0)}err(n){throw new SyntaxError(n+" (in content expression '"+this.string+"')")}}function parseExpr(t){let n=[];do n.push(parseExprSeq(t));while(t.eat("|"));return n.length==1?n[0]:{type:"choice",exprs:n}}function parseExprSeq(t){let n=[];do n.push(parseExprSubscript(t));while(t.next&&t.next!=")"&&t.next!="|");return n.length==1?n[0]:{type:"seq",exprs:n}}function parseExprSubscript(t){let n=parseExprAtom(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=parseExprRange(t,n);else break;return n}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let n=Number(t.next);return t.pos++,n}function parseExprRange(t,n){let r=parseNum(t),s=r;return t.eat(",")&&(t.next!="}"?s=parseNum(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:s,expr:n}}function resolveName(t,n){let r=t.nodeTypes,s=r[n];if(s)return[s];let o=[];for(let l in r){let c=r[l];c.isInGroup(n)&&o.push(c)}return o.length==0&&t.err("No node type or group '"+n+"' found"),o}function parseExprAtom(t){if(t.eat("(")){let n=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),n}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let n=resolveName(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function nfa(t){let n=[[]];return o(l(t,0),r()),n;function r(){return n.push([])-1}function s(c,p,m){let x={term:m,to:p};return n[c].push(x),x}function o(c,p){c.forEach(m=>m.to=p)}function l(c,p){if(c.type=="choice")return c.exprs.reduce((m,x)=>m.concat(l(x,p)),[]);if(c.type=="seq")for(let m=0;;m++){let x=l(c.exprs[m],p);if(m==c.exprs.length-1)return x;o(x,p=r())}else if(c.type=="star"){let m=r();return s(p,m),o(l(c.expr,m),m),[s(m)]}else if(c.type=="plus"){let m=r();return o(l(c.expr,p),m),o(l(c.expr,m),m),[s(m)]}else{if(c.type=="opt")return[s(p)].concat(l(c.expr,p));if(c.type=="range"){let m=p;for(let x=0;x<c.min;x++){let b=r();o(l(c.expr,m),b),m=b}if(c.max==-1)o(l(c.expr,m),m);else for(let x=c.min;x<c.max;x++){let b=r();s(m,b),o(l(c.expr,m),b),m=b}return[s(m)]}else{if(c.type=="name")return[s(p,void 0,c.value)];throw new Error("Unknown expr type")}}}}function cmp(t,n){return n-t}function nullFrom(t,n){let r=[];return s(n),r.sort(cmp);function s(o){let l=t[o];if(l.length==1&&!l[0].term)return s(l[0].to);r.push(o);for(let c=0;c<l.length;c++){let{term:p,to:m}=l[c];!p&&r.indexOf(m)==-1&&s(m)}}}function dfa(t){let n=Object.create(null);return r(nullFrom(t,0));function r(s){let o=[];s.forEach(c=>{t[c].forEach(({term:p,to:m})=>{if(!p)return;let x;for(let b=0;b<o.length;b++)o[b][0]==p&&(x=o[b][1]);nullFrom(t,m).forEach(b=>{x||o.push([p,x=[]]),x.indexOf(b)==-1&&x.push(b)})})});let l=n[s.join(",")]=new ContentMatch(s.indexOf(t.length-1)>-1);for(let c=0;c<o.length;c++){let p=o[c][1].sort(cmp);l.next.push({type:o[c][0],next:n[p.join(",")]||r(p)})}return l}}function checkForDeadEnds(t,n){for(let r=0,s=[t];r<s.length;r++){let o=s[r],l=!o.validEnd,c=[];for(let p=0;p<o.next.length;p++){let{type:m,next:x}=o.next[p];c.push(m.name),l&&!(m.isText||m.hasRequiredAttrs())&&(l=!1),s.indexOf(x)==-1&&s.push(x)}l&&n.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(t){let n=Object.create(null);for(let r in t){let s=t[r];if(!s.hasDefault)return null;n[r]=s.default}return n}function computeAttrs(t,n){let r=Object.create(null);for(let s in t){let o=n&&n[s];if(o===void 0){let l=t[s];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+s)}r[s]=o}return r}function checkAttrs(t,n,r,s){for(let o in n)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${r} of type ${o}`);for(let o in t){let l=t[o];l.validate&&l.validate(n[o])}}function initAttrs(t,n){let r=Object.create(null);if(n)for(let s in n)r[s]=new Attribute(t,s,n[s]);return r}let NodeType$1=class $f{constructor(n,r,s){this.name=n,this.schema=r,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=initAttrs(n,s.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||n=="text"),this.isText=n=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(n){return this.groups.indexOf(n)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let n in this.attrs)if(this.attrs[n].isRequired)return!0;return!1}compatibleContent(n){return this==n||this.contentMatch.compatible(n.contentMatch)}computeAttrs(n){return!n&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,n)}create(n=null,r,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(n),Fragment.from(r),Mark$1.setFrom(s))}createChecked(n=null,r,s){return r=Fragment.from(r),this.checkContent(r),new Node$1(this,this.computeAttrs(n),r,Mark$1.setFrom(s))}createAndFill(n=null,r,s){if(n=this.computeAttrs(n),r=Fragment.from(r),r.size){let c=this.contentMatch.fillBefore(r);if(!c)return null;r=c.append(r)}let o=this.contentMatch.matchFragment(r),l=o&&o.fillBefore(Fragment.empty,!0);return l?new Node$1(this,n,r.append(l),Mark$1.setFrom(s)):null}validContent(n){let r=this.contentMatch.matchFragment(n);if(!r||!r.validEnd)return!1;for(let s=0;s<n.childCount;s++)if(!this.allowsMarks(n.child(s).marks))return!1;return!0}checkContent(n){if(!this.validContent(n))throw new RangeError(`Invalid content for node ${this.name}: ${n.toString().slice(0,50)}`)}checkAttrs(n){checkAttrs(this.attrs,n,"node",this.name)}allowsMarkType(n){return this.markSet==null||this.markSet.indexOf(n)>-1}allowsMarks(n){if(this.markSet==null)return!0;for(let r=0;r<n.length;r++)if(!this.allowsMarkType(n[r].type))return!1;return!0}allowedMarks(n){if(this.markSet==null)return n;let r;for(let s=0;s<n.length;s++)this.allowsMarkType(n[s].type)?r&&r.push(n[s]):r||(r=n.slice(0,s));return r?r.length?r:Mark$1.none:n}static compile(n,r){let s=Object.create(null);n.forEach((l,c)=>s[l]=new $f(l,r,c));let o=r.spec.topNode||"doc";if(!s[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function validateType(t,n,r){let s=r.split("|");return o=>{let l=o===null?"null":typeof o;if(s.indexOf(l)<0)throw new RangeError(`Expected value of type ${s} for attribute ${n} on type ${t}, got ${l}`)}}class Attribute{constructor(n,r,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?validateType(n,r,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(n,r,s,o){this.name=n,this.rank=r,this.schema=s,this.spec=o,this.attrs=initAttrs(n,o.attrs),this.excluded=null;let l=defaultAttrs(this.attrs);this.instance=l?new Mark$1(this,l):null}create(n=null){return!n&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,n))}static compile(n,r){let s=Object.create(null),o=0;return n.forEach((l,c)=>s[l]=new MarkType(l,o++,r,c)),s}removeFromSet(n){for(var r=0;r<n.length;r++)n[r].type==this&&(n=n.slice(0,r).concat(n.slice(r+1)),r--);return n}isInSet(n){for(let r=0;r<n.length;r++)if(n[r].type==this)return n[r]}checkAttrs(n){checkAttrs(this.attrs,n,"mark",this.name)}excludes(n){return this.excluded.indexOf(n)>-1}}class Schema{constructor(n){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let o in n)r[o]=n[o];r.nodes=OrderedMap.from(n.nodes),r.marks=OrderedMap.from(n.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let s=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],c=l.spec.content||"",p=l.spec.marks;if(l.contentMatch=s[c]||(s[c]=ContentMatch.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=p=="_"?null:p?gatherMarks(this,p.split(" ")):p==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:gatherMarks(this,c.split(" "))}this.nodeFromJSON=o=>Node$1.fromJSON(this,o),this.markFromJSON=o=>Mark$1.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(n,r=null,s,o){if(typeof n=="string")n=this.nodeType(n);else if(n instanceof NodeType$1){if(n.schema!=this)throw new RangeError("Node type from different schema used ("+n.name+")")}else throw new RangeError("Invalid node type: "+n);return n.createChecked(r,s,o)}text(n,r){let s=this.nodes.text;return new TextNode(s,s.defaultAttrs,n,Mark$1.setFrom(r))}mark(n,r){return typeof n=="string"&&(n=this.marks[n]),n.create(r)}nodeType(n){let r=this.nodes[n];if(!r)throw new RangeError("Unknown node type: "+n);return r}}function gatherMarks(t,n){let r=[];for(let s=0;s<n.length;s++){let o=n[s],l=t.marks[o],c=l;if(l)r.push(l);else for(let p in t.marks){let m=t.marks[p];(o=="_"||m.spec.group&&m.spec.group.split(" ").indexOf(o)>-1)&&r.push(c=m)}if(!c)throw new SyntaxError("Unknown mark type: '"+n[s]+"'")}return r}function isTagRule(t){return t.tag!=null}function isStyleRule(t){return t.style!=null}class DOMParser{constructor(n,r){this.schema=n,this.rules=r,this.tags=[],this.styles=[];let s=this.matchedStyles=[];r.forEach(o=>{if(isTagRule(o))this.tags.push(o);else if(isStyleRule(o)){let l=/[^=]*/.exec(o.style)[0];s.indexOf(l)<0&&s.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=n.nodes[o.node];return l.contentMatch.matchType(l)})}parse(n,r={}){let s=new ParseContext(this,r,!1);return s.addAll(n,Mark$1.none,r.from,r.to),s.finish()}parseSlice(n,r={}){let s=new ParseContext(this,r,!0);return s.addAll(n,Mark$1.none,r.from,r.to),Slice.maxOpen(s.finish())}matchTag(n,r,s){for(let o=s?this.tags.indexOf(s)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(matches(n,l.tag)&&(l.namespace===void 0||n.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(n);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(n,r,s,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let c=this.styles[l],p=c.style;if(!(p.indexOf(n)!=0||c.context&&!s.matchesContext(c.context)||p.length>n.length&&(p.charCodeAt(n.length)!=61||p.slice(n.length+1)!=r))){if(c.getAttrs){let m=c.getAttrs(r);if(m===!1)continue;c.attrs=m||void 0}return c}}}static schemaRules(n){let r=[];function s(o){let l=o.priority==null?50:o.priority,c=0;for(;c<r.length;c++){let p=r[c];if((p.priority==null?50:p.priority)<l)break}r.splice(c,0,o)}for(let o in n.marks){let l=n.marks[o].spec.parseDOM;l&&l.forEach(c=>{s(c=copy(c)),c.mark||c.ignore||c.clearMark||(c.mark=o)})}for(let o in n.nodes){let l=n.nodes[o].spec.parseDOM;l&&l.forEach(c=>{s(c=copy(c)),c.node||c.ignore||c.mark||(c.node=o)})}return r}static fromSchema(n){return n.cached.domParser||(n.cached.domParser=new DOMParser(n,DOMParser.schemaRules(n)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(t,n,r){return n!=null?(n?OPT_PRESERVE_WS:0)|(n==="full"?OPT_PRESERVE_WS_FULL:0):t&&t.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:r&~OPT_OPEN_LEFT}class NodeContext{constructor(n,r,s,o,l,c){this.type=n,this.attrs=r,this.marks=s,this.solid=o,this.options=c,this.content=[],this.activeMarks=Mark$1.none,this.match=l||(c&OPT_OPEN_LEFT?null:n.contentMatch)}findWrapping(n){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Fragment.from(n));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let s=this.type.contentMatch,o;return(o=s.findWrapping(n.type))?(this.match=s,o):null}}return this.match.findWrapping(n.type)}finish(n){if(!(this.options&OPT_PRESERVE_WS)){let s=this.content[this.content.length-1],o;if(s&&s.isText&&(o=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let r=Fragment.from(this.content);return!n&&this.match&&(r=r.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(n){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:n.parentNode&&!blockTags.hasOwnProperty(n.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(n,r,s){this.parser=n,this.options=r,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let o=r.topNode,l,c=wsOptionsFor(null,r.preserveWhitespace,0)|(s?OPT_OPEN_LEFT:0);o?l=new NodeContext(o.type,o.attrs,Mark$1.none,!0,r.topMatch||o.type.contentMatch,c):s?l=new NodeContext(null,null,Mark$1.none,!0,null,c):l=new NodeContext(n.schema.topNodeType,null,Mark$1.none,!0,null,c),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(n,r){n.nodeType==3?this.addTextNode(n,r):n.nodeType==1&&this.addElement(n,r)}addTextNode(n,r){let s=n.nodeValue,o=this.top,l=o.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(o.options&OPT_PRESERVE_WS)>0,{schema:c}=this.parser;if(l==="full"||o.inlineContext(n)||/[^ \t\r\n\u000c]/.test(s)){if(l)if(l==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let p=s.split(/\r?\n|\r/);for(let m=0;m<p.length;m++)m&&this.insertNode(c.linebreakReplacement.create(),r,!0),p[m]&&this.insertNode(c.text(p[m]),r,!/\S/.test(p[m]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let p=o.content[o.content.length-1],m=n.previousSibling;(!p||m&&m.nodeName=="BR"||p.isText&&/[ \t\r\n\u000c]$/.test(p.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),r,!/\S/.test(s)),this.findInText(n)}else this.findInside(n)}addElement(n,r,s){let o=this.localPreserveWS,l=this.top;(n.tagName=="PRE"||/pre/.test(n.style&&n.style.whiteSpace))&&(this.localPreserveWS=!0);let c=n.nodeName.toLowerCase(),p;listTags.hasOwnProperty(c)&&this.parser.normalizeLists&&normalizeList(n);let m=this.options.ruleFromNode&&this.options.ruleFromNode(n)||(p=this.parser.matchTag(n,this,s));e:if(m?m.ignore:ignoreTags.hasOwnProperty(c))this.findInside(n),this.ignoreFallback(n,r);else if(!m||m.skip||m.closeParent){m&&m.closeParent?this.open=Math.max(0,this.open-1):m&&m.skip.nodeType&&(n=m.skip);let x,b=this.needsBlock;if(blockTags.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),x=!0,l.type||(this.needsBlock=!0);else if(!n.firstChild){this.leafFallback(n,r);break e}let S=m&&m.skip?r:this.readStyles(n,r);S&&this.addAll(n,S),x&&this.sync(l),this.needsBlock=b}else{let x=this.readStyles(n,r);x&&this.addElementByRule(n,m,x,m.consuming===!1?p:void 0)}this.localPreserveWS=o}leafFallback(n,r){n.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(n.ownerDocument.createTextNode(`
`),r)}ignoreFallback(n,r){n.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(n,r){let s=n.style;if(s&&s.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],c=s.getPropertyValue(l);if(c)for(let p=void 0;;){let m=this.parser.matchStyle(l,c,this,p);if(!m)break;if(m.ignore)return null;if(m.clearMark?r=r.filter(x=>!m.clearMark(x)):r=r.concat(this.parser.schema.marks[m.mark].create(m.attrs)),m.consuming===!1)p=m;else break}}return r}addElementByRule(n,r,s,o){let l,c;if(r.node)if(c=this.parser.schema.nodes[r.node],c.isLeaf)this.insertNode(c.create(r.attrs),s,n.nodeName=="BR")||this.leafFallback(n,s);else{let m=this.enter(c,r.attrs||null,s,r.preserveWhitespace);m&&(l=!0,s=m)}else{let m=this.parser.schema.marks[r.mark];s=s.concat(m.create(r.attrs))}let p=this.top;if(c&&c.isLeaf)this.findInside(n);else if(o)this.addElement(n,s,o);else if(r.getContent)this.findInside(n),r.getContent(n,this.parser.schema).forEach(m=>this.insertNode(m,s,!1));else{let m=n;typeof r.contentElement=="string"?m=n.querySelector(r.contentElement):typeof r.contentElement=="function"?m=r.contentElement(n):r.contentElement&&(m=r.contentElement),this.findAround(n,m,!0),this.addAll(m,s),this.findAround(n,m,!1)}l&&this.sync(p)&&this.open--}addAll(n,r,s,o){let l=s||0;for(let c=s?n.childNodes[s]:n.firstChild,p=o==null?null:n.childNodes[o];c!=p;c=c.nextSibling,++l)this.findAtPoint(n,l),this.addDOM(c,r);this.findAtPoint(n,l)}findPlace(n,r,s){let o,l;for(let c=this.open,p=0;c>=0;c--){let m=this.nodes[c],x=m.findWrapping(n);if(x&&(!o||o.length>x.length+p)&&(o=x,l=m,!x.length))break;if(m.solid){if(s)break;p+=2}}if(!o)return null;this.sync(l);for(let c=0;c<o.length;c++)r=this.enterInner(o[c],null,r,!1);return r}insertNode(n,r,s){if(n.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let o=this.findPlace(n,r,s);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(n.type));let c=Mark$1.none;for(let p of o.concat(n.marks))(l.type?l.type.allowsMarkType(p.type):markMayApply(p.type,n.type))&&(c=p.addToSet(c));return l.content.push(n.mark(c)),!0}return!1}enter(n,r,s,o){let l=this.findPlace(n.create(r),s,!1);return l&&(l=this.enterInner(n,r,s,!0,o)),l}enterInner(n,r,s,o=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(n);let p=wsOptionsFor(n,l,c.options);c.options&OPT_OPEN_LEFT&&c.content.length==0&&(p|=OPT_OPEN_LEFT);let m=Mark$1.none;return s=s.filter(x=>(c.type?c.type.allowsMarkType(x.type):markMayApply(x.type,n))?(m=x.addToSet(m),!1):!0),this.nodes.push(new NodeContext(n,r,m,o,null,p)),this.open++,s}closeExtra(n=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(n));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(n){for(let r=this.open;r>=0;r--){if(this.nodes[r]==n)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let n=0;for(let r=this.open;r>=0;r--){let s=this.nodes[r].content;for(let o=s.length-1;o>=0;o--)n+=s[o].nodeSize;r&&n++}return n}findAtPoint(n,r){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==n&&this.find[s].offset==r&&(this.find[s].pos=this.currentPos)}findInside(n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&n.nodeType==1&&n.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(n,r,s){if(n!=r&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&n.nodeType==1&&n.contains(this.find[o].node)&&r.compareDocumentPosition(this.find[o].node)&(s?2:4)&&(this.find[o].pos=this.currentPos)}findInText(n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==n&&(this.find[r].pos=this.currentPos-(n.nodeValue.length-this.find[r].offset))}matchesContext(n){if(n.indexOf("|")>-1)return n.split(/\s*\|\s*/).some(this.matchesContext,this);let r=n.split("/"),s=this.options.context,o=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(o?0:1),c=(p,m)=>{for(;p>=0;p--){let x=r[p];if(x==""){if(p==r.length-1||p==0)continue;for(;m>=l;m--)if(c(p-1,m))return!0;return!1}else{let b=m>0||m==0&&o?this.nodes[m].type:s&&m>=l?s.node(m-l).type:null;if(!b||b.name!=x&&!b.isInGroup(x))return!1;m--}}return!0};return c(r.length-1,this.open)}textblockFromContext(){let n=this.options.context;if(n)for(let r=n.depth;r>=0;r--){let s=n.node(r).contentMatchAt(n.indexAfter(r)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let r in this.parser.schema.nodes){let s=this.parser.schema.nodes[r];if(s.isTextblock&&s.defaultAttrs)return s}}}function normalizeList(t){for(let n=t.firstChild,r=null;n;n=n.nextSibling){let s=n.nodeType==1?n.nodeName.toLowerCase():null;s&&listTags.hasOwnProperty(s)&&r?(r.appendChild(n),n=r):s=="li"?r=n:s&&(r=null)}}function matches(t,n){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,n)}function copy(t){let n={};for(let r in t)n[r]=t[r];return n}function markMayApply(t,n){let r=n.schema.nodes;for(let s in r){let o=r[s];if(!o.allowsMarkType(t))continue;let l=[],c=p=>{l.push(p);for(let m=0;m<p.edgeCount;m++){let{type:x,next:b}=p.edge(m);if(x==n||l.indexOf(b)<0&&c(b))return!0}};if(c(o.contentMatch))return!0}}class DOMSerializer{constructor(n,r){this.nodes=n,this.marks=r}serializeFragment(n,r={},s){s||(s=doc$1(r).createDocumentFragment());let o=s,l=[];return n.forEach(c=>{if(l.length||c.marks.length){let p=0,m=0;for(;p<l.length&&m<c.marks.length;){let x=c.marks[m];if(!this.marks[x.type.name]){m++;continue}if(!x.eq(l[p][0])||x.type.spec.spanning===!1)break;p++,m++}for(;p<l.length;)o=l.pop()[1];for(;m<c.marks.length;){let x=c.marks[m++],b=this.serializeMark(x,c.isInline,r);b&&(l.push([x,o]),o.appendChild(b.dom),o=b.contentDOM||b.dom)}}o.appendChild(this.serializeNodeInner(c,r))}),s}serializeNodeInner(n,r){let{dom:s,contentDOM:o}=renderSpec(doc$1(r),this.nodes[n.type.name](n),null,n.attrs);if(o){if(n.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(n.content,r,o)}return s}serializeNode(n,r={}){let s=this.serializeNodeInner(n,r);for(let o=n.marks.length-1;o>=0;o--){let l=this.serializeMark(n.marks[o],n.isInline,r);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(n,r,s={}){let o=this.marks[n.type.name];return o&&renderSpec(doc$1(s),o(n,r),null,n.attrs)}static renderSpec(n,r,s=null,o){return renderSpec(n,r,s,o)}static fromSchema(n){return n.cached.domSerializer||(n.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(n),this.marksFromSchema(n)))}static nodesFromSchema(n){let r=gatherToDOM(n.nodes);return r.text||(r.text=s=>s.text),r}static marksFromSchema(n){return gatherToDOM(n.marks)}}function gatherToDOM(t){let n={};for(let r in t){let s=t[r].spec.toDOM;s&&(n[r]=s)}return n}function doc$1(t){return t.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(t){let n=suspiciousAttributeCache.get(t);return n===void 0&&suspiciousAttributeCache.set(t,n=suspiciousAttributesInner(t)),n}function suspiciousAttributesInner(t){let n=null;function r(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")n||(n=[]),n.push(s);else for(let o=0;o<s.length;o++)r(s[o]);else for(let o in s)r(s[o])}return r(t),n}function renderSpec(t,n,r,s){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let o=n[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(l=suspiciousAttributes(s))&&l.indexOf(n)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=o.indexOf(" ");c>0&&(r=o.slice(0,c),o=o.slice(c+1));let p,m=r?t.createElementNS(r,o):t.createElement(o),x=n[1],b=1;if(x&&typeof x=="object"&&x.nodeType==null&&!Array.isArray(x)){b=2;for(let S in x)if(x[S]!=null){let R=S.indexOf(" ");R>0?m.setAttributeNS(S.slice(0,R),S.slice(R+1),x[S]):S=="style"&&m.style?m.style.cssText=x[S]:m.setAttribute(S,x[S])}}for(let S=b;S<n.length;S++){let R=n[S];if(R===0){if(S<n.length-1||S>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:m,contentDOM:m}}else{let{dom:k,contentDOM:M}=renderSpec(t,R,r,s);if(m.appendChild(k),M){if(p)throw new RangeError("Multiple content holes");p=M}}}return{dom:m,contentDOM:p}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(t,n){return t+n*factor16}function recoverIndex(t){return t&lower16}function recoverOffset(t){return(t-(t&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(n,r,s){this.pos=n,this.delInfo=r,this.recover=s}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(n,r=!1){if(this.ranges=n,this.inverted=r,!n.length&&StepMap.empty)return StepMap.empty}recover(n){let r=0,s=recoverIndex(n);if(!this.inverted)for(let o=0;o<s;o++)r+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[s*3]+r+recoverOffset(n)}mapResult(n,r=1){return this._map(n,r,!1)}map(n,r=1){return this._map(n,r,!0)}_map(n,r,s){let o=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?o:0);if(m>n)break;let x=this.ranges[p+l],b=this.ranges[p+c],S=m+x;if(n<=S){let R=x?n==m?-1:n==S?1:r:r,k=m+o+(R<0?0:b);if(s)return k;let M=n==(r<0?m:S)?null:makeRecover(p/3,n-m),j=n==m?DEL_AFTER:n==S?DEL_BEFORE:DEL_ACROSS;return(r<0?n!=m:n!=S)&&(j|=DEL_SIDE),new MapResult(k,j,M)}o+=b-x}return s?n+o:new MapResult(n+o,0,null)}touches(n,r){let s=0,o=recoverIndex(r),l=this.inverted?2:1,c=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?s:0);if(m>n)break;let x=this.ranges[p+l],b=m+x;if(n<=b&&p==o*3)return!0;s+=this.ranges[p+c]-x}return!1}forEach(n){let r=this.inverted?2:1,s=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let c=this.ranges[o],p=c-(this.inverted?l:0),m=c+(this.inverted?0:l),x=this.ranges[o+r],b=this.ranges[o+s];n(p,p+x,m,m+b),l+=b-x}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(n){return n==0?StepMap.empty:new StepMap(n<0?[0,-n,0]:[0,0,n])}}StepMap.empty=new StepMap([]);class Mapping{constructor(n,r,s=0,o=n?n.length:0){this.mirror=r,this.from=s,this.to=o,this._maps=n||[],this.ownData=!(n||r)}get maps(){return this._maps}slice(n=0,r=this.maps.length){return new Mapping(this._maps,this.mirror,n,r)}appendMap(n,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(n),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(n){for(let r=0,s=this._maps.length;r<n._maps.length;r++){let o=n.getMirror(r);this.appendMap(n._maps[r],o!=null&&o<r?s+o:void 0)}}getMirror(n){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==n)return this.mirror[r+(r%2?-1:1)]}}setMirror(n,r){this.mirror||(this.mirror=[]),this.mirror.push(n,r)}appendMappingInverted(n){for(let r=n.maps.length-1,s=this._maps.length+n._maps.length;r>=0;r--){let o=n.getMirror(r);this.appendMap(n._maps[r].invert(),o!=null&&o>r?s-o-1:void 0)}}invert(){let n=new Mapping;return n.appendMappingInverted(this),n}map(n,r=1){if(this.mirror)return this._map(n,r,!0);for(let s=this.from;s<this.to;s++)n=this._maps[s].map(n,r);return n}mapResult(n,r=1){return this._map(n,r,!1)}_map(n,r,s){let o=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],p=c.mapResult(n,r);if(p.recover!=null){let m=this.getMirror(l);if(m!=null&&m>l&&m<this.to){l=m,n=this._maps[m].recover(p.recover);continue}}o|=p.delInfo,n=p.pos}return s?n:new MapResult(n,o,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(n){return null}static fromJSON(n,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=stepsByID[r.stepType];if(!s)throw new RangeError(`No step type ${r.stepType} defined`);return s.fromJSON(n,r)}static jsonID(n,r){if(n in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+n);return stepsByID[n]=r,r.prototype.jsonID=n,r}}class StepResult{constructor(n,r){this.doc=n,this.failed=r}static ok(n){return new StepResult(n,null)}static fail(n){return new StepResult(null,n)}static fromReplace(n,r,s,o){try{return StepResult.ok(n.replace(r,s,o))}catch(l){if(l instanceof ReplaceError)return StepResult.fail(l.message);throw l}}}function mapFragment(t,n,r){let s=[];for(let o=0;o<t.childCount;o++){let l=t.child(o);l.content.size&&(l=l.copy(mapFragment(l.content,n,l))),l.isInline&&(l=n(l,r,o)),s.push(l)}return Fragment.fromArray(s)}class AddMarkStep extends Step{constructor(n,r,s){super(),this.from=n,this.to=r,this.mark=s}apply(n){let r=n.slice(this.from,this.to),s=n.resolve(this.from),o=s.node(s.sharedDepth(this.to)),l=new Slice(mapFragment(r.content,(c,p)=>!c.isAtom||!p.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),o),r.openStart,r.openEnd);return StepResult.fromReplace(n,this.from,this.to,l)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new AddMarkStep(r.pos,s.pos,this.mark)}merge(n){return n instanceof AddMarkStep&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new AddMarkStep(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(r.from,r.to,n.markFromJSON(r.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(n,r,s){super(),this.from=n,this.to=r,this.mark=s}apply(n){let r=n.slice(this.from,this.to),s=new Slice(mapFragment(r.content,o=>o.mark(this.mark.removeFromSet(o.marks)),n),r.openStart,r.openEnd);return StepResult.fromReplace(n,this.from,this.to,s)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new RemoveMarkStep(r.pos,s.pos,this.mark)}merge(n){return n instanceof RemoveMarkStep&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new RemoveMarkStep(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(r.from,r.to,n.markFromJSON(r.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(n,r){super(),this.pos=n,this.mark=r}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(s),0,r.isLeaf?0:1))}invert(n){let r=n.nodeAt(this.pos);if(r){let s=this.mark.addToSet(r.marks);if(s.length==r.marks.length){for(let o=0;o<r.marks.length;o++)if(!r.marks[o].isInSet(s))return new AddNodeMarkStep(this.pos,r.marks[o]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new AddNodeMarkStep(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(r.pos,n.markFromJSON(r.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(n,r){super(),this.pos=n,this.mark=r}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(s),0,r.isLeaf?0:1))}invert(n){let r=n.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new RemoveNodeMarkStep(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(r.pos,n.markFromJSON(r.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(n,r,s,o=!1){super(),this.from=n,this.to=r,this.slice=s,this.structure=o}apply(n){return this.structure&&contentBetween(n,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(n,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(n){return new ReplaceStep(this.from,this.from+this.slice.size,n.slice(this.from,this.to))}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deletedAcross&&s.deletedAcross?null:new ReplaceStep(r.pos,Math.max(r.pos,s.pos),this.slice,this.structure)}merge(n){if(!(n instanceof ReplaceStep)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){let r=this.slice.size+n.slice.size==0?Slice.empty:new Slice(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new ReplaceStep(this.from,this.to+(n.to-n.from),r,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){let r=this.slice.size+n.slice.size==0?Slice.empty:new Slice(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new ReplaceStep(n.from,this.to,r,this.structure)}else return null}toJSON(){let n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(r.from,r.to,Slice.fromJSON(n,r.slice),!!r.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(n,r,s,o,l,c,p=!1){super(),this.from=n,this.to=r,this.gapFrom=s,this.gapTo=o,this.slice=l,this.insert=c,this.structure=p}apply(n){if(this.structure&&(contentBetween(n,this.from,this.gapFrom)||contentBetween(n,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let r=n.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return StepResult.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,r.content);return s?StepResult.fromReplace(n,this.from,this.to,s):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(n){let r=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1),o=this.from==this.gapFrom?r.pos:n.map(this.gapFrom,-1),l=this.to==this.gapTo?s.pos:n.map(this.gapTo,1);return r.deletedAcross&&s.deletedAcross||o<r.pos||l>s.pos?null:new ReplaceAroundStep(r.pos,s.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(r.from,r.to,r.gapFrom,r.gapTo,Slice.fromJSON(n,r.slice),r.insert,!!r.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(t,n,r){let s=t.resolve(n),o=r-n,l=s.depth;for(;o>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,o--;if(o>0){let c=s.node(l).maybeChild(s.indexAfter(l));for(;o>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,o--}}return!1}function addMark(t,n,r,s){let o=[],l=[],c,p;t.doc.nodesBetween(n,r,(m,x,b)=>{if(!m.isInline)return;let S=m.marks;if(!s.isInSet(S)&&b.type.allowsMarkType(s.type)){let R=Math.max(x,n),k=Math.min(x+m.nodeSize,r),M=s.addToSet(S);for(let j=0;j<S.length;j++)S[j].isInSet(M)||(c&&c.to==R&&c.mark.eq(S[j])?c.to=k:o.push(c=new RemoveMarkStep(R,k,S[j])));p&&p.to==R?p.to=k:l.push(p=new AddMarkStep(R,k,s))}}),o.forEach(m=>t.step(m)),l.forEach(m=>t.step(m))}function removeMark(t,n,r,s){let o=[],l=0;t.doc.nodesBetween(n,r,(c,p)=>{if(!c.isInline)return;l++;let m=null;if(s instanceof MarkType){let x=c.marks,b;for(;b=s.isInSet(x);)(m||(m=[])).push(b),x=b.removeFromSet(x)}else s?s.isInSet(c.marks)&&(m=[s]):m=c.marks;if(m&&m.length){let x=Math.min(p+c.nodeSize,r);for(let b=0;b<m.length;b++){let S=m[b],R;for(let k=0;k<o.length;k++){let M=o[k];M.step==l-1&&S.eq(o[k].style)&&(R=M)}R?(R.to=x,R.step=l):o.push({style:S,from:Math.max(p,n),to:x,step:l})}}}),o.forEach(c=>t.step(new RemoveMarkStep(c.from,c.to,c.style)))}function clearIncompatible(t,n,r,s=r.contentMatch,o=!0){let l=t.doc.nodeAt(n),c=[],p=n+1;for(let m=0;m<l.childCount;m++){let x=l.child(m),b=p+x.nodeSize,S=s.matchType(x.type);if(!S)c.push(new ReplaceStep(p,b,Slice.empty));else{s=S;for(let R=0;R<x.marks.length;R++)r.allowsMarkType(x.marks[R].type)||t.step(new RemoveMarkStep(p,b,x.marks[R]));if(o&&x.isText&&r.whitespace!="pre"){let R,k=/\r?\n|\r/g,M;for(;R=k.exec(x.text);)M||(M=new Slice(Fragment.from(r.schema.text(" ",r.allowedMarks(x.marks))),0,0)),c.push(new ReplaceStep(p+R.index,p+R.index+R[0].length,M))}}p=b}if(!s.validEnd){let m=s.fillBefore(Fragment.empty,!0);t.replace(p,p,new Slice(m,0,0))}for(let m=c.length-1;m>=0;m--)t.step(c[m])}function canCut(t,n,r){return(n==0||t.canReplace(n,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function liftTarget(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,o=0,l=0;;--s){let c=t.$from.node(s),p=t.$from.index(s)+o,m=t.$to.indexAfter(s)-l;if(s<t.depth&&c.canReplace(p,m,r))return s;if(s==0||c.type.spec.isolating||!canCut(c,p,m))break;p&&(o=1),m<c.childCount&&(l=1)}return null}function lift$2(t,n,r){let{$from:s,$to:o,depth:l}=n,c=s.before(l+1),p=o.after(l+1),m=c,x=p,b=Fragment.empty,S=0;for(let M=l,j=!1;M>r;M--)j||s.index(M)>0?(j=!0,b=Fragment.from(s.node(M).copy(b)),S++):m--;let R=Fragment.empty,k=0;for(let M=l,j=!1;M>r;M--)j||o.after(M+1)<o.end(M)?(j=!0,R=Fragment.from(o.node(M).copy(R)),k++):x++;t.step(new ReplaceAroundStep(m,x,c,p,new Slice(b.append(R),S,k),b.size-S,!0))}function findWrapping(t,n,r=null,s=t){let o=findWrappingOutside(t,n),l=o&&findWrappingInside(s,n);return l?o.map(withAttrs).concat({type:n,attrs:r}).concat(l.map(withAttrs)):null}function withAttrs(t){return{type:t,attrs:null}}function findWrappingOutside(t,n){let{parent:r,startIndex:s,endIndex:o}=t,l=r.contentMatchAt(s).findWrapping(n);if(!l)return null;let c=l.length?l[0]:n;return r.canReplaceWith(s,o,c)?l:null}function findWrappingInside(t,n){let{parent:r,startIndex:s,endIndex:o}=t,l=r.child(s),c=n.contentMatch.findWrapping(l.type);if(!c)return null;let m=(c.length?c[c.length-1]:n).contentMatch;for(let x=s;m&&x<o;x++)m=m.matchType(r.child(x).type);return!m||!m.validEnd?null:c}function wrap(t,n,r){let s=Fragment.empty;for(let c=r.length-1;c>=0;c--){if(s.size){let p=r[c].type.contentMatch.matchFragment(s);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Fragment.from(r[c].type.create(r[c].attrs,s))}let o=n.start,l=n.end;t.step(new ReplaceAroundStep(o,l,o,l,new Slice(s,0,0),r.length,!0))}function setBlockType$1(t,n,r,s,o){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(n,r,(c,p)=>{let m=typeof o=="function"?o(c):o;if(c.isTextblock&&!c.hasMarkup(s,m)&&canChangeType(t.doc,t.mapping.slice(l).map(p),s)){let x=null;if(s.schema.linebreakReplacement){let k=s.whitespace=="pre",M=!!s.contentMatch.matchType(s.schema.linebreakReplacement);k&&!M?x=!1:!k&&M&&(x=!0)}x===!1&&replaceLinebreaks(t,c,p,l),clearIncompatible(t,t.mapping.slice(l).map(p,1),s,void 0,x===null);let b=t.mapping.slice(l),S=b.map(p,1),R=b.map(p+c.nodeSize,1);return t.step(new ReplaceAroundStep(S,R,S+1,R-1,new Slice(Fragment.from(s.create(m,null,c.marks)),0,0),1,!0)),x===!0&&replaceNewlines(t,c,p,l),!1}})}function replaceNewlines(t,n,r,s){n.forEach((o,l)=>{if(o.isText){let c,p=/\r?\n|\r/g;for(;c=p.exec(o.text);){let m=t.mapping.slice(s).map(r+1+l+c.index);t.replaceWith(m,m+1,n.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(t,n,r,s){n.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let c=t.mapping.slice(s).map(r+1+l);t.replaceWith(c,c+1,n.type.schema.text(`
`))}})}function canChangeType(t,n,r){let s=t.resolve(n),o=s.index();return s.parent.canReplaceWith(o,o+1,r)}function setNodeMarkup(t,n,r,s,o){let l=t.doc.nodeAt(n);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let c=r.create(s,null,o||l.marks);if(l.isLeaf)return t.replaceWith(n,n+l.nodeSize,c);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ReplaceAroundStep(n,n+l.nodeSize,n+1,n+l.nodeSize-1,new Slice(Fragment.from(c),0,0),1,!0))}function canSplit(t,n,r=1,s){let o=t.resolve(n),l=o.depth-r,c=s&&s[s.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!c.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let x=o.depth-1,b=r-2;x>l;x--,b--){let S=o.node(x),R=o.index(x);if(S.type.spec.isolating)return!1;let k=S.content.cutByIndex(R,S.childCount),M=s&&s[b+1];M&&(k=k.replaceChild(0,M.type.create(M.attrs)));let j=s&&s[b]||S;if(!S.canReplace(R+1,S.childCount)||!j.type.validContent(k))return!1}let p=o.indexAfter(l),m=s&&s[0];return o.node(l).canReplaceWith(p,p,m?m.type:o.node(l+1).type)}function split(t,n,r=1,s){let o=t.doc.resolve(n),l=Fragment.empty,c=Fragment.empty;for(let p=o.depth,m=o.depth-r,x=r-1;p>m;p--,x--){l=Fragment.from(o.node(p).copy(l));let b=s&&s[x];c=Fragment.from(b?b.type.create(b.attrs,c):o.node(p).copy(c))}t.step(new ReplaceStep(n,n,new Slice(l.append(c),r,r),!0))}function canJoin(t,n){let r=t.resolve(n),s=r.index();return joinable(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(s,s+1)}function canAppendWithSubstitutedLinebreaks(t,n){n.content.size||t.type.compatibleContent(n.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let o=0;o<n.childCount;o++){let l=n.child(o),c=l.type==s?t.type.schema.nodes.text:l.type;if(r=r.matchType(c),!r||!t.type.allowsMarks(l.marks))return!1}return r.validEnd}function joinable(t,n){return!!(t&&n&&!t.isLeaf&&canAppendWithSubstitutedLinebreaks(t,n))}function joinPoint(t,n,r=-1){let s=t.resolve(n);for(let o=s.depth;;o--){let l,c,p=s.index(o);if(o==s.depth?(l=s.nodeBefore,c=s.nodeAfter):r>0?(l=s.node(o+1),p++,c=s.node(o).maybeChild(p)):(l=s.node(o).maybeChild(p-1),c=s.node(o+1)),l&&!l.isTextblock&&joinable(l,c)&&s.node(o).canReplace(p,p+1))return n;if(o==0)break;n=r<0?s.before(o):s.after(o)}}function join(t,n,r){let s=null,{linebreakReplacement:o}=t.doc.type.schema,l=t.doc.resolve(n-r),c=l.node().type;if(o&&c.inlineContent){let b=c.whitespace=="pre",S=!!c.contentMatch.matchType(o);b&&!S?s=!1:!b&&S&&(s=!0)}let p=t.steps.length;if(s===!1){let b=t.doc.resolve(n+r);replaceLinebreaks(t,b.node(),b.before(),p)}c.inlineContent&&clearIncompatible(t,n+r-1,c,l.node().contentMatchAt(l.index()),s==null);let m=t.mapping.slice(p),x=m.map(n-r);if(t.step(new ReplaceStep(x,m.map(n+r,-1),Slice.empty,!0)),s===!0){let b=t.doc.resolve(x);replaceNewlines(t,b.node(),b.before(),t.steps.length)}return t}function insertPoint(t,n,r){let s=t.resolve(n);if(s.parent.canReplaceWith(s.index(),s.index(),r))return n;if(s.parentOffset==0)for(let o=s.depth-1;o>=0;o--){let l=s.index(o);if(s.node(o).canReplaceWith(l,l,r))return s.before(o+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let o=s.depth-1;o>=0;o--){let l=s.indexAfter(o);if(s.node(o).canReplaceWith(l,l,r))return s.after(o+1);if(l<s.node(o).childCount)return null}return null}function dropPoint(t,n,r){let s=t.resolve(n);if(!r.content.size)return n;let o=r.content;for(let l=0;l<r.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let c=s.depth;c>=0;c--){let p=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,m=s.index(c)+(p>0?1:0),x=s.node(c),b=!1;if(l==1)b=x.canReplace(m,m,o);else{let S=x.contentMatchAt(m).findWrapping(o.firstChild.type);b=S&&x.canReplaceWith(m,m,S[0])}if(b)return p==0?s.pos:p<0?s.before(c+1):s.after(c+1)}return null}function replaceStep(t,n,r=n,s=Slice.empty){if(n==r&&!s.size)return null;let o=t.resolve(n),l=t.resolve(r);return fitsTrivially(o,l,s)?new ReplaceStep(n,r,s):new Fitter(o,l,s).fit()}function fitsTrivially(t,n,r){return!r.openStart&&!r.openEnd&&t.start()==n.start()&&t.parent.canReplace(t.index(),n.index(),r.content)}class Fitter{constructor(n,r,s){this.$from=n,this.$to=r,this.unplaced=s,this.frontier=[],this.placed=Fragment.empty;for(let o=0;o<=n.depth;o++){let l=n.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(n.indexAfter(o))})}for(let o=n.depth;o>0;o--)this.placed=Fragment.from(n.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let x=this.findFittable();x?this.placeNodes(x):this.openMore()||this.dropNode()}let n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,s=this.$from,o=this.close(n<0?this.$to:s.doc.resolve(n));if(!o)return null;let l=this.placed,c=s.depth,p=o.depth;for(;c&&p&&l.childCount==1;)l=l.firstChild.content,c--,p--;let m=new Slice(l,c,p);return n>-1?new ReplaceAroundStep(s.pos,n,this.$to.pos,this.$to.end(),m,r):m.size||s.pos!=this.$to.pos?new ReplaceStep(s.pos,o.pos,m):null}findFittable(){let n=this.unplaced.openStart;for(let r=this.unplaced.content,s=0,o=this.unplaced.openEnd;s<n;s++){let l=r.firstChild;if(r.childCount>1&&(o=0),l.type.spec.isolating&&o<=s){n=s;break}r=l.content}for(let r=1;r<=2;r++)for(let s=r==1?n:this.unplaced.openStart;s>=0;s--){let o,l=null;s?(l=contentAt(this.unplaced.content,s-1).firstChild,o=l.content):o=this.unplaced.content;let c=o.firstChild;for(let p=this.depth;p>=0;p--){let{type:m,match:x}=this.frontier[p],b,S=null;if(r==1&&(c?x.matchType(c.type)||(S=x.fillBefore(Fragment.from(c),!1)):l&&m.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:p,parent:l,inject:S};if(r==2&&c&&(b=x.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:p,parent:l,wrap:b};if(l&&x.matchType(l.type))break}}}openMore(){let{content:n,openStart:r,openEnd:s}=this.unplaced,o=contentAt(n,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Slice(n,r+1,Math.max(s,o.size+r>=n.size-s?r+1:0)),!0)}dropNode(){let{content:n,openStart:r,openEnd:s}=this.unplaced,o=contentAt(n,r);if(o.childCount<=1&&r>0){let l=n.size-r<=r+o.size;this.unplaced=new Slice(dropFromFragment(n,r-1,1),r-1,l?r-1:s)}else this.unplaced=new Slice(dropFromFragment(n,r,1),r,s)}placeNodes({sliceDepth:n,frontierDepth:r,parent:s,inject:o,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let j=0;j<l.length;j++)this.openFrontierNode(l[j]);let c=this.unplaced,p=s?s.content:c.content,m=c.openStart-n,x=0,b=[],{match:S,type:R}=this.frontier[r];if(o){for(let j=0;j<o.childCount;j++)b.push(o.child(j));S=S.matchFragment(o)}let k=p.size+n-(c.content.size-c.openEnd);for(;x<p.childCount;){let j=p.child(x),G=S.matchType(j.type);if(!G)break;x++,(x>1||m==0||j.content.size)&&(S=G,b.push(closeNodeStart(j.mark(R.allowedMarks(j.marks)),x==1?m:0,x==p.childCount?k:-1)))}let M=x==p.childCount;M||(k=-1),this.placed=addToFragment(this.placed,r,Fragment.from(b)),this.frontier[r].match=S,M&&k<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,G=p;j<k;j++){let P=G.lastChild;this.frontier.push({type:P.type,match:P.contentMatchAt(P.childCount)}),G=P.content}this.unplaced=M?n==0?Slice.empty:new Slice(dropFromFragment(c.content,n-1,1),n-1,k<0?c.openEnd:n-1):new Slice(dropFromFragment(c.content,n,x),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let n=this.frontier[this.depth],r;if(!n.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,n.type,n.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:s}=this.$to,o=this.$to.after(s);for(;s>1&&o==this.$to.end(--s);)++o;return o}findCloseLevel(n){e:for(let r=Math.min(this.depth,n.depth);r>=0;r--){let{match:s,type:o}=this.frontier[r],l=r<n.depth&&n.end(r+1)==n.pos+(n.depth-(r+1)),c=contentAfterFits(n,r,o,s,l);if(c){for(let p=r-1;p>=0;p--){let{match:m,type:x}=this.frontier[p],b=contentAfterFits(n,p,x,m,!0);if(!b||b.childCount)continue e}return{depth:r,fit:c,move:l?n.doc.resolve(n.after(r+1)):n}}}}close(n){let r=this.findCloseLevel(n);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=addToFragment(this.placed,r.depth,r.fit)),n=r.move;for(let s=r.depth+1;s<=n.depth;s++){let o=n.node(s),l=o.type.contentMatch.fillBefore(o.content,!0,n.index(s));this.openFrontierNode(o.type,o.attrs,l)}return n}openFrontierNode(n,r=null,s){let o=this.frontier[this.depth];o.match=o.match.matchType(n),this.placed=addToFragment(this.placed,this.depth,Fragment.from(n.create(r,s))),this.frontier.push({type:n,match:n.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Fragment.empty,!0);r.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,r))}}function dropFromFragment(t,n,r){return n==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,n-1,r)))}function addToFragment(t,n,r){return n==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,n-1,r)))}function contentAt(t,n){for(let r=0;r<n;r++)t=t.firstChild.content;return t}function closeNodeStart(t,n,r){if(n<=0)return t;let s=t.content;return n>1&&(s=s.replaceChild(0,closeNodeStart(s.firstChild,n-1,s.childCount==1?r-1:0))),n>0&&(s=t.type.contentMatch.fillBefore(s).append(s),r<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(Fragment.empty,!0)))),t.copy(s)}function contentAfterFits(t,n,r,s,o){let l=t.node(n),c=o?t.indexAfter(n):t.index(n);if(c==l.childCount&&!r.compatibleContent(l.type))return null;let p=s.fillBefore(l.content,!0,c);return p&&!invalidMarks(r,l.content,c)?p:null}function invalidMarks(t,n,r){for(let s=r;s<n.childCount;s++)if(!t.allowsMarks(n.child(s).marks))return!0;return!1}function definesContent(t){return t.spec.defining||t.spec.definingForContent}function replaceRange(t,n,r,s){if(!s.size)return t.deleteRange(n,r);let o=t.doc.resolve(n),l=t.doc.resolve(r);if(fitsTrivially(o,l,s))return t.step(new ReplaceStep(n,r,s));let c=coveredDepths(o,l);c[c.length-1]==0&&c.pop();let p=-(o.depth+1);c.unshift(p);for(let R=o.depth,k=o.pos-1;R>0;R--,k--){let M=o.node(R).type.spec;if(M.defining||M.definingAsContext||M.isolating)break;c.indexOf(R)>-1?p=R:o.before(R)==k&&c.splice(1,0,-R)}let m=c.indexOf(p),x=[],b=s.openStart;for(let R=s.content,k=0;;k++){let M=R.firstChild;if(x.push(M),k==s.openStart)break;R=M.content}for(let R=b-1;R>=0;R--){let k=x[R],M=definesContent(k.type);if(M&&!k.sameMarkup(o.node(Math.abs(p)-1)))b=R;else if(M||!k.type.isTextblock)break}for(let R=s.openStart;R>=0;R--){let k=(R+b+1)%(s.openStart+1),M=x[k];if(M)for(let j=0;j<c.length;j++){let G=c[(j+m)%c.length],P=!0;G<0&&(P=!1,G=-G);let Q=o.node(G-1),H=o.index(G-1);if(Q.canReplaceWith(H,H,M.type,M.marks))return t.replace(o.before(G),P?l.after(G):r,new Slice(closeFragment(s.content,0,s.openStart,k),k,s.openEnd))}}let S=t.steps.length;for(let R=c.length-1;R>=0&&(t.replace(n,r,s),!(t.steps.length>S));R--){let k=c[R];k<0||(n=o.before(k),r=l.after(k))}}function closeFragment(t,n,r,s,o){if(n<r){let l=t.firstChild;t=t.replaceChild(0,l.copy(closeFragment(l.content,n+1,r,s,l)))}if(n>s){let l=o.contentMatchAt(0),c=l.fillBefore(t).append(t);t=c.append(l.matchFragment(c).fillBefore(Fragment.empty,!0))}return t}function replaceRangeWith(t,n,r,s){if(!s.isInline&&n==r&&t.doc.resolve(n).parent.content.size){let o=insertPoint(t.doc,n,s.type);o!=null&&(n=r=o)}t.replaceRange(n,r,new Slice(Fragment.from(s),0,0))}function deleteRange$1(t,n,r){let s=t.doc.resolve(n),o=t.doc.resolve(r),l=coveredDepths(s,o);for(let c=0;c<l.length;c++){let p=l[c],m=c==l.length-1;if(m&&p==0||s.node(p).type.contentMatch.validEnd)return t.delete(s.start(p),o.end(p));if(p>0&&(m||s.node(p-1).canReplace(s.index(p-1),o.indexAfter(p-1))))return t.delete(s.before(p),o.after(p))}for(let c=1;c<=s.depth&&c<=o.depth;c++)if(n-s.start(c)==s.depth-c&&r>s.end(c)&&o.end(c)-r!=o.depth-c&&s.start(c-1)==o.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),o.index(c-1)))return t.delete(s.before(c),r);t.delete(n,r)}function coveredDepths(t,n){let r=[],s=Math.min(t.depth,n.depth);for(let o=s;o>=0;o--){let l=t.start(o);if(l<t.pos-(t.depth-o)||n.end(o)>n.pos+(n.depth-o)||t.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(l==n.start(o)||o==t.depth&&o==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==l-1)&&r.push(o)}return r}class AttrStep extends Step{constructor(n,r,s){super(),this.pos=n,this.attr=r,this.value=s}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at attribute step's position");let s=Object.create(null);for(let l in r.attrs)s[l]=r.attrs[l];s[this.attr]=this.value;let o=r.type.create(s,null,r.marks);return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(o),0,r.isLeaf?0:1))}getMap(){return StepMap.empty}invert(n){return new AttrStep(this.pos,this.attr,n.nodeAt(this.pos).attrs[this.attr])}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new AttrStep(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(n,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(r.pos,r.attr,r.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(n,r){super(),this.attr=n,this.value=r}apply(n){let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,n.content,n.marks);return StepResult.ok(s)}getMap(){return StepMap.empty}invert(n){return new DocAttrStep(this.attr,n.attrs[this.attr])}map(n){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(n,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(r.attr,r.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function t(n){let r=Error.call(this,n);return r.__proto__=t.prototype,r};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(n){this.doc=n,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(n){let r=this.maybeStep(n);if(r.failed)throw new TransformError(r.failed);return this}maybeStep(n){let r=n.apply(this.doc);return r.failed||this.addStep(n,r.doc),r}get docChanged(){return this.steps.length>0}addStep(n,r){this.docs.push(this.doc),this.steps.push(n),this.mapping.appendMap(n.getMap()),this.doc=r}replace(n,r=n,s=Slice.empty){let o=replaceStep(this.doc,n,r,s);return o&&this.step(o),this}replaceWith(n,r,s){return this.replace(n,r,new Slice(Fragment.from(s),0,0))}delete(n,r){return this.replace(n,r,Slice.empty)}insert(n,r){return this.replaceWith(n,n,r)}replaceRange(n,r,s){return replaceRange(this,n,r,s),this}replaceRangeWith(n,r,s){return replaceRangeWith(this,n,r,s),this}deleteRange(n,r){return deleteRange$1(this,n,r),this}lift(n,r){return lift$2(this,n,r),this}join(n,r=1){return join(this,n,r),this}wrap(n,r){return wrap(this,n,r),this}setBlockType(n,r=n,s,o=null){return setBlockType$1(this,n,r,s,o),this}setNodeMarkup(n,r,s=null,o){return setNodeMarkup(this,n,r,s,o),this}setNodeAttribute(n,r,s){return this.step(new AttrStep(n,r,s)),this}setDocAttribute(n,r){return this.step(new DocAttrStep(n,r)),this}addNodeMark(n,r){return this.step(new AddNodeMarkStep(n,r)),this}removeNodeMark(n,r){let s=this.doc.nodeAt(n);if(!s)throw new RangeError("No node at position "+n);if(r instanceof Mark$1)r.isInSet(s.marks)&&this.step(new RemoveNodeMarkStep(n,r));else{let o=s.marks,l,c=[];for(;l=r.isInSet(o);)c.push(new RemoveNodeMarkStep(n,l)),o=l.removeFromSet(o);for(let p=c.length-1;p>=0;p--)this.step(c[p])}return this}split(n,r=1,s){return split(this,n,r,s),this}addMark(n,r,s){return addMark(this,n,r,s),this}removeMark(n,r,s){return removeMark(this,n,r,s),this}clearIncompatible(n,r,s){return clearIncompatible(this,n,r,s),this}}const classesById=Object.create(null);class Selection{constructor(n,r,s){this.$anchor=n,this.$head=r,this.ranges=s||[new SelectionRange(n.min(r),n.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let n=this.ranges;for(let r=0;r<n.length;r++)if(n[r].$from.pos!=n[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(n,r=Slice.empty){let s=r.content.lastChild,o=null;for(let p=0;p<r.openEnd;p++)o=s,s=s.lastChild;let l=n.steps.length,c=this.ranges;for(let p=0;p<c.length;p++){let{$from:m,$to:x}=c[p],b=n.mapping.slice(l);n.replaceRange(b.map(m.pos),b.map(x.pos),p?Slice.empty:r),p==0&&selectionToInsertionEnd$1(n,l,(s?s.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(n,r){let s=n.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:p}=o[l],m=n.mapping.slice(s),x=m.map(c.pos),b=m.map(p.pos);l?n.deleteRange(x,b):(n.replaceRangeWith(x,b,r),selectionToInsertionEnd$1(n,s,r.isInline?-1:1))}}static findFrom(n,r,s=!1){let o=n.parent.inlineContent?new TextSelection(n):findSelectionIn(n.node(0),n.parent,n.pos,n.index(),r,s);if(o)return o;for(let l=n.depth-1;l>=0;l--){let c=r<0?findSelectionIn(n.node(0),n.node(l),n.before(l+1),n.index(l),r,s):findSelectionIn(n.node(0),n.node(l),n.after(l+1),n.index(l)+1,r,s);if(c)return c}return null}static near(n,r=1){return this.findFrom(n,r)||this.findFrom(n,-r)||new AllSelection(n.node(0))}static atStart(n){return findSelectionIn(n,n,0,0,1)||new AllSelection(n)}static atEnd(n){return findSelectionIn(n,n,n.content.size,n.childCount,-1)||new AllSelection(n)}static fromJSON(n,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=classesById[r.type];if(!s)throw new RangeError(`No selection type ${r.type} defined`);return s.fromJSON(n,r)}static jsonID(n,r){if(n in classesById)throw new RangeError("Duplicate use of selection JSON ID "+n);return classesById[n]=r,r.prototype.jsonID=n,r}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(n,r){this.$from=n,this.$to=r}}let warnedAboutTextSelection=!1;function checkTextSelection(t){!warnedAboutTextSelection&&!t.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class TextSelection extends Selection{constructor(n,r=n){checkTextSelection(n),checkTextSelection(r),super(n,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(n,r){let s=n.resolve(r.map(this.head));if(!s.parent.inlineContent)return Selection.near(s);let o=n.resolve(r.map(this.anchor));return new TextSelection(o.parent.inlineContent?o:s,s)}replace(n,r=Slice.empty){if(super.replace(n,r),r==Slice.empty){let s=this.$from.marksAcross(this.$to);s&&n.ensureMarks(s)}}eq(n){return n instanceof TextSelection&&n.anchor==this.anchor&&n.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(n,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(n.resolve(r.anchor),n.resolve(r.head))}static create(n,r,s=r){let o=n.resolve(r);return new this(o,s==r?o:n.resolve(s))}static between(n,r,s){let o=n.pos-r.pos;if((!s||o)&&(s=o>=0?1:-1),!r.parent.inlineContent){let l=Selection.findFrom(r,s,!0)||Selection.findFrom(r,-s,!0);if(l)r=l.$head;else return Selection.near(r,s)}return n.parent.inlineContent||(o==0?n=r:(n=(Selection.findFrom(n,-s,!0)||Selection.findFrom(n,s,!0)).$anchor,n.pos<r.pos!=o<0&&(n=r))),new TextSelection(n,r)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(n,r){this.anchor=n,this.head=r}map(n){return new TextBookmark(n.map(this.anchor),n.map(this.head))}resolve(n){return TextSelection.between(n.resolve(this.anchor),n.resolve(this.head))}}class NodeSelection extends Selection{constructor(n){let r=n.nodeAfter,s=n.node(0).resolve(n.pos+r.nodeSize);super(n,s),this.node=r}map(n,r){let{deleted:s,pos:o}=r.mapResult(this.anchor),l=n.resolve(o);return s?Selection.near(l):new NodeSelection(l)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(n){return n instanceof NodeSelection&&n.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(n,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(n.resolve(r.anchor))}static create(n,r){return new NodeSelection(n.resolve(r))}static isSelectable(n){return!n.isText&&n.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(n){this.anchor=n}map(n){let{deleted:r,pos:s}=n.mapResult(this.anchor);return r?new TextBookmark(s,s):new NodeBookmark(s)}resolve(n){let r=n.resolve(this.anchor),s=r.nodeAfter;return s&&NodeSelection.isSelectable(s)?new NodeSelection(r):Selection.near(r)}}class AllSelection extends Selection{constructor(n){super(n.resolve(0),n.resolve(n.content.size))}replace(n,r=Slice.empty){if(r==Slice.empty){n.delete(0,n.doc.content.size);let s=Selection.atStart(n.doc);s.eq(n.selection)||n.setSelection(s)}else super.replace(n,r)}toJSON(){return{type:"all"}}static fromJSON(n){return new AllSelection(n)}map(n){return new AllSelection(n)}eq(n){return n instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(t){return new AllSelection(t)}};function findSelectionIn(t,n,r,s,o,l=!1){if(n.inlineContent)return TextSelection.create(t,r);for(let c=s-(o>0?0:1);o>0?c<n.childCount:c>=0;c+=o){let p=n.child(c);if(p.isAtom){if(!l&&NodeSelection.isSelectable(p))return NodeSelection.create(t,r-(o<0?p.nodeSize:0))}else{let m=findSelectionIn(t,p,r+o,o<0?p.childCount:0,o,l);if(m)return m}r+=p.nodeSize*o}return null}function selectionToInsertionEnd$1(t,n,r){let s=t.steps.length-1;if(s<n)return;let o=t.steps[s];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;let l=t.mapping.maps[s],c;l.forEach((p,m,x,b)=>{c==null&&(c=b)}),t.setSelection(Selection.near(t.doc.resolve(c),r))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(n){super(n.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=n.selection,this.storedMarks=n.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(n){if(n.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=n,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(n){return this.storedMarks=n,this.updated|=UPDATED_MARKS,this}ensureMarks(n){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),n)||this.setStoredMarks(n),this}addStoredMark(n){return this.ensureMarks(n.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(n){return this.ensureMarks(n.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(n,r){super.addStep(n,r),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(n){return this.time=n,this}replaceSelection(n){return this.selection.replace(this,n),this}replaceSelectionWith(n,r=!0){let s=this.selection;return r&&(n=n.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Mark$1.none))),s.replaceWith(this,n),this}deleteSelection(){return this.selection.replace(this),this}insertText(n,r,s){let o=this.doc.type.schema;if(r==null)return n?this.replaceSelectionWith(o.text(n),!0):this.deleteSelection();{if(s==null&&(s=r),!n)return this.deleteRange(r,s);let l=this.storedMarks;if(!l){let c=this.doc.resolve(r);l=s==r?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(r,s,o.text(n,l)),!this.selection.empty&&this.selection.to==r+n.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(n,r){return this.meta[typeof n=="string"?n:n.key]=r,this}getMeta(n){return this.meta[typeof n=="string"?n:n.key]}get isGeneric(){for(let n in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(t,n){return!n||!t?t:t.bind(n)}class FieldDesc{constructor(n,r,s){this.name=n,this.init=bind(r.init,s),this.apply=bind(r.apply,s)}}const baseFields=[new FieldDesc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new FieldDesc("selection",{init(t,n){return t.selection||Selection.atStart(n.doc)},apply(t){return t.selection}}),new FieldDesc("storedMarks",{init(t){return t.storedMarks||null},apply(t,n,r,s){return s.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(t,n){return t.scrolledIntoView?n+1:n}})];class Configuration{constructor(n,r){this.schema=n,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),r&&r.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new FieldDesc(s.key,s.spec.state,s))})}}class EditorState{constructor(n){this.config=n}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(n){return this.applyTransaction(n).state}filterTransaction(n,r=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=r){let o=this.config.plugins[s];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,n,this))return!1}return!0}applyTransaction(n){if(!this.filterTransaction(n))return{state:this,transactions:[]};let r=[n],s=this.applyInner(n),o=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let p=this.config.plugins[c];if(p.spec.appendTransaction){let m=o?o[c].n:0,x=o?o[c].state:this,b=m<r.length&&p.spec.appendTransaction.call(p,m?r.slice(m):r,x,s);if(b&&s.filterTransaction(b,c)){if(b.setMeta("appendedTransaction",n),!o){o=[];for(let S=0;S<this.config.plugins.length;S++)o.push(S<c?{state:s,n:r.length}:{state:this,n:0})}r.push(b),s=s.applyInner(b),l=!0}o&&(o[c]={state:s,n:r.length})}}if(!l)return{state:s,transactions:r}}}applyInner(n){if(!n.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new EditorState(this.config),s=this.config.fields;for(let o=0;o<s.length;o++){let l=s[o];r[l.name]=l.apply(n,this[l.name],this,r)}return r}get tr(){return new Transaction(this)}static create(n){let r=new Configuration(n.doc?n.doc.type.schema:n.schema,n.plugins),s=new EditorState(r);for(let o=0;o<r.fields.length;o++)s[r.fields[o].name]=r.fields[o].init(n,s);return s}reconfigure(n){let r=new Configuration(this.schema,n.plugins),s=r.fields,o=new EditorState(r);for(let l=0;l<s.length;l++){let c=s[l].name;o[c]=this.hasOwnProperty(c)?this[c]:s[l].init(n,o)}return o}toJSON(n){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(s=>s.toJSON())),n&&typeof n=="object")for(let s in n){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=n[s],l=o.spec.state;l&&l.toJSON&&(r[s]=l.toJSON.call(o,this[o.key]))}return r}static fromJSON(n,r,s){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!n.schema)throw new RangeError("Required config field 'schema' missing");let o=new Configuration(n.schema,n.plugins),l=new EditorState(o);return o.fields.forEach(c=>{if(c.name=="doc")l.doc=Node$1.fromJSON(n.schema,r.doc);else if(c.name=="selection")l.selection=Selection.fromJSON(l.doc,r.selection);else if(c.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(n.schema.markFromJSON));else{if(s)for(let p in s){let m=s[p],x=m.spec.state;if(m.key==c.name&&x&&x.fromJSON&&Object.prototype.hasOwnProperty.call(r,p)){l[c.name]=x.fromJSON.call(m,n,r[p],l);return}}l[c.name]=c.init(n,l)}}),l}}function bindProps(t,n,r){for(let s in t){let o=t[s];o instanceof Function?o=o.bind(n):s=="handleDOMEvents"&&(o=bindProps(o,n,{})),r[s]=o}return r}class Plugin{constructor(n){this.spec=n,this.props={},n.props&&bindProps(n.props,this,this.props),this.key=n.key?n.key.key:createKey("plugin")}getState(n){return n[this.key]}}const keys=Object.create(null);function createKey(t){return t in keys?t+"$"+ ++keys[t]:(keys[t]=0,t+"$")}class PluginKey{constructor(n="key"){this.key=createKey(n)}get(n){return n.config.pluginsByKey[this.key]}getState(n){return n[this.key]}}const deleteSelection$1=(t,n)=>t.selection.empty?!1:(n&&n(t.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(t,n){let{$cursor:r}=t.selection;return!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const joinBackward$1=(t,n,r)=>{let s=atBlockStart(t,r);if(!s)return!1;let o=findCutBefore(s);if(!o){let c=s.blockRange(),p=c&&liftTarget(c);return p==null?!1:(n&&n(t.tr.lift(c,p).scrollIntoView()),!0)}let l=o.nodeBefore;if(deleteBarrier(t,o,n,-1))return!0;if(s.parent.content.size==0&&(textblockAt(l,"end")||NodeSelection.isSelectable(l)))for(let c=s.depth;;c--){let p=replaceStep(t.doc,s.before(c),s.after(c),Slice.empty);if(p&&p.slice.size<p.to-p.from){if(n){let m=t.tr.step(p);m.setSelection(textblockAt(l,"end")?Selection.findFrom(m.doc.resolve(m.mapping.map(o.pos,-1)),-1):NodeSelection.create(m.doc,o.pos-l.nodeSize)),n(m.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return l.isAtom&&o.depth==s.depth-1?(n&&n(t.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(t,n,r)=>{let s=atBlockStart(t,r);if(!s)return!1;let o=findCutBefore(s);return o?joinTextblocksAround(t,o,n):!1},joinTextblockForward$1=(t,n,r)=>{let s=atBlockEnd(t,r);if(!s)return!1;let o=findCutAfter(s);return o?joinTextblocksAround(t,o,n):!1};function joinTextblocksAround(t,n,r){let s=n.nodeBefore,o=s,l=n.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let b=o.lastChild;if(!b)return!1;o=b}let c=n.nodeAfter,p=c,m=n.pos+1;for(;!p.isTextblock;m++){if(p.type.spec.isolating)return!1;let b=p.firstChild;if(!b)return!1;p=b}let x=replaceStep(t.doc,l,m,Slice.empty);if(!x||x.from!=l||x instanceof ReplaceStep&&x.slice.size>=m-l)return!1;if(r){let b=t.tr.step(x);b.setSelection(TextSelection.create(b.doc,l)),r(b.scrollIntoView())}return!0}function textblockAt(t,n,r=!1){for(let s=t;s;s=n=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&s.childCount!=1)return!1}return!1}const selectNodeBackward$1=(t,n,r)=>{let{$head:s,empty:o}=t.selection,l=s;if(!o)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):s.parentOffset>0)return!1;l=findCutBefore(s)}let c=l&&l.nodeBefore;return!c||!NodeSelection.isSelectable(c)?!1:(n&&n(t.tr.setSelection(NodeSelection.create(t.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){if(t.index(n)>0)return t.doc.resolve(t.before(n+1));if(t.node(n).type.spec.isolating)break}return null}function atBlockEnd(t,n){let{$cursor:r}=t.selection;return!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const joinForward$1=(t,n,r)=>{let s=atBlockEnd(t,r);if(!s)return!1;let o=findCutAfter(s);if(!o)return!1;let l=o.nodeAfter;if(deleteBarrier(t,o,n,1))return!0;if(s.parent.content.size==0&&(textblockAt(l,"start")||NodeSelection.isSelectable(l))){let c=replaceStep(t.doc,s.before(),s.after(),Slice.empty);if(c&&c.slice.size<c.to-c.from){if(n){let p=t.tr.step(c);p.setSelection(textblockAt(l,"start")?Selection.findFrom(p.doc.resolve(p.mapping.map(o.pos)),1):NodeSelection.create(p.doc,p.mapping.map(o.pos))),n(p.scrollIntoView())}return!0}}return l.isAtom&&o.depth==s.depth-1?(n&&n(t.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(t,n,r)=>{let{$head:s,empty:o}=t.selection,l=s;if(!o)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;l=findCutAfter(s)}let c=l&&l.nodeAfter;return!c||!NodeSelection.isSelectable(c)?!1:(n&&n(t.tr.setSelection(NodeSelection.create(t.doc,l.pos)).scrollIntoView()),!0)};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){let r=t.node(n);if(t.index(n)+1<r.childCount)return t.doc.resolve(t.after(n+1));if(r.type.spec.isolating)break}return null}const joinUp$1=(t,n)=>{let r=t.selection,s=r instanceof NodeSelection,o;if(s){if(r.node.isTextblock||!canJoin(t.doc,r.from))return!1;o=r.from}else if(o=joinPoint(t.doc,r.from,-1),o==null)return!1;if(n){let l=t.tr.join(o);s&&l.setSelection(NodeSelection.create(l.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),n(l.scrollIntoView())}return!0},joinDown$1=(t,n)=>{let r=t.selection,s;if(r instanceof NodeSelection){if(r.node.isTextblock||!canJoin(t.doc,r.to))return!1;s=r.to}else if(s=joinPoint(t.doc,r.to,1),s==null)return!1;return n&&n(t.tr.join(s).scrollIntoView()),!0},lift$1=(t,n)=>{let{$from:r,$to:s}=t.selection,o=r.blockRange(s),l=o&&liftTarget(o);return l==null?!1:(n&&n(t.tr.lift(o,l).scrollIntoView()),!0)},newlineInCode$1=(t,n)=>{let{$head:r,$anchor:s}=t.selection;return!r.parent.type.spec.code||!r.sameParent(s)?!1:(n&&n(t.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(t){for(let n=0;n<t.edgeCount;n++){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const exitCode$1=(t,n)=>{let{$head:r,$anchor:s}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let o=r.node(-1),l=r.indexAfter(-1),c=defaultBlockAt$1(o.contentMatchAt(l));if(!c||!o.canReplaceWith(l,l,c))return!1;if(n){let p=r.after(),m=t.tr.replaceWith(p,p,c.createAndFill());m.setSelection(Selection.near(m.doc.resolve(p),1)),n(m.scrollIntoView())}return!0},createParagraphNear$1=(t,n)=>{let r=t.selection,{$from:s,$to:o}=r;if(r instanceof AllSelection||s.parent.inlineContent||o.parent.inlineContent)return!1;let l=defaultBlockAt$1(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(n){let c=(!s.parentOffset&&o.index()<o.parent.childCount?s:o).pos,p=t.tr.insert(c,l.createAndFill());p.setSelection(TextSelection.create(p.doc,c+1)),n(p.scrollIntoView())}return!0},liftEmptyBlock$1=(t,n)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(canSplit(t.doc,l))return n&&n(t.tr.split(l).scrollIntoView()),!0}let s=r.blockRange(),o=s&&liftTarget(s);return o==null?!1:(n&&n(t.tr.lift(s,o).scrollIntoView()),!0)};function splitBlockAs(t){return(n,r)=>{let{$from:s,$to:o}=n.selection;if(n.selection instanceof NodeSelection&&n.selection.node.isBlock)return!s.parentOffset||!canSplit(n.doc,s.pos)?!1:(r&&r(n.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let l=[],c,p,m=!1,x=!1;for(let k=s.depth;;k--)if(s.node(k).isBlock){m=s.end(k)==s.pos+(s.depth-k),x=s.start(k)==s.pos-(s.depth-k),p=defaultBlockAt$1(s.node(k-1).contentMatchAt(s.indexAfter(k-1))),l.unshift(m&&p?{type:p}:null),c=k;break}else{if(k==1)return!1;l.unshift(null)}let b=n.tr;(n.selection instanceof TextSelection||n.selection instanceof AllSelection)&&b.deleteSelection();let S=b.mapping.map(s.pos),R=canSplit(b.doc,S,l.length,l);if(R||(l[0]=p?{type:p}:null,R=canSplit(b.doc,S,l.length,l)),!R)return!1;if(b.split(S,l.length,l),!m&&x&&s.node(c).type!=p){let k=b.mapping.map(s.before(c)),M=b.doc.resolve(k);p&&s.node(c-1).canReplaceWith(M.index(),M.index()+1,p)&&b.setNodeMarkup(b.mapping.map(s.before(c)),p)}return r&&r(b.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(t,n)=>{let{$from:r,to:s}=t.selection,o,l=r.sharedDepth(s);return l==0?!1:(o=r.before(l),n&&n(t.tr.setSelection(NodeSelection.create(t.doc,o))),!0)};function joinMaybeClear(t,n,r){let s=n.nodeBefore,o=n.nodeAfter,l=n.index();return!s||!o||!s.type.compatibleContent(o.type)?!1:!s.content.size&&n.parent.canReplace(l-1,l)?(r&&r(t.tr.delete(n.pos-s.nodeSize,n.pos).scrollIntoView()),!0):!n.parent.canReplace(l,l+1)||!(o.isTextblock||canJoin(t.doc,n.pos))?!1:(r&&r(t.tr.join(n.pos).scrollIntoView()),!0)}function deleteBarrier(t,n,r,s){let o=n.nodeBefore,l=n.nodeAfter,c,p,m=o.type.spec.isolating||l.type.spec.isolating;if(!m&&joinMaybeClear(t,n,r))return!0;let x=!m&&n.parent.canReplace(n.index(),n.index()+1);if(x&&(c=(p=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&p.matchType(c[0]||l.type).validEnd){if(r){let k=n.pos+l.nodeSize,M=Fragment.empty;for(let P=c.length-1;P>=0;P--)M=Fragment.from(c[P].create(null,M));M=Fragment.from(o.copy(M));let j=t.tr.step(new ReplaceAroundStep(n.pos-1,k,n.pos,k,new Slice(M,1,0),c.length,!0)),G=j.doc.resolve(k+2*c.length);G.nodeAfter&&G.nodeAfter.type==o.type&&canJoin(j.doc,G.pos)&&j.join(G.pos),r(j.scrollIntoView())}return!0}let b=l.type.spec.isolating||s>0&&m?null:Selection.findFrom(n,1),S=b&&b.$from.blockRange(b.$to),R=S&&liftTarget(S);if(R!=null&&R>=n.depth)return r&&r(t.tr.lift(S,R).scrollIntoView()),!0;if(x&&textblockAt(l,"start",!0)&&textblockAt(o,"end")){let k=o,M=[];for(;M.push(k),!k.isTextblock;)k=k.lastChild;let j=l,G=1;for(;!j.isTextblock;j=j.firstChild)G++;if(k.canReplace(k.childCount,k.childCount,j.content)){if(r){let P=Fragment.empty;for(let H=M.length-1;H>=0;H--)P=Fragment.from(M[H].copy(P));let Q=t.tr.step(new ReplaceAroundStep(n.pos-M.length,n.pos+l.nodeSize,n.pos+G,n.pos+l.nodeSize-G,new Slice(P,M.length,0),0,!0));r(Q.scrollIntoView())}return!0}}return!1}function selectTextblockSide(t){return function(n,r){let s=n.selection,o=t<0?s.$from:s.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(r&&r(n.tr.setSelection(TextSelection.create(n.doc,t<0?o.start(l):o.end(l)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(t,n=null){return function(r,s){let{$from:o,$to:l}=r.selection,c=o.blockRange(l),p=c&&findWrapping(c,t,n);return p?(s&&s(r.tr.wrap(c,p).scrollIntoView()),!0):!1}}function setBlockType(t,n=null){return function(r,s){let o=!1;for(let l=0;l<r.selection.ranges.length&&!o;l++){let{$from:{pos:c},$to:{pos:p}}=r.selection.ranges[l];r.doc.nodesBetween(c,p,(m,x)=>{if(o)return!1;if(!(!m.isTextblock||m.hasMarkup(t,n)))if(m.type==t)o=!0;else{let b=r.doc.resolve(x),S=b.index();o=b.parent.canReplaceWith(S,S+1,t)}})}if(!o)return!1;if(s){let l=r.tr;for(let c=0;c<r.selection.ranges.length;c++){let{$from:{pos:p},$to:{pos:m}}=r.selection.ranges[c];l.setBlockType(p,m,t,n)}s(l.scrollIntoView())}return!0}}function chainCommands(...t){return function(n,r,s){for(let o=0;o<t.length;o++)if(t[o](n,r,s))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(t,n=null){return function(r,s){let{$from:o,$to:l}=r.selection,c=o.blockRange(l);if(!c)return!1;let p=s?r.tr:null;return wrapRangeInList(p,c,t,n)?(s&&s(p.scrollIntoView()),!0):!1}}function wrapRangeInList(t,n,r,s=null){let o=!1,l=n,c=n.$from.doc;if(n.depth>=2&&n.$from.node(n.depth-1).type.compatibleContent(r)&&n.startIndex==0){if(n.$from.index(n.depth-1)==0)return!1;let m=c.resolve(n.start-2);l=new NodeRange(m,m,n.depth),n.endIndex<n.parent.childCount&&(n=new NodeRange(n.$from,c.resolve(n.$to.end(n.depth)),n.depth)),o=!0}let p=findWrapping(l,r,s,n);return p?(t&&doWrapInList(t,n,p,o,r),!0):!1}function doWrapInList(t,n,r,s,o){let l=Fragment.empty;for(let b=r.length-1;b>=0;b--)l=Fragment.from(r[b].type.create(r[b].attrs,l));t.step(new ReplaceAroundStep(n.start-(s?2:0),n.end,n.start,n.end,new Slice(l,0,0),r.length,!0));let c=0;for(let b=0;b<r.length;b++)r[b].type==o&&(c=b+1);let p=r.length-c,m=n.start+r.length-(s?2:0),x=n.parent;for(let b=n.startIndex,S=n.endIndex,R=!0;b<S;b++,R=!1)!R&&canSplit(t.doc,m,p)&&(t.split(m,p),m+=2*p),m+=x.child(b).nodeSize;return t}function liftListItem$1(t){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);return l?r?s.node(l.depth-1).type==t?liftToOuterList(n,r,t,l):liftOutOfList(n,r,l):!0:!1}}function liftToOuterList(t,n,r,s){let o=t.tr,l=s.end,c=s.$to.end(s.depth);l<c&&(o.step(new ReplaceAroundStep(l-1,c,l,c,new Slice(Fragment.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new NodeRange(o.doc.resolve(s.$from.pos),o.doc.resolve(c),s.depth));const p=liftTarget(s);if(p==null)return!1;o.lift(s,p);let m=o.doc.resolve(o.mapping.map(l,-1)-1);return canJoin(o.doc,m.pos)&&m.nodeBefore.type==m.nodeAfter.type&&o.join(m.pos),n(o.scrollIntoView()),!0}function liftOutOfList(t,n,r){let s=t.tr,o=r.parent;for(let k=r.end,M=r.endIndex-1,j=r.startIndex;M>j;M--)k-=o.child(M).nodeSize,s.delete(k-1,k+1);let l=s.doc.resolve(r.start),c=l.nodeAfter;if(s.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let p=r.startIndex==0,m=r.endIndex==o.childCount,x=l.node(-1),b=l.index(-1);if(!x.canReplace(b+(p?0:1),b+1,c.content.append(m?Fragment.empty:Fragment.from(o))))return!1;let S=l.pos,R=S+c.nodeSize;return s.step(new ReplaceAroundStep(S-(p?1:0),R+(m?1:0),S+1,R-1,new Slice((p?Fragment.empty:Fragment.from(o.copy(Fragment.empty))).append(m?Fragment.empty:Fragment.from(o.copy(Fragment.empty))),p?0:1,m?0:1),p?0:1)),n(s.scrollIntoView()),!0}function sinkListItem$1(t){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o,x=>x.childCount>0&&x.firstChild.type==t);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let p=l.parent,m=p.child(c-1);if(m.type!=t)return!1;if(r){let x=m.lastChild&&m.lastChild.type==p.type,b=Fragment.from(x?t.create():null),S=new Slice(Fragment.from(t.create(null,Fragment.from(p.type.create(null,b)))),x?3:1,0),R=l.start,k=l.end;r(n.tr.step(new ReplaceAroundStep(R-(x?3:1),k,R,k,S,1,!0)).scrollIntoView())}return!0}}const domIndex=function(t){for(var n=0;;n++)if(t=t.previousSibling,!t)return n},parentNode=function(t){let n=t.assignedSlot||t.parentNode;return n&&n.nodeType==11?n.host:n};let reusedRange=null;const textRange=function(t,n,r){let s=reusedRange||(reusedRange=document.createRange());return s.setEnd(t,r??t.nodeValue.length),s.setStart(t,n||0),s},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(t,n,r,s){return r&&(scanFor(t,n,r,s,-1)||scanFor(t,n,r,s,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(t,n,r,s,o){for(var l;;){if(t==r&&n==s)return!0;if(n==(o<0?0:nodeSize(t))){let c=t.parentNode;if(!c||c.nodeType!=1||hasBlockDesc(t)||atomElements.test(t.nodeName)||t.contentEditable=="false")return!1;n=domIndex(t)+(o<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[n+(o<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)n+=o;else return!1;else t=c,n=o<0?nodeSize(t):0}else return!1}}function nodeSize(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function textNodeBefore$1(t,n){for(;;){if(t.nodeType==3&&n)return t;if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=nodeSize(t)}else if(t.parentNode&&!hasBlockDesc(t))n=domIndex(t),t=t.parentNode;else return null}}function textNodeAfter$1(t,n){for(;;){if(t.nodeType==3&&n<t.nodeValue.length)return t;if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!hasBlockDesc(t))n=domIndex(t)+1,t=t.parentNode;else return null}}function isOnEdge(t,n,r){for(let s=n==0,o=n==nodeSize(t);s||o;){if(t==r)return!0;let l=domIndex(t);if(t=t.parentNode,!t)return!1;s=s&&l==0,o=o&&l==nodeSize(t)}}function hasBlockDesc(t){let n;for(let r=t;r&&!(n=r.pmViewDesc);r=r.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}const selectionCollapsed=function(t){return t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function keyEvent(t,n){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=n,r}function deepActiveElement(t){let n=t.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function caretFromPoint(t,n,r){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(n,r);if(s)return{node:s.offsetNode,offset:Math.min(nodeSize(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(n,r);if(s)return{node:s.startContainer,offset:Math.min(nodeSize(s.startContainer),s.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome$1=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(t){let n=t.defaultView&&t.defaultView.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function getSide(t,n){return typeof t=="number"?t:t[n]}function clientRect(t){let n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,s=n.height/t.offsetHeight||1;return{left:n.left,right:n.left+t.clientWidth*r,top:n.top,bottom:n.top+t.clientHeight*s}}function scrollRectIntoView(t,n,r){let s=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let c=r||t.dom;c;){if(c.nodeType!=1){c=parentNode(c);continue}let p=c,m=p==l.body,x=m?windowRect(l):clientRect(p),b=0,S=0;if(n.top<x.top+getSide(s,"top")?S=-(x.top-n.top+getSide(o,"top")):n.bottom>x.bottom-getSide(s,"bottom")&&(S=n.bottom-n.top>x.bottom-x.top?n.top+getSide(o,"top")-x.top:n.bottom-x.bottom+getSide(o,"bottom")),n.left<x.left+getSide(s,"left")?b=-(x.left-n.left+getSide(o,"left")):n.right>x.right-getSide(s,"right")&&(b=n.right-x.right+getSide(o,"right")),b||S)if(m)l.defaultView.scrollBy(b,S);else{let k=p.scrollLeft,M=p.scrollTop;S&&(p.scrollTop+=S),b&&(p.scrollLeft+=b);let j=p.scrollLeft-k,G=p.scrollTop-M;n={left:n.left-j,top:n.top-G,right:n.right-j,bottom:n.bottom-G}}let R=m?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(R))break;c=R=="absolute"?c.offsetParent:parentNode(c)}}function storeScrollPos(t){let n=t.dom.getBoundingClientRect(),r=Math.max(0,n.top),s,o;for(let l=(n.left+n.right)/2,c=r+1;c<Math.min(innerHeight,n.bottom);c+=5){let p=t.root.elementFromPoint(l,c);if(!p||p==t.dom||!t.dom.contains(p))continue;let m=p.getBoundingClientRect();if(m.top>=r-20){s=p,o=m.top;break}}return{refDOM:s,refTop:o,stack:scrollStack(t.dom)}}function scrollStack(t){let n=[],r=t.ownerDocument;for(let s=t;s&&(n.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=r);s=parentNode(s));return n}function resetScrollPos({refDOM:t,refTop:n,stack:r}){let s=t?t.getBoundingClientRect().top:0;restoreScrollStack(r,s==0?0:s-n)}function restoreScrollStack(t,n){for(let r=0;r<t.length;r++){let{dom:s,top:o,left:l}=t[r];s.scrollTop!=o+n&&(s.scrollTop=o+n),s.scrollLeft!=l&&(s.scrollLeft=l)}}let preventScrollSupported=null;function focusPreventScroll(t){if(t.setActive)return t.setActive();if(preventScrollSupported)return t.focus(preventScrollSupported);let n=scrollStack(t);t.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(n,0))}function findOffsetInNode(t,n){let r,s=2e8,o,l=0,c=n.top,p=n.top,m,x;for(let b=t.firstChild,S=0;b;b=b.nextSibling,S++){let R;if(b.nodeType==1)R=b.getClientRects();else if(b.nodeType==3)R=textRange(b).getClientRects();else continue;for(let k=0;k<R.length;k++){let M=R[k];if(M.top<=c&&M.bottom>=p){c=Math.max(M.bottom,c),p=Math.min(M.top,p);let j=M.left>n.left?M.left-n.left:M.right<n.left?n.left-M.right:0;if(j<s){r=b,s=j,o=j&&r.nodeType==3?{left:M.right<n.left?M.right:M.left,top:n.top}:n,b.nodeType==1&&j&&(l=S+(n.left>=(M.left+M.right)/2?1:0));continue}}else M.top>n.top&&!m&&M.left<=n.left&&M.right>=n.left&&(m=b,x={left:Math.max(M.left,Math.min(M.right,n.left)),top:M.top});!r&&(n.left>=M.right&&n.top>=M.top||n.left>=M.left&&n.top>=M.bottom)&&(l=S+1)}}return!r&&m&&(r=m,o=x,s=0),r&&r.nodeType==3?findOffsetInText(r,o):!r||s&&r.nodeType==1?{node:t,offset:l}:findOffsetInNode(r,o)}function findOffsetInText(t,n){let r=t.nodeValue.length,s=document.createRange();for(let o=0;o<r;o++){s.setEnd(t,o+1),s.setStart(t,o);let l=singleRect(s,1);if(l.top!=l.bottom&&inRect(n,l))return{node:t,offset:o+(n.left>=(l.left+l.right)/2?1:0)}}return{node:t,offset:0}}function inRect(t,n){return t.left>=n.left-1&&t.left<=n.right+1&&t.top>=n.top-1&&t.top<=n.bottom+1}function targetKludge(t,n){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&n.left<t.getBoundingClientRect().left?r:t}function posFromElement(t,n,r){let{node:s,offset:o}=findOffsetInNode(n,r),l=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();l=c.left!=c.right&&r.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(s,o,l)}function posFromCaret(t,n,r,s){let o=-1;for(let l=n,c=!1;l!=t.dom;){let p=t.docView.nearestDesc(l,!0),m;if(!p)return null;if(p.dom.nodeType==1&&(p.node.isBlock&&p.parent||!p.contentDOM)&&((m=p.dom.getBoundingClientRect()).width||m.height)&&(p.node.isBlock&&p.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(p.dom.nodeName)&&(!c&&m.left>s.left||m.top>s.top?o=p.posBefore:(!c&&m.right<s.left||m.bottom<s.top)&&(o=p.posAfter),c=!0),!p.contentDOM&&o<0&&!p.node.isText))return(p.node.isBlock?s.top<(m.top+m.bottom)/2:s.left<(m.left+m.right)/2)?p.posBefore:p.posAfter;l=p.dom.parentNode}return o>-1?o:t.docView.posFromDOM(n,r,-1)}function elementFromPoint(t,n,r){let s=t.childNodes.length;if(s&&r.top<r.bottom)for(let o=Math.max(0,Math.min(s-1,Math.floor(s*(n.top-r.top)/(r.bottom-r.top))-2)),l=o;;){let c=t.childNodes[l];if(c.nodeType==1){let p=c.getClientRects();for(let m=0;m<p.length;m++){let x=p[m];if(inRect(n,x))return elementFromPoint(c,n,x)}}if((l=(l+1)%s)==o)break}return t}function posAtCoords(t,n){let r=t.dom.ownerDocument,s,o=0,l=caretFromPoint(r,n.left,n.top);l&&({node:s,offset:o}=l);let c=(t.root.elementFromPoint?t.root:r).elementFromPoint(n.left,n.top),p;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let x=t.dom.getBoundingClientRect();if(!inRect(n,x)||(c=elementFromPoint(t.dom,n,x),!c))return null}if(safari)for(let x=c;s&&x;x=parentNode(x))x.draggable&&(s=void 0);if(c=targetKludge(c,n),s){if(gecko&&s.nodeType==1&&(o=Math.min(o,s.childNodes.length),o<s.childNodes.length)){let b=s.childNodes[o],S;b.nodeName=="IMG"&&(S=b.getBoundingClientRect()).right<=n.left&&S.bottom>n.top&&o++}let x;webkit&&o&&s.nodeType==1&&(x=s.childNodes[o-1]).nodeType==1&&x.contentEditable=="false"&&x.getBoundingClientRect().top>=n.top&&o--,s==t.dom&&o==s.childNodes.length-1&&s.lastChild.nodeType==1&&n.top>s.lastChild.getBoundingClientRect().bottom?p=t.state.doc.content.size:(o==0||s.nodeType!=1||s.childNodes[o-1].nodeName!="BR")&&(p=posFromCaret(t,s,o,n))}p==null&&(p=posFromElement(t,c,n));let m=t.docView.nearestDesc(c,!0);return{pos:p,inside:m?m.posAtStart-m.border:-1}}function nonZero(t){return t.top<t.bottom||t.left<t.right}function singleRect(t,n){let r=t.getClientRects();if(r.length){let s=r[n<0?0:r.length-1];if(nonZero(s))return s}return Array.prototype.find.call(r,nonZero)||t.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,n,r){let{node:s,offset:o,atom:l}=t.docView.domFromPos(n,r<0?-1:1),c=webkit||gecko;if(s.nodeType==3)if(c&&(BIDI.test(s.nodeValue)||(r<0?!o:o==s.nodeValue.length))){let m=singleRect(textRange(s,o,o),r);if(gecko&&o&&/\s/.test(s.nodeValue[o-1])&&o<s.nodeValue.length){let x=singleRect(textRange(s,o-1,o-1),-1);if(x.top==m.top){let b=singleRect(textRange(s,o,o+1),-1);if(b.top!=m.top)return flattenV(b,b.left<x.left)}}return m}else{let m=o,x=o,b=r<0?1:-1;return r<0&&!o?(x++,b=-1):r>=0&&o==s.nodeValue.length?(m--,b=1):r<0?m--:x++,flattenV(singleRect(textRange(s,m,x),b),b<0)}if(!t.state.doc.resolve(n-(l||0)).parent.inlineContent){if(l==null&&o&&(r<0||o==nodeSize(s))){let m=s.childNodes[o-1];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!1)}if(l==null&&o<nodeSize(s)){let m=s.childNodes[o];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!0)}return flattenH(s.getBoundingClientRect(),r>=0)}if(l==null&&o&&(r<0||o==nodeSize(s))){let m=s.childNodes[o-1],x=m.nodeType==3?textRange(m,nodeSize(m)-(c?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(x)return flattenV(singleRect(x,1),!1)}if(l==null&&o<nodeSize(s)){let m=s.childNodes[o];for(;m.pmViewDesc&&m.pmViewDesc.ignoreForCoords;)m=m.nextSibling;let x=m?m.nodeType==3?textRange(m,0,c?0:1):m.nodeType==1?m:null:null;if(x)return flattenV(singleRect(x,-1),!0)}return flattenV(singleRect(s.nodeType==3?textRange(s):s,-r),r>=0)}function flattenV(t,n){if(t.width==0)return t;let r=n?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function flattenH(t,n){if(t.height==0)return t;let r=n?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function withFlushedState(t,n,r){let s=t.state,o=t.root.activeElement;s!=n&&t.updateState(n),o!=t.dom&&t.focus();try{return r()}finally{s!=n&&t.updateState(s),o!=t.dom&&o&&o.focus()}}function endOfTextblockVertical(t,n,r){let s=n.selection,o=r=="up"?s.$from:s.$to;return withFlushedState(t,n,()=>{let{node:l}=t.docView.domFromPos(o.pos,r=="up"?-1:1);for(;;){let p=t.docView.nearestDesc(l,!0);if(!p)break;if(p.node.isBlock){l=p.contentDOM||p.dom;break}l=p.dom.parentNode}let c=coordsAtPos(t,o.pos,1);for(let p=l.firstChild;p;p=p.nextSibling){let m;if(p.nodeType==1)m=p.getClientRects();else if(p.nodeType==3)m=textRange(p,0,p.nodeValue.length).getClientRects();else continue;for(let x=0;x<m.length;x++){let b=m[x];if(b.bottom>b.top+1&&(r=="up"?c.top-b.top>(b.bottom-c.top)*2:b.bottom-c.bottom>(c.bottom-b.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(t,n,r){let{$head:s}=n.selection;if(!s.parent.isTextblock)return!1;let o=s.parentOffset,l=!o,c=o==s.parent.content.size,p=t.domSelection();return p?!maybeRTL.test(s.parent.textContent)||!p.modify?r=="left"||r=="backward"?l:c:withFlushedState(t,n,()=>{let{focusNode:m,focusOffset:x,anchorNode:b,anchorOffset:S}=t.domSelectionRange(),R=p.caretBidiLevel;p.modify("move",r,"character");let k=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:M,focusOffset:j}=t.domSelectionRange(),G=M&&!k.contains(M.nodeType==1?M:M.parentNode)||m==M&&x==j;try{p.collapse(b,S),m&&(m!=b||x!=S)&&p.extend&&p.extend(m,x)}catch{}return R!=null&&(p.caretBidiLevel=R),G}):s.pos==s.start()||s.pos==s.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(t,n,r){return cachedState==n&&cachedDir==r?cachedResult:(cachedState=n,cachedDir=r,cachedResult=r=="up"||r=="down"?endOfTextblockVertical(t,n,r):endOfTextblockHorizontal(t,n,r))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(n,r,s,o){this.parent=n,this.children=r,this.dom=s,this.contentDOM=o,this.dirty=NOT_DIRTY,s.pmViewDesc=this}matchesWidget(n){return!1}matchesMark(n){return!1}matchesNode(n,r,s){return!1}matchesHack(n){return!1}parseRule(){return null}stopEvent(n){return!1}get size(){let n=0;for(let r=0;r<this.children.length;r++)n+=this.children[r].size;return n}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let n=0;n<this.children.length;n++)this.children[n].destroy()}posBeforeChild(n){for(let r=0,s=this.posAtStart;;r++){let o=this.children[r];if(o==n)return s;s+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,r,s){if(this.contentDOM&&this.contentDOM.contains(n.nodeType==1?n:n.parentNode))if(s<0){let l,c;if(n==this.contentDOM)l=n.childNodes[r-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;l=n.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(n==this.contentDOM)l=n.childNodes[r];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;l=n.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let o;if(n==this.dom&&this.contentDOM)o=r>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=n.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=n;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&r==n.childNodes.length)for(let l=n;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??s>0?this.posAtEnd:this.posAtStart}nearestDesc(n,r=!1){for(let s=!0,o=n;o;o=o.parentNode){let l=this.getDesc(o),c;if(l&&(!r||l.node))if(s&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(n.nodeType==1?n:n.parentNode):c==n))s=!1;else return l}}getDesc(n){let r=n.pmViewDesc;for(let s=r;s;s=s.parent)if(s==this)return r}posFromDOM(n,r,s){for(let o=n;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(n,r,s)}return-1}descAt(n){for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(s==n&&l!=s){for(;!o.border&&o.children.length;)for(let c=0;c<o.children.length;c++){let p=o.children[c];if(p.size){o=p;break}}return o}if(n<l)return o.descAt(n-s-o.border);s=l}}domFromPos(n,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:n+1};let s=0,o=0;for(let l=0;s<this.children.length;s++){let c=this.children[s],p=l+c.size;if(p>n||c instanceof TrailingHackViewDesc){o=n-l;break}l=p}if(o)return this.children[s].domFromPos(o-this.children[s].border,r);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof WidgetViewDesc&&l.side>=0;s--);if(r<=0){let l,c=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,c=!1);return l&&r&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?domIndex(l.dom)+1:0}}else{let l,c=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?domIndex(l.dom):this.contentDOM.childNodes.length}}}parseRange(n,r,s=0){if(this.children.length==0)return{node:this.contentDOM,from:n,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let c=s,p=0;;p++){let m=this.children[p],x=c+m.size;if(o==-1&&n<=x){let b=c+m.border;if(n>=b&&r<=x-m.border&&m.node&&m.contentDOM&&this.contentDOM.contains(m.contentDOM))return m.parseRange(n,r,b);n=c;for(let S=p;S>0;S--){let R=this.children[S-1];if(R.size&&R.dom.parentNode==this.contentDOM&&!R.emptyChildAt(1)){o=domIndex(R.dom)+1;break}n-=R.size}o==-1&&(o=0)}if(o>-1&&(x>r||p==this.children.length-1)){r=x;for(let b=p+1;b<this.children.length;b++){let S=this.children[b];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(-1)){l=domIndex(S.dom);break}r+=S.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=x}return{node:this.contentDOM,from:n,to:r,fromOffset:o,toOffset:l}}emptyChildAt(n){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[n<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(n)}domAfterPos(n){let{node:r,offset:s}=this.domFromPos(n,0);if(r.nodeType!=1||s==r.childNodes.length)throw new RangeError("No node after pos "+n);return r.childNodes[s]}setSelection(n,r,s,o=!1){let l=Math.min(n,r),c=Math.max(n,r);for(let k=0,M=0;k<this.children.length;k++){let j=this.children[k],G=M+j.size;if(l>M&&c<G)return j.setSelection(n-M-j.border,r-M-j.border,s,o);M=G}let p=this.domFromPos(n,n?-1:1),m=r==n?p:this.domFromPos(r,r?-1:1),x=s.root.getSelection(),b=s.domSelectionRange(),S=!1;if((gecko||safari)&&n==r){let{node:k,offset:M}=p;if(k.nodeType==3){if(S=!!(M&&k.nodeValue[M-1]==`
`),S&&M==k.nodeValue.length)for(let j=k,G;j;j=j.parentNode){if(G=j.nextSibling){G.nodeName=="BR"&&(p=m={node:G.parentNode,offset:domIndex(G)+1});break}let P=j.pmViewDesc;if(P&&P.node&&P.node.isBlock)break}}else{let j=k.childNodes[M-1];S=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(gecko&&b.focusNode&&b.focusNode!=m.node&&b.focusNode.nodeType==1){let k=b.focusNode.childNodes[b.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||S&&safari)&&isEquivalentPosition(p.node,p.offset,b.anchorNode,b.anchorOffset)&&isEquivalentPosition(m.node,m.offset,b.focusNode,b.focusOffset))return;let R=!1;if((x.extend||n==r)&&!(S&&gecko)){x.collapse(p.node,p.offset);try{n!=r&&x.extend(m.node,m.offset),R=!0}catch{}}if(!R){if(n>r){let M=p;p=m,m=M}let k=document.createRange();k.setEnd(m.node,m.offset),k.setStart(p.node,p.offset),x.removeAllRanges(),x.addRange(k)}}ignoreMutation(n){return!this.contentDOM&&n.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,r){for(let s=0,o=0;o<this.children.length;o++){let l=this.children[o],c=s+l.size;if(s==c?n<=c&&r>=s:n<c&&r>s){let p=s+l.border,m=c-l.border;if(n>=p&&r<=m){this.dirty=n==s||r==c?CONTENT_DIRTY:CHILD_DIRTY,n==p&&r==m&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=NODE_DIRTY:l.markDirty(n-p,r-p);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?CONTENT_DIRTY:NODE_DIRTY}s=c}this.dirty=CONTENT_DIRTY}markParentsDirty(){let n=1;for(let r=this.parent;r;r=r.parent,n++){let s=n==1?CONTENT_DIRTY:CHILD_DIRTY;r.dirty<s&&(r.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(n){return!1}}class WidgetViewDesc extends ViewDesc{constructor(n,r,s,o){let l,c=r.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(c.nodeType!=1){let p=document.createElement("span");p.appendChild(c),c=p}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(n,[],c,null),this.widget=r,this.widget=r,l=this}matchesWidget(n){return this.dirty==NOT_DIRTY&&n.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(n){let r=this.widget.spec.stopEvent;return r?r(n):!1}ignoreMutation(n){return n.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(n,r,s,o){super(n,[],r,null),this.textDOM=s,this.text=o}get size(){return this.text.length}localPosFromDOM(n,r){return n!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(n){return{node:this.textDOM,offset:n}}ignoreMutation(n){return n.type==="characterData"&&n.target.nodeValue==n.oldValue}}class MarkViewDesc extends ViewDesc{constructor(n,r,s,o,l){super(n,[],s,o),this.mark=r,this.spec=l}static create(n,r,s,o){let l=o.nodeViews[r.type.name],c=l&&l(r,o,s);return(!c||!c.dom)&&(c=DOMSerializer.renderSpec(document,r.type.spec.toDOM(r,s),null,r.attrs)),new MarkViewDesc(n,r,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(n){return this.dirty!=NODE_DIRTY&&this.mark.eq(n)}markDirty(n,r){if(super.markDirty(n,r),this.dirty!=NOT_DIRTY){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(n,r,s){let o=MarkViewDesc.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;r<c&&(l=replaceNodes(l,r,c,s)),n>0&&(l=replaceNodes(l,0,n,s));for(let p=0;p<l.length;p++)l[p].parent=o;return o.children=l,o}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(n,r,s,o,l,c,p,m,x){super(n,[],l,c),this.node=r,this.outerDeco=s,this.innerDeco=o,this.nodeDOM=p}static create(n,r,s,o,l,c){let p=l.nodeViews[r.type.name],m,x=p&&p(r,l,()=>{if(!m)return c;if(m.parent)return m.parent.posBeforeChild(m)},s,o),b=x&&x.dom,S=x&&x.contentDOM;if(r.isText){if(!b)b=document.createTextNode(r.text);else if(b.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else b||({dom:b,contentDOM:S}=DOMSerializer.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!S&&!r.isText&&b.nodeName!="BR"&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),r.type.spec.draggable&&(b.draggable=!0));let R=b;return b=applyOuterDeco(b,s,r),x?m=new CustomNodeViewDesc(n,r,s,o,b,S||null,R,x,l,c+1):r.isText?new TextViewDesc(n,r,s,o,b,R,l):new NodeViewDesc(n,r,s,o,b,S||null,R,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let n={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(n.preserveWhitespace="full"),!this.contentDOM)n.getContent=()=>this.node.content;else if(!this.contentLost)n.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let s=this.children[r];if(this.dom.contains(s.dom.parentNode)){n.contentElement=s.dom.parentNode;break}}n.contentElement||(n.getContent=()=>Fragment.empty)}return n}matchesNode(n,r,s){return this.dirty==NOT_DIRTY&&n.eq(this.node)&&sameOuterDeco(r,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(n,r){let s=this.node.inlineContent,o=r,l=n.composing?this.localCompositionInfo(n,r):null,c=l&&l.pos>-1?l:null,p=l&&l.pos<0,m=new ViewTreeUpdater(this,c&&c.node,n);iterDeco(this.node,this.innerDeco,(x,b,S)=>{x.spec.marks?m.syncToMarks(x.spec.marks,s,n):x.type.side>=0&&!S&&m.syncToMarks(b==this.node.childCount?Mark$1.none:this.node.child(b).marks,s,n),m.placeWidget(x,n,o)},(x,b,S,R)=>{m.syncToMarks(x.marks,s,n);let k;m.findNodeMatch(x,b,S,R)||p&&n.state.selection.from>o&&n.state.selection.to<o+x.nodeSize&&(k=m.findIndexWithChild(l.node))>-1&&m.updateNodeAt(x,b,S,k,n)||m.updateNextNode(x,b,S,n,R,o)||m.addNode(x,b,S,n,o),o+=x.nodeSize}),m.syncToMarks([],s,n),this.node.isTextblock&&m.addTextblockHacks(),m.destroyRest(),(m.changed||this.dirty==CONTENT_DIRTY)&&(c&&this.protectLocalComposition(n,c),renderDescs(this.contentDOM,this.children,n),ios&&iosHacks(this.dom))}localCompositionInfo(n,r){let{from:s,to:o}=n.state.selection;if(!(n.state.selection instanceof TextSelection)||s<r||o>r+this.node.content.size)return null;let l=n.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,p=findTextInFragment(this.node.content,c,s-r,o-r);return p<0?null:{node:l,pos:p,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(n,{node:r,pos:s,text:o}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new CompositionViewDesc(this,l,r,o);n.input.compositionNodes.push(c),this.children=replaceNodes(this.children,s,s+o.length,n,c)}update(n,r,s,o){return this.dirty==NODE_DIRTY||!n.sameMarkup(this.node)?!1:(this.updateInner(n,r,s,o),!0)}updateInner(n,r,s,o){this.updateOuterDeco(r),this.node=n,this.innerDeco=s,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(n){if(sameOuterDeco(n,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,r),computeOuterDeco(n,this.node,r)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=n}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(t,n,r,s,o){applyOuterDeco(s,n,t);let l=new NodeViewDesc(void 0,t,n,r,s,s,s,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class TextViewDesc extends NodeViewDesc{constructor(n,r,s,o,l,c,p){super(n,r,s,o,l,null,c,p,0)}parseRule(){let n=this.nodeDOM.parentNode;for(;n&&n!=this.dom&&!n.pmIsDeco;)n=n.parentNode;return{skip:n||!0}}update(n,r,s,o){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!n.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=NOT_DIRTY||n.text!=this.node.text)&&n.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=n.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=n,this.dirty=NOT_DIRTY,!0)}inParent(){let n=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==n)return!0;return!1}domFromPos(n){return{node:this.nodeDOM,offset:n}}localPosFromDOM(n,r,s){return n==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(n,r,s)}ignoreMutation(n){return n.type!="characterData"&&n.type!="selection"}slice(n,r,s){let o=this.node.cut(n,r),l=document.createTextNode(o.text);return new TextViewDesc(this.parent,o,this.outerDeco,this.innerDeco,l,l,s)}markDirty(n,r){super.markDirty(n,r),this.dom!=this.nodeDOM&&(n==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(n){return this.node.text==n}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(n){return this.dirty==NOT_DIRTY&&this.dom.nodeName==n}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(n,r,s,o,l,c,p,m,x,b){super(n,r,s,o,l,c,p,x,b),this.spec=m}update(n,r,s,o){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==n.type||this.spec.multiType)){let l=this.spec.update(n,r,s);return l&&this.updateInner(n,r,s,o),l}else return!this.contentDOM&&!n.isLeaf?!1:super.update(n,r,s,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(n,r,s,o){this.spec.setSelection?this.spec.setSelection(n,r,s.root):super.setSelection(n,r,s,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}}function renderDescs(t,n,r){let s=t.firstChild,o=!1;for(let l=0;l<n.length;l++){let c=n[l],p=c.dom;if(p.parentNode==t){for(;p!=s;)s=rm(s),o=!0;s=s.nextSibling}else o=!0,t.insertBefore(p,s);if(c instanceof MarkViewDesc){let m=s?s.previousSibling:t.lastChild;renderDescs(c.contentDOM,c.children,r),s=m?m.nextSibling:t.firstChild}}for(;s;)s=rm(s),o=!0;o&&r.trackWrites==t&&(r.trackWrites=null)}const OuterDecoLevel=function(t){t&&(this.nodeName=t)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(t,n,r){if(t.length==0)return noDeco;let s=r?noDeco[0]:new OuterDecoLevel,o=[s];for(let l=0;l<t.length;l++){let c=t[l].type.attrs;if(c){c.nodeName&&o.push(s=new OuterDecoLevel(c.nodeName));for(let p in c){let m=c[p];m!=null&&(r&&o.length==1&&o.push(s=new OuterDecoLevel(n.isInline?"span":"div")),p=="class"?s.class=(s.class?s.class+" ":"")+m:p=="style"?s.style=(s.style?s.style+";":"")+m:p!="nodeName"&&(s[p]=m))}}}return o}function patchOuterDeco(t,n,r,s){if(r==noDeco&&s==noDeco)return n;let o=n;for(let l=0;l<s.length;l++){let c=s[l],p=r[l];if(l){let m;p&&p.nodeName==c.nodeName&&o!=t&&(m=o.parentNode)&&m.nodeName.toLowerCase()==c.nodeName||(m=document.createElement(c.nodeName),m.pmIsDeco=!0,m.appendChild(o),p=noDeco[0]),o=m}patchAttributes(o,p||noDeco[0],c)}return o}function patchAttributes(t,n,r){for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&!(s in r)&&t.removeAttribute(s);for(let s in r)s!="class"&&s!="style"&&s!="nodeName"&&r[s]!=n[s]&&t.setAttribute(s,r[s]);if(n.class!=r.class){let s=n.class?n.class.split(" ").filter(Boolean):[],o=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)o.indexOf(s[l])==-1&&t.classList.remove(s[l]);for(let l=0;l<o.length;l++)s.indexOf(o[l])==-1&&t.classList.add(o[l]);t.classList.length==0&&t.removeAttribute("class")}if(n.style!=r.style){if(n.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=s.exec(n.style);)t.style.removeProperty(o[1])}r.style&&(t.style.cssText+=r.style)}}function applyOuterDeco(t,n,r){return patchOuterDeco(t,t,noDeco,computeOuterDeco(n,r,t.nodeType!=1))}function sameOuterDeco(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(n[r].type))return!1;return!0}function rm(t){let n=t.nextSibling;return t.parentNode.removeChild(t),n}class ViewTreeUpdater{constructor(n,r,s){this.lock=r,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=n,this.preMatch=preMatch(n.node.content,n)}destroyBetween(n,r){if(n!=r){for(let s=n;s<r;s++)this.top.children[s].destroy();this.top.children.splice(n,r-n),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,r,s){let o=0,l=this.stack.length>>1,c=Math.min(l,n.length);for(;o<c&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(n[o])&&n[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<n.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let m=this.index;m<Math.min(this.index+3,this.top.children.length);m++){let x=this.top.children[m];if(x.matchesMark(n[l])&&!this.isLocked(x.dom)){p=m;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let m=MarkViewDesc.create(this.top,n[l],r,s);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,l++}}findNodeMatch(n,r,s,o){let l=-1,c;if(o>=this.preMatch.index&&(c=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&c.matchesNode(n,r,s))l=this.top.children.indexOf(c,this.index);else for(let p=this.index,m=Math.min(this.top.children.length,p+5);p<m;p++){let x=this.top.children[p];if(x.matchesNode(n,r,s)&&!this.preMatch.matched.has(x)){l=p;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(n,r,s,o,l){let c=this.top.children[o];return c.dirty==NODE_DIRTY&&c.dom==c.contentDOM&&(c.dirty=CONTENT_DIRTY),c.update(n,r,s,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(n){for(;;){let r=n.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let s=n.pmViewDesc;if(s){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==s)return o}return-1}n=r}}updateNextNode(n,r,s,o,l,c){for(let p=this.index;p<this.top.children.length;p++){let m=this.top.children[p];if(m instanceof NodeViewDesc){let x=this.preMatch.matched.get(m);if(x!=null&&x!=l)return!1;let b=m.dom,S,R=this.isLocked(b)&&!(n.isText&&m.node&&m.node.isText&&m.nodeDOM.nodeValue==n.text&&m.dirty!=NODE_DIRTY&&sameOuterDeco(r,m.outerDeco));if(!R&&m.update(n,r,s,o))return this.destroyBetween(this.index,p),m.dom!=b&&(this.changed=!0),this.index++,!0;if(!R&&(S=this.recreateWrapper(m,n,r,s,o,c)))return this.destroyBetween(this.index,p),this.top.children[this.index]=S,S.contentDOM&&(S.dirty=CONTENT_DIRTY,S.updateChildren(o,c+1),S.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(n,r,s,o,l,c){if(n.dirty||r.isAtom||!n.children.length||!n.node.content.eq(r.content)||!sameOuterDeco(s,n.outerDeco)||!o.eq(n.innerDeco))return null;let p=NodeViewDesc.create(this.top,r,s,o,l,c);if(p.contentDOM){p.children=n.children,n.children=[];for(let m of p.children)m.parent=p}return n.destroy(),p}addNode(n,r,s,o,l){let c=NodeViewDesc.create(this.top,n,r,s,o,l);c.contentDOM&&c.updateChildren(o,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(n,r,s){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(n)&&(n==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new WidgetViewDesc(this.top,n,r,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let n=this.top.children[this.index-1],r=this.top;for(;n instanceof MarkViewDesc;)r=n,n=r.children[r.children.length-1];(!n||!(n instanceof TextViewDesc)||/\n$/.test(n.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(n.node.text))&&((safari||chrome$1)&&n&&n.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(n,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(n))this.index++;else{let s=document.createElement(n);n=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),n=="BR"&&(s.className="ProseMirror-trailingBreak");let o=new TrailingHackViewDesc(this.top,[],s,null);r!=this.top?r.children.push(o):r.children.splice(this.index++,0,o),this.changed=!0}}isLocked(n){return this.lock&&(n==this.lock||n.nodeType==1&&n.contains(this.lock.parentNode))}}function preMatch(t,n){let r=n,s=r.children.length,o=t.childCount,l=new Map,c=[];e:for(;o>0;){let p;for(;;)if(s){let x=r.children[s-1];if(x instanceof MarkViewDesc)r=x,s=x.children.length;else{p=x,s--;break}}else{if(r==n)break e;s=r.parent.children.indexOf(r),r=r.parent}let m=p.node;if(m){if(m!=t.child(o-1))break;--o,l.set(p,o),c.push(p)}}return{index:o,matched:l,matches:c.reverse()}}function compareSide(t,n){return t.type.side-n.type.side}function iterDeco(t,n,r,s){let o=n.locals(t),l=0;if(o.length==0){for(let x=0;x<t.childCount;x++){let b=t.child(x);s(b,o,n.forChild(l,b),x),l+=b.nodeSize}return}let c=0,p=[],m=null;for(let x=0;;){let b,S;for(;c<o.length&&o[c].to==l;){let G=o[c++];G.widget&&(b?(S||(S=[b])).push(G):b=G)}if(b)if(S){S.sort(compareSide);for(let G=0;G<S.length;G++)r(S[G],x,!!m)}else r(b,x,!!m);let R,k;if(m)k=-1,R=m,m=null;else if(x<t.childCount)k=x,R=t.child(x++);else break;for(let G=0;G<p.length;G++)p[G].to<=l&&p.splice(G--,1);for(;c<o.length&&o[c].from<=l&&o[c].to>l;)p.push(o[c++]);let M=l+R.nodeSize;if(R.isText){let G=M;c<o.length&&o[c].from<G&&(G=o[c].from);for(let P=0;P<p.length;P++)p[P].to<G&&(G=p[P].to);G<M&&(m=R.cut(G-l),R=R.cut(0,G-l),M=G,k=-1)}else for(;c<o.length&&o[c].to<M;)c++;let j=R.isInline&&!R.isLeaf?p.filter(G=>!G.inline):p.slice();s(R,j,n.forChild(l,R),k),l=M}}function iosHacks(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let n=t.style.cssText;t.style.cssText=n+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=n}}function findTextInFragment(t,n,r,s){for(let o=0,l=0;o<t.childCount&&l<=s;){let c=t.child(o++),p=l;if(l+=c.nodeSize,!c.isText)continue;let m=c.text;for(;o<t.childCount;){let x=t.child(o++);if(l+=x.nodeSize,!x.isText)break;m+=x.text}if(l>=r){if(l>=s&&m.slice(s-n.length-p,s-p)==n)return s-n.length;let x=p<s?m.lastIndexOf(n,s-p-1):-1;if(x>=0&&x+n.length+p>=r)return p+x;if(r==s&&m.length>=s+n.length-p&&m.slice(s-p,s-p+n.length)==n)return s}}return-1}function replaceNodes(t,n,r,s,o){let l=[];for(let c=0,p=0;c<t.length;c++){let m=t[c],x=p,b=p+=m.size;x>=r||b<=n?l.push(m):(x<n&&l.push(m.slice(0,n-x,s)),o&&(l.push(o),o=void 0),b>r&&l.push(m.slice(r-x,m.size,s)))}return l}function selectionFromDOM(t,n=null){let r=t.domSelectionRange(),s=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),l=o&&o.size==0,c=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(c<0)return null;let p=s.resolve(c),m,x;if(selectionCollapsed(r)){for(m=c;o&&!o.node;)o=o.parent;let S=o.node;if(o&&S.isAtom&&NodeSelection.isSelectable(S)&&o.parent&&!(S.isInline&&isOnEdge(r.focusNode,r.focusOffset,o.dom))){let R=o.posBefore;x=new NodeSelection(c==R?p:s.resolve(R))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let S=c,R=c;for(let k=0;k<r.rangeCount;k++){let M=r.getRangeAt(k);S=Math.min(S,t.docView.posFromDOM(M.startContainer,M.startOffset,1)),R=Math.max(R,t.docView.posFromDOM(M.endContainer,M.endOffset,-1))}if(S<0)return null;[m,c]=R==t.state.selection.anchor?[R,S]:[S,R],p=s.resolve(c)}else m=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(m<0)return null}let b=s.resolve(m);if(!x){let S=n=="pointer"||t.state.selection.head<p.pos&&!l?1:-1;x=selectionBetween(t,b,p,S)}return x}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function selectionToDOM(t,n=!1){let r=t.state.selection;if(syncNodeSelection(t,r),!!editorOwnsSelection(t)){if(!n&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&chrome$1){let s=t.domSelectionRange(),o=t.domObserver.currentSelection;if(s.anchorNode&&o.anchorNode&&isEquivalentPosition(s.anchorNode,s.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)selectCursorWrapper(t);else{let{anchor:s,head:o}=r,l,c;brokenSelectBetweenUneditable&&!(r instanceof TextSelection)&&(r.$from.parent.inlineContent||(l=temporarilyEditableNear(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(c=temporarilyEditableNear(t,r.to))),t.docView.setSelection(s,o,t,n),brokenSelectBetweenUneditable&&(l&&resetEditable(l),c&&resetEditable(c)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome$1&&chrome_version<63;function temporarilyEditableNear(t,n){let{node:r,offset:s}=t.docView.domFromPos(n,0),o=s<r.childNodes.length?r.childNodes[s]:null,l=s?r.childNodes[s-1]:null;if(safari&&o&&o.contentEditable=="false")return setEditable(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return setEditable(o);if(l)return setEditable(l)}}function setEditable(t){return t.contentEditable="true",safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function removeClassOnSelectionChange(t){let n=t.dom.ownerDocument;n.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),s=r.anchorNode,o=r.anchorOffset;n.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=s||r.anchorOffset!=o)&&(n.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(t){let n=t.domSelection();if(!n)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.collapse(r.parentNode,domIndex(r)+1):n.collapse(r,0),!s&&!t.state.selection.visible&&ie$1&&ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(t,n){if(n instanceof NodeSelection){let r=t.docView.descAt(n.from);r!=t.lastSelectedViewDesc&&(clearNodeSelection(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else clearNodeSelection(t)}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function selectionBetween(t,n,r,s){return t.someProp("createSelectionBetween",o=>o(t,n,r))||TextSelection.between(n,r,s)}function hasFocusAndSelection(t){return t.editable&&!t.hasFocus()?!1:hasSelection(t)}function hasSelection(t){let n=t.domSelectionRange();if(!n.anchorNode)return!1;try{return t.dom.contains(n.anchorNode.nodeType==3?n.anchorNode.parentNode:n.anchorNode)&&(t.editable||t.dom.contains(n.focusNode.nodeType==3?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function anchorInRightPlace(t){let n=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return isEquivalentPosition(n.node,n.offset,r.anchorNode,r.anchorOffset)}function moveSelectionBlock(t,n){let{$anchor:r,$head:s}=t.selection,o=n>0?r.max(s):r.min(s),l=o.parent.inlineContent?o.depth?t.doc.resolve(n>0?o.after():o.before()):null:o;return l&&Selection.findFrom(l,n)}function apply(t,n){return t.dispatch(t.state.tr.setSelection(n).scrollIntoView()),!0}function selectHorizontally(t,n,r){let s=t.state.selection;if(s instanceof TextSelection)if(r.indexOf("s")>-1){let{$head:o}=s,l=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=t.state.doc.resolve(o.pos+l.nodeSize*(n<0?-1:1));return apply(t,new TextSelection(s.$anchor,c))}else if(s.empty){if(t.endOfTextblock(n>0?"forward":"backward")){let o=moveSelectionBlock(t.state,n);return o&&o instanceof NodeSelection?apply(t,o):!1}else if(!(mac$2&&r.indexOf("m")>-1)){let o=s.$head,l=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter,c;if(!l||l.isText)return!1;let p=n<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(c=t.docView.descAt(p))&&!c.contentDOM?NodeSelection.isSelectable(l)?apply(t,new NodeSelection(n<0?t.state.doc.resolve(o.pos-l.nodeSize):o)):webkit?apply(t,new TextSelection(t.state.doc.resolve(n<0?p:p+l.nodeSize))):!1:!1}}else return!1;else{if(s instanceof NodeSelection&&s.node.isInline)return apply(t,new TextSelection(n>0?s.$to:s.$from));{let o=moveSelectionBlock(t.state,n);return o?apply(t,o):!1}}}function nodeLen(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function isIgnorable(t,n){let r=t.pmViewDesc;return r&&r.size==0&&(n<0||t.nextSibling||t.nodeName!="BR")}function skipIgnoredNodes(t,n){return n<0?skipIgnoredNodesBefore(t):skipIgnoredNodesAfter(t)}function skipIgnoredNodesBefore(t){let n=t.domSelectionRange(),r=n.focusNode,s=n.focusOffset;if(!r)return;let o,l,c=!1;for(gecko&&r.nodeType==1&&s<nodeLen(r)&&isIgnorable(r.childNodes[s],-1)&&(c=!0);;)if(s>0){if(r.nodeType!=1)break;{let p=r.childNodes[s-1];if(isIgnorable(p,-1))o=r,l=--s;else if(p.nodeType==3)r=p,s=r.nodeValue.length;else break}}else{if(isBlockNode(r))break;{let p=r.previousSibling;for(;p&&isIgnorable(p,-1);)o=r.parentNode,l=domIndex(p),p=p.previousSibling;if(p)r=p,s=nodeLen(r);else{if(r=r.parentNode,r==t.dom)break;s=0}}}c?setSelFocus(t,r,s):o&&setSelFocus(t,o,l)}function skipIgnoredNodesAfter(t){let n=t.domSelectionRange(),r=n.focusNode,s=n.focusOffset;if(!r)return;let o=nodeLen(r),l,c;for(;;)if(s<o){if(r.nodeType!=1)break;let p=r.childNodes[s];if(isIgnorable(p,1))l=r,c=++s;else break}else{if(isBlockNode(r))break;{let p=r.nextSibling;for(;p&&isIgnorable(p,1);)l=p.parentNode,c=domIndex(p)+1,p=p.nextSibling;if(p)r=p,s=0,o=nodeLen(r);else{if(r=r.parentNode,r==t.dom)break;s=o=0}}}l&&setSelFocus(t,l,c)}function isBlockNode(t){let n=t.pmViewDesc;return n&&n.node&&n.node.isBlock}function textNodeAfter(t,n){for(;t&&n==t.childNodes.length&&!hasBlockDesc(t);)n=domIndex(t)+1,t=t.parentNode;for(;t&&n<t.childNodes.length;){let r=t.childNodes[n];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,n=0}}function textNodeBefore(t,n){for(;t&&!n&&!hasBlockDesc(t);)n=domIndex(t),t=t.parentNode;for(;t&&n;){let r=t.childNodes[n-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,n=t.childNodes.length}}function setSelFocus(t,n,r){if(n.nodeType!=3){let l,c;(c=textNodeAfter(n,r))?(n=c,r=0):(l=textNodeBefore(n,r))&&(n=l,r=l.nodeValue.length)}let s=t.domSelection();if(!s)return;if(selectionCollapsed(s)){let l=document.createRange();l.setEnd(n,r),l.setStart(n,r),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(n,r);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&selectionToDOM(t)},50)}function findDirection(t,n){let r=t.state.doc.resolve(n);if(!(chrome$1||windows$1)&&r.parent.inlineContent){let o=t.coordsAtPos(n);if(n>r.start()){let l=t.coordsAtPos(n-1),c=(l.top+l.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(n<r.end()){let l=t.coordsAtPos(n+1),c=(l.top+l.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(t,n,r){let s=t.state.selection;if(s instanceof TextSelection&&!s.empty||r.indexOf("s")>-1||mac$2&&r.indexOf("m")>-1)return!1;let{$from:o,$to:l}=s;if(!o.parent.inlineContent||t.endOfTextblock(n<0?"up":"down")){let c=moveSelectionBlock(t.state,n);if(c&&c instanceof NodeSelection)return apply(t,c)}if(!o.parent.inlineContent){let c=n<0?o:l,p=s instanceof AllSelection?Selection.near(c,n):Selection.findFrom(c,n);return p?apply(t,p):!1}return!1}function stopNativeHorizontalDelete(t,n){if(!(t.state.selection instanceof TextSelection))return!0;let{$head:r,$anchor:s,empty:o}=t.state.selection;if(!r.sameParent(s))return!0;if(!o)return!1;if(t.endOfTextblock(n>0?"forward":"backward"))return!0;let l=!r.textOffset&&(n<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let c=t.state.tr;return n<0?c.delete(r.pos-l.nodeSize,r.pos):c.delete(r.pos,r.pos+l.nodeSize),t.dispatch(c),!0}return!1}function switchEditable(t,n,r){t.domObserver.stop(),n.contentEditable=r,t.domObserver.start()}function safariDownArrowBug(t){if(!safari||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:r}=t.domSelectionRange();if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){let s=n.firstChild;switchEditable(t,s,"true"),setTimeout(()=>switchEditable(t,s,"false"),20)}return!1}function getMods(t){let n="";return t.ctrlKey&&(n+="c"),t.metaKey&&(n+="m"),t.altKey&&(n+="a"),t.shiftKey&&(n+="s"),n}function captureKeyDown(t,n){let r=n.keyCode,s=getMods(n);if(r==8||mac$2&&r==72&&s=="c")return stopNativeHorizontalDelete(t,-1)||skipIgnoredNodes(t,-1);if(r==46&&!n.shiftKey||mac$2&&r==68&&s=="c")return stopNativeHorizontalDelete(t,1)||skipIgnoredNodes(t,1);if(r==13||r==27)return!0;if(r==37||mac$2&&r==66&&s=="c"){let o=r==37?findDirection(t,t.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(t,o,s)||skipIgnoredNodes(t,o)}else if(r==39||mac$2&&r==70&&s=="c"){let o=r==39?findDirection(t,t.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(t,o,s)||skipIgnoredNodes(t,o)}else{if(r==38||mac$2&&r==80&&s=="c")return selectVertically(t,-1,s)||skipIgnoredNodes(t,-1);if(r==40||mac$2&&r==78&&s=="c")return safariDownArrowBug(t)||selectVertically(t,1,s)||skipIgnoredNodes(t,1);if(s==(mac$2?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function serializeForClipboard(t,n){t.someProp("transformCopied",k=>{n=k(n,t)});let r=[],{content:s,openStart:o,openEnd:l}=n;for(;o>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){o--,l--;let k=s.firstChild;r.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),s=k.content}let c=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),p=detachedDoc(),m=p.createElement("div");m.appendChild(c.serializeFragment(s,{document:p}));let x=m.firstChild,b,S=0;for(;x&&x.nodeType==1&&(b=wrapMap[x.nodeName.toLowerCase()]);){for(let k=b.length-1;k>=0;k--){let M=p.createElement(b[k]);for(;m.firstChild;)M.appendChild(m.firstChild);m.appendChild(M),S++}x=m.firstChild}x&&x.nodeType==1&&x.setAttribute("data-pm-slice",`${o} ${l}${S?` -${S}`:""} ${JSON.stringify(r)}`);let R=t.someProp("clipboardTextSerializer",k=>k(n,t))||n.content.textBetween(0,n.content.size,`

`);return{dom:m,text:R,slice:n}}function parseFromClipboard(t,n,r,s,o){let l=o.parent.type.spec.code,c,p;if(!r&&!n)return null;let m=!!n&&(s||l||!r);if(m){if(t.someProp("transformPastedText",R=>{n=R(n,l||s,t)}),l)return p=new Slice(Fragment.from(t.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",R=>{p=R(p,t,!0)}),p;let S=t.someProp("clipboardTextParser",R=>R(n,o,s,t));if(S)p=S;else{let R=o.marks(),{schema:k}=t.state,M=DOMSerializer.fromSchema(k);c=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(j=>{let G=c.appendChild(document.createElement("p"));j&&G.appendChild(M.serializeNode(k.text(j,R)))})}}else t.someProp("transformPastedHTML",S=>{r=S(r,t)}),c=readHTML(r),webkit&&restoreReplacedSpaces(c);let x=c&&c.querySelector("[data-pm-slice]"),b=x&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(x.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let S=+b[3];S>0;S--){let R=c.firstChild;for(;R&&R.nodeType!=1;)R=R.nextSibling;if(!R)break;c=R}if(p||(p=(t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(m||b),context:o,ruleFromNode(R){return R.nodeName=="BR"&&!R.nextSibling&&R.parentNode&&!inlineParents.test(R.parentNode.nodeName)?{ignore:!0}:null}})),b)p=addContext(closeSlice(p,+b[1],+b[2]),b[4]);else if(p=Slice.maxOpen(normalizeSiblings(p.content,o),!0),p.openStart||p.openEnd){let S=0,R=0;for(let k=p.content.firstChild;S<p.openStart&&!k.type.spec.isolating;S++,k=k.firstChild);for(let k=p.content.lastChild;R<p.openEnd&&!k.type.spec.isolating;R++,k=k.lastChild);p=closeSlice(p,S,R)}return t.someProp("transformPasted",S=>{p=S(p,t,m)}),p}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,n){if(t.childCount<2)return t;for(let r=n.depth;r>=0;r--){let o=n.node(r).contentMatchAt(n.index(r)),l,c=[];if(t.forEach(p=>{if(!c)return;let m=o.findWrapping(p.type),x;if(!m)return c=null;if(x=c.length&&l.length&&addToSibling(m,l,p,c[c.length-1],0))c[c.length-1]=x;else{c.length&&(c[c.length-1]=closeRight(c[c.length-1],l.length));let b=withWrappers(p,m);c.push(b),o=o.matchType(b.type),l=m}}),c)return Fragment.from(c)}return t}function withWrappers(t,n,r=0){for(let s=n.length-1;s>=r;s--)t=n[s].create(null,Fragment.from(t));return t}function addToSibling(t,n,r,s,o){if(o<t.length&&o<n.length&&t[o]==n[o]){let l=addToSibling(t,n,r,s.lastChild,o+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(o==t.length-1?r.type:t[o+1]))return s.copy(s.content.append(Fragment.from(withWrappers(r,t,o+1))))}}function closeRight(t,n){if(n==0)return t;let r=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,n-1)),s=t.contentMatchAt(t.childCount).fillBefore(Fragment.empty,!0);return t.copy(r.append(s))}function closeRange(t,n,r,s,o,l){let c=n<0?t.firstChild:t.lastChild,p=c.content;return t.childCount>1&&(l=0),o<s-1&&(p=closeRange(p,n,r,s,o+1,l)),o>=r&&(p=n<0?c.contentMatchAt(0).fillBefore(p,l<=o).append(p):p.append(c.contentMatchAt(c.childCount).fillBefore(Fragment.empty,!0))),t.replaceChild(n<0?0:t.childCount-1,c.copy(p))}function closeSlice(t,n,r){return n<t.openStart&&(t=new Slice(closeRange(t.content,-1,n,t.openStart,0,t.openEnd),n,t.openEnd)),r<t.openEnd&&(t=new Slice(closeRange(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(t){let n=window.trustedTypes;return n?(_policy||(_policy=n.defaultPolicy||n.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),_policy.createHTML(t)):t}function readHTML(t){let n=/^(\s*<meta [^>]*>)*/.exec(t);n&&(t=t.slice(n[0].length));let r=detachedDoc().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),o;if((o=s&&wrapMap[s[1].toLowerCase()])&&(t=o.map(l=>"<"+l+">").join("")+t+o.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=maybeWrapTrusted(t),o)for(let l=0;l<o.length;l++)r=r.querySelector(o[l])||r;return r}function restoreReplacedSpaces(t){let n=t.querySelectorAll(chrome$1?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<n.length;r++){let s=n[r];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function addContext(t,n){if(!t.size)return t;let r=t.content.firstChild.type.schema,s;try{s=JSON.parse(n)}catch{return t}let{content:o,openStart:l,openEnd:c}=t;for(let p=s.length-2;p>=0;p-=2){let m=r.nodes[s[p]];if(!m||m.hasRequiredAttrs())break;o=Fragment.from(m.create(s[p+1],o)),l++,c++}return new Slice(o,l,c)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(t){for(let n in handlers){let r=handlers[n];t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>{eventBelongsToView(t,s)&&!runCustomHandler(t,s)&&(t.editable||!(s.type in editHandlers))&&r(t,s)},passiveHandlers[n]?{passive:!0}:void 0)}safari&&t.dom.addEventListener("input",()=>null),ensureListeners(t)}function setSelectionOrigin(t,n){t.input.lastSelectionOrigin=n,t.input.lastSelectionTime=Date.now()}function destroyInput(t){t.domObserver.stop();for(let n in t.input.eventHandlers)t.dom.removeEventListener(n,t.input.eventHandlers[n]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ensureListeners(t){t.someProp("handleDOMEvents",n=>{for(let r in n)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=s=>runCustomHandler(t,s))})}function runCustomHandler(t,n){return t.someProp("handleDOMEvents",r=>{let s=r[n.type];return s?s(t,n)||n.defaultPrevented:!1})}function eventBelongsToView(t,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(n))return!1;return!0}function dispatchEvent(t,n){!runCustomHandler(t,n)&&handlers[n.type]&&(t.editable||!(n.type in editHandlers))&&handlers[n.type](t,n)}editHandlers.keydown=(t,n)=>{let r=n;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!inOrNearComposition(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(android&&chrome$1&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ios&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",o=>o(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,r))||captureKeyDown(t,r)?r.preventDefault():setSelectionOrigin(t,"key")};editHandlers.keyup=(t,n)=>{n.keyCode==16&&(t.input.shiftKey=!1)};editHandlers.keypress=(t,n)=>{let r=n;if(inOrNearComposition(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||mac$2&&r.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,r))){r.preventDefault();return}let s=t.state.selection;if(!(s instanceof TextSelection)||!s.$from.sameParent(s.$to)){let o=String.fromCharCode(r.charCode),l=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",c=>c(t,s.$from.pos,s.$to.pos,o,l))&&t.dispatch(l()),r.preventDefault()}};function eventCoords(t){return{left:t.clientX,top:t.clientY}}function isNear(t,n){let r=n.x-t.clientX,s=n.y-t.clientY;return r*r+s*s<100}function runHandlerOnContext(t,n,r,s,o){if(s==-1)return!1;let l=t.state.doc.resolve(s);for(let c=l.depth+1;c>0;c--)if(t.someProp(n,p=>c>l.depth?p(t,r,l.nodeAfter,l.before(c),o,!0):p(t,r,l.node(c),l.before(c),o,!1)))return!0;return!1}function updateSelection(t,n,r){if(t.focused||t.focus(),t.state.selection.eq(n))return;let s=t.state.tr.setSelection(n);s.setMeta("pointer",!0),t.dispatch(s)}function selectClickedLeaf(t,n){if(n==-1)return!1;let r=t.state.doc.resolve(n),s=r.nodeAfter;return s&&s.isAtom&&NodeSelection.isSelectable(s)?(updateSelection(t,new NodeSelection(r)),!0):!1}function selectClickedNode(t,n){if(n==-1)return!1;let r=t.state.selection,s,o;r instanceof NodeSelection&&(s=r.node);let l=t.state.doc.resolve(n);for(let c=l.depth+1;c>0;c--){let p=c>l.depth?l.nodeAfter:l.node(c);if(NodeSelection.isSelectable(p)){s&&r.$from.depth>0&&c>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?o=l.before(r.$from.depth):o=l.before(c);break}}return o!=null?(updateSelection(t,NodeSelection.create(t.state.doc,o)),!0):!1}function handleSingleClick(t,n,r,s,o){return runHandlerOnContext(t,"handleClickOn",n,r,s)||t.someProp("handleClick",l=>l(t,n,s))||(o?selectClickedNode(t,r):selectClickedLeaf(t,r))}function handleDoubleClick(t,n,r,s){return runHandlerOnContext(t,"handleDoubleClickOn",n,r,s)||t.someProp("handleDoubleClick",o=>o(t,n,s))}function handleTripleClick(t,n,r,s){return runHandlerOnContext(t,"handleTripleClickOn",n,r,s)||t.someProp("handleTripleClick",o=>o(t,n,s))||defaultTripleClick(t,r,s)}function defaultTripleClick(t,n,r){if(r.button!=0)return!1;let s=t.state.doc;if(n==-1)return s.inlineContent?(updateSelection(t,TextSelection.create(s,0,s.content.size)),!0):!1;let o=s.resolve(n);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l),p=o.before(l);if(c.inlineContent)updateSelection(t,TextSelection.create(s,p+1,p+1+c.content.size));else if(NodeSelection.isSelectable(c))updateSelection(t,NodeSelection.create(s,p));else continue;return!0}}function forceDOMFlush(t){return endComposition(t)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(t,n)=>{let r=n;t.input.shiftKey=r.shiftKey;let s=forceDOMFlush(t),o=Date.now(),l="singleClick";o-t.input.lastClick.time<500&&isNear(r,t.input.lastClick)&&!r[selectNodeModifier]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:o,x:r.clientX,y:r.clientY,type:l,button:r.button};let c=t.posAtCoords(eventCoords(r));c&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MouseDown(t,c,r,!!s)):(l=="doubleClick"?handleDoubleClick:handleTripleClick)(t,c.pos,c.inside,r)?r.preventDefault():setSelectionOrigin(t,"pointer"))};class MouseDown{constructor(n,r,s,o){this.view=n,this.pos=r,this.event=s,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=n.state.doc,this.selectNode=!!s[selectNodeModifier],this.allowDefault=s.shiftKey;let l,c;if(r.inside>-1)l=n.state.doc.nodeAt(r.inside),c=r.inside;else{let b=n.state.doc.resolve(r.pos);l=b.parent,c=b.depth?b.before():0}const p=o?null:s.target,m=p?n.docView.nearestDesc(p,!0):null;this.target=m&&m.nodeDOM.nodeType==1?m.nodeDOM:null;let{selection:x}=n.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||x instanceof NodeSelection&&x.from<=c&&x.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),n.root.addEventListener("mouseup",this.up=this.up.bind(this)),n.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(n,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(n){if(this.done(),!this.view.dom.contains(n.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(eventCoords(n))),this.updateAllowDefault(n),this.allowDefault||!r?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,r.pos,r.inside,n,this.selectNode)?n.preventDefault():n.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome$1&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(r.pos))),n.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(n){this.updateAllowDefault(n),setSelectionOrigin(this.view,"pointer"),n.buttons==0&&this.done()}updateAllowDefault(n){!this.allowDefault&&(Math.abs(this.event.x-n.clientX)>4||Math.abs(this.event.y-n.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=t=>{t.input.lastTouch=Date.now(),forceDOMFlush(t),setSelectionOrigin(t,"pointer")};handlers.touchmove=t=>{t.input.lastTouch=Date.now(),setSelectionOrigin(t,"pointer")};handlers.contextmenu=t=>forceDOMFlush(t);function inOrNearComposition(t,n){return t.composing?!0:safari&&Math.abs(n.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:n}=t,r=n.selection.$to;if(n.selection instanceof TextSelection&&(n.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t,!n.selection.empty),gecko&&n.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let s=t.domSelectionRange();for(let o=s.focusNode,l=s.focusOffset;o&&o.nodeType==1&&l!=0;){let c=l<0?o.lastChild:o.childNodes[l-1];if(!c)break;if(c.nodeType==3){let p=t.domSelection();p&&p.collapse(c,c.nodeValue.length);break}else o=c,l=-1}}t.input.composing=!0}scheduleComposeEnd(t,timeoutComposition)};editHandlers.compositionend=(t,n)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=n.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,scheduleComposeEnd(t,20))};function scheduleComposeEnd(t,n){clearTimeout(t.input.composingTimeout),n>-1&&(t.input.composingTimeout=setTimeout(()=>endComposition(t),n))}function clearComposition(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=timestampFromCustomEvent());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(t){let n=t.domSelectionRange();if(!n.focusNode)return null;let r=textNodeBefore$1(n.focusNode,n.focusOffset),s=textNodeAfter$1(n.focusNode,n.focusOffset);if(r&&s&&r!=s){let o=s.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(r==l||s==l)return l;if(!o||!o.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let c=r.pmViewDesc;if(!(!c||!c.isText(r.nodeValue)))return s}}return r||s}function timestampFromCustomEvent(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function endComposition(t,n=!1){if(!(android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),n||t.docView&&t.docView.dirty){let r=selectionFromDOM(t),s=t.state.selection;return r&&!r.eq(s)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||n)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function captureCopy(t,n){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(n),r.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),o=document.createRange();o.selectNodeContents(n),t.dom.blur(),s.removeAllRanges(),s.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(t,n)=>{let r=n,s=t.state.selection,o=r.type=="cut";if(s.empty)return;let l=brokenClipboardAPI?null:r.clipboardData,c=s.content(),{dom:p,text:m}=serializeForClipboard(t,c);l?(r.preventDefault(),l.clearData(),l.setData("text/html",p.innerHTML),l.setData("text/plain",m)):captureCopy(t,p),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function capturePaste(t,n){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),r?doPaste(t,s.value,null,o,n):doPaste(t,s.textContent,s.innerHTML,o,n)},50)}function doPaste(t,n,r,s,o){let l=parseFromClipboard(t,n,r,s,t.state.selection.$from);if(t.someProp("handlePaste",m=>m(t,o,l||Slice.empty)))return!0;if(!l)return!1;let c=sliceSingleNode(l),p=c?t.state.tr.replaceSelectionWith(c,s):t.state.tr.replaceSelection(l);return t.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(t){let n=t.getData("text/plain")||t.getData("Text");if(n)return n;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}editHandlers.paste=(t,n)=>{let r=n;if(t.composing&&!android)return;let s=brokenClipboardAPI?null:r.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&doPaste(t,getText$1(s),s.getData("text/html"),o,r)?r.preventDefault():capturePaste(t,r)};class Dragging{constructor(n,r,s){this.slice=n,this.move=r,this.node=s}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(t,n){let r=t.someProp("dragCopies",s=>!s(n));return r??!n[dragCopyModifier]}handlers.dragstart=(t,n)=>{let r=n,s=t.input.mouseDown;if(s&&s.done(),!r.dataTransfer)return;let o=t.state.selection,l=o.empty?null:t.posAtCoords(eventCoords(r)),c;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof NodeSelection?o.to-1:o.to))){if(s&&s.mightDrag)c=NodeSelection.create(t.state.doc,s.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let S=t.docView.nearestDesc(r.target,!0);S&&S.node.type.spec.draggable&&S!=t.docView&&(c=NodeSelection.create(t.state.doc,S.posBefore))}}let p=(c||t.state.selection).content(),{dom:m,text:x,slice:b}=serializeForClipboard(t,p);(!r.dataTransfer.files.length||!chrome$1||chrome_version>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",m.innerHTML),r.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||r.dataTransfer.setData("text/plain",x),t.dragging=new Dragging(b,dragMoves(t,r),c)};handlers.dragend=t=>{let n=t.dragging;window.setTimeout(()=>{t.dragging==n&&(t.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(t,n)=>n.preventDefault();editHandlers.drop=(t,n)=>{let r=n,s=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let o=t.posAtCoords(eventCoords(r));if(!o)return;let l=t.state.doc.resolve(o.pos),c=s&&s.slice;c?t.someProp("transformPasted",M=>{c=M(c,t,!1)}):c=parseFromClipboard(t,getText$1(r.dataTransfer),brokenClipboardAPI?null:r.dataTransfer.getData("text/html"),!1,l);let p=!!(s&&dragMoves(t,r));if(t.someProp("handleDrop",M=>M(t,r,c||Slice.empty,p))){r.preventDefault();return}if(!c)return;r.preventDefault();let m=c?dropPoint(t.state.doc,l.pos,c):l.pos;m==null&&(m=l.pos);let x=t.state.tr;if(p){let{node:M}=s;M?M.replace(x):x.deleteSelection()}let b=x.mapping.map(m),S=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,R=x.doc;if(S?x.replaceRangeWith(b,b,c.content.firstChild):x.replaceRange(b,b,c),x.doc.eq(R))return;let k=x.doc.resolve(b);if(S&&NodeSelection.isSelectable(c.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(c.content.firstChild))x.setSelection(new NodeSelection(k));else{let M=x.mapping.map(m);x.mapping.maps[x.mapping.maps.length-1].forEach((j,G,P,Q)=>M=Q),x.setSelection(selectionBetween(t,k,x.doc.resolve(M)))}t.focus(),t.dispatch(x.setMeta("uiEvent","drop"))};handlers.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&selectionToDOM(t)},20))};handlers.blur=(t,n)=>{let r=n;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};handlers.beforeinput=(t,n)=>{if(chrome$1&&android&&n.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,keyEvent(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in editHandlers)handlers[t]=editHandlers[t];function compareObjs(t,n){if(t==n)return!0;for(let r in t)if(t[r]!==n[r])return!1;for(let r in n)if(!(r in t))return!1;return!0}class WidgetType{constructor(n,r){this.toDOM=n,this.spec=r||noSpec,this.side=this.spec.side||0}map(n,r,s,o){let{pos:l,deleted:c}=n.mapResult(r.from+o,this.side<0?-1:1);return c?null:new Decoration(l-s,l-s,this)}valid(){return!0}eq(n){return this==n||n instanceof WidgetType&&(this.spec.key&&this.spec.key==n.spec.key||this.toDOM==n.toDOM&&compareObjs(this.spec,n.spec))}destroy(n){this.spec.destroy&&this.spec.destroy(n)}}class InlineType{constructor(n,r){this.attrs=n,this.spec=r||noSpec}map(n,r,s,o){let l=n.map(r.from+o,this.spec.inclusiveStart?-1:1)-s,c=n.map(r.to+o,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new Decoration(l,c,this)}valid(n,r){return r.from<r.to}eq(n){return this==n||n instanceof InlineType&&compareObjs(this.attrs,n.attrs)&&compareObjs(this.spec,n.spec)}static is(n){return n.type instanceof InlineType}destroy(){}}class NodeType{constructor(n,r){this.attrs=n,this.spec=r||noSpec}map(n,r,s,o){let l=n.mapResult(r.from+o,1);if(l.deleted)return null;let c=n.mapResult(r.to+o,-1);return c.deleted||c.pos<=l.pos?null:new Decoration(l.pos-s,c.pos-s,this)}valid(n,r){let{index:s,offset:o}=n.content.findIndex(r.from),l;return o==r.from&&!(l=n.child(s)).isText&&o+l.nodeSize==r.to}eq(n){return this==n||n instanceof NodeType&&compareObjs(this.attrs,n.attrs)&&compareObjs(this.spec,n.spec)}destroy(){}}class Decoration{constructor(n,r,s){this.from=n,this.to=r,this.type=s}copy(n,r){return new Decoration(n,r,this.type)}eq(n,r=0){return this.type.eq(n.type)&&this.from+r==n.from&&this.to+r==n.to}map(n,r,s){return this.type.map(n,this,r,s)}static widget(n,r,s){return new Decoration(n,n,new WidgetType(r,s))}static inline(n,r,s,o){return new Decoration(n,r,new InlineType(s,o))}static node(n,r,s,o){return new Decoration(n,r,new NodeType(s,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(n,r){this.local=n.length?n:none,this.children=r.length?r:none}static create(n,r){return r.length?buildTree(r,n,0,noSpec):empty}find(n,r,s){let o=[];return this.findInner(n??0,r??1e9,o,0,s),o}findInner(n,r,s,o,l){for(let c=0;c<this.local.length;c++){let p=this.local[c];p.from<=r&&p.to>=n&&(!l||l(p.spec))&&s.push(p.copy(p.from+o,p.to+o))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>n){let p=this.children[c]+1;this.children[c+2].findInner(n-p,r-p,s,o+p,l)}}map(n,r,s){return this==empty||n.maps.length==0?this:this.mapInner(n,r,0,0,s||noSpec)}mapInner(n,r,s,o,l){let c;for(let p=0;p<this.local.length;p++){let m=this.local[p].map(n,s,o);m&&m.type.valid(r,m)?(c||(c=[])).push(m):l.onRemove&&l.onRemove(this.local[p].spec)}return this.children.length?mapChildren(this.children,c||[],n,r,s,o,l):c?new DecorationSet(c.sort(byPos),none):empty}add(n,r){return r.length?this==empty?DecorationSet.create(n,r):this.addInner(n,r,0):this}addInner(n,r,s){let o,l=0;n.forEach((p,m)=>{let x=m+s,b;if(b=takeSpansForNode(r,p,x)){for(o||(o=this.children.slice());l<o.length&&o[l]<m;)l+=3;o[l]==m?o[l+2]=o[l+2].addInner(p,b,x+1):o.splice(l,0,m,m+p.nodeSize,buildTree(b,p,x+1,noSpec)),l+=3}});let c=moveSpans(l?withoutNulls(r):r,-s);for(let p=0;p<c.length;p++)c[p].type.valid(n,c[p])||c.splice(p--,1);return new DecorationSet(c.length?this.local.concat(c).sort(byPos):this.local,o||this.children)}remove(n){return n.length==0||this==empty?this:this.removeInner(n,0)}removeInner(n,r){let s=this.children,o=this.local;for(let l=0;l<s.length;l+=3){let c,p=s[l]+r,m=s[l+1]+r;for(let b=0,S;b<n.length;b++)(S=n[b])&&S.from>p&&S.to<m&&(n[b]=null,(c||(c=[])).push(S));if(!c)continue;s==this.children&&(s=this.children.slice());let x=s[l+2].removeInner(c,p+1);x!=empty?s[l+2]=x:(s.splice(l,3),l-=3)}if(o.length){for(let l=0,c;l<n.length;l++)if(c=n[l])for(let p=0;p<o.length;p++)o[p].eq(c,r)&&(o==this.local&&(o=this.local.slice()),o.splice(p--,1))}return s==this.children&&o==this.local?this:o.length||s.length?new DecorationSet(o,s):empty}forChild(n,r){if(this==empty)return this;if(r.isLeaf)return DecorationSet.empty;let s,o;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=n){this.children[p]==n&&(s=this.children[p+2]);break}let l=n+1,c=l+r.content.size;for(let p=0;p<this.local.length;p++){let m=this.local[p];if(m.from<c&&m.to>l&&m.type instanceof InlineType){let x=Math.max(l,m.from)-l,b=Math.min(c,m.to)-l;x<b&&(o||(o=[])).push(m.copy(x,b))}}if(o){let p=new DecorationSet(o.sort(byPos),none);return s?new DecorationGroup([p,s]):p}return s||empty}eq(n){if(this==n)return!0;if(!(n instanceof DecorationSet)||this.local.length!=n.local.length||this.children.length!=n.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(n.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=n.children[r]||this.children[r+1]!=n.children[r+1]||!this.children[r+2].eq(n.children[r+2]))return!1;return!0}locals(n){return removeOverlap(this.localsInner(n))}localsInner(n){if(this==empty)return none;if(n.inlineContent||!this.local.some(InlineType.is))return this.local;let r=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof InlineType||r.push(this.local[s]);return r}forEachSet(n){n(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(n){this.members=n}map(n,r){const s=this.members.map(o=>o.map(n,r,noSpec));return DecorationGroup.from(s)}forChild(n,r){if(r.isLeaf)return DecorationSet.empty;let s=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(n,r);l!=empty&&(l instanceof DecorationGroup?s=s.concat(l.members):s.push(l))}return DecorationGroup.from(s)}eq(n){if(!(n instanceof DecorationGroup)||n.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(n.members[r]))return!1;return!0}locals(n){let r,s=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(n);if(l.length)if(!r)r=l;else{s&&(r=r.slice(),s=!1);for(let c=0;c<l.length;c++)r.push(l[c])}}return r?removeOverlap(s?r:r.sort(byPos)):none}static from(n){switch(n.length){case 0:return empty;case 1:return n[0];default:return new DecorationGroup(n.every(r=>r instanceof DecorationSet)?n:n.reduce((r,s)=>r.concat(s instanceof DecorationSet?s:s.members),[]))}}forEachSet(n){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(n)}}function mapChildren(t,n,r,s,o,l,c){let p=t.slice();for(let x=0,b=l;x<r.maps.length;x++){let S=0;r.maps[x].forEach((R,k,M,j)=>{let G=j-M-(k-R);for(let P=0;P<p.length;P+=3){let Q=p[P+1];if(Q<0||R>Q+b-S)continue;let H=p[P]+b-S;k>=H?p[P+1]=R<=H?-2:-1:R>=b&&G&&(p[P]+=G,p[P+1]+=G)}S+=G}),b=r.maps[x].map(b,-1)}let m=!1;for(let x=0;x<p.length;x+=3)if(p[x+1]<0){if(p[x+1]==-2){m=!0,p[x+1]=-1;continue}let b=r.map(t[x]+l),S=b-o;if(S<0||S>=s.content.size){m=!0;continue}let R=r.map(t[x+1]+l,-1),k=R-o,{index:M,offset:j}=s.content.findIndex(S),G=s.maybeChild(M);if(G&&j==S&&j+G.nodeSize==k){let P=p[x+2].mapInner(r,G,b+1,t[x]+l+1,c);P!=empty?(p[x]=S,p[x+1]=k,p[x+2]=P):(p[x+1]=-2,m=!0)}else m=!0}if(m){let x=mapAndGatherRemainingDecorations(p,t,n,r,o,l,c),b=buildTree(x,s,0,c);n=b.local;for(let S=0;S<p.length;S+=3)p[S+1]<0&&(p.splice(S,3),S-=3);for(let S=0,R=0;S<b.children.length;S+=3){let k=b.children[S];for(;R<p.length&&p[R]<k;)R+=3;p.splice(R,0,b.children[S],b.children[S+1],b.children[S+2])}}return new DecorationSet(n.sort(byPos),p)}function moveSpans(t,n){if(!n||!t.length)return t;let r=[];for(let s=0;s<t.length;s++){let o=t[s];r.push(new Decoration(o.from+n,o.to+n,o.type))}return r}function mapAndGatherRemainingDecorations(t,n,r,s,o,l,c){function p(m,x){for(let b=0;b<m.local.length;b++){let S=m.local[b].map(s,o,x);S?r.push(S):c.onRemove&&c.onRemove(m.local[b].spec)}for(let b=0;b<m.children.length;b+=3)p(m.children[b+2],m.children[b]+x+1)}for(let m=0;m<t.length;m+=3)t[m+1]==-1&&p(t[m+2],n[m]+l+1);return r}function takeSpansForNode(t,n,r){if(n.isLeaf)return null;let s=r+n.nodeSize,o=null;for(let l=0,c;l<t.length;l++)(c=t[l])&&c.from>r&&c.to<s&&((o||(o=[])).push(c),t[l]=null);return o}function withoutNulls(t){let n=[];for(let r=0;r<t.length;r++)t[r]!=null&&n.push(t[r]);return n}function buildTree(t,n,r,s){let o=[],l=!1;n.forEach((p,m)=>{let x=takeSpansForNode(t,p,m+r);if(x){l=!0;let b=buildTree(x,p,r+m+1,s);b!=empty&&o.push(m,m+p.nodeSize,b)}});let c=moveSpans(l?withoutNulls(t):t,-r).sort(byPos);for(let p=0;p<c.length;p++)c[p].type.valid(n,c[p])||(s.onRemove&&s.onRemove(c[p].spec),c.splice(p--,1));return c.length||o.length?new DecorationSet(c,o):empty}function byPos(t,n){return t.from-n.from||t.to-n.to}function removeOverlap(t){let n=t;for(let r=0;r<n.length-1;r++){let s=n[r];if(s.from!=s.to)for(let o=r+1;o<n.length;o++){let l=n[o];if(l.from==s.from){l.to!=s.to&&(n==t&&(n=t.slice()),n[o]=l.copy(l.from,s.to),insertAhead(n,o+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(n==t&&(n=t.slice()),n[r]=s.copy(s.from,l.from),insertAhead(n,o,s.copy(l.from,s.to)));break}}}return n}function insertAhead(t,n,r){for(;n<t.length&&byPos(r,t[n])>0;)n++;t.splice(n,0,r)}function viewDecorations(t){let n=[];return t.someProp("decorations",r=>{let s=r(t.state);s&&s!=empty&&n.push(s)}),t.cursorWrapper&&n.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(n)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(n){this.anchorNode=n.anchorNode,this.anchorOffset=n.anchorOffset,this.focusNode=n.focusNode,this.focusOffset=n.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(n){return n.anchorNode==this.anchorNode&&n.anchorOffset==this.anchorOffset&&n.focusNode==this.focusNode&&n.focusOffset==this.focusOffset}}class DOMObserver{constructor(n,r){this.view=n,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let o=0;o<s.length;o++)this.queue.push(s[o]);ie$1&&ie_version<=11&&s.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let n=this.observer.takeRecords();if(n.length){for(let r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let n=this.view.domSelectionRange();if(n.focusNode&&isEquivalentPosition(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(n){if(!n.focusNode)return!0;let r=new Set,s;for(let l=n.focusNode;l;l=parentNode(l))r.add(l);for(let l=n.anchorNode;l;l=parentNode(l))if(r.has(l)){s=l;break}let o=s&&this.view.docView.nearestDesc(s);if(o&&o.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}flush(){let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let s=n.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&hasFocusAndSelection(n)&&!this.ignoreSelectionChange(s),l=-1,c=-1,p=!1,m=[];if(n.editable)for(let b=0;b<r.length;b++){let S=this.registerMutation(r[b],m);S&&(l=l<0?S.from:Math.min(S.from,l),c=c<0?S.to:Math.max(S.to,c),S.typeOver&&(p=!0))}if(gecko&&m.length){let b=m.filter(S=>S.nodeName=="BR");if(b.length==2){let[S,R]=b;S.parentNode&&S.parentNode.parentNode==R.parentNode?R.remove():S.remove()}else{let{focusNode:S}=this.currentSelection;for(let R of b){let k=R.parentNode;k&&k.nodeName=="LI"&&(!S||blockParent(n,S)!=k)&&R.remove()}}}let x=null;l<0&&o&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&selectionCollapsed(s)&&(x=selectionFromDOM(n))&&x.eq(Selection.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,selectionToDOM(n),this.currentSelection.set(s),n.scrollToSelection()):(l>-1||o)&&(l>-1&&(n.docView.markDirty(l,c),checkCSS(n)),this.handleDOMChange(l,c,p,m),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(s)||selectionToDOM(n),this.currentSelection.set(s))}registerMutation(n,r){if(r.indexOf(n.target)>-1)return null;let s=this.view.docView.nearestDesc(n.target);if(n.type=="attributes"&&(s==this.view.docView||n.attributeName=="contenteditable"||n.attributeName=="style"&&!n.oldValue&&!n.target.getAttribute("style"))||!s||s.ignoreMutation(n))return null;if(n.type=="childList"){for(let b=0;b<n.addedNodes.length;b++){let S=n.addedNodes[b];r.push(S),S.nodeType==3&&(this.lastChangedTextNode=S)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(n.target))return{from:s.posBefore,to:s.posAfter};let o=n.previousSibling,l=n.nextSibling;if(ie$1&&ie_version<=11&&n.addedNodes.length)for(let b=0;b<n.addedNodes.length;b++){let{previousSibling:S,nextSibling:R}=n.addedNodes[b];(!S||Array.prototype.indexOf.call(n.addedNodes,S)<0)&&(o=S),(!R||Array.prototype.indexOf.call(n.addedNodes,R)<0)&&(l=R)}let c=o&&o.parentNode==n.target?domIndex(o)+1:0,p=s.localPosFromDOM(n.target,c,-1),m=l&&l.parentNode==n.target?domIndex(l):n.target.childNodes.length,x=s.localPosFromDOM(n.target,m,1);return{from:p,to:x}}else return n.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=n.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:n.target.nodeValue==n.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(t){if(!cssChecked.has(t)&&(cssChecked.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(t,n){let r=n.startContainer,s=n.startOffset,o=n.endContainer,l=n.endOffset,c=t.domAtPos(t.state.selection.anchor);return isEquivalentPosition(c.node,c.offset,o,l)&&([r,s,o,l]=[o,l,r,s]),{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l}}function safariShadowSelectionRange(t,n){if(n.getComposedRanges){let o=n.getComposedRanges(t.root)[0];if(o)return rangeToSelectionRange(t,o)}let r;function s(o){o.preventDefault(),o.stopImmediatePropagation(),r=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),r?rangeToSelectionRange(t,r):null}function blockParent(t,n){for(let r=n.parentNode;r&&r!=t.dom;r=r.parentNode){let s=t.docView.nearestDesc(r,!0);if(s&&s.node.isBlock)return r}return null}function parseBetween(t,n,r){let{node:s,fromOffset:o,toOffset:l,from:c,to:p}=t.docView.parseRange(n,r),m=t.domSelectionRange(),x,b=m.anchorNode;if(b&&t.dom.contains(b.nodeType==1?b:b.parentNode)&&(x=[{node:b,offset:m.anchorOffset}],selectionCollapsed(m)||x.push({node:m.focusNode,offset:m.focusOffset})),chrome$1&&t.input.lastKeyCode===8)for(let G=l;G>o;G--){let P=s.childNodes[G-1],Q=P.pmViewDesc;if(P.nodeName=="BR"&&!Q){l=G;break}if(!Q||Q.size)break}let S=t.state.doc,R=t.someProp("domParser")||DOMParser.fromSchema(t.state.schema),k=S.resolve(c),M=null,j=R.parse(s,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:o,to:l,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:x,ruleFromNode,context:k});if(x&&x[0].pos!=null){let G=x[0].pos,P=x[1]&&x[1].pos;P==null&&(P=G),M={anchor:G+c,head:P+c}}return{doc:j,sel:M,from:c,to:p}}function ruleFromNode(t){let n=t.pmViewDesc;if(n)return n.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(t,n,r,s,o){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,n<0){let Y=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,re=selectionFromDOM(t,Y);if(re&&!t.state.selection.eq(re)){if(chrome$1&&android&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",xe=>xe(t,keyEvent(13,"Enter"))))return;let oe=t.state.tr.setSelection(re);Y=="pointer"?oe.setMeta("pointer",!0):Y=="key"&&oe.scrollIntoView(),l&&oe.setMeta("composition",l),t.dispatch(oe)}return}let c=t.state.doc.resolve(n),p=c.sharedDepth(r);n=c.before(p+1),r=t.state.doc.resolve(r).after(p+1);let m=t.state.selection,x=parseBetween(t,n,r),b=t.state.doc,S=b.slice(x.from,x.to),R,k;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(R=t.state.selection.to,k="end"):(R=t.state.selection.from,k="start"),t.input.lastKeyCode=null;let M=findDiff(S.content,x.doc.content,x.from,R,k);if(M&&t.input.domChangeCount++,(ios&&t.input.lastIOSEnter>Date.now()-225||android)&&o.some(Y=>Y.nodeType==1&&!isInline.test(Y.nodeName))&&(!M||M.endA>=M.endB)&&t.someProp("handleKeyDown",Y=>Y(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!M)if(s&&m instanceof TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor)&&!t.composing&&!(x.sel&&x.sel.anchor!=x.sel.head))M={start:m.from,endA:m.to,endB:m.to};else{if(x.sel){let Y=resolveSelection(t,t.state.doc,x.sel);if(Y&&!Y.eq(t.state.selection)){let re=t.state.tr.setSelection(Y);l&&re.setMeta("composition",l),t.dispatch(re)}}return}t.state.selection.from<t.state.selection.to&&M.start==M.endB&&t.state.selection instanceof TextSelection&&(M.start>t.state.selection.from&&M.start<=t.state.selection.from+2&&t.state.selection.from>=x.from?M.start=t.state.selection.from:M.endA<t.state.selection.to&&M.endA>=t.state.selection.to-2&&t.state.selection.to<=x.to&&(M.endB+=t.state.selection.to-M.endA,M.endA=t.state.selection.to)),ie$1&&ie_version<=11&&M.endB==M.start+1&&M.endA==M.start&&M.start>x.from&&x.doc.textBetween(M.start-x.from-1,M.start-x.from+1)==" "&&(M.start--,M.endA--,M.endB--);let j=x.doc.resolveNoCache(M.start-x.from),G=x.doc.resolveNoCache(M.endB-x.from),P=b.resolve(M.start),Q=j.sameParent(G)&&j.parent.inlineContent&&P.end()>=M.endA;if((ios&&t.input.lastIOSEnter>Date.now()-225&&(!Q||o.some(Y=>Y.nodeName=="DIV"||Y.nodeName=="P"))||!Q&&j.pos<x.doc.content.size&&(!j.sameParent(G)||!j.parent.inlineContent)&&j.pos<G.pos&&!/\S/.test(x.doc.textBetween(j.pos,G.pos,"","")))&&t.someProp("handleKeyDown",Y=>Y(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>M.start&&looksLikeBackspace(b,M.start,M.endA,j,G)&&t.someProp("handleKeyDown",Y=>Y(t,keyEvent(8,"Backspace")))){android&&chrome$1&&t.domObserver.suppressSelectionUpdates();return}chrome$1&&M.endB==M.start&&(t.input.lastChromeDelete=Date.now()),android&&!Q&&j.start()!=G.start()&&G.parentOffset==0&&j.depth==G.depth&&x.sel&&x.sel.anchor==x.sel.head&&x.sel.head==M.endA&&(M.endB-=2,G=x.doc.resolveNoCache(M.endB-x.from),setTimeout(()=>{t.someProp("handleKeyDown",function(Y){return Y(t,keyEvent(13,"Enter"))})},20));let H=M.start,X=M.endA,ee=Y=>{let re=Y||t.state.tr.replace(H,X,x.doc.slice(M.start-x.from,M.endB-x.from));if(x.sel){let oe=resolveSelection(t,re.doc,x.sel);oe&&!(chrome$1&&t.composing&&oe.empty&&(M.start!=M.endB||t.input.lastChromeDelete<Date.now()-100)&&(oe.head==H||oe.head==re.mapping.map(X)-1)||ie$1&&oe.empty&&oe.head==H)&&re.setSelection(oe)}return l&&re.setMeta("composition",l),re.scrollIntoView()},ne;if(Q)if(j.pos==G.pos){ie$1&&ie_version<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(t),20));let Y=ee(t.state.tr.delete(H,X)),re=b.resolve(M.start).marksAcross(b.resolve(M.endA));re&&Y.ensureMarks(re),t.dispatch(Y)}else if(M.endA==M.endB&&(ne=isMarkChange(j.parent.content.cut(j.parentOffset,G.parentOffset),P.parent.content.cut(P.parentOffset,M.endA-P.start())))){let Y=ee(t.state.tr);ne.type=="add"?Y.addMark(H,X,ne.mark):Y.removeMark(H,X,ne.mark),t.dispatch(Y)}else if(j.parent.child(j.index()).isText&&j.index()==G.index()-(G.textOffset?0:1)){let Y=j.parent.textBetween(j.parentOffset,G.parentOffset),re=()=>ee(t.state.tr.insertText(Y,H,X));t.someProp("handleTextInput",oe=>oe(t,H,X,Y,re))||t.dispatch(re())}else t.dispatch(ee());else t.dispatch(ee())}function resolveSelection(t,n,r){return Math.max(r.anchor,r.head)>n.content.size?null:selectionBetween(t,n.resolve(r.anchor),n.resolve(r.head))}function isMarkChange(t,n){let r=t.firstChild.marks,s=n.firstChild.marks,o=r,l=s,c,p,m;for(let b=0;b<s.length;b++)o=s[b].removeFromSet(o);for(let b=0;b<r.length;b++)l=r[b].removeFromSet(l);if(o.length==1&&l.length==0)p=o[0],c="add",m=b=>b.mark(p.addToSet(b.marks));else if(o.length==0&&l.length==1)p=l[0],c="remove",m=b=>b.mark(p.removeFromSet(b.marks));else return null;let x=[];for(let b=0;b<n.childCount;b++)x.push(m(n.child(b)));if(Fragment.from(x).eq(t))return{mark:p,type:c}}function looksLikeBackspace(t,n,r,s,o){if(r-n<=o.pos-s.pos||skipClosingAndOpening(s,!0,!1)<o.pos)return!1;let l=t.resolve(n);if(!s.parent.isTextblock){let p=l.nodeAfter;return p!=null&&r==n+p.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=t.resolve(skipClosingAndOpening(l,!0,!0));return!c.parent.isTextblock||c.pos>r||skipClosingAndOpening(c,!0,!1)<r?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function skipClosingAndOpening(t,n,r){let s=t.depth,o=n?t.end():t.pos;for(;s>0&&(n||t.indexAfter(s)==t.node(s).childCount);)s--,o++,n=!1;if(r){let l=t.node(s).maybeChild(t.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function findDiff(t,n,r,s,o){let l=t.findDiffStart(n,r);if(l==null)return null;let{a:c,b:p}=t.findDiffEnd(n,r+t.size,r+n.size);if(o=="end"){let m=Math.max(0,l-Math.min(c,p));s-=c+m-l}if(c<l&&t.size<n.size){let m=s<=l&&s>=c?l-s:0;l-=m,l&&l<n.size&&isSurrogatePair(n.textBetween(l-1,l+1))&&(l+=m?1:-1),p=l+(p-c),c=l}else if(p<l){let m=s<=l&&s>=p?l-s:0;l-=m,l&&l<t.size&&isSurrogatePair(t.textBetween(l-1,l+1))&&(l+=m?1:-1),c=l+(c-p),p=l}return{start:l,endA:c,endB:p}}function isSurrogatePair(t){if(t.length!=2)return!1;let n=t.charCodeAt(0),r=t.charCodeAt(1);return n>=56320&&n<=57343&&r>=55296&&r<=56319}class EditorView{constructor(n,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=n&&n.mount||document.createElement("div"),n&&(n.appendChild?n.appendChild(this.dom):typeof n=="function"?n(this.dom):n.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(s,o,l,c)=>readDOMChange(this,s,o,l,c)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let n=this._props;this._props={};for(let r in n)this._props[r]=n[r];this._props.state=this.state}return this._props}update(n){n.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let r=this._props;this._props=n,n.plugins&&(n.plugins.forEach(checkStateComponent),this.directPlugins=n.plugins),this.updateStateInner(n.state,r)}setProps(n){let r={};for(let s in this._props)r[s]=this._props[s];r.state=this.state;for(let s in n)r[s]=n[s];this.update(r)}updateState(n){this.updateStateInner(n,this._props)}updateStateInner(n,r){var s;let o=this.state,l=!1,c=!1;n.storedMarks&&this.composing&&(clearComposition(this),c=!0),this.state=n;let p=o.plugins!=n.plugins||this._props.plugins!=r.plugins;if(p||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let k=buildNodeViews(this);changedNodeViews(k,this.nodeViews)&&(this.nodeViews=k,l=!0)}(p||r.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let m=viewDecorations(this),x=computeDocDeco(this),b=o.plugins!=n.plugins&&!o.doc.eq(n.doc)?"reset":n.scrollToSelection>o.scrollToSelection?"to selection":"preserve",S=l||!this.docView.matchesNode(n.doc,x,m);(S||!n.selection.eq(o.selection))&&(c=!0);let R=b=="preserve"&&c&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(c){this.domObserver.stop();let k=S&&(ie$1||chrome$1)&&!this.composing&&!o.selection.empty&&!n.selection.empty&&selectionContextChanged(o.selection,n.selection);if(S){let M=chrome$1?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(l||!this.docView.update(n.doc,x,m,this))&&(this.docView.updateOuterDeco(x),this.docView.destroy(),this.docView=docViewDesc(n.doc,x,m,this.dom,this)),M&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,k):(syncNodeSelection(this,n.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((s=this.dragging)===null||s===void 0)&&s.node&&!o.doc.eq(n.doc)&&this.updateDraggedNode(this.dragging,o),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():R&&resetScrollPos(R)}scrollToSelection(){let n=this.domSelectionRange().focusNode;if(!(!n||!this.dom.contains(n.nodeType==1?n:n.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof NodeSelection){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&scrollRectIntoView(this,r.getBoundingClientRect(),n)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),n)}}destroyPluginViews(){let n;for(;n=this.pluginViews.pop();)n.destroy&&n.destroy()}updatePluginViews(n){if(!n||n.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let s=this.state.plugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let s=this.pluginViews[r];s.update&&s.update(this,n)}}updateDraggedNode(n,r){let s=n.node,o=-1;if(this.state.doc.nodeAt(s.from)==s.node)o=s.from;else{let l=s.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==s.node&&(o=l)}this.dragging=new Dragging(n.slice,n.move,o<0?void 0:NodeSelection.create(this.state.doc,o))}someProp(n,r){let s=this._props&&this._props[n],o;if(s!=null&&(o=r?r(s):s))return o;for(let c=0;c<this.directPlugins.length;c++){let p=this.directPlugins[c].props[n];if(p!=null&&(o=r?r(p):p))return o}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let p=l[c].props[n];if(p!=null&&(o=r?r(p):p))return o}}hasFocus(){if(ie$1){let n=this.root.activeElement;if(n==this.dom)return!0;if(!n||!this.dom.contains(n))return!1;for(;n&&this.dom!=n&&this.dom.contains(n);){if(n.contentEditable=="false")return!1;n=n.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let n=this._root;if(n==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return n||document}updateRoot(){this._root=null}posAtCoords(n){return posAtCoords(this,n)}coordsAtPos(n,r=1){return coordsAtPos(this,n,r)}domAtPos(n,r=0){return this.docView.domFromPos(n,r)}nodeDOM(n){let r=this.docView.descAt(n);return r?r.nodeDOM:null}posAtDOM(n,r,s=-1){let o=this.docView.posFromDOM(n,r,s);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(n,r){return endOfTextblock(this,r||this.state,n)}pasteHTML(n,r){return doPaste(this,"",n,!1,r||new ClipboardEvent("paste"))}pasteText(n,r){return doPaste(this,n,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(n){return serializeForClipboard(this,n)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(n){return dispatchEvent(this,n)}domSelectionRange(){let n=this.domSelection();return n?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,n)||n:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))};function computeDocDeco(t){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let s in r)s=="class"?n.class+=" "+r[s]:s=="style"?n.style=(n.style?n.style+";":"")+r[s]:!n[s]&&s!="contenteditable"&&s!="nodeName"&&(n[s]=String(r[s]))}),n.translate||(n.translate="no"),[Decoration.node(0,t.state.doc.content.size,n)]}function updateCursorWrapper(t){if(t.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),t.cursorWrapper={dom:n,deco:Decoration.widget(t.state.selection.from,n,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",n=>n(t.state)===!1)}function selectionContextChanged(t,n){let r=Math.min(t.$anchor.sharedDepth(t.head),n.$anchor.sharedDepth(n.head));return t.$anchor.start(r)!=n.$anchor.start(r)}function buildNodeViews(t){let n=Object.create(null);function r(s){for(let o in s)Object.prototype.hasOwnProperty.call(n,o)||(n[o]=s[o])}return t.someProp("nodeViews",r),t.someProp("markViews",r),n}function changedNodeViews(t,n){let r=0,s=0;for(let o in t){if(t[o]!=n[o])return!0;r++}for(let o in n)s++;return r!=s}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(t){var n=mac$1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!n&&t.key||(t.shiftKey?shift:base)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(t){let n=t.split(/-(?!$)/),r=n[n.length-1];r=="Space"&&(r=" ");let s,o,l,c;for(let p=0;p<n.length-1;p++){let m=n[p];if(/^(cmd|meta|m)$/i.test(m))c=!0;else if(/^a(lt)?$/i.test(m))s=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))l=!0;else if(/^mod$/i.test(m))mac?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+m)}return s&&(r="Alt-"+r),o&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function normalize(t){let n=Object.create(null);for(let r in t)n[normalizeKeyName$1(r)]=t[r];return n}function modifiers(t,n,r=!0){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),r&&n.shiftKey&&(t="Shift-"+t),t}function keymap(t){return new Plugin({props:{handleKeyDown:keydownHandler(t)}})}function keydownHandler(t){let n=normalize(t);return function(r,s){let o=keyName(s),l,c=n[modifiers(o,s)];if(c&&c(r.state,r.dispatch,r))return!0;if(o.length==1&&o!=" "){if(s.shiftKey){let p=n[modifiers(o,s,!1)];if(p&&p(r.state,r.dispatch,r))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(windows&&s.ctrlKey&&s.altKey)&&(l=base[s.keyCode])&&l!=o){let p=n[modifiers(l,s)];if(p&&p(r.state,r.dispatch,r))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(t,n)=>{for(var r in n)__defProp$1(t,r,{get:n[r],enumerable:!0})};function createChainableState(t){const{state:n,transaction:r}=t;let{selection:s}=r,{doc:o}=r,{storedMarks:l}=r;return{...n,apply:n.apply.bind(n),applyTransaction:n.applyTransaction.bind(n),plugins:n.plugins,schema:n.schema,reconfigure:n.reconfigure.bind(n),toJSON:n.toJSON.bind(n),get storedMarks(){return l},get selection(){return s},get doc(){return o},get tr(){return s=r.selection,o=r.doc,l=r.storedMarks,r}}}var CommandManager=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:s}=n,{tr:o}=r,l=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([c,p])=>[c,(...x)=>{const b=p(...x)(l);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:l}=s,c=[],p=!!t,m=t||o.tr,x=()=>(!p&&n&&!m.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(m),c.every(S=>S===!0)),b={...Object.fromEntries(Object.entries(r).map(([S,R])=>[S,(...M)=>{const j=this.buildProps(m,n),G=R(...M)(j);return c.push(G),b}])),run:x};return b}createCan(t){const{rawCommands:n,state:r}=this,s=!1,o=t||r.tr,l=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(n).map(([p,m])=>[p,(...x)=>m(...x)({...l,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(t,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:l}=s,c={tr:t,editor:s,view:l,state:createChainableState({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...x)=>m(...x)(c)]))}};return c}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:t,view:n})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(n.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),clearContent=(t=!0)=>({commands:n})=>n.setContent("",{emitUpdate:t}),clearNodes=()=>({state:t,tr:n,dispatch:r})=>{const{selection:s}=n,{ranges:o}=s;return r&&o.forEach(({$from:l,$to:c})=>{t.doc.nodesBetween(l.pos,c.pos,(p,m)=>{if(p.type.isText)return;const{doc:x,mapping:b}=n,S=x.resolve(b.map(m)),R=x.resolve(b.map(m+p.nodeSize)),k=S.blockRange(R);if(!k)return;const M=liftTarget(k);if(p.type.isTextblock){const{defaultType:j}=S.parent.contentMatchAt(S.index());n.setNodeMarkup(k.start,j)}(M||M===0)&&n.lift(k,M)})}),!0},command=t=>n=>t(n),createParagraphNear=()=>({state:t,dispatch:n})=>createParagraphNear$1(t,n),cut=(t,n)=>({editor:r,tr:s})=>{const{state:o}=r,l=o.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const c=s.mapping.map(n);return s.insert(c,l.content),s.setSelection(new TextSelection(s.doc.resolve(Math.max(c-1,0)))),!0},deleteCurrentNode=()=>({tr:t,dispatch:n})=>{const{selection:r}=t,s=r.$anchor.node();if(s.content.size>0)return!1;const o=t.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===s.type){if(n){const p=o.before(l),m=o.after(l);t.delete(p,m).scrollIntoView()}return!0}return!1};function getNodeType(t,n){if(typeof t=="string"){if(!n.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return n.nodes[t]}return t}var deleteNode=t=>({tr:n,state:r,dispatch:s})=>{const o=getNodeType(t,r.schema),l=n.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===o){if(s){const m=l.before(c),x=l.after(c);n.delete(m,x).scrollIntoView()}return!0}return!1},deleteRange=t=>({tr:n,dispatch:r})=>{const{from:s,to:o}=t;return r&&n.delete(s,o),!0},deleteSelection=()=>({state:t,dispatch:n})=>deleteSelection$1(t,n),enter=()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode=()=>({state:t,dispatch:n})=>exitCode$1(t,n);function isRegExp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function objectIncludes(t,n,r={strict:!0}){const s=Object.keys(n);return s.length?s.every(o=>r.strict?n[o]===t[o]:isRegExp(n[o])?n[o].test(t[o]):n[o]===t[o]):!0}function findMarkInSet(t,n,r={}){return t.find(s=>s.type===n&&objectIncludes(Object.fromEntries(Object.keys(r).map(o=>[o,s.attrs[o]])),r))}function isMarkInSet(t,n,r={}){return!!findMarkInSet(t,n,r)}function getMarkRange(t,n,r){var s;if(!t||!n)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(b=>b.type===n))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(b=>b.type===n)||(r=r||((s=o.node.marks[0])==null?void 0:s.attrs),!findMarkInSet([...o.node.marks],n,r)))return;let c=o.index,p=t.start()+o.offset,m=c+1,x=p+o.node.nodeSize;for(;c>0&&isMarkInSet([...t.parent.child(c-1).marks],n,r);)c-=1,p-=t.parent.child(c).nodeSize;for(;m<t.parent.childCount&&isMarkInSet([...t.parent.child(m).marks],n,r);)x+=t.parent.child(m).nodeSize,m+=1;return{from:p,to:x}}function getMarkType(t,n){if(typeof t=="string"){if(!n.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return n.marks[t]}return t}var extendMarkRange=(t,n={})=>({tr:r,state:s,dispatch:o})=>{const l=getMarkType(t,s.schema),{doc:c,selection:p}=r,{$from:m,from:x,to:b}=p;if(o){const S=getMarkRange(m,l,n);if(S&&S.from<=x&&S.to>=b){const R=TextSelection.create(c,S.from,S.to);r.setSelection(R)}}return!0},first=t=>n=>{const r=typeof t=="function"?t(n):t;for(let s=0;s<r.length;s+=1)if(r[s](n))return!0;return!1};function isTextSelection(t){return t instanceof TextSelection}function minMax(t=0,n=0,r=0){return Math.min(Math.max(t,n),r)}function resolveFocusPosition(t,n=null){if(!n)return null;const r=Selection.atStart(t),s=Selection.atEnd(t);if(n==="start"||n===!0)return r;if(n==="end")return s;const o=r.from,l=s.to;return n==="all"?TextSelection.create(t,minMax(0,o,l),minMax(t.content.size,o,l)):TextSelection.create(t,minMax(n,o,l),minMax(n,o,l))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var focus=(t=null,n={})=>({editor:r,view:s,tr:o,dispatch:l})=>{n={scrollIntoView:!0,...n};const c=()=>{(isiOS()||isAndroid())&&s.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(s.focus(),n!=null&&n.scrollIntoView&&r.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!isTextSelection(r.state.selection))return c(),!0;const p=resolveFocusPosition(o.doc,t)||r.state.selection,m=r.state.selection.eq(p);return l&&(m||o.setSelection(p),m&&o.storedMarks&&o.setStoredMarks(o.storedMarks),c()),!0},forEach=(t,n)=>r=>t.every((s,o)=>n(s,{...r,index:o})),insertContent=(t,n)=>({tr:r,commands:s})=>s.insertContentAt({from:r.selection.from,to:r.selection.to},t,n),removeWhitespaces=t=>{const n=t.childNodes;for(let r=n.length-1;r>=0;r-=1){const s=n[r];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&removeWhitespaces(s)}return t};function elementFromString(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const n=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(n,"text/html").body;return removeWhitespaces(r)}function createNodeFromContent(t,n,r){if(t instanceof Node$1||t instanceof Fragment)return t;r={slice:!0,parseOptions:{},...r};const s=typeof t=="object"&&t!==null,o=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return Fragment.fromArray(t.map(p=>n.nodeFromJSON(p)));const c=n.nodeFromJSON(t);return r.errorOnInvalidContent&&c.check(),c}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),createNodeFromContent("",n,r)}if(o){if(r.errorOnInvalidContent){let c=!1,p="";const m=new Schema({topNode:n.spec.topNode,marks:n.spec.marks,nodes:n.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:x=>(c=!0,p=typeof x=="string"?x:x.outerHTML,null)}]}})});if(r.slice?DOMParser.fromSchema(m).parseSlice(elementFromString(t),r.parseOptions):DOMParser.fromSchema(m).parse(elementFromString(t),r.parseOptions),r.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${p}`)})}const l=DOMParser.fromSchema(n);return r.slice?l.parseSlice(elementFromString(t),r.parseOptions).content:l.parse(elementFromString(t),r.parseOptions)}return createNodeFromContent("",n,r)}function selectionToInsertionEnd(t,n,r){const s=t.steps.length-1;if(s<n)return;const o=t.steps[s];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;const l=t.mapping.maps[s];let c=0;l.forEach((p,m,x,b)=>{c===0&&(c=b)}),t.setSelection(Selection.near(t.doc.resolve(c),r))}var isFragment=t=>!("type"in t),insertContentAt=(t,n,r)=>({tr:s,dispatch:o,editor:l})=>{var c;if(o){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let p;const m=G=>{l.emit("contentError",{editor:l,error:G,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},x={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{createNodeFromContent(n,l.schema,{parseOptions:x,errorOnInvalidContent:!0})}catch(G){m(G)}try{p=createNodeFromContent(n,l.schema,{parseOptions:x,errorOnInvalidContent:(c=r.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(G){return m(G),!1}let{from:b,to:S}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},R=!0,k=!0;if((isFragment(p)?p:[p]).forEach(G=>{G.check(),R=R?G.isText&&G.marks.length===0:!1,k=k?G.isBlock:!1}),b===S&&k){const{parent:G}=s.doc.resolve(b);G.isTextblock&&!G.type.spec.code&&!G.childCount&&(b-=1,S+=1)}let j;if(R){if(Array.isArray(n))j=n.map(G=>G.text||"").join("");else if(n instanceof Fragment){let G="";n.forEach(P=>{P.text&&(G+=P.text)}),j=G}else typeof n=="object"&&n&&n.text?j=n.text:j=n;s.insertText(j,b,S)}else{j=p;const G=s.doc.resolve(b),P=G.node(),Q=G.parentOffset===0,H=P.isText||P.isTextblock,X=P.content.size>0;Q&&H&&X&&(b=Math.max(0,b-1)),s.replaceWith(b,S,j)}r.updateSelection&&selectionToInsertionEnd(s,s.steps.length-1,-1),r.applyInputRules&&s.setMeta("applyInputRules",{from:b,text:j}),r.applyPasteRules&&s.setMeta("applyPasteRules",{from:b,text:j})}return!0},joinUp=()=>({state:t,dispatch:n})=>joinUp$1(t,n),joinDown=()=>({state:t,dispatch:n})=>joinDown$1(t,n),joinBackward=()=>({state:t,dispatch:n})=>joinBackward$1(t,n),joinForward=()=>({state:t,dispatch:n})=>joinForward$1(t,n),joinItemBackward=()=>({state:t,dispatch:n,tr:r})=>{try{const s=joinPoint(t.doc,t.selection.$from.pos,-1);return s==null?!1:(r.join(s,2),n&&n(r),!0)}catch{return!1}},joinItemForward=()=>({state:t,dispatch:n,tr:r})=>{try{const s=joinPoint(t.doc,t.selection.$from.pos,1);return s==null?!1:(r.join(s,2),n&&n(r),!0)}catch{return!1}},joinTextblockBackward=()=>({state:t,dispatch:n})=>joinTextblockBackward$1(t,n),joinTextblockForward=()=>({state:t,dispatch:n})=>joinTextblockForward$1(t,n);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(t){const n=t.split(/-(?!$)/);let r=n[n.length-1];r==="Space"&&(r=" ");let s,o,l,c;for(let p=0;p<n.length-1;p+=1){const m=n[p];if(/^(cmd|meta|m)$/i.test(m))c=!0;else if(/^a(lt)?$/i.test(m))s=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))l=!0;else if(/^mod$/i.test(m))isiOS()||isMacOS()?c=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${m}`)}return s&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),c&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var keyboardShortcut=t=>({editor:n,view:r,tr:s,dispatch:o})=>{const l=normalizeKeyName(t).split(/-(?!$)/),c=l.find(x=>!["Alt","Ctrl","Meta","Shift"].includes(x)),p=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),m=n.captureTransaction(()=>{r.someProp("handleKeyDown",x=>x(r,p))});return m==null||m.steps.forEach(x=>{const b=x.map(s.mapping);b&&o&&s.maybeStep(b)}),!0};function isNodeActive(t,n,r={}){const{from:s,to:o,empty:l}=t.selection,c=n?getNodeType(n,t.schema):null,p=[];t.doc.nodesBetween(s,o,(S,R)=>{if(S.isText)return;const k=Math.max(s,R),M=Math.min(o,R+S.nodeSize);p.push({node:S,from:k,to:M})});const m=o-s,x=p.filter(S=>c?c.name===S.node.type.name:!0).filter(S=>objectIncludes(S.node.attrs,r,{strict:!1}));return l?!!x.length:x.reduce((S,R)=>S+R.to-R.from,0)>=m}var lift=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return isNodeActive(r,o,n)?lift$1(r,s):!1},liftEmptyBlock=()=>({state:t,dispatch:n})=>liftEmptyBlock$1(t,n),liftListItem=t=>({state:n,dispatch:r})=>{const s=getNodeType(t,n.schema);return liftListItem$1(s)(n,r)},newlineInCode=()=>({state:t,dispatch:n})=>newlineInCode$1(t,n);function getSchemaTypeNameByName(t,n){return n.nodes[t]?"node":n.marks[t]?"mark":null}function deleteProps(t,n){const r=typeof n=="string"?[n]:n;return Object.keys(t).reduce((s,o)=>(r.includes(o)||(s[o]=t[o]),s),{})}var resetAttributes=(t,n)=>({tr:r,state:s,dispatch:o})=>{let l=null,c=null;const p=getSchemaTypeNameByName(typeof t=="string"?t:t.name,s.schema);return p?(p==="node"&&(l=getNodeType(t,s.schema)),p==="mark"&&(c=getMarkType(t,s.schema)),o&&r.selection.ranges.forEach(m=>{s.doc.nodesBetween(m.$from.pos,m.$to.pos,(x,b)=>{l&&l===x.type&&r.setNodeMarkup(b,void 0,deleteProps(x.attrs,n)),c&&x.marks.length&&x.marks.forEach(S=>{c===S.type&&r.addMark(b,b+x.nodeSize,c.create(deleteProps(S.attrs,n)))})})}),!0):!1},scrollIntoView=()=>({tr:t,dispatch:n})=>(n&&t.scrollIntoView(),!0),selectAll=()=>({tr:t,dispatch:n})=>{if(n){const r=new AllSelection(t.doc);t.setSelection(r)}return!0},selectNodeBackward=()=>({state:t,dispatch:n})=>selectNodeBackward$1(t,n),selectNodeForward=()=>({state:t,dispatch:n})=>selectNodeForward$1(t,n),selectParentNode=()=>({state:t,dispatch:n})=>selectParentNode$1(t,n),selectTextblockEnd=()=>({state:t,dispatch:n})=>selectTextblockEnd$1(t,n),selectTextblockStart=()=>({state:t,dispatch:n})=>selectTextblockStart$1(t,n);function createDocument(t,n,r={},s={}){return createNodeFromContent(t,n,{slice:!1,parseOptions:r,errorOnInvalidContent:s.errorOnInvalidContent})}var setContent=(t,{errorOnInvalidContent:n,emitUpdate:r=!0,parseOptions:s={}}={})=>({editor:o,tr:l,dispatch:c,commands:p})=>{const{doc:m}=l;if(s.preserveWhitespace!=="full"){const x=createDocument(t,o.schema,s,{errorOnInvalidContent:n??o.options.enableContentCheck});return c&&l.replaceWith(0,m.content.size,x).setMeta("preventUpdate",!r),!0}return c&&l.setMeta("preventUpdate",!r),p.insertContentAt({from:0,to:m.content.size},t,{parseOptions:s,errorOnInvalidContent:n??o.options.enableContentCheck})};function getMarkAttributes(t,n){const r=getMarkType(n,t.schema),{from:s,to:o,empty:l}=t.selection,c=[];l?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,o,m=>{c.push(...m.marks)});const p=c.find(m=>m.type.name===r.name);return p?{...p.attrs}:{}}function combineTransactionSteps(t,n){const r=new Transform(t);return n.forEach(s=>{s.steps.forEach(o=>{r.step(o)})}),r}function defaultBlockAt(t){for(let n=0;n<t.edgeCount;n+=1){const{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function findChildrenInRange(t,n,r){const s=[];return t.nodesBetween(n.from,n.to,(o,l)=>{r(o)&&s.push({node:o,pos:l})}),s}function findParentNodeClosestToPos(t,n){for(let r=t.depth;r>0;r-=1){const s=t.node(r);if(n(s))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:s}}}function findParentNode(t){return n=>findParentNodeClosestToPos(n.$from,t)}function getExtensionField(t,n,r){return t.config[n]===void 0&&t.parent?getExtensionField(t.parent,n,r):typeof t.config[n]=="function"?t.config[n].bind({...r,parent:t.parent?getExtensionField(t.parent,n,r):null}):t.config[n]}function flattenExtensions(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=getExtensionField(n,"addExtensions",r);return s?[n,...flattenExtensions(s())]:n}).flat(10)}function getHTMLFromFragment(t,n){const r=DOMSerializer.fromSchema(n).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(r),o.innerHTML}function isFunction(t){return typeof t=="function"}function callOrReturn(t,n=void 0,...r){return isFunction(t)?n?t.bind(n)(...r):t(...r):t}function isEmptyObject(t={}){return Object.keys(t).length===0&&t.constructor===Object}function splitExtensions(t){const n=t.filter(o=>o.type==="extension"),r=t.filter(o=>o.type==="node"),s=t.filter(o=>o.type==="mark");return{baseExtensions:n,nodeExtensions:r,markExtensions:s}}function getAttributesFromExtensions(t){const n=[],{nodeExtensions:r,markExtensions:s}=splitExtensions(t),o=[...r,...s],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const p={name:c.name,options:c.options,storage:c.storage,extensions:o},m=getExtensionField(c,"addGlobalAttributes",p);if(!m)return;m().forEach(b=>{b.types.forEach(S=>{Object.entries(b.attributes).forEach(([R,k])=>{n.push({type:S,name:R,attribute:{...l,...k}})})})})}),o.forEach(c=>{const p={name:c.name,options:c.options,storage:c.storage},m=getExtensionField(c,"addAttributes",p);if(!m)return;const x=m();Object.entries(x).forEach(([b,S])=>{const R={...l,...S};typeof(R==null?void 0:R.default)=="function"&&(R.default=R.default()),R!=null&&R.isRequired&&(R==null?void 0:R.default)===void 0&&delete R.default,n.push({type:c.name,name:b,attribute:R})})}),n}function mergeAttributes(...t){return t.filter(n=>!!n).reduce((n,r)=>{const s={...n};return Object.entries(r).forEach(([o,l])=>{if(!s[o]){s[o]=l;return}if(o==="class"){const p=l?String(l).split(" "):[],m=s[o]?s[o].split(" "):[],x=p.filter(b=>!m.includes(b));s[o]=[...m,...x].join(" ")}else if(o==="style"){const p=l?l.split(";").map(b=>b.trim()).filter(Boolean):[],m=s[o]?s[o].split(";").map(b=>b.trim()).filter(Boolean):[],x=new Map;m.forEach(b=>{const[S,R]=b.split(":").map(k=>k.trim());x.set(S,R)}),p.forEach(b=>{const[S,R]=b.split(":").map(k=>k.trim());x.set(S,R)}),s[o]=Array.from(x.entries()).map(([b,S])=>`${b}: ${S}`).join("; ")}else s[o]=l}),s},{})}function getRenderedAttributes(t,n){return n.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,s)=>mergeAttributes(r,s),{})}function fromString(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function injectExtensionAttributesToParseRule(t,n){return"style"in t?t:{...t,getAttrs:r=>{const s=t.getAttrs?t.getAttrs(r):t.attrs;if(s===!1)return!1;const o=n.reduce((l,c)=>{const p=c.attribute.parseHTML?c.attribute.parseHTML(r):fromString(r.getAttribute(c.name));return p==null?l:{...l,[c.name]:p}},{});return{...s,...o}}}}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>n==="attrs"&&isEmptyObject(r)?!1:r!=null))}function buildAttributeSpec(t){var n,r,s;const o={};return!((n=t==null?void 0:t.attribute)!=null&&n.isRequired)&&((r=t==null?void 0:t.attribute)==null?void 0:r.default)!==void 0&&(o.default=t.attribute.default),((s=t==null?void 0:t.attribute)==null?void 0:s.validate)!==void 0&&(o.validate=t.attribute.validate),[t.name,o]}function getSchemaByResolvedExtensions(t,n){var r;const s=getAttributesFromExtensions(t),{nodeExtensions:o,markExtensions:l}=splitExtensions(t),c=(r=o.find(x=>getExtensionField(x,"topNode")))==null?void 0:r.name,p=Object.fromEntries(o.map(x=>{const b=s.filter(P=>P.type===x.name),S={name:x.name,options:x.options,storage:x.storage,editor:n},R=t.reduce((P,Q)=>{const H=getExtensionField(Q,"extendNodeSchema",S);return{...P,...H?H(x):{}}},{}),k=cleanUpSchemaItem({...R,content:callOrReturn(getExtensionField(x,"content",S)),marks:callOrReturn(getExtensionField(x,"marks",S)),group:callOrReturn(getExtensionField(x,"group",S)),inline:callOrReturn(getExtensionField(x,"inline",S)),atom:callOrReturn(getExtensionField(x,"atom",S)),selectable:callOrReturn(getExtensionField(x,"selectable",S)),draggable:callOrReturn(getExtensionField(x,"draggable",S)),code:callOrReturn(getExtensionField(x,"code",S)),whitespace:callOrReturn(getExtensionField(x,"whitespace",S)),linebreakReplacement:callOrReturn(getExtensionField(x,"linebreakReplacement",S)),defining:callOrReturn(getExtensionField(x,"defining",S)),isolating:callOrReturn(getExtensionField(x,"isolating",S)),attrs:Object.fromEntries(b.map(buildAttributeSpec))}),M=callOrReturn(getExtensionField(x,"parseHTML",S));M&&(k.parseDOM=M.map(P=>injectExtensionAttributesToParseRule(P,b)));const j=getExtensionField(x,"renderHTML",S);j&&(k.toDOM=P=>j({node:P,HTMLAttributes:getRenderedAttributes(P,b)}));const G=getExtensionField(x,"renderText",S);return G&&(k.toText=G),[x.name,k]})),m=Object.fromEntries(l.map(x=>{const b=s.filter(G=>G.type===x.name),S={name:x.name,options:x.options,storage:x.storage,editor:n},R=t.reduce((G,P)=>{const Q=getExtensionField(P,"extendMarkSchema",S);return{...G,...Q?Q(x):{}}},{}),k=cleanUpSchemaItem({...R,inclusive:callOrReturn(getExtensionField(x,"inclusive",S)),excludes:callOrReturn(getExtensionField(x,"excludes",S)),group:callOrReturn(getExtensionField(x,"group",S)),spanning:callOrReturn(getExtensionField(x,"spanning",S)),code:callOrReturn(getExtensionField(x,"code",S)),attrs:Object.fromEntries(b.map(buildAttributeSpec))}),M=callOrReturn(getExtensionField(x,"parseHTML",S));M&&(k.parseDOM=M.map(G=>injectExtensionAttributesToParseRule(G,b)));const j=getExtensionField(x,"renderHTML",S);return j&&(k.toDOM=G=>j({mark:G,HTMLAttributes:getRenderedAttributes(G,b)})),[x.name,k]}));return new Schema({topNode:c,nodes:p,marks:m})}function findDuplicates(t){const n=t.filter((r,s)=>t.indexOf(r)!==s);return Array.from(new Set(n))}function sortExtensions(t){return t.sort((r,s)=>{const o=getExtensionField(r,"priority")||100,l=getExtensionField(s,"priority")||100;return o>l?-1:o<l?1:0})}function resolveExtensions(t){const n=sortExtensions(flattenExtensions(t)),r=findDuplicates(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}function getTextBetween(t,n,r){const{from:s,to:o}=n,{blockSeparator:l=`

`,textSerializers:c={}}=r||{};let p="";return t.nodesBetween(s,o,(m,x,b,S)=>{var R;m.isBlock&&x>s&&(p+=l);const k=c==null?void 0:c[m.type.name];if(k)return b&&(p+=k({node:m,pos:x,parent:b,index:S,range:n})),!1;m.isText&&(p+=(R=m==null?void 0:m.text)==null?void 0:R.slice(Math.max(s,x)-x,o-x))}),p}function getText(t,n){const r={from:0,to:t.content.size};return getTextBetween(t,r,n)}function getTextSerializersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,n])=>n.spec.toText).map(([n,r])=>[n,r.spec.toText]))}function getNodeAttributes(t,n){const r=getNodeType(n,t.schema),{from:s,to:o}=t.selection,l=[];t.doc.nodesBetween(s,o,p=>{l.push(p)});const c=l.reverse().find(p=>p.type.name===r.name);return c?{...c.attrs}:{}}function getAttributes(t,n){const r=getSchemaTypeNameByName(typeof n=="string"?n:n.name,t.schema);return r==="node"?getNodeAttributes(t,n):r==="mark"?getMarkAttributes(t,n):{}}function removeDuplicates(t,n=JSON.stringify){const r={};return t.filter(s=>{const o=n(s);return Object.prototype.hasOwnProperty.call(r,o)?!1:r[o]=!0})}function simplifyChangedRanges(t){const n=removeDuplicates(t);return n.length===1?n:n.filter((r,s)=>!n.filter((l,c)=>c!==s).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function getChangedRanges(t){const{mapping:n,steps:r}=t,s=[];return n.maps.forEach((o,l)=>{const c=[];if(o.ranges.length)o.forEach((p,m)=>{c.push({from:p,to:m})});else{const{from:p,to:m}=r[l];if(p===void 0||m===void 0)return;c.push({from:p,to:m})}c.forEach(({from:p,to:m})=>{const x=n.slice(l).map(p,-1),b=n.slice(l).map(m),S=n.invert().map(x,-1),R=n.invert().map(b);s.push({oldRange:{from:S,to:R},newRange:{from:x,to:b}})})}),simplifyChangedRanges(s)}function getMarksBetween(t,n,r){const s=[];return t===n?r.resolve(t).marks().forEach(o=>{const l=r.resolve(t),c=getMarkRange(l,o.type);c&&s.push({mark:o,...c})}):r.nodesBetween(t,n,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||s.push(...o.marks.map(c=>({from:l,to:l+o.nodeSize,mark:c})))}),s}var getNodeAtPosition=(t,n,r,s=20)=>{const o=t.doc.resolve(r);let l=s,c=null;for(;l>0&&c===null;){const p=o.node(l);(p==null?void 0:p.type.name)===n?c=p:l-=1}return[c,l]};function getSchemaTypeByName(t,n){return n.nodes[t]||n.marks[t]||null}function getSplittedAttributes(t,n,r){return Object.fromEntries(Object.entries(r).filter(([s])=>{const o=t.find(l=>l.type===n&&l.name===s);return o?o.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(t,n=500)=>{let r="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-n),s,(o,l,c,p)=>{var m,x;const b=((x=(m=o.type.spec).toText)==null?void 0:x.call(m,{node:o,pos:l,parent:c,index:p}))||o.textContent||"%leaf%";r+=o.isAtom&&!o.isText?b:b.slice(0,Math.max(0,s-l))}),r};function isMarkActive(t,n,r={}){const{empty:s,ranges:o}=t.selection,l=n?getMarkType(n,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(S=>l?l.name===S.type.name:!0).find(S=>objectIncludes(S.attrs,r,{strict:!1}));let c=0;const p=[];if(o.forEach(({$from:S,$to:R})=>{const k=S.pos,M=R.pos;t.doc.nodesBetween(k,M,(j,G)=>{if(!j.isText&&!j.marks.length)return;const P=Math.max(k,G),Q=Math.min(M,G+j.nodeSize),H=Q-P;c+=H,p.push(...j.marks.map(X=>({mark:X,from:P,to:Q})))})}),c===0)return!1;const m=p.filter(S=>l?l.name===S.mark.type.name:!0).filter(S=>objectIncludes(S.mark.attrs,r,{strict:!1})).reduce((S,R)=>S+R.to-R.from,0),x=p.filter(S=>l?S.mark.type!==l&&S.mark.type.excludes(l):!0).reduce((S,R)=>S+R.to-R.from,0);return(m>0?m+x:m)>=c}function isActive$1(t,n,r={}){if(!n)return isNodeActive(t,null,r)||isMarkActive(t,null,r);const s=getSchemaTypeNameByName(n,t.schema);return s==="node"?isNodeActive(t,n,r):s==="mark"?isMarkActive(t,n,r):!1}var isAtEndOfNode=(t,n)=>{const{$from:r,$to:s,$anchor:o}=t.selection;if(n){const l=findParentNode(p=>p.type.name===n)(t.selection);if(!l)return!1;const c=t.doc.resolve(l.pos+1);return o.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||r.pos!==s.pos)},isAtStartOfNode=t=>{const{$from:n,$to:r}=t.selection;return!(n.parentOffset>0||n.pos!==r.pos)};function isExtensionRulesEnabled(t,n){return Array.isArray(n)?n.some(r=>(typeof r=="string"?r:r.name)===t.name):n}function isList(t,n){const{nodeExtensions:r}=splitExtensions(n),s=r.find(c=>c.name===t);if(!s)return!1;const o={name:s.name,options:s.options,storage:s.storage},l=callOrReturn(getExtensionField(s,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function isNodeEmpty(t,{checkChildren:n=!0,ignoreWhitespace:r=!1}={}){var s;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(n){let o=!0;return t.content.forEach(l=>{o!==!1&&(isNodeEmpty(l,{ignoreWhitespace:r,checkChildren:n})||(o=!1))}),o}return!1}function isNodeSelection(t){return t instanceof NodeSelection}function canSetMark(t,n,r){var s;const{selection:o}=n;let l=null;if(isTextSelection(o)&&(l=o.$cursor),l){const p=(s=t.storedMarks)!=null?s:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(p)||!p.some(x=>x.type.excludes(r)))}const{ranges:c}=o;return c.some(({$from:p,$to:m})=>{let x=p.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(p.pos,m.pos,(b,S,R)=>{if(x)return!1;if(b.isInline){const k=!R||R.type.allowsMarkType(r),M=!!r.isInSet(b.marks)||!b.marks.some(j=>j.type.excludes(r));x=k&&M}return!x}),x})}var setMark=(t,n={})=>({tr:r,state:s,dispatch:o})=>{const{selection:l}=r,{empty:c,ranges:p}=l,m=getMarkType(t,s.schema);if(o)if(c){const x=getMarkAttributes(s,m);r.addStoredMark(m.create({...x,...n}))}else p.forEach(x=>{const b=x.$from.pos,S=x.$to.pos;s.doc.nodesBetween(b,S,(R,k)=>{const M=Math.max(k,b),j=Math.min(k+R.nodeSize,S);R.marks.find(P=>P.type===m)?R.marks.forEach(P=>{m===P.type&&r.addMark(M,j,m.create({...P.attrs,...n}))}):r.addMark(M,j,m.create(n))})});return canSetMark(s,r,m)},setMeta=(t,n)=>({tr:r})=>(r.setMeta(t,n),!0),setNode=(t,n={})=>({state:r,dispatch:s,chain:o})=>{const l=getNodeType(t,r.schema);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:p})=>setBlockType(l,{...c,...n})(r)?!0:p.clearNodes()).command(({state:p})=>setBlockType(l,{...c,...n})(p,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=t=>({tr:n,dispatch:r})=>{if(r){const{doc:s}=n,o=minMax(t,0,s.content.size),l=NodeSelection.create(s,o);n.setSelection(l)}return!0},setTextSelection=t=>({tr:n,dispatch:r})=>{if(r){const{doc:s}=n,{from:o,to:l}=typeof t=="number"?{from:t,to:t}:t,c=TextSelection.atStart(s).from,p=TextSelection.atEnd(s).to,m=minMax(o,c,p),x=minMax(l,c,p),b=TextSelection.create(s,m,x);n.setSelection(b)}return!0},sinkListItem=t=>({state:n,dispatch:r})=>{const s=getNodeType(t,n.schema);return sinkListItem$1(s)(n,r)};function ensureMarks(t,n){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const s=r.filter(o=>n==null?void 0:n.includes(o.type.name));t.tr.ensureMarks(s)}}var splitBlock=({keepMarks:t=!0}={})=>({tr:n,state:r,dispatch:s,editor:o})=>{const{selection:l,doc:c}=n,{$from:p,$to:m}=l,x=o.extensionManager.attributes,b=getSplittedAttributes(x,p.node().type.name,p.node().attrs);if(l instanceof NodeSelection&&l.node.isBlock)return!p.parentOffset||!canSplit(c,p.pos)?!1:(s&&(t&&ensureMarks(r,o.extensionManager.splittableMarks),n.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;const S=m.parentOffset===m.parent.content.size,R=p.depth===0?void 0:defaultBlockAt(p.node(-1).contentMatchAt(p.indexAfter(-1)));let k=S&&R?[{type:R,attrs:b}]:void 0,M=canSplit(n.doc,n.mapping.map(p.pos),1,k);if(!k&&!M&&canSplit(n.doc,n.mapping.map(p.pos),1,R?[{type:R}]:void 0)&&(M=!0,k=R?[{type:R,attrs:b}]:void 0),s){if(M&&(l instanceof TextSelection&&n.deleteSelection(),n.split(n.mapping.map(p.pos),1,k),R&&!S&&!p.parentOffset&&p.parent.type!==R)){const j=n.mapping.map(p.before()),G=n.doc.resolve(j);p.node(-1).canReplaceWith(G.index(),G.index()+1,R)&&n.setNodeMarkup(n.mapping.map(p.before()),R)}t&&ensureMarks(r,o.extensionManager.splittableMarks),n.scrollIntoView()}return M},splitListItem=(t,n={})=>({tr:r,state:s,dispatch:o,editor:l})=>{var c;const p=getNodeType(t,s.schema),{$from:m,$to:x}=s.selection,b=s.selection.node;if(b&&b.isBlock||m.depth<2||!m.sameParent(x))return!1;const S=m.node(-1);if(S.type!==p)return!1;const R=l.extensionManager.attributes;if(m.parent.content.size===0&&m.node(-1).childCount===m.indexAfter(-1)){if(m.depth===2||m.node(-3).type!==p||m.index(-2)!==m.node(-2).childCount-1)return!1;if(o){let P=Fragment.empty;const Q=m.index(-1)?1:m.index(-2)?2:3;for(let re=m.depth-Q;re>=m.depth-3;re-=1)P=Fragment.from(m.node(re).copy(P));const H=m.indexAfter(-1)<m.node(-2).childCount?1:m.indexAfter(-2)<m.node(-3).childCount?2:3,X={...getSplittedAttributes(R,m.node().type.name,m.node().attrs),...n},ee=((c=p.contentMatch.defaultType)==null?void 0:c.createAndFill(X))||void 0;P=P.append(Fragment.from(p.createAndFill(null,ee)||void 0));const ne=m.before(m.depth-(Q-1));r.replace(ne,m.after(-H),new Slice(P,4-Q,0));let Y=-1;r.doc.nodesBetween(ne,r.doc.content.size,(re,oe)=>{if(Y>-1)return!1;re.isTextblock&&re.content.size===0&&(Y=oe+1)}),Y>-1&&r.setSelection(TextSelection.near(r.doc.resolve(Y))),r.scrollIntoView()}return!0}const k=x.pos===m.end()?S.contentMatchAt(0).defaultType:null,M={...getSplittedAttributes(R,S.type.name,S.attrs),...n},j={...getSplittedAttributes(R,m.node().type.name,m.node().attrs),...n};r.delete(m.pos,x.pos);const G=k?[{type:p,attrs:M},{type:k,attrs:j}]:[{type:p,attrs:M}];if(!canSplit(r.doc,m.pos,2))return!1;if(o){const{selection:P,storedMarks:Q}=s,{splittableMarks:H}=l.extensionManager,X=Q||P.$to.parentOffset&&P.$from.marks();if(r.split(m.pos,2,G).scrollIntoView(),!X||!o)return!0;const ee=X.filter(ne=>H.includes(ne.type.name));r.ensureMarks(ee)}return!0},joinListBackwards=(t,n)=>{const r=findParentNode(c=>c.type===n)(t.selection);if(!r)return!0;const s=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(s===void 0)return!0;const o=t.doc.nodeAt(s);return r.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,r.pos)&&t.join(r.pos),!0},joinListForwards=(t,n)=>{const r=findParentNode(c=>c.type===n)(t.selection);if(!r)return!0;const s=t.doc.resolve(r.start).after(r.depth);if(s===void 0)return!0;const o=t.doc.nodeAt(s);return r.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,s)&&t.join(s),!0},toggleList=(t,n,r,s={})=>({editor:o,tr:l,state:c,dispatch:p,chain:m,commands:x,can:b})=>{const{extensions:S,splittableMarks:R}=o.extensionManager,k=getNodeType(t,c.schema),M=getNodeType(n,c.schema),{selection:j,storedMarks:G}=c,{$from:P,$to:Q}=j,H=P.blockRange(Q),X=G||j.$to.parentOffset&&j.$from.marks();if(!H)return!1;const ee=findParentNode(ne=>isList(ne.type.name,S))(j);if(H.depth>=1&&ee&&H.depth-ee.depth<=1){if(ee.node.type===k)return x.liftListItem(M);if(isList(ee.node.type.name,S)&&k.validContent(ee.node.content)&&p)return m().command(()=>(l.setNodeMarkup(ee.pos,k),!0)).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run()}return!r||!X||!p?m().command(()=>b().wrapInList(k,s)?!0:x.clearNodes()).wrapInList(k,s).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run():m().command(()=>{const ne=b().wrapInList(k,s),Y=X.filter(re=>R.includes(re.type.name));return l.ensureMarks(Y),ne?!0:x.clearNodes()}).wrapInList(k,s).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run()},toggleMark=(t,n={},r={})=>({state:s,commands:o})=>{const{extendEmptyMarkRange:l=!1}=r,c=getMarkType(t,s.schema);return isMarkActive(s,c,n)?o.unsetMark(c,{extendEmptyMarkRange:l}):o.setMark(c,n)},toggleNode=(t,n,r={})=>({state:s,commands:o})=>{const l=getNodeType(t,s.schema),c=getNodeType(n,s.schema),p=isNodeActive(s,l,r);let m;return s.selection.$anchor.sameParent(s.selection.$head)&&(m=s.selection.$anchor.parent.attrs),p?o.setNode(c,m):o.setNode(l,{...m,...r})},toggleWrap=(t,n={})=>({state:r,commands:s})=>{const o=getNodeType(t,r.schema);return isNodeActive(r,o,n)?s.lift(o):s.wrapIn(o,n)},undoInputRule=()=>({state:t,dispatch:n})=>{const r=t.plugins;for(let s=0;s<r.length;s+=1){const o=r[s];let l;if(o.spec.isInputRules&&(l=o.getState(t))){if(n){const c=t.tr,p=l.transform;for(let m=p.steps.length-1;m>=0;m-=1)c.step(p.steps[m].invert(p.docs[m]));if(l.text){const m=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,t.schema.text(l.text,m))}else c.delete(l.from,l.to)}return!0}}return!1},unsetAllMarks=()=>({tr:t,dispatch:n})=>{const{selection:r}=t,{empty:s,ranges:o}=r;return s||n&&o.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},unsetMark=(t,n={})=>({tr:r,state:s,dispatch:o})=>{var l;const{extendEmptyMarkRange:c=!1}=n,{selection:p}=r,m=getMarkType(t,s.schema),{$from:x,empty:b,ranges:S}=p;if(!o)return!0;if(b&&c){let{from:R,to:k}=p;const M=(l=x.marks().find(G=>G.type===m))==null?void 0:l.attrs,j=getMarkRange(x,m,M);j&&(R=j.from,k=j.to),r.removeMark(R,k,m)}else S.forEach(R=>{r.removeMark(R.$from.pos,R.$to.pos,m)});return r.removeStoredMark(m),!0},updateAttributes=(t,n={})=>({tr:r,state:s,dispatch:o})=>{let l=null,c=null;const p=getSchemaTypeNameByName(typeof t=="string"?t:t.name,s.schema);return p?(p==="node"&&(l=getNodeType(t,s.schema)),p==="mark"&&(c=getMarkType(t,s.schema)),o&&r.selection.ranges.forEach(m=>{const x=m.$from.pos,b=m.$to.pos;let S,R,k,M;r.selection.empty?s.doc.nodesBetween(x,b,(j,G)=>{l&&l===j.type&&(k=Math.max(G,x),M=Math.min(G+j.nodeSize,b),S=G,R=j)}):s.doc.nodesBetween(x,b,(j,G)=>{G<x&&l&&l===j.type&&(k=Math.max(G,x),M=Math.min(G+j.nodeSize,b),S=G,R=j),G>=x&&G<=b&&(l&&l===j.type&&r.setNodeMarkup(G,void 0,{...j.attrs,...n}),c&&j.marks.length&&j.marks.forEach(P=>{if(c===P.type){const Q=Math.max(G,x),H=Math.min(G+j.nodeSize,b);r.addMark(Q,H,c.create({...P.attrs,...n}))}}))}),R&&(S!==void 0&&r.setNodeMarkup(S,void 0,{...R.attrs,...n}),c&&R.marks.length&&R.marks.forEach(j=>{c===j.type&&r.addMark(k,M,c.create({...j.attrs,...n}))}))}),!0):!1},wrapIn=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return wrapIn$1(o,n)(r,s)},wrapInList=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return wrapInList$1(o,n)(r,s)},EventEmitter=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(s=>s.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(s=>s!==n):delete this.callbacks[t]),this}once(t,n){const r=(...s)=>{this.off(t,r),n.apply(this,s)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}},inputRuleMatcherHandler=(t,n)=>{if(isRegExp(n))return n.exec(t);const r=n(t);if(!r)return null;const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(r.replaceWith)),s};function run$2(t){var n;const{editor:r,from:s,to:o,text:l,rules:c,plugin:p}=t,{view:m}=r;if(m.composing)return!1;const x=m.state.doc.resolve(s);if(x.parent.type.spec.code||(n=x.nodeBefore||x.nodeAfter)!=null&&n.marks.find(R=>R.type.spec.code))return!1;let b=!1;const S=getTextContentFromNodes(x)+l;return c.forEach(R=>{if(b)return;const k=inputRuleMatcherHandler(S,R.find);if(!k)return;const M=m.state.tr,j=createChainableState({state:m.state,transaction:M}),G={from:s-(k[0].length-l.length),to:o},{commands:P,chain:Q,can:H}=new CommandManager({editor:r,state:j});R.handler({state:j,range:G,match:k,commands:P,chain:Q,can:H})===null||!M.steps.length||(R.undoable&&M.setMeta(p,{transform:M,from:s,to:o,text:l}),m.dispatch(M),b=!0)}),b}function inputRulesPlugin(t){const{editor:n,rules:r}=t,s=new Plugin({state:{init(){return null},apply(o,l,c){const p=o.getMeta(s);if(p)return p;const m=o.getMeta("applyInputRules");return!!m&&setTimeout(()=>{let{text:b}=m;typeof b=="string"?b=b:b=getHTMLFromFragment(Fragment.from(b),c.schema);const{from:S}=m,R=S+b.length;run$2({editor:n,from:S,to:R,text:b,rules:r,plugin:s})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,c,p){return run$2({editor:n,from:l,to:c,text:p,rules:r,plugin:s})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&run$2({editor:n,from:l.pos,to:l.pos,text:"",rules:r,plugin:s})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:c}=o.state.selection;return c?run$2({editor:n,from:c.pos,to:c.pos,text:`
`,rules:r,plugin:s}):!1}},isInputRules:!0});return s}function getType(t){return Object.prototype.toString.call(t).slice(8,-1)}function isPlainObject(t){return getType(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mergeDeep(t,n){const r={...t};return isPlainObject(t)&&isPlainObject(n)&&Object.keys(n).forEach(s=>{isPlainObject(n[s])&&isPlainObject(t[s])?r[s]=mergeDeep(t[s],n[s]):r[s]=n[s]}),r}var Extendable=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},Mark=class Uf extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(n={}){const r=typeof n=="function"?n():n;return new Uf(r)}static handleExit({editor:n,mark:r}){const{tr:s}=n.state,o=n.state.selection.$from;if(o.pos===o.end()){const c=o.marks();if(!!!c.find(x=>(x==null?void 0:x.type.name)===r.name))return!1;const m=c.find(x=>(x==null?void 0:x.type.name)===r.name);return m&&s.removeStoredMark(m),s.insertText(" ",o.pos),n.view.dispatch(s),!0}return!1}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}};function isNumber(t){return typeof t=="number"}var PasteRule=class{constructor(t){this.find=t.find,this.handler=t.handler}},pasteRuleMatcherHandler=(t,n,r)=>{if(isRegExp(n))return[...t.matchAll(n)];const s=n(t,r);return s?s.map(o=>{const l=[o.text];return l.index=o.index,l.input=t,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function run2(t){const{editor:n,state:r,from:s,to:o,rule:l,pasteEvent:c,dropEvent:p}=t,{commands:m,chain:x,can:b}=new CommandManager({editor:n,state:r}),S=[];return r.doc.nodesBetween(s,o,(k,M)=>{var j,G,P,Q,H;if((G=(j=k.type)==null?void 0:j.spec)!=null&&G.code||!(k.isText||k.isTextblock||k.isInline))return;const X=(H=(Q=(P=k.content)==null?void 0:P.size)!=null?Q:k.nodeSize)!=null?H:0,ee=Math.max(s,M),ne=Math.min(o,M+X);if(ee>=ne)return;const Y=k.isText?k.text||"":k.textBetween(ee-M,ne-M,void 0,"");pasteRuleMatcherHandler(Y,l.find,c).forEach(oe=>{if(oe.index===void 0)return;const xe=ee+oe.index+1,ve=xe+oe[0].length,me={from:r.tr.mapping.map(xe),to:r.tr.mapping.map(ve)},we=l.handler({state:r,range:me,match:oe,commands:m,chain:x,can:b,pasteEvent:c,dropEvent:p});S.push(we)})}),S.every(k=>k!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=t=>{var n;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(n=r.clipboardData)==null||n.setData("text/html",t),r};function pasteRulesPlugin(t){const{editor:n,rules:r}=t;let s=null,o=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,p;try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}const m=({state:b,from:S,to:R,rule:k,pasteEvt:M})=>{const j=b.tr,G=createChainableState({state:b,transaction:j});if(!(!run2({editor:n,state:G,from:Math.max(S-1,0),to:R.b-1,rule:k,pasteEvent:M,dropEvent:p})||!j.steps.length)){try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return r.map(b=>new Plugin({view(S){const R=M=>{var j;s=(j=S.dom.parentElement)!=null&&j.contains(M.target)?S.dom.parentElement:null,s&&(tiptapDragFromOtherEditor=n)},k=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",R),window.addEventListener("dragend",k),{destroy(){window.removeEventListener("dragstart",R),window.removeEventListener("dragend",k)}}},props:{handleDOMEvents:{drop:(S,R)=>{if(l=s===S.dom.parentElement,p=R,!l){const k=tiptapDragFromOtherEditor;k!=null&&k.isEditable&&setTimeout(()=>{const M=k.state.selection;M&&k.commands.deleteRange({from:M.from,to:M.to})},10)}return!1},paste:(S,R)=>{var k;const M=(k=R.clipboardData)==null?void 0:k.getData("text/html");return c=R,o=!!(M!=null&&M.includes("data-pm-slice")),!1}}},appendTransaction:(S,R,k)=>{const M=S[0],j=M.getMeta("uiEvent")==="paste"&&!o,G=M.getMeta("uiEvent")==="drop"&&!l,P=M.getMeta("applyPasteRules"),Q=!!P;if(!j&&!G&&!Q)return;if(Q){let{text:ee}=P;typeof ee=="string"?ee=ee:ee=getHTMLFromFragment(Fragment.from(ee),k.schema);const{from:ne}=P,Y=ne+ee.length,re=createClipboardPasteEvent(ee);return m({rule:b,state:k,from:ne,to:{b:Y},pasteEvt:re})}const H=R.doc.content.findDiffStart(k.doc.content),X=R.doc.content.findDiffEnd(k.doc.content);if(!(!isNumber(H)||!X||H===X.b))return m({rule:b,state:k,from:H,to:X,pasteEvt:c})}}))}var ExtensionManager=class{constructor(t,n){this.splittableMarks=[],this.editor=n,this.baseExtensions=t,this.extensions=resolveExtensions(t),this.schema=getSchemaByResolvedExtensions(this.extensions,n),this.setupExtensions()}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:this.editor,type:getSchemaTypeByName(n.name,this.schema)},s=getExtensionField(n,"addCommands",r);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return sortExtensions([...this.extensions].reverse()).flatMap(s=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:getSchemaTypeByName(s.name,this.schema)},l=[],c=getExtensionField(s,"addKeyboardShortcuts",o);let p={};if(s.type==="mark"&&getExtensionField(s,"exitable",o)&&(p.ArrowRight=()=>Mark.handleExit({editor:t,mark:s})),c){const R=Object.fromEntries(Object.entries(c()).map(([k,M])=>[k,()=>M({editor:t})]));p={...p,...R}}const m=keymap(p);l.push(m);const x=getExtensionField(s,"addInputRules",o);if(isExtensionRulesEnabled(s,t.options.enableInputRules)&&x){const R=x();if(R&&R.length){const k=inputRulesPlugin({editor:t,rules:R}),M=Array.isArray(k)?k:[k];l.push(...M)}}const b=getExtensionField(s,"addPasteRules",o);if(isExtensionRulesEnabled(s,t.options.enablePasteRules)&&b){const R=b();if(R&&R.length){const k=pasteRulesPlugin({editor:t,rules:R});l.push(...k)}}const S=getExtensionField(s,"addProseMirrorPlugins",o);if(S){const R=S();l.push(...R)}return l})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=splitExtensions(this.extensions);return Object.fromEntries(n.filter(r=>!!getExtensionField(r,"addNodeView")).map(r=>{const s=this.attributes.filter(m=>m.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:getNodeType(r.name,this.schema)},l=getExtensionField(r,"addNodeView",o);if(!l)return[];const c=l();if(!c)return[];const p=(m,x,b,S,R)=>{const k=getRenderedAttributes(m,s);return c({node:m,view:x,getPos:b,decorations:S,innerDecorations:R,editor:t,extension:r,HTMLAttributes:k})};return[r.name,p]}))}get markViews(){const{editor:t}=this,{markExtensions:n}=splitExtensions(this.extensions);return Object.fromEntries(n.filter(r=>!!getExtensionField(r,"addMarkView")).map(r=>{const s=this.attributes.filter(p=>p.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:getMarkType(r.name,this.schema)},l=getExtensionField(r,"addMarkView",o);if(!l)return[];const c=(p,m,x)=>{const b=getRenderedAttributes(p,s);return l()({mark:p,view:m,inline:x,editor:t,extension:r,HTMLAttributes:b,updateAttributes:S=>{updateMarkViewAttributes(p,t,S)}})};return[r.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(n=>[n.name,n.storage])),t.forEach(n=>{var r;const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:this.editor,type:getSchemaTypeByName(n.name,this.schema)};n.type==="mark"&&((r=callOrReturn(getExtensionField(n,"keepOnSplit",s)))==null||r)&&this.splittableMarks.push(n.name);const o=getExtensionField(n,"onBeforeCreate",s),l=getExtensionField(n,"onCreate",s),c=getExtensionField(n,"onUpdate",s),p=getExtensionField(n,"onSelectionUpdate",s),m=getExtensionField(n,"onTransaction",s),x=getExtensionField(n,"onFocus",s),b=getExtensionField(n,"onBlur",s),S=getExtensionField(n,"onDestroy",s);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),c&&this.editor.on("update",c),p&&this.editor.on("selectionUpdate",p),m&&this.editor.on("transaction",m),x&&this.editor.on("focus",x),b&&this.editor.on("blur",b),S&&this.editor.on("destroy",S)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class Hf extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(n={}){const r=typeof n=="function"?n():n;return new Hf(r)}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:n,schema:r}=t,{doc:s,selection:o}=n,{ranges:l}=o,c=Math.min(...l.map(b=>b.$from.pos)),p=Math.max(...l.map(b=>b.$to.pos)),m=getTextSerializersFromSchema(r);return getTextBetween(s,{from:c,to:p},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:m})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:t,appendedTransactions:n}){var r,s,o;const l=()=>{var c,p,m,x;if((x=(m=(p=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:p.filterTransaction)==null?void 0:m.call(p,t))!=null?x:t.getMeta("y-sync$"))return;const b=combineTransactionSteps(t.before,[t,...n]);getChangedRanges(b).forEach(k=>{b.mapping.mapResult(k.oldRange.from).deletedAfter&&b.mapping.mapResult(k.oldRange.to).deletedBefore&&b.before.nodesBetween(k.oldRange.from,k.oldRange.to,(M,j)=>{const G=j+M.nodeSize-2,P=k.oldRange.from<=j&&G<=k.oldRange.to;this.editor.emit("delete",{type:"node",node:M,from:j,to:G,newFrom:b.mapping.map(j),newTo:b.mapping.map(G),deletedRange:k.oldRange,newRange:k.newRange,partial:!P,editor:this.editor,transaction:t,combinedTransform:b})})});const R=b.mapping;b.steps.forEach((k,M)=>{var j,G;if(k instanceof RemoveMarkStep){const P=R.slice(M).map(k.from,-1),Q=R.slice(M).map(k.to),H=R.invert().map(P,-1),X=R.invert().map(Q),ee=(j=b.doc.nodeAt(P-1))==null?void 0:j.marks.some(Y=>Y.eq(k.mark)),ne=(G=b.doc.nodeAt(Q))==null?void 0:G.marks.some(Y=>Y.eq(k.mark));this.editor.emit("delete",{type:"mark",mark:k.mark,from:k.from,to:k.to,deletedRange:{from:H,to:X},newRange:{from:P,to:Q},partial:!!(ne||ee),editor:this.editor,transaction:t,combinedTransform:b})}})};(o=(s=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:s.async)==null||o?setTimeout(l,0):l()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(t,n,r,s)=>{this.editor.emit("drop",{editor:this.editor,event:n,slice:r,moved:s})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(n,r)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return n.dispatch(s),!1},blur:(n,r)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return n.dispatch(s),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:p})=>{const{selection:m,doc:x}=p,{empty:b,$anchor:S}=m,{pos:R,parent:k}=S,M=S.parent.isTextblock&&R>0?p.doc.resolve(R-1):S,j=M.parent.type.spec.isolating,G=S.pos-S.parentOffset,P=j&&M.parent.childCount===1?G===S.pos:Selection.atStart(x).from===R;return!b||!k.type.isTextblock||k.textContent.length||!P||P&&S.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),n=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:n,"Mod-Delete":n,"Mod-a":()=>this.editor.commands.selectAll()},o={...s},l={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":n,"Ctrl-Alt-Backspace":n,"Alt-Delete":n,"Alt-d":n,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?l:o},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(t,n,r)=>{if(t.some(j=>j.getMeta("composition")))return;const s=t.some(j=>j.docChanged)&&!n.doc.eq(r.doc),o=t.some(j=>j.getMeta("preventClearDocument"));if(!s||o)return;const{empty:l,from:c,to:p}=n.selection,m=Selection.atStart(n.doc).from,x=Selection.atEnd(n.doc).to;if(l||!(c===m&&p===x)||!isNodeEmpty(r.doc))return;const R=r.tr,k=createChainableState({state:r,transaction:R}),{commands:M}=new CommandManager({editor:this.editor,state:k});if(M.clearNodes(),!!R.steps.length)return R}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(t,n,r)=>{this.editor.emit("paste",{editor:this.editor,event:n,slice:r})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NodePos=class Ma{constructor(n,r,s=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=n,this.editor=r,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var n;return(n=this.actualDepth)!=null?n:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(n){let r=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:r,to:s},n)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const n=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(n);return new Ma(r,this.editor)}get before(){let n=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return n.depth!==this.depth&&(n=this.resolvedPos.doc.resolve(this.from-3)),new Ma(n,this.editor)}get after(){let n=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return n.depth!==this.depth&&(n=this.resolvedPos.doc.resolve(this.to+3)),new Ma(n,this.editor)}get children(){const n=[];return this.node.content.forEach((r,s)=>{const o=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,c=this.pos+s+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const p=this.resolvedPos.doc.resolve(c);if(!o&&p.depth<=this.depth)return;const m=new Ma(p,this.editor,o,o?r:null);o&&(m.actualDepth=this.depth+1),n.push(new Ma(p,this.editor,o,o?r:null))}),n}get firstChild(){return this.children[0]||null}get lastChild(){const n=this.children;return n[n.length-1]||null}closest(n,r={}){let s=null,o=this.parent;for(;o&&!s;){if(o.node.type.name===n)if(Object.keys(r).length>0){const l=o.node.attrs,c=Object.keys(r);for(let p=0;p<c.length;p+=1){const m=c[p];if(l[m]!==r[m])break}}else s=o;o=o.parent}return s}querySelector(n,r={}){return this.querySelectorAll(n,r,!0)[0]||null}querySelectorAll(n,r={},s=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(r);return this.children.forEach(c=>{s&&o.length>0||(c.node.type.name===n&&l.every(m=>r[m]===c.node.attrs[m])&&o.push(c),!(s&&o.length>0)&&(o=o.concat(c.querySelectorAll(n,r,s))))}),o}setAttribute(n){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...n}),this.editor.view.dispatch(r)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(t,n,r){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const o=document.createElement("style");return n&&o.setAttribute("nonce",n),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var Editor=class extends EventEmitter{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:o,moved:l})=>this.options.onDrop(s,o,l)),this.on("paste",({event:s,slice:o})=>this.options.onPaste(s,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=resolveFocusPosition(n,this.options.autofocus);this.editorState=EditorState.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in t)return Reflect.get(t,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,n){const r=isFunction(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(l))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var t,n;const s=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:n.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ExtensionManager(s,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var n;this.editorView=new EditorView(t,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(x=>{var b;return(b=this.capturedTransaction)==null?void 0:b.step(x)});return}const{state:n,transactions:r}=this.state.applyTransaction(t),s=!this.state.selection.eq(n.selection),o=r.includes(t),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=r.findLast(x=>x.getMeta("focus")||x.getMeta("blur")),p=c==null?void 0:c.getMeta("focus"),m=c==null?void 0:c.getMeta("blur");p&&this.emit("focus",{editor:this,event:p.event,transaction:c}),m&&this.emit("blur",{editor:this,event:m.event,transaction:c}),!(t.getMeta("preventUpdate")||!r.some(x=>x.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return getAttributes(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return isActive$1(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return getText(this.state.doc,{blockSeparator:n,textSerializers:{...getTextSerializersFromSchema(this.schema),...r}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,n;return(n=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?n:!0}$node(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new NodePos(n,this)}get $doc(){return this.$pos(0)}};function markInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=callOrReturn(t.getAttributes,void 0,s);if(o===!1||o===null)return null;const{tr:l}=n,c=s[s.length-1],p=s[0];if(c){const m=p.search(/\S/),x=r.from+p.indexOf(c),b=x+c.length;if(getMarksBetween(r.from,r.to,n.doc).filter(k=>k.mark.type.excluded.find(j=>j===t.type&&j!==k.mark.type)).filter(k=>k.to>x).length)return null;b<r.to&&l.delete(b,r.to),x>r.from&&l.delete(r.from+m,x);const R=r.from+m+c.length;l.addMark(r.from+m,R,t.type.create(o||{})),l.removeStoredMark(t.type)}},undoable:t.undoable})}function nodeInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=callOrReturn(t.getAttributes,void 0,s)||{},{tr:l}=n,c=r.from;let p=r.to;const m=t.type.create(o);if(s[1]){const x=s[0].lastIndexOf(s[1]);let b=c+x;b>p?b=p:p=b+s[1].length;const S=s[0][s[0].length-1];l.insertText(S,c+s[0].length-1),l.replaceWith(b,p,m)}else if(s[0]){const x=t.type.isInline?c:c-1;l.insert(x,t.type.create(o)).delete(l.mapping.map(c),l.mapping.map(p))}l.scrollIntoView()},undoable:t.undoable})}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=n.doc.resolve(r.from),l=callOrReturn(t.getAttributes,void 0,s)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,l)},undoable:t.undoable})}function wrappingInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s,chain:o})=>{const l=callOrReturn(t.getAttributes,void 0,s)||{},c=n.tr.delete(r.from,r.to),m=c.doc.resolve(r.from).blockRange(),x=m&&findWrapping(m,t.type,l);if(!x)return null;if(c.wrap(m,x),t.keepMarks&&t.editor){const{selection:S,storedMarks:R}=n,{splittableMarks:k}=t.editor.extensionManager,M=R||S.$to.parentOffset&&S.$from.marks();if(M){const j=M.filter(G=>k.includes(G.type.name));c.ensureMarks(j)}}if(t.keepAttributes){const S=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(S,l).run()}const b=c.doc.resolve(r.from-1).nodeBefore;b&&b.type===t.type&&canJoin(c.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(s,b))&&c.join(r.from-1)},undoable:t.undoable})}var isTouchEvent=t=>"touches"in t,ResizableNodeView=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=c=>{if(!this.isResizing||!this.activeHandle)return;const p=c.clientX-this.startX,m=c.clientY-this.startY;this.handleResize(p,m)},this.handleTouchMove=c=>{if(!this.isResizing||!this.activeHandle)return;const p=c.touches[0];if(!p)return;const m=p.clientX-this.startX,x=p.clientY-this.startY;this.handleResize(m,x)},this.handleMouseUp=()=>{if(!this.isResizing)return;const c=this.element.offsetWidth,p=this.element.offsetHeight;this.onCommit(c,p),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!1)};var n,r,s,o,l;this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(n=t.options)!=null&&n.min&&(this.minSize={...this.minSize,...t.options.min}),(r=t.options)!=null&&r.max&&(this.maxSize=t.options.max),(s=t==null?void 0:t.options)!=null&&s.directions&&(this.directions=t.options.directions),(o=t.options)!=null&&o.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(l=t.options)!=null&&l.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,n,r){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,n,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const n=document.createElement("div");return n.dataset.resizeHandle=t,n.style.position="absolute",this.classNames.handle&&(n.className=this.classNames.handle),n}positionHandle(t,n){const r=n.includes("top"),s=n.includes("bottom"),o=n.includes("left"),l=n.includes("right");r&&(t.style.top="0"),s&&(t.style.bottom="0"),o&&(t.style.left="0"),l&&(t.style.right="0"),(n==="top"||n==="bottom")&&(t.style.left="0",t.style.right="0"),(n==="left"||n==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{const n=this.createHandle(t);this.positionHandle(n,t),n.addEventListener("mousedown",r=>this.handleResizeStart(r,t)),n.addEventListener("touchstart",r=>this.handleResizeStart(r,t)),this.wrapper.appendChild(n)})}applyInitialSize(){const t=this.node.attrs.width,n=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,n?(this.element.style.height=`${n}px`,this.initialHeight=n):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,n){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=n,isTouchEvent(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,n){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:o}=this.calculateNewDimensions(this.activeHandle,t,n),l=this.applyConstraints(s,o,r);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(t,n,r){let s=this.startWidth,o=this.startHeight;const l=t.includes("right"),c=t.includes("left"),p=t.includes("bottom"),m=t.includes("top");return l?s=this.startWidth+n:c&&(s=this.startWidth-n),p?o=this.startHeight+r:m&&(o=this.startHeight-r),(t==="right"||t==="left")&&(s=this.startWidth+(l?n:-n)),(t==="top"||t==="bottom")&&(o=this.startHeight+(p?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,o,t):{width:s,height:o}}applyConstraints(t,n,r){var s,o,l,c;if(!r){let x=Math.max(this.minSize.width,t),b=Math.max(this.minSize.height,n);return(s=this.maxSize)!=null&&s.width&&(x=Math.min(this.maxSize.width,x)),(o=this.maxSize)!=null&&o.height&&(b=Math.min(this.maxSize.height,b)),{width:x,height:b}}let p=t,m=n;return p<this.minSize.width&&(p=this.minSize.width,m=p/this.aspectRatio),m<this.minSize.height&&(m=this.minSize.height,p=m*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&p>this.maxSize.width&&(p=this.maxSize.width,m=p/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&m>this.maxSize.height&&(m=this.maxSize.height,p=m*this.aspectRatio),{width:p,height:m}}applyAspectRatio(t,n,r){const s=r==="left"||r==="right",o=r==="top"||r==="bottom";return s?{width:t,height:t/this.aspectRatio}:o?{width:n*this.aspectRatio,height:n}:{width:t,height:t/this.aspectRatio}}};function canInsertNode(t,n){const{selection:r}=t,{$from:s}=r;if(r instanceof NodeSelection){const l=s.index();return s.parent.canReplaceWith(l,l+1,n)}let o=s.depth;for(;o>=0;){const l=s.index(o);if(s.node(o).contentMatchAt(l).matchType(n))return!0;o-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(t){if(!(t!=null&&t.trim()))return{};const n={},r=[],s=t.replace(/["']([^"']*)["']/g,x=>(r.push(x),`__QUOTED_${r.length-1}__`)),o=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const x=o.map(b=>b.trim().slice(1));n.class=x.join(" ")}const l=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(n.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,x,b])=>{var S;const R=parseInt(((S=b.match(/__QUOTED_(\d+)__/))==null?void 0:S[1])||"0",10),k=r[R];k&&(n[x]=k.slice(1,-1))});const m=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return m&&m.split(/\s+/).filter(Boolean).forEach(b=>{b.match(/^[a-zA-Z][\w-]*$/)&&(n[b]=!0)}),n}function serializeAttributes(t){if(!t||Object.keys(t).length===0)return"";const n=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>n.push(`.${s}`)),t.id&&n.push(`#${t.id}`),Object.entries(t).forEach(([r,s])=>{r==="class"||r==="id"||(s===!0?n.push(r):s!==!1&&s!=null&&n.push(`${r}="${String(s)}"`))}),n.join(" ")}function createAtomBlockMarkdownSpec(t){const{nodeName:n,name:r,parseAttributes:s=parseAttributes,serializeAttributes:o=serializeAttributes,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:p}=t,m=r||n,x=b=>{if(!p)return b;const S={};return p.forEach(R=>{R in b&&(S[R]=b[R])}),S};return{parseMarkdown:(b,S)=>{const R={...l,...b.attributes};return S.createNode(n,R,[])},markdownTokenizer:{name:n,level:"block",start(b){var S;const R=new RegExp(`^:::${m}(?:\\s|$)`,"m"),k=(S=b.match(R))==null?void 0:S.index;return k!==void 0?k:-1},tokenize(b,S,R){const k=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),M=b.match(k);if(!M)return;const j=M[1]||"",G=s(j);if(!c.find(Q=>!(Q in G)))return{type:n,raw:M[0],attributes:G}}},renderMarkdown:b=>{const S=x(b.attrs||{}),R=o(S),k=R?` {${R}}`:"";return`:::${m}${k} :::`}}}function createBlockMarkdownSpec(t){const{nodeName:n,name:r,getContent:s,parseAttributes:o=parseAttributes,serializeAttributes:l=serializeAttributes,defaultAttributes:c={},content:p="block",allowedAttributes:m}=t,x=r||n,b=S=>{if(!m)return S;const R={};return m.forEach(k=>{k in S&&(R[k]=S[k])}),R};return{parseMarkdown:(S,R)=>{let k;if(s){const j=s(S);k=typeof j=="string"?[{type:"text",text:j}]:j}else p==="block"?k=R.parseChildren(S.tokens||[]):k=R.parseInline(S.tokens||[]);const M={...c,...S.attributes};return R.createNode(n,M,k)},markdownTokenizer:{name:n,level:"block",start(S){var R;const k=new RegExp(`^:::${x}`,"m"),M=(R=S.match(k))==null?void 0:R.index;return M!==void 0?M:-1},tokenize(S,R,k){var M;const j=new RegExp(`^:::${x}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),G=S.match(j);if(!G)return;const[P,Q=""]=G,H=o(Q);let X=1;const ee=P.length;let ne="";const Y=/^:::([\w-]*)(\s.*)?/gm,re=S.slice(ee);for(Y.lastIndex=0;;){const oe=Y.exec(re);if(oe===null)break;const xe=oe.index,ve=oe[1];if(!((M=oe[2])!=null&&M.endsWith(":::"))){if(ve)X+=1;else if(X-=1,X===0){const me=re.slice(0,xe);ne=me.trim();const we=S.slice(0,ee+xe+oe[0].length);let Ee=[];if(ne)if(p==="block")for(Ee=k.blockTokens(me),Ee.forEach(he=>{he.text&&(!he.tokens||he.tokens.length===0)&&(he.tokens=k.inlineTokens(he.text))});Ee.length>0;){const he=Ee[Ee.length-1];if(he.type==="paragraph"&&(!he.text||he.text.trim()===""))Ee.pop();else break}else Ee=k.inlineTokens(ne);return{type:n,raw:we,attributes:H,content:ne,tokens:Ee}}}}}},renderMarkdown:(S,R)=>{const k=b(S.attrs||{}),M=l(k),j=M?` {${M}}`:"",G=R.renderChildren(S.content||[],`

`);return`:::${x}${j}

${G}

:::`}}}function parseShortcodeAttributes(t){if(!t.trim())return{};const n={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=r.exec(t);for(;s!==null;){const[,o,l,c]=s;n[o]=l||c,s=r.exec(t)}return n}function serializeShortcodeAttributes(t){return Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${n}="${r}"`).join(" ")}function createInlineMarkdownSpec(t){const{nodeName:n,name:r,getContent:s,parseAttributes:o=parseShortcodeAttributes,serializeAttributes:l=serializeShortcodeAttributes,defaultAttributes:c={},selfClosing:p=!1,allowedAttributes:m}=t,x=r||n,b=R=>{if(!m)return R;const k={};return m.forEach(M=>{M in R&&(k[M]=R[M])}),k},S=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(R,k)=>{const M={...c,...R.attributes};if(p)return k.createNode(n,M);const j=s?s(R):R.content||"";return j?k.createNode(n,M,[k.createTextNode(j)]):k.createNode(n,M,[])},markdownTokenizer:{name:n,level:"inline",start(R){const k=p?new RegExp(`\\[${S}\\s*[^\\]]*\\]`):new RegExp(`\\[${S}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${S}\\]`),M=R.match(k),j=M==null?void 0:M.index;return j!==void 0?j:-1},tokenize(R,k,M){const j=p?new RegExp(`^\\[${S}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${S}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${S}\\]`),G=R.match(j);if(!G)return;let P="",Q="";if(p){const[,X]=G;Q=X}else{const[,X,ee]=G;Q=X,P=ee||""}const H=o(Q.trim());return{type:n,raw:G[0],content:P.trim(),attributes:H}}},renderMarkdown:R=>{let k="";s?k=s(R):R.content&&R.content.length>0&&(k=R.content.filter(P=>P.type==="text").map(P=>P.text).join(""));const M=b(R.attrs||{}),j=l(M),G=j?` ${j}`:"";return p?`[${x}${G}]`:`[${x}${G}]${k}[/${x}]`}}}function parseIndentedBlocks(t,n,r){var s,o,l,c;const p=t.split(`
`),m=[];let x="",b=0;const S=n.baseIndentSize||2;for(;b<p.length;){const R=p[b],k=R.match(n.itemPattern);if(!k){if(m.length>0)break;if(R.trim()===""){b+=1;continue}else return}const M=n.extractItemData(k),{indentLevel:j,mainContent:G}=M;x=`${x}${R}
`;const P=[G];for(b+=1;b<p.length;){const ee=p[b];if(ee.trim()===""){const Y=p.slice(b+1).findIndex(xe=>xe.trim()!=="");if(Y===-1)break;if((((o=(s=p[b+1+Y].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>j){P.push(ee),x=`${x}${ee}
`,b+=1;continue}else break}if((((c=(l=ee.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>j)P.push(ee),x=`${x}${ee}
`,b+=1;else break}let Q;const H=P.slice(1);if(H.length>0){const ee=H.map(ne=>ne.slice(j+S)).join(`
`);ee.trim()&&(n.customNestedParser?Q=n.customNestedParser(ee):Q=r.blockTokens(ee))}const X=n.createToken(M,Q);m.push(X)}if(m.length!==0)return{items:m,raw:x.trim()}}function renderNestedMarkdownContent(t,n,r,s){if(!t||!Array.isArray(t.content))return"";const o=typeof r=="function"?r(s):r,[l,...c]=t.content,p=n.renderChildren([l]),m=[`${o}${p}`];return c&&c.length>0&&c.forEach(x=>{const b=n.renderChildren([x]);if(b){const S=b.split(`
`).map(R=>R?n.indent(R):"").join(`
`);m.push(S)}}),m.join(`
`)}function updateMarkViewAttributes(t,n,r={}){const{state:s}=n,{doc:o,tr:l}=s,c=t;o.descendants((p,m)=>{const x=l.mapping.map(m),b=l.mapping.map(m)+p.nodeSize;let S=null;if(p.marks.forEach(k=>{if(k!==c)return!1;S=k}),!S)return;let R=!1;if(Object.keys(r).forEach(k=>{r[k]!==S.attrs[k]&&(R=!0)}),R){const k=t.type.create({...t.attrs,...r});l.removeMark(x,b,t.type),l.addMark(x,b,k)}}),l.docChanged&&n.view.dispatch(l)}var Node3=class Qf extends Extendable{constructor(){super(...arguments),this.type="node"}static create(n={}){const r=typeof n=="function"?n():n;return new Qf(r)}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}};function markPasteRule(t){return new PasteRule({find:t.find,handler:({state:n,range:r,match:s,pasteEvent:o})=>{const l=callOrReturn(t.getAttributes,void 0,s,o);if(l===!1||l===null)return null;const{tr:c}=n,p=s[s.length-1],m=s[0];let x=r.to;if(p){const b=m.search(/\S/),S=r.from+m.indexOf(p),R=S+p.length;if(getMarksBetween(r.from,r.to,n.doc).filter(M=>M.mark.type.excluded.find(G=>G===t.type&&G!==M.mark.type)).filter(M=>M.to>S).length)return null;R<r.to&&c.delete(R,r.to),S>r.from&&c.delete(r.from+b,S),x=r.from+b+p.length,c.addMark(r.from+b,x,t.type.create(l||{})),c.removeStoredMark(t.type)}}})}var react,hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react=function t(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var s,o,l;if(Array.isArray(n)){if(s=n.length,s!=r.length)return!1;for(o=s;o--!==0;)if(!t(n[o],r[o]))return!1;return!0}if(n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;for(o of n.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if(s=n.length,s!=r.length)return!1;for(o=s;o--!==0;)if(n[o]!==r[o])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(l=Object.keys(n),s=l.length,s!==Object.keys(r).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[o]))return!1;for(o=s;o--!==0;){var c=l[o];if(!(c==="_owner"&&n.$$typeof)&&!t(n[c],r[c]))return!1}return!0}return n!==n&&r!==r}),react}var reactExports=requireReact();const deepEqual=getDefaultExportFromCjs(reactExports);var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var t=requireReact$1(),n=requireShim();function r(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var s=typeof Object.is=="function"?Object.is:r,o=n.useSyncExternalStore,l=t.useRef,c=t.useEffect,p=t.useMemo,m=t.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(x,b,S,R,k){var M=l(null);if(M.current===null){var j={hasValue:!1,value:null};M.current=j}else j=M.current;M=p(function(){function P(ne){if(!Q){if(Q=!0,H=ne,ne=R(ne),k!==void 0&&j.hasValue){var Y=j.value;if(k(Y,ne))return X=Y}return X=ne}if(Y=X,s(H,ne))return Y;var re=R(ne);return k!==void 0&&k(Y,re)?(H=ne,Y):(H=ne,X=re)}var Q=!1,H,X,ee=S===void 0?null:S;return[function(){return P(b())},ee===null?void 0:function(){return P(ee())}]},[b,S,R,k]);var G=o(x,M[0],M[1]);return c(function(){j.hasValue=!0,j.value=G},[G]),m(G),G},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector(),mergeRefs=(...t)=>n=>{t.forEach(r=>{typeof r=="function"?r(n):r&&(r.current=n)})},Portals=({contentComponent:t})=>{const n=shimExports.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(n)})};function getInstance(){const t=new Set;let n={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return n},getServerSnapshot(){return n},setRenderer(r,s){n={...n,[r]:ReactDOM.createPortal(s.reactElement,s.element,r)},t.forEach(o=>o())},removeRenderer(r){const s={...n};delete s[r],n=s,t.forEach(o=>o())}}}var PureEditorContent=class extends React4.Component{constructor(t){var n;super(t),this.editorContentRef=React4.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((n=t.editor)!=null&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(t.view.dom),t.setOptions({element:n}),t.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const n=this.props.editor;if(n){this.initialized=!1,n.isDestroyed||n.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),n.contentComponent=null;try{if(!((t=n.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(n.view.dom),n.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:n,...r}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(n,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:t.contentComponent})]})}},EditorContentWithKey=reactExports$1.forwardRef((t,n)=>{const r=React4.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return React4.createElement(PureEditorContent,{key:r,innerRef:n,...t})}),EditorContent=React4.memo(EditorContentWithKey),useIsomorphicLayoutEffect=typeof window<"u"?reactExports$1.useLayoutEffect:reactExports$1.useEffect,EditorStateManager=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}};function useEditorState(t){var n;const[r]=reactExports$1.useState(()=>new EditorStateManager(t.editor)),s=withSelectorExports.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(n=t.equalityFn)!=null?n:deepEqual);return useIsomorphicLayoutEffect(()=>r.watch(t.editor),[t.editor,r]),reactExports$1.useDebugValue(s),s}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Vf{constructor(n){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=n,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(n){this.editor=n,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const n={...this.options.current,onBeforeCreate:(...s)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)==null?void 0:l.call(o,...s)},onBlur:(...s)=>{var o,l;return(l=(o=this.options.current).onBlur)==null?void 0:l.call(o,...s)},onCreate:(...s)=>{var o,l;return(l=(o=this.options.current).onCreate)==null?void 0:l.call(o,...s)},onDestroy:(...s)=>{var o,l;return(l=(o=this.options.current).onDestroy)==null?void 0:l.call(o,...s)},onFocus:(...s)=>{var o,l;return(l=(o=this.options.current).onFocus)==null?void 0:l.call(o,...s)},onSelectionUpdate:(...s)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)==null?void 0:l.call(o,...s)},onTransaction:(...s)=>{var o,l;return(l=(o=this.options.current).onTransaction)==null?void 0:l.call(o,...s)},onUpdate:(...s)=>{var o,l;return(l=(o=this.options.current).onUpdate)==null?void 0:l.call(o,...s)},onContentError:(...s)=>{var o,l;return(l=(o=this.options.current).onContentError)==null?void 0:l.call(o,...s)},onDrop:(...s)=>{var o,l;return(l=(o=this.options.current).onDrop)==null?void 0:l.call(o,...s)},onPaste:(...s)=>{var o,l;return(l=(o=this.options.current).onPaste)==null?void 0:l.call(o,...s)},onDelete:(...s)=>{var o,l;return(l=(o=this.options.current).onDelete)==null?void 0:l.call(o,...s)}};return new Editor(n)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(n){return this.subscriptions.add(n),()=>{this.subscriptions.delete(n)}}static compareOptions(n,r){return Object.keys(n).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&n.extensions&&r.extensions?n.extensions.length!==r.extensions.length?!1:n.extensions.every((o,l)=>{var c;return o===((c=r.extensions)==null?void 0:c[l])}):n[s]===r[s])}onRender(n){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&n.length===0?Vf.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(n),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(n){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=n;return}if(this.previousDeps.length===n.length&&this.previousDeps.every((s,o)=>s===n[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=n}scheduleDestroy(){const n=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===n){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===n&&this.setEditor(null))},1)}};function useEditor(t={},n=[]){const r=reactExports$1.useRef(t);r.current=t;const[s]=reactExports$1.useState(()=>new EditorInstanceManager(r)),o=shimExports.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return reactExports$1.useDebugValue(o),reactExports$1.useEffect(s.onRender(n)),useEditorState({editor:o,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&l===0?0:l+1}),o}var EditorContext=reactExports$1.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports$1.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports$1.useContext(ReactNodeViewContext);React4.forwardRef((t,n)=>{const{onDragStart:r}=useReactNodeView(),s=t.as||"div";return jsxRuntimeExports.jsx(s,{...t,ref:n,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});React4.createContext({markViewContentRef:()=>{}});var h=(t,n)=>{if(t==="slot")return 0;if(t instanceof Function)return t(n);const{children:r,...s}=n??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,r]},inputRegex$4=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,t),children:h("slot",{})})},parseMarkdown:(t,n)=>n.createNode("blockquote",void 0,n.parseChildren(t.tokens||[])),renderMarkdown:(t,n)=>{if(!t.content)return"";const r=">",s=[];return t.content.forEach(o=>{const p=n.renderChildren([o]).split(`
`).map(m=>m.trim()===""?r:`${r} ${m}`);s.push(p.join(`
`))}),s.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return h("strong",{...mergeAttributes(this.options.HTMLAttributes,t),children:h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,n)=>n.applyMark("bold",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`**${n.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$3=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,n)=>n.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,n)=>t.content?`\`${n.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var n;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((n=t.firstElementChild)==null?void 0:n.classList)||[]].filter(c=>c.startsWith(r)).map(c=>c.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:n}){return["pre",mergeAttributes(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,n)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:n.createNode("codeBlock",{language:t.lang||null},t.text?[n.createTextNode(t.text)]:[])},renderMarkdown:(t,n)=>{var r;let s="";const o=((r=t.attrs)==null?void 0:r.language)||"";return t.content?s=[`\`\`\`${o}`,n.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${o}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:n})=>n.setNode(this.name,t),toggleCodeBlock:t=>({commands:n})=>n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:n}=this.editor.state.selection,r=n.pos===1;return!t||n.parent.type.name!==this.name?!1:r||!n.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var n;if(!this.options.enableTabIndentation)return!1;const r=(n=this.options.tabSize)!=null?n:DEFAULT_TAB_SIZE,{state:s}=t,{selection:o}=s,{$from:l,empty:c}=o;if(l.parent.type!==this.type)return!1;const p=" ".repeat(r);return c?t.commands.insertContent(p):t.commands.command(({tr:m})=>{const{from:x,to:b}=o,k=s.doc.textBetween(x,b,`
`,`
`).split(`
`).map(M=>p+M).join(`
`);return m.replaceWith(x,b,s.schema.text(k)),!0})},"Shift-Tab":({editor:t})=>{var n;if(!this.options.enableTabIndentation)return!1;const r=(n=this.options.tabSize)!=null?n:DEFAULT_TAB_SIZE,{state:s}=t,{selection:o}=s,{$from:l,empty:c}=o;return l.parent.type!==this.type?!1:c?t.commands.command(({tr:p})=>{var m;const{pos:x}=l,b=l.start(),S=l.end(),k=s.doc.textBetween(b,S,`
`,`
`).split(`
`);let M=0,j=0;const G=x-b;for(let ne=0;ne<k.length;ne+=1){if(j+k[ne].length>=G){M=ne;break}j+=k[ne].length+1}const Q=((m=k[M].match(/^ */))==null?void 0:m[0])||"",H=Math.min(Q.length,r);if(H===0)return!0;let X=b;for(let ne=0;ne<M;ne+=1)X+=k[ne].length+1;return p.delete(X,X+H),x-X<=H&&p.setSelection(TextSelection.create(p.doc,X)),!0}):t.commands.command(({tr:p})=>{const{from:m,to:x}=o,R=s.doc.textBetween(m,x,`
`,`
`).split(`
`).map(k=>{var M;const j=((M=k.match(/^ */))==null?void 0:M[0])||"",G=Math.min(j.length,r);return k.slice(G)}).join(`
`);return p.replaceWith(m,x,s.schema.text(R)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:n}=t,{selection:r}=n,{$from:s,empty:o}=r;if(!o||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!l||!c?!1:t.chain().command(({tr:p})=>(p.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:n}=t,{selection:r,doc:s}=n,{$from:o,empty:l}=r;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const p=o.after();return p===void 0?!1:s.nodeAt(p)?t.commands.command(({tr:x})=>(x.setSelection(Selection.near(s.resolve(p))),!0)):t.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:t=>({language:t[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;const r=n.clipboardData.getData("text/plain"),s=n.clipboardData.getData("vscode-editor-data"),o=s?JSON.parse(s):void 0,l=o==null?void 0:o.mode;if(!r||!l)return!1;const{tr:c,schema:p}=t.state,m=p.text(r.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},m)),c.selection.$from.parent.type!==this.type&&c.setSelection(TextSelection.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mergeAttributes(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:n,state:r,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:l}=r;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:p}=s.extensionManager,m=l||o.$to.parentOffset&&o.$from.marks();return n().insertContent({type:this.name}).command(({tr:x,dispatch:b})=>{if(b&&m&&c){const S=m.filter(R=>p.includes(R.type.name));x.ensureMarks(S)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:n}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,n),0]},parseMarkdown:(t,n)=>n.createNode("heading",{level:t.depth||1},n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>{var r;const s=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,o="#".repeat(s);return t.content?`${o} ${n.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:n})=>this.options.levels.includes(t.level)?n.setNode(this.name,t):!1,toggleHeading:t=>({commands:n})=>this.options.levels.includes(t.level)?n.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,n)=>({...t,[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}),{})},addInputRules(){return this.options.levels.map(t=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mergeAttributes(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,n)=>n.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:n})=>{if(!canInsertNode(n,n.schema.nodes[this.name]))return!1;const{selection:r}=n,{$to:s}=r,o=t();return isNodeSelection(r)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:l,tr:c,dispatch:p})=>{if(p){const{$to:m}=c.selection,x=m.end();if(m.nodeAfter)m.nodeAfter.isTextblock?c.setSelection(TextSelection.create(c.doc,m.pos+1)):m.nodeAfter.isBlock?c.setSelection(NodeSelection.create(c.doc,m.pos)):c.setSelection(TextSelection.create(c.doc,m.pos));else{const b=l.schema.nodes[this.options.nextNodeType]||m.parent.type.contentMatch.defaultType,S=b==null?void 0:b.create();S&&(c.insert(x,S),c.setSelection(TextSelection.create(c.doc,x+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,n)=>n.applyMark("italic",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`*${n.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(t,n){return t in n||(n[t]=[]),n[t]}function addToGroups(t,n,r){n[numeric]&&(n[asciinumeric]=!0,n[alphanumeric]=!0),n[ascii]&&(n[asciinumeric]=!0,n[alpha]=!0),n[asciinumeric]&&(n[alphanumeric]=!0),n[alpha]&&(n[alphanumeric]=!0),n[alphanumeric]&&(n[domain]=!0),n[emoji]&&(n[domain]=!0);for(const s in n){const o=registerGroup(s,r);o.indexOf(t)<0&&o.push(t)}}function flagsForToken(t,n){const r={};for(const s in n)n[s].indexOf(t)>=0&&(r[s]=!0);return r}function State(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}State.groups={};State.prototype={accepts(){return!!this.t},go(t){const n=this,r=n.j[t];if(r)return r;for(let s=0;s<n.jr.length;s++){const o=n.jr[s][0],l=n.jr[s][1];if(l&&o.test(t))return l}return n.jd},has(t,n=!1){return n?t in this.j:!!this.go(t)},ta(t,n,r,s){for(let o=0;o<t.length;o++)this.tt(t[o],n,r,s)},tr(t,n,r,s){s=s||State.groups;let o;return n&&n.j?o=n:(o=new State(n),r&&s&&addToGroups(n,r,s)),this.jr.push([t,o]),o},ts(t,n,r,s){let o=this;const l=t.length;if(!l)return o;for(let c=0;c<l-1;c++)o=o.tt(t[c]);return o.tt(t[l-1],n,r,s)},tt(t,n,r,s){s=s||State.groups;const o=this;if(n&&n.j)return o.j[t]=n,n;const l=n;let c,p=o.go(t);if(p?(c=new State,Object.assign(c.j,p.j),c.jr.push.apply(c.jr,p.jr),c.jd=p.jd,c.t=p.t):c=new State,l){if(s)if(c.t&&typeof c.t=="string"){const m=Object.assign(flagsForToken(c.t,s),r);addToGroups(l,m,s)}else r&&addToGroups(l,r,s);c.t=l}return o.j[t]=c,c}};const ta=(t,n,r,s,o)=>t.ta(n,r,s,o),tr=(t,n,r,s,o)=>t.tr(n,r,s,o),ts=(t,n,r,s,o)=>t.ts(n,r,s,o),tt=(t,n,r,s,o)=>t.tt(n,r,s,o),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(t=[]){const n={};State.groups=n;const r=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(r,"'",APOSTROPHE),tt(r,"{",OPENBRACE),tt(r,"}",CLOSEBRACE),tt(r,"[",OPENBRACKET),tt(r,"]",CLOSEBRACKET),tt(r,"(",OPENPAREN),tt(r,")",CLOSEPAREN),tt(r,"<",OPENANGLEBRACKET),tt(r,">",CLOSEANGLEBRACKET),tt(r,"",FULLWIDTHLEFTPAREN),tt(r,"",FULLWIDTHRIGHTPAREN),tt(r,"",LEFTCORNERBRACKET),tt(r,"",RIGHTCORNERBRACKET),tt(r,"",LEFTWHITECORNERBRACKET),tt(r,"",RIGHTWHITECORNERBRACKET),tt(r,"",FULLWIDTHLESSTHAN),tt(r,"",FULLWIDTHGREATERTHAN),tt(r,"&",AMPERSAND),tt(r,"*",ASTERISK),tt(r,"@",AT),tt(r,"`",BACKTICK),tt(r,"^",CARET),tt(r,":",COLON),tt(r,",",COMMA),tt(r,"$",DOLLAR),tt(r,".",DOT),tt(r,"=",EQUALS),tt(r,"!",EXCLAMATION),tt(r,"-",HYPHEN),tt(r,"%",PERCENT),tt(r,"|",PIPE),tt(r,"+",PLUS),tt(r,"#",POUND),tt(r,"?",QUERY),tt(r,'"',QUOTE),tt(r,"/",SLASH),tt(r,";",SEMI),tt(r,"~",TILDE),tt(r,"_",UNDERSCORE),tt(r,"\\",BACKSLASH),tt(r,"",FULLWIDTHMIDDLEDOT);const s=tr(r,DIGIT,NUM,{[numeric]:!0});tr(s,DIGIT,s);const o=tr(s,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),l=tr(s,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),c=tr(r,ASCII_LETTER,WORD,{[ascii]:!0});tr(c,DIGIT,o),tr(c,ASCII_LETTER,c),tr(o,DIGIT,o),tr(o,ASCII_LETTER,o);const p=tr(r,LETTER,UWORD,{[alpha]:!0});tr(p,ASCII_LETTER),tr(p,DIGIT,l),tr(p,LETTER,p),tr(l,DIGIT,l),tr(l,ASCII_LETTER),tr(l,LETTER,l);const m=tt(r,LF,NL,{[whitespace]:!0}),x=tt(r,CR,WS,{[whitespace]:!0}),b=tr(r,SPACE,WS,{[whitespace]:!0});tt(r,OBJECT_REPLACEMENT,b),tt(x,LF,m),tt(x,OBJECT_REPLACEMENT,b),tr(x,SPACE,b),tt(b,CR),tt(b,LF),tr(b,SPACE,b),tt(b,OBJECT_REPLACEMENT,b);const S=tr(r,EMOJI,EMOJI$1,{[emoji]:!0});tt(S,"#"),tr(S,EMOJI,S),tt(S,EMOJI_VARIATION,S);const R=tt(S,EMOJI_JOINER);tt(R,"#"),tr(R,EMOJI,S);const k=[[ASCII_LETTER,c],[DIGIT,o]],M=[[ASCII_LETTER,null],[LETTER,p],[DIGIT,l]];for(let j=0;j<tlds.length;j++)fastts(r,tlds[j],TLD,WORD,k);for(let j=0;j<utlds.length;j++)fastts(r,utlds[j],UTLD,UWORD,M);addToGroups(TLD,{tld:!0,ascii:!0},n),addToGroups(UTLD,{utld:!0,alpha:!0},n),fastts(r,"file",SCHEME,WORD,k),fastts(r,"mailto",SCHEME,WORD,k),fastts(r,"http",SLASH_SCHEME,WORD,k),fastts(r,"https",SLASH_SCHEME,WORD,k),fastts(r,"ftp",SLASH_SCHEME,WORD,k),fastts(r,"ftps",SLASH_SCHEME,WORD,k),addToGroups(SCHEME,{scheme:!0,ascii:!0},n),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},n),t=t.sort((j,G)=>j[0]>G[0]?1:-1);for(let j=0;j<t.length;j++){const G=t[j][0],Q=t[j][1]?{[scheme]:!0}:{[slashscheme]:!0};G.indexOf("-")>=0?Q[domain]=!0:ASCII_LETTER.test(G)?DIGIT.test(G)?Q[asciinumeric]=!0:Q[ascii]=!0:Q[numeric]=!0,ts(r,G,G,Q)}return ts(r,"localhost",LOCALHOST,{ascii:!0}),r.jd=new State(SYM),{start:r,tokens:Object.assign({groups:n},tk)}}function run$1(t,n){const r=stringToArray(n.replace(/[A-Z]/g,p=>p.toLowerCase())),s=r.length,o=[];let l=0,c=0;for(;c<s;){let p=t,m=null,x=0,b=null,S=-1,R=-1;for(;c<s&&(m=p.go(r[c]));)p=m,p.accepts()?(S=0,R=0,b=p):S>=0&&(S+=r[c].length,R++),x+=r[c].length,l+=r[c].length,c++;l-=S,c-=R,x-=S,o.push({t:b.t,v:n.slice(l-x,l),s:l-x,e:l})}return o}function stringToArray(t){const n=[],r=t.length;let s=0;for(;s<r;){let o=t.charCodeAt(s),l,c=o<55296||o>56319||s+1===r||(l=t.charCodeAt(s+1))<56320||l>57343?t[s]:t.slice(s,s+2);n.push(c),s+=c.length}return n}function fastts(t,n,r,s,o){let l;const c=n.length;for(let p=0;p<c-1;p++){const m=n[p];t.j[m]?l=t.j[m]:(l=new State(s),l.jr=o.slice(),t.j[m]=l),t=l}return l=new State(r),l.jr=o.slice(),t.j[n[c-1]]=l,l}function decodeTlds(t){const n=[],r=[];let s=0,o="0123456789";for(;s<t.length;){let l=0;for(;o.indexOf(t[s+l])>=0;)l++;if(l>0){n.push(r.join(""));for(let c=parseInt(t.substring(s,s+l),10);c>0;c--)r.pop();s+=l}else r.push(t[s]),s++}return n}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(t,n=null){let r=Object.assign({},defaults);t&&(r=Object.assign(r,t instanceof Options?t.o:t));const s=r.ignoreTags,o=[];for(let l=0;l<s.length;l++)o.push(s[l].toUpperCase());this.o=r,n&&(this.defaultRender=n),this.ignoreTags=o}Options.prototype={o:defaults,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,n,r){const s=n!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=r.t in o?o[r.t]:defaults[t],typeof o=="function"&&s&&(o=o(n,r))):typeof o=="function"&&s&&(o=o(n,r.t,r)),o)},getObj(t,n,r){let s=this.o[t];return typeof s=="function"&&n!=null&&(s=s(n,r.t,r)),s},render(t){const n=t.render(this);return(this.get("render",null,t)||this.defaultRender)(n,t.t,t)}};function noop(t){return t}function MultiToken(t,n){this.t="token",this.v=t,this.tk=n}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const n=this.toString(),r=t.get("truncate",n,this),s=t.get("format",n,this);return r&&s.length>r?s.substring(0,r)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const n=this,r=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",r,this),o=t.get("tagName",r,n),l=this.toFormattedString(t),c={},p=t.get("className",r,n),m=t.get("target",r,n),x=t.get("rel",r,n),b=t.getObj("attributes",r,n),S=t.getObj("events",r,n);return c.href=s,p&&(c.class=p),m&&(c.target=m),x&&(c.rel=x),b&&Object.assign(c,b),{tagName:o,attributes:c,content:l,eventListeners:S}}};function createTokenClass(t,n){class r extends MultiToken{constructor(o,l){super(o,l),this.t=t}}for(const s in n)r.prototype[s]=n[s];return r.t=t,r}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(t=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==LOCALHOST&&t[1].t===COLON}}),makeState=t=>new State(t);function init$1({groups:t}){const n=t.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),r=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],s=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],o=makeState(),l=tt(o,TILDE);ta(l,s,l),ta(l,t.domain,l);const c=makeState(),p=makeState(),m=makeState();ta(o,t.domain,c),ta(o,t.scheme,p),ta(o,t.slashscheme,m),ta(c,s,l),ta(c,t.domain,c);const x=tt(c,AT);tt(l,AT,x),tt(p,AT,x),tt(m,AT,x);const b=tt(l,DOT);ta(b,s,l),ta(b,t.domain,l);const S=makeState();ta(x,t.domain,S),ta(S,t.domain,S);const R=tt(S,DOT);ta(R,t.domain,S);const k=makeState(Email);ta(R,t.tld,k),ta(R,t.utld,k),tt(x,LOCALHOST,k);const M=tt(S,HYPHEN);tt(M,HYPHEN,M),ta(M,t.domain,S),ta(k,t.domain,S),tt(k,DOT,R),tt(k,HYPHEN,M);const j=tt(k,COLON);ta(j,t.numeric,Email);const G=tt(c,HYPHEN),P=tt(c,DOT);tt(G,HYPHEN,G),ta(G,t.domain,c),ta(P,s,l),ta(P,t.domain,c);const Q=makeState(Url);ta(P,t.tld,Q),ta(P,t.utld,Q),ta(Q,t.domain,c),ta(Q,s,l),tt(Q,DOT,P),tt(Q,HYPHEN,G),tt(Q,AT,x);const H=tt(Q,COLON),X=makeState(Url);ta(H,t.numeric,X);const ee=makeState(Url),ne=makeState();ta(ee,n,ee),ta(ee,r,ne),ta(ne,n,ee),ta(ne,r,ne),tt(Q,SLASH,ee),tt(X,SLASH,ee);const Y=tt(p,COLON),re=tt(m,COLON),oe=tt(re,SLASH),xe=tt(oe,SLASH);ta(p,t.domain,c),tt(p,DOT,P),tt(p,HYPHEN,G),ta(m,t.domain,c),tt(m,DOT,P),tt(m,HYPHEN,G),ta(Y,t.domain,ee),tt(Y,SLASH,ee),tt(Y,QUERY,ee),ta(xe,t.domain,ee),ta(xe,n,ee),tt(xe,SLASH,ee);const ve=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let me=0;me<ve.length;me++){const[we,Ee]=ve[me],he=tt(ee,we);tt(ne,we,he),tt(he,Ee,ee);const ae=makeState(Url);ta(he,n,ae);const ue=makeState();ta(he,r),ta(ae,n,ae),ta(ae,r,ue),ta(ue,n,ae),ta(ue,r,ue),tt(ae,Ee,ee),tt(ue,Ee,ee)}return tt(o,LOCALHOST,Q),tt(o,NL,Nl),{start:o,tokens:tk}}function run(t,n,r){let s=r.length,o=0,l=[],c=[];for(;o<s;){let p=t,m=null,x=null,b=0,S=null,R=-1;for(;o<s&&!(m=p.go(r[o].t));)c.push(r[o++]);for(;o<s&&(x=m||p.go(r[o].t));)m=null,p=x,p.accepts()?(R=0,S=p):R>=0&&R++,o++,b++;if(R<0)o-=b,o<s&&(c.push(r[o]),o++);else{c.length>0&&(l.push(initMultiToken(Text$1,n,c)),c=[]),o-=R,b-=R;const k=S.t,M=r.slice(o-b,o);l.push(initMultiToken(k,n,M))}}return c.length>0&&l.push(initMultiToken(Text$1,n,c)),l}function initMultiToken(t,n,r){const s=r[0].s,o=r[r.length-1].e,l=n.slice(s,o);return new t(l,r)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(t,n=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${t}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([t,n])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let t=0;t<INIT.tokenQueue.length;t++)INIT.tokenQueue[t][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let t=0;t<INIT.pluginQueue.length;t++)INIT.pluginQueue[t][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(t){return INIT.initialized||init(),run(INIT.parser.start,t,run$1(INIT.scanner.start,t))}tokenize.scan=run$1;function find(t,n=null,r=null){if(n&&typeof n=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${n}; must be a string`);r=n,n=null}const s=new Options(r),o=tokenize(t),l=[];for(let c=0;c<o.length;c++){const p=o[c];p.isLink&&(!n||p.t===n)&&s.check(p)&&l.push(p.toFormattedObject(s))}return l}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function autolink(t){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(n,r,s)=>{const o=n.some(x=>x.docChanged)&&!r.doc.eq(s.doc),l=n.some(x=>x.getMeta("preventAutolink"));if(!o||l)return;const{tr:c}=s,p=combineTransactionSteps(r.doc,[...n]);if(getChangedRanges(p).forEach(({newRange:x})=>{const b=findChildrenInRange(s.doc,x,k=>k.isTextblock);let S,R;if(b.length>1)S=b[0],R=s.doc.textBetween(S.pos,S.pos+S.node.nodeSize,void 0," ");else if(b.length){const k=s.doc.textBetween(x.from,x.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(k))return;S=b[0],R=s.doc.textBetween(S.pos,x.to,void 0," ")}if(S&&R){const k=R.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(k.length<=0)return!1;const M=k[k.length-1],j=S.pos+R.lastIndexOf(M);if(!M)return!1;const G=tokenize(M).map(P=>P.toObject(t.defaultProtocol));if(!isValidLinkStructure(G))return!1;G.filter(P=>P.isLink).map(P=>({...P,from:j+P.start+1,to:j+P.end+1})).filter(P=>s.schema.marks.code?!s.doc.rangeHasMark(P.from,P.to,s.schema.marks.code):!0).filter(P=>t.validate(P.value)).filter(P=>t.shouldAutoLink(P.value)).forEach(P=>{getMarksBetween(P.from,P.to,s.doc).some(Q=>Q.mark.type===t.type)||c.addMark(P.from,P.to,t.type.create({href:P.href}))})}}),!!c.steps.length)return c}})}function clickHandler(t){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(n,r,s)=>{var o,l;if(s.button!==0||!n.editable)return!1;let c=null;if(s.target instanceof HTMLAnchorElement)c=s.target;else{let b=s.target;const S=[];for(;b.nodeName!=="DIV";)S.push(b),b=b.parentNode;c=S.find(R=>R.nodeName==="A")}if(!c)return!1;const p=getAttributes(n.state,t.type.name),m=(o=c==null?void 0:c.href)!=null?o:p.href,x=(l=c==null?void 0:c.target)!=null?l:p.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&m?(window.open(m,x),!0):!1}}})}function pasteHandler(t){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(n,r,s)=>{const{shouldAutoLink:o}=t,{state:l}=n,{selection:c}=l,{empty:p}=c;if(p)return!1;let m="";s.content.forEach(b=>{m+=b.textContent});const x=find(m,{defaultProtocol:t.defaultProtocol}).find(b=>b.isLink&&b.value===m);return!m||!x||o!==void 0&&!o(x.href)?!1:t.editor.commands.setMark(t.type,{href:x.href})}}})}function isAllowedUri(t,n){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return n&&n.forEach(s=>{const o=typeof s=="string"?s:s.scheme;o&&r.push(o)}),!t||t.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){registerCustomProtocol(t);return}registerCustomProtocol(t.scheme,t.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,n)=>!!isAllowedUri(t,n.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const n=t.getAttribute("href");return!n||!this.options.isAllowedUri(n,{defaultValidate:r=>!!isAllowedUri(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:n=>!!isAllowedUri(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,t),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,n)=>n.applyMark("link",n.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,n)=>{var r;const s=((r=t.attrs)==null?void 0:r.href)||"";return`[${n.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:n})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:s=>!!isAllowedUri(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?n().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:n})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:s=>!!isAllowedUri(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:n().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:t=>{const n=[];if(t){const{protocols:r,defaultProtocol:s}=this.options,o=find(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!isAllowedUri(c,r),protocols:r,defaultProtocol:s}));o.length&&o.forEach(l=>{this.options.shouldAutoLink(l.value)&&n.push({text:l.value,data:{href:l.href},index:l.start})})}return n},type:this.type,getAttributes:t=>{var n;return{href:(n=t.data)==null?void 0:n.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:n,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:o=>!!isAllowedUri(o,n),protocols:n,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(clickHandler({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),__defProp=Object.defineProperty,__export=(t,n)=>{for(var r in n)__defProp(t,r,{get:n[r],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,n)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?n.parseChildren(t.items):[]},renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[t]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,n)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))r=n.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(r=[{type:"paragraph",content:n.parseInline(o.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),p=n.parseChildren(c);r.push(...p)}}else r=n.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,n,r)=>renderNestedMarkdownContent(t,n,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(t,n)=>{const{$from:r}=n.selection,s=getNodeType(t,n.schema);let o=null,l=r.depth,c=r.pos,p=null;for(;l>0&&p===null;)o=r.node(l),o.type===s?p=l:(l-=1,c-=1);return p===null?null:{$pos:n.doc.resolve(c),depth:p}},getNextListDepth=(t,n)=>{const r=findListItemPos(t,n);if(!r)return!1;const[,s]=getNodeAtPosition(n,t,r.$pos.pos+4);return s},hasListBefore=(t,n,r)=>{const{$anchor:s}=t.selection,o=Math.max(0,s.pos-2),l=t.doc.resolve(o).node();return!(!l||!r.includes(l.type.name))},hasListItemBefore=(t,n)=>{var r;const{$anchor:s}=n.selection,o=n.doc.resolve(s.pos-2);return!(o.index()===0||((r=o.nodeBefore)==null?void 0:r.type.name)!==t)},listItemHasSubList=(t,n,r)=>{if(!r)return!1;const s=getNodeType(t,n.schema);let o=!1;return r.descendants(l=>{l.type===s&&(o=!0)}),o},handleBackspace=(t,n,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!isNodeActive(t.state,n)&&hasListBefore(t.state,n,r)){const{$anchor:p}=t.state.selection,m=t.state.doc.resolve(p.before()-1),x=[];m.node().descendants((R,k)=>{R.type.name===n&&x.push({node:R,pos:k})});const b=x.at(-1);if(!b)return!1;const S=t.state.doc.resolve(m.start()+b.pos+1);return t.chain().cut({from:p.start()-1,to:p.end()+1},S.end()).joinForward().run()}if(!isNodeActive(t.state,n)||!isAtStartOfNode(t.state))return!1;const s=findListItemPos(n,t.state);if(!s)return!1;const l=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=listItemHasSubList(n,t.state,l);return hasListItemBefore(n,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(n).run()},nextListIsDeeper=(t,n)=>{const r=getNextListDepth(t,n),s=findListItemPos(t,n);return!s||!r?!1:r>s.depth},nextListIsHigher=(t,n)=>{const r=getNextListDepth(t,n),s=findListItemPos(t,n);return!s||!r?!1:r<s.depth},handleDelete=(t,n)=>{if(!isNodeActive(t.state,n)||!isAtEndOfNode(t.state,n))return!1;const{selection:r}=t.state,{$from:s,$to:o}=r;return!r.empty&&s.sameParent(o)?!1:nextListIsDeeper(n,t.state)?t.chain().focus(t.state.selection.from+4).lift(n).joinBackward().run():nextListIsHigher(n,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},hasListItemAfter=(t,n)=>{var r;const{$anchor:s}=n.selection,o=n.doc.resolve(s.pos-s.parentOffset-2);return!(o.index()===o.parent.childCount-1||((r=o.nodeAfter)==null?void 0:r.type.name)!==t)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&handleDelete(t,r)&&(n=!0)}),n},"Mod-Delete":({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&handleDelete(t,r)&&(n=!0)}),n},Backspace:({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{t.state.schema.nodes[r]!==void 0&&handleBackspace(t,r,s)&&(n=!0)}),n},"Mod-Backspace":({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{t.state.schema.nodes[r]!==void 0&&handleBackspace(t,r,s)&&(n=!0)}),n}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(t){const n=[];let r=0,s=0;for(;r<t.length;){const o=t[r],l=o.match(ORDERED_LIST_ITEM_REGEX);if(!l)break;const[,c,p,m]=l,x=c.length;let b=m,S=r+1;const R=[o];for(;S<t.length;){const k=t[S];if(k.match(ORDERED_LIST_ITEM_REGEX))break;if(k.trim()==="")R.push(k),b+=`
`,S+=1;else if(k.match(INDENTED_LINE_REGEX))R.push(k),b+=`
${k.slice(x+2)}`,S+=1;else break}n.push({indent:x,number:parseInt(p,10),content:b.trim(),raw:R.join(`
`)}),s=S,r=S}return[n,s]}function buildNestedStructure(t,n,r){var s;const o=[];let l=0;for(;l<t.length;){const c=t[l];if(c.indent===n){const p=c.content.split(`
`),m=((s=p[0])==null?void 0:s.trim())||"",x=[];m&&x.push({type:"paragraph",raw:m,tokens:r.inlineTokens(m)});const b=p.slice(1).join(`
`).trim();if(b){const k=r.blockTokens(b);x.push(...k)}let S=l+1;const R=[];for(;S<t.length&&t[S].indent>n;)R.push(t[S]),S+=1;if(R.length>0){const k=Math.min(...R.map(j=>j.indent)),M=buildNestedStructure(R,k,r);x.push({type:"list",ordered:!0,start:R[0].number,items:M,raw:R.map(j=>j.raw).join(`
`)})}o.push({type:"list_item",raw:c.raw,tokens:x}),l=S}else l+=1}return o}function parseListItems(t,n){return t.map(r=>{if(r.type!=="list_item")return n.parseChildren([r])[0];const s=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")s.push(...n.parseChildren([o]));else if(o.type==="text"&&o.tokens){const l=n.parseChildren([o]);s.push({type:"paragraph",content:l})}else{const l=n.parseChildren([o]);l.length>0&&s.push(...l)}}),{type:"listItem",content:s}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:n,...r}=t;return n===1?["ol",mergeAttributes(this.options.HTMLAttributes,r),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,n)=>{if(t.type!=="list"||!t.ordered)return[];const r=t.start||1,s=t.items?parseListItems(t.items,n):[];return r!==1?{type:"orderedList",attrs:{start:r},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const n=t.match(/^(\s*)(\d+)\.\s+/),r=n==null?void 0:n.index;return r!==void 0?r:-1},tokenize:(t,n,r)=>{var s;const o=t.split(`
`),[l,c]=collectOrderedListItems(o);if(l.length===0)return;const p=buildNestedStructure(l,0,r);return p.length===0?void 0:{type:"list",ordered:!0,start:((s=l[0])==null?void 0:s.number)||1,items:p,raw:o.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:n=>({start:+n[1]}),joinPredicate:(n,r)=>r.childCount+r.attrs.start===+n[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:n=>({start:+n[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(n,r)=>r.childCount+r.attrs.start===+n[1],editor:this.editor})),[t]}}),inputRegex$2=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const n=t.getAttribute("data-checked");return n===""||n==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:n}){return["li",mergeAttributes(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,n)=>{const r=[];if(t.tokens&&t.tokens.length>0?r.push(n.createNode("paragraph",{},n.parseInline(t.tokens))):t.text?r.push(n.createNode("paragraph",{},[n.createNode("text",{text:t.text})])):r.push(n.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=n.parseChildren(t.nestedTokens);r.push(...s)}return n.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,n)=>{var r;const o=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return renderNestedMarkdownContent(t,n,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:n,getPos:r,editor:s})=>{const o=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),p=document.createElement("input"),m=document.createElement("div"),x=b=>{var S,R;p.ariaLabel=((R=(S=this.options.a11y)==null?void 0:S.checkboxLabel)==null?void 0:R.call(S,b,p.checked))||`Task item checkbox for ${b.textContent||"empty task item"}`};return x(t),l.contentEditable="false",p.type="checkbox",p.addEventListener("mousedown",b=>b.preventDefault()),p.addEventListener("change",b=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){p.checked=!p.checked;return}const{checked:S}=b.target;s.isEditable&&typeof r=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:R})=>{const k=r();if(typeof k!="number")return!1;const M=R.doc.nodeAt(k);return R.setNodeMarkup(k,void 0,{...M==null?void 0:M.attrs,checked:S}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,S)||(p.checked=!p.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,S])=>{o.setAttribute(b,S)}),o.dataset.checked=t.attrs.checked,p.checked=t.attrs.checked,l.append(p,c),o.append(l,m),Object.entries(n).forEach(([b,S])=>{o.setAttribute(b,S)}),{dom:o,contentDOM:m,update:b=>b.type!==this.type?!1:(o.dataset.checked=b.attrs.checked,p.checked=b.attrs.checked,x(b),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$2,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,n)=>n.createNode("taskList",{},n.parseChildren(t.items||[])),renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var n;const r=(n=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:n.index;return r!==void 0?r:-1},tokenize(t,n,r){const s=l=>{const c=parseIndentedBlocks(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:p=>({indentLevel:p[1].length,mainContent:p[4],checked:p[3].toLowerCase()==="x"}),createToken:(p,m)=>({type:"taskItem",raw:"",mainContent:p.mainContent,indentLevel:p.indentLevel,checked:p.checked,text:p.mainContent,tokens:r.inlineTokens(p.mainContent),nestedTokens:m}),customNestedParser:s},r);return c?[{type:"taskList",raw:c.raw,items:c.items}]:r.blockTokens(l)},o=parseIndentedBlocks(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:s},r);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(TaskList.configure(this.options.taskList)),t}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mergeAttributes(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,n)=>{const r=t.tokens||[];return r.length===1&&r[0].type==="image"?n.parseChildren([r[0]]):n.createNode("paragraph",void 0,n.parseInline(r))},renderMarkdown:(t,n)=>!t||!Array.isArray(t.content)?"":n.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,n)=>n.applyMark("strike",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`~~${n.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",mergeAttributes(this.options.HTMLAttributes,t),0]},parseMarkdown(t,n){return n.applyMark(this.name||"underline",n.parseInline(t.tokens||[]))},renderMarkdown(t,n){return`++${n.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,n,r){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const l=o[2].trim();return{type:"underline",raw:o[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(t={}){return new Plugin({view(n){return new DropCursorView(n,t)}})}class DropCursorView{constructor(n,r){var s;this.editorView=n,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=r.width)!==null&&s!==void 0?s:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=c=>{this[o](c)};return n.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:n,handler:r})=>this.editorView.dom.removeEventListener(n,r))}update(n,r){this.cursorPos!=null&&r.doc!=n.state.doc&&(this.cursorPos>n.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(n){n!=this.cursorPos&&(this.cursorPos=n,n==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,s,o=this.editorView.dom,l=o.getBoundingClientRect(),c=l.width/o.offsetWidth,p=l.height/o.offsetHeight;if(r){let S=n.nodeBefore,R=n.nodeAfter;if(S||R){let k=this.editorView.nodeDOM(this.cursorPos-(S?S.nodeSize:0));if(k){let M=k.getBoundingClientRect(),j=S?M.bottom:M.top;S&&R&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let G=this.width/2*p;s={left:M.left,right:M.right,top:j-G,bottom:j+G}}}}if(!s){let S=this.editorView.coordsAtPos(this.cursorPos),R=this.width/2*c;s={left:S.left-R,right:S.left+R,top:S.top,bottom:S.bottom}}let m=this.editorView.dom.offsetParent;this.element||(this.element=m.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let x,b;if(!m||m==document.body&&getComputedStyle(m).position=="static")x=-pageXOffset,b=-pageYOffset;else{let S=m.getBoundingClientRect(),R=S.width/m.offsetWidth,k=S.height/m.offsetHeight;x=S.left-m.scrollLeft*R,b=S.top-m.scrollTop*k}this.element.style.left=(s.left-x)/c+"px",this.element.style.top=(s.top-b)/p+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/p+"px"}scheduleRemoval(n){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),n)}dragover(n){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:n.clientX,top:n.clientY}),s=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),o=s&&s.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,r,n):o;if(r&&!l){let c=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let p=dropPoint(this.editorView.state.doc,c,this.editorView.dragging.slice);p!=null&&(c=p)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(n){this.editorView.dom.contains(n.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(n){super(n,n)}map(n,r){let s=n.resolve(r.map(this.head));return GapCursor.valid(s)?new GapCursor(s):Selection.near(s)}content(){return Slice.empty}eq(n){return n instanceof GapCursor&&n.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(n.resolve(r.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(n){let r=n.parent;if(r.isTextblock||!closedBefore(n)||!closedAfter(n))return!1;let s=r.type.spec.allowGapCursor;if(s!=null)return s;let o=r.contentMatchAt(n.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(n,r,s=!1){e:for(;;){if(!s&&GapCursor.valid(n))return n;let o=n.pos,l=null;for(let c=n.depth;;c--){let p=n.node(c);if(r>0?n.indexAfter(c)<p.childCount:n.index(c)>0){l=p.child(r>0?n.indexAfter(c):n.index(c)-1);break}else if(c==0)return null;o+=r;let m=n.doc.resolve(o);if(GapCursor.valid(m))return m}for(;;){let c=r>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!NodeSelection.isSelectable(l)){n=n.doc.resolve(o+l.nodeSize*r),s=!1;continue e}break}l=c,o+=r;let p=n.doc.resolve(o);if(GapCursor.valid(p))return p}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(n){this.pos=n}map(n){return new GapBookmark(n.map(this.pos))}resolve(n){let r=n.resolve(this.pos);return GapCursor.valid(r)?new GapCursor(r):Selection.near(r)}}function needsGap(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function closedBefore(t){for(let n=t.depth;n>=0;n--){let r=t.index(n),s=t.node(n);if(r==0){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(r-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||needsGap(o.type))return!0;if(o.inlineContent)return!1}}return!0}function closedAfter(t){for(let n=t.depth;n>=0;n--){let r=t.indexAfter(n),s=t.node(n);if(r==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(r);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||needsGap(o.type))return!0;if(o.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(t,n,r){return n.pos==r.pos&&GapCursor.valid(r)?new GapCursor(r):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(t,n){const r=t=="vert"?n>0?"down":"up":n>0?"right":"left";return function(s,o,l){let c=s.selection,p=n>0?c.$to:c.$from,m=c.empty;if(c instanceof TextSelection){if(!l.endOfTextblock(r)||p.depth==0)return!1;m=!1,p=s.doc.resolve(n>0?p.after():p.before())}let x=GapCursor.findGapCursorFrom(p,n,m);return x?(o&&o(s.tr.setSelection(new GapCursor(x))),!0):!1}}function handleClick(t,n,r){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(n);if(!GapCursor.valid(s))return!1;let o=t.posAtCoords({left:r.clientX,top:r.clientY});return o&&o.inside>-1&&NodeSelection.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new GapCursor(s))),!0)}function beforeinput(t,n){if(n.inputType!="insertCompositionText"||!(t.state.selection instanceof GapCursor))return!1;let{$from:r}=t.state.selection,s=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let o=Fragment.empty;for(let c=s.length-1;c>=0;c--)o=Fragment.from(s[c].createAndFill(null,o));let l=t.state.tr.replace(r.pos,r.pos,new Slice(o,0,0));return l.setSelection(TextSelection.near(l.doc.resolve(r.pos+1))),t.dispatch(l),!1}function drawGapCursor(t){if(!(t.selection instanceof GapCursor))return null;let n=document.createElement("div");return n.className="ProseMirror-gapcursor",DecorationSet.create(t.doc,[Decoration.widget(t.selection.head,n,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function t(){};RopeSequence.prototype.append=function t(n){return n.length?(n=RopeSequence.from(n),!this.length&&n||n.length<GOOD_LEAF_SIZE&&this.leafAppend(n)||this.length<GOOD_LEAF_SIZE&&n.leafPrepend(this)||this.appendInner(n)):this};RopeSequence.prototype.prepend=function t(n){return n.length?RopeSequence.from(n).append(this):this};RopeSequence.prototype.appendInner=function t(n){return new Append(this,n)};RopeSequence.prototype.slice=function t(n,r){return n===void 0&&(n=0),r===void 0&&(r=this.length),n>=r?RopeSequence.empty:this.sliceInner(Math.max(0,n),Math.min(this.length,r))};RopeSequence.prototype.get=function t(n){if(!(n<0||n>=this.length))return this.getInner(n)};RopeSequence.prototype.forEach=function t(n,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length),r<=s?this.forEachInner(n,r,s,0):this.forEachInvertedInner(n,r,s,0)};RopeSequence.prototype.map=function t(n,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length);var o=[];return this.forEach(function(l,c){return o.push(n(l,c))},r,s),o};RopeSequence.from=function t(n){return n instanceof RopeSequence?n:n&&n.length?new Leaf(n):RopeSequence.empty};var Leaf=(function(t){function n(s){t.call(this),this.values=s}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var r={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new n(this.values.slice(o,l))},n.prototype.getInner=function(o){return this.values[o]},n.prototype.forEachInner=function(o,l,c,p){for(var m=l;m<c;m++)if(o(this.values[m],p+m)===!1)return!1},n.prototype.forEachInvertedInner=function(o,l,c,p){for(var m=l-1;m>=c;m--)if(o(this.values[m],p+m)===!1)return!1},n.prototype.leafAppend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new n(this.values.concat(o.flatten()))},n.prototype.leafPrepend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new n(o.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(n.prototype,r),n})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(t){function n(r,s){t.call(this),this.left=r,this.right=s,this.length=r.length+s.length,this.depth=Math.max(r.depth,s.depth)+1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},n.prototype.forEachInner=function(s,o,l,c){var p=this.left.length;if(o<p&&this.left.forEachInner(s,o,Math.min(l,p),c)===!1||l>p&&this.right.forEachInner(s,Math.max(o-p,0),Math.min(this.length,l)-p,c+p)===!1)return!1},n.prototype.forEachInvertedInner=function(s,o,l,c){var p=this.left.length;if(o>p&&this.right.forEachInvertedInner(s,o-p,Math.max(l,p)-p,c+p)===!1||l<p&&this.left.forEachInvertedInner(s,Math.min(o,p),l,c)===!1)return!1},n.prototype.sliceInner=function(s,o){if(s==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(s,o):s>=l?this.right.slice(s-l,o-l):this.left.slice(s,l).append(this.right.slice(0,o-l))},n.prototype.leafAppend=function(s){var o=this.right.leafAppend(s);if(o)return new n(this.left,o)},n.prototype.leafPrepend=function(s){var o=this.left.leafPrepend(s);if(o)return new n(o,this.right)},n.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new n(this.left,new n(this.right,s)):new n(this,s)},n})(RopeSequence);const max_empty_items=500;class Branch{constructor(n,r){this.items=n,this.eventCount=r}popEvent(n,r){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let o,l;r&&(o=this.remapping(s,this.items.length),l=o.maps.length);let c=n.tr,p,m,x=[],b=[];return this.items.forEach((S,R)=>{if(!S.step){o||(o=this.remapping(s,R+1),l=o.maps.length),l--,b.push(S);return}if(o){b.push(new Item(S.map));let k=S.step.map(o.slice(l)),M;k&&c.maybeStep(k).doc&&(M=c.mapping.maps[c.mapping.maps.length-1],x.push(new Item(M,void 0,void 0,x.length+b.length))),l--,M&&o.appendMap(M,l)}else c.maybeStep(S.step);if(S.selection)return p=o?S.selection.map(o.slice(l)):S.selection,m=new Branch(this.items.slice(0,s).append(b.reverse().concat(x)),this.eventCount-1),!1},this.items.length,0),{remaining:m,transform:c,selection:p}}addTransform(n,r,s,o){let l=[],c=this.eventCount,p=this.items,m=!o&&p.length?p.get(p.length-1):null;for(let b=0;b<n.steps.length;b++){let S=n.steps[b].invert(n.docs[b]),R=new Item(n.mapping.maps[b],S,r),k;(k=m&&m.merge(R))&&(R=k,b?l.pop():p=p.slice(0,p.length-1)),l.push(R),r&&(c++,r=void 0),o||(m=R)}let x=c-s.depth;return x>DEPTH_OVERFLOW&&(p=cutOffEvents(p,x),c-=x),new Branch(p.append(l),c)}remapping(n,r){let s=new Mapping;return this.items.forEach((o,l)=>{let c=o.mirrorOffset!=null&&l-o.mirrorOffset>=n?s.maps.length-o.mirrorOffset:void 0;s.appendMap(o.map,c)},n,r),s}addMaps(n){return this.eventCount==0?this:new Branch(this.items.append(n.map(r=>new Item(r))),this.eventCount)}rebased(n,r){if(!this.eventCount)return this;let s=[],o=Math.max(0,this.items.length-r),l=n.mapping,c=n.steps.length,p=this.eventCount;this.items.forEach(R=>{R.selection&&p--},o);let m=r;this.items.forEach(R=>{let k=l.getMirror(--m);if(k==null)return;c=Math.min(c,k);let M=l.maps[k];if(R.step){let j=n.steps[k].invert(n.docs[k]),G=R.selection&&R.selection.map(l.slice(m+1,k));G&&p++,s.push(new Item(M,j,G))}else s.push(new Item(M))},o);let x=[];for(let R=r;R<c;R++)x.push(new Item(l.maps[R]));let b=this.items.slice(0,o).append(x).append(s),S=new Branch(b,p);return S.emptyItemCount()>max_empty_items&&(S=S.compress(this.items.length-s.length)),S}emptyItemCount(){let n=0;return this.items.forEach(r=>{r.step||n++}),n}compress(n=this.items.length){let r=this.remapping(0,n),s=r.maps.length,o=[],l=0;return this.items.forEach((c,p)=>{if(p>=n)o.push(c),c.selection&&l++;else if(c.step){let m=c.step.map(r.slice(s)),x=m&&m.getMap();if(s--,x&&r.appendMap(x,s),m){let b=c.selection&&c.selection.map(r.slice(s));b&&l++;let S=new Item(x.invert(),m,b),R,k=o.length-1;(R=o.length&&o[k].merge(S))?o[k]=R:o.push(S)}}else c.map&&s--},this.items.length,0),new Branch(RopeSequence.from(o.reverse()),l)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(t,n){let r;return t.forEach((s,o)=>{if(s.selection&&n--==0)return r=o,!1}),t.slice(r)}class Item{constructor(n,r,s,o){this.map=n,this.step=r,this.selection=s,this.mirrorOffset=o}merge(n){if(this.step&&n.step&&!n.selection){let r=n.step.merge(this.step);if(r)return new Item(r.getMap().invert(),r,this.selection)}}}class HistoryState{constructor(n,r,s,o,l){this.done=n,this.undone=r,this.prevRanges=s,this.prevTime=o,this.prevComposition=l}}const DEPTH_OVERFLOW=20;function applyTransaction(t,n,r,s){let o=r.getMeta(historyKey),l;if(o)return o.historyState;r.getMeta(closeHistoryKey)&&(t=new HistoryState(t.done,t.undone,null,0,-1));let c=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(c&&c.getMeta(historyKey))return c.getMeta(historyKey).redo?new HistoryState(t.done.addTransform(r,void 0,s,mustPreserveItems(n)),t.undone,rangesFor(r.mapping.maps),t.prevTime,t.prevComposition):new HistoryState(t.done,t.undone.addTransform(r,void 0,s,mustPreserveItems(n)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let p=r.getMeta("composition"),m=t.prevTime==0||!c&&t.prevComposition!=p&&(t.prevTime<(r.time||0)-s.newGroupDelay||!isAdjacentTo(r,t.prevRanges)),x=c?mapRanges(t.prevRanges,r.mapping):rangesFor(r.mapping.maps);return new HistoryState(t.done.addTransform(r,m?n.selection.getBookmark():void 0,s,mustPreserveItems(n)),Branch.empty,x,r.time,p??t.prevComposition)}else return(l=r.getMeta("rebased"))?new HistoryState(t.done.rebased(r,l),t.undone.rebased(r,l),mapRanges(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new HistoryState(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),mapRanges(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function isAdjacentTo(t,n){if(!n)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((s,o)=>{for(let l=0;l<n.length;l+=2)s<=n[l+1]&&o>=n[l]&&(r=!0)}),r}function rangesFor(t){let n=[];for(let r=t.length-1;r>=0&&n.length==0;r--)t[r].forEach((s,o,l,c)=>n.push(l,c));return n}function mapRanges(t,n){if(!t)return null;let r=[];for(let s=0;s<t.length;s+=2){let o=n.map(t[s],1),l=n.map(t[s+1],-1);o<=l&&r.push(o,l)}return r}function histTransaction(t,n,r){let s=mustPreserveItems(n),o=historyKey.get(n).spec.config,l=(r?t.undone:t.done).popEvent(n,s);if(!l)return null;let c=l.selection.resolve(l.transform.doc),p=(r?t.done:t.undone).addTransform(l.transform,n.selection.getBookmark(),o,s),m=new HistoryState(r?p:l.remaining,r?l.remaining:p,null,0,-1);return l.transform.setSelection(c).setMeta(historyKey,{redo:r,historyState:m})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(t){let n=t.plugins;if(cachedPreserveItemsPlugins!=n){cachedPreserveItems=!1,cachedPreserveItemsPlugins=n;for(let r=0;r<n.length;r++)if(n[r].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(n,r,s){return applyTransaction(r,s,n,t)}},config:t,props:{handleDOMEvents:{beforeinput(n,r){let s=r.inputType,o=s=="historyUndo"?undo:s=="historyRedo"?redo:null;return!o||!n.editable?!1:(r.preventDefault(),o(n.state,n.dispatch))}}}})}function buildCommand(t,n){return(r,s)=>{let o=historyKey.getState(r);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(s){let l=histTransaction(o,r,t);l&&s(n?l.scrollIntoView():l)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(n=>n!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const n=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const s=n.textBetween(0,n.content.size,void 0," ");return this.options.textCounter(s)}return n.nodeSize},this.storage.words=t=>{const n=(t==null?void 0:t.node)||this.editor.state.doc,r=n.textBetween(0,n.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(n,r,s)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const l=this.storage.characters({node:s.doc});if(l>o){const c=l-o,p=0,m=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const x=s.tr.deleteRange(p,m);return t=!0,x}t=!0},filterTransaction:(n,r)=>{const s=this.options.limit;if(!n.docChanged||s===0||s===null||s===void 0)return!0;const o=this.storage.characters({node:r.doc}),l=this.storage.characters({node:n.doc});if(l<=s||o>s&&l>s&&l<=o)return!0;if(o>s&&l>s&&l>o||!n.getMeta("paste"))return!1;const p=n.selection.$head.pos,m=l-s,x=p-m,b=p;return n.deleteRange(x,b),!(this.storage.characters({node:n.doc})>s)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:t,selection:n})=>{const{isEditable:r,isFocused:s}=this.editor,{anchor:o}=n,l=[];if(!r||!s)return DecorationSet.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((m,x)=>{if(m.isText)return;if(!(o>=x&&o<=x+m.nodeSize-1))return!1;c+=1});let p=0;return t.descendants((m,x)=>{if(m.isText||!(o>=x&&o<=x+m.nodeSize-1))return!1;if(p+=1,this.options.mode==="deepest"&&c-p>0||this.options.mode==="shallowest"&&p>1)return this.options.mode==="deepest";l.push(Decoration.node(x,x+m.nodeSize,{class:this.options.className}))}),DecorationSet.create(t,l)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(t){var n;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(n=callOrReturn(getExtensionField(t,"allowGapCursor",r)))!=null?n:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,o=[];if(!r)return null;const l=this.editor.isEmpty;return t.descendants((c,p)=>{const m=s>=p&&s<=p+c.nodeSize,x=!c.isLeaf&&isNodeEmpty(c);if((m||!this.options.showOnlyCurrent)&&x){const b=[this.options.emptyNodeClass];l&&b.push(this.options.emptyEditorClass);const S=Decoration.node(p,p+c.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:p,hasAnchor:m}):this.options.placeholder});o.push(S)}return this.options.includeChildren}),DecorationSet.create(t,o)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:n}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||isNodeSelection(r.selection)||t.view.dragging?null:DecorationSet.create(r.doc,[Decoration.inline(r.selection.from,r.selection.to,{class:n.className})])}}})]}});function nodeEqualsType({types:t,node:n}){return n&&Array.isArray(t)&&t.includes(n.type)||(n==null?void 0:n.type)===t}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const n=new PluginKey(this.name),r=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(r).includes(o.name));return[new Plugin({key:n,appendTransaction:(o,l,c)=>{const{doc:p,tr:m,schema:x}=c,b=n.getState(c),S=p.content.size,R=x.nodes[r];if(b)return m.insert(S,R.create())},state:{init:(o,l)=>{const c=l.tr.doc.lastChild;return!nodeEqualsType({node:c,types:s})},apply:(o,l)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return l;const c=o.doc.lastChild;return!nodeEqualsType({node:c,types:s})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:n})=>undo(t,n),redo:()=>({state:t,dispatch:n})=>redo(t,n)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var t,n,r,s;const o=[];return this.options.bold!==!1&&o.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&o.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&o.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(ListKeymap.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(Link.configure((n=this.options)==null?void 0:n.link)),this.options.orderedList!==!1&&o.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(Strike.configure(this.options.strike)),this.options.text!==!1&&o.push(Text.configure(this.options.text)),this.options.underline!==!1&&o.push(Underline.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&o.push(TrailingNode.configure((s=this.options)==null?void 0:s.trailingNode)),o}}),index_default$1=StarterKit,inputRegex=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node3.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",mergeAttributes(this.options.HTMLAttributes,t)]},parseMarkdown:(t,n)=>n.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var n,r,s,o,l,c;const p=(r=(n=t.attrs)==null?void 0:n.src)!=null?r:"",m=(o=(s=t.attrs)==null?void 0:s.alt)!=null?o:"",x=(c=(l=t.attrs)==null?void 0:l.title)!=null?c:"";return x?`![${m}](${p} "${x}")`:`![${m}](${p})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:t,minWidth:n,minHeight:r,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:o,getPos:l,HTMLAttributes:c})=>{const p=document.createElement("img");Object.entries(c).forEach(([b,S])=>{if(S!=null)switch(b){case"width":case"height":break;default:p.setAttribute(b,S);break}}),p.src=c.src;const m=new ResizableNodeView({element:p,node:o,getPos:l,onResize:(b,S)=>{p.style.width=`${b}px`,p.style.height=`${S}px`},onCommit:(b,S)=>{const R=l();R!==void 0&&this.editor.chain().setNodeSelection(R).updateAttributes(this.name,{width:b,height:S}).run()},onUpdate:(b,S,R)=>b.type===o.type,options:{directions:t,min:{width:n,height:r},preserveAspectRatio:s===!0}}),x=m.dom;return x.style.visibility="hidden",x.style.pointerEvents="none",p.onload=()=>{x.style.visibility="",x.style.pointerEvents=""},m}},addCommands(){return{setImage:t=>({commands:n})=>n.insertContent({type:this.name,attrs:t})}},addInputRules(){return[nodeInputRule({find:inputRegex,type:this.type,getAttributes:t=>{const[,,n,r,s]=t;return{src:r,alt:n,title:s}}})]}}),index_default=Image$1;const editorWrapper="_editorWrapper_1qbzy_1",menuBar="_menuBar_1qbzy_15",isActive="_isActive_1qbzy_67",divider="_divider_1qbzy_77",editorContent="_editorContent_1qbzy_91",styles$6={editorWrapper,menuBar,isActive,divider,editorContent};async function uploadEditorImage(t){const{showAlert:n}=useAlert();try{const r=new FormData;return r.append("image",t),(await userInstance.post("/api/upload/image",r,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(r){return console.error("  :",r),n("    ."),null}}function TiptapMenuBar({editor:t}){const n=reactExports$1.useRef(null);if(!t)return null;const r=async s=>{const o=Array.from(s.target.files);if(o.length!==0){s.target.value="",t.chain().focus();for(const l of o){const c=await uploadEditorImage(l);c&&t.chain().setImage({src:c}).run()}}};return jsxRuntimeExports.jsxs("div",{className:styles$6.menuBar,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("b",{children:"B"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("i",{children:"I"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("s",{children:"S"})}),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),[1,2,3].map(s=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:s}).run(),className:t.isActive("heading",{level:s})?styles$6.isActive:"",children:["H",s]},s)),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>n.current.click(),children:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:n,onChange:r,style:{display:"none"},accept:"image/*",multiple:!0})]})}function TiptapEditor({content:t,onChange:n}){const r=reactExports$1.useRef(!0),s=useEditor({extensions:[index_default$1.configure({heading:{levels:[1,2,3]}}),index_default.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:o})=>{r.current||n(o.getHTML())},editorProps:{attributes:{class:styles$6.editorContent}}});return reactExports$1.useEffect(()=>{s&&(r.current&&(r.current=!1),!(!t||s.getHTML()===t)&&s.commands.setContent(t,{emitUpdate:!1}))},[t,s]),jsxRuntimeExports.jsxs("div",{className:styles$6.editorWrapper,children:[jsxRuntimeExports.jsx(TiptapMenuBar,{editor:s}),jsxRuntimeExports.jsx(EditorContent,{editor:s})]})}function GalleryEditForm({data:t,setData:n,onFileChange:r}){var ne,Y;const[s,o]=reactExports$1.useState(""),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(null),x=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&m(t.gallery_image)},[t.gallery_image]),reactExports$1.useEffect(()=>{if(typeof t.gallery_sns=="string")try{const re=JSON.parse(t.gallery_sns);n(oe=>({...oe,gallery_sns:re}))}catch(re){console.error("SNS   :",re),n(oe=>({...oe,gallery_sns:[]}))}},[t.gallery_sns,n]);const b=(re,oe)=>{if(!oe)return;let xe=oe.trim();!xe.startsWith("http://")&&!xe.startsWith("https://")&&(xe=`https://${xe}`,P(re,xe))},S=re=>{re.type==="compositionstart"&&c(!0),re.type==="compositionend"&&c(!1)},R=re=>{if(!l&&re.key==="Enter"&&s.trim()!==""){re.preventDefault();const oe=s.trim(),xe=t.gallery_category?t.gallery_category.split(",").map(ve=>ve.trim()):[];if(!xe.includes(oe)){const ve=[...xe,oe].join(", ");n(me=>({...me,gallery_category:ve}))}o("")}},k=re=>{const xe=t.gallery_category.split(",").map(ve=>ve.trim()).filter(ve=>ve!==re).join(", ");n(ve=>({...ve,gallery_category:xe}))},M=re=>{const{name:oe,value:xe}=re.target;n(ve=>({...ve,[oe]:xe}))},j=["","","","","","",""],G=re=>{const{value:oe,checked:xe}=re.target,ve=t.gallery_closed_day?t.gallery_closed_day.split(",").map(Ee=>Ee.trim()):[];let me;xe?me=[...new Set([...ve,oe])]:me=ve.filter(Ee=>Ee!==oe);const we=j;me.sort((Ee,he)=>we.indexOf(Ee)-we.indexOf(he)),n(Ee=>({...Ee,gallery_closed_day:me.join(", ")}))},P=(re,oe)=>{n(xe=>{let ve=Array.isArray(xe.gallery_sns)?[...xe.gallery_sns]:[];const me=ve.findIndex(we=>we.type===re);return me!==-1?ve[me].url=oe:ve.push({type:re,url:oe}),{...xe,gallery_sns:ve}})},Q=re=>{n(oe=>({...oe,gallery_description:re}))},H=t.gallery_category?t.gallery_category.split(",").map(re=>re.trim()):[],X=re=>{const oe=re.target.files[0];if(oe){r(oe);const xe=URL.createObjectURL(oe);m(xe)}re.target.value=""},ee=re=>{re.stopPropagation(),m(null),r(null),x.current&&(x.current.value="")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:x,onChange:X,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>x.current.click(),children:p?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:p,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ee,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.tagInputContainer,children:[H.map(re=>jsxRuntimeExports.jsxs("div",{className:styles$7.tagItem,children:[re,jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeTagBtn,onClick:()=>k(re),children:""})]},re)),jsxRuntimeExports.jsx("input",{type:"text",className:styles$7.tagInputField,value:s,onChange:re=>o(re.target.value),onKeyDown:R,onCompositionStart:S,onCompositionEnd:S,placeholder:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_start_time",value:((ne=t.gallery_start_time)==null?void 0:ne.slice(0,5))||"",onChange:M}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_end_time",value:((Y=t.gallery_end_time)==null?void 0:Y.slice(0,5))||"",onChange:M})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:j.map(re=>{var oe;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:re,checked:(oe=t.gallery_closed_day)==null?void 0:oe.includes(re),onChange:G})," ",re]},re)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_address",value:t.gallery_address||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:M})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.snsCard}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"SNS"}),jsxRuntimeExports.jsx("div",{className:styles$7.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"default",placeholder:" "}].map(({type:re,placeholder:oe})=>{var ve;const xe=Array.isArray(t.gallery_sns)&&((ve=t.gallery_sns.find(me=>me.type===re))==null?void 0:ve.url)||"";return jsxRuntimeExports.jsx("input",{className:styles$7.input,placeholder:oe,value:xe,onChange:me=>P(re,me.target.value),onBlur:()=>b(re,xe)},re)})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.gallery_description||"",onChange:Q})]})]})}const overlay$1="_overlay_1y5nn_1",modalBox$1="_modalBox_1y5nn_27",header$3="_header_1y5nn_49",closeBtn$2="_closeBtn_1y5nn_73",body$1="_body_1y5nn_87",searchBar$1="_searchBar_1y5nn_97",listContainer$1="_listContainer_1y5nn_151",artistRow$1="_artistRow_1y5nn_163",artistImg$1="_artistImg_1y5nn_181",artistInfo$1="_artistInfo_1y5nn_197",name$1="_name_1y5nn_207",category$1="_category_1y5nn_217",selectBtn="_selectBtn_1y5nn_227",emptyState$1="_emptyState_1y5nn_255",addNewBtn="_addNewBtn_1y5nn_269",addFormContainer="_addFormContainer_1y5nn_305",addTitle="_addTitle_1y5nn_317",imageUploadCircle="_imageUploadCircle_1y5nn_329",placeholder="_placeholder_1y5nn_365",addInput="_addInput_1y5nn_387",formActions="_formActions_1y5nn_415",cancelBtn="_cancelBtn_1y5nn_425",confirmBtn$1="_confirmBtn_1y5nn_427",styles$5={overlay:overlay$1,modalBox:modalBox$1,header:header$3,closeBtn:closeBtn$2,body:body$1,searchBar:searchBar$1,listContainer:listContainer$1,artistRow:artistRow$1,artistImg:artistImg$1,artistInfo:artistInfo$1,name:name$1,category:category$1,selectBtn,emptyState:emptyState$1,addNewBtn,addFormContainer,addTitle,imageUploadCircle,placeholder,addInput,formActions,cancelBtn,confirmBtn:confirmBtn$1};function ArtistSelectModal({onClose:t,onSelect:n}){const[r,s]=reactExports$1.useState(""),[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),[b,S]=reactExports$1.useState(""),[R,k]=reactExports$1.useState(null),[M,j]=reactExports$1.useState(null),G=reactExports$1.useRef(null),{showAlert:P}=useAlert(),Q=async ne=>{if(!ne||ne.trim()===""){P(" .");return}try{const Y=await userInstance.get("/api/artist",{params:{search:ne}});l(Y.data||[]),x(!0)}catch(Y){console.error("  :",Y)}},H=ne=>{ne.key==="Enter"&&Q(r)},X=ne=>{const Y=ne.target.files[0];Y&&(k(Y),j(URL.createObjectURL(Y)))},ee=async()=>{if(!b.trim()){P("  .");return}try{const ne=new FormData;ne.append("artist_name",b),R&&ne.append("artist_image",R);const Y=await userInstance.post("/api/artists",ne,{headers:{"Content-Type":"multipart/form-data"}});P("  .");const re=Y.data.data||Y.data;re&&re.id?n(re):(p(!1),S(""),k(null),j(null),s(b),Q(b))}catch(ne){console.error("  :",ne),P("    .")}};return jsxRuntimeExports.jsx("div",{className:styles$5.overlay,onClick:t,children:jsxRuntimeExports.jsxs("div",{className:styles$5.modalBox,onClick:ne=>ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$5.header,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("button",{className:styles$5.closeBtn,onClick:t,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$5.body,children:c?jsxRuntimeExports.jsxs("div",{className:styles$5.addFormContainer,children:[jsxRuntimeExports.jsx("p",{className:styles$5.addTitle,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$5.imageUploadCircle,onClick:()=>G.current.click(),children:[M?jsxRuntimeExports.jsx(Img,{src:M,alt:"Preview"}):jsxRuntimeExports.jsxs("div",{className:styles$5.placeholder,children:[jsxRuntimeExports.jsx(FaUser,{}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:G,onChange:X,hidden:!0})]}),jsxRuntimeExports.jsx("input",{className:styles$5.addInput,placeholder:"  ",value:b,onChange:ne=>S(ne.target.value)}),jsxRuntimeExports.jsxs("div",{className:styles$5.formActions,children:[jsxRuntimeExports.jsx("button",{className:styles$5.cancelBtn,onClick:()=>p(!1),children:""}),jsxRuntimeExports.jsx("button",{className:styles$5.confirmBtn,onClick:ee,children:" "})]})]}):jsxRuntimeExports.jsxs("div",{className:styles$5.listContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$5.searchBar,children:[jsxRuntimeExports.jsx("input",{value:r,onChange:ne=>s(ne.target.value),onKeyDown:H,placeholder:"  ",autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>Q(r),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),o.length>0?o.map(ne=>jsxRuntimeExports.jsxs("div",{className:styles$5.artistRow,children:[jsxRuntimeExports.jsx(Img,{src:ne.artist_image,alt:ne.artist_name,className:styles$5.artistImg}),jsxRuntimeExports.jsxs("div",{className:styles$5.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$5.name,children:ne.artist_name}),jsxRuntimeExports.jsx("span",{className:styles$5.category,children:ne.artist_category||"Category"})]}),jsxRuntimeExports.jsx("button",{className:styles$5.selectBtn,onClick:()=>n(ne),children:""})]},ne.id)):jsxRuntimeExports.jsx("div",{className:styles$5.emptyState,children:m?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:['"',r,'"    .']}),jsxRuntimeExports.jsxs("button",{className:styles$5.addNewBtn,onClick:()=>p(!0),children:[jsxRuntimeExports.jsx(FaPlus,{}),"   "]})]}):jsxRuntimeExports.jsx("p",{children:"   ."})})]})})]})})}const overlay="_overlay_1kynb_1",modalBox="_modalBox_1kynb_27",header$2="_header_1kynb_51",closeBtn$1="_closeBtn_1kynb_79",body="_body_1kynb_95",searchBar="_searchBar_1kynb_111",listContainer="_listContainer_1kynb_163",artistRow="_artistRow_1kynb_181",selected="_selected_1kynb_211",checkbox="_checkbox_1kynb_221",artistImg="_artistImg_1kynb_233",artistInfo="_artistInfo_1kynb_249",name="_name_1kynb_263",category="_category_1kynb_275",emptyState="_emptyState_1kynb_285",footer="_footer_1kynb_299",confirmBtn="_confirmBtn_1kynb_313",styles$4={overlay,modalBox,header:header$2,closeBtn:closeBtn$1,body,searchBar,listContainer,artistRow,selected,checkbox,artistImg,artistInfo,name,category,emptyState,footer,confirmBtn};function ArtworkSelectModal({onClose:t,onSelect:n,existingArtworks:r=[]}){const[s,o]=reactExports$1.useState(""),[l,c]=reactExports$1.useState([]),[p,m]=reactExports$1.useState([]);reactExports$1.useEffect(()=>{r&&r.length>0&&m(r)},[r]);const x=async(k="")=>{try{const M=await userInstance.get("/api/arts",{params:{search:k}}),j=Array.isArray(M.data)?M.data:M.data.data||[];c(j)}catch(M){console.error("  :",M)}};reactExports$1.useEffect(()=>{x()},[]);const b=k=>{k.key==="Enter"&&x(s)},S=k=>{m(M=>M.some(G=>G.id===k.id)?M.filter(G=>G.id!==k.id):[...M,k])},R=()=>{n(p),t()};return jsxRuntimeExports.jsx("div",{className:styles$4.overlay,onClick:t,children:jsxRuntimeExports.jsxs("div",{className:styles$4.modalBox,onClick:k=>k.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h3",{children:"  "}),jsxRuntimeExports.jsx("button",{className:styles$4.closeBtn,onClick:t,children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.body,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.searchBar,children:[jsxRuntimeExports.jsx("input",{value:s,onChange:k=>o(k.target.value),onKeyDown:b,placeholder:"   "}),jsxRuntimeExports.jsx("button",{onClick:()=>x(s),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),jsxRuntimeExports.jsx("div",{className:styles$4.listContainer,children:l.length>0?l.map(k=>{var j;const M=p.some(G=>G.id===k.id);return jsxRuntimeExports.jsxs("div",{className:`${styles$4.artistRow} ${M?styles$4.selected:""}`,onClick:()=>S(k),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:M,readOnly:!0,className:styles$4.checkbox}),jsxRuntimeExports.jsx(Img,{src:k.art_image||k.image,alt:k.art_title,className:styles$4.artistImg}),jsxRuntimeExports.jsxs("div",{className:styles$4.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$4.name,children:k.art_title}),jsxRuntimeExports.jsx("span",{className:styles$4.category,children:((j=k.artist)==null?void 0:j.artist_name)||k.artist_name||""})]})]},k.id)}):jsxRuntimeExports.jsx("p",{className:styles$4.emptyState,children:"  ."})}),jsxRuntimeExports.jsx("div",{className:styles$4.footer,children:jsxRuntimeExports.jsxs("button",{className:styles$4.confirmBtn,onClick:R,children:["  (",p.length,")"]})})]})]})})}const getArtistId=t=>t.id||t.artist_id,getArtistImage=t=>t.artist_image||t.profile_img,getArtistName=t=>{var n;return t.artist_name||t.name||((n=t.artist)==null?void 0:n.artist_name)||" "},getArtImage=t=>t.image_url||t.art_image||"/images/no-image.png",getArtTitle=t=>t.title||t.art_title||" ",getArtistNameForArt=t=>{var n;return t.artist_name||((n=t.artist)==null?void 0:n.artist_name)||" "};function ExhibitionEditForm({data:t,setData:n,onFileChange:r}){var ee,ne;const[s,o]=reactExports$1.useState(null),l=reactExports$1.useRef(null),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),{showAlert:b}=useAlert();reactExports$1.useEffect(()=>{t.exhibition_poster&&typeof t.exhibition_poster=="string"&&o(t.exhibition_poster)},[t.exhibition_poster]);const S=Y=>{const{name:re,value:oe}=Y.target;n(xe=>({...xe,[re]:oe}))},R=Y=>{n(re=>({...re,exhibition_description:Y}))},k=Y=>{const re=Y.target.files[0];if(re){r(re);const oe=URL.createObjectURL(re);o(oe)}Y.target.value=""},M=Y=>{Y.stopPropagation(),o(null),r(null),l.current&&(l.current.value="")},j=Y=>{const re=t.artists||[];if(re.some(xe=>getArtistId(xe)===getArtistId(Y))){b("  .");return}const oe={id:getArtistId(Y),name:getArtistName(Y),artist_image:getArtistImage(Y)};n(xe=>({...xe,artists:[...re,oe]})),p(!1)},G=Y=>{const re=(t.artists||[]).filter(oe=>getArtistId(oe)!==Y);n(oe=>({...oe,artists:re}))},P=Y=>{n(re=>({...re,artworks:Y}))},Q=Y=>{const re=(t.artworks||[]).filter(oe=>(oe.id||oe.art_id)!==Y);n(oe=>({...oe,artworks:re}))},H=["","","","","","",""],X=Y=>{const{value:re,checked:oe}=Y.target,xe=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(we=>we.trim()):[];let ve;oe?ve=[...new Set([...xe,re])]:ve=xe.filter(we=>we!==re);const me=H;ve.sort((we,Ee)=>me.indexOf(we)-me.indexOf(Ee)),n(we=>({...we,exhibition_closed_day:ve.join(", ")}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:S,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:l,onChange:k,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>l.current.click(),children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:s,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:M,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:S}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:S})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_start_time",value:((ee=t.exhibition_start_time)==null?void 0:ee.slice(0,5))||"",onChange:S}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_end_time",value:((ne=t.exhibition_end_time)==null?void 0:ne.slice(0,5))||"",onChange:S})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:H.map(Y=>{var re;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:Y,checked:(re=t.exhibition_closed_day)==null?void 0:re.includes(Y),onChange:X})," ",Y]},Y)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_organization",value:t.exhibition_organization||"",onChange:S})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:S})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:S})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:S})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:S})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.fullWidth}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>p(!0),children:"+  /"})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artistList,children:!t.artists||t.artists.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):t.artists.map((Y,re)=>{const oe=getArtistId(Y),xe=getArtistName(Y);return jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtistImage(Y),alt:"thumb",className:styles$7.artistThumb}),jsxRuntimeExports.jsx("span",{className:styles$7.artistName,children:xe}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>G(oe),title:"",children:""})]},oe||re)})})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.artworkSection}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>x(!0),children:"+  "})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artworkGrid,children:!t.artworks||t.artworks.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):t.artworks.map(Y=>jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtImage(Y),alt:"thumb",className:styles$7.artworkThumb}),jsxRuntimeExports.jsxs("div",{className:styles$7.artworkMeta,children:[jsxRuntimeExports.jsx("div",{className:styles$7.artworkTitle,children:getArtTitle(Y)}),jsxRuntimeExports.jsx("div",{className:styles$7.artworkArtist,children:getArtistNameForArt(Y)})]}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>Q(Y.id),title:"",children:""})]},Y.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.exhibition_description||"",onChange:R})]}),c&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>p(!1),onSelect:j}),m&&jsxRuntimeExports.jsx(ArtworkSelectModal,{onClose:()=>x(!1),onSelect:P,existingArtworks:t.artworks||[]})]})}function ArtworkEditForm({data:t,setData:n,onFileChange:r}){const[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!1),p=reactExports$1.useRef(null),m={exhibited:"",scheduled:"",ended:"",default:""},x={exhibited:1,scheduled:2,ended:3},S=[...t.exhibitions||[]].sort((P,Q)=>{const H=P.exhibition_status,X=Q.exhibition_status,ee=x[H]||99,ne=x[X]||99;return ee-ne}),R=P=>{const Q=P.target.files[0];Q&&(r(Q),o(URL.createObjectURL(Q))),P.target.value=""},k=P=>{P.stopPropagation(),o(null),r(null),p.current&&(p.current.value="")},M=P=>{const{name:Q,value:H}=P.target;n(X=>({...X,[Q]:H}))},j=P=>{n(Q=>({...Q,art_description:P}))},G=P=>{n(Q=>({...Q,artist_name:P.artist_name,artist_id:P.id})),c(!1)};return reactExports$1.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&o(t.art_image)},[t.art_image]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"art_title",value:t.art_title||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:p,onChange:R,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>p.current.click(),children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:s,alt:" ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{className:styles$7.imageDelBtn,type:"button",onClick:k,children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+   "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.artistSelectRow,children:[jsxRuntimeExports.jsx("input",{className:styles$7.input,value:t.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>c(!0),style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.selectButton,onClick:()=>c(!0),children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{type:"number",className:styles$7.input,name:"art_year",value:t.art_year||"",onChange:M,placeholder:": 2025"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_material",value:t.art_material||"",onChange:M,placeholder:": Oil on canvas"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_size",value:t.art_size||"",onChange:M,placeholder:": 100x150cm"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:M,placeholder:": 02-1234-5678"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$7.exhibitionListWrapper,children:S&&S.length>0?S.map(P=>{const Q=P.exhibition_status||"default";return jsxRuntimeExports.jsxs("div",{className:styles$7.exhibitionItem,children:[jsxRuntimeExports.jsx("span",{className:styles$7.exhibitionTitle,children:P.exhibition_title}),jsxRuntimeExports.jsx("span",{className:`${styles$7.statusBadge} ${styles$7[Q]}`,children:m[Q]||Q})]},P.id)}):jsxRuntimeExports.jsx("span",{className:styles$7.emptyText,children:"    ."})}),jsxRuntimeExports.jsx("p",{className:styles$7.helperText,children:"      ' '  ."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.art_description||"",onChange:j})]}),jsxRuntimeExports.jsx("div",{className:styles$7.card,children:jsxRuntimeExports.jsxs("div",{className:styles$7.inputDocent,children:[jsxRuntimeExports.jsx("label",{className:styles$7.docent,children:"AI  "}),jsxRuntimeExports.jsx("textarea",{className:styles$7.textarea,name:"art_docent",value:t.art_docent||"",onChange:M,placeholder:"AI    ."})]})}),l&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>c(!1),onSelect:G})]})}const EDIT_CONFIG={galleries:{title:" /",apiUrl:t=>t==="new"?"/api/galleries":`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" /",apiUrl:t=>t==="new"?"/api/exhibitions":`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" /",apiUrl:t=>t==="new"?"/api/arts":`/api/arts/${t}`,formImageField:"image"}},FORM_COMPONENTS={galleries:GalleryEditForm,exhibitions:ExhibitionEditForm,artworks:ArtworkEditForm};function ConsoleEdit({type:t}){const{id:n}=useParams(),{showConfirm:r}=useConfirm(),s=useNavigate(),o=n==="new",l=EDIT_CONFIG[t],c=FORM_COMPONENTS[t],{data:p,setData:m,isLoading:x}=useEditData(t,n,o,l),{handleSave:b,isSaving:S,setSelectedImageFile:R}=useEditSave(t,n,o,l,p,s),k=async()=>{await r(" ?")&&(o?s("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):s(`/console/${t}/${n}`))},M=j=>R(j);return x||!p?jsxRuntimeExports.jsx("div",{children:"  ..."}):jsxRuntimeExports.jsxs("div",{className:styles$8.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$8.header,children:[jsxRuntimeExports.jsx("button",{className:styles$8.backButton,onClick:k,children:jsxRuntimeExports.jsx(FaChevronLeft,{})}),jsxRuntimeExports.jsx("h1",{className:styles$8.title,children:l.title})]}),jsxRuntimeExports.jsx("main",{className:styles$8.formContainer,children:c&&jsxRuntimeExports.jsx(c,{data:p,setData:m,onFileChange:M})}),jsxRuntimeExports.jsxs("div",{className:styles$8.bottomButtonContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.saveButton}`,onClick:b,disabled:S,children:S?" ...":""}),jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.cancelButton}`,onClick:k,disabled:S,children:""})]})]})}const layout$1="_layout_19w3s_1",backButton$1="_backButton_19w3s_17",styles$3={layout:layout$1,backButton:backButton$1};function Poster(){const t=useNavigate(),n=()=>{t(-1)};return jsxRuntimeExports.jsxs("div",{className:styles$3.layout,children:[jsxRuntimeExports.jsx(ImageGenerator,{}),jsxRuntimeExports.jsx("button",{className:styles$3.backButton,onClick:n,children:" "})]})}const layout="_layout_17mbt_1",notificationList="_notificationList_17mbt_45",notificationItem="_notificationItem_17mbt_61",iconContainer="_iconContainer_17mbt_91",contentArea="_contentArea_17mbt_113",header$1="_header_17mbt_121",title$2="_title_17mbt_135",timestamp="_timestamp_17mbt_149",content="_content_17mbt_113",errorText="_errorText_17mbt_177",styles$2={layout,notificationList,notificationItem,iconContainer,contentArea,header:header$1,title:title$2,timestamp,content,errorText},getIcon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:20,className:styles$2.iconNotice}),formatTimestamp=t=>{const n=new Date(t),s=new Date().getTime()-n.getTime(),o=Math.floor(s/(1e3*60)),l=Math.floor(s/(1e3*60*60)),c=Math.floor(s/(1e3*60*60*24));return o<1?" ":o<60?`${o} `:l<24?`${l} `:c<7?`${c} `:n.toLocaleDateString("ko-KR")};function Notification$1(){const{user:t,isLoading:n}=useUser(),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),m=reactExports$1.useCallback(async x=>{if(!x){p("      ."),l(!1);return}try{l(!0),p(null);const S=(await userInstance.get("/api/notification/user")).data.data;if(!Array.isArray(S)){s([]);return}const R=S.map(k=>({id:k.notification_id,title:k.title,content:k.body,timestamp:k.create_dtm,read:k.is_checked==="1"})).sort((k,M)=>new Date(M.timestamp).getTime()-new Date(k.timestamp).getTime());s(R)}catch(b){p(`    . (${b.message})`)}finally{l(!1)}},[]);return reactExports$1.useEffect(()=>{!n&&(t!=null&&t.id)?m(t.id):!n&&!t&&l(!1)},[n,t==null?void 0:t.id,m]),reactExports$1.useEffect(()=>{if(!(t!=null&&t.id))return;const x=onForegroundMessage(()=>{console.log("      "),m(t.id)}),b=S=>{var R;((R=S.data)==null?void 0:R.type)==="NEW_NOTIFICATION"&&(console.log("      ",S.data),m(t.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",b),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",b)})),()=>{x(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",b)}},[t==null?void 0:t.id,m]),o?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:"  ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("div",{className:styles$2.errorText,children:c})}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("h1",{children:" ."})}):jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("div",{className:styles$2.notificationList,children:r.map(x=>jsxRuntimeExports.jsxs("div",{className:`${styles$2.notificationItem} ${x.read?styles$2.readItem:""}`,onClick:()=>{x.read||handleNotificationClick(x.id)},children:[jsxRuntimeExports.jsx("div",{className:styles$2.iconContainer,children:getIcon()}),jsxRuntimeExports.jsxs("div",{className:styles$2.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.header,children:[jsxRuntimeExports.jsx("span",{className:styles$2.title,children:x.title}),jsxRuntimeExports.jsx("span",{className:styles$2.timestamp,children:formatTimestamp(x.timestamp)})]}),jsxRuntimeExports.jsx("p",{className:styles$2.content,children:x.content})]})]},x.id))})})}const container="_container_8pfm4_5",ambientBackground="_ambientBackground_8pfm4_39",header="_header_8pfm4_69",title$1="_title_8pfm4_97",closeBtn="_closeBtn_8pfm4_113",bookScene="_bookScene_8pfm4_155",bookContainer="_bookContainer_8pfm4_179",page="_page_8pfm4_205",pageLeft="_pageLeft_8pfm4_229",pageRight="_pageRight_8pfm4_237",spineShadow="_spineShadow_8pfm4_247",imageWrapper="_imageWrapper_8pfm4_285",pageImage="_pageImage_8pfm4_303",pageNumber="_pageNumber_8pfm4_319",controls="_controls_8pfm4_341",navBtn="_navBtn_8pfm4_371",pageIndicator="_pageIndicator_8pfm4_419",loader="_loader_8pfm4_437",errorMessage="_errorMessage_8pfm4_455",backButton="_backButton_8pfm4_465",styles$1={container,ambientBackground,header,title:title$1,closeBtn,bookScene,bookContainer,page,pageLeft,pageRight,spineShadow,imageWrapper,pageImage,pageNumber,controls,navBtn,pageIndicator,loader,errorMessage,backButton};function LeafletViewer(){const{category:t,id:n}=useParams(),r=useNavigate(),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!0),[p,m]=reactExports$1.useState(null),[x,b]=reactExports$1.useState(0),[S,R]=reactExports$1.useState(null),[k,M]=reactExports$1.useState({width:window.innerWidth,height:window.innerHeight}),j=k.width>768;reactExports$1.useEffect(()=>{const Ee=()=>M({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),reactExports$1.useEffect(()=>{(async()=>{try{c(!0);const he=t==="galleries"?"galleryCategory":"exhibitionCategory",ae=await userInstance.get("/api/leaflet",{params:{category:he,category_id:n}}),ue=Array.isArray(ae.data)?ae.data.length>0?ae.data[0]:null:ae.data;if(ue)if(o(ue),ue.image_urls&&ue.image_urls.length>0){const te=new Image;te.src=ue.image_urls[0],te.onload=()=>{if(te.width>0){const se=te.height/te.width;console.log("Calculated Aspect Ratio:",se),R(se)}},te.onerror=()=>R(1.414)}else R(1.414);else m("    .")}catch(he){console.error("Error:",he),m("  .")}finally{c(!1)}})()},[t,n]);const G=s?s.image_urls.length:0,P=reactExports$1.useCallback(()=>{s&&(j?x===0?b(1):x+2<G?b(Ee=>Ee+2):x+1<G&&b(Ee=>Ee+1):x<G-1&&b(Ee=>Ee+1))},[s,x,j,G]),Q=reactExports$1.useCallback(()=>{j?x===1?b(0):x>1&&b(Ee=>Ee-2):x>0&&b(Ee=>Ee-1)},[x,j]);if(reactExports$1.useEffect(()=>{const Ee=he=>{he.key==="ArrowLeft"&&Q(),he.key==="ArrowRight"&&P(),he.key==="Escape"&&r(-1)};return window.addEventListener("keydown",Ee),()=>window.removeEventListener("keydown",Ee)},[Q,P,r]),l||s&&!S)return jsxRuntimeExports.jsx("div",{className:styles$1.container,children:jsxRuntimeExports.jsx("div",{className:styles$1.loader})});if(p||!s)return jsxRuntimeExports.jsx("div",{className:styles$1.container,children:jsxRuntimeExports.jsxs("div",{className:styles$1.errorMessage,children:[jsxRuntimeExports.jsx("p",{children:p}),jsxRuntimeExports.jsx("button",{className:styles$1.backButton,onClick:()=>r(-1),children:""})]})});const{image_urls:H,title:X}=s,ee=H[0];let ne=k.height*.85,Y=ne/S;const re=j?k.width*.45:k.width*.9;Y>re&&(Y=re,ne=Y*S);let oe=!1,xe=null,ve=null,me=-1,we=-1;return j?x===0?(oe=!0,ve=H[0],we=0):(xe=H[x],me=x,x+1<G&&(ve=H[x+1],we=x+1)):(ve=H[x],we=x),jsxRuntimeExports.jsxs("div",{className:styles$1.container,children:[ee&&jsxRuntimeExports.jsx("div",{className:styles$1.ambientBackground,style:{backgroundImage:`url(${ee})`}}),jsxRuntimeExports.jsxs("header",{className:styles$1.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$1.title,children:X}),jsxRuntimeExports.jsx("button",{className:styles$1.closeBtn,onClick:()=>r(-1),"aria-label":"",children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[jsxRuntimeExports.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),jsxRuntimeExports.jsx("div",{className:styles$1.bookScene,children:jsxRuntimeExports.jsxs("div",{className:styles$1.bookContainer,style:{height:Math.floor(ne),width:Math.floor(oe||!j?Y:Y*2)},children:[!oe&&j&&jsxRuntimeExports.jsx("div",{className:styles$1.spineShadow}),xe&&jsxRuntimeExports.jsxs("div",{className:`${styles$1.page} ${styles$1.pageLeft}`,style:{width:"50%"},children:[jsxRuntimeExports.jsx("div",{className:styles$1.imageWrapper,children:jsxRuntimeExports.jsx(Img,{src:xe,className:styles$1.pageImage})}),jsxRuntimeExports.jsx("div",{className:styles$1.pageNumber,children:me})]}),ve&&jsxRuntimeExports.jsxs("div",{className:`${styles$1.page} ${j&&!oe?styles$1.pageRight:""}`,style:{width:oe||!j?"100%":"50%"},children:[jsxRuntimeExports.jsx("div",{className:styles$1.imageWrapper,children:jsxRuntimeExports.jsx(Img,{src:ve,className:styles$1.pageImage})}),!oe&&jsxRuntimeExports.jsx("div",{className:styles$1.pageNumber,children:we})]})]})}),jsxRuntimeExports.jsxs("div",{className:styles$1.controls,children:[jsxRuntimeExports.jsx("button",{className:styles$1.navBtn,onClick:Q,disabled:x===0,children:jsxRuntimeExports.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("polyline",{points:"15 18 9 12 15 6"})})}),jsxRuntimeExports.jsx("span",{className:styles$1.pageIndicator,children:j?oe?"":`${x}-${Math.min(x+1,G-1)} / ${G-1}`:`${x===0?"":`${x} / ${G-1}`}`}),jsxRuntimeExports.jsx("button",{className:styles$1.navBtn,onClick:P,disabled:j?x+2>=G&&!oe&&x+1>=G:x===G-1,children:jsxRuntimeExports.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}const router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[{path:"/",element:jsxRuntimeExports.jsx(Main,{})},{path:"/exhibitions",element:jsxRuntimeExports.jsx(Exhibitions,{})},{path:"/galleries",element:jsxRuntimeExports.jsx(Galleries,{})},{path:"/artists",element:jsxRuntimeExports.jsx(Artists,{})},{path:"/artworks",element:jsxRuntimeExports.jsx(ArtworkList,{})},{path:"/search",element:jsxRuntimeExports.jsx(Search,{})},{path:"/notices",element:jsxRuntimeExports.jsx(News,{})},{path:"/exhibitions/:exhibitionId",element:jsxRuntimeExports.jsx(ExhibitionDetail,{})},{path:"/galleries/:galleryId",element:jsxRuntimeExports.jsx(GalleryDetail,{})},{path:"/artists/:artistId",element:jsxRuntimeExports.jsx(ArtistDetail,{})},{path:"/notices/:noticeId",element:jsxRuntimeExports.jsx(NewsDetail,{})},{path:"/artworks/:artworkId",element:jsxRuntimeExports.jsx(ArtworkDetail,{})},{path:"/art/:artId",element:jsxRuntimeExports.jsx(Artwork,{})},{path:"/catalog/:catalogId",element:jsxRuntimeExports.jsx(Catalog,{})},{path:"/nearby-galleries",element:jsxRuntimeExports.jsx(Nearby,{})},{path:"/login",element:jsxRuntimeExports.jsx(Login,{})},{path:"/login-detail",element:jsxRuntimeExports.jsx(LoginDetail,{})},{path:"/register",element:jsxRuntimeExports.jsx(Register,{})},{path:"/find",element:jsxRuntimeExports.jsx(Find,{})},{path:"/announcement",element:jsxRuntimeExports.jsx(Announcement,{})},{path:"/termspolicy",element:jsxRuntimeExports.jsx(TermsPolicy,{})},{path:"/reservation/:exhibitionId",element:jsxRuntimeExports.jsx(Reservation,{})},{path:"/reservationconfirm/:reservationId",element:jsxRuntimeExports.jsx(ReservationConfirm,{})},{element:jsxRuntimeExports.jsx(AuthRoute,{}),children:[{path:"/notifications",element:jsxRuntimeExports.jsx(Notification$1,{})},{path:"/mypage",element:jsxRuntimeExports.jsx(MyPage,{})},{path:"/mypage/edit",element:jsxRuntimeExports.jsx(EditProfile,{})},{path:"/purchase/:reservationId",element:jsxRuntimeExports.jsx(Purchase,{})}]},{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}]},{path:"/console",element:jsxRuntimeExports.jsx(LayoutConsole,{}),children:[{path:"/console/notification",element:jsxRuntimeExports.jsx(ConsoleNotification,{})},{path:"/console/main",element:jsxRuntimeExports.jsx(ConsoleMain,{})},{path:"/console/galleries",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/exhibitions",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/artworks",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/detail",element:jsxRuntimeExports.jsx(ConsoleDetail,{})},{path:"/console/exhibitions/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"exhibitions"})},{path:"/console/galleries/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"galleries"})},{path:"/console/artworks/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:jsxRuntimeExports.jsx(DocentGenerator,{})},{path:"/console/galleries/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"galleries"})},{path:"/console/exhibitions/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"exhibitions"})},{path:"/console/poster",element:jsxRuntimeExports.jsx(Poster,{})}]},{path:"/scan/:id?",element:jsxRuntimeExports.jsx(QrScanner,{})},{path:"/view/leaflet/:category/:id",element:jsxRuntimeExports.jsx(LeafletViewer,{})}]);function useToast(t,n){const r=reactExports$1.useRef(null),[s,o]=reactExports$1.useState(!1),l=reactExports$1.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{o(!0)},n)},[n]),c=reactExports$1.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=null},[]),p=reactExports$1.useCallback(()=>{t()},[t]);return{start:l,clear:c,done:p,isExiting:s}}const toastContainer="_toastContainer_wle1e_1",toast="_toast_wle1e_1",exiting="_exiting_wle1e_45",title="_title_wle1e_53",message="_message_wle1e_65",styles={toastContainer,toast,exiting,title,message};function Toast({id:t,title:n,message:r,duration:s,removeToast:o}){const{start:l,clear:c,done:p,isExiting:m}=useToast(()=>{o(t)},s),x=()=>c(),b=()=>l();reactExports$1.useEffect(()=>{l()},[l]);const S=`${styles.toast} ${m?styles.exiting:""}`,R=()=>{m&&p()};return jsxRuntimeExports.jsxs("div",{className:S,onMouseEnter:x,onMouseLeave:b,onAnimationEnd:R,children:[jsxRuntimeExports.jsx("div",{className:styles.title,children:n}),r&&jsxRuntimeExports.jsx("div",{className:styles.message,children:r})]})}const ToastContext=reactExports$1.createContext();function ToastProvider({children:t}){const[n,r]=reactExports$1.useState(null),s=reactExports$1.useCallback((l,c=1e3)=>{let p,m;typeof l=="string"?(p=l,m=null):(p=l.title,m=l.message);const x=Date.now();r({id:x,title:p,message:m,duration:c})},[]),o=reactExports$1.useCallback(l=>{r(c=>c&&c.id===l?null:c)},[]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:{addToast:s},children:[t,jsxRuntimeExports.jsx("div",{className:styles.toastContainer,children:n&&jsxRuntimeExports.jsx(Toast,{id:n.id,title:n.title,message:n.message,duration:n.duration,removeToast:o},n.id)})]})}function FallbackUI(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:""})})}function App(){return jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{children:" ."}),children:jsxRuntimeExports.jsx(reactExports$1.Suspense,{fallback:jsxRuntimeExports.jsx(FallbackUI,{}),children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsx(RouterProvider2,{router})})})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AlertProvider,{children:jsxRuntimeExports.jsx(ConfirmProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
