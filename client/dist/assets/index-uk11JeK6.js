function _mergeNamespaces(r,x){for(var y=0;y<x.length;y++){const b=x[y];if(typeof b!="string"&&!Array.isArray(b)){for(const R in b)if(R!=="default"&&!(R in r)){const T=Object.getOwnPropertyDescriptor(b,R);T&&Object.defineProperty(r,R,T.get?T:{enumerable:!0,get:()=>b[R]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))b(R);new MutationObserver(R=>{for(const T of R)if(T.type==="childList")for(const A of T.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&b(A)}).observe(document,{childList:!0,subtree:!0});function y(R){const T={};return R.integrity&&(T.integrity=R.integrity),R.referrerPolicy&&(T.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?T.credentials="include":R.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function b(R){if(R.ep)return;R.ep=!0;const T=y(R);fetch(R.href,T)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var r=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function y(b,R,T){var A=null;if(T!==void 0&&(A=""+T),R.key!==void 0&&(A=""+R.key),"key"in R){T={};for(var O in R)O!=="key"&&(T[O]=R[O])}else T=R;return R=T.ref,{$$typeof:r,type:b,key:A,ref:R!==void 0?R:null,props:T}}return reactJsxRuntime_production.Fragment=x,reactJsxRuntime_production.jsx=y,reactJsxRuntime_production.jsxs=y,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(r){function x(Ke,Je){var We=Ke.length;Ke.push(Je);e:for(;0<We;){var Ze=We-1>>>1,dt=Ke[Ze];if(0<R(dt,Je))Ke[Ze]=Je,Ke[We]=dt,We=Ze;else break e}}function y(Ke){return Ke.length===0?null:Ke[0]}function b(Ke){if(Ke.length===0)return null;var Je=Ke[0],We=Ke.pop();if(We!==Je){Ke[0]=We;e:for(var Ze=0,dt=Ke.length,et=dt>>>1;Ze<et;){var ft=2*(Ze+1)-1,Et=Ke[ft],St=ft+1,Bt=Ke[St];if(0>R(Et,We))St<dt&&0>R(Bt,Et)?(Ke[Ze]=Bt,Ke[St]=We,Ze=St):(Ke[Ze]=Et,Ke[ft]=We,Ze=ft);else if(St<dt&&0>R(Bt,We))Ke[Ze]=Bt,Ke[St]=We,Ze=St;else break e}}return Je}function R(Ke,Je){var We=Ke.sortIndex-Je.sortIndex;return We!==0?We:Ke.id-Je.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;r.unstable_now=function(){return T.now()}}else{var A=Date,O=A.now();r.unstable_now=function(){return A.now()-O}}var B=[],U=[],K=1,J=null,te=3,ae=!1,ue=!1,pe=!1,$e=!1,Ne=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function xe(Ke){for(var Je=y(U);Je!==null;){if(Je.callback===null)b(U);else if(Je.startTime<=Ke)b(U),Je.sortIndex=Je.expirationTime,x(B,Je);else break;Je=y(U)}}function Le(Ke){if(pe=!1,xe(Ke),!ue)if(y(B)!==null)ue=!0,Ue||(Ue=!0,ot());else{var Je=y(U);Je!==null&&it(Le,Je.startTime-Ke)}}var Ue=!1,He=-1,qe=5,Qe=-1;function lt(){return $e?!0:!(r.unstable_now()-Qe<qe)}function ct(){if($e=!1,Ue){var Ke=r.unstable_now();Qe=Ke;var Je=!0;try{e:{ue=!1,pe&&(pe=!1,Be(He),He=-1),ae=!0;var We=te;try{t:{for(xe(Ke),J=y(B);J!==null&&!(J.expirationTime>Ke&&lt());){var Ze=J.callback;if(typeof Ze=="function"){J.callback=null,te=J.priorityLevel;var dt=Ze(J.expirationTime<=Ke);if(Ke=r.unstable_now(),typeof dt=="function"){J.callback=dt,xe(Ke),Je=!0;break t}J===y(B)&&b(B),xe(Ke)}else b(B);J=y(B)}if(J!==null)Je=!0;else{var et=y(U);et!==null&&it(Le,et.startTime-Ke),Je=!1}}break e}finally{J=null,te=We,ae=!1}Je=void 0}}finally{Je?ot():Ue=!1}}}var ot;if(typeof _e=="function")ot=function(){_e(ct)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,yt=pt.port2;pt.port1.onmessage=ct,ot=function(){yt.postMessage(null)}}else ot=function(){Ne(ct,0)};function it(Ke,Je){He=Ne(function(){Ke(r.unstable_now())},Je)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ke){Ke.callback=null},r.unstable_forceFrameRate=function(Ke){0>Ke||125<Ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<Ke?Math.floor(1e3/Ke):5},r.unstable_getCurrentPriorityLevel=function(){return te},r.unstable_next=function(Ke){switch(te){case 1:case 2:case 3:var Je=3;break;default:Je=te}var We=te;te=Je;try{return Ke()}finally{te=We}},r.unstable_requestPaint=function(){$e=!0},r.unstable_runWithPriority=function(Ke,Je){switch(Ke){case 1:case 2:case 3:case 4:case 5:break;default:Ke=3}var We=te;te=Ke;try{return Je()}finally{te=We}},r.unstable_scheduleCallback=function(Ke,Je,We){var Ze=r.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Ze+We:Ze):We=Ze,Ke){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=We+dt,Ke={id:K++,callback:Je,priorityLevel:Ke,startTime:We,expirationTime:dt,sortIndex:-1},We>Ze?(Ke.sortIndex=We,x(U,Ke),y(B)===null&&Ke===y(U)&&(pe?(Be(He),He=-1):pe=!0,it(Le,We-Ze))):(Ke.sortIndex=dt,x(B,Ke),ue||ae||(ue=!0,Ue||(Ue=!0,ot()))),Ke},r.unstable_shouldYield=lt,r.unstable_wrapCallback=function(Ke){var Je=te;return function(){var We=te;te=Je;try{return Ke.apply(this,arguments)}finally{te=We}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react$1={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var r=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),te=Symbol.iterator;function ae(et){return et===null||typeof et!="object"?null:(et=te&&et[te]||et["@@iterator"],typeof et=="function"?et:null)}var ue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,$e={};function Ne(et,ft,Et){this.props=et,this.context=ft,this.refs=$e,this.updater=Et||ue}Ne.prototype.isReactComponent={},Ne.prototype.setState=function(et,ft){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,ft,"setState")},Ne.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function Be(){}Be.prototype=Ne.prototype;function _e(et,ft,Et){this.props=et,this.context=ft,this.refs=$e,this.updater=Et||ue}var xe=_e.prototype=new Be;xe.constructor=_e,pe(xe,Ne.prototype),xe.isPureReactComponent=!0;var Le=Array.isArray;function Ue(){}var He={H:null,A:null,T:null,S:null},qe=Object.prototype.hasOwnProperty;function Qe(et,ft,Et){var St=Et.ref;return{$$typeof:r,type:et,key:ft,ref:St!==void 0?St:null,props:Et}}function lt(et,ft){return Qe(et.type,ft,et.props)}function ct(et){return typeof et=="object"&&et!==null&&et.$$typeof===r}function ot(et){var ft={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(Et){return ft[Et]})}var pt=/\/+/g;function yt(et,ft){return typeof et=="object"&&et!==null&&et.key!=null?ot(""+et.key):ft.toString(36)}function it(et){switch(et.status){case"fulfilled":return et.value;case"rejected":throw et.reason;default:switch(typeof et.status=="string"?et.then(Ue,Ue):(et.status="pending",et.then(function(ft){et.status==="pending"&&(et.status="fulfilled",et.value=ft)},function(ft){et.status==="pending"&&(et.status="rejected",et.reason=ft)})),et.status){case"fulfilled":return et.value;case"rejected":throw et.reason}}throw et}function Ke(et,ft,Et,St,Bt){var Rt=typeof et;(Rt==="undefined"||Rt==="boolean")&&(et=null);var Yt=!1;if(et===null)Yt=!0;else switch(Rt){case"bigint":case"string":case"number":Yt=!0;break;case"object":switch(et.$$typeof){case r:case x:Yt=!0;break;case K:return Yt=et._init,Ke(Yt(et._payload),ft,Et,St,Bt)}}if(Yt)return Bt=Bt(et),Yt=St===""?"."+yt(et,0):St,Le(Bt)?(Et="",Yt!=null&&(Et=Yt.replace(pt,"$&/")+"/"),Ke(Bt,ft,Et,"",function(Fn){return Fn})):Bt!=null&&(ct(Bt)&&(Bt=lt(Bt,Et+(Bt.key==null||et&&et.key===Bt.key?"":(""+Bt.key).replace(pt,"$&/")+"/")+Yt)),ft.push(Bt)),1;Yt=0;var nn=St===""?".":St+":";if(Le(et))for(var mn=0;mn<et.length;mn++)St=et[mn],Rt=nn+yt(St,mn),Yt+=Ke(St,ft,Et,Rt,Bt);else if(mn=ae(et),typeof mn=="function")for(et=mn.call(et),mn=0;!(St=et.next()).done;)St=St.value,Rt=nn+yt(St,mn++),Yt+=Ke(St,ft,Et,Rt,Bt);else if(Rt==="object"){if(typeof et.then=="function")return Ke(it(et),ft,Et,St,Bt);throw ft=String(et),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return Yt}function Je(et,ft,Et){if(et==null)return et;var St=[],Bt=0;return Ke(et,St,"","",function(Rt){return ft.call(Et,Rt,Bt++)}),St}function We(et){if(et._status===-1){var ft=et._result;ft=ft(),ft.then(function(Et){(et._status===0||et._status===-1)&&(et._status=1,et._result=Et)},function(Et){(et._status===0||et._status===-1)&&(et._status=2,et._result=Et)}),et._status===-1&&(et._status=0,et._result=ft)}if(et._status===1)return et._result.default;throw et._result}var Ze=typeof reportError=="function"?reportError:function(et){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof et=="object"&&et!==null&&typeof et.message=="string"?String(et.message):String(et),error:et});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",et);return}console.error(et)},dt={map:Je,forEach:function(et,ft,Et){Je(et,function(){ft.apply(this,arguments)},Et)},count:function(et){var ft=0;return Je(et,function(){ft++}),ft},toArray:function(et){return Je(et,function(ft){return ft})||[]},only:function(et){if(!ct(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};return react_production.Activity=J,react_production.Children=dt,react_production.Component=Ne,react_production.Fragment=y,react_production.Profiler=R,react_production.PureComponent=_e,react_production.StrictMode=b,react_production.Suspense=B,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(et){return He.H.useMemoCache(et)}},react_production.cache=function(et){return function(){return et.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(et,ft,Et){if(et==null)throw Error("The argument must be a React element, but you passed "+et+".");var St=pe({},et.props),Bt=et.key;if(ft!=null)for(Rt in ft.key!==void 0&&(Bt=""+ft.key),ft)!qe.call(ft,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&ft.ref===void 0||(St[Rt]=ft[Rt]);var Rt=arguments.length-2;if(Rt===1)St.children=Et;else if(1<Rt){for(var Yt=Array(Rt),nn=0;nn<Rt;nn++)Yt[nn]=arguments[nn+2];St.children=Yt}return Qe(et.type,Bt,St)},react_production.createContext=function(et){return et={$$typeof:A,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null},et.Provider=et,et.Consumer={$$typeof:T,_context:et},et},react_production.createElement=function(et,ft,Et){var St,Bt={},Rt=null;if(ft!=null)for(St in ft.key!==void 0&&(Rt=""+ft.key),ft)qe.call(ft,St)&&St!=="key"&&St!=="__self"&&St!=="__source"&&(Bt[St]=ft[St]);var Yt=arguments.length-2;if(Yt===1)Bt.children=Et;else if(1<Yt){for(var nn=Array(Yt),mn=0;mn<Yt;mn++)nn[mn]=arguments[mn+2];Bt.children=nn}if(et&&et.defaultProps)for(St in Yt=et.defaultProps,Yt)Bt[St]===void 0&&(Bt[St]=Yt[St]);return Qe(et,Rt,Bt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(et){return{$$typeof:O,render:et}},react_production.isValidElement=ct,react_production.lazy=function(et){return{$$typeof:K,_payload:{_status:-1,_result:et},_init:We}},react_production.memo=function(et,ft){return{$$typeof:U,type:et,compare:ft===void 0?null:ft}},react_production.startTransition=function(et){var ft=He.T,Et={};He.T=Et;try{var St=et(),Bt=He.S;Bt!==null&&Bt(Et,St),typeof St=="object"&&St!==null&&typeof St.then=="function"&&St.then(Ue,Ze)}catch(Rt){Ze(Rt)}finally{ft!==null&&Et.types!==null&&(ft.types=Et.types),He.T=ft}},react_production.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()},react_production.use=function(et){return He.H.use(et)},react_production.useActionState=function(et,ft,Et){return He.H.useActionState(et,ft,Et)},react_production.useCallback=function(et,ft){return He.H.useCallback(et,ft)},react_production.useContext=function(et){return He.H.useContext(et)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(et,ft){return He.H.useDeferredValue(et,ft)},react_production.useEffect=function(et,ft){return He.H.useEffect(et,ft)},react_production.useEffectEvent=function(et){return He.H.useEffectEvent(et)},react_production.useId=function(){return He.H.useId()},react_production.useImperativeHandle=function(et,ft,Et){return He.H.useImperativeHandle(et,ft,Et)},react_production.useInsertionEffect=function(et,ft){return He.H.useInsertionEffect(et,ft)},react_production.useLayoutEffect=function(et,ft){return He.H.useLayoutEffect(et,ft)},react_production.useMemo=function(et,ft){return He.H.useMemo(et,ft)},react_production.useOptimistic=function(et,ft){return He.H.useOptimistic(et,ft)},react_production.useReducer=function(et,ft,Et){return He.H.useReducer(et,ft,Et)},react_production.useRef=function(et){return He.H.useRef(et)},react_production.useState=function(et){return He.H.useState(et)},react_production.useSyncExternalStore=function(et,ft,Et){return He.H.useSyncExternalStore(et,ft,Et)},react_production.useTransition=function(){return He.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact$1;function requireReact$1(){return hasRequiredReact$1||(hasRequiredReact$1=1,react$1.exports=requireReact_production()),react$1.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var r=requireReact$1();function x(B){var U="https://react.dev/errors/"+B;if(1<arguments.length){U+="?args[]="+encodeURIComponent(arguments[1]);for(var K=2;K<arguments.length;K++)U+="&args[]="+encodeURIComponent(arguments[K])}return"Minified React error #"+B+"; visit "+U+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var b={d:{f:y,r:function(){throw Error(x(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},R=Symbol.for("react.portal");function T(B,U,K){var J=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:J==null?null:""+J,children:B,containerInfo:U,implementation:K}}var A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(B,U){if(B==="font")return"";if(typeof U=="string")return U==="use-credentials"?U:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,reactDom_production.createPortal=function(B,U){var K=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)throw Error(x(299));return T(B,U,null,K)},reactDom_production.flushSync=function(B){var U=A.T,K=b.p;try{if(A.T=null,b.p=2,B)return B()}finally{A.T=U,b.p=K,b.d.f()}},reactDom_production.preconnect=function(B,U){typeof B=="string"&&(U?(U=U.crossOrigin,U=typeof U=="string"?U==="use-credentials"?U:"":void 0):U=null,b.d.C(B,U))},reactDom_production.prefetchDNS=function(B){typeof B=="string"&&b.d.D(B)},reactDom_production.preinit=function(B,U){if(typeof B=="string"&&U&&typeof U.as=="string"){var K=U.as,J=O(K,U.crossOrigin),te=typeof U.integrity=="string"?U.integrity:void 0,ae=typeof U.fetchPriority=="string"?U.fetchPriority:void 0;K==="style"?b.d.S(B,typeof U.precedence=="string"?U.precedence:void 0,{crossOrigin:J,integrity:te,fetchPriority:ae}):K==="script"&&b.d.X(B,{crossOrigin:J,integrity:te,fetchPriority:ae,nonce:typeof U.nonce=="string"?U.nonce:void 0})}},reactDom_production.preinitModule=function(B,U){if(typeof B=="string")if(typeof U=="object"&&U!==null){if(U.as==null||U.as==="script"){var K=O(U.as,U.crossOrigin);b.d.M(B,{crossOrigin:K,integrity:typeof U.integrity=="string"?U.integrity:void 0,nonce:typeof U.nonce=="string"?U.nonce:void 0})}}else U==null&&b.d.M(B)},reactDom_production.preload=function(B,U){if(typeof B=="string"&&typeof U=="object"&&U!==null&&typeof U.as=="string"){var K=U.as,J=O(K,U.crossOrigin);b.d.L(B,K,{crossOrigin:J,integrity:typeof U.integrity=="string"?U.integrity:void 0,nonce:typeof U.nonce=="string"?U.nonce:void 0,type:typeof U.type=="string"?U.type:void 0,fetchPriority:typeof U.fetchPriority=="string"?U.fetchPriority:void 0,referrerPolicy:typeof U.referrerPolicy=="string"?U.referrerPolicy:void 0,imageSrcSet:typeof U.imageSrcSet=="string"?U.imageSrcSet:void 0,imageSizes:typeof U.imageSizes=="string"?U.imageSizes:void 0,media:typeof U.media=="string"?U.media:void 0})}},reactDom_production.preloadModule=function(B,U){if(typeof B=="string")if(U){var K=O(U.as,U.crossOrigin);b.d.m(B,{as:typeof U.as=="string"&&U.as!=="script"?U.as:void 0,crossOrigin:K,integrity:typeof U.integrity=="string"?U.integrity:void 0})}else b.d.m(B)},reactDom_production.requestFormReset=function(B){b.d.r(B)},reactDom_production.unstable_batchedUpdates=function(B,U){return B(U)},reactDom_production.useFormState=function(B,U,K){return A.H.useFormState(B,U,K)},reactDom_production.useFormStatus=function(){return A.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(x){console.error(x)}}return r(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var r=requireScheduler(),x=requireReact$1(),y=requireReactDom();function b(I){var z="https://react.dev/errors/"+I;if(1<arguments.length){z+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)z+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+I+"; visit "+z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)}function T(I){var z=I,X=I;if(I.alternate)for(;z.return;)z=z.return;else{I=z;do z=I,(z.flags&4098)!==0&&(X=z.return),I=z.return;while(I)}return z.tag===3?X:null}function A(I){if(I.tag===13){var z=I.memoizedState;if(z===null&&(I=I.alternate,I!==null&&(z=I.memoizedState)),z!==null)return z.dehydrated}return null}function O(I){if(I.tag===31){var z=I.memoizedState;if(z===null&&(I=I.alternate,I!==null&&(z=I.memoizedState)),z!==null)return z.dehydrated}return null}function B(I){if(T(I)!==I)throw Error(b(188))}function U(I){var z=I.alternate;if(!z){if(z=T(I),z===null)throw Error(b(188));return z!==I?null:I}for(var X=I,oe=z;;){var je=X.return;if(je===null)break;var Ve=je.alternate;if(Ve===null){if(oe=je.return,oe!==null){X=oe;continue}break}if(je.child===Ve.child){for(Ve=je.child;Ve;){if(Ve===X)return B(je),I;if(Ve===oe)return B(je),z;Ve=Ve.sibling}throw Error(b(188))}if(X.return!==oe.return)X=je,oe=Ve;else{for(var Xe=!1,at=je.child;at;){if(at===X){Xe=!0,X=je,oe=Ve;break}if(at===oe){Xe=!0,oe=je,X=Ve;break}at=at.sibling}if(!Xe){for(at=Ve.child;at;){if(at===X){Xe=!0,X=Ve,oe=je;break}if(at===oe){Xe=!0,oe=Ve,X=je;break}at=at.sibling}if(!Xe)throw Error(b(189))}}if(X.alternate!==oe)throw Error(b(190))}if(X.tag!==3)throw Error(b(188));return X.stateNode.current===X?I:z}function K(I){var z=I.tag;if(z===5||z===26||z===27||z===6)return I;for(I=I.child;I!==null;){if(z=K(I),z!==null)return z;I=I.sibling}return null}var J=Object.assign,te=Symbol.for("react.element"),ae=Symbol.for("react.transitional.element"),ue=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),$e=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),Be=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Qe=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function ot(I){return I===null||typeof I!="object"?null:(I=ct&&I[ct]||I["@@iterator"],typeof I=="function"?I:null)}var pt=Symbol.for("react.client.reference");function yt(I){if(I==null)return null;if(typeof I=="function")return I.$$typeof===pt?null:I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case pe:return"Fragment";case Ne:return"Profiler";case $e:return"StrictMode";case Le:return"Suspense";case Ue:return"SuspenseList";case Qe:return"Activity"}if(typeof I=="object")switch(I.$$typeof){case ue:return"Portal";case _e:return I.displayName||"Context";case Be:return(I._context.displayName||"Context")+".Consumer";case xe:var z=I.render;return I=I.displayName,I||(I=z.displayName||z.name||"",I=I!==""?"ForwardRef("+I+")":"ForwardRef"),I;case He:return z=I.displayName||null,z!==null?z:yt(I.type)||"Memo";case qe:z=I._payload,I=I._init;try{return yt(I(z))}catch{}}return null}var it=Array.isArray,Ke=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},Ze=[],dt=-1;function et(I){return{current:I}}function ft(I){0>dt||(I.current=Ze[dt],Ze[dt]=null,dt--)}function Et(I,z){dt++,Ze[dt]=I.current,I.current=z}var St=et(null),Bt=et(null),Rt=et(null),Yt=et(null);function nn(I,z){switch(Et(Rt,z),Et(Bt,I),Et(St,null),z.nodeType){case 9:case 11:I=(I=z.documentElement)&&(I=I.namespaceURI)?Yf(I):0;break;default:if(I=z.tagName,z=z.namespaceURI)z=Yf(z),I=Kf(z,I);else switch(I){case"svg":I=1;break;case"math":I=2;break;default:I=0}}ft(St),Et(St,I)}function mn(){ft(St),ft(Bt),ft(Rt)}function Fn(I){I.memoizedState!==null&&Et(Yt,I);var z=St.current,X=Kf(z,I.type);z!==X&&(Et(Bt,I),Et(St,X))}function dn(I){Bt.current===I&&(ft(St),ft(Bt)),Yt.current===I&&(ft(Yt),cl._currentValue=We)}var Gn,tn;function Qt(I){if(Gn===void 0)try{throw Error()}catch(X){var z=X.stack.trim().match(/\n( *(at )?)/);Gn=z&&z[1]||"",tn=-1<X.stack.indexOf(`
    at`)?" (<anonymous>)":-1<X.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gn+I+tn}var Kn=!1;function Nr(I,z){if(!I||Kn)return"";Kn=!0;var X=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var oe={DetermineComponentFrameRoot:function(){try{if(z){var Lt=function(){throw Error()};if(Object.defineProperty(Lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Lt,[])}catch(jt){var kt=jt}Reflect.construct(I,[],Lt)}else{try{Lt.call()}catch(jt){kt=jt}I.call(Lt.prototype)}}else{try{throw Error()}catch(jt){kt=jt}(Lt=I())&&typeof Lt.catch=="function"&&Lt.catch(function(){})}}catch(jt){if(jt&&kt&&typeof jt.stack=="string")return[jt.stack,kt.stack]}return[null,null]}};oe.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var je=Object.getOwnPropertyDescriptor(oe.DetermineComponentFrameRoot,"name");je&&je.configurable&&Object.defineProperty(oe.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ve=oe.DetermineComponentFrameRoot(),Xe=Ve[0],at=Ve[1];if(Xe&&at){var gt=Xe.split(`
`),It=at.split(`
`);for(je=oe=0;oe<gt.length&&!gt[oe].includes("DetermineComponentFrameRoot");)oe++;for(;je<It.length&&!It[je].includes("DetermineComponentFrameRoot");)je++;if(oe===gt.length||je===It.length)for(oe=gt.length-1,je=It.length-1;1<=oe&&0<=je&&gt[oe]!==It[je];)je--;for(;1<=oe&&0<=je;oe--,je--)if(gt[oe]!==It[je]){if(oe!==1||je!==1)do if(oe--,je--,0>je||gt[oe]!==It[je]){var Pt=`
`+gt[oe].replace(" at new "," at ");return I.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",I.displayName)),Pt}while(1<=oe&&0<=je);break}}}finally{Kn=!1,Error.prepareStackTrace=X}return(X=I?I.displayName||I.name:"")?Qt(X):""}function zn(I,z){switch(I.tag){case 26:case 27:case 5:return Qt(I.type);case 16:return Qt("Lazy");case 13:return I.child!==z&&z!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Nr(I.type,!1);case 11:return Nr(I.type.render,!1);case 1:return Nr(I.type,!0);case 31:return Qt("Activity");default:return""}}function _n(I){try{var z="",X=null;do z+=zn(I,X),X=I,I=I.return;while(I);return z}catch(oe){return`
Error generating stack: `+oe.message+`
`+oe.stack}}var pn=Object.prototype.hasOwnProperty,br=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,Wr=r.unstable_shouldYield,Mr=r.unstable_requestPaint,Ht=r.unstable_now,sn=r.unstable_getCurrentPriorityLevel,yn=r.unstable_ImmediatePriority,An=r.unstable_UserBlockingPriority,In=r.unstable_NormalPriority,rr=r.unstable_LowPriority,Yr=r.unstable_IdlePriority,hi=r.log,gs=r.unstable_setDisableYieldValue,Dn=null,Ut=null;function Xn(I){if(typeof hi=="function"&&gs(I),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Dn,I)}catch{}}var Sn=Math.clz32?Math.clz32:$i,or=Math.log,fi=Math.LN2;function $i(I){return I>>>=0,I===0?32:31-(or(I)/fi|0)|0}var is=256,jn=262144,pi=4194304;function Ci(I){var z=I&42;if(z!==0)return z;switch(I&-I){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return I&261888;case 262144:case 524288:case 1048576:case 2097152:return I&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return I&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return I}}function xs(I,z,X){var oe=I.pendingLanes;if(oe===0)return 0;var je=0,Ve=I.suspendedLanes,Xe=I.pingedLanes;I=I.warmLanes;var at=oe&134217727;return at!==0?(oe=at&~Ve,oe!==0?je=Ci(oe):(Xe&=at,Xe!==0?je=Ci(Xe):X||(X=at&~I,X!==0&&(je=Ci(X))))):(at=oe&~Ve,at!==0?je=Ci(at):Xe!==0?je=Ci(Xe):X||(X=oe&~I,X!==0&&(je=Ci(X)))),je===0?0:z!==0&&z!==je&&(z&Ve)===0&&(Ve=je&-je,X=z&-z,Ve>=X||Ve===32&&(X&4194048)!==0)?z:je}function Fr(I,z){return(I.pendingLanes&~(I.suspendedLanes&~I.pingedLanes)&z)===0}function ss(I,z){switch(I){case 1:case 2:case 4:case 8:case 64:return z+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return z+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var I=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),I}function Ri(I){for(var z=[],X=0;31>X;X++)z.push(I);return z}function Li(I,z){I.pendingLanes|=z,z!==268435456&&(I.suspendedLanes=0,I.pingedLanes=0,I.warmLanes=0)}function mi(I,z,X,oe,je,Ve){var Xe=I.pendingLanes;I.pendingLanes=X,I.suspendedLanes=0,I.pingedLanes=0,I.warmLanes=0,I.expiredLanes&=X,I.entangledLanes&=X,I.errorRecoveryDisabledLanes&=X,I.shellSuspendCounter=0;var at=I.entanglements,gt=I.expirationTimes,It=I.hiddenUpdates;for(X=Xe&~X;0<X;){var Pt=31-Sn(X),Lt=1<<Pt;at[Pt]=0,gt[Pt]=-1;var kt=It[Pt];if(kt!==null)for(It[Pt]=null,Pt=0;Pt<kt.length;Pt++){var jt=kt[Pt];jt!==null&&(jt.lane&=-536870913)}X&=~Lt}oe!==0&&mt(I,oe,0),Ve!==0&&je===0&&I.tag!==0&&(I.suspendedLanes|=Ve&~(Xe&~z))}function mt(I,z,X){I.pendingLanes|=z,I.suspendedLanes&=~z;var oe=31-Sn(z);I.entangledLanes|=z,I.entanglements[oe]=I.entanglements[oe]|1073741824|X&261930}function wt(I,z){var X=I.entangledLanes|=z;for(I=I.entanglements;X;){var oe=31-Sn(X),je=1<<oe;je&z|I[oe]&z&&(I[oe]|=z),X&=~je}}function Nt(I,z){var X=z&-z;return X=(X&42)!==0?1:Ft(X),(X&(I.suspendedLanes|z))!==0?0:X}function Ft(I){switch(I){case 2:I=1;break;case 8:I=4;break;case 32:I=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:I=128;break;case 268435456:I=134217728;break;default:I=0}return I}function Wt(I){return I&=-I,2<I?8<I?(I&134217727)!==0?32:268435456:8:2}function en(){var I=Je.p;return I!==0?I:(I=window.event,I===void 0?32:Ep(I.type))}function Ot(I,z){var X=Je.p;try{return Je.p=I,z()}finally{Je.p=X}}var Jt=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Jt,Xt="__reactProps$"+Jt,cn="__reactContainer$"+Jt,on="__reactEvents$"+Jt,bn="__reactListeners$"+Jt,$n="__reactHandles$"+Jt,Tr="__reactResources$"+Jt,Er="__reactMarker$"+Jt;function On(I){delete I[Zt],delete I[Xt],delete I[on],delete I[bn],delete I[$n]}function wn(I){var z=I[Zt];if(z)return z;for(var X=I.parentNode;X;){if(z=X[cn]||X[Zt]){if(X=z.alternate,z.child!==null||X!==null&&X.child!==null)for(I=np(I);I!==null;){if(X=I[Zt])return X;I=np(I)}return z}I=X,X=I.parentNode}return null}function Ln(I){if(I=I[Zt]||I[cn]){var z=I.tag;if(z===5||z===6||z===13||z===31||z===26||z===27||z===3)return I}return null}function gi(I){var z=I.tag;if(z===5||z===26||z===27||z===6)return I.stateNode;throw Error(b(33))}function Ar(I){var z=I[Tr];return z||(z=I[Tr]={hoistableStyles:new Map,hoistableScripts:new Map}),z}function Jn(I){I[Er]=!0}var zt=new Set,as={};function Hn(I,z){Jr(I,z),Jr(I+"Capture",z)}function Jr(I,z){for(as[I]=z,I=0;I<z.length;I++)zt.add(z[I])}var zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rn={},vn={};function Tn(I){return pn.call(vn,I)?!0:pn.call(rn,I)?!1:zs.test(I)?vn[I]=!0:(rn[I]=!0,!1)}function oi(I,z,X){if(Tn(z))if(X===null)I.removeAttribute(z);else{switch(typeof X){case"undefined":case"function":case"symbol":I.removeAttribute(z);return;case"boolean":var oe=z.toLowerCase().slice(0,5);if(oe!=="data-"&&oe!=="aria-"){I.removeAttribute(z);return}}I.setAttribute(z,""+X)}}function ir(I,z,X){if(X===null)I.removeAttribute(z);else{switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":I.removeAttribute(z);return}I.setAttribute(z,""+X)}}function ei(I,z,X,oe){if(oe===null)I.removeAttribute(X);else{switch(typeof oe){case"undefined":case"function":case"symbol":case"boolean":I.removeAttribute(X);return}I.setAttributeNS(z,X,""+oe)}}function Qn(I){switch(typeof I){case"bigint":case"boolean":case"number":case"string":case"undefined":return I;case"object":return I;default:return""}}function Ti(I){var z=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&(z==="checkbox"||z==="radio")}function Ac(I,z,X){var oe=Object.getOwnPropertyDescriptor(I.constructor.prototype,z);if(!I.hasOwnProperty(z)&&typeof oe<"u"&&typeof oe.get=="function"&&typeof oe.set=="function"){var je=oe.get,Ve=oe.set;return Object.defineProperty(I,z,{configurable:!0,get:function(){return je.call(this)},set:function(Xe){X=""+Xe,Ve.call(this,Xe)}}),Object.defineProperty(I,z,{enumerable:oe.enumerable}),{getValue:function(){return X},setValue:function(Xe){X=""+Xe},stopTracking:function(){I._valueTracker=null,delete I[z]}}}}function Sr(I){if(!I._valueTracker){var z=Ti(I)?"checked":"value";I._valueTracker=Ac(I,z,""+I[z])}}function Ki(I){if(!I)return!1;var z=I._valueTracker;if(!z)return!0;var X=z.getValue(),oe="";return I&&(oe=Ti(I)?I.checked?"true":"false":I.value),I=oe,I!==X?(z.setValue(I),!0):!1}function Ha(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}var Hs=/[\n"\\]/g;function Bn(I){return I.replace(Hs,function(z){return"\\"+z.charCodeAt(0).toString(16)+" "})}function zr(I,z,X,oe,je,Ve,Xe,at){I.name="",Xe!=null&&typeof Xe!="function"&&typeof Xe!="symbol"&&typeof Xe!="boolean"?I.type=Xe:I.removeAttribute("type"),z!=null?Xe==="number"?(z===0&&I.value===""||I.value!=z)&&(I.value=""+Qn(z)):I.value!==""+Qn(z)&&(I.value=""+Qn(z)):Xe!=="submit"&&Xe!=="reset"||I.removeAttribute("value"),z!=null?ut(I,Xe,Qn(z)):X!=null?ut(I,Xe,Qn(X)):oe!=null&&I.removeAttribute("value"),je==null&&Ve!=null&&(I.defaultChecked=!!Ve),je!=null&&(I.checked=je&&typeof je!="function"&&typeof je!="symbol"),at!=null&&typeof at!="function"&&typeof at!="symbol"&&typeof at!="boolean"?I.name=""+Qn(at):I.removeAttribute("name")}function Tt(I,z,X,oe,je,Ve,Xe,at){if(Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"&&(I.type=Ve),z!=null||X!=null){if(!(Ve!=="submit"&&Ve!=="reset"||z!=null)){Sr(I);return}X=X!=null?""+Qn(X):"",z=z!=null?""+Qn(z):X,at||z===I.value||(I.value=z),I.defaultValue=z}oe=oe??je,oe=typeof oe!="function"&&typeof oe!="symbol"&&!!oe,I.checked=at?I.checked:!!oe,I.defaultChecked=!!oe,Xe!=null&&typeof Xe!="function"&&typeof Xe!="symbol"&&typeof Xe!="boolean"&&(I.name=Xe),Sr(I)}function ut(I,z,X){z==="number"&&Ha(I.ownerDocument)===I||I.defaultValue===""+X||(I.defaultValue=""+X)}function ln(I,z,X,oe){if(I=I.options,z){z={};for(var je=0;je<X.length;je++)z["$"+X[je]]=!0;for(X=0;X<I.length;X++)je=z.hasOwnProperty("$"+I[X].value),I[X].selected!==je&&(I[X].selected=je),je&&oe&&(I[X].defaultSelected=!0)}else{for(X=""+Qn(X),z=null,je=0;je<I.length;je++){if(I[je].value===X){I[je].selected=!0,oe&&(I[je].defaultSelected=!0);return}z!==null||I[je].disabled||(z=I[je])}z!==null&&(z.selected=!0)}}function Pr(I,z,X){if(z!=null&&(z=""+Qn(z),z!==I.value&&(I.value=z),X==null)){I.defaultValue!==z&&(I.defaultValue=z);return}I.defaultValue=X!=null?""+Qn(X):""}function li(I,z,X,oe){if(z==null){if(oe!=null){if(X!=null)throw Error(b(92));if(it(oe)){if(1<oe.length)throw Error(b(93));oe=oe[0]}X=oe}X==null&&(X=""),z=X}X=Qn(z),I.defaultValue=X,oe=I.textContent,oe===X&&oe!==""&&oe!==null&&(I.value=oe),Sr(I)}function Vs(I,z){if(z){var X=I.firstChild;if(X&&X===I.lastChild&&X.nodeType===3){X.nodeValue=z;return}}I.textContent=z}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ci(I,z,X){var oe=z.indexOf("--")===0;X==null||typeof X=="boolean"||X===""?oe?I.setProperty(z,""):z==="float"?I.cssFloat="":I[z]="":oe?I.setProperty(z,X):typeof X!="number"||X===0||Co.has(z)?z==="float"?I.cssFloat=X:I[z]=(""+X).trim():I[z]=X+"px"}function hn(I,z,X){if(z!=null&&typeof z!="object")throw Error(b(62));if(I=I.style,X!=null){for(var oe in X)!X.hasOwnProperty(oe)||z!=null&&z.hasOwnProperty(oe)||(oe.indexOf("--")===0?I.setProperty(oe,""):oe==="float"?I.cssFloat="":I[oe]="");for(var je in z)oe=z[je],z.hasOwnProperty(je)&&X[je]!==oe&&ci(I,je,oe)}else for(var Ve in z)z.hasOwnProperty(Ve)&&ci(I,Ve,z[Ve])}function gr(I){if(I.indexOf("-")===-1)return!1;switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(I){return Ic.test(""+I)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":I}function xi(){}var ba=null;function Ro(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var wr=null,Bi=null;function Xi(I){var z=Ln(I);if(z&&(I=z.stateNode)){var X=I[Xt]||null;e:switch(I=z.stateNode,z.type){case"input":if(zr(I,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name),z=X.name,X.type==="radio"&&z!=null){for(X=I;X.parentNode;)X=X.parentNode;for(X=X.querySelectorAll('input[name="'+Bn(""+z)+'"][type="radio"]'),z=0;z<X.length;z++){var oe=X[z];if(oe!==I&&oe.form===I.form){var je=oe[Xt]||null;if(!je)throw Error(b(90));zr(oe,je.value,je.defaultValue,je.defaultValue,je.checked,je.defaultChecked,je.type,je.name)}}for(z=0;z<X.length;z++)oe=X[z],oe.form===I.form&&Ki(oe)}break e;case"textarea":Pr(I,X.value,X.defaultValue);break e;case"select":z=X.value,z!=null&&ln(I,!!X.multiple,z,!1)}}}var gn=!1;function pl(I,z,X){if(gn)return I(z,X);gn=!0;try{var oe=I(z);return oe}finally{if(gn=!1,(wr!==null||Bi!==null)&&(ac(),wr&&(z=wr,I=Bi,Bi=wr=null,Xi(z),I)))for(z=0;z<I.length;z++)Xi(I[z])}}function Cn(I,z){var X=I.stateNode;if(X===null)return null;var oe=X[Xt]||null;if(oe===null)return null;X=oe[z];e:switch(z){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(oe=!oe.disabled)||(I=I.type,oe=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!oe;break e;default:I=!1}if(I)return null;if(X&&typeof X!="function")throw Error(b(231,z,typeof X));return X}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(xr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){To=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{To=!1}var Qi=null,Zi=null,Va=null;function Gs(){if(Va)return Va;var I,z=Zi,X=z.length,oe,je="value"in Qi?Qi.value:Qi.textContent,Ve=je.length;for(I=0;I<X&&z[I]===je[I];I++);var Xe=X-I;for(oe=1;oe<=Xe&&z[X-oe]===je[Ve-oe];oe++);return Va=je.slice(I,1<oe?1-oe:void 0)}function ls(I){var z=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&z===13&&(I=13)):I=z,I===10&&(I=13),32<=I||I===13?I:0}function cs(){return!0}function Ao(){return!1}function Hr(I){function z(X,oe,je,Ve,Xe){this._reactName=X,this._targetInst=je,this.type=oe,this.nativeEvent=Ve,this.target=Xe,this.currentTarget=null;for(var at in I)I.hasOwnProperty(at)&&(X=I[at],this[at]=X?X(Ve):Ve[at]);return this.isDefaultPrevented=(Ve.defaultPrevented!=null?Ve.defaultPrevented:Ve.returnValue===!1)?cs:Ao,this.isPropagationStopped=Ao,this}return J(z.prototype,{preventDefault:function(){this.defaultPrevented=!0;var X=this.nativeEvent;X&&(X.preventDefault?X.preventDefault():typeof X.returnValue!="unknown"&&(X.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var X=this.nativeEvent;X&&(X.stopPropagation?X.stopPropagation():typeof X.cancelBubble!="unknown"&&(X.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),z}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=Hr(Ai),qs=J({},Ai,{view:0,detail:0}),ml=Hr(qs),Ua,Io,Sa,Ga=J({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==Sa&&(Sa&&I.type==="mousemove"?(Ua=I.screenX-Sa.screenX,Io=I.screenY-Sa.screenY):Io=Ua=0,Sa=I),Ua)},movementY:function(I){return"movementY"in I?I.movementY:Io}}),sr=Hr(Ga),gl=J({},Ga,{dataTransfer:0}),qa=Hr(gl),us=J({},qs,{relatedTarget:0}),ko=Hr(us),Dt=J({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Nn=Hr(Dt),Xr=J({},Ai,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),Wa=Hr(Xr),xl=J({},Ai,{data:0}),yl=Hr(xl),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $r(I){var z=this.nativeEvent;return z.getModifierState?z.getModifierState(I):(I=No[I])?!!z[I]:!1}function wa(){return $r}var Ir=J({},qs,{key:function(I){if(I.key){var z=kc[I.key]||I.key;if(z!=="Unidentified")return z}return I.type==="keypress"?(I=ls(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?Nc[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(I){return I.type==="keypress"?ls(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?ls(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),Ya=Hr(Ir),vs=J({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=Hr(vs),xn=J({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Mc=Hr(xn),yr=J({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Es=Hr(yr),Ws=J({},Ga,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),Dc=Hr(Ws),Fi=J({},Ai,{newState:0,oldState:0}),Mo=Hr(Fi),vl=[9,13,27,32],_a=xr&&"CompositionEvent"in window,Ys=null;xr&&"documentMode"in document&&(Ys=document.documentMode);var El=xr&&"TextEvent"in window&&!Ys,bl=xr&&(!_a||Ys&&8<Ys&&11>=Ys),bs=" ",Ka=!1;function Sl(I,z){switch(I){case"keyup":return vl.indexOf(z.keyCode)!==-1;case"keydown":return z.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ks(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var Xs=!1;function ds(I,z){switch(I){case"compositionend":return Ks(z);case"keypress":return z.which!==32?null:(Ka=!0,bs);case"textInput":return I=z.data,I===bs&&Ka?null:I;default:return null}}function Xa(I,z){if(Xs)return I==="compositionend"||!_a&&Sl(I,z)?(I=Gs(),Va=Zi=Qi=null,Xs=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!(z.ctrlKey||z.altKey||z.metaKey)||z.ctrlKey&&z.altKey){if(z.char&&1<z.char.length)return z.char;if(z.which)return String.fromCharCode(z.which)}return null;case"compositionend":return bl&&z.locale!=="ko"?null:z.data;default:return null}}var yi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(I){var z=I&&I.nodeName&&I.nodeName.toLowerCase();return z==="input"?!!yi[I.type]:z==="textarea"}function Ii(I,z,X,oe){wr?Bi?Bi.push(oe):Bi=[oe]:wr=oe,z=fc(z,"onChange"),0<z.length&&(X=new Kr("onChange","change",null,X,oe),I.push({event:X,listeners:z}))}var Ca=null,Ss=null;function jc(I){Hf(I,0)}function Ra(I){var z=gi(I);if(Ki(z))return I}function ki(I,z){if(I==="change")return z}var wl=!1;if(xr){var Ta;if(xr){var ws="oninput"in document;if(!ws){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),ws=typeof qn.oninput=="function"}Ta=ws}else Ta=!1;wl=Ta&&(!document.documentMode||9<document.documentMode)}function Aa(){Ca&&(Ca.detachEvent("onpropertychange",nt),Ss=Ca=null)}function nt(I){if(I.propertyName==="value"&&Ra(Ss)){var z=[];Ii(z,Ss,I,Ro(I)),pl(jc,z)}}function M(I,z,X){I==="focusin"?(Aa(),Ca=z,Ss=X,Ca.attachEvent("onpropertychange",nt)):I==="focusout"&&Aa()}function G(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return Ra(Ss)}function q(I,z){if(I==="click")return Ra(z)}function ee(I,z){if(I==="input"||I==="change")return Ra(z)}function ne(I,z){return I===z&&(I!==0||1/I===1/z)||I!==I&&z!==z}var fe=typeof Object.is=="function"?Object.is:ne;function ye(I,z){if(fe(I,z))return!0;if(typeof I!="object"||I===null||typeof z!="object"||z===null)return!1;var X=Object.keys(I),oe=Object.keys(z);if(X.length!==oe.length)return!1;for(oe=0;oe<X.length;oe++){var je=X[oe];if(!pn.call(z,je)||!fe(I[je],z[je]))return!1}return!0}function ze(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function Ge(I,z){var X=ze(I);I=0;for(var oe;X;){if(X.nodeType===3){if(oe=I+X.textContent.length,I<=z&&oe>=z)return{node:X,offset:z-I};I=oe}e:{for(;X;){if(X.nextSibling){X=X.nextSibling;break e}X=X.parentNode}X=void 0}X=ze(X)}}function Ye(I,z){return I&&z?I===z?!0:I&&I.nodeType===3?!1:z&&z.nodeType===3?Ye(I,z.parentNode):"contains"in I?I.contains(z):I.compareDocumentPosition?!!(I.compareDocumentPosition(z)&16):!1:!1}function rt(I){I=I!=null&&I.ownerDocument!=null&&I.ownerDocument.defaultView!=null?I.ownerDocument.defaultView:window;for(var z=Ha(I.document);z instanceof I.HTMLIFrameElement;){try{var X=typeof z.contentWindow.location.href=="string"}catch{X=!1}if(X)I=z.contentWindow;else break;z=Ha(I.document)}return z}function st(I){var z=I&&I.nodeName&&I.nodeName.toLowerCase();return z&&(z==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||z==="textarea"||I.contentEditable==="true")}var ht=xr&&"documentMode"in document&&11>=document.documentMode,xt=null,vt=null,Ct=null,Mt=!1;function qt(I,z,X){var oe=X.window===X?X.document:X.nodeType===9?X:X.ownerDocument;Mt||xt==null||xt!==Ha(oe)||(oe=xt,"selectionStart"in oe&&st(oe)?oe={start:oe.selectionStart,end:oe.selectionEnd}:(oe=(oe.ownerDocument&&oe.ownerDocument.defaultView||window).getSelection(),oe={anchorNode:oe.anchorNode,anchorOffset:oe.anchorOffset,focusNode:oe.focusNode,focusOffset:oe.focusOffset}),Ct&&ye(Ct,oe)||(Ct=oe,oe=fc(vt,"onSelect"),0<oe.length&&(z=new Kr("onSelect","select",null,z,X),I.push({event:z,listeners:oe}),z.target=xt)))}function Gt(I,z){var X={};return X[I.toLowerCase()]=z.toLowerCase(),X["Webkit"+I]="webkit"+z,X["Moz"+I]="moz"+z,X}var Vt={animationend:Gt("Animation","AnimationEnd"),animationiteration:Gt("Animation","AnimationIteration"),animationstart:Gt("Animation","AnimationStart"),transitionrun:Gt("Transition","TransitionRun"),transitionstart:Gt("Transition","TransitionStart"),transitioncancel:Gt("Transition","TransitionCancel"),transitionend:Gt("Transition","TransitionEnd")},Pn={},Rn={};xr&&(Rn=document.createElement("div").style,"AnimationEvent"in window||(delete Vt.animationend.animation,delete Vt.animationiteration.animation,delete Vt.animationstart.animation),"TransitionEvent"in window||delete Vt.transitionend.transition);function Dr(I){if(Pn[I])return Pn[I];if(!Vt[I])return I;var z=Vt[I],X;for(X in z)if(z.hasOwnProperty(X)&&X in Rn)return Pn[I]=z[X];return I}var vi=Dr("animationend"),ni=Dr("animationiteration"),cr=Dr("animationstart"),Qr=Dr("transitionrun"),ui=Dr("transitionstart"),Qs=Dr("transitioncancel"),_s=Dr("transitionend"),_l=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function Ji(I,z){_l.set(I,z),Hn(z,[I])}var Cl=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},zi=[],Qa=0,Oc=0;function Rl(){for(var I=Qa,z=Oc=Qa=0;z<I;){var X=zi[z];zi[z++]=null;var oe=zi[z];zi[z++]=null;var je=zi[z];zi[z++]=null;var Ve=zi[z];if(zi[z++]=null,oe!==null&&je!==null){var Xe=oe.pending;Xe===null?je.next=je:(je.next=Xe.next,Xe.next=je),oe.pending=je}Ve!==0&&Sd(X,je,Ve)}}function Tl(I,z,X,oe){zi[Qa++]=I,zi[Qa++]=z,zi[Qa++]=X,zi[Qa++]=oe,Oc|=oe,I.lanes|=oe,I=I.alternate,I!==null&&(I.lanes|=oe)}function Pc(I,z,X,oe){return Tl(I,z,X,oe),Al(I)}function Ia(I,z){return Tl(I,null,null,z),Al(I)}function Sd(I,z,X){I.lanes|=X;var oe=I.alternate;oe!==null&&(oe.lanes|=X);for(var je=!1,Ve=I.return;Ve!==null;)Ve.childLanes|=X,oe=Ve.alternate,oe!==null&&(oe.childLanes|=X),Ve.tag===22&&(I=Ve.stateNode,I===null||I._visibility&1||(je=!0)),I=Ve,Ve=Ve.return;return I.tag===3?(Ve=I.stateNode,je&&z!==null&&(je=31-Sn(X),I=Ve.hiddenUpdates,oe=I[je],oe===null?I[je]=[z]:oe.push(z),z.lane=X|536870912),Ve):null}function Al(I){if(50<nl)throw nl=0,Gu=null,Error(b(185));for(var z=I.return;z!==null;)I=z,z=I.return;return I.tag===3?I.stateNode:null}var Za={};function Dp(I,z,X,oe){this.tag=I,this.key=X,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=z,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=oe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(I,z,X,oe){return new Dp(I,z,X,oe)}function $c(I){return I=I.prototype,!(!I||!I.isReactComponent)}function Cs(I,z){var X=I.alternate;return X===null?(X=Ni(I.tag,z,I.key,I.mode),X.elementType=I.elementType,X.type=I.type,X.stateNode=I.stateNode,X.alternate=I,I.alternate=X):(X.pendingProps=z,X.type=I.type,X.flags=0,X.subtreeFlags=0,X.deletions=null),X.flags=I.flags&65011712,X.childLanes=I.childLanes,X.lanes=I.lanes,X.child=I.child,X.memoizedProps=I.memoizedProps,X.memoizedState=I.memoizedState,X.updateQueue=I.updateQueue,z=I.dependencies,X.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext},X.sibling=I.sibling,X.index=I.index,X.ref=I.ref,X.refCleanup=I.refCleanup,X}function wd(I,z){I.flags&=65011714;var X=I.alternate;return X===null?(I.childLanes=0,I.lanes=z,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=X.childLanes,I.lanes=X.lanes,I.child=X.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=X.memoizedProps,I.memoizedState=X.memoizedState,I.updateQueue=X.updateQueue,I.type=X.type,z=X.dependencies,I.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),I}function Il(I,z,X,oe,je,Ve){var Xe=0;if(oe=I,typeof I=="function")$c(I)&&(Xe=1);else if(typeof I=="string")Xe=Fm(I,X,St.current)?26:I==="html"||I==="head"||I==="body"?27:5;else e:switch(I){case Qe:return I=Ni(31,X,z,je),I.elementType=Qe,I.lanes=Ve,I;case pe:return ka(X.children,je,Ve,z);case $e:Xe=8,je|=24;break;case Ne:return I=Ni(12,X,z,je|2),I.elementType=Ne,I.lanes=Ve,I;case Le:return I=Ni(13,X,z,je),I.elementType=Le,I.lanes=Ve,I;case Ue:return I=Ni(19,X,z,je),I.elementType=Ue,I.lanes=Ve,I;default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case _e:Xe=10;break e;case Be:Xe=9;break e;case xe:Xe=11;break e;case He:Xe=14;break e;case qe:Xe=16,oe=null;break e}Xe=29,X=Error(b(130,I===null?"null":typeof I,"")),oe=null}return z=Ni(Xe,X,z,je),z.elementType=I,z.type=oe,z.lanes=Ve,z}function ka(I,z,X,oe){return I=Ni(7,I,oe,z),I.lanes=X,I}function Lc(I,z,X){return I=Ni(6,I,null,z),I.lanes=X,I}function _d(I){var z=Ni(18,null,null,0);return z.stateNode=I,z}function Bc(I,z,X){return z=Ni(4,I.children!==null?I.children:[],I.key,z),z.lanes=X,z.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},z}var Cd=new WeakMap;function Hi(I,z){if(typeof I=="object"&&I!==null){var X=Cd.get(I);return X!==void 0?X:(z={value:I,source:z,stack:_n(z)},Cd.set(I,z),z)}return{value:I,source:z,stack:_n(z)}}var Ja=[],eo=0,kl=null,Oo=0,Vi=[],Ui=0,Zs=null,hs=1,fs="";function Rs(I,z){Ja[eo++]=Oo,Ja[eo++]=kl,kl=I,Oo=z}function Rd(I,z,X){Vi[Ui++]=hs,Vi[Ui++]=fs,Vi[Ui++]=Zs,Zs=I;var oe=hs;I=fs;var je=32-Sn(oe)-1;oe&=~(1<<je),X+=1;var Ve=32-Sn(z)+je;if(30<Ve){var Xe=je-je%5;Ve=(oe&(1<<Xe)-1).toString(32),oe>>=Xe,je-=Xe,hs=1<<32-Sn(z)+je|X<<je|oe,fs=Ve+I}else hs=1<<Ve|X<<je|oe,fs=I}function Fc(I){I.return!==null&&(Rs(I,1),Rd(I,1,0))}function zc(I){for(;I===kl;)kl=Ja[--eo],Ja[eo]=null,Oo=Ja[--eo],Ja[eo]=null;for(;I===Zs;)Zs=Vi[--Ui],Vi[Ui]=null,fs=Vi[--Ui],Vi[Ui]=null,hs=Vi[--Ui],Vi[Ui]=null}function Td(I,z){Vi[Ui++]=hs,Vi[Ui++]=fs,Vi[Ui++]=Zs,hs=z.id,fs=z.overflow,Zs=I}var ri=null,_r=null,Zn=!1,Js=null,Gi=!1,Hc=Error(b(519));function ea(I){var z=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Hi(z,I)),Hc}function Ad(I){var z=I.stateNode,X=I.type,oe=I.memoizedProps;switch(z[Zt]=I,z[Xt]=oe,X){case"dialog":Un("cancel",z),Un("close",z);break;case"iframe":case"object":case"embed":Un("load",z);break;case"video":case"audio":for(X=0;X<il.length;X++)Un(il[X],z);break;case"source":Un("error",z);break;case"img":case"image":case"link":Un("error",z),Un("load",z);break;case"details":Un("toggle",z);break;case"input":Un("invalid",z),Tt(z,oe.value,oe.defaultValue,oe.checked,oe.defaultChecked,oe.type,oe.name,!0);break;case"select":Un("invalid",z);break;case"textarea":Un("invalid",z),li(z,oe.value,oe.defaultValue,oe.children)}X=oe.children,typeof X!="string"&&typeof X!="number"&&typeof X!="bigint"||z.textContent===""+X||oe.suppressHydrationWarning===!0||qf(z.textContent,X)?(oe.popover!=null&&(Un("beforetoggle",z),Un("toggle",z)),oe.onScroll!=null&&Un("scroll",z),oe.onScrollEnd!=null&&Un("scrollend",z),oe.onClick!=null&&(z.onclick=xi),z=!0):z=!1,z||ea(I,!0)}function Id(I){for(ri=I.return;ri;)switch(ri.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:ri=ri.return}}function to(I){if(I!==ri)return!1;if(!Zn)return Id(I),Zn=!0,!1;var z=I.tag,X;if((X=z!==3&&z!==27)&&((X=z===5)&&(X=I.type,X=!(X!=="form"&&X!=="button")||ad(I.type,I.memoizedProps)),X=!X),X&&_r&&ea(I),Id(I),z===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(b(317));_r=tp(I)}else if(z===31){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(b(317));_r=tp(I)}else z===27?(z=_r,ma(I.type)?(I=dd,dd=null,_r=I):_r=z):_r=ri?Wi(I.stateNode.nextSibling):null;return!0}function Na(){_r=ri=null,Zn=!1}function Vc(){var I=Js;return I!==null&&(wi===null?wi=I:wi.push.apply(wi,I),Js=null),I}function Po(I){Js===null?Js=[I]:Js.push(I)}var Uc=et(null),Ma=null,Ts=null;function na(I,z,X){Et(Uc,z._currentValue),z._currentValue=X}function As(I){I._currentValue=Uc.current,ft(Uc)}function Gc(I,z,X){for(;I!==null;){var oe=I.alternate;if((I.childLanes&z)!==z?(I.childLanes|=z,oe!==null&&(oe.childLanes|=z)):oe!==null&&(oe.childLanes&z)!==z&&(oe.childLanes|=z),I===X)break;I=I.return}}function qc(I,z,X,oe){var je=I.child;for(je!==null&&(je.return=I);je!==null;){var Ve=je.dependencies;if(Ve!==null){var Xe=je.child;Ve=Ve.firstContext;e:for(;Ve!==null;){var at=Ve;Ve=je;for(var gt=0;gt<z.length;gt++)if(at.context===z[gt]){Ve.lanes|=X,at=Ve.alternate,at!==null&&(at.lanes|=X),Gc(Ve.return,X,I),oe||(Xe=null);break e}Ve=at.next}}else if(je.tag===18){if(Xe=je.return,Xe===null)throw Error(b(341));Xe.lanes|=X,Ve=Xe.alternate,Ve!==null&&(Ve.lanes|=X),Gc(Xe,X,I),Xe=null}else Xe=je.child;if(Xe!==null)Xe.return=je;else for(Xe=je;Xe!==null;){if(Xe===I){Xe=null;break}if(je=Xe.sibling,je!==null){je.return=Xe.return,Xe=je;break}Xe=Xe.return}je=Xe}}function no(I,z,X,oe){I=null;for(var je=z,Ve=!1;je!==null;){if(!Ve){if((je.flags&524288)!==0)Ve=!0;else if((je.flags&262144)!==0)break}if(je.tag===10){var Xe=je.alternate;if(Xe===null)throw Error(b(387));if(Xe=Xe.memoizedProps,Xe!==null){var at=je.type;fe(je.pendingProps.value,Xe.value)||(I!==null?I.push(at):I=[at])}}else if(je===Yt.current){if(Xe=je.alternate,Xe===null)throw Error(b(387));Xe.memoizedState.memoizedState!==je.memoizedState.memoizedState&&(I!==null?I.push(cl):I=[cl])}je=je.return}I!==null&&qc(z,I,X,oe),z.flags|=262144}function Ml(I){for(I=I.firstContext;I!==null;){if(!fe(I.context._currentValue,I.memoizedValue))return!0;I=I.next}return!1}function Da(I){Ma=I,Ts=null,I=I.dependencies,I!==null&&(I.firstContext=null)}function ii(I){return kd(Ma,I)}function Dl(I,z){return Ma===null&&Da(I),kd(I,z)}function kd(I,z){var X=z._currentValue;if(z={context:z,memoizedValue:X,next:null},Ts===null){if(I===null)throw Error(b(308));Ts=z,I.dependencies={lanes:0,firstContext:z},I.flags|=524288}else Ts=Ts.next=z;return X}var jp=typeof AbortController<"u"?AbortController:function(){var I=[],z=this.signal={aborted:!1,addEventListener:function(X,oe){I.push(oe)}};this.abort=function(){z.aborted=!0,I.forEach(function(X){return X()})}},Op=r.unstable_scheduleCallback,Pp=r.unstable_NormalPriority,Vr={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new jp,data:new Map,refCount:0}}function $o(I){I.refCount--,I.refCount===0&&Op(Pp,function(){I.controller.abort()})}var Lo=null,Yc=0,ro=0,io=null;function $p(I,z){if(Lo===null){var X=Lo=[];Yc=0,ro=Qu(),io={status:"pending",value:void 0,then:function(oe){X.push(oe)}}}return Yc++,z.then(Nd,Nd),z}function Nd(){if(--Yc===0&&Lo!==null){io!==null&&(io.status="fulfilled");var I=Lo;Lo=null,ro=0,io=null;for(var z=0;z<I.length;z++)(0,I[z])()}}function Lp(I,z){var X=[],oe={status:"pending",value:null,reason:null,then:function(je){X.push(je)}};return I.then(function(){oe.status="fulfilled",oe.value=z;for(var je=0;je<X.length;je++)(0,X[je])(z)},function(je){for(oe.status="rejected",oe.reason=je,je=0;je<X.length;je++)(0,X[je])(void 0)}),oe}var Md=Ke.S;Ke.S=function(I,z){gf=Ht(),typeof z=="object"&&z!==null&&typeof z.then=="function"&&$p(I,z),Md!==null&&Md(I,z)};var ja=et(null);function Kc(){var I=ja.current;return I!==null?I:vr.pooledCache}function jl(I,z){z===null?Et(ja,ja.current):Et(ja,z.pool)}function Dd(){var I=Kc();return I===null?null:{parent:Vr._currentValue,pool:I}}var so=Error(b(460)),Xc=Error(b(474)),Ol=Error(b(542)),Pl={then:function(){}};function jd(I){return I=I.status,I==="fulfilled"||I==="rejected"}function Od(I,z,X){switch(X=I[X],X===void 0?I.push(z):X!==z&&(z.then(xi,xi),z=X),z.status){case"fulfilled":return z.value;case"rejected":throw I=z.reason,$d(I),I;default:if(typeof z.status=="string")z.then(xi,xi);else{if(I=vr,I!==null&&100<I.shellSuspendCounter)throw Error(b(482));I=z,I.status="pending",I.then(function(oe){if(z.status==="pending"){var je=z;je.status="fulfilled",je.value=oe}},function(oe){if(z.status==="pending"){var je=z;je.status="rejected",je.reason=oe}})}switch(z.status){case"fulfilled":return z.value;case"rejected":throw I=z.reason,$d(I),I}throw Pa=z,so}}function Oa(I){try{var z=I._init;return z(I._payload)}catch(X){throw X!==null&&typeof X=="object"&&typeof X.then=="function"?(Pa=X,so):X}}var Pa=null;function Pd(){if(Pa===null)throw Error(b(459));var I=Pa;return Pa=null,I}function $d(I){if(I===so||I===Ol)throw Error(b(483))}var ao=null,Bo=0;function $l(I){var z=Bo;return Bo+=1,ao===null&&(ao=[]),Od(ao,I,z)}function Fo(I,z){z=z.props.ref,I.ref=z!==void 0?z:null}function Ll(I,z){throw z.$$typeof===te?Error(b(525)):(I=Object.prototype.toString.call(z),Error(b(31,I==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":I)))}function Ld(I){function z(_t,bt){if(I){var At=_t.deletions;At===null?(_t.deletions=[bt],_t.flags|=16):At.push(bt)}}function X(_t,bt){if(!I)return null;for(;bt!==null;)z(_t,bt),bt=bt.sibling;return null}function oe(_t){for(var bt=new Map;_t!==null;)_t.key!==null?bt.set(_t.key,_t):bt.set(_t.index,_t),_t=_t.sibling;return bt}function je(_t,bt){return _t=Cs(_t,bt),_t.index=0,_t.sibling=null,_t}function Ve(_t,bt,At){return _t.index=At,I?(At=_t.alternate,At!==null?(At=At.index,At<bt?(_t.flags|=67108866,bt):At):(_t.flags|=67108866,bt)):(_t.flags|=1048576,bt)}function Xe(_t){return I&&_t.alternate===null&&(_t.flags|=67108866),_t}function at(_t,bt,At,$t){return bt===null||bt.tag!==6?(bt=Lc(At,_t.mode,$t),bt.return=_t,bt):(bt=je(bt,At),bt.return=_t,bt)}function gt(_t,bt,At,$t){var fn=At.type;return fn===pe?Pt(_t,bt,At.props.children,$t,At.key):bt!==null&&(bt.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===qe&&Oa(fn)===bt.type)?(bt=je(bt,At.props),Fo(bt,At),bt.return=_t,bt):(bt=Il(At.type,At.key,At.props,null,_t.mode,$t),Fo(bt,At),bt.return=_t,bt)}function It(_t,bt,At,$t){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==At.containerInfo||bt.stateNode.implementation!==At.implementation?(bt=Bc(At,_t.mode,$t),bt.return=_t,bt):(bt=je(bt,At.children||[]),bt.return=_t,bt)}function Pt(_t,bt,At,$t,fn){return bt===null||bt.tag!==7?(bt=ka(At,_t.mode,$t,fn),bt.return=_t,bt):(bt=je(bt,At),bt.return=_t,bt)}function Lt(_t,bt,At){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Lc(""+bt,_t.mode,At),bt.return=_t,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ae:return At=Il(bt.type,bt.key,bt.props,null,_t.mode,At),Fo(At,bt),At.return=_t,At;case ue:return bt=Bc(bt,_t.mode,At),bt.return=_t,bt;case qe:return bt=Oa(bt),Lt(_t,bt,At)}if(it(bt)||ot(bt))return bt=ka(bt,_t.mode,At,null),bt.return=_t,bt;if(typeof bt.then=="function")return Lt(_t,$l(bt),At);if(bt.$$typeof===_e)return Lt(_t,Dl(_t,bt),At);Ll(_t,bt)}return null}function kt(_t,bt,At,$t){var fn=bt!==null?bt.key:null;if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return fn!==null?null:at(_t,bt,""+At,$t);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case ae:return At.key===fn?gt(_t,bt,At,$t):null;case ue:return At.key===fn?It(_t,bt,At,$t):null;case qe:return At=Oa(At),kt(_t,bt,At,$t)}if(it(At)||ot(At))return fn!==null?null:Pt(_t,bt,At,$t,null);if(typeof At.then=="function")return kt(_t,bt,$l(At),$t);if(At.$$typeof===_e)return kt(_t,bt,Dl(_t,At),$t);Ll(_t,At)}return null}function jt(_t,bt,At,$t,fn){if(typeof $t=="string"&&$t!==""||typeof $t=="number"||typeof $t=="bigint")return _t=_t.get(At)||null,at(bt,_t,""+$t,fn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case ae:return _t=_t.get($t.key===null?At:$t.key)||null,gt(bt,_t,$t,fn);case ue:return _t=_t.get($t.key===null?At:$t.key)||null,It(bt,_t,$t,fn);case qe:return $t=Oa($t),jt(_t,bt,At,$t,fn)}if(it($t)||ot($t))return _t=_t.get(At)||null,Pt(bt,_t,$t,fn,null);if(typeof $t.then=="function")return jt(_t,bt,At,$l($t),fn);if($t.$$typeof===_e)return jt(_t,bt,At,Dl(bt,$t),fn);Ll(bt,$t)}return null}function an(_t,bt,At,$t){for(var fn=null,er=null,un=bt,Mn=bt=0,Yn=null;un!==null&&Mn<At.length;Mn++){un.index>Mn?(Yn=un,un=null):Yn=un.sibling;var nr=kt(_t,un,At[Mn],$t);if(nr===null){un===null&&(un=Yn);break}I&&un&&nr.alternate===null&&z(_t,un),bt=Ve(nr,bt,Mn),er===null?fn=nr:er.sibling=nr,er=nr,un=Yn}if(Mn===At.length)return X(_t,un),Zn&&Rs(_t,Mn),fn;if(un===null){for(;Mn<At.length;Mn++)un=Lt(_t,At[Mn],$t),un!==null&&(bt=Ve(un,bt,Mn),er===null?fn=un:er.sibling=un,er=un);return Zn&&Rs(_t,Mn),fn}for(un=oe(un);Mn<At.length;Mn++)Yn=jt(un,_t,Mn,At[Mn],$t),Yn!==null&&(I&&Yn.alternate!==null&&un.delete(Yn.key===null?Mn:Yn.key),bt=Ve(Yn,bt,Mn),er===null?fn=Yn:er.sibling=Yn,er=Yn);return I&&un.forEach(function(Ea){return z(_t,Ea)}),Zn&&Rs(_t,Mn),fn}function En(_t,bt,At,$t){if(At==null)throw Error(b(151));for(var fn=null,er=null,un=bt,Mn=bt=0,Yn=null,nr=At.next();un!==null&&!nr.done;Mn++,nr=At.next()){un.index>Mn?(Yn=un,un=null):Yn=un.sibling;var Ea=kt(_t,un,nr.value,$t);if(Ea===null){un===null&&(un=Yn);break}I&&un&&Ea.alternate===null&&z(_t,un),bt=Ve(Ea,bt,Mn),er===null?fn=Ea:er.sibling=Ea,er=Ea,un=Yn}if(nr.done)return X(_t,un),Zn&&Rs(_t,Mn),fn;if(un===null){for(;!nr.done;Mn++,nr=At.next())nr=Lt(_t,nr.value,$t),nr!==null&&(bt=Ve(nr,bt,Mn),er===null?fn=nr:er.sibling=nr,er=nr);return Zn&&Rs(_t,Mn),fn}for(un=oe(un);!nr.done;Mn++,nr=At.next())nr=jt(un,_t,Mn,nr.value,$t),nr!==null&&(I&&nr.alternate!==null&&un.delete(nr.key===null?Mn:nr.key),bt=Ve(nr,bt,Mn),er===null?fn=nr:er.sibling=nr,er=nr);return I&&un.forEach(function(Qm){return z(_t,Qm)}),Zn&&Rs(_t,Mn),fn}function mr(_t,bt,At,$t){if(typeof At=="object"&&At!==null&&At.type===pe&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case ae:e:{for(var fn=At.key;bt!==null;){if(bt.key===fn){if(fn=At.type,fn===pe){if(bt.tag===7){X(_t,bt.sibling),$t=je(bt,At.props.children),$t.return=_t,_t=$t;break e}}else if(bt.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===qe&&Oa(fn)===bt.type){X(_t,bt.sibling),$t=je(bt,At.props),Fo($t,At),$t.return=_t,_t=$t;break e}X(_t,bt);break}else z(_t,bt);bt=bt.sibling}At.type===pe?($t=ka(At.props.children,_t.mode,$t,At.key),$t.return=_t,_t=$t):($t=Il(At.type,At.key,At.props,null,_t.mode,$t),Fo($t,At),$t.return=_t,_t=$t)}return Xe(_t);case ue:e:{for(fn=At.key;bt!==null;){if(bt.key===fn)if(bt.tag===4&&bt.stateNode.containerInfo===At.containerInfo&&bt.stateNode.implementation===At.implementation){X(_t,bt.sibling),$t=je(bt,At.children||[]),$t.return=_t,_t=$t;break e}else{X(_t,bt);break}else z(_t,bt);bt=bt.sibling}$t=Bc(At,_t.mode,$t),$t.return=_t,_t=$t}return Xe(_t);case qe:return At=Oa(At),mr(_t,bt,At,$t)}if(it(At))return an(_t,bt,At,$t);if(ot(At)){if(fn=ot(At),typeof fn!="function")throw Error(b(150));return At=fn.call(At),En(_t,bt,At,$t)}if(typeof At.then=="function")return mr(_t,bt,$l(At),$t);if(At.$$typeof===_e)return mr(_t,bt,Dl(_t,At),$t);Ll(_t,At)}return typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint"?(At=""+At,bt!==null&&bt.tag===6?(X(_t,bt.sibling),$t=je(bt,At),$t.return=_t,_t=$t):(X(_t,bt),$t=Lc(At,_t.mode,$t),$t.return=_t,_t=$t),Xe(_t)):X(_t,bt)}return function(_t,bt,At,$t){try{Bo=0;var fn=mr(_t,bt,At,$t);return ao=null,fn}catch(un){if(un===so||un===Ol)throw un;var er=Ni(29,un,null,_t.mode);return er.lanes=$t,er.return=_t,er}finally{}}}var $a=Ld(!0),Bd=Ld(!1),ra=!1;function Qc(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(I,z){I=I.updateQueue,z.updateQueue===I&&(z.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,callbacks:null})}function ia(I){return{lane:I,tag:0,payload:null,callback:null,next:null}}function sa(I,z,X){var oe=I.updateQueue;if(oe===null)return null;if(oe=oe.shared,(ar&2)!==0){var je=oe.pending;return je===null?z.next=z:(z.next=je.next,je.next=z),oe.pending=z,z=Al(I),Sd(I,null,X),z}return Tl(I,oe,z,X),Al(I)}function zo(I,z,X){if(z=z.updateQueue,z!==null&&(z=z.shared,(X&4194048)!==0)){var oe=z.lanes;oe&=I.pendingLanes,X|=oe,z.lanes=X,wt(I,X)}}function Jc(I,z){var X=I.updateQueue,oe=I.alternate;if(oe!==null&&(oe=oe.updateQueue,X===oe)){var je=null,Ve=null;if(X=X.firstBaseUpdate,X!==null){do{var Xe={lane:X.lane,tag:X.tag,payload:X.payload,callback:null,next:null};Ve===null?je=Ve=Xe:Ve=Ve.next=Xe,X=X.next}while(X!==null);Ve===null?je=Ve=z:Ve=Ve.next=z}else je=Ve=z;X={baseState:oe.baseState,firstBaseUpdate:je,lastBaseUpdate:Ve,shared:oe.shared,callbacks:oe.callbacks},I.updateQueue=X;return}I=X.lastBaseUpdate,I===null?X.firstBaseUpdate=z:I.next=z,X.lastBaseUpdate=z}var eu=!1;function Ho(){if(eu){var I=io;if(I!==null)throw I}}function Vo(I,z,X,oe){eu=!1;var je=I.updateQueue;ra=!1;var Ve=je.firstBaseUpdate,Xe=je.lastBaseUpdate,at=je.shared.pending;if(at!==null){je.shared.pending=null;var gt=at,It=gt.next;gt.next=null,Xe===null?Ve=It:Xe.next=It,Xe=gt;var Pt=I.alternate;Pt!==null&&(Pt=Pt.updateQueue,at=Pt.lastBaseUpdate,at!==Xe&&(at===null?Pt.firstBaseUpdate=It:at.next=It,Pt.lastBaseUpdate=gt))}if(Ve!==null){var Lt=je.baseState;Xe=0,Pt=It=gt=null,at=Ve;do{var kt=at.lane&-536870913,jt=kt!==at.lane;if(jt?(Wn&kt)===kt:(oe&kt)===kt){kt!==0&&kt===ro&&(eu=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:at.tag,payload:at.payload,callback:null,next:null});e:{var an=I,En=at;kt=z;var mr=X;switch(En.tag){case 1:if(an=En.payload,typeof an=="function"){Lt=an.call(mr,Lt,kt);break e}Lt=an;break e;case 3:an.flags=an.flags&-65537|128;case 0:if(an=En.payload,kt=typeof an=="function"?an.call(mr,Lt,kt):an,kt==null)break e;Lt=J({},Lt,kt);break e;case 2:ra=!0}}kt=at.callback,kt!==null&&(I.flags|=64,jt&&(I.flags|=8192),jt=je.callbacks,jt===null?je.callbacks=[kt]:jt.push(kt))}else jt={lane:kt,tag:at.tag,payload:at.payload,callback:at.callback,next:null},Pt===null?(It=Pt=jt,gt=Lt):Pt=Pt.next=jt,Xe|=kt;if(at=at.next,at===null){if(at=je.shared.pending,at===null)break;jt=at,at=jt.next,jt.next=null,je.lastBaseUpdate=jt,je.shared.pending=null}}while(!0);Pt===null&&(gt=Lt),je.baseState=gt,je.firstBaseUpdate=It,je.lastBaseUpdate=Pt,Ve===null&&(je.shared.lanes=0),ua|=Xe,I.lanes=Xe,I.memoizedState=Lt}}function Fd(I,z){if(typeof I!="function")throw Error(b(191,I));I.call(z)}function zd(I,z){var X=I.callbacks;if(X!==null)for(I.callbacks=null,I=0;I<X.length;I++)Fd(X[I],z)}var oo=et(null),Bl=et(0);function Hd(I,z){I=$s,Et(Bl,I),Et(oo,z),$s=I|z.baseLanes}function tu(){Et(Bl,$s),Et(oo,oo.current)}function nu(){$s=Bl.current,ft(oo),ft(Bl)}var Mi=et(null),qi=null;function aa(I){var z=I.alternate;Et(Lr,Lr.current&1),Et(Mi,I),qi===null&&(z===null||oo.current!==null||z.memoizedState!==null)&&(qi=I)}function ru(I){Et(Lr,Lr.current),Et(Mi,I),qi===null&&(qi=I)}function Vd(I){I.tag===22?(Et(Lr,Lr.current),Et(Mi,I),qi===null&&(qi=I)):oa()}function oa(){Et(Lr,Lr.current),Et(Mi,Mi.current)}function Di(I){ft(Mi),qi===I&&(qi=null),ft(Lr)}var Lr=et(0);function Fl(I){for(var z=I;z!==null;){if(z.tag===13){var X=z.memoizedState;if(X!==null&&(X=X.dehydrated,X===null||cd(X)||ud(X)))return z}else if(z.tag===19&&(z.memoizedProps.revealOrder==="forwards"||z.memoizedProps.revealOrder==="backwards"||z.memoizedProps.revealOrder==="unstable_legacy-backwards"||z.memoizedProps.revealOrder==="together")){if((z.flags&128)!==0)return z}else if(z.child!==null){z.child.return=z,z=z.child;continue}if(z===I)break;for(;z.sibling===null;){if(z.return===null||z.return===I)return null;z=z.return}z.sibling.return=z.return,z=z.sibling}return null}var Is=0,kn=null,hr=null,Ur=null,zl=!1,lo=!1,La=!1,Hl=0,Uo=0,co=null,Bp=0;function jr(){throw Error(b(321))}function iu(I,z){if(z===null)return!1;for(var X=0;X<z.length&&X<I.length;X++)if(!fe(I[X],z[X]))return!1;return!0}function su(I,z,X,oe,je,Ve){return Is=Ve,kn=z,z.memoizedState=null,z.updateQueue=null,z.lanes=0,Ke.H=I===null||I.memoizedState===null?Rh:Eu,La=!1,Ve=X(oe,je),La=!1,lo&&(Ve=Gd(z,X,oe,je)),Ud(I),Ve}function Ud(I){Ke.H=Wo;var z=hr!==null&&hr.next!==null;if(Is=0,Ur=hr=kn=null,zl=!1,Uo=0,co=null,z)throw Error(b(300));I===null||Gr||(I=I.dependencies,I!==null&&Ml(I)&&(Gr=!0))}function Gd(I,z,X,oe){kn=I;var je=0;do{if(lo&&(co=null),Uo=0,lo=!1,25<=je)throw Error(b(301));if(je+=1,Ur=hr=null,I.updateQueue!=null){var Ve=I.updateQueue;Ve.lastEffect=null,Ve.events=null,Ve.stores=null,Ve.memoCache!=null&&(Ve.memoCache.index=0)}Ke.H=Th,Ve=z(X,oe)}while(lo);return Ve}function Fp(){var I=Ke.H,z=I.useState()[0];return z=typeof z.then=="function"?Go(z):z,I=I.useState()[0],(hr!==null?hr.memoizedState:null)!==I&&(kn.flags|=1024),z}function au(){var I=Hl!==0;return Hl=0,I}function ou(I,z,X){z.updateQueue=I.updateQueue,z.flags&=-2053,I.lanes&=~X}function lu(I){if(zl){for(I=I.memoizedState;I!==null;){var z=I.queue;z!==null&&(z.pending=null),I=I.next}zl=!1}Is=0,Ur=hr=kn=null,lo=!1,Uo=Hl=0,co=null}function di(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?kn.memoizedState=Ur=I:Ur=Ur.next=I,Ur}function Br(){if(hr===null){var I=kn.alternate;I=I!==null?I.memoizedState:null}else I=hr.next;var z=Ur===null?kn.memoizedState:Ur.next;if(z!==null)Ur=z,hr=I;else{if(I===null)throw kn.alternate===null?Error(b(467)):Error(b(310));hr=I,I={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Ur===null?kn.memoizedState=Ur=I:Ur=Ur.next=I}return Ur}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(I){var z=Uo;return Uo+=1,co===null&&(co=[]),I=Od(co,I,z),z=kn,(Ur===null?z.memoizedState:Ur.next)===null&&(z=z.alternate,Ke.H=z===null||z.memoizedState===null?Rh:Eu),I}function Ul(I){if(I!==null&&typeof I=="object"){if(typeof I.then=="function")return Go(I);if(I.$$typeof===_e)return ii(I)}throw Error(b(438,String(I)))}function cu(I){var z=null,X=kn.updateQueue;if(X!==null&&(z=X.memoCache),z==null){var oe=kn.alternate;oe!==null&&(oe=oe.updateQueue,oe!==null&&(oe=oe.memoCache,oe!=null&&(z={data:oe.data.map(function(je){return je.slice()}),index:0})))}if(z==null&&(z={data:[],index:0}),X===null&&(X=Vl(),kn.updateQueue=X),X.memoCache=z,X=z.data[z.index],X===void 0)for(X=z.data[z.index]=Array(I),oe=0;oe<I;oe++)X[oe]=lt;return z.index++,X}function ks(I,z){return typeof z=="function"?z(I):z}function Gl(I){var z=Br();return uu(z,hr,I)}function uu(I,z,X){var oe=I.queue;if(oe===null)throw Error(b(311));oe.lastRenderedReducer=X;var je=I.baseQueue,Ve=oe.pending;if(Ve!==null){if(je!==null){var Xe=je.next;je.next=Ve.next,Ve.next=Xe}z.baseQueue=je=Ve,oe.pending=null}if(Ve=I.baseState,je===null)I.memoizedState=Ve;else{z=je.next;var at=Xe=null,gt=null,It=z,Pt=!1;do{var Lt=It.lane&-536870913;if(Lt!==It.lane?(Wn&Lt)===Lt:(Is&Lt)===Lt){var kt=It.revertLane;if(kt===0)gt!==null&&(gt=gt.next={lane:0,revertLane:0,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),Lt===ro&&(Pt=!0);else if((Is&kt)===kt){It=It.next,kt===ro&&(Pt=!0);continue}else Lt={lane:0,revertLane:It.revertLane,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},gt===null?(at=gt=Lt,Xe=Ve):gt=gt.next=Lt,kn.lanes|=kt,ua|=kt;Lt=It.action,La&&X(Ve,Lt),Ve=It.hasEagerState?It.eagerState:X(Ve,Lt)}else kt={lane:Lt,revertLane:It.revertLane,gesture:It.gesture,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},gt===null?(at=gt=kt,Xe=Ve):gt=gt.next=kt,kn.lanes|=Lt,ua|=Lt;It=It.next}while(It!==null&&It!==z);if(gt===null?Xe=Ve:gt.next=at,!fe(Ve,I.memoizedState)&&(Gr=!0,Pt&&(X=io,X!==null)))throw X;I.memoizedState=Ve,I.baseState=Xe,I.baseQueue=gt,oe.lastRenderedState=Ve}return je===null&&(oe.lanes=0),[I.memoizedState,oe.dispatch]}function du(I){var z=Br(),X=z.queue;if(X===null)throw Error(b(311));X.lastRenderedReducer=I;var oe=X.dispatch,je=X.pending,Ve=z.memoizedState;if(je!==null){X.pending=null;var Xe=je=je.next;do Ve=I(Ve,Xe.action),Xe=Xe.next;while(Xe!==je);fe(Ve,z.memoizedState)||(Gr=!0),z.memoizedState=Ve,z.baseQueue===null&&(z.baseState=Ve),X.lastRenderedState=Ve}return[Ve,oe]}function qd(I,z,X){var oe=kn,je=Br(),Ve=Zn;if(Ve){if(X===void 0)throw Error(b(407));X=X()}else X=z();var Xe=!fe((hr||je).memoizedState,X);if(Xe&&(je.memoizedState=X,Gr=!0),je=je.queue,pu(Kd.bind(null,oe,je,I),[I]),je.getSnapshot!==z||Xe||Ur!==null&&Ur.memoizedState.tag&1){if(oe.flags|=2048,uo(9,{destroy:void 0},Yd.bind(null,oe,je,X,z),null),vr===null)throw Error(b(349));Ve||(Is&127)!==0||Wd(oe,z,X)}return X}function Wd(I,z,X){I.flags|=16384,I={getSnapshot:z,value:X},z=kn.updateQueue,z===null?(z=Vl(),kn.updateQueue=z,z.stores=[I]):(X=z.stores,X===null?z.stores=[I]:X.push(I))}function Yd(I,z,X,oe){z.value=X,z.getSnapshot=oe,Xd(z)&&Qd(I)}function Kd(I,z,X){return X(function(){Xd(z)&&Qd(I)})}function Xd(I){var z=I.getSnapshot;I=I.value;try{var X=z();return!fe(I,X)}catch{return!0}}function Qd(I){var z=Ia(I,2);z!==null&&_i(z,I,2)}function hu(I){var z=di();if(typeof I=="function"){var X=I;if(I=X(),La){Xn(!0);try{X()}finally{Xn(!1)}}}return z.memoizedState=z.baseState=I,z.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:I},z}function Zd(I,z,X,oe){return I.baseState=X,uu(I,hr,typeof oe=="function"?oe:ks)}function zp(I,z,X,oe,je){if(Yl(I))throw Error(b(485));if(I=z.action,I!==null){var Ve={payload:je,action:I,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Xe){Ve.listeners.push(Xe)}};Ke.T!==null?X(!0):Ve.isTransition=!1,oe(Ve),X=z.pending,X===null?(Ve.next=z.pending=Ve,Jd(z,Ve)):(Ve.next=X.next,z.pending=X.next=Ve)}}function Jd(I,z){var X=z.action,oe=z.payload,je=I.state;if(z.isTransition){var Ve=Ke.T,Xe={};Ke.T=Xe;try{var at=X(je,oe),gt=Ke.S;gt!==null&&gt(Xe,at),eh(I,z,at)}catch(It){fu(I,z,It)}finally{Ve!==null&&Xe.types!==null&&(Ve.types=Xe.types),Ke.T=Ve}}else try{Ve=X(je,oe),eh(I,z,Ve)}catch(It){fu(I,z,It)}}function eh(I,z,X){X!==null&&typeof X=="object"&&typeof X.then=="function"?X.then(function(oe){th(I,z,oe)},function(oe){return fu(I,z,oe)}):th(I,z,X)}function th(I,z,X){z.status="fulfilled",z.value=X,nh(z),I.state=X,z=I.pending,z!==null&&(X=z.next,X===z?I.pending=null:(X=X.next,z.next=X,Jd(I,X)))}function fu(I,z,X){var oe=I.pending;if(I.pending=null,oe!==null){oe=oe.next;do z.status="rejected",z.reason=X,nh(z),z=z.next;while(z!==oe)}I.action=null}function nh(I){I=I.listeners;for(var z=0;z<I.length;z++)(0,I[z])()}function rh(I,z){return z}function ih(I,z){if(Zn){var X=vr.formState;if(X!==null){e:{var oe=kn;if(Zn){if(_r){t:{for(var je=_r,Ve=Gi;je.nodeType!==8;){if(!Ve){je=null;break t}if(je=Wi(je.nextSibling),je===null){je=null;break t}}Ve=je.data,je=Ve==="F!"||Ve==="F"?je:null}if(je){_r=Wi(je.nextSibling),oe=je.data==="F!";break e}}ea(oe)}oe=!1}oe&&(z=X[0])}}return X=di(),X.memoizedState=X.baseState=z,oe={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:z},X.queue=oe,X=wh.bind(null,kn,oe),oe.dispatch=X,oe=hu(!1),Ve=vu.bind(null,kn,!1,oe.queue),oe=di(),je={state:z,dispatch:null,action:I,pending:null},oe.queue=je,X=zp.bind(null,kn,je,Ve,X),je.dispatch=X,oe.memoizedState=I,[z,X,!1]}function sh(I){var z=Br();return ah(z,hr,I)}function ah(I,z,X){if(z=uu(I,z,rh)[0],I=Gl(ks)[0],typeof z=="object"&&z!==null&&typeof z.then=="function")try{var oe=Go(z)}catch(Xe){throw Xe===so?Ol:Xe}else oe=z;z=Br();var je=z.queue,Ve=je.dispatch;return X!==z.memoizedState&&(kn.flags|=2048,uo(9,{destroy:void 0},Hp.bind(null,je,X),null)),[oe,Ve,I]}function Hp(I,z){I.action=z}function oh(I){var z=Br(),X=hr;if(X!==null)return ah(z,X,I);Br(),z=z.memoizedState,X=Br();var oe=X.queue.dispatch;return X.memoizedState=I,[z,oe,!1]}function uo(I,z,X,oe){return I={tag:I,create:X,deps:oe,inst:z,next:null},z=kn.updateQueue,z===null&&(z=Vl(),kn.updateQueue=z),X=z.lastEffect,X===null?z.lastEffect=I.next=I:(oe=X.next,X.next=I,I.next=oe,z.lastEffect=I),I}function lh(){return Br().memoizedState}function ql(I,z,X,oe){var je=di();kn.flags|=I,je.memoizedState=uo(1|z,{destroy:void 0},X,oe===void 0?null:oe)}function Wl(I,z,X,oe){var je=Br();oe=oe===void 0?null:oe;var Ve=je.memoizedState.inst;hr!==null&&oe!==null&&iu(oe,hr.memoizedState.deps)?je.memoizedState=uo(z,Ve,X,oe):(kn.flags|=I,je.memoizedState=uo(1|z,Ve,X,oe))}function ch(I,z){ql(8390656,8,I,z)}function pu(I,z){Wl(2048,8,I,z)}function Vp(I){kn.flags|=4;var z=kn.updateQueue;if(z===null)z=Vl(),kn.updateQueue=z,z.events=[I];else{var X=z.events;X===null?z.events=[I]:X.push(I)}}function uh(I){var z=Br().memoizedState;return Vp({ref:z,nextImpl:I}),function(){if((ar&2)!==0)throw Error(b(440));return z.impl.apply(void 0,arguments)}}function dh(I,z){return Wl(4,2,I,z)}function hh(I,z){return Wl(4,4,I,z)}function fh(I,z){if(typeof z=="function"){I=I();var X=z(I);return function(){typeof X=="function"?X():z(null)}}if(z!=null)return I=I(),z.current=I,function(){z.current=null}}function ph(I,z,X){X=X!=null?X.concat([I]):null,Wl(4,4,fh.bind(null,z,I),X)}function mu(){}function mh(I,z){var X=Br();z=z===void 0?null:z;var oe=X.memoizedState;return z!==null&&iu(z,oe[1])?oe[0]:(X.memoizedState=[I,z],I)}function gh(I,z){var X=Br();z=z===void 0?null:z;var oe=X.memoizedState;if(z!==null&&iu(z,oe[1]))return oe[0];if(oe=I(),La){Xn(!0);try{I()}finally{Xn(!1)}}return X.memoizedState=[oe,z],oe}function gu(I,z,X){return X===void 0||(Is&1073741824)!==0&&(Wn&261930)===0?I.memoizedState=z:(I.memoizedState=X,I=yf(),kn.lanes|=I,ua|=I,X)}function xh(I,z,X,oe){return fe(X,z)?X:oo.current!==null?(I=gu(I,X,oe),fe(I,z)||(Gr=!0),I):(Is&42)===0||(Is&1073741824)!==0&&(Wn&261930)===0?(Gr=!0,I.memoizedState=X):(I=yf(),kn.lanes|=I,ua|=I,z)}function yh(I,z,X,oe,je){var Ve=Je.p;Je.p=Ve!==0&&8>Ve?Ve:8;var Xe=Ke.T,at={};Ke.T=at,vu(I,!1,z,X);try{var gt=je(),It=Ke.S;if(It!==null&&It(at,gt),gt!==null&&typeof gt=="object"&&typeof gt.then=="function"){var Pt=Lp(gt,oe);qo(I,z,Pt,Pi(I))}else qo(I,z,oe,Pi(I))}catch(Lt){qo(I,z,{then:function(){},status:"rejected",reason:Lt},Pi())}finally{Je.p=Ve,Xe!==null&&at.types!==null&&(Xe.types=at.types),Ke.T=Xe}}function Up(){}function xu(I,z,X,oe){if(I.tag!==5)throw Error(b(476));var je=vh(I).queue;yh(I,je,z,We,X===null?Up:function(){return Eh(I),X(oe)})}function vh(I){var z=I.memoizedState;if(z!==null)return z;z={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:We},next:null};var X={};return z.next={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:X},next:null},I.memoizedState=z,I=I.alternate,I!==null&&(I.memoizedState=z),z}function Eh(I){var z=vh(I);z.next===null&&(z=I.alternate.memoizedState),qo(I,z.next.queue,{},Pi())}function yu(){return ii(cl)}function bh(){return Br().memoizedState}function Sh(){return Br().memoizedState}function Gp(I){for(var z=I.return;z!==null;){switch(z.tag){case 24:case 3:var X=Pi();I=ia(X);var oe=sa(z,I,X);oe!==null&&(_i(oe,z,X),zo(oe,z,X)),z={cache:Wc()},I.payload=z;return}z=z.return}}function qp(I,z,X){var oe=Pi();X={lane:oe,revertLane:0,gesture:null,action:X,hasEagerState:!1,eagerState:null,next:null},Yl(I)?_h(z,X):(X=Pc(I,z,X,oe),X!==null&&(_i(X,I,oe),Ch(X,z,oe)))}function wh(I,z,X){var oe=Pi();qo(I,z,X,oe)}function qo(I,z,X,oe){var je={lane:oe,revertLane:0,gesture:null,action:X,hasEagerState:!1,eagerState:null,next:null};if(Yl(I))_h(z,je);else{var Ve=I.alternate;if(I.lanes===0&&(Ve===null||Ve.lanes===0)&&(Ve=z.lastRenderedReducer,Ve!==null))try{var Xe=z.lastRenderedState,at=Ve(Xe,X);if(je.hasEagerState=!0,je.eagerState=at,fe(at,Xe))return Tl(I,z,je,0),vr===null&&Rl(),!1}catch{}finally{}if(X=Pc(I,z,je,oe),X!==null)return _i(X,I,oe),Ch(X,z,oe),!0}return!1}function vu(I,z,X,oe){if(oe={lane:2,revertLane:Qu(),gesture:null,action:oe,hasEagerState:!1,eagerState:null,next:null},Yl(I)){if(z)throw Error(b(479))}else z=Pc(I,X,oe,2),z!==null&&_i(z,I,2)}function Yl(I){var z=I.alternate;return I===kn||z!==null&&z===kn}function _h(I,z){lo=zl=!0;var X=I.pending;X===null?z.next=z:(z.next=X.next,X.next=z),I.pending=z}function Ch(I,z,X){if((X&4194048)!==0){var oe=z.lanes;oe&=I.pendingLanes,X|=oe,z.lanes=X,wt(I,X)}}var Wo={readContext:ii,use:Ul,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};Wo.useEffectEvent=jr;var Rh={readContext:ii,use:Ul,useCallback:function(I,z){return di().memoizedState=[I,z===void 0?null:z],I},useContext:ii,useEffect:ch,useImperativeHandle:function(I,z,X){X=X!=null?X.concat([I]):null,ql(4194308,4,fh.bind(null,z,I),X)},useLayoutEffect:function(I,z){return ql(4194308,4,I,z)},useInsertionEffect:function(I,z){ql(4,2,I,z)},useMemo:function(I,z){var X=di();z=z===void 0?null:z;var oe=I();if(La){Xn(!0);try{I()}finally{Xn(!1)}}return X.memoizedState=[oe,z],oe},useReducer:function(I,z,X){var oe=di();if(X!==void 0){var je=X(z);if(La){Xn(!0);try{X(z)}finally{Xn(!1)}}}else je=z;return oe.memoizedState=oe.baseState=je,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:je},oe.queue=I,I=I.dispatch=qp.bind(null,kn,I),[oe.memoizedState,I]},useRef:function(I){var z=di();return I={current:I},z.memoizedState=I},useState:function(I){I=hu(I);var z=I.queue,X=wh.bind(null,kn,z);return z.dispatch=X,[I.memoizedState,X]},useDebugValue:mu,useDeferredValue:function(I,z){var X=di();return gu(X,I,z)},useTransition:function(){var I=hu(!1);return I=yh.bind(null,kn,I.queue,!0,!1),di().memoizedState=I,[!1,I]},useSyncExternalStore:function(I,z,X){var oe=kn,je=di();if(Zn){if(X===void 0)throw Error(b(407));X=X()}else{if(X=z(),vr===null)throw Error(b(349));(Wn&127)!==0||Wd(oe,z,X)}je.memoizedState=X;var Ve={value:X,getSnapshot:z};return je.queue=Ve,ch(Kd.bind(null,oe,Ve,I),[I]),oe.flags|=2048,uo(9,{destroy:void 0},Yd.bind(null,oe,Ve,X,z),null),X},useId:function(){var I=di(),z=vr.identifierPrefix;if(Zn){var X=fs,oe=hs;X=(oe&~(1<<32-Sn(oe)-1)).toString(32)+X,z="_"+z+"R_"+X,X=Hl++,0<X&&(z+="H"+X.toString(32)),z+="_"}else X=Bp++,z="_"+z+"r_"+X.toString(32)+"_";return I.memoizedState=z},useHostTransitionStatus:yu,useFormState:ih,useActionState:ih,useOptimistic:function(I){var z=di();z.memoizedState=z.baseState=I;var X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return z.queue=X,z=vu.bind(null,kn,!0,X),X.dispatch=z,[I,z]},useMemoCache:cu,useCacheRefresh:function(){return di().memoizedState=Gp.bind(null,kn)},useEffectEvent:function(I){var z=di(),X={impl:I};return z.memoizedState=X,function(){if((ar&2)!==0)throw Error(b(440));return X.impl.apply(void 0,arguments)}}},Eu={readContext:ii,use:Ul,useCallback:mh,useContext:ii,useEffect:pu,useImperativeHandle:ph,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:gh,useReducer:Gl,useRef:lh,useState:function(){return Gl(ks)},useDebugValue:mu,useDeferredValue:function(I,z){var X=Br();return xh(X,hr.memoizedState,I,z)},useTransition:function(){var I=Gl(ks)[0],z=Br().memoizedState;return[typeof I=="boolean"?I:Go(I),z]},useSyncExternalStore:qd,useId:bh,useHostTransitionStatus:yu,useFormState:sh,useActionState:sh,useOptimistic:function(I,z){var X=Br();return Zd(X,hr,I,z)},useMemoCache:cu,useCacheRefresh:Sh};Eu.useEffectEvent=uh;var Th={readContext:ii,use:Ul,useCallback:mh,useContext:ii,useEffect:pu,useImperativeHandle:ph,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:gh,useReducer:du,useRef:lh,useState:function(){return du(ks)},useDebugValue:mu,useDeferredValue:function(I,z){var X=Br();return hr===null?gu(X,I,z):xh(X,hr.memoizedState,I,z)},useTransition:function(){var I=du(ks)[0],z=Br().memoizedState;return[typeof I=="boolean"?I:Go(I),z]},useSyncExternalStore:qd,useId:bh,useHostTransitionStatus:yu,useFormState:oh,useActionState:oh,useOptimistic:function(I,z){var X=Br();return hr!==null?Zd(X,hr,I,z):(X.baseState=I,[I,X.queue.dispatch])},useMemoCache:cu,useCacheRefresh:Sh};Th.useEffectEvent=uh;function bu(I,z,X,oe){z=I.memoizedState,X=X(oe,z),X=X==null?z:J({},z,X),I.memoizedState=X,I.lanes===0&&(I.updateQueue.baseState=X)}var Su={enqueueSetState:function(I,z,X){I=I._reactInternals;var oe=Pi(),je=ia(oe);je.payload=z,X!=null&&(je.callback=X),z=sa(I,je,oe),z!==null&&(_i(z,I,oe),zo(z,I,oe))},enqueueReplaceState:function(I,z,X){I=I._reactInternals;var oe=Pi(),je=ia(oe);je.tag=1,je.payload=z,X!=null&&(je.callback=X),z=sa(I,je,oe),z!==null&&(_i(z,I,oe),zo(z,I,oe))},enqueueForceUpdate:function(I,z){I=I._reactInternals;var X=Pi(),oe=ia(X);oe.tag=2,z!=null&&(oe.callback=z),z=sa(I,oe,X),z!==null&&(_i(z,I,X),zo(z,I,X))}};function Ah(I,z,X,oe,je,Ve,Xe){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(oe,Ve,Xe):z.prototype&&z.prototype.isPureReactComponent?!ye(X,oe)||!ye(je,Ve):!0}function Ih(I,z,X,oe){I=z.state,typeof z.componentWillReceiveProps=="function"&&z.componentWillReceiveProps(X,oe),typeof z.UNSAFE_componentWillReceiveProps=="function"&&z.UNSAFE_componentWillReceiveProps(X,oe),z.state!==I&&Su.enqueueReplaceState(z,z.state,null)}function Ba(I,z){var X=z;if("ref"in z){X={};for(var oe in z)oe!=="ref"&&(X[oe]=z[oe])}if(I=I.defaultProps){X===z&&(X=J({},X));for(var je in I)X[je]===void 0&&(X[je]=I[je])}return X}function kh(I){Cl(I)}function Nh(I){console.error(I)}function Mh(I){Cl(I)}function Kl(I,z){try{var X=I.onUncaughtError;X(z.value,{componentStack:z.stack})}catch(oe){setTimeout(function(){throw oe})}}function Dh(I,z,X){try{var oe=I.onCaughtError;oe(X.value,{componentStack:X.stack,errorBoundary:z.tag===1?z.stateNode:null})}catch(je){setTimeout(function(){throw je})}}function wu(I,z,X){return X=ia(X),X.tag=3,X.payload={element:null},X.callback=function(){Kl(I,z)},X}function jh(I){return I=ia(I),I.tag=3,I}function Oh(I,z,X,oe){var je=X.type.getDerivedStateFromError;if(typeof je=="function"){var Ve=oe.value;I.payload=function(){return je(Ve)},I.callback=function(){Dh(z,X,oe)}}var Xe=X.stateNode;Xe!==null&&typeof Xe.componentDidCatch=="function"&&(I.callback=function(){Dh(z,X,oe),typeof je!="function"&&(da===null?da=new Set([this]):da.add(this));var at=oe.stack;this.componentDidCatch(oe.value,{componentStack:at!==null?at:""})})}function Wp(I,z,X,oe,je){if(X.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){if(z=X.alternate,z!==null&&no(z,X,je,!0),X=Mi.current,X!==null){switch(X.tag){case 31:case 13:return qi===null?oc():X.alternate===null&&Or===0&&(Or=3),X.flags&=-257,X.flags|=65536,X.lanes=je,oe===Pl?X.flags|=16384:(z=X.updateQueue,z===null?X.updateQueue=new Set([oe]):z.add(oe),Yu(I,oe,je)),!1;case 22:return X.flags|=65536,oe===Pl?X.flags|=16384:(z=X.updateQueue,z===null?(z={transitions:null,markerInstances:null,retryQueue:new Set([oe])},X.updateQueue=z):(X=z.retryQueue,X===null?z.retryQueue=new Set([oe]):X.add(oe)),Yu(I,oe,je)),!1}throw Error(b(435,X.tag))}return Yu(I,oe,je),oc(),!1}if(Zn)return z=Mi.current,z!==null?((z.flags&65536)===0&&(z.flags|=256),z.flags|=65536,z.lanes=je,oe!==Hc&&(I=Error(b(422),{cause:oe}),Po(Hi(I,X)))):(oe!==Hc&&(z=Error(b(423),{cause:oe}),Po(Hi(z,X))),I=I.current.alternate,I.flags|=65536,je&=-je,I.lanes|=je,oe=Hi(oe,X),je=wu(I.stateNode,oe,je),Jc(I,je),Or!==4&&(Or=2)),!1;var Ve=Error(b(520),{cause:oe});if(Ve=Hi(Ve,X),tl===null?tl=[Ve]:tl.push(Ve),Or!==4&&(Or=2),z===null)return!0;oe=Hi(oe,X),X=z;do{switch(X.tag){case 3:return X.flags|=65536,I=je&-je,X.lanes|=I,I=wu(X.stateNode,oe,I),Jc(X,I),!1;case 1:if(z=X.type,Ve=X.stateNode,(X.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(da===null||!da.has(Ve))))return X.flags|=65536,je&=-je,X.lanes|=je,je=jh(je),Oh(je,I,X,oe),Jc(X,je),!1}X=X.return}while(X!==null);return!1}var _u=Error(b(461)),Gr=!1;function si(I,z,X,oe){z.child=I===null?Bd(z,null,X,oe):$a(z,I.child,X,oe)}function Ph(I,z,X,oe,je){X=X.render;var Ve=z.ref;if("ref"in oe){var Xe={};for(var at in oe)at!=="ref"&&(Xe[at]=oe[at])}else Xe=oe;return Da(z),oe=su(I,z,X,Xe,Ve,je),at=au(),I!==null&&!Gr?(ou(I,z,je),Ns(I,z,je)):(Zn&&at&&Fc(z),z.flags|=1,si(I,z,oe,je),z.child)}function $h(I,z,X,oe,je){if(I===null){var Ve=X.type;return typeof Ve=="function"&&!$c(Ve)&&Ve.defaultProps===void 0&&X.compare===null?(z.tag=15,z.type=Ve,Lh(I,z,Ve,oe,je)):(I=Il(X.type,null,oe,z,z.mode,je),I.ref=z.ref,I.return=z,z.child=I)}if(Ve=I.child,!Mu(I,je)){var Xe=Ve.memoizedProps;if(X=X.compare,X=X!==null?X:ye,X(Xe,oe)&&I.ref===z.ref)return Ns(I,z,je)}return z.flags|=1,I=Cs(Ve,oe),I.ref=z.ref,I.return=z,z.child=I}function Lh(I,z,X,oe,je){if(I!==null){var Ve=I.memoizedProps;if(ye(Ve,oe)&&I.ref===z.ref)if(Gr=!1,z.pendingProps=oe=Ve,Mu(I,je))(I.flags&131072)!==0&&(Gr=!0);else return z.lanes=I.lanes,Ns(I,z,je)}return Cu(I,z,X,oe,je)}function Bh(I,z,X,oe){var je=oe.children,Ve=I!==null?I.memoizedState:null;if(I===null&&z.stateNode===null&&(z.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),oe.mode==="hidden"){if((z.flags&128)!==0){if(Ve=Ve!==null?Ve.baseLanes|X:X,I!==null){for(oe=z.child=I.child,je=0;oe!==null;)je=je|oe.lanes|oe.childLanes,oe=oe.sibling;oe=je&~Ve}else oe=0,z.child=null;return Fh(I,z,Ve,X,oe)}if((X&536870912)!==0)z.memoizedState={baseLanes:0,cachePool:null},I!==null&&jl(z,Ve!==null?Ve.cachePool:null),Ve!==null?Hd(z,Ve):tu(),Vd(z);else return oe=z.lanes=536870912,Fh(I,z,Ve!==null?Ve.baseLanes|X:X,X,oe)}else Ve!==null?(jl(z,Ve.cachePool),Hd(z,Ve),oa(),z.memoizedState=null):(I!==null&&jl(z,null),tu(),oa());return si(I,z,je,X),z.child}function Yo(I,z){return I!==null&&I.tag===22||z.stateNode!==null||(z.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),z.sibling}function Fh(I,z,X,oe,je){var Ve=Kc();return Ve=Ve===null?null:{parent:Vr._currentValue,pool:Ve},z.memoizedState={baseLanes:X,cachePool:Ve},I!==null&&jl(z,null),tu(),Vd(z),I!==null&&no(I,z,oe,!0),z.childLanes=je,null}function Xl(I,z){return z=Zl({mode:z.mode,children:z.children},I.mode),z.ref=I.ref,I.child=z,z.return=I,z}function zh(I,z,X){return $a(z,I.child,null,X),I=Xl(z,z.pendingProps),I.flags|=2,Di(z),z.memoizedState=null,I}function Yp(I,z,X){var oe=z.pendingProps,je=(z.flags&128)!==0;if(z.flags&=-129,I===null){if(Zn){if(oe.mode==="hidden")return I=Xl(z,oe),z.lanes=536870912,Yo(null,I);if(ru(z),(I=_r)?(I=ep(I,Gi),I=I!==null&&I.data==="&"?I:null,I!==null&&(z.memoizedState={dehydrated:I,treeContext:Zs!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},X=_d(I),X.return=z,z.child=X,ri=z,_r=null)):I=null,I===null)throw ea(z);return z.lanes=536870912,null}return Xl(z,oe)}var Ve=I.memoizedState;if(Ve!==null){var Xe=Ve.dehydrated;if(ru(z),je)if(z.flags&256)z.flags&=-257,z=zh(I,z,X);else if(z.memoizedState!==null)z.child=I.child,z.flags|=128,z=null;else throw Error(b(558));else if(Gr||no(I,z,X,!1),je=(X&I.childLanes)!==0,Gr||je){if(oe=vr,oe!==null&&(Xe=Nt(oe,X),Xe!==0&&Xe!==Ve.retryLane))throw Ve.retryLane=Xe,Ia(I,Xe),_i(oe,I,Xe),_u;oc(),z=zh(I,z,X)}else I=Ve.treeContext,_r=Wi(Xe.nextSibling),ri=z,Zn=!0,Js=null,Gi=!1,I!==null&&Td(z,I),z=Xl(z,oe),z.flags|=4096;return z}return I=Cs(I.child,{mode:oe.mode,children:oe.children}),I.ref=z.ref,z.child=I,I.return=z,I}function Ql(I,z){var X=z.ref;if(X===null)I!==null&&I.ref!==null&&(z.flags|=4194816);else{if(typeof X!="function"&&typeof X!="object")throw Error(b(284));(I===null||I.ref!==X)&&(z.flags|=4194816)}}function Cu(I,z,X,oe,je){return Da(z),X=su(I,z,X,oe,void 0,je),oe=au(),I!==null&&!Gr?(ou(I,z,je),Ns(I,z,je)):(Zn&&oe&&Fc(z),z.flags|=1,si(I,z,X,je),z.child)}function Hh(I,z,X,oe,je,Ve){return Da(z),z.updateQueue=null,X=Gd(z,oe,X,je),Ud(I),oe=au(),I!==null&&!Gr?(ou(I,z,Ve),Ns(I,z,Ve)):(Zn&&oe&&Fc(z),z.flags|=1,si(I,z,X,Ve),z.child)}function Vh(I,z,X,oe,je){if(Da(z),z.stateNode===null){var Ve=Za,Xe=X.contextType;typeof Xe=="object"&&Xe!==null&&(Ve=ii(Xe)),Ve=new X(oe,Ve),z.memoizedState=Ve.state!==null&&Ve.state!==void 0?Ve.state:null,Ve.updater=Su,z.stateNode=Ve,Ve._reactInternals=z,Ve=z.stateNode,Ve.props=oe,Ve.state=z.memoizedState,Ve.refs={},Qc(z),Xe=X.contextType,Ve.context=typeof Xe=="object"&&Xe!==null?ii(Xe):Za,Ve.state=z.memoizedState,Xe=X.getDerivedStateFromProps,typeof Xe=="function"&&(bu(z,X,Xe,oe),Ve.state=z.memoizedState),typeof X.getDerivedStateFromProps=="function"||typeof Ve.getSnapshotBeforeUpdate=="function"||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(Xe=Ve.state,typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount(),Xe!==Ve.state&&Su.enqueueReplaceState(Ve,Ve.state,null),Vo(z,oe,Ve,je),Ho(),Ve.state=z.memoizedState),typeof Ve.componentDidMount=="function"&&(z.flags|=4194308),oe=!0}else if(I===null){Ve=z.stateNode;var at=z.memoizedProps,gt=Ba(X,at);Ve.props=gt;var It=Ve.context,Pt=X.contextType;Xe=Za,typeof Pt=="object"&&Pt!==null&&(Xe=ii(Pt));var Lt=X.getDerivedStateFromProps;Pt=typeof Lt=="function"||typeof Ve.getSnapshotBeforeUpdate=="function",at=z.pendingProps!==at,Pt||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(at||It!==Xe)&&Ih(z,Ve,oe,Xe),ra=!1;var kt=z.memoizedState;Ve.state=kt,Vo(z,oe,Ve,je),Ho(),It=z.memoizedState,at||kt!==It||ra?(typeof Lt=="function"&&(bu(z,X,Lt,oe),It=z.memoizedState),(gt=ra||Ah(z,X,gt,oe,kt,It,Xe))?(Pt||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(z.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(z.flags|=4194308),z.memoizedProps=oe,z.memoizedState=It),Ve.props=oe,Ve.state=It,Ve.context=Xe,oe=gt):(typeof Ve.componentDidMount=="function"&&(z.flags|=4194308),oe=!1)}else{Ve=z.stateNode,Zc(I,z),Xe=z.memoizedProps,Pt=Ba(X,Xe),Ve.props=Pt,Lt=z.pendingProps,kt=Ve.context,It=X.contextType,gt=Za,typeof It=="object"&&It!==null&&(gt=ii(It)),at=X.getDerivedStateFromProps,(It=typeof at=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(Xe!==Lt||kt!==gt)&&Ih(z,Ve,oe,gt),ra=!1,kt=z.memoizedState,Ve.state=kt,Vo(z,oe,Ve,je),Ho();var jt=z.memoizedState;Xe!==Lt||kt!==jt||ra||I!==null&&I.dependencies!==null&&Ml(I.dependencies)?(typeof at=="function"&&(bu(z,X,at,oe),jt=z.memoizedState),(Pt=ra||Ah(z,X,Pt,oe,kt,jt,gt)||I!==null&&I.dependencies!==null&&Ml(I.dependencies))?(It||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(oe,jt,gt),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(oe,jt,gt)),typeof Ve.componentDidUpdate=="function"&&(z.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(z.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||Xe===I.memoizedProps&&kt===I.memoizedState||(z.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Xe===I.memoizedProps&&kt===I.memoizedState||(z.flags|=1024),z.memoizedProps=oe,z.memoizedState=jt),Ve.props=oe,Ve.state=jt,Ve.context=gt,oe=Pt):(typeof Ve.componentDidUpdate!="function"||Xe===I.memoizedProps&&kt===I.memoizedState||(z.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Xe===I.memoizedProps&&kt===I.memoizedState||(z.flags|=1024),oe=!1)}return Ve=oe,Ql(I,z),oe=(z.flags&128)!==0,Ve||oe?(Ve=z.stateNode,X=oe&&typeof X.getDerivedStateFromError!="function"?null:Ve.render(),z.flags|=1,I!==null&&oe?(z.child=$a(z,I.child,null,je),z.child=$a(z,null,X,je)):si(I,z,X,je),z.memoizedState=Ve.state,I=z.child):I=Ns(I,z,je),I}function Uh(I,z,X,oe){return Na(),z.flags|=256,si(I,z,X,oe),z.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(I){return{baseLanes:I,cachePool:Dd()}}function Au(I,z,X){return I=I!==null?I.childLanes&~X:0,z&&(I|=Oi),I}function Gh(I,z,X){var oe=z.pendingProps,je=!1,Ve=(z.flags&128)!==0,Xe;if((Xe=Ve)||(Xe=I!==null&&I.memoizedState===null?!1:(Lr.current&2)!==0),Xe&&(je=!0,z.flags&=-129),Xe=(z.flags&32)!==0,z.flags&=-33,I===null){if(Zn){if(je?aa(z):oa(),(I=_r)?(I=ep(I,Gi),I=I!==null&&I.data!=="&"?I:null,I!==null&&(z.memoizedState={dehydrated:I,treeContext:Zs!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},X=_d(I),X.return=z,z.child=X,ri=z,_r=null)):I=null,I===null)throw ea(z);return ud(I)?z.lanes=32:z.lanes=536870912,null}var at=oe.children;return oe=oe.fallback,je?(oa(),je=z.mode,at=Zl({mode:"hidden",children:at},je),oe=ka(oe,je,X,null),at.return=z,oe.return=z,at.sibling=oe,z.child=at,oe=z.child,oe.memoizedState=Tu(X),oe.childLanes=Au(I,Xe,X),z.memoizedState=Ru,Yo(null,oe)):(aa(z),Iu(z,at))}var gt=I.memoizedState;if(gt!==null&&(at=gt.dehydrated,at!==null)){if(Ve)z.flags&256?(aa(z),z.flags&=-257,z=ku(I,z,X)):z.memoizedState!==null?(oa(),z.child=I.child,z.flags|=128,z=null):(oa(),at=oe.fallback,je=z.mode,oe=Zl({mode:"visible",children:oe.children},je),at=ka(at,je,X,null),at.flags|=2,oe.return=z,at.return=z,oe.sibling=at,z.child=oe,$a(z,I.child,null,X),oe=z.child,oe.memoizedState=Tu(X),oe.childLanes=Au(I,Xe,X),z.memoizedState=Ru,z=Yo(null,oe));else if(aa(z),ud(at)){if(Xe=at.nextSibling&&at.nextSibling.dataset,Xe)var It=Xe.dgst;Xe=It,oe=Error(b(419)),oe.stack="",oe.digest=Xe,Po({value:oe,source:null,stack:null}),z=ku(I,z,X)}else if(Gr||no(I,z,X,!1),Xe=(X&I.childLanes)!==0,Gr||Xe){if(Xe=vr,Xe!==null&&(oe=Nt(Xe,X),oe!==0&&oe!==gt.retryLane))throw gt.retryLane=oe,Ia(I,oe),_i(Xe,I,oe),_u;cd(at)||oc(),z=ku(I,z,X)}else cd(at)?(z.flags|=192,z.child=I.child,z=null):(I=gt.treeContext,_r=Wi(at.nextSibling),ri=z,Zn=!0,Js=null,Gi=!1,I!==null&&Td(z,I),z=Iu(z,oe.children),z.flags|=4096);return z}return je?(oa(),at=oe.fallback,je=z.mode,gt=I.child,It=gt.sibling,oe=Cs(gt,{mode:"hidden",children:oe.children}),oe.subtreeFlags=gt.subtreeFlags&65011712,It!==null?at=Cs(It,at):(at=ka(at,je,X,null),at.flags|=2),at.return=z,oe.return=z,oe.sibling=at,z.child=oe,Yo(null,oe),oe=z.child,at=I.child.memoizedState,at===null?at=Tu(X):(je=at.cachePool,je!==null?(gt=Vr._currentValue,je=je.parent!==gt?{parent:gt,pool:gt}:je):je=Dd(),at={baseLanes:at.baseLanes|X,cachePool:je}),oe.memoizedState=at,oe.childLanes=Au(I,Xe,X),z.memoizedState=Ru,Yo(I.child,oe)):(aa(z),X=I.child,I=X.sibling,X=Cs(X,{mode:"visible",children:oe.children}),X.return=z,X.sibling=null,I!==null&&(Xe=z.deletions,Xe===null?(z.deletions=[I],z.flags|=16):Xe.push(I)),z.child=X,z.memoizedState=null,X)}function Iu(I,z){return z=Zl({mode:"visible",children:z},I.mode),z.return=I,I.child=z}function Zl(I,z){return I=Ni(22,I,null,z),I.lanes=0,I}function ku(I,z,X){return $a(z,I.child,null,X),I=Iu(z,z.pendingProps.children),I.flags|=2,z.memoizedState=null,I}function qh(I,z,X){I.lanes|=z;var oe=I.alternate;oe!==null&&(oe.lanes|=z),Gc(I.return,z,X)}function Nu(I,z,X,oe,je,Ve){var Xe=I.memoizedState;Xe===null?I.memoizedState={isBackwards:z,rendering:null,renderingStartTime:0,last:oe,tail:X,tailMode:je,treeForkCount:Ve}:(Xe.isBackwards=z,Xe.rendering=null,Xe.renderingStartTime=0,Xe.last=oe,Xe.tail=X,Xe.tailMode=je,Xe.treeForkCount=Ve)}function Wh(I,z,X){var oe=z.pendingProps,je=oe.revealOrder,Ve=oe.tail;oe=oe.children;var Xe=Lr.current,at=(Xe&2)!==0;if(at?(Xe=Xe&1|2,z.flags|=128):Xe&=1,Et(Lr,Xe),si(I,z,oe,X),oe=Zn?Oo:0,!at&&I!==null&&(I.flags&128)!==0)e:for(I=z.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&qh(I,X,z);else if(I.tag===19)qh(I,X,z);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===z)break e;for(;I.sibling===null;){if(I.return===null||I.return===z)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}switch(je){case"forwards":for(X=z.child,je=null;X!==null;)I=X.alternate,I!==null&&Fl(I)===null&&(je=X),X=X.sibling;X=je,X===null?(je=z.child,z.child=null):(je=X.sibling,X.sibling=null),Nu(z,!1,je,X,Ve,oe);break;case"backwards":case"unstable_legacy-backwards":for(X=null,je=z.child,z.child=null;je!==null;){if(I=je.alternate,I!==null&&Fl(I)===null){z.child=je;break}I=je.sibling,je.sibling=X,X=je,je=I}Nu(z,!0,X,null,Ve,oe);break;case"together":Nu(z,!1,null,null,void 0,oe);break;default:z.memoizedState=null}return z.child}function Ns(I,z,X){if(I!==null&&(z.dependencies=I.dependencies),ua|=z.lanes,(X&z.childLanes)===0)if(I!==null){if(no(I,z,X,!1),(X&z.childLanes)===0)return null}else return null;if(I!==null&&z.child!==I.child)throw Error(b(153));if(z.child!==null){for(I=z.child,X=Cs(I,I.pendingProps),z.child=X,X.return=z;I.sibling!==null;)I=I.sibling,X=X.sibling=Cs(I,I.pendingProps),X.return=z;X.sibling=null}return z.child}function Mu(I,z){return(I.lanes&z)!==0?!0:(I=I.dependencies,!!(I!==null&&Ml(I)))}function Kp(I,z,X){switch(z.tag){case 3:nn(z,z.stateNode.containerInfo),na(z,Vr,I.memoizedState.cache),Na();break;case 27:case 5:Fn(z);break;case 4:nn(z,z.stateNode.containerInfo);break;case 10:na(z,z.type,z.memoizedProps.value);break;case 31:if(z.memoizedState!==null)return z.flags|=128,ru(z),null;break;case 13:var oe=z.memoizedState;if(oe!==null)return oe.dehydrated!==null?(aa(z),z.flags|=128,null):(X&z.child.childLanes)!==0?Gh(I,z,X):(aa(z),I=Ns(I,z,X),I!==null?I.sibling:null);aa(z);break;case 19:var je=(I.flags&128)!==0;if(oe=(X&z.childLanes)!==0,oe||(no(I,z,X,!1),oe=(X&z.childLanes)!==0),je){if(oe)return Wh(I,z,X);z.flags|=128}if(je=z.memoizedState,je!==null&&(je.rendering=null,je.tail=null,je.lastEffect=null),Et(Lr,Lr.current),oe)break;return null;case 22:return z.lanes=0,Bh(I,z,X,z.pendingProps);case 24:na(z,Vr,I.memoizedState.cache)}return Ns(I,z,X)}function Yh(I,z,X){if(I!==null)if(I.memoizedProps!==z.pendingProps)Gr=!0;else{if(!Mu(I,X)&&(z.flags&128)===0)return Gr=!1,Kp(I,z,X);Gr=(I.flags&131072)!==0}else Gr=!1,Zn&&(z.flags&1048576)!==0&&Rd(z,Oo,z.index);switch(z.lanes=0,z.tag){case 16:e:{var oe=z.pendingProps;if(I=Oa(z.elementType),z.type=I,typeof I=="function")$c(I)?(oe=Ba(I,oe),z.tag=1,z=Vh(null,z,I,oe,X)):(z.tag=0,z=Cu(null,z,I,oe,X));else{if(I!=null){var je=I.$$typeof;if(je===xe){z.tag=11,z=Ph(null,z,I,oe,X);break e}else if(je===He){z.tag=14,z=$h(null,z,I,oe,X);break e}}throw z=yt(I)||I,Error(b(306,z,""))}}return z;case 0:return Cu(I,z,z.type,z.pendingProps,X);case 1:return oe=z.type,je=Ba(oe,z.pendingProps),Vh(I,z,oe,je,X);case 3:e:{if(nn(z,z.stateNode.containerInfo),I===null)throw Error(b(387));oe=z.pendingProps;var Ve=z.memoizedState;je=Ve.element,Zc(I,z),Vo(z,oe,null,X);var Xe=z.memoizedState;if(oe=Xe.cache,na(z,Vr,oe),oe!==Ve.cache&&qc(z,[Vr],X,!0),Ho(),oe=Xe.element,Ve.isDehydrated)if(Ve={element:oe,isDehydrated:!1,cache:Xe.cache},z.updateQueue.baseState=Ve,z.memoizedState=Ve,z.flags&256){z=Uh(I,z,oe,X);break e}else if(oe!==je){je=Hi(Error(b(424)),z),Po(je),z=Uh(I,z,oe,X);break e}else{switch(I=z.stateNode.containerInfo,I.nodeType){case 9:I=I.body;break;default:I=I.nodeName==="HTML"?I.ownerDocument.body:I}for(_r=Wi(I.firstChild),ri=z,Zn=!0,Js=null,Gi=!0,X=Bd(z,null,oe,X),z.child=X;X;)X.flags=X.flags&-3|4096,X=X.sibling}else{if(Na(),oe===je){z=Ns(I,z,X);break e}si(I,z,oe,X)}z=z.child}return z;case 26:return Ql(I,z),I===null?(X=lp(z.type,null,z.pendingProps,null))?z.memoizedState=X:Zn||(X=z.type,I=z.pendingProps,oe=pc(Rt.current).createElement(X),oe[Zt]=z,oe[Xt]=I,ai(oe,X,I),Jn(oe),z.stateNode=oe):z.memoizedState=lp(z.type,I.memoizedProps,z.pendingProps,I.memoizedState),null;case 27:return Fn(z),I===null&&Zn&&(oe=z.stateNode=rp(z.type,z.pendingProps,Rt.current),ri=z,Gi=!0,je=_r,ma(z.type)?(dd=je,_r=Wi(oe.firstChild)):_r=je),si(I,z,z.pendingProps.children,X),Ql(I,z),I===null&&(z.flags|=4194304),z.child;case 5:return I===null&&Zn&&((je=oe=_r)&&(oe=Tm(oe,z.type,z.pendingProps,Gi),oe!==null?(z.stateNode=oe,ri=z,_r=Wi(oe.firstChild),Gi=!1,je=!0):je=!1),je||ea(z)),Fn(z),je=z.type,Ve=z.pendingProps,Xe=I!==null?I.memoizedProps:null,oe=Ve.children,ad(je,Ve)?oe=null:Xe!==null&&ad(je,Xe)&&(z.flags|=32),z.memoizedState!==null&&(je=su(I,z,Fp,null,null,X),cl._currentValue=je),Ql(I,z),si(I,z,oe,X),z.child;case 6:return I===null&&Zn&&((I=X=_r)&&(X=Am(X,z.pendingProps,Gi),X!==null?(z.stateNode=X,ri=z,_r=null,I=!0):I=!1),I||ea(z)),null;case 13:return Gh(I,z,X);case 4:return nn(z,z.stateNode.containerInfo),oe=z.pendingProps,I===null?z.child=$a(z,null,oe,X):si(I,z,oe,X),z.child;case 11:return Ph(I,z,z.type,z.pendingProps,X);case 7:return si(I,z,z.pendingProps,X),z.child;case 8:return si(I,z,z.pendingProps.children,X),z.child;case 12:return si(I,z,z.pendingProps.children,X),z.child;case 10:return oe=z.pendingProps,na(z,z.type,oe.value),si(I,z,oe.children,X),z.child;case 9:return je=z.type._context,oe=z.pendingProps.children,Da(z),je=ii(je),oe=oe(je),z.flags|=1,si(I,z,oe,X),z.child;case 14:return $h(I,z,z.type,z.pendingProps,X);case 15:return Lh(I,z,z.type,z.pendingProps,X);case 19:return Wh(I,z,X);case 31:return Yp(I,z,X);case 22:return Bh(I,z,X,z.pendingProps);case 24:return Da(z),oe=ii(Vr),I===null?(je=Kc(),je===null&&(je=vr,Ve=Wc(),je.pooledCache=Ve,Ve.refCount++,Ve!==null&&(je.pooledCacheLanes|=X),je=Ve),z.memoizedState={parent:oe,cache:je},Qc(z),na(z,Vr,je)):((I.lanes&X)!==0&&(Zc(I,z),Vo(z,null,null,X),Ho()),je=I.memoizedState,Ve=z.memoizedState,je.parent!==oe?(je={parent:oe,cache:oe},z.memoizedState=je,z.lanes===0&&(z.memoizedState=z.updateQueue.baseState=je),na(z,Vr,oe)):(oe=Ve.cache,na(z,Vr,oe),oe!==je.cache&&qc(z,[Vr],X,!0))),si(I,z,z.pendingProps.children,X),z.child;case 29:throw z.pendingProps}throw Error(b(156,z.tag))}function Ms(I){I.flags|=4}function Du(I,z,X,oe,je){if((z=(I.mode&32)!==0)&&(z=!1),z){if(I.flags|=16777216,(je&335544128)===je)if(I.stateNode.complete)I.flags|=8192;else if(Sf())I.flags|=8192;else throw Pa=Pl,Xc}else I.flags&=-16777217}function Kh(I,z){if(z.type!=="stylesheet"||(z.state.loading&4)!==0)I.flags&=-16777217;else if(I.flags|=16777216,!fp(z))if(Sf())I.flags|=8192;else throw Pa=Pl,Xc}function Jl(I,z){z!==null&&(I.flags|=4),I.flags&16384&&(z=I.tag!==22?Rr():536870912,I.lanes|=z,mo|=z)}function Ko(I,z){if(!Zn)switch(I.tailMode){case"hidden":z=I.tail;for(var X=null;z!==null;)z.alternate!==null&&(X=z),z=z.sibling;X===null?I.tail=null:X.sibling=null;break;case"collapsed":X=I.tail;for(var oe=null;X!==null;)X.alternate!==null&&(oe=X),X=X.sibling;oe===null?z||I.tail===null?I.tail=null:I.tail.sibling=null:oe.sibling=null}}function Cr(I){var z=I.alternate!==null&&I.alternate.child===I.child,X=0,oe=0;if(z)for(var je=I.child;je!==null;)X|=je.lanes|je.childLanes,oe|=je.subtreeFlags&65011712,oe|=je.flags&65011712,je.return=I,je=je.sibling;else for(je=I.child;je!==null;)X|=je.lanes|je.childLanes,oe|=je.subtreeFlags,oe|=je.flags,je.return=I,je=je.sibling;return I.subtreeFlags|=oe,I.childLanes=X,z}function Xp(I,z,X){var oe=z.pendingProps;switch(zc(z),z.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(z),null;case 1:return Cr(z),null;case 3:return X=z.stateNode,oe=null,I!==null&&(oe=I.memoizedState.cache),z.memoizedState.cache!==oe&&(z.flags|=2048),As(Vr),mn(),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),(I===null||I.child===null)&&(to(z)?Ms(z):I===null||I.memoizedState.isDehydrated&&(z.flags&256)===0||(z.flags|=1024,Vc())),Cr(z),null;case 26:var je=z.type,Ve=z.memoizedState;return I===null?(Ms(z),Ve!==null?(Cr(z),Kh(z,Ve)):(Cr(z),Du(z,je,null,oe,X))):Ve?Ve!==I.memoizedState?(Ms(z),Cr(z),Kh(z,Ve)):(Cr(z),z.flags&=-16777217):(I=I.memoizedProps,I!==oe&&Ms(z),Cr(z),Du(z,je,I,oe,X)),null;case 27:if(dn(z),X=Rt.current,je=z.type,I!==null&&z.stateNode!=null)I.memoizedProps!==oe&&Ms(z);else{if(!oe){if(z.stateNode===null)throw Error(b(166));return Cr(z),null}I=St.current,to(z)?Ad(z):(I=rp(je,oe,X),z.stateNode=I,Ms(z))}return Cr(z),null;case 5:if(dn(z),je=z.type,I!==null&&z.stateNode!=null)I.memoizedProps!==oe&&Ms(z);else{if(!oe){if(z.stateNode===null)throw Error(b(166));return Cr(z),null}if(Ve=St.current,to(z))Ad(z);else{var Xe=pc(Rt.current);switch(Ve){case 1:Ve=Xe.createElementNS("http://www.w3.org/2000/svg",je);break;case 2:Ve=Xe.createElementNS("http://www.w3.org/1998/Math/MathML",je);break;default:switch(je){case"svg":Ve=Xe.createElementNS("http://www.w3.org/2000/svg",je);break;case"math":Ve=Xe.createElementNS("http://www.w3.org/1998/Math/MathML",je);break;case"script":Ve=Xe.createElement("div"),Ve.innerHTML="<script><\/script>",Ve=Ve.removeChild(Ve.firstChild);break;case"select":Ve=typeof oe.is=="string"?Xe.createElement("select",{is:oe.is}):Xe.createElement("select"),oe.multiple?Ve.multiple=!0:oe.size&&(Ve.size=oe.size);break;default:Ve=typeof oe.is=="string"?Xe.createElement(je,{is:oe.is}):Xe.createElement(je)}}Ve[Zt]=z,Ve[Xt]=oe;e:for(Xe=z.child;Xe!==null;){if(Xe.tag===5||Xe.tag===6)Ve.appendChild(Xe.stateNode);else if(Xe.tag!==4&&Xe.tag!==27&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===z)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===z)break e;Xe=Xe.return}Xe.sibling.return=Xe.return,Xe=Xe.sibling}z.stateNode=Ve;e:switch(ai(Ve,je,oe),je){case"button":case"input":case"select":case"textarea":oe=!!oe.autoFocus;break e;case"img":oe=!0;break e;default:oe=!1}oe&&Ms(z)}}return Cr(z),Du(z,z.type,I===null?null:I.memoizedProps,z.pendingProps,X),null;case 6:if(I&&z.stateNode!=null)I.memoizedProps!==oe&&Ms(z);else{if(typeof oe!="string"&&z.stateNode===null)throw Error(b(166));if(I=Rt.current,to(z)){if(I=z.stateNode,X=z.memoizedProps,oe=null,je=ri,je!==null)switch(je.tag){case 27:case 5:oe=je.memoizedProps}I[Zt]=z,I=!!(I.nodeValue===X||oe!==null&&oe.suppressHydrationWarning===!0||qf(I.nodeValue,X)),I||ea(z,!0)}else I=pc(I).createTextNode(oe),I[Zt]=z,z.stateNode=I}return Cr(z),null;case 31:if(X=z.memoizedState,I===null||I.memoizedState!==null){if(oe=to(z),X!==null){if(I===null){if(!oe)throw Error(b(318));if(I=z.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(b(557));I[Zt]=z}else Na(),(z.flags&128)===0&&(z.memoizedState=null),z.flags|=4;Cr(z),I=!1}else X=Vc(),I!==null&&I.memoizedState!==null&&(I.memoizedState.hydrationErrors=X),I=!0;if(!I)return z.flags&256?(Di(z),z):(Di(z),null);if((z.flags&128)!==0)throw Error(b(558))}return Cr(z),null;case 13:if(oe=z.memoizedState,I===null||I.memoizedState!==null&&I.memoizedState.dehydrated!==null){if(je=to(z),oe!==null&&oe.dehydrated!==null){if(I===null){if(!je)throw Error(b(318));if(je=z.memoizedState,je=je!==null?je.dehydrated:null,!je)throw Error(b(317));je[Zt]=z}else Na(),(z.flags&128)===0&&(z.memoizedState=null),z.flags|=4;Cr(z),je=!1}else je=Vc(),I!==null&&I.memoizedState!==null&&(I.memoizedState.hydrationErrors=je),je=!0;if(!je)return z.flags&256?(Di(z),z):(Di(z),null)}return Di(z),(z.flags&128)!==0?(z.lanes=X,z):(X=oe!==null,I=I!==null&&I.memoizedState!==null,X&&(oe=z.child,je=null,oe.alternate!==null&&oe.alternate.memoizedState!==null&&oe.alternate.memoizedState.cachePool!==null&&(je=oe.alternate.memoizedState.cachePool.pool),Ve=null,oe.memoizedState!==null&&oe.memoizedState.cachePool!==null&&(Ve=oe.memoizedState.cachePool.pool),Ve!==je&&(oe.flags|=2048)),X!==I&&X&&(z.child.flags|=8192),Jl(z,z.updateQueue),Cr(z),null);case 4:return mn(),I===null&&td(z.stateNode.containerInfo),Cr(z),null;case 10:return As(z.type),Cr(z),null;case 19:if(ft(Lr),oe=z.memoizedState,oe===null)return Cr(z),null;if(je=(z.flags&128)!==0,Ve=oe.rendering,Ve===null)if(je)Ko(oe,!1);else{if(Or!==0||I!==null&&(I.flags&128)!==0)for(I=z.child;I!==null;){if(Ve=Fl(I),Ve!==null){for(z.flags|=128,Ko(oe,!1),I=Ve.updateQueue,z.updateQueue=I,Jl(z,I),z.subtreeFlags=0,I=X,X=z.child;X!==null;)wd(X,I),X=X.sibling;return Et(Lr,Lr.current&1|2),Zn&&Rs(z,oe.treeForkCount),z.child}I=I.sibling}oe.tail!==null&&Ht()>ic&&(z.flags|=128,je=!0,Ko(oe,!1),z.lanes=4194304)}else{if(!je)if(I=Fl(Ve),I!==null){if(z.flags|=128,je=!0,I=I.updateQueue,z.updateQueue=I,Jl(z,I),Ko(oe,!0),oe.tail===null&&oe.tailMode==="hidden"&&!Ve.alternate&&!Zn)return Cr(z),null}else 2*Ht()-oe.renderingStartTime>ic&&X!==536870912&&(z.flags|=128,je=!0,Ko(oe,!1),z.lanes=4194304);oe.isBackwards?(Ve.sibling=z.child,z.child=Ve):(I=oe.last,I!==null?I.sibling=Ve:z.child=Ve,oe.last=Ve)}return oe.tail!==null?(I=oe.tail,oe.rendering=I,oe.tail=I.sibling,oe.renderingStartTime=Ht(),I.sibling=null,X=Lr.current,Et(Lr,je?X&1|2:X&1),Zn&&Rs(z,oe.treeForkCount),I):(Cr(z),null);case 22:case 23:return Di(z),nu(),oe=z.memoizedState!==null,I!==null?I.memoizedState!==null!==oe&&(z.flags|=8192):oe&&(z.flags|=8192),oe?(X&536870912)!==0&&(z.flags&128)===0&&(Cr(z),z.subtreeFlags&6&&(z.flags|=8192)):Cr(z),X=z.updateQueue,X!==null&&Jl(z,X.retryQueue),X=null,I!==null&&I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(X=I.memoizedState.cachePool.pool),oe=null,z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(oe=z.memoizedState.cachePool.pool),oe!==X&&(z.flags|=2048),I!==null&&ft(ja),null;case 24:return X=null,I!==null&&(X=I.memoizedState.cache),z.memoizedState.cache!==X&&(z.flags|=2048),As(Vr),Cr(z),null;case 25:return null;case 30:return null}throw Error(b(156,z.tag))}function Qp(I,z){switch(zc(z),z.tag){case 1:return I=z.flags,I&65536?(z.flags=I&-65537|128,z):null;case 3:return As(Vr),mn(),I=z.flags,(I&65536)!==0&&(I&128)===0?(z.flags=I&-65537|128,z):null;case 26:case 27:case 5:return dn(z),null;case 31:if(z.memoizedState!==null){if(Di(z),z.alternate===null)throw Error(b(340));Na()}return I=z.flags,I&65536?(z.flags=I&-65537|128,z):null;case 13:if(Di(z),I=z.memoizedState,I!==null&&I.dehydrated!==null){if(z.alternate===null)throw Error(b(340));Na()}return I=z.flags,I&65536?(z.flags=I&-65537|128,z):null;case 19:return ft(Lr),null;case 4:return mn(),null;case 10:return As(z.type),null;case 22:case 23:return Di(z),nu(),I!==null&&ft(ja),I=z.flags,I&65536?(z.flags=I&-65537|128,z):null;case 24:return As(Vr),null;case 25:return null;default:return null}}function Xh(I,z){switch(zc(z),z.tag){case 3:As(Vr),mn();break;case 26:case 27:case 5:dn(z);break;case 4:mn();break;case 31:z.memoizedState!==null&&Di(z);break;case 13:Di(z);break;case 19:ft(Lr);break;case 10:As(z.type);break;case 22:case 23:Di(z),nu(),I!==null&&ft(ja);break;case 24:As(Vr)}}function Xo(I,z){try{var X=z.updateQueue,oe=X!==null?X.lastEffect:null;if(oe!==null){var je=oe.next;X=je;do{if((X.tag&I)===I){oe=void 0;var Ve=X.create,Xe=X.inst;oe=Ve(),Xe.destroy=oe}X=X.next}while(X!==je)}}catch(at){dr(z,z.return,at)}}function la(I,z,X){try{var oe=z.updateQueue,je=oe!==null?oe.lastEffect:null;if(je!==null){var Ve=je.next;oe=Ve;do{if((oe.tag&I)===I){var Xe=oe.inst,at=Xe.destroy;if(at!==void 0){Xe.destroy=void 0,je=z;var gt=X,It=at;try{It()}catch(Pt){dr(je,gt,Pt)}}}oe=oe.next}while(oe!==Ve)}}catch(Pt){dr(z,z.return,Pt)}}function Qh(I){var z=I.updateQueue;if(z!==null){var X=I.stateNode;try{zd(z,X)}catch(oe){dr(I,I.return,oe)}}}function Zh(I,z,X){X.props=Ba(I.type,I.memoizedProps),X.state=I.memoizedState;try{X.componentWillUnmount()}catch(oe){dr(I,z,oe)}}function Qo(I,z){try{var X=I.ref;if(X!==null){switch(I.tag){case 26:case 27:case 5:var oe=I.stateNode;break;case 30:oe=I.stateNode;break;default:oe=I.stateNode}typeof X=="function"?I.refCleanup=X(oe):X.current=oe}}catch(je){dr(I,z,je)}}function ps(I,z){var X=I.ref,oe=I.refCleanup;if(X!==null)if(typeof oe=="function")try{oe()}catch(je){dr(I,z,je)}finally{I.refCleanup=null,I=I.alternate,I!=null&&(I.refCleanup=null)}else if(typeof X=="function")try{X(null)}catch(je){dr(I,z,je)}else X.current=null}function Jh(I){var z=I.type,X=I.memoizedProps,oe=I.stateNode;try{e:switch(z){case"button":case"input":case"select":case"textarea":X.autoFocus&&oe.focus();break e;case"img":X.src?oe.src=X.src:X.srcSet&&(oe.srcset=X.srcSet)}}catch(je){dr(I,I.return,je)}}function ju(I,z,X){try{var oe=I.stateNode;bm(oe,I.type,X,z),oe[Xt]=z}catch(je){dr(I,I.return,je)}}function ef(I){return I.tag===5||I.tag===3||I.tag===26||I.tag===27&&ma(I.type)||I.tag===4}function Ou(I){e:for(;;){for(;I.sibling===null;){if(I.return===null||ef(I.return))return null;I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.tag===27&&ma(I.type)||I.flags&2||I.child===null||I.tag===4)continue e;I.child.return=I,I=I.child}if(!(I.flags&2))return I.stateNode}}function Pu(I,z,X){var oe=I.tag;if(oe===5||oe===6)I=I.stateNode,z?(X.nodeType===9?X.body:X.nodeName==="HTML"?X.ownerDocument.body:X).insertBefore(I,z):(z=X.nodeType===9?X.body:X.nodeName==="HTML"?X.ownerDocument.body:X,z.appendChild(I),X=X._reactRootContainer,X!=null||z.onclick!==null||(z.onclick=xi));else if(oe!==4&&(oe===27&&ma(I.type)&&(X=I.stateNode,z=null),I=I.child,I!==null))for(Pu(I,z,X),I=I.sibling;I!==null;)Pu(I,z,X),I=I.sibling}function ec(I,z,X){var oe=I.tag;if(oe===5||oe===6)I=I.stateNode,z?X.insertBefore(I,z):X.appendChild(I);else if(oe!==4&&(oe===27&&ma(I.type)&&(X=I.stateNode),I=I.child,I!==null))for(ec(I,z,X),I=I.sibling;I!==null;)ec(I,z,X),I=I.sibling}function tf(I){var z=I.stateNode,X=I.memoizedProps;try{for(var oe=I.type,je=z.attributes;je.length;)z.removeAttributeNode(je[0]);ai(z,oe,X),z[Zt]=I,z[Xt]=X}catch(Ve){dr(I,I.return,Ve)}}var Ds=!1,qr=!1,$u=!1,nf=typeof WeakSet=="function"?WeakSet:Set,ti=null;function Zp(I,z){if(I=I.containerInfo,id=bc,I=rt(I),st(I)){if("selectionStart"in I)var X={start:I.selectionStart,end:I.selectionEnd};else e:{X=(X=I.ownerDocument)&&X.defaultView||window;var oe=X.getSelection&&X.getSelection();if(oe&&oe.rangeCount!==0){X=oe.anchorNode;var je=oe.anchorOffset,Ve=oe.focusNode;oe=oe.focusOffset;try{X.nodeType,Ve.nodeType}catch{X=null;break e}var Xe=0,at=-1,gt=-1,It=0,Pt=0,Lt=I,kt=null;t:for(;;){for(var jt;Lt!==X||je!==0&&Lt.nodeType!==3||(at=Xe+je),Lt!==Ve||oe!==0&&Lt.nodeType!==3||(gt=Xe+oe),Lt.nodeType===3&&(Xe+=Lt.nodeValue.length),(jt=Lt.firstChild)!==null;)kt=Lt,Lt=jt;for(;;){if(Lt===I)break t;if(kt===X&&++It===je&&(at=Xe),kt===Ve&&++Pt===oe&&(gt=Xe),(jt=Lt.nextSibling)!==null)break;Lt=kt,kt=Lt.parentNode}Lt=jt}X=at===-1||gt===-1?null:{start:at,end:gt}}else X=null}X=X||{start:0,end:0}}else X=null;for(sd={focusedElem:I,selectionRange:X},bc=!1,ti=z;ti!==null;)if(z=ti,I=z.child,(z.subtreeFlags&1028)!==0&&I!==null)I.return=z,ti=I;else for(;ti!==null;){switch(z=ti,Ve=z.alternate,I=z.flags,z.tag){case 0:if((I&4)!==0&&(I=z.updateQueue,I=I!==null?I.events:null,I!==null))for(X=0;X<I.length;X++)je=I[X],je.ref.impl=je.nextImpl;break;case 11:case 15:break;case 1:if((I&1024)!==0&&Ve!==null){I=void 0,X=z,je=Ve.memoizedProps,Ve=Ve.memoizedState,oe=X.stateNode;try{var an=Ba(X.type,je);I=oe.getSnapshotBeforeUpdate(an,Ve),oe.__reactInternalSnapshotBeforeUpdate=I}catch(En){dr(X,X.return,En)}}break;case 3:if((I&1024)!==0){if(I=z.stateNode.containerInfo,X=I.nodeType,X===9)ld(I);else if(X===1)switch(I.nodeName){case"HEAD":case"HTML":case"BODY":ld(I);break;default:I.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((I&1024)!==0)throw Error(b(163))}if(I=z.sibling,I!==null){I.return=z.return,ti=I;break}ti=z.return}}function rf(I,z,X){var oe=X.flags;switch(X.tag){case 0:case 11:case 15:Os(I,X),oe&4&&Xo(5,X);break;case 1:if(Os(I,X),oe&4)if(I=X.stateNode,z===null)try{I.componentDidMount()}catch(Xe){dr(X,X.return,Xe)}else{var je=Ba(X.type,z.memoizedProps);z=z.memoizedState;try{I.componentDidUpdate(je,z,I.__reactInternalSnapshotBeforeUpdate)}catch(Xe){dr(X,X.return,Xe)}}oe&64&&Qh(X),oe&512&&Qo(X,X.return);break;case 3:if(Os(I,X),oe&64&&(I=X.updateQueue,I!==null)){if(z=null,X.child!==null)switch(X.child.tag){case 27:case 5:z=X.child.stateNode;break;case 1:z=X.child.stateNode}try{zd(I,z)}catch(Xe){dr(X,X.return,Xe)}}break;case 27:z===null&&oe&4&&tf(X);case 26:case 5:Os(I,X),z===null&&oe&4&&Jh(X),oe&512&&Qo(X,X.return);break;case 12:Os(I,X);break;case 31:Os(I,X),oe&4&&of(I,X);break;case 13:Os(I,X),oe&4&&lf(I,X),oe&64&&(I=X.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&(X=cm.bind(null,X),Im(I,X))));break;case 22:if(oe=X.memoizedState!==null||Ds,!oe){z=z!==null&&z.memoizedState!==null||qr,je=Ds;var Ve=qr;Ds=oe,(qr=z)&&!Ve?Ps(I,X,(X.subtreeFlags&8772)!==0):Os(I,X),Ds=je,qr=Ve}break;case 30:break;default:Os(I,X)}}function sf(I){var z=I.alternate;z!==null&&(I.alternate=null,sf(z)),I.child=null,I.deletions=null,I.sibling=null,I.tag===5&&(z=I.stateNode,z!==null&&On(z)),I.stateNode=null,I.return=null,I.dependencies=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.stateNode=null,I.updateQueue=null}var kr=null,Ei=!1;function js(I,z,X){for(X=X.child;X!==null;)af(I,z,X),X=X.sibling}function af(I,z,X){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Dn,X)}catch{}switch(X.tag){case 26:qr||ps(X,z),js(I,z,X),X.memoizedState?X.memoizedState.count--:X.stateNode&&(X=X.stateNode,X.parentNode.removeChild(X));break;case 27:qr||ps(X,z);var oe=kr,je=Ei;ma(X.type)&&(kr=X.stateNode,Ei=!1),js(I,z,X),al(X.stateNode),kr=oe,Ei=je;break;case 5:qr||ps(X,z);case 6:if(oe=kr,je=Ei,kr=null,js(I,z,X),kr=oe,Ei=je,kr!==null)if(Ei)try{(kr.nodeType===9?kr.body:kr.nodeName==="HTML"?kr.ownerDocument.body:kr).removeChild(X.stateNode)}catch(Ve){dr(X,z,Ve)}else try{kr.removeChild(X.stateNode)}catch(Ve){dr(X,z,Ve)}break;case 18:kr!==null&&(Ei?(I=kr,Zf(I.nodeType===9?I.body:I.nodeName==="HTML"?I.ownerDocument.body:I,X.stateNode),wo(I)):Zf(kr,X.stateNode));break;case 4:oe=kr,je=Ei,kr=X.stateNode.containerInfo,Ei=!0,js(I,z,X),kr=oe,Ei=je;break;case 0:case 11:case 14:case 15:la(2,X,z),qr||la(4,X,z),js(I,z,X);break;case 1:qr||(ps(X,z),oe=X.stateNode,typeof oe.componentWillUnmount=="function"&&Zh(X,z,oe)),js(I,z,X);break;case 21:js(I,z,X);break;case 22:qr=(oe=qr)||X.memoizedState!==null,js(I,z,X),qr=oe;break;default:js(I,z,X)}}function of(I,z){if(z.memoizedState===null&&(I=z.alternate,I!==null&&(I=I.memoizedState,I!==null))){I=I.dehydrated;try{wo(I)}catch(X){dr(z,z.return,X)}}}function lf(I,z){if(z.memoizedState===null&&(I=z.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null))))try{wo(I)}catch(X){dr(z,z.return,X)}}function Jp(I){switch(I.tag){case 31:case 13:case 19:var z=I.stateNode;return z===null&&(z=I.stateNode=new nf),z;case 22:return I=I.stateNode,z=I._retryCache,z===null&&(z=I._retryCache=new nf),z;default:throw Error(b(435,I.tag))}}function tc(I,z){var X=Jp(I);z.forEach(function(oe){if(!X.has(oe)){X.add(oe);var je=um.bind(null,I,oe);oe.then(je,je)}})}function bi(I,z){var X=z.deletions;if(X!==null)for(var oe=0;oe<X.length;oe++){var je=X[oe],Ve=I,Xe=z,at=Xe;e:for(;at!==null;){switch(at.tag){case 27:if(ma(at.type)){kr=at.stateNode,Ei=!1;break e}break;case 5:kr=at.stateNode,Ei=!1;break e;case 3:case 4:kr=at.stateNode.containerInfo,Ei=!0;break e}at=at.return}if(kr===null)throw Error(b(160));af(Ve,Xe,je),kr=null,Ei=!1,Ve=je.alternate,Ve!==null&&(Ve.return=null),je.return=null}if(z.subtreeFlags&13886)for(z=z.child;z!==null;)cf(z,I),z=z.sibling}var ns=null;function cf(I,z){var X=I.alternate,oe=I.flags;switch(I.tag){case 0:case 11:case 14:case 15:bi(z,I),Si(I),oe&4&&(la(3,I,I.return),Xo(3,I),la(5,I,I.return));break;case 1:bi(z,I),Si(I),oe&512&&(qr||X===null||ps(X,X.return)),oe&64&&Ds&&(I=I.updateQueue,I!==null&&(oe=I.callbacks,oe!==null&&(X=I.shared.hiddenCallbacks,I.shared.hiddenCallbacks=X===null?oe:X.concat(oe))));break;case 26:var je=ns;if(bi(z,I),Si(I),oe&512&&(qr||X===null||ps(X,X.return)),oe&4){var Ve=X!==null?X.memoizedState:null;if(oe=I.memoizedState,X===null)if(oe===null)if(I.stateNode===null){e:{oe=I.type,X=I.memoizedProps,je=je.ownerDocument||je;t:switch(oe){case"title":Ve=je.getElementsByTagName("title")[0],(!Ve||Ve[Er]||Ve[Zt]||Ve.namespaceURI==="http://www.w3.org/2000/svg"||Ve.hasAttribute("itemprop"))&&(Ve=je.createElement(oe),je.head.insertBefore(Ve,je.querySelector("head > title"))),ai(Ve,oe,X),Ve[Zt]=I,Jn(Ve),oe=Ve;break e;case"link":var Xe=dp("link","href",je).get(oe+(X.href||""));if(Xe){for(var at=0;at<Xe.length;at++)if(Ve=Xe[at],Ve.getAttribute("href")===(X.href==null||X.href===""?null:X.href)&&Ve.getAttribute("rel")===(X.rel==null?null:X.rel)&&Ve.getAttribute("title")===(X.title==null?null:X.title)&&Ve.getAttribute("crossorigin")===(X.crossOrigin==null?null:X.crossOrigin)){Xe.splice(at,1);break t}}Ve=je.createElement(oe),ai(Ve,oe,X),je.head.appendChild(Ve);break;case"meta":if(Xe=dp("meta","content",je).get(oe+(X.content||""))){for(at=0;at<Xe.length;at++)if(Ve=Xe[at],Ve.getAttribute("content")===(X.content==null?null:""+X.content)&&Ve.getAttribute("name")===(X.name==null?null:X.name)&&Ve.getAttribute("property")===(X.property==null?null:X.property)&&Ve.getAttribute("http-equiv")===(X.httpEquiv==null?null:X.httpEquiv)&&Ve.getAttribute("charset")===(X.charSet==null?null:X.charSet)){Xe.splice(at,1);break t}}Ve=je.createElement(oe),ai(Ve,oe,X),je.head.appendChild(Ve);break;default:throw Error(b(468,oe))}Ve[Zt]=I,Jn(Ve),oe=Ve}I.stateNode=oe}else hp(je,I.type,I.stateNode);else I.stateNode=up(je,oe,I.memoizedProps);else Ve!==oe?(Ve===null?X.stateNode!==null&&(X=X.stateNode,X.parentNode.removeChild(X)):Ve.count--,oe===null?hp(je,I.type,I.stateNode):up(je,oe,I.memoizedProps)):oe===null&&I.stateNode!==null&&ju(I,I.memoizedProps,X.memoizedProps)}break;case 27:bi(z,I),Si(I),oe&512&&(qr||X===null||ps(X,X.return)),X!==null&&oe&4&&ju(I,I.memoizedProps,X.memoizedProps);break;case 5:if(bi(z,I),Si(I),oe&512&&(qr||X===null||ps(X,X.return)),I.flags&32){je=I.stateNode;try{Vs(je,"")}catch(an){dr(I,I.return,an)}}oe&4&&I.stateNode!=null&&(je=I.memoizedProps,ju(I,je,X!==null?X.memoizedProps:je)),oe&1024&&($u=!0);break;case 6:if(bi(z,I),Si(I),oe&4){if(I.stateNode===null)throw Error(b(162));oe=I.memoizedProps,X=I.stateNode;try{X.nodeValue=oe}catch(an){dr(I,I.return,an)}}break;case 3:if(xc=null,je=ns,ns=mc(z.containerInfo),bi(z,I),ns=je,Si(I),oe&4&&X!==null&&X.memoizedState.isDehydrated)try{wo(z.containerInfo)}catch(an){dr(I,I.return,an)}$u&&($u=!1,uf(I));break;case 4:oe=ns,ns=mc(I.stateNode.containerInfo),bi(z,I),Si(I),ns=oe;break;case 12:bi(z,I),Si(I);break;case 31:bi(z,I),Si(I),oe&4&&(oe=I.updateQueue,oe!==null&&(I.updateQueue=null,tc(I,oe)));break;case 13:bi(z,I),Si(I),I.child.flags&8192&&I.memoizedState!==null!=(X!==null&&X.memoizedState!==null)&&(rc=Ht()),oe&4&&(oe=I.updateQueue,oe!==null&&(I.updateQueue=null,tc(I,oe)));break;case 22:je=I.memoizedState!==null;var gt=X!==null&&X.memoizedState!==null,It=Ds,Pt=qr;if(Ds=It||je,qr=Pt||gt,bi(z,I),qr=Pt,Ds=It,Si(I),oe&8192)e:for(z=I.stateNode,z._visibility=je?z._visibility&-2:z._visibility|1,je&&(X===null||gt||Ds||qr||Fa(I)),X=null,z=I;;){if(z.tag===5||z.tag===26){if(X===null){gt=X=z;try{if(Ve=gt.stateNode,je)Xe=Ve.style,typeof Xe.setProperty=="function"?Xe.setProperty("display","none","important"):Xe.display="none";else{at=gt.stateNode;var Lt=gt.memoizedProps.style,kt=Lt!=null&&Lt.hasOwnProperty("display")?Lt.display:null;at.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(an){dr(gt,gt.return,an)}}}else if(z.tag===6){if(X===null){gt=z;try{gt.stateNode.nodeValue=je?"":gt.memoizedProps}catch(an){dr(gt,gt.return,an)}}}else if(z.tag===18){if(X===null){gt=z;try{var jt=gt.stateNode;je?Jf(jt,!0):Jf(gt.stateNode,!1)}catch(an){dr(gt,gt.return,an)}}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===I)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===I)break e;for(;z.sibling===null;){if(z.return===null||z.return===I)break e;X===z&&(X=null),z=z.return}X===z&&(X=null),z.sibling.return=z.return,z=z.sibling}oe&4&&(oe=I.updateQueue,oe!==null&&(X=oe.retryQueue,X!==null&&(oe.retryQueue=null,tc(I,X))));break;case 19:bi(z,I),Si(I),oe&4&&(oe=I.updateQueue,oe!==null&&(I.updateQueue=null,tc(I,oe)));break;case 30:break;case 21:break;default:bi(z,I),Si(I)}}function Si(I){var z=I.flags;if(z&2){try{for(var X,oe=I.return;oe!==null;){if(ef(oe)){X=oe;break}oe=oe.return}if(X==null)throw Error(b(160));switch(X.tag){case 27:var je=X.stateNode,Ve=Ou(I);ec(I,Ve,je);break;case 5:var Xe=X.stateNode;X.flags&32&&(Vs(Xe,""),X.flags&=-33);var at=Ou(I);ec(I,at,Xe);break;case 3:case 4:var gt=X.stateNode.containerInfo,It=Ou(I);Pu(I,It,gt);break;default:throw Error(b(161))}}catch(Pt){dr(I,I.return,Pt)}I.flags&=-3}z&4096&&(I.flags&=-4097)}function uf(I){if(I.subtreeFlags&1024)for(I=I.child;I!==null;){var z=I;uf(z),z.tag===5&&z.flags&1024&&z.stateNode.reset(),I=I.sibling}}function Os(I,z){if(z.subtreeFlags&8772)for(z=z.child;z!==null;)rf(I,z.alternate,z),z=z.sibling}function Fa(I){for(I=I.child;I!==null;){var z=I;switch(z.tag){case 0:case 11:case 14:case 15:la(4,z,z.return),Fa(z);break;case 1:ps(z,z.return);var X=z.stateNode;typeof X.componentWillUnmount=="function"&&Zh(z,z.return,X),Fa(z);break;case 27:al(z.stateNode);case 26:case 5:ps(z,z.return),Fa(z);break;case 22:z.memoizedState===null&&Fa(z);break;case 30:Fa(z);break;default:Fa(z)}I=I.sibling}}function Ps(I,z,X){for(X=X&&(z.subtreeFlags&8772)!==0,z=z.child;z!==null;){var oe=z.alternate,je=I,Ve=z,Xe=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:Ps(je,Ve,X),Xo(4,Ve);break;case 1:if(Ps(je,Ve,X),oe=Ve,je=oe.stateNode,typeof je.componentDidMount=="function")try{je.componentDidMount()}catch(It){dr(oe,oe.return,It)}if(oe=Ve,je=oe.updateQueue,je!==null){var at=oe.stateNode;try{var gt=je.shared.hiddenCallbacks;if(gt!==null)for(je.shared.hiddenCallbacks=null,je=0;je<gt.length;je++)Fd(gt[je],at)}catch(It){dr(oe,oe.return,It)}}X&&Xe&64&&Qh(Ve),Qo(Ve,Ve.return);break;case 27:tf(Ve);case 26:case 5:Ps(je,Ve,X),X&&oe===null&&Xe&4&&Jh(Ve),Qo(Ve,Ve.return);break;case 12:Ps(je,Ve,X);break;case 31:Ps(je,Ve,X),X&&Xe&4&&of(je,Ve);break;case 13:Ps(je,Ve,X),X&&Xe&4&&lf(je,Ve);break;case 22:Ve.memoizedState===null&&Ps(je,Ve,X),Qo(Ve,Ve.return);break;case 30:break;default:Ps(je,Ve,X)}z=z.sibling}}function Lu(I,z){var X=null;I!==null&&I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(X=I.memoizedState.cachePool.pool),I=null,z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(I=z.memoizedState.cachePool.pool),I!==X&&(I!=null&&I.refCount++,X!=null&&$o(X))}function Bu(I,z){I=null,z.alternate!==null&&(I=z.alternate.memoizedState.cache),z=z.memoizedState.cache,z!==I&&(z.refCount++,I!=null&&$o(I))}function rs(I,z,X,oe){if(z.subtreeFlags&10256)for(z=z.child;z!==null;)df(I,z,X,oe),z=z.sibling}function df(I,z,X,oe){var je=z.flags;switch(z.tag){case 0:case 11:case 15:rs(I,z,X,oe),je&2048&&Xo(9,z);break;case 1:rs(I,z,X,oe);break;case 3:rs(I,z,X,oe),je&2048&&(I=null,z.alternate!==null&&(I=z.alternate.memoizedState.cache),z=z.memoizedState.cache,z!==I&&(z.refCount++,I!=null&&$o(I)));break;case 12:if(je&2048){rs(I,z,X,oe),I=z.stateNode;try{var Ve=z.memoizedProps,Xe=Ve.id,at=Ve.onPostCommit;typeof at=="function"&&at(Xe,z.alternate===null?"mount":"update",I.passiveEffectDuration,-0)}catch(gt){dr(z,z.return,gt)}}else rs(I,z,X,oe);break;case 31:rs(I,z,X,oe);break;case 13:rs(I,z,X,oe);break;case 23:break;case 22:Ve=z.stateNode,Xe=z.alternate,z.memoizedState!==null?Ve._visibility&2?rs(I,z,X,oe):Zo(I,z):Ve._visibility&2?rs(I,z,X,oe):(Ve._visibility|=2,ho(I,z,X,oe,(z.subtreeFlags&10256)!==0||!1)),je&2048&&Lu(Xe,z);break;case 24:rs(I,z,X,oe),je&2048&&Bu(z.alternate,z);break;default:rs(I,z,X,oe)}}function ho(I,z,X,oe,je){for(je=je&&((z.subtreeFlags&10256)!==0||!1),z=z.child;z!==null;){var Ve=I,Xe=z,at=X,gt=oe,It=Xe.flags;switch(Xe.tag){case 0:case 11:case 15:ho(Ve,Xe,at,gt,je),Xo(8,Xe);break;case 23:break;case 22:var Pt=Xe.stateNode;Xe.memoizedState!==null?Pt._visibility&2?ho(Ve,Xe,at,gt,je):Zo(Ve,Xe):(Pt._visibility|=2,ho(Ve,Xe,at,gt,je)),je&&It&2048&&Lu(Xe.alternate,Xe);break;case 24:ho(Ve,Xe,at,gt,je),je&&It&2048&&Bu(Xe.alternate,Xe);break;default:ho(Ve,Xe,at,gt,je)}z=z.sibling}}function Zo(I,z){if(z.subtreeFlags&10256)for(z=z.child;z!==null;){var X=I,oe=z,je=oe.flags;switch(oe.tag){case 22:Zo(X,oe),je&2048&&Lu(oe.alternate,oe);break;case 24:Zo(X,oe),je&2048&&Bu(oe.alternate,oe);break;default:Zo(X,oe)}z=z.sibling}}var Jo=8192;function fo(I,z,X){if(I.subtreeFlags&Jo)for(I=I.child;I!==null;)hf(I,z,X),I=I.sibling}function hf(I,z,X){switch(I.tag){case 26:fo(I,z,X),I.flags&Jo&&I.memoizedState!==null&&zm(X,ns,I.memoizedState,I.memoizedProps);break;case 5:fo(I,z,X);break;case 3:case 4:var oe=ns;ns=mc(I.stateNode.containerInfo),fo(I,z,X),ns=oe;break;case 22:I.memoizedState===null&&(oe=I.alternate,oe!==null&&oe.memoizedState!==null?(oe=Jo,Jo=16777216,fo(I,z,X),Jo=oe):fo(I,z,X));break;default:fo(I,z,X)}}function ff(I){var z=I.alternate;if(z!==null&&(I=z.child,I!==null)){z.child=null;do z=I.sibling,I.sibling=null,I=z;while(I!==null)}}function el(I){var z=I.deletions;if((I.flags&16)!==0){if(z!==null)for(var X=0;X<z.length;X++){var oe=z[X];ti=oe,mf(oe,I)}ff(I)}if(I.subtreeFlags&10256)for(I=I.child;I!==null;)pf(I),I=I.sibling}function pf(I){switch(I.tag){case 0:case 11:case 15:el(I),I.flags&2048&&la(9,I,I.return);break;case 3:el(I);break;case 12:el(I);break;case 22:var z=I.stateNode;I.memoizedState!==null&&z._visibility&2&&(I.return===null||I.return.tag!==13)?(z._visibility&=-3,nc(I)):el(I);break;default:el(I)}}function nc(I){var z=I.deletions;if((I.flags&16)!==0){if(z!==null)for(var X=0;X<z.length;X++){var oe=z[X];ti=oe,mf(oe,I)}ff(I)}for(I=I.child;I!==null;){switch(z=I,z.tag){case 0:case 11:case 15:la(8,z,z.return),nc(z);break;case 22:X=z.stateNode,X._visibility&2&&(X._visibility&=-3,nc(z));break;default:nc(z)}I=I.sibling}}function mf(I,z){for(;ti!==null;){var X=ti;switch(X.tag){case 0:case 11:case 15:la(8,X,z);break;case 23:case 22:if(X.memoizedState!==null&&X.memoizedState.cachePool!==null){var oe=X.memoizedState.cachePool.pool;oe!=null&&oe.refCount++}break;case 24:$o(X.memoizedState.cache)}if(oe=X.child,oe!==null)oe.return=X,ti=oe;else e:for(X=I;ti!==null;){oe=ti;var je=oe.sibling,Ve=oe.return;if(sf(oe),oe===X){ti=null;break e}if(je!==null){je.return=Ve,ti=je;break e}ti=Ve}}}var em={getCacheForType:function(I){var z=ii(Vr),X=z.data.get(I);return X===void 0&&(X=I(),z.data.set(I,X)),X},cacheSignal:function(){return ii(Vr).controller.signal}},tm=typeof WeakMap=="function"?WeakMap:Map,ar=0,vr=null,Vn=null,Wn=0,ur=0,ji=null,ca=!1,po=!1,Fu=!1,$s=0,Or=0,ua=0,za=0,zu=0,Oi=0,mo=0,tl=null,wi=null,Hu=!1,rc=0,gf=0,ic=1/0,sc=null,da=null,Zr=0,ha=null,go=null,Ls=0,Vu=0,Uu=null,xf=null,nl=0,Gu=null;function Pi(){return(ar&2)!==0&&Wn!==0?Wn&-Wn:Ke.T!==null?Qu():en()}function yf(){if(Oi===0)if((Wn&536870912)===0||Zn){var I=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Oi=I}else Oi=536870912;return I=Mi.current,I!==null&&(I.flags|=32),Oi}function _i(I,z,X){(I===vr&&(ur===2||ur===9)||I.cancelPendingCommit!==null)&&(xo(I,0),fa(I,Wn,Oi,!1)),Li(I,X),((ar&2)===0||I!==vr)&&(I===vr&&((ar&2)===0&&(za|=X),Or===4&&fa(I,Wn,Oi,!1)),ms(I))}function vf(I,z,X){if((ar&6)!==0)throw Error(b(327));var oe=!X&&(z&127)===0&&(z&I.expiredLanes)===0||Fr(I,z),je=oe?am(I,z):Wu(I,z,!0),Ve=oe;do{if(je===0){po&&!oe&&fa(I,z,0,!1);break}else{if(X=I.current.alternate,Ve&&!im(X)){je=Wu(I,z,!1),Ve=!1;continue}if(je===2){if(Ve=z,I.errorRecoveryDisabledLanes&Ve)var Xe=0;else Xe=I.pendingLanes&-536870913,Xe=Xe!==0?Xe:Xe&536870912?536870912:0;if(Xe!==0){z=Xe;e:{var at=I;je=tl;var gt=at.current.memoizedState.isDehydrated;if(gt&&(xo(at,Xe).flags|=256),Xe=Wu(at,Xe,!1),Xe!==2){if(Fu&&!gt){at.errorRecoveryDisabledLanes|=Ve,za|=Ve,je=4;break e}Ve=wi,wi=je,Ve!==null&&(wi===null?wi=Ve:wi.push.apply(wi,Ve))}je=Xe}if(Ve=!1,je!==2)continue}}if(je===1){xo(I,0),fa(I,z,0,!0);break}e:{switch(oe=I,Ve=je,Ve){case 0:case 1:throw Error(b(345));case 4:if((z&4194048)!==z)break;case 6:fa(oe,z,Oi,!ca);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(b(329))}if((z&62914560)===z&&(je=rc+300-Ht(),10<je)){if(fa(oe,z,Oi,!ca),xs(oe,0,!0)!==0)break e;Ls=z,oe.timeoutHandle=Xf(Ef.bind(null,oe,X,wi,sc,Hu,z,Oi,za,mo,ca,Ve,"Throttled",-0,0),je);break e}Ef(oe,X,wi,sc,Hu,z,Oi,za,mo,ca,Ve,null,-0,0)}}break}while(!0);ms(I)}function Ef(I,z,X,oe,je,Ve,Xe,at,gt,It,Pt,Lt,kt,jt){if(I.timeoutHandle=-1,Lt=z.subtreeFlags,Lt&8192||(Lt&16785408)===16785408){Lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},hf(z,Ve,Lt);var an=(Ve&62914560)===Ve?rc-Ht():(Ve&4194048)===Ve?gf-Ht():0;if(an=Hm(Lt,an),an!==null){Ls=Ve,I.cancelPendingCommit=an(Af.bind(null,I,z,Ve,X,oe,je,Xe,at,gt,Pt,Lt,null,kt,jt)),fa(I,Ve,Xe,!It);return}}Af(I,z,Ve,X,oe,je,Xe,at,gt)}function im(I){for(var z=I;;){var X=z.tag;if((X===0||X===11||X===15)&&z.flags&16384&&(X=z.updateQueue,X!==null&&(X=X.stores,X!==null)))for(var oe=0;oe<X.length;oe++){var je=X[oe],Ve=je.getSnapshot;je=je.value;try{if(!fe(Ve(),je))return!1}catch{return!1}}if(X=z.child,z.subtreeFlags&16384&&X!==null)X.return=z,z=X;else{if(z===I)break;for(;z.sibling===null;){if(z.return===null||z.return===I)return!0;z=z.return}z.sibling.return=z.return,z=z.sibling}}return!0}function fa(I,z,X,oe){z&=~zu,z&=~za,I.suspendedLanes|=z,I.pingedLanes&=~z,oe&&(I.warmLanes|=z),oe=I.expirationTimes;for(var je=z;0<je;){var Ve=31-Sn(je),Xe=1<<Ve;oe[Ve]=-1,je&=~Xe}X!==0&&mt(I,X,z)}function ac(){return(ar&6)===0?(rl(0),!1):!0}function qu(){if(Vn!==null){if(ur===0)var I=Vn.return;else I=Vn,Ts=Ma=null,lu(I),ao=null,Bo=0,I=Vn;for(;I!==null;)Xh(I.alternate,I),I=I.return;Vn=null}}function xo(I,z){var X=I.timeoutHandle;X!==-1&&(I.timeoutHandle=-1,_m(X)),X=I.cancelPendingCommit,X!==null&&(I.cancelPendingCommit=null,X()),Ls=0,qu(),vr=I,Vn=X=Cs(I.current,null),Wn=z,ur=0,ji=null,ca=!1,po=Fr(I,z),Fu=!1,mo=Oi=zu=za=ua=Or=0,wi=tl=null,Hu=!1,(z&8)!==0&&(z|=z&32);var oe=I.entangledLanes;if(oe!==0)for(I=I.entanglements,oe&=z;0<oe;){var je=31-Sn(oe),Ve=1<<je;z|=I[je],oe&=~Ve}return $s=z,Rl(),X}function bf(I,z){kn=null,Ke.H=Wo,z===so||z===Ol?(z=Pd(),ur=3):z===Xc?(z=Pd(),ur=4):ur=z===_u?8:z!==null&&typeof z=="object"&&typeof z.then=="function"?6:1,ji=z,Vn===null&&(Or=1,Kl(I,Hi(z,I.current)))}function Sf(){var I=Mi.current;return I===null?!0:(Wn&4194048)===Wn?qi===null:(Wn&62914560)===Wn||(Wn&536870912)!==0?I===qi:!1}function wf(){var I=Ke.H;return Ke.H=Wo,I===null?Wo:I}function _f(){var I=Ke.A;return Ke.A=em,I}function oc(){Or=4,ca||(Wn&4194048)!==Wn&&Mi.current!==null||(po=!0),(ua&134217727)===0&&(za&134217727)===0||vr===null||fa(vr,Wn,Oi,!1)}function Wu(I,z,X){var oe=ar;ar|=2;var je=wf(),Ve=_f();(vr!==I||Wn!==z)&&(sc=null,xo(I,z)),z=!1;var Xe=Or;e:do try{if(ur!==0&&Vn!==null){var at=Vn,gt=ji;switch(ur){case 8:qu(),Xe=6;break e;case 3:case 2:case 9:case 6:Mi.current===null&&(z=!0);var It=ur;if(ur=0,ji=null,yo(I,at,gt,It),X&&po){Xe=0;break e}break;default:It=ur,ur=0,ji=null,yo(I,at,gt,It)}}sm(),Xe=Or;break}catch(Pt){bf(I,Pt)}while(!0);return z&&I.shellSuspendCounter++,Ts=Ma=null,ar=oe,Ke.H=je,Ke.A=Ve,Vn===null&&(vr=null,Wn=0,Rl()),Xe}function sm(){for(;Vn!==null;)Cf(Vn)}function am(I,z){var X=ar;ar|=2;var oe=wf(),je=_f();vr!==I||Wn!==z?(sc=null,ic=Ht()+500,xo(I,z)):po=Fr(I,z);e:do try{if(ur!==0&&Vn!==null){z=Vn;var Ve=ji;t:switch(ur){case 1:ur=0,ji=null,yo(I,z,Ve,1);break;case 2:case 9:if(jd(Ve)){ur=0,ji=null,Rf(z);break}z=function(){ur!==2&&ur!==9||vr!==I||(ur=7),ms(I)},Ve.then(z,z);break e;case 3:ur=7;break e;case 4:ur=5;break e;case 7:jd(Ve)?(ur=0,ji=null,Rf(z)):(ur=0,ji=null,yo(I,z,Ve,7));break;case 5:var Xe=null;switch(Vn.tag){case 26:Xe=Vn.memoizedState;case 5:case 27:var at=Vn;if(Xe?fp(Xe):at.stateNode.complete){ur=0,ji=null;var gt=at.sibling;if(gt!==null)Vn=gt;else{var It=at.return;It!==null?(Vn=It,lc(It)):Vn=null}break t}}ur=0,ji=null,yo(I,z,Ve,5);break;case 6:ur=0,ji=null,yo(I,z,Ve,6);break;case 8:qu(),Or=6;break e;default:throw Error(b(462))}}om();break}catch(Pt){bf(I,Pt)}while(!0);return Ts=Ma=null,Ke.H=oe,Ke.A=je,ar=X,Vn!==null?0:(vr=null,Wn=0,Rl(),Or)}function om(){for(;Vn!==null&&!Wr();)Cf(Vn)}function Cf(I){var z=Yh(I.alternate,I,$s);I.memoizedProps=I.pendingProps,z===null?lc(I):Vn=z}function Rf(I){var z=I,X=z.alternate;switch(z.tag){case 15:case 0:z=Hh(X,z,z.pendingProps,z.type,void 0,Wn);break;case 11:z=Hh(X,z,z.pendingProps,z.type.render,z.ref,Wn);break;case 5:lu(z);default:Xh(X,z),z=Vn=wd(z,$s),z=Yh(X,z,$s)}I.memoizedProps=I.pendingProps,z===null?lc(I):Vn=z}function yo(I,z,X,oe){Ts=Ma=null,lu(z),ao=null,Bo=0;var je=z.return;try{if(Wp(I,je,z,X,Wn)){Or=1,Kl(I,Hi(X,I.current)),Vn=null;return}}catch(Ve){if(je!==null)throw Vn=je,Ve;Or=1,Kl(I,Hi(X,I.current)),Vn=null;return}z.flags&32768?(Zn||oe===1?I=!0:po||(Wn&536870912)!==0?I=!1:(ca=I=!0,(oe===2||oe===9||oe===3||oe===6)&&(oe=Mi.current,oe!==null&&oe.tag===13&&(oe.flags|=16384))),Tf(z,I)):lc(z)}function lc(I){var z=I;do{if((z.flags&32768)!==0){Tf(z,ca);return}I=z.return;var X=Xp(z.alternate,z,$s);if(X!==null){Vn=X;return}if(z=z.sibling,z!==null){Vn=z;return}Vn=z=I}while(z!==null);Or===0&&(Or=5)}function Tf(I,z){do{var X=Qp(I.alternate,I);if(X!==null){X.flags&=32767,Vn=X;return}if(X=I.return,X!==null&&(X.flags|=32768,X.subtreeFlags=0,X.deletions=null),!z&&(I=I.sibling,I!==null)){Vn=I;return}Vn=I=X}while(I!==null);Or=6,Vn=null}function Af(I,z,X,oe,je,Ve,Xe,at,gt){I.cancelPendingCommit=null;do cc();while(Zr!==0);if((ar&6)!==0)throw Error(b(327));if(z!==null){if(z===I.current)throw Error(b(177));if(Ve=z.lanes|z.childLanes,Ve|=Oc,mi(I,X,Ve,Xe,at,gt),I===vr&&(Vn=vr=null,Wn=0),go=z,ha=I,Ls=X,Vu=Ve,Uu=je,xf=oe,(z.subtreeFlags&10256)!==0||(z.flags&10256)!==0?(I.callbackNode=null,I.callbackPriority=0,dm(In,function(){return Df(),null})):(I.callbackNode=null,I.callbackPriority=0),oe=(z.flags&13878)!==0,(z.subtreeFlags&13878)!==0||oe){oe=Ke.T,Ke.T=null,je=Je.p,Je.p=2,Xe=ar,ar|=4;try{Zp(I,z,X)}finally{ar=Xe,Je.p=je,Ke.T=oe}}Zr=1,If(),kf(),Nf()}}function If(){if(Zr===1){Zr=0;var I=ha,z=go,X=(z.flags&13878)!==0;if((z.subtreeFlags&13878)!==0||X){X=Ke.T,Ke.T=null;var oe=Je.p;Je.p=2;var je=ar;ar|=4;try{cf(z,I);var Ve=sd,Xe=rt(I.containerInfo),at=Ve.focusedElem,gt=Ve.selectionRange;if(Xe!==at&&at&&at.ownerDocument&&Ye(at.ownerDocument.documentElement,at)){if(gt!==null&&st(at)){var It=gt.start,Pt=gt.end;if(Pt===void 0&&(Pt=It),"selectionStart"in at)at.selectionStart=It,at.selectionEnd=Math.min(Pt,at.value.length);else{var Lt=at.ownerDocument||document,kt=Lt&&Lt.defaultView||window;if(kt.getSelection){var jt=kt.getSelection(),an=at.textContent.length,En=Math.min(gt.start,an),mr=gt.end===void 0?En:Math.min(gt.end,an);!jt.extend&&En>mr&&(Xe=mr,mr=En,En=Xe);var _t=Ge(at,En),bt=Ge(at,mr);if(_t&&bt&&(jt.rangeCount!==1||jt.anchorNode!==_t.node||jt.anchorOffset!==_t.offset||jt.focusNode!==bt.node||jt.focusOffset!==bt.offset)){var At=Lt.createRange();At.setStart(_t.node,_t.offset),jt.removeAllRanges(),En>mr?(jt.addRange(At),jt.extend(bt.node,bt.offset)):(At.setEnd(bt.node,bt.offset),jt.addRange(At))}}}}for(Lt=[],jt=at;jt=jt.parentNode;)jt.nodeType===1&&Lt.push({element:jt,left:jt.scrollLeft,top:jt.scrollTop});for(typeof at.focus=="function"&&at.focus(),at=0;at<Lt.length;at++){var $t=Lt[at];$t.element.scrollLeft=$t.left,$t.element.scrollTop=$t.top}}bc=!!id,sd=id=null}finally{ar=je,Je.p=oe,Ke.T=X}}I.current=z,Zr=2}}function kf(){if(Zr===2){Zr=0;var I=ha,z=go,X=(z.flags&8772)!==0;if((z.subtreeFlags&8772)!==0||X){X=Ke.T,Ke.T=null;var oe=Je.p;Je.p=2;var je=ar;ar|=4;try{rf(I,z.alternate,z)}finally{ar=je,Je.p=oe,Ke.T=X}}Zr=3}}function Nf(){if(Zr===4||Zr===3){Zr=0,Mr();var I=ha,z=go,X=Ls,oe=xf;(z.subtreeFlags&10256)!==0||(z.flags&10256)!==0?Zr=5:(Zr=0,go=ha=null,Mf(I,I.pendingLanes));var je=I.pendingLanes;if(je===0&&(da=null),Wt(X),z=z.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Dn,z,void 0,(z.current.flags&128)===128)}catch{}if(oe!==null){z=Ke.T,je=Je.p,Je.p=2,Ke.T=null;try{for(var Ve=I.onRecoverableError,Xe=0;Xe<oe.length;Xe++){var at=oe[Xe];Ve(at.value,{componentStack:at.stack})}}finally{Ke.T=z,Je.p=je}}(Ls&3)!==0&&cc(),ms(I),je=I.pendingLanes,(X&261930)!==0&&(je&42)!==0?I===Gu?nl++:(nl=0,Gu=I):nl=0,rl(0)}}function Mf(I,z){(I.pooledCacheLanes&=z)===0&&(z=I.pooledCache,z!=null&&(I.pooledCache=null,$o(z)))}function cc(){return If(),kf(),Nf(),Df()}function Df(){if(Zr!==5)return!1;var I=ha,z=Vu;Vu=0;var X=Wt(Ls),oe=Ke.T,je=Je.p;try{Je.p=32>X?32:X,Ke.T=null,X=Uu,Uu=null;var Ve=ha,Xe=Ls;if(Zr=0,go=ha=null,Ls=0,(ar&6)!==0)throw Error(b(331));var at=ar;if(ar|=4,pf(Ve.current),df(Ve,Ve.current,Xe,X),ar=at,rl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Dn,Ve)}catch{}return!0}finally{Je.p=je,Ke.T=oe,Mf(I,z)}}function jf(I,z,X){z=Hi(X,z),z=wu(I.stateNode,z,2),I=sa(I,z,2),I!==null&&(Li(I,2),ms(I))}function dr(I,z,X){if(I.tag===3)jf(I,I,X);else for(;z!==null;){if(z.tag===3){jf(z,I,X);break}else if(z.tag===1){var oe=z.stateNode;if(typeof z.type.getDerivedStateFromError=="function"||typeof oe.componentDidCatch=="function"&&(da===null||!da.has(oe))){I=Hi(X,I),X=jh(2),oe=sa(z,X,2),oe!==null&&(Oh(X,oe,z,I),Li(oe,2),ms(oe));break}}z=z.return}}function Yu(I,z,X){var oe=I.pingCache;if(oe===null){oe=I.pingCache=new tm;var je=new Set;oe.set(z,je)}else je=oe.get(z),je===void 0&&(je=new Set,oe.set(z,je));je.has(X)||(Fu=!0,je.add(X),I=lm.bind(null,I,z,X),z.then(I,I))}function lm(I,z,X){var oe=I.pingCache;oe!==null&&oe.delete(z),I.pingedLanes|=I.suspendedLanes&X,I.warmLanes&=~X,vr===I&&(Wn&X)===X&&(Or===4||Or===3&&(Wn&62914560)===Wn&&300>Ht()-rc?(ar&2)===0&&xo(I,0):zu|=X,mo===Wn&&(mo=0)),ms(I)}function Of(I,z){z===0&&(z=Rr()),I=Ia(I,z),I!==null&&(Li(I,z),ms(I))}function cm(I){var z=I.memoizedState,X=0;z!==null&&(X=z.retryLane),Of(I,X)}function um(I,z){var X=0;switch(I.tag){case 31:case 13:var oe=I.stateNode,je=I.memoizedState;je!==null&&(X=je.retryLane);break;case 19:oe=I.stateNode;break;case 22:oe=I.stateNode._retryCache;break;default:throw Error(b(314))}oe!==null&&oe.delete(z),Of(I,X)}function dm(I,z){return br(I,z)}var uc=null,vo=null,Ku=!1,dc=!1,Xu=!1,pa=0;function ms(I){I!==vo&&I.next===null&&(vo===null?uc=vo=I:vo=vo.next=I),dc=!0,Ku||(Ku=!0,fm())}function rl(I,z){if(!Xu&&dc){Xu=!0;do for(var X=!1,oe=uc;oe!==null;){if(I!==0){var je=oe.pendingLanes;if(je===0)var Ve=0;else{var Xe=oe.suspendedLanes,at=oe.pingedLanes;Ve=(1<<31-Sn(42|I)+1)-1,Ve&=je&~(Xe&~at),Ve=Ve&201326741?Ve&201326741|1:Ve?Ve|2:0}Ve!==0&&(X=!0,Bf(oe,Ve))}else Ve=Wn,Ve=xs(oe,oe===vr?Ve:0,oe.cancelPendingCommit!==null||oe.timeoutHandle!==-1),(Ve&3)===0||Fr(oe,Ve)||(X=!0,Bf(oe,Ve));oe=oe.next}while(X);Xu=!1}}function hm(){Pf()}function Pf(){dc=Ku=!1;var I=0;pa!==0&&wm()&&(I=pa);for(var z=Ht(),X=null,oe=uc;oe!==null;){var je=oe.next,Ve=$f(oe,z);Ve===0?(oe.next=null,X===null?uc=je:X.next=je,je===null&&(vo=X)):(X=oe,(I!==0||(Ve&3)!==0)&&(dc=!0)),oe=je}Zr!==0&&Zr!==5||rl(I),pa!==0&&(pa=0)}function $f(I,z){for(var X=I.suspendedLanes,oe=I.pingedLanes,je=I.expirationTimes,Ve=I.pendingLanes&-62914561;0<Ve;){var Xe=31-Sn(Ve),at=1<<Xe,gt=je[Xe];gt===-1?((at&X)===0||(at&oe)!==0)&&(je[Xe]=ss(at,z)):gt<=z&&(I.expiredLanes|=at),Ve&=~at}if(z=vr,X=Wn,X=xs(I,I===z?X:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),oe=I.callbackNode,X===0||I===z&&(ur===2||ur===9)||I.cancelPendingCommit!==null)return oe!==null&&oe!==null&&Kt(oe),I.callbackNode=null,I.callbackPriority=0;if((X&3)===0||Fr(I,X)){if(z=X&-X,z===I.callbackPriority)return z;switch(oe!==null&&Kt(oe),Wt(X)){case 2:case 8:X=An;break;case 32:X=In;break;case 268435456:X=Yr;break;default:X=In}return oe=Lf.bind(null,I),X=br(X,oe),I.callbackPriority=z,I.callbackNode=X,z}return oe!==null&&oe!==null&&Kt(oe),I.callbackPriority=2,I.callbackNode=null,2}function Lf(I,z){if(Zr!==0&&Zr!==5)return I.callbackNode=null,I.callbackPriority=0,null;var X=I.callbackNode;if(cc()&&I.callbackNode!==X)return null;var oe=Wn;return oe=xs(I,I===vr?oe:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),oe===0?null:(vf(I,oe,z),$f(I,Ht()),I.callbackNode!=null&&I.callbackNode===X?Lf.bind(null,I):null)}function Bf(I,z){if(cc())return null;vf(I,z,!0)}function fm(){Cm(function(){(ar&6)!==0?br(yn,hm):Pf()})}function Qu(){if(pa===0){var I=ro;I===0&&(I=is,is<<=1,(is&261888)===0&&(is=256)),pa=I}return pa}function Ff(I){return I==null||typeof I=="symbol"||typeof I=="boolean"?null:typeof I=="function"?I:Us(""+I)}function zf(I,z){var X=z.ownerDocument.createElement("input");return X.name=z.name,X.value=z.value,I.id&&X.setAttribute("form",I.id),z.parentNode.insertBefore(X,z),I=new FormData(I),X.parentNode.removeChild(X),I}function pm(I,z,X,oe,je){if(z==="submit"&&X&&X.stateNode===je){var Ve=Ff((je[Xt]||null).action),Xe=oe.submitter;Xe&&(z=(z=Xe[Xt]||null)?Ff(z.formAction):Xe.getAttribute("formAction"),z!==null&&(Ve=z,Xe=null));var at=new Kr("action","action",null,oe,je);I.push({event:at,listeners:[{instance:null,listener:function(){if(oe.defaultPrevented){if(pa!==0){var gt=Xe?zf(je,Xe):new FormData(je);xu(X,{pending:!0,data:gt,method:je.method,action:Ve},null,gt)}}else typeof Ve=="function"&&(at.preventDefault(),gt=Xe?zf(je,Xe):new FormData(je),xu(X,{pending:!0,data:gt,method:je.method,action:Ve},Ve,gt))},currentTarget:je}]})}}for(var Zu=0;Zu<jo.length;Zu++){var Ju=jo[Zu],mm=Ju.toLowerCase(),gm=Ju[0].toUpperCase()+Ju.slice(1);Ji(mm,"on"+gm)}Ji(vi,"onAnimationEnd"),Ji(ni,"onAnimationIteration"),Ji(cr,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Qr,"onTransitionRun"),Ji(ui,"onTransitionStart"),Ji(Qs,"onTransitionCancel"),Ji(_s,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Hf(I,z){z=(z&4)!==0;for(var X=0;X<I.length;X++){var oe=I[X],je=oe.event;oe=oe.listeners;e:{var Ve=void 0;if(z)for(var Xe=oe.length-1;0<=Xe;Xe--){var at=oe[Xe],gt=at.instance,It=at.currentTarget;if(at=at.listener,gt!==Ve&&je.isPropagationStopped())break e;Ve=at,je.currentTarget=It;try{Ve(je)}catch(Pt){Cl(Pt)}je.currentTarget=null,Ve=gt}else for(Xe=0;Xe<oe.length;Xe++){if(at=oe[Xe],gt=at.instance,It=at.currentTarget,at=at.listener,gt!==Ve&&je.isPropagationStopped())break e;Ve=at,je.currentTarget=It;try{Ve(je)}catch(Pt){Cl(Pt)}je.currentTarget=null,Ve=gt}}}}function Un(I,z){var X=z[on];X===void 0&&(X=z[on]=new Set);var oe=I+"__bubble";X.has(oe)||(Vf(z,I,2,!1),X.add(oe))}function ed(I,z,X){var oe=0;z&&(oe|=4),Vf(X,I,oe,z)}var hc="_reactListening"+Math.random().toString(36).slice(2);function td(I){if(!I[hc]){I[hc]=!0,zt.forEach(function(X){X!=="selectionchange"&&(xm.has(X)||ed(X,!1,I),ed(X,!0,I))});var z=I.nodeType===9?I:I.ownerDocument;z===null||z[hc]||(z[hc]=!0,ed("selectionchange",!1,z))}}function Vf(I,z,X,oe){switch(Ep(z)){case 2:var je=Gm;break;case 8:je=qm;break;default:je=gd}X=je.bind(null,z,X,I),je=void 0,!To||z!=="touchstart"&&z!=="touchmove"&&z!=="wheel"||(je=!0),oe?je!==void 0?I.addEventListener(z,X,{capture:!0,passive:je}):I.addEventListener(z,X,!0):je!==void 0?I.addEventListener(z,X,{passive:je}):I.addEventListener(z,X,!1)}function nd(I,z,X,oe,je){var Ve=oe;if((z&1)===0&&(z&2)===0&&oe!==null)e:for(;;){if(oe===null)return;var Xe=oe.tag;if(Xe===3||Xe===4){var at=oe.stateNode.containerInfo;if(at===je)break;if(Xe===4)for(Xe=oe.return;Xe!==null;){var gt=Xe.tag;if((gt===3||gt===4)&&Xe.stateNode.containerInfo===je)return;Xe=Xe.return}for(;at!==null;){if(Xe=wn(at),Xe===null)return;if(gt=Xe.tag,gt===5||gt===6||gt===26||gt===27){oe=Ve=Xe;continue e}at=at.parentNode}}oe=oe.return}pl(function(){var It=Ve,Pt=Ro(X),Lt=[];e:{var kt=_l.get(I);if(kt!==void 0){var jt=Kr,an=I;switch(I){case"keypress":if(ls(X)===0)break e;case"keydown":case"keyup":jt=Ya;break;case"focusin":an="focus",jt=ko;break;case"focusout":an="blur",jt=ko;break;case"beforeblur":case"afterblur":jt=ko;break;case"click":if(X.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=Mc;break;case vi:case ni:case cr:jt=Nn;break;case _s:jt=Es;break;case"scroll":case"scrollend":jt=ml;break;case"wheel":jt=Dc;break;case"copy":case"cut":case"paste":jt=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=lr;break;case"toggle":case"beforetoggle":jt=Mo}var En=(z&4)!==0,mr=!En&&(I==="scroll"||I==="scrollend"),_t=En?kt!==null?kt+"Capture":null:kt;En=[];for(var bt=It,At;bt!==null;){var $t=bt;if(At=$t.stateNode,$t=$t.tag,$t!==5&&$t!==26&&$t!==27||At===null||_t===null||($t=Cn(bt,_t),$t!=null&&En.push(sl(bt,$t,At))),mr)break;bt=bt.return}0<En.length&&(kt=new jt(kt,an,null,X,Pt),Lt.push({event:kt,listeners:En}))}}if((z&7)===0){e:{if(kt=I==="mouseover"||I==="pointerover",jt=I==="mouseout"||I==="pointerout",kt&&X!==ba&&(an=X.relatedTarget||X.fromElement)&&(wn(an)||an[cn]))break e;if((jt||kt)&&(kt=Pt.window===Pt?Pt:(kt=Pt.ownerDocument)?kt.defaultView||kt.parentWindow:window,jt?(an=X.relatedTarget||X.toElement,jt=It,an=an?wn(an):null,an!==null&&(mr=T(an),En=an.tag,an!==mr||En!==5&&En!==27&&En!==6)&&(an=null)):(jt=null,an=It),jt!==an)){if(En=sr,$t="onMouseLeave",_t="onMouseEnter",bt="mouse",(I==="pointerout"||I==="pointerover")&&(En=lr,$t="onPointerLeave",_t="onPointerEnter",bt="pointer"),mr=jt==null?kt:gi(jt),At=an==null?kt:gi(an),kt=new En($t,bt+"leave",jt,X,Pt),kt.target=mr,kt.relatedTarget=At,$t=null,wn(Pt)===It&&(En=new En(_t,bt+"enter",an,X,Pt),En.target=At,En.relatedTarget=mr,$t=En),mr=$t,jt&&an)t:{for(En=ym,_t=jt,bt=an,At=0,$t=_t;$t;$t=En($t))At++;$t=0;for(var fn=bt;fn;fn=En(fn))$t++;for(;0<At-$t;)_t=En(_t),At--;for(;0<$t-At;)bt=En(bt),$t--;for(;At--;){if(_t===bt||bt!==null&&_t===bt.alternate){En=_t;break t}_t=En(_t),bt=En(bt)}En=null}else En=null;jt!==null&&Uf(Lt,kt,jt,En,!1),an!==null&&mr!==null&&Uf(Lt,mr,an,En,!0)}}e:{if(kt=It?gi(It):window,jt=kt.nodeName&&kt.nodeName.toLowerCase(),jt==="select"||jt==="input"&&kt.type==="file")var er=ki;else if(Do(kt))if(wl)er=ee;else{er=G;var un=M}else jt=kt.nodeName,!jt||jt.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?It&&gr(It.elementType)&&(er=ki):er=q;if(er&&(er=er(I,It))){Ii(Lt,er,X,Pt);break e}un&&un(I,kt,It),I==="focusout"&&It&&kt.type==="number"&&It.memoizedProps.value!=null&&ut(kt,"number",kt.value)}switch(un=It?gi(It):window,I){case"focusin":(Do(un)||un.contentEditable==="true")&&(xt=un,vt=It,Ct=null);break;case"focusout":Ct=vt=xt=null;break;case"mousedown":Mt=!0;break;case"contextmenu":case"mouseup":case"dragend":Mt=!1,qt(Lt,X,Pt);break;case"selectionchange":if(ht)break;case"keydown":case"keyup":qt(Lt,X,Pt)}var Mn;if(_a)e:{switch(I){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else Xs?Sl(I,X)&&(Yn="onCompositionEnd"):I==="keydown"&&X.keyCode===229&&(Yn="onCompositionStart");Yn&&(bl&&X.locale!=="ko"&&(Xs||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&Xs&&(Mn=Gs()):(Qi=Pt,Zi="value"in Qi?Qi.value:Qi.textContent,Xs=!0)),un=fc(It,Yn),0<un.length&&(Yn=new yl(Yn,I,null,X,Pt),Lt.push({event:Yn,listeners:un}),Mn?Yn.data=Mn:(Mn=Ks(X),Mn!==null&&(Yn.data=Mn)))),(Mn=El?ds(I,X):Xa(I,X))&&(Yn=fc(It,"onBeforeInput"),0<Yn.length&&(un=new yl("onBeforeInput","beforeinput",null,X,Pt),Lt.push({event:un,listeners:Yn}),un.data=Mn)),pm(Lt,I,It,X,Pt)}Hf(Lt,z)})}function sl(I,z,X){return{instance:I,listener:z,currentTarget:X}}function fc(I,z){for(var X=z+"Capture",oe=[];I!==null;){var je=I,Ve=je.stateNode;if(je=je.tag,je!==5&&je!==26&&je!==27||Ve===null||(je=Cn(I,X),je!=null&&oe.unshift(sl(I,je,Ve)),je=Cn(I,z),je!=null&&oe.push(sl(I,je,Ve))),I.tag===3)return oe;I=I.return}return[]}function ym(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5&&I.tag!==27);return I||null}function Uf(I,z,X,oe,je){for(var Ve=z._reactName,Xe=[];X!==null&&X!==oe;){var at=X,gt=at.alternate,It=at.stateNode;if(at=at.tag,gt!==null&&gt===oe)break;at!==5&&at!==26&&at!==27||It===null||(gt=It,je?(It=Cn(X,Ve),It!=null&&Xe.unshift(sl(X,It,gt))):je||(It=Cn(X,Ve),It!=null&&Xe.push(sl(X,It,gt)))),X=X.return}Xe.length!==0&&I.push({event:z,listeners:Xe})}var vm=/\r\n?/g,Em=/\u0000|\uFFFD/g;function Gf(I){return(typeof I=="string"?I:""+I).replace(vm,`
`).replace(Em,"")}function qf(I,z){return z=Gf(z),Gf(I)===z}function pr(I,z,X,oe,je,Ve){switch(X){case"children":typeof oe=="string"?z==="body"||z==="textarea"&&oe===""||Vs(I,oe):(typeof oe=="number"||typeof oe=="bigint")&&z!=="body"&&Vs(I,""+oe);break;case"className":ir(I,"class",oe);break;case"tabIndex":ir(I,"tabindex",oe);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(I,X,oe);break;case"style":hn(I,oe,Ve);break;case"data":if(z!=="object"){ir(I,"data",oe);break}case"src":case"href":if(oe===""&&(z!=="a"||X!=="href")){I.removeAttribute(X);break}if(oe==null||typeof oe=="function"||typeof oe=="symbol"||typeof oe=="boolean"){I.removeAttribute(X);break}oe=Us(""+oe),I.setAttribute(X,oe);break;case"action":case"formAction":if(typeof oe=="function"){I.setAttribute(X,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ve=="function"&&(X==="formAction"?(z!=="input"&&pr(I,z,"name",je.name,je,null),pr(I,z,"formEncType",je.formEncType,je,null),pr(I,z,"formMethod",je.formMethod,je,null),pr(I,z,"formTarget",je.formTarget,je,null)):(pr(I,z,"encType",je.encType,je,null),pr(I,z,"method",je.method,je,null),pr(I,z,"target",je.target,je,null)));if(oe==null||typeof oe=="symbol"||typeof oe=="boolean"){I.removeAttribute(X);break}oe=Us(""+oe),I.setAttribute(X,oe);break;case"onClick":oe!=null&&(I.onclick=xi);break;case"onScroll":oe!=null&&Un("scroll",I);break;case"onScrollEnd":oe!=null&&Un("scrollend",I);break;case"dangerouslySetInnerHTML":if(oe!=null){if(typeof oe!="object"||!("__html"in oe))throw Error(b(61));if(X=oe.__html,X!=null){if(je.children!=null)throw Error(b(60));I.innerHTML=X}}break;case"multiple":I.multiple=oe&&typeof oe!="function"&&typeof oe!="symbol";break;case"muted":I.muted=oe&&typeof oe!="function"&&typeof oe!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(oe==null||typeof oe=="function"||typeof oe=="boolean"||typeof oe=="symbol"){I.removeAttribute("xlink:href");break}X=Us(""+oe),I.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",X);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":oe!=null&&typeof oe!="function"&&typeof oe!="symbol"?I.setAttribute(X,""+oe):I.removeAttribute(X);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":oe&&typeof oe!="function"&&typeof oe!="symbol"?I.setAttribute(X,""):I.removeAttribute(X);break;case"capture":case"download":oe===!0?I.setAttribute(X,""):oe!==!1&&oe!=null&&typeof oe!="function"&&typeof oe!="symbol"?I.setAttribute(X,oe):I.removeAttribute(X);break;case"cols":case"rows":case"size":case"span":oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&!isNaN(oe)&&1<=oe?I.setAttribute(X,oe):I.removeAttribute(X);break;case"rowSpan":case"start":oe==null||typeof oe=="function"||typeof oe=="symbol"||isNaN(oe)?I.removeAttribute(X):I.setAttribute(X,oe);break;case"popover":Un("beforetoggle",I),Un("toggle",I),oi(I,"popover",oe);break;case"xlinkActuate":ei(I,"http://www.w3.org/1999/xlink","xlink:actuate",oe);break;case"xlinkArcrole":ei(I,"http://www.w3.org/1999/xlink","xlink:arcrole",oe);break;case"xlinkRole":ei(I,"http://www.w3.org/1999/xlink","xlink:role",oe);break;case"xlinkShow":ei(I,"http://www.w3.org/1999/xlink","xlink:show",oe);break;case"xlinkTitle":ei(I,"http://www.w3.org/1999/xlink","xlink:title",oe);break;case"xlinkType":ei(I,"http://www.w3.org/1999/xlink","xlink:type",oe);break;case"xmlBase":ei(I,"http://www.w3.org/XML/1998/namespace","xml:base",oe);break;case"xmlLang":ei(I,"http://www.w3.org/XML/1998/namespace","xml:lang",oe);break;case"xmlSpace":ei(I,"http://www.w3.org/XML/1998/namespace","xml:space",oe);break;case"is":oi(I,"is",oe);break;case"innerText":case"textContent":break;default:(!(2<X.length)||X[0]!=="o"&&X[0]!=="O"||X[1]!=="n"&&X[1]!=="N")&&(X=fl.get(X)||X,oi(I,X,oe))}}function rd(I,z,X,oe,je,Ve){switch(X){case"style":hn(I,oe,Ve);break;case"dangerouslySetInnerHTML":if(oe!=null){if(typeof oe!="object"||!("__html"in oe))throw Error(b(61));if(X=oe.__html,X!=null){if(je.children!=null)throw Error(b(60));I.innerHTML=X}}break;case"children":typeof oe=="string"?Vs(I,oe):(typeof oe=="number"||typeof oe=="bigint")&&Vs(I,""+oe);break;case"onScroll":oe!=null&&Un("scroll",I);break;case"onScrollEnd":oe!=null&&Un("scrollend",I);break;case"onClick":oe!=null&&(I.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(X))e:{if(X[0]==="o"&&X[1]==="n"&&(je=X.endsWith("Capture"),z=X.slice(2,je?X.length-7:void 0),Ve=I[Xt]||null,Ve=Ve!=null?Ve[X]:null,typeof Ve=="function"&&I.removeEventListener(z,Ve,je),typeof oe=="function")){typeof Ve!="function"&&Ve!==null&&(X in I?I[X]=null:I.hasAttribute(X)&&I.removeAttribute(X)),I.addEventListener(z,oe,je);break e}X in I?I[X]=oe:oe===!0?I.setAttribute(X,""):oi(I,X,oe)}}}function ai(I,z,X){switch(z){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",I),Un("load",I);var oe=!1,je=!1,Ve;for(Ve in X)if(X.hasOwnProperty(Ve)){var Xe=X[Ve];if(Xe!=null)switch(Ve){case"src":oe=!0;break;case"srcSet":je=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,z));default:pr(I,z,Ve,Xe,X,null)}}je&&pr(I,z,"srcSet",X.srcSet,X,null),oe&&pr(I,z,"src",X.src,X,null);return;case"input":Un("invalid",I);var at=Ve=Xe=je=null,gt=null,It=null;for(oe in X)if(X.hasOwnProperty(oe)){var Pt=X[oe];if(Pt!=null)switch(oe){case"name":je=Pt;break;case"type":Xe=Pt;break;case"checked":gt=Pt;break;case"defaultChecked":It=Pt;break;case"value":Ve=Pt;break;case"defaultValue":at=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(b(137,z));break;default:pr(I,z,oe,Pt,X,null)}}Tt(I,Ve,at,gt,It,Xe,je,!1);return;case"select":Un("invalid",I),oe=Xe=Ve=null;for(je in X)if(X.hasOwnProperty(je)&&(at=X[je],at!=null))switch(je){case"value":Ve=at;break;case"defaultValue":Xe=at;break;case"multiple":oe=at;default:pr(I,z,je,at,X,null)}z=Ve,X=Xe,I.multiple=!!oe,z!=null?ln(I,!!oe,z,!1):X!=null&&ln(I,!!oe,X,!0);return;case"textarea":Un("invalid",I),Ve=je=oe=null;for(Xe in X)if(X.hasOwnProperty(Xe)&&(at=X[Xe],at!=null))switch(Xe){case"value":oe=at;break;case"defaultValue":je=at;break;case"children":Ve=at;break;case"dangerouslySetInnerHTML":if(at!=null)throw Error(b(91));break;default:pr(I,z,Xe,at,X,null)}li(I,oe,je,Ve);return;case"option":for(gt in X)if(X.hasOwnProperty(gt)&&(oe=X[gt],oe!=null))switch(gt){case"selected":I.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:pr(I,z,gt,oe,X,null)}return;case"dialog":Un("beforetoggle",I),Un("toggle",I),Un("cancel",I),Un("close",I);break;case"iframe":case"object":Un("load",I);break;case"video":case"audio":for(oe=0;oe<il.length;oe++)Un(il[oe],I);break;case"image":Un("error",I),Un("load",I);break;case"details":Un("toggle",I);break;case"embed":case"source":case"link":Un("error",I),Un("load",I);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(It in X)if(X.hasOwnProperty(It)&&(oe=X[It],oe!=null))switch(It){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,z));default:pr(I,z,It,oe,X,null)}return;default:if(gr(z)){for(Pt in X)X.hasOwnProperty(Pt)&&(oe=X[Pt],oe!==void 0&&rd(I,z,Pt,oe,X,void 0));return}}for(at in X)X.hasOwnProperty(at)&&(oe=X[at],oe!=null&&pr(I,z,at,oe,X,null))}function bm(I,z,X,oe){switch(z){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var je=null,Ve=null,Xe=null,at=null,gt=null,It=null,Pt=null;for(jt in X){var Lt=X[jt];if(X.hasOwnProperty(jt)&&Lt!=null)switch(jt){case"checked":break;case"value":break;case"defaultValue":gt=Lt;default:oe.hasOwnProperty(jt)||pr(I,z,jt,null,oe,Lt)}}for(var kt in oe){var jt=oe[kt];if(Lt=X[kt],oe.hasOwnProperty(kt)&&(jt!=null||Lt!=null))switch(kt){case"type":Ve=jt;break;case"name":je=jt;break;case"checked":It=jt;break;case"defaultChecked":Pt=jt;break;case"value":Xe=jt;break;case"defaultValue":at=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(b(137,z));break;default:jt!==Lt&&pr(I,z,kt,jt,oe,Lt)}}zr(I,Xe,at,gt,It,Pt,Ve,je);return;case"select":jt=Xe=at=kt=null;for(Ve in X)if(gt=X[Ve],X.hasOwnProperty(Ve)&&gt!=null)switch(Ve){case"value":break;case"multiple":jt=gt;default:oe.hasOwnProperty(Ve)||pr(I,z,Ve,null,oe,gt)}for(je in oe)if(Ve=oe[je],gt=X[je],oe.hasOwnProperty(je)&&(Ve!=null||gt!=null))switch(je){case"value":kt=Ve;break;case"defaultValue":at=Ve;break;case"multiple":Xe=Ve;default:Ve!==gt&&pr(I,z,je,Ve,oe,gt)}z=at,X=Xe,oe=jt,kt!=null?ln(I,!!X,kt,!1):!!oe!=!!X&&(z!=null?ln(I,!!X,z,!0):ln(I,!!X,X?[]:"",!1));return;case"textarea":jt=kt=null;for(at in X)if(je=X[at],X.hasOwnProperty(at)&&je!=null&&!oe.hasOwnProperty(at))switch(at){case"value":break;case"children":break;default:pr(I,z,at,null,oe,je)}for(Xe in oe)if(je=oe[Xe],Ve=X[Xe],oe.hasOwnProperty(Xe)&&(je!=null||Ve!=null))switch(Xe){case"value":kt=je;break;case"defaultValue":jt=je;break;case"children":break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(b(91));break;default:je!==Ve&&pr(I,z,Xe,je,oe,Ve)}Pr(I,kt,jt);return;case"option":for(var an in X)if(kt=X[an],X.hasOwnProperty(an)&&kt!=null&&!oe.hasOwnProperty(an))switch(an){case"selected":I.selected=!1;break;default:pr(I,z,an,null,oe,kt)}for(gt in oe)if(kt=oe[gt],jt=X[gt],oe.hasOwnProperty(gt)&&kt!==jt&&(kt!=null||jt!=null))switch(gt){case"selected":I.selected=kt&&typeof kt!="function"&&typeof kt!="symbol";break;default:pr(I,z,gt,kt,oe,jt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var En in X)kt=X[En],X.hasOwnProperty(En)&&kt!=null&&!oe.hasOwnProperty(En)&&pr(I,z,En,null,oe,kt);for(It in oe)if(kt=oe[It],jt=X[It],oe.hasOwnProperty(It)&&kt!==jt&&(kt!=null||jt!=null))switch(It){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(b(137,z));break;default:pr(I,z,It,kt,oe,jt)}return;default:if(gr(z)){for(var mr in X)kt=X[mr],X.hasOwnProperty(mr)&&kt!==void 0&&!oe.hasOwnProperty(mr)&&rd(I,z,mr,void 0,oe,kt);for(Pt in oe)kt=oe[Pt],jt=X[Pt],!oe.hasOwnProperty(Pt)||kt===jt||kt===void 0&&jt===void 0||rd(I,z,Pt,kt,oe,jt);return}}for(var _t in X)kt=X[_t],X.hasOwnProperty(_t)&&kt!=null&&!oe.hasOwnProperty(_t)&&pr(I,z,_t,null,oe,kt);for(Lt in oe)kt=oe[Lt],jt=X[Lt],!oe.hasOwnProperty(Lt)||kt===jt||kt==null&&jt==null||pr(I,z,Lt,kt,oe,jt)}function Wf(I){switch(I){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sm(){if(typeof performance.getEntriesByType=="function"){for(var I=0,z=0,X=performance.getEntriesByType("resource"),oe=0;oe<X.length;oe++){var je=X[oe],Ve=je.transferSize,Xe=je.initiatorType,at=je.duration;if(Ve&&at&&Wf(Xe)){for(Xe=0,at=je.responseEnd,oe+=1;oe<X.length;oe++){var gt=X[oe],It=gt.startTime;if(It>at)break;var Pt=gt.transferSize,Lt=gt.initiatorType;Pt&&Wf(Lt)&&(gt=gt.responseEnd,Xe+=Pt*(gt<at?1:(at-It)/(gt-It)))}if(--oe,z+=8*(Ve+Xe)/(je.duration/1e3),I++,10<I)break}}if(0<I)return z/I/1e6}return navigator.connection&&(I=navigator.connection.downlink,typeof I=="number")?I:5}var id=null,sd=null;function pc(I){return I.nodeType===9?I:I.ownerDocument}function Yf(I){switch(I){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kf(I,z){if(I===0)switch(z){case"svg":return 1;case"math":return 2;default:return 0}return I===1&&z==="foreignObject"?0:I}function ad(I,z){return I==="textarea"||I==="noscript"||typeof z.children=="string"||typeof z.children=="number"||typeof z.children=="bigint"||typeof z.dangerouslySetInnerHTML=="object"&&z.dangerouslySetInnerHTML!==null&&z.dangerouslySetInnerHTML.__html!=null}var od=null;function wm(){var I=window.event;return I&&I.type==="popstate"?I===od?!1:(od=I,!0):(od=null,!1)}var Xf=typeof setTimeout=="function"?setTimeout:void 0,_m=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,Cm=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(I){return Qf.resolve(null).then(I).catch(Rm)}:Xf;function Rm(I){setTimeout(function(){throw I})}function ma(I){return I==="head"}function Zf(I,z){var X=z,oe=0;do{var je=X.nextSibling;if(I.removeChild(X),je&&je.nodeType===8)if(X=je.data,X==="/$"||X==="/&"){if(oe===0){I.removeChild(je),wo(z);return}oe--}else if(X==="$"||X==="$?"||X==="$~"||X==="$!"||X==="&")oe++;else if(X==="html")al(I.ownerDocument.documentElement);else if(X==="head"){X=I.ownerDocument.head,al(X);for(var Ve=X.firstChild;Ve;){var Xe=Ve.nextSibling,at=Ve.nodeName;Ve[Er]||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||X.removeChild(Ve),Ve=Xe}}else X==="body"&&al(I.ownerDocument.body);X=je}while(X);wo(z)}function Jf(I,z){var X=I;I=0;do{var oe=X.nextSibling;if(X.nodeType===1?z?(X._stashedDisplay=X.style.display,X.style.display="none"):(X.style.display=X._stashedDisplay||"",X.getAttribute("style")===""&&X.removeAttribute("style")):X.nodeType===3&&(z?(X._stashedText=X.nodeValue,X.nodeValue=""):X.nodeValue=X._stashedText||""),oe&&oe.nodeType===8)if(X=oe.data,X==="/$"){if(I===0)break;I--}else X!=="$"&&X!=="$?"&&X!=="$~"&&X!=="$!"||I++;X=oe}while(X)}function ld(I){var z=I.firstChild;for(z&&z.nodeType===10&&(z=z.nextSibling);z;){var X=z;switch(z=z.nextSibling,X.nodeName){case"HTML":case"HEAD":case"BODY":ld(X),On(X);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(X.rel.toLowerCase()==="stylesheet")continue}I.removeChild(X)}}function Tm(I,z,X,oe){for(;I.nodeType===1;){var je=X;if(I.nodeName.toLowerCase()!==z.toLowerCase()){if(!oe&&(I.nodeName!=="INPUT"||I.type!=="hidden"))break}else if(oe){if(!I[Er])switch(z){case"meta":if(!I.hasAttribute("itemprop"))break;return I;case"link":if(Ve=I.getAttribute("rel"),Ve==="stylesheet"&&I.hasAttribute("data-precedence"))break;if(Ve!==je.rel||I.getAttribute("href")!==(je.href==null||je.href===""?null:je.href)||I.getAttribute("crossorigin")!==(je.crossOrigin==null?null:je.crossOrigin)||I.getAttribute("title")!==(je.title==null?null:je.title))break;return I;case"style":if(I.hasAttribute("data-precedence"))break;return I;case"script":if(Ve=I.getAttribute("src"),(Ve!==(je.src==null?null:je.src)||I.getAttribute("type")!==(je.type==null?null:je.type)||I.getAttribute("crossorigin")!==(je.crossOrigin==null?null:je.crossOrigin))&&Ve&&I.hasAttribute("async")&&!I.hasAttribute("itemprop"))break;return I;default:return I}}else if(z==="input"&&I.type==="hidden"){var Ve=je.name==null?null:""+je.name;if(je.type==="hidden"&&I.getAttribute("name")===Ve)return I}else return I;if(I=Wi(I.nextSibling),I===null)break}return null}function Am(I,z,X){if(z==="")return null;for(;I.nodeType!==3;)if((I.nodeType!==1||I.nodeName!=="INPUT"||I.type!=="hidden")&&!X||(I=Wi(I.nextSibling),I===null))return null;return I}function ep(I,z){for(;I.nodeType!==8;)if((I.nodeType!==1||I.nodeName!=="INPUT"||I.type!=="hidden")&&!z||(I=Wi(I.nextSibling),I===null))return null;return I}function cd(I){return I.data==="$?"||I.data==="$~"}function ud(I){return I.data==="$!"||I.data==="$?"&&I.ownerDocument.readyState!=="loading"}function Im(I,z){var X=I.ownerDocument;if(I.data==="$~")I._reactRetry=z;else if(I.data!=="$?"||X.readyState!=="loading")z();else{var oe=function(){z(),X.removeEventListener("DOMContentLoaded",oe)};X.addEventListener("DOMContentLoaded",oe),I._reactRetry=oe}}function Wi(I){for(;I!=null;I=I.nextSibling){var z=I.nodeType;if(z===1||z===3)break;if(z===8){if(z=I.data,z==="$"||z==="$!"||z==="$?"||z==="$~"||z==="&"||z==="F!"||z==="F")break;if(z==="/$"||z==="/&")return null}}return I}var dd=null;function tp(I){I=I.nextSibling;for(var z=0;I;){if(I.nodeType===8){var X=I.data;if(X==="/$"||X==="/&"){if(z===0)return Wi(I.nextSibling);z--}else X!=="$"&&X!=="$!"&&X!=="$?"&&X!=="$~"&&X!=="&"||z++}I=I.nextSibling}return null}function np(I){I=I.previousSibling;for(var z=0;I;){if(I.nodeType===8){var X=I.data;if(X==="$"||X==="$!"||X==="$?"||X==="$~"||X==="&"){if(z===0)return I;z--}else X!=="/$"&&X!=="/&"||z++}I=I.previousSibling}return null}function rp(I,z,X){switch(z=pc(X),I){case"html":if(I=z.documentElement,!I)throw Error(b(452));return I;case"head":if(I=z.head,!I)throw Error(b(453));return I;case"body":if(I=z.body,!I)throw Error(b(454));return I;default:throw Error(b(451))}}function al(I){for(var z=I.attributes;z.length;)I.removeAttributeNode(z[0]);On(I)}var Yi=new Map,sp=new Set;function mc(I){return typeof I.getRootNode=="function"?I.getRootNode():I.nodeType===9?I:I.ownerDocument}var Bs=Je.d;Je.d={f:km,r:Nm,D:Mm,C:Dm,L:jm,m:Om,X:$m,S:Pm,M:Lm};function km(){var I=Bs.f(),z=ac();return I||z}function Nm(I){var z=Ln(I);z!==null&&z.tag===5&&z.type==="form"?Eh(z):Bs.r(I)}var Eo=typeof document>"u"?null:document;function ap(I,z,X){var oe=Eo;if(oe&&typeof z=="string"&&z){var je=Bn(z);je='link[rel="'+I+'"][href="'+je+'"]',typeof X=="string"&&(je+='[crossorigin="'+X+'"]'),sp.has(je)||(sp.add(je),I={rel:I,crossOrigin:X,href:z},oe.querySelector(je)===null&&(z=oe.createElement("link"),ai(z,"link",I),Jn(z),oe.head.appendChild(z)))}}function Mm(I){Bs.D(I),ap("dns-prefetch",I,null)}function Dm(I,z){Bs.C(I,z),ap("preconnect",I,z)}function jm(I,z,X){Bs.L(I,z,X);var oe=Eo;if(oe&&I&&z){var je='link[rel="preload"][as="'+Bn(z)+'"]';z==="image"&&X&&X.imageSrcSet?(je+='[imagesrcset="'+Bn(X.imageSrcSet)+'"]',typeof X.imageSizes=="string"&&(je+='[imagesizes="'+Bn(X.imageSizes)+'"]')):je+='[href="'+Bn(I)+'"]';var Ve=je;switch(z){case"style":Ve=bo(I);break;case"script":Ve=So(I)}Yi.has(Ve)||(I=J({rel:"preload",href:z==="image"&&X&&X.imageSrcSet?void 0:I,as:z},X),Yi.set(Ve,I),oe.querySelector(je)!==null||z==="style"&&oe.querySelector(ol(Ve))||z==="script"&&oe.querySelector(ll(Ve))||(z=oe.createElement("link"),ai(z,"link",I),Jn(z),oe.head.appendChild(z)))}}function Om(I,z){Bs.m(I,z);var X=Eo;if(X&&I){var oe=z&&typeof z.as=="string"?z.as:"script",je='link[rel="modulepreload"][as="'+Bn(oe)+'"][href="'+Bn(I)+'"]',Ve=je;switch(oe){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ve=So(I)}if(!Yi.has(Ve)&&(I=J({rel:"modulepreload",href:I},z),Yi.set(Ve,I),X.querySelector(je)===null)){switch(oe){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(X.querySelector(ll(Ve)))return}oe=X.createElement("link"),ai(oe,"link",I),Jn(oe),X.head.appendChild(oe)}}}function Pm(I,z,X){Bs.S(I,z,X);var oe=Eo;if(oe&&I){var je=Ar(oe).hoistableStyles,Ve=bo(I);z=z||"default";var Xe=je.get(Ve);if(!Xe){var at={loading:0,preload:null};if(Xe=oe.querySelector(ol(Ve)))at.loading=5;else{I=J({rel:"stylesheet",href:I,"data-precedence":z},X),(X=Yi.get(Ve))&&hd(I,X);var gt=Xe=oe.createElement("link");Jn(gt),ai(gt,"link",I),gt._p=new Promise(function(It,Pt){gt.onload=It,gt.onerror=Pt}),gt.addEventListener("load",function(){at.loading|=1}),gt.addEventListener("error",function(){at.loading|=2}),at.loading|=4,gc(Xe,z,oe)}Xe={type:"stylesheet",instance:Xe,count:1,state:at},je.set(Ve,Xe)}}}function $m(I,z){Bs.X(I,z);var X=Eo;if(X&&I){var oe=Ar(X).hoistableScripts,je=So(I),Ve=oe.get(je);Ve||(Ve=X.querySelector(ll(je)),Ve||(I=J({src:I,async:!0},z),(z=Yi.get(je))&&fd(I,z),Ve=X.createElement("script"),Jn(Ve),ai(Ve,"link",I),X.head.appendChild(Ve)),Ve={type:"script",instance:Ve,count:1,state:null},oe.set(je,Ve))}}function Lm(I,z){Bs.M(I,z);var X=Eo;if(X&&I){var oe=Ar(X).hoistableScripts,je=So(I),Ve=oe.get(je);Ve||(Ve=X.querySelector(ll(je)),Ve||(I=J({src:I,async:!0,type:"module"},z),(z=Yi.get(je))&&fd(I,z),Ve=X.createElement("script"),Jn(Ve),ai(Ve,"link",I),X.head.appendChild(Ve)),Ve={type:"script",instance:Ve,count:1,state:null},oe.set(je,Ve))}}function lp(I,z,X,oe){var je=(je=Rt.current)?mc(je):null;if(!je)throw Error(b(446));switch(I){case"meta":case"title":return null;case"style":return typeof X.precedence=="string"&&typeof X.href=="string"?(z=bo(X.href),X=Ar(je).hoistableStyles,oe=X.get(z),oe||(oe={type:"style",instance:null,count:0,state:null},X.set(z,oe)),oe):{type:"void",instance:null,count:0,state:null};case"link":if(X.rel==="stylesheet"&&typeof X.href=="string"&&typeof X.precedence=="string"){I=bo(X.href);var Ve=Ar(je).hoistableStyles,Xe=Ve.get(I);if(Xe||(je=je.ownerDocument||je,Xe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ve.set(I,Xe),(Ve=je.querySelector(ol(I)))&&!Ve._p&&(Xe.instance=Ve,Xe.state.loading=5),Yi.has(I)||(X={rel:"preload",as:"style",href:X.href,crossOrigin:X.crossOrigin,integrity:X.integrity,media:X.media,hrefLang:X.hrefLang,referrerPolicy:X.referrerPolicy},Yi.set(I,X),Ve||Bm(je,I,X,Xe.state))),z&&oe===null)throw Error(b(528,""));return Xe}if(z&&oe!==null)throw Error(b(529,""));return null;case"script":return z=X.async,X=X.src,typeof X=="string"&&z&&typeof z!="function"&&typeof z!="symbol"?(z=So(X),X=Ar(je).hoistableScripts,oe=X.get(z),oe||(oe={type:"script",instance:null,count:0,state:null},X.set(z,oe)),oe):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,I))}}function bo(I){return'href="'+Bn(I)+'"'}function ol(I){return'link[rel="stylesheet"]['+I+"]"}function cp(I){return J({},I,{"data-precedence":I.precedence,precedence:null})}function Bm(I,z,X,oe){I.querySelector('link[rel="preload"][as="style"]['+z+"]")?oe.loading=1:(z=I.createElement("link"),oe.preload=z,z.addEventListener("load",function(){return oe.loading|=1}),z.addEventListener("error",function(){return oe.loading|=2}),ai(z,"link",X),Jn(z),I.head.appendChild(z))}function So(I){return'[src="'+Bn(I)+'"]'}function ll(I){return"script[async]"+I}function up(I,z,X){if(z.count++,z.instance===null)switch(z.type){case"style":var oe=I.querySelector('style[data-href~="'+Bn(X.href)+'"]');if(oe)return z.instance=oe,Jn(oe),oe;var je=J({},X,{"data-href":X.href,"data-precedence":X.precedence,href:null,precedence:null});return oe=(I.ownerDocument||I).createElement("style"),Jn(oe),ai(oe,"style",je),gc(oe,X.precedence,I),z.instance=oe;case"stylesheet":je=bo(X.href);var Ve=I.querySelector(ol(je));if(Ve)return z.state.loading|=4,z.instance=Ve,Jn(Ve),Ve;oe=cp(X),(je=Yi.get(je))&&hd(oe,je),Ve=(I.ownerDocument||I).createElement("link"),Jn(Ve);var Xe=Ve;return Xe._p=new Promise(function(at,gt){Xe.onload=at,Xe.onerror=gt}),ai(Ve,"link",oe),z.state.loading|=4,gc(Ve,X.precedence,I),z.instance=Ve;case"script":return Ve=So(X.src),(je=I.querySelector(ll(Ve)))?(z.instance=je,Jn(je),je):(oe=X,(je=Yi.get(Ve))&&(oe=J({},X),fd(oe,je)),I=I.ownerDocument||I,je=I.createElement("script"),Jn(je),ai(je,"link",oe),I.head.appendChild(je),z.instance=je);case"void":return null;default:throw Error(b(443,z.type))}else z.type==="stylesheet"&&(z.state.loading&4)===0&&(oe=z.instance,z.state.loading|=4,gc(oe,X.precedence,I));return z.instance}function gc(I,z,X){for(var oe=X.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),je=oe.length?oe[oe.length-1]:null,Ve=je,Xe=0;Xe<oe.length;Xe++){var at=oe[Xe];if(at.dataset.precedence===z)Ve=at;else if(Ve!==je)break}Ve?Ve.parentNode.insertBefore(I,Ve.nextSibling):(z=X.nodeType===9?X.head:X,z.insertBefore(I,z.firstChild))}function hd(I,z){I.crossOrigin==null&&(I.crossOrigin=z.crossOrigin),I.referrerPolicy==null&&(I.referrerPolicy=z.referrerPolicy),I.title==null&&(I.title=z.title)}function fd(I,z){I.crossOrigin==null&&(I.crossOrigin=z.crossOrigin),I.referrerPolicy==null&&(I.referrerPolicy=z.referrerPolicy),I.integrity==null&&(I.integrity=z.integrity)}var xc=null;function dp(I,z,X){if(xc===null){var oe=new Map,je=xc=new Map;je.set(X,oe)}else je=xc,oe=je.get(X),oe||(oe=new Map,je.set(X,oe));if(oe.has(I))return oe;for(oe.set(I,null),X=X.getElementsByTagName(I),je=0;je<X.length;je++){var Ve=X[je];if(!(Ve[Er]||Ve[Zt]||I==="link"&&Ve.getAttribute("rel")==="stylesheet")&&Ve.namespaceURI!=="http://www.w3.org/2000/svg"){var Xe=Ve.getAttribute(z)||"";Xe=I+Xe;var at=oe.get(Xe);at?at.push(Ve):oe.set(Xe,[Ve])}}return oe}function hp(I,z,X){I=I.ownerDocument||I,I.head.insertBefore(X,z==="title"?I.querySelector("head > title"):null)}function Fm(I,z,X){if(X===1||z.itemProp!=null)return!1;switch(I){case"meta":case"title":return!0;case"style":if(typeof z.precedence!="string"||typeof z.href!="string"||z.href==="")break;return!0;case"link":if(typeof z.rel!="string"||typeof z.href!="string"||z.href===""||z.onLoad||z.onError)break;switch(z.rel){case"stylesheet":return I=z.disabled,typeof z.precedence=="string"&&I==null;default:return!0}case"script":if(z.async&&typeof z.async!="function"&&typeof z.async!="symbol"&&!z.onLoad&&!z.onError&&z.src&&typeof z.src=="string")return!0}return!1}function fp(I){return!(I.type==="stylesheet"&&(I.state.loading&3)===0)}function zm(I,z,X,oe){if(X.type==="stylesheet"&&(typeof oe.media!="string"||matchMedia(oe.media).matches!==!1)&&(X.state.loading&4)===0){if(X.instance===null){var je=bo(oe.href),Ve=z.querySelector(ol(je));if(Ve){z=Ve._p,z!==null&&typeof z=="object"&&typeof z.then=="function"&&(I.count++,I=yc.bind(I),z.then(I,I)),X.state.loading|=4,X.instance=Ve,Jn(Ve);return}Ve=z.ownerDocument||z,oe=cp(oe),(je=Yi.get(je))&&hd(oe,je),Ve=Ve.createElement("link"),Jn(Ve);var Xe=Ve;Xe._p=new Promise(function(at,gt){Xe.onload=at,Xe.onerror=gt}),ai(Ve,"link",oe),X.instance=Ve}I.stylesheets===null&&(I.stylesheets=new Map),I.stylesheets.set(X,z),(z=X.state.preload)&&(X.state.loading&3)===0&&(I.count++,X=yc.bind(I),z.addEventListener("load",X),z.addEventListener("error",X))}}var pd=0;function Hm(I,z){return I.stylesheets&&I.count===0&&Ec(I,I.stylesheets),0<I.count||0<I.imgCount?function(X){var oe=setTimeout(function(){if(I.stylesheets&&Ec(I,I.stylesheets),I.unsuspend){var Ve=I.unsuspend;I.unsuspend=null,Ve()}},6e4+z);0<I.imgBytes&&pd===0&&(pd=62500*Sm());var je=setTimeout(function(){if(I.waitingForImages=!1,I.count===0&&(I.stylesheets&&Ec(I,I.stylesheets),I.unsuspend)){var Ve=I.unsuspend;I.unsuspend=null,Ve()}},(I.imgBytes>pd?50:800)+z);return I.unsuspend=X,function(){I.unsuspend=null,clearTimeout(oe),clearTimeout(je)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var I=this.unsuspend;this.unsuspend=null,I()}}}var vc=null;function Ec(I,z){I.stylesheets=null,I.unsuspend!==null&&(I.count++,vc=new Map,z.forEach(Vm,I),vc=null,yc.call(I))}function Vm(I,z){if(!(z.state.loading&4)){var X=vc.get(I);if(X)var oe=X.get(null);else{X=new Map,vc.set(I,X);for(var je=I.querySelectorAll("link[data-precedence],style[data-precedence]"),Ve=0;Ve<je.length;Ve++){var Xe=je[Ve];(Xe.nodeName==="LINK"||Xe.getAttribute("media")!=="not all")&&(X.set(Xe.dataset.precedence,Xe),oe=Xe)}oe&&X.set(null,oe)}je=z.instance,Xe=je.getAttribute("data-precedence"),Ve=X.get(Xe)||oe,Ve===oe&&X.set(null,je),X.set(Xe,je),this.count++,oe=yc.bind(this),je.addEventListener("load",oe),je.addEventListener("error",oe),Ve?Ve.parentNode.insertBefore(je,Ve.nextSibling):(I=I.nodeType===9?I.head:I,I.insertBefore(je,I.firstChild)),z.state.loading|=4}}var cl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function Um(I,z,X,oe,je,Ve,Xe,at,gt){this.tag=1,this.containerInfo=I,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=oe,this.onUncaughtError=je,this.onCaughtError=Ve,this.onRecoverableError=Xe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=gt,this.incompleteTransitions=new Map}function pp(I,z,X,oe,je,Ve,Xe,at,gt,It,Pt,Lt){return I=new Um(I,z,X,Xe,gt,It,Pt,Lt,at),z=1,Ve===!0&&(z|=24),Ve=Ni(3,null,null,z),I.current=Ve,Ve.stateNode=I,z=Wc(),z.refCount++,I.pooledCache=z,z.refCount++,Ve.memoizedState={element:oe,isDehydrated:X,cache:z},Qc(Ve),I}function mp(I){return I?(I=Za,I):Za}function gp(I,z,X,oe,je,Ve){je=mp(je),oe.context===null?oe.context=je:oe.pendingContext=je,oe=ia(z),oe.payload={element:X},Ve=Ve===void 0?null:Ve,Ve!==null&&(oe.callback=Ve),X=sa(I,oe,z),X!==null&&(_i(X,I,z),zo(X,I,z))}function xp(I,z){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var X=I.retryLane;I.retryLane=X!==0&&X<z?X:z}}function md(I,z){xp(I,z),(I=I.alternate)&&xp(I,z)}function yp(I){if(I.tag===13||I.tag===31){var z=Ia(I,67108864);z!==null&&_i(z,I,67108864),md(I,67108864)}}function vp(I){if(I.tag===13||I.tag===31){var z=Pi();z=Ft(z);var X=Ia(I,z);X!==null&&_i(X,I,z),md(I,z)}}var bc=!0;function Gm(I,z,X,oe){var je=Ke.T;Ke.T=null;var Ve=Je.p;try{Je.p=2,gd(I,z,X,oe)}finally{Je.p=Ve,Ke.T=je}}function qm(I,z,X,oe){var je=Ke.T;Ke.T=null;var Ve=Je.p;try{Je.p=8,gd(I,z,X,oe)}finally{Je.p=Ve,Ke.T=je}}function gd(I,z,X,oe){if(bc){var je=xd(oe);if(je===null)nd(I,z,oe,Sc,X),bp(I,oe);else if(Ym(je,I,z,X,oe))oe.stopPropagation();else if(bp(I,oe),z&4&&-1<Wm.indexOf(I)){for(;je!==null;){var Ve=Ln(je);if(Ve!==null)switch(Ve.tag){case 3:if(Ve=Ve.stateNode,Ve.current.memoizedState.isDehydrated){var Xe=Ci(Ve.pendingLanes);if(Xe!==0){var at=Ve;for(at.pendingLanes|=2,at.entangledLanes|=2;Xe;){var gt=1<<31-Sn(Xe);at.entanglements[1]|=gt,Xe&=~gt}ms(Ve),(ar&6)===0&&(ic=Ht()+500,rl(0))}}break;case 31:case 13:at=Ia(Ve,2),at!==null&&_i(at,Ve,2),ac(),md(Ve,2)}if(Ve=xd(oe),Ve===null&&nd(I,z,oe,Sc,X),Ve===je)break;je=Ve}je!==null&&oe.stopPropagation()}else nd(I,z,oe,null,X)}}function xd(I){return I=Ro(I),yd(I)}var Sc=null;function yd(I){if(Sc=null,I=wn(I),I!==null){var z=T(I);if(z===null)I=null;else{var X=z.tag;if(X===13){if(I=A(z),I!==null)return I;I=null}else if(X===31){if(I=O(z),I!==null)return I;I=null}else if(X===3){if(z.stateNode.current.memoizedState.isDehydrated)return z.tag===3?z.stateNode.containerInfo:null;I=null}else z!==I&&(I=null)}}return Sc=I,null}function Ep(I){switch(I){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case yn:return 2;case An:return 8;case In:case rr:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var vd=!1,ga=null,xa=null,ya=null,ul=new Map,dl=new Map,va=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(I,z){switch(I){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":ul.delete(z.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(z.pointerId)}}function hl(I,z,X,oe,je,Ve){return I===null||I.nativeEvent!==Ve?(I={blockedOn:z,domEventName:X,eventSystemFlags:oe,nativeEvent:Ve,targetContainers:[je]},z!==null&&(z=Ln(z),z!==null&&yp(z)),I):(I.eventSystemFlags|=oe,z=I.targetContainers,je!==null&&z.indexOf(je)===-1&&z.push(je),I)}function Ym(I,z,X,oe,je){switch(z){case"focusin":return ga=hl(ga,I,z,X,oe,je),!0;case"dragenter":return xa=hl(xa,I,z,X,oe,je),!0;case"mouseover":return ya=hl(ya,I,z,X,oe,je),!0;case"pointerover":var Ve=je.pointerId;return ul.set(Ve,hl(ul.get(Ve)||null,I,z,X,oe,je)),!0;case"gotpointercapture":return Ve=je.pointerId,dl.set(Ve,hl(dl.get(Ve)||null,I,z,X,oe,je)),!0}return!1}function Sp(I){var z=wn(I.target);if(z!==null){var X=T(z);if(X!==null){if(z=X.tag,z===13){if(z=A(X),z!==null){I.blockedOn=z,Ot(I.priority,function(){vp(X)});return}}else if(z===31){if(z=O(X),z!==null){I.blockedOn=z,Ot(I.priority,function(){vp(X)});return}}else if(z===3&&X.stateNode.current.memoizedState.isDehydrated){I.blockedOn=X.tag===3?X.stateNode.containerInfo:null;return}}}I.blockedOn=null}function wc(I){if(I.blockedOn!==null)return!1;for(var z=I.targetContainers;0<z.length;){var X=xd(I.nativeEvent);if(X===null){X=I.nativeEvent;var oe=new X.constructor(X.type,X);ba=oe,X.target.dispatchEvent(oe),ba=null}else return z=Ln(X),z!==null&&yp(z),I.blockedOn=X,!1;z.shift()}return!0}function wp(I,z,X){wc(I)&&X.delete(z)}function Km(){vd=!1,ga!==null&&wc(ga)&&(ga=null),xa!==null&&wc(xa)&&(xa=null),ya!==null&&wc(ya)&&(ya=null),ul.forEach(wp),dl.forEach(wp)}function _c(I,z){I.blockedOn===z&&(I.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Km)))}var Cc=null;function _p(I){Cc!==I&&(Cc=I,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===I&&(Cc=null);for(var z=0;z<I.length;z+=3){var X=I[z],oe=I[z+1],je=I[z+2];if(typeof oe!="function"){if(yd(oe||X)===null)continue;break}var Ve=Ln(X);Ve!==null&&(I.splice(z,3),z-=3,xu(Ve,{pending:!0,data:je,method:X.method,action:oe},oe,je))}}))}function wo(I){function z(gt){return _c(gt,I)}ga!==null&&_c(ga,I),xa!==null&&_c(xa,I),ya!==null&&_c(ya,I),ul.forEach(z),dl.forEach(z);for(var X=0;X<va.length;X++){var oe=va[X];oe.blockedOn===I&&(oe.blockedOn=null)}for(;0<va.length&&(X=va[0],X.blockedOn===null);)Sp(X),X.blockedOn===null&&va.shift();if(X=(I.ownerDocument||I).$$reactFormReplay,X!=null)for(oe=0;oe<X.length;oe+=3){var je=X[oe],Ve=X[oe+1],Xe=je[Xt]||null;if(typeof Ve=="function")Xe||_p(X);else if(Xe){var at=null;if(Ve&&Ve.hasAttribute("formAction")){if(je=Ve,Xe=Ve[Xt]||null)at=Xe.formAction;else if(yd(je)!==null)continue}else at=Xe.action;typeof at=="function"?X[oe+1]=at:(X.splice(oe,3),oe-=3),_p(X)}}}function Cp(){function I(Ve){Ve.canIntercept&&Ve.info==="react-transition"&&Ve.intercept({handler:function(){return new Promise(function(Xe){return je=Xe})},focusReset:"manual",scroll:"manual"})}function z(){je!==null&&(je(),je=null),oe||setTimeout(X,20)}function X(){if(!oe&&!navigation.transition){var Ve=navigation.currentEntry;Ve&&Ve.url!=null&&navigation.navigate(Ve.url,{state:Ve.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var oe=!1,je=null;return navigation.addEventListener("navigate",I),navigation.addEventListener("navigatesuccess",z),navigation.addEventListener("navigateerror",z),setTimeout(X,100),function(){oe=!0,navigation.removeEventListener("navigate",I),navigation.removeEventListener("navigatesuccess",z),navigation.removeEventListener("navigateerror",z),je!==null&&(je(),je=null)}}}function Ed(I){this._internalRoot=I}Rc.prototype.render=Ed.prototype.render=function(I){var z=this._internalRoot;if(z===null)throw Error(b(409));var X=z.current,oe=Pi();gp(X,oe,I,z,null,null)},Rc.prototype.unmount=Ed.prototype.unmount=function(){var I=this._internalRoot;if(I!==null){this._internalRoot=null;var z=I.containerInfo;gp(I.current,2,null,I,null,null),ac(),z[cn]=null}};function Rc(I){this._internalRoot=I}Rc.prototype.unstable_scheduleHydration=function(I){if(I){var z=en();I={blockedOn:null,target:I,priority:z};for(var X=0;X<va.length&&z!==0&&z<va[X].priority;X++);va.splice(X,0,I),X===0&&Sp(I)}};var Rp=x.version;if(Rp!=="19.2.0")throw Error(b(527,Rp,"19.2.0"));Je.findDOMNode=function(I){var z=I._reactInternals;if(z===void 0)throw typeof I.render=="function"?Error(b(188)):(I=Object.keys(I).join(","),Error(b(268,I)));return I=U(z),I=I!==null?K(I):null,I=I===null?null:I.stateNode,I};var Xm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ke,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Dn=Tc.inject(Xm),Ut=Tc}catch{}}return reactDomClient_production.createRoot=function(I,z){if(!R(I))throw Error(b(299));var X=!1,oe="",je=kh,Ve=Nh,Xe=Mh;return z!=null&&(z.unstable_strictMode===!0&&(X=!0),z.identifierPrefix!==void 0&&(oe=z.identifierPrefix),z.onUncaughtError!==void 0&&(je=z.onUncaughtError),z.onCaughtError!==void 0&&(Ve=z.onCaughtError),z.onRecoverableError!==void 0&&(Xe=z.onRecoverableError)),z=pp(I,1,!1,null,null,X,oe,null,je,Ve,Xe,Cp),I[cn]=z.current,td(I),new Ed(z)},reactDomClient_production.hydrateRoot=function(I,z,X){if(!R(I))throw Error(b(299));var oe=!1,je="",Ve=kh,Xe=Nh,at=Mh,gt=null;return X!=null&&(X.unstable_strictMode===!0&&(oe=!0),X.identifierPrefix!==void 0&&(je=X.identifierPrefix),X.onUncaughtError!==void 0&&(Ve=X.onUncaughtError),X.onCaughtError!==void 0&&(Xe=X.onCaughtError),X.onRecoverableError!==void 0&&(at=X.onRecoverableError),X.formState!==void 0&&(gt=X.formState)),z=pp(I,1,!0,z,X??null,oe,je,gt,Ve,Xe,at,Cp),z.context=mp(null),X=z.current,oe=Pi(),oe=Ft(oe),je=ia(oe),je.callback=null,sa(X,je,oe),X=oe,z.current.lanes=X,Li(z,X),ms(z),I[cn]=z.current,td(I),new Rc(z)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(x){console.error(x)}}return r(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactExports$1=requireReact$1();const React=getDefaultExportFromCjs(reactExports$1),ErrorBoundaryContext=reactExports$1.createContext(null),initialState$1={didCatch:!1,error:null};class ErrorBoundary extends reactExports$1.Component{constructor(x){super(x),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$1}static getDerivedStateFromError(x){return{didCatch:!0,error:x}}resetErrorBoundary(){const{error:x}=this.state;if(x!==null){for(var y,b,R=arguments.length,T=new Array(R),A=0;A<R;A++)T[A]=arguments[A];(y=(b=this.props).onReset)===null||y===void 0||y.call(b,{args:T,reason:"imperative-api"}),this.setState(initialState$1)}}componentDidCatch(x,y){var b,R;(b=(R=this.props).onError)===null||b===void 0||b.call(R,x,y)}componentDidUpdate(x,y){const{didCatch:b}=this.state,{resetKeys:R}=this.props;if(b&&y.error!==null&&hasArrayChanged(x.resetKeys,R)){var T,A;(T=(A=this.props).onReset)===null||T===void 0||T.call(A,{next:R,prev:x.resetKeys,reason:"keys"}),this.setState(initialState$1)}}render(){const{children:x,fallbackRender:y,FallbackComponent:b,fallback:R}=this.props,{didCatch:T,error:A}=this.state;let O=x;if(T){const B={error:A,resetErrorBoundary:this.resetErrorBoundary};if(typeof y=="function")O=y(B);else if(b)O=reactExports$1.createElement(b,B);else if(R!==void 0)O=R;else throw A}return reactExports$1.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:T,error:A,resetErrorBoundary:this.resetErrorBoundary}},O)}}function hasArrayChanged(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.length!==x.length||r.some((y,b)=>!Object.is(y,x[b]))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __typeError=r=>{throw TypeError(r)},__accessCheck=(r,x,y)=>x.has(r)||__typeError("Cannot "+y),__privateGet=(r,x,y)=>(__accessCheck(r,x,"read from private field"),y?y.call(r):x.get(r)),__privateAdd=(r,x,y)=>x.has(r)?__typeError("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(r):x.set(r,y),PopStateEventType="popstate";function createBrowserHistory(r={}){function x(b,R){let{pathname:T,search:A,hash:O}=b.location;return createLocation("",{pathname:T,search:A,hash:O},R.state&&R.state.usr||null,R.state&&R.state.key||"default")}function y(b,R){return typeof R=="string"?R:createPath(R)}return getUrlBasedHistory(x,y,null,r)}function invariant(r,x){if(r===!1||r===null||typeof r>"u")throw new Error(x)}function warning(r,x){if(!r){typeof console<"u"&&console.warn(x);try{throw new Error(x)}catch{}}}function createKey$1(){return Math.random().toString(36).substring(2,10)}function getHistoryState(r,x){return{usr:r.state,key:r.key,idx:x}}function createLocation(r,x,y=null,b){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof x=="string"?parsePath(x):x,state:y,key:x&&x.key||b||createKey$1()}}function createPath({pathname:r="/",search:x="",hash:y=""}){return x&&x!=="?"&&(r+=x.charAt(0)==="?"?x:"?"+x),y&&y!=="#"&&(r+=y.charAt(0)==="#"?y:"#"+y),r}function parsePath(r){let x={};if(r){let y=r.indexOf("#");y>=0&&(x.hash=r.substring(y),r=r.substring(0,y));let b=r.indexOf("?");b>=0&&(x.search=r.substring(b),r=r.substring(0,b)),r&&(x.pathname=r)}return x}function getUrlBasedHistory(r,x,y,b={}){let{window:R=document.defaultView,v5Compat:T=!1}=b,A=R.history,O="POP",B=null,U=K();U==null&&(U=0,A.replaceState({...A.state,idx:U},""));function K(){return(A.state||{idx:null}).idx}function J(){O="POP";let $e=K(),Ne=$e==null?null:$e-U;U=$e,B&&B({action:O,location:pe.location,delta:Ne})}function te($e,Ne){O="PUSH";let Be=createLocation(pe.location,$e,Ne);U=K()+1;let _e=getHistoryState(Be,U),xe=pe.createHref(Be);try{A.pushState(_e,"",xe)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;R.location.assign(xe)}T&&B&&B({action:O,location:pe.location,delta:1})}function ae($e,Ne){O="REPLACE";let Be=createLocation(pe.location,$e,Ne);U=K();let _e=getHistoryState(Be,U),xe=pe.createHref(Be);A.replaceState(_e,"",xe),T&&B&&B({action:O,location:pe.location,delta:0})}function ue($e){return createBrowserURLImpl($e)}let pe={get action(){return O},get location(){return r(R,A)},listen($e){if(B)throw new Error("A history only accepts one active listener");return R.addEventListener(PopStateEventType,J),B=$e,()=>{R.removeEventListener(PopStateEventType,J),B=null}},createHref($e){return x(R,$e)},createURL:ue,encodeLocation($e){let Ne=ue($e);return{pathname:Ne.pathname,search:Ne.search,hash:Ne.hash}},push:te,replace:ae,go($e){return A.go($e)}};return pe}function createBrowserURLImpl(r,x=!1){let y="http://localhost";typeof window<"u"&&(y=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(y,"No window.location.(origin|href) available to create URL");let b=typeof r=="string"?r:createPath(r);return b=b.replace(/ $/,"%20"),!x&&b.startsWith("//")&&(b=y+b),new URL(b,y)}var _map,RouterContextProvider=class{constructor(r){if(__privateAdd(this,_map,new Map),r)for(let[x,y]of r)this.set(x,y)}get(r){if(__privateGet(this,_map).has(r))return __privateGet(this,_map).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,x){__privateGet(this,_map).set(r,x)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(r){return unsupportedLazyRouteObjectKeys.has(r)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function isUnsupportedLazyRouteFunctionKey(r){return unsupportedLazyRouteFunctionKeys.has(r)}function isIndexRoute(r){return r.index===!0}function convertRoutesToDataRoutes(r,x,y=[],b={},R=!1){return r.map((T,A)=>{let O=[...y,String(A)],B=typeof T.id=="string"?T.id:O.join("-");if(invariant(T.index!==!0||!T.children,"Cannot specify children on an index route"),invariant(R||!b[B],`Found a route id collision on id "${B}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(T)){let U={...T,id:B};return b[B]=mergeRouteUpdates(U,x(U)),U}else{let U={...T,id:B,children:void 0};return b[B]=mergeRouteUpdates(U,x(U)),T.children&&(U.children=convertRoutesToDataRoutes(T.children,x,O,b,R)),U}})}function mergeRouteUpdates(r,x){return Object.assign(r,{...x,...typeof x.lazy=="object"&&x.lazy!=null?{lazy:{...r.lazy,...x.lazy}}:{}})}function matchRoutes(r,x,y="/"){return matchRoutesImpl(r,x,y,!1)}function matchRoutesImpl(r,x,y,b){let R=typeof x=="string"?parsePath(x):x,T=stripBasename(R.pathname||"/",y);if(T==null)return null;let A=flattenRoutes(r);rankRouteBranches(A);let O=null;for(let B=0;O==null&&B<A.length;++B){let U=decodePath(T);O=matchRouteBranch(A[B],U,b)}return O}function convertRouteMatchToUiMatch(r,x){let{route:y,pathname:b,params:R}=r;return{id:y.id,pathname:b,params:R,data:x[y.id],loaderData:x[y.id],handle:y.handle}}function flattenRoutes(r,x=[],y=[],b="",R=!1){let T=(A,O,B=R,U)=>{let K={relativePath:U===void 0?A.path||"":U,caseSensitive:A.caseSensitive===!0,childrenIndex:O,route:A};if(K.relativePath.startsWith("/")){if(!K.relativePath.startsWith(b)&&B)return;invariant(K.relativePath.startsWith(b),`Absolute route path "${K.relativePath}" nested under path "${b}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),K.relativePath=K.relativePath.slice(b.length)}let J=joinPaths([b,K.relativePath]),te=y.concat(K);A.children&&A.children.length>0&&(invariant(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${J}".`),flattenRoutes(A.children,x,te,J,B)),!(A.path==null&&!A.index)&&x.push({path:J,score:computeScore(J,A.index),routesMeta:te})};return r.forEach((A,O)=>{var B;if(A.path===""||!((B=A.path)!=null&&B.includes("?")))T(A,O);else for(let U of explodeOptionalSegments(A.path))T(A,O,!0,U)}),x}function explodeOptionalSegments(r){let x=r.split("/");if(x.length===0)return[];let[y,...b]=x,R=y.endsWith("?"),T=y.replace(/\?$/,"");if(b.length===0)return R?[T,""]:[T];let A=explodeOptionalSegments(b.join("/")),O=[];return O.push(...A.map(B=>B===""?T:[T,B].join("/"))),R&&O.push(...A),O.map(B=>r.startsWith("/")&&B===""?"/":B)}function rankRouteBranches(r){r.sort((x,y)=>x.score!==y.score?y.score-x.score:compareIndexes(x.routesMeta.map(b=>b.childrenIndex),y.routesMeta.map(b=>b.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=r=>r==="*";function computeScore(r,x){let y=r.split("/"),b=y.length;return y.some(isSplat)&&(b+=splatPenalty),x&&(b+=indexRouteValue),y.filter(R=>!isSplat(R)).reduce((R,T)=>R+(paramRe.test(T)?dynamicSegmentValue:T===""?emptySegmentValue:staticSegmentValue),b)}function compareIndexes(r,x){return r.length===x.length&&r.slice(0,-1).every((b,R)=>b===x[R])?r[r.length-1]-x[x.length-1]:0}function matchRouteBranch(r,x,y=!1){let{routesMeta:b}=r,R={},T="/",A=[];for(let O=0;O<b.length;++O){let B=b[O],U=O===b.length-1,K=T==="/"?x:x.slice(T.length)||"/",J=matchPath({path:B.relativePath,caseSensitive:B.caseSensitive,end:U},K),te=B.route;if(!J&&U&&y&&!b[b.length-1].route.index&&(J=matchPath({path:B.relativePath,caseSensitive:B.caseSensitive,end:!1},K)),!J)return null;Object.assign(R,J.params),A.push({params:R,pathname:joinPaths([T,J.pathname]),pathnameBase:normalizePathname(joinPaths([T,J.pathnameBase])),route:te}),J.pathnameBase!=="/"&&(T=joinPaths([T,J.pathnameBase]))}return A}function matchPath(r,x){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[y,b]=compilePath(r.path,r.caseSensitive,r.end),R=x.match(y);if(!R)return null;let T=R[0],A=T.replace(/(.)\/+$/,"$1"),O=R.slice(1);return{params:b.reduce((U,{paramName:K,isOptional:J},te)=>{if(K==="*"){let ue=O[te]||"";A=T.slice(0,T.length-ue.length).replace(/(.)\/+$/,"$1")}const ae=O[te];return J&&!ae?U[K]=void 0:U[K]=(ae||"").replace(/%2F/g,"/"),U},{}),pathname:T,pathnameBase:A,pattern:r}}function compilePath(r,x=!1,y=!0){warning(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let b=[],R="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,O,B)=>(b.push({paramName:O,isOptional:B!=null}),B?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(b.push({paramName:"*"}),R+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):y?R+="\\/*$":r!==""&&r!=="/"&&(R+="(?:(?=\\/|$))"),[new RegExp(R,x?void 0:"i"),b]}function decodePath(r){try{return r.split("/").map(x=>decodeURIComponent(x).replace(/\//g,"%2F")).join("/")}catch(x){return warning(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${x}).`),r}}function stripBasename(r,x){if(x==="/")return r;if(!r.toLowerCase().startsWith(x.toLowerCase()))return null;let y=x.endsWith("/")?x.length-1:x.length,b=r.charAt(y);return b&&b!=="/"?null:r.slice(y)||"/"}function prependBasename({basename:r,pathname:x}){return x==="/"?r:joinPaths([r,x])}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=r=>ABSOLUTE_URL_REGEX.test(r);function resolvePath(r,x="/"){let{pathname:y,search:b="",hash:R=""}=typeof r=="string"?parsePath(r):r,T;if(y)if(isAbsoluteUrl(y))T=y;else{if(y.includes("//")){let A=y;y=y.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${A} -> ${y}`)}y.startsWith("/")?T=resolvePathname(y.substring(1),"/"):T=resolvePathname(y,x)}else T=x;return{pathname:T,search:normalizeSearch(b),hash:normalizeHash(R)}}function resolvePathname(r,x){let y=x.replace(/\/+$/,"").split("/");return r.split("/").forEach(R=>{R===".."?y.length>1&&y.pop():R!=="."&&y.push(R)}),y.length>1?y.join("/"):"/"}function getInvalidPathError(r,x,y,b){return`Cannot include a '${r}' character in a manually specified \`to.${x}\` field [${JSON.stringify(b)}].  Please separate it out to the \`to.${y}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(r){return r.filter((x,y)=>y===0||x.route.path&&x.route.path.length>0)}function getResolveToMatches(r){let x=getPathContributingMatches(r);return x.map((y,b)=>b===x.length-1?y.pathname:y.pathnameBase)}function resolveTo(r,x,y,b=!1){let R;typeof r=="string"?R=parsePath(r):(R={...r},invariant(!R.pathname||!R.pathname.includes("?"),getInvalidPathError("?","pathname","search",R)),invariant(!R.pathname||!R.pathname.includes("#"),getInvalidPathError("#","pathname","hash",R)),invariant(!R.search||!R.search.includes("#"),getInvalidPathError("#","search","hash",R)));let T=r===""||R.pathname==="",A=T?"/":R.pathname,O;if(A==null)O=y;else{let J=x.length-1;if(!b&&A.startsWith("..")){let te=A.split("/");for(;te[0]==="..";)te.shift(),J-=1;R.pathname=te.join("/")}O=J>=0?x[J]:"/"}let B=resolvePath(R,O),U=A&&A!=="/"&&A.endsWith("/"),K=(T||A===".")&&y.endsWith("/");return!B.pathname.endsWith("/")&&(U||K)&&(B.pathname+="/"),B}var joinPaths=r=>r.join("/").replace(/\/\/+/g,"/"),normalizePathname=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,normalizeHash=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ErrorResponseImpl=class{constructor(r,x,y,b=!1){this.status=r,this.statusText=x||"",this.internal=b,y instanceof Error?(this.data=y.toString(),this.error=y):this.data=y}};function isRouteErrorResponse(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function getRoutePattern(r){return r.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UninstrumentedSymbol=Symbol("Uninstrumented");function getRouteInstrumentationUpdates(r,x){let y={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(R=>R({id:x.id,index:x.index,path:x.path,instrument(T){let A=Object.keys(y);for(let O of A)T[O]&&y[O].push(T[O])}}));let b={};if(typeof x.lazy=="function"&&y.lazy.length>0){let R=wrapImpl(y.lazy,x.lazy,()=>{});R&&(b.lazy=R)}if(typeof x.lazy=="object"){let R=x.lazy;["middleware","loader","action"].forEach(T=>{let A=R[T],O=y[`lazy.${T}`];if(typeof A=="function"&&O.length>0){let B=wrapImpl(O,A,()=>{});B&&(b.lazy=Object.assign(b.lazy||{},{[T]:B}))}})}return["loader","action"].forEach(R=>{let T=x[R];if(typeof T=="function"&&y[R].length>0){let A=T[UninstrumentedSymbol]??T,O=wrapImpl(y[R],A,(...B)=>getHandlerInfo(B[0]));O&&(O[UninstrumentedSymbol]=A,b[R]=O)}}),x.middleware&&x.middleware.length>0&&y.middleware.length>0&&(b.middleware=x.middleware.map(R=>{let T=R[UninstrumentedSymbol]??R,A=wrapImpl(y.middleware,T,(...O)=>getHandlerInfo(O[0]));return A?(A[UninstrumentedSymbol]=T,A):R})),b}function instrumentClientSideRouter(r,x){let y={navigate:[],fetch:[]};if(x.forEach(b=>b({instrument(R){let T=Object.keys(R);for(let A of T)R[A]&&y[A].push(R[A])}})),y.navigate.length>0){let b=r.navigate[UninstrumentedSymbol]??r.navigate,R=wrapImpl(y.navigate,b,(...T)=>{let[A,O]=T;return{to:typeof A=="number"||typeof A=="string"?A:A?createPath(A):".",...getRouterInfo(r,O??{})}});R&&(R[UninstrumentedSymbol]=b,r.navigate=R)}if(y.fetch.length>0){let b=r.fetch[UninstrumentedSymbol]??r.fetch,R=wrapImpl(y.fetch,b,(...T)=>{let[A,,O,B]=T;return{href:O??".",fetcherKey:A,...getRouterInfo(r,B??{})}});R&&(R[UninstrumentedSymbol]=b,r.fetch=R)}return r}function wrapImpl(r,x,y){return r.length===0?null:async(...b)=>{let R=await recurseRight(r,y(...b),()=>x(...b),r.length-1);if(R.type==="error")throw R.value;return R.value}}async function recurseRight(r,x,y,b){let R=r[b],T;if(R){let A,O=async()=>(A?console.error("You cannot call instrumented handlers more than once"):A=recurseRight(r,x,y,b-1),T=await A,invariant(T,"Expected a result"),T.type==="error"&&T.value instanceof Error?{status:"error",error:T.value}:{status:"success",error:void 0});try{await R(O,x)}catch(B){console.error("An instrumentation function threw an error:",B)}A||await O(),await A}else try{T={type:"success",value:await y()}}catch(A){T={type:"error",value:A}}return T||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function getHandlerInfo(r){let{request:x,context:y,params:b,unstable_pattern:R}=r;return{request:getReadonlyRequest(x),params:{...b},unstable_pattern:R,context:getReadonlyContext(y)}}function getRouterInfo(r,x){return{currentUrl:createPath(r.state.location),..."formMethod"in x?{formMethod:x.formMethod}:{},..."formEncType"in x?{formEncType:x.formEncType}:{},..."formData"in x?{formData:x.formData}:{},..."body"in x?{body:x.body}:{}}}function getReadonlyRequest(r){return{method:r.method,url:r.url,headers:{get:(...x)=>r.headers.get(...x)}}}function getReadonlyContext(r){if(isPlainObject$2(r)){let x={...r};return Object.freeze(x),x}else return{get:x=>r.get(x)}}var objectProtoNames=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function isPlainObject$2(r){if(r===null||typeof r!="object")return!1;const x=Object.getPrototypeOf(r);return x===Object.prototype||x===null||Object.getOwnPropertyNames(x).sort().join("\0")===objectProtoNames}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},defaultMapRouteProperties=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(r){const x=r.window?r.window:typeof window<"u"?window:void 0,y=typeof x<"u"&&typeof x.document<"u"&&typeof x.document.createElement<"u";invariant(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let b=r.hydrationRouteProperties||[],R=r.mapRouteProperties||defaultMapRouteProperties,T=R;if(r.unstable_instrumentations){let mt=r.unstable_instrumentations;T=wt=>({...R(wt),...getRouteInstrumentationUpdates(mt.map(Nt=>Nt.route).filter(Boolean),wt)})}let A={},O=convertRoutesToDataRoutes(r.routes,T,void 0,A),B,U=r.basename||"/";U.startsWith("/")||(U=`/${U}`);let K=r.dataStrategy||defaultDataStrategyWithMiddleware,J={...r.future},te=null,ae=new Set,ue=null,pe=null,$e=null,Ne=r.hydrationData!=null,Be=matchRoutes(O,r.history.location,U),_e=!1,xe=null,Le;if(Be==null&&!r.patchRoutesOnNavigation){let mt=getInternalRouterError(404,{pathname:r.history.location.pathname}),{matches:wt,route:Nt}=getShortCircuitMatches(O);Le=!0,Be=wt,xe={[Nt.id]:mt}}else if(Be&&!r.hydrationData&&ss(Be,O,r.history.location.pathname).active&&(Be=null),Be)if(Be.some(mt=>mt.route.lazy))Le=!1;else if(!Be.some(mt=>routeHasLoaderOrMiddleware(mt.route)))Le=!0;else{let mt=r.hydrationData?r.hydrationData.loaderData:null,wt=r.hydrationData?r.hydrationData.errors:null;if(wt){let Nt=Be.findIndex(Ft=>wt[Ft.route.id]!==void 0);Le=Be.slice(0,Nt+1).every(Ft=>!shouldLoadRouteOnHydration(Ft.route,mt,wt))}else Le=Be.every(Nt=>!shouldLoadRouteOnHydration(Nt.route,mt,wt))}else{Le=!1,Be=[];let mt=ss(null,O,r.history.location.pathname);mt.active&&mt.matches&&(_e=!0,Be=mt.matches)}let Ue,He={historyAction:r.history.action,location:r.history.location,matches:Be,initialized:Le,navigation:IDLE_NAVIGATION,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||xe,fetchers:new Map,blockers:new Map},qe="POP",Qe=!1,lt,ct=!1,ot=new Map,pt=null,yt=!1,it=!1,Ke=new Set,Je=new Map,We=0,Ze=-1,dt=new Map,et=new Set,ft=new Map,Et=new Map,St=new Set,Bt=new Map,Rt,Yt=null;function nn(){if(te=r.history.listen(({action:mt,location:wt,delta:Nt})=>{if(Rt){Rt(),Rt=void 0;return}warning(Bt.size===0||Nt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ft=is({currentLocation:He.location,nextLocation:wt,historyAction:mt});if(Ft&&Nt!=null){let Wt=new Promise(en=>{Rt=en});r.history.go(Nt*-1),$i(Ft,{state:"blocked",location:wt,proceed(){$i(Ft,{state:"proceeding",proceed:void 0,reset:void 0,location:wt}),Wt.then(()=>r.history.go(Nt))},reset(){let en=new Map(He.blockers);en.set(Ft,IDLE_BLOCKER),dn({blockers:en})}});return}return Kn(mt,wt)}),y){restoreAppliedTransitions(x,ot);let mt=()=>persistAppliedTransitions(x,ot);x.addEventListener("pagehide",mt),pt=()=>x.removeEventListener("pagehide",mt)}return He.initialized||Kn("POP",He.location,{initialHydration:!0}),Ue}function mn(){te&&te(),pt&&pt(),ae.clear(),lt&&lt.abort(),He.fetchers.forEach((mt,wt)=>hi(wt)),He.blockers.forEach((mt,wt)=>fi(wt))}function Fn(mt){return ae.add(mt),()=>ae.delete(mt)}function dn(mt,wt={}){mt.matches&&(mt.matches=mt.matches.map(Wt=>{let en=A[Wt.route.id],Ot=Wt.route;return Ot.element!==en.element||Ot.errorElement!==en.errorElement||Ot.hydrateFallbackElement!==en.hydrateFallbackElement?{...Wt,route:en}:Wt})),He={...He,...mt};let Nt=[],Ft=[];He.fetchers.forEach((Wt,en)=>{Wt.state==="idle"&&(St.has(en)?Nt.push(en):Ft.push(en))}),St.forEach(Wt=>{!He.fetchers.has(Wt)&&!Je.has(Wt)&&Nt.push(Wt)}),[...ae].forEach(Wt=>Wt(He,{deletedFetchers:Nt,viewTransitionOpts:wt.viewTransitionOpts,flushSync:wt.flushSync===!0})),Nt.forEach(Wt=>hi(Wt)),Ft.forEach(Wt=>He.fetchers.delete(Wt))}function Gn(mt,wt,{flushSync:Nt}={}){var cn,on;let Ft=He.actionData!=null&&He.navigation.formMethod!=null&&isMutationMethod(He.navigation.formMethod)&&He.navigation.state==="loading"&&((cn=mt.state)==null?void 0:cn._isRedirect)!==!0,Wt;wt.actionData?Object.keys(wt.actionData).length>0?Wt=wt.actionData:Wt=null:Ft?Wt=He.actionData:Wt=null;let en=wt.loaderData?mergeLoaderData(He.loaderData,wt.loaderData,wt.matches||[],wt.errors):He.loaderData,Ot=He.blockers;Ot.size>0&&(Ot=new Map(Ot),Ot.forEach((bn,$n)=>Ot.set($n,IDLE_BLOCKER)));let Jt=yt?!1:Fr(mt,wt.matches||He.matches),Zt=Qe===!0||He.navigation.formMethod!=null&&isMutationMethod(He.navigation.formMethod)&&((on=mt.state)==null?void 0:on._isRedirect)!==!0;B&&(O=B,B=void 0),yt||qe==="POP"||(qe==="PUSH"?r.history.push(mt,mt.state):qe==="REPLACE"&&r.history.replace(mt,mt.state));let Xt;if(qe==="POP"){let bn=ot.get(He.location.pathname);bn&&bn.has(mt.pathname)?Xt={currentLocation:He.location,nextLocation:mt}:ot.has(mt.pathname)&&(Xt={currentLocation:mt,nextLocation:He.location})}else if(ct){let bn=ot.get(He.location.pathname);bn?bn.add(mt.pathname):(bn=new Set([mt.pathname]),ot.set(He.location.pathname,bn)),Xt={currentLocation:He.location,nextLocation:mt}}dn({...wt,actionData:Wt,loaderData:en,historyAction:qe,location:mt,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Jt,preventScrollReset:Zt,blockers:Ot},{viewTransitionOpts:Xt,flushSync:Nt===!0}),qe="POP",Qe=!1,ct=!1,yt=!1,it=!1,Yt==null||Yt.resolve(),Yt=null}async function tn(mt,wt){if(typeof mt=="number"){r.history.go(mt);return}let Nt=normalizeTo(He.location,He.matches,U,mt,wt==null?void 0:wt.fromRouteId,wt==null?void 0:wt.relative),{path:Ft,submission:Wt,error:en}=normalizeNavigateOptions(!1,Nt,wt),Ot=He.location,Jt=createLocation(He.location,Ft,wt&&wt.state);Jt={...Jt,...r.history.encodeLocation(Jt)};let Zt=wt&&wt.replace!=null?wt.replace:void 0,Xt="PUSH";Zt===!0?Xt="REPLACE":Zt===!1||Wt!=null&&isMutationMethod(Wt.formMethod)&&Wt.formAction===He.location.pathname+He.location.search&&(Xt="REPLACE");let cn=wt&&"preventScrollReset"in wt?wt.preventScrollReset===!0:void 0,on=(wt&&wt.flushSync)===!0,bn=is({currentLocation:Ot,nextLocation:Jt,historyAction:Xt});if(bn){$i(bn,{state:"blocked",location:Jt,proceed(){$i(bn,{state:"proceeding",proceed:void 0,reset:void 0,location:Jt}),tn(mt,wt)},reset(){let $n=new Map(He.blockers);$n.set(bn,IDLE_BLOCKER),dn({blockers:$n})}});return}await Kn(Xt,Jt,{submission:Wt,pendingError:en,preventScrollReset:cn,replace:wt&&wt.replace,enableViewTransition:wt&&wt.viewTransition,flushSync:on})}function Qt(){Yt||(Yt=createDeferred()),yn(),dn({revalidation:"loading"});let mt=Yt.promise;return He.navigation.state==="submitting"?mt:He.navigation.state==="idle"?(Kn(He.historyAction,He.location,{startUninterruptedRevalidation:!0}),mt):(Kn(qe||He.historyAction,He.navigation.location,{overrideNavigation:He.navigation,enableViewTransition:ct===!0}),mt)}async function Kn(mt,wt,Nt){lt&&lt.abort(),lt=null,qe=mt,yt=(Nt&&Nt.startUninterruptedRevalidation)===!0,xs(He.location,He.matches),Qe=(Nt&&Nt.preventScrollReset)===!0,ct=(Nt&&Nt.enableViewTransition)===!0;let Ft=B||O,Wt=Nt&&Nt.overrideNavigation,en=Nt!=null&&Nt.initialHydration&&He.matches&&He.matches.length>0&&!_e?He.matches:matchRoutes(Ft,wt,U),Ot=(Nt&&Nt.flushSync)===!0;if(en&&He.initialized&&!it&&isHashChangeOnly(He.location,wt)&&!(Nt&&Nt.submission&&isMutationMethod(Nt.submission.formMethod))){Gn(wt,{matches:en},{flushSync:Ot});return}let Jt=ss(en,Ft,wt.pathname);if(Jt.active&&Jt.matches&&(en=Jt.matches),!en){let{error:Er,notFoundMatches:On,route:wn}=jn(wt.pathname);Gn(wt,{matches:On,loaderData:{},errors:{[wn.id]:Er}},{flushSync:Ot});return}lt=new AbortController;let Zt=createClientSideRequest(r.history,wt,lt.signal,Nt&&Nt.submission),Xt=r.getContext?await r.getContext():new RouterContextProvider,cn;if(Nt&&Nt.pendingError)cn=[findNearestBoundary(en).route.id,{type:"error",error:Nt.pendingError}];else if(Nt&&Nt.submission&&isMutationMethod(Nt.submission.formMethod)){let Er=await Nr(Zt,wt,Nt.submission,en,Xt,Jt.active,Nt&&Nt.initialHydration===!0,{replace:Nt.replace,flushSync:Ot});if(Er.shortCircuited)return;if(Er.pendingActionResult){let[On,wn]=Er.pendingActionResult;if(isErrorResult(wn)&&isRouteErrorResponse(wn.error)&&wn.error.status===404){lt=null,Gn(wt,{matches:Er.matches,loaderData:{},errors:{[On]:wn.error}});return}}en=Er.matches||en,cn=Er.pendingActionResult,Wt=getLoadingNavigation(wt,Nt.submission),Ot=!1,Jt.active=!1,Zt=createClientSideRequest(r.history,Zt.url,Zt.signal)}let{shortCircuited:on,matches:bn,loaderData:$n,errors:Tr}=await zn(Zt,wt,en,Xt,Jt.active,Wt,Nt&&Nt.submission,Nt&&Nt.fetcherSubmission,Nt&&Nt.replace,Nt&&Nt.initialHydration===!0,Ot,cn);on||(lt=null,Gn(wt,{matches:bn||en,...getActionDataForCommit(cn),loaderData:$n,errors:Tr}))}async function Nr(mt,wt,Nt,Ft,Wt,en,Ot,Jt={}){yn();let Zt=getSubmittingNavigation(wt,Nt);if(dn({navigation:Zt},{flushSync:Jt.flushSync===!0}),en){let on=await Rr(Ft,wt.pathname,mt.signal);if(on.type==="aborted")return{shortCircuited:!0};if(on.type==="error"){if(on.partialMatches.length===0){let{matches:$n,route:Tr}=getShortCircuitMatches(O);return{matches:$n,pendingActionResult:[Tr.id,{type:"error",error:on.error}]}}let bn=findNearestBoundary(on.partialMatches).route.id;return{matches:on.partialMatches,pendingActionResult:[bn,{type:"error",error:on.error}]}}else if(on.matches)Ft=on.matches;else{let{notFoundMatches:bn,error:$n,route:Tr}=jn(wt.pathname);return{matches:bn,pendingActionResult:[Tr.id,{type:"error",error:$n}]}}}let Xt,cn=getTargetMatch(Ft,wt);if(!cn.route.action&&!cn.route.lazy)Xt={type:"error",error:getInternalRouterError(405,{method:mt.method,pathname:wt.pathname,routeId:cn.route.id})};else{let on=getTargetedDataStrategyMatches(T,A,mt,Ft,cn,Ot?[]:b,Wt),bn=await Ht(mt,on,Wt,null);if(Xt=bn[cn.route.id],!Xt){for(let $n of Ft)if(bn[$n.route.id]){Xt=bn[$n.route.id];break}}if(mt.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(Xt)){let on;return Jt&&Jt.replace!=null?on=Jt.replace:on=normalizeRedirectLocation(Xt.response.headers.get("Location"),new URL(mt.url),U)===He.location.pathname+He.location.search,await Mr(mt,Xt,!0,{submission:Nt,replace:on}),{shortCircuited:!0}}if(isErrorResult(Xt)){let on=findNearestBoundary(Ft,cn.route.id);return(Jt&&Jt.replace)!==!0&&(qe="PUSH"),{matches:Ft,pendingActionResult:[on.route.id,Xt,cn.route.id]}}return{matches:Ft,pendingActionResult:[cn.route.id,Xt]}}async function zn(mt,wt,Nt,Ft,Wt,en,Ot,Jt,Zt,Xt,cn,on){let bn=en||getLoadingNavigation(wt,Ot),$n=Ot||Jt||getSubmissionFromNavigation(bn),Tr=!yt&&!Xt;if(Wt){if(Tr){let vn=_n(on);dn({navigation:bn,...vn!==void 0?{actionData:vn}:{}},{flushSync:cn})}let rn=await Rr(Nt,wt.pathname,mt.signal);if(rn.type==="aborted")return{shortCircuited:!0};if(rn.type==="error"){if(rn.partialMatches.length===0){let{matches:Tn,route:oi}=getShortCircuitMatches(O);return{matches:Tn,loaderData:{},errors:{[oi.id]:rn.error}}}let vn=findNearestBoundary(rn.partialMatches).route.id;return{matches:rn.partialMatches,loaderData:{},errors:{[vn]:rn.error}}}else if(rn.matches)Nt=rn.matches;else{let{error:vn,notFoundMatches:Tn,route:oi}=jn(wt.pathname);return{matches:Tn,loaderData:{},errors:{[oi.id]:vn}}}}let Er=B||O,{dsMatches:On,revalidatingFetchers:wn}=getMatchesToLoad(mt,Ft,T,A,r.history,He,Nt,$n,wt,Xt?[]:b,Xt===!0,it,Ke,St,ft,et,Er,U,r.patchRoutesOnNavigation!=null,on);if(Ze=++We,!r.dataStrategy&&!On.some(rn=>rn.shouldLoad)&&!On.some(rn=>rn.route.middleware&&rn.route.middleware.length>0)&&wn.length===0){let rn=Xn();return Gn(wt,{matches:Nt,loaderData:{},errors:on&&isErrorResult(on[1])?{[on[0]]:on[1].error}:null,...getActionDataForCommit(on),...rn?{fetchers:new Map(He.fetchers)}:{}},{flushSync:cn}),{shortCircuited:!0}}if(Tr){let rn={};if(!Wt){rn.navigation=bn;let vn=_n(on);vn!==void 0&&(rn.actionData=vn)}wn.length>0&&(rn.fetchers=pn(wn)),dn(rn,{flushSync:cn})}wn.forEach(rn=>{Dn(rn.key),rn.controller&&Je.set(rn.key,rn.controller)});let Ln=()=>wn.forEach(rn=>Dn(rn.key));lt&&lt.signal.addEventListener("abort",Ln);let{loaderResults:gi,fetcherResults:Ar}=await sn(On,wn,mt,Ft);if(mt.signal.aborted)return{shortCircuited:!0};lt&&lt.signal.removeEventListener("abort",Ln),wn.forEach(rn=>Je.delete(rn.key));let Jn=findRedirect(gi);if(Jn)return await Mr(mt,Jn.result,!0,{replace:Zt}),{shortCircuited:!0};if(Jn=findRedirect(Ar),Jn)return et.add(Jn.key),await Mr(mt,Jn.result,!0,{replace:Zt}),{shortCircuited:!0};let{loaderData:zt,errors:as}=processLoaderData(He,Nt,gi,on,wn,Ar);Xt&&He.errors&&(as={...He.errors,...as});let Hn=Xn(),Jr=Sn(Ze),zs=Hn||Jr||wn.length>0;return{matches:Nt,loaderData:zt,errors:as,...zs?{fetchers:new Map(He.fetchers)}:{}}}function _n(mt){if(mt&&!isErrorResult(mt[1]))return{[mt[0]]:mt[1].data};if(He.actionData)return Object.keys(He.actionData).length===0?null:He.actionData}function pn(mt){return mt.forEach(wt=>{let Nt=He.fetchers.get(wt.key),Ft=getLoadingFetcher(void 0,Nt?Nt.data:void 0);He.fetchers.set(wt.key,Ft)}),new Map(He.fetchers)}async function br(mt,wt,Nt,Ft){Dn(mt);let Wt=(Ft&&Ft.flushSync)===!0,en=B||O,Ot=normalizeTo(He.location,He.matches,U,Nt,wt,Ft==null?void 0:Ft.relative),Jt=matchRoutes(en,Ot,U),Zt=ss(Jt,en,Ot);if(Zt.active&&Zt.matches&&(Jt=Zt.matches),!Jt){In(mt,wt,getInternalRouterError(404,{pathname:Ot}),{flushSync:Wt});return}let{path:Xt,submission:cn,error:on}=normalizeNavigateOptions(!0,Ot,Ft);if(on){In(mt,wt,on,{flushSync:Wt});return}let bn=r.getContext?await r.getContext():new RouterContextProvider,$n=(Ft&&Ft.preventScrollReset)===!0;if(cn&&isMutationMethod(cn.formMethod)){await Kt(mt,wt,Xt,Jt,bn,Zt.active,Wt,$n,cn);return}ft.set(mt,{routeId:wt,path:Xt}),await Wr(mt,wt,Xt,Jt,bn,Zt.active,Wt,$n,cn)}async function Kt(mt,wt,Nt,Ft,Wt,en,Ot,Jt,Zt){yn(),ft.delete(mt);let Xt=He.fetchers.get(mt);An(mt,getSubmittingFetcher(Zt,Xt),{flushSync:Ot});let cn=new AbortController,on=createClientSideRequest(r.history,Nt,cn.signal,Zt);if(en){let ir=await Rr(Ft,new URL(on.url).pathname,on.signal,mt);if(ir.type==="aborted")return;if(ir.type==="error"){In(mt,wt,ir.error,{flushSync:Ot});return}else if(ir.matches)Ft=ir.matches;else{In(mt,wt,getInternalRouterError(404,{pathname:Nt}),{flushSync:Ot});return}}let bn=getTargetMatch(Ft,Nt);if(!bn.route.action&&!bn.route.lazy){let ir=getInternalRouterError(405,{method:Zt.formMethod,pathname:Nt,routeId:wt});In(mt,wt,ir,{flushSync:Ot});return}Je.set(mt,cn);let $n=We,Tr=getTargetedDataStrategyMatches(T,A,on,Ft,bn,b,Wt),Er=await Ht(on,Tr,Wt,mt),On=Er[bn.route.id];if(!On){for(let ir of Tr)if(Er[ir.route.id]){On=Er[ir.route.id];break}}if(on.signal.aborted){Je.get(mt)===cn&&Je.delete(mt);return}if(St.has(mt)){if(isRedirectResult(On)||isErrorResult(On)){An(mt,getDoneFetcher(void 0));return}}else{if(isRedirectResult(On))if(Je.delete(mt),Ze>$n){An(mt,getDoneFetcher(void 0));return}else return et.add(mt),An(mt,getLoadingFetcher(Zt)),Mr(on,On,!1,{fetcherSubmission:Zt,preventScrollReset:Jt});if(isErrorResult(On)){In(mt,wt,On.error);return}}let wn=He.navigation.location||He.location,Ln=createClientSideRequest(r.history,wn,cn.signal),gi=B||O,Ar=He.navigation.state!=="idle"?matchRoutes(gi,He.navigation.location,U):He.matches;invariant(Ar,"Didn't find any matches after fetcher action");let Jn=++We;dt.set(mt,Jn);let zt=getLoadingFetcher(Zt,On.data);He.fetchers.set(mt,zt);let{dsMatches:as,revalidatingFetchers:Hn}=getMatchesToLoad(Ln,Wt,T,A,r.history,He,Ar,Zt,wn,b,!1,it,Ke,St,ft,et,gi,U,r.patchRoutesOnNavigation!=null,[bn.route.id,On]);Hn.filter(ir=>ir.key!==mt).forEach(ir=>{let ei=ir.key,Qn=He.fetchers.get(ei),Ti=getLoadingFetcher(void 0,Qn?Qn.data:void 0);He.fetchers.set(ei,Ti),Dn(ei),ir.controller&&Je.set(ei,ir.controller)}),dn({fetchers:new Map(He.fetchers)});let Jr=()=>Hn.forEach(ir=>Dn(ir.key));cn.signal.addEventListener("abort",Jr);let{loaderResults:zs,fetcherResults:rn}=await sn(as,Hn,Ln,Wt);if(cn.signal.aborted)return;if(cn.signal.removeEventListener("abort",Jr),dt.delete(mt),Je.delete(mt),Hn.forEach(ir=>Je.delete(ir.key)),He.fetchers.has(mt)){let ir=getDoneFetcher(On.data);He.fetchers.set(mt,ir)}let vn=findRedirect(zs);if(vn)return Mr(Ln,vn.result,!1,{preventScrollReset:Jt});if(vn=findRedirect(rn),vn)return et.add(vn.key),Mr(Ln,vn.result,!1,{preventScrollReset:Jt});let{loaderData:Tn,errors:oi}=processLoaderData(He,Ar,zs,void 0,Hn,rn);Sn(Jn),He.navigation.state==="loading"&&Jn>Ze?(invariant(qe,"Expected pending action"),lt&&lt.abort(),Gn(He.navigation.location,{matches:Ar,loaderData:Tn,errors:oi,fetchers:new Map(He.fetchers)})):(dn({errors:oi,loaderData:mergeLoaderData(He.loaderData,Tn,Ar,oi),fetchers:new Map(He.fetchers)}),it=!1)}async function Wr(mt,wt,Nt,Ft,Wt,en,Ot,Jt,Zt){let Xt=He.fetchers.get(mt);An(mt,getLoadingFetcher(Zt,Xt?Xt.data:void 0),{flushSync:Ot});let cn=new AbortController,on=createClientSideRequest(r.history,Nt,cn.signal);if(en){let wn=await Rr(Ft,new URL(on.url).pathname,on.signal,mt);if(wn.type==="aborted")return;if(wn.type==="error"){In(mt,wt,wn.error,{flushSync:Ot});return}else if(wn.matches)Ft=wn.matches;else{In(mt,wt,getInternalRouterError(404,{pathname:Nt}),{flushSync:Ot});return}}let bn=getTargetMatch(Ft,Nt);Je.set(mt,cn);let $n=We,Tr=getTargetedDataStrategyMatches(T,A,on,Ft,bn,b,Wt),On=(await Ht(on,Tr,Wt,mt))[bn.route.id];if(Je.get(mt)===cn&&Je.delete(mt),!on.signal.aborted){if(St.has(mt)){An(mt,getDoneFetcher(void 0));return}if(isRedirectResult(On))if(Ze>$n){An(mt,getDoneFetcher(void 0));return}else{et.add(mt),await Mr(on,On,!1,{preventScrollReset:Jt});return}if(isErrorResult(On)){In(mt,wt,On.error);return}An(mt,getDoneFetcher(On.data))}}async function Mr(mt,wt,Nt,{submission:Ft,fetcherSubmission:Wt,preventScrollReset:en,replace:Ot}={}){wt.response.headers.has("X-Remix-Revalidate")&&(it=!0);let Jt=wt.response.headers.get("Location");invariant(Jt,"Expected a Location header on the redirect Response"),Jt=normalizeRedirectLocation(Jt,new URL(mt.url),U);let Zt=createLocation(He.location,Jt,{_isRedirect:!0});if(y){let Tr=!1;if(wt.response.headers.has("X-Remix-Reload-Document"))Tr=!0;else if(isAbsoluteUrl(Jt)){const Er=createBrowserURLImpl(Jt,!0);Tr=Er.origin!==x.location.origin||stripBasename(Er.pathname,U)==null}if(Tr){Ot?x.location.replace(Jt):x.location.assign(Jt);return}}lt=null;let Xt=Ot===!0||wt.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:cn,formAction:on,formEncType:bn}=He.navigation;!Ft&&!Wt&&cn&&on&&bn&&(Ft=getSubmissionFromNavigation(He.navigation));let $n=Ft||Wt;if(redirectPreserveMethodStatusCodes.has(wt.response.status)&&$n&&isMutationMethod($n.formMethod))await Kn(Xt,Zt,{submission:{...$n,formAction:Jt},preventScrollReset:en||Qe,enableViewTransition:Nt?ct:void 0});else{let Tr=getLoadingNavigation(Zt,Ft);await Kn(Xt,Zt,{overrideNavigation:Tr,fetcherSubmission:Wt,preventScrollReset:en||Qe,enableViewTransition:Nt?ct:void 0})}}async function Ht(mt,wt,Nt,Ft){let Wt,en={};try{Wt=await callDataStrategyImpl(K,mt,wt,Ft,Nt,!1)}catch(Ot){return wt.filter(Jt=>Jt.shouldLoad).forEach(Jt=>{en[Jt.route.id]={type:"error",error:Ot}}),en}if(mt.signal.aborted)return en;for(let[Ot,Jt]of Object.entries(Wt))if(isRedirectDataStrategyResult(Jt)){let Zt=Jt.result;en[Ot]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(Zt,mt,Ot,wt,U)}}else en[Ot]=await convertDataStrategyResultToDataResult(Jt);return en}async function sn(mt,wt,Nt,Ft){let Wt=Ht(Nt,mt,Ft,null),en=Promise.all(wt.map(async Zt=>{if(Zt.matches&&Zt.match&&Zt.request&&Zt.controller){let cn=(await Ht(Zt.request,Zt.matches,Ft,Zt.key))[Zt.match.route.id];return{[Zt.key]:cn}}else return Promise.resolve({[Zt.key]:{type:"error",error:getInternalRouterError(404,{pathname:Zt.path})}})})),Ot=await Wt,Jt=(await en).reduce((Zt,Xt)=>Object.assign(Zt,Xt),{});return{loaderResults:Ot,fetcherResults:Jt}}function yn(){it=!0,ft.forEach((mt,wt)=>{Je.has(wt)&&Ke.add(wt),Dn(wt)})}function An(mt,wt,Nt={}){He.fetchers.set(mt,wt),dn({fetchers:new Map(He.fetchers)},{flushSync:(Nt&&Nt.flushSync)===!0})}function In(mt,wt,Nt,Ft={}){let Wt=findNearestBoundary(He.matches,wt);hi(mt),dn({errors:{[Wt.route.id]:Nt},fetchers:new Map(He.fetchers)},{flushSync:(Ft&&Ft.flushSync)===!0})}function rr(mt){return Et.set(mt,(Et.get(mt)||0)+1),St.has(mt)&&St.delete(mt),He.fetchers.get(mt)||IDLE_FETCHER}function Yr(mt,wt){Dn(mt,wt==null?void 0:wt.reason),An(mt,getDoneFetcher(null))}function hi(mt){let wt=He.fetchers.get(mt);Je.has(mt)&&!(wt&&wt.state==="loading"&&dt.has(mt))&&Dn(mt),ft.delete(mt),dt.delete(mt),et.delete(mt),St.delete(mt),Ke.delete(mt),He.fetchers.delete(mt)}function gs(mt){let wt=(Et.get(mt)||0)-1;wt<=0?(Et.delete(mt),St.add(mt)):Et.set(mt,wt),dn({fetchers:new Map(He.fetchers)})}function Dn(mt,wt){let Nt=Je.get(mt);Nt&&(Nt.abort(wt),Je.delete(mt))}function Ut(mt){for(let wt of mt){let Nt=rr(wt),Ft=getDoneFetcher(Nt.data);He.fetchers.set(wt,Ft)}}function Xn(){let mt=[],wt=!1;for(let Nt of et){let Ft=He.fetchers.get(Nt);invariant(Ft,`Expected fetcher: ${Nt}`),Ft.state==="loading"&&(et.delete(Nt),mt.push(Nt),wt=!0)}return Ut(mt),wt}function Sn(mt){let wt=[];for(let[Nt,Ft]of dt)if(Ft<mt){let Wt=He.fetchers.get(Nt);invariant(Wt,`Expected fetcher: ${Nt}`),Wt.state==="loading"&&(Dn(Nt),dt.delete(Nt),wt.push(Nt))}return Ut(wt),wt.length>0}function or(mt,wt){let Nt=He.blockers.get(mt)||IDLE_BLOCKER;return Bt.get(mt)!==wt&&Bt.set(mt,wt),Nt}function fi(mt){He.blockers.delete(mt),Bt.delete(mt)}function $i(mt,wt){let Nt=He.blockers.get(mt)||IDLE_BLOCKER;invariant(Nt.state==="unblocked"&&wt.state==="blocked"||Nt.state==="blocked"&&wt.state==="blocked"||Nt.state==="blocked"&&wt.state==="proceeding"||Nt.state==="blocked"&&wt.state==="unblocked"||Nt.state==="proceeding"&&wt.state==="unblocked",`Invalid blocker state transition: ${Nt.state} -> ${wt.state}`);let Ft=new Map(He.blockers);Ft.set(mt,wt),dn({blockers:Ft})}function is({currentLocation:mt,nextLocation:wt,historyAction:Nt}){if(Bt.size===0)return;Bt.size>1&&warning(!1,"A router only supports one blocker at a time");let Ft=Array.from(Bt.entries()),[Wt,en]=Ft[Ft.length-1],Ot=He.blockers.get(Wt);if(!(Ot&&Ot.state==="proceeding")&&en({currentLocation:mt,nextLocation:wt,historyAction:Nt}))return Wt}function jn(mt){let wt=getInternalRouterError(404,{pathname:mt}),Nt=B||O,{matches:Ft,route:Wt}=getShortCircuitMatches(Nt);return{notFoundMatches:Ft,route:Wt,error:wt}}function pi(mt,wt,Nt){if(ue=mt,$e=wt,pe=Nt||null,!Ne&&He.navigation===IDLE_NAVIGATION){Ne=!0;let Ft=Fr(He.location,He.matches);Ft!=null&&dn({restoreScrollPosition:Ft})}return()=>{ue=null,$e=null,pe=null}}function Ci(mt,wt){return pe&&pe(mt,wt.map(Ft=>convertRouteMatchToUiMatch(Ft,He.loaderData)))||mt.key}function xs(mt,wt){if(ue&&$e){let Nt=Ci(mt,wt);ue[Nt]=$e()}}function Fr(mt,wt){if(ue){let Nt=Ci(mt,wt),Ft=ue[Nt];if(typeof Ft=="number")return Ft}return null}function ss(mt,wt,Nt){if(r.patchRoutesOnNavigation)if(mt){if(Object.keys(mt[0].params).length>0)return{active:!0,matches:matchRoutesImpl(wt,Nt,U,!0)}}else return{active:!0,matches:matchRoutesImpl(wt,Nt,U,!0)||[]};return{active:!1,matches:null}}async function Rr(mt,wt,Nt,Ft){if(!r.patchRoutesOnNavigation)return{type:"success",matches:mt};let Wt=mt;for(;;){let en=B==null,Ot=B||O,Jt=A;try{await r.patchRoutesOnNavigation({signal:Nt,path:wt,matches:Wt,fetcherKey:Ft,patch:(cn,on)=>{Nt.aborted||patchRoutesImpl(cn,on,Ot,Jt,T,!1)}})}catch(cn){return{type:"error",error:cn,partialMatches:Wt}}finally{en&&!Nt.aborted&&(O=[...O])}if(Nt.aborted)return{type:"aborted"};let Zt=matchRoutes(Ot,wt,U),Xt=null;if(Zt){if(Object.keys(Zt[0].params).length===0)return{type:"success",matches:Zt};if(Xt=matchRoutesImpl(Ot,wt,U,!0),!(Xt&&Wt.length<Xt.length&&Ri(Wt,Xt.slice(0,Wt.length))))return{type:"success",matches:Zt}}if(Xt||(Xt=matchRoutesImpl(Ot,wt,U,!0)),!Xt||Ri(Wt,Xt))return{type:"success",matches:null};Wt=Xt}}function Ri(mt,wt){return mt.length===wt.length&&mt.every((Nt,Ft)=>Nt.route.id===wt[Ft].route.id)}function Li(mt){A={},B=convertRoutesToDataRoutes(mt,T,void 0,A)}function mi(mt,wt,Nt=!1){let Ft=B==null;patchRoutesImpl(mt,wt,B||O,A,T,Nt),Ft&&(O=[...O],dn({}))}return Ue={get basename(){return U},get future(){return J},get state(){return He},get routes(){return O},get window(){return x},initialize:nn,subscribe:Fn,enableScrollRestoration:pi,navigate:tn,fetch:br,revalidate:Qt,createHref:mt=>r.history.createHref(mt),encodeLocation:mt=>r.history.encodeLocation(mt),getFetcher:rr,resetFetcher:Yr,deleteFetcher:gs,dispose:mn,getBlocker:or,deleteBlocker:fi,patchRoutes:mi,_internalFetchControllers:Je,_internalSetRoutes:Li,_internalSetStateDoNotUseOrYouWillBreakYourApp(mt){dn(mt)}},r.unstable_instrumentations&&(Ue=instrumentClientSideRouter(Ue,r.unstable_instrumentations.map(mt=>mt.router).filter(Boolean))),Ue}function isSubmissionNavigation(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function normalizeTo(r,x,y,b,R,T){let A,O;if(R){A=[];for(let U of x)if(A.push(U),U.route.id===R){O=U;break}}else A=x,O=x[x.length-1];let B=resolveTo(b||".",getResolveToMatches(A),stripBasename(r.pathname,y)||r.pathname,T==="path");if(b==null&&(B.search=r.search,B.hash=r.hash),(b==null||b===""||b===".")&&O){let U=hasNakedIndexQuery(B.search);if(O.route.index&&!U)B.search=B.search?B.search.replace(/^\?/,"?index&"):"?index";else if(!O.route.index&&U){let K=new URLSearchParams(B.search),J=K.getAll("index");K.delete("index"),J.filter(ae=>ae).forEach(ae=>K.append("index",ae));let te=K.toString();B.search=te?`?${te}`:""}}return y!=="/"&&(B.pathname=prependBasename({basename:y,pathname:B.pathname})),createPath(B)}function normalizeNavigateOptions(r,x,y){if(!y||!isSubmissionNavigation(y))return{path:x};if(y.formMethod&&!isValidMethod(y.formMethod))return{path:x,error:getInternalRouterError(405,{method:y.formMethod})};let b=()=>({path:x,error:getInternalRouterError(400,{type:"invalid-body"})}),T=(y.formMethod||"get").toUpperCase(),A=stripHashFromPath(x);if(y.body!==void 0){if(y.formEncType==="text/plain"){if(!isMutationMethod(T))return b();let J=typeof y.body=="string"?y.body:y.body instanceof FormData||y.body instanceof URLSearchParams?Array.from(y.body.entries()).reduce((te,[ae,ue])=>`${te}${ae}=${ue}
`,""):String(y.body);return{path:x,submission:{formMethod:T,formAction:A,formEncType:y.formEncType,formData:void 0,json:void 0,text:J}}}else if(y.formEncType==="application/json"){if(!isMutationMethod(T))return b();try{let J=typeof y.body=="string"?JSON.parse(y.body):y.body;return{path:x,submission:{formMethod:T,formAction:A,formEncType:y.formEncType,formData:void 0,json:J,text:void 0}}}catch{return b()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let O,B;if(y.formData)O=convertFormDataToSearchParams(y.formData),B=y.formData;else if(y.body instanceof FormData)O=convertFormDataToSearchParams(y.body),B=y.body;else if(y.body instanceof URLSearchParams)O=y.body,B=convertSearchParamsToFormData(O);else if(y.body==null)O=new URLSearchParams,B=new FormData;else try{O=new URLSearchParams(y.body),B=convertSearchParamsToFormData(O)}catch{return b()}let U={formMethod:T,formAction:A,formEncType:y&&y.formEncType||"application/x-www-form-urlencoded",formData:B,json:void 0,text:void 0};if(isMutationMethod(U.formMethod))return{path:x,submission:U};let K=parsePath(x);return r&&K.search&&hasNakedIndexQuery(K.search)&&O.append("index",""),K.search=`?${O}`,{path:createPath(K),submission:U}}function getMatchesToLoad(r,x,y,b,R,T,A,O,B,U,K,J,te,ae,ue,pe,$e,Ne,Be,_e){var yt;let xe=_e?isErrorResult(_e[1])?_e[1].error:_e[1].data:void 0,Le=R.createURL(T.location),Ue=R.createURL(B),He;if(K&&T.errors){let it=Object.keys(T.errors)[0];He=A.findIndex(Ke=>Ke.route.id===it)}else if(_e&&isErrorResult(_e[1])){let it=_e[0];He=A.findIndex(Ke=>Ke.route.id===it)-1}let qe=_e?_e[1].statusCode:void 0,Qe=qe&&qe>=400,lt={currentUrl:Le,currentParams:((yt=T.matches[0])==null?void 0:yt.params)||{},nextUrl:Ue,nextParams:A[0].params,...O,actionResult:xe,actionStatus:qe},ct=getRoutePattern(A.map(it=>it.route.path)),ot=A.map((it,Ke)=>{let{route:Je}=it,We=null;if(He!=null&&Ke>He?We=!1:Je.lazy?We=!0:routeHasLoaderOrMiddleware(Je)?K?We=shouldLoadRouteOnHydration(Je,T.loaderData,T.errors):isNewLoader(T.loaderData,T.matches[Ke],it)&&(We=!0):We=!1,We!==null)return getDataStrategyMatch(y,b,r,ct,it,U,x,We);let Ze=Qe?!1:J||Le.pathname+Le.search===Ue.pathname+Ue.search||Le.search!==Ue.search||isNewRouteInstance(T.matches[Ke],it),dt={...lt,defaultShouldRevalidate:Ze},et=shouldRevalidateLoader(it,dt);return getDataStrategyMatch(y,b,r,ct,it,U,x,et,dt)}),pt=[];return ue.forEach((it,Ke)=>{if(K||!A.some(St=>St.route.id===it.routeId)||ae.has(Ke))return;let Je=T.fetchers.get(Ke),We=Je&&Je.state!=="idle"&&Je.data===void 0,Ze=matchRoutes($e,it.path,Ne);if(!Ze){if(Be&&We)return;pt.push({key:Ke,routeId:it.routeId,path:it.path,matches:null,match:null,request:null,controller:null});return}if(pe.has(Ke))return;let dt=getTargetMatch(Ze,it.path),et=new AbortController,ft=createClientSideRequest(R,it.path,et.signal),Et=null;if(te.has(Ke))te.delete(Ke),Et=getTargetedDataStrategyMatches(y,b,ft,Ze,dt,U,x);else if(We)J&&(Et=getTargetedDataStrategyMatches(y,b,ft,Ze,dt,U,x));else{let St={...lt,defaultShouldRevalidate:Qe?!1:J};shouldRevalidateLoader(dt,St)&&(Et=getTargetedDataStrategyMatches(y,b,ft,Ze,dt,U,x,St))}Et&&pt.push({key:Ke,routeId:it.routeId,path:it.path,matches:Et,match:dt,request:ft,controller:et})}),{dsMatches:ot,revalidatingFetchers:pt}}function routeHasLoaderOrMiddleware(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function shouldLoadRouteOnHydration(r,x,y){if(r.lazy)return!0;if(!routeHasLoaderOrMiddleware(r))return!1;let b=x!=null&&r.id in x,R=y!=null&&y[r.id]!==void 0;return!b&&R?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!b&&!R}function isNewLoader(r,x,y){let b=!x||y.route.id!==x.route.id,R=!r.hasOwnProperty(y.route.id);return b||R}function isNewRouteInstance(r,x){let y=r.route.path;return r.pathname!==x.pathname||y!=null&&y.endsWith("*")&&r.params["*"]!==x.params["*"]}function shouldRevalidateLoader(r,x){if(r.route.shouldRevalidate){let y=r.route.shouldRevalidate(x);if(typeof y=="boolean")return y}return x.defaultShouldRevalidate}function patchRoutesImpl(r,x,y,b,R,T){let A;if(r){let U=b[r];invariant(U,`No route found to patch children into: routeId = ${r}`),U.children||(U.children=[]),A=U.children}else A=y;let O=[],B=[];if(x.forEach(U=>{let K=A.find(J=>isSameRoute(U,J));K?B.push({existingRoute:K,newRoute:U}):O.push(U)}),O.length>0){let U=convertRoutesToDataRoutes(O,R,[r||"_","patch",String((A==null?void 0:A.length)||"0")],b);A.push(...U)}if(T&&B.length>0)for(let U=0;U<B.length;U++){let{existingRoute:K,newRoute:J}=B[U],te=K,[ae]=convertRoutesToDataRoutes([J],R,[],{},!0);Object.assign(te,{element:ae.element?ae.element:te.element,errorElement:ae.errorElement?ae.errorElement:te.errorElement,hydrateFallbackElement:ae.hydrateFallbackElement?ae.hydrateFallbackElement:te.hydrateFallbackElement})}}function isSameRoute(r,x){return"id"in r&&"id"in x&&r.id===x.id?!0:r.index===x.index&&r.path===x.path&&r.caseSensitive===x.caseSensitive?(!r.children||r.children.length===0)&&(!x.children||x.children.length===0)?!0:r.children.every((y,b)=>{var R;return(R=x.children)==null?void 0:R.some(T=>isSameRoute(y,T))}):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:r,route:x,manifest:y,mapRouteProperties:b})=>{let R=y[x.id];if(invariant(R,"No route found in manifest"),!R.lazy||typeof R.lazy!="object")return;let T=R.lazy[r];if(!T)return;let A=lazyRoutePropertyCache.get(R);A||(A={},lazyRoutePropertyCache.set(R,A));let O=A[r];if(O)return O;let B=(async()=>{let U=isUnsupportedLazyRouteObjectKey(r),J=R[r]!==void 0&&r!=="hasErrorBoundary";if(U)warning(!U,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),A[r]=Promise.resolve();else if(J)warning(!1,`Route "${R.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let te=await T();te!=null&&(Object.assign(R,{[r]:te}),Object.assign(R,b(R)))}typeof R.lazy=="object"&&(R.lazy[r]=void 0,Object.values(R.lazy).every(te=>te===void 0)&&(R.lazy=void 0))})();return A[r]=B,B},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(r,x,y,b,R){let T=y[r.id];if(invariant(T,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let K=lazyRouteFunctionCache.get(T);if(K)return{lazyRoutePromise:K,lazyHandlerPromise:K};let J=(async()=>{invariant(typeof r.lazy=="function","No lazy route function found");let te=await r.lazy(),ae={};for(let ue in te){let pe=te[ue];if(pe===void 0)continue;let $e=isUnsupportedLazyRouteFunctionKey(ue),Be=T[ue]!==void 0&&ue!=="hasErrorBoundary";$e?warning(!$e,"Route property "+ue+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Be?warning(!Be,`Route "${T.id}" has a static property "${ue}" defined but its lazy function is also returning a value for this property. The lazy route property "${ue}" will be ignored.`):ae[ue]=pe}Object.assign(T,ae),Object.assign(T,{...b(T),lazy:void 0})})();return lazyRouteFunctionCache.set(T,J),J.catch(()=>{}),{lazyRoutePromise:J,lazyHandlerPromise:J}}let A=Object.keys(r.lazy),O=[],B;for(let K of A){if(R&&R.includes(K))continue;let J=loadLazyRouteProperty({key:K,route:r,manifest:y,mapRouteProperties:b});J&&(O.push(J),K===x&&(B=J))}let U=O.length>0?Promise.all(O).then(()=>{}):void 0;return U==null||U.catch(()=>{}),B==null||B.catch(()=>{}),{lazyRoutePromise:U,lazyHandlerPromise:B}}async function defaultDataStrategy(r){let x=r.matches.filter(R=>R.shouldLoad),y={};return(await Promise.all(x.map(R=>R.resolve()))).forEach((R,T)=>{y[x[T].route.id]=R}),y}async function defaultDataStrategyWithMiddleware(r){return r.matches.some(x=>x.route.middleware)?runClientMiddlewarePipeline(r,()=>defaultDataStrategy(r)):defaultDataStrategy(r)}function runClientMiddlewarePipeline(r,x){return runMiddlewarePipeline(r,x,b=>b,isDataStrategyResults,y);function y(b,R,T){if(T)return Promise.resolve(Object.assign(T.value,{[R]:{type:"error",result:b}}));{let{matches:A}=r,O=Math.min(Math.max(A.findIndex(U=>U.route.id===R),0),Math.max(A.findIndex(U=>U.unstable_shouldCallHandler()),0)),B=findNearestBoundary(A,A[O].route.id).route.id;return Promise.resolve({[B]:{type:"error",result:b}})}}}async function runMiddlewarePipeline(r,x,y,b,R){let{matches:T,request:A,params:O,context:B,unstable_pattern:U}=r,K=T.flatMap(te=>te.route.middleware?te.route.middleware.map(ae=>[te.route.id,ae]):[]);return await callRouteMiddleware({request:A,params:O,context:B,unstable_pattern:U},K,x,y,b,R)}async function callRouteMiddleware(r,x,y,b,R,T,A=0){let{request:O}=r;if(O.signal.aborted)throw O.signal.reason??new Error(`Request aborted: ${O.method} ${O.url}`);let B=x[A];if(!B)return await y();let[U,K]=B,J,te=async()=>{if(J)throw new Error("You may only call `next()` once per middleware");try{return J={value:await callRouteMiddleware(r,x,y,b,R,T,A+1)},J.value}catch(ae){return J={value:await T(ae,U,J)},J.value}};try{let ae=await K(r,te),ue=ae!=null?b(ae):void 0;return R(ue)?ue:J?ue??J.value:(J={value:await te()},J.value)}catch(ae){return await T(ae,U,J)}}function getDataStrategyMatchLazyPromises(r,x,y,b,R){let T=loadLazyRouteProperty({key:"middleware",route:b.route,manifest:x,mapRouteProperties:r}),A=loadLazyRoute(b.route,isMutationMethod(y.method)?"action":"loader",x,r,R);return{middleware:T,route:A.lazyRoutePromise,handler:A.lazyHandlerPromise}}function getDataStrategyMatch(r,x,y,b,R,T,A,O,B=null){let U=!1,K=getDataStrategyMatchLazyPromises(r,x,y,R,T);return{...R,_lazyPromises:K,shouldLoad:O,unstable_shouldRevalidateArgs:B,unstable_shouldCallHandler(J){return U=!0,B?typeof J=="boolean"?shouldRevalidateLoader(R,{...B,defaultShouldRevalidate:J}):shouldRevalidateLoader(R,B):O},resolve(J){let{lazy:te,loader:ae,middleware:ue}=R.route,pe=U||O||J&&!isMutationMethod(y.method)&&(te||ae),$e=ue&&ue.length>0&&!ae&&!te;return pe&&(isMutationMethod(y.method)||!$e)?callLoaderOrAction({request:y,unstable_pattern:b,match:R,lazyHandlerPromise:K==null?void 0:K.handler,lazyRoutePromise:K==null?void 0:K.route,handlerOverride:J,scopedContext:A}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(r,x,y,b,R,T,A,O=null){return b.map(B=>B.route.id!==R.route.id?{...B,shouldLoad:!1,unstable_shouldRevalidateArgs:O,unstable_shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(r,x,y,B,T),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(r,x,y,getRoutePattern(b.map(U=>U.route.path)),B,T,A,!0,O))}async function callDataStrategyImpl(r,x,y,b,R,T){y.some(U=>{var K;return(K=U._lazyPromises)==null?void 0:K.middleware})&&await Promise.all(y.map(U=>{var K;return(K=U._lazyPromises)==null?void 0:K.middleware}));let A={request:x,unstable_pattern:getRoutePattern(y.map(U=>U.route.path)),params:y[0].params,context:R,matches:y},B=await r({...A,fetcherKey:b,runClientMiddleware:U=>{let K=A;return runClientMiddlewarePipeline(K,()=>U({...K,fetcherKey:b,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(y.flatMap(U=>{var K,J;return[(K=U._lazyPromises)==null?void 0:K.handler,(J=U._lazyPromises)==null?void 0:J.route]}))}catch{}return B}async function callLoaderOrAction({request:r,unstable_pattern:x,match:y,lazyHandlerPromise:b,lazyRoutePromise:R,handlerOverride:T,scopedContext:A}){let O,B,U=isMutationMethod(r.method),K=U?"action":"loader",J=te=>{let ae,ue=new Promise((Ne,Be)=>ae=Be);B=()=>ae(),r.signal.addEventListener("abort",B);let pe=Ne=>typeof te!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${K}" [routeId: ${y.route.id}]`)):te({request:r,unstable_pattern:x,params:y.params,context:A},...Ne!==void 0?[Ne]:[]),$e=(async()=>{try{return{type:"data",result:await(T?T(Be=>pe(Be)):pe())}}catch(Ne){return{type:"error",result:Ne}}})();return Promise.race([$e,ue])};try{let te=U?y.route.action:y.route.loader;if(b||R)if(te){let ae,[ue]=await Promise.all([J(te).catch(pe=>{ae=pe}),b,R]);if(ae!==void 0)throw ae;O=ue}else{await b;let ae=U?y.route.action:y.route.loader;if(ae)[O]=await Promise.all([J(ae),R]);else if(K==="action"){let ue=new URL(r.url),pe=ue.pathname+ue.search;throw getInternalRouterError(405,{method:r.method,pathname:pe,routeId:y.route.id})}else return{type:"data",result:void 0}}else if(te)O=await J(te);else{let ae=new URL(r.url),ue=ae.pathname+ae.search;throw getInternalRouterError(404,{pathname:ue})}}catch(te){return{type:"error",result:te}}finally{B&&r.signal.removeEventListener("abort",B)}return O}async function parseResponseBody(r){let x=r.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?r.body==null?null:r.json():r.text()}async function convertDataStrategyResultToDataResult(r){var b,R,T,A,O,B;let{result:x,type:y}=r;if(isResponse$1(x)){let U;try{U=await parseResponseBody(x)}catch(K){return{type:"error",error:K}}return y==="error"?{type:"error",error:new ErrorResponseImpl(x.status,x.statusText,U),statusCode:x.status,headers:x.headers}:{type:"data",data:U,statusCode:x.status,headers:x.headers}}return y==="error"?isDataWithResponseInit(x)?x.data instanceof Error?{type:"error",error:x.data,statusCode:(b=x.init)==null?void 0:b.status,headers:(R=x.init)!=null&&R.headers?new Headers(x.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(((T=x.init)==null?void 0:T.status)||500,void 0,x.data),statusCode:isRouteErrorResponse(x)?x.status:void 0,headers:(A=x.init)!=null&&A.headers?new Headers(x.init.headers):void 0}:{type:"error",error:x,statusCode:isRouteErrorResponse(x)?x.status:void 0}:isDataWithResponseInit(x)?{type:"data",data:x.data,statusCode:(O=x.init)==null?void 0:O.status,headers:(B=x.init)!=null&&B.headers?new Headers(x.init.headers):void 0}:{type:"data",data:x}}function normalizeRelativeRoutingRedirectResponse(r,x,y,b,R){let T=r.headers.get("Location");if(invariant(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!isAbsoluteUrl(T)){let A=b.slice(0,b.findIndex(O=>O.route.id===y)+1);T=normalizeTo(new URL(x.url),A,R,T),r.headers.set("Location",T)}return r}function normalizeRedirectLocation(r,x,y){if(isAbsoluteUrl(r)){let b=r,R=b.startsWith("//")?new URL(x.protocol+b):new URL(b),T=stripBasename(R.pathname,y)!=null;if(R.origin===x.origin&&T)return R.pathname+R.search+R.hash}return r}function createClientSideRequest(r,x,y,b){let R=r.createURL(stripHashFromPath(x)).toString(),T={signal:y};if(b&&isMutationMethod(b.formMethod)){let{formMethod:A,formEncType:O}=b;T.method=A.toUpperCase(),O==="application/json"?(T.headers=new Headers({"Content-Type":O}),T.body=JSON.stringify(b.json)):O==="text/plain"?T.body=b.text:O==="application/x-www-form-urlencoded"&&b.formData?T.body=convertFormDataToSearchParams(b.formData):T.body=b.formData}return new Request(R,T)}function convertFormDataToSearchParams(r){let x=new URLSearchParams;for(let[y,b]of r.entries())x.append(y,typeof b=="string"?b:b.name);return x}function convertSearchParamsToFormData(r){let x=new FormData;for(let[y,b]of r.entries())x.append(y,b);return x}function processRouteLoaderData(r,x,y,b=!1,R=!1){let T={},A=null,O,B=!1,U={},K=y&&isErrorResult(y[1])?y[1].error:void 0;return r.forEach(J=>{if(!(J.route.id in x))return;let te=J.route.id,ae=x[te];if(invariant(!isRedirectResult(ae),"Cannot handle redirect results in processLoaderData"),isErrorResult(ae)){let ue=ae.error;if(K!==void 0&&(ue=K,K=void 0),A=A||{},R)A[te]=ue;else{let pe=findNearestBoundary(r,te);A[pe.route.id]==null&&(A[pe.route.id]=ue)}b||(T[te]=ResetLoaderDataSymbol),B||(B=!0,O=isRouteErrorResponse(ae.error)?ae.error.status:500),ae.headers&&(U[te]=ae.headers)}else T[te]=ae.data,ae.statusCode&&ae.statusCode!==200&&!B&&(O=ae.statusCode),ae.headers&&(U[te]=ae.headers)}),K!==void 0&&y&&(A={[y[0]]:K},y[2]&&(T[y[2]]=void 0)),{loaderData:T,errors:A,statusCode:O||200,loaderHeaders:U}}function processLoaderData(r,x,y,b,R,T){let{loaderData:A,errors:O}=processRouteLoaderData(x,y,b);return R.filter(B=>!B.matches||B.matches.some(U=>U.shouldLoad)).forEach(B=>{let{key:U,match:K,controller:J}=B;if(J&&J.signal.aborted)return;let te=T[U];if(invariant(te,"Did not find corresponding fetcher result"),isErrorResult(te)){let ae=findNearestBoundary(r.matches,K==null?void 0:K.route.id);O&&O[ae.route.id]||(O={...O,[ae.route.id]:te.error}),r.fetchers.delete(U)}else if(isRedirectResult(te))invariant(!1,"Unhandled fetcher revalidation redirect");else{let ae=getDoneFetcher(te.data);r.fetchers.set(U,ae)}}),{loaderData:A,errors:O}}function mergeLoaderData(r,x,y,b){let R=Object.entries(x).filter(([,T])=>T!==ResetLoaderDataSymbol).reduce((T,[A,O])=>(T[A]=O,T),{});for(let T of y){let A=T.route.id;if(!x.hasOwnProperty(A)&&r.hasOwnProperty(A)&&T.route.loader&&(R[A]=r[A]),b&&b.hasOwnProperty(A))break}return R}function getActionDataForCommit(r){return r?isErrorResult(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function findNearestBoundary(r,x){return(x?r.slice(0,r.findIndex(b=>b.route.id===x)+1):[...r]).reverse().find(b=>b.route.hasErrorBoundary===!0)||r[0]}function getShortCircuitMatches(r){let x=r.length===1?r[0]:r.find(y=>y.index||!y.path||y.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:x}],route:x}}function getInternalRouterError(r,{pathname:x,routeId:y,method:b,type:R,message:T}={}){let A="Unknown Server Error",O="Unknown @remix-run/router error";return r===400?(A="Bad Request",b&&x&&y?O=`You made a ${b} request to "${x}" but did not provide a \`loader\` for route "${y}", so there is no way to handle the request.`:R==="invalid-body"&&(O="Unable to encode submission body")):r===403?(A="Forbidden",O=`Route "${y}" does not match URL "${x}"`):r===404?(A="Not Found",O=`No route matches URL "${x}"`):r===405&&(A="Method Not Allowed",b&&x&&y?O=`You made a ${b.toUpperCase()} request to "${x}" but did not provide an \`action\` for route "${y}", so there is no way to handle the request.`:b&&(O=`Invalid request method "${b.toUpperCase()}"`)),new ErrorResponseImpl(r||500,A,new Error(O),!0)}function findRedirect(r){let x=Object.entries(r);for(let y=x.length-1;y>=0;y--){let[b,R]=x[y];if(isRedirectResult(R))return{key:b,result:R}}}function stripHashFromPath(r){let x=typeof r=="string"?parsePath(r):r;return createPath({...x,hash:""})}function isHashChangeOnly(r,x){return r.pathname!==x.pathname||r.search!==x.search?!1:r.hash===""?x.hash!=="":r.hash===x.hash?!0:x.hash!==""}function isDataStrategyResults(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([x,y])=>typeof x=="string"&&isDataStrategyResult(y))}function isDataStrategyResult(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function isRedirectDataStrategyResult(r){return isResponse$1(r.result)&&redirectStatusCodes.has(r.result.status)}function isErrorResult(r){return r.type==="error"}function isRedirectResult(r){return(r&&r.type)==="redirect"}function isDataWithResponseInit(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function isResponse$1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function isValidMethod(r){return validRequestMethods.has(r.toUpperCase())}function isMutationMethod(r){return validMutationMethods.has(r.toUpperCase())}function hasNakedIndexQuery(r){return new URLSearchParams(r).getAll("index").some(x=>x==="")}function getTargetMatch(r,x){let y=typeof x=="string"?parsePath(x).search:x.search;if(r[r.length-1].route.index&&hasNakedIndexQuery(y||""))return r[r.length-1];let b=getPathContributingMatches(r);return b[b.length-1]}function getSubmissionFromNavigation(r){let{formMethod:x,formAction:y,formEncType:b,text:R,formData:T,json:A}=r;if(!(!x||!y||!b)){if(R!=null)return{formMethod:x,formAction:y,formEncType:b,formData:void 0,json:void 0,text:R};if(T!=null)return{formMethod:x,formAction:y,formEncType:b,formData:T,json:void 0,text:void 0};if(A!==void 0)return{formMethod:x,formAction:y,formEncType:b,formData:void 0,json:A,text:void 0}}}function getLoadingNavigation(r,x){return x?{state:"loading",location:r,formMethod:x.formMethod,formAction:x.formAction,formEncType:x.formEncType,formData:x.formData,json:x.json,text:x.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(r,x){return{state:"submitting",location:r,formMethod:x.formMethod,formAction:x.formAction,formEncType:x.formEncType,formData:x.formData,json:x.json,text:x.text}}function getLoadingFetcher(r,x){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:x}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:x}}function getSubmittingFetcher(r,x){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:x?x.data:void 0}}function getDoneFetcher(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function restoreAppliedTransitions(r,x){try{let y=r.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(y){let b=JSON.parse(y);for(let[R,T]of Object.entries(b||{}))T&&Array.isArray(T)&&x.set(R,new Set(T||[]))}}catch{}}function persistAppliedTransitions(r,x){if(x.size>0){let y={};for(let[b,R]of x)y[b]=[...R];try{r.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(y))}catch(b){warning(!1,`Failed to save applied view transitions in sessionStorage (${b}).`)}}}function createDeferred(){let r,x,y=new Promise((b,R)=>{r=async T=>{b(T);try{await y}catch{}},x=async T=>{R(T);try{await y}catch{}}});return{promise:y,resolve:r,reject:x}}var DataRouterContext=reactExports$1.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports$1.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports$1.createContext(!1);var ViewTransitionContext=reactExports$1.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports$1.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports$1.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports$1.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports$1.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports$1.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports$1.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(r,{relative:x}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:y,navigator:b}=reactExports$1.useContext(NavigationContext),{hash:R,pathname:T,search:A}=useResolvedPath(r,{relative:x}),O=T;return y!=="/"&&(O=T==="/"?y:joinPaths([y,T])),b.createHref({pathname:O,search:A,hash:R})}function useInRouterContext(){return reactExports$1.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports$1.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(r){reactExports$1.useContext(NavigationContext).static||reactExports$1.useLayoutEffect(r)}function useNavigate(){let{isDataRoute:r}=reactExports$1.useContext(RouteContext);return r?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let r=reactExports$1.useContext(DataRouterContext),{basename:x,navigator:y}=reactExports$1.useContext(NavigationContext),{matches:b}=reactExports$1.useContext(RouteContext),{pathname:R}=useLocation(),T=JSON.stringify(getResolveToMatches(b)),A=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{A.current=!0}),reactExports$1.useCallback((B,U={})=>{if(warning(A.current,navigateEffectWarning),!A.current)return;if(typeof B=="number"){y.go(B);return}let K=resolveTo(B,JSON.parse(T),R,U.relative==="path");r==null&&x!=="/"&&(K.pathname=K.pathname==="/"?x:joinPaths([x,K.pathname])),(U.replace?y.replace:y.push)(K,U.state,U)},[x,y,T,R,r])}var OutletContext=reactExports$1.createContext(null);function useOutlet(r){let x=reactExports$1.useContext(RouteContext).outlet;return reactExports$1.useMemo(()=>x&&reactExports$1.createElement(OutletContext.Provider,{value:r},x),[x,r])}function useParams(){let{matches:r}=reactExports$1.useContext(RouteContext),x=r[r.length-1];return x?x.params:{}}function useResolvedPath(r,{relative:x}={}){let{matches:y}=reactExports$1.useContext(RouteContext),{pathname:b}=useLocation(),R=JSON.stringify(getResolveToMatches(y));return reactExports$1.useMemo(()=>resolveTo(r,JSON.parse(R),b,x==="path"),[r,R,b,x])}function useRoutesImpl(r,x,y,b,R){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:T}=reactExports$1.useContext(NavigationContext),{matches:A}=reactExports$1.useContext(RouteContext),O=A[A.length-1],B=O?O.params:{},U=O?O.pathname:"/",K=O?O.pathnameBase:"/",J=O&&O.route;{let Be=J&&J.path||"";warningOnce(U,!J||Be.endsWith("*")||Be.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${U}" (under <Route path="${Be}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Be}"> to <Route path="${Be==="/"?"*":`${Be}/*`}">.`)}let te=useLocation(),ae;ae=te;let ue=ae.pathname||"/",pe=ue;if(K!=="/"){let Be=K.replace(/^\//,"").split("/");pe="/"+ue.replace(/^\//,"").split("/").slice(Be.length).join("/")}let $e=matchRoutes(r,{pathname:pe});return warning(J||$e!=null,`No routes matched location "${ae.pathname}${ae.search}${ae.hash}" `),warning($e==null||$e[$e.length-1].route.element!==void 0||$e[$e.length-1].route.Component!==void 0||$e[$e.length-1].route.lazy!==void 0,`Matched leaf route at location "${ae.pathname}${ae.search}${ae.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches($e&&$e.map(Be=>Object.assign({},Be,{params:Object.assign({},B,Be.params),pathname:joinPaths([K,T.encodeLocation?T.encodeLocation(Be.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Be.pathname]),pathnameBase:Be.pathnameBase==="/"?K:joinPaths([K,T.encodeLocation?T.encodeLocation(Be.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Be.pathnameBase])})),A,y,b,R)}function DefaultErrorComponent(){let r=useRouteError(),x=isRouteErrorResponse(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),y=r instanceof Error?r.stack:null,b="rgba(200,200,200, 0.5)",R={padding:"0.5rem",backgroundColor:b},T={padding:"2px 4px",backgroundColor:b},A=null;return console.error("Error handled by React Router default ErrorBoundary:",r),A=reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("p",null," Hey developer "),reactExports$1.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports$1.createElement("code",{style:T},"ErrorBoundary")," or"," ",reactExports$1.createElement("code",{style:T},"errorElement")," prop on your route.")),reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("h2",null,"Unexpected Application Error!"),reactExports$1.createElement("h3",{style:{fontStyle:"italic"}},x),y?reactExports$1.createElement("pre",{style:R},y):null,A)}var defaultErrorElement=reactExports$1.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports$1.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,x){return x.location!==r.location||x.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:x.error,location:x.location,revalidation:r.revalidation||x.revalidation}}componentDidCatch(r,x){this.props.onError?this.props.onError(r,x):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?reactExports$1.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports$1.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:r,match:x,children:y}){let b=reactExports$1.useContext(DataRouterContext);return b&&b.static&&b.staticContext&&(x.route.errorElement||x.route.ErrorBoundary)&&(b.staticContext._deepestRenderedBoundaryId=x.route.id),reactExports$1.createElement(RouteContext.Provider,{value:r},y)}function _renderMatches(r,x=[],y=null,b=null,R=null){if(r==null){if(!y)return null;if(y.errors)r=y.matches;else if(x.length===0&&!y.initialized&&y.matches.length>0)r=y.matches;else return null}let T=r,A=y==null?void 0:y.errors;if(A!=null){let K=T.findIndex(J=>J.route.id&&(A==null?void 0:A[J.route.id])!==void 0);invariant(K>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),T=T.slice(0,Math.min(T.length,K+1))}let O=!1,B=-1;if(y)for(let K=0;K<T.length;K++){let J=T[K];if((J.route.HydrateFallback||J.route.hydrateFallbackElement)&&(B=K),J.route.id){let{loaderData:te,errors:ae}=y,ue=J.route.loader&&!te.hasOwnProperty(J.route.id)&&(!ae||ae[J.route.id]===void 0);if(J.route.lazy||ue){O=!0,B>=0?T=T.slice(0,B+1):T=[T[0]];break}}}let U=y&&b?(K,J)=>{var te,ae;b(K,{location:y.location,params:((ae=(te=y.matches)==null?void 0:te[0])==null?void 0:ae.params)??{},errorInfo:J})}:void 0;return T.reduceRight((K,J,te)=>{let ae,ue=!1,pe=null,$e=null;y&&(ae=A&&J.route.id?A[J.route.id]:void 0,pe=J.route.errorElement||defaultErrorElement,O&&(B<0&&te===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ue=!0,$e=null):B===te&&(ue=!0,$e=J.route.hydrateFallbackElement||null)));let Ne=x.concat(T.slice(0,te+1)),Be=()=>{let _e;return ae?_e=pe:ue?_e=$e:J.route.Component?_e=reactExports$1.createElement(J.route.Component,null):J.route.element?_e=J.route.element:_e=K,reactExports$1.createElement(RenderedRoute,{match:J,routeContext:{outlet:K,matches:Ne,isDataRoute:y!=null},children:_e})};return y&&(J.route.ErrorBoundary||J.route.errorElement||te===0)?reactExports$1.createElement(RenderErrorBoundary,{location:y.location,revalidation:y.revalidation,component:pe,error:ae,children:Be(),routeContext:{outlet:null,matches:Ne,isDataRoute:!0},onError:U}):Be()},null)}function getDataRouterConsoleError(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(r){let x=reactExports$1.useContext(DataRouterContext);return invariant(x,getDataRouterConsoleError(r)),x}function useDataRouterState(r){let x=reactExports$1.useContext(DataRouterStateContext);return invariant(x,getDataRouterConsoleError(r)),x}function useRouteContext(r){let x=reactExports$1.useContext(RouteContext);return invariant(x,getDataRouterConsoleError(r)),x}function useCurrentRouteId(r){let x=useRouteContext(r),y=x.matches[x.matches.length-1];return invariant(y.route.id,`${r} can only be used on routes that contain a unique "id"`),y.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var b;let r=reactExports$1.useContext(RouteErrorContext),x=useDataRouterState("useRouteError"),y=useCurrentRouteId("useRouteError");return r!==void 0?r:(b=x.errors)==null?void 0:b[y]}function useNavigateStable(){let{router:r}=useDataRouterContext("useNavigate"),x=useCurrentRouteId("useNavigate"),y=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{y.current=!0}),reactExports$1.useCallback(async(R,T={})=>{warning(y.current,navigateEffectWarning),y.current&&(typeof R=="number"?r.navigate(R):await r.navigate(R,{fromRouteId:x,...T}))},[r,x])}var alreadyWarned={};function warningOnce(r,x,y){!x&&!alreadyWarned[r]&&(alreadyWarned[r]=!0,warning(!1,y))}var alreadyWarned2={};function warnOnce(r,x){!r&&!alreadyWarned2[x]&&(alreadyWarned2[x]=!0,console.warn(x))}function mapRouteProperties(r){let x={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(x,{element:reactExports$1.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(x,{hydrateFallbackElement:reactExports$1.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(x,{errorElement:reactExports$1.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),x}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred$1=class{constructor(){this.status="pending",this.promise=new Promise((x,y)=>{this.resolve=b=>{this.status==="pending"&&(this.status="resolved",x(b))},this.reject=b=>{this.status==="pending"&&(this.status="rejected",y(b))}})}};function RouterProvider({router:r,flushSync:x,unstable_onError:y}){let[b,R]=reactExports$1.useState(r.state),[T,A]=reactExports$1.useState(),[O,B]=reactExports$1.useState({isTransitioning:!1}),[U,K]=reactExports$1.useState(),[J,te]=reactExports$1.useState(),[ae,ue]=reactExports$1.useState(),pe=reactExports$1.useRef(new Map),$e=reactExports$1.useCallback(Le=>{R(Ue=>(Le.errors&&y&&Object.entries(Le.errors).forEach(([He,qe])=>{var Qe,lt;((Qe=Ue.errors)==null?void 0:Qe[He])!==qe&&y(qe,{location:Le.location,params:((lt=Le.matches[0])==null?void 0:lt.params)??{}})}),Le))},[y]),Ne=reactExports$1.useCallback((Le,{deletedFetchers:Ue,flushSync:He,viewTransitionOpts:qe})=>{Le.fetchers.forEach((lt,ct)=>{lt.data!==void 0&&pe.current.set(ct,lt.data)}),Ue.forEach(lt=>pe.current.delete(lt)),warnOnce(He===!1||x!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Qe=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(warnOnce(qe==null||Qe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!qe||!Qe){x&&He?x(()=>$e(Le)):reactExports$1.startTransition(()=>$e(Le));return}if(x&&He){x(()=>{J&&(U&&U.resolve(),J.skipTransition()),B({isTransitioning:!0,flushSync:!0,currentLocation:qe.currentLocation,nextLocation:qe.nextLocation})});let lt=r.window.document.startViewTransition(()=>{x(()=>$e(Le))});lt.finished.finally(()=>{x(()=>{K(void 0),te(void 0),A(void 0),B({isTransitioning:!1})})}),x(()=>te(lt));return}J?(U&&U.resolve(),J.skipTransition(),ue({state:Le,currentLocation:qe.currentLocation,nextLocation:qe.nextLocation})):(A(Le),B({isTransitioning:!0,flushSync:!1,currentLocation:qe.currentLocation,nextLocation:qe.nextLocation}))},[r.window,x,J,U,$e]);reactExports$1.useLayoutEffect(()=>r.subscribe(Ne),[r,Ne]),reactExports$1.useEffect(()=>{O.isTransitioning&&!O.flushSync&&K(new Deferred$1)},[O]),reactExports$1.useEffect(()=>{if(U&&T&&r.window){let Le=T,Ue=U.promise,He=r.window.document.startViewTransition(async()=>{reactExports$1.startTransition(()=>$e(Le)),await Ue});He.finished.finally(()=>{K(void 0),te(void 0),A(void 0),B({isTransitioning:!1})}),te(He)}},[T,U,r.window,$e]),reactExports$1.useEffect(()=>{U&&T&&b.location.key===T.location.key&&U.resolve()},[U,J,b.location,T]),reactExports$1.useEffect(()=>{!O.isTransitioning&&ae&&(A(ae.state),B({isTransitioning:!0,flushSync:!1,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation}),ue(void 0))},[O.isTransitioning,ae]);let Be=reactExports$1.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Le=>r.navigate(Le),push:(Le,Ue,He)=>r.navigate(Le,{state:Ue,preventScrollReset:He==null?void 0:He.preventScrollReset}),replace:(Le,Ue,He)=>r.navigate(Le,{replace:!0,state:Ue,preventScrollReset:He==null?void 0:He.preventScrollReset})}),[r]),_e=r.basename||"/",xe=reactExports$1.useMemo(()=>({router:r,navigator:Be,static:!1,basename:_e,unstable_onError:y}),[r,Be,_e,y]);return reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement(DataRouterContext.Provider,{value:xe},reactExports$1.createElement(DataRouterStateContext.Provider,{value:b},reactExports$1.createElement(FetchersContext.Provider,{value:pe.current},reactExports$1.createElement(ViewTransitionContext.Provider,{value:O},reactExports$1.createElement(Router,{basename:_e,location:b.location,navigationType:b.historyAction,navigator:Be},reactExports$1.createElement(MemoizedDataRoutes,{routes:r.routes,future:r.future,state:b,unstable_onError:y})))))),null)}var MemoizedDataRoutes=reactExports$1.memo(DataRoutes);function DataRoutes({routes:r,future:x,state:y,unstable_onError:b}){return useRoutesImpl(r,void 0,y,b,x)}function Navigate({to:r,replace:x,state:y,relative:b}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:R}=reactExports$1.useContext(NavigationContext);warning(!R,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:T}=reactExports$1.useContext(RouteContext),{pathname:A}=useLocation(),O=useNavigate(),B=resolveTo(r,getResolveToMatches(T),A,b==="path"),U=JSON.stringify(B);return reactExports$1.useEffect(()=>{O(JSON.parse(U),{replace:x,state:y,relative:b})},[O,U,b,x,y]),null}function Outlet(r){return useOutlet(r.context)}function Router({basename:r="/",children:x=null,location:y,navigationType:b="POP",navigator:R,static:T=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=r.replace(/^\/*/,"/"),O=reactExports$1.useMemo(()=>({basename:A,navigator:R,static:T,future:{}}),[A,R,T]);typeof y=="string"&&(y=parsePath(y));let{pathname:B="/",search:U="",hash:K="",state:J=null,key:te="default"}=y,ae=reactExports$1.useMemo(()=>{let ue=stripBasename(B,A);return ue==null?null:{location:{pathname:ue,search:U,hash:K,state:J,key:te},navigationType:b}},[A,B,U,K,J,te,b]);return warning(ae!=null,`<Router basename="${A}"> is not able to match the URL "${B}${U}${K}" because it does not start with the basename, so the <Router> won't render anything.`),ae==null?null:reactExports$1.createElement(NavigationContext.Provider,{value:O},reactExports$1.createElement(LocationContext.Provider,{children:x,value:ae}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(r){return r!=null&&typeof r.tagName=="string"}function isButtonElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="button"}function isFormElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="form"}function isInputElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="input"}function isModifiedEvent(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function shouldProcessLinkClick(r,x){return r.button===0&&(!x||x==="_self")&&!isModifiedEvent(r)}function createSearchParams(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((x,y)=>{let b=r[y];return x.concat(Array.isArray(b)?b.map(R=>[y,R]):[[y,b]])},[]))}function getSearchParamsForLocation(r,x){let y=createSearchParams(r);return x&&x.forEach((b,R)=>{y.has(R)||x.getAll(R).forEach(T=>{y.append(R,T)})}),y}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(r){return r!=null&&!supportedFormEncTypes.has(r)?(warning(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):r}function getFormSubmissionInfo(r,x){let y,b,R,T,A;if(isFormElement(r)){let O=r.getAttribute("action");b=O?stripBasename(O,x):null,y=r.getAttribute("method")||defaultMethod,R=getFormEncType(r.getAttribute("enctype"))||defaultEncType,T=new FormData(r)}else if(isButtonElement(r)||isInputElement(r)&&(r.type==="submit"||r.type==="image")){let O=r.form;if(O==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let B=r.getAttribute("formaction")||O.getAttribute("action");if(b=B?stripBasename(B,x):null,y=r.getAttribute("formmethod")||O.getAttribute("method")||defaultMethod,R=getFormEncType(r.getAttribute("formenctype"))||getFormEncType(O.getAttribute("enctype"))||defaultEncType,T=new FormData(O,r),!isFormDataSubmitterSupported()){let{name:U,type:K,value:J}=r;if(K==="image"){let te=U?`${U}.`:"";T.append(`${te}x`,"0"),T.append(`${te}y`,"0")}else U&&T.append(U,J)}}else{if(isHtmlElement(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');y=defaultMethod,b=null,R=defaultEncType,A=r}return T&&R==="text/plain"&&(A=T,T=void 0),{action:b,method:y.toLowerCase(),encType:R,formData:T,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(r,x){if(r===!1||r===null||typeof r>"u")throw new Error(x)}function singleFetchUrl(r,x,y){let b=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return b.pathname==="/"?b.pathname=`_root.${y}`:x&&stripBasename(b.pathname,x)==="/"?b.pathname=`${x.replace(/\/$/,"")}/_root.${y}`:b.pathname=`${b.pathname.replace(/\/$/,"")}.${y}`,b}async function loadRouteModule(r,x){if(r.id in x)return x[r.id];try{let y=await import(r.module);return x[r.id]=y,y}catch(y){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(y),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function getKeyedPrefetchLinks(r,x,y){let b=await Promise.all(r.map(async R=>{let T=x.routes[R.route.id];if(T){let A=await loadRouteModule(T,y);return A.links?A.links():[]}return[]}));return dedupeLinkDescriptors(b.flat(1).filter(isHtmlLinkDescriptor).filter(R=>R.rel==="stylesheet"||R.rel==="preload").map(R=>R.rel==="stylesheet"?{...R,rel:"prefetch",as:"style"}:{...R,rel:"prefetch"}))}function getNewMatchesForLinks(r,x,y,b,R,T){let A=(B,U)=>y[U]?B.route.id!==y[U].route.id:!0,O=(B,U)=>{var K;return y[U].pathname!==B.pathname||((K=y[U].route.path)==null?void 0:K.endsWith("*"))&&y[U].params["*"]!==B.params["*"]};return T==="assets"?x.filter((B,U)=>A(B,U)||O(B,U)):T==="data"?x.filter((B,U)=>{var J;let K=b.routes[B.route.id];if(!K||!K.hasLoader)return!1;if(A(B,U)||O(B,U))return!0;if(B.route.shouldRevalidate){let te=B.route.shouldRevalidate({currentUrl:new URL(R.pathname+R.search+R.hash,window.origin),currentParams:((J=y[0])==null?void 0:J.params)||{},nextUrl:new URL(r,window.origin),nextParams:B.params,defaultShouldRevalidate:!0});if(typeof te=="boolean")return te}return!0}):[]}function getModuleLinkHrefs(r,x,{includeHydrateFallback:y}={}){return dedupeHrefs(r.map(b=>{let R=x.routes[b.route.id];if(!R)return[];let T=[R.module];return R.clientActionModule&&(T=T.concat(R.clientActionModule)),R.clientLoaderModule&&(T=T.concat(R.clientLoaderModule)),y&&R.hydrateFallbackModule&&(T=T.concat(R.hydrateFallbackModule)),R.imports&&(T=T.concat(R.imports)),T}).flat(1))}function dedupeHrefs(r){return[...new Set(r)]}function sortKeys(r){let x={},y=Object.keys(r).sort();for(let b of y)x[b]=r[b];return x}function dedupeLinkDescriptors(r,x){let y=new Set;return new Set(x),r.reduce((b,R)=>{let T=JSON.stringify(sortKeys(R));return y.has(T)||(y.add(T),b.push({key:T,link:R})),b},[])}function useDataRouterContext2(){let r=reactExports$1.useContext(DataRouterContext);return invariant2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function useDataRouterStateContext(){let r=reactExports$1.useContext(DataRouterStateContext);return invariant2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var FrameworkContext=reactExports$1.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let r=reactExports$1.useContext(FrameworkContext);return invariant2(r,"You must render this element inside a <HydratedRouter> element"),r}function usePrefetchBehavior(r,x){let y=reactExports$1.useContext(FrameworkContext),[b,R]=reactExports$1.useState(!1),[T,A]=reactExports$1.useState(!1),{onFocus:O,onBlur:B,onMouseEnter:U,onMouseLeave:K,onTouchStart:J}=x,te=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{if(r==="render"&&A(!0),r==="viewport"){let pe=Ne=>{Ne.forEach(Be=>{A(Be.isIntersecting)})},$e=new IntersectionObserver(pe,{threshold:.5});return te.current&&$e.observe(te.current),()=>{$e.disconnect()}}},[r]),reactExports$1.useEffect(()=>{if(b){let pe=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(pe)}}},[b]);let ae=()=>{R(!0)},ue=()=>{R(!1),A(!1)};return y?r!=="intent"?[T,te,{}]:[T,te,{onFocus:composeEventHandlers$1(O,ae),onBlur:composeEventHandlers$1(B,ue),onMouseEnter:composeEventHandlers$1(U,ae),onMouseLeave:composeEventHandlers$1(K,ue),onTouchStart:composeEventHandlers$1(J,ae)}]:[!1,te,{}]}function composeEventHandlers$1(r,x){return y=>{r&&r(y),y.defaultPrevented||x(y)}}function PrefetchPageLinks({page:r,...x}){let{router:y}=useDataRouterContext2(),b=reactExports$1.useMemo(()=>matchRoutes(y.routes,r,y.basename),[y.routes,r,y.basename]);return b?reactExports$1.createElement(PrefetchPageLinksImpl,{page:r,matches:b,...x}):null}function useKeyedPrefetchLinks(r){let{manifest:x,routeModules:y}=useFrameworkContext(),[b,R]=reactExports$1.useState([]);return reactExports$1.useEffect(()=>{let T=!1;return getKeyedPrefetchLinks(r,x,y).then(A=>{T||R(A)}),()=>{T=!0}},[r,x,y]),b}function PrefetchPageLinksImpl({page:r,matches:x,...y}){let b=useLocation(),{manifest:R,routeModules:T}=useFrameworkContext(),{basename:A}=useDataRouterContext2(),{loaderData:O,matches:B}=useDataRouterStateContext(),U=reactExports$1.useMemo(()=>getNewMatchesForLinks(r,x,B,R,b,"data"),[r,x,B,R,b]),K=reactExports$1.useMemo(()=>getNewMatchesForLinks(r,x,B,R,b,"assets"),[r,x,B,R,b]),J=reactExports$1.useMemo(()=>{if(r===b.pathname+b.search+b.hash)return[];let ue=new Set,pe=!1;if(x.forEach(Ne=>{var _e;let Be=R.routes[Ne.route.id];!Be||!Be.hasLoader||(!U.some(xe=>xe.route.id===Ne.route.id)&&Ne.route.id in O&&((_e=T[Ne.route.id])!=null&&_e.shouldRevalidate)||Be.hasClientLoader?pe=!0:ue.add(Ne.route.id))}),ue.size===0)return[];let $e=singleFetchUrl(r,A,"data");return pe&&ue.size>0&&$e.searchParams.set("_routes",x.filter(Ne=>ue.has(Ne.route.id)).map(Ne=>Ne.route.id).join(",")),[$e.pathname+$e.search]},[A,O,b,R,U,x,r,T]),te=reactExports$1.useMemo(()=>getModuleLinkHrefs(K,R),[K,R]),ae=useKeyedPrefetchLinks(K);return reactExports$1.createElement(reactExports$1.Fragment,null,J.map(ue=>reactExports$1.createElement("link",{key:ue,rel:"prefetch",as:"fetch",href:ue,...y})),te.map(ue=>reactExports$1.createElement("link",{key:ue,rel:"modulepreload",href:ue,...y})),ae.map(({key:ue,link:pe})=>reactExports$1.createElement("link",{key:ue,nonce:y.nonce,...pe})))}function mergeRefs$1(...r){return x=>{r.forEach(y=>{typeof y=="function"?y(x):y!=null&&(y.current=x)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function createBrowserRouter(r,x){return createRouter({basename:x==null?void 0:x.basename,getContext:x==null?void 0:x.getContext,future:x==null?void 0:x.future,history:createBrowserHistory({window:x==null?void 0:x.window}),hydrationData:parseHydrationData(),routes:r,mapRouteProperties,hydrationRouteProperties,dataStrategy:x==null?void 0:x.dataStrategy,patchRoutesOnNavigation:x==null?void 0:x.patchRoutesOnNavigation,window:x==null?void 0:x.window,unstable_instrumentations:x==null?void 0:x.unstable_instrumentations}).initialize()}function parseHydrationData(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:deserializeErrors(r.errors)}),r}function deserializeErrors(r){if(!r)return null;let x=Object.entries(r),y={};for(let[b,R]of x)if(R&&R.__type==="RouteErrorResponse")y[b]=new ErrorResponseImpl(R.status,R.statusText,R.data,R.internal===!0);else if(R&&R.__type==="Error"){if(R.__subType){let T=window[R.__subType];if(typeof T=="function")try{let A=new T(R.message);A.stack="",y[b]=A}catch{}}if(y[b]==null){let T=new Error(R.message);T.stack="",y[b]=T}}else y[b]=R;return y}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports$1.forwardRef(function({onClick:x,discover:y="render",prefetch:b="none",relative:R,reloadDocument:T,replace:A,state:O,target:B,to:U,preventScrollReset:K,viewTransition:J,...te},ae){let{basename:ue}=reactExports$1.useContext(NavigationContext),pe=typeof U=="string"&&ABSOLUTE_URL_REGEX2.test(U),$e,Ne=!1;if(typeof U=="string"&&pe&&($e=U,isBrowser))try{let Qe=new URL(window.location.href),lt=U.startsWith("//")?new URL(Qe.protocol+U):new URL(U),ct=stripBasename(lt.pathname,ue);lt.origin===Qe.origin&&ct!=null?U=ct+lt.search+lt.hash:Ne=!0}catch{warning(!1,`<Link to="${U}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Be=useHref(U,{relative:R}),[_e,xe,Le]=usePrefetchBehavior(b,te),Ue=useLinkClickHandler(U,{replace:A,state:O,target:B,preventScrollReset:K,relative:R,viewTransition:J});function He(Qe){x&&x(Qe),Qe.defaultPrevented||Ue(Qe)}let qe=reactExports$1.createElement("a",{...te,...Le,href:$e||Be,onClick:Ne||T?x:He,ref:mergeRefs$1(ae,xe),target:B,"data-discover":!pe&&y==="render"?"true":void 0});return _e&&!pe?reactExports$1.createElement(reactExports$1.Fragment,null,qe,reactExports$1.createElement(PrefetchPageLinks,{page:Be})):qe});Link$1.displayName="Link";var NavLink=reactExports$1.forwardRef(function({"aria-current":x="page",caseSensitive:y=!1,className:b="",end:R=!1,style:T,to:A,viewTransition:O,children:B,...U},K){let J=useResolvedPath(A,{relative:U.relative}),te=useLocation(),ae=reactExports$1.useContext(DataRouterStateContext),{navigator:ue,basename:pe}=reactExports$1.useContext(NavigationContext),$e=ae!=null&&useViewTransitionState(J)&&O===!0,Ne=ue.encodeLocation?ue.encodeLocation(J).pathname:J.pathname,Be=te.pathname,_e=ae&&ae.navigation&&ae.navigation.location?ae.navigation.location.pathname:null;y||(Be=Be.toLowerCase(),_e=_e?_e.toLowerCase():null,Ne=Ne.toLowerCase()),_e&&pe&&(_e=stripBasename(_e,pe)||_e);const xe=Ne!=="/"&&Ne.endsWith("/")?Ne.length-1:Ne.length;let Le=Be===Ne||!R&&Be.startsWith(Ne)&&Be.charAt(xe)==="/",Ue=_e!=null&&(_e===Ne||!R&&_e.startsWith(Ne)&&_e.charAt(Ne.length)==="/"),He={isActive:Le,isPending:Ue,isTransitioning:$e},qe=Le?x:void 0,Qe;typeof b=="function"?Qe=b(He):Qe=[b,Le?"active":null,Ue?"pending":null,$e?"transitioning":null].filter(Boolean).join(" ");let lt=typeof T=="function"?T(He):T;return reactExports$1.createElement(Link$1,{...U,"aria-current":qe,className:Qe,ref:K,style:lt,to:A,viewTransition:O},typeof B=="function"?B(He):B)});NavLink.displayName="NavLink";var Form=reactExports$1.forwardRef(({discover:r="render",fetcherKey:x,navigate:y,reloadDocument:b,replace:R,state:T,method:A=defaultMethod,action:O,onSubmit:B,relative:U,preventScrollReset:K,viewTransition:J,...te},ae)=>{let ue=useSubmit(),pe=useFormAction(O,{relative:U}),$e=A.toLowerCase()==="get"?"get":"post",Ne=typeof O=="string"&&ABSOLUTE_URL_REGEX2.test(O),Be=_e=>{if(B&&B(_e),_e.defaultPrevented)return;_e.preventDefault();let xe=_e.nativeEvent.submitter,Le=(xe==null?void 0:xe.getAttribute("formmethod"))||A;ue(xe||_e.currentTarget,{fetcherKey:x,method:Le,navigate:y,replace:R,state:T,relative:U,preventScrollReset:K,viewTransition:J})};return reactExports$1.createElement("form",{ref:ae,method:$e,action:pe,onSubmit:b?B:Be,...te,"data-discover":!Ne&&r==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(r){let x=reactExports$1.useContext(DataRouterContext);return invariant(x,getDataRouterConsoleError2(r)),x}function useLinkClickHandler(r,{target:x,replace:y,state:b,preventScrollReset:R,relative:T,viewTransition:A}={}){let O=useNavigate(),B=useLocation(),U=useResolvedPath(r,{relative:T});return reactExports$1.useCallback(K=>{if(shouldProcessLinkClick(K,x)){K.preventDefault();let J=y!==void 0?y:createPath(B)===createPath(U);O(r,{replace:J,state:b,preventScrollReset:R,relative:T,viewTransition:A})}},[B,O,U,y,b,x,r,R,T,A])}function useSearchParams(r){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let x=reactExports$1.useRef(createSearchParams(r)),y=reactExports$1.useRef(!1),b=useLocation(),R=reactExports$1.useMemo(()=>getSearchParamsForLocation(b.search,y.current?null:x.current),[b.search]),T=useNavigate(),A=reactExports$1.useCallback((O,B)=>{const U=createSearchParams(typeof O=="function"?O(new URLSearchParams(R)):O);y.current=!0,T("?"+U,B)},[T,R]);return[R,A]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:r}=useDataRouterContext3("useSubmit"),{basename:x}=reactExports$1.useContext(NavigationContext),y=useRouteId();return reactExports$1.useCallback(async(b,R={})=>{let{action:T,method:A,encType:O,formData:B,body:U}=getFormSubmissionInfo(b,x);if(R.navigate===!1){let K=R.fetcherKey||getUniqueFetcherId();await r.fetch(K,y,R.action||T,{preventScrollReset:R.preventScrollReset,formData:B,body:U,formMethod:R.method||A,formEncType:R.encType||O,flushSync:R.flushSync})}else await r.navigate(R.action||T,{preventScrollReset:R.preventScrollReset,formData:B,body:U,formMethod:R.method||A,formEncType:R.encType||O,replace:R.replace,state:R.state,fromRouteId:y,flushSync:R.flushSync,viewTransition:R.viewTransition})},[r,x,y])}function useFormAction(r,{relative:x}={}){let{basename:y}=reactExports$1.useContext(NavigationContext),b=reactExports$1.useContext(RouteContext);invariant(b,"useFormAction must be used inside a RouteContext");let[R]=b.matches.slice(-1),T={...useResolvedPath(r||".",{relative:x})},A=useLocation();if(r==null){T.search=A.search;let O=new URLSearchParams(T.search),B=O.getAll("index");if(B.some(K=>K==="")){O.delete("index"),B.filter(J=>J).forEach(J=>O.append("index",J));let K=O.toString();T.search=K?`?${K}`:""}}return(!r||r===".")&&R.route.index&&(T.search=T.search?T.search.replace(/^\?/,"?index&"):"?index"),y!=="/"&&(T.pathname=T.pathname==="/"?y:joinPaths([y,T.pathname])),createPath(T)}function useViewTransitionState(r,{relative:x}={}){let y=reactExports$1.useContext(ViewTransitionContext);invariant(y!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:b}=useDataRouterContext3("useViewTransitionState"),R=useResolvedPath(r,{relative:x});if(!y.isTransitioning)return!1;let T=stripBasename(y.currentLocation.pathname,b)||y.currentLocation.pathname,A=stripBasename(y.nextLocation.pathname,b)||y.nextLocation.pathname;return matchPath(R.pathname,A)!=null||matchPath(R.pathname,T)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function RouterProvider2(r){return reactExports$1.createElement(RouterProvider,{flushSync:reactDomExports.flushSync,...r})}function ScrollToTop(){const{pathname:r}=useLocation();return reactExports$1.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const headerLayout="_headerLayout_1wv7b_1",logoSpan="_logoSpan_1wv7b_37",rightSection="_rightSection_1wv7b_75",notificationButton="_notificationButton_1wv7b_99",styles$1H={headerLayout,logoSpan,rightSection,notificationButton};var cssMediaquery={},hasRequiredCssMediaquery;function requireCssMediaquery(){if(hasRequiredCssMediaquery)return cssMediaquery;hasRequiredCssMediaquery=1,cssMediaquery.match=T,cssMediaquery.parse=A;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,x=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,y=/^(?:(min|max)-)?(.+)/,b=/(em|rem|px|cm|mm|in|pt|pc)?$/,R=/(dpi|dpcm|dppx)?$/;function T(K,J){return A(K).some(function(te){var ae=te.inverse,ue=te.type==="all"||J.type===te.type;if(ue&&ae||!(ue||ae))return!1;var pe=te.expressions.every(function($e){var Ne=$e.feature,Be=$e.modifier,_e=$e.value,xe=J[Ne];if(!xe)return!1;switch(Ne){case"orientation":case"scan":return xe.toLowerCase()===_e.toLowerCase();case"width":case"height":case"device-width":case"device-height":_e=U(_e),xe=U(xe);break;case"resolution":_e=B(_e),xe=B(xe);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":_e=O(_e),xe=O(xe);break;case"grid":case"color":case"color-index":case"monochrome":_e=parseInt(_e,10)||1,xe=parseInt(xe,10)||0;break}switch(Be){case"min":return xe>=_e;case"max":return xe<=_e;default:return xe===_e}});return pe&&!ae||!pe&&ae})}function A(K){return K.split(",").map(function(J){J=J.trim();var te=J.match(r),ae=te[1],ue=te[2],pe=te[3]||"",$e={};return $e.inverse=!!ae&&ae.toLowerCase()==="not",$e.type=ue?ue.toLowerCase():"all",pe=pe.match(/\([^\)]+\)/g)||[],$e.expressions=pe.map(function(Ne){var Be=Ne.match(x),_e=Be[1].toLowerCase().match(y);return{modifier:_e[1],feature:_e[2],value:Be[2]}}),$e})}function O(K){var J=Number(K),te;return J||(te=K.match(/^(\d+)\s*\/\s*(\d+)$/),J=te[1]/te[2]),J}function B(K){var J=parseFloat(K),te=String(K).match(R)[1];switch(te){case"dpcm":return J/2.54;case"dppx":return J*96;default:return J}}function U(K){var J=parseFloat(K),te=String(K).match(b)[1];switch(te){case"em":return J*16;case"rem":return J*16;case"cm":return J*96/2.54;case"mm":return J*96/2.54/10;case"in":return J*96;case"pt":return J*72;case"pc":return J*72/12;default:return J}}return cssMediaquery}var matchmediaquery,hasRequiredMatchmediaquery;function requireMatchmediaquery(){if(hasRequiredMatchmediaquery)return matchmediaquery;hasRequiredMatchmediaquery=1;var r=requireCssMediaquery().match,x=typeof window<"u"?window.matchMedia:null;function y(R,T,A){var O=this,B;x&&!A&&(B=x.call(window,R)),B?(this.matches=B.matches,this.media=B.media,B.addListener(J)):(this.matches=r(R,T),this.media=R),this.addListener=U,this.removeListener=K,this.dispose=te;function U(ae){B&&B.addListener(ae)}function K(ae){B&&B.removeListener(ae)}function J(ae){O.matches=ae.matches,O.media=ae.media}function te(){B&&B.removeListener(J)}}function b(R,T,A){return new y(R,T,A)}return matchmediaquery=b,matchmediaquery}var matchmediaqueryExports=requireMatchmediaquery();const matchMedia$1=getDefaultExportFromCjs(matchmediaqueryExports);var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache$1={};function toHyphenLower(r){return"-"+r.toLowerCase()}function hyphenateStyleName(r){if(cache$1.hasOwnProperty(r))return cache$1[r];var x=r.replace(uppercasePattern,toHyphenLower);return cache$1[r]=msPattern.test(x)?"-"+x:x}function shallowEqualObjects(r,x){if(r===x)return!0;if(!r||!x)return!1;const y=Object.keys(r),b=Object.keys(x),R=y.length;if(b.length!==R)return!1;for(let T=0;T<R;T++){const A=y[T];if(r[A]!==x[A]||!Object.prototype.hasOwnProperty.call(x,A))return!1}return!0}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=r,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var r=requireReactPropTypesSecret();function x(){}function y(){}return y.resetWarningCache=x,factoryWithThrowingShims=function(){function b(A,O,B,U,K,J){if(J!==r){var te=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw te.name="Invariant Violation",te}}b.isRequired=b;function R(){return b}var T={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:R,element:b,elementType:b,instanceOf:R,node:b,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:y,resetWarningCache:x};return T.PropTypes=T,T},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),stringOrNumber=PropTypes.oneOfType([PropTypes.string,PropTypes.number]),types={all:PropTypes.bool,grid:PropTypes.bool,aural:PropTypes.bool,braille:PropTypes.bool,handheld:PropTypes.bool,print:PropTypes.bool,projection:PropTypes.bool,screen:PropTypes.bool,tty:PropTypes.bool,tv:PropTypes.bool,embossed:PropTypes.bool},matchers={orientation:PropTypes.oneOf(["portrait","landscape"]),scan:PropTypes.oneOf(["progressive","interlace"]),aspectRatio:PropTypes.string,deviceAspectRatio:PropTypes.string,height:stringOrNumber,deviceHeight:stringOrNumber,width:stringOrNumber,deviceWidth:stringOrNumber,color:PropTypes.bool,colorIndex:PropTypes.bool,monochrome:PropTypes.bool,resolution:stringOrNumber,type:Object.keys(types)},{type,...featureMatchers}=matchers,features={minAspectRatio:PropTypes.string,maxAspectRatio:PropTypes.string,minDeviceAspectRatio:PropTypes.string,maxDeviceAspectRatio:PropTypes.string,minHeight:stringOrNumber,maxHeight:stringOrNumber,minDeviceHeight:stringOrNumber,maxDeviceHeight:stringOrNumber,minWidth:stringOrNumber,maxWidth:stringOrNumber,minDeviceWidth:stringOrNumber,maxDeviceWidth:stringOrNumber,minColor:PropTypes.number,maxColor:PropTypes.number,minColorIndex:PropTypes.number,maxColorIndex:PropTypes.number,minMonochrome:PropTypes.number,maxMonochrome:PropTypes.number,minResolution:stringOrNumber,maxResolution:stringOrNumber,...featureMatchers},all$1={...types,...features};var mq={all:all$1};const negate=r=>`not ${r}`,keyVal=(r,x)=>{const y=hyphenateStyleName(r);return typeof x=="number"&&(x=`${x}px`),x===!0?y:x===!1?negate(y):`(${y}: ${x})`},join$1=r=>r.join(" and "),toQuery=r=>{const x=[];return Object.keys(mq.all).forEach(y=>{const b=r[y];b!=null&&x.push(keyVal(y,b))}),join$1(x)},Context=reactExports$1.createContext(void 0),makeQuery=r=>r.query||toQuery(r),hyphenateKeys=r=>r?Object.keys(r).reduce((y,b)=>(y[hyphenateStyleName(b)]=r[b],y),{}):void 0,useIsUpdate=()=>{const r=reactExports$1.useRef(!1);return reactExports$1.useEffect(()=>{r.current=!0},[]),r.current},useDevice=r=>{const x=reactExports$1.useContext(Context),y=()=>hyphenateKeys(r)||hyphenateKeys(x),[b,R]=reactExports$1.useState(y);return reactExports$1.useEffect(()=>{const T=y();shallowEqualObjects(b,T)||R(T)},[r,x]),b},useQuery=r=>{const x=()=>makeQuery(r),[y,b]=reactExports$1.useState(x);return reactExports$1.useEffect(()=>{const R=x();y!==R&&b(R)},[r]),y},useMatchMedia=(r,x)=>{const y=()=>matchMedia$1(r,x||{},!!x),[b,R]=reactExports$1.useState(y),T=useIsUpdate();return reactExports$1.useEffect(()=>{if(T){const A=y();return R(A),()=>{A&&A.dispose()}}},[r,x]),b},useMatches=r=>{const[x,y]=reactExports$1.useState(r.matches);return reactExports$1.useEffect(()=>{const b=R=>{y(R.matches)};return r.addListener(b),y(r.matches),()=>{r.removeListener(b)}},[r]),x},useMediaQuery=(r,x,y)=>{const b=useDevice(x),R=useQuery(r);if(!R)throw new Error("Invalid or missing MediaQuery!");const T=useMatchMedia(R,b),A=useMatches(T);return useIsUpdate(),reactExports$1.useEffect(()=>{},[A]),reactExports$1.useEffect(()=>()=>{T&&T.dispose()},[]),A},useResponsive=()=>{const r=useMediaQuery({maxWidth:767}),x=useMediaQuery({minWidth:768,maxWidth:1024}),y=useMediaQuery({minWidth:1025});return{isMobile:r,isTablet:x,isDesktop:y}},overlay$4="_overlay_ry9nc_1",menuLayout="_menuLayout_ry9nc_33",menuVisible="_menuVisible_ry9nc_75",menuHidden="_menuHidden_ry9nc_83",closeContainer="_closeContainer_ry9nc_91",closeButton$b="_closeButton_ry9nc_125",menuSection="_menuSection_ry9nc_183",userNickname="_userNickname_ry9nc_199",menuSpan="_menuSpan_ry9nc_215",divider$3="_divider_ry9nc_247",styles$1G={overlay:overlay$4,menuLayout,menuVisible,menuHidden,closeContainer,closeButton:closeButton$b,menuSection,userNickname,menuSpan,divider:divider$3};function bind$1(r,x){return function(){return r.apply(x,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(r=>x=>{const y=toString.call(x);return r[y]||(r[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=r=>(r=r.toLowerCase(),x=>kindOf(x)===r),typeOfTest=r=>x=>typeof x===r,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(r){return r!==null&&!isUndefined(r)&&r.constructor!==null&&!isUndefined(r.constructor)&&isFunction$2(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(r){let x;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?x=ArrayBuffer.isView(r):x=r&&r.buffer&&isArrayBuffer(r.buffer),x}const isString=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$5=r=>r!==null&&typeof r=="object",isBoolean=r=>r===!0||r===!1,isPlainObject$1=r=>{if(kindOf(r)!=="object")return!1;const x=getPrototypeOf(r);return(x===null||x===Object.prototype||Object.getPrototypeOf(x)===null)&&!(toStringTag in r)&&!(iterator in r)},isEmptyObject$1=r=>{if(!isObject$5(r)||isBuffer(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=r=>isObject$5(r)&&isFunction$2(r.pipe),isFormData=r=>{let x;return r&&(typeof FormData=="function"&&r instanceof FormData||isFunction$2(r.append)&&((x=kindOf(r))==="formdata"||x==="object"&&isFunction$2(r.toString)&&r.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(r,x,{allOwnKeys:y=!1}={}){if(r===null||typeof r>"u")return;let b,R;if(typeof r!="object"&&(r=[r]),isArray(r))for(b=0,R=r.length;b<R;b++)x.call(null,r[b],b,r);else{if(isBuffer(r))return;const T=y?Object.getOwnPropertyNames(r):Object.keys(r),A=T.length;let O;for(b=0;b<A;b++)O=T[b],x.call(null,r[O],O,r)}}function findKey(r,x){if(isBuffer(r))return null;x=x.toLowerCase();const y=Object.keys(r);let b=y.length,R;for(;b-- >0;)if(R=y[b],x===R.toLowerCase())return R;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=r=>!isUndefined(r)&&r!==_global;function merge(){const{caseless:r,skipUndefined:x}=isContextDefined(this)&&this||{},y={},b=(R,T)=>{const A=r&&findKey(y,T)||T;isPlainObject$1(y[A])&&isPlainObject$1(R)?y[A]=merge(y[A],R):isPlainObject$1(R)?y[A]=merge({},R):isArray(R)?y[A]=R.slice():(!x||!isUndefined(R))&&(y[A]=R)};for(let R=0,T=arguments.length;R<T;R++)arguments[R]&&forEach$1(arguments[R],b);return y}const extend$3=(r,x,y,{allOwnKeys:b}={})=>(forEach$1(x,(R,T)=>{y&&isFunction$2(R)?r[T]=bind$1(R,y):r[T]=R},{allOwnKeys:b}),r),stripBOM=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),inherits=(r,x,y,b)=>{r.prototype=Object.create(x.prototype,b),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:x.prototype}),y&&Object.assign(r.prototype,y)},toFlatObject=(r,x,y,b)=>{let R,T,A;const O={};if(x=x||{},r==null)return x;do{for(R=Object.getOwnPropertyNames(r),T=R.length;T-- >0;)A=R[T],(!b||b(A,r,x))&&!O[A]&&(x[A]=r[A],O[A]=!0);r=y!==!1&&getPrototypeOf(r)}while(r&&(!y||y(r,x))&&r!==Object.prototype);return x},endsWith=(r,x,y)=>{r=String(r),(y===void 0||y>r.length)&&(y=r.length),y-=x.length;const b=r.indexOf(x,y);return b!==-1&&b===y},toArray$1=r=>{if(!r)return null;if(isArray(r))return r;let x=r.length;if(!isNumber$1(x))return null;const y=new Array(x);for(;x-- >0;)y[x]=r[x];return y},isTypedArray=(r=>x=>r&&x instanceof r)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(r,x)=>{const b=(r&&r[iterator]).call(r);let R;for(;(R=b.next())&&!R.done;){const T=R.value;x.call(r,T[0],T[1])}},matchAll=(r,x)=>{let y;const b=[];for(;(y=r.exec(x))!==null;)b.push(y);return b},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,R){return b.toUpperCase()+R}),hasOwnProperty=(({hasOwnProperty:r})=>(x,y)=>r.call(x,y))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(r,x)=>{const y=Object.getOwnPropertyDescriptors(r),b={};forEach$1(y,(R,T)=>{let A;(A=x(R,T,r))!==!1&&(b[T]=A||R)}),Object.defineProperties(r,b)},freezeMethods=r=>{reduceDescriptors(r,(x,y)=>{if(isFunction$2(r)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=r[y];if(isFunction$2(b)){if(x.enumerable=!1,"writable"in x){x.writable=!1;return}x.set||(x.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},toObjectSet=(r,x)=>{const y={},b=R=>{R.forEach(T=>{y[T]=!0})};return isArray(r)?b(r):b(String(r).split(x)),y},noop$2=()=>{},toFiniteNumber=(r,x)=>r!=null&&Number.isFinite(r=+r)?r:x;function isSpecCompliantForm(r){return!!(r&&isFunction$2(r.append)&&r[toStringTag]==="FormData"&&r[iterator])}const toJSONObject=r=>{const x=new Array(10),y=(b,R)=>{if(isObject$5(b)){if(x.indexOf(b)>=0)return;if(isBuffer(b))return b;if(!("toJSON"in b)){x[R]=b;const T=isArray(b)?[]:{};return forEach$1(b,(A,O)=>{const B=y(A,R+1);!isUndefined(B)&&(T[O]=B)}),x[R]=void 0,T}}return b};return y(r,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=r=>r&&(isObject$5(r)||isFunction$2(r))&&isFunction$2(r.then)&&isFunction$2(r.catch),_setImmediate=((r,x)=>r?setImmediate:x?((y,b)=>(_global.addEventListener("message",({source:R,data:T})=>{R===_global&&T===y&&b.length&&b.shift()()},!1),R=>{b.push(R),_global.postMessage(y,"*")}))(`axios@${Math.random()}`,[]):y=>setTimeout(y))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=r=>r!=null&&isFunction$2(r[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean,isObject:isObject$5,isPlainObject:isPlainObject$1,isEmptyObject:isEmptyObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend:extend$3,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(r,x,y,b,R){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",x&&(this.code=x),y&&(this.config=y),b&&(this.request=b),R&&(this.response=R,this.status=R.status?R.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{descriptors[r]={value:r}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(r,x,y,b,R,T)=>{const A=Object.create(prototype$1);utils$1.toFlatObject(r,A,function(K){return K!==Error.prototype},U=>U!=="isAxiosError");const O=r&&r.message?r.message:"Error",B=x==null&&r?r.code:x;return AxiosError$1.call(A,O,B,y,b,R),r&&A.cause==null&&Object.defineProperty(A,"cause",{value:r,configurable:!0}),A.name=r&&r.name||"Error",T&&Object.assign(A,T),A};const httpAdapter=null;function isVisitable(r){return utils$1.isPlainObject(r)||utils$1.isArray(r)}function removeBrackets(r){return utils$1.endsWith(r,"[]")?r.slice(0,-2):r}function renderKey(r,x,y){return r?r.concat(x).map(function(R,T){return R=removeBrackets(R),!y&&T?"["+R+"]":R}).join(y?".":""):x}function isFlatArray(r){return utils$1.isArray(r)&&!r.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(x){return/^is[A-Z]/.test(x)});function toFormData$1(r,x,y){if(!utils$1.isObject(r))throw new TypeError("target must be an object");x=x||new FormData,y=utils$1.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pe,$e){return!utils$1.isUndefined($e[pe])});const b=y.metaTokens,R=y.visitor||K,T=y.dots,A=y.indexes,B=(y.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(x);if(!utils$1.isFunction(R))throw new TypeError("visitor must be a function");function U(ue){if(ue===null)return"";if(utils$1.isDate(ue))return ue.toISOString();if(utils$1.isBoolean(ue))return ue.toString();if(!B&&utils$1.isBlob(ue))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(ue)||utils$1.isTypedArray(ue)?B&&typeof Blob=="function"?new Blob([ue]):Buffer.from(ue):ue}function K(ue,pe,$e){let Ne=ue;if(ue&&!$e&&typeof ue=="object"){if(utils$1.endsWith(pe,"{}"))pe=b?pe:pe.slice(0,-2),ue=JSON.stringify(ue);else if(utils$1.isArray(ue)&&isFlatArray(ue)||(utils$1.isFileList(ue)||utils$1.endsWith(pe,"[]"))&&(Ne=utils$1.toArray(ue)))return pe=removeBrackets(pe),Ne.forEach(function(_e,xe){!(utils$1.isUndefined(_e)||_e===null)&&x.append(A===!0?renderKey([pe],xe,T):A===null?pe:pe+"[]",U(_e))}),!1}return isVisitable(ue)?!0:(x.append(renderKey($e,pe,T),U(ue)),!1)}const J=[],te=Object.assign(predicates,{defaultVisitor:K,convertValue:U,isVisitable});function ae(ue,pe){if(!utils$1.isUndefined(ue)){if(J.indexOf(ue)!==-1)throw Error("Circular reference detected in "+pe.join("."));J.push(ue),utils$1.forEach(ue,function(Ne,Be){(!(utils$1.isUndefined(Ne)||Ne===null)&&R.call(x,Ne,utils$1.isString(Be)?Be.trim():Be,pe,te))===!0&&ae(Ne,pe?pe.concat(Be):[Be])}),J.pop()}}if(!utils$1.isObject(r))throw new TypeError("data must be an object");return ae(r),x}function encode$2(r){const x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(b){return x[b]})}function AxiosURLSearchParams(r,x){this._pairs=[],r&&toFormData$1(r,this,x)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(x,y){this._pairs.push([x,y])};prototype.toString=function(x){const y=x?function(b){return x.call(this,b,encode$2)}:encode$2;return this._pairs.map(function(R){return y(R[0])+"="+y(R[1])},"").join("&")};function encode$1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(r,x,y){if(!x)return r;const b=y&&y.encode||encode$1;utils$1.isFunction(y)&&(y={serialize:y});const R=y&&y.serialize;let T;if(R?T=R(x,y):T=utils$1.isURLSearchParams(x)?x.toString():new AxiosURLSearchParams(x,y).toString(b),T){const A=r.indexOf("#");A!==-1&&(r=r.slice(0,A)),r+=(r.indexOf("?")===-1?"?":"&")+T}return r}class InterceptorManager{constructor(){this.handlers=[]}use(x,y,b){return this.handlers.push({fulfilled:x,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(x){this.handlers[x]&&(this.handlers[x]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(x){utils$1.forEach(this.handlers,function(b){b!==null&&x(b)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(r,x){return toFormData$1(r,new platform.classes.URLSearchParams,{visitor:function(y,b,R,T){return platform.isNode&&utils$1.isBuffer(y)?(this.append(b,y.toString("base64")),!1):T.defaultVisitor.apply(this,arguments)},...x})}function parsePropPath(r){return utils$1.matchAll(/\w+|\[(\w*)]/g,r).map(x=>x[0]==="[]"?"":x[1]||x[0])}function arrayToObject(r){const x={},y=Object.keys(r);let b;const R=y.length;let T;for(b=0;b<R;b++)T=y[b],x[T]=r[T];return x}function formDataToJSON(r){function x(y,b,R,T){let A=y[T++];if(A==="__proto__")return!0;const O=Number.isFinite(+A),B=T>=y.length;return A=!A&&utils$1.isArray(R)?R.length:A,B?(utils$1.hasOwnProp(R,A)?R[A]=[R[A],b]:R[A]=b,!O):((!R[A]||!utils$1.isObject(R[A]))&&(R[A]=[]),x(y,b,R[A],T)&&utils$1.isArray(R[A])&&(R[A]=arrayToObject(R[A])),!O)}if(utils$1.isFormData(r)&&utils$1.isFunction(r.entries)){const y={};return utils$1.forEachEntry(r,(b,R)=>{x(parsePropPath(b),R,y,0)}),y}return null}function stringifySafely(r,x,y){if(utils$1.isString(r))try{return(x||JSON.parse)(r),utils$1.trim(r)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(r)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(x,y){const b=y.getContentType()||"",R=b.indexOf("application/json")>-1,T=utils$1.isObject(x);if(T&&utils$1.isHTMLForm(x)&&(x=new FormData(x)),utils$1.isFormData(x))return R?JSON.stringify(formDataToJSON(x)):x;if(utils$1.isArrayBuffer(x)||utils$1.isBuffer(x)||utils$1.isStream(x)||utils$1.isFile(x)||utils$1.isBlob(x)||utils$1.isReadableStream(x))return x;if(utils$1.isArrayBufferView(x))return x.buffer;if(utils$1.isURLSearchParams(x))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),x.toString();let O;if(T){if(b.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(x,this.formSerializer).toString();if((O=utils$1.isFileList(x))||b.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return toFormData$1(O?{"files[]":x}:x,B&&new B,this.formSerializer)}}return T||R?(y.setContentType("application/json",!1),stringifySafely(x)):x}],transformResponse:[function(x){const y=this.transitional||defaults$2.transitional,b=y&&y.forcedJSONParsing,R=this.responseType==="json";if(utils$1.isResponse(x)||utils$1.isReadableStream(x))return x;if(x&&utils$1.isString(x)&&(b&&!this.responseType||R)){const A=!(y&&y.silentJSONParsing)&&R;try{return JSON.parse(x,this.parseReviver)}catch(O){if(A)throw O.name==="SyntaxError"?AxiosError$1.from(O,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):O}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],r=>{defaults$2.headers[r]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=r=>{const x={};let y,b,R;return r&&r.split(`
`).forEach(function(A){R=A.indexOf(":"),y=A.substring(0,R).trim().toLowerCase(),b=A.substring(R+1).trim(),!(!y||x[y]&&ignoreDuplicateOf[y])&&(y==="set-cookie"?x[y]?x[y].push(b):x[y]=[b]:x[y]=x[y]?x[y]+", "+b:b)}),x},$internals=Symbol("internals");function normalizeHeader(r){return r&&String(r).trim().toLowerCase()}function normalizeValue(r){return r===!1||r==null?r:utils$1.isArray(r)?r.map(normalizeValue):String(r)}function parseTokens(r){const x=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(r);)x[b[1]]=b[2];return x}const isValidHeaderName=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function matchHeaderValue(r,x,y,b,R){if(utils$1.isFunction(b))return b.call(this,x,y);if(R&&(x=y),!!utils$1.isString(x)){if(utils$1.isString(b))return x.indexOf(b)!==-1;if(utils$1.isRegExp(b))return b.test(x)}}function formatHeader(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(x,y,b)=>y.toUpperCase()+b)}function buildAccessors(r,x){const y=utils$1.toCamelCase(" "+x);["get","set","has"].forEach(b=>{Object.defineProperty(r,b+y,{value:function(R,T,A){return this[b].call(this,x,R,T,A)},configurable:!0})})}let AxiosHeaders$1=class{constructor(x){x&&this.set(x)}set(x,y,b){const R=this;function T(O,B,U){const K=normalizeHeader(B);if(!K)throw new Error("header name must be a non-empty string");const J=utils$1.findKey(R,K);(!J||R[J]===void 0||U===!0||U===void 0&&R[J]!==!1)&&(R[J||B]=normalizeValue(O))}const A=(O,B)=>utils$1.forEach(O,(U,K)=>T(U,K,B));if(utils$1.isPlainObject(x)||x instanceof this.constructor)A(x,y);else if(utils$1.isString(x)&&(x=x.trim())&&!isValidHeaderName(x))A(parseHeaders(x),y);else if(utils$1.isObject(x)&&utils$1.isIterable(x)){let O={},B,U;for(const K of x){if(!utils$1.isArray(K))throw TypeError("Object iterator must return a key-value pair");O[U=K[0]]=(B=O[U])?utils$1.isArray(B)?[...B,K[1]]:[B,K[1]]:K[1]}A(O,y)}else x!=null&&T(y,x,b);return this}get(x,y){if(x=normalizeHeader(x),x){const b=utils$1.findKey(this,x);if(b){const R=this[b];if(!y)return R;if(y===!0)return parseTokens(R);if(utils$1.isFunction(y))return y.call(this,R,b);if(utils$1.isRegExp(y))return y.exec(R);throw new TypeError("parser must be boolean|regexp|function")}}}has(x,y){if(x=normalizeHeader(x),x){const b=utils$1.findKey(this,x);return!!(b&&this[b]!==void 0&&(!y||matchHeaderValue(this,this[b],b,y)))}return!1}delete(x,y){const b=this;let R=!1;function T(A){if(A=normalizeHeader(A),A){const O=utils$1.findKey(b,A);O&&(!y||matchHeaderValue(b,b[O],O,y))&&(delete b[O],R=!0)}}return utils$1.isArray(x)?x.forEach(T):T(x),R}clear(x){const y=Object.keys(this);let b=y.length,R=!1;for(;b--;){const T=y[b];(!x||matchHeaderValue(this,this[T],T,x,!0))&&(delete this[T],R=!0)}return R}normalize(x){const y=this,b={};return utils$1.forEach(this,(R,T)=>{const A=utils$1.findKey(b,T);if(A){y[A]=normalizeValue(R),delete y[T];return}const O=x?formatHeader(T):String(T).trim();O!==T&&delete y[T],y[O]=normalizeValue(R),b[O]=!0}),this}concat(...x){return this.constructor.concat(this,...x)}toJSON(x){const y=Object.create(null);return utils$1.forEach(this,(b,R)=>{b!=null&&b!==!1&&(y[R]=x&&utils$1.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([x,y])=>x+": "+y).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(x){return x instanceof this?x:new this(x)}static concat(x,...y){const b=new this(x);return y.forEach(R=>b.set(R)),b}static accessor(x){const b=(this[$internals]=this[$internals]={accessors:{}}).accessors,R=this.prototype;function T(A){const O=normalizeHeader(A);b[O]||(buildAccessors(R,A),b[O]=!0)}return utils$1.isArray(x)?x.forEach(T):T(x),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:r},x)=>{let y=x[0].toUpperCase()+x.slice(1);return{get:()=>r,set(b){this[y]=b}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(r,x){const y=this||defaults$2,b=x||y,R=AxiosHeaders$1.from(b.headers);let T=b.data;return utils$1.forEach(r,function(O){T=O.call(y,T,R.normalize(),x?x.status:void 0)}),R.normalize(),T}function isCancel$1(r){return!!(r&&r.__CANCEL__)}function CanceledError$1(r,x,y){AxiosError$1.call(this,r??"canceled",AxiosError$1.ERR_CANCELED,x,y),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(r,x,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?r(y):x(new AxiosError$1("Request failed with status code "+y.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}function parseProtocol(r){const x=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return x&&x[1]||""}function speedometer(r,x){r=r||10;const y=new Array(r),b=new Array(r);let R=0,T=0,A;return x=x!==void 0?x:1e3,function(B){const U=Date.now(),K=b[T];A||(A=U),y[R]=B,b[R]=U;let J=T,te=0;for(;J!==R;)te+=y[J++],J=J%r;if(R=(R+1)%r,R===T&&(T=(T+1)%r),U-A<x)return;const ae=K&&U-K;return ae?Math.round(te*1e3/ae):void 0}}function throttle(r,x){let y=0,b=1e3/x,R,T;const A=(U,K=Date.now())=>{y=K,R=null,T&&(clearTimeout(T),T=null),r(...U)};return[(...U)=>{const K=Date.now(),J=K-y;J>=b?A(U,K):(R=U,T||(T=setTimeout(()=>{T=null,A(R)},b-J)))},()=>R&&A(R)]}const progressEventReducer=(r,x,y=3)=>{let b=0;const R=speedometer(50,250);return throttle(T=>{const A=T.loaded,O=T.lengthComputable?T.total:void 0,B=A-b,U=R(B),K=A<=O;b=A;const J={loaded:A,total:O,progress:O?A/O:void 0,bytes:B,rate:U||void 0,estimated:U&&O&&K?(O-A)/U:void 0,event:T,lengthComputable:O!=null,[x?"download":"upload"]:!0};r(J)},y)},progressEventDecorator=(r,x)=>{const y=r!=null;return[b=>x[0]({lengthComputable:y,total:r,loaded:b}),x[1]]},asyncDecorator=r=>(...x)=>utils$1.asap(()=>r(...x)),isURLSameOrigin=platform.hasStandardBrowserEnv?((r,x)=>y=>(y=new URL(y,platform.origin),r.protocol===y.protocol&&r.host===y.host&&(x||r.port===y.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(r,x,y,b,R,T,A){if(typeof document>"u")return;const O=[`${r}=${encodeURIComponent(x)}`];utils$1.isNumber(y)&&O.push(`expires=${new Date(y).toUTCString()}`),utils$1.isString(b)&&O.push(`path=${b}`),utils$1.isString(R)&&O.push(`domain=${R}`),T===!0&&O.push("secure"),utils$1.isString(A)&&O.push(`SameSite=${A}`),document.cookie=O.join("; ")},read(r){if(typeof document>"u")return null;const x=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return x?decodeURIComponent(x[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function combineURLs(r,x){return x?r.replace(/\/?\/$/,"")+"/"+x.replace(/^\/+/,""):r}function buildFullPath(r,x,y){let b=!isAbsoluteURL(x);return r&&(b||y==!1)?combineURLs(r,x):x}const headersToObject=r=>r instanceof AxiosHeaders$1?{...r}:r;function mergeConfig$1(r,x){x=x||{};const y={};function b(U,K,J,te){return utils$1.isPlainObject(U)&&utils$1.isPlainObject(K)?utils$1.merge.call({caseless:te},U,K):utils$1.isPlainObject(K)?utils$1.merge({},K):utils$1.isArray(K)?K.slice():K}function R(U,K,J,te){if(utils$1.isUndefined(K)){if(!utils$1.isUndefined(U))return b(void 0,U,J,te)}else return b(U,K,J,te)}function T(U,K){if(!utils$1.isUndefined(K))return b(void 0,K)}function A(U,K){if(utils$1.isUndefined(K)){if(!utils$1.isUndefined(U))return b(void 0,U)}else return b(void 0,K)}function O(U,K,J){if(J in x)return b(U,K);if(J in r)return b(void 0,U)}const B={url:T,method:T,data:T,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,withXSRFToken:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:O,headers:(U,K,J)=>R(headersToObject(U),headersToObject(K),J,!0)};return utils$1.forEach(Object.keys({...r,...x}),function(K){const J=B[K]||R,te=J(r[K],x[K],K);utils$1.isUndefined(te)&&J!==O||(y[K]=te)}),y}const resolveConfig=r=>{const x=mergeConfig$1({},r);let{data:y,withXSRFToken:b,xsrfHeaderName:R,xsrfCookieName:T,headers:A,auth:O}=x;if(x.headers=A=AxiosHeaders$1.from(A),x.url=buildURL(buildFullPath(x.baseURL,x.url,x.allowAbsoluteUrls),r.params,r.paramsSerializer),O&&A.set("Authorization","Basic "+btoa((O.username||"")+":"+(O.password?unescape(encodeURIComponent(O.password)):""))),utils$1.isFormData(y)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)A.setContentType(void 0);else if(utils$1.isFunction(y.getHeaders)){const B=y.getHeaders(),U=["content-type","content-length"];Object.entries(B).forEach(([K,J])=>{U.includes(K.toLowerCase())&&A.set(K,J)})}}if(platform.hasStandardBrowserEnv&&(b&&utils$1.isFunction(b)&&(b=b(x)),b||b!==!1&&isURLSameOrigin(x.url))){const B=R&&T&&cookies.read(T);B&&A.set(R,B)}return x},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(r){return new Promise(function(y,b){const R=resolveConfig(r);let T=R.data;const A=AxiosHeaders$1.from(R.headers).normalize();let{responseType:O,onUploadProgress:B,onDownloadProgress:U}=R,K,J,te,ae,ue;function pe(){ae&&ae(),ue&&ue(),R.cancelToken&&R.cancelToken.unsubscribe(K),R.signal&&R.signal.removeEventListener("abort",K)}let $e=new XMLHttpRequest;$e.open(R.method.toUpperCase(),R.url,!0),$e.timeout=R.timeout;function Ne(){if(!$e)return;const _e=AxiosHeaders$1.from("getAllResponseHeaders"in $e&&$e.getAllResponseHeaders()),Le={data:!O||O==="text"||O==="json"?$e.responseText:$e.response,status:$e.status,statusText:$e.statusText,headers:_e,config:r,request:$e};settle(function(He){y(He),pe()},function(He){b(He),pe()},Le),$e=null}"onloadend"in $e?$e.onloadend=Ne:$e.onreadystatechange=function(){!$e||$e.readyState!==4||$e.status===0&&!($e.responseURL&&$e.responseURL.indexOf("file:")===0)||setTimeout(Ne)},$e.onabort=function(){$e&&(b(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,r,$e)),$e=null)},$e.onerror=function(xe){const Le=xe&&xe.message?xe.message:"Network Error",Ue=new AxiosError$1(Le,AxiosError$1.ERR_NETWORK,r,$e);Ue.event=xe||null,b(Ue),$e=null},$e.ontimeout=function(){let xe=R.timeout?"timeout of "+R.timeout+"ms exceeded":"timeout exceeded";const Le=R.transitional||transitionalDefaults;R.timeoutErrorMessage&&(xe=R.timeoutErrorMessage),b(new AxiosError$1(xe,Le.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,r,$e)),$e=null},T===void 0&&A.setContentType(null),"setRequestHeader"in $e&&utils$1.forEach(A.toJSON(),function(xe,Le){$e.setRequestHeader(Le,xe)}),utils$1.isUndefined(R.withCredentials)||($e.withCredentials=!!R.withCredentials),O&&O!=="json"&&($e.responseType=R.responseType),U&&([te,ue]=progressEventReducer(U,!0),$e.addEventListener("progress",te)),B&&$e.upload&&([J,ae]=progressEventReducer(B),$e.upload.addEventListener("progress",J),$e.upload.addEventListener("loadend",ae)),(R.cancelToken||R.signal)&&(K=_e=>{$e&&(b(!_e||_e.type?new CanceledError$1(null,r,$e):_e),$e.abort(),$e=null)},R.cancelToken&&R.cancelToken.subscribe(K),R.signal&&(R.signal.aborted?K():R.signal.addEventListener("abort",K)));const Be=parseProtocol(R.url);if(Be&&platform.protocols.indexOf(Be)===-1){b(new AxiosError$1("Unsupported protocol "+Be+":",AxiosError$1.ERR_BAD_REQUEST,r));return}$e.send(T||null)})},composeSignals=(r,x)=>{const{length:y}=r=r?r.filter(Boolean):[];if(x||y){let b=new AbortController,R;const T=function(U){if(!R){R=!0,O();const K=U instanceof Error?U:this.reason;b.abort(K instanceof AxiosError$1?K:new CanceledError$1(K instanceof Error?K.message:K))}};let A=x&&setTimeout(()=>{A=null,T(new AxiosError$1(`timeout ${x} of ms exceeded`,AxiosError$1.ETIMEDOUT))},x);const O=()=>{r&&(A&&clearTimeout(A),A=null,r.forEach(U=>{U.unsubscribe?U.unsubscribe(T):U.removeEventListener("abort",T)}),r=null)};r.forEach(U=>U.addEventListener("abort",T));const{signal:B}=b;return B.unsubscribe=()=>utils$1.asap(O),B}},streamChunk=function*(r,x){let y=r.byteLength;if(y<x){yield r;return}let b=0,R;for(;b<y;)R=b+x,yield r.slice(b,R),b=R},readBytes=async function*(r,x){for await(const y of readStream(r))yield*streamChunk(y,x)},readStream=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const x=r.getReader();try{for(;;){const{done:y,value:b}=await x.read();if(y)break;yield b}}finally{await x.cancel()}},trackStream=(r,x,y,b)=>{const R=readBytes(r,x);let T=0,A,O=B=>{A||(A=!0,b&&b(B))};return new ReadableStream({async pull(B){try{const{done:U,value:K}=await R.next();if(U){O(),B.close();return}let J=K.byteLength;if(y){let te=T+=J;y(te)}B.enqueue(new Uint8Array(K))}catch(U){throw O(U),U}},cancel(B){return O(B),R.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$1}=utils$1,globalFetchAPI=(({Request:r,Response:x})=>({Request:r,Response:x}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test$1=(r,...x)=>{try{return!!r(...x)}catch{return!1}},factory$1=r=>{r=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,r);const{fetch:x,Request:y,Response:b}=r,R=x?isFunction$1(x):typeof fetch=="function",T=isFunction$1(y),A=isFunction$1(b);if(!R)return!1;const O=R&&isFunction$1(ReadableStream$1),B=R&&(typeof TextEncoder$1=="function"?(ue=>pe=>ue.encode(pe))(new TextEncoder$1):async ue=>new Uint8Array(await new y(ue).arrayBuffer())),U=T&&O&&test$1(()=>{let ue=!1;const pe=new y(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return ue=!0,"half"}}).headers.has("Content-Type");return ue&&!pe}),K=A&&O&&test$1(()=>utils$1.isReadableStream(new b("").body)),J={stream:K&&(ue=>ue.body)};R&&["text","arrayBuffer","blob","formData","stream"].forEach(ue=>{!J[ue]&&(J[ue]=(pe,$e)=>{let Ne=pe&&pe[ue];if(Ne)return Ne.call(pe);throw new AxiosError$1(`Response type '${ue}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,$e)})});const te=async ue=>{if(ue==null)return 0;if(utils$1.isBlob(ue))return ue.size;if(utils$1.isSpecCompliantForm(ue))return(await new y(platform.origin,{method:"POST",body:ue}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(ue)||utils$1.isArrayBuffer(ue))return ue.byteLength;if(utils$1.isURLSearchParams(ue)&&(ue=ue+""),utils$1.isString(ue))return(await B(ue)).byteLength},ae=async(ue,pe)=>{const $e=utils$1.toFiniteNumber(ue.getContentLength());return $e??te(pe)};return async ue=>{let{url:pe,method:$e,data:Ne,signal:Be,cancelToken:_e,timeout:xe,onDownloadProgress:Le,onUploadProgress:Ue,responseType:He,headers:qe,withCredentials:Qe="same-origin",fetchOptions:lt}=resolveConfig(ue),ct=x||fetch;He=He?(He+"").toLowerCase():"text";let ot=composeSignals([Be,_e&&_e.toAbortSignal()],xe),pt=null;const yt=ot&&ot.unsubscribe&&(()=>{ot.unsubscribe()});let it;try{if(Ue&&U&&$e!=="get"&&$e!=="head"&&(it=await ae(qe,Ne))!==0){let et=new y(pe,{method:"POST",body:Ne,duplex:"half"}),ft;if(utils$1.isFormData(Ne)&&(ft=et.headers.get("content-type"))&&qe.setContentType(ft),et.body){const[Et,St]=progressEventDecorator(it,progressEventReducer(asyncDecorator(Ue)));Ne=trackStream(et.body,DEFAULT_CHUNK_SIZE,Et,St)}}utils$1.isString(Qe)||(Qe=Qe?"include":"omit");const Ke=T&&"credentials"in y.prototype,Je={...lt,signal:ot,method:$e.toUpperCase(),headers:qe.normalize().toJSON(),body:Ne,duplex:"half",credentials:Ke?Qe:void 0};pt=T&&new y(pe,Je);let We=await(T?ct(pt,lt):ct(pe,Je));const Ze=K&&(He==="stream"||He==="response");if(K&&(Le||Ze&&yt)){const et={};["status","statusText","headers"].forEach(Bt=>{et[Bt]=We[Bt]});const ft=utils$1.toFiniteNumber(We.headers.get("content-length")),[Et,St]=Le&&progressEventDecorator(ft,progressEventReducer(asyncDecorator(Le),!0))||[];We=new b(trackStream(We.body,DEFAULT_CHUNK_SIZE,Et,()=>{St&&St(),yt&&yt()}),et)}He=He||"text";let dt=await J[utils$1.findKey(J,He)||"text"](We,ue);return!Ze&&yt&&yt(),await new Promise((et,ft)=>{settle(et,ft,{data:dt,headers:AxiosHeaders$1.from(We.headers),status:We.status,statusText:We.statusText,config:ue,request:pt})})}catch(Ke){throw yt&&yt(),Ke&&Ke.name==="TypeError"&&/Load failed|fetch/i.test(Ke.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,ue,pt),{cause:Ke.cause||Ke}):AxiosError$1.from(Ke,Ke&&Ke.code,ue,pt)}}},seedCache=new Map,getFetch=r=>{let x=r&&r.env||{};const{fetch:y,Request:b,Response:R}=x,T=[b,R,y];let A=T.length,O=A,B,U,K=seedCache;for(;O--;)B=T[O],U=K.get(B),U===void 0&&K.set(B,U=O?new Map:factory$1(x)),K=U;return U};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(r,x)=>{if(r){try{Object.defineProperty(r,"name",{value:x})}catch{}Object.defineProperty(r,"adapterName",{value:x})}});const renderReason=r=>`- ${r}`,isResolvedHandle=r=>utils$1.isFunction(r)||r===null||r===!1;function getAdapter$1(r,x){r=utils$1.isArray(r)?r:[r];const{length:y}=r;let b,R;const T={};for(let A=0;A<y;A++){b=r[A];let O;if(R=b,!isResolvedHandle(b)&&(R=knownAdapters[(O=String(b)).toLowerCase()],R===void 0))throw new AxiosError$1(`Unknown adapter '${O}'`);if(R&&(utils$1.isFunction(R)||(R=R.get(x))))break;T[O||"#"+A]=R}if(!R){const A=Object.entries(T).map(([B,U])=>`adapter ${B} `+(U===!1?"is not supported by the environment":"is not available in the build"));let O=y?A.length>1?`since :
`+A.map(renderReason).join(`
`):" "+renderReason(A[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+O,"ERR_NOT_SUPPORT")}return R}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new CanceledError$1(null,r)}function dispatchRequest(r){return throwIfCancellationRequested(r),r.headers=AxiosHeaders$1.from(r.headers),r.data=transformData.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(r.adapter||defaults$2.adapter,r)(r).then(function(b){return throwIfCancellationRequested(r),b.data=transformData.call(r,r.transformResponse,b),b.headers=AxiosHeaders$1.from(b.headers),b},function(b){return isCancel$1(b)||(throwIfCancellationRequested(r),b&&b.response&&(b.response.data=transformData.call(r,r.transformResponse,b.response),b.response.headers=AxiosHeaders$1.from(b.response.headers))),Promise.reject(b)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((r,x)=>{validators$1[r]=function(b){return typeof b===r||"a"+(x<1?"n ":" ")+r}});const deprecatedWarnings={};validators$1.transitional=function(x,y,b){function R(T,A){return"[Axios v"+VERSION$1+"] Transitional option '"+T+"'"+A+(b?". "+b:"")}return(T,A,O)=>{if(x===!1)throw new AxiosError$1(R(A," has been removed"+(y?" in "+y:"")),AxiosError$1.ERR_DEPRECATED);return y&&!deprecatedWarnings[A]&&(deprecatedWarnings[A]=!0,console.warn(R(A," has been deprecated since v"+y+" and will be removed in the near future"))),x?x(T,A,O):!0}};validators$1.spelling=function(x){return(y,b)=>(console.warn(`${b} is likely a misspelling of ${x}`),!0)};function assertOptions(r,x,y){if(typeof r!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const b=Object.keys(r);let R=b.length;for(;R-- >0;){const T=b[R],A=x[T];if(A){const O=r[T],B=O===void 0||A(O,T,r);if(B!==!0)throw new AxiosError$1("option "+T+" must be "+B,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new AxiosError$1("Unknown option "+T,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(x){this.defaults=x||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(x,y){try{return await this._request(x,y)}catch(b){if(b instanceof Error){let R={};Error.captureStackTrace?Error.captureStackTrace(R):R=new Error;const T=R.stack?R.stack.replace(/^.+\n/,""):"";try{b.stack?T&&!String(b.stack).endsWith(T.replace(/^.+\n.+\n/,""))&&(b.stack+=`
`+T):b.stack=T}catch{}}throw b}}_request(x,y){typeof x=="string"?(y=y||{},y.url=x):y=x||{},y=mergeConfig$1(this.defaults,y);const{transitional:b,paramsSerializer:R,headers:T}=y;b!==void 0&&validator.assertOptions(b,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),R!=null&&(utils$1.isFunction(R)?y.paramsSerializer={serialize:R}:validator.assertOptions(R,{encode:validators.function,serialize:validators.function},!0)),y.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?y.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:y.allowAbsoluteUrls=!0),validator.assertOptions(y,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),y.method=(y.method||this.defaults.method||"get").toLowerCase();let A=T&&utils$1.merge(T.common,T[y.method]);T&&utils$1.forEach(["delete","get","head","post","put","patch","common"],ue=>{delete T[ue]}),y.headers=AxiosHeaders$1.concat(A,T);const O=[];let B=!0;this.interceptors.request.forEach(function(pe){typeof pe.runWhen=="function"&&pe.runWhen(y)===!1||(B=B&&pe.synchronous,O.unshift(pe.fulfilled,pe.rejected))});const U=[];this.interceptors.response.forEach(function(pe){U.push(pe.fulfilled,pe.rejected)});let K,J=0,te;if(!B){const ue=[dispatchRequest.bind(this),void 0];for(ue.unshift(...O),ue.push(...U),te=ue.length,K=Promise.resolve(y);J<te;)K=K.then(ue[J++],ue[J++]);return K}te=O.length;let ae=y;for(;J<te;){const ue=O[J++],pe=O[J++];try{ae=ue(ae)}catch($e){pe.call(this,$e);break}}try{K=dispatchRequest.call(this,ae)}catch(ue){return Promise.reject(ue)}for(J=0,te=U.length;J<te;)K=K.then(U[J++],U[J++]);return K}getUri(x){x=mergeConfig$1(this.defaults,x);const y=buildFullPath(x.baseURL,x.url,x.allowAbsoluteUrls);return buildURL(y,x.params,x.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(x){Axios$1.prototype[x]=function(y,b){return this.request(mergeConfig$1(b||{},{method:x,url:y,data:(b||{}).data}))}});utils$1.forEach(["post","put","patch"],function(x){function y(b){return function(T,A,O){return this.request(mergeConfig$1(O||{},{method:x,headers:b?{"Content-Type":"multipart/form-data"}:{},url:T,data:A}))}}Axios$1.prototype[x]=y(),Axios$1.prototype[x+"Form"]=y(!0)});let CancelToken$1=class Tp{constructor(x){if(typeof x!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(T){y=T});const b=this;this.promise.then(R=>{if(!b._listeners)return;let T=b._listeners.length;for(;T-- >0;)b._listeners[T](R);b._listeners=null}),this.promise.then=R=>{let T;const A=new Promise(O=>{b.subscribe(O),T=O}).then(R);return A.cancel=function(){b.unsubscribe(T)},A},x(function(T,A,O){b.reason||(b.reason=new CanceledError$1(T,A,O),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(x){if(this.reason){x(this.reason);return}this._listeners?this._listeners.push(x):this._listeners=[x]}unsubscribe(x){if(!this._listeners)return;const y=this._listeners.indexOf(x);y!==-1&&this._listeners.splice(y,1)}toAbortSignal(){const x=new AbortController,y=b=>{x.abort(b)};return this.subscribe(y),x.signal.unsubscribe=()=>this.unsubscribe(y),x.signal}static source(){let x;return{token:new Tp(function(R){x=R}),cancel:x}}};function spread$1(r){return function(y){return r.apply(null,y)}}function isAxiosError$1(r){return utils$1.isObject(r)&&r.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([r,x])=>{HttpStatusCode$1[x]=r});function createInstance(r){const x=new Axios$1(r),y=bind$1(Axios$1.prototype.request,x);return utils$1.extend(y,Axios$1.prototype,x,{allOwnKeys:!0}),utils$1.extend(y,x,null,{allOwnKeys:!0}),y.create=function(R){return createInstance(mergeConfig$1(r,R))},y}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(x){return Promise.all(x)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=r=>formDataToJSON(utils$1.isHTMLForm(r)?new FormData(r):r);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;/*! js-cookie v3.0.5 | MIT */function assign(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)r[b]=y[b]}return r}var defaultConverter={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$3(r,x){function y(R,T,A){if(!(typeof document>"u")){A=assign({},x,A),typeof A.expires=="number"&&(A.expires=new Date(Date.now()+A.expires*864e5)),A.expires&&(A.expires=A.expires.toUTCString()),R=encodeURIComponent(R).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var O="";for(var B in A)A[B]&&(O+="; "+B,A[B]!==!0&&(O+="="+A[B].split(";")[0]));return document.cookie=R+"="+r.write(T,R)+O}}function b(R){if(!(typeof document>"u"||arguments.length&&!R)){for(var T=document.cookie?document.cookie.split("; "):[],A={},O=0;O<T.length;O++){var B=T[O].split("="),U=B.slice(1).join("=");try{var K=decodeURIComponent(B[0]);if(A[K]=r.read(U,K),R===K)break}catch{}}return R?A[R]:A}}return Object.create({set:y,get:b,remove:function(R,T){y(R,"",assign({},T,{expires:-1}))},withAttributes:function(R){return init$3(this.converter,assign({},this.attributes,R))},withConverter:function(R){return init$3(assign({},this.converter,R),this.attributes)}},{attributes:{value:Object.freeze(x)},converter:{value:Object.freeze(r)}})}var api=init$3(defaultConverter,{path:"/"});const JWT_Token$1="ACCESS_TOKEN",instance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),mapInstance=axios.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),userInstance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});userInstance.interceptors.request.use(r=>{const x=api.get(JWT_Token$1);return x&&(r.headers.Authorization=`Bearer ${x}`),r},r=>Promise.reject(r));const UserContext=reactExports$1.createContext(),JWT_Token="ACCESS_TOKEN";function UserProvider({children:r}){const[x,y]=reactExports$1.useState(null),[b,R]=reactExports$1.useState(null),[T,A]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{const J=api.get(JWT_Token);if(J){R(J);try{const te=await userInstance.get("/api/users/me");y(te.data)}catch{api.remove(JWT_Token,{path:"/"}),R(null),y(null)}}A(!1)})()},[]);const U={user:x,setUser:y,token:b,login:(K,J)=>{y(K),R(J),api.set(JWT_Token,J,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{y(null),R(null),api.remove(JWT_Token,{path:"/"})},isLoading:T};return jsxRuntimeExports.jsx(UserContext.Provider,{value:U,children:r})}const useUser=()=>reactExports$1.useContext(UserContext),menuList$2=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}],useModal=()=>{const[r,x]=reactExports$1.useState(!1);return{isOpen:r,handleOpenModal:()=>{x(b=>!b)}}},modalOverlay$7="_modalOverlay_aubfq_1",modalContainer$3="_modalContainer_aubfq_39",closeButton$a="_closeButton_aubfq_69",styles$1F={modalOverlay:modalOverlay$7,modalContainer:modalContainer$3,closeButton:closeButton$a};function LogoutModal({onClose:r}){return jsxRuntimeExports.jsx("div",{className:styles$1F.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1F.modalContainer,children:[" .",jsxRuntimeExports.jsx("button",{className:styles$1F.closeButton,onClick:r,children:""})]})})}function Menu({onOpen:r,isOpen:x}){const y=useNavigate(),{isOpen:b,handleOpenModal:R}=useModal(),{user:T,logout:A}=reactExports$1.useContext(UserContext),O=()=>{A(),R()},B=()=>{R(),r(),y("/")},U=K=>{r(),y(K)};return jsxRuntimeExports.jsxs("div",{className:styles$1G.overlay,onClick:r,children:[b&&jsxRuntimeExports.jsx(LogoutModal,{onClose:B}),jsxRuntimeExports.jsxs("div",{className:`${styles$1G.menuLayout} ${x?styles$1G.menuVisible:styles$1G.menuHidden}`,onClick:K=>K.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:styles$1G.closeContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1G.closeButton,onClick:r})}),jsxRuntimeExports.jsxs("section",{className:styles$1G.menuSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$1G.userNickname,children:T?`${T.user_name} `:" "}),T&&T.admin_flag==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1G.sidebarMenu,children:jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/console/main"),children:" "})})]}),jsxRuntimeExports.jsx("hr",{className:styles$1G.divider}),jsxRuntimeExports.jsx("section",{className:styles$1G.menuSection,children:menuList$2.map(({name:K,label:J,path:te})=>jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U(te),children:J},K))}),jsxRuntimeExports.jsx("hr",{className:styles$1G.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1G.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/scan"),children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>{U("/mypage")},children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/nearby-galleries"),children:" "})]}),jsxRuntimeExports.jsx("hr",{className:styles$1G.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1G.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/mypage"),children:""}),jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/announcement"),children:" & FAQ"}),T?jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:O,children:""}):jsxRuntimeExports.jsx("span",{className:styles$1G.menuSpan,onClick:()=>U("/login"),children:""})]})]})]})}const navbarNavigation="_navbarNavigation_12t0r_1",menuList$1="_menuList_12t0r_39",menuItem="_menuItem_12t0r_61",defaultLink$1="_defaultLink_12t0r_81",activeLink="_activeLink_12t0r_83",styles$1E={navbarNavigation,menuList:menuList$1,menuItem,defaultLink:defaultLink$1,activeLink};function NavBar(){const{pathname:r}=useLocation();return jsxRuntimeExports.jsx("nav",{className:styles$1E.navbarNavigation,children:jsxRuntimeExports.jsx("ul",{className:styles$1E.menuList,children:menuList$2.map(({label:x,path:y,index:b})=>jsxRuntimeExports.jsx("li",{className:`${styles$1E.menuItem} ${r===y&&styles$1E.currentMenu}`,children:jsxRuntimeExports.jsx(NavLink,{to:y,className:({isActive:R})=>R?styles$1E.activeLink:styles$1E.defaultLink,children:x})},`${x}-${b}`))})})}const IcMenu=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),IcBell=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function Header(){const[r,x]=reactExports$1.useState(!1),{isDesktop:y}=useResponsive(),b=useNavigate(),{user:R}=reactExports$1.useContext(UserContext),T=()=>{x(!0),document.body.style.overflow="hidden"},A=()=>{x(!1),document.body.style.overflow="unset"},O=()=>{A(),b("/")},B=()=>{A(),R&&R.admin_flag==="1"?b("/console/notification"):b("/notifications")};return jsxRuntimeExports.jsxs("header",{className:styles$1H.headerLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$1H.logoSpan,onClick:O,children:"ARTLY"}),y&&jsxRuntimeExports.jsx(NavBar,{}),jsxRuntimeExports.jsxs("div",{className:styles$1H.rightSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1H.notificationButton,onClick:B,"aria-label":"",children:jsxRuntimeExports.jsx(IcBell,{})}),jsxRuntimeExports.jsx("button",{onClick:r?A:T,children:jsxRuntimeExports.jsx(IcMenu,{})})]}),r&&jsxRuntimeExports.jsx(Menu,{onOpen:A,isOpen:r})]})}const chatbotContainer="_chatbotContainer_9wobd_1",chatbotOverlay="_chatbotOverlay_9wobd_15",chatbotButton="_chatbotButton_9wobd_37",popupContainer="_popupContainer_9wobd_71",headerContainer="_headerContainer_9wobd_133",headerTitle="_headerTitle_9wobd_153",closeButton$9="_closeButton_9wobd_163",chatContainer="_chatContainer_9wobd_181",botMessageContainer="_botMessageContainer_9wobd_201",userMessageContainer="_userMessageContainer_9wobd_219",botContent="_botContent_9wobd_235",botName="_botName_9wobd_247",botProfile="_botProfile_9wobd_263",botBubble="_botBubble_9wobd_299",userBubble="_userBubble_9wobd_301",inputContainer$2="_inputContainer_9wobd_355",input$7="_input_9wobd_355",sendButton$1="_sendButton_9wobd_399",styles$1D={chatbotContainer,chatbotOverlay,chatbotButton,popupContainer,headerContainer,headerTitle,closeButton:closeButton$9,chatContainer,botMessageContainer,userMessageContainer,botContent,botName,botProfile,botBubble,userBubble,inputContainer:inputContainer$2,input:input$7,sendButton:sendButton$1};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$3=["attr","size","title"];function _objectWithoutProperties$2(r,x){if(r==null)return{};var y=_objectWithoutPropertiesLoose$2(r,x),b,R;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(r);for(R=0;R<T.length;R++)b=T[R],!(x.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(r,b)&&(y[b]=r[b])}return y}function _objectWithoutPropertiesLoose$2(r,x){if(r==null)return{};var y={};for(var b in r)if(Object.prototype.hasOwnProperty.call(r,b)){if(x.indexOf(b)>=0)continue;y[b]=r[b]}return y}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(r[b]=y[b])}return r},_extends$1.apply(this,arguments)}function ownKeys$3(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(r,R).enumerable})),y.push.apply(y,b)}return y}function _objectSpread$2(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$3(Object(y),!0).forEach(function(b){_defineProperty$3(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$3(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty$3(r,x,y){return x=_toPropertyKey$1(x),x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _toPropertyKey$1(r){var x=_toPrimitive$1(r,"string");return typeof x=="symbol"?x:x+""}function _toPrimitive$1(r,x){if(typeof r!="object"||!r)return r;var y=r[Symbol.toPrimitive];if(y!==void 0){var b=y.call(r,x);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(r)}function Tree2Element(r){return r&&r.map((x,y)=>React.createElement(x.tag,_objectSpread$2({key:y},x.attr),Tree2Element(x.child)))}function GenIcon(r){return x=>React.createElement(IconBase,_extends$1({attr:_objectSpread$2({},r.attr)},x),Tree2Element(r.child))}function IconBase(r){var x=y=>{var{attr:b,size:R,title:T}=r,A=_objectWithoutProperties$2(r,_excluded$3),O=R||y.size||"1em",B;return y.className&&(B=y.className),r.className&&(B=(B?B+" ":"")+r.className),React.createElement("svg",_extends$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},y.attr,b,A,{className:B,style:_objectSpread$2(_objectSpread$2({color:r.color||y.color},y.style),r.style),height:O,width:O,xmlns:"http://www.w3.org/2000/svg"}),T&&React.createElement("title",null,T),r.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,y=>x(y)):x(DefaultContext)}function BsChatFill(r){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(r)}function IoCloseSharp(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(r)}function IoMegaphoneOutline(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(r)}const IcMessage=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),jsxRuntimeExports.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function ChatbotWidget(){const{user:r}=useUser(),[x,y]=reactExports$1.useState(!1),[b,R]=reactExports$1.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[T,A]=reactExports$1.useState(""),[O,B]=reactExports$1.useState(!1),U=reactExports$1.useRef(null),K=r?userInstance:instance;reactExports$1.useRef(null);const J=()=>b[b.length-1].id+1;reactExports$1.useEffect(()=>{U.current!==null&&U.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[U.current,b]);const te=()=>{y(_e=>!_e),x?document.body.style.overflow="unset":document.body.style.overflow="hidden"},ae=_e=>{A(_e.target.value)},ue=async _e=>{const xe={id:J(),sender:"user",text:_e};R(He=>[...He,xe]),console.log(`messages:
`,b);const Le={text:_e},Ue={id:J(),sender:"bot",text:"An error occured. Please report this to the service team."};try{B(!0);const He=await K.post("/api/chats",Le);let qe=He.data;console.log(`GPT Response:
`,He.data),Ue.text=qe}catch(He){console.error("Error occurred while querying GPT:",He)}finally{B(!1)}R(He=>[...He,Ue]),console.log(`Updated messages:
`,b)},pe=_e=>_e.split(/(\*\*[^\*]+\*\*)/g).map((Le,Ue)=>Le.startsWith("**")&&Le.endsWith("**")?jsxRuntimeExports.jsx("b",{children:Le.slice(2,-2)},Ue):Le),$e=_e=>{_e.key==="Enter"&&Ne()},Ne=()=>{const _e=T.trim();if(!_e)return alert(" !");ue(_e),A("")},Be=_e=>{setTimeout(()=>{_e.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1D.chatbotContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1D.chatbotButton,onClick:te,children:jsxRuntimeExports.jsx(BsChatFill,{})})}),x&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1D.chatbotOverlay}),jsxRuntimeExports.jsxs("div",{className:styles$1D.popupContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1D.headerContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1D.headerTitle,children:"Artly "}),jsxRuntimeExports.jsx("button",{className:styles$1D.closeButton,onClick:te,children:jsxRuntimeExports.jsx(IoCloseSharp,{})})]}),jsxRuntimeExports.jsxs("div",{className:styles$1D.chatContainer,children:[b.map(_e=>jsxRuntimeExports.jsx("div",{className:_e.sender==="bot"?styles$1D.botMessageContainer:styles$1D.userMessageContainer,ref:U,children:_e.sender==="bot"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1D.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1D.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1D.botName,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$1D.botBubble,children:jsxRuntimeExports.jsx("p",{children:pe(_e.text)})})]})]}):jsxRuntimeExports.jsx("div",{className:styles$1D.userMessageContainer,children:jsxRuntimeExports.jsx("div",{className:styles$1D.userBubble,children:jsxRuntimeExports.jsx("p",{children:_e.text})})})},_e.id)),O&&jsxRuntimeExports.jsxs("div",{className:styles$1D.botMessageContainer,ref:U,children:[jsxRuntimeExports.jsx("div",{className:styles$1D.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1D.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1D.botName,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$1D.botBubble,children:jsxRuntimeExports.jsx("p",{children:"   .  "})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1D.inputContainer,children:[jsxRuntimeExports.jsx("input",{className:styles$1D.input,type:"text",value:T,onChange:ae,onKeyPress:$e,onFocus:Be,placeholder:"  "}),jsxRuntimeExports.jsx("button",{className:styles$1D.sendButton,onClick:Ne,children:jsxRuntimeExports.jsx(IcMessage,{})})]})]})]})]})}function Layout(){const r=useLocation(),y=!["/login","/register","/mypage","/mypage/edit"].some(b=>r.pathname.startsWith(b));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),y&&jsxRuntimeExports.jsx(ChatbotWidget,{})]})}const footerLayout="_footerLayout_16zxr_1",linkContainer$1="_linkContainer_16zxr_27",link="_link_16zxr_27",divideSpan="_divideSpan_16zxr_61",infoContainer$4="_infoContainer_16zxr_71",styles$1C={footerLayout,linkContainer:linkContainer$1,link,divideSpan,infoContainer:infoContainer$4};function Footer(){return jsxRuntimeExports.jsxs("footer",{className:styles$1C.footerLayout,children:[jsxRuntimeExports.jsxs("div",{className:styles$1C.linkContainer,children:[jsxRuntimeExports.jsx(Link$1,{to:"/announcement",className:styles$1C.link,children:"&FAQ"}),jsxRuntimeExports.jsx("span",{className:styles$1C.divideSpan,children:"|"}),jsxRuntimeExports.jsx(Link$1,{to:"/termspolicy",className:styles$1C.link,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$1C.infoContainer,children:[jsxRuntimeExports.jsx("p",{children:"()"}),jsxRuntimeExports.jsx("p",{children:" : 477-88-01191"}),jsxRuntimeExports.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),jsxRuntimeExports.jsxs("p",{children:[" All rights reserved by"," ",jsxRuntimeExports.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function AuthRoute(){const{user:r,isLoading:x}=reactExports$1.useContext(UserContext),y=useLocation();if(x)return jsxRuntimeExports.jsx("div",{children:" ..."});if(!r||!r.id)return jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0});const b=y.pathname!=="/notifications";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Outlet,{}),b&&jsxRuntimeExports.jsx(Footer,{})]})}const mainLayout="_mainLayout_x7n20_1",carouselContainer$1="_carouselContainer_x7n20_25",styles$1B={mainLayout,carouselContainer:carouselContainer$1},carouselContainer="_carouselContainer_1avyq_1",sliderWrapper="_sliderWrapper_1avyq_19",slider$1="_slider_1avyq_19",carouselItem="_carouselItem_1avyq_43",carouselImage$1="_carouselImage_1avyq_55",captionBox="_captionBox_1avyq_71",title$l="_title_1avyq_89",location$2="_location_1avyq_99",detailButton="_detailButton_1avyq_111",arrowButton="_arrowButton_1avyq_141",left="_left_1avyq_177",right="_right_1avyq_185",dots="_dots_1avyq_193",dot="_dot_1avyq_193",active$6="_active_1avyq_235",styles$1A={carouselContainer,sliderWrapper,slider:slider$1,carouselItem,carouselImage:carouselImage$1,captionBox,title:title$l,location:location$2,detailButton,arrowButton,left,right,dots,dot,active:active$6};function MainCarousel(){const[r,x]=reactExports$1.useState(0),[y,b]=reactExports$1.useState([]),R=reactExports$1.useRef(null),T=useNavigate();reactExports$1.useEffect(()=>(A(),()=>clearTimeout(R.current)),[r,y]);const A=()=>{clearTimeout(R.current),!(!y||y.length<=1)&&(R.current=setTimeout(()=>{x(K=>(K+1)%y.length)},5e3))},O=()=>{x(K=>(K-1+y.length)%y.length)},B=()=>{x(K=>(K+1)%y.length)},U=K=>x(K);return reactExports$1.useEffect(()=>{(async()=>{try{const te=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:ae,exhibition_poster:ue,exhibition_title:pe,exhibition_category:$e,exhibition_status:Ne,exhibition_start_date:Be,exhibition_end_date:_e,exhibition_organization:xe})=>({id:ae,image:ue,title:pe,category:$e,status:Ne,startDate:Be,endDate:_e,organization:xe}));b(te)}catch(J){console.error("     :",J)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1A.carouselContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$1A.arrowButton} ${styles$1A.left}`,onClick:O,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1A.sliderWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$1A.slider,style:{transform:`translateX(-${r*100}%)`},children:y.map(K=>jsxRuntimeExports.jsxs("div",{className:styles$1A.carouselItem,children:[jsxRuntimeExports.jsx("img",{src:K==null?void 0:K.image,alt:(K==null?void 0:K.title)||(K==null?void 0:K.name),className:styles$1A.carouselImage,onClick:()=>{T(`/exhibitions/${K==null?void 0:K.id}`)}}),jsxRuntimeExports.jsxs("div",{className:styles$1A.captionBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$1A.title,children:K==null?void 0:K.title}),jsxRuntimeExports.jsxs("p",{className:styles$1A.location,children:[K==null?void 0:K.organization.name,""," ",(K==null?void 0:K.period)||`${K==null?void 0:K.startDate} ~ ${K==null?void 0:K.endDate}`]}),jsxRuntimeExports.jsx("button",{className:styles$1A.detailButton,onClick:()=>{T(`/exhibitions/${K==null?void 0:K.id}`)},children:" "})]})]},K==null?void 0:K.id))})}),jsxRuntimeExports.jsx("button",{className:`${styles$1A.arrowButton} ${styles$1A.right}`,onClick:B,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1A.dots,children:y.map((K,J)=>jsxRuntimeExports.jsx("button",{onClick:()=>U(J),className:`${styles$1A.dot} ${J===r?styles$1A.active:""}`},K==null?void 0:K.id))})]})}const carouselWrapper$1="_carouselWrapper_dgj9x_1",titleContainer$2="_titleContainer_dgj9x_19",carouselTitle$1="_carouselTitle_dgj9x_35",moreButton$1="_moreButton_dgj9x_47",carouselViewport$1="_carouselViewport_dgj9x_85",carouselTrack="_carouselTrack_dgj9x_97",carouselSlide$1="_carouselSlide_dgj9x_117",artistImage$4="_artistImage_dgj9x_149",artistText="_artistText_dgj9x_165",name$s="_name_dgj9x_175",field="_field_dgj9x_185",prevButton$1="_prevButton_dgj9x_195",nextButton$1="_nextButton_dgj9x_197",styles$1z={carouselWrapper:carouselWrapper$1,titleContainer:titleContainer$2,carouselTitle:carouselTitle$1,moreButton:moreButton$1,carouselViewport:carouselViewport$1,carouselTrack,carouselSlide:carouselSlide$1,artistImage:artistImage$4,artistText,name:name$s,field,prevButton:prevButton$1,nextButton:nextButton$1};function ArtistCarousel({title:r}){const[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(1),[T,A]=reactExports$1.useState(1),[O,B]=reactExports$1.useState(!1),U=reactExports$1.useRef(null),K=reactExports$1.useRef(0),J=reactExports$1.useRef(0),te=()=>{A(4)};reactExports$1.useEffect(()=>{(async()=>{try{const Le=(await instance.get("/api/artist",{params:{}})).data.map(({id:Ue,artist_name:He,artist_category:qe,artist_image:Qe})=>({id:Ue,artist_name:He,artist_category:qe,artist_image:Qe})).slice(0,10);y(Le)}catch(xe){console.error("     :",xe)}})(),te()},[]);const ae=_e=>{if(O)return;B(!0);const xe=U.current.offsetWidth/T;U.current.style.transition="transform 0.4s ease-in-out",U.current.style.transform=`translateX(-${xe*_e}px)`,R(_e)},ue=()=>ae(b+1),pe=()=>ae(b-1);reactExports$1.useEffect(()=>{const _e=U.current.offsetWidth/T;U.current.style.transition="none",U.current.style.transform=`translateX(-${_e}px)`},[T]),reactExports$1.useEffect(()=>{const _e=()=>{const Le=U.current.offsetWidth/T;if(U.current.style.transition="none",b>=x.length-T)U.current.style.transform=`translateX(-${Le}px)`,R(1);else if(b===0){const Ue=x.length-T-1;U.current.style.transform=`translateX(-${Le*Ue}px)`,R(Ue)}B(!1)},xe=U.current;return xe.addEventListener("transitionend",_e),()=>xe.removeEventListener("transitionend",_e)},[b,x.length,T]);const $e=_e=>{K.current=_e.touches[0].clientX},Ne=_e=>{J.current=_e.touches[0].clientX},Be=()=>{const _e=K.current-J.current;Math.abs(_e)>50&&(_e>0?ue():pe())};return jsxRuntimeExports.jsxs("div",{className:styles$1z.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1z.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$1z.carouselTitle,children:r}),jsxRuntimeExports.jsx(Link$1,{to:"/artists",className:styles$1z.moreButton,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$1z.carouselViewport,onTouchStart:$e,onTouchMove:Ne,onTouchEnd:Be,children:jsxRuntimeExports.jsx("div",{className:styles$1z.carouselTrack,ref:U,children:x.map(_e=>jsxRuntimeExports.jsxs(Link$1,{to:`/artists/${_e==null?void 0:_e.id}`,className:styles$1z.carouselSlide,children:[jsxRuntimeExports.jsx("img",{src:(_e==null?void 0:_e.artist_image)||"/default.jpg",alt:_e!=null&&_e.artist_name?`${_e.artist_name} `:" ",className:styles$1z.artistImage}),jsxRuntimeExports.jsxs("div",{className:styles$1z.artistText,children:[jsxRuntimeExports.jsx("h3",{className:styles$1z.name,children:_e!=null&&_e.artist_name&&_e.artist_name.trim()!==""?_e.artist_name:" "}),jsxRuntimeExports.jsx("p",{className:styles$1z.field,children:_e!=null&&_e.artist_category&&_e.artist_category.trim()!==""?_e.artist_category:" "})]})]},`${_e==null?void 0:_e.artist_name}-${_e==null?void 0:_e.id}`))})}),jsxRuntimeExports.jsx("button",{className:styles$1z.prevButton,onClick:()=>!O&&pe(),children:""}),jsxRuntimeExports.jsx("button",{className:styles$1z.nextButton,onClick:()=>!O&&ue(),children:""})]})}function isObject$4(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function extend$2(r={},x={}){const y=["__proto__","constructor","prototype"];Object.keys(x).filter(b=>y.indexOf(b)<0).forEach(b=>{typeof r[b]>"u"?r[b]=x[b]:isObject$4(x[b])&&isObject$4(r[b])&&Object.keys(x[b]).length>0&&extend$2(r[b],x[b])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const r=typeof document<"u"?document:{};return extend$2(r,ssrDocument),r}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function getWindow(){const r=typeof window<"u"?window:{};return extend$2(r,ssrWindow),r}function classesToTokens(r=""){return r.trim().split(" ").filter(x=>!!x.trim())}function deleteProps$1(r){const x=r;Object.keys(x).forEach(y=>{try{x[y]=null}catch{}try{delete x[y]}catch{}})}function nextTick(r,x=0){return setTimeout(r,x)}function now(){return Date.now()}function getComputedStyle$1(r){const x=getWindow();let y;return x.getComputedStyle&&(y=x.getComputedStyle(r,null)),!y&&r.currentStyle&&(y=r.currentStyle),y||(y=r.style),y}function getTranslate(r,x="x"){const y=getWindow();let b,R,T;const A=getComputedStyle$1(r);return y.WebKitCSSMatrix?(R=A.transform||A.webkitTransform,R.split(",").length>6&&(R=R.split(", ").map(O=>O.replace(",",".")).join(", ")),T=new y.WebKitCSSMatrix(R==="none"?"":R)):(T=A.MozTransform||A.OTransform||A.MsTransform||A.msTransform||A.transform||A.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=T.toString().split(",")),x==="x"&&(y.WebKitCSSMatrix?R=T.m41:b.length===16?R=parseFloat(b[12]):R=parseFloat(b[4])),x==="y"&&(y.WebKitCSSMatrix?R=T.m42:b.length===16?R=parseFloat(b[13]):R=parseFloat(b[5])),R||0}function isObject$3(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function isNode(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function extend$1(...r){const x=Object(r[0]),y=["__proto__","constructor","prototype"];for(let b=1;b<r.length;b+=1){const R=r[b];if(R!=null&&!isNode(R)){const T=Object.keys(Object(R)).filter(A=>y.indexOf(A)<0);for(let A=0,O=T.length;A<O;A+=1){const B=T[A],U=Object.getOwnPropertyDescriptor(R,B);U!==void 0&&U.enumerable&&(isObject$3(x[B])&&isObject$3(R[B])?R[B].__swiper__?x[B]=R[B]:extend$1(x[B],R[B]):!isObject$3(x[B])&&isObject$3(R[B])?(x[B]={},R[B].__swiper__?x[B]=R[B]:extend$1(x[B],R[B])):x[B]=R[B])}}}return x}function setCSSProperty(r,x,y){r.style.setProperty(x,y)}function animateCSSModeScroll({swiper:r,targetPosition:x,side:y}){const b=getWindow(),R=-r.translate;let T=null,A;const O=r.params.speed;r.wrapperEl.style.scrollSnapType="none",b.cancelAnimationFrame(r.cssModeFrameID);const B=x>R?"next":"prev",U=(J,te)=>B==="next"&&J>=te||B==="prev"&&J<=te,K=()=>{A=new Date().getTime(),T===null&&(T=A);const J=Math.max(Math.min((A-T)/O,1),0),te=.5-Math.cos(J*Math.PI)/2;let ae=R+te*(x-R);if(U(ae,x)&&(ae=x),r.wrapperEl.scrollTo({[y]:ae}),U(ae,x)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[y]:ae})}),b.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=b.requestAnimationFrame(K)};K()}function elementChildren(r,x=""){const y=getWindow(),b=[...r.children];return y.HTMLSlotElement&&r instanceof HTMLSlotElement&&b.push(...r.assignedElements()),x?b.filter(R=>R.matches(x)):b}function elementIsChildOfSlot(r,x){const y=[x];for(;y.length>0;){const b=y.shift();if(r===b)return!0;y.push(...b.children,...b.shadowRoot?b.shadowRoot.children:[],...b.assignedElements?b.assignedElements():[])}}function elementIsChildOf(r,x){const y=getWindow();let b=x.contains(r);return!b&&y.HTMLSlotElement&&x instanceof HTMLSlotElement&&(b=[...x.assignedElements()].includes(r),b||(b=elementIsChildOfSlot(r,x))),b}function showWarning(r){try{console.warn(r);return}catch{}}function createElement(r,x=[]){const y=document.createElement(r);return y.classList.add(...Array.isArray(x)?x:classesToTokens(x)),y}function elementPrevAll(r,x){const y=[];for(;r.previousElementSibling;){const b=r.previousElementSibling;x?b.matches(x)&&y.push(b):y.push(b),r=b}return y}function elementNextAll(r,x){const y=[];for(;r.nextElementSibling;){const b=r.nextElementSibling;x?b.matches(x)&&y.push(b):y.push(b),r=b}return y}function elementStyle(r,x){return getWindow().getComputedStyle(r,null).getPropertyValue(x)}function elementIndex(r){let x=r,y;if(x){for(y=0;(x=x.previousSibling)!==null;)x.nodeType===1&&(y+=1);return y}}function elementParents(r,x){const y=[];let b=r.parentElement;for(;b;)y.push(b),b=b.parentElement;return y}function elementOuterSize(r,x,y){const b=getWindow();return r[x==="width"?"offsetWidth":"offsetHeight"]+parseFloat(b.getComputedStyle(r,null).getPropertyValue(x==="width"?"margin-right":"margin-top"))+parseFloat(b.getComputedStyle(r,null).getPropertyValue(x==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(r){return(Array.isArray(r)?r:[r]).filter(x=>!!x)}function setInnerHTML(r,x=""){typeof trustedTypes<"u"?r.innerHTML=trustedTypes.createPolicy("html",{createHTML:y=>y}).createHTML(x):r.innerHTML=x}let support;function calcSupport(){const r=getWindow(),x=getDocument();return{smoothScroll:x.documentElement&&x.documentElement.style&&"scrollBehavior"in x.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&x instanceof r.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:r}={}){const x=getSupport(),y=getWindow(),b=y.navigator.platform,R=r||y.navigator.userAgent,T={ios:!1,android:!1},A=y.screen.width,O=y.screen.height,B=R.match(/(Android);?[\s\/]+([\d.]+)?/);let U=R.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const K=R.match(/(iPod)(.*OS\s([\d_]+))?/),J=!U&&R.match(/(iPhone\sOS|iOS)\s([\d_]+)/),te=b==="Win32";let ae=b==="MacIntel";const ue=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!U&&ae&&x.touch&&ue.indexOf(`${A}x${O}`)>=0&&(U=R.match(/(Version)\/([\d.]+)/),U||(U=[0,1,"13_0_0"]),ae=!1),B&&!te&&(T.os="android",T.android=!0),(U||J||K)&&(T.os="ios",T.ios=!0),T}function getDevice(r={}){return deviceCached||(deviceCached=calcDevice(r)),deviceCached}let browser$1;function calcBrowser(){const r=getWindow(),x=getDevice();let y=!1;function b(){const O=r.navigator.userAgent.toLowerCase();return O.indexOf("safari")>=0&&O.indexOf("chrome")<0&&O.indexOf("android")<0}if(b()){const O=String(r.navigator.userAgent);if(O.includes("Version/")){const[B,U]=O.split("Version/")[1].split(" ")[0].split(".").map(K=>Number(K));y=B<16||B===16&&U<2}}const R=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),T=b(),A=T||R&&x.ios;return{isSafari:y||T,needPerspectiveFix:y,need3dFix:A,isWebView:R}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize({swiper:r,on:x,emit:y}){const b=getWindow();let R=null,T=null;const A=()=>{!r||r.destroyed||!r.initialized||(y("beforeResize"),y("resize"))},O=()=>{!r||r.destroyed||!r.initialized||(R=new ResizeObserver(K=>{T=b.requestAnimationFrame(()=>{const{width:J,height:te}=r;let ae=J,ue=te;K.forEach(({contentBoxSize:pe,contentRect:$e,target:Ne})=>{Ne&&Ne!==r.el||(ae=$e?$e.width:(pe[0]||pe).inlineSize,ue=$e?$e.height:(pe[0]||pe).blockSize)}),(ae!==J||ue!==te)&&A()})}),R.observe(r.el))},B=()=>{T&&b.cancelAnimationFrame(T),R&&R.unobserve&&r.el&&(R.unobserve(r.el),R=null)},U=()=>{!r||r.destroyed||!r.initialized||y("orientationchange")};x("init",()=>{if(r.params.resizeObserver&&typeof b.ResizeObserver<"u"){O();return}b.addEventListener("resize",A),b.addEventListener("orientationchange",U)}),x("destroy",()=>{B(),b.removeEventListener("resize",A),b.removeEventListener("orientationchange",U)})}function Observer({swiper:r,extendParams:x,on:y,emit:b}){const R=[],T=getWindow(),A=(U,K={})=>{const J=T.MutationObserver||T.WebkitMutationObserver,te=new J(ae=>{if(r.__preventObserver__)return;if(ae.length===1){b("observerUpdate",ae[0]);return}const ue=function(){b("observerUpdate",ae[0])};T.requestAnimationFrame?T.requestAnimationFrame(ue):T.setTimeout(ue,0)});te.observe(U,{attributes:typeof K.attributes>"u"?!0:K.attributes,childList:r.isElement||(typeof K.childList>"u"?!0:K).childList,characterData:typeof K.characterData>"u"?!0:K.characterData}),R.push(te)},O=()=>{if(r.params.observer){if(r.params.observeParents){const U=elementParents(r.hostEl);for(let K=0;K<U.length;K+=1)A(U[K])}A(r.hostEl,{childList:r.params.observeSlideChildren}),A(r.wrapperEl,{attributes:!1})}},B=()=>{R.forEach(U=>{U.disconnect()}),R.splice(0,R.length)};x({observer:!1,observeParents:!1,observeSlideChildren:!1}),y("init",O),y("destroy",B)}var eventsEmitter={on(r,x,y){const b=this;if(!b.eventsListeners||b.destroyed||typeof x!="function")return b;const R=y?"unshift":"push";return r.split(" ").forEach(T=>{b.eventsListeners[T]||(b.eventsListeners[T]=[]),b.eventsListeners[T][R](x)}),b},once(r,x,y){const b=this;if(!b.eventsListeners||b.destroyed||typeof x!="function")return b;function R(...T){b.off(r,R),R.__emitterProxy&&delete R.__emitterProxy,x.apply(b,T)}return R.__emitterProxy=x,b.on(r,R,y)},onAny(r,x){const y=this;if(!y.eventsListeners||y.destroyed||typeof r!="function")return y;const b=x?"unshift":"push";return y.eventsAnyListeners.indexOf(r)<0&&y.eventsAnyListeners[b](r),y},offAny(r){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsAnyListeners)return x;const y=x.eventsAnyListeners.indexOf(r);return y>=0&&x.eventsAnyListeners.splice(y,1),x},off(r,x){const y=this;return!y.eventsListeners||y.destroyed||!y.eventsListeners||r.split(" ").forEach(b=>{typeof x>"u"?y.eventsListeners[b]=[]:y.eventsListeners[b]&&y.eventsListeners[b].forEach((R,T)=>{(R===x||R.__emitterProxy&&R.__emitterProxy===x)&&y.eventsListeners[b].splice(T,1)})}),y},emit(...r){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsListeners)return x;let y,b,R;return typeof r[0]=="string"||Array.isArray(r[0])?(y=r[0],b=r.slice(1,r.length),R=x):(y=r[0].events,b=r[0].data,R=r[0].context||x),b.unshift(R),(Array.isArray(y)?y:y.split(" ")).forEach(A=>{x.eventsAnyListeners&&x.eventsAnyListeners.length&&x.eventsAnyListeners.forEach(O=>{O.apply(R,[A,...b])}),x.eventsListeners&&x.eventsListeners[A]&&x.eventsListeners[A].forEach(O=>{O.apply(R,b)})}),x}};function updateSize(){const r=this;let x,y;const b=r.el;typeof r.params.width<"u"&&r.params.width!==null?x=r.params.width:x=b.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?y=r.params.height:y=b.clientHeight,!(x===0&&r.isHorizontal()||y===0&&r.isVertical())&&(x=x-parseInt(elementStyle(b,"padding-left")||0,10)-parseInt(elementStyle(b,"padding-right")||0,10),y=y-parseInt(elementStyle(b,"padding-top")||0,10)-parseInt(elementStyle(b,"padding-bottom")||0,10),Number.isNaN(x)&&(x=0),Number.isNaN(y)&&(y=0),Object.assign(r,{width:x,height:y,size:r.isHorizontal()?x:y}))}function updateSlides(){const r=this;function x(lt,ct){return parseFloat(lt.getPropertyValue(r.getDirectionLabel(ct))||0)}const y=r.params,{wrapperEl:b,slidesEl:R,rtlTranslate:T,wrongRTL:A}=r,O=r.virtual&&y.virtual.enabled,B=O?r.virtual.slides.length:r.slides.length,U=elementChildren(R,`.${r.params.slideClass}, swiper-slide`),K=O?r.virtual.slides.length:U.length;let J=[];const te=[],ae=[];let ue=y.slidesOffsetBefore;typeof ue=="function"&&(ue=y.slidesOffsetBefore.call(r));let pe=y.slidesOffsetAfter;typeof pe=="function"&&(pe=y.slidesOffsetAfter.call(r));const $e=r.snapGrid.length,Ne=r.slidesGrid.length,Be=r.size-ue-pe;let _e=y.spaceBetween,xe=-ue,Le=0,Ue=0;if(typeof Be>"u")return;typeof _e=="string"&&_e.indexOf("%")>=0?_e=parseFloat(_e.replace("%",""))/100*Be:typeof _e=="string"&&(_e=parseFloat(_e)),r.virtualSize=-_e-ue-pe,U.forEach(lt=>{T?lt.style.marginLeft="":lt.style.marginRight="",lt.style.marginBottom="",lt.style.marginTop=""}),y.centeredSlides&&y.cssMode&&(setCSSProperty(b,"--swiper-centered-offset-before",""),setCSSProperty(b,"--swiper-centered-offset-after",""));const He=y.grid&&y.grid.rows>1&&r.grid;He?r.grid.initSlides(U):r.grid&&r.grid.unsetSlides();let qe;const Qe=y.slidesPerView==="auto"&&y.breakpoints&&Object.keys(y.breakpoints).filter(lt=>typeof y.breakpoints[lt].slidesPerView<"u").length>0;for(let lt=0;lt<K;lt+=1){qe=0;const ct=U[lt];if(!(ct&&(He&&r.grid.updateSlide(lt,ct,U),elementStyle(ct,"display")==="none"))){if(O&&y.slidesPerView==="auto")y.virtual.slidesPerViewAutoSlideSize&&(qe=y.virtual.slidesPerViewAutoSlideSize),qe&&ct&&(y.roundLengths&&(qe=Math.floor(qe)),ct.style[r.getDirectionLabel("width")]=`${qe}px`);else if(y.slidesPerView==="auto"){Qe&&(ct.style[r.getDirectionLabel("width")]="");const ot=getComputedStyle(ct),pt=ct.style.transform,yt=ct.style.webkitTransform;if(pt&&(ct.style.transform="none"),yt&&(ct.style.webkitTransform="none"),y.roundLengths)qe=r.isHorizontal()?elementOuterSize(ct,"width"):elementOuterSize(ct,"height");else{const it=x(ot,"width"),Ke=x(ot,"padding-left"),Je=x(ot,"padding-right"),We=x(ot,"margin-left"),Ze=x(ot,"margin-right"),dt=ot.getPropertyValue("box-sizing");if(dt&&dt==="border-box")qe=it+We+Ze;else{const{clientWidth:et,offsetWidth:ft}=ct;qe=it+Ke+Je+We+Ze+(ft-et)}}pt&&(ct.style.transform=pt),yt&&(ct.style.webkitTransform=yt),y.roundLengths&&(qe=Math.floor(qe))}else qe=(Be-(y.slidesPerView-1)*_e)/y.slidesPerView,y.roundLengths&&(qe=Math.floor(qe)),ct&&(ct.style[r.getDirectionLabel("width")]=`${qe}px`);ct&&(ct.swiperSlideSize=qe),ae.push(qe),y.centeredSlides?(xe=xe+qe/2+Le/2+_e,Le===0&&lt!==0&&(xe=xe-Be/2-_e),lt===0&&(xe=xe-Be/2-_e),Math.abs(xe)<1/1e3&&(xe=0),y.roundLengths&&(xe=Math.floor(xe)),Ue%y.slidesPerGroup===0&&J.push(xe),te.push(xe)):(y.roundLengths&&(xe=Math.floor(xe)),(Ue-Math.min(r.params.slidesPerGroupSkip,Ue))%r.params.slidesPerGroup===0&&J.push(xe),te.push(xe),xe=xe+qe+_e),r.virtualSize+=qe+_e,Le=qe,Ue+=1}}if(r.virtualSize=Math.max(r.virtualSize,Be)+pe,T&&A&&(y.effect==="slide"||y.effect==="coverflow")&&(b.style.width=`${r.virtualSize+_e}px`),y.setWrapperSize&&(b.style[r.getDirectionLabel("width")]=`${r.virtualSize+_e}px`),He&&r.grid.updateWrapperSize(qe,J),!y.centeredSlides){const lt=[];for(let ct=0;ct<J.length;ct+=1){let ot=J[ct];y.roundLengths&&(ot=Math.floor(ot)),J[ct]<=r.virtualSize-Be&&lt.push(ot)}J=lt,Math.floor(r.virtualSize-Be)-Math.floor(J[J.length-1])>1&&J.push(r.virtualSize-Be)}if(O&&y.loop){const lt=ae[0]+_e;if(y.slidesPerGroup>1){const ct=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/y.slidesPerGroup),ot=lt*y.slidesPerGroup;for(let pt=0;pt<ct;pt+=1)J.push(J[J.length-1]+ot)}for(let ct=0;ct<r.virtual.slidesBefore+r.virtual.slidesAfter;ct+=1)y.slidesPerGroup===1&&J.push(J[J.length-1]+lt),te.push(te[te.length-1]+lt),r.virtualSize+=lt}if(J.length===0&&(J=[0]),_e!==0){const lt=r.isHorizontal()&&T?"marginLeft":r.getDirectionLabel("marginRight");U.filter((ct,ot)=>!y.cssMode||y.loop?!0:ot!==U.length-1).forEach(ct=>{ct.style[lt]=`${_e}px`})}if(y.centeredSlides&&y.centeredSlidesBounds){let lt=0;ae.forEach(ot=>{lt+=ot+(_e||0)}),lt-=_e;const ct=lt>Be?lt-Be:0;J=J.map(ot=>ot<=0?-ue:ot>ct?ct+pe:ot)}if(y.centerInsufficientSlides){let lt=0;ae.forEach(ot=>{lt+=ot+(_e||0)}),lt-=_e;const ct=(ue||0)+(pe||0);if(lt+ct<Be){const ot=(Be-lt-ct)/2;J.forEach((pt,yt)=>{J[yt]=pt-ot}),te.forEach((pt,yt)=>{te[yt]=pt+ot})}}if(Object.assign(r,{slides:U,snapGrid:J,slidesGrid:te,slidesSizesGrid:ae}),y.centeredSlides&&y.cssMode&&!y.centeredSlidesBounds){setCSSProperty(b,"--swiper-centered-offset-before",`${-J[0]}px`),setCSSProperty(b,"--swiper-centered-offset-after",`${r.size/2-ae[ae.length-1]/2}px`);const lt=-r.snapGrid[0],ct=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(ot=>ot+lt),r.slidesGrid=r.slidesGrid.map(ot=>ot+ct)}if(K!==B&&r.emit("slidesLengthChange"),J.length!==$e&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),te.length!==Ne&&r.emit("slidesGridLengthChange"),y.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!O&&!y.cssMode&&(y.effect==="slide"||y.effect==="fade")){const lt=`${y.containerModifierClass}backface-hidden`,ct=r.el.classList.contains(lt);K<=y.maxBackfaceHiddenSlides?ct||r.el.classList.add(lt):ct&&r.el.classList.remove(lt)}}function updateAutoHeight(r){const x=this,y=[],b=x.virtual&&x.params.virtual.enabled;let R=0,T;typeof r=="number"?x.setTransition(r):r===!0&&x.setTransition(x.params.speed);const A=O=>b?x.slides[x.getSlideIndexByData(O)]:x.slides[O];if(x.params.slidesPerView!=="auto"&&x.params.slidesPerView>1)if(x.params.centeredSlides)(x.visibleSlides||[]).forEach(O=>{y.push(O)});else for(T=0;T<Math.ceil(x.params.slidesPerView);T+=1){const O=x.activeIndex+T;if(O>x.slides.length&&!b)break;y.push(A(O))}else y.push(A(x.activeIndex));for(T=0;T<y.length;T+=1)if(typeof y[T]<"u"){const O=y[T].offsetHeight;R=O>R?O:R}(R||R===0)&&(x.wrapperEl.style.height=`${R}px`)}function updateSlidesOffset(){const r=this,x=r.slides,y=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let b=0;b<x.length;b+=1)x[b].swiperSlideOffset=(r.isHorizontal()?x[b].offsetLeft:x[b].offsetTop)-y-r.cssOverflowAdjustment()}const toggleSlideClasses$1=(r,x,y)=>{x&&!r.classList.contains(y)?r.classList.add(y):!x&&r.classList.contains(y)&&r.classList.remove(y)};function updateSlidesProgress(r=this&&this.translate||0){const x=this,y=x.params,{slides:b,rtlTranslate:R,snapGrid:T}=x;if(b.length===0)return;typeof b[0].swiperSlideOffset>"u"&&x.updateSlidesOffset();let A=-r;R&&(A=r),x.visibleSlidesIndexes=[],x.visibleSlides=[];let O=y.spaceBetween;typeof O=="string"&&O.indexOf("%")>=0?O=parseFloat(O.replace("%",""))/100*x.size:typeof O=="string"&&(O=parseFloat(O));for(let B=0;B<b.length;B+=1){const U=b[B];let K=U.swiperSlideOffset;y.cssMode&&y.centeredSlides&&(K-=b[0].swiperSlideOffset);const J=(A+(y.centeredSlides?x.minTranslate():0)-K)/(U.swiperSlideSize+O),te=(A-T[0]+(y.centeredSlides?x.minTranslate():0)-K)/(U.swiperSlideSize+O),ae=-(A-K),ue=ae+x.slidesSizesGrid[B],pe=ae>=0&&ae<=x.size-x.slidesSizesGrid[B],$e=ae>=0&&ae<x.size-1||ue>1&&ue<=x.size||ae<=0&&ue>=x.size;$e&&(x.visibleSlides.push(U),x.visibleSlidesIndexes.push(B)),toggleSlideClasses$1(U,$e,y.slideVisibleClass),toggleSlideClasses$1(U,pe,y.slideFullyVisibleClass),U.progress=R?-J:J,U.originalProgress=R?-te:te}}function updateProgress(r){const x=this;if(typeof r>"u"){const K=x.rtlTranslate?-1:1;r=x&&x.translate&&x.translate*K||0}const y=x.params,b=x.maxTranslate()-x.minTranslate();let{progress:R,isBeginning:T,isEnd:A,progressLoop:O}=x;const B=T,U=A;if(b===0)R=0,T=!0,A=!0;else{R=(r-x.minTranslate())/b;const K=Math.abs(r-x.minTranslate())<1,J=Math.abs(r-x.maxTranslate())<1;T=K||R<=0,A=J||R>=1,K&&(R=0),J&&(R=1)}if(y.loop){const K=x.getSlideIndexByData(0),J=x.getSlideIndexByData(x.slides.length-1),te=x.slidesGrid[K],ae=x.slidesGrid[J],ue=x.slidesGrid[x.slidesGrid.length-1],pe=Math.abs(r);pe>=te?O=(pe-te)/ue:O=(pe+ue-ae)/ue,O>1&&(O-=1)}Object.assign(x,{progress:R,progressLoop:O,isBeginning:T,isEnd:A}),(y.watchSlidesProgress||y.centeredSlides&&y.autoHeight)&&x.updateSlidesProgress(r),T&&!B&&x.emit("reachBeginning toEdge"),A&&!U&&x.emit("reachEnd toEdge"),(B&&!T||U&&!A)&&x.emit("fromEdge"),x.emit("progress",R)}const toggleSlideClasses=(r,x,y)=>{x&&!r.classList.contains(y)?r.classList.add(y):!x&&r.classList.contains(y)&&r.classList.remove(y)};function updateSlidesClasses(){const r=this,{slides:x,params:y,slidesEl:b,activeIndex:R}=r,T=r.virtual&&y.virtual.enabled,A=r.grid&&y.grid&&y.grid.rows>1,O=J=>elementChildren(b,`.${y.slideClass}${J}, swiper-slide${J}`)[0];let B,U,K;if(T)if(y.loop){let J=R-r.virtual.slidesBefore;J<0&&(J=r.virtual.slides.length+J),J>=r.virtual.slides.length&&(J-=r.virtual.slides.length),B=O(`[data-swiper-slide-index="${J}"]`)}else B=O(`[data-swiper-slide-index="${R}"]`);else A?(B=x.find(J=>J.column===R),K=x.find(J=>J.column===R+1),U=x.find(J=>J.column===R-1)):B=x[R];B&&(A||(K=elementNextAll(B,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!K&&(K=x[0]),U=elementPrevAll(B,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!U===0&&(U=x[x.length-1]))),x.forEach(J=>{toggleSlideClasses(J,J===B,y.slideActiveClass),toggleSlideClasses(J,J===K,y.slideNextClass),toggleSlideClasses(J,J===U,y.slidePrevClass)}),r.emitSlidesClasses()}const processLazyPreloader=(r,x)=>{if(!r||r.destroyed||!r.params)return;const y=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,b=x.closest(y());if(b){let R=b.querySelector(`.${r.params.lazyPreloaderClass}`);!R&&r.isElement&&(b.shadowRoot?R=b.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{b.shadowRoot&&(R=b.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),R&&R.remove())})),R&&R.remove()}},unlazy=(r,x)=>{if(!r.slides[x])return;const y=r.slides[x].querySelector('[loading="lazy"]');y&&y.removeAttribute("loading")},preload=r=>{if(!r||r.destroyed||!r.params)return;let x=r.params.lazyPreloadPrevNext;const y=r.slides.length;if(!y||!x||x<0)return;x=Math.min(x,y);const b=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),R=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const A=R,O=[A-x];O.push(...Array.from({length:x}).map((B,U)=>A+b+U)),r.slides.forEach((B,U)=>{O.includes(B.column)&&unlazy(r,U)});return}const T=R+b-1;if(r.params.rewind||r.params.loop)for(let A=R-x;A<=T+x;A+=1){const O=(A%y+y)%y;(O<R||O>T)&&unlazy(r,O)}else for(let A=Math.max(R-x,0);A<=Math.min(T+x,y-1);A+=1)A!==R&&(A>T||A<R)&&unlazy(r,A)};function getActiveIndexByTranslate(r){const{slidesGrid:x,params:y}=r,b=r.rtlTranslate?r.translate:-r.translate;let R;for(let T=0;T<x.length;T+=1)typeof x[T+1]<"u"?b>=x[T]&&b<x[T+1]-(x[T+1]-x[T])/2?R=T:b>=x[T]&&b<x[T+1]&&(R=T+1):b>=x[T]&&(R=T);return y.normalizeSlideIndex&&(R<0||typeof R>"u")&&(R=0),R}function updateActiveIndex(r){const x=this,y=x.rtlTranslate?x.translate:-x.translate,{snapGrid:b,params:R,activeIndex:T,realIndex:A,snapIndex:O}=x;let B=r,U;const K=ae=>{let ue=ae-x.virtual.slidesBefore;return ue<0&&(ue=x.virtual.slides.length+ue),ue>=x.virtual.slides.length&&(ue-=x.virtual.slides.length),ue};if(typeof B>"u"&&(B=getActiveIndexByTranslate(x)),b.indexOf(y)>=0)U=b.indexOf(y);else{const ae=Math.min(R.slidesPerGroupSkip,B);U=ae+Math.floor((B-ae)/R.slidesPerGroup)}if(U>=b.length&&(U=b.length-1),B===T&&!x.params.loop){U!==O&&(x.snapIndex=U,x.emit("snapIndexChange"));return}if(B===T&&x.params.loop&&x.virtual&&x.params.virtual.enabled){x.realIndex=K(B);return}const J=x.grid&&R.grid&&R.grid.rows>1;let te;if(x.virtual&&R.virtual.enabled&&R.loop)te=K(B);else if(J){const ae=x.slides.find(pe=>pe.column===B);let ue=parseInt(ae.getAttribute("data-swiper-slide-index"),10);Number.isNaN(ue)&&(ue=Math.max(x.slides.indexOf(ae),0)),te=Math.floor(ue/R.grid.rows)}else if(x.slides[B]){const ae=x.slides[B].getAttribute("data-swiper-slide-index");ae?te=parseInt(ae,10):te=B}else te=B;Object.assign(x,{previousSnapIndex:O,snapIndex:U,previousRealIndex:A,realIndex:te,previousIndex:T,activeIndex:B}),x.initialized&&preload(x),x.emit("activeIndexChange"),x.emit("snapIndexChange"),(x.initialized||x.params.runCallbacksOnInit)&&(A!==te&&x.emit("realIndexChange"),x.emit("slideChange"))}function updateClickedSlide(r,x){const y=this,b=y.params;let R=r.closest(`.${b.slideClass}, swiper-slide`);!R&&y.isElement&&x&&x.length>1&&x.includes(r)&&[...x.slice(x.indexOf(r)+1,x.length)].forEach(O=>{!R&&O.matches&&O.matches(`.${b.slideClass}, swiper-slide`)&&(R=O)});let T=!1,A;if(R){for(let O=0;O<y.slides.length;O+=1)if(y.slides[O]===R){T=!0,A=O;break}}if(R&&T)y.clickedSlide=R,y.virtual&&y.params.virtual.enabled?y.clickedIndex=parseInt(R.getAttribute("data-swiper-slide-index"),10):y.clickedIndex=A;else{y.clickedSlide=void 0,y.clickedIndex=void 0;return}b.slideToClickedSlide&&y.clickedIndex!==void 0&&y.clickedIndex!==y.activeIndex&&y.slideToClickedSlide()}var update$1={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(r=this.isHorizontal()?"x":"y"){const x=this,{params:y,rtlTranslate:b,translate:R,wrapperEl:T}=x;if(y.virtualTranslate)return b?-R:R;if(y.cssMode)return R;let A=getTranslate(T,r);return A+=x.cssOverflowAdjustment(),b&&(A=-A),A||0}function setTranslate(r,x){const y=this,{rtlTranslate:b,params:R,wrapperEl:T,progress:A}=y;let O=0,B=0;const U=0;y.isHorizontal()?O=b?-r:r:B=r,R.roundLengths&&(O=Math.floor(O),B=Math.floor(B)),y.previousTranslate=y.translate,y.translate=y.isHorizontal()?O:B,R.cssMode?T[y.isHorizontal()?"scrollLeft":"scrollTop"]=y.isHorizontal()?-O:-B:R.virtualTranslate||(y.isHorizontal()?O-=y.cssOverflowAdjustment():B-=y.cssOverflowAdjustment(),T.style.transform=`translate3d(${O}px, ${B}px, ${U}px)`);let K;const J=y.maxTranslate()-y.minTranslate();J===0?K=0:K=(r-y.minTranslate())/J,K!==A&&y.updateProgress(r),y.emit("setTranslate",y.translate,x)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(r=0,x=this.params.speed,y=!0,b=!0,R){const T=this,{params:A,wrapperEl:O}=T;if(T.animating&&A.preventInteractionOnTransition)return!1;const B=T.minTranslate(),U=T.maxTranslate();let K;if(b&&r>B?K=B:b&&r<U?K=U:K=r,T.updateProgress(K),A.cssMode){const J=T.isHorizontal();if(x===0)O[J?"scrollLeft":"scrollTop"]=-K;else{if(!T.support.smoothScroll)return animateCSSModeScroll({swiper:T,targetPosition:-K,side:J?"left":"top"}),!0;O.scrollTo({[J?"left":"top"]:-K,behavior:"smooth"})}return!0}return x===0?(T.setTransition(0),T.setTranslate(K),y&&(T.emit("beforeTransitionStart",x,R),T.emit("transitionEnd"))):(T.setTransition(x),T.setTranslate(K),y&&(T.emit("beforeTransitionStart",x,R),T.emit("transitionStart")),T.animating||(T.animating=!0,T.onTranslateToWrapperTransitionEnd||(T.onTranslateToWrapperTransitionEnd=function(te){!T||T.destroyed||te.target===this&&(T.wrapperEl.removeEventListener("transitionend",T.onTranslateToWrapperTransitionEnd),T.onTranslateToWrapperTransitionEnd=null,delete T.onTranslateToWrapperTransitionEnd,T.animating=!1,y&&T.emit("transitionEnd"))}),T.wrapperEl.addEventListener("transitionend",T.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(r,x){const y=this;y.params.cssMode||(y.wrapperEl.style.transitionDuration=`${r}ms`,y.wrapperEl.style.transitionDelay=r===0?"0ms":""),y.emit("setTransition",r,x)}function transitionEmit({swiper:r,runCallbacks:x,direction:y,step:b}){const{activeIndex:R,previousIndex:T}=r;let A=y;A||(R>T?A="next":R<T?A="prev":A="reset"),r.emit(`transition${b}`),x&&A==="reset"?r.emit(`slideResetTransition${b}`):x&&R!==T&&(r.emit(`slideChangeTransition${b}`),A==="next"?r.emit(`slideNextTransition${b}`):r.emit(`slidePrevTransition${b}`))}function transitionStart(r=!0,x){const y=this,{params:b}=y;b.cssMode||(b.autoHeight&&y.updateAutoHeight(),transitionEmit({swiper:y,runCallbacks:r,direction:x,step:"Start"}))}function transitionEnd(r=!0,x){const y=this,{params:b}=y;y.animating=!1,!b.cssMode&&(y.setTransition(0),transitionEmit({swiper:y,runCallbacks:r,direction:x,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(r=0,x,y=!0,b,R){typeof r=="string"&&(r=parseInt(r,10));const T=this;let A=r;A<0&&(A=0);const{params:O,snapGrid:B,slidesGrid:U,previousIndex:K,activeIndex:J,rtlTranslate:te,wrapperEl:ae,enabled:ue}=T;if(!ue&&!b&&!R||T.destroyed||T.animating&&O.preventInteractionOnTransition)return!1;typeof x>"u"&&(x=T.params.speed);const pe=Math.min(T.params.slidesPerGroupSkip,A);let $e=pe+Math.floor((A-pe)/T.params.slidesPerGroup);$e>=B.length&&($e=B.length-1);const Ne=-B[$e];if(O.normalizeSlideIndex)for(let He=0;He<U.length;He+=1){const qe=-Math.floor(Ne*100),Qe=Math.floor(U[He]*100),lt=Math.floor(U[He+1]*100);typeof U[He+1]<"u"?qe>=Qe&&qe<lt-(lt-Qe)/2?A=He:qe>=Qe&&qe<lt&&(A=He+1):qe>=Qe&&(A=He)}if(T.initialized&&A!==J&&(!T.allowSlideNext&&(te?Ne>T.translate&&Ne>T.minTranslate():Ne<T.translate&&Ne<T.minTranslate())||!T.allowSlidePrev&&Ne>T.translate&&Ne>T.maxTranslate()&&(J||0)!==A))return!1;A!==(K||0)&&y&&T.emit("beforeSlideChangeStart"),T.updateProgress(Ne);let Be;A>J?Be="next":A<J?Be="prev":Be="reset";const _e=T.virtual&&T.params.virtual.enabled;if(!(_e&&R)&&(te&&-Ne===T.translate||!te&&Ne===T.translate))return T.updateActiveIndex(A),O.autoHeight&&T.updateAutoHeight(),T.updateSlidesClasses(),O.effect!=="slide"&&T.setTranslate(Ne),Be!=="reset"&&(T.transitionStart(y,Be),T.transitionEnd(y,Be)),!1;if(O.cssMode){const He=T.isHorizontal(),qe=te?Ne:-Ne;if(x===0)_e&&(T.wrapperEl.style.scrollSnapType="none",T._immediateVirtual=!0),_e&&!T._cssModeVirtualInitialSet&&T.params.initialSlide>0?(T._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{ae[He?"scrollLeft":"scrollTop"]=qe})):ae[He?"scrollLeft":"scrollTop"]=qe,_e&&requestAnimationFrame(()=>{T.wrapperEl.style.scrollSnapType="",T._immediateVirtual=!1});else{if(!T.support.smoothScroll)return animateCSSModeScroll({swiper:T,targetPosition:qe,side:He?"left":"top"}),!0;ae.scrollTo({[He?"left":"top"]:qe,behavior:"smooth"})}return!0}const Ue=getBrowser().isSafari;return _e&&!R&&Ue&&T.isElement&&T.virtual.update(!1,!1,A),T.setTransition(x),T.setTranslate(Ne),T.updateActiveIndex(A),T.updateSlidesClasses(),T.emit("beforeTransitionStart",x,b),T.transitionStart(y,Be),x===0?T.transitionEnd(y,Be):T.animating||(T.animating=!0,T.onSlideToWrapperTransitionEnd||(T.onSlideToWrapperTransitionEnd=function(qe){!T||T.destroyed||qe.target===this&&(T.wrapperEl.removeEventListener("transitionend",T.onSlideToWrapperTransitionEnd),T.onSlideToWrapperTransitionEnd=null,delete T.onSlideToWrapperTransitionEnd,T.transitionEnd(y,Be))}),T.wrapperEl.addEventListener("transitionend",T.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(r=0,x,y=!0,b){typeof r=="string"&&(r=parseInt(r,10));const R=this;if(R.destroyed)return;typeof x>"u"&&(x=R.params.speed);const T=R.grid&&R.params.grid&&R.params.grid.rows>1;let A=r;if(R.params.loop)if(R.virtual&&R.params.virtual.enabled)A=A+R.virtual.slidesBefore;else{let O;if(T){const pe=A*R.params.grid.rows;O=R.slides.find($e=>$e.getAttribute("data-swiper-slide-index")*1===pe).column}else O=R.getSlideIndexByData(A);const B=T?Math.ceil(R.slides.length/R.params.grid.rows):R.slides.length,{centeredSlides:U,slidesOffsetBefore:K,slidesOffsetAfter:J}=R.params,te=U||!!K||!!J;let ae=R.params.slidesPerView;ae==="auto"?ae=R.slidesPerViewDynamic():(ae=Math.ceil(parseFloat(R.params.slidesPerView,10)),te&&ae%2===0&&(ae=ae+1));let ue=B-O<ae;if(te&&(ue=ue||O<Math.ceil(ae/2)),b&&te&&R.params.slidesPerView!=="auto"&&!T&&(ue=!1),ue){const pe=te?O<R.activeIndex?"prev":"next":O-R.activeIndex-1<R.params.slidesPerView?"next":"prev";R.loopFix({direction:pe,slideTo:!0,activeSlideIndex:pe==="next"?O+1:O-B+1,slideRealIndex:pe==="next"?R.realIndex:void 0})}if(T){const pe=A*R.params.grid.rows;A=R.slides.find($e=>$e.getAttribute("data-swiper-slide-index")*1===pe).column}else A=R.getSlideIndexByData(A)}return requestAnimationFrame(()=>{R.slideTo(A,x,y,b)}),R}function slideNext(r,x=!0,y){const b=this,{enabled:R,params:T,animating:A}=b;if(!R||b.destroyed)return b;typeof r>"u"&&(r=b.params.speed);let O=T.slidesPerGroup;T.slidesPerView==="auto"&&T.slidesPerGroup===1&&T.slidesPerGroupAuto&&(O=Math.max(b.slidesPerViewDynamic("current",!0),1));const B=b.activeIndex<T.slidesPerGroupSkip?1:O,U=b.virtual&&T.virtual.enabled;if(T.loop){if(A&&!U&&T.loopPreventsSliding)return!1;if(b.loopFix({direction:"next"}),b._clientLeft=b.wrapperEl.clientLeft,b.activeIndex===b.slides.length-1&&T.cssMode)return requestAnimationFrame(()=>{b.slideTo(b.activeIndex+B,r,x,y)}),!0}return T.rewind&&b.isEnd?b.slideTo(0,r,x,y):b.slideTo(b.activeIndex+B,r,x,y)}function slidePrev(r,x=!0,y){const b=this,{params:R,snapGrid:T,slidesGrid:A,rtlTranslate:O,enabled:B,animating:U}=b;if(!B||b.destroyed)return b;typeof r>"u"&&(r=b.params.speed);const K=b.virtual&&R.virtual.enabled;if(R.loop){if(U&&!K&&R.loopPreventsSliding)return!1;b.loopFix({direction:"prev"}),b._clientLeft=b.wrapperEl.clientLeft}const J=O?b.translate:-b.translate;function te(Be){return Be<0?-Math.floor(Math.abs(Be)):Math.floor(Be)}const ae=te(J),ue=T.map(Be=>te(Be)),pe=R.freeMode&&R.freeMode.enabled;let $e=T[ue.indexOf(ae)-1];if(typeof $e>"u"&&(R.cssMode||pe)){let Be;T.forEach((_e,xe)=>{ae>=_e&&(Be=xe)}),typeof Be<"u"&&($e=pe?T[Be]:T[Be>0?Be-1:Be])}let Ne=0;if(typeof $e<"u"&&(Ne=A.indexOf($e),Ne<0&&(Ne=b.activeIndex-1),R.slidesPerView==="auto"&&R.slidesPerGroup===1&&R.slidesPerGroupAuto&&(Ne=Ne-b.slidesPerViewDynamic("previous",!0)+1,Ne=Math.max(Ne,0))),R.rewind&&b.isBeginning){const Be=b.params.virtual&&b.params.virtual.enabled&&b.virtual?b.virtual.slides.length-1:b.slides.length-1;return b.slideTo(Be,r,x,y)}else if(R.loop&&b.activeIndex===0&&R.cssMode)return requestAnimationFrame(()=>{b.slideTo(Ne,r,x,y)}),!0;return b.slideTo(Ne,r,x,y)}function slideReset(r,x=!0,y){const b=this;if(!b.destroyed)return typeof r>"u"&&(r=b.params.speed),b.slideTo(b.activeIndex,r,x,y)}function slideToClosest(r,x=!0,y,b=.5){const R=this;if(R.destroyed)return;typeof r>"u"&&(r=R.params.speed);let T=R.activeIndex;const A=Math.min(R.params.slidesPerGroupSkip,T),O=A+Math.floor((T-A)/R.params.slidesPerGroup),B=R.rtlTranslate?R.translate:-R.translate;if(B>=R.snapGrid[O]){const U=R.snapGrid[O],K=R.snapGrid[O+1];B-U>(K-U)*b&&(T+=R.params.slidesPerGroup)}else{const U=R.snapGrid[O-1],K=R.snapGrid[O];B-U<=(K-U)*b&&(T-=R.params.slidesPerGroup)}return T=Math.max(T,0),T=Math.min(T,R.slidesGrid.length-1),R.slideTo(T,r,x,y)}function slideToClickedSlide(){const r=this;if(r.destroyed)return;const{params:x,slidesEl:y}=r,b=x.slidesPerView==="auto"?r.slidesPerViewDynamic():x.slidesPerView;let R=r.getSlideIndexWhenGrid(r.clickedIndex),T;const A=r.isElement?"swiper-slide":`.${x.slideClass}`,O=r.grid&&r.params.grid&&r.params.grid.rows>1;if(x.loop){if(r.animating)return;T=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),x.centeredSlides?r.slideToLoop(T):R>(O?(r.slides.length-b)/2-(r.params.grid.rows-1):r.slides.length-b)?(r.loopFix(),R=r.getSlideIndex(elementChildren(y,`${A}[data-swiper-slide-index="${T}"]`)[0]),nextTick(()=>{r.slideTo(R)})):r.slideTo(R)}else r.slideTo(R)}var slide$1={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(r,x){const y=this,{params:b,slidesEl:R}=y;if(!b.loop||y.virtual&&y.params.virtual.enabled)return;const T=()=>{elementChildren(R,`.${b.slideClass}, swiper-slide`).forEach((ue,pe)=>{ue.setAttribute("data-swiper-slide-index",pe)})},A=()=>{const ae=elementChildren(R,`.${b.slideBlankClass}`);ae.forEach(ue=>{ue.remove()}),ae.length>0&&(y.recalcSlides(),y.updateSlides())},O=y.grid&&b.grid&&b.grid.rows>1;b.loopAddBlankSlides&&(b.slidesPerGroup>1||O)&&A();const B=b.slidesPerGroup*(O?b.grid.rows:1),U=y.slides.length%B!==0,K=O&&y.slides.length%b.grid.rows!==0,J=ae=>{for(let ue=0;ue<ae;ue+=1){const pe=y.isElement?createElement("swiper-slide",[b.slideBlankClass]):createElement("div",[b.slideClass,b.slideBlankClass]);y.slidesEl.append(pe)}};if(U){if(b.loopAddBlankSlides){const ae=B-y.slides.length%B;J(ae),y.recalcSlides(),y.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");T()}else if(K){if(b.loopAddBlankSlides){const ae=b.grid.rows-y.slides.length%b.grid.rows;J(ae),y.recalcSlides(),y.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");T()}else T();const te=b.centeredSlides||!!b.slidesOffsetBefore||!!b.slidesOffsetAfter;y.loopFix({slideRealIndex:r,direction:te?void 0:"next",initial:x})}function loopFix({slideRealIndex:r,slideTo:x=!0,direction:y,setTranslate:b,activeSlideIndex:R,initial:T,byController:A,byMousewheel:O}={}){const B=this;if(!B.params.loop)return;B.emit("beforeLoopFix");const{slides:U,allowSlidePrev:K,allowSlideNext:J,slidesEl:te,params:ae}=B,{centeredSlides:ue,slidesOffsetBefore:pe,slidesOffsetAfter:$e,initialSlide:Ne}=ae,Be=ue||!!pe||!!$e;if(B.allowSlidePrev=!0,B.allowSlideNext=!0,B.virtual&&ae.virtual.enabled){x&&(!Be&&B.snapIndex===0?B.slideTo(B.virtual.slides.length,0,!1,!0):Be&&B.snapIndex<ae.slidesPerView?B.slideTo(B.virtual.slides.length+B.snapIndex,0,!1,!0):B.snapIndex===B.snapGrid.length-1&&B.slideTo(B.virtual.slidesBefore,0,!1,!0)),B.allowSlidePrev=K,B.allowSlideNext=J,B.emit("loopFix");return}let _e=ae.slidesPerView;_e==="auto"?_e=B.slidesPerViewDynamic():(_e=Math.ceil(parseFloat(ae.slidesPerView,10)),Be&&_e%2===0&&(_e=_e+1));const xe=ae.slidesPerGroupAuto?_e:ae.slidesPerGroup;let Le=Be?Math.max(xe,Math.ceil(_e/2)):xe;Le%xe!==0&&(Le+=xe-Le%xe),Le+=ae.loopAdditionalSlides,B.loopedSlides=Le;const Ue=B.grid&&ae.grid&&ae.grid.rows>1;U.length<_e+Le||B.params.effect==="cards"&&U.length<_e+Le*2?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Ue&&ae.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const He=[],qe=[],Qe=Ue?Math.ceil(U.length/ae.grid.rows):U.length,lt=T&&Qe-Ne<_e&&!Be;let ct=lt?Ne:B.activeIndex;typeof R>"u"?R=B.getSlideIndex(U.find(We=>We.classList.contains(ae.slideActiveClass))):ct=R;const ot=y==="next"||!y,pt=y==="prev"||!y;let yt=0,it=0;const Je=(Ue?U[R].column:R)+(Be&&typeof b>"u"?-_e/2+.5:0);if(Je<Le){yt=Math.max(Le-Je,xe);for(let We=0;We<Le-Je;We+=1){const Ze=We-Math.floor(We/Qe)*Qe;if(Ue){const dt=Qe-Ze-1;for(let et=U.length-1;et>=0;et-=1)U[et].column===dt&&He.push(et)}else He.push(Qe-Ze-1)}}else if(Je+_e>Qe-Le){it=Math.max(Je-(Qe-Le*2),xe),lt&&(it=Math.max(it,_e-Qe+Ne+1));for(let We=0;We<it;We+=1){const Ze=We-Math.floor(We/Qe)*Qe;Ue?U.forEach((dt,et)=>{dt.column===Ze&&qe.push(et)}):qe.push(Ze)}}if(B.__preventObserver__=!0,requestAnimationFrame(()=>{B.__preventObserver__=!1}),B.params.effect==="cards"&&U.length<_e+Le*2&&(qe.includes(R)&&qe.splice(qe.indexOf(R),1),He.includes(R)&&He.splice(He.indexOf(R),1)),pt&&He.forEach(We=>{U[We].swiperLoopMoveDOM=!0,te.prepend(U[We]),U[We].swiperLoopMoveDOM=!1}),ot&&qe.forEach(We=>{U[We].swiperLoopMoveDOM=!0,te.append(U[We]),U[We].swiperLoopMoveDOM=!1}),B.recalcSlides(),ae.slidesPerView==="auto"?B.updateSlides():Ue&&(He.length>0&&pt||qe.length>0&&ot)&&B.slides.forEach((We,Ze)=>{B.grid.updateSlide(Ze,We,B.slides)}),ae.watchSlidesProgress&&B.updateSlidesOffset(),x){if(He.length>0&&pt){if(typeof r>"u"){const We=B.slidesGrid[ct],dt=B.slidesGrid[ct+yt]-We;O?B.setTranslate(B.translate-dt):(B.slideTo(ct+Math.ceil(yt),0,!1,!0),b&&(B.touchEventsData.startTranslate=B.touchEventsData.startTranslate-dt,B.touchEventsData.currentTranslate=B.touchEventsData.currentTranslate-dt))}else if(b){const We=Ue?He.length/ae.grid.rows:He.length;B.slideTo(B.activeIndex+We,0,!1,!0),B.touchEventsData.currentTranslate=B.translate}}else if(qe.length>0&&ot)if(typeof r>"u"){const We=B.slidesGrid[ct],dt=B.slidesGrid[ct-it]-We;O?B.setTranslate(B.translate-dt):(B.slideTo(ct-it,0,!1,!0),b&&(B.touchEventsData.startTranslate=B.touchEventsData.startTranslate-dt,B.touchEventsData.currentTranslate=B.touchEventsData.currentTranslate-dt))}else{const We=Ue?qe.length/ae.grid.rows:qe.length;B.slideTo(B.activeIndex-We,0,!1,!0)}}if(B.allowSlidePrev=K,B.allowSlideNext=J,B.controller&&B.controller.control&&!A){const We={slideRealIndex:r,direction:y,setTranslate:b,activeSlideIndex:R,byController:!0};Array.isArray(B.controller.control)?B.controller.control.forEach(Ze=>{!Ze.destroyed&&Ze.params.loop&&Ze.loopFix({...We,slideTo:Ze.params.slidesPerView===ae.slidesPerView?x:!1})}):B.controller.control instanceof B.constructor&&B.controller.control.params.loop&&B.controller.control.loopFix({...We,slideTo:B.controller.control.params.slidesPerView===ae.slidesPerView?x:!1})}B.emit("loopFix")}function loopDestroy(){const r=this,{params:x,slidesEl:y}=r;if(!x.loop||!y||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const b=[];r.slides.forEach(R=>{const T=typeof R.swiperSlideIndex>"u"?R.getAttribute("data-swiper-slide-index")*1:R.swiperSlideIndex;b[T]=R}),r.slides.forEach(R=>{R.removeAttribute("data-swiper-slide-index")}),b.forEach(R=>{y.append(R)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(r){const x=this;if(!x.params.simulateTouch||x.params.watchOverflow&&x.isLocked||x.params.cssMode)return;const y=x.params.touchEventsTarget==="container"?x.el:x.wrapperEl;x.isElement&&(x.__preventObserver__=!0),y.style.cursor="move",y.style.cursor=r?"grabbing":"grab",x.isElement&&requestAnimationFrame(()=>{x.__preventObserver__=!1})}function unsetGrabCursor(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(r,x=this){function y(b){if(!b||b===getDocument()||b===getWindow())return null;b.assignedSlot&&(b=b.assignedSlot);const R=b.closest(r);return!R&&!b.getRootNode?null:R||y(b.getRootNode().host)}return y(x)}function preventEdgeSwipe(r,x,y){const b=getWindow(),{params:R}=r,T=R.edgeSwipeDetection,A=R.edgeSwipeThreshold;return T&&(y<=A||y>=b.innerWidth-A)?T==="prevent"?(x.preventDefault(),!0):!1:!0}function onTouchStart(r){const x=this,y=getDocument();let b=r;b.originalEvent&&(b=b.originalEvent);const R=x.touchEventsData;if(b.type==="pointerdown"){if(R.pointerId!==null&&R.pointerId!==b.pointerId)return;R.pointerId=b.pointerId}else b.type==="touchstart"&&b.targetTouches.length===1&&(R.touchId=b.targetTouches[0].identifier);if(b.type==="touchstart"){preventEdgeSwipe(x,b,b.targetTouches[0].pageX);return}const{params:T,touches:A,enabled:O}=x;if(!O||!T.simulateTouch&&b.pointerType==="mouse"||x.animating&&T.preventInteractionOnTransition)return;!x.animating&&T.cssMode&&T.loop&&x.loopFix();let B=b.target;if(T.touchEventsTarget==="wrapper"&&!elementIsChildOf(B,x.wrapperEl)||"which"in b&&b.which===3||"button"in b&&b.button>0||R.isTouched&&R.isMoved)return;const U=!!T.noSwipingClass&&T.noSwipingClass!=="",K=b.composedPath?b.composedPath():b.path;U&&b.target&&b.target.shadowRoot&&K&&(B=K[0]);const J=T.noSwipingSelector?T.noSwipingSelector:`.${T.noSwipingClass}`,te=!!(b.target&&b.target.shadowRoot);if(T.noSwiping&&(te?closestElement(J,B):B.closest(J))){x.allowClick=!0;return}if(T.swipeHandler&&!B.closest(T.swipeHandler))return;A.currentX=b.pageX,A.currentY=b.pageY;const ae=A.currentX,ue=A.currentY;if(!preventEdgeSwipe(x,b,ae))return;Object.assign(R,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),A.startX=ae,A.startY=ue,R.touchStartTime=now(),x.allowClick=!0,x.updateSize(),x.swipeDirection=void 0,T.threshold>0&&(R.allowThresholdMove=!1);let pe=!0;B.matches(R.focusableElements)&&(pe=!1,B.nodeName==="SELECT"&&(R.isTouched=!1)),y.activeElement&&y.activeElement.matches(R.focusableElements)&&y.activeElement!==B&&(b.pointerType==="mouse"||b.pointerType!=="mouse"&&!B.matches(R.focusableElements))&&y.activeElement.blur();const $e=pe&&x.allowTouchMove&&T.touchStartPreventDefault;(T.touchStartForcePreventDefault||$e)&&!B.isContentEditable&&b.preventDefault(),T.freeMode&&T.freeMode.enabled&&x.freeMode&&x.animating&&!T.cssMode&&x.freeMode.onTouchStart(),x.emit("touchStart",b)}function onTouchMove(r){const x=getDocument(),y=this,b=y.touchEventsData,{params:R,touches:T,rtlTranslate:A,enabled:O}=y;if(!O||!R.simulateTouch&&r.pointerType==="mouse")return;let B=r;if(B.originalEvent&&(B=B.originalEvent),B.type==="pointermove"&&(b.touchId!==null||B.pointerId!==b.pointerId))return;let U;if(B.type==="touchmove"){if(U=[...B.changedTouches].find(Le=>Le.identifier===b.touchId),!U||U.identifier!==b.touchId)return}else U=B;if(!b.isTouched){b.startMoving&&b.isScrolling&&y.emit("touchMoveOpposite",B);return}const K=U.pageX,J=U.pageY;if(B.preventedByNestedSwiper){T.startX=K,T.startY=J;return}if(!y.allowTouchMove){B.target.matches(b.focusableElements)||(y.allowClick=!1),b.isTouched&&(Object.assign(T,{startX:K,startY:J,currentX:K,currentY:J}),b.touchStartTime=now());return}if(R.touchReleaseOnEdges&&!R.loop)if(y.isVertical()){if(J<T.startY&&y.translate<=y.maxTranslate()||J>T.startY&&y.translate>=y.minTranslate()){b.isTouched=!1,b.isMoved=!1;return}}else{if(A&&(K>T.startX&&-y.translate<=y.maxTranslate()||K<T.startX&&-y.translate>=y.minTranslate()))return;if(!A&&(K<T.startX&&y.translate<=y.maxTranslate()||K>T.startX&&y.translate>=y.minTranslate()))return}if(x.activeElement&&x.activeElement.matches(b.focusableElements)&&x.activeElement!==B.target&&B.pointerType!=="mouse"&&x.activeElement.blur(),x.activeElement&&B.target===x.activeElement&&B.target.matches(b.focusableElements)){b.isMoved=!0,y.allowClick=!1;return}b.allowTouchCallbacks&&y.emit("touchMove",B),T.previousX=T.currentX,T.previousY=T.currentY,T.currentX=K,T.currentY=J;const te=T.currentX-T.startX,ae=T.currentY-T.startY;if(y.params.threshold&&Math.sqrt(te**2+ae**2)<y.params.threshold)return;if(typeof b.isScrolling>"u"){let Le;y.isHorizontal()&&T.currentY===T.startY||y.isVertical()&&T.currentX===T.startX?b.isScrolling=!1:te*te+ae*ae>=25&&(Le=Math.atan2(Math.abs(ae),Math.abs(te))*180/Math.PI,b.isScrolling=y.isHorizontal()?Le>R.touchAngle:90-Le>R.touchAngle)}if(b.isScrolling&&y.emit("touchMoveOpposite",B),typeof b.startMoving>"u"&&(T.currentX!==T.startX||T.currentY!==T.startY)&&(b.startMoving=!0),b.isScrolling||B.type==="touchmove"&&b.preventTouchMoveFromPointerMove){b.isTouched=!1;return}if(!b.startMoving)return;y.allowClick=!1,!R.cssMode&&B.cancelable&&B.preventDefault(),R.touchMoveStopPropagation&&!R.nested&&B.stopPropagation();let ue=y.isHorizontal()?te:ae,pe=y.isHorizontal()?T.currentX-T.previousX:T.currentY-T.previousY;R.oneWayMovement&&(ue=Math.abs(ue)*(A?1:-1),pe=Math.abs(pe)*(A?1:-1)),T.diff=ue,ue*=R.touchRatio,A&&(ue=-ue,pe=-pe);const $e=y.touchesDirection;y.swipeDirection=ue>0?"prev":"next",y.touchesDirection=pe>0?"prev":"next";const Ne=y.params.loop&&!R.cssMode,Be=y.touchesDirection==="next"&&y.allowSlideNext||y.touchesDirection==="prev"&&y.allowSlidePrev;if(!b.isMoved){if(Ne&&Be&&y.loopFix({direction:y.swipeDirection}),b.startTranslate=y.getTranslate(),y.setTransition(0),y.animating){const Le=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});y.wrapperEl.dispatchEvent(Le)}b.allowMomentumBounce=!1,R.grabCursor&&(y.allowSlideNext===!0||y.allowSlidePrev===!0)&&y.setGrabCursor(!0),y.emit("sliderFirstMove",B)}if(new Date().getTime(),R._loopSwapReset!==!1&&b.isMoved&&b.allowThresholdMove&&$e!==y.touchesDirection&&Ne&&Be&&Math.abs(ue)>=1){Object.assign(T,{startX:K,startY:J,currentX:K,currentY:J,startTranslate:b.currentTranslate}),b.loopSwapReset=!0,b.startTranslate=b.currentTranslate;return}y.emit("sliderMove",B),b.isMoved=!0,b.currentTranslate=ue+b.startTranslate;let _e=!0,xe=R.resistanceRatio;if(R.touchReleaseOnEdges&&(xe=0),ue>0?(Ne&&Be&&b.allowThresholdMove&&b.currentTranslate>(R.centeredSlides?y.minTranslate()-y.slidesSizesGrid[y.activeIndex+1]-(R.slidesPerView!=="auto"&&y.slides.length-R.slidesPerView>=2?y.slidesSizesGrid[y.activeIndex+1]+y.params.spaceBetween:0)-y.params.spaceBetween:y.minTranslate())&&y.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),b.currentTranslate>y.minTranslate()&&(_e=!1,R.resistance&&(b.currentTranslate=y.minTranslate()-1+(-y.minTranslate()+b.startTranslate+ue)**xe))):ue<0&&(Ne&&Be&&b.allowThresholdMove&&b.currentTranslate<(R.centeredSlides?y.maxTranslate()+y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween+(R.slidesPerView!=="auto"&&y.slides.length-R.slidesPerView>=2?y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween:0):y.maxTranslate())&&y.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:y.slides.length-(R.slidesPerView==="auto"?y.slidesPerViewDynamic():Math.ceil(parseFloat(R.slidesPerView,10)))}),b.currentTranslate<y.maxTranslate()&&(_e=!1,R.resistance&&(b.currentTranslate=y.maxTranslate()+1-(y.maxTranslate()-b.startTranslate-ue)**xe))),_e&&(B.preventedByNestedSwiper=!0),!y.allowSlideNext&&y.swipeDirection==="next"&&b.currentTranslate<b.startTranslate&&(b.currentTranslate=b.startTranslate),!y.allowSlidePrev&&y.swipeDirection==="prev"&&b.currentTranslate>b.startTranslate&&(b.currentTranslate=b.startTranslate),!y.allowSlidePrev&&!y.allowSlideNext&&(b.currentTranslate=b.startTranslate),R.threshold>0)if(Math.abs(ue)>R.threshold||b.allowThresholdMove){if(!b.allowThresholdMove){b.allowThresholdMove=!0,T.startX=T.currentX,T.startY=T.currentY,b.currentTranslate=b.startTranslate,T.diff=y.isHorizontal()?T.currentX-T.startX:T.currentY-T.startY;return}}else{b.currentTranslate=b.startTranslate;return}!R.followFinger||R.cssMode||((R.freeMode&&R.freeMode.enabled&&y.freeMode||R.watchSlidesProgress)&&(y.updateActiveIndex(),y.updateSlidesClasses()),R.freeMode&&R.freeMode.enabled&&y.freeMode&&y.freeMode.onTouchMove(),y.updateProgress(b.currentTranslate),y.setTranslate(b.currentTranslate))}function onTouchEnd(r){const x=this,y=x.touchEventsData;let b=r;b.originalEvent&&(b=b.originalEvent);let R;if(b.type==="touchend"||b.type==="touchcancel"){if(R=[...b.changedTouches].find(Le=>Le.identifier===y.touchId),!R||R.identifier!==y.touchId)return}else{if(y.touchId!==null||b.pointerId!==y.pointerId)return;R=b}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(b.type)&&!(["pointercancel","contextmenu"].includes(b.type)&&(x.browser.isSafari||x.browser.isWebView)))return;y.pointerId=null,y.touchId=null;const{params:A,touches:O,rtlTranslate:B,slidesGrid:U,enabled:K}=x;if(!K||!A.simulateTouch&&b.pointerType==="mouse")return;if(y.allowTouchCallbacks&&x.emit("touchEnd",b),y.allowTouchCallbacks=!1,!y.isTouched){y.isMoved&&A.grabCursor&&x.setGrabCursor(!1),y.isMoved=!1,y.startMoving=!1;return}A.grabCursor&&y.isMoved&&y.isTouched&&(x.allowSlideNext===!0||x.allowSlidePrev===!0)&&x.setGrabCursor(!1);const J=now(),te=J-y.touchStartTime;if(x.allowClick){const Le=b.path||b.composedPath&&b.composedPath();x.updateClickedSlide(Le&&Le[0]||b.target,Le),x.emit("tap click",b),te<300&&J-y.lastClickTime<300&&x.emit("doubleTap doubleClick",b)}if(y.lastClickTime=now(),nextTick(()=>{x.destroyed||(x.allowClick=!0)}),!y.isTouched||!y.isMoved||!x.swipeDirection||O.diff===0&&!y.loopSwapReset||y.currentTranslate===y.startTranslate&&!y.loopSwapReset){y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;return}y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;let ae;if(A.followFinger?ae=B?x.translate:-x.translate:ae=-y.currentTranslate,A.cssMode)return;if(A.freeMode&&A.freeMode.enabled){x.freeMode.onTouchEnd({currentPos:ae});return}const ue=ae>=-x.maxTranslate()&&!x.params.loop;let pe=0,$e=x.slidesSizesGrid[0];for(let Le=0;Le<U.length;Le+=Le<A.slidesPerGroupSkip?1:A.slidesPerGroup){const Ue=Le<A.slidesPerGroupSkip-1?1:A.slidesPerGroup;typeof U[Le+Ue]<"u"?(ue||ae>=U[Le]&&ae<U[Le+Ue])&&(pe=Le,$e=U[Le+Ue]-U[Le]):(ue||ae>=U[Le])&&(pe=Le,$e=U[U.length-1]-U[U.length-2])}let Ne=null,Be=null;A.rewind&&(x.isBeginning?Be=A.virtual&&A.virtual.enabled&&x.virtual?x.virtual.slides.length-1:x.slides.length-1:x.isEnd&&(Ne=0));const _e=(ae-U[pe])/$e,xe=pe<A.slidesPerGroupSkip-1?1:A.slidesPerGroup;if(te>A.longSwipesMs){if(!A.longSwipes){x.slideTo(x.activeIndex);return}x.swipeDirection==="next"&&(_e>=A.longSwipesRatio?x.slideTo(A.rewind&&x.isEnd?Ne:pe+xe):x.slideTo(pe)),x.swipeDirection==="prev"&&(_e>1-A.longSwipesRatio?x.slideTo(pe+xe):Be!==null&&_e<0&&Math.abs(_e)>A.longSwipesRatio?x.slideTo(Be):x.slideTo(pe))}else{if(!A.shortSwipes){x.slideTo(x.activeIndex);return}x.navigation&&(b.target===x.navigation.nextEl||b.target===x.navigation.prevEl)?b.target===x.navigation.nextEl?x.slideTo(pe+xe):x.slideTo(pe):(x.swipeDirection==="next"&&x.slideTo(Ne!==null?Ne:pe+xe),x.swipeDirection==="prev"&&x.slideTo(Be!==null?Be:pe))}}function onResize(){const r=this,{params:x,el:y}=r;if(y&&y.offsetWidth===0)return;x.breakpoints&&r.setBreakpoint();const{allowSlideNext:b,allowSlidePrev:R,snapGrid:T}=r,A=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const O=A&&x.loop;(x.slidesPerView==="auto"||x.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!O?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!A?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=R,r.allowSlideNext=b,r.params.watchOverflow&&T!==r.snapGrid&&r.checkOverflow()}function onClick(r){const x=this;x.enabled&&(x.allowClick||(x.params.preventClicks&&r.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function onScroll(){const r=this,{wrapperEl:x,rtlTranslate:y,enabled:b}=r;if(!b)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-x.scrollLeft:r.translate=-x.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let R;const T=r.maxTranslate()-r.minTranslate();T===0?R=0:R=(r.translate-r.minTranslate())/T,R!==r.progress&&r.updateProgress(y?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function onLoad(r){const x=this;processLazyPreloader(x,r.target),!(x.params.cssMode||x.params.slidesPerView!=="auto"&&!x.params.autoHeight)&&x.update()}function onDocumentTouchStart(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const events=(r,x)=>{const y=getDocument(),{params:b,el:R,wrapperEl:T,device:A}=r,O=!!b.nested,B=x==="on"?"addEventListener":"removeEventListener",U=x;!R||typeof R=="string"||(y[B]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:O}),R[B]("touchstart",r.onTouchStart,{passive:!1}),R[B]("pointerdown",r.onTouchStart,{passive:!1}),y[B]("touchmove",r.onTouchMove,{passive:!1,capture:O}),y[B]("pointermove",r.onTouchMove,{passive:!1,capture:O}),y[B]("touchend",r.onTouchEnd,{passive:!0}),y[B]("pointerup",r.onTouchEnd,{passive:!0}),y[B]("pointercancel",r.onTouchEnd,{passive:!0}),y[B]("touchcancel",r.onTouchEnd,{passive:!0}),y[B]("pointerout",r.onTouchEnd,{passive:!0}),y[B]("pointerleave",r.onTouchEnd,{passive:!0}),y[B]("contextmenu",r.onTouchEnd,{passive:!0}),(b.preventClicks||b.preventClicksPropagation)&&R[B]("click",r.onClick,!0),b.cssMode&&T[B]("scroll",r.onScroll),b.updateOnWindowResize?r[U](A.ios||A.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):r[U]("observerUpdate",onResize,!0),R[B]("load",r.onLoad,{capture:!0}))};function attachEvents(){const r=this,{params:x}=r;r.onTouchStart=onTouchStart.bind(r),r.onTouchMove=onTouchMove.bind(r),r.onTouchEnd=onTouchEnd.bind(r),r.onDocumentTouchStart=onDocumentTouchStart.bind(r),x.cssMode&&(r.onScroll=onScroll.bind(r)),r.onClick=onClick.bind(r),r.onLoad=onLoad.bind(r),events(r,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(r,x)=>r.grid&&x.grid&&x.grid.rows>1;function setBreakpoint(){const r=this,{realIndex:x,initialized:y,params:b,el:R}=r,T=b.breakpoints;if(!T||T&&Object.keys(T).length===0)return;const A=getDocument(),O=b.breakpointsBase==="window"||!b.breakpointsBase?b.breakpointsBase:"container",B=["window","container"].includes(b.breakpointsBase)||!b.breakpointsBase?r.el:A.querySelector(b.breakpointsBase),U=r.getBreakpoint(T,O,B);if(!U||r.currentBreakpoint===U)return;const J=(U in T?T[U]:void 0)||r.originalParams,te=isGridEnabled(r,b),ae=isGridEnabled(r,J),ue=r.params.grabCursor,pe=J.grabCursor,$e=b.enabled;te&&!ae?(R.classList.remove(`${b.containerModifierClass}grid`,`${b.containerModifierClass}grid-column`),r.emitContainerClasses()):!te&&ae&&(R.classList.add(`${b.containerModifierClass}grid`),(J.grid.fill&&J.grid.fill==="column"||!J.grid.fill&&b.grid.fill==="column")&&R.classList.add(`${b.containerModifierClass}grid-column`),r.emitContainerClasses()),ue&&!pe?r.unsetGrabCursor():!ue&&pe&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Ue=>{if(typeof J[Ue]>"u")return;const He=b[Ue]&&b[Ue].enabled,qe=J[Ue]&&J[Ue].enabled;He&&!qe&&r[Ue].disable(),!He&&qe&&r[Ue].enable()});const Ne=J.direction&&J.direction!==b.direction,Be=b.loop&&(J.slidesPerView!==b.slidesPerView||Ne),_e=b.loop;Ne&&y&&r.changeDirection(),extend$1(r.params,J);const xe=r.params.enabled,Le=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),$e&&!xe?r.disable():!$e&&xe&&r.enable(),r.currentBreakpoint=U,r.emit("_beforeBreakpoint",J),y&&(Be?(r.loopDestroy(),r.loopCreate(x),r.updateSlides()):!_e&&Le?(r.loopCreate(x),r.updateSlides()):_e&&!Le&&r.loopDestroy()),r.emit("breakpoint",J)}function getBreakpoint(r,x="window",y){if(!r||x==="container"&&!y)return;let b=!1;const R=getWindow(),T=x==="window"?R.innerHeight:y.clientHeight,A=Object.keys(r).map(O=>{if(typeof O=="string"&&O.indexOf("@")===0){const B=parseFloat(O.substr(1));return{value:T*B,point:O}}return{value:O,point:O}});A.sort((O,B)=>parseInt(O.value,10)-parseInt(B.value,10));for(let O=0;O<A.length;O+=1){const{point:B,value:U}=A[O];x==="window"?R.matchMedia(`(min-width: ${U}px)`).matches&&(b=B):U<=y.clientWidth&&(b=B)}return b||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(r,x){const y=[];return r.forEach(b=>{typeof b=="object"?Object.keys(b).forEach(R=>{b[R]&&y.push(x+R)}):typeof b=="string"&&y.push(x+b)}),y}function addClasses(){const r=this,{classNames:x,params:y,rtl:b,el:R,device:T}=r,A=prepareClasses(["initialized",y.direction,{"free-mode":r.params.freeMode&&y.freeMode.enabled},{autoheight:y.autoHeight},{rtl:b},{grid:y.grid&&y.grid.rows>1},{"grid-column":y.grid&&y.grid.rows>1&&y.grid.fill==="column"},{android:T.android},{ios:T.ios},{"css-mode":y.cssMode},{centered:y.cssMode&&y.centeredSlides},{"watch-progress":y.watchSlidesProgress}],y.containerModifierClass);x.push(...A),R.classList.add(...x),r.emitContainerClasses()}function removeClasses(){const r=this,{el:x,classNames:y}=r;!x||typeof x=="string"||(x.classList.remove(...y),r.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const r=this,{isLocked:x,params:y}=r,{slidesOffsetBefore:b}=y;if(b){const R=r.slides.length-1,T=r.slidesGrid[R]+r.slidesSizesGrid[R]+b*2;r.isLocked=r.size>T}else r.isLocked=r.snapGrid.length===1;y.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),y.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),x&&x!==r.isLocked&&(r.isEnd=!1),x!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(r,x){return function(b={}){const R=Object.keys(b)[0],T=b[R];if(typeof T!="object"||T===null){extend$1(x,b);return}if(r[R]===!0&&(r[R]={enabled:!0}),R==="navigation"&&r[R]&&r[R].enabled&&!r[R].prevEl&&!r[R].nextEl&&(r[R].auto=!0),["pagination","scrollbar"].indexOf(R)>=0&&r[R]&&r[R].enabled&&!r[R].el&&(r[R].auto=!0),!(R in r&&"enabled"in T)){extend$1(x,b);return}typeof r[R]=="object"&&!("enabled"in r[R])&&(r[R].enabled=!0),r[R]||(r[R]={enabled:!1}),extend$1(x,b)}}const prototypes={eventsEmitter,update:update$1,translate,transition,slide:slide$1,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Fs{constructor(...x){let y,b;x.length===1&&x[0].constructor&&Object.prototype.toString.call(x[0]).slice(8,-1)==="Object"?b=x[0]:[y,b]=x,b||(b={}),b=extend$1({},b),y&&!b.el&&(b.el=y);const R=getDocument();if(b.el&&typeof b.el=="string"&&R.querySelectorAll(b.el).length>1){const B=[];return R.querySelectorAll(b.el).forEach(U=>{const K=extend$1({},b,{el:U});B.push(new Fs(K))}),B}const T=this;T.__swiper__=!0,T.support=getSupport(),T.device=getDevice({userAgent:b.userAgent}),T.browser=getBrowser(),T.eventsListeners={},T.eventsAnyListeners=[],T.modules=[...T.__modules__],b.modules&&Array.isArray(b.modules)&&T.modules.push(...b.modules);const A={};T.modules.forEach(B=>{B({params:b,swiper:T,extendParams:moduleExtendParams(b,A),on:T.on.bind(T),once:T.once.bind(T),off:T.off.bind(T),emit:T.emit.bind(T)})});const O=extend$1({},defaults$1,A);return T.params=extend$1({},O,extendedDefaults,b),T.originalParams=extend$1({},T.params),T.passedParams=extend$1({},b),T.params&&T.params.on&&Object.keys(T.params.on).forEach(B=>{T.on(B,T.params.on[B])}),T.params&&T.params.onAny&&T.onAny(T.params.onAny),Object.assign(T,{enabled:T.params.enabled,el:y,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return T.params.direction==="horizontal"},isVertical(){return T.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:T.params.allowSlideNext,allowSlidePrev:T.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:T.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:T.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),T.emit("_swiper"),T.params.init&&T.init(),T}getDirectionLabel(x){return this.isHorizontal()?x:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[x]}getSlideIndex(x){const{slidesEl:y,params:b}=this,R=elementChildren(y,`.${b.slideClass}, swiper-slide`),T=elementIndex(R[0]);return elementIndex(x)-T}getSlideIndexByData(x){return this.getSlideIndex(this.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===x))}getSlideIndexWhenGrid(x){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?x=Math.floor(x/this.params.grid.rows):this.params.grid.fill==="row"&&(x=x%Math.ceil(this.slides.length/this.params.grid.rows))),x}recalcSlides(){const x=this,{slidesEl:y,params:b}=x;x.slides=elementChildren(y,`.${b.slideClass}, swiper-slide`)}enable(){const x=this;x.enabled||(x.enabled=!0,x.params.grabCursor&&x.setGrabCursor(),x.emit("enable"))}disable(){const x=this;x.enabled&&(x.enabled=!1,x.params.grabCursor&&x.unsetGrabCursor(),x.emit("disable"))}setProgress(x,y){const b=this;x=Math.min(Math.max(x,0),1);const R=b.minTranslate(),A=(b.maxTranslate()-R)*x+R;b.translateTo(A,typeof y>"u"?0:y),b.updateActiveIndex(),b.updateSlidesClasses()}emitContainerClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const y=x.el.className.split(" ").filter(b=>b.indexOf("swiper")===0||b.indexOf(x.params.containerModifierClass)===0);x.emit("_containerClasses",y.join(" "))}getSlideClasses(x){const y=this;return y.destroyed?"":x.className.split(" ").filter(b=>b.indexOf("swiper-slide")===0||b.indexOf(y.params.slideClass)===0).join(" ")}emitSlidesClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const y=[];x.slides.forEach(b=>{const R=x.getSlideClasses(b);y.push({slideEl:b,classNames:R}),x.emit("_slideClass",b,R)}),x.emit("_slideClasses",y)}slidesPerViewDynamic(x="current",y=!1){const b=this,{params:R,slides:T,slidesGrid:A,slidesSizesGrid:O,size:B,activeIndex:U}=b;let K=1;if(typeof R.slidesPerView=="number")return R.slidesPerView;if(R.centeredSlides){let J=T[U]?Math.ceil(T[U].swiperSlideSize):0,te;for(let ae=U+1;ae<T.length;ae+=1)T[ae]&&!te&&(J+=Math.ceil(T[ae].swiperSlideSize),K+=1,J>B&&(te=!0));for(let ae=U-1;ae>=0;ae-=1)T[ae]&&!te&&(J+=T[ae].swiperSlideSize,K+=1,J>B&&(te=!0))}else if(x==="current")for(let J=U+1;J<T.length;J+=1)(y?A[J]+O[J]-A[U]<B:A[J]-A[U]<B)&&(K+=1);else for(let J=U-1;J>=0;J-=1)A[U]-A[J]<B&&(K+=1);return K}update(){const x=this;if(!x||x.destroyed)return;const{snapGrid:y,params:b}=x;b.breakpoints&&x.setBreakpoint(),[...x.el.querySelectorAll('[loading="lazy"]')].forEach(A=>{A.complete&&processLazyPreloader(x,A)}),x.updateSize(),x.updateSlides(),x.updateProgress(),x.updateSlidesClasses();function R(){const A=x.rtlTranslate?x.translate*-1:x.translate,O=Math.min(Math.max(A,x.maxTranslate()),x.minTranslate());x.setTranslate(O),x.updateActiveIndex(),x.updateSlidesClasses()}let T;if(b.freeMode&&b.freeMode.enabled&&!b.cssMode)R(),b.autoHeight&&x.updateAutoHeight();else{if((b.slidesPerView==="auto"||b.slidesPerView>1)&&x.isEnd&&!b.centeredSlides){const A=x.virtual&&b.virtual.enabled?x.virtual.slides:x.slides;T=x.slideTo(A.length-1,0,!1,!0)}else T=x.slideTo(x.activeIndex,0,!1,!0);T||R()}b.watchOverflow&&y!==x.snapGrid&&x.checkOverflow(),x.emit("update")}changeDirection(x,y=!0){const b=this,R=b.params.direction;return x||(x=R==="horizontal"?"vertical":"horizontal"),x===R||x!=="horizontal"&&x!=="vertical"||(b.el.classList.remove(`${b.params.containerModifierClass}${R}`),b.el.classList.add(`${b.params.containerModifierClass}${x}`),b.emitContainerClasses(),b.params.direction=x,b.slides.forEach(T=>{x==="vertical"?T.style.width="":T.style.height=""}),b.emit("changeDirection"),y&&b.update()),b}changeLanguageDirection(x){const y=this;y.rtl&&x==="rtl"||!y.rtl&&x==="ltr"||(y.rtl=x==="rtl",y.rtlTranslate=y.params.direction==="horizontal"&&y.rtl,y.rtl?(y.el.classList.add(`${y.params.containerModifierClass}rtl`),y.el.dir="rtl"):(y.el.classList.remove(`${y.params.containerModifierClass}rtl`),y.el.dir="ltr"),y.update())}mount(x){const y=this;if(y.mounted)return!0;let b=x||y.params.el;if(typeof b=="string"&&(b=document.querySelector(b)),!b)return!1;b.swiper=y,b.parentNode&&b.parentNode.host&&b.parentNode.host.nodeName===y.params.swiperElementNodeName.toUpperCase()&&(y.isElement=!0);const R=()=>`.${(y.params.wrapperClass||"").trim().split(" ").join(".")}`;let A=b&&b.shadowRoot&&b.shadowRoot.querySelector?b.shadowRoot.querySelector(R()):elementChildren(b,R())[0];return!A&&y.params.createElements&&(A=createElement("div",y.params.wrapperClass),b.append(A),elementChildren(b,`.${y.params.slideClass}`).forEach(O=>{A.append(O)})),Object.assign(y,{el:b,wrapperEl:A,slidesEl:y.isElement&&!b.parentNode.host.slideSlots?b.parentNode.host:A,hostEl:y.isElement?b.parentNode.host:b,mounted:!0,rtl:b.dir.toLowerCase()==="rtl"||elementStyle(b,"direction")==="rtl",rtlTranslate:y.params.direction==="horizontal"&&(b.dir.toLowerCase()==="rtl"||elementStyle(b,"direction")==="rtl"),wrongRTL:elementStyle(A,"display")==="-webkit-box"}),!0}init(x){const y=this;if(y.initialized||y.mount(x)===!1)return y;y.emit("beforeInit"),y.params.breakpoints&&y.setBreakpoint(),y.addClasses(),y.updateSize(),y.updateSlides(),y.params.watchOverflow&&y.checkOverflow(),y.params.grabCursor&&y.enabled&&y.setGrabCursor(),y.params.loop&&y.virtual&&y.params.virtual.enabled?y.slideTo(y.params.initialSlide+y.virtual.slidesBefore,0,y.params.runCallbacksOnInit,!1,!0):y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit,!1,!0),y.params.loop&&y.loopCreate(void 0,!0),y.attachEvents();const R=[...y.el.querySelectorAll('[loading="lazy"]')];return y.isElement&&R.push(...y.hostEl.querySelectorAll('[loading="lazy"]')),R.forEach(T=>{T.complete?processLazyPreloader(y,T):T.addEventListener("load",A=>{processLazyPreloader(y,A.target)})}),preload(y),y.initialized=!0,preload(y),y.emit("init"),y.emit("afterInit"),y}destroy(x=!0,y=!0){const b=this,{params:R,el:T,wrapperEl:A,slides:O}=b;return typeof b.params>"u"||b.destroyed||(b.emit("beforeDestroy"),b.initialized=!1,b.detachEvents(),R.loop&&b.loopDestroy(),y&&(b.removeClasses(),T&&typeof T!="string"&&T.removeAttribute("style"),A&&A.removeAttribute("style"),O&&O.length&&O.forEach(B=>{B.classList.remove(R.slideVisibleClass,R.slideFullyVisibleClass,R.slideActiveClass,R.slideNextClass,R.slidePrevClass),B.removeAttribute("style"),B.removeAttribute("data-swiper-slide-index")})),b.emit("destroy"),Object.keys(b.eventsListeners).forEach(B=>{b.off(B)}),x!==!1&&(b.el&&typeof b.el!="string"&&(b.el.swiper=null),deleteProps$1(b)),b.destroyed=!0),null}static extendDefaults(x){extend$1(extendedDefaults,x)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$1}static installModule(x){Fs.prototype.__modules__||(Fs.prototype.__modules__=[]);const y=Fs.prototype.__modules__;typeof x=="function"&&y.indexOf(x)<0&&y.push(x)}static use(x){return Array.isArray(x)?(x.forEach(y=>Fs.installModule(y)),Fs):(Fs.installModule(x),Fs)}};Object.keys(prototypes).forEach(r=>{Object.keys(prototypes[r]).forEach(x=>{Swiper$1.prototype[x]=prototypes[r][x]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$2(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"&&!r.__swiper__}function extend(r,x){const y=["__proto__","constructor","prototype"];Object.keys(x).filter(b=>y.indexOf(b)<0).forEach(b=>{typeof r[b]>"u"?r[b]=x[b]:isObject$2(x[b])&&isObject$2(r[b])&&Object.keys(x[b]).length>0?x[b].__swiper__?r[b]=x[b]:extend(r[b],x[b]):r[b]=x[b]})}function needsNavigation(r={}){return r.navigation&&typeof r.navigation.nextEl>"u"&&typeof r.navigation.prevEl>"u"}function needsPagination(r={}){return r.pagination&&typeof r.pagination.el>"u"}function needsScrollbar(r={}){return r.scrollbar&&typeof r.scrollbar.el>"u"}function uniqueClasses(r=""){const x=r.split(" ").map(b=>b.trim()).filter(b=>!!b),y=[];return x.forEach(b=>{y.indexOf(b)<0&&y.push(b)}),y.join(" ")}function wrapperClass(r=""){return r?r.includes("swiper-wrapper")?r:`swiper-wrapper ${r}`:"swiper-wrapper"}function updateSwiper({swiper:r,slides:x,passedParams:y,changedParams:b,nextEl:R,prevEl:T,scrollbarEl:A,paginationEl:O}){const B=b.filter(qe=>qe!=="children"&&qe!=="direction"&&qe!=="wrapperClass"),{params:U,pagination:K,navigation:J,scrollbar:te,virtual:ae,thumbs:ue}=r;let pe,$e,Ne,Be,_e,xe,Le,Ue;b.includes("thumbs")&&y.thumbs&&y.thumbs.swiper&&!y.thumbs.swiper.destroyed&&U.thumbs&&(!U.thumbs.swiper||U.thumbs.swiper.destroyed)&&(pe=!0),b.includes("controller")&&y.controller&&y.controller.control&&U.controller&&!U.controller.control&&($e=!0),b.includes("pagination")&&y.pagination&&(y.pagination.el||O)&&(U.pagination||U.pagination===!1)&&K&&!K.el&&(Ne=!0),b.includes("scrollbar")&&y.scrollbar&&(y.scrollbar.el||A)&&(U.scrollbar||U.scrollbar===!1)&&te&&!te.el&&(Be=!0),b.includes("navigation")&&y.navigation&&(y.navigation.prevEl||T)&&(y.navigation.nextEl||R)&&(U.navigation||U.navigation===!1)&&J&&!J.prevEl&&!J.nextEl&&(_e=!0);const He=qe=>{r[qe]&&(r[qe].destroy(),qe==="navigation"?(r.isElement&&(r[qe].prevEl.remove(),r[qe].nextEl.remove()),U[qe].prevEl=void 0,U[qe].nextEl=void 0,r[qe].prevEl=void 0,r[qe].nextEl=void 0):(r.isElement&&r[qe].el.remove(),U[qe].el=void 0,r[qe].el=void 0))};b.includes("loop")&&r.isElement&&(U.loop&&!y.loop?xe=!0:!U.loop&&y.loop?Le=!0:Ue=!0),B.forEach(qe=>{if(isObject$2(U[qe])&&isObject$2(y[qe]))Object.assign(U[qe],y[qe]),(qe==="navigation"||qe==="pagination"||qe==="scrollbar")&&"enabled"in y[qe]&&!y[qe].enabled&&He(qe);else{const Qe=y[qe];(Qe===!0||Qe===!1)&&(qe==="navigation"||qe==="pagination"||qe==="scrollbar")?Qe===!1&&He(qe):U[qe]=y[qe]}}),B.includes("controller")&&!$e&&r.controller&&r.controller.control&&U.controller&&U.controller.control&&(r.controller.control=U.controller.control),b.includes("children")&&x&&ae&&U.virtual.enabled?(ae.slides=x,ae.update(!0)):b.includes("virtual")&&ae&&U.virtual.enabled&&(x&&(ae.slides=x),ae.update(!0)),b.includes("children")&&x&&U.loop&&(Ue=!0),pe&&ue.init()&&ue.update(!0),$e&&(r.controller.control=U.controller.control),Ne&&(r.isElement&&(!O||typeof O=="string")&&(O=document.createElement("div"),O.classList.add("swiper-pagination"),O.part.add("pagination"),r.el.appendChild(O)),O&&(U.pagination.el=O),K.init(),K.render(),K.update()),Be&&(r.isElement&&(!A||typeof A=="string")&&(A=document.createElement("div"),A.classList.add("swiper-scrollbar"),A.part.add("scrollbar"),r.el.appendChild(A)),A&&(U.scrollbar.el=A),te.init(),te.updateSize(),te.setTranslate()),_e&&(r.isElement&&((!R||typeof R=="string")&&(R=document.createElement("div"),R.classList.add("swiper-button-next"),setInnerHTML(R,r.navigation.arrowSvg),R.part.add("button-next"),r.el.appendChild(R)),(!T||typeof T=="string")&&(T=document.createElement("div"),T.classList.add("swiper-button-prev"),setInnerHTML(T,r.navigation.arrowSvg),T.part.add("button-prev"),r.el.appendChild(T))),R&&(U.navigation.nextEl=R),T&&(U.navigation.prevEl=T),J.init(),J.update()),b.includes("allowSlideNext")&&(r.allowSlideNext=y.allowSlideNext),b.includes("allowSlidePrev")&&(r.allowSlidePrev=y.allowSlidePrev),b.includes("direction")&&r.changeDirection(y.direction,!1),(xe||Ue)&&r.loopDestroy(),(Le||Ue)&&r.loopCreate(),r.update()}function getParams(r={},x=!0){const y={on:{}},b={},R={};extend(y,defaults$1),y._emitClasses=!0,y.init=!1;const T={},A=paramsList.map(B=>B.replace(/_/,"")),O=Object.assign({},r);return Object.keys(O).forEach(B=>{typeof r[B]>"u"||(A.indexOf(B)>=0?isObject$2(r[B])?(y[B]={},R[B]={},extend(y[B],r[B]),extend(R[B],r[B])):(y[B]=r[B],R[B]=r[B]):B.search(/on[A-Z]/)===0&&typeof r[B]=="function"?x?b[`${B[2].toLowerCase()}${B.substr(3)}`]=r[B]:y.on[`${B[2].toLowerCase()}${B.substr(3)}`]=r[B]:T[B]=r[B])}),["navigation","pagination","scrollbar"].forEach(B=>{y[B]===!0&&(y[B]={}),y[B]===!1&&delete y[B]}),{params:y,passedParams:R,rest:T,events:b}}function mountSwiper({el:r,nextEl:x,prevEl:y,paginationEl:b,scrollbarEl:R,swiper:T},A){needsNavigation(A)&&x&&y&&(T.params.navigation.nextEl=x,T.originalParams.navigation.nextEl=x,T.params.navigation.prevEl=y,T.originalParams.navigation.prevEl=y),needsPagination(A)&&b&&(T.params.pagination.el=b,T.originalParams.pagination.el=b),needsScrollbar(A)&&R&&(T.params.scrollbar.el=R,T.originalParams.scrollbar.el=R),T.init(r)}function getChangedParams(r,x,y,b,R){const T=[];if(!x)return T;const A=B=>{T.indexOf(B)<0&&T.push(B)};if(y&&b){const B=b.map(R),U=y.map(R);B.join("")!==U.join("")&&A("children"),b.length!==y.length&&A("children")}return paramsList.filter(B=>B[0]==="_").map(B=>B.replace(/_/,"")).forEach(B=>{if(B in r&&B in x)if(isObject$2(r[B])&&isObject$2(x[B])){const U=Object.keys(r[B]),K=Object.keys(x[B]);U.length!==K.length?A(B):(U.forEach(J=>{r[B][J]!==x[B][J]&&A(B)}),K.forEach(J=>{r[B][J]!==x[B][J]&&A(B)}))}else r[B]!==x[B]&&A(B)}),T}const updateOnVirtualData=r=>{!r||r.destroyed||!r.params.virtual||r.params.virtual&&!r.params.virtual.enabled||(r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),r.emit("_virtualUpdated"),r.parallax&&r.params.parallax&&r.params.parallax.enabled&&r.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(r[b]=y[b])}return r},_extends.apply(this,arguments)}function isChildSwiperSlide(r){return r.type&&r.type.displayName&&r.type.displayName.includes("SwiperSlide")}function processChildren(r){const x=[];return React.Children.toArray(r).forEach(y=>{isChildSwiperSlide(y)?x.push(y):y.props&&y.props.children&&processChildren(y.props.children).forEach(b=>x.push(b))}),x}function getChildren(r){const x=[],y={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(r).forEach(b=>{if(isChildSwiperSlide(b))x.push(b);else if(b.props&&b.props.slot&&y[b.props.slot])y[b.props.slot].push(b);else if(b.props&&b.props.children){const R=processChildren(b.props.children);R.length>0?R.forEach(T=>x.push(T)):y["container-end"].push(b)}else y["container-end"].push(b)}),{slides:x,slots:y}}function renderVirtual(r,x,y){if(!y)return null;const b=K=>{let J=K;return K<0?J=x.length+K:J>=x.length&&(J=J-x.length),J},R=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:`${y.offset}px`}:{top:`${y.offset}px`},{from:T,to:A}=y,O=r.params.loop?-x.length:0,B=r.params.loop?x.length*2:x.length,U=[];for(let K=O;K<B;K+=1)K>=T&&K<=A&&U.push(x[b(K)]);return U.map((K,J)=>React.cloneElement(K,{swiper:r,style:R,key:K.props.virtualIndex||K.key||`slide-${J}`}))}function useIsomorphicLayoutEffect$1(r,x){return typeof window>"u"?reactExports$1.useEffect(r,x):reactExports$1.useLayoutEffect(r,x)}const SwiperSlideContext=reactExports$1.createContext(null),SwiperContext=reactExports$1.createContext(null),Swiper=reactExports$1.forwardRef(({className:r,tag:x="div",wrapperTag:y="div",children:b,onSwiper:R,...T}={},A)=>{let O=!1;const[B,U]=reactExports$1.useState("swiper"),[K,J]=reactExports$1.useState(null),[te,ae]=reactExports$1.useState(!1),ue=reactExports$1.useRef(!1),pe=reactExports$1.useRef(null),$e=reactExports$1.useRef(null),Ne=reactExports$1.useRef(null),Be=reactExports$1.useRef(null),_e=reactExports$1.useRef(null),xe=reactExports$1.useRef(null),Le=reactExports$1.useRef(null),Ue=reactExports$1.useRef(null),{params:He,passedParams:qe,rest:Qe,events:lt}=getParams(T),{slides:ct,slots:ot}=getChildren(b),pt=()=>{ae(!te)};Object.assign(He.on,{_containerClasses(We,Ze){U(Ze)}});const yt=()=>{Object.assign(He.on,lt),O=!0;const We={...He};if(delete We.wrapperClass,$e.current=new Swiper$1(We),$e.current.virtual&&$e.current.params.virtual.enabled){$e.current.virtual.slides=ct;const Ze={cache:!1,slides:ct,renderExternal:J,renderExternalUpdate:!1};extend($e.current.params.virtual,Ze),extend($e.current.originalParams.virtual,Ze)}};pe.current||yt(),$e.current&&$e.current.on("_beforeBreakpoint",pt);const it=()=>{O||!lt||!$e.current||Object.keys(lt).forEach(We=>{$e.current.on(We,lt[We])})},Ke=()=>{!lt||!$e.current||Object.keys(lt).forEach(We=>{$e.current.off(We,lt[We])})};reactExports$1.useEffect(()=>()=>{$e.current&&$e.current.off("_beforeBreakpoint",pt)}),reactExports$1.useEffect(()=>{!ue.current&&$e.current&&($e.current.emitSlidesClasses(),ue.current=!0)}),useIsomorphicLayoutEffect$1(()=>{if(A&&(A.current=pe.current),!!pe.current)return $e.current.destroyed&&yt(),mountSwiper({el:pe.current,nextEl:_e.current,prevEl:xe.current,paginationEl:Le.current,scrollbarEl:Ue.current,swiper:$e.current},He),R&&!$e.current.destroyed&&R($e.current),()=>{$e.current&&!$e.current.destroyed&&$e.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$1(()=>{it();const We=getChangedParams(qe,Ne.current,ct,Be.current,Ze=>Ze.key);return Ne.current=qe,Be.current=ct,We.length&&$e.current&&!$e.current.destroyed&&updateSwiper({swiper:$e.current,slides:ct,passedParams:qe,changedParams:We,nextEl:_e.current,prevEl:xe.current,scrollbarEl:Ue.current,paginationEl:Le.current}),()=>{Ke()}}),useIsomorphicLayoutEffect$1(()=>{updateOnVirtualData($e.current)},[K]);function Je(){return He.virtual?renderVirtual($e.current,ct,K):ct.map((We,Ze)=>React.cloneElement(We,{swiper:$e.current,swiperSlideIndex:Ze}))}return React.createElement(x,_extends({ref:pe,className:uniqueClasses(`${B}${r?` ${r}`:""}`)},Qe),React.createElement(SwiperContext.Provider,{value:$e.current},ot["container-start"],React.createElement(y,{className:wrapperClass(He.wrapperClass)},ot["wrapper-start"],Je(),ot["wrapper-end"]),needsNavigation(He)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:xe,className:"swiper-button-prev"}),React.createElement("div",{ref:_e,className:"swiper-button-next"})),needsScrollbar(He)&&React.createElement("div",{ref:Ue,className:"swiper-scrollbar"}),needsPagination(He)&&React.createElement("div",{ref:Le,className:"swiper-pagination"}),ot["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports$1.forwardRef(({tag:r="div",children:x,className:y="",swiper:b,zoom:R,lazy:T,virtualIndex:A,swiperSlideIndex:O,...B}={},U)=>{const K=reactExports$1.useRef(null),[J,te]=reactExports$1.useState("swiper-slide"),[ae,ue]=reactExports$1.useState(!1);function pe(_e,xe,Le){xe===K.current&&te(Le)}useIsomorphicLayoutEffect$1(()=>{if(typeof O<"u"&&(K.current.swiperSlideIndex=O),U&&(U.current=K.current),!(!K.current||!b)){if(b.destroyed){J!=="swiper-slide"&&te("swiper-slide");return}return b.on("_slideClass",pe),()=>{b&&b.off("_slideClass",pe)}}}),useIsomorphicLayoutEffect$1(()=>{b&&K.current&&!b.destroyed&&te(b.getSlideClasses(K.current))},[b]);const $e={isActive:J.indexOf("swiper-slide-active")>=0,isVisible:J.indexOf("swiper-slide-visible")>=0,isPrev:J.indexOf("swiper-slide-prev")>=0,isNext:J.indexOf("swiper-slide-next")>=0},Ne=()=>typeof x=="function"?x($e):x,Be=()=>{ue(!0)};return React.createElement(r,_extends({ref:K,className:uniqueClasses(`${J}${y?` ${y}`:""}`),"data-swiper-slide-index":A,onLoad:Be},B),R&&React.createElement(SwiperSlideContext.Provider,{value:$e},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof R=="number"?R:void 0},Ne(),T&&!ae&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!R&&React.createElement(SwiperSlideContext.Provider,{value:$e},Ne(),T&&!ae&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(r,x,y,b){return r.params.createElements&&Object.keys(b).forEach(R=>{if(!y[R]&&y.auto===!0){let T=elementChildren(r.el,`.${b[R]}`)[0];T||(T=createElement("div",b[R]),T.className=b[R],r.el.append(T)),y[R]=T,x[R]=T}}),y}const arrowSvg='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Navigation({swiper:r,extendParams:x,on:y,emit:b}){x({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null,arrowSvg};function R(ae){let ue;return ae&&typeof ae=="string"&&r.isElement&&(ue=r.el.querySelector(ae)||r.hostEl.querySelector(ae),ue)?ue:(ae&&(typeof ae=="string"&&(ue=[...document.querySelectorAll(ae)]),r.params.uniqueNavElements&&typeof ae=="string"&&ue&&ue.length>1&&r.el.querySelectorAll(ae).length===1?ue=r.el.querySelector(ae):ue&&ue.length===1&&(ue=ue[0])),ae&&!ue?ae:ue)}function T(ae,ue){const pe=r.params.navigation;ae=makeElementsArray(ae),ae.forEach($e=>{$e&&($e.classList[ue?"add":"remove"](...pe.disabledClass.split(" ")),$e.tagName==="BUTTON"&&($e.disabled=ue),r.params.watchOverflow&&r.enabled&&$e.classList[r.isLocked?"add":"remove"](pe.lockClass))})}function A(){const{nextEl:ae,prevEl:ue}=r.navigation;if(r.params.loop){T(ue,!1),T(ae,!1);return}T(ue,r.isBeginning&&!r.params.rewind),T(ae,r.isEnd&&!r.params.rewind)}function O(ae){ae.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),b("navigationPrev"))}function B(ae){ae.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),b("navigationNext"))}function U(){const ae=r.params.navigation;if(r.params.navigation=createElementIfNotDefined(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(ae.nextEl||ae.prevEl))return;let ue=R(ae.nextEl),pe=R(ae.prevEl);Object.assign(r.navigation,{nextEl:ue,prevEl:pe}),ue=makeElementsArray(ue),pe=makeElementsArray(pe);const $e=(Ne,Be)=>{if(Ne){if(ae.addIcons&&Ne.matches(".swiper-button-next,.swiper-button-prev")&&!Ne.querySelector("svg")){const _e=document.createElement("div");setInnerHTML(_e,arrowSvg),Ne.appendChild(_e.querySelector("svg")),_e.remove()}Ne.addEventListener("click",Be==="next"?B:O)}!r.enabled&&Ne&&Ne.classList.add(...ae.lockClass.split(" "))};ue.forEach(Ne=>$e(Ne,"next")),pe.forEach(Ne=>$e(Ne,"prev"))}function K(){let{nextEl:ae,prevEl:ue}=r.navigation;ae=makeElementsArray(ae),ue=makeElementsArray(ue);const pe=($e,Ne)=>{$e.removeEventListener("click",Ne==="next"?B:O),$e.classList.remove(...r.params.navigation.disabledClass.split(" "))};ae.forEach($e=>pe($e,"next")),ue.forEach($e=>pe($e,"prev"))}y("init",()=>{r.params.navigation.enabled===!1?te():(U(),A())}),y("toEdge fromEdge lock unlock",()=>{A()}),y("destroy",()=>{K()}),y("enable disable",()=>{let{nextEl:ae,prevEl:ue}=r.navigation;if(ae=makeElementsArray(ae),ue=makeElementsArray(ue),r.enabled){A();return}[...ae,...ue].filter(pe=>!!pe).forEach(pe=>pe.classList.add(r.params.navigation.lockClass))}),y("click",(ae,ue)=>{let{nextEl:pe,prevEl:$e}=r.navigation;pe=makeElementsArray(pe),$e=makeElementsArray($e);const Ne=ue.target;let Be=$e.includes(Ne)||pe.includes(Ne);if(r.isElement&&!Be){const _e=ue.path||ue.composedPath&&ue.composedPath();_e&&(Be=_e.find(xe=>pe.includes(xe)||$e.includes(xe)))}if(r.params.navigation.hideOnClick&&!Be){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===Ne||r.pagination.el.contains(Ne)))return;let _e;pe.length?_e=pe[0].classList.contains(r.params.navigation.hiddenClass):$e.length&&(_e=$e[0].classList.contains(r.params.navigation.hiddenClass)),b(_e===!0?"navigationShow":"navigationHide"),[...pe,...$e].filter(xe=>!!xe).forEach(xe=>xe.classList.toggle(r.params.navigation.hiddenClass))}});const J=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),U(),A()},te=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),K()};Object.assign(r.navigation,{enable:J,disable:te,update:A,init:U,destroy:K})}const carouselWrapper="_carouselWrapper_olv4s_1",carouselHeader="_carouselHeader_olv4s_13",carouselTitle="_carouselTitle_olv4s_29",moreButton="_moreButton_olv4s_41",carouselViewport="_carouselViewport_olv4s_79",carouselSlide="_carouselSlide_olv4s_89",slideCard="_slideCard_olv4s_113",carouselImage="_carouselImage_olv4s_135",cardText="_cardText_olv4s_149",prevButton="_prevButton_olv4s_203",nextButton="_nextButton_olv4s_205",emptyBox$1="_emptyBox_olv4s_235",styles$1y={carouselWrapper,carouselHeader,carouselTitle,moreButton,carouselViewport,carouselSlide,slideCard,carouselImage,cardText,prevButton,nextButton,emptyBox:emptyBox$1};function SwipeCarousel({title:r,category:x,value:y}){const[b,R]=reactExports$1.useState([]),T=reactExports$1.useRef(null),A=reactExports$1.useRef(null),O=reactExports$1.useRef(null);return reactExports$1.useEffect(()=>{var B;O.current&&T.current&&A.current&&((B=O.current.params)!=null&&B.navigation)&&(O.current.params.navigation.prevEl=T.current,O.current.params.navigation.nextEl=A.current,O.current.navigation.destroy(),O.current.navigation.init(),O.current.navigation.update())},[]),reactExports$1.useEffect(()=>{(async()=>{try{const K=(await instance.get("/api/exhibitions",{params:{status:"exhibited",[x]:y}})).data.map(({id:J,exhibition_poster:te,exhibition_title:ae,exhibition_category:ue,exhibition_status:pe,exhibition_start_date:$e,exhibition_end_date:Ne,exhibition_organization:Be})=>({id:J,image:te,title:ae,category:ue,status:pe,startDate:$e,endDate:Ne,organization:Be}));R(K)}catch(U){console.error("     :",U)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1y.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1y.carouselHeader,children:[jsxRuntimeExports.jsx("h2",{className:styles$1y.carouselTitle,children:r}),jsxRuntimeExports.jsx(Link$1,{to:"/exhibitions",className:styles$1y.moreButton,children:""})]}),b.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onSwiper:B=>O.current=B,slidesPerView:"auto",centeredSlides:!0,loop:b.length>2,spaceBetween:20,navigation:{prevEl:T.current,nextEl:A.current},className:styles$1y.carouselViewport,children:b.map(B=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1y.carouselSlide,children:jsxRuntimeExports.jsxs(Link$1,{to:`/exhibitions/${B.id}`,className:styles$1y.slideCard,children:[jsxRuntimeExports.jsx("img",{src:B.image,alt:B.title,className:styles$1y.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1y.cardText,children:[jsxRuntimeExports.jsxs("h3",{children:["",B.title,""]}),jsxRuntimeExports.jsx("p",{children:B.organization.name}),jsxRuntimeExports.jsxs("p",{children:[B.startDate," ~ ",B.endDate]})]})]})},B.id))}):jsxRuntimeExports.jsx("div",{className:styles$1y.emptyBox,children:"  ."}),jsxRuntimeExports.jsx("button",{ref:T,className:styles$1y.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:A,className:styles$1y.nextButton,children:""})]})}const mobileMain="_mobileMain_19b3g_1",carousel="_carousel_19b3g_19",slider="_slider_19b3g_33",slide="_slide_19b3g_33",slideImage="_slideImage_19b3g_77",tagline="_tagline_19b3g_93",contentContainer$7="_contentContainer_19b3g_117",userText="_userText_19b3g_125",itemContainer="_itemContainer_19b3g_145",itemBox="_itemBox_19b3g_177",nonGalleryBox="_nonGalleryBox_19b3g_211",exhibitionList$1="_exhibitionList_19b3g_249",galleryItemCard="_galleryItemCard_19b3g_263",galleryTitle$4="_galleryTitle_19b3g_291",exhibitionSpan="_exhibitionSpan_19b3g_315",addressText="_addressText_19b3g_329",imageBox$1="_imageBox_19b3g_343",statusBadge$1="_statusBadge_19b3g_353",ongoing$1="_ongoing_19b3g_389",exhibitionImage$2="_exhibitionImage_19b3g_397",styles$1x={mobileMain,carousel,slider,slide,slideImage,tagline,contentContainer:contentContainer$7,userText,itemContainer,itemBox,nonGalleryBox,exhibitionList:exhibitionList$1,galleryItemCard,galleryTitle:galleryTitle$4,exhibitionSpan,addressText,imageBox:imageBox$1,statusBadge:statusBadge$1,ongoing:ongoing$1,exhibitionImage:exhibitionImage$2};function FaInstagram(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function FaYoutube(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function FaCalendarCheck(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(r)}function FaChevronRight(r){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(r)}function FaHeadphones(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(r)}function FaHeart$1(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(r)}function FaLink(r){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(r)}function FaLocationDot(r){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(r)}function FaPhone(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(r)}function FaShare$1(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(r)}function FaStar$1(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(r)}function FaXmark(r){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}const IcDocent=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"31",viewBox:"0 0 40 31",fill:"none",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7315)",children:[jsxRuntimeExports.jsx("path",{d:"M8.49088 28.1266L6.79921 28.0436C3.74782 28.0436 1.27734 25.4071 1.27734 22.1579V21.5195C1.27734 18.2702 3.74782 15.6338 6.79921 15.6338L8.49088 15.5508C9.35267 15.5508 10.0549 16.2402 10.0549 17.0956V26.5881C10.0549 27.4435 9.35905 28.133 8.49088 28.133V28.1266Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M10.5892 13.4258H10.3222C9.73218 13.4258 9.25391 13.9745 9.25391 14.6514V29.0211C9.25391 29.698 9.73218 30.2467 10.3222 30.2467H10.5892C11.1792 30.2467 11.6575 29.698 11.6575 29.0211V14.6514C11.6575 13.9745 11.1792 13.4258 10.5892 13.4258Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.5034 28.1266L33.1951 28.0436C36.2465 28.0436 38.717 25.4071 38.717 22.1579V21.5195C38.717 18.2702 36.2465 15.6338 33.1951 15.6338L31.5034 15.5508C30.6417 15.5508 29.9395 16.2402 29.9395 17.0956V26.5881C29.9395 27.4435 30.6353 28.133 31.5034 28.133V28.1266Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.5523 13.4258H29.3182C28.8011 13.4258 28.3818 13.9745 28.3818 14.6514V29.0211C28.3818 29.698 28.8011 30.2467 29.3182 30.2467H29.5523C30.0694 30.2467 30.4886 29.698 30.4886 29.0211V14.6514C30.4886 13.9745 30.0694 13.4258 29.5523 13.4258Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M6.25 14.932C6.25 7.3865 12.4038 1.27734 20.0004 1.27734C27.597 1.27734 33.7508 7.3865 33.7508 14.932",stroke:"#555555",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M9.51172 15.1494C9.51172 9.27002 14.2101 4.50781 20.0001 4.50781C25.79 4.50781 30.4884 9.27002 30.4884 15.1494",stroke:"#555555",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M20.0002 23.0073C20.6912 23.0073 21.2514 22.4471 21.2514 21.7561C21.2514 21.0651 20.6912 20.5049 20.0002 20.5049C19.3092 20.5049 18.749 21.0651 18.749 21.7561C18.749 22.4471 19.3092 23.0073 20.0002 23.0073Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M20.0127 26.6843V25.8991C20.0127 25.6182 20.2106 25.382 20.4851 25.3437C20.7916 25.299 21.0916 25.2224 21.3788 25.1012C21.6342 24.9926 21.9342 25.1012 22.0683 25.3437L22.4641 26.0268C22.6364 26.3204 22.5088 26.7035 22.196 26.8375C21.7044 27.0482 21.1873 27.1886 20.6511 27.2524C20.3128 27.2907 20.0064 27.029 20.0064 26.6907L20.0127 26.6843ZM16.7124 26.2055C16.2847 25.8863 15.9017 25.5097 15.5761 25.082C15.3718 24.8075 15.4484 24.4181 15.7421 24.2457L16.4187 23.85C16.6613 23.7095 16.9677 23.7606 17.1401 23.984C17.3316 24.2266 17.555 24.45 17.7976 24.6351C18.021 24.8075 18.0721 25.1139 17.9381 25.3565L17.5487 26.0396C17.3763 26.3332 16.9869 26.4162 16.7124 26.2119V26.2055ZM24.2643 24.2138L23.5812 23.818C23.3386 23.6776 23.2301 23.3839 23.3386 23.1286C23.4599 22.835 23.5365 22.5285 23.5812 22.2157C23.6131 21.9476 23.8429 21.7497 24.1174 21.737L24.909 21.705C25.2537 21.6923 25.5282 21.9859 25.4963 22.3306C25.4708 22.5924 25.4197 22.8796 25.3367 23.1861C25.2601 23.4733 25.1644 23.7287 25.0686 23.9521C24.9345 24.2649 24.5579 24.3862 24.2643 24.2138ZM14.5036 21.1305C14.5611 20.6007 14.7015 20.0836 14.9058 19.5984C15.0399 19.2856 15.4165 19.1516 15.7165 19.3239L16.3996 19.7133C16.6422 19.8538 16.7507 20.1474 16.6422 20.4028C16.5273 20.6837 16.4507 20.9773 16.4124 21.2837C16.3741 21.5582 16.1379 21.7625 15.8634 21.7625C15.6016 21.7625 15.3399 21.7625 15.0782 21.7689C14.7335 21.7689 14.4653 21.4689 14.5036 21.1305ZM22.8343 19.5218C22.6428 19.2793 22.4194 19.0622 22.1704 18.8707C21.947 18.7047 21.8895 18.3919 22.03 18.1494L22.4194 17.4663C22.5854 17.1663 22.9811 17.0897 23.2556 17.2876C23.6897 17.6004 24.0728 17.977 24.3983 18.4047C24.6026 18.6792 24.5324 19.0686 24.2387 19.2473L23.5621 19.6495C23.3195 19.79 23.0131 19.7389 22.8407 19.5218H22.8343ZM17.8998 18.1877L17.4976 17.511C17.3252 17.2173 17.4465 16.8343 17.7657 16.7003C18.2572 16.4832 18.7743 16.3428 19.3042 16.2726C19.6425 16.2279 19.9489 16.4896 19.9489 16.8343V17.6195C19.9617 17.9004 19.7574 18.143 19.4829 18.1813C19.1765 18.226 18.8765 18.3089 18.5892 18.4302C18.3338 18.5388 18.0338 18.4302 17.8934 18.194L17.8998 18.1877Z",fill:"#555555"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7315",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"30.2458",fill:"white"})})})]}),IcBook=()=>jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M34.8147 9.71498V35.8671C34.8147 37.2268 33.429 38.3275 31.7132 38.3275H17.3066C15.5907 38.3275 14.2051 37.2268 14.2051 35.8671V9.71498C14.2051 9.00274 14.5871 8.35525 15.2022 7.90849C15.7591 7.50057 16.4907 7.24805 17.3066 7.24805H31.7132C33.429 7.24805 34.8147 8.35525 34.8147 9.71498Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M25.7951 4.0298V6.42551L17.2871 6.52263C16.4713 6.52263 15.7332 6.77515 15.1828 7.18307C14.5677 7.62984 14.1857 8.27733 14.1857 8.98957V32.746L8.28702 32.6488C6.57117 32.6488 5.18555 31.5481 5.18555 30.1819V4.0298C5.18555 2.67007 6.57117 1.56934 8.28702 1.56934H22.6872C24.403 1.56934 25.7951 2.67007 25.7951 4.0298Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M14.7559 7.53373L23.2768 1.51855",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip1_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M19.3828 11.9541H17.9862C17.5947 11.9541 17.2773 12.2715 17.2773 12.6629V14.0595C17.2773 14.451 17.5947 14.7683 17.9862 14.7683H19.3828C19.7742 14.7683 20.0916 14.451 20.0916 14.0595V12.6629C20.0916 12.2715 19.7742 11.9541 19.3828 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 11.9541H23.8114C23.4199 11.9541 23.1025 12.2715 23.1025 12.6629V14.0595C23.1025 14.451 23.4199 14.7683 23.8114 14.7683H25.208C25.5994 14.7683 25.9168 14.451 25.9168 14.0595V12.6629C25.9168 12.2715 25.5994 11.9541 25.208 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 11.9541H29.6356C29.2441 11.9541 28.9268 12.2715 28.9268 12.6629V14.0595C28.9268 14.451 29.2441 14.7683 29.6356 14.7683H31.0322C31.4236 14.7683 31.741 14.451 31.741 14.0595V12.6629C31.741 12.2715 31.4236 11.9541 31.0322 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 16.6289H17.9862C17.5947 16.6289 17.2773 16.9463 17.2773 17.3377V18.7343C17.2773 19.1258 17.5947 19.4431 17.9862 19.4431H19.3828C19.7742 19.4431 20.0916 19.1258 20.0916 18.7343V17.3377C20.0916 16.9463 19.7742 16.6289 19.3828 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 16.6289H23.8114C23.4199 16.6289 23.1025 16.9463 23.1025 17.3377V18.7343C23.1025 19.1258 23.4199 19.4431 23.8114 19.4431H25.208C25.5994 19.4431 25.9168 19.1258 25.9168 18.7343V17.3377C25.9168 16.9463 25.5994 16.6289 25.208 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 16.6289H29.6356C29.2441 16.6289 28.9268 16.9463 28.9268 17.3377V18.7343C28.9268 19.1258 29.2441 19.4431 29.6356 19.4431H31.0322C31.4236 19.4431 31.741 19.1258 31.741 18.7343V17.3377C31.741 16.9463 31.4236 16.6289 31.0322 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 21.3018H17.9862C17.5947 21.3018 17.2773 21.6191 17.2773 22.0106V23.4072C17.2773 23.7986 17.5947 24.116 17.9862 24.116H19.3828C19.7742 24.116 20.0916 23.7986 20.0916 23.4072V22.0106C20.0916 21.6191 19.7742 21.3018 19.3828 21.3018Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 21.3018H23.8114C23.4199 21.3018 23.1025 21.6191 23.1025 22.0106V23.4072C23.1025 23.7986 23.4199 24.116 23.8114 24.116H25.208C25.5994 24.116 25.9168 23.7986 25.9168 23.4072V22.0106C25.9168 21.6191 25.5994 21.3018 25.208 21.3018Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 21.3018H29.6356C29.2441 21.3018 28.9268 21.6191 28.9268 22.0106V23.4072C28.9268 23.7986 29.2441 24.116 29.6356 24.116H31.0322C31.4236 24.116 31.741 23.7986 31.741 23.4072V22.0106C31.741 21.6191 31.4236 21.3018 31.0322 21.3018Z",fill:"#555555"})]})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"39.8458",fill:"white"})}),jsxRuntimeExports.jsx("clipPath",{id:"clip1_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"14.4642",height:"12.1623",fill:"white",transform:"translate(17.2773 11.9541)"})})]})]}),IcFindGallery=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"36",viewBox:"0 0 39 36",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M33.5268 34.2223H5.24267C3.12862 34.2223 1.41895 32.5127 1.41895 30.3986V15.1037C1.41895 13.7559 2.12836 12.5073 3.29179 11.8192L17.5084 1.95837C18.7215 1.24187 20.2254 1.24187 21.4314 1.96546L35.4919 11.8192C36.6412 12.5073 37.3435 13.7559 37.3435 15.0966V30.3986C37.3435 32.5127 35.6338 34.2223 33.5198 34.2223H33.5268Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M8.8457 33.9734V18.5295C8.8457 18.0755 9.07271 17.6499 9.4558 17.4016L13.996 14.4575C14.897 13.8687 16.0817 14.5143 16.0817 15.5855V33.5123",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.9157 33.9734V18.5295C29.9157 18.0755 29.6887 17.6499 29.3056 17.4016L24.7654 14.4575C23.8644 13.8687 22.6797 14.5143 22.6797 15.5855V33.5123",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"})]}),SLIDE_INTERVAL=4e3,MAX_SLIDES=3;function MobileMain(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(0),[T,A]=reactExports$1.useState([]),O=useNavigate(),B=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/qrscan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}],U=K=>K==="exhibited"?"":K==="scheduled"?"":"";return reactExports$1.useEffect(()=>{(async()=>{try{const te=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:ae,exhibition_poster:ue,exhibition_title:pe})=>({id:ae,image:ue,title:pe})).slice(0,MAX_SLIDES);y(te||[]),R(0)}catch(J){console.error("     :",J)}})()},[]),reactExports$1.useEffect(()=>{if(x.length<=1)return;const K=setInterval(()=>{R(J=>(J+1)%x.length)},SLIDE_INTERVAL);return()=>clearInterval(K)},[x]),reactExports$1.useEffect(()=>{if(!r){A([]);return}(async()=>{try{const J=await userInstance.get("/api/galleries",{params:{liked_only:1}});A(J.data)}catch(J){console.error(J)}})()},[r]),jsxRuntimeExports.jsxs("div",{className:styles$1x.mobileMain,children:[jsxRuntimeExports.jsx("div",{className:styles$1x.carousel,children:jsxRuntimeExports.jsx("div",{className:styles$1x.slider,style:{transform:`translateX(-${b*100}%)`},children:x.map(K=>jsxRuntimeExports.jsx("div",{className:styles$1x.slide,onClick:()=>O(`/exhibitions/${K==null?void 0:K.id}`),children:jsxRuntimeExports.jsx("img",{src:K==null?void 0:K.image,alt:K==null?void 0:K.title,className:styles$1x.slideImage})},K==null?void 0:K.id))})}),jsxRuntimeExports.jsxs("div",{className:styles$1x.tagline,children:["    ",jsxRuntimeExports.jsx("br",{})," , ARTLY"]}),jsxRuntimeExports.jsxs("div",{className:styles$1x.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1x.userText,children:r?`${r.user_name}, .`:""}),jsxRuntimeExports.jsx("div",{className:styles$1x.itemContainer,children:B.map(({key:K,icon:J,label:te,link:ae})=>jsxRuntimeExports.jsxs("div",{className:styles$1x.itemBox,onClick:()=>{K==="book"&&localStorage.setItem("showMyCatalogTab","true"),O(ae)},children:[J,te]},K))}),jsxRuntimeExports.jsx("div",{children:!r&&T.length===0?jsxRuntimeExports.jsxs("div",{className:styles$1x.nonGalleryBox,children:["   !",jsxRuntimeExports.jsx("br",{}),"    ."]}):jsxRuntimeExports.jsx("div",{className:styles$1x.exhibitionList,children:T.filter(({exhibitions:K})=>K==null?void 0:K.some(J=>J.exhibition_status==="exhibited")).map(({id:K,gallery_name:J,gallery_address:te,exhibitions:ae})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ae.filter(ue=>ue.exhibition_status==="exhibited").map(({id:ue,exhibition_poster:pe,exhibition_title:$e,exhibition_status:Ne})=>jsxRuntimeExports.jsxs("div",{className:styles$1x.galleryItemCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$1x.galleryTitle,onClick:()=>{O(`/galleries/${K}`)},children:[jsxRuntimeExports.jsxs("div",{children:[J," /"," ",jsxRuntimeExports.jsx("span",{className:styles$1x.exhibitionSpan,children:$e})]}),jsxRuntimeExports.jsx(FaChevronRight,{})]}),jsxRuntimeExports.jsx("div",{className:styles$1x.addressText,children:te}),jsxRuntimeExports.jsxs("div",{className:styles$1x.imageBox,onClick:()=>{O(`/exhibitions/${ue}`)},children:[jsxRuntimeExports.jsx("div",{className:`${styles$1x.statusBadge} ${Ne==="exhibited"&&styles$1x.ongoing}`,children:U(Ne)}),jsxRuntimeExports.jsx("img",{className:styles$1x.exhibitionImage,src:pe,alt:""})]})]},ue))}))})})]})]})}function Main(){const{isMobile:r}=useResponsive();return jsxRuntimeExports.jsx("div",{className:styles$1B.mainLayout,children:r?jsxRuntimeExports.jsx(MobileMain,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MainCarousel,{}),jsxRuntimeExports.jsxs("div",{className:styles$1B.carouselContainer,children:[jsxRuntimeExports.jsx(SwipeCarousel,{title:"   "}),jsxRuntimeExports.jsx(SwipeCarousel,{title:" ",category:"sort",value:"popular"}),jsxRuntimeExports.jsx(ArtistCarousel,{title:"  "})]})]})})}const layout$D="_layout_wmgxj_1",gridContainer$3="_gridContainer_wmgxj_19",nonDataText$3="_nonDataText_wmgxj_31",styles$1w={layout:layout$D,gridContainer:gridContainer$3,nonDataText:nonDataText$3},layout$C="_layout_l5cfi_1",titleContainer$1="_titleContainer_l5cfi_13",listTitle="_listTitle_l5cfi_29",clickedFavButton$1="_clickedFavButton_l5cfi_49",favButton$4="_favButton_l5cfi_51",clickedIcon$1="_clickedIcon_l5cfi_99",searchForm$1="_searchForm_l5cfi_107",searchInput$1="_searchInput_l5cfi_121",formButton="_formButton_l5cfi_149",styles$1v={layout:layout$C,titleContainer:titleContainer$1,listTitle,clickedFavButton:clickedFavButton$1,favButton:favButton$4,clickedIcon:clickedIcon$1,searchForm:searchForm$1,searchInput:searchInput$1,formButton};function FaCheck(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function FaChevronDown(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(r)}function FaChevronUp(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(r)}function FaHeart(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(r)}function FaHome(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function FaPause(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(r)}function FaPlay(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function FaPlus(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function FaSearch(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function FaShare(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(r)}function FaStar(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function FaStop(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function FaTimes(r){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function FaUser(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const IcSearch=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function ListHeader({title:r,isFav:x,onEvent:y,onFav:b,onSearch:R,value:T,isNews:A=!1,isArtworks:O=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1v.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$1v.titleContainer,children:[jsxRuntimeExports.jsx("h1",{className:styles$1v.listTitle,children:r}),!A&&!O&&jsxRuntimeExports.jsxs("button",{className:`${styles$1v.favButton} ${x&&styles$1v.clickedFavButton}`,onClick:b,children:[jsxRuntimeExports.jsx(FaHeart,{className:`${x&&styles$1v.clickedIcon}`}),""]})]}),!O&&jsxRuntimeExports.jsxs("form",{className:styles$1v.searchForm,action:y,children:[jsxRuntimeExports.jsx("input",{className:styles$1v.searchInput,placeholder:"...",onChange:R,value:T}),jsxRuntimeExports.jsx("button",{className:styles$1v.formButton,children:jsxRuntimeExports.jsx(IcSearch,{})})]})]})}const layout$B="_layout_11xsl_1",styles$1u={layout:layout$B},layout$A="_layout_1hm1o_1",clickedLabel="_clickedLabel_1hm1o_11",dropdownButton="_dropdownButton_1hm1o_19",clickedButton="_clickedButton_1hm1o_63",undisplay="_undisplay_1hm1o_85",clickedDropdownList="_clickedDropdownList_1hm1o_93",clickedItem="_clickedItem_1hm1o_129",dropdownItem$1="_dropdownItem_1hm1o_131",rectButton="_rectButton_1hm1o_173",styles$1t={layout:layout$A,clickedLabel,dropdownButton,clickedButton,undisplay,clickedDropdownList,clickedItem,dropdownItem:dropdownItem$1,rectButton};function Dropdown({title:r,dropdownItems:x,isOpen:y,filterKey:b,onOpen:R,onSetFilter:T,shape:A="round",defaultValue:O}){const B=x.find(ae=>ae.value===O)||x[0],[U,K]=reactExports$1.useState(B.label),{isMobile:J}=useResponsive(),te=ae=>{K(ae.label),T(ue=>({...ue,[b]:ae.value})),R()};return jsxRuntimeExports.jsxs("div",{className:styles$1t.layout,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$1t.dropdownButton} ${y&&styles$1t.clickedButton} ${A==="rect"?styles$1t.rectButton:""}`,onClick:R,children:[!J&&`${r} - `,jsxRuntimeExports.jsx("span",{className:`${U!==x[0].label&&styles$1t.clickedLabel}`,children:U})]}),jsxRuntimeExports.jsx("ul",{className:`${y&&styles$1t.clickedDropdownList} ${y&&styles$1t.undisplay}`,children:y&&x.map(ae=>jsxRuntimeExports.jsx("li",{className:`${styles$1t.dropdownItem} ${ae.label===U&&styles$1t.clickedItem}`,onClick:()=>{te(ae)},children:ae.label},ae.label))})]})}function DropdownContainer({labels:r,filterList:x,onSetFilter:y,shape:b="round"}){const[R,T]=reactExports$1.useState(null),A=O=>{T(R===O?null:O)};return jsxRuntimeExports.jsx("div",{className:styles$1u.layout,children:x.map((O,B)=>jsxRuntimeExports.jsx(Dropdown,{title:O.label,dropdownItems:O.options,filterKey:O.key,defaultValue:O.defaultValue,isOpen:B===R,onOpen:()=>{A(B)},onSetFilter:y,shape:b},O.key))})}const exhibitionFilter=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],countParagraph="_countParagraph_1ppwl_1",counts="_counts_1ppwl_11",styles$1s={countParagraph,counts};function TotalCounts({num:r,label:x}){return jsxRuntimeExports.jsxs("p",{className:styles$1s.countParagraph,children:[" ",jsxRuntimeExports.jsx("strong",{className:styles$1s.counts,children:r})," ",x,"  "]})}const paginationContainer="_paginationContainer_7tpp6_1",sideButtonContainer="_sideButtonContainer_7tpp6_11",pageNumbersContainer="_pageNumbersContainer_7tpp6_19",pageButton="_pageButton_7tpp6_33",active$5="_active_7tpp6_57",styles$1r={paginationContainer,sideButtonContainer,pageNumbersContainer,pageButton,active:active$5};function Pagination({currentPage:r,onPageChange:x,totalItems:y,itemsPerPage:b=10}){const R=Math.ceil(y/b),T=getPageNumbers(r,R,5);return jsxRuntimeExports.jsxs("div",{className:styles$1r.paginationContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1r.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>x(r-1),className:styles$1r.pageButton,disabled:r===1,children:"<"})}),jsxRuntimeExports.jsx("div",{className:styles$1r.pageNumbersContainer,children:T.map(A=>jsxRuntimeExports.jsx("button",{onClick:()=>x(A),className:`${styles$1r.pageButton} ${r===A?styles$1r.active:""}`,children:A},A))}),jsxRuntimeExports.jsx("div",{className:styles$1r.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>x(r+1),className:styles$1r.pageButton,disabled:r===R,children:">"})})]})}const getPageNumbers=(r,x,y)=>{const b=Math.floor(y/2);let R=Math.max(r-b,1),T=Math.min(R+y-1,x);return T-R+1<y&&(R=Math.max(T-y+1,1)),Array.from({length:T-R+1},(A,O)=>R+O)},usePagination=(r=10,x)=>{const[y,b]=reactExports$1.useState(1),R=Array.isArray(x)?x:[],T=(y-1)*r,A=R.slice(T,T+r);return{currentPage:y,setCurrentPage:b,pageItems:A}},exhibitionCardLayout="_exhibitionCardLayout_1taub_1",statusContainer$2="_statusContainer_1taub_37",ongoing="_ongoing_1taub_73",imageBox="_imageBox_1taub_81",exhibitionImage$1="_exhibitionImage_1taub_89",favButton$3="_favButton_1taub_105",locButton="_locButton_1taub_127",icon$8="_icon_1taub_151",likedIcon$6="_likedIcon_1taub_161",exhibitionTitle$1="_exhibitionTitle_1taub_183",infoContainer$3="_infoContainer_1taub_201",subParagraph$4="_subParagraph_1taub_209",styles$1q={exhibitionCardLayout,statusContainer:statusContainer$2,ongoing,imageBox,exhibitionImage:exhibitionImage$1,favButton:favButton$3,locButton,icon:icon$8,likedIcon:likedIcon$6,exhibitionTitle:exhibitionTitle$1,infoContainer:infoContainer$3,subParagraph:subParagraph$4},getExhibitionStatus$1=(r,x)=>{const y=new Date,b=new Date(r),R=new Date(x);return y<b?"upcoming":y>R?"ended":"ongoing"},layout$z="_layout_cdrx9_1",container$8="_container_cdrx9_33",header$c="_header_cdrx9_53",map="_map_cdrx9_69",title$k="_title_cdrx9_79",closeButton$8="_closeButton_cdrx9_93",icon$7="_icon_cdrx9_103",infoContainer$2="_infoContainer_cdrx9_117",infoSpan="_infoSpan_cdrx9_133",infoParagraph="_infoParagraph_cdrx9_147",buttonField$4="_buttonField_cdrx9_157",locateButton="_locateButton_cdrx9_173",button$2="_button_cdrx9_157",styles$1p={layout:layout$z,container:container$8,header:header$c,map,title:title$k,closeButton:closeButton$8,icon:icon$7,infoContainer:infoContainer$2,infoSpan,infoParagraph,buttonField:buttonField$4,locateButton,button:button$2},container$7="_container_zry8e_1",infoBox="_infoBox_zry8e_17",styles$1o={container:container$7,infoBox},IcGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",IcFavGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function Marker({title:r,isLike:x=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1o.container,children:[jsxRuntimeExports.jsx("img",{src:x?IcFavGallery:IcGallery}),jsxRuntimeExports.jsx("div",{className:styles$1o.infoBox,children:r})]})}const createMarkerElement=(r,x=!1)=>{const y=document.createElement("div");return ReactDOM$1.createRoot(y).render(jsxRuntimeExports.jsx(Marker,{title:r,isLike:x})),y},useMap=({lat:r,lng:x,id:y,results:b,zoomLevel:R=15,title:T,location:A})=>{const O=reactExports$1.useRef(null),B=useNavigate(),U=reactExports$1.useRef([]);return reactExports$1.useEffect(()=>{var te;const K=document.getElementById(y);if(!((te=window.naver)!=null&&te.maps)||!K||r===null||x===null)return;const J=new naver.maps.Map(K,{center:new naver.maps.LatLng(r,x),zoom:R});if(O.current=J,U.current.forEach(ae=>ae.setMap(null)),U.current=[],T&&A){const ae=createMarkerElement(T,!1);new naver.maps.Marker({position:new naver.maps.LatLng(r,x),map:J,title:T,icon:{content:ae}})}else{const ae=new naver.maps.Marker({position:new naver.maps.LatLng(r,x),map:O.current,title:" "});U.current.push(ae)}return b&&b.length>0&&b.map(({gallery_name:ae,gallery_latitude:ue,gallery_longitude:pe,gallery_address:$e,is_liked:Ne,id:Be})=>{const _e=createMarkerElement(ae,Ne),xe=new naver.maps.LatLng(ue,pe),Le=new naver.maps.Marker({position:xe,map:O.current,title:ae,icon:{content:_e}});naver.maps.Event.addListener(Le,"click",()=>{B(`/galleries/${Be}`)}),U.current.push(Le)}),()=>{const ae=O.current;ae&&ae.getElement()&&ae.destroy(),O.current=null}},[y,r,x,b,B,R,T,A]),O};function MapModal({item:r,onClose:x}){const{id:y,exhibition_title:b,exhibition_location:R,exhibition_start_date:T,exhibition_end_date:A,exhibition_start_time:O,exhibition_end_time:B,exhibition_organization:U,exhibition_price:K}=r,J=[{key:"location",label:"",content:R},{key:"date",label:"",content:`${T} ~ ${A}`},{key:"time",label:"",content:`${O} ~ ${B}`},{key:"closedDay",label:"",content:U.closed_day},{key:"price",label:"",content:K}];return useMap({lat:U.latitude,lng:U.longitude,id:`exhibition-${y}-map`,title:b,location:R}),jsxRuntimeExports.jsx("div",{className:styles$1p.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$1p.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$1p.header,children:[jsxRuntimeExports.jsx("h4",{className:styles$1p.title,children:b}),jsxRuntimeExports.jsx("button",{className:styles$1p.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaXmark,{className:styles$1p.icon})})]}),jsxRuntimeExports.jsx("div",{className:styles$1p.map,id:`exhibition-${y}-map`}),jsxRuntimeExports.jsx("div",{className:styles$1p.infoContainer,children:J.map(({key:te,label:ae,content:ue})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$1p.infoSpan,children:ae}),jsxRuntimeExports.jsx("p",{className:styles$1p.infoParagraph,children:ue})]},te))}),jsxRuntimeExports.jsxs("div",{className:styles$1p.buttonField,children:[jsxRuntimeExports.jsx("button",{className:styles$1p.locateButton,onClick:()=>{alert("  .")},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1p.button,onClick:x,children:""})]})]})})}const IcLocation=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function ExhibitionCard({exhibitionItem:r,onEvent:x}){const{user:y}=useUser(),{id:b,exhibition_title:R,exhibition_category:T,exhibition_poster:A,exhibition_location:O,exhibition_start_date:B,exhibition_end_date:U,is_liked:K}=r,[J,te]=reactExports$1.useState(!1),ae=useNavigate(),ue=getExhibitionStatus$1(B,U),pe=ue==="ongoing"?" ":ue==="upcoming"?" ":" ",$e=()=>{te(_e=>!_e),document.body.style.overflow="hidden"},Ne=()=>{te(_e=>!_e),document.body.style.overflow="unset"},Be=async()=>{!y&&ae("/login");try{K===!0?await userInstance.delete("/api/likes",{data:{liked_id:b,liked_type:"exhibition"}}):await userInstance.post("/api/likes",{liked_id:b,liked_type:"exhibition"}),await x()}catch(_e){console.error(_e)}};return jsxRuntimeExports.jsxs("div",{className:styles$1q.exhibitionCardLayout,children:[J&&jsxRuntimeExports.jsx(MapModal,{item:r,onClose:Ne}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1q.layout,to:`/exhibitions/${b}`,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1q.statusContainer} ${ue==="ongoing"&&styles$1q.ongoing}`,children:pe}),jsxRuntimeExports.jsx("div",{className:styles$1q.imageBox,children:jsxRuntimeExports.jsx("img",{className:styles$1q.exhibitionImage,src:A||"/placeholder.jpg",alt:"  "})}),jsxRuntimeExports.jsx("button",{className:styles$1q.favButton,onClick:_e=>{_e.preventDefault(),_e.stopPropagation(),Be()},children:jsxRuntimeExports.jsx(FaHeart$1,{className:K===!0?styles$1q.likedIcon:styles$1q.icon})}),jsxRuntimeExports.jsx("button",{className:styles$1q.locButton,onClick:_e=>{_e.preventDefault(),_e.stopPropagation(),$e()},children:jsxRuntimeExports.jsx(IcLocation,{})}),jsxRuntimeExports.jsxs("div",{className:styles$1q.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1q.exhibitionTitle,children:R}),jsxRuntimeExports.jsxs("p",{className:styles$1q.subParagraph,children:[T," | ",O||" "]}),jsxRuntimeExports.jsxs("p",{className:styles$1q.subParagraph,children:[B," ~ ",U]})]})]})]})}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(r,x){module.exports=x()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(x){_useWebWorker=!!x},getWebWorker=function(){return _useWebWorker},setLocationHref=function(x){locationHref=x},getLocationHref=function(){return locationHref};function createTag(r){return document.createElement(r)}function extendPrototype(r,x){var y,b=r.length,R;for(y=0;y<b;y+=1){R=r[y].prototype;for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(x.prototype[T]=R[T])}}function getDescriptor(r,x){return Object.getOwnPropertyDescriptor(r,x)}function createProxyFunction(r){function x(){}return x.prototype=r,x}var audioControllerFactory=(function(){function r(x){this.audios=[],this.audioFactory=x,this._volume=1,this._isMuted=!1}return r.prototype={addAudio:function(y){this.audios.push(y)},pause:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].pause()},resume:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].resume()},setRate:function(y){var b,R=this.audios.length;for(b=0;b<R;b+=1)this.audios[b].setRate(y)},createAudio:function(y){return this.audioFactory?this.audioFactory(y):window.Howl?new window.Howl({src:[y]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(y){this.audioFactory=y},setVolume:function(y){this._volume=y,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].volume(this._volume*(this._isMuted?0:1))}},function(){return new r}})(),createTypedArray=(function(){function r(y,b){var R=0,T=[],A;switch(y){case"int16":case"uint8c":A=1;break;default:A=1.1;break}for(R=0;R<b;R+=1)T.push(A);return T}function x(y,b){return y==="float32"?new Float32Array(b):y==="int16"?new Int16Array(b):y==="uint8c"?new Uint8ClampedArray(b):r(y,b)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?x:r})();function createSizedArray(r){return Array.apply(null,{length:r})}function _typeof$6(r){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$6(r)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var r=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],x,y=r.length;for(x=0;x<y;x+=1)BMMath[r[x]]=Math[r[x]]})(),BMMath.random=Math.random,BMMath.abs=function(r){var x=_typeof$6(r);if(x==="object"&&r.length){var y=createSizedArray(r.length),b,R=r.length;for(b=0;b<R;b+=1)y[b]=Math.abs(r[b]);return y}return Math.abs(r)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(r){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.display="block",r.style.transformOrigin="0 0",r.style.webkitTransformOrigin="0 0",r.style.backfaceVisibility="visible",r.style.webkitBackfaceVisibility="visible",r.style.transformStyle="preserve-3d",r.style.webkitTransformStyle="preserve-3d",r.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(r,x,y,b){this.type=r,this.currentTime=x,this.totalTime=y,this.direction=b<0?-1:1}function BMCompleteEvent(r,x){this.type=r,this.direction=x<0?-1:1}function BMCompleteLoopEvent(r,x,y,b){this.type=r,this.currentLoop=y,this.totalLoops=x,this.direction=b<0?-1:1}function BMSegmentStartEvent(r,x,y){this.type=r,this.firstFrame=x,this.totalFrames=y}function BMDestroyEvent(r,x){this.type=r,this.target=x}function BMRenderFrameErrorEvent(r,x){this.type="renderFrameError",this.nativeError=r,this.currentTime=x}function BMConfigErrorEvent(r){this.type="configError",this.nativeError=r}var createElementID=(function(){var r=0;return function(){return r+=1,idPrefix$1+"__lottie_element_"+r}})();function HSVtoRGB(r,x,y){var b,R,T,A,O,B,U,K;switch(A=Math.floor(r*6),O=r*6-A,B=y*(1-x),U=y*(1-O*x),K=y*(1-(1-O)*x),A%6){case 0:b=y,R=K,T=B;break;case 1:b=U,R=y,T=B;break;case 2:b=B,R=y,T=K;break;case 3:b=B,R=U,T=y;break;case 4:b=K,R=B,T=y;break;case 5:b=y,R=B,T=U;break}return[b,R,T]}function RGBtoHSV(r,x,y){var b=Math.max(r,x,y),R=Math.min(r,x,y),T=b-R,A,O=b===0?0:T/b,B=b/255;switch(b){case R:A=0;break;case r:A=x-y+T*(x<y?6:0),A/=6*T;break;case x:A=y-r+T*2,A/=6*T;break;case y:A=r-x+T*4,A/=6*T;break}return[A,O,B]}function addSaturationToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[1]+=x,y[1]>1?y[1]=1:y[1]<=0&&(y[1]=0),HSVtoRGB(y[0],y[1],y[2])}function addBrightnessToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[2]+=x,y[2]>1?y[2]=1:y[2]<0&&(y[2]=0),HSVtoRGB(y[0],y[1],y[2])}function addHueToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[0]+=x/360,y[0]>1?y[0]-=1:y[0]<0&&(y[0]+=1),HSVtoRGB(y[0],y[1],y[2])}var rgbToHex=(function(){var r=[],x,y;for(x=0;x<256;x+=1)y=x.toString(16),r[x]=y.length===1?"0"+y:y;return function(b,R,T){return b<0&&(b=0),R<0&&(R=0),T<0&&(T=0),"#"+r[b]+r[R]+r[T]}})(),setSubframeEnabled=function(x){subframeEnabled=!!x},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(x){expressionsPlugin=x},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(x){expressionsInterfaces=x},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(x){defaultCurveSegments=x},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(x){idPrefix$1=x};function createNS(r){return document.createElementNS(svgNS,r)}function _typeof$5(r){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$5(r)}var dataManager=(function(){var r=1,x=[],y,b,R={onmessage:function(){},postMessage:function(ae){y({data:ae})}},T={postMessage:function(ae){R.onmessage({data:ae})}};function A(te){if(window.Worker&&window.Blob&&getWebWorker()){var ae=new Blob(["var _workerSelf = self; self.onmessage = ",te.toString()],{type:"text/javascript"}),ue=URL.createObjectURL(ae);return new Worker(ue)}return y=te,R}function O(){b||(b=A(function(ae){function ue(){function $e(it,Ke){var Je,We,Ze=it.length,dt,et,ft,Et;for(We=0;We<Ze;We+=1)if(Je=it[We],"ks"in Je&&!Je.completed){if(Je.completed=!0,Je.hasMask){var St=Je.masksProperties;for(et=St.length,dt=0;dt<et;dt+=1)if(St[dt].pt.k.i)Le(St[dt].pt.k);else for(Et=St[dt].pt.k.length,ft=0;ft<Et;ft+=1)St[dt].pt.k[ft].s&&Le(St[dt].pt.k[ft].s[0]),St[dt].pt.k[ft].e&&Le(St[dt].pt.k[ft].e[0])}Je.ty===0?(Je.layers=_e(Je.refId,Ke),$e(Je.layers,Ke)):Je.ty===4?xe(Je.shapes):Je.ty===5&&pt(Je)}}function Ne(it,Ke){if(it){var Je=0,We=it.length;for(Je=0;Je<We;Je+=1)it[Je].t===1&&(it[Je].data.layers=_e(it[Je].data.refId,Ke),$e(it[Je].data.layers,Ke))}}function Be(it,Ke){for(var Je=0,We=Ke.length;Je<We;){if(Ke[Je].id===it)return Ke[Je];Je+=1}return null}function _e(it,Ke){var Je=Be(it,Ke);return Je?Je.layers.__used?JSON.parse(JSON.stringify(Je.layers)):(Je.layers.__used=!0,Je.layers):null}function xe(it){var Ke,Je=it.length,We,Ze;for(Ke=Je-1;Ke>=0;Ke-=1)if(it[Ke].ty==="sh")if(it[Ke].ks.k.i)Le(it[Ke].ks.k);else for(Ze=it[Ke].ks.k.length,We=0;We<Ze;We+=1)it[Ke].ks.k[We].s&&Le(it[Ke].ks.k[We].s[0]),it[Ke].ks.k[We].e&&Le(it[Ke].ks.k[We].e[0]);else it[Ke].ty==="gr"&&xe(it[Ke].it)}function Le(it){var Ke,Je=it.i.length;for(Ke=0;Ke<Je;Ke+=1)it.i[Ke][0]+=it.v[Ke][0],it.i[Ke][1]+=it.v[Ke][1],it.o[Ke][0]+=it.v[Ke][0],it.o[Ke][1]+=it.v[Ke][1]}function Ue(it,Ke){var Je=Ke?Ke.split("."):[100,100,100];return it[0]>Je[0]?!0:Je[0]>it[0]?!1:it[1]>Je[1]?!0:Je[1]>it[1]?!1:it[2]>Je[2]?!0:Je[2]>it[2]?!1:null}var He=(function(){var it=[4,4,14];function Ke(We){var Ze=We.t.d;We.t.d={k:[{s:Ze,t:0}]}}function Je(We){var Ze,dt=We.length;for(Ze=0;Ze<dt;Ze+=1)We[Ze].ty===5&&Ke(We[Ze])}return function(We){if(Ue(it,We.v)&&(Je(We.layers),We.assets)){var Ze,dt=We.assets.length;for(Ze=0;Ze<dt;Ze+=1)We.assets[Ze].layers&&Je(We.assets[Ze].layers)}}})(),qe=(function(){var it=[4,7,99];return function(Ke){if(Ke.chars&&!Ue(it,Ke.v)){var Je,We=Ke.chars.length;for(Je=0;Je<We;Je+=1){var Ze=Ke.chars[Je];Ze.data&&Ze.data.shapes&&(xe(Ze.data.shapes),Ze.data.ip=0,Ze.data.op=99999,Ze.data.st=0,Ze.data.sr=1,Ze.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ke.chars[Je].t||(Ze.data.shapes.push({ty:"no"}),Ze.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),Qe=(function(){var it=[5,7,15];function Ke(We){var Ze=We.t.p;typeof Ze.a=="number"&&(Ze.a={a:0,k:Ze.a}),typeof Ze.p=="number"&&(Ze.p={a:0,k:Ze.p}),typeof Ze.r=="number"&&(Ze.r={a:0,k:Ze.r})}function Je(We){var Ze,dt=We.length;for(Ze=0;Ze<dt;Ze+=1)We[Ze].ty===5&&Ke(We[Ze])}return function(We){if(Ue(it,We.v)&&(Je(We.layers),We.assets)){var Ze,dt=We.assets.length;for(Ze=0;Ze<dt;Ze+=1)We.assets[Ze].layers&&Je(We.assets[Ze].layers)}}})(),lt=(function(){var it=[4,1,9];function Ke(We){var Ze,dt=We.length,et,ft;for(Ze=0;Ze<dt;Ze+=1)if(We[Ze].ty==="gr")Ke(We[Ze].it);else if(We[Ze].ty==="fl"||We[Ze].ty==="st")if(We[Ze].c.k&&We[Ze].c.k[0].i)for(ft=We[Ze].c.k.length,et=0;et<ft;et+=1)We[Ze].c.k[et].s&&(We[Ze].c.k[et].s[0]/=255,We[Ze].c.k[et].s[1]/=255,We[Ze].c.k[et].s[2]/=255,We[Ze].c.k[et].s[3]/=255),We[Ze].c.k[et].e&&(We[Ze].c.k[et].e[0]/=255,We[Ze].c.k[et].e[1]/=255,We[Ze].c.k[et].e[2]/=255,We[Ze].c.k[et].e[3]/=255);else We[Ze].c.k[0]/=255,We[Ze].c.k[1]/=255,We[Ze].c.k[2]/=255,We[Ze].c.k[3]/=255}function Je(We){var Ze,dt=We.length;for(Ze=0;Ze<dt;Ze+=1)We[Ze].ty===4&&Ke(We[Ze].shapes)}return function(We){if(Ue(it,We.v)&&(Je(We.layers),We.assets)){var Ze,dt=We.assets.length;for(Ze=0;Ze<dt;Ze+=1)We.assets[Ze].layers&&Je(We.assets[Ze].layers)}}})(),ct=(function(){var it=[4,4,18];function Ke(We){var Ze,dt=We.length,et,ft;for(Ze=dt-1;Ze>=0;Ze-=1)if(We[Ze].ty==="sh")if(We[Ze].ks.k.i)We[Ze].ks.k.c=We[Ze].closed;else for(ft=We[Ze].ks.k.length,et=0;et<ft;et+=1)We[Ze].ks.k[et].s&&(We[Ze].ks.k[et].s[0].c=We[Ze].closed),We[Ze].ks.k[et].e&&(We[Ze].ks.k[et].e[0].c=We[Ze].closed);else We[Ze].ty==="gr"&&Ke(We[Ze].it)}function Je(We){var Ze,dt,et=We.length,ft,Et,St,Bt;for(dt=0;dt<et;dt+=1){if(Ze=We[dt],Ze.hasMask){var Rt=Ze.masksProperties;for(Et=Rt.length,ft=0;ft<Et;ft+=1)if(Rt[ft].pt.k.i)Rt[ft].pt.k.c=Rt[ft].cl;else for(Bt=Rt[ft].pt.k.length,St=0;St<Bt;St+=1)Rt[ft].pt.k[St].s&&(Rt[ft].pt.k[St].s[0].c=Rt[ft].cl),Rt[ft].pt.k[St].e&&(Rt[ft].pt.k[St].e[0].c=Rt[ft].cl)}Ze.ty===4&&Ke(Ze.shapes)}}return function(We){if(Ue(it,We.v)&&(Je(We.layers),We.assets)){var Ze,dt=We.assets.length;for(Ze=0;Ze<dt;Ze+=1)We.assets[Ze].layers&&Je(We.assets[Ze].layers)}}})();function ot(it){it.__complete||(lt(it),He(it),qe(it),Qe(it),ct(it),$e(it.layers,it.assets),Ne(it.chars,it.assets),it.__complete=!0)}function pt(it){it.t.a.length===0&&"m"in it.t.p}var yt={};return yt.completeData=ot,yt.checkColors=lt,yt.checkChars=qe,yt.checkPathProperties=Qe,yt.checkShapes=ct,yt.completeLayers=$e,yt}if(T.dataManager||(T.dataManager=ue()),T.assetLoader||(T.assetLoader=(function(){function $e(Be){var _e=Be.getResponseHeader("content-type");return _e&&Be.responseType==="json"&&_e.indexOf("json")!==-1||Be.response&&_typeof$5(Be.response)==="object"?Be.response:Be.response&&typeof Be.response=="string"?JSON.parse(Be.response):Be.responseText?JSON.parse(Be.responseText):null}function Ne(Be,_e,xe,Le){var Ue,He=new XMLHttpRequest;try{He.responseType="json"}catch{}He.onreadystatechange=function(){if(He.readyState===4)if(He.status===200)Ue=$e(He),xe(Ue);else try{Ue=$e(He),xe(Ue)}catch(qe){Le&&Le(qe)}};try{He.open(["G","E","T"].join(""),Be,!0)}catch{He.open(["G","E","T"].join(""),_e+"/"+Be,!0)}He.send()}return{load:Ne}})()),ae.data.type==="loadAnimation")T.assetLoader.load(ae.data.path,ae.data.fullPath,function($e){T.dataManager.completeData($e),T.postMessage({id:ae.data.id,payload:$e,status:"success"})},function(){T.postMessage({id:ae.data.id,status:"error"})});else if(ae.data.type==="complete"){var pe=ae.data.animation;T.dataManager.completeData(pe),T.postMessage({id:ae.data.id,payload:pe,status:"success"})}else ae.data.type==="loadData"&&T.assetLoader.load(ae.data.path,ae.data.fullPath,function($e){T.postMessage({id:ae.data.id,payload:$e,status:"success"})},function(){T.postMessage({id:ae.data.id,status:"error"})})}),b.onmessage=function(te){var ae=te.data,ue=ae.id,pe=x[ue];x[ue]=null,ae.status==="success"?pe.onComplete(ae.payload):pe.onError&&pe.onError()})}function B(te,ae){r+=1;var ue="processId_"+r;return x[ue]={onComplete:te,onError:ae},ue}function U(te,ae,ue){O();var pe=B(ae,ue);b.postMessage({type:"loadAnimation",path:te,fullPath:window.location.origin+window.location.pathname,id:pe})}function K(te,ae,ue){O();var pe=B(ae,ue);b.postMessage({type:"loadData",path:te,fullPath:window.location.origin+window.location.pathname,id:pe})}function J(te,ae,ue){O();var pe=B(ae,ue);b.postMessage({type:"complete",animation:te,id:pe})}return{loadAnimation:U,loadData:K,completeAnimation:J}})(),ImagePreloader=(function(){var r=(function(){var Ne=createTag("canvas");Ne.width=1,Ne.height=1;var Be=Ne.getContext("2d");return Be.fillStyle="rgba(0,0,0,0)",Be.fillRect(0,0,1,1),Ne})();function x(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function y(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function b(Ne,Be,_e){var xe="";if(Ne.e)xe=Ne.p;else if(Be){var Le=Ne.p;Le.indexOf("images/")!==-1&&(Le=Le.split("/")[1]),xe=Be+Le}else xe=_e,xe+=Ne.u?Ne.u:"",xe+=Ne.p;return xe}function R(Ne){var Be=0,_e=setInterval((function(){var xe=Ne.getBBox();(xe.width||Be>500)&&(this._imageLoaded(),clearInterval(_e)),Be+=1}).bind(this),50)}function T(Ne){var Be=b(Ne,this.assetsPath,this.path),_e=createNS("image");isSafari?this.testImageLoaded(_e):_e.addEventListener("load",this._imageLoaded,!1),_e.addEventListener("error",(function(){xe.img=r,this._imageLoaded()}).bind(this),!1),_e.setAttributeNS("http://www.w3.org/1999/xlink","href",Be),this._elementHelper.append?this._elementHelper.append(_e):this._elementHelper.appendChild(_e);var xe={img:_e,assetData:Ne};return xe}function A(Ne){var Be=b(Ne,this.assetsPath,this.path),_e=createTag("img");_e.crossOrigin="anonymous",_e.addEventListener("load",this._imageLoaded,!1),_e.addEventListener("error",(function(){xe.img=r,this._imageLoaded()}).bind(this),!1),_e.src=Be;var xe={img:_e,assetData:Ne};return xe}function O(Ne){var Be={assetData:Ne},_e=b(Ne,this.assetsPath,this.path);return dataManager.loadData(_e,(function(xe){Be.img=xe,this._footageLoaded()}).bind(this),(function(){Be.img={},this._footageLoaded()}).bind(this)),Be}function B(Ne,Be){this.imagesLoadedCb=Be;var _e,xe=Ne.length;for(_e=0;_e<xe;_e+=1)Ne[_e].layers||(!Ne[_e].t||Ne[_e].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ne[_e]))):Ne[_e].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ne[_e]))))}function U(Ne){this.path=Ne||""}function K(Ne){this.assetsPath=Ne||""}function J(Ne){for(var Be=0,_e=this.images.length;Be<_e;){if(this.images[Be].assetData===Ne)return this.images[Be].img;Be+=1}return null}function te(){this.imagesLoadedCb=null,this.images.length=0}function ae(){return this.totalImages===this.loadedAssets}function ue(){return this.totalFootages===this.loadedFootagesCount}function pe(Ne,Be){Ne==="svg"?(this._elementHelper=Be,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function $e(){this._imageLoaded=x.bind(this),this._footageLoaded=y.bind(this),this.testImageLoaded=R.bind(this),this.createFootageData=O.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return $e.prototype={loadAssets:B,setAssetsPath:K,setPath:U,loadedImages:ae,loadedFootages:ue,destroy:te,getAsset:J,createImgData:A,createImageData:T,imageLoaded:x,footageLoaded:y,setCacheType:pe},$e})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(x,y){if(this._cbs[x])for(var b=this._cbs[x],R=0;R<b.length;R+=1)b[R](y)},addEventListener:function(x,y){return this._cbs[x]||(this._cbs[x]=[]),this._cbs[x].push(y),(function(){this.removeEventListener(x,y)}).bind(this)},removeEventListener:function(x,y){if(!y)this._cbs[x]=null;else if(this._cbs[x]){for(var b=0,R=this._cbs[x].length;b<R;)this._cbs[x][b]===y&&(this._cbs[x].splice(b,1),b-=1,R-=1),b+=1;this._cbs[x].length||(this._cbs[x]=null)}}};var markerParser=(function(){function r(x){for(var y=x.split(`\r
`),b={},R,T=0,A=0;A<y.length;A+=1)R=y[A].split(":"),R.length===2&&(b[R[0]]=R[1].trim(),T+=1);if(T===0)throw new Error;return b}return function(x){for(var y=[],b=0;b<x.length;b+=1){var R=x[b],T={time:R.tm,duration:R.dr};try{T.payload=JSON.parse(x[b].cm)}catch{try{T.payload=r(x[b].cm)}catch{T.payload={name:x[b].cm}}}y.push(T)}return y}})(),ProjectInterface=(function(){function r(x){this.compositions.push(x)}return function(){function x(y){for(var b=0,R=this.compositions.length;b<R;){if(this.compositions[b].data&&this.compositions[b].data.nm===y)return this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}return null}return x.compositions=[],x.currentFrame=0,x.registerComposition=r,x}})(),renderers={},registerRenderer=function(x,y){renderers[x]=y};function getRenderer(r){return renderers[r]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var r in renderers)if(renderers[r])return r;return""}function _typeof$4(r){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$4(r)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(r){(r.wrapper||r.container)&&(this.wrapper=r.wrapper||r.container);var x="svg";r.animType?x=r.animType:r.renderer&&(x=r.renderer);var y=getRenderer(x);this.renderer=new y(this,r.rendererSettings),this.imagePreloader.setCacheType(x,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=x,r.loop===""||r.loop===null||r.loop===void 0||r.loop===!0?this.loop=!0:r.loop===!1?this.loop=!1:this.loop=parseInt(r.loop,10),this.autoplay="autoplay"in r?r.autoplay:!0,this.name=r.name?r.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(r,"autoloadSegments")?r.autoloadSegments:!0,this.assetsPath=r.assetsPath,this.initialSegment=r.initialSegment,r.audioFactory&&this.audioController.setAudioFactory(r.audioFactory),r.animationData?this.setupAnimation(r.animationData):r.path&&(r.path.lastIndexOf("\\")!==-1?this.path=r.path.substr(0,r.path.lastIndexOf("\\")+1):this.path=r.path.substr(0,r.path.lastIndexOf("/")+1),this.fileName=r.path.substr(r.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(r.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(r){dataManager.completeAnimation(r,this.configAnimation)},AnimationItem.prototype.setData=function(r,x){x&&_typeof$4(x)!=="object"&&(x=JSON.parse(x));var y={wrapper:r,animationData:x},b=r.attributes;y.path=b.getNamedItem("data-animation-path")?b.getNamedItem("data-animation-path").value:b.getNamedItem("data-bm-path")?b.getNamedItem("data-bm-path").value:b.getNamedItem("bm-path")?b.getNamedItem("bm-path").value:"",y.animType=b.getNamedItem("data-anim-type")?b.getNamedItem("data-anim-type").value:b.getNamedItem("data-bm-type")?b.getNamedItem("data-bm-type").value:b.getNamedItem("bm-type")?b.getNamedItem("bm-type").value:b.getNamedItem("data-bm-renderer")?b.getNamedItem("data-bm-renderer").value:b.getNamedItem("bm-renderer")?b.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var R=b.getNamedItem("data-anim-loop")?b.getNamedItem("data-anim-loop").value:b.getNamedItem("data-bm-loop")?b.getNamedItem("data-bm-loop").value:b.getNamedItem("bm-loop")?b.getNamedItem("bm-loop").value:"";R==="false"?y.loop=!1:R==="true"?y.loop=!0:R!==""&&(y.loop=parseInt(R,10));var T=b.getNamedItem("data-anim-autoplay")?b.getNamedItem("data-anim-autoplay").value:b.getNamedItem("data-bm-autoplay")?b.getNamedItem("data-bm-autoplay").value:b.getNamedItem("bm-autoplay")?b.getNamedItem("bm-autoplay").value:!0;y.autoplay=T!=="false",y.name=b.getNamedItem("data-name")?b.getNamedItem("data-name").value:b.getNamedItem("data-bm-name")?b.getNamedItem("data-bm-name").value:b.getNamedItem("bm-name")?b.getNamedItem("bm-name").value:"";var A=b.getNamedItem("data-anim-prerender")?b.getNamedItem("data-anim-prerender").value:b.getNamedItem("data-bm-prerender")?b.getNamedItem("data-bm-prerender").value:b.getNamedItem("bm-prerender")?b.getNamedItem("bm-prerender").value:"";A==="false"&&(y.prerender=!1),y.path?this.setParams(y):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(r){r.op>this.animationData.op&&(this.animationData.op=r.op,this.totalFrames=Math.floor(r.op-this.animationData.ip));var x=this.animationData.layers,y,b=x.length,R=r.layers,T,A=R.length;for(T=0;T<A;T+=1)for(y=0;y<b;){if(x[y].id===R[T].id){x[y]=R[T];break}y+=1}if((r.chars||r.fonts)&&(this.renderer.globalData.fontManager.addChars(r.chars),this.renderer.globalData.fontManager.addFonts(r.fonts,this.renderer.globalData.defs)),r.assets)for(b=r.assets.length,y=0;y<b;y+=1)this.animationData.assets.push(r.assets[y]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(r){this.animationData=r;var x=getExpressionsPlugin();x&&x.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var r=this.animationData.segments;if(!r||r.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var x=r.shift();this.timeCompleted=x.time*this.frameRate;var y=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(y,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var r=this.animationData.segments;r||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(r){if(this.renderer)try{this.animationData=r,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(r),r.assets||(r.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(r.assets),this.markers=markerParser(r.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(x){this.triggerConfigError(x)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var r=getExpressionsPlugin();r&&r.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(r,x){var y=typeof r=="number"?r:void 0,b=typeof x=="number"?x:void 0;this.renderer.updateContainerSize(y,b)},AnimationItem.prototype.setSubframe=function(r){this.isSubframeEnabled=!!r},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(r){this.triggerRenderFrameError(r)}},AnimationItem.prototype.play=function(r){r&&this.name!==r||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(r){r&&this.name!==r||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(r){r&&this.name!==r||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(r){r&&this.name!==r||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(r){for(var x,y=0;y<this.markers.length;y+=1)if(x=this.markers[y],x.payload&&x.payload.name===r)return x;return null},AnimationItem.prototype.goToAndStop=function(r,x,y){if(!(y&&this.name!==y)){var b=Number(r);if(isNaN(b)){var R=this.getMarkerData(r);R&&this.goToAndStop(R.time,!0)}else x?this.setCurrentRawFrameValue(r):this.setCurrentRawFrameValue(r*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(r,x,y){if(!(y&&this.name!==y)){var b=Number(r);if(isNaN(b)){var R=this.getMarkerData(r);R&&(R.duration?this.playSegments([R.time,R.time+R.duration],!0):this.goToAndStop(R.time,!0))}else this.goToAndStop(b,x,y);this.play()}},AnimationItem.prototype.advanceTime=function(r){if(!(this.isPaused===!0||this.isLoaded===!1)){var x=this.currentRawFrame+r*this.frameModifier,y=!1;x>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(x>this.totalFrames?x%this.totalFrames:0)||(y=!0,x=this.totalFrames-1):x>=this.totalFrames?(this.playCount+=1,this.checkSegments(x%this.totalFrames)||(this.setCurrentRawFrameValue(x%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(x):x<0?this.checkSegments(x%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+x%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(y=!0,x=0)):this.setCurrentRawFrameValue(x),y&&(this.setCurrentRawFrameValue(x),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(r,x){this.playCount=0,r[1]<r[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=r[0]-r[1],this.timeCompleted=this.totalFrames,this.firstFrame=r[1],this.setCurrentRawFrameValue(this.totalFrames-.001-x)):r[1]>r[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=r[1]-r[0],this.timeCompleted=this.totalFrames,this.firstFrame=r[0],this.setCurrentRawFrameValue(.001+x)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(r,x){var y=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<r?y=r:this.currentRawFrame+this.firstFrame>x&&(y=x-r)),this.firstFrame=r,this.totalFrames=x-r,this.timeCompleted=this.totalFrames,y!==-1&&this.goToAndStop(y,!0)},AnimationItem.prototype.playSegments=function(r,x){if(x&&(this.segments.length=0),_typeof$4(r[0])==="object"){var y,b=r.length;for(y=0;y<b;y+=1)this.segments.push(r[y])}else this.segments.push(r);this.segments.length&&x&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(r){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),r&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(r){return this.segments.length?(this.adjustSegment(this.segments.shift(),r),!0):!1},AnimationItem.prototype.destroy=function(r){r&&this.name!==r||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(r){this.currentRawFrame=r,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(r){this.playSpeed=r,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(r){this.playDirection=r<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(r){this.loop=r},AnimationItem.prototype.setVolume=function(r,x){x&&this.name!==x||this.audioController.setVolume(r)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(r){r&&this.name!==r||this.audioController.mute()},AnimationItem.prototype.unmute=function(r){r&&this.name!==r||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(r){var x="";if(r.e)x=r.p;else if(this.assetsPath){var y=r.p;y.indexOf("images/")!==-1&&(y=y.split("/")[1]),x=this.assetsPath+y}else x=this.path,x+=r.u?r.u:"",x+=r.p;return x},AnimationItem.prototype.getAssetData=function(r){for(var x=0,y=this.assets.length;x<y;){if(r===this.assets[x].id)return this.assets[x];x+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(r){return r?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(r,x,y){try{var b=this.renderer.getElementByPath(r);b.updateDocumentData(x,y)}catch{}},AnimationItem.prototype.trigger=function(r){if(this._cbs&&this._cbs[r])switch(r){case"enterFrame":this.triggerEvent(r,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(r,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(r,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(r,new BMCompleteEvent(r,this.frameMult));break;case"segmentStart":this.triggerEvent(r,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(r,new BMDestroyEvent(r,this));break;default:this.triggerEvent(r)}r==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameMult)),r==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult)),r==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(r,this.frameMult)),r==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames)),r==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(r,this))},AnimationItem.prototype.triggerRenderFrameError=function(r){var x=new BMRenderFrameErrorEvent(r,this.currentFrame);this.triggerEvent("error",x),this.onError&&this.onError.call(this,x)},AnimationItem.prototype.triggerConfigError=function(r){var x=new BMConfigErrorEvent(r,this.currentFrame);this.triggerEvent("error",x),this.onError&&this.onError.call(this,x)};var animationManager=(function(){var r={},x=[],y=0,b=0,R=0,T=!0,A=!1;function O(Ke){for(var Je=0,We=Ke.target;Je<b;)x[Je].animation===We&&(x.splice(Je,1),Je-=1,b-=1,We.isPaused||J()),Je+=1}function B(Ke,Je){if(!Ke)return null;for(var We=0;We<b;){if(x[We].elem===Ke&&x[We].elem!==null)return x[We].animation;We+=1}var Ze=new AnimationItem;return te(Ze,Ke),Ze.setData(Ke,Je),Ze}function U(){var Ke,Je=x.length,We=[];for(Ke=0;Ke<Je;Ke+=1)We.push(x[Ke].animation);return We}function K(){R+=1,lt()}function J(){R-=1}function te(Ke,Je){Ke.addEventListener("destroy",O),Ke.addEventListener("_active",K),Ke.addEventListener("_idle",J),x.push({elem:Je,animation:Ke}),b+=1}function ae(Ke){var Je=new AnimationItem;return te(Je,null),Je.setParams(Ke),Je}function ue(Ke,Je){var We;for(We=0;We<b;We+=1)x[We].animation.setSpeed(Ke,Je)}function pe(Ke,Je){var We;for(We=0;We<b;We+=1)x[We].animation.setDirection(Ke,Je)}function $e(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.play(Ke)}function Ne(Ke){var Je=Ke-y,We;for(We=0;We<b;We+=1)x[We].animation.advanceTime(Je);y=Ke,R&&!A?window.requestAnimationFrame(Ne):T=!0}function Be(Ke){y=Ke,window.requestAnimationFrame(Ne)}function _e(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.pause(Ke)}function xe(Ke,Je,We){var Ze;for(Ze=0;Ze<b;Ze+=1)x[Ze].animation.goToAndStop(Ke,Je,We)}function Le(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.stop(Ke)}function Ue(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.togglePause(Ke)}function He(Ke){var Je;for(Je=b-1;Je>=0;Je-=1)x[Je].animation.destroy(Ke)}function qe(Ke,Je,We){var Ze=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),dt,et=Ze.length;for(dt=0;dt<et;dt+=1)We&&Ze[dt].setAttribute("data-bm-type",We),B(Ze[dt],Ke);if(Je&&et===0){We||(We="svg");var ft=document.getElementsByTagName("body")[0];ft.innerText="";var Et=createTag("div");Et.style.width="100%",Et.style.height="100%",Et.setAttribute("data-bm-type",We),ft.appendChild(Et),B(Et,Ke)}}function Qe(){var Ke;for(Ke=0;Ke<b;Ke+=1)x[Ke].animation.resize()}function lt(){!A&&R&&T&&(window.requestAnimationFrame(Be),T=!1)}function ct(){A=!0}function ot(){A=!1,lt()}function pt(Ke,Je){var We;for(We=0;We<b;We+=1)x[We].animation.setVolume(Ke,Je)}function yt(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.mute(Ke)}function it(Ke){var Je;for(Je=0;Je<b;Je+=1)x[Je].animation.unmute(Ke)}return r.registerAnimation=B,r.loadAnimation=ae,r.setSpeed=ue,r.setDirection=pe,r.play=$e,r.pause=_e,r.stop=Le,r.togglePause=Ue,r.searchAnimations=qe,r.resize=Qe,r.goToAndStop=xe,r.destroy=He,r.freeze=ct,r.unfreeze=ot,r.setVolume=pt,r.mute=yt,r.unmute=it,r.getRegisteredAnimations=U,r})(),BezierFactory=(function(){var r={};r.getBezierEasing=y;var x={};function y(Be,_e,xe,Le,Ue){var He=Ue||("bez_"+Be+"_"+_e+"_"+xe+"_"+Le).replace(/\./g,"p");if(x[He])return x[He];var qe=new Ne([Be,_e,xe,Le]);return x[He]=qe,qe}var b=4,R=.001,T=1e-7,A=10,O=11,B=1/(O-1),U=typeof Float32Array=="function";function K(Be,_e){return 1-3*_e+3*Be}function J(Be,_e){return 3*_e-6*Be}function te(Be){return 3*Be}function ae(Be,_e,xe){return((K(_e,xe)*Be+J(_e,xe))*Be+te(_e))*Be}function ue(Be,_e,xe){return 3*K(_e,xe)*Be*Be+2*J(_e,xe)*Be+te(_e)}function pe(Be,_e,xe,Le,Ue){var He,qe,Qe=0;do qe=_e+(xe-_e)/2,He=ae(qe,Le,Ue)-Be,He>0?xe=qe:_e=qe;while(Math.abs(He)>T&&++Qe<A);return qe}function $e(Be,_e,xe,Le){for(var Ue=0;Ue<b;++Ue){var He=ue(_e,xe,Le);if(He===0)return _e;var qe=ae(_e,xe,Le)-Be;_e-=qe/He}return _e}function Ne(Be){this._p=Be,this._mSampleValues=U?new Float32Array(O):new Array(O),this._precomputed=!1,this.get=this.get.bind(this)}return Ne.prototype={get:function(_e){var xe=this._p[0],Le=this._p[1],Ue=this._p[2],He=this._p[3];return this._precomputed||this._precompute(),xe===Le&&Ue===He?_e:_e===0?0:_e===1?1:ae(this._getTForX(_e),Le,He)},_precompute:function(){var _e=this._p[0],xe=this._p[1],Le=this._p[2],Ue=this._p[3];this._precomputed=!0,(_e!==xe||Le!==Ue)&&this._calcSampleValues()},_calcSampleValues:function(){for(var _e=this._p[0],xe=this._p[2],Le=0;Le<O;++Le)this._mSampleValues[Le]=ae(Le*B,_e,xe)},_getTForX:function(_e){for(var xe=this._p[0],Le=this._p[2],Ue=this._mSampleValues,He=0,qe=1,Qe=O-1;qe!==Qe&&Ue[qe]<=_e;++qe)He+=B;--qe;var lt=(_e-Ue[qe])/(Ue[qe+1]-Ue[qe]),ct=He+lt*B,ot=ue(ct,xe,Le);return ot>=R?$e(_e,ct,xe,Le):ot===0?ct:pe(_e,He,He+B,xe,Le)}},r})(),pooling=(function(){function r(x){return x.concat(createSizedArray(x.length))}return{double:r}})(),poolFactory=(function(){return function(r,x,y){var b=0,R=r,T=createSizedArray(R),A={newElement:O,release:B};function O(){var U;return b?(b-=1,U=T[b]):U=x(),U}function B(U){b===R&&(T=pooling.double(T),R*=2),y&&y(U),T[b]=U,b+=1}return A}})(),bezierLengthPool=(function(){function r(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,r)})(),segmentsLengthPool=(function(){function r(){return{lengths:[],totalLength:0}}function x(y){var b,R=y.lengths.length;for(b=0;b<R;b+=1)bezierLengthPool.release(y.lengths[b]);y.lengths.length=0}return poolFactory(8,r,x)})();function bezFunction(){var r=Math;function x(te,ae,ue,pe,$e,Ne){var Be=te*pe+ae*$e+ue*Ne-$e*pe-Ne*te-ue*ae;return Be>-.001&&Be<.001}function y(te,ae,ue,pe,$e,Ne,Be,_e,xe){if(ue===0&&Ne===0&&xe===0)return x(te,ae,pe,$e,Be,_e);var Le=r.sqrt(r.pow(pe-te,2)+r.pow($e-ae,2)+r.pow(Ne-ue,2)),Ue=r.sqrt(r.pow(Be-te,2)+r.pow(_e-ae,2)+r.pow(xe-ue,2)),He=r.sqrt(r.pow(Be-pe,2)+r.pow(_e-$e,2)+r.pow(xe-Ne,2)),qe;return Le>Ue?Le>He?qe=Le-Ue-He:qe=He-Ue-Le:He>Ue?qe=He-Ue-Le:qe=Ue-Le-He,qe>-1e-4&&qe<1e-4}var b=(function(){return function(te,ae,ue,pe){var $e=getDefaultCurveSegments(),Ne,Be,_e,xe,Le,Ue=0,He,qe=[],Qe=[],lt=bezierLengthPool.newElement();for(_e=ue.length,Ne=0;Ne<$e;Ne+=1){for(Le=Ne/($e-1),He=0,Be=0;Be<_e;Be+=1)xe=bmPow(1-Le,3)*te[Be]+3*bmPow(1-Le,2)*Le*ue[Be]+3*(1-Le)*bmPow(Le,2)*pe[Be]+bmPow(Le,3)*ae[Be],qe[Be]=xe,Qe[Be]!==null&&(He+=bmPow(qe[Be]-Qe[Be],2)),Qe[Be]=qe[Be];He&&(He=bmSqrt(He),Ue+=He),lt.percents[Ne]=Le,lt.lengths[Ne]=Ue}return lt.addedLength=Ue,lt}})();function R(te){var ae=segmentsLengthPool.newElement(),ue=te.c,pe=te.v,$e=te.o,Ne=te.i,Be,_e=te._length,xe=ae.lengths,Le=0;for(Be=0;Be<_e-1;Be+=1)xe[Be]=b(pe[Be],pe[Be+1],$e[Be],Ne[Be+1]),Le+=xe[Be].addedLength;return ue&&_e&&(xe[Be]=b(pe[Be],pe[0],$e[Be],Ne[0]),Le+=xe[Be].addedLength),ae.totalLength=Le,ae}function T(te){this.segmentLength=0,this.points=new Array(te)}function A(te,ae){this.partialLength=te,this.point=ae}var O=(function(){var te={};return function(ae,ue,pe,$e){var Ne=(ae[0]+"_"+ae[1]+"_"+ue[0]+"_"+ue[1]+"_"+pe[0]+"_"+pe[1]+"_"+$e[0]+"_"+$e[1]).replace(/\./g,"p");if(!te[Ne]){var Be=getDefaultCurveSegments(),_e,xe,Le,Ue,He,qe=0,Qe,lt,ct=null;ae.length===2&&(ae[0]!==ue[0]||ae[1]!==ue[1])&&x(ae[0],ae[1],ue[0],ue[1],ae[0]+pe[0],ae[1]+pe[1])&&x(ae[0],ae[1],ue[0],ue[1],ue[0]+$e[0],ue[1]+$e[1])&&(Be=2);var ot=new T(Be);for(Le=pe.length,_e=0;_e<Be;_e+=1){for(lt=createSizedArray(Le),He=_e/(Be-1),Qe=0,xe=0;xe<Le;xe+=1)Ue=bmPow(1-He,3)*ae[xe]+3*bmPow(1-He,2)*He*(ae[xe]+pe[xe])+3*(1-He)*bmPow(He,2)*(ue[xe]+$e[xe])+bmPow(He,3)*ue[xe],lt[xe]=Ue,ct!==null&&(Qe+=bmPow(lt[xe]-ct[xe],2));Qe=bmSqrt(Qe),qe+=Qe,ot.points[_e]=new A(Qe,lt),ct=lt}ot.segmentLength=qe,te[Ne]=ot}return te[Ne]}})();function B(te,ae){var ue=ae.percents,pe=ae.lengths,$e=ue.length,Ne=bmFloor(($e-1)*te),Be=te*ae.addedLength,_e=0;if(Ne===$e-1||Ne===0||Be===pe[Ne])return ue[Ne];for(var xe=pe[Ne]>Be?-1:1,Le=!0;Le;)if(pe[Ne]<=Be&&pe[Ne+1]>Be?(_e=(Be-pe[Ne])/(pe[Ne+1]-pe[Ne]),Le=!1):Ne+=xe,Ne<0||Ne>=$e-1){if(Ne===$e-1)return ue[Ne];Le=!1}return ue[Ne]+(ue[Ne+1]-ue[Ne])*_e}function U(te,ae,ue,pe,$e,Ne){var Be=B($e,Ne),_e=1-Be,xe=r.round((_e*_e*_e*te[0]+(Be*_e*_e+_e*Be*_e+_e*_e*Be)*ue[0]+(Be*Be*_e+_e*Be*Be+Be*_e*Be)*pe[0]+Be*Be*Be*ae[0])*1e3)/1e3,Le=r.round((_e*_e*_e*te[1]+(Be*_e*_e+_e*Be*_e+_e*_e*Be)*ue[1]+(Be*Be*_e+_e*Be*Be+Be*_e*Be)*pe[1]+Be*Be*Be*ae[1])*1e3)/1e3;return[xe,Le]}var K=createTypedArray("float32",8);function J(te,ae,ue,pe,$e,Ne,Be){$e<0?$e=0:$e>1&&($e=1);var _e=B($e,Be);Ne=Ne>1?1:Ne;var xe=B(Ne,Be),Le,Ue=te.length,He=1-_e,qe=1-xe,Qe=He*He*He,lt=_e*He*He*3,ct=_e*_e*He*3,ot=_e*_e*_e,pt=He*He*qe,yt=_e*He*qe+He*_e*qe+He*He*xe,it=_e*_e*qe+He*_e*xe+_e*He*xe,Ke=_e*_e*xe,Je=He*qe*qe,We=_e*qe*qe+He*xe*qe+He*qe*xe,Ze=_e*xe*qe+He*xe*xe+_e*qe*xe,dt=_e*xe*xe,et=qe*qe*qe,ft=xe*qe*qe+qe*xe*qe+qe*qe*xe,Et=xe*xe*qe+qe*xe*xe+xe*qe*xe,St=xe*xe*xe;for(Le=0;Le<Ue;Le+=1)K[Le*4]=r.round((Qe*te[Le]+lt*ue[Le]+ct*pe[Le]+ot*ae[Le])*1e3)/1e3,K[Le*4+1]=r.round((pt*te[Le]+yt*ue[Le]+it*pe[Le]+Ke*ae[Le])*1e3)/1e3,K[Le*4+2]=r.round((Je*te[Le]+We*ue[Le]+Ze*pe[Le]+dt*ae[Le])*1e3)/1e3,K[Le*4+3]=r.round((et*te[Le]+ft*ue[Le]+Et*pe[Le]+St*ae[Le])*1e3)/1e3;return K}return{getSegmentsLength:R,getNewSegment:J,getPointInSegment:U,buildBezierData:O,pointOnLine2D:x,pointOnLine3D:y}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(r,x){var y=this.offsetTime,b;this.propType==="multidimensional"&&(b=createTypedArray("float32",this.pv.length));for(var R=x.lastIndex,T=R,A=this.keyframes.length-1,O=!0,B,U,K;O;){if(B=this.keyframes[T],U=this.keyframes[T+1],T===A-1&&r>=U.t-y){B.h&&(B=U),R=0;break}if(U.t-y>r){R=T;break}T<A-1?T+=1:(R=0,O=!1)}K=this.keyframesMetadata[T]||{};var J,te,ae,ue,pe,$e,Ne=U.t-y,Be=B.t-y,_e;if(B.to){K.bezierData||(K.bezierData=bez.buildBezierData(B.s,U.s||B.e,B.to,B.ti));var xe=K.bezierData;if(r>=Ne||r<Be){var Le=r>=Ne?xe.points.length-1:0;for(te=xe.points[Le].point.length,J=0;J<te;J+=1)b[J]=xe.points[Le].point[J]}else{K.__fnct?$e=K.__fnct:($e=BezierFactory.getBezierEasing(B.o.x,B.o.y,B.i.x,B.i.y,B.n).get,K.__fnct=$e),ae=$e((r-Be)/(Ne-Be));var Ue=xe.segmentLength*ae,He,qe=x.lastFrame<r&&x._lastKeyframeIndex===T?x._lastAddedLength:0;for(pe=x.lastFrame<r&&x._lastKeyframeIndex===T?x._lastPoint:0,O=!0,ue=xe.points.length;O;){if(qe+=xe.points[pe].partialLength,Ue===0||ae===0||pe===xe.points.length-1){for(te=xe.points[pe].point.length,J=0;J<te;J+=1)b[J]=xe.points[pe].point[J];break}else if(Ue>=qe&&Ue<qe+xe.points[pe+1].partialLength){for(He=(Ue-qe)/xe.points[pe+1].partialLength,te=xe.points[pe].point.length,J=0;J<te;J+=1)b[J]=xe.points[pe].point[J]+(xe.points[pe+1].point[J]-xe.points[pe].point[J])*He;break}pe<ue-1?pe+=1:O=!1}x._lastPoint=pe,x._lastAddedLength=qe-xe.points[pe].partialLength,x._lastKeyframeIndex=T}}else{var Qe,lt,ct,ot,pt;if(A=B.s.length,_e=U.s||B.e,this.sh&&B.h!==1)if(r>=Ne)b[0]=_e[0],b[1]=_e[1],b[2]=_e[2];else if(r<=Be)b[0]=B.s[0],b[1]=B.s[1],b[2]=B.s[2];else{var yt=createQuaternion(B.s),it=createQuaternion(_e),Ke=(r-Be)/(Ne-Be);quaternionToEuler(b,slerp(yt,it,Ke))}else for(T=0;T<A;T+=1)B.h!==1&&(r>=Ne?ae=1:r<Be?ae=0:(B.o.x.constructor===Array?(K.__fnct||(K.__fnct=[]),K.__fnct[T]?$e=K.__fnct[T]:(Qe=B.o.x[T]===void 0?B.o.x[0]:B.o.x[T],lt=B.o.y[T]===void 0?B.o.y[0]:B.o.y[T],ct=B.i.x[T]===void 0?B.i.x[0]:B.i.x[T],ot=B.i.y[T]===void 0?B.i.y[0]:B.i.y[T],$e=BezierFactory.getBezierEasing(Qe,lt,ct,ot).get,K.__fnct[T]=$e)):K.__fnct?$e=K.__fnct:(Qe=B.o.x,lt=B.o.y,ct=B.i.x,ot=B.i.y,$e=BezierFactory.getBezierEasing(Qe,lt,ct,ot).get,B.keyframeMetadata=$e),ae=$e((r-Be)/(Ne-Be)))),_e=U.s||B.e,pt=B.h===1?B.s[T]:B.s[T]+(_e[T]-B.s[T])*ae,this.propType==="multidimensional"?b[T]=pt:b=pt}return x.lastIndex=R,b}function slerp(r,x,y){var b=[],R=r[0],T=r[1],A=r[2],O=r[3],B=x[0],U=x[1],K=x[2],J=x[3],te,ae,ue,pe,$e;return ae=R*B+T*U+A*K+O*J,ae<0&&(ae=-ae,B=-B,U=-U,K=-K,J=-J),1-ae>1e-6?(te=Math.acos(ae),ue=Math.sin(te),pe=Math.sin((1-y)*te)/ue,$e=Math.sin(y*te)/ue):(pe=1-y,$e=y),b[0]=pe*R+$e*B,b[1]=pe*T+$e*U,b[2]=pe*A+$e*K,b[3]=pe*O+$e*J,b}function quaternionToEuler(r,x){var y=x[0],b=x[1],R=x[2],T=x[3],A=Math.atan2(2*b*T-2*y*R,1-2*b*b-2*R*R),O=Math.asin(2*y*b+2*R*T),B=Math.atan2(2*y*T-2*b*R,1-2*y*y-2*R*R);r[0]=A/degToRads,r[1]=O/degToRads,r[2]=B/degToRads}function createQuaternion(r){var x=r[0]*degToRads,y=r[1]*degToRads,b=r[2]*degToRads,R=Math.cos(x/2),T=Math.cos(y/2),A=Math.cos(b/2),O=Math.sin(x/2),B=Math.sin(y/2),U=Math.sin(b/2),K=R*T*A-O*B*U,J=O*B*A+R*T*U,te=O*T*A+R*B*U,ae=R*B*A-O*T*U;return[J,te,ae,K]}function getValueAtCurrentTime(){var r=this.comp.renderedFrame-this.offsetTime,x=this.keyframes[0].t-this.offsetTime,y=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(r===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=y&&r>=y||this._caching.lastFrame<x&&r<x))){this._caching.lastFrame>=r&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var b=this.interpolateValue(r,this._caching);this.pv=b}return this._caching.lastFrame=r,this.pv}function setVValue(r){var x;if(this.propType==="unidimensional")x=r*this.mult,mathAbs(this.v-x)>1e-5&&(this.v=x,this._mdf=!0);else for(var y=0,b=this.v.length;y<b;)x=r[y]*this.mult,mathAbs(this.v[y]-x)>1e-5&&(this.v[y]=x,this._mdf=!0),y+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var r,x=this.effectsSequence.length,y=this.kf?this.pv:this.data.k;for(r=0;r<x;r+=1)y=this.effectsSequence[r](y);this.setVValue(y),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(r){this.effectsSequence.push(r),this.container.addDynamicProperty(this)}function ValueProperty(r,x,y,b){this.propType="unidimensional",this.mult=y||1,this.data=x,this.v=y?x.k*y:x.k,this.pv=x.k,this._mdf=!1,this.elem=r,this.container=b,this.comp=r.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(r,x,y,b){this.propType="multidimensional",this.mult=y||1,this.data=x,this._mdf=!1,this.elem=r,this.container=b,this.comp=r.comp,this.k=!1,this.kf=!1,this.frameId=-1;var R,T=x.k.length;for(this.v=createTypedArray("float32",T),this.pv=createTypedArray("float32",T),this.vel=createTypedArray("float32",T),R=0;R<T;R+=1)this.v[R]=x.k[R]*this.mult,this.pv[R]=x.k[R];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(r,x,y,b){this.propType="unidimensional",this.keyframes=x.k,this.keyframesMetadata=[],this.offsetTime=r.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=x,this.mult=y||1,this.elem=r,this.container=b,this.comp=r.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(r,x,y,b){this.propType="multidimensional";var R,T=x.k.length,A,O,B,U;for(R=0;R<T-1;R+=1)x.k[R].to&&x.k[R].s&&x.k[R+1]&&x.k[R+1].s&&(A=x.k[R].s,O=x.k[R+1].s,B=x.k[R].to,U=x.k[R].ti,(A.length===2&&!(A[0]===O[0]&&A[1]===O[1])&&bez.pointOnLine2D(A[0],A[1],O[0],O[1],A[0]+B[0],A[1]+B[1])&&bez.pointOnLine2D(A[0],A[1],O[0],O[1],O[0]+U[0],O[1]+U[1])||A.length===3&&!(A[0]===O[0]&&A[1]===O[1]&&A[2]===O[2])&&bez.pointOnLine3D(A[0],A[1],A[2],O[0],O[1],O[2],A[0]+B[0],A[1]+B[1],A[2]+B[2])&&bez.pointOnLine3D(A[0],A[1],A[2],O[0],O[1],O[2],O[0]+U[0],O[1]+U[1],O[2]+U[2]))&&(x.k[R].to=null,x.k[R].ti=null),A[0]===O[0]&&A[1]===O[1]&&B[0]===0&&B[1]===0&&U[0]===0&&U[1]===0&&(A.length===2||A[2]===O[2]&&B[2]===0&&U[2]===0)&&(x.k[R].to=null,x.k[R].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=x,this.keyframes=x.k,this.keyframesMetadata=[],this.offsetTime=r.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=y||1,this.elem=r,this.container=b,this.comp=r.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var K=x.k[0].s.length;for(this.v=createTypedArray("float32",K),this.pv=createTypedArray("float32",K),R=0;R<K;R+=1)this.v[R]=initFrame,this.pv[R]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",K)},this.addEffect=addEffect}var PropertyFactory=(function(){function r(y,b,R,T,A){b.sid&&(b=y.globalData.slotManager.getProp(b));var O;if(!b.k.length)O=new ValueProperty(y,b,T,A);else if(typeof b.k[0]=="number")O=new MultiDimensionalProperty(y,b,T,A);else switch(R){case 0:O=new KeyframedValueProperty(y,b,T,A);break;case 1:O=new KeyframedMultidimensionalProperty(y,b,T,A);break}return O.effectsSequence.length&&A.addDynamicProperty(O),O}var x={getProp:r};return x})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(x){this.dynamicProperties.indexOf(x)===-1&&(this.dynamicProperties.push(x),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var x,y=this.dynamicProperties.length;for(x=0;x<y;x+=1)this.dynamicProperties[x].getValue(),this.dynamicProperties[x]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(x){this.container=x,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function r(){return createTypedArray("float32",2)}return poolFactory(8,r)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(r,x){this.c=r,this.setLength(x);for(var y=0;y<x;)this.v[y]=pointPool.newElement(),this.o[y]=pointPool.newElement(),this.i[y]=pointPool.newElement(),y+=1},ShapePath.prototype.setLength=function(r){for(;this._maxLength<r;)this.doubleArrayLength();this._length=r},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(r,x,y,b,R){var T;switch(this._length=Math.max(this._length,b+1),this._length>=this._maxLength&&this.doubleArrayLength(),y){case"v":T=this.v;break;case"i":T=this.i;break;case"o":T=this.o;break;default:T=[];break}(!T[b]||T[b]&&!R)&&(T[b]=pointPool.newElement()),T[b][0]=r,T[b][1]=x},ShapePath.prototype.setTripleAt=function(r,x,y,b,R,T,A,O){this.setXYAt(r,x,"v",A,O),this.setXYAt(y,b,"o",A,O),this.setXYAt(R,T,"i",A,O)},ShapePath.prototype.reverse=function(){var r=new ShapePath;r.setPathData(this.c,this._length);var x=this.v,y=this.o,b=this.i,R=0;this.c&&(r.setTripleAt(x[0][0],x[0][1],b[0][0],b[0][1],y[0][0],y[0][1],0,!1),R=1);var T=this._length-1,A=this._length,O;for(O=R;O<A;O+=1)r.setTripleAt(x[T][0],x[T][1],b[T][0],b[T][1],y[T][0],y[T][1],O,!1),T-=1;return r},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function r(){return new ShapePath}function x(R){var T=R._length,A;for(A=0;A<T;A+=1)pointPool.release(R.v[A]),pointPool.release(R.i[A]),pointPool.release(R.o[A]),R.v[A]=null,R.i[A]=null,R.o[A]=null;R._length=0,R.c=!1}function y(R){var T=b.newElement(),A,O=R._length===void 0?R.v.length:R._length;for(T.setLength(O),T.c=R.c,A=0;A<O;A+=1)T.setTripleAt(R.v[A][0],R.v[A][1],R.o[A][0],R.o[A][1],R.i[A][0],R.i[A][1],A);return T}var b=poolFactory(4,r,x);return b.clone=y,b})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(r){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=r,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var r;for(r=0;r<this._length;r+=1)shapePool.release(this.shapes[r]);this._length=0};var shapeCollectionPool=(function(){var r={newShapeCollection:R,release:T},x=0,y=4,b=createSizedArray(y);function R(){var A;return x?(x-=1,A=b[x]):A=new ShapeCollection,A}function T(A){var O,B=A._length;for(O=0;O<B;O+=1)shapePool.release(A.shapes[O]);A._length=0,x===y&&(b=pooling.double(b),y*=2),b[x]=A,x+=1}return r})(),ShapePropertyFactory=(function(){var r=-999999;function x(Ne,Be,_e){var xe=_e.lastIndex,Le,Ue,He,qe,Qe,lt,ct,ot,pt,yt=this.keyframes;if(Ne<yt[0].t-this.offsetTime)Le=yt[0].s[0],He=!0,xe=0;else if(Ne>=yt[yt.length-1].t-this.offsetTime)Le=yt[yt.length-1].s?yt[yt.length-1].s[0]:yt[yt.length-2].e[0],He=!0;else{for(var it=xe,Ke=yt.length-1,Je=!0,We,Ze,dt;Je&&(We=yt[it],Ze=yt[it+1],!(Ze.t-this.offsetTime>Ne));)it<Ke-1?it+=1:Je=!1;if(dt=this.keyframesMetadata[it]||{},He=We.h===1,xe=it,!He){if(Ne>=Ze.t-this.offsetTime)ot=1;else if(Ne<We.t-this.offsetTime)ot=0;else{var et;dt.__fnct?et=dt.__fnct:(et=BezierFactory.getBezierEasing(We.o.x,We.o.y,We.i.x,We.i.y).get,dt.__fnct=et),ot=et((Ne-(We.t-this.offsetTime))/(Ze.t-this.offsetTime-(We.t-this.offsetTime)))}Ue=Ze.s?Ze.s[0]:We.e[0]}Le=We.s[0]}for(lt=Be._length,ct=Le.i[0].length,_e.lastIndex=xe,qe=0;qe<lt;qe+=1)for(Qe=0;Qe<ct;Qe+=1)pt=He?Le.i[qe][Qe]:Le.i[qe][Qe]+(Ue.i[qe][Qe]-Le.i[qe][Qe])*ot,Be.i[qe][Qe]=pt,pt=He?Le.o[qe][Qe]:Le.o[qe][Qe]+(Ue.o[qe][Qe]-Le.o[qe][Qe])*ot,Be.o[qe][Qe]=pt,pt=He?Le.v[qe][Qe]:Le.v[qe][Qe]+(Ue.v[qe][Qe]-Le.v[qe][Qe])*ot,Be.v[qe][Qe]=pt}function y(){var Ne=this.comp.renderedFrame-this.offsetTime,Be=this.keyframes[0].t-this.offsetTime,_e=this.keyframes[this.keyframes.length-1].t-this.offsetTime,xe=this._caching.lastFrame;return xe!==r&&(xe<Be&&Ne<Be||xe>_e&&Ne>_e)||(this._caching.lastIndex=xe<Ne?this._caching.lastIndex:0,this.interpolateShape(Ne,this.pv,this._caching)),this._caching.lastFrame=Ne,this.pv}function b(){this.paths=this.localShapeCollection}function R(Ne,Be){if(Ne._length!==Be._length||Ne.c!==Be.c)return!1;var _e,xe=Ne._length;for(_e=0;_e<xe;_e+=1)if(Ne.v[_e][0]!==Be.v[_e][0]||Ne.v[_e][1]!==Be.v[_e][1]||Ne.o[_e][0]!==Be.o[_e][0]||Ne.o[_e][1]!==Be.o[_e][1]||Ne.i[_e][0]!==Be.i[_e][0]||Ne.i[_e][1]!==Be.i[_e][1])return!1;return!0}function T(Ne){R(this.v,Ne)||(this.v=shapePool.clone(Ne),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function A(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ne;this.kf?Ne=this.pv:this.data.ks?Ne=this.data.ks.k:Ne=this.data.pt.k;var Be,_e=this.effectsSequence.length;for(Be=0;Be<_e;Be+=1)Ne=this.effectsSequence[Be](Ne);this.setVValue(Ne),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function O(Ne,Be,_e){this.propType="shape",this.comp=Ne.comp,this.container=Ne,this.elem=Ne,this.data=Be,this.k=!1,this.kf=!1,this._mdf=!1;var xe=_e===3?Be.pt.k:Be.ks.k;this.v=shapePool.clone(xe),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=b,this.effectsSequence=[]}function B(Ne){this.effectsSequence.push(Ne),this.container.addDynamicProperty(this)}O.prototype.interpolateShape=x,O.prototype.getValue=A,O.prototype.setVValue=T,O.prototype.addEffect=B;function U(Ne,Be,_e){this.propType="shape",this.comp=Ne.comp,this.elem=Ne,this.container=Ne,this.offsetTime=Ne.data.st,this.keyframes=_e===3?Be.pt.k:Be.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var xe=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,xe),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=b,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[y.bind(this)]}U.prototype.getValue=A,U.prototype.interpolateShape=x,U.prototype.setVValue=T,U.prototype.addEffect=B;var K=(function(){var Ne=roundCorner;function Be(_e,xe){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=xe.d,this.elem=_e,this.comp=_e.comp,this.frameId=-1,this.initDynamicPropertyContainer(_e),this.p=PropertyFactory.getProp(_e,xe.p,1,0,this),this.s=PropertyFactory.getProp(_e,xe.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Be.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var xe=this.p.v[0],Le=this.p.v[1],Ue=this.s.v[0]/2,He=this.s.v[1]/2,qe=this.d!==3,Qe=this.v;Qe.v[0][0]=xe,Qe.v[0][1]=Le-He,Qe.v[1][0]=qe?xe+Ue:xe-Ue,Qe.v[1][1]=Le,Qe.v[2][0]=xe,Qe.v[2][1]=Le+He,Qe.v[3][0]=qe?xe-Ue:xe+Ue,Qe.v[3][1]=Le,Qe.i[0][0]=qe?xe-Ue*Ne:xe+Ue*Ne,Qe.i[0][1]=Le-He,Qe.i[1][0]=qe?xe+Ue:xe-Ue,Qe.i[1][1]=Le-He*Ne,Qe.i[2][0]=qe?xe+Ue*Ne:xe-Ue*Ne,Qe.i[2][1]=Le+He,Qe.i[3][0]=qe?xe-Ue:xe+Ue,Qe.i[3][1]=Le+He*Ne,Qe.o[0][0]=qe?xe+Ue*Ne:xe-Ue*Ne,Qe.o[0][1]=Le-He,Qe.o[1][0]=qe?xe+Ue:xe-Ue,Qe.o[1][1]=Le+He*Ne,Qe.o[2][0]=qe?xe-Ue*Ne:xe+Ue*Ne,Qe.o[2][1]=Le+He,Qe.o[3][0]=qe?xe-Ue:xe+Ue,Qe.o[3][1]=Le-He*Ne}},extendPrototype([DynamicPropertyContainer],Be),Be})(),J=(function(){function Ne(Be,_e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Be,this.comp=Be.comp,this.data=_e,this.frameId=-1,this.d=_e.d,this.initDynamicPropertyContainer(Be),_e.sy===1?(this.ir=PropertyFactory.getProp(Be,_e.ir,0,0,this),this.is=PropertyFactory.getProp(Be,_e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Be,_e.pt,0,0,this),this.p=PropertyFactory.getProp(Be,_e.p,1,0,this),this.r=PropertyFactory.getProp(Be,_e.r,0,degToRads,this),this.or=PropertyFactory.getProp(Be,_e.or,0,0,this),this.os=PropertyFactory.getProp(Be,_e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ne.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var _e=Math.floor(this.pt.v)*2,xe=Math.PI*2/_e,Le=!0,Ue=this.or.v,He=this.ir.v,qe=this.os.v,Qe=this.is.v,lt=2*Math.PI*Ue/(_e*2),ct=2*Math.PI*He/(_e*2),ot,pt,yt,it,Ke=-Math.PI/2;Ke+=this.r.v;var Je=this.data.d===3?-1:1;for(this.v._length=0,ot=0;ot<_e;ot+=1){pt=Le?Ue:He,yt=Le?qe:Qe,it=Le?lt:ct;var We=pt*Math.cos(Ke),Ze=pt*Math.sin(Ke),dt=We===0&&Ze===0?0:Ze/Math.sqrt(We*We+Ze*Ze),et=We===0&&Ze===0?0:-We/Math.sqrt(We*We+Ze*Ze);We+=+this.p.v[0],Ze+=+this.p.v[1],this.v.setTripleAt(We,Ze,We-dt*it*yt*Je,Ze-et*it*yt*Je,We+dt*it*yt*Je,Ze+et*it*yt*Je,ot,!0),Le=!Le,Ke+=xe*Je}},convertPolygonToPath:function(){var _e=Math.floor(this.pt.v),xe=Math.PI*2/_e,Le=this.or.v,Ue=this.os.v,He=2*Math.PI*Le/(_e*4),qe,Qe=-Math.PI*.5,lt=this.data.d===3?-1:1;for(Qe+=this.r.v,this.v._length=0,qe=0;qe<_e;qe+=1){var ct=Le*Math.cos(Qe),ot=Le*Math.sin(Qe),pt=ct===0&&ot===0?0:ot/Math.sqrt(ct*ct+ot*ot),yt=ct===0&&ot===0?0:-ct/Math.sqrt(ct*ct+ot*ot);ct+=+this.p.v[0],ot+=+this.p.v[1],this.v.setTripleAt(ct,ot,ct-pt*He*Ue*lt,ot-yt*He*Ue*lt,ct+pt*He*Ue*lt,ot+yt*He*Ue*lt,qe,!0),Qe+=xe*lt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Ne),Ne})(),te=(function(){function Ne(Be,_e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Be,this.comp=Be.comp,this.frameId=-1,this.d=_e.d,this.initDynamicPropertyContainer(Be),this.p=PropertyFactory.getProp(Be,_e.p,1,0,this),this.s=PropertyFactory.getProp(Be,_e.s,1,0,this),this.r=PropertyFactory.getProp(Be,_e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ne.prototype={convertRectToPath:function(){var _e=this.p.v[0],xe=this.p.v[1],Le=this.s.v[0]/2,Ue=this.s.v[1]/2,He=bmMin(Le,Ue,this.r.v),qe=He*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(_e+Le,xe-Ue+He,_e+Le,xe-Ue+He,_e+Le,xe-Ue+qe,0,!0),this.v.setTripleAt(_e+Le,xe+Ue-He,_e+Le,xe+Ue-qe,_e+Le,xe+Ue-He,1,!0),He!==0?(this.v.setTripleAt(_e+Le-He,xe+Ue,_e+Le-He,xe+Ue,_e+Le-qe,xe+Ue,2,!0),this.v.setTripleAt(_e-Le+He,xe+Ue,_e-Le+qe,xe+Ue,_e-Le+He,xe+Ue,3,!0),this.v.setTripleAt(_e-Le,xe+Ue-He,_e-Le,xe+Ue-He,_e-Le,xe+Ue-qe,4,!0),this.v.setTripleAt(_e-Le,xe-Ue+He,_e-Le,xe-Ue+qe,_e-Le,xe-Ue+He,5,!0),this.v.setTripleAt(_e-Le+He,xe-Ue,_e-Le+He,xe-Ue,_e-Le+qe,xe-Ue,6,!0),this.v.setTripleAt(_e+Le-He,xe-Ue,_e+Le-qe,xe-Ue,_e+Le-He,xe-Ue,7,!0)):(this.v.setTripleAt(_e-Le,xe+Ue,_e-Le+qe,xe+Ue,_e-Le,xe+Ue,2),this.v.setTripleAt(_e-Le,xe-Ue,_e-Le,xe-Ue+qe,_e-Le,xe-Ue,3))):(this.v.setTripleAt(_e+Le,xe-Ue+He,_e+Le,xe-Ue+qe,_e+Le,xe-Ue+He,0,!0),He!==0?(this.v.setTripleAt(_e+Le-He,xe-Ue,_e+Le-He,xe-Ue,_e+Le-qe,xe-Ue,1,!0),this.v.setTripleAt(_e-Le+He,xe-Ue,_e-Le+qe,xe-Ue,_e-Le+He,xe-Ue,2,!0),this.v.setTripleAt(_e-Le,xe-Ue+He,_e-Le,xe-Ue+He,_e-Le,xe-Ue+qe,3,!0),this.v.setTripleAt(_e-Le,xe+Ue-He,_e-Le,xe+Ue-qe,_e-Le,xe+Ue-He,4,!0),this.v.setTripleAt(_e-Le+He,xe+Ue,_e-Le+He,xe+Ue,_e-Le+qe,xe+Ue,5,!0),this.v.setTripleAt(_e+Le-He,xe+Ue,_e+Le-qe,xe+Ue,_e+Le-He,xe+Ue,6,!0),this.v.setTripleAt(_e+Le,xe+Ue-He,_e+Le,xe+Ue-He,_e+Le,xe+Ue-qe,7,!0)):(this.v.setTripleAt(_e-Le,xe-Ue,_e-Le+qe,xe-Ue,_e-Le,xe-Ue,1,!0),this.v.setTripleAt(_e-Le,xe+Ue,_e-Le,xe+Ue-qe,_e-Le,xe+Ue,2,!0),this.v.setTripleAt(_e+Le,xe+Ue,_e+Le-qe,xe+Ue,_e+Le,xe+Ue,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:b},extendPrototype([DynamicPropertyContainer],Ne),Ne})();function ae(Ne,Be,_e){var xe;if(_e===3||_e===4){var Le=_e===3?Be.pt:Be.ks,Ue=Le.k;Ue.length?xe=new U(Ne,Be,_e):xe=new O(Ne,Be,_e)}else _e===5?xe=new te(Ne,Be):_e===6?xe=new K(Ne,Be):_e===7&&(xe=new J(Ne,Be));return xe.k&&Ne.addDynamicProperty(xe),xe}function ue(){return O}function pe(){return U}var $e={};return $e.getShapeProp=ae,$e.getConstructorFunction=ue,$e.getKeyframedConstructorFunction=pe,$e})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var r=Math.cos,x=Math.sin,y=Math.tan,b=Math.round;function R(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function T(We){if(We===0)return this;var Ze=r(We),dt=x(We);return this._t(Ze,-dt,0,0,dt,Ze,0,0,0,0,1,0,0,0,0,1)}function A(We){if(We===0)return this;var Ze=r(We),dt=x(We);return this._t(1,0,0,0,0,Ze,-dt,0,0,dt,Ze,0,0,0,0,1)}function O(We){if(We===0)return this;var Ze=r(We),dt=x(We);return this._t(Ze,0,dt,0,0,1,0,0,-dt,0,Ze,0,0,0,0,1)}function B(We){if(We===0)return this;var Ze=r(We),dt=x(We);return this._t(Ze,-dt,0,0,dt,Ze,0,0,0,0,1,0,0,0,0,1)}function U(We,Ze){return this._t(1,Ze,We,1,0,0)}function K(We,Ze){return this.shear(y(We),y(Ze))}function J(We,Ze){var dt=r(Ze),et=x(Ze);return this._t(dt,et,0,0,-et,dt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,y(We),1,0,0,0,0,1,0,0,0,0,1)._t(dt,-et,0,0,et,dt,0,0,0,0,1,0,0,0,0,1)}function te(We,Ze,dt){return!dt&&dt!==0&&(dt=1),We===1&&Ze===1&&dt===1?this:this._t(We,0,0,0,0,Ze,0,0,0,0,dt,0,0,0,0,1)}function ae(We,Ze,dt,et,ft,Et,St,Bt,Rt,Yt,nn,mn,Fn,dn,Gn,tn){return this.props[0]=We,this.props[1]=Ze,this.props[2]=dt,this.props[3]=et,this.props[4]=ft,this.props[5]=Et,this.props[6]=St,this.props[7]=Bt,this.props[8]=Rt,this.props[9]=Yt,this.props[10]=nn,this.props[11]=mn,this.props[12]=Fn,this.props[13]=dn,this.props[14]=Gn,this.props[15]=tn,this}function ue(We,Ze,dt){return dt=dt||0,We!==0||Ze!==0||dt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,We,Ze,dt,1):this}function pe(We,Ze,dt,et,ft,Et,St,Bt,Rt,Yt,nn,mn,Fn,dn,Gn,tn){var Qt=this.props;if(We===1&&Ze===0&&dt===0&&et===0&&ft===0&&Et===1&&St===0&&Bt===0&&Rt===0&&Yt===0&&nn===1&&mn===0)return Qt[12]=Qt[12]*We+Qt[15]*Fn,Qt[13]=Qt[13]*Et+Qt[15]*dn,Qt[14]=Qt[14]*nn+Qt[15]*Gn,Qt[15]*=tn,this._identityCalculated=!1,this;var Kn=Qt[0],Nr=Qt[1],zn=Qt[2],_n=Qt[3],pn=Qt[4],br=Qt[5],Kt=Qt[6],Wr=Qt[7],Mr=Qt[8],Ht=Qt[9],sn=Qt[10],yn=Qt[11],An=Qt[12],In=Qt[13],rr=Qt[14],Yr=Qt[15];return Qt[0]=Kn*We+Nr*ft+zn*Rt+_n*Fn,Qt[1]=Kn*Ze+Nr*Et+zn*Yt+_n*dn,Qt[2]=Kn*dt+Nr*St+zn*nn+_n*Gn,Qt[3]=Kn*et+Nr*Bt+zn*mn+_n*tn,Qt[4]=pn*We+br*ft+Kt*Rt+Wr*Fn,Qt[5]=pn*Ze+br*Et+Kt*Yt+Wr*dn,Qt[6]=pn*dt+br*St+Kt*nn+Wr*Gn,Qt[7]=pn*et+br*Bt+Kt*mn+Wr*tn,Qt[8]=Mr*We+Ht*ft+sn*Rt+yn*Fn,Qt[9]=Mr*Ze+Ht*Et+sn*Yt+yn*dn,Qt[10]=Mr*dt+Ht*St+sn*nn+yn*Gn,Qt[11]=Mr*et+Ht*Bt+sn*mn+yn*tn,Qt[12]=An*We+In*ft+rr*Rt+Yr*Fn,Qt[13]=An*Ze+In*Et+rr*Yt+Yr*dn,Qt[14]=An*dt+In*St+rr*nn+Yr*Gn,Qt[15]=An*et+In*Bt+rr*mn+Yr*tn,this._identityCalculated=!1,this}function $e(We){var Ze=We.props;return this.transform(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5],Ze[6],Ze[7],Ze[8],Ze[9],Ze[10],Ze[11],Ze[12],Ze[13],Ze[14],Ze[15])}function Ne(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Be(We){for(var Ze=0;Ze<16;){if(We.props[Ze]!==this.props[Ze])return!1;Ze+=1}return!0}function _e(We){var Ze;for(Ze=0;Ze<16;Ze+=1)We.props[Ze]=this.props[Ze];return We}function xe(We){var Ze;for(Ze=0;Ze<16;Ze+=1)this.props[Ze]=We[Ze]}function Le(We,Ze,dt){return{x:We*this.props[0]+Ze*this.props[4]+dt*this.props[8]+this.props[12],y:We*this.props[1]+Ze*this.props[5]+dt*this.props[9]+this.props[13],z:We*this.props[2]+Ze*this.props[6]+dt*this.props[10]+this.props[14]}}function Ue(We,Ze,dt){return We*this.props[0]+Ze*this.props[4]+dt*this.props[8]+this.props[12]}function He(We,Ze,dt){return We*this.props[1]+Ze*this.props[5]+dt*this.props[9]+this.props[13]}function qe(We,Ze,dt){return We*this.props[2]+Ze*this.props[6]+dt*this.props[10]+this.props[14]}function Qe(){var We=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ze=this.props[5]/We,dt=-this.props[1]/We,et=-this.props[4]/We,ft=this.props[0]/We,Et=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/We,St=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/We,Bt=new Matrix;return Bt.props[0]=Ze,Bt.props[1]=dt,Bt.props[4]=et,Bt.props[5]=ft,Bt.props[12]=Et,Bt.props[13]=St,Bt}function lt(We){var Ze=this.getInverseMatrix();return Ze.applyToPointArray(We[0],We[1],We[2]||0)}function ct(We){var Ze,dt=We.length,et=[];for(Ze=0;Ze<dt;Ze+=1)et[Ze]=lt(We[Ze]);return et}function ot(We,Ze,dt){var et=createTypedArray("float32",6);if(this.isIdentity())et[0]=We[0],et[1]=We[1],et[2]=Ze[0],et[3]=Ze[1],et[4]=dt[0],et[5]=dt[1];else{var ft=this.props[0],Et=this.props[1],St=this.props[4],Bt=this.props[5],Rt=this.props[12],Yt=this.props[13];et[0]=We[0]*ft+We[1]*St+Rt,et[1]=We[0]*Et+We[1]*Bt+Yt,et[2]=Ze[0]*ft+Ze[1]*St+Rt,et[3]=Ze[0]*Et+Ze[1]*Bt+Yt,et[4]=dt[0]*ft+dt[1]*St+Rt,et[5]=dt[0]*Et+dt[1]*Bt+Yt}return et}function pt(We,Ze,dt){var et;return this.isIdentity()?et=[We,Ze,dt]:et=[We*this.props[0]+Ze*this.props[4]+dt*this.props[8]+this.props[12],We*this.props[1]+Ze*this.props[5]+dt*this.props[9]+this.props[13],We*this.props[2]+Ze*this.props[6]+dt*this.props[10]+this.props[14]],et}function yt(We,Ze){if(this.isIdentity())return We+","+Ze;var dt=this.props;return Math.round((We*dt[0]+Ze*dt[4]+dt[12])*100)/100+","+Math.round((We*dt[1]+Ze*dt[5]+dt[13])*100)/100}function it(){for(var We=0,Ze=this.props,dt="matrix3d(",et=1e4;We<16;)dt+=b(Ze[We]*et)/et,dt+=We===15?")":",",We+=1;return dt}function Ke(We){var Ze=1e4;return We<1e-6&&We>0||We>-1e-6&&We<0?b(We*Ze)/Ze:We}function Je(){var We=this.props,Ze=Ke(We[0]),dt=Ke(We[1]),et=Ke(We[4]),ft=Ke(We[5]),Et=Ke(We[12]),St=Ke(We[13]);return"matrix("+Ze+","+dt+","+et+","+ft+","+Et+","+St+")"}return function(){this.reset=R,this.rotate=T,this.rotateX=A,this.rotateY=O,this.rotateZ=B,this.skew=K,this.skewFromAxis=J,this.shear=U,this.scale=te,this.setTransform=ae,this.translate=ue,this.transform=pe,this.multiply=$e,this.applyToPoint=Le,this.applyToX=Ue,this.applyToY=He,this.applyToZ=qe,this.applyToPointArray=pt,this.applyToTriplePoints=ot,this.applyToPointStringified=yt,this.toCSS=it,this.to2dCSS=Je,this.clone=_e,this.cloneFromProps=xe,this.equals=Be,this.inversePoints=ct,this.inversePoint=lt,this.getInverseMatrix=Qe,this._t=this.transform,this.isIdentity=Ne,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(r){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$3(r)}var lottie={};function setLocation(r){setLocationHref(r)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(r){setSubframeEnabled(r)}function setPrefix(r){setIdPrefix(r)}function loadAnimation(r){return animationManager.loadAnimation(r)}function setQuality(r){if(typeof r=="string")switch(r){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(r)&&r>1&&setDefaultCurveSegments(r)}function inBrowser(){return typeof navigator<"u"}function installPlugin(r,x){r==="expressions"&&setExpressionsPlugin(x)}function getFactory(r){switch(r){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(r){for(var x=queryString.split("&"),y=0;y<x.length;y+=1){var b=x[y].split("=");if(decodeURIComponent(b[0])==r)return decodeURIComponent(b[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(r){}var ShapeModifiers=(function(){var r={},x={};r.registerModifier=y,r.getModifier=b;function y(R,T){x[R]||(x[R]=T)}function b(R,T,A){return new x[R](T,A)}return r})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(r){if(!this.closed){r.sh.container.addDynamicProperty(r.sh);var x={shape:r.sh,data:r,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(x),this.addShapeToModifier(x),this._isAnimated&&r.setAsAnimated()}},ShapeModifier.prototype.init=function(r,x){this.shapes=[],this.elem=r,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,x),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(r,x){this.s=PropertyFactory.getProp(r,x.s,0,.01,this),this.e=PropertyFactory.getProp(r,x.e,0,.01,this),this.o=PropertyFactory.getProp(r,x.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=x.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(r){r.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(r,x,y,b,R){var T=[];x<=1?T.push({s:r,e:x}):r>=1?T.push({s:r-1,e:x-1}):(T.push({s:r,e:1}),T.push({s:0,e:x-1}));var A=[],O,B=T.length,U;for(O=0;O<B;O+=1)if(U=T[O],!(U.e*R<b||U.s*R>b+y)){var K,J;U.s*R<=b?K=0:K=(U.s*R-b)/y,U.e*R>=b+y?J=1:J=(U.e*R-b)/y,A.push([K,J])}return A.length||A.push([0,0]),A},TrimModifier.prototype.releasePathsData=function(r){var x,y=r.length;for(x=0;x<y;x+=1)segmentsLengthPool.release(r[x]);return r.length=0,r},TrimModifier.prototype.processShapes=function(r){var x,y;if(this._mdf||r){var b=this.o.v%360/360;if(b<0&&(b+=1),this.s.v>1?x=1+b:this.s.v<0?x=0+b:x=this.s.v+b,this.e.v>1?y=1+b:this.e.v<0?y=0+b:y=this.e.v+b,x>y){var R=x;x=y,y=R}x=Math.round(x*1e4)*1e-4,y=Math.round(y*1e4)*1e-4,this.sValue=x,this.eValue=y}else x=this.sValue,y=this.eValue;var T,A,O=this.shapes.length,B,U,K,J,te,ae=0;if(y===x)for(A=0;A<O;A+=1)this.shapes[A].localShapeCollection.releaseShapes(),this.shapes[A].shape._mdf=!0,this.shapes[A].shape.paths=this.shapes[A].localShapeCollection,this._mdf&&(this.shapes[A].pathsData.length=0);else if(y===1&&x===0||y===0&&x===1){if(this._mdf)for(A=0;A<O;A+=1)this.shapes[A].pathsData.length=0,this.shapes[A].shape._mdf=!0}else{var ue=[],pe,$e;for(A=0;A<O;A+=1)if(pe=this.shapes[A],!pe.shape._mdf&&!this._mdf&&!r&&this.m!==2)pe.shape.paths=pe.localShapeCollection;else{if(T=pe.shape.paths,U=T._length,te=0,!pe.shape._mdf&&pe.pathsData.length)te=pe.totalShapeLength;else{for(K=this.releasePathsData(pe.pathsData),B=0;B<U;B+=1)J=bez.getSegmentsLength(T.shapes[B]),K.push(J),te+=J.totalLength;pe.totalShapeLength=te,pe.pathsData=K}ae+=te,pe.shape._mdf=!0}var Ne=x,Be=y,_e=0,xe;for(A=O-1;A>=0;A-=1)if(pe=this.shapes[A],pe.shape._mdf){for($e=pe.localShapeCollection,$e.releaseShapes(),this.m===2&&O>1?(xe=this.calculateShapeEdges(x,y,pe.totalShapeLength,_e,ae),_e+=pe.totalShapeLength):xe=[[Ne,Be]],U=xe.length,B=0;B<U;B+=1){Ne=xe[B][0],Be=xe[B][1],ue.length=0,Be<=1?ue.push({s:pe.totalShapeLength*Ne,e:pe.totalShapeLength*Be}):Ne>=1?ue.push({s:pe.totalShapeLength*(Ne-1),e:pe.totalShapeLength*(Be-1)}):(ue.push({s:pe.totalShapeLength*Ne,e:pe.totalShapeLength}),ue.push({s:0,e:pe.totalShapeLength*(Be-1)}));var Le=this.addShapes(pe,ue[0]);if(ue[0].s!==ue[0].e){if(ue.length>1){var Ue=pe.shape.paths.shapes[pe.shape.paths._length-1];if(Ue.c){var He=Le.pop();this.addPaths(Le,$e),Le=this.addShapes(pe,ue[1],He)}else this.addPaths(Le,$e),Le=this.addShapes(pe,ue[1])}this.addPaths(Le,$e)}}pe.shape.paths=$e}}},TrimModifier.prototype.addPaths=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)x.addShape(r[y])},TrimModifier.prototype.addSegment=function(r,x,y,b,R,T,A){R.setXYAt(x[0],x[1],"o",T),R.setXYAt(y[0],y[1],"i",T+1),A&&R.setXYAt(r[0],r[1],"v",T),R.setXYAt(b[0],b[1],"v",T+1)},TrimModifier.prototype.addSegmentFromArray=function(r,x,y,b){x.setXYAt(r[1],r[5],"o",y),x.setXYAt(r[2],r[6],"i",y+1),b&&x.setXYAt(r[0],r[4],"v",y),x.setXYAt(r[3],r[7],"v",y+1)},TrimModifier.prototype.addShapes=function(r,x,y){var b=r.pathsData,R=r.shape.paths.shapes,T,A=r.shape.paths._length,O,B,U=0,K,J,te,ae,ue=[],pe,$e=!0;for(y?(J=y._length,pe=y._length):(y=shapePool.newElement(),J=0,pe=0),ue.push(y),T=0;T<A;T+=1){for(te=b[T].lengths,y.c=R[T].c,B=R[T].c?te.length:te.length+1,O=1;O<B;O+=1)if(K=te[O-1],U+K.addedLength<x.s)U+=K.addedLength,y.c=!1;else if(U>x.e){y.c=!1;break}else x.s<=U&&x.e>=U+K.addedLength?(this.addSegment(R[T].v[O-1],R[T].o[O-1],R[T].i[O],R[T].v[O],y,J,$e),$e=!1):(ae=bez.getNewSegment(R[T].v[O-1],R[T].v[O],R[T].o[O-1],R[T].i[O],(x.s-U)/K.addedLength,(x.e-U)/K.addedLength,te[O-1]),this.addSegmentFromArray(ae,y,J,$e),$e=!1,y.c=!1),U+=K.addedLength,J+=1;if(R[T].c&&te.length){if(K=te[O-1],U<=x.e){var Ne=te[O-1].addedLength;x.s<=U&&x.e>=U+Ne?(this.addSegment(R[T].v[O-1],R[T].o[O-1],R[T].i[0],R[T].v[0],y,J,$e),$e=!1):(ae=bez.getNewSegment(R[T].v[O-1],R[T].v[0],R[T].o[O-1],R[T].i[0],(x.s-U)/Ne,(x.e-U)/Ne,te[O-1]),this.addSegmentFromArray(ae,y,J,$e),$e=!1,y.c=!1)}else y.c=!1;U+=K.addedLength,J+=1}if(y._length&&(y.setXYAt(y.v[pe][0],y.v[pe][1],"i",pe),y.setXYAt(y.v[y._length-1][0],y.v[y._length-1][1],"o",y._length-1)),U>x.e)break;T<A-1&&(y=shapePool.newElement(),$e=!0,ue.push(y),J=0)}return ue};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,x.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(r,x){var y=x/100,b=[0,0],R=r._length,T=0;for(T=0;T<R;T+=1)b[0]+=r.v[T][0],b[1]+=r.v[T][1];b[0]/=R,b[1]/=R;var A=shapePool.newElement();A.c=r.c;var O,B,U,K,J,te;for(T=0;T<R;T+=1)O=r.v[T][0]+(b[0]-r.v[T][0])*y,B=r.v[T][1]+(b[1]-r.v[T][1])*y,U=r.o[T][0]+(b[0]-r.o[T][0])*-y,K=r.o[T][1]+(b[1]-r.o[T][1])*-y,J=r.i[T][0]+(b[0]-r.i[T][0])*-y,te=r.i[T][1]+(b[1]-r.i[T][1])*-y,A.setTripleAt(O,B,U,K,J,te,T);return A},PuckerAndBloatModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,R,T,A=this.amount.v;if(A!==0){var O,B;for(y=0;y<b;y+=1){if(O=this.shapes[y],B=O.localShapeCollection,!(!O.shape._mdf&&!this._mdf&&!r))for(B.releaseShapes(),O.shape._mdf=!0,x=O.shape.paths.shapes,T=O.shape.paths._length,R=0;R<T;R+=1)B.addShape(this.processPath(x[R],A));O.shape.paths=O.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var r=[0,0];function x(B){var U=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||U,this.a&&B.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&B.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&B.skewFromAxis(-this.sk.v,this.sa.v),this.r?B.rotate(-this.r.v):B.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?B.translate(this.px.v,this.py.v,-this.pz.v):B.translate(this.px.v,this.py.v,0):B.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function y(B){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||B){var U;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var K,J;if(U=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(K=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/U,0),J=this.p.getValueAtTime(this.p.keyframes[0].t/U,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(K=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/U,0),J=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/U,0)):(K=this.p.pv,J=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/U,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){K=[],J=[];var te=this.px,ae=this.py;te._caching.lastFrame+te.offsetTime<=te.keyframes[0].t?(K[0]=te.getValueAtTime((te.keyframes[0].t+.01)/U,0),K[1]=ae.getValueAtTime((ae.keyframes[0].t+.01)/U,0),J[0]=te.getValueAtTime(te.keyframes[0].t/U,0),J[1]=ae.getValueAtTime(ae.keyframes[0].t/U,0)):te._caching.lastFrame+te.offsetTime>=te.keyframes[te.keyframes.length-1].t?(K[0]=te.getValueAtTime(te.keyframes[te.keyframes.length-1].t/U,0),K[1]=ae.getValueAtTime(ae.keyframes[ae.keyframes.length-1].t/U,0),J[0]=te.getValueAtTime((te.keyframes[te.keyframes.length-1].t-.01)/U,0),J[1]=ae.getValueAtTime((ae.keyframes[ae.keyframes.length-1].t-.01)/U,0)):(K=[te.pv,ae.pv],J[0]=te.getValueAtTime((te._caching.lastFrame+te.offsetTime-.01)/U,te.offsetTime),J[1]=ae.getValueAtTime((ae._caching.lastFrame+ae.offsetTime-.01)/U,ae.offsetTime))}else J=r,K=J;this.v.rotate(-Math.atan2(K[1]-J[1],K[0]-J[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function b(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function R(){}function T(B){this._addDynamicProperty(B),this.elem.addDynamicProperty(B),this._isDirty=!0}function A(B,U,K){if(this.elem=B,this.frameId=-1,this.propType="transform",this.data=U,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(K||B),U.p&&U.p.s?(this.px=PropertyFactory.getProp(B,U.p.x,0,0,this),this.py=PropertyFactory.getProp(B,U.p.y,0,0,this),U.p.z&&(this.pz=PropertyFactory.getProp(B,U.p.z,0,0,this))):this.p=PropertyFactory.getProp(B,U.p||{k:[0,0,0]},1,0,this),U.rx){if(this.rx=PropertyFactory.getProp(B,U.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(B,U.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(B,U.rz,0,degToRads,this),U.or.k[0].ti){var J,te=U.or.k.length;for(J=0;J<te;J+=1)U.or.k[J].to=null,U.or.k[J].ti=null}this.or=PropertyFactory.getProp(B,U.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(B,U.r||{k:0},0,degToRads,this);U.sk&&(this.sk=PropertyFactory.getProp(B,U.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(B,U.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(B,U.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(B,U.s||{k:[100,100,100]},1,.01,this),U.o?this.o=PropertyFactory.getProp(B,U.o,0,.01,B):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}A.prototype={applyToMatrix:x,getValue:y,precalculateMatrix:b,autoOrient:R},extendPrototype([DynamicPropertyContainer],A),A.prototype.addDynamicProperty=T,A.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function O(B,U,K){return new A(B,U,K)}return{getTransformProperty:O}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(r,x.c,0,null,this),this.o=PropertyFactory.getProp(r,x.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(r,x.tr,this),this.so=PropertyFactory.getProp(r,x.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(r,x.tr.eo,0,.01,this),this.data=x,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(r,x,y,b,R,T){var A=T?-1:1,O=b.s.v[0]+(1-b.s.v[0])*(1-R),B=b.s.v[1]+(1-b.s.v[1])*(1-R);r.translate(b.p.v[0]*A*R,b.p.v[1]*A*R,b.p.v[2]),x.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),x.rotate(-b.r.v*A*R),x.translate(b.a.v[0],b.a.v[1],b.a.v[2]),y.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),y.scale(T?1/O:O,T?1/B:B),y.translate(b.a.v[0],b.a.v[1],b.a.v[2])},RepeaterModifier.prototype.init=function(r,x,y,b){for(this.elem=r,this.arr=x,this.pos=y,this.elemsData=b,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,x[y]);y>0;)y-=1,this._elements.unshift(x[y]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x]._processed=!1,r[x].ty==="gr"&&this.resetElements(r[x].it)},RepeaterModifier.prototype.cloneElements=function(r){var x=JSON.parse(JSON.stringify(r));return this.resetElements(x),x},RepeaterModifier.prototype.changeGroupRender=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)r[y]._render=x,r[y].ty==="gr"&&this.changeGroupRender(r[y].it,x)},RepeaterModifier.prototype.processShapes=function(r){var x,y,b,R,T,A=!1;if(this._mdf||r){var O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var B={it:this.cloneElements(this._elements),ty:"gr"};B.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,B),this._groups.splice(0,0,B),this._currentCopies+=1}this.elem.reloadShapes(),A=!0}T=0;var U;for(b=0;b<=this._groups.length-1;b+=1){if(U=T<O,this._groups[b]._render=U,this.changeGroupRender(this._groups[b].it,U),!U){var K=this.elemsData[b].it,J=K[K.length-1];J.transform.op.v!==0?(J.transform.op._mdf=!0,J.transform.op.v=0):J.transform.op._mdf=!1}T+=1}this._currentCopies=O;var te=this.o.v,ae=te%1,ue=te>0?Math.floor(te):Math.ceil(te),pe=this.pMatrix.props,$e=this.rMatrix.props,Ne=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Be=0;if(te>0){for(;Be<ue;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Be+=1;ae&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ae,!1),Be+=ae)}else if(te<0){for(;Be>ue;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Be-=1;ae&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ae,!0),Be-=ae)}b=this.data.m===1?0:this._currentCopies-1,R=this.data.m===1?1:-1,T=this._currentCopies;for(var _e,xe;T;){if(x=this.elemsData[b].it,y=x[x.length-1].transform.mProps.v.props,xe=y.length,x[x.length-1].transform.mProps._mdf=!0,x[x.length-1].transform.op._mdf=!0,x[x.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(b/(this._currentCopies-1)),Be!==0){for((b!==0&&R===1||b!==this._currentCopies-1&&R===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform($e[0],$e[1],$e[2],$e[3],$e[4],$e[5],$e[6],$e[7],$e[8],$e[9],$e[10],$e[11],$e[12],$e[13],$e[14],$e[15]),this.matrix.transform(Ne[0],Ne[1],Ne[2],Ne[3],Ne[4],Ne[5],Ne[6],Ne[7],Ne[8],Ne[9],Ne[10],Ne[11],Ne[12],Ne[13],Ne[14],Ne[15]),this.matrix.transform(pe[0],pe[1],pe[2],pe[3],pe[4],pe[5],pe[6],pe[7],pe[8],pe[9],pe[10],pe[11],pe[12],pe[13],pe[14],pe[15]),_e=0;_e<xe;_e+=1)y[_e]=this.matrix.props[_e];this.matrix.reset()}else for(this.matrix.reset(),_e=0;_e<xe;_e+=1)y[_e]=this.matrix.props[_e];Be+=1,T-=1,b+=R}}else for(T=this._currentCopies,b=0,R=1;T;)x=this.elemsData[b].it,y=x[x.length-1].transform.mProps.v.props,x[x.length-1].transform.mProps._mdf=!1,x[x.length-1].transform.op._mdf=!1,T-=1,b+=R;return A},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(r,x.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(r,x){var y=shapePool.newElement();y.c=r.c;var b,R=r._length,T,A,O,B,U,K,J=0,te,ae,ue,pe,$e,Ne;for(b=0;b<R;b+=1)T=r.v[b],O=r.o[b],A=r.i[b],T[0]===O[0]&&T[1]===O[1]&&T[0]===A[0]&&T[1]===A[1]?(b===0||b===R-1)&&!r.c?(y.setTripleAt(T[0],T[1],O[0],O[1],A[0],A[1],J),J+=1):(b===0?B=r.v[R-1]:B=r.v[b-1],U=Math.sqrt(Math.pow(T[0]-B[0],2)+Math.pow(T[1]-B[1],2)),K=U?Math.min(U/2,x)/U:0,$e=T[0]+(B[0]-T[0])*K,te=$e,Ne=T[1]-(T[1]-B[1])*K,ae=Ne,ue=te-(te-T[0])*roundCorner,pe=ae-(ae-T[1])*roundCorner,y.setTripleAt(te,ae,ue,pe,$e,Ne,J),J+=1,b===R-1?B=r.v[0]:B=r.v[b+1],U=Math.sqrt(Math.pow(T[0]-B[0],2)+Math.pow(T[1]-B[1],2)),K=U?Math.min(U/2,x)/U:0,ue=T[0]+(B[0]-T[0])*K,te=ue,pe=T[1]+(B[1]-T[1])*K,ae=pe,$e=te-(te-T[0])*roundCorner,Ne=ae-(ae-T[1])*roundCorner,y.setTripleAt(te,ae,ue,pe,$e,Ne,J),J+=1):(y.setTripleAt(r.v[b][0],r.v[b][1],r.o[b][0],r.o[b][1],r.i[b][0],r.i[b][1],J),J+=1);return y},RoundCornersModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,R,T,A=this.rd.v;if(A!==0){var O,B;for(y=0;y<b;y+=1){if(O=this.shapes[y],B=O.localShapeCollection,!(!O.shape._mdf&&!this._mdf&&!r))for(B.releaseShapes(),O.shape._mdf=!0,x=O.shape.paths.shapes,T=O.shape.paths._length,R=0;R<T;R+=1)B.addShape(this.processPath(x[R],A));O.shape.paths=O.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(r,x){return Math.abs(r-x)*1e5<=Math.min(Math.abs(r),Math.abs(x))}function floatZero(r){return Math.abs(r)<=1e-5}function lerp(r,x,y){return r*(1-y)+x*y}function lerpPoint(r,x,y){return[lerp(r[0],x[0],y),lerp(r[1],x[1],y)]}function quadRoots(r,x,y){if(r===0)return[];var b=x*x-4*r*y;if(b<0)return[];var R=-x/(2*r);if(b===0)return[R];var T=Math.sqrt(b)/(2*r);return[R-T,R+T]}function polynomialCoefficients(r,x,y,b){return[-r+3*x-3*y+b,3*r-6*x+3*y,-3*r+3*x,r]}function singlePoint(r){return new PolynomialBezier(r,r,r,r,!1)}function PolynomialBezier(r,x,y,b,R){R&&pointEqual(r,x)&&(x=lerpPoint(r,b,1/3)),R&&pointEqual(y,b)&&(y=lerpPoint(r,b,2/3));var T=polynomialCoefficients(r[0],x[0],y[0],b[0]),A=polynomialCoefficients(r[1],x[1],y[1],b[1]);this.a=[T[0],A[0]],this.b=[T[1],A[1]],this.c=[T[2],A[2]],this.d=[T[3],A[3]],this.points=[r,x,y,b]}PolynomialBezier.prototype.point=function(r){return[((this.a[0]*r+this.b[0])*r+this.c[0])*r+this.d[0],((this.a[1]*r+this.b[1])*r+this.c[1])*r+this.d[1]]},PolynomialBezier.prototype.derivative=function(r){return[(3*r*this.a[0]+2*this.b[0])*r+this.c[0],(3*r*this.a[1]+2*this.b[1])*r+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(r){var x=this.derivative(r);return Math.atan2(x[1],x[0])},PolynomialBezier.prototype.normalAngle=function(r){var x=this.derivative(r);return Math.atan2(x[0],x[1])},PolynomialBezier.prototype.inflectionPoints=function(){var r=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(r))return[];var x=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/r,y=x*x-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/r;if(y<0)return[];var b=Math.sqrt(y);return floatZero(b)?b>0&&b<1?[x]:[]:[x-b,x+b].filter(function(R){return R>0&&R<1})},PolynomialBezier.prototype.split=function(r){if(r<=0)return[singlePoint(this.points[0]),this];if(r>=1)return[this,singlePoint(this.points[this.points.length-1])];var x=lerpPoint(this.points[0],this.points[1],r),y=lerpPoint(this.points[1],this.points[2],r),b=lerpPoint(this.points[2],this.points[3],r),R=lerpPoint(x,y,r),T=lerpPoint(y,b,r),A=lerpPoint(R,T,r);return[new PolynomialBezier(this.points[0],x,R,A,!0),new PolynomialBezier(A,T,b,this.points[3],!0)]};function extrema(r,x){var y=r.points[0][x],b=r.points[r.points.length-1][x];if(y>b){var R=b;b=y,y=R}for(var T=quadRoots(3*r.a[x],2*r.b[x],r.c[x]),A=0;A<T.length;A+=1)if(T[A]>0&&T[A]<1){var O=r.point(T[A])[x];O<y?y=O:O>b&&(b=O)}return{min:y,max:b}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var r=this.bounds();return{left:r.x.min,right:r.x.max,top:r.y.min,bottom:r.y.max,width:r.x.max-r.x.min,height:r.y.max-r.y.min,cx:(r.x.max+r.x.min)/2,cy:(r.y.max+r.y.min)/2}};function intersectData(r,x,y){var b=r.boundingBox();return{cx:b.cx,cy:b.cy,width:b.width,height:b.height,bez:r,t:(x+y)/2,t1:x,t2:y}}function splitData(r){var x=r.bez.split(.5);return[intersectData(x[0],r.t1,r.t),intersectData(x[1],r.t,r.t2)]}function boxIntersect(r,x){return Math.abs(r.cx-x.cx)*2<r.width+x.width&&Math.abs(r.cy-x.cy)*2<r.height+x.height}function intersectsImpl(r,x,y,b,R,T){if(boxIntersect(r,x)){if(y>=T||r.width<=b&&r.height<=b&&x.width<=b&&x.height<=b){R.push([r.t,x.t]);return}var A=splitData(r),O=splitData(x);intersectsImpl(A[0],O[0],y+1,b,R,T),intersectsImpl(A[0],O[1],y+1,b,R,T),intersectsImpl(A[1],O[0],y+1,b,R,T),intersectsImpl(A[1],O[1],y+1,b,R,T)}}PolynomialBezier.prototype.intersections=function(r,x,y){x===void 0&&(x=2),y===void 0&&(y=7);var b=[];return intersectsImpl(intersectData(this,0,1),intersectData(r,0,1),0,x,b,y),b},PolynomialBezier.shapeSegment=function(r,x){var y=(x+1)%r.length();return new PolynomialBezier(r.v[x],r.o[x],r.i[y],r.v[y],!0)},PolynomialBezier.shapeSegmentInverted=function(r,x){var y=(x+1)%r.length();return new PolynomialBezier(r.v[y],r.i[y],r.o[x],r.v[x],!0)};function crossProduct(r,x){return[r[1]*x[2]-r[2]*x[1],r[2]*x[0]-r[0]*x[2],r[0]*x[1]-r[1]*x[0]]}function lineIntersection(r,x,y,b){var R=[r[0],r[1],1],T=[x[0],x[1],1],A=[y[0],y[1],1],O=[b[0],b[1],1],B=crossProduct(crossProduct(R,T),crossProduct(A,O));return floatZero(B[2])?null:[B[0]/B[2],B[1]/B[2]]}function polarOffset(r,x,y){return[r[0]+Math.cos(x)*y,r[1]-Math.sin(x)*y]}function pointDistance(r,x){return Math.hypot(r[0]-x[0],r[1]-x[1])}function pointEqual(r,x){return floatEqual(r[0],x[0])&&floatEqual(r[1],x[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(r,x.s,0,null,this),this.frequency=PropertyFactory.getProp(r,x.r,0,null,this),this.pointsType=PropertyFactory.getProp(r,x.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(r,x,y,b,R,T,A){var O=y-Math.PI/2,B=y+Math.PI/2,U=x[0]+Math.cos(y)*b*R,K=x[1]-Math.sin(y)*b*R;r.setTripleAt(U,K,U+Math.cos(O)*T,K-Math.sin(O)*T,U+Math.cos(B)*A,K-Math.sin(B)*A,r.length())}function getPerpendicularVector(r,x){var y=[x[0]-r[0],x[1]-r[1]],b=-Math.PI*.5,R=[Math.cos(b)*y[0]-Math.sin(b)*y[1],Math.sin(b)*y[0]+Math.cos(b)*y[1]];return R}function getProjectingAngle(r,x){var y=x===0?r.length()-1:x-1,b=(x+1)%r.length(),R=r.v[y],T=r.v[b],A=getPerpendicularVector(R,T);return Math.atan2(0,1)-Math.atan2(A[1],A[0])}function zigZagCorner(r,x,y,b,R,T,A){var O=getProjectingAngle(x,y),B=x.v[y%x._length],U=x.v[y===0?x._length-1:y-1],K=x.v[(y+1)%x._length],J=T===2?Math.sqrt(Math.pow(B[0]-U[0],2)+Math.pow(B[1]-U[1],2)):0,te=T===2?Math.sqrt(Math.pow(B[0]-K[0],2)+Math.pow(B[1]-K[1],2)):0;setPoint(r,x.v[y%x._length],O,A,b,te/((R+1)*2),J/((R+1)*2))}function zigZagSegment(r,x,y,b,R,T){for(var A=0;A<b;A+=1){var O=(A+1)/(b+1),B=R===2?Math.sqrt(Math.pow(x.points[3][0]-x.points[0][0],2)+Math.pow(x.points[3][1]-x.points[0][1],2)):0,U=x.normalAngle(O),K=x.point(O);setPoint(r,K,U,T,y,B/((b+1)*2),B/((b+1)*2)),T=-T}return T}ZigZagModifier.prototype.processPath=function(r,x,y,b){var R=r._length,T=shapePool.newElement();if(T.c=r.c,r.c||(R-=1),R===0)return T;var A=-1,O=PolynomialBezier.shapeSegment(r,0);zigZagCorner(T,r,0,x,y,b,A);for(var B=0;B<R;B+=1)A=zigZagSegment(T,O,x,y,b,-A),B===R-1&&!r.c?O=null:O=PolynomialBezier.shapeSegment(r,(B+1)%R),zigZagCorner(T,r,B+1,x,y,b,A);return T},ZigZagModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,R,T,A=this.amplitude.v,O=Math.max(0,Math.round(this.frequency.v)),B=this.pointsType.v;if(A!==0){var U,K;for(y=0;y<b;y+=1){if(U=this.shapes[y],K=U.localShapeCollection,!(!U.shape._mdf&&!this._mdf&&!r))for(K.releaseShapes(),U.shape._mdf=!0,x=U.shape.paths.shapes,T=U.shape.paths._length,R=0;R<T;R+=1)K.addShape(this.processPath(x[R],A,O,B));U.shape.paths=U.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(r,x,y){var b=Math.atan2(x[0]-r[0],x[1]-r[1]);return[polarOffset(r,b,y),polarOffset(x,b,y)]}function offsetSegment(r,x){var y,b,R,T,A,O,B;B=linearOffset(r.points[0],r.points[1],x),y=B[0],b=B[1],B=linearOffset(r.points[1],r.points[2],x),R=B[0],T=B[1],B=linearOffset(r.points[2],r.points[3],x),A=B[0],O=B[1];var U=lineIntersection(y,b,R,T);U===null&&(U=b);var K=lineIntersection(A,O,R,T);return K===null&&(K=A),new PolynomialBezier(y,U,K,O)}function joinLines(r,x,y,b,R){var T=x.points[3],A=y.points[0];if(b===3||pointEqual(T,A))return T;if(b===2){var O=-x.tangentAngle(1),B=-y.tangentAngle(0)+Math.PI,U=lineIntersection(T,polarOffset(T,O+Math.PI/2,100),A,polarOffset(A,O+Math.PI/2,100)),K=U?pointDistance(U,T):pointDistance(T,A)/2,J=polarOffset(T,O,2*K*roundCorner);return r.setXYAt(J[0],J[1],"o",r.length()-1),J=polarOffset(A,B,2*K*roundCorner),r.setTripleAt(A[0],A[1],A[0],A[1],J[0],J[1],r.length()),A}var te=pointEqual(T,x.points[2])?x.points[0]:x.points[2],ae=pointEqual(A,y.points[1])?y.points[3]:y.points[1],ue=lineIntersection(te,T,A,ae);return ue&&pointDistance(ue,T)<R?(r.setTripleAt(ue[0],ue[1],ue[0],ue[1],ue[0],ue[1],r.length()),ue):T}function getIntersection(r,x){var y=r.intersections(x);return y.length&&floatEqual(y[0][0],1)&&y.shift(),y.length?y[0]:null}function pruneSegmentIntersection(r,x){var y=r.slice(),b=x.slice(),R=getIntersection(r[r.length-1],x[0]);return R&&(y[r.length-1]=r[r.length-1].split(R[0])[0],b[0]=x[0].split(R[1])[1]),r.length>1&&x.length>1&&(R=getIntersection(r[0],x[x.length-1]),R)?[[r[0].split(R[0])[0]],[x[x.length-1].split(R[1])[1]]]:[y,b]}function pruneIntersections(r){for(var x,y=1;y<r.length;y+=1)x=pruneSegmentIntersection(r[y-1],r[y]),r[y-1]=x[0],r[y]=x[1];return r.length>1&&(x=pruneSegmentIntersection(r[r.length-1],r[0]),r[r.length-1]=x[0],r[0]=x[1]),r}function offsetSegmentSplit(r,x){var y=r.inflectionPoints(),b,R,T,A;if(y.length===0)return[offsetSegment(r,x)];if(y.length===1||floatEqual(y[1],1))return T=r.split(y[0]),b=T[0],R=T[1],[offsetSegment(b,x),offsetSegment(R,x)];T=r.split(y[0]),b=T[0];var O=(y[1]-y[0])/(1-y[0]);return T=T[1].split(O),A=T[0],R=T[1],[offsetSegment(b,x),offsetSegment(A,x),offsetSegment(R,x)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,x.a,0,null,this),this.miterLimit=PropertyFactory.getProp(r,x.ml,0,null,this),this.lineJoin=x.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(r,x,y,b){var R=shapePool.newElement();R.c=r.c;var T=r.length();r.c||(T-=1);var A,O,B,U=[];for(A=0;A<T;A+=1)B=PolynomialBezier.shapeSegment(r,A),U.push(offsetSegmentSplit(B,x));if(!r.c)for(A=T-1;A>=0;A-=1)B=PolynomialBezier.shapeSegmentInverted(r,A),U.push(offsetSegmentSplit(B,x));U=pruneIntersections(U);var K=null,J=null;for(A=0;A<U.length;A+=1){var te=U[A];for(J&&(K=joinLines(R,J,te[0],y,b)),J=te[te.length-1],O=0;O<te.length;O+=1)B=te[O],K&&pointEqual(B.points[0],K)?R.setXYAt(B.points[1][0],B.points[1][1],"o",R.length()-1):R.setTripleAt(B.points[0][0],B.points[0][1],B.points[1][0],B.points[1][1],B.points[0][0],B.points[0][1],R.length()),R.setTripleAt(B.points[3][0],B.points[3][1],B.points[3][0],B.points[3][1],B.points[2][0],B.points[2][1],R.length()),K=B.points[3]}return U.length&&joinLines(R,J,U[0][0],y,b),R},OffsetPathModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,R,T,A=this.amount.v,O=this.miterLimit.v,B=this.lineJoin;if(A!==0){var U,K;for(y=0;y<b;y+=1){if(U=this.shapes[y],K=U.localShapeCollection,!(!U.shape._mdf&&!this._mdf&&!r))for(K.releaseShapes(),U.shape._mdf=!0,x=U.shape.paths.shapes,T=U.shape.paths._length,R=0;R<T;R+=1)K.addShape(this.processPath(x[R],A,B,O));U.shape.paths=U.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(r){for(var x=r.fStyle?r.fStyle.split(" "):[],y="normal",b="normal",R=x.length,T,A=0;A<R;A+=1)switch(T=x[A].toLowerCase(),T){case"italic":b="italic";break;case"bold":y="700";break;case"black":y="900";break;case"medium":y="500";break;case"regular":case"normal":y="400";break;case"light":case"thin":y="200";break}return{style:b,weight:r.fWeight||y}}var FontManager=(function(){var r=5e3,x={w:0,size:0,shapes:[],data:{shapes:[]}},y=[];y=y.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var b=127988,R=917631,T=917601,A=917626,O=65039,B=8205,U=127462,K=127487,J=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function te(Ke){var Je=Ke.split(","),We,Ze=Je.length,dt=[];for(We=0;We<Ze;We+=1)Je[We]!=="sans-serif"&&Je[We]!=="monospace"&&dt.push(Je[We]);return dt.join(",")}function ae(Ke,Je){var We=createTag("span");We.setAttribute("aria-hidden",!0),We.style.fontFamily=Je;var Ze=createTag("span");Ze.innerText="giItT1WQy@!-/#",We.style.position="absolute",We.style.left="-10000px",We.style.top="-10000px",We.style.fontSize="300px",We.style.fontVariant="normal",We.style.fontStyle="normal",We.style.fontWeight="normal",We.style.letterSpacing="0",We.appendChild(Ze),document.body.appendChild(We);var dt=Ze.offsetWidth;return Ze.style.fontFamily=te(Ke)+", "+Je,{node:Ze,w:dt,parent:We}}function ue(){var Ke,Je=this.fonts.length,We,Ze,dt=Je;for(Ke=0;Ke<Je;Ke+=1)this.fonts[Ke].loaded?dt-=1:this.fonts[Ke].fOrigin==="n"||this.fonts[Ke].origin===0?this.fonts[Ke].loaded=!0:(We=this.fonts[Ke].monoCase.node,Ze=this.fonts[Ke].monoCase.w,We.offsetWidth!==Ze?(dt-=1,this.fonts[Ke].loaded=!0):(We=this.fonts[Ke].sansCase.node,Ze=this.fonts[Ke].sansCase.w,We.offsetWidth!==Ze&&(dt-=1,this.fonts[Ke].loaded=!0)),this.fonts[Ke].loaded&&(this.fonts[Ke].sansCase.parent.parentNode.removeChild(this.fonts[Ke].sansCase.parent),this.fonts[Ke].monoCase.parent.parentNode.removeChild(this.fonts[Ke].monoCase.parent)));dt!==0&&Date.now()-this.initTime<r?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function pe(Ke,Je){var We=document.body&&Je?"svg":"canvas",Ze,dt=getFontProperties(Ke);if(We==="svg"){var et=createNS("text");et.style.fontSize="100px",et.setAttribute("font-family",Ke.fFamily),et.setAttribute("font-style",dt.style),et.setAttribute("font-weight",dt.weight),et.textContent="1",Ke.fClass?(et.style.fontFamily="inherit",et.setAttribute("class",Ke.fClass)):et.style.fontFamily=Ke.fFamily,Je.appendChild(et),Ze=et}else{var ft=new OffscreenCanvas(500,500).getContext("2d");ft.font=dt.style+" "+dt.weight+" 100px "+Ke.fFamily,Ze=ft}function Et(St){return We==="svg"?(Ze.textContent=St,Ze.getComputedTextLength()):Ze.measureText(St).width}return{measureText:Et}}function $e(Ke,Je){if(!Ke){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ke.list;return}if(!document.body){this.isLoaded=!0,Ke.list.forEach(function(nn){nn.helper=pe(nn),nn.cache={}}),this.fonts=Ke.list;return}var We=Ke.list,Ze,dt=We.length,et=dt;for(Ze=0;Ze<dt;Ze+=1){var ft=!0,Et,St;if(We[Ze].loaded=!1,We[Ze].monoCase=ae(We[Ze].fFamily,"monospace"),We[Ze].sansCase=ae(We[Ze].fFamily,"sans-serif"),!We[Ze].fPath)We[Ze].loaded=!0,et-=1;else if(We[Ze].fOrigin==="p"||We[Ze].origin===3){if(Et=document.querySelectorAll('style[f-forigin="p"][f-family="'+We[Ze].fFamily+'"], style[f-origin="3"][f-family="'+We[Ze].fFamily+'"]'),Et.length>0&&(ft=!1),ft){var Bt=createTag("style");Bt.setAttribute("f-forigin",We[Ze].fOrigin),Bt.setAttribute("f-origin",We[Ze].origin),Bt.setAttribute("f-family",We[Ze].fFamily),Bt.type="text/css",Bt.innerText="@font-face {font-family: "+We[Ze].fFamily+"; font-style: normal; src: url('"+We[Ze].fPath+"');}",Je.appendChild(Bt)}}else if(We[Ze].fOrigin==="g"||We[Ze].origin===1){for(Et=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),St=0;St<Et.length;St+=1)Et[St].href.indexOf(We[Ze].fPath)!==-1&&(ft=!1);if(ft){var Rt=createTag("link");Rt.setAttribute("f-forigin",We[Ze].fOrigin),Rt.setAttribute("f-origin",We[Ze].origin),Rt.type="text/css",Rt.rel="stylesheet",Rt.href=We[Ze].fPath,document.body.appendChild(Rt)}}else if(We[Ze].fOrigin==="t"||We[Ze].origin===2){for(Et=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),St=0;St<Et.length;St+=1)We[Ze].fPath===Et[St].src&&(ft=!1);if(ft){var Yt=createTag("link");Yt.setAttribute("f-forigin",We[Ze].fOrigin),Yt.setAttribute("f-origin",We[Ze].origin),Yt.setAttribute("rel","stylesheet"),Yt.setAttribute("href",We[Ze].fPath),Je.appendChild(Yt)}}We[Ze].helper=pe(We[Ze],Je),We[Ze].cache={},this.fonts.push(We[Ze])}et===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Ne(Ke){if(Ke){this.chars||(this.chars=[]);var Je,We=Ke.length,Ze,dt=this.chars.length,et;for(Je=0;Je<We;Je+=1){for(Ze=0,et=!1;Ze<dt;)this.chars[Ze].style===Ke[Je].style&&this.chars[Ze].fFamily===Ke[Je].fFamily&&this.chars[Ze].ch===Ke[Je].ch&&(et=!0),Ze+=1;et||(this.chars.push(Ke[Je]),dt+=1)}}}function Be(Ke,Je,We){for(var Ze=0,dt=this.chars.length;Ze<dt;){if(this.chars[Ze].ch===Ke&&this.chars[Ze].style===Je&&this.chars[Ze].fFamily===We)return this.chars[Ze];Ze+=1}return(typeof Ke=="string"&&Ke.charCodeAt(0)!==13||!Ke)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ke,Je,We)),x}function _e(Ke,Je,We){var Ze=this.getFontByName(Je),dt=Ke;if(!Ze.cache[dt]){var et=Ze.helper;if(Ke===" "){var ft=et.measureText("|"+Ke+"|"),Et=et.measureText("||");Ze.cache[dt]=(ft-Et)/100}else Ze.cache[dt]=et.measureText(Ke)/100}return Ze.cache[dt]*We}function xe(Ke){for(var Je=0,We=this.fonts.length;Je<We;){if(this.fonts[Je].fName===Ke)return this.fonts[Je];Je+=1}return this.fonts[0]}function Le(Ke){var Je=0,We=Ke.charCodeAt(0);if(We>=55296&&We<=56319){var Ze=Ke.charCodeAt(1);Ze>=56320&&Ze<=57343&&(Je=(We-55296)*1024+Ze-56320+65536)}return Je}function Ue(Ke,Je){var We=Ke.toString(16)+Je.toString(16);return J.indexOf(We)!==-1}function He(Ke){return Ke===B}function qe(Ke){return Ke===O}function Qe(Ke){var Je=Le(Ke);return Je>=U&&Je<=K}function lt(Ke){return Qe(Ke.substr(0,2))&&Qe(Ke.substr(2,2))}function ct(Ke){return y.indexOf(Ke)!==-1}function ot(Ke,Je){var We=Le(Ke.substr(Je,2));if(We!==b)return!1;var Ze=0;for(Je+=2;Ze<5;){if(We=Le(Ke.substr(Je,2)),We<T||We>A)return!1;Ze+=1,Je+=2}return Le(Ke.substr(Je,2))===R}function pt(){this.isLoaded=!0}var yt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};yt.isModifier=Ue,yt.isZeroWidthJoiner=He,yt.isFlagEmoji=lt,yt.isRegionalCode=Qe,yt.isCombinedCharacter=ct,yt.isRegionalFlag=ot,yt.isVariationSelector=qe,yt.BLACK_FLAG_CODE_POINT=b;var it={addChars:Ne,addFonts:$e,getCharData:Be,getFontByName:xe,measureText:_e,checkLoadedFonts:ue,setIsLoaded:pt};return yt.prototype=it,yt})();function SlotManager(r){this.animationData=r}SlotManager.prototype.getProp=function(r){return this.animationData.slots&&this.animationData.slots[r.sid]?Object.assign(r,this.animationData.slots[r.sid].p):r};function slotFactory(r){return new SlotManager(r)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(x){this.renderableComponents.indexOf(x)===-1&&this.renderableComponents.push(x)},removeRenderableComponent:function(x){this.renderableComponents.indexOf(x)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(x),1)},prepareRenderableFrame:function(x){this.checkLayerLimits(x)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(x){this.data.ip-this.data.st<=x&&this.data.op-this.data.st>x?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var x,y=this.renderableComponents.length;for(x=0;x<y;x+=1)this.renderableComponents[x].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var r={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(x){return r[x]||""}})();function SliderEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function AngleEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function ColorEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,1,0,y)}function PointEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,1,0,y)}function LayerIndexEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function MaskIndexEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function CheckboxEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function NoValueEffect(){this.p={}}function EffectsManager(r,x){var y=r.ef||[];this.effectElements=[];var b,R=y.length,T;for(b=0;b<R;b+=1)T=new GroupEffect(y[b],x),this.effectElements.push(T)}function GroupEffect(r,x){this.init(r,x)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(r,x){this.data=r,this.effectElements=[],this.initDynamicPropertyContainer(x);var y,b=this.data.ef.length,R,T=this.data.ef;for(y=0;y<b;y+=1){switch(R=null,T[y].ty){case 0:R=new SliderEffect(T[y],x,this);break;case 1:R=new AngleEffect(T[y],x,this);break;case 2:R=new ColorEffect(T[y],x,this);break;case 3:R=new PointEffect(T[y],x,this);break;case 4:case 7:R=new CheckboxEffect(T[y],x,this);break;case 10:R=new LayerIndexEffect(T[y],x,this);break;case 11:R=new MaskIndexEffect(T[y],x,this);break;case 5:R=new EffectsManager(T[y],x);break;default:R=new NoValueEffect(T[y]);break}R&&this.effectElements.push(R)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var x=0,y=this.data.masksProperties.length;x<y;){if(this.data.masksProperties[x].mode!=="n"&&this.data.masksProperties[x].cl!==!1)return!0;x+=1}return!1},initExpressions:function(){var x=getExpressionInterfaces();if(x){var y=x("layer"),b=x("effects"),R=x("shape"),T=x("text"),A=x("comp");this.layerInterface=y(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var O=b.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(O),this.data.ty===0||this.data.xt?this.compInterface=A(this):this.data.ty===4?(this.layerInterface.shapeInterface=R(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=T(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var x=getBlendMode(this.data.bm),y=this.baseElement||this.layerElement;y.style["mix-blend-mode"]=x},initBaseData:function(x,y,b){this.globalData=y,this.comp=b,this.data=x,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(x,y){var b,R=this.dynamicProperties.length;for(b=0;b<R;b+=1)(y||this._isParent&&this.dynamicProperties[b].propType==="transform")&&(this.dynamicProperties[b].getValue(),this.dynamicProperties[b]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(x){this.dynamicProperties.indexOf(x)===-1&&this.dynamicProperties.push(x)}};function FootageElement(r,x,y){this.initFrame(),this.initRenderable(),this.assetData=x.getAssetData(r.refId),this.footageData=x.imageLoader.getAsset(this.assetData),this.initBaseData(r,x,y)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var r=getExpressionInterfaces();if(r){var x=r("footage");this.layerInterface=x(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(r,x,y){this.initFrame(),this.initRenderable(),this.assetData=x.getAssetData(r.refId),this.initBaseData(r,x,y),this._isPlaying=!1,this._canPlay=!1;var b=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(b),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,r.au&&r.au.lv?r.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(r){if(this.prepareRenderableFrame(r,!0),this.prepareProperties(r,!0),this.tm._placeholder)this._currentTime=r/this.data.sr;else{var x=this.tm.v;this._currentTime=x}this._volume=this.lv.v[0];var y=this._volume*this._volumeMultiplier;this._previousVolume!==y&&(this._previousVolume=y,this.audio.volume(y))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(r){this.audio.rate(r)},AudioElement.prototype.volume=function(r){this._volumeMultiplier=r,this._previousVolume=r*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(r){var x,y=this.layers.length,b;for(this.completeLayers=!0,x=y-1;x>=0;x-=1)this.elements[x]||(b=this.layers[x],b.ip-b.st<=r-this.layers[x].st&&b.op-b.st>r-this.layers[x].st&&this.buildItem(x)),this.completeLayers=this.elements[x]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(r){switch(r.ty){case 2:return this.createImage(r);case 0:return this.createComp(r);case 1:return this.createSolid(r);case 3:return this.createNull(r);case 4:return this.createShape(r);case 5:return this.createText(r);case 6:return this.createAudio(r);case 13:return this.createCamera(r);case 15:return this.createFootage(r);default:return this.createNull(r)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(r){return new AudioElement(r,this.globalData,this)},BaseRenderer.prototype.createFootage=function(r){return new FootageElement(r,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)this.buildItem(r);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(r){this.completeLayers=!1;var x,y=r.length,b,R=this.layers.length;for(x=0;x<y;x+=1)for(b=0;b<R;){if(this.layers[b].id===r[x].id){this.layers[b]=r[x];break}b+=1}},BaseRenderer.prototype.setProjectInterface=function(r){this.globalData.projectInterface=r},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(r,x,y){for(var b=this.elements,R=this.layers,T=0,A=R.length;T<A;)R[T].ind==x&&(!b[T]||b[T]===!0?(this.buildItem(T),this.addPendingElement(r)):(y.push(b[T]),b[T].setAsParent(),R[T].parent!==void 0?this.buildElementParenting(r,R[T].parent,y):r.setHierarchy(y))),T+=1},BaseRenderer.prototype.addPendingElement=function(r){this.pendingElements.push(r)},BaseRenderer.prototype.searchExtraCompositions=function(r){var x,y=r.length;for(x=0;x<y;x+=1)if(r[x].xt){var b=this.createComp(r[x]);b.initExpressions(),this.globalData.projectInterface.registerComposition(b)}},BaseRenderer.prototype.getElementById=function(r){var x,y=this.elements.length;for(x=0;x<y;x+=1)if(this.elements[x].data.ind===r)return this.elements[x];return null},BaseRenderer.prototype.getElementByPath=function(r){var x=r.shift(),y;if(typeof x=="number")y=this.elements[x];else{var b,R=this.elements.length;for(b=0;b<R;b+=1)if(this.elements[b].data.nm===x){y=this.elements[b];break}}return r.length===0?y:y.getElementByPath(r)},BaseRenderer.prototype.setupGlobalData=function(r,x){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(r),this.globalData.fontManager.addChars(r.chars),this.globalData.fontManager.addFonts(r.fonts,x),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=r.fr,this.globalData.nm=r.nm,this.globalData.compSize={w:r.w,h:r.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var x=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:x,localMat:x,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var x,y=this.finalTransform.mat,b=0,R=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;b<R;){if(this.hierarchy[b].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}b+=1}if(this.finalTransform._matMdf)for(x=this.finalTransform.mProp.v.props,y.cloneFromProps(x),b=0;b<R;b+=1)y.multiply(this.hierarchy[b].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var x=0,y=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;x<y;)this.localTransforms[x]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[x]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),x+=1;if(this.finalTransform._localMatMdf){var b=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(b),x=1;x<y;x+=1){var R=this.localTransforms[x].matrix;b.multiply(R)}b.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var T=this.finalTransform.localOpacity;for(x=0;x<y;x+=1)T*=this.localTransforms[x].opacity*.01;this.finalTransform.localOpacity=T}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var x=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(x.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var y=0,b=x.length;for(y=0;y<b;y+=1)this.localTransforms.push(x[y])}}},globalToLocal:function(x){var y=[];y.push(this.finalTransform);for(var b=!0,R=this.comp;b;)R.finalTransform?(R.data.hasMask&&y.splice(0,0,R.finalTransform),R=R.comp):b=!1;var T,A=y.length,O;for(T=0;T<A;T+=1)O=y[T].mat.applyToPointArray(0,0,0),x=[x[0]-O[0],x[1]-O[1],0];return x},mHelper:new Matrix};function MaskElement(r,x,y){this.data=r,this.element=x,this.globalData=y,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var b=this.globalData.defs,R,T=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(T),this.solidPath="";var A,O=this.masksProperties,B=0,U=[],K,J,te=createElementID(),ae,ue,pe,$e,Ne="clipPath",Be="clip-path";for(R=0;R<T;R+=1)if((O[R].mode!=="a"&&O[R].mode!=="n"||O[R].inv||O[R].o.k!==100||O[R].o.x)&&(Ne="mask",Be="mask"),(O[R].mode==="s"||O[R].mode==="i")&&B===0?(ae=createNS("rect"),ae.setAttribute("fill","#ffffff"),ae.setAttribute("width",this.element.comp.data.w||0),ae.setAttribute("height",this.element.comp.data.h||0),U.push(ae)):ae=null,A=createNS("path"),O[R].mode==="n")this.viewData[R]={op:PropertyFactory.getProp(this.element,O[R].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,O[R],3),elem:A,lastPath:""},b.appendChild(A);else{B+=1,A.setAttribute("fill",O[R].mode==="s"?"#000000":"#ffffff"),A.setAttribute("clip-rule","nonzero");var _e;if(O[R].x.k!==0?(Ne="mask",Be="mask",$e=PropertyFactory.getProp(this.element,O[R].x,0,null,this.element),_e=createElementID(),ue=createNS("filter"),ue.setAttribute("id",_e),pe=createNS("feMorphology"),pe.setAttribute("operator","erode"),pe.setAttribute("in","SourceGraphic"),pe.setAttribute("radius","0"),ue.appendChild(pe),b.appendChild(ue),A.setAttribute("stroke",O[R].mode==="s"?"#000000":"#ffffff")):(pe=null,$e=null),this.storedData[R]={elem:A,x:$e,expan:pe,lastPath:"",lastOperator:"",filterId:_e,lastRadius:0},O[R].mode==="i"){J=U.length;var xe=createNS("g");for(K=0;K<J;K+=1)xe.appendChild(U[K]);var Le=createNS("mask");Le.setAttribute("mask-type","alpha"),Le.setAttribute("id",te+"_"+B),Le.appendChild(A),b.appendChild(Le),xe.setAttribute("mask","url("+getLocationHref()+"#"+te+"_"+B+")"),U.length=0,U.push(xe)}else U.push(A);O[R].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[R]={elem:A,lastPath:"",op:PropertyFactory.getProp(this.element,O[R].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,O[R],3),invRect:ae},this.viewData[R].prop.k||this.drawPath(O[R],this.viewData[R].prop.v,this.viewData[R])}for(this.maskElement=createNS(Ne),T=U.length,R=0;R<T;R+=1)this.maskElement.appendChild(U[R]);B>0&&(this.maskElement.setAttribute("id",te),this.element.maskedElement.setAttribute(Be,"url("+getLocationHref()+"#"+te+")"),b.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(r){return this.viewData[r].prop},MaskElement.prototype.renderFrame=function(r){var x=this.element.finalTransform.mat,y,b=this.masksProperties.length;for(y=0;y<b;y+=1)if((this.viewData[y].prop._mdf||r)&&this.drawPath(this.masksProperties[y],this.viewData[y].prop.v,this.viewData[y]),(this.viewData[y].op._mdf||r)&&this.viewData[y].elem.setAttribute("fill-opacity",this.viewData[y].op.v),this.masksProperties[y].mode!=="n"&&(this.viewData[y].invRect&&(this.element.finalTransform.mProp._mdf||r)&&this.viewData[y].invRect.setAttribute("transform",x.getInverseMatrix().to2dCSS()),this.storedData[y].x&&(this.storedData[y].x._mdf||r))){var R=this.storedData[y].expan;this.storedData[y].x.v<0?(this.storedData[y].lastOperator!=="erode"&&(this.storedData[y].lastOperator="erode",this.storedData[y].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[y].filterId+")")),R.setAttribute("radius",-this.storedData[y].x.v)):(this.storedData[y].lastOperator!=="dilate"&&(this.storedData[y].lastOperator="dilate",this.storedData[y].elem.setAttribute("filter",null)),this.storedData[y].elem.setAttribute("stroke-width",this.storedData[y].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var r="M0,0 ";return r+=" h"+this.globalData.compSize.w,r+=" v"+this.globalData.compSize.h,r+=" h-"+this.globalData.compSize.w,r+=" v-"+this.globalData.compSize.h+" ",r},MaskElement.prototype.drawPath=function(r,x,y){var b=" M"+x.v[0][0]+","+x.v[0][1],R,T;for(T=x._length,R=1;R<T;R+=1)b+=" C"+x.o[R-1][0]+","+x.o[R-1][1]+" "+x.i[R][0]+","+x.i[R][1]+" "+x.v[R][0]+","+x.v[R][1];if(x.c&&T>1&&(b+=" C"+x.o[R-1][0]+","+x.o[R-1][1]+" "+x.i[0][0]+","+x.i[0][1]+" "+x.v[0][0]+","+x.v[0][1]),y.lastPath!==b){var A="";y.elem&&(x.c&&(A=r.inv?this.solidPath+b:b),y.elem.setAttribute("d",A)),y.lastPath=b}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var r={};r.createFilter=x,r.createAlphaToLuminanceFilter=y;function x(b,R){var T=createNS("filter");return T.setAttribute("id",b),R!==!0&&(T.setAttribute("filterUnits","objectBoundingBox"),T.setAttribute("x","0%"),T.setAttribute("y","0%"),T.setAttribute("width","100%"),T.setAttribute("height","100%")),T}function y(){var b=createNS("feColorMatrix");return b.setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),b}return r})(),featureSupport=(function(){var r={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(r.maskType=!1),/firefox/i.test(navigator.userAgent)&&(r.svgLumaHidden=!1),r})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(r){var x,y="SourceGraphic",b=r.data.ef?r.data.ef.length:0,R=createElementID(),T=filtersFactory.createFilter(R,!0),A=0;this.filters=[];var O;for(x=0;x<b;x+=1){O=null;var B=r.data.ef[x].ty;if(registeredEffects$1[B]){var U=registeredEffects$1[B].effect;O=new U(T,r.effectsManager.effectElements[x],r,idPrefix+A,y),y=idPrefix+A,registeredEffects$1[B].countsAsEffect&&(A+=1)}O&&this.filters.push(O)}A&&(r.globalData.defs.appendChild(T),r.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+R+")")),this.filters.length&&r.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(r){var x,y=this.filters.length;for(x=0;x<y;x+=1)this.filters[x].renderFrame(r)},SVGEffects.prototype.getEffects=function(r){var x,y=this.filters.length,b=[];for(x=0;x<y;x+=1)this.filters[x].type===r&&b.push(this.filters[x]);return b};function registerEffect$1(r,x,y){registeredEffects$1[r]={effect:x,countsAsEffect:y}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var x=null;if(this.data.td){this.matteMasks={};var y=createNS("g");y.setAttribute("id",this.layerId),y.appendChild(this.layerElement),x=y,this.globalData.defs.appendChild(y)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),x=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var b=createNS("clipPath"),R=createNS("path");R.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var T=createElementID();if(b.setAttribute("id",T),b.appendChild(R),this.globalData.defs.appendChild(b),this.checkMasks()){var A=createNS("g");A.setAttribute("clip-path","url("+getLocationHref()+"#"+T+")"),A.appendChild(this.layerElement),this.transformedElement=A,x?x.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+T+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(x){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[x]){var y=this.layerId+"_"+x,b,R,T,A;if(x===1||x===3){var O=createNS("mask");O.setAttribute("id",y),O.setAttribute("mask-type",x===3?"luminance":"alpha"),T=createNS("use"),T.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),O.appendChild(T),this.globalData.defs.appendChild(O),!featureSupport.maskType&&x===1&&(O.setAttribute("mask-type","luminance"),b=createElementID(),R=filtersFactory.createFilter(b),this.globalData.defs.appendChild(R),R.appendChild(filtersFactory.createAlphaToLuminanceFilter()),A=createNS("g"),A.appendChild(T),O.appendChild(A),A.setAttribute("filter","url("+getLocationHref()+"#"+b+")"))}else if(x===2){var B=createNS("mask");B.setAttribute("id",y),B.setAttribute("mask-type","alpha");var U=createNS("g");B.appendChild(U),b=createElementID(),R=filtersFactory.createFilter(b);var K=createNS("feComponentTransfer");K.setAttribute("in","SourceGraphic"),R.appendChild(K);var J=createNS("feFuncA");J.setAttribute("type","table"),J.setAttribute("tableValues","1.0 0.0"),K.appendChild(J),this.globalData.defs.appendChild(R);var te=createNS("rect");te.setAttribute("width",this.comp.data.w),te.setAttribute("height",this.comp.data.h),te.setAttribute("x","0"),te.setAttribute("y","0"),te.setAttribute("fill","#ffffff"),te.setAttribute("opacity","0"),U.setAttribute("filter","url("+getLocationHref()+"#"+b+")"),U.appendChild(te),T=createNS("use"),T.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),U.appendChild(T),featureSupport.maskType||(B.setAttribute("mask-type","luminance"),R.appendChild(filtersFactory.createAlphaToLuminanceFilter()),A=createNS("g"),U.appendChild(te),A.appendChild(this.layerElement),U.appendChild(A)),this.globalData.defs.appendChild(B)}this.matteMasks[x]=y}return this.matteMasks[x]},setMatte:function(x){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+x+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(x){this.hierarchy=x},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var r={initElement:function(y,b,R){this.initFrame(),this.initBaseData(y,b,R),this.initTransform(y,b,R),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var y=this.baseElement||this.layerElement;y.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var y=this.baseElement||this.layerElement;y.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(y){this._mdf=!1,this.prepareRenderableFrame(y),this.prepareProperties(y,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(r)],RenderableDOMElement)})();function IImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.assetData&&this.assetData.sid&&(this.assetData=x.slotManager.getProp(this.assetData)),this.initElement(r,x,y),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(r,x){this.elem=r,this.pos=x}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(x){var y,b=this.shapeModifiers.length;for(y=0;y<b;y+=1)this.shapeModifiers[y].addShape(x)},isShapeInAnimatedModifiers:function(x){for(var y=0,b=this.shapeModifiers.length;y<b;)if(this.shapeModifiers[y].isAnimatedWithShape(x))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var x,y=this.shapes.length;for(x=0;x<y;x+=1)this.shapes[x].sh.reset();y=this.shapeModifiers.length;var b;for(x=y-1;x>=0&&(b=this.shapeModifiers[x].processShapes(this._isFirstFrame),!b);x-=1);}},searchProcessedElement:function(x){for(var y=this.processedElements,b=0,R=y.length;b<R;){if(y[b].elem===x)return y[b].pos;b+=1}return 0},addProcessedElement:function(x,y){for(var b=this.processedElements,R=b.length;R;)if(R-=1,b[R].elem===x){b[R].pos=y;return}b.push(new ProcessedElement(x,y))},prepareFrame:function(x){this.prepareRenderableFrame(x),this.prepareProperties(x,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(r,x,y){this.caches=[],this.styles=[],this.transformers=r,this.lStr="",this.sh=y,this.lvl=x,this._isAnimated=!!y.k;for(var b=0,R=r.length;b<R;){if(r[b].mProps.dynamicProperties.length){this._isAnimated=!0;break}b+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(r,x){this.data=r,this.type=r.ty,this.d="",this.lvl=x,this._mdf=!1,this.closed=r.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(r,x,y,b){this.elem=r,this.frameId=-1,this.dataProps=createSizedArray(x.length),this.renderer=y,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",x.length?x.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(b);var R,T=x.length||0,A;for(R=0;R<T;R+=1)A=PropertyFactory.getProp(r,x[R].v,0,0,this),this.k=A.k||this.k,this.dataProps[R]={n:x[R].n,p:A};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(r){if(!(this.elem.globalData.frameId===this.frameId&&!r)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||r,this._mdf)){var x=0,y=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),x=0;x<y;x+=1)this.dataProps[x].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[x].p.v:this.dashArray[x]=this.dataProps[x].p.v:this.dashoffset[0]=this.dataProps[x].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.w=PropertyFactory.getProp(r,x.w,0,null,this),this.d=new DashProperty(r,x.d||{},"svg",this),this.c=PropertyFactory.getProp(r,x.c,1,255,this),this.style=y,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.c=PropertyFactory.getProp(r,x.c,1,255,this),this.style=y}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.style=y}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(r,x,y){this.data=x,this.c=createTypedArray("uint8c",x.p*4);var b=x.k.k[0].s?x.k.k[0].s.length-x.p*4:x.k.k.length-x.p*4;this.o=createTypedArray("float32",b),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=b,this.initDynamicPropertyContainer(y),this.prop=PropertyFactory.getProp(r,x.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(r,x){for(var y=0,b=this.o.length/2,R;y<b;){if(R=Math.abs(r[y*4]-r[x*4+y*2]),R>.01)return!1;y+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var r=0,x=this.data.k.k.length;r<x;){if(!this.comparePoints(this.data.k.k[r].s,this.data.p))return!1;r+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(r){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||r){var x,y=this.data.p*4,b,R;for(x=0;x<y;x+=1)b=x%4===0?100:255,R=Math.round(this.prop.v[x]*b),this.c[x]!==R&&(this.c[x]=R,this._cmdf=!r);if(this.o.length)for(y=this.prop.v.length,x=this.data.p*4;x<y;x+=1)b=x%2===0?100:1,R=x%2===0?Math.round(this.prop.v[x]*100):this.prop.v[x],this.o[x-this.data.p*4]!==R&&(this.o[x-this.data.p*4]=R,this._omdf=!r);this._mdf=!r}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.initGradientData(r,x,y)}SVGGradientFillStyleData.prototype.initGradientData=function(r,x,y){this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.s=PropertyFactory.getProp(r,x.s,1,null,this),this.e=PropertyFactory.getProp(r,x.e,1,null,this),this.h=PropertyFactory.getProp(r,x.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(r,x.a||{k:0},0,degToRads,this),this.g=new GradientProperty(r,x.g,this),this.style=y,this.stops=[],this.setGradientData(y.pElem,x),this.setGradientOpacity(x,y),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(r,x){var y=createElementID(),b=createNS(x.t===1?"linearGradient":"radialGradient");b.setAttribute("id",y),b.setAttribute("spreadMethod","pad"),b.setAttribute("gradientUnits","userSpaceOnUse");var R=[],T,A,O;for(O=x.g.p*4,A=0;A<O;A+=4)T=createNS("stop"),b.appendChild(T),R.push(T);r.setAttribute(x.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+y+")"),this.gf=b,this.cst=R},SVGGradientFillStyleData.prototype.setGradientOpacity=function(r,x){if(this.g._hasOpacity&&!this.g._collapsable){var y,b,R,T=createNS("mask"),A=createNS("path");T.appendChild(A);var O=createElementID(),B=createElementID();T.setAttribute("id",B);var U=createNS(r.t===1?"linearGradient":"radialGradient");U.setAttribute("id",O),U.setAttribute("spreadMethod","pad"),U.setAttribute("gradientUnits","userSpaceOnUse"),R=r.g.k.k[0].s?r.g.k.k[0].s.length:r.g.k.k.length;var K=this.stops;for(b=r.g.p*4;b<R;b+=2)y=createNS("stop"),y.setAttribute("stop-color","rgb(255,255,255)"),U.appendChild(y),K.push(y);A.setAttribute(r.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+O+")"),r.ty==="gs"&&(A.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),A.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),r.lj===1&&A.setAttribute("stroke-miterlimit",r.ml)),this.of=U,this.ms=T,this.ost=K,this.maskId=B,x.msElem=A}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(r,x.w,0,null,this),this.d=new DashProperty(r,x.d||{},"svg",this),this.initGradientData(r,x,y),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(r,x,y){this.transform={mProps:r,op:x,container:y},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(x,y,b,R){if(y===0)return"";var T=x.o,A=x.i,O=x.v,B,U=" M"+R.applyToPointStringified(O[0][0],O[0][1]);for(B=1;B<y;B+=1)U+=" C"+R.applyToPointStringified(T[B-1][0],T[B-1][1])+" "+R.applyToPointStringified(A[B][0],A[B][1])+" "+R.applyToPointStringified(O[B][0],O[B][1]);return b&&y&&(U+=" C"+R.applyToPointStringified(T[B-1][0],T[B-1][1])+" "+R.applyToPointStringified(A[0][0],A[0][1])+" "+R.applyToPointStringified(O[0][0],O[0][1]),U+="z"),U},SVGElementsRenderer=(function(){var r=new Matrix,x=new Matrix,y={createRenderFunction:b};function b(J){switch(J.ty){case"fl":return O;case"gf":return U;case"gs":return B;case"st":return K;case"sh":case"el":case"rc":case"sr":return A;case"tr":return R;case"no":return T;default:return null}}function R(J,te,ae){(ae||te.transform.op._mdf)&&te.transform.container.setAttribute("opacity",te.transform.op.v),(ae||te.transform.mProps._mdf)&&te.transform.container.setAttribute("transform",te.transform.mProps.v.to2dCSS())}function T(){}function A(J,te,ae){var ue,pe,$e,Ne,Be,_e,xe=te.styles.length,Le=te.lvl,Ue,He,qe,Qe;for(_e=0;_e<xe;_e+=1){if(Ne=te.sh._mdf||ae,te.styles[_e].lvl<Le){for(He=x.reset(),qe=Le-te.styles[_e].lvl,Qe=te.transformers.length-1;!Ne&&qe>0;)Ne=te.transformers[Qe].mProps._mdf||Ne,qe-=1,Qe-=1;if(Ne)for(qe=Le-te.styles[_e].lvl,Qe=te.transformers.length-1;qe>0;)He.multiply(te.transformers[Qe].mProps.v),qe-=1,Qe-=1}else He=r;if(Ue=te.sh.paths,pe=Ue._length,Ne){for($e="",ue=0;ue<pe;ue+=1)Be=Ue.shapes[ue],Be&&Be._length&&($e+=buildShapeString(Be,Be._length,Be.c,He));te.caches[_e]=$e}else $e=te.caches[_e];te.styles[_e].d+=J.hd===!0?"":$e,te.styles[_e]._mdf=Ne||te.styles[_e]._mdf}}function O(J,te,ae){var ue=te.style;(te.c._mdf||ae)&&ue.pElem.setAttribute("fill","rgb("+bmFloor(te.c.v[0])+","+bmFloor(te.c.v[1])+","+bmFloor(te.c.v[2])+")"),(te.o._mdf||ae)&&ue.pElem.setAttribute("fill-opacity",te.o.v)}function B(J,te,ae){U(J,te,ae),K(J,te,ae)}function U(J,te,ae){var ue=te.gf,pe=te.g._hasOpacity,$e=te.s.v,Ne=te.e.v;if(te.o._mdf||ae){var Be=J.ty==="gf"?"fill-opacity":"stroke-opacity";te.style.pElem.setAttribute(Be,te.o.v)}if(te.s._mdf||ae){var _e=J.t===1?"x1":"cx",xe=_e==="x1"?"y1":"cy";ue.setAttribute(_e,$e[0]),ue.setAttribute(xe,$e[1]),pe&&!te.g._collapsable&&(te.of.setAttribute(_e,$e[0]),te.of.setAttribute(xe,$e[1]))}var Le,Ue,He,qe;if(te.g._cmdf||ae){Le=te.cst;var Qe=te.g.c;for(He=Le.length,Ue=0;Ue<He;Ue+=1)qe=Le[Ue],qe.setAttribute("offset",Qe[Ue*4]+"%"),qe.setAttribute("stop-color","rgb("+Qe[Ue*4+1]+","+Qe[Ue*4+2]+","+Qe[Ue*4+3]+")")}if(pe&&(te.g._omdf||ae)){var lt=te.g.o;for(te.g._collapsable?Le=te.cst:Le=te.ost,He=Le.length,Ue=0;Ue<He;Ue+=1)qe=Le[Ue],te.g._collapsable||qe.setAttribute("offset",lt[Ue*2]+"%"),qe.setAttribute("stop-opacity",lt[Ue*2+1])}if(J.t===1)(te.e._mdf||ae)&&(ue.setAttribute("x2",Ne[0]),ue.setAttribute("y2",Ne[1]),pe&&!te.g._collapsable&&(te.of.setAttribute("x2",Ne[0]),te.of.setAttribute("y2",Ne[1])));else{var ct;if((te.s._mdf||te.e._mdf||ae)&&(ct=Math.sqrt(Math.pow($e[0]-Ne[0],2)+Math.pow($e[1]-Ne[1],2)),ue.setAttribute("r",ct),pe&&!te.g._collapsable&&te.of.setAttribute("r",ct)),te.s._mdf||te.e._mdf||te.h._mdf||te.a._mdf||ae){ct||(ct=Math.sqrt(Math.pow($e[0]-Ne[0],2)+Math.pow($e[1]-Ne[1],2)));var ot=Math.atan2(Ne[1]-$e[1],Ne[0]-$e[0]),pt=te.h.v;pt>=1?pt=.99:pt<=-1&&(pt=-.99);var yt=ct*pt,it=Math.cos(ot+te.a.v)*yt+$e[0],Ke=Math.sin(ot+te.a.v)*yt+$e[1];ue.setAttribute("fx",it),ue.setAttribute("fy",Ke),pe&&!te.g._collapsable&&(te.of.setAttribute("fx",it),te.of.setAttribute("fy",Ke))}}}function K(J,te,ae){var ue=te.style,pe=te.d;pe&&(pe._mdf||ae)&&pe.dashStr&&(ue.pElem.setAttribute("stroke-dasharray",pe.dashStr),ue.pElem.setAttribute("stroke-dashoffset",pe.dashoffset[0])),te.c&&(te.c._mdf||ae)&&ue.pElem.setAttribute("stroke","rgb("+bmFloor(te.c.v[0])+","+bmFloor(te.c.v[1])+","+bmFloor(te.c.v[2])+")"),(te.o._mdf||ae)&&ue.pElem.setAttribute("stroke-opacity",te.o.v),(te.w._mdf||ae)&&(ue.pElem.setAttribute("stroke-width",te.w.v),ue.msElem&&ue.msElem.setAttribute("stroke-width",te.w.v))}return y})();function SVGShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(r,x,y),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var r,x=this.shapes.length,y,b,R=this.stylesList.length,T,A=[],O=!1;for(b=0;b<R;b+=1){for(T=this.stylesList[b],O=!1,A.length=0,r=0;r<x;r+=1)y=this.shapes[r],y.styles.indexOf(T)!==-1&&(A.push(y),O=y._isAnimated||O);A.length>1&&O&&this.setShapesAsAnimated(A)}},SVGShapeElement.prototype.setShapesAsAnimated=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(r,x){var y,b=new SVGStyleData(r,x),R=b.pElem;if(r.ty==="st")y=new SVGStrokeStyleData(this,r,b);else if(r.ty==="fl")y=new SVGFillStyleData(this,r,b);else if(r.ty==="gf"||r.ty==="gs"){var T=r.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;y=new T(this,r,b),this.globalData.defs.appendChild(y.gf),y.maskId&&(this.globalData.defs.appendChild(y.ms),this.globalData.defs.appendChild(y.of),R.setAttribute("mask","url("+getLocationHref()+"#"+y.maskId+")"))}else r.ty==="no"&&(y=new SVGNoStyleData(this,r,b));return(r.ty==="st"||r.ty==="gs")&&(R.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),R.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),R.setAttribute("fill-opacity","0"),r.lj===1&&R.setAttribute("stroke-miterlimit",r.ml)),r.r===2&&R.setAttribute("fill-rule","evenodd"),r.ln&&R.setAttribute("id",r.ln),r.cl&&R.setAttribute("class",r.cl),r.bm&&(R.style["mix-blend-mode"]=getBlendMode(r.bm)),this.stylesList.push(b),this.addToAnimatedContents(r,y),y},SVGShapeElement.prototype.createGroupElement=function(r){var x=new ShapeGroupData;return r.ln&&x.gr.setAttribute("id",r.ln),r.cl&&x.gr.setAttribute("class",r.cl),r.bm&&(x.gr.style["mix-blend-mode"]=getBlendMode(r.bm)),x},SVGShapeElement.prototype.createTransformElement=function(r,x){var y=TransformPropertyFactory.getTransformProperty(this,r,this),b=new SVGTransformData(y,y.o,x);return this.addToAnimatedContents(r,b),b},SVGShapeElement.prototype.createShapeElement=function(r,x,y){var b=4;r.ty==="rc"?b=5:r.ty==="el"?b=6:r.ty==="sr"&&(b=7);var R=ShapePropertyFactory.getShapeProp(this,r,b,this),T=new SVGShapeData(x,y,R);return this.shapes.push(T),this.addShapeToModifiers(T),this.addToAnimatedContents(r,T),T},SVGShapeElement.prototype.addToAnimatedContents=function(r,x){for(var y=0,b=this.animatedContents.length;y<b;){if(this.animatedContents[y].element===x)return;y+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(r),element:x,data:r})},SVGShapeElement.prototype.setElementStyles=function(r){var x=r.styles,y,b=this.stylesList.length;for(y=0;y<b;y+=1)x.indexOf(this.stylesList[y])===-1&&!this.stylesList[y].closed&&x.push(this.stylesList[y])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,x=this.itemsData.length;for(r=0;r<x;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),x=this.dynamicProperties.length,r=0;r<x;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(r,x,y,b,R,T,A){var O=[].concat(T),B,U=r.length-1,K,J,te=[],ae=[],ue,pe,$e;for(B=U;B>=0;B-=1){if($e=this.searchProcessedElement(r[B]),$e?x[B]=y[$e-1]:r[B]._render=A,r[B].ty==="fl"||r[B].ty==="st"||r[B].ty==="gf"||r[B].ty==="gs"||r[B].ty==="no")$e?x[B].style.closed=r[B].hd:x[B]=this.createStyleElement(r[B],R),r[B]._render&&x[B].style.pElem.parentNode!==b&&b.appendChild(x[B].style.pElem),te.push(x[B].style);else if(r[B].ty==="gr"){if(!$e)x[B]=this.createGroupElement(r[B]);else for(J=x[B].it.length,K=0;K<J;K+=1)x[B].prevViewData[K]=x[B].it[K];this.searchShapes(r[B].it,x[B].it,x[B].prevViewData,x[B].gr,R+1,O,A),r[B]._render&&x[B].gr.parentNode!==b&&b.appendChild(x[B].gr)}else r[B].ty==="tr"?($e||(x[B]=this.createTransformElement(r[B],b)),ue=x[B].transform,O.push(ue)):r[B].ty==="sh"||r[B].ty==="rc"||r[B].ty==="el"||r[B].ty==="sr"?($e||(x[B]=this.createShapeElement(r[B],O,R)),this.setElementStyles(x[B])):r[B].ty==="tm"||r[B].ty==="rd"||r[B].ty==="ms"||r[B].ty==="pb"||r[B].ty==="zz"||r[B].ty==="op"?($e?(pe=x[B],pe.closed=!1):(pe=ShapeModifiers.getModifier(r[B].ty),pe.init(this,r[B]),x[B]=pe,this.shapeModifiers.push(pe)),ae.push(pe)):r[B].ty==="rp"&&($e?(pe=x[B],pe.closed=!0):(pe=ShapeModifiers.getModifier(r[B].ty),x[B]=pe,pe.init(this,r,B,x),this.shapeModifiers.push(pe),A=!1),ae.push(pe));this.addProcessedElement(r[B],B+1)}for(U=te.length,B=0;B<U;B+=1)te[B].closed=!0;for(U=ae.length,B=0;B<U;B+=1)ae[B].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var r,x=this.stylesList.length;for(r=0;r<x;r+=1)this.stylesList[r].reset();for(this.renderShape(),r=0;r<x;r+=1)(this.stylesList[r]._mdf||this._isFirstFrame)&&(this.stylesList[r].msElem&&(this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].d="M0 0"+this.stylesList[r].d),this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var r,x=this.animatedContents.length,y;for(r=0;r<x;r+=1)y=this.animatedContents[r],(this._isFirstFrame||y.element._isAnimated)&&y.data!==!0&&y.fn(y.data,y.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(r,x,y,b,R,T){this.o=r,this.sw=x,this.sc=y,this.fc=b,this.m=R,this.p=T,this._mdf={o:!0,sw:!!x,sc:!!y,fc:!!b,m:!0,p:!0}}LetterProps.prototype.update=function(r,x,y,b,R,T){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var A=!1;return this.o!==r&&(this.o=r,this._mdf.o=!0,A=!0),this.sw!==x&&(this.sw=x,this._mdf.sw=!0,A=!0),this.sc!==y&&(this.sc=y,this._mdf.sc=!0,A=!0),this.fc!==b&&(this.fc=b,this._mdf.fc=!0,A=!0),this.m!==R&&(this.m=R,this._mdf.m=!0,A=!0),T.length&&(this.p[0]!==T[0]||this.p[1]!==T[1]||this.p[4]!==T[4]||this.p[5]!==T[5]||this.p[12]!==T[12]||this.p[13]!==T[13])&&(this.p=T,this._mdf.p=!0,A=!0),A};function TextProperty(r,x){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,x.d&&x.d.sid&&(x.d=r.globalData.slotManager.getProp(x.d)),this.data=x,this.elem=r,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(r,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(r[y]=x[y]);return r},TextProperty.prototype.setCurrentData=function(r){r.__complete||this.completeTextData(r),this.currentData=r,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(r){this.effectsSequence.push(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(r){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!r)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var x=this.currentData,y=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var b,R=this.effectsSequence.length,T=r||this.data.d.k[this.keysIndex].s;for(b=0;b<R;b+=1)y!==this.keysIndex?T=this.effectsSequence[b](T,T.t):T=this.effectsSequence[b](this.currentData,T.t);x!==T&&this.setCurrentData(T),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var r=this.data.d.k,x=this.elem.comp.renderedFrame,y=0,b=r.length;y<=b-1&&!(y===b-1||r[y+1].t>x);)y+=1;return this.keysIndex!==y&&(this.keysIndex=y),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(r){for(var x=[],y=0,b=r.length,R,T,A=!1,O=!1,B="";y<b;)A=O,O=!1,R=r.charCodeAt(y),B=r.charAt(y),FontManager.isCombinedCharacter(R)?A=!0:R>=55296&&R<=56319?FontManager.isRegionalFlag(r,y)?B=r.substr(y,14):(T=r.charCodeAt(y+1),T>=56320&&T<=57343&&(FontManager.isModifier(R,T)?(B=r.substr(y,2),A=!0):FontManager.isFlagEmoji(r.substr(y,4))?B=r.substr(y,4):B=r.substr(y,2))):R>56319?(T=r.charCodeAt(y+1),FontManager.isVariationSelector(R)&&(A=!0)):FontManager.isZeroWidthJoiner(R)&&(A=!0,O=!0),A?(x[x.length-1]+=B,A=!1):x.push(B),y+=B.length;return x},TextProperty.prototype.completeTextData=function(r){r.__complete=!0;var x=this.elem.globalData.fontManager,y=this.data,b=[],R,T,A,O=0,B,U=y.m.g,K=0,J=0,te=0,ae=[],ue=0,pe=0,$e,Ne,Be=x.getFontByName(r.f),_e,xe=0,Le=getFontProperties(Be);r.fWeight=Le.weight,r.fStyle=Le.style,r.finalSize=r.s,r.finalText=this.buildFinalText(r.t),T=r.finalText.length,r.finalLineHeight=r.lh;var Ue=r.tr/1e3*r.finalSize,He;if(r.sz)for(var qe=!0,Qe=r.sz[0],lt=r.sz[1],ct,ot;qe;){ot=this.buildFinalText(r.t),ct=0,ue=0,T=ot.length,Ue=r.tr/1e3*r.finalSize;var pt=-1;for(R=0;R<T;R+=1)He=ot[R].charCodeAt(0),A=!1,ot[R]===" "?pt=R:(He===13||He===3)&&(ue=0,A=!0,ct+=r.finalLineHeight||r.finalSize*1.2),x.chars?(_e=x.getCharData(ot[R],Be.fStyle,Be.fFamily),xe=A?0:_e.w*r.finalSize/100):xe=x.measureText(ot[R],r.f,r.finalSize),ue+xe>Qe&&ot[R]!==" "?(pt===-1?T+=1:R=pt,ct+=r.finalLineHeight||r.finalSize*1.2,ot.splice(R,pt===R?1:0,"\r"),pt=-1,ue=0):(ue+=xe,ue+=Ue);ct+=Be.ascent*r.finalSize/100,this.canResize&&r.finalSize>this.minimumFontSize&&lt<ct?(r.finalSize-=1,r.finalLineHeight=r.finalSize*r.lh/r.s):(r.finalText=ot,T=r.finalText.length,qe=!1)}ue=-Ue,xe=0;var yt=0,it;for(R=0;R<T;R+=1)if(A=!1,it=r.finalText[R],He=it.charCodeAt(0),He===13||He===3?(yt=0,ae.push(ue),pe=ue>pe?ue:pe,ue=-2*Ue,B="",A=!0,te+=1):B=it,x.chars?(_e=x.getCharData(it,Be.fStyle,x.getFontByName(r.f).fFamily),xe=A?0:_e.w*r.finalSize/100):xe=x.measureText(B,r.f,r.finalSize),it===" "?yt+=xe+Ue:(ue+=xe+Ue+yt,yt=0),b.push({l:xe,an:xe,add:K,n:A,anIndexes:[],val:B,line:te,animatorJustifyOffset:0}),U==2){if(K+=xe,B===""||B===" "||R===T-1){for((B===""||B===" ")&&(K-=xe);J<=R;)b[J].an=K,b[J].ind=O,b[J].extra=xe,J+=1;O+=1,K=0}}else if(U==3){if(K+=xe,B===""||R===T-1){for(B===""&&(K-=xe);J<=R;)b[J].an=K,b[J].ind=O,b[J].extra=xe,J+=1;K=0,O+=1}}else b[O].ind=O,b[O].extra=0,O+=1;if(r.l=b,pe=ue>pe?ue:pe,ae.push(ue),r.sz)r.boxWidth=r.sz[0],r.justifyOffset=0;else switch(r.boxWidth=pe,r.j){case 1:r.justifyOffset=-r.boxWidth;break;case 2:r.justifyOffset=-r.boxWidth/2;break;default:r.justifyOffset=0}r.lineWidths=ae;var Ke=y.a,Je,We;Ne=Ke.length;var Ze,dt,et=[];for($e=0;$e<Ne;$e+=1){for(Je=Ke[$e],Je.a.sc&&(r.strokeColorAnim=!0),Je.a.sw&&(r.strokeWidthAnim=!0),(Je.a.fc||Je.a.fh||Je.a.fs||Je.a.fb)&&(r.fillColorAnim=!0),dt=0,Ze=Je.s.b,R=0;R<T;R+=1)We=b[R],We.anIndexes[$e]=dt,(Ze==1&&We.val!==""||Ze==2&&We.val!==""&&We.val!==" "||Ze==3&&(We.n||We.val==" "||R==T-1)||Ze==4&&(We.n||R==T-1))&&(Je.s.rn===1&&et.push(dt),dt+=1);y.a[$e].s.totalChars=dt;var ft=-1,Et;if(Je.s.rn===1)for(R=0;R<T;R+=1)We=b[R],ft!=We.anIndexes[$e]&&(ft=We.anIndexes[$e],Et=et.splice(Math.floor(Math.random()*et.length),1)[0]),We.anIndexes[$e]=Et}r.yOffset=r.finalLineHeight||r.finalSize*1.2,r.ls=r.ls||0,r.ascent=Be.ascent*r.finalSize/100},TextProperty.prototype.updateDocumentData=function(r,x){x=x===void 0?this.keysIndex:x;var y=this.copyData({},this.data.d.k[x].s);y=this.copyData(y,r),this.data.d.k[x].s=y,this.recalculate(x),this.setCurrentData(y),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(r){var x=this.data.d.k[r].s;x.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(x)},TextProperty.prototype.canResizeFont=function(r){this.canResize=r,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(r){this.minimumFontSize=Math.floor(r)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var r=Math.max,x=Math.min,y=Math.floor;function b(T,A){this._currentTextLength=-1,this.k=!1,this.data=A,this.elem=T,this.comp=T.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(T),this.s=PropertyFactory.getProp(T,A.s||{k:0},0,0,this),"e"in A?this.e=PropertyFactory.getProp(T,A.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(T,A.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(T,A.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(T,A.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(T,A.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(T,A.a,0,.01,this),this.dynamicProperties.length||this.getValue()}b.prototype={getMult:function(A){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var O=0,B=0,U=1,K=1;this.ne.v>0?O=this.ne.v/100:B=-this.ne.v/100,this.xe.v>0?U=1-this.xe.v/100:K=1+this.xe.v/100;var J=BezierFactory.getBezierEasing(O,B,U,K).get,te=0,ae=this.finalS,ue=this.finalE,pe=this.data.sh;if(pe===2)ue===ae?te=A>=ue?1:0:te=r(0,x(.5/(ue-ae)+(A-ae)/(ue-ae),1)),te=J(te);else if(pe===3)ue===ae?te=A>=ue?0:1:te=1-r(0,x(.5/(ue-ae)+(A-ae)/(ue-ae),1)),te=J(te);else if(pe===4)ue===ae?te=0:(te=r(0,x(.5/(ue-ae)+(A-ae)/(ue-ae),1)),te<.5?te*=2:te=1-2*(te-.5)),te=J(te);else if(pe===5){if(ue===ae)te=0;else{var $e=ue-ae;A=x(r(0,A+.5-ae),ue-ae);var Ne=-$e/2+A,Be=$e/2;te=Math.sqrt(1-Ne*Ne/(Be*Be))}te=J(te)}else pe===6?(ue===ae?te=0:(A=x(r(0,A+.5-ae),ue-ae),te=(1+Math.cos(Math.PI+Math.PI*2*A/(ue-ae)))/2),te=J(te)):(A>=y(ae)&&(A-ae<0?te=r(0,x(x(ue,1)-(ae-A),1)):te=r(0,x(ue-A,1))),te=J(te));if(this.sm.v!==100){var _e=this.sm.v*.01;_e===0&&(_e=1e-8);var xe=.5-_e*.5;te<xe?te=0:(te=(te-xe)/_e,te>1&&(te=1))}return te*this.a.v},getValue:function(A){this.iterateDynamicProperties(),this._mdf=A||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,A&&this.data.r===2&&(this.e.v=this._currentTextLength);var O=this.data.r===2?1:100/this.data.totalChars,B=this.o.v/O,U=this.s.v/O+B,K=this.e.v/O+B;if(U>K){var J=U;U=K,K=J}this.finalS=U,this.finalE=K}},extendPrototype([DynamicPropertyContainer],b);function R(T,A,O){return new b(T,A)}return{getTextSelectorProp:R}})();function TextAnimatorDataProperty(r,x,y){var b={propType:!1},R=PropertyFactory.getProp,T=x.a;this.a={r:T.r?R(r,T.r,0,degToRads,y):b,rx:T.rx?R(r,T.rx,0,degToRads,y):b,ry:T.ry?R(r,T.ry,0,degToRads,y):b,sk:T.sk?R(r,T.sk,0,degToRads,y):b,sa:T.sa?R(r,T.sa,0,degToRads,y):b,s:T.s?R(r,T.s,1,.01,y):b,a:T.a?R(r,T.a,1,0,y):b,o:T.o?R(r,T.o,0,.01,y):b,p:T.p?R(r,T.p,1,0,y):b,sw:T.sw?R(r,T.sw,0,0,y):b,sc:T.sc?R(r,T.sc,1,0,y):b,fc:T.fc?R(r,T.fc,1,0,y):b,fh:T.fh?R(r,T.fh,0,0,y):b,fs:T.fs?R(r,T.fs,0,.01,y):b,fb:T.fb?R(r,T.fb,0,.01,y):b,t:T.t?R(r,T.t,0,0,y):b},this.s=TextSelectorProp.getTextSelectorProp(r,x.s,y),this.s.t=x.s.t}function TextAnimatorProperty(r,x,y){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=r,this._renderType=x,this._elem=y,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(y)}TextAnimatorProperty.prototype.searchProperties=function(){var r,x=this._textData.a.length,y,b=PropertyFactory.getProp;for(r=0;r<x;r+=1)y=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,y,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:b(this._elem,this._textData.p.a,0,0,this),f:b(this._elem,this._textData.p.f,0,0,this),l:b(this._elem,this._textData.p.l,0,0,this),r:b(this._elem,this._textData.p.r,0,0,this),p:b(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=b(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(r,x){if(this.lettersChangedFlag=x,!(!this._mdf&&!this._isFirstFrame&&!x&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var y=this._moreOptions.alignment.v,b=this._animatorsData,R=this._textData,T=this.mHelper,A=this._renderType,O=this.renderedLetters.length,B,U,K,J,te=r.l,ae,ue,pe,$e,Ne,Be,_e,xe,Le,Ue,He,qe,Qe,lt,ct;if(this._hasMaskedPath){if(ct=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ot=ct.v;this._pathData.r.v&&(ot=ot.reverse()),ae={tLength:0,segments:[]},J=ot._length-1;var pt;for(qe=0,K=0;K<J;K+=1)pt=bez.buildBezierData(ot.v[K],ot.v[K+1],[ot.o[K][0]-ot.v[K][0],ot.o[K][1]-ot.v[K][1]],[ot.i[K+1][0]-ot.v[K+1][0],ot.i[K+1][1]-ot.v[K+1][1]]),ae.tLength+=pt.segmentLength,ae.segments.push(pt),qe+=pt.segmentLength;K=J,ct.v.c&&(pt=bez.buildBezierData(ot.v[K],ot.v[0],[ot.o[K][0]-ot.v[K][0],ot.o[K][1]-ot.v[K][1]],[ot.i[0][0]-ot.v[0][0],ot.i[0][1]-ot.v[0][1]]),ae.tLength+=pt.segmentLength,ae.segments.push(pt),qe+=pt.segmentLength),this._pathData.pi=ae}if(ae=this._pathData.pi,ue=this._pathData.f.v,_e=0,Be=1,$e=0,Ne=!0,Ue=ae.segments,ue<0&&ct.v.c)for(ae.tLength<Math.abs(ue)&&(ue=-Math.abs(ue)%ae.tLength),_e=Ue.length-1,Le=Ue[_e].points,Be=Le.length-1;ue<0;)ue+=Le[Be].partialLength,Be-=1,Be<0&&(_e-=1,Le=Ue[_e].points,Be=Le.length-1);Le=Ue[_e].points,xe=Le[Be-1],pe=Le[Be],He=pe.partialLength}J=te.length,B=0,U=0;var yt=r.finalSize*1.2*.714,it=!0,Ke,Je,We,Ze,dt;Ze=b.length;var et,ft=-1,Et,St,Bt,Rt=ue,Yt=_e,nn=Be,mn=-1,Fn,dn,Gn,tn,Qt,Kn,Nr,zn,_n="",pn=this.defaultPropsArray,br;if(r.j===2||r.j===1){var Kt=0,Wr=0,Mr=r.j===2?-.5:-1,Ht=0,sn=!0;for(K=0;K<J;K+=1)if(te[K].n){for(Kt&&(Kt+=Wr);Ht<K;)te[Ht].animatorJustifyOffset=Kt,Ht+=1;Kt=0,sn=!0}else{for(We=0;We<Ze;We+=1)Ke=b[We].a,Ke.t.propType&&(sn&&r.j===2&&(Wr+=Ke.t.v*Mr),Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),et.length?Kt+=Ke.t.v*et[0]*Mr:Kt+=Ke.t.v*et*Mr);sn=!1}for(Kt&&(Kt+=Wr);Ht<K;)te[Ht].animatorJustifyOffset=Kt,Ht+=1}for(K=0;K<J;K+=1){if(T.reset(),Fn=1,te[K].n)B=0,U+=r.yOffset,U+=it?1:0,ue=Rt,it=!1,this._hasMaskedPath&&(_e=Yt,Be=nn,Le=Ue[_e].points,xe=Le[Be-1],pe=Le[Be],He=pe.partialLength,$e=0),_n="",zn="",Kn="",br="",pn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(mn!==te[K].line){switch(r.j){case 1:ue+=qe-r.lineWidths[te[K].line];break;case 2:ue+=(qe-r.lineWidths[te[K].line])/2;break}mn=te[K].line}ft!==te[K].ind&&(te[ft]&&(ue+=te[ft].extra),ue+=te[K].an/2,ft=te[K].ind),ue+=y[0]*te[K].an*.005;var yn=0;for(We=0;We<Ze;We+=1)Ke=b[We].a,Ke.p.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),et.length?yn+=Ke.p.v[0]*et[0]:yn+=Ke.p.v[0]*et),Ke.a.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),et.length?yn+=Ke.a.v[0]*et[0]:yn+=Ke.a.v[0]*et);for(Ne=!0,this._pathData.a.v&&(ue=te[0].an*.5+(qe-this._pathData.f.v-te[0].an*.5-te[te.length-1].an*.5)*ft/(J-1),ue+=this._pathData.f.v);Ne;)$e+He>=ue+yn||!Le?(Qe=(ue+yn-$e)/pe.partialLength,St=xe.point[0]+(pe.point[0]-xe.point[0])*Qe,Bt=xe.point[1]+(pe.point[1]-xe.point[1])*Qe,T.translate(-y[0]*te[K].an*.005,-(y[1]*yt)*.01),Ne=!1):Le&&($e+=pe.partialLength,Be+=1,Be>=Le.length&&(Be=0,_e+=1,Ue[_e]?Le=Ue[_e].points:ct.v.c?(Be=0,_e=0,Le=Ue[_e].points):($e-=pe.partialLength,Le=null)),Le&&(xe=pe,pe=Le[Be],He=pe.partialLength));Et=te[K].an/2-te[K].add,T.translate(-Et,0,0)}else Et=te[K].an/2-te[K].add,T.translate(-Et,0,0),T.translate(-y[0]*te[K].an*.005,-y[1]*yt*.01,0);for(We=0;We<Ze;We+=1)Ke=b[We].a,Ke.t.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),(B!==0||r.j!==0)&&(this._hasMaskedPath?et.length?ue+=Ke.t.v*et[0]:ue+=Ke.t.v*et:et.length?B+=Ke.t.v*et[0]:B+=Ke.t.v*et));for(r.strokeWidthAnim&&(Gn=r.sw||0),r.strokeColorAnim&&(r.sc?dn=[r.sc[0],r.sc[1],r.sc[2]]:dn=[0,0,0]),r.fillColorAnim&&r.fc&&(tn=[r.fc[0],r.fc[1],r.fc[2]]),We=0;We<Ze;We+=1)Ke=b[We].a,Ke.a.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),et.length?T.translate(-Ke.a.v[0]*et[0],-Ke.a.v[1]*et[1],Ke.a.v[2]*et[2]):T.translate(-Ke.a.v[0]*et,-Ke.a.v[1]*et,Ke.a.v[2]*et));for(We=0;We<Ze;We+=1)Ke=b[We].a,Ke.s.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),et.length?T.scale(1+(Ke.s.v[0]-1)*et[0],1+(Ke.s.v[1]-1)*et[1],1):T.scale(1+(Ke.s.v[0]-1)*et,1+(Ke.s.v[1]-1)*et,1));for(We=0;We<Ze;We+=1){if(Ke=b[We].a,Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),Ke.sk.propType&&(et.length?T.skewFromAxis(-Ke.sk.v*et[0],Ke.sa.v*et[1]):T.skewFromAxis(-Ke.sk.v*et,Ke.sa.v*et)),Ke.r.propType&&(et.length?T.rotateZ(-Ke.r.v*et[2]):T.rotateZ(-Ke.r.v*et)),Ke.ry.propType&&(et.length?T.rotateY(Ke.ry.v*et[1]):T.rotateY(Ke.ry.v*et)),Ke.rx.propType&&(et.length?T.rotateX(Ke.rx.v*et[0]):T.rotateX(Ke.rx.v*et)),Ke.o.propType&&(et.length?Fn+=(Ke.o.v*et[0]-Fn)*et[0]:Fn+=(Ke.o.v*et-Fn)*et),r.strokeWidthAnim&&Ke.sw.propType&&(et.length?Gn+=Ke.sw.v*et[0]:Gn+=Ke.sw.v*et),r.strokeColorAnim&&Ke.sc.propType)for(Qt=0;Qt<3;Qt+=1)et.length?dn[Qt]+=(Ke.sc.v[Qt]-dn[Qt])*et[0]:dn[Qt]+=(Ke.sc.v[Qt]-dn[Qt])*et;if(r.fillColorAnim&&r.fc){if(Ke.fc.propType)for(Qt=0;Qt<3;Qt+=1)et.length?tn[Qt]+=(Ke.fc.v[Qt]-tn[Qt])*et[0]:tn[Qt]+=(Ke.fc.v[Qt]-tn[Qt])*et;Ke.fh.propType&&(et.length?tn=addHueToRGB(tn,Ke.fh.v*et[0]):tn=addHueToRGB(tn,Ke.fh.v*et)),Ke.fs.propType&&(et.length?tn=addSaturationToRGB(tn,Ke.fs.v*et[0]):tn=addSaturationToRGB(tn,Ke.fs.v*et)),Ke.fb.propType&&(et.length?tn=addBrightnessToRGB(tn,Ke.fb.v*et[0]):tn=addBrightnessToRGB(tn,Ke.fb.v*et))}}for(We=0;We<Ze;We+=1)Ke=b[We].a,Ke.p.propType&&(Je=b[We].s,et=Je.getMult(te[K].anIndexes[We],R.a[We].s.totalChars),this._hasMaskedPath?et.length?T.translate(0,Ke.p.v[1]*et[0],-Ke.p.v[2]*et[1]):T.translate(0,Ke.p.v[1]*et,-Ke.p.v[2]*et):et.length?T.translate(Ke.p.v[0]*et[0],Ke.p.v[1]*et[1],-Ke.p.v[2]*et[2]):T.translate(Ke.p.v[0]*et,Ke.p.v[1]*et,-Ke.p.v[2]*et));if(r.strokeWidthAnim&&(Kn=Gn<0?0:Gn),r.strokeColorAnim&&(Nr="rgb("+Math.round(dn[0]*255)+","+Math.round(dn[1]*255)+","+Math.round(dn[2]*255)+")"),r.fillColorAnim&&r.fc&&(zn="rgb("+Math.round(tn[0]*255)+","+Math.round(tn[1]*255)+","+Math.round(tn[2]*255)+")"),this._hasMaskedPath){if(T.translate(0,-r.ls),T.translate(0,y[1]*yt*.01+U,0),this._pathData.p.v){lt=(pe.point[1]-xe.point[1])/(pe.point[0]-xe.point[0]);var An=Math.atan(lt)*180/Math.PI;pe.point[0]<xe.point[0]&&(An+=180),T.rotate(-An*Math.PI/180)}T.translate(St,Bt,0),ue-=y[0]*te[K].an*.005,te[K+1]&&ft!==te[K+1].ind&&(ue+=te[K].an/2,ue+=r.tr*.001*r.finalSize)}else{switch(T.translate(B,U,0),r.ps&&T.translate(r.ps[0],r.ps[1]+r.ascent,0),r.j){case 1:T.translate(te[K].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[te[K].line]),0,0);break;case 2:T.translate(te[K].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[te[K].line])/2,0,0);break}T.translate(0,-r.ls),T.translate(Et,0,0),T.translate(y[0]*te[K].an*.005,y[1]*yt*.01,0),B+=te[K].l+r.tr*.001*r.finalSize}A==="html"?_n=T.toCSS():A==="svg"?_n=T.to2dCSS():pn=[T.props[0],T.props[1],T.props[2],T.props[3],T.props[4],T.props[5],T.props[6],T.props[7],T.props[8],T.props[9],T.props[10],T.props[11],T.props[12],T.props[13],T.props[14],T.props[15]],br=Fn}O<=K?(dt=new LetterProps(br,Kn,Nr,zn,_n,pn),this.renderedLetters.push(dt),O+=1,this.lettersChangedFlag=!0):(dt=this.renderedLetters[K],this.lettersChangedFlag=dt.update(br,Kn,Nr,zn,_n,pn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(r,x,y){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(r,x,y),this.textProperty=new TextProperty(this,r.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(r.t,this.renderType,this),this.initTransform(r,x,y),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)},ITextElement.prototype.createPathShape=function(r,x){var y,b=x.length,R,T="";for(y=0;y<b;y+=1)x[y].ty==="sh"&&(R=x[y].ks.k,T+=buildShapeString(R,R.i.length,!0,r));return T},ITextElement.prototype.updateDocumentData=function(r,x){this.textProperty.updateDocumentData(r,x)},ITextElement.prototype.canResizeFont=function(r){this.textProperty.canResizeFont(r)},ITextElement.prototype.setMinimumFontSize=function(r){this.textProperty.setMinimumFontSize(r)},ITextElement.prototype.applyTextPropertiesToMatrix=function(r,x,y,b,R){switch(r.ps&&x.translate(r.ps[0],r.ps[1]+r.ascent,0),x.translate(0,-r.ls,0),r.j){case 1:x.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[y]),0,0);break;case 2:x.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[y])/2,0,0);break}x.translate(b,R,0)},ITextElement.prototype.buildColor=function(r){return"rgb("+Math.round(r[0]*255)+","+Math.round(r[1]*255)+","+Math.round(r[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(r,x,y){this.textSpans=[],this.renderType="svg",this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(r){for(var x=0,y=r.length,b=[],R="";x<y;)r[x]==="\r"||r[x]===""?(b.push(R),R=""):R+=r[x],x+=1;return b.push(R),b},SVGTextLottieElement.prototype.buildShapeData=function(r,x){if(r.shapes&&r.shapes.length){var y=r.shapes[0];if(y.it){var b=y.it[y.it.length-1];b.s&&(b.s.k[0]=x,b.s.k[1]=x)}}return r},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var r,x,y=this.textProperty.currentData;this.renderedLetters=createSizedArray(y?y.l.length:0),y.fc?this.layerElement.setAttribute("fill",this.buildColor(y.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),y.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(y.sc)),this.layerElement.setAttribute("stroke-width",y.sw)),this.layerElement.setAttribute("font-size",y.finalSize);var b=this.globalData.fontManager.getFontByName(y.f);if(b.fClass)this.layerElement.setAttribute("class",b.fClass);else{this.layerElement.setAttribute("font-family",b.fFamily);var R=y.fWeight,T=y.fStyle;this.layerElement.setAttribute("font-style",T),this.layerElement.setAttribute("font-weight",R)}this.layerElement.setAttribute("aria-label",y.t);var A=y.l||[],O=!!this.globalData.fontManager.chars;x=A.length;var B,U=this.mHelper,K="",J=this.data.singleShape,te=0,ae=0,ue=!0,pe=y.tr*.001*y.finalSize;if(J&&!O&&!y.sz){var $e=this.textContainer,Ne="start";switch(y.j){case 1:Ne="end";break;case 2:Ne="middle";break;default:Ne="start";break}$e.setAttribute("text-anchor",Ne),$e.setAttribute("letter-spacing",pe);var Be=this.buildTextContents(y.finalText);for(x=Be.length,ae=y.ps?y.ps[1]+y.ascent:0,r=0;r<x;r+=1)B=this.textSpans[r].span||createNS("tspan"),B.textContent=Be[r],B.setAttribute("x",0),B.setAttribute("y",ae),B.style.display="inherit",$e.appendChild(B),this.textSpans[r]||(this.textSpans[r]={span:null,glyph:null}),this.textSpans[r].span=B,ae+=y.finalLineHeight;this.layerElement.appendChild($e)}else{var _e=this.textSpans.length,xe;for(r=0;r<x;r+=1){if(this.textSpans[r]||(this.textSpans[r]={span:null,childSpan:null,glyph:null}),!O||!J||r===0){if(B=_e>r?this.textSpans[r].span:createNS(O?"g":"text"),_e<=r){if(B.setAttribute("stroke-linecap","butt"),B.setAttribute("stroke-linejoin","round"),B.setAttribute("stroke-miterlimit","4"),this.textSpans[r].span=B,O){var Le=createNS("g");B.appendChild(Le),this.textSpans[r].childSpan=Le}this.textSpans[r].span=B,this.layerElement.appendChild(B)}B.style.display="inherit"}if(U.reset(),J&&(A[r].n&&(te=-pe,ae+=y.yOffset,ae+=ue?1:0,ue=!1),this.applyTextPropertiesToMatrix(y,U,A[r].line,te,ae),te+=A[r].l||0,te+=pe),O){xe=this.globalData.fontManager.getCharData(y.finalText[r],b.fStyle,this.globalData.fontManager.getFontByName(y.f).fFamily);var Ue;if(xe.t===1)Ue=new SVGCompElement(xe.data,this.globalData,this);else{var He=emptyShapeData;xe.data&&xe.data.shapes&&(He=this.buildShapeData(xe.data,y.finalSize)),Ue=new SVGShapeElement(He,this.globalData,this)}if(this.textSpans[r].glyph){var qe=this.textSpans[r].glyph;this.textSpans[r].childSpan.removeChild(qe.layerElement),qe.destroy()}this.textSpans[r].glyph=Ue,Ue._debug=!0,Ue.prepareFrame(0),Ue.renderFrame(),this.textSpans[r].childSpan.appendChild(Ue.layerElement),xe.t===1&&this.textSpans[r].childSpan.setAttribute("transform","scale("+y.finalSize/100+","+y.finalSize/100+")")}else J&&B.setAttribute("transform","translate("+U.props[12]+","+U.props[13]+")"),B.textContent=A[r].val,B.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}J&&B&&B.setAttribute("d",K)}for(;r<this.textSpans.length;)this.textSpans[r].span.style.display="none",r+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var r=this.layerElement.getBBox();this.bbox={top:r.y,left:r.x,width:r.width,height:r.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var r,x=this.textSpans.length,y;for(this.renderedFrame=this.comp.renderedFrame,r=0;r<x;r+=1)y=this.textSpans[r].glyph,y&&(y.prepareFrame(this.comp.renderedFrame-this.data.st),y._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var r,x,y=this.textAnimator.renderedLetters,b=this.textProperty.currentData.l;x=b.length;var R,T,A;for(r=0;r<x;r+=1)b[r].n||(R=y[r],T=this.textSpans[r].span,A=this.textSpans[r].glyph,A&&A.renderFrame(),R._mdf.m&&T.setAttribute("transform",R.m),R._mdf.o&&T.setAttribute("opacity",R.o),R._mdf.sw&&T.setAttribute("stroke-width",R.sw),R._mdf.sc&&T.setAttribute("stroke",R.sc),R._mdf.fc&&T.setAttribute("fill",R.fc))}};function ISolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var r=createNS("rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.layerElement.appendChild(r)};function NullElement(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initFrame(),this.initTransform(r,x,y),this.initHierarchy()}NullElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(r){return new NullElement(r,this.globalData,this)},SVGRendererBase.prototype.createShape=function(r){return new SVGShapeElement(r,this.globalData,this)},SVGRendererBase.prototype.createText=function(r){return new SVGTextLottieElement(r,this.globalData,this)},SVGRendererBase.prototype.createImage=function(r){return new IImageElement(r,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(r){return new ISolidElement(r,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(r){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+r.w+" "+r.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",r.w),this.svgElement.setAttribute("height",r.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var x=this.globalData.defs;this.setupGlobalData(r,x),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=r;var y=createNS("clipPath"),b=createNS("rect");b.setAttribute("width",r.w),b.setAttribute("height",r.h),b.setAttribute("x",0),b.setAttribute("y",0);var R=createElementID();y.setAttribute("id",R),y.appendChild(b),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")"),x.appendChild(y),this.layers=r.layers,this.elements=createSizedArray(r.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var r,x=this.layers?this.layers.length:0;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(r){var x=0,y=this.layers.length;for(x=0;x<y;x+=1)if(this.layers[x].ind===r)return x;return-1},SVGRendererBase.prototype.buildItem=function(r){var x=this.elements;if(!(x[r]||this.layers[r].ty===99)){x[r]=!0;var y=this.createItem(this.layers[r]);if(x[r]=y,getExpressionsPlugin()&&(this.layers[r].ty===0&&this.globalData.projectInterface.registerComposition(y),y.initExpressions()),this.appendElementInPos(y,r),this.layers[r].tt){var b="tp"in this.layers[r]?this.findIndexByInd(this.layers[r].tp):r-1;if(b===-1)return;if(!this.elements[b]||this.elements[b]===!0)this.buildItem(b),this.addPendingElement(y);else{var R=x[b],T=R.getMatte(this.layers[r].tt);y.setMatte(T)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();if(r.checkParenting(),r.data.tt)for(var x=0,y=this.elements.length;x<y;){if(this.elements[x]===r){var b="tp"in r.data?this.findIndexByInd(r.data.tp):x-1,R=this.elements[b],T=R.getMatte(this.layers[x].tt);r.setMatte(T);break}x+=1}}},SVGRendererBase.prototype.renderFrame=function(r){if(!(this.renderedFrame===r||this.destroyed)){r===null?r=this.renderedFrame:this.renderedFrame=r,this.globalData.frameNum=r,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=r,this.globalData._mdf=!1;var x,y=this.layers.length;for(this.completeLayers||this.checkLayers(r),x=y-1;x>=0;x-=1)(this.completeLayers||this.elements[x])&&this.elements[x].prepareFrame(r-this.layers[x].st);if(this.globalData._mdf)for(x=0;x<y;x+=1)(this.completeLayers||this.elements[x])&&this.elements[x].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(r,x){var y=r.getBaseElement();if(y){for(var b=0,R;b<x;)this.elements[b]&&this.elements[b]!==!0&&this.elements[b].getBaseElement()&&(R=this.elements[b].getBaseElement()),b+=1;R?this.layerElement.insertBefore(y,R):this.layerElement.appendChild(y)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initTransform(r,x,y),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!x.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(r){if(this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=r/this.data.sr;else{var x=this.tm.v;x===this.data.op&&(x=this.data.op-1),this.renderedFrame=x}var y,b=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&(this.elements[y].prepareFrame(this.renderedFrame-this.layers[y].st),this.elements[y]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},ICompElement.prototype.setElements=function(r){this.elements=r},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(r,x,y){this.layers=r.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)};function SVGRenderer(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var y="";if(x&&x.title){var b=createNS("title"),R=createElementID();b.setAttribute("id",R),b.textContent=x.title,this.svgElement.appendChild(b),y+=R}if(x&&x.description){var T=createNS("desc"),A=createElementID();T.setAttribute("id",A),T.textContent=x.description,this.svgElement.appendChild(T),y+=" "+A}y&&this.svgElement.setAttribute("aria-labelledby",y);var O=createNS("defs");this.svgElement.appendChild(O);var B=createNS("g");this.svgElement.appendChild(B),this.layerElement=B,this.renderConfig={preserveAspectRatio:x&&x.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:x&&x.contentVisibility||"visible",progressiveLoad:x&&x.progressiveLoad||!1,hideOnTransparent:!(x&&x.hideOnTransparent===!1),viewBoxOnly:x&&x.viewBoxOnly||!1,viewBoxSize:x&&x.viewBoxSize||!1,className:x&&x.className||"",id:x&&x.id||"",focusable:x&&x.focusable,filterSize:{width:x&&x.filterSize&&x.filterSize.width||"100%",height:x&&x.filterSize&&x.filterSize.height||"100%",x:x&&x.filterSize&&x.filterSize.x||"0%",y:x&&x.filterSize&&x.filterSize.y||"0%"},width:x&&x.width,height:x&&x.height,runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:O,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(x){var y,b=x.length,R="_";for(y=0;y<b;y+=1)R+=x[y].transform.key+"_";var T=this.sequences[R];return T||(T={transforms:[].concat(x),finalTransform:new Matrix,_mdf:!1},this.sequences[R]=T,this.sequenceList.push(T)),T},processSequence:function(x,y){for(var b=0,R=x.transforms.length,T=y;b<R&&!y;){if(x.transforms[b].transform.mProps._mdf){T=!0;break}b+=1}if(T)for(x.finalTransform.reset(),b=R-1;b>=0;b-=1)x.finalTransform.multiply(x.transforms[b].transform.mProps.v);x._mdf=T},processSequences:function(x){var y,b=this.sequenceList.length;for(y=0;y<b;y+=1)this.processSequence(this.sequenceList[y],x)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var x="__lottie_element_luma_buffer",y=null,b=null,R=null;function T(){var B=createNS("svg"),U=createNS("filter"),K=createNS("feColorMatrix");return U.setAttribute("id",x),K.setAttribute("type","matrix"),K.setAttribute("color-interpolation-filters","sRGB"),K.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),U.appendChild(K),B.appendChild(U),B.setAttribute("id",x+"_svg"),featureSupport.svgLumaHidden&&(B.style.display="none"),B}function A(){y||(R=T(),document.body.appendChild(R),y=createTag("canvas"),b=y.getContext("2d"),b.filter="url(#"+x+")",b.fillStyle="rgba(0,0,0,0)",b.fillRect(0,0,1,1))}function O(B){return y||A(),y.width=B.width,y.height=B.height,b.filter="url(#"+x+")",y}return{load:A,get:O}};function createCanvas(r,x){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(r,x);var y=createTag("canvas");return y.width=r,y.height=x,y}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(r){var x,y=r.data.ef?r.data.ef.length:0;this.filters=[];var b;for(x=0;x<y;x+=1){b=null;var R=r.data.ef[x].ty;if(registeredEffects[R]){var T=registeredEffects[R].effect;b=new T(r.effectsManager.effectElements[x],r)}b&&this.filters.push(b)}this.filters.length&&r.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(r){var x,y=this.filters.length;for(x=0;x<y;x+=1)this.filters[x].renderFrame(r)},CVEffects.prototype.getEffects=function(r){var x,y=this.filters.length,b=[];for(x=0;x<y;x+=1)this.filters[x].type===r&&b.push(this.filters[x]);return b};function registerEffect(r,x){registeredEffects[r]={effect:x}}function CVMaskElement(r,x){this.data=r,this.element=x,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var y,b=this.masksProperties.length,R=!1;for(y=0;y<b;y+=1)this.masksProperties[y].mode!=="n"&&(R=!0),this.viewData[y]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[y],3);this.hasMasks=R,R&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var r=this.element.finalTransform.mat,x=this.element.canvasContext,y,b=this.masksProperties.length,R,T,A;for(x.beginPath(),y=0;y<b;y+=1)if(this.masksProperties[y].mode!=="n"){this.masksProperties[y].inv&&(x.moveTo(0,0),x.lineTo(this.element.globalData.compSize.w,0),x.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),x.lineTo(0,this.element.globalData.compSize.h),x.lineTo(0,0)),A=this.viewData[y].v,R=r.applyToPointArray(A.v[0][0],A.v[0][1],0),x.moveTo(R[0],R[1]);var O,B=A._length;for(O=1;O<B;O+=1)T=r.applyToTriplePoints(A.o[O-1],A.i[O],A.v[O]),x.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);T=r.applyToTriplePoints(A.o[O-1],A.i[0],A.v[0]),x.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5])}this.element.globalData.renderer.save(!0),x.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var x=this.globalData.canvasContext,y=assetLoader.createCanvas(x.canvas.width,x.canvas.height);this.buffers.push(y);var b=assetLoader.createCanvas(x.canvas.width,x.canvas.height);this.buffers.push(b),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var x=this.globalData;if(x.blendMode!==this.data.bm){x.blendMode=this.data.bm;var y=getBlendMode(this.data.bm);x.canvasContext.globalCompositeOperation=y}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(x){x.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var x=this.buffers[0],y=x.getContext("2d");this.clearCanvas(y),y.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var x=this.buffers[1],y=x.getContext("2d");this.clearCanvas(y),y.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var b=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(b.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var R=assetLoader.getLumaCanvas(this.canvasContext.canvas),T=R.getContext("2d");T.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(R,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(x,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(x){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!x)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var y=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(y),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(y),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(r,x,y,b){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var R=4;x.ty==="rc"?R=5:x.ty==="el"?R=6:x.ty==="sr"&&(R=7),this.sh=ShapePropertyFactory.getShapeProp(r,x,R,r);var T,A=y.length,O;for(T=0;T<A;T+=1)y[T].closed||(O={transforms:b.addTransformSequence(y[T].transforms),trNodes:[]},this.styledShapes.push(O),y[T].elements.push(O))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(r,x){var y={data:r,type:r.ty,preTransforms:this.transformsManager.addTransformSequence(x),transforms:[],elements:[],closed:r.hd===!0},b={};if(r.ty==="fl"||r.ty==="st"?(b.c=PropertyFactory.getProp(this,r.c,1,255,this),b.c.k||(y.co="rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")")):(r.ty==="gf"||r.ty==="gs")&&(b.s=PropertyFactory.getProp(this,r.s,1,null,this),b.e=PropertyFactory.getProp(this,r.e,1,null,this),b.h=PropertyFactory.getProp(this,r.h||{k:0},0,.01,this),b.a=PropertyFactory.getProp(this,r.a||{k:0},0,degToRads,this),b.g=new GradientProperty(this,r.g,this)),b.o=PropertyFactory.getProp(this,r.o,0,.01,this),r.ty==="st"||r.ty==="gs"){if(y.lc=lineCapEnum[r.lc||2],y.lj=lineJoinEnum[r.lj||2],r.lj==1&&(y.ml=r.ml),b.w=PropertyFactory.getProp(this,r.w,0,null,this),b.w.k||(y.wi=b.w.v),r.d){var R=new DashProperty(this,r.d,"canvas",this);b.d=R,b.d.k||(y.da=b.d.dashArray,y.do=b.d.dashoffset[0])}}else y.r=r.r===2?"evenodd":"nonzero";return this.stylesList.push(y),b.style=y,b},CVShapeElement.prototype.createGroupElement=function(){var r={it:[],prevViewData:[]};return r},CVShapeElement.prototype.createTransformElement=function(r){var x={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,r.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,r,this)}};return x},CVShapeElement.prototype.createShapeElement=function(r){var x=new CVShapeData(this,r,this.stylesList,this.transformsManager);return this.shapes.push(x),this.addShapeToModifiers(x),x},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,x=this.itemsData.length;for(r=0;r<x;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),x=this.dynamicProperties.length,r=0;r<x;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(r){var x,y=this.stylesList.length;for(x=0;x<y;x+=1)this.stylesList[x].closed||this.stylesList[x].transforms.push(r)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var r,x=this.stylesList.length;for(r=0;r<x;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.pop()},CVShapeElement.prototype.closeStyles=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x].closed=!0},CVShapeElement.prototype.searchShapes=function(r,x,y,b,R){var T,A=r.length-1,O,B,U=[],K=[],J,te,ae,ue=[].concat(R);for(T=A;T>=0;T-=1){if(J=this.searchProcessedElement(r[T]),J?x[T]=y[J-1]:r[T]._shouldRender=b,r[T].ty==="fl"||r[T].ty==="st"||r[T].ty==="gf"||r[T].ty==="gs")J?x[T].style.closed=!1:x[T]=this.createStyleElement(r[T],ue),U.push(x[T].style);else if(r[T].ty==="gr"){if(!J)x[T]=this.createGroupElement(r[T]);else for(B=x[T].it.length,O=0;O<B;O+=1)x[T].prevViewData[O]=x[T].it[O];this.searchShapes(r[T].it,x[T].it,x[T].prevViewData,b,ue)}else r[T].ty==="tr"?(J||(ae=this.createTransformElement(r[T]),x[T]=ae),ue.push(x[T]),this.addTransformToStyleList(x[T])):r[T].ty==="sh"||r[T].ty==="rc"||r[T].ty==="el"||r[T].ty==="sr"?J||(x[T]=this.createShapeElement(r[T])):r[T].ty==="tm"||r[T].ty==="rd"||r[T].ty==="pb"||r[T].ty==="zz"||r[T].ty==="op"?(J?(te=x[T],te.closed=!1):(te=ShapeModifiers.getModifier(r[T].ty),te.init(this,r[T]),x[T]=te,this.shapeModifiers.push(te)),K.push(te)):r[T].ty==="rp"&&(J?(te=x[T],te.closed=!0):(te=ShapeModifiers.getModifier(r[T].ty),x[T]=te,te.init(this,r,T,x),this.shapeModifiers.push(te),b=!1),K.push(te));this.addProcessedElement(r[T],T+1)}for(this.removeTransformFromStyleList(),this.closeStyles(U),A=K.length,T=0;T<A;T+=1)K[T].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(r,x){(r._opMdf||x.op._mdf||this._isFirstFrame)&&(x.opacity=r.opacity,x.opacity*=x.op.v,x._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var r,x=this.stylesList.length,y,b,R,T,A,O,B=this.globalData.renderer,U=this.globalData.canvasContext,K,J;for(r=0;r<x;r+=1)if(J=this.stylesList[r],K=J.type,!((K==="st"||K==="gs")&&J.wi===0||!J.data._shouldRender||J.coOp===0||this.globalData.currentGlobalAlpha===0)){for(B.save(),A=J.elements,K==="st"||K==="gs"?(B.ctxStrokeStyle(K==="st"?J.co:J.grd),B.ctxLineWidth(J.wi),B.ctxLineCap(J.lc),B.ctxLineJoin(J.lj),B.ctxMiterLimit(J.ml||0)):B.ctxFillStyle(K==="fl"?J.co:J.grd),B.ctxOpacity(J.coOp),K!=="st"&&K!=="gs"&&U.beginPath(),B.ctxTransform(J.preTransforms.finalTransform.props),b=A.length,y=0;y<b;y+=1){for((K==="st"||K==="gs")&&(U.beginPath(),J.da&&(U.setLineDash(J.da),U.lineDashOffset=J.do)),O=A[y].trNodes,T=O.length,R=0;R<T;R+=1)O[R].t==="m"?U.moveTo(O[R].p[0],O[R].p[1]):O[R].t==="c"?U.bezierCurveTo(O[R].pts[0],O[R].pts[1],O[R].pts[2],O[R].pts[3],O[R].pts[4],O[R].pts[5]):U.closePath();(K==="st"||K==="gs")&&(B.ctxStroke(),J.da&&U.setLineDash(this.dashResetter))}K!=="st"&&K!=="gs"&&this.globalData.renderer.ctxFill(J.r),B.restore()}},CVShapeElement.prototype.renderShape=function(r,x,y,b){var R,T=x.length-1,A;for(A=r,R=T;R>=0;R-=1)x[R].ty==="tr"?(A=y[R].transform,this.renderShapeTransform(r,A)):x[R].ty==="sh"||x[R].ty==="el"||x[R].ty==="rc"||x[R].ty==="sr"?this.renderPath(x[R],y[R]):x[R].ty==="fl"?this.renderFill(x[R],y[R],A):x[R].ty==="st"?this.renderStroke(x[R],y[R],A):x[R].ty==="gf"||x[R].ty==="gs"?this.renderGradientFill(x[R],y[R],A):x[R].ty==="gr"?this.renderShape(A,x[R].it,y[R].it):x[R].ty;b&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(r,x){if(this._isFirstFrame||x._mdf||r.transforms._mdf){var y=r.trNodes,b=x.paths,R,T,A,O=b._length;y.length=0;var B=r.transforms.finalTransform;for(A=0;A<O;A+=1){var U=b.shapes[A];if(U&&U.v){for(T=U._length,R=1;R<T;R+=1)R===1&&y.push({t:"m",p:B.applyToPointArray(U.v[0][0],U.v[0][1],0)}),y.push({t:"c",pts:B.applyToTriplePoints(U.o[R-1],U.i[R],U.v[R])});T===1&&y.push({t:"m",p:B.applyToPointArray(U.v[0][0],U.v[0][1],0)}),U.c&&T&&(y.push({t:"c",pts:B.applyToTriplePoints(U.o[R-1],U.i[0],U.v[0])}),y.push({t:"z"}))}}r.trNodes=y}},CVShapeElement.prototype.renderPath=function(r,x){if(r.hd!==!0&&r._shouldRender){var y,b=x.styledShapes.length;for(y=0;y<b;y+=1)this.renderStyledShape(x.styledShapes[y],x.sh)}},CVShapeElement.prototype.renderFill=function(r,x,y){var b=x.style;(x.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||y._opMdf||this._isFirstFrame)&&(b.coOp=x.o.v*y.opacity)},CVShapeElement.prototype.renderGradientFill=function(r,x,y){var b=x.style,R;if(!b.grd||x.g._mdf||x.s._mdf||x.e._mdf||r.t!==1&&(x.h._mdf||x.a._mdf)){var T=this.globalData.canvasContext,A=x.s.v,O=x.e.v;if(r.t===1)R=T.createLinearGradient(A[0],A[1],O[0],O[1]);else{var B=Math.sqrt(Math.pow(A[0]-O[0],2)+Math.pow(A[1]-O[1],2)),U=Math.atan2(O[1]-A[1],O[0]-A[0]),K=x.h.v;K>=1?K=.99:K<=-1&&(K=-.99);var J=B*K,te=Math.cos(U+x.a.v)*J+A[0],ae=Math.sin(U+x.a.v)*J+A[1];R=T.createRadialGradient(te,ae,0,A[0],A[1],B)}var ue,pe=r.g.p,$e=x.g.c,Ne=1;for(ue=0;ue<pe;ue+=1)x.g._hasOpacity&&x.g._collapsable&&(Ne=x.g.o[ue*2+1]),R.addColorStop($e[ue*4]/100,"rgba("+$e[ue*4+1]+","+$e[ue*4+2]+","+$e[ue*4+3]+","+Ne+")");b.grd=R}b.coOp=x.o.v*y.opacity},CVShapeElement.prototype.renderStroke=function(r,x,y){var b=x.style,R=x.d;R&&(R._mdf||this._isFirstFrame)&&(b.da=R.dashArray,b.do=R.dashoffset[0]),(x.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||y._opMdf||this._isFirstFrame)&&(b.coOp=x.o.v*y.opacity),(x.w._mdf||this._isFirstFrame)&&(b.wi=x.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(r,x,y){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var x=!1;r.fc?(x=!0,this.values.fill=this.buildColor(r.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=x;var y=!1;r.sc&&(y=!0,this.values.stroke=this.buildColor(r.sc),this.values.sWidth=r.sw);var b=this.globalData.fontManager.getFontByName(r.f),R,T,A=r.l,O=this.mHelper;this.stroke=y,this.values.fValue=r.finalSize+"px "+this.globalData.fontManager.getFontByName(r.f).fFamily,T=r.finalText.length;var B,U,K,J,te,ae,ue,pe,$e,Ne,Be=this.data.singleShape,_e=r.tr*.001*r.finalSize,xe=0,Le=0,Ue=!0,He=0;for(R=0;R<T;R+=1){B=this.globalData.fontManager.getCharData(r.finalText[R],b.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),U=B&&B.data||{},O.reset(),Be&&A[R].n&&(xe=-_e,Le+=r.yOffset,Le+=Ue?1:0,Ue=!1),te=U.shapes?U.shapes[0].it:[],ue=te.length,O.scale(r.finalSize/100,r.finalSize/100),Be&&this.applyTextPropertiesToMatrix(r,O,A[R].line,xe,Le),$e=createSizedArray(ue-1);var qe=0;for(ae=0;ae<ue;ae+=1)if(te[ae].ty==="sh"){for(J=te[ae].ks.k.i.length,pe=te[ae].ks.k,Ne=[],K=1;K<J;K+=1)K===1&&Ne.push(O.applyToX(pe.v[0][0],pe.v[0][1],0),O.applyToY(pe.v[0][0],pe.v[0][1],0)),Ne.push(O.applyToX(pe.o[K-1][0],pe.o[K-1][1],0),O.applyToY(pe.o[K-1][0],pe.o[K-1][1],0),O.applyToX(pe.i[K][0],pe.i[K][1],0),O.applyToY(pe.i[K][0],pe.i[K][1],0),O.applyToX(pe.v[K][0],pe.v[K][1],0),O.applyToY(pe.v[K][0],pe.v[K][1],0));Ne.push(O.applyToX(pe.o[K-1][0],pe.o[K-1][1],0),O.applyToY(pe.o[K-1][0],pe.o[K-1][1],0),O.applyToX(pe.i[0][0],pe.i[0][1],0),O.applyToY(pe.i[0][0],pe.i[0][1],0),O.applyToX(pe.v[0][0],pe.v[0][1],0),O.applyToY(pe.v[0][0],pe.v[0][1],0)),$e[qe]=Ne,qe+=1}Be&&(xe+=A[R].l,xe+=_e),this.textSpans[He]?this.textSpans[He].elem=$e:this.textSpans[He]={elem:$e},He+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var r=this.canvasContext;r.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var x,y,b,R,T,A,O=this.textAnimator.renderedLetters,B=this.textProperty.currentData.l;y=B.length;var U,K=null,J=null,te=null,ae,ue,pe=this.globalData.renderer;for(x=0;x<y;x+=1)if(!B[x].n){if(U=O[x],U&&(pe.save(),pe.ctxTransform(U.p),pe.ctxOpacity(U.o)),this.fill){for(U&&U.fc?K!==U.fc&&(pe.ctxFillStyle(U.fc),K=U.fc):K!==this.values.fill&&(K=this.values.fill,pe.ctxFillStyle(this.values.fill)),ae=this.textSpans[x].elem,R=ae.length,this.globalData.canvasContext.beginPath(),b=0;b<R;b+=1)for(ue=ae[b],A=ue.length,this.globalData.canvasContext.moveTo(ue[0],ue[1]),T=2;T<A;T+=6)this.globalData.canvasContext.bezierCurveTo(ue[T],ue[T+1],ue[T+2],ue[T+3],ue[T+4],ue[T+5]);this.globalData.canvasContext.closePath(),pe.ctxFill()}if(this.stroke){for(U&&U.sw?te!==U.sw&&(te=U.sw,pe.ctxLineWidth(U.sw)):te!==this.values.sWidth&&(te=this.values.sWidth,pe.ctxLineWidth(this.values.sWidth)),U&&U.sc?J!==U.sc&&(J=U.sc,pe.ctxStrokeStyle(U.sc)):J!==this.values.stroke&&(J=this.values.stroke,pe.ctxStrokeStyle(this.values.stroke)),ae=this.textSpans[x].elem,R=ae.length,this.globalData.canvasContext.beginPath(),b=0;b<R;b+=1)for(ue=ae[b],A=ue.length,this.globalData.canvasContext.moveTo(ue[0],ue[1]),T=2;T<A;T+=6)this.globalData.canvasContext.bezierCurveTo(ue[T],ue[T+1],ue[T+2],ue[T+3],ue[T+4],ue[T+5]);this.globalData.canvasContext.closePath(),pe.ctxStroke()}U&&this.globalData.renderer.restore()}};function CVImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.img=x.imageLoader.getAsset(this.assetData),this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var x=r.getContext("2d"),y=this.img.width,b=this.img.height,R=y/b,T=this.assetData.w/this.assetData.h,A,O,B=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;R>T&&B==="xMidYMid slice"||R<T&&B!=="xMidYMid slice"?(O=b,A=O*T):(A=y,O=A/T),x.drawImage(this.img,(y-A)/2,(b-O)/2,A,O,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(r){return new CVShapeElement(r,this.globalData,this)},CanvasRendererBase.prototype.createText=function(r){return new CVTextElement(r,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(r){return new CVImageElement(r,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(r){return new CVSolidElement(r,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(r){r[0]===1&&r[1]===0&&r[4]===0&&r[5]===1&&r[12]===0&&r[13]===0||this.canvasContext.transform(r[0],r[1],r[4],r[5],r[12],r[13])},CanvasRendererBase.prototype.ctxOpacity=function(r){this.canvasContext.globalAlpha*=r<0?0:r},CanvasRendererBase.prototype.ctxFillStyle=function(r){this.canvasContext.fillStyle=r},CanvasRendererBase.prototype.ctxStrokeStyle=function(r){this.canvasContext.strokeStyle=r},CanvasRendererBase.prototype.ctxLineWidth=function(r){this.canvasContext.lineWidth=r},CanvasRendererBase.prototype.ctxLineCap=function(r){this.canvasContext.lineCap=r},CanvasRendererBase.prototype.ctxLineJoin=function(r){this.canvasContext.lineJoin=r},CanvasRendererBase.prototype.ctxMiterLimit=function(r){this.canvasContext.miterLimit=r},CanvasRendererBase.prototype.ctxFill=function(r){this.canvasContext.fill(r)},CanvasRendererBase.prototype.ctxFillRect=function(r,x,y,b){this.canvasContext.fillRect(r,x,y,b)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(r){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}r&&(this.globalData.blendMode="source-over"),this.contextData.restore(r)},CanvasRendererBase.prototype.configAnimation=function(r){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var x=this.animationItem.container.style;x.width="100%",x.height="100%";var y="0px 0px 0px";x.transformOrigin=y,x.mozTransformOrigin=y,x.webkitTransformOrigin=y,x["-webkit-transform"]=y,x.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=r,this.layers=r.layers,this.transformCanvas={w:r.w,h:r.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(r,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(r.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(r,x){this.reset();var y,b;r?(y=r,b=x,this.canvasContext.canvas.width=y,this.canvasContext.canvas.height=b):(this.animationItem.wrapper&&this.animationItem.container?(y=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight):(y=this.canvasContext.canvas.width,b=this.canvasContext.canvas.height),this.canvasContext.canvas.width=y*this.renderConfig.dpr,this.canvasContext.canvas.height=b*this.renderConfig.dpr);var R,T;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var A=this.renderConfig.preserveAspectRatio.split(" "),O=A[1]||"meet",B=A[0]||"xMidYMid",U=B.substr(0,4),K=B.substr(4);R=y/b,T=this.transformCanvas.w/this.transformCanvas.h,T>R&&O==="meet"||T<R&&O==="slice"?(this.transformCanvas.sx=y/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=y/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr)),U==="xMid"&&(T<R&&O==="meet"||T>R&&O==="slice")?this.transformCanvas.tx=(y-this.transformCanvas.w*(b/this.transformCanvas.h))/2*this.renderConfig.dpr:U==="xMax"&&(T<R&&O==="meet"||T>R&&O==="slice")?this.transformCanvas.tx=(y-this.transformCanvas.w*(b/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,K==="YMid"&&(T>R&&O==="meet"||T<R&&O==="slice")?this.transformCanvas.ty=(b-this.transformCanvas.h*(y/this.transformCanvas.w))/2*this.renderConfig.dpr:K==="YMax"&&(T>R&&O==="meet"||T<R&&O==="slice")?this.transformCanvas.ty=(b-this.transformCanvas.h*(y/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=y/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var r,x=this.layers?this.layers.length:0;for(r=x-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(r,x){if(!(this.renderedFrame===r&&this.renderConfig.clearCanvas===!0&&!x||this.destroyed||r===-1)){this.renderedFrame=r,this.globalData.frameNum=r-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||x,this.globalData.projectInterface.currentFrame=r;var y,b=this.layers.length;for(this.completeLayers||this.checkLayers(r),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].prepareFrame(r-this.layers[y].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(r){var x=this.elements;if(!(x[r]||this.layers[r].ty===99)){var y=this.createItem(this.layers[r],this,this.globalData);x[r]=y,y.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var r,x=15;for(r=0;r<x;r+=1){var y=new CanvasContext;this.stack[r]=y}this._length=x,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var r=this._length*2,x=0;for(x=this._length;x<r;x+=1)this.stack[x]=new CanvasContext;this._length=r},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(r){this.cArrPos-=1;var x=this.stack[this.cArrPos],y=x.transform,b,R=this.cTr.props;for(b=0;b<16;b+=1)R[b]=y[b];if(r){this.nativeContext.restore();var T=this.stack[this.cArrPos+1];this.appliedFillStyle=T.fillStyle,this.appliedStrokeStyle=T.strokeStyle,this.appliedLineWidth=T.lineWidth,this.appliedLineCap=T.lineCap,this.appliedLineJoin=T.lineJoin,this.appliedMiterLimit=T.miterLimit}this.nativeContext.setTransform(y[0],y[1],y[4],y[5],y[12],y[13]),(r||x.opacity!==-1&&this.currentOpacity!==x.opacity)&&(this.nativeContext.globalAlpha=x.opacity,this.currentOpacity=x.opacity),this.currentFillStyle=x.fillStyle,this.currentStrokeStyle=x.strokeStyle,this.currentLineWidth=x.lineWidth,this.currentLineCap=x.lineCap,this.currentLineJoin=x.lineJoin,this.currentMiterLimit=x.miterLimit},CVContextData.prototype.save=function(r){r&&this.nativeContext.save();var x=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var y=this.stack[this.cArrPos],b;for(b=0;b<16;b+=1)y.transform[b]=x[b];this.cArrPos+=1;var R=this.stack[this.cArrPos];R.opacity=y.opacity,R.fillStyle=y.fillStyle,R.strokeStyle=y.strokeStyle,R.lineWidth=y.lineWidth,R.lineCap=y.lineCap,R.lineJoin=y.lineJoin,R.miterLimit=y.miterLimit},CVContextData.prototype.setOpacity=function(r){this.stack[this.cArrPos].opacity=r},CVContextData.prototype.setContext=function(r){this.nativeContext=r},CVContextData.prototype.fillStyle=function(r){this.stack[this.cArrPos].fillStyle!==r&&(this.currentFillStyle=r,this.stack[this.cArrPos].fillStyle=r)},CVContextData.prototype.strokeStyle=function(r){this.stack[this.cArrPos].strokeStyle!==r&&(this.currentStrokeStyle=r,this.stack[this.cArrPos].strokeStyle=r)},CVContextData.prototype.lineWidth=function(r){this.stack[this.cArrPos].lineWidth!==r&&(this.currentLineWidth=r,this.stack[this.cArrPos].lineWidth=r)},CVContextData.prototype.lineCap=function(r){this.stack[this.cArrPos].lineCap!==r&&(this.currentLineCap=r,this.stack[this.cArrPos].lineCap=r)},CVContextData.prototype.lineJoin=function(r){this.stack[this.cArrPos].lineJoin!==r&&(this.currentLineJoin=r,this.stack[this.cArrPos].lineJoin=r)},CVContextData.prototype.miterLimit=function(r){this.stack[this.cArrPos].miterLimit!==r&&(this.currentMiterLimit=r,this.stack[this.cArrPos].miterLimit=r)},CVContextData.prototype.transform=function(r){this.transformMat.cloneFromProps(r);var x=this.cTr;this.transformMat.multiply(x),x.cloneFromProps(this.transformMat.props);var y=x.props;this.nativeContext.setTransform(y[0],y[1],y[4],y[5],y[12],y[13])},CVContextData.prototype.opacity=function(r){var x=this.stack[this.cArrPos].opacity;x*=r<0?0:r,this.stack[this.cArrPos].opacity!==x&&(this.currentOpacity!==r&&(this.nativeContext.globalAlpha=r,this.currentOpacity=r),this.stack[this.cArrPos].opacity=x)},CVContextData.prototype.fill=function(r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(r)},CVContextData.prototype.fillRect=function(r,x,y,b){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(r,x,y,b)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(r,x,y){this.completeLayers=!1,this.layers=r.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.beginPath(),r.moveTo(0,0),r.lineTo(this.data.w,0),r.lineTo(this.data.w,this.data.h),r.lineTo(0,this.data.h),r.lineTo(0,0),r.clip();var x,y=this.layers.length;for(x=y-1;x>=0;x-=1)(this.completeLayers||this.elements[x])&&this.elements[x].renderFrame()},CVCompElement.prototype.destroy=function(){var r,x=this.layers.length;for(r=x-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)};function CanvasRenderer(r,x){this.animationItem=r,this.renderConfig={clearCanvas:x&&x.clearCanvas!==void 0?x.clearCanvas:!0,context:x&&x.context||null,progressiveLoad:x&&x.progressiveLoad||!1,preserveAspectRatio:x&&x.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:x&&x.contentVisibility||"visible",className:x&&x.className||"",id:x&&x.id||"",runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.renderConfig.dpr=x&&x.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=x&&x.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var x=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var y=this.finalTransform.mat.toCSS();x.transform=y,x.webkitTransform=y}this.finalTransform._opMdf&&(x.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var r;this.data.hasMask?(r=createNS("rect"),r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(r=createTag("div"),r.style.width=this.data.sw+"px",r.style.height=this.data.sh+"px",r.style.backgroundColor=this.data.sc),this.layerElement.appendChild(r)};function HShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(r,x,y),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var r;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),r=this.svgElement;else{r=createNS("svg");var x=this.comp.data?this.comp.data:this.globalData.compSize;r.setAttribute("width",x.w),r.setAttribute("height",x.h),r.appendChild(this.shapesContainer),this.layerElement.appendChild(r)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=r},HShapeElement.prototype.getTransformedPoint=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)x=r[y].mProps.v.applyToPointArray(x[0],x[1],0);return x},HShapeElement.prototype.calculateShapeBoundingBox=function(r,x){var y=r.sh.v,b=r.transformers,R,T=y._length,A,O,B,U;if(!(T<=1)){for(R=0;R<T-1;R+=1)A=this.getTransformedPoint(b,y.v[R]),O=this.getTransformedPoint(b,y.o[R]),B=this.getTransformedPoint(b,y.i[R+1]),U=this.getTransformedPoint(b,y.v[R+1]),this.checkBounds(A,O,B,U,x);y.c&&(A=this.getTransformedPoint(b,y.v[R]),O=this.getTransformedPoint(b,y.o[R]),B=this.getTransformedPoint(b,y.i[0]),U=this.getTransformedPoint(b,y.v[0]),this.checkBounds(A,O,B,U,x))}},HShapeElement.prototype.checkBounds=function(r,x,y,b,R){this.getBoundsOfCurve(r,x,y,b);var T=this.shapeBoundingBox;R.x=bmMin(T.left,R.x),R.xMax=bmMax(T.right,R.xMax),R.y=bmMin(T.top,R.y),R.yMax=bmMax(T.bottom,R.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(r,x,y,b){for(var R=[[r[0],b[0]],[r[1],b[1]]],T,A,O,B,U,K,J,te=0;te<2;++te)A=6*r[te]-12*x[te]+6*y[te],T=-3*r[te]+9*x[te]-9*y[te]+3*b[te],O=3*x[te]-3*r[te],A|=0,T|=0,O|=0,T===0&&A===0||(T===0?(B=-O/A,B>0&&B<1&&R[te].push(this.calculateF(B,r,x,y,b,te))):(U=A*A-4*O*T,U>=0&&(K=(-A+bmSqrt(U))/(2*T),K>0&&K<1&&R[te].push(this.calculateF(K,r,x,y,b,te)),J=(-A-bmSqrt(U))/(2*T),J>0&&J<1&&R[te].push(this.calculateF(J,r,x,y,b,te)))));this.shapeBoundingBox.left=bmMin.apply(null,R[0]),this.shapeBoundingBox.top=bmMin.apply(null,R[1]),this.shapeBoundingBox.right=bmMax.apply(null,R[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,R[1])},HShapeElement.prototype.calculateF=function(r,x,y,b,R,T){return bmPow(1-r,3)*x[T]+3*bmPow(1-r,2)*r*y[T]+3*(1-r)*bmPow(r,2)*b[T]+bmPow(r,3)*R[T]},HShapeElement.prototype.calculateBoundingBox=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)r[y]&&r[y].sh?this.calculateShapeBoundingBox(r[y],x):r[y]&&r[y].it?this.calculateBoundingBox(r[y].it,x):r[y]&&r[y].style&&r[y].w&&this.expandStrokeBoundingBox(r[y].w,x)},HShapeElement.prototype.expandStrokeBoundingBox=function(r,x){var y=0;if(r.keyframes){for(var b=0;b<r.keyframes.length;b+=1){var R=r.keyframes[b].s;R>y&&(y=R)}y*=r.mult}else y=r.v*r.mult;x.x-=y,x.xMax+=y,x.y-=y,x.yMax+=y},HShapeElement.prototype.currentBoxContains=function(r){return this.currentBBox.x<=r.x&&this.currentBBox.y<=r.y&&this.currentBBox.width+this.currentBBox.x>=r.x+r.width&&this.currentBBox.height+this.currentBBox.y>=r.y+r.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var r=this.tempBoundingBox,x=999999;if(r.x=x,r.xMax=-x,r.y=x,r.yMax=-x,this.calculateBoundingBox(this.itemsData,r),r.width=r.xMax<r.x?0:r.xMax-r.x,r.height=r.yMax<r.y?0:r.yMax-r.y,this.currentBoxContains(r))return;var y=!1;if(this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),y=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),y=!0),y||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y){this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var b=this.shapeCont.style,R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";b.transform=R,b.webkitTransform=R}}};function HTextElement(r,x,y){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var r=createNS("g");this.maskedElement.appendChild(r),this.innerElem=r}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var x=this.innerElem.style,y=r.fc?this.buildColor(r.fc):"rgba(0,0,0,0)";x.fill=y,x.color=y,r.sc&&(x.stroke=this.buildColor(r.sc),x.strokeWidth=r.sw+"px");var b=this.globalData.fontManager.getFontByName(r.f);if(!this.globalData.fontManager.chars)if(x.fontSize=r.finalSize+"px",x.lineHeight=r.finalSize+"px",b.fClass)this.innerElem.className=b.fClass;else{x.fontFamily=b.fFamily;var R=r.fWeight,T=r.fStyle;x.fontStyle=T,x.fontWeight=R}var A,O,B=r.l;O=B.length;var U,K,J,te=this.mHelper,ae,ue="",pe=0;for(A=0;A<O;A+=1){if(this.globalData.fontManager.chars?(this.textPaths[pe]?U=this.textPaths[pe]:(U=createNS("path"),U.setAttribute("stroke-linecap",lineCapEnum[1]),U.setAttribute("stroke-linejoin",lineJoinEnum[2]),U.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[pe]?(K=this.textSpans[pe],J=K.children[0]):(K=createTag("div"),K.style.lineHeight=0,J=createNS("svg"),J.appendChild(U),styleDiv(K)))):this.isMasked?U=this.textPaths[pe]?this.textPaths[pe]:createNS("text"):this.textSpans[pe]?(K=this.textSpans[pe],U=this.textPaths[pe]):(K=createTag("span"),styleDiv(K),U=createTag("span"),styleDiv(U),K.appendChild(U)),this.globalData.fontManager.chars){var $e=this.globalData.fontManager.getCharData(r.finalText[A],b.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),Ne;if($e?Ne=$e.data:Ne=null,te.reset(),Ne&&Ne.shapes&&Ne.shapes.length&&(ae=Ne.shapes[0].it,te.scale(r.finalSize/100,r.finalSize/100),ue=this.createPathShape(te,ae),U.setAttribute("d",ue)),this.isMasked)this.innerElem.appendChild(U);else{if(this.innerElem.appendChild(K),Ne&&Ne.shapes){document.body.appendChild(J);var Be=J.getBBox();J.setAttribute("width",Be.width+2),J.setAttribute("height",Be.height+2),J.setAttribute("viewBox",Be.x-1+" "+(Be.y-1)+" "+(Be.width+2)+" "+(Be.height+2));var _e=J.style,xe="translate("+(Be.x-1)+"px,"+(Be.y-1)+"px)";_e.transform=xe,_e.webkitTransform=xe,B[A].yOffset=Be.y-1}else J.setAttribute("width",1),J.setAttribute("height",1);K.appendChild(J)}}else if(U.textContent=B[A].val,U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(U);else{this.innerElem.appendChild(K);var Le=U.style,Ue="translate3d(0,"+-r.finalSize/1.2+"px,0)";Le.transform=Ue,Le.webkitTransform=Ue}this.isMasked?this.textSpans[pe]=U:this.textSpans[pe]=K,this.textSpans[pe].style.display="block",this.textPaths[pe]=U,pe+=1}for(;pe<this.textSpans.length;)this.textSpans[pe].style.display="none",pe+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var r;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),r=this.svgElement.style;var x="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";r.transform=x,r.webkitTransform=x}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var y,b,R=0,T=this.textAnimator.renderedLetters,A=this.textProperty.currentData.l;b=A.length;var O,B,U;for(y=0;y<b;y+=1)A[y].n?R+=1:(B=this.textSpans[y],U=this.textPaths[y],O=T[R],R+=1,O._mdf.m&&(this.isMasked?B.setAttribute("transform",O.m):(B.style.webkitTransform=O.m,B.style.transform=O.m)),B.style.opacity=O.o,O.sw&&O._mdf.sw&&U.setAttribute("stroke-width",O.sw),O.sc&&O._mdf.sc&&U.setAttribute("stroke",O.sc),O.fc&&O._mdf.fc&&(U.setAttribute("fill",O.fc),U.style.color=O.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var K=this.innerElem.getBBox();this.currentBBox.w!==K.width&&(this.currentBBox.w=K.width,this.svgElement.setAttribute("width",K.width)),this.currentBBox.h!==K.height&&(this.currentBBox.h=K.height,this.svgElement.setAttribute("height",K.height));var J=1;if(this.currentBBox.w!==K.width+J*2||this.currentBBox.h!==K.height+J*2||this.currentBBox.x!==K.x-J||this.currentBBox.y!==K.y-J){this.currentBBox.w=K.width+J*2,this.currentBBox.h=K.height+J*2,this.currentBBox.x=K.x-J,this.currentBBox.y=K.y-J,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),r=this.svgElement.style;var te="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=te,r.webkitTransform=te}}}};function HCameraElement(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initHierarchy();var b=PropertyFactory.getProp;if(this.pe=b(this,r.pe,0,0,this),r.ks.p.s?(this.px=b(this,r.ks.p.x,1,0,this),this.py=b(this,r.ks.p.y,1,0,this),this.pz=b(this,r.ks.p.z,1,0,this)):this.p=b(this,r.ks.p,1,0,this),r.ks.a&&(this.a=b(this,r.ks.a,1,0,this)),r.ks.or.k.length&&r.ks.or.k[0].to){var R,T=r.ks.or.k.length;for(R=0;R<T;R+=1)r.ks.or.k[R].to=null,r.ks.or.k[R].ti=null}this.or=b(this,r.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=b(this,r.ks.rx,0,degToRads,this),this.ry=b(this,r.ks.ry,0,degToRads,this),this.rz=b(this,r.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var r,x=this.comp.threeDElements.length,y,b,R;for(r=0;r<x;r+=1)if(y=this.comp.threeDElements[r],y.type==="3d"){b=y.perspectiveElem.style,R=y.container.style;var T=this.pe.v+"px",A="0px 0px 0px",O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";b.perspective=T,b.webkitPerspective=T,R.transformOrigin=A,R.mozTransformOrigin=A,R.webkitTransformOrigin=A,b.transform=O,b.webkitTransform=O}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var r=this._isFirstFrame,x,y;if(this.hierarchy)for(y=this.hierarchy.length,x=0;x<y;x+=1)r=this.hierarchy[x].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(y=this.hierarchy.length-1,x=y;x>=0;x-=1){var b=this.hierarchy[x].finalTransform.mProp;this.mat.translate(-b.p.v[0],-b.p.v[1],b.p.v[2]),this.mat.rotateX(-b.or.v[0]).rotateY(-b.or.v[1]).rotateZ(b.or.v[2]),this.mat.rotateX(-b.rx.v).rotateY(-b.ry.v).rotateZ(b.rz.v),this.mat.scale(1/b.s.v[0],1/b.s.v[1],1/b.s.v[2]),this.mat.translate(b.a.v[0],b.a.v[1],b.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var R;this.p?R=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:R=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var T=Math.sqrt(Math.pow(R[0],2)+Math.pow(R[1],2)+Math.pow(R[2],2)),A=[R[0]/T,R[1]/T,R[2]/T],O=Math.sqrt(A[2]*A[2]+A[0]*A[0]),B=Math.atan2(A[1],O),U=Math.atan2(A[0],-A[2]);this.mat.rotateY(U).rotateX(-B)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var K=!this._prevMat.equals(this.mat);if((K||this.pe._mdf)&&this.comp.threeDElements){y=this.comp.threeDElements.length;var J,te,ae;for(x=0;x<y;x+=1)if(J=this.comp.threeDElements[x],J.type==="3d"){if(K){var ue=this.mat.toCSS();ae=J.container.style,ae.transform=ue,ae.webkitTransform=ue}this.pe._mdf&&(te=J.perspectiveElem.style,te.perspective=this.pe.v+"px",te.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData),x=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(x),x.crossOrigin="anonymous",x.src=r,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:x&&x.className||"",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(x&&x.hideOnTransparent===!1),filterSize:{width:x&&x.filterSize&&x.filterSize.width||"400%",height:x&&x.filterSize&&x.filterSize.height||"400%",x:x&&x.filterSize&&x.filterSize.x||"-100%",y:x&&x.filterSize&&x.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(r,x){var y=r.getBaseElement();if(y){var b=this.layers[x];if(!b.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(y,x);else{for(var R=0,T,A,O;R<x;)this.elements[R]&&this.elements[R]!==!0&&this.elements[R].getBaseElement&&(A=this.elements[R],O=this.layers[R].ddd?this.getThreeDContainerByPos(R):A.getBaseElement(),T=O||T),R+=1;T?(!b.ddd||!this.supports3d)&&this.layerElement.insertBefore(y,T):(!b.ddd||!this.supports3d)&&this.layerElement.appendChild(y)}else this.addTo3dContainer(y,x)}},HybridRendererBase.prototype.createShape=function(r){return this.supports3d?new HShapeElement(r,this.globalData,this):new SVGShapeElement(r,this.globalData,this)},HybridRendererBase.prototype.createText=function(r){return this.supports3d?new HTextElement(r,this.globalData,this):new SVGTextLottieElement(r,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(r){return this.camera=new HCameraElement(r,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(r){return this.supports3d?new HImageElement(r,this.globalData,this):new IImageElement(r,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(r){return this.supports3d?new HSolidElement(r,this.globalData,this):new ISolidElement(r,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(r){for(var x=0,y=this.threeDElements.length;x<y;){if(this.threeDElements[x].startPos<=r&&this.threeDElements[x].endPos>=r)return this.threeDElements[x].perspectiveElem;x+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(r,x){var y=createTag("div"),b,R;styleDiv(y);var T=createTag("div");if(styleDiv(T),x==="3d"){b=y.style,b.width=this.globalData.compSize.w+"px",b.height=this.globalData.compSize.h+"px";var A="50% 50%";b.webkitTransformOrigin=A,b.mozTransformOrigin=A,b.transformOrigin=A,R=T.style;var O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";R.transform=O,R.webkitTransform=O}y.appendChild(T);var B={container:T,perspectiveElem:y,startPos:r,endPos:r,type:x};return this.threeDElements.push(B),B},HybridRendererBase.prototype.build3dContainers=function(){var r,x=this.layers.length,y,b="";for(r=0;r<x;r+=1)this.layers[r].ddd&&this.layers[r].ty!==3?(b!=="3d"&&(b="3d",y=this.createThreeDContainer(r,"3d")),y.endPos=Math.max(y.endPos,r)):(b!=="2d"&&(b="2d",y=this.createThreeDContainer(r,"2d")),y.endPos=Math.max(y.endPos,r));for(x=this.threeDElements.length,r=x-1;r>=0;r-=1)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(r,x){for(var y=0,b=this.threeDElements.length;y<b;){if(x<=this.threeDElements[y].endPos){for(var R=this.threeDElements[y].startPos,T;R<x;)this.elements[R]&&this.elements[R].getBaseElement&&(T=this.elements[R].getBaseElement()),R+=1;T?this.threeDElements[y].container.insertBefore(r,T):this.threeDElements[y].container.appendChild(r);break}y+=1}},HybridRendererBase.prototype.configAnimation=function(r){var x=createTag("div"),y=this.animationItem.wrapper,b=x.style;b.width=r.w+"px",b.height=r.h+"px",this.resizerElem=x,styleDiv(x),b.transformStyle="flat",b.mozTransformStyle="flat",b.webkitTransformStyle="flat",this.renderConfig.className&&x.setAttribute("class",this.renderConfig.className),y.appendChild(x),b.overflow="hidden";var R=createNS("svg");R.setAttribute("width","1"),R.setAttribute("height","1"),styleDiv(R),this.resizerElem.appendChild(R);var T=createNS("defs");R.appendChild(T),this.data=r,this.setupGlobalData(r,R),this.globalData.defs=T,this.layers=r.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var r,x=this.layers?this.layers.length:0;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var r=this.animationItem.wrapper.offsetWidth,x=this.animationItem.wrapper.offsetHeight,y=r/x,b=this.globalData.compSize.w/this.globalData.compSize.h,R,T,A,O;b>y?(R=r/this.globalData.compSize.w,T=r/this.globalData.compSize.w,A=0,O=(x-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(R=x/this.globalData.compSize.h,T=x/this.globalData.compSize.h,A=(r-this.globalData.compSize.w*(x/this.globalData.compSize.h))/2,O=0);var B=this.resizerElem.style;B.webkitTransform="matrix3d("+R+",0,0,0,0,"+T+",0,0,0,0,1,0,"+A+","+O+",0,1)",B.transform=B.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var r=this.globalData.compSize.w,x=this.globalData.compSize.h,y,b=this.threeDElements.length;for(y=0;y<b;y+=1){var R=this.threeDElements[y].perspectiveElem.style;R.webkitPerspective=Math.sqrt(Math.pow(r,2)+Math.pow(x,2))+"px",R.perspective=R.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(r){var x,y=r.length,b=createTag("div");for(x=0;x<y;x+=1)if(r[x].xt){var R=this.createComp(r[x],b,this.globalData.comp,null);R.initExpressions(),this.globalData.projectInterface.registerComposition(R)}};function HCompElement(r,x,y){this.layers=r.layers,this.supports3d=!r.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(r,x){for(var y=0,b;y<x;)this.elements[y]&&this.elements[y].getBaseElement&&(b=this.elements[y].getBaseElement()),y+=1;b?this.layerElement.insertBefore(r,b):this.layerElement.appendChild(r)},HCompElement.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)};function HybridRenderer(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:x&&x.className||"",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(x&&x.hideOnTransparent===!1),filterSize:{width:x&&x.filterSize&&x.filterSize.width||"400%",height:x&&x.filterSize&&x.filterSize.height||"400%",x:x&&x.filterSize&&x.filterSize.x||"-100%",y:x&&x.filterSize&&x.filterSize.y||"-100%"},runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)};var CompExpressionInterface=(function(){return function(r){function x(y){for(var b=0,R=r.layers.length;b<R;){if(r.layers[b].nm===y||r.layers[b].ind===y)return r.elements[b].layerInterface;b+=1}return null}return Object.defineProperty(x,"_name",{value:r.data.nm}),x.layer=x,x.pixelAspect=1,x.height=r.data.h||r.globalData.compSize.h,x.width=r.data.w||r.globalData.compSize.w,x.pixelAspect=1,x.frameDuration=1/r.globalData.frameRate,x.displayStartTime=0,x.numLayers=r.layers.length,x}})();function _typeof$2(r){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$2(r)}function seedRandom(r,x){var y=this,b=256,R=6,T=52,A="random",O=x.pow(b,R),B=x.pow(2,T),U=B*2,K=b-1,J;function te(_e,xe,Le){var Ue=[];xe=xe===!0?{entropy:!0}:xe||{};var He=$e(pe(xe.entropy?[_e,Be(r)]:_e===null?Ne():_e,3),Ue),qe=new ae(Ue),Qe=function(){for(var ct=qe.g(R),ot=O,pt=0;ct<B;)ct=(ct+pt)*b,ot*=b,pt=qe.g(1);for(;ct>=U;)ct/=2,ot/=2,pt>>>=1;return(ct+pt)/ot};return Qe.int32=function(){return qe.g(4)|0},Qe.quick=function(){return qe.g(4)/4294967296},Qe.double=Qe,$e(Be(qe.S),r),(xe.pass||Le||function(lt,ct,ot,pt){return pt&&(pt.S&&ue(pt,qe),lt.state=function(){return ue(qe,{})}),ot?(x[A]=lt,ct):lt})(Qe,He,"global"in xe?xe.global:this==x,xe.state)}x["seed"+A]=te;function ae(_e){var xe,Le=_e.length,Ue=this,He=0,qe=Ue.i=Ue.j=0,Qe=Ue.S=[];for(Le||(_e=[Le++]);He<b;)Qe[He]=He++;for(He=0;He<b;He++)Qe[He]=Qe[qe=K&qe+_e[He%Le]+(xe=Qe[He])],Qe[qe]=xe;Ue.g=function(lt){for(var ct,ot=0,pt=Ue.i,yt=Ue.j,it=Ue.S;lt--;)ct=it[pt=K&pt+1],ot=ot*b+it[K&(it[pt]=it[yt=K&yt+ct])+(it[yt]=ct)];return Ue.i=pt,Ue.j=yt,ot}}function ue(_e,xe){return xe.i=_e.i,xe.j=_e.j,xe.S=_e.S.slice(),xe}function pe(_e,xe){var Le=[],Ue=_typeof$2(_e),He;if(xe&&Ue=="object")for(He in _e)try{Le.push(pe(_e[He],xe-1))}catch{}return Le.length?Le:Ue=="string"?_e:_e+"\0"}function $e(_e,xe){for(var Le=_e+"",Ue,He=0;He<Le.length;)xe[K&He]=K&(Ue^=xe[K&He]*19)+Le.charCodeAt(He++);return Be(xe)}function Ne(){try{var _e=new Uint8Array(b);return(y.crypto||y.msCrypto).getRandomValues(_e),Be(_e)}catch{var xe=y.navigator,Le=xe&&xe.plugins;return[+new Date,y,Le,y.screen,Be(r)]}}function Be(_e){return String.fromCharCode.apply(0,_e)}$e(x.random(),r)}function initialize$2(r){seedRandom([],r)}var propTypes={SHAPE:"shape"};function _typeof$1(r){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$1(r)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(r){return r.constructor===Array||r.constructor===Float32Array}function isNumerable(r,x){return r==="number"||x instanceof Number||r==="boolean"||r==="string"}function $bm_neg(r){var x=_typeof$1(r);if(x==="number"||r instanceof Number||x==="boolean")return-r;if($bm_isInstanceOfArray(r)){var y,b=r.length,R=[];for(y=0;y<b;y+=1)R[y]=-r[y];return R}return r.propType?r.v:-r}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(r,x){var y=_typeof$1(r),b=_typeof$1(x);if(isNumerable(y,r)&&isNumerable(b,x)||y==="string"||b==="string")return r+x;if($bm_isInstanceOfArray(r)&&isNumerable(b,x))return r=r.slice(0),r[0]+=x,r;if(isNumerable(y,r)&&$bm_isInstanceOfArray(x))return x=x.slice(0),x[0]=r+x[0],x;if($bm_isInstanceOfArray(r)&&$bm_isInstanceOfArray(x)){for(var R=0,T=r.length,A=x.length,O=[];R<T||R<A;)(typeof r[R]=="number"||r[R]instanceof Number)&&(typeof x[R]=="number"||x[R]instanceof Number)?O[R]=r[R]+x[R]:O[R]=x[R]===void 0?r[R]:r[R]||x[R],R+=1;return O}return 0}var add=sum;function sub(r,x){var y=_typeof$1(r),b=_typeof$1(x);if(isNumerable(y,r)&&isNumerable(b,x))return y==="string"&&(r=parseInt(r,10)),b==="string"&&(x=parseInt(x,10)),r-x;if($bm_isInstanceOfArray(r)&&isNumerable(b,x))return r=r.slice(0),r[0]-=x,r;if(isNumerable(y,r)&&$bm_isInstanceOfArray(x))return x=x.slice(0),x[0]=r-x[0],x;if($bm_isInstanceOfArray(r)&&$bm_isInstanceOfArray(x)){for(var R=0,T=r.length,A=x.length,O=[];R<T||R<A;)(typeof r[R]=="number"||r[R]instanceof Number)&&(typeof x[R]=="number"||x[R]instanceof Number)?O[R]=r[R]-x[R]:O[R]=x[R]===void 0?r[R]:r[R]||x[R],R+=1;return O}return 0}function mul(r,x){var y=_typeof$1(r),b=_typeof$1(x),R;if(isNumerable(y,r)&&isNumerable(b,x))return r*x;var T,A;if($bm_isInstanceOfArray(r)&&isNumerable(b,x)){for(A=r.length,R=createTypedArray("float32",A),T=0;T<A;T+=1)R[T]=r[T]*x;return R}if(isNumerable(y,r)&&$bm_isInstanceOfArray(x)){for(A=x.length,R=createTypedArray("float32",A),T=0;T<A;T+=1)R[T]=r*x[T];return R}return 0}function div(r,x){var y=_typeof$1(r),b=_typeof$1(x),R;if(isNumerable(y,r)&&isNumerable(b,x))return r/x;var T,A;if($bm_isInstanceOfArray(r)&&isNumerable(b,x)){for(A=r.length,R=createTypedArray("float32",A),T=0;T<A;T+=1)R[T]=r[T]/x;return R}if(isNumerable(y,r)&&$bm_isInstanceOfArray(x)){for(A=x.length,R=createTypedArray("float32",A),T=0;T<A;T+=1)R[T]=r/x[T];return R}return 0}function mod(r,x){return typeof r=="string"&&(r=parseInt(r,10)),typeof x=="string"&&(x=parseInt(x,10)),r%x}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(r,x,y){if(x>y){var b=y;y=x,x=b}return Math.min(Math.max(r,x),y)}function radiansToDegrees(r){return r/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(r){return r*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(r,x){if(typeof r=="number"||r instanceof Number)return x=x||0,Math.abs(r-x);x||(x=helperLengthArray);var y,b=Math.min(r.length,x.length),R=0;for(y=0;y<b;y+=1)R+=Math.pow(x[y]-r[y],2);return Math.sqrt(R)}function normalize(r){return div(r,length(r))}function rgbToHsl(r){var x=r[0],y=r[1],b=r[2],R=Math.max(x,y,b),T=Math.min(x,y,b),A,O,B=(R+T)/2;if(R===T)A=0,O=0;else{var U=R-T;switch(O=B>.5?U/(2-R-T):U/(R+T),R){case x:A=(y-b)/U+(y<b?6:0);break;case y:A=(b-x)/U+2;break;case b:A=(x-y)/U+4;break}A/=6}return[A,O,B,r[3]]}function hue2rgb(r,x,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?r+(x-r)*6*y:y<1/2?x:y<2/3?r+(x-r)*(2/3-y)*6:r}function hslToRgb(r){var x=r[0],y=r[1],b=r[2],R,T,A;if(y===0)R=b,A=b,T=b;else{var O=b<.5?b*(1+y):b+y-b*y,B=2*b-O;R=hue2rgb(B,O,x+1/3),T=hue2rgb(B,O,x),A=hue2rgb(B,O,x-1/3)}return[R,T,A,r[3]]}function linear(r,x,y,b,R){if((b===void 0||R===void 0)&&(b=x,R=y,x=0,y=1),y<x){var T=y;y=x,x=T}if(r<=x)return b;if(r>=y)return R;var A=y===x?0:(r-x)/(y-x);if(!b.length)return b+(R-b)*A;var O,B=b.length,U=createTypedArray("float32",B);for(O=0;O<B;O+=1)U[O]=b[O]+(R[O]-b[O])*A;return U}function random(r,x){if(x===void 0&&(r===void 0?(r=0,x=1):(x=r,r=void 0)),x.length){var y,b=x.length;r||(r=createTypedArray("float32",b));var R=createTypedArray("float32",b),T=BMMath.random();for(y=0;y<b;y+=1)R[y]=r[y]+T*(x[y]-r[y]);return R}r===void 0&&(r=0);var A=BMMath.random();return r+A*(x-r)}function createPath(r,x,y,b){var R,T=r.length,A=shapePool.newElement();A.setPathData(!!b,T);var O=[0,0],B,U;for(R=0;R<T;R+=1)B=x&&x[R]?x[R]:O,U=y&&y[R]?y[R]:O,A.setTripleAt(r[R][0],r[R][1],U[0]+r[R][0],U[1]+r[R][1],B[0]+r[R][0],B[1]+r[R][1],R,!0);return A}function initiateExpression(elem,data,property){function noOp(r){return r}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function r(x,y){var b,R,T=this.pv.length?this.pv.length:1,A=createTypedArray("float32",T);x=5;var O=Math.floor(time*x);for(b=0,R=0;b<O;){for(R=0;R<T;R+=1)A[R]+=-y+y*2*BMMath.random();b+=1}var B=time*x,U=B-Math.floor(B),K=createTypedArray("float32",T);if(T>1){for(R=0;R<T;R+=1)K[R]=this.pv[R]+A[R]+(-y+y*2*BMMath.random())*U;return K}return this.pv+A[0]+(-y+y*2*BMMath.random())*U}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(r,x){return loopIn(r,x,!0)}function loopOutDuration(r,x){return loopOut(r,x,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(r,x){var y=[x[0]-r[0],x[1]-r[1],x[2]-r[2]],b=Math.atan2(y[0],Math.sqrt(y[1]*y[1]+y[2]*y[2]))/degToRads,R=-Math.atan2(y[1],y[2])/degToRads;return[R,b,0]}function easeOut(r,x,y,b,R){return applyEase(easeOutBez,r,x,y,b,R)}function easeIn(r,x,y,b,R){return applyEase(easeInBez,r,x,y,b,R)}function ease(r,x,y,b,R){return applyEase(easeInOutBez,r,x,y,b,R)}function applyEase(r,x,y,b,R,T){R===void 0?(R=y,T=b):x=(x-y)/(b-y),x>1?x=1:x<0&&(x=0);var A=r(x);if($bm_isInstanceOfArray(R)){var O,B=R.length,U=createTypedArray("float32",B);for(O=0;O<B;O+=1)U[O]=(T[O]-R[O])*A+R[O];return U}return(T-R)*A+R}function nearestKey(r){var x,y=data.k.length,b,R;if(!data.k.length||typeof data.k[0]=="number")b=0,R=0;else if(b=-1,r*=elem.comp.globalData.frameRate,r<data.k[0].t)b=1,R=data.k[0].t;else{for(x=0;x<y-1;x+=1)if(r===data.k[x].t){b=x+1,R=data.k[x].t;break}else if(r>data.k[x].t&&r<data.k[x+1].t){r-data.k[x].t>data.k[x+1].t-r?(b=x+2,R=data.k[x+1].t):(b=x+1,R=data.k[x].t);break}b===-1&&(b=x+1,R=data.k[x].t)}var T={};return T.index=b,T.time=R/elem.comp.globalData.frameRate,T}function key(r){var x,y,b;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+r);r-=1,x={time:data.k[r].t/elem.comp.globalData.frameRate,value:[]};var R=Object.prototype.hasOwnProperty.call(data.k[r],"s")?data.k[r].s:data.k[r-1].e;for(b=R.length,y=0;y<b;y+=1)x[y]=R[y],x.value[y]=R[y];return x}function framesToTime(r,x){return x||(x=elem.comp.globalData.frameRate),r/x}function timeToFrames(r,x){return!r&&r!==0&&(r=time),x||(x=elem.comp.globalData.frameRate),r*x}function seedRandom(r){BMMath.seedrandom(randSeed+r)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(r,x){return typeof value=="string"?x===void 0?value.substring(r):value.substring(r,x):""}function substr(r,x){return typeof value=="string"?x===void 0?value.substr(r):value.substr(r,x):""}function posterizeTime(r){time=r===0?0:Math.floor(time*r)/r,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(r){return value=r,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var r={};r.initExpressions=x,r.resetFrame=ExpressionManager.resetFrame;function x(y){var b=0,R=[];function T(){b+=1}function A(){b-=1,b===0&&B()}function O(U){R.indexOf(U)===-1&&R.push(U)}function B(){var U,K=R.length;for(U=0;U<K;U+=1)R[U].release();R.length=0}y.renderer.compInterface=CompExpressionInterface(y.renderer),y.renderer.globalData.projectInterface.registerComposition(y.renderer),y.renderer.globalData.pushExpression=T,y.renderer.globalData.popExpression=A,y.renderer.globalData.registerExpressionProperty=O}return r})(),MaskManagerInterface=(function(){function r(y,b){this._mask=y,this._data=b}Object.defineProperty(r.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(r.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var x=function(b){var R=createSizedArray(b.viewData.length),T,A=b.viewData.length;for(T=0;T<A;T+=1)R[T]=new r(b.viewData[T],b.masksProperties[T]);var O=function(U){for(T=0;T<A;){if(b.masksProperties[T].nm===U)return R[T];T+=1}return null};return O};return x})(),ExpressionPropertyInterface=(function(){var r={pv:0,v:0,mult:1},x={pv:[0,0,0],v:[0,0,0],mult:1};function y(A,O,B){Object.defineProperty(A,"velocity",{get:function(){return O.getVelocityAtTime(O.comp.currentFrame)}}),A.numKeys=O.keyframes?O.keyframes.length:0,A.key=function(U){if(!A.numKeys)return 0;var K="";"s"in O.keyframes[U-1]?K=O.keyframes[U-1].s:"e"in O.keyframes[U-2]?K=O.keyframes[U-2].e:K=O.keyframes[U-2].s;var J=B==="unidimensional"?new Number(K):Object.assign({},K);return J.time=O.keyframes[U-1].t/O.elem.comp.globalData.frameRate,J.value=B==="unidimensional"?K[0]:K,J},A.valueAtTime=O.getValueAtTime,A.speedAtTime=O.getSpeedAtTime,A.velocityAtTime=O.getVelocityAtTime,A.propertyGroup=O.propertyGroup}function b(A){(!A||!("pv"in A))&&(A=r);var O=1/A.mult,B=A.pv*O,U=new Number(B);return U.value=B,y(U,A,"unidimensional"),function(){return A.k&&A.getValue(),B=A.v*O,U.value!==B&&(U=new Number(B),U.value=B,U[0]=B,y(U,A,"unidimensional")),U}}function R(A){(!A||!("pv"in A))&&(A=x);var O=1/A.mult,B=A.data&&A.data.l||A.pv.length,U=createTypedArray("float32",B),K=createTypedArray("float32",B);return U.value=K,y(U,A,"multidimensional"),function(){A.k&&A.getValue();for(var J=0;J<B;J+=1)K[J]=A.v[J]*O,U[J]=K[J];return U}}function T(){return r}return function(A){return A?A.propType==="unidimensional"?b(A):R(A):T}})(),TransformExpressionInterface=(function(){return function(r){function x(A){switch(A){case"scale":case"Scale":case"ADBE Scale":case 6:return x.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return x.rotation;case"ADBE Rotate X":return x.xRotation;case"ADBE Rotate Y":return x.yRotation;case"position":case"Position":case"ADBE Position":case 2:return x.position;case"ADBE Position_0":return x.xPosition;case"ADBE Position_1":return x.yPosition;case"ADBE Position_2":return x.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return x.anchorPoint;case"opacity":case"Opacity":case 11:return x.opacity;default:return null}}Object.defineProperty(x,"rotation",{get:ExpressionPropertyInterface(r.r||r.rz)}),Object.defineProperty(x,"zRotation",{get:ExpressionPropertyInterface(r.rz||r.r)}),Object.defineProperty(x,"xRotation",{get:ExpressionPropertyInterface(r.rx)}),Object.defineProperty(x,"yRotation",{get:ExpressionPropertyInterface(r.ry)}),Object.defineProperty(x,"scale",{get:ExpressionPropertyInterface(r.s)});var y,b,R,T;return r.p?T=ExpressionPropertyInterface(r.p):(y=ExpressionPropertyInterface(r.px),b=ExpressionPropertyInterface(r.py),r.pz&&(R=ExpressionPropertyInterface(r.pz))),Object.defineProperty(x,"position",{get:function(){return r.p?T():[y(),b(),R?R():0]}}),Object.defineProperty(x,"xPosition",{get:ExpressionPropertyInterface(r.px)}),Object.defineProperty(x,"yPosition",{get:ExpressionPropertyInterface(r.py)}),Object.defineProperty(x,"zPosition",{get:ExpressionPropertyInterface(r.pz)}),Object.defineProperty(x,"anchorPoint",{get:ExpressionPropertyInterface(r.a)}),Object.defineProperty(x,"opacity",{get:ExpressionPropertyInterface(r.o)}),Object.defineProperty(x,"skew",{get:ExpressionPropertyInterface(r.sk)}),Object.defineProperty(x,"skewAxis",{get:ExpressionPropertyInterface(r.sa)}),Object.defineProperty(x,"orientation",{get:ExpressionPropertyInterface(r.or)}),x}})(),LayerExpressionInterface=(function(){function r(U){var K=new Matrix;if(U!==void 0){var J=this._elem.finalTransform.mProp.getValueAtTime(U);J.clone(K)}else{var te=this._elem.finalTransform.mProp;te.applyToMatrix(K)}return K}function x(U,K){var J=this.getMatrix(K);return J.props[12]=0,J.props[13]=0,J.props[14]=0,this.applyPoint(J,U)}function y(U,K){var J=this.getMatrix(K);return this.applyPoint(J,U)}function b(U,K){var J=this.getMatrix(K);return J.props[12]=0,J.props[13]=0,J.props[14]=0,this.invertPoint(J,U)}function R(U,K){var J=this.getMatrix(K);return this.invertPoint(J,U)}function T(U,K){if(this._elem.hierarchy&&this._elem.hierarchy.length){var J,te=this._elem.hierarchy.length;for(J=0;J<te;J+=1)this._elem.hierarchy[J].finalTransform.mProp.applyToMatrix(U)}return U.applyToPointArray(K[0],K[1],K[2]||0)}function A(U,K){if(this._elem.hierarchy&&this._elem.hierarchy.length){var J,te=this._elem.hierarchy.length;for(J=0;J<te;J+=1)this._elem.hierarchy[J].finalTransform.mProp.applyToMatrix(U)}return U.inversePoint(K)}function O(U){var K=new Matrix;if(K.reset(),this._elem.finalTransform.mProp.applyToMatrix(K),this._elem.hierarchy&&this._elem.hierarchy.length){var J,te=this._elem.hierarchy.length;for(J=0;J<te;J+=1)this._elem.hierarchy[J].finalTransform.mProp.applyToMatrix(K);return K.inversePoint(U)}return K.inversePoint(U)}function B(){return[1,1,1,1]}return function(U){var K;function J(pe){ae.mask=new MaskManagerInterface(pe,U)}function te(pe){ae.effect=pe}function ae(pe){switch(pe){case"ADBE Root Vectors Group":case"Contents":case 2:return ae.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return K;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ae.effect;case"ADBE Text Properties":return ae.textInterface;default:return null}}ae.getMatrix=r,ae.invertPoint=A,ae.applyPoint=T,ae.toWorld=y,ae.toWorldVec=x,ae.fromWorld=R,ae.fromWorldVec=b,ae.toComp=y,ae.fromComp=O,ae.sampleImage=B,ae.sourceRectAtTime=U.sourceRectAtTime.bind(U),ae._elem=U,K=TransformExpressionInterface(U.finalTransform.mProp);var ue=getDescriptor(K,"anchorPoint");return Object.defineProperties(ae,{hasParent:{get:function(){return U.hierarchy.length}},parent:{get:function(){return U.hierarchy[0].layerInterface}},rotation:getDescriptor(K,"rotation"),scale:getDescriptor(K,"scale"),position:getDescriptor(K,"position"),opacity:getDescriptor(K,"opacity"),anchorPoint:ue,anchor_point:ue,transform:{get:function(){return K}},active:{get:function(){return U.isInRange}}}),ae.startTime=U.data.st,ae.index=U.data.ind,ae.source=U.data.refId,ae.height=U.data.ty===0?U.data.h:100,ae.width=U.data.ty===0?U.data.w:100,ae.inPoint=U.data.ip/U.comp.globalData.frameRate,ae.outPoint=U.data.op/U.comp.globalData.frameRate,ae._name=U.data.nm,ae.registerMaskInterface=J,ae.registerEffectsInterface=te,ae}})(),propertyGroupFactory=(function(){return function(r,x){return function(y){return y=y===void 0?1:y,y<=0?r:x(y-1)}}})(),PropertyInterface=(function(){return function(r,x){var y={_name:r};function b(R){return R=R===void 0?1:R,R<=0?y:x(R-1)}return b}})(),EffectsExpressionInterface=(function(){var r={createEffectsInterface:x};function x(R,T){if(R.effectsManager){var A=[],O=R.data.ef,B,U=R.effectsManager.effectElements.length;for(B=0;B<U;B+=1)A.push(y(O[B],R.effectsManager.effectElements[B],T,R));var K=R.data.ef||[],J=function(ae){for(B=0,U=K.length;B<U;){if(ae===K[B].nm||ae===K[B].mn||ae===K[B].ix)return A[B];B+=1}return null};return Object.defineProperty(J,"numProperties",{get:function(){return K.length}}),J}return null}function y(R,T,A,O){function B(ae){for(var ue=R.ef,pe=0,$e=ue.length;pe<$e;){if(ae===ue[pe].nm||ae===ue[pe].mn||ae===ue[pe].ix)return ue[pe].ty===5?K[pe]:K[pe]();pe+=1}throw new Error}var U=propertyGroupFactory(B,A),K=[],J,te=R.ef.length;for(J=0;J<te;J+=1)R.ef[J].ty===5?K.push(y(R.ef[J],T.effectElements[J],T.effectElements[J].propertyGroup,O)):K.push(b(T.effectElements[J],R.ef[J].ty,O,U));return R.mn==="ADBE Color Control"&&Object.defineProperty(B,"color",{get:function(){return K[0]()}}),Object.defineProperties(B,{numProperties:{get:function(){return R.np}},_name:{value:R.nm},propertyGroup:{value:U}}),B.enabled=R.en!==0,B.active=B.enabled,B}function b(R,T,A,O){var B=ExpressionPropertyInterface(R.p);function U(){return T===10?A.comp.compInterface(R.p.v):B()}return R.p.setGroupProperty&&R.p.setGroupProperty(PropertyInterface("",O)),U}return r})(),ShapePathInterface=(function(){return function(x,y,b){var R=y.sh;function T(O){return O==="Shape"||O==="shape"||O==="Path"||O==="path"||O==="ADBE Vector Shape"||O===2?T.path:null}var A=propertyGroupFactory(T,b);return R.setGroupProperty(PropertyInterface("Path",A)),Object.defineProperties(T,{path:{get:function(){return R.k&&R.getValue(),R}},shape:{get:function(){return R.k&&R.getValue(),R}},_name:{value:x.nm},ix:{value:x.ix},propertyIndex:{value:x.ix},mn:{value:x.mn},propertyGroup:{value:b}}),T}})(),ShapeExpressionInterface=(function(){function r(ue,pe,$e){var Ne=[],Be,_e=ue?ue.length:0;for(Be=0;Be<_e;Be+=1)ue[Be].ty==="gr"?Ne.push(y(ue[Be],pe[Be],$e)):ue[Be].ty==="fl"?Ne.push(b(ue[Be],pe[Be],$e)):ue[Be].ty==="st"?Ne.push(A(ue[Be],pe[Be],$e)):ue[Be].ty==="tm"?Ne.push(O(ue[Be],pe[Be],$e)):ue[Be].ty==="tr"||(ue[Be].ty==="el"?Ne.push(U(ue[Be],pe[Be],$e)):ue[Be].ty==="sr"?Ne.push(K(ue[Be],pe[Be],$e)):ue[Be].ty==="sh"?Ne.push(ShapePathInterface(ue[Be],pe[Be],$e)):ue[Be].ty==="rc"?Ne.push(J(ue[Be],pe[Be],$e)):ue[Be].ty==="rd"?Ne.push(te(ue[Be],pe[Be],$e)):ue[Be].ty==="rp"?Ne.push(ae(ue[Be],pe[Be],$e)):ue[Be].ty==="gf"?Ne.push(R(ue[Be],pe[Be],$e)):Ne.push(T(ue[Be],pe[Be])));return Ne}function x(ue,pe,$e){var Ne,Be=function(Le){for(var Ue=0,He=Ne.length;Ue<He;){if(Ne[Ue]._name===Le||Ne[Ue].mn===Le||Ne[Ue].propertyIndex===Le||Ne[Ue].ix===Le||Ne[Ue].ind===Le)return Ne[Ue];Ue+=1}return typeof Le=="number"?Ne[Le-1]:null};Be.propertyGroup=propertyGroupFactory(Be,$e),Ne=r(ue.it,pe.it,Be.propertyGroup),Be.numProperties=Ne.length;var _e=B(ue.it[ue.it.length-1],pe.it[pe.it.length-1],Be.propertyGroup);return Be.transform=_e,Be.propertyIndex=ue.cix,Be._name=ue.nm,Be}function y(ue,pe,$e){var Ne=function(Le){switch(Le){case"ADBE Vectors Group":case"Contents":case 2:return Ne.content;default:return Ne.transform}};Ne.propertyGroup=propertyGroupFactory(Ne,$e);var Be=x(ue,pe,Ne.propertyGroup),_e=B(ue.it[ue.it.length-1],pe.it[pe.it.length-1],Ne.propertyGroup);return Ne.content=Be,Ne.transform=_e,Object.defineProperty(Ne,"_name",{get:function(){return ue.nm}}),Ne.numProperties=ue.np,Ne.propertyIndex=ue.ix,Ne.nm=ue.nm,Ne.mn=ue.mn,Ne}function b(ue,pe,$e){function Ne(Be){return Be==="Color"||Be==="color"?Ne.color:Be==="Opacity"||Be==="opacity"?Ne.opacity:null}return Object.defineProperties(Ne,{color:{get:ExpressionPropertyInterface(pe.c)},opacity:{get:ExpressionPropertyInterface(pe.o)},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.c.setGroupProperty(PropertyInterface("Color",$e)),pe.o.setGroupProperty(PropertyInterface("Opacity",$e)),Ne}function R(ue,pe,$e){function Ne(Be){return Be==="Start Point"||Be==="start point"?Ne.startPoint:Be==="End Point"||Be==="end point"?Ne.endPoint:Be==="Opacity"||Be==="opacity"?Ne.opacity:null}return Object.defineProperties(Ne,{startPoint:{get:ExpressionPropertyInterface(pe.s)},endPoint:{get:ExpressionPropertyInterface(pe.e)},opacity:{get:ExpressionPropertyInterface(pe.o)},type:{get:function(){return"a"}},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.s.setGroupProperty(PropertyInterface("Start Point",$e)),pe.e.setGroupProperty(PropertyInterface("End Point",$e)),pe.o.setGroupProperty(PropertyInterface("Opacity",$e)),Ne}function T(){function ue(){return null}return ue}function A(ue,pe,$e){var Ne=propertyGroupFactory(He,$e),Be=propertyGroupFactory(Ue,Ne);function _e(qe){Object.defineProperty(Ue,ue.d[qe].nm,{get:ExpressionPropertyInterface(pe.d.dataProps[qe].p)})}var xe,Le=ue.d?ue.d.length:0,Ue={};for(xe=0;xe<Le;xe+=1)_e(xe),pe.d.dataProps[xe].p.setGroupProperty(Be);function He(qe){return qe==="Color"||qe==="color"?He.color:qe==="Opacity"||qe==="opacity"?He.opacity:qe==="Stroke Width"||qe==="stroke width"?He.strokeWidth:null}return Object.defineProperties(He,{color:{get:ExpressionPropertyInterface(pe.c)},opacity:{get:ExpressionPropertyInterface(pe.o)},strokeWidth:{get:ExpressionPropertyInterface(pe.w)},dash:{get:function(){return Ue}},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.c.setGroupProperty(PropertyInterface("Color",Ne)),pe.o.setGroupProperty(PropertyInterface("Opacity",Ne)),pe.w.setGroupProperty(PropertyInterface("Stroke Width",Ne)),He}function O(ue,pe,$e){function Ne(_e){return _e===ue.e.ix||_e==="End"||_e==="end"?Ne.end:_e===ue.s.ix?Ne.start:_e===ue.o.ix?Ne.offset:null}var Be=propertyGroupFactory(Ne,$e);return Ne.propertyIndex=ue.ix,pe.s.setGroupProperty(PropertyInterface("Start",Be)),pe.e.setGroupProperty(PropertyInterface("End",Be)),pe.o.setGroupProperty(PropertyInterface("Offset",Be)),Ne.propertyIndex=ue.ix,Ne.propertyGroup=$e,Object.defineProperties(Ne,{start:{get:ExpressionPropertyInterface(pe.s)},end:{get:ExpressionPropertyInterface(pe.e)},offset:{get:ExpressionPropertyInterface(pe.o)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}function B(ue,pe,$e){function Ne(_e){return ue.a.ix===_e||_e==="Anchor Point"?Ne.anchorPoint:ue.o.ix===_e||_e==="Opacity"?Ne.opacity:ue.p.ix===_e||_e==="Position"?Ne.position:ue.r.ix===_e||_e==="Rotation"||_e==="ADBE Vector Rotation"?Ne.rotation:ue.s.ix===_e||_e==="Scale"?Ne.scale:ue.sk&&ue.sk.ix===_e||_e==="Skew"?Ne.skew:ue.sa&&ue.sa.ix===_e||_e==="Skew Axis"?Ne.skewAxis:null}var Be=propertyGroupFactory(Ne,$e);return pe.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Be)),pe.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Be)),pe.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Be)),pe.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Be)),pe.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Be)),pe.transform.mProps.sk&&(pe.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Be)),pe.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Be))),pe.transform.op.setGroupProperty(PropertyInterface("Opacity",Be)),Object.defineProperties(Ne,{opacity:{get:ExpressionPropertyInterface(pe.transform.mProps.o)},position:{get:ExpressionPropertyInterface(pe.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(pe.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(pe.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(pe.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(pe.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(pe.transform.mProps.sa)},_name:{value:ue.nm}}),Ne.ty="tr",Ne.mn=ue.mn,Ne.propertyGroup=$e,Ne}function U(ue,pe,$e){function Ne(xe){return ue.p.ix===xe?Ne.position:ue.s.ix===xe?Ne.size:null}var Be=propertyGroupFactory(Ne,$e);Ne.propertyIndex=ue.ix;var _e=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return _e.s.setGroupProperty(PropertyInterface("Size",Be)),_e.p.setGroupProperty(PropertyInterface("Position",Be)),Object.defineProperties(Ne,{size:{get:ExpressionPropertyInterface(_e.s)},position:{get:ExpressionPropertyInterface(_e.p)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}function K(ue,pe,$e){function Ne(xe){return ue.p.ix===xe?Ne.position:ue.r.ix===xe?Ne.rotation:ue.pt.ix===xe?Ne.points:ue.or.ix===xe||xe==="ADBE Vector Star Outer Radius"?Ne.outerRadius:ue.os.ix===xe?Ne.outerRoundness:ue.ir&&(ue.ir.ix===xe||xe==="ADBE Vector Star Inner Radius")?Ne.innerRadius:ue.is&&ue.is.ix===xe?Ne.innerRoundness:null}var Be=propertyGroupFactory(Ne,$e),_e=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return Ne.propertyIndex=ue.ix,_e.or.setGroupProperty(PropertyInterface("Outer Radius",Be)),_e.os.setGroupProperty(PropertyInterface("Outer Roundness",Be)),_e.pt.setGroupProperty(PropertyInterface("Points",Be)),_e.p.setGroupProperty(PropertyInterface("Position",Be)),_e.r.setGroupProperty(PropertyInterface("Rotation",Be)),ue.ir&&(_e.ir.setGroupProperty(PropertyInterface("Inner Radius",Be)),_e.is.setGroupProperty(PropertyInterface("Inner Roundness",Be))),Object.defineProperties(Ne,{position:{get:ExpressionPropertyInterface(_e.p)},rotation:{get:ExpressionPropertyInterface(_e.r)},points:{get:ExpressionPropertyInterface(_e.pt)},outerRadius:{get:ExpressionPropertyInterface(_e.or)},outerRoundness:{get:ExpressionPropertyInterface(_e.os)},innerRadius:{get:ExpressionPropertyInterface(_e.ir)},innerRoundness:{get:ExpressionPropertyInterface(_e.is)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}function J(ue,pe,$e){function Ne(xe){return ue.p.ix===xe?Ne.position:ue.r.ix===xe?Ne.roundness:ue.s.ix===xe||xe==="Size"||xe==="ADBE Vector Rect Size"?Ne.size:null}var Be=propertyGroupFactory(Ne,$e),_e=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return Ne.propertyIndex=ue.ix,_e.p.setGroupProperty(PropertyInterface("Position",Be)),_e.s.setGroupProperty(PropertyInterface("Size",Be)),_e.r.setGroupProperty(PropertyInterface("Rotation",Be)),Object.defineProperties(Ne,{position:{get:ExpressionPropertyInterface(_e.p)},roundness:{get:ExpressionPropertyInterface(_e.r)},size:{get:ExpressionPropertyInterface(_e.s)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}function te(ue,pe,$e){function Ne(xe){return ue.r.ix===xe||xe==="Round Corners 1"?Ne.radius:null}var Be=propertyGroupFactory(Ne,$e),_e=pe;return Ne.propertyIndex=ue.ix,_e.rd.setGroupProperty(PropertyInterface("Radius",Be)),Object.defineProperties(Ne,{radius:{get:ExpressionPropertyInterface(_e.rd)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}function ae(ue,pe,$e){function Ne(xe){return ue.c.ix===xe||xe==="Copies"?Ne.copies:ue.o.ix===xe||xe==="Offset"?Ne.offset:null}var Be=propertyGroupFactory(Ne,$e),_e=pe;return Ne.propertyIndex=ue.ix,_e.c.setGroupProperty(PropertyInterface("Copies",Be)),_e.o.setGroupProperty(PropertyInterface("Offset",Be)),Object.defineProperties(Ne,{copies:{get:ExpressionPropertyInterface(_e.c)},offset:{get:ExpressionPropertyInterface(_e.o)},_name:{value:ue.nm}}),Ne.mn=ue.mn,Ne}return function(ue,pe,$e){var Ne;function Be(xe){if(typeof xe=="number")return xe=xe===void 0?1:xe,xe===0?$e:Ne[xe-1];for(var Le=0,Ue=Ne.length;Le<Ue;){if(Ne[Le]._name===xe)return Ne[Le];Le+=1}return null}function _e(){return $e}return Be.propertyGroup=propertyGroupFactory(Be,_e),Ne=r(ue,pe,Be.propertyGroup),Be.numProperties=Ne.length,Be._name="Contents",Be}})(),TextExpressionInterface=(function(){return function(r){var x;function y(b){switch(b){case"ADBE Text Document":return y.sourceText;default:return null}}return Object.defineProperty(y,"sourceText",{get:function(){r.textProperty.getValue();var R=r.textProperty.currentData.t;return(!x||R!==x.value)&&(x=new String(R),x.value=R||new String(R),Object.defineProperty(x,"style",{get:function(){return{fillColor:r.textProperty.currentData.fc}}})),x}}),y}})();function _typeof(r){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof(r)}var FootageInterface=(function(){var r=function(b){var R="",T=b.getFootageData();function A(){return R="",T=b.getFootageData(),O}function O(B){if(T[B])return R=B,T=T[B],_typeof(T)==="object"?O:T;var U=B.indexOf(R);if(U!==-1){var K=parseInt(B.substr(U+R.length),10);return T=T[K],_typeof(T)==="object"?O:T}return""}return A},x=function(b){function R(T){return T==="Outline"?R.outlineInterface():null}return R._name="Outline",R.outlineInterface=r(b),R};return function(y){function b(R){return R==="Data"?b.dataInterface:null}return b._name="Data",b.dataInterface=x(y),b}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(r){return interfaces[r]||null}var expressionHelpers=(function(){function r(A,O,B){O.x&&(B.k=!0,B.x=!0,B.initiateExpression=ExpressionManager.initiateExpression,B.effectsSequence.push(B.initiateExpression(A,O,B).bind(B)))}function x(A){return A*=this.elem.globalData.frameRate,A-=this.offsetTime,A!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<A?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(A,this._cachingAtTime),this._cachingAtTime.lastFrame=A),this._cachingAtTime.value}function y(A){var O=-.01,B=this.getValueAtTime(A),U=this.getValueAtTime(A+O),K=0;if(B.length){var J;for(J=0;J<B.length;J+=1)K+=Math.pow(U[J]-B[J],2);K=Math.sqrt(K)*100}else K=0;return K}function b(A){if(this.vel!==void 0)return this.vel;var O=-.001,B=this.getValueAtTime(A),U=this.getValueAtTime(A+O),K;if(B.length){K=createTypedArray("float32",B.length);var J;for(J=0;J<B.length;J+=1)K[J]=(U[J]-B[J])/O}else K=(U-B)/O;return K}function R(){return this.pv}function T(A){this.propertyGroup=A}return{searchExpressions:r,getSpeedAtTime:y,getVelocityAtTime:b,getValueAtTime:x,getStaticValueAtTime:R,setGroupProperty:T}})();function addPropertyDecorator(){function r(te,ae,ue){if(!this.k||!this.keyframes)return this.pv;te=te?te.toLowerCase():"";var pe=this.comp.renderedFrame,$e=this.keyframes,Ne=$e[$e.length-1].t;if(pe<=Ne)return this.pv;var Be,_e;ue?(ae?Be=Math.abs(Ne-this.elem.comp.globalData.frameRate*ae):Be=Math.max(0,Ne-this.elem.data.ip),_e=Ne-Be):((!ae||ae>$e.length-1)&&(ae=$e.length-1),_e=$e[$e.length-1-ae].t,Be=Ne-_e);var xe,Le,Ue;if(te==="pingpong"){var He=Math.floor((pe-_e)/Be);if(He%2!==0)return this.getValueAtTime((Be-(pe-_e)%Be+_e)/this.comp.globalData.frameRate,0)}else if(te==="offset"){var qe=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),Qe=this.getValueAtTime(Ne/this.comp.globalData.frameRate,0),lt=this.getValueAtTime(((pe-_e)%Be+_e)/this.comp.globalData.frameRate,0),ct=Math.floor((pe-_e)/Be);if(this.pv.length){for(Ue=new Array(qe.length),Le=Ue.length,xe=0;xe<Le;xe+=1)Ue[xe]=(Qe[xe]-qe[xe])*ct+lt[xe];return Ue}return(Qe-qe)*ct+lt}else if(te==="continue"){var ot=this.getValueAtTime(Ne/this.comp.globalData.frameRate,0),pt=this.getValueAtTime((Ne-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ue=new Array(ot.length),Le=Ue.length,xe=0;xe<Le;xe+=1)Ue[xe]=ot[xe]+(ot[xe]-pt[xe])*((pe-Ne)/this.comp.globalData.frameRate)/5e-4;return Ue}return ot+(ot-pt)*((pe-Ne)/.001)}return this.getValueAtTime(((pe-_e)%Be+_e)/this.comp.globalData.frameRate,0)}function x(te,ae,ue){if(!this.k)return this.pv;te=te?te.toLowerCase():"";var pe=this.comp.renderedFrame,$e=this.keyframes,Ne=$e[0].t;if(pe>=Ne)return this.pv;var Be,_e;ue?(ae?Be=Math.abs(this.elem.comp.globalData.frameRate*ae):Be=Math.max(0,this.elem.data.op-Ne),_e=Ne+Be):((!ae||ae>$e.length-1)&&(ae=$e.length-1),_e=$e[ae].t,Be=_e-Ne);var xe,Le,Ue;if(te==="pingpong"){var He=Math.floor((Ne-pe)/Be);if(He%2===0)return this.getValueAtTime(((Ne-pe)%Be+Ne)/this.comp.globalData.frameRate,0)}else if(te==="offset"){var qe=this.getValueAtTime(Ne/this.comp.globalData.frameRate,0),Qe=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),lt=this.getValueAtTime((Be-(Ne-pe)%Be+Ne)/this.comp.globalData.frameRate,0),ct=Math.floor((Ne-pe)/Be)+1;if(this.pv.length){for(Ue=new Array(qe.length),Le=Ue.length,xe=0;xe<Le;xe+=1)Ue[xe]=lt[xe]-(Qe[xe]-qe[xe])*ct;return Ue}return lt-(Qe-qe)*ct}else if(te==="continue"){var ot=this.getValueAtTime(Ne/this.comp.globalData.frameRate,0),pt=this.getValueAtTime((Ne+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ue=new Array(ot.length),Le=Ue.length,xe=0;xe<Le;xe+=1)Ue[xe]=ot[xe]+(ot[xe]-pt[xe])*(Ne-pe)/.001;return Ue}return ot+(ot-pt)*(Ne-pe)/.001}return this.getValueAtTime((Be-((Ne-pe)%Be+Ne))/this.comp.globalData.frameRate,0)}function y(te,ae){if(!this.k)return this.pv;if(te=(te||.4)*.5,ae=Math.floor(ae||5),ae<=1)return this.pv;var ue=this.comp.renderedFrame/this.comp.globalData.frameRate,pe=ue-te,$e=ue+te,Ne=ae>1?($e-pe)/(ae-1):1,Be=0,_e=0,xe;this.pv.length?xe=createTypedArray("float32",this.pv.length):xe=0;for(var Le;Be<ae;){if(Le=this.getValueAtTime(pe+Be*Ne),this.pv.length)for(_e=0;_e<this.pv.length;_e+=1)xe[_e]+=Le[_e];else xe+=Le;Be+=1}if(this.pv.length)for(_e=0;_e<this.pv.length;_e+=1)xe[_e]/=ae;else xe/=ae;return xe}function b(te){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ae=this._transformCachingAtTime.v;if(ae.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ue=this.a.getValueAtTime(te);ae.translate(-ue[0]*this.a.mult,-ue[1]*this.a.mult,ue[2]*this.a.mult)}if(this.appliedTransformations<2){var pe=this.s.getValueAtTime(te);ae.scale(pe[0]*this.s.mult,pe[1]*this.s.mult,pe[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var $e=this.sk.getValueAtTime(te),Ne=this.sa.getValueAtTime(te);ae.skewFromAxis(-$e*this.sk.mult,Ne*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Be=this.r.getValueAtTime(te);ae.rotate(-Be*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var _e=this.rz.getValueAtTime(te),xe=this.ry.getValueAtTime(te),Le=this.rx.getValueAtTime(te),Ue=this.or.getValueAtTime(te);ae.rotateZ(-_e*this.rz.mult).rotateY(xe*this.ry.mult).rotateX(Le*this.rx.mult).rotateZ(-Ue[2]*this.or.mult).rotateY(Ue[1]*this.or.mult).rotateX(Ue[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var He=this.px.getValueAtTime(te),qe=this.py.getValueAtTime(te);if(this.data.p.z){var Qe=this.pz.getValueAtTime(te);ae.translate(He*this.px.mult,qe*this.py.mult,-Qe*this.pz.mult)}else ae.translate(He*this.px.mult,qe*this.py.mult,0)}else{var lt=this.p.getValueAtTime(te);ae.translate(lt[0]*this.p.mult,lt[1]*this.p.mult,-lt[2]*this.p.mult)}return ae}function R(){return this.v.clone(new Matrix)}var T=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(te,ae,ue){var pe=T(te,ae,ue);return pe.dynamicProperties.length?pe.getValueAtTime=b.bind(pe):pe.getValueAtTime=R.bind(pe),pe.setGroupProperty=expressionHelpers.setGroupProperty,pe};var A=PropertyFactory.getProp;PropertyFactory.getProp=function(te,ae,ue,pe,$e){var Ne=A(te,ae,ue,pe,$e);Ne.kf?Ne.getValueAtTime=expressionHelpers.getValueAtTime.bind(Ne):Ne.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Ne),Ne.setGroupProperty=expressionHelpers.setGroupProperty,Ne.loopOut=r,Ne.loopIn=x,Ne.smooth=y,Ne.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Ne),Ne.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Ne),Ne.numKeys=ae.a===1?ae.k.length:0,Ne.propertyIndex=ae.ix;var Be=0;return ue!==0&&(Be=createTypedArray("float32",ae.a===1?ae.k[0].s.length:ae.k.length)),Ne._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Be},expressionHelpers.searchExpressions(te,ae,Ne),Ne.k&&$e.addDynamicProperty(Ne),Ne};function O(te){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),te*=this.elem.globalData.frameRate,te-=this.offsetTime,te!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<te?this._caching.lastIndex:0,this._cachingAtTime.lastTime=te,this.interpolateShape(te,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var B=ShapePropertyFactory.getConstructorFunction(),U=ShapePropertyFactory.getKeyframedConstructorFunction();function K(){}K.prototype={vertices:function(ae,ue){this.k&&this.getValue();var pe=this.v;ue!==void 0&&(pe=this.getValueAtTime(ue,0));var $e,Ne=pe._length,Be=pe[ae],_e=pe.v,xe=createSizedArray(Ne);for($e=0;$e<Ne;$e+=1)ae==="i"||ae==="o"?xe[$e]=[Be[$e][0]-_e[$e][0],Be[$e][1]-_e[$e][1]]:xe[$e]=[Be[$e][0],Be[$e][1]];return xe},points:function(ae){return this.vertices("v",ae)},inTangents:function(ae){return this.vertices("i",ae)},outTangents:function(ae){return this.vertices("o",ae)},isClosed:function(){return this.v.c},pointOnPath:function(ae,ue){var pe=this.v;ue!==void 0&&(pe=this.getValueAtTime(ue,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(pe));for(var $e=this._segmentsLength,Ne=$e.lengths,Be=$e.totalLength*ae,_e=0,xe=Ne.length,Le=0,Ue;_e<xe;){if(Le+Ne[_e].addedLength>Be){var He=_e,qe=pe.c&&_e===xe-1?0:_e+1,Qe=(Be-Le)/Ne[_e].addedLength;Ue=bez.getPointInSegment(pe.v[He],pe.v[qe],pe.o[He],pe.i[qe],Qe,Ne[_e]);break}else Le+=Ne[_e].addedLength;_e+=1}return Ue||(Ue=pe.c?[pe.v[0][0],pe.v[0][1]]:[pe.v[pe._length-1][0],pe.v[pe._length-1][1]]),Ue},vectorOnPath:function(ae,ue,pe){ae==1?ae=this.v.c:ae==0&&(ae=.999);var $e=this.pointOnPath(ae,ue),Ne=this.pointOnPath(ae+.001,ue),Be=Ne[0]-$e[0],_e=Ne[1]-$e[1],xe=Math.sqrt(Math.pow(Be,2)+Math.pow(_e,2));if(xe===0)return[0,0];var Le=pe==="tangent"?[Be/xe,_e/xe]:[-_e/xe,Be/xe];return Le},tangentOnPath:function(ae,ue){return this.vectorOnPath(ae,ue,"tangent")},normalOnPath:function(ae,ue){return this.vectorOnPath(ae,ue,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([K],B),extendPrototype([K],U),U.prototype.getValueAtTime=O,U.prototype.initiateExpression=ExpressionManager.initiateExpression;var J=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(te,ae,ue,pe,$e){var Ne=J(te,ae,ue,pe,$e);return Ne.propertyIndex=ae.ix,Ne.lock=!1,ue===3?expressionHelpers.searchExpressions(te,ae.pt,Ne):ue===4&&expressionHelpers.searchExpressions(te,ae.ks,Ne),Ne.k&&te.addDynamicProperty(Ne),Ne}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function r(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(x,y){var b=this.calculateExpression(y);if(x.t!==b){var R={};return this.copyData(R,x),R.t=b.toString(),R.__complete=!1,R}return x},TextProperty.prototype.searchProperty=function(){var x=this.searchKeyframes(),y=this.searchExpressions();return this.kf=x||y,this.kf},TextProperty.prototype.searchExpressions=r}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function r(x,y){var b=createNS("feMerge");b.setAttribute("result",x);var R,T;for(T=0;T<y.length;T+=1)R=createNS("feMergeNode"),R.setAttribute("in",y[T]),b.appendChild(R),b.appendChild(R);return b}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(r,x,y,b,R){this.filterManager=x;var T=createNS("feColorMatrix");T.setAttribute("type","matrix"),T.setAttribute("color-interpolation-filters","linearRGB"),T.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=T,T.setAttribute("result",b+"_tint_1"),r.appendChild(T),T=createNS("feColorMatrix"),T.setAttribute("type","matrix"),T.setAttribute("color-interpolation-filters","sRGB"),T.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),T.setAttribute("result",b+"_tint_2"),r.appendChild(T),this.matrixFilter=T;var A=this.createMergeNode(b,[R,b+"_tint_1",b+"_tint_2"]);r.appendChild(A)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[0].p.v,y=this.filterManager.effectElements[1].p.v,b=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+b+" 0"),this.matrixFilter.setAttribute("values",y[0]-x[0]+" 0 0 0 "+x[0]+" "+(y[1]-x[1])+" 0 0 0 "+x[1]+" "+(y[2]-x[2])+" 0 0 0 "+x[2]+" 0 0 0 1 0")}};function SVGFillFilter(r,x,y,b){this.filterManager=x;var R=createNS("feColorMatrix");R.setAttribute("type","matrix"),R.setAttribute("color-interpolation-filters","sRGB"),R.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),R.setAttribute("result",b),r.appendChild(R),this.matrixFilter=R}SVGFillFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[2].p.v,y=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+x[0]+" 0 0 0 0 "+x[1]+" 0 0 0 0 "+x[2]+" 0 0 0 "+y+" 0")}};function SVGStrokeEffect(r,x,y){this.initialized=!1,this.filterManager=x,this.elem=y,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var r=this.elem.layerElement.children||this.elem.layerElement.childNodes,x,y,b,R;for(this.filterManager.effectElements[1].p.v===1?(R=this.elem.maskManager.masksProperties.length,b=0):(b=this.filterManager.effectElements[0].p.v-1,R=b+1),y=createNS("g"),y.setAttribute("fill","none"),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-dashoffset",1),b;b<R;b+=1)x=createNS("path"),y.appendChild(x),this.paths.push({p:x,m:b});if(this.filterManager.effectElements[10].p.v===3){var T=createNS("mask"),A=createElementID();T.setAttribute("id",A),T.setAttribute("mask-type","alpha"),T.appendChild(y),this.elem.globalData.defs.appendChild(T);var O=createNS("g");for(O.setAttribute("mask","url("+getLocationHref()+"#"+A+")");r[0];)O.appendChild(r[0]);this.elem.layerElement.appendChild(O),this.masker=T,y.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(y),this.elem.layerElement.removeAttribute("mask"),y.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=y},SVGStrokeEffect.prototype.renderFrame=function(r){this.initialized||this.initialize();var x,y=this.paths.length,b,R;for(x=0;x<y;x+=1)if(this.paths[x].m!==-1&&(b=this.elem.maskManager.viewData[this.paths[x].m],R=this.paths[x].p,(r||this.filterManager._mdf||b.prop._mdf)&&R.setAttribute("d",b.lastPath),r||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||b.prop._mdf)){var T;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var A=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,O=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,B=R.getTotalLength();T="0 0 0 "+B*A+" ";var U=B*(O-A),K=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,J=Math.floor(U/K),te;for(te=0;te<J;te+=1)T+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";T+="0 "+B*10+" 0 0"}else T="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;R.setAttribute("stroke-dasharray",T)}if((r||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(r||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(r||this.filterManager.effectElements[3].p._mdf)){var ae=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ae[0]*255)+","+bmFloor(ae[1]*255)+","+bmFloor(ae[2]*255)+")")}};function SVGTritoneFilter(r,x,y,b){this.filterManager=x;var R=createNS("feColorMatrix");R.setAttribute("type","matrix"),R.setAttribute("color-interpolation-filters","linearRGB"),R.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.appendChild(R);var T=createNS("feComponentTransfer");T.setAttribute("color-interpolation-filters","sRGB"),T.setAttribute("result",b),this.matrixFilter=T;var A=createNS("feFuncR");A.setAttribute("type","table"),T.appendChild(A),this.feFuncR=A;var O=createNS("feFuncG");O.setAttribute("type","table"),T.appendChild(O),this.feFuncG=O;var B=createNS("feFuncB");B.setAttribute("type","table"),T.appendChild(B),this.feFuncB=B,r.appendChild(T)}SVGTritoneFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[0].p.v,y=this.filterManager.effectElements[1].p.v,b=this.filterManager.effectElements[2].p.v,R=b[0]+" "+y[0]+" "+x[0],T=b[1]+" "+y[1]+" "+x[1],A=b[2]+" "+y[2]+" "+x[2];this.feFuncR.setAttribute("tableValues",R),this.feFuncG.setAttribute("tableValues",T),this.feFuncB.setAttribute("tableValues",A)}};function SVGProLevelsFilter(r,x,y,b){this.filterManager=x;var R=this.filterManager.effectElements,T=createNS("feComponentTransfer");(R[10].p.k||R[10].p.v!==0||R[11].p.k||R[11].p.v!==1||R[12].p.k||R[12].p.v!==1||R[13].p.k||R[13].p.v!==0||R[14].p.k||R[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",T)),(R[17].p.k||R[17].p.v!==0||R[18].p.k||R[18].p.v!==1||R[19].p.k||R[19].p.v!==1||R[20].p.k||R[20].p.v!==0||R[21].p.k||R[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",T)),(R[24].p.k||R[24].p.v!==0||R[25].p.k||R[25].p.v!==1||R[26].p.k||R[26].p.v!==1||R[27].p.k||R[27].p.v!==0||R[28].p.k||R[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",T)),(R[31].p.k||R[31].p.v!==0||R[32].p.k||R[32].p.v!==1||R[33].p.k||R[33].p.v!==1||R[34].p.k||R[34].p.v!==0||R[35].p.k||R[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",T)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(T.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(T)),(R[3].p.k||R[3].p.v!==0||R[4].p.k||R[4].p.v!==1||R[5].p.k||R[5].p.v!==1||R[6].p.k||R[6].p.v!==0||R[7].p.k||R[7].p.v!==1)&&(T=createNS("feComponentTransfer"),T.setAttribute("color-interpolation-filters","sRGB"),T.setAttribute("result",b),r.appendChild(T),this.feFuncRComposed=this.createFeFunc("feFuncR",T),this.feFuncGComposed=this.createFeFunc("feFuncG",T),this.feFuncBComposed=this.createFeFunc("feFuncB",T))}SVGProLevelsFilter.prototype.createFeFunc=function(r,x){var y=createNS(r);return y.setAttribute("type","table"),x.appendChild(y),y},SVGProLevelsFilter.prototype.getTableValue=function(r,x,y,b,R){for(var T=0,A=256,O,B=Math.min(r,x),U=Math.max(r,x),K=Array.call(null,{length:A}),J,te=0,ae=R-b,ue=x-r;T<=256;)O=T/256,O<=B?J=ue<0?R:b:O>=U?J=ue<0?b:R:J=b+ae*Math.pow((O-r)/ue,1/y),K[te]=J,te+=1,T+=256/(A-1);return K.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x,y=this.filterManager.effectElements;this.feFuncRComposed&&(r||y[3].p._mdf||y[4].p._mdf||y[5].p._mdf||y[6].p._mdf||y[7].p._mdf)&&(x=this.getTableValue(y[3].p.v,y[4].p.v,y[5].p.v,y[6].p.v,y[7].p.v),this.feFuncRComposed.setAttribute("tableValues",x),this.feFuncGComposed.setAttribute("tableValues",x),this.feFuncBComposed.setAttribute("tableValues",x)),this.feFuncR&&(r||y[10].p._mdf||y[11].p._mdf||y[12].p._mdf||y[13].p._mdf||y[14].p._mdf)&&(x=this.getTableValue(y[10].p.v,y[11].p.v,y[12].p.v,y[13].p.v,y[14].p.v),this.feFuncR.setAttribute("tableValues",x)),this.feFuncG&&(r||y[17].p._mdf||y[18].p._mdf||y[19].p._mdf||y[20].p._mdf||y[21].p._mdf)&&(x=this.getTableValue(y[17].p.v,y[18].p.v,y[19].p.v,y[20].p.v,y[21].p.v),this.feFuncG.setAttribute("tableValues",x)),this.feFuncB&&(r||y[24].p._mdf||y[25].p._mdf||y[26].p._mdf||y[27].p._mdf||y[28].p._mdf)&&(x=this.getTableValue(y[24].p.v,y[25].p.v,y[26].p.v,y[27].p.v,y[28].p.v),this.feFuncB.setAttribute("tableValues",x)),this.feFuncA&&(r||y[31].p._mdf||y[32].p._mdf||y[33].p._mdf||y[34].p._mdf||y[35].p._mdf)&&(x=this.getTableValue(y[31].p.v,y[32].p.v,y[33].p.v,y[34].p.v,y[35].p.v),this.feFuncA.setAttribute("tableValues",x))}};function SVGDropShadowEffect(r,x,y,b,R){var T=x.container.globalData.renderConfig.filterSize,A=x.data.fs||T;r.setAttribute("x",A.x||T.x),r.setAttribute("y",A.y||T.y),r.setAttribute("width",A.width||T.width),r.setAttribute("height",A.height||T.height),this.filterManager=x;var O=createNS("feGaussianBlur");O.setAttribute("in","SourceAlpha"),O.setAttribute("result",b+"_drop_shadow_1"),O.setAttribute("stdDeviation","0"),this.feGaussianBlur=O,r.appendChild(O);var B=createNS("feOffset");B.setAttribute("dx","25"),B.setAttribute("dy","0"),B.setAttribute("in",b+"_drop_shadow_1"),B.setAttribute("result",b+"_drop_shadow_2"),this.feOffset=B,r.appendChild(B);var U=createNS("feFlood");U.setAttribute("flood-color","#00ff00"),U.setAttribute("flood-opacity","1"),U.setAttribute("result",b+"_drop_shadow_3"),this.feFlood=U,r.appendChild(U);var K=createNS("feComposite");K.setAttribute("in",b+"_drop_shadow_3"),K.setAttribute("in2",b+"_drop_shadow_2"),K.setAttribute("operator","in"),K.setAttribute("result",b+"_drop_shadow_4"),r.appendChild(K);var J=this.createMergeNode(b,[b+"_drop_shadow_4",R]);r.appendChild(J)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){if((r||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),r||this.filterManager.effectElements[0].p._mdf){var x=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(x[0]*255),Math.round(x[1]*255),Math.round(x[2]*255)))}if((r||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),r||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var y=this.filterManager.effectElements[3].p.v,b=(this.filterManager.effectElements[2].p.v-90)*degToRads,R=y*Math.cos(b),T=y*Math.sin(b);this.feOffset.setAttribute("dx",R),this.feOffset.setAttribute("dy",T)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(r,x,y){this.initialized=!1,this.filterManager=x,this.filterElem=r,this.elem=y,y.matteElement=createNS("g"),y.matteElement.appendChild(y.layerElement),y.matteElement.appendChild(y.transformedElement),y.baseElement=y.matteElement}SVGMatte3Effect.prototype.findSymbol=function(r){for(var x=0,y=_svgMatteSymbols.length;x<y;){if(_svgMatteSymbols[x]===r)return _svgMatteSymbols[x];x+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(r,x){var y=r.layerElement.parentNode;if(y){for(var b=y.children,R=0,T=b.length;R<T&&b[R]!==r.layerElement;)R+=1;var A;R<=T-2&&(A=b[R+1]);var O=createNS("use");O.setAttribute("href","#"+x),A?y.insertBefore(O,A):y.appendChild(O)}},SVGMatte3Effect.prototype.setElementAsMask=function(r,x){if(!this.findSymbol(x)){var y=createElementID(),b=createNS("mask");b.setAttribute("id",x.layerId),b.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(x);var R=r.globalData.defs;R.appendChild(b);var T=createNS("symbol");T.setAttribute("id",y),this.replaceInParent(x,y),T.appendChild(x.layerElement),R.appendChild(T);var A=createNS("use");A.setAttribute("href","#"+y),b.appendChild(A),x.data.hd=!1,x.show()}r.setMatte(x.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var r=this.filterManager.effectElements[0].p.v,x=this.elem.comp.elements,y=0,b=x.length;y<b;)x[y]&&x[y].data.ind===r&&this.setElementAsMask(this.elem,x[y]),y+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(r,x,y,b){r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),this.filterManager=x;var R=createNS("feGaussianBlur");R.setAttribute("result",b),r.appendChild(R),this.feGaussianBlur=R}SVGGaussianBlurEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=.3,y=this.filterManager.effectElements[0].p.v*x,b=this.filterManager.effectElements[1].p.v,R=b==3?0:y,T=b==2?0:y;this.feGaussianBlur.setAttribute("stdDeviation",R+" "+T);var A=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",A)}};function TransformEffect(){}TransformEffect.prototype.init=function(r){this.effectsManager=r,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(r){if(this._opMdf=!1,this._mdf=!1,r||this.effectsManager._mdf){var x=this.effectsManager.effectElements,y=x[0].p.v,b=x[1].p.v,R=x[2].p.v===1,T=x[3].p.v,A=R?T:x[4].p.v,O=x[5].p.v,B=x[6].p.v,U=x[7].p.v;this.matrix.reset(),this.matrix.translate(-y[0],-y[1],y[2]),this.matrix.scale(A*.01,T*.01,1),this.matrix.rotate(-U*degToRads),this.matrix.skewFromAxis(-O*degToRads,(B+90)*degToRads),this.matrix.translate(b[0],b[1],0),this._mdf=!0,this.opacity!==x[8].p.v&&(this.opacity=x[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(r,x){this.init(x)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(r){this.init(r)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$2(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=Array(x);y<x;y++)b[y]=r[y];return b}function _arrayWithHoles$2(r){if(Array.isArray(r))return r}function _defineProperty$2(r,x,y){return(x=_toPropertyKey(x))in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _iterableToArrayLimit$2(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b,R,T,A,O=[],B=!0,U=!1;try{if(T=(y=y.call(r)).next,x!==0)for(;!(B=(b=T.call(y)).done)&&(O.push(b.value),O.length!==x);B=!0);}catch(K){U=!0,R=K}finally{try{if(!B&&y.return!=null&&(A=y.return(),Object(A)!==A))return}finally{if(U)throw R}}return O}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$2(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(r,R).enumerable})),y.push.apply(y,b)}return y}function _objectSpread2(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$2(Object(y),!0).forEach(function(b){_defineProperty$2(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$2(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _objectWithoutProperties$1(r,x){if(r==null)return{};var y,b,R=_objectWithoutPropertiesLoose$1(r,x);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(r);for(b=0;b<T.length;b++)y=T[b],x.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(R[y]=r[y])}return R}function _objectWithoutPropertiesLoose$1(r,x){if(r==null)return{};var y={};for(var b in r)if({}.hasOwnProperty.call(r,b)){if(x.includes(b))continue;y[b]=r[b]}return y}function _slicedToArray$2(r,x){return _arrayWithHoles$2(r)||_iterableToArrayLimit$2(r,x)||_unsupportedIterableToArray$2(r,x)||_nonIterableRest$2()}function _toPrimitive(r,x){if(typeof r!="object"||!r)return r;var y=r[Symbol.toPrimitive];if(y!==void 0){var b=y.call(r,x);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(r)}function _toPropertyKey(r){var x=_toPrimitive(r,"string");return typeof x=="symbol"?x:x+""}function _unsupportedIterableToArray$2(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray$2(r,x);var y={}.toString.call(r).slice(8,-1);return y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set"?Array.from(r):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?_arrayLikeToArray$2(r,x):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function r(x,y){var b=x.animationData,R=x.loop,T=x.autoplay,A=x.initialSegment,O=x.onComplete,B=x.onLoopComplete,U=x.onEnterFrame,K=x.onSegmentStart,J=x.onConfigReady,te=x.onDataReady,ae=x.onDataFailed,ue=x.onLoadedImages,pe=x.onDOMLoaded,$e=x.onDestroy;x.lottieRef,x.renderer,x.name,x.assetsPath,x.rendererSettings;var Ne=_objectWithoutProperties$1(x,_excluded$1),Be=reactExports$1.useState(!1),_e=_slicedToArray$2(Be,2),xe=_e[0],Le=_e[1],Ue=reactExports$1.useRef(),He=reactExports$1.useRef(null),qe=function(){var ft;(ft=Ue.current)===null||ft===void 0||ft.play()},Qe=function(){var ft;(ft=Ue.current)===null||ft===void 0||ft.stop()},lt=function(){var ft;(ft=Ue.current)===null||ft===void 0||ft.pause()},ct=function(ft){var Et;(Et=Ue.current)===null||Et===void 0||Et.setSpeed(ft)},ot=function(ft,Et){var St;(St=Ue.current)===null||St===void 0||St.goToAndPlay(ft,Et)},pt=function(ft,Et){var St;(St=Ue.current)===null||St===void 0||St.goToAndStop(ft,Et)},yt=function(ft){var Et;(Et=Ue.current)===null||Et===void 0||Et.setDirection(ft)},it=function(ft,Et){var St;(St=Ue.current)===null||St===void 0||St.playSegments(ft,Et)},Ke=function(ft){var Et;(Et=Ue.current)===null||Et===void 0||Et.setSubframe(ft)},Je=function(ft){var Et;return(Et=Ue.current)===null||Et===void 0?void 0:Et.getDuration(ft)},We=function(){var ft;(ft=Ue.current)===null||ft===void 0||ft.destroy(),Ue.current=void 0},Ze=function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Et;if(He.current){(Et=Ue.current)===null||Et===void 0||Et.destroy();var St=_objectSpread2(_objectSpread2(_objectSpread2({},x),ft),{},{container:He.current});return Ue.current=lottie.loadAnimation(St),Le(!!Ue.current),function(){var Bt;(Bt=Ue.current)===null||Bt===void 0||Bt.destroy(),Ue.current=void 0}}};reactExports$1.useEffect(function(){var et=Ze();return function(){return et==null?void 0:et()}},[b,R]),reactExports$1.useEffect(function(){Ue.current&&(Ue.current.autoplay=!!T)},[T]),reactExports$1.useEffect(function(){if(Ue.current){if(!A){Ue.current.resetSegments(!0);return}!Array.isArray(A)||!A.length||((Ue.current.currentRawFrame<A[0]||Ue.current.currentRawFrame>A[1])&&(Ue.current.currentRawFrame=A[0]),Ue.current.setSegment(A[0],A[1]))}},[A]),reactExports$1.useEffect(function(){var et=[{name:"complete",handler:O},{name:"loopComplete",handler:B},{name:"enterFrame",handler:U},{name:"segmentStart",handler:K},{name:"config_ready",handler:J},{name:"data_ready",handler:te},{name:"data_failed",handler:ae},{name:"loaded_images",handler:ue},{name:"DOMLoaded",handler:pe},{name:"destroy",handler:$e}],ft=et.filter(function(St){return St.handler!=null});if(ft.length){var Et=ft.map(function(St){var Bt;return(Bt=Ue.current)===null||Bt===void 0||Bt.addEventListener(St.name,St.handler),function(){var Rt;(Rt=Ue.current)===null||Rt===void 0||Rt.removeEventListener(St.name,St.handler)}});return function(){Et.forEach(function(St){return St()})}}},[O,B,U,K,J,te,ae,ue,pe,$e]);var dt=React.createElement("div",_objectSpread2({style:y,ref:He},Ne));return{View:dt,play:qe,stop:Qe,pause:lt,setSpeed:ct,goToAndStop:pt,goToAndPlay:ot,setDirection:yt,playSegments:it,setSubframe:Ke,getDuration:Je,destroy:We,animationContainerRef:He,animationLoaded:xe,animationItem:Ue.current}};function getContainerVisibility(r){var x=r.getBoundingClientRect(),y=x.top,b=x.height,R=window.innerHeight-y,T=window.innerHeight+b;return R/T}function getContainerCursorPosition(r,x,y){var b=r.getBoundingClientRect(),R=b.top,T=b.left,A=b.width,O=b.height,B=(x-T)/A,U=(y-R)/O;return{x:B,y:U}}var useInitInteractivity=function r(x){var y=x.wrapperRef,b=x.animationItem,R=x.mode,T=x.actions;reactExports$1.useEffect(function(){var A=y.current;if(!(!A||!b||!T.length)){b.stop();var O=function(){var K=null,J=function(){var ae=getContainerVisibility(A),ue=T.find(function($e){var Ne=$e.visibility;return Ne&&ae>=Ne[0]&&ae<=Ne[1]});if(ue){if(ue.type==="seek"&&ue.visibility&&ue.frames.length===2){var pe=ue.frames[0]+Math.ceil((ae-ue.visibility[0])/(ue.visibility[1]-ue.visibility[0])*ue.frames[1]);//! goToAndStop must be relative to the start of the current segment
b.goToAndStop(pe-b.firstFrame-1,!0)}ue.type==="loop"&&(K===null||K!==ue.frames||b.isPaused)&&(b.playSegments(ue.frames,!0),K=ue.frames),ue.type==="play"&&b.isPaused&&(b.resetSegments(!0),b.play()),ue.type==="stop"&&b.goToAndStop(ue.frames[0]-b.firstFrame-1,!0)}};return document.addEventListener("scroll",J),function(){document.removeEventListener("scroll",J)}},B=function(){var K=function(ue,pe){var $e=ue,Ne=pe;if($e!==-1&&Ne!==-1){var Be=getContainerCursorPosition(A,$e,Ne);$e=Be.x,Ne=Be.y}var _e=T.find(function(Ue){var He=Ue.position;return He&&Array.isArray(He.x)&&Array.isArray(He.y)?$e>=He.x[0]&&$e<=He.x[1]&&Ne>=He.y[0]&&Ne<=He.y[1]:He&&!Number.isNaN(He.x)&&!Number.isNaN(He.y)?$e===He.x&&Ne===He.y:!1});if(_e){if(_e.type==="seek"&&_e.position&&Array.isArray(_e.position.x)&&Array.isArray(_e.position.y)&&_e.frames.length===2){var xe=($e-_e.position.x[0])/(_e.position.x[1]-_e.position.x[0]),Le=(Ne-_e.position.y[0])/(_e.position.y[1]-_e.position.y[0]);b.playSegments(_e.frames,!0),b.goToAndStop(Math.ceil((xe+Le)/2*(_e.frames[1]-_e.frames[0])),!0)}_e.type==="loop"&&b.playSegments(_e.frames,!0),_e.type==="play"&&(b.isPaused&&b.resetSegments(!1),b.playSegments(_e.frames)),_e.type==="stop"&&b.goToAndStop(_e.frames[0],!0)}},J=function(ue){K(ue.clientX,ue.clientY)},te=function(){K(-1,-1)};return A.addEventListener("mousemove",J),A.addEventListener("mouseout",te),function(){A.removeEventListener("mousemove",J),A.removeEventListener("mouseout",te)}};switch(R){case"scroll":return O();case"cursor":return B()}}},[R,b])},useLottieInteractivity=function r(x){var y=x.actions,b=x.mode,R=x.lottieObj,T=R.animationItem,A=R.View,O=R.animationContainerRef;return useInitInteractivity({actions:y,animationItem:T,mode:b,wrapperRef:O}),A},_excluded$2=["style","interactivity"],Lottie=function r(x){var y,b,R,T=x.style,A=x.interactivity,O=_objectWithoutProperties$1(x,_excluded$2),B=useLottie(O,T),U=B.View,K=B.play,J=B.stop,te=B.pause,ae=B.setSpeed,ue=B.goToAndStop,pe=B.goToAndPlay,$e=B.setDirection,Ne=B.playSegments,Be=B.setSubframe,_e=B.getDuration,xe=B.destroy,Le=B.animationContainerRef,Ue=B.animationLoaded,He=B.animationItem;return reactExports$1.useEffect(function(){x.lottieRef&&(x.lottieRef.current={play:K,stop:J,pause:te,setSpeed:ae,goToAndPlay:pe,goToAndStop:ue,setDirection:$e,playSegments:Ne,setSubframe:Be,getDuration:_e,destroy:xe,animationContainerRef:Le,animationLoaded:Ue,animationItem:He})},[(y=x.lottieRef)===null||y===void 0?void 0:y.current]),useLottieInteractivity({lottieObj:{View:U,play:K,stop:J,pause:te,setSpeed:ae,goToAndStop:ue,goToAndPlay:pe,setDirection:$e,playSegments:Ne,setSubframe:Be,getDuration:_e,destroy:xe,animationContainerRef:Le,animationLoaded:Ue,animationItem:He},actions:(b=A==null?void 0:A.actions)!==null&&b!==void 0?b:[],mode:(R=A==null?void 0:A.mode)!==null&&R!==void 0?R:"scroll"})};const spinnerWrapper="_spinnerWrapper_1d31w_1",styles$1n={spinnerWrapper},v$1="5.5.5",fr=25,ip=0,op=79,w$2=300,h$3=150,nm="Loading-2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"icon 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[-90]},{t:79,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{t:79,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[0]},{t:64,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:39,op:79,st:39,bm:0},{ddd:0,ind:2,ty:4,nm:"icon",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-90]},{t:40,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:12,s:[0]},{t:40,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:25,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:40,st:0,bm:0}],markers=[],loadingAnim={v:v$1,fr,ip,op,w:w$2,h:h$3,nm,ddd,assets,layers,markers};function LoadingSpinner(){return jsxRuntimeExports.jsx("div",{className:styles$1n.spinnerWrapper,children:jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnim,loop:!0})})}function Exhibitions(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(!0),{currentPage:T,setCurrentPage:A,pageItems:O}=usePagination(12,x),[B,U]=reactExports$1.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),K=useNavigate(),[J,te]=reactExports$1.useState(""),ae=Ne=>{te(Ne.target.value)},ue=()=>{!r&&K("/login"),U(Ne=>({...Ne,liked_only:!Ne.liked_only}))},pe=async()=>{try{R(!0);const Ne={...B,search:J},Be=await userInstance.get("/api/exhibitions",{params:Ne});y(Be.data)}catch(Ne){console.error("   :",Ne)}finally{R(!1)}};reactExports$1.useEffect(()=>{pe()},[B]);const $e=["","","",""];return jsxRuntimeExports.jsxs("div",{className:styles$1w.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:B.liked_only,onEvent:pe,onFav:ue,onSearch:ae,value:J}),jsxRuntimeExports.jsx(DropdownContainer,{labels:$e,filterList:exhibitionFilter,onSetFilter:U}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1w.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1w.gridContainer,children:O.map(Ne=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:Ne,onEvent:pe},Ne.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:T,onPageChange:A,totalItems:x.length})]})}const layout$y="_layout_z091w_1",gridContainer$2="_gridContainer_z091w_19",nonDataText$2="_nonDataText_z091w_31",styles$1m={layout:layout$y,gridContainer:gridContainer$2,nonDataText:nonDataText$2},artistFilter=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$x="_layout_17t0c_1",artistImage$3="_artistImage_17t0c_39",artistNameTitle="_artistNameTitle_17t0c_57",statusContainer$1="_statusContainer_17t0c_75",subParagraph$3="_subParagraph_17t0c_111",favButton$2="_favButton_17t0c_125",icon$6="_icon_17t0c_147",likedIcon$5="_likedIcon_17t0c_157",styles$1l={layout:layout$x,artistImage:artistImage$3,artistNameTitle,statusContainer:statusContainer$1,subParagraph:subParagraph$3,favButton:favButton$2,icon:icon$6,likedIcon:likedIcon$5};function ArtistCard({artistItem:r,onEvent:x}){const{id:y,artist_name:b,artist_category:R,artist_image:T,artist_nation:A,is_on_exhibition:O,is_liked:B}=r,U=useNavigate(),K=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&U("/login");try{B===!0?await userInstance.delete("/api/likes",{data:{liked_id:y,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:y,liked_type:"artist"}),await x()}catch(J){console.error(J)}};return jsxRuntimeExports.jsxs(Link$1,{className:styles$1l.layout,to:`/artists/${y}`,children:[jsxRuntimeExports.jsx("img",{className:styles$1l.artistImage,src:T,alt:"  "}),jsxRuntimeExports.jsx("h3",{className:styles$1l.artistNameTitle,children:b}),O==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1l.statusContainer,children:""}),jsxRuntimeExports.jsx("button",{className:styles$1l.favButton,onClick:J=>{J.preventDefault(),J.stopPropagation(),K()},children:jsxRuntimeExports.jsx(FaHeart$1,{className:B==="1"?styles$1l.likedIcon:styles$1l.icon})}),jsxRuntimeExports.jsx("p",{className:styles$1l.subParagraph,children:R}),jsxRuntimeExports.jsx("p",{className:styles$1l.subParagraph,children:A})]})}function Artists(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(!0),{currentPage:T,setCurrentPage:A,pageItems:O}=usePagination(12,x),[B,U]=reactExports$1.useState({category:"",nation:"",birthDecade:"",liked_only:0}),K=useNavigate(),[J,te]=reactExports$1.useState(""),ae=()=>{!r&&K("/login"),U($e=>({...$e,liked_only:!$e.liked_only}))},ue=$e=>{te($e.target.value)},pe=async()=>{const $e={...B,search:J};try{R(!0);const Ne=await instance.get("/api/artist",{params:$e});y(Ne.data)}catch(Ne){throw new Error(Ne)}finally{R(!1)}};return reactExports$1.useEffect(()=>{pe()},[B]),jsxRuntimeExports.jsxs("div",{className:styles$1m.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:B.liked_only,onEvent:pe,onFav:ae,onSearch:ue,value:J}),jsxRuntimeExports.jsx(DropdownContainer,{filterList:artistFilter,onSetFilter:U}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1m.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1m.gridContainer,children:O.map($e=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:$e,onEvent:pe},$e.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:T,onPageChange:A,totalItems:x.length})]})}const layout$w="_layout_1tohs_1",dropboxContainer="_dropboxContainer_1tohs_19",gridContainer$1="_gridContainer_1tohs_31",mapButton="_mapButton_1tohs_43",nonDataText$1="_nonDataText_1tohs_69",styles$1k={layout:layout$w,dropboxContainer,gridContainer:gridContainer$1,mapButton,nonDataText:nonDataText$1},galleryFilter=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$v="_layout_1y35u_1",linkContainer="_linkContainer_1y35u_31",galleryImage$3="_galleryImage_1y35u_41",infoContainer$1="_infoContainer_1y35u_65",favButton$1="_favButton_1y35u_73",icon$5="_icon_1y35u_95",likedIcon$4="_likedIcon_1y35u_105",galleryTitle$3="_galleryTitle_1y35u_115",addressParagraph="_addressParagraph_1y35u_135",styles$1j={layout:layout$v,linkContainer,galleryImage:galleryImage$3,infoContainer:infoContainer$1,favButton:favButton$1,icon:icon$5,likedIcon:likedIcon$4,galleryTitle:galleryTitle$3,addressParagraph};function GalleryCard({galleryItem:r,onEvent:x}){const{user:y}=useUser(),{id:b,gallery_name:R,gallery_image:T,gallery_address:A,gallery_start_time:O,gallery_end_time:B,is_liked:U}=r,K=ae=>{if(ae)return ae.slice(0,5)},J=useNavigate(),te=async()=>{!y&&J("/login");try{U===!0?await userInstance.delete("/api/likes",{data:{liked_id:b,liked_type:"gallery"}}):await userInstance.post("/api/likes",{liked_id:b,liked_type:"gallery"}),await x()}catch(ae){console.error(ae)}};return console.log(U),jsxRuntimeExports.jsx("div",{className:styles$1j.layout,children:jsxRuntimeExports.jsxs(Link$1,{className:styles$1j.linkContainer,to:`/galleries/${b}`,children:[jsxRuntimeExports.jsx("img",{className:styles$1j.galleryImage,src:T,alt:`${R}  `}),jsxRuntimeExports.jsx("button",{className:styles$1j.favButton,onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),te()},children:jsxRuntimeExports.jsx(FaStar$1,{className:U===!0?styles$1j.likedIcon:styles$1j.icon})}),jsxRuntimeExports.jsxs("div",{className:styles$1j.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1j.galleryTitle,children:R}),jsxRuntimeExports.jsx("p",{className:styles$1j.addressParagraph,children:A}),jsxRuntimeExports.jsxs("p",{className:styles$1j.addressParagraph,children:[K(O)," ~ ",K(B)]})]})]})})}const modalOverlay$6="_modalOverlay_tzg9o_1",modalContainer$2="_modalContainer_tzg9o_21",modalHeader$2="_modalHeader_tzg9o_45",modalTitle$2="_modalTitle_tzg9o_59",favButton="_favButton_tzg9o_71",clickedFavButton="_clickedFavButton_tzg9o_109",clickedIcon="_clickedIcon_tzg9o_121",loadingText="_loadingText_tzg9o_129",modalMap="_modalMap_tzg9o_143",closeButton$7="_closeButton_tzg9o_159",styles$1i={modalOverlay:modalOverlay$6,modalContainer:modalContainer$2,modalHeader:modalHeader$2,modalTitle:modalTitle$2,favButton,clickedFavButton,clickedIcon,loadingText,modalMap,closeButton:closeButton$7},useGeoLocation=()=>{const[r,x]=reactExports$1.useState({lat:37.3595704,lng:127.105399}),y=R=>{const T=R.coords.latitude,A=R.coords.longitude;x({lat:T,lng:A})},b=R=>{alert(`(${R.code}): ${R.message}`)};return reactExports$1.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y,b):alert("    !")},[]),{coords:r,setCoords:x}};function GalleryMapModal({onOpen:r}){const{coords:x}=useGeoLocation(),{lat:y,lng:b}=x,[R,T]=reactExports$1.useState([]),[A,O]=reactExports$1.useState(!1),[B,U]=reactExports$1.useState(!1),K=useNavigate(),J=useMap({lat:y,lng:b,id:"gallery-map",results:R,zoomLevel:16});reactExports$1.useEffect(()=>{var $e;const ae=J.current;if(!ae||!(($e=window.naver)!=null&&$e.maps))return;const ue=async()=>{try{O(!0);const Ne=ae.getBounds(),Be=Ne.getSW(),_e=Ne.getNE(),xe={latitude:_e.lat(),longitude:_e.lng()};B&&(xe.liked_only=1);const Le=await userInstance.get("/api/galleries",{params:xe});T(Le.data)}catch(Ne){console.error("  :",Ne)}finally{O(!1)}},pe=naver.maps.Event.addListener(ae,"idle",ue);return ue(),()=>{pe&&naver.maps.Event.removeListener(pe)}},[J,B]);const te=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){K("/login");return}U(ae=>!ae)};return reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$1i.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1i.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1i.modalHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$1i.modalTitle,children:"  "}),jsxRuntimeExports.jsxs("button",{className:`${styles$1i.favButton} ${B&&styles$1i.clickedFavButton}`,onClick:te,children:[jsxRuntimeExports.jsx(FaStar,{className:`${B&&styles$1i.clickedIcon}`})," "]})]}),A&&jsxRuntimeExports.jsx("div",{className:styles$1i.loadingText,children:"   ..."}),jsxRuntimeExports.jsx("div",{className:styles$1i.modalMap,id:"gallery-map"}),jsxRuntimeExports.jsx("button",{className:styles$1i.closeButton,onClick:r,children:""})]})})}function Galleries(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(!0),{currentPage:T,setCurrentPage:A,pageItems:O}=usePagination(12,x),[B,U]=reactExports$1.useState({status:"",regions:"",type:"",liked_only:0}),K=useNavigate(),[J,te]=reactExports$1.useState(""),{isOpen:ae,handleOpenModal:ue}=useModal(),pe=Be=>{te(Be.target.value)},$e=()=>{!r&&K("/login"),U(Be=>({...Be,liked_only:!Be.liked_only}))},Ne=async()=>{try{R(!0);const Be={...B,regions:B.regions.replace(/\s+/g,","),search:J},_e=await userInstance.get("/api/galleries",{params:Be});y(_e.data)}catch(Be){throw new Error(Be)}finally{R(!1)}};return reactExports$1.useEffect(()=>{Ne()},[B]),jsxRuntimeExports.jsxs("div",{className:styles$1k.layout,children:[ae&&jsxRuntimeExports.jsx(GalleryMapModal,{onOpen:ue}),jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:B.liked_only,onEvent:Ne,onFav:$e,onSearch:pe,value:J}),jsxRuntimeExports.jsxs("div",{className:styles$1k.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:galleryFilter,onSetFilter:U}),jsxRuntimeExports.jsx("button",{className:styles$1k.mapButton,onClick:ue,children:""})]}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1k.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1k.gridContainer,children:O.map(Be=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:Be,onEvent:Ne},Be.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:T,onPageChange:A,totalItems:x.length})]})}const layout$u="_layout_5tlax_1",registerTitle="_registerTitle_5tlax_13",subParagraph$2="_subParagraph_5tlax_25",form$1="_form_5tlax_35",submitButton$5="_submitButton_5tlax_53",styles$1h={layout:layout$u,registerTitle,subParagraph:subParagraph$2,form:form$1,submitButton:submitButton$5},useInput=r=>{const[x,y]=reactExports$1.useState(r);return{data:x,handleChange:R=>{y(T=>({...T,[R.target.name]:R.target.value}))},setData:y}},input$6="_input_vwmpv_13",styles$1g={input:input$6};function InputText({type:r="text",name:x,placeholder:y,value:b,onChange:R}){return jsxRuntimeExports.jsx("input",{className:styles$1g.input,name:x,type:r,placeholder:y,value:b,onChange:R})}const layout$t="_layout_13jvg_1",radioLabel="_radioLabel_13jvg_11",radioInput="_radioInput_13jvg_21",styles$1f={layout:layout$t,radioLabel,radioInput};function InputRadio({name:r,value:x,label:y,onChange:b}){return jsxRuntimeExports.jsxs("div",{className:styles$1f.layout,children:[jsxRuntimeExports.jsx("label",{className:styles$1f.radioLabel,children:y}),jsxRuntimeExports.jsx("input",{className:styles$1f.radioInput,type:"radio",name:r,value:x,onChange:b})]})}const layout$s="_layout_3526f_1",inputTitle="_inputTitle_3526f_13",inputContainer$1="_inputContainer_3526f_25",errorParagraph="_errorParagraph_3526f_35",styles$1e={layout:layout$s,inputTitle,inputContainer:inputContainer$1,errorParagraph};function InputContainer({children:r,title:x,isValid:y,errorText:b}){return jsxRuntimeExports.jsxs("div",{className:styles$1e.layout,children:[jsxRuntimeExports.jsx("h3",{className:styles$1e.inputTitle,children:x}),jsxRuntimeExports.jsx("div",{className:styles$1e.inputContainer,children:r}),!y&&jsxRuntimeExports.jsx("div",{className:styles$1e.errorParagraph,children:b})]})}function Register(){const{data:r,handleChange:x}=useInput({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),y=useNavigate(),b=useLocation(),R=U=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(U),T=U=>/^[A-Za-z0-9]{6,20}$/.test(U),A=U=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(U),O=()=>{const{login_id:U,login_pwd:K,user_email:J,user_name:te,admin_flag:ae}=r;return T(U)&&R(K)&&A(J)&&te.trim()!==""&&ae!==""},B=async U=>{U.preventDefault();try{await instance.post("/api/auth/register",r),alert(" "),y("/login",{state:{from:b.pathname}})}catch(K){throw new Error(K)}};return jsxRuntimeExports.jsxs("div",{className:styles$1h.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$1h.registerTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$1h.subParagraph,children:"  "}),jsxRuntimeExports.jsxs("form",{className:styles$1h.form,onSubmit:B,children:[jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.login_id===""?!0:T(r.login_id),errorText:" 6~20     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_id",placeholder:" (6~20 , )",onChange:x,value:r.login_id})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.login_pwd===""?!0:R(r.login_pwd),errorText:"8~20 , ,     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:x,value:r.login_pwd})}),jsxRuntimeExports.jsx(InputContainer,{title:"",children:jsxRuntimeExports.jsx(InputText,{name:"user_name",placeholder:" ",onChange:x,value:r.user_name})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.user_email===""?!0:A(r.user_email),errorText:"   ",children:jsxRuntimeExports.jsx(InputText,{name:"user_email",placeholder:" ",onChange:x,value:r.user_email})}),jsxRuntimeExports.jsxs(InputContainer,{title:" ?",children:[jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:1,onChange:x}),jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:0,onChange:x})]}),jsxRuntimeExports.jsx("button",{className:styles$1h.submitButton,disabled:!O(),children:""})]})]})}const layout$r="_layout_1wihj_1",mainTab="_mainTab_1wihj_31",tabButton$3="_tabButton_1wihj_49",active$4="_active_1wihj_85",styles$1d={layout:layout$r,mainTab,tabButton:tabButton$3,active:active$4},layout$q="_layout_1sugu_1",pageTitle$1="_pageTitle_1sugu_15",editLink="_editLink_1sugu_33",styles$1c={layout:layout$q,pageTitle:pageTitle$1,editLink};function ProfileCard(){const{user:r}=reactExports$1.useContext(UserContext);return r?jsxRuntimeExports.jsxs("div",{className:styles$1c.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$1c.pageTitle,children:""}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1c.editLink,to:"/mypage/edit",children:[r.user_name," , "]})]}):jsxRuntimeExports.jsx("div",{children:"  "})}const header$b="_header_en5wv_1",countText$3="_countText_en5wv_9",count$2="_count_en5wv_9",tabButtonContainer="_tabButtonContainer_en5wv_45",tabButton$2="_tabButton_en5wv_45",active$3="_active_en5wv_77",cardListSection="_cardListSection_en5wv_87",cardList$2="_cardList_en5wv_87",emptyText$2="_emptyText_en5wv_107",styles$1b={header:header$b,countText:countText$3,count:count$2,tabButtonContainer,tabButton:tabButton$2,active:active$3,cardListSection,cardList:cardList$2,emptyText:emptyText$2},TABS=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}],removeDuplicates$1=r=>{const x=new Set;return r.filter(y=>x.has(y.id)?!1:(x.add(y.id),!0))};function TabLike(){var O,B;const[r,x]=reactExports$1.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[y,b]=reactExports$1.useState("exhibition"),[R,T]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{try{const K=await userInstance.get("/api/users/me/likes"),{data:J}=K,te=removeDuplicates$1(J.like_exhibitions||[]),ae=removeDuplicates$1(J.like_galleries||[]),ue=removeDuplicates$1(J.like_artists||[]);x({exhibition:te,gallery:ae,artist:ue,artwork:[]})}catch(K){console.log("like fetch err : ",K),x({exhibition:[],gallery:[],artwork:[],artist:[]})}finally{T(!1)}})()},[]);const A=r[y]||[];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$1b.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$1b.countText,children:["",jsxRuntimeExports.jsx("span",{className:styles$1b.count,children:A.length}),""," ",(O=TABS.find(U=>U.key===y))==null?void 0:O.label," ."]}),jsxRuntimeExports.jsx("div",{className:styles$1b.tabButtonContainer,children:TABS.map(U=>jsxRuntimeExports.jsx("button",{className:`${styles$1b.tabButton} ${y===U.key?styles$1b.active:""}`,onClick:()=>b(U.key),children:U.label},U.key))})]}),jsxRuntimeExports.jsx("section",{className:styles$1b.cardListSection,children:jsxRuntimeExports.jsx("div",{className:styles$1b.cardList,children:A.length>0?y==="exhibition"?A.map(U=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:U},`exhibition-${U.id}`)):y==="gallery"?A.map(U=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:U},`gallery-${U.id}`)):y==="artist"?A.map(U=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:U},`artist-${U.id}`)):null:R?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1b.emptyText,children:[" ",(B=TABS.find(U=>U.key===y))==null?void 0:B.label," ."]})})})]})}const cardContainer="_cardContainer_18zcp_1",imgContainer="_imgContainer_18zcp_33",image$3="_image_18zcp_41",artistImage$2="_artistImage_18zcp_53",contents="_contents_18zcp_69",title$j="_title_18zcp_83",info$4="_info_18zcp_95",statusContainer="_statusContainer_18zcp_109",statusCompleted="_statusCompleted_18zcp_123",statusReserved="_statusReserved_18zcp_137",statusCanceled="_statusCanceled_18zcp_153",cancel="_cancel_18zcp_173",action="_action_18zcp_205",btn="_btn_18zcp_215",catalogRegisteredDate="_catalogRegisteredDate_18zcp_247",styles$1a={cardContainer,imgContainer,image:image$3,artistImage:artistImage$2,contents,title:title$j,info:info$4,statusContainer,statusCompleted,statusReserved,statusCanceled,cancel,action,btn,catalogRegisteredDate};function SectionCard({item:r,onQR:x,onCancel:y,onGoDetail:b,onReservation:R,type:T}){if(!r)return null;const A=()=>{const{likeType:U}=r;let K="",J="",te="",ae=styles$1a.image;if(U==="exhibition")K=r.exhibition_poster,J=r.exhibition_title,te=`${r.exhibition_location}<br />${r.exhibition_start_date} ~ ${r.exhibition_end_date}`;else if(U==="gallery")K=r.gallery_image,J=r.gallery_name,te=r.gallery_address;else if(U==="artist")K=r.artist_image,J=r.artist_name,te=`${r.artist_category} / ${r.artist_nation}`,ae=styles$1a.artistImage;else return null;return jsxRuntimeExports.jsxs("div",{onClick:b,className:styles$1a.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1a.imgContainer,children:jsxRuntimeExports.jsx("img",{src:K,alt:J,className:`${styles$1a.image} ${ae}`})}),jsxRuntimeExports.jsxs("div",{className:styles$1a.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1a.title,children:J}),jsxRuntimeExports.jsx("p",{className:styles$1a.info,dangerouslySetInnerHTML:{__html:te}})]})]})},O=()=>{var Be,_e;const{exhibition_poster:U,exhibition_title:K="  ",exhibition_location:J="  ",reservation_status:te="",id:ae=" ",reservation_datetime:ue}=r,pe={reserved:{label:"",className:styles$1a.statusReserved},used:{label:"",className:styles$1a.statusCompleted},canceled:{label:"",className:styles$1a.statusCanceled}},$e=((Be=pe[te])==null?void 0:Be.label)||"  ",Ne=((_e=pe[te])==null?void 0:_e.className)||"";return jsxRuntimeExports.jsxs("div",{className:styles$1a.cardContainer,onClick:R,children:[jsxRuntimeExports.jsx("div",{className:styles$1a.imgContainer,children:jsxRuntimeExports.jsx("img",{src:U,alt:K,className:styles$1a.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1a.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1a.title,children:K}),jsxRuntimeExports.jsxs("p",{className:styles$1a.info,children:[J,jsxRuntimeExports.jsx("br",{}),ue.split(" ")[0],jsxRuntimeExports.jsx("br",{}),": ",ae]}),jsxRuntimeExports.jsxs("div",{className:styles$1a.statusContainer,children:[jsxRuntimeExports.jsx("span",{className:Ne,children:$e}),jsxRuntimeExports.jsxs("div",{className:styles$1a.action,children:[jsxRuntimeExports.jsx("button",{className:styles$1a.btn,onClick:xe=>{xe.stopPropagation(),b()},children:""}),te==="reserved"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$1a.btn,onClick:xe=>{xe.stopPropagation(),x(r.exhibition_id)},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1a.cancel,onClick:xe=>{xe.stopPropagation(),y()},children:""})]})]})]})]})]})},B=()=>{const{bookDetail:U,book_poster:K,create_dtm:J=""}=r,{book:{book_title:te="  "}={},exhibition:{exhibition_location:ae="   "}={},gallery:{gallery_name:ue="  "}={},exhibition:{exhibition_start_date:pe=""}={},exhibition:{exhibition_end_date:$e=""}={}}=(U==null?void 0:U.book)||{},Ne=pe&&$e?`${pe} ~ ${$e}`:"",Be=J?new Date(J).toISOString().slice(0,10):"";return jsxRuntimeExports.jsxs("div",{onClick:b,className:styles$1a.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1a.imgContainer,children:jsxRuntimeExports.jsx("img",{src:K,alt:te,className:styles$1a.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1a.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1a.title,children:te}),jsxRuntimeExports.jsxs("p",{className:styles$1a.info,children:[ue," / ",ae,jsxRuntimeExports.jsx("br",{}),Ne]}),jsxRuntimeExports.jsxs("p",{className:styles$1a.catalogRegisteredDate,children:[": ",Be]})]})]})};switch(T){case"like":return A();case"reservation":return O();case"catalog":return B();default:return null}}const header$a="_header_1tuse_1",countText$2="_countText_1tuse_15",count$1="_count_1tuse_15",registerCatalogBtn="_registerCatalogBtn_1tuse_41",cardList$1="_cardList_1tuse_71",emptyText$1="_emptyText_1tuse_83",styles$19={header:header$a,countText:countText$2,count:count$1,registerCatalogBtn,cardList:cardList$1,emptyText:emptyText$1};function TabPurchased(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),R=useNavigate(),T=()=>{R("/scan")},A=B=>{R(`/catalog/${B}`)},O=()=>{console.log("QR  or ")};return reactExports$1.useEffect(()=>{async function B(){try{b(!0);const K=(await userInstance.get("/api/users/me/purchases")).data,J=await Promise.all(K.map(async te=>{try{const ae=await userInstance.get(`/api/books/${te.book_id}`);return{...te,bookDetail:ae.data}}catch(ae){return console.error(`Book ${te.book_id}    : `,ae),{...te,bookDetail:null}}}));console.log(J),x(J)}catch(U){console.error("   : ",U),x([])}finally{b(!1)}}B()},[]),jsxRuntimeExports.jsxs("div",{className:styles$19.myCatalog,children:[jsxRuntimeExports.jsxs("div",{className:styles$19.header,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:styles$19.countText,children:["  ",jsxRuntimeExports.jsx("span",{className:styles$19.count,children:r.length})]})}),jsxRuntimeExports.jsx("button",{className:styles$19.registerCatalogBtn,onClick:T,children:"  "})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$19.cardList,children:r.length>0?r.map(B=>jsxRuntimeExports.jsx(SectionCard,{item:B,onGoDetail:()=>A(B.id),onQR:O,onCancel:null,type:"catalog"},B.id)):y?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$19.emptyText,children:["   .",jsxRuntimeExports.jsx("br",{})," QR "]})})})]})}const cardList="_cardList_12369_1",header$9="_header_12369_13",countText$1="_countText_12369_27",count="_count_12369_27",emptyText="_emptyText_12369_53",styles$18={cardList,header:header$9,countText:countText$1,count,emptyText},tabMyViewFilter=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",defaultValue:"reserved",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],modalOverlay$5="_modalOverlay_14003_1",modalContainer$1="_modalContainer_14003_27",modalHeader$1="_modalHeader_14003_55",closeButton$6="_closeButton_14003_73",imageContainer$1="_imageContainer_14003_97",checkIconContainer="_checkIconContainer_14003_129",confirmText="_confirmText_14003_163",visitDate="_visitDate_14003_179",infoButton="_infoButton_14003_193",styles$17={modalOverlay:modalOverlay$5,modalContainer:modalContainer$1,modalHeader:modalHeader$1,closeButton:closeButton$6,imageContainer:imageContainer$1,checkIconContainer,confirmText,visitDate,infoButton},AttendanceModal=({isOpen:r,onClose:x,exhibitionTitle:y,imageUrl:b,visitDate:R,onViewExhibition:T})=>r?jsxRuntimeExports.jsx("div",{className:styles$17.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$17.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$17.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$17.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{children:y})]}),jsxRuntimeExports.jsx("div",{className:styles$17.imageContainer,children:jsxRuntimeExports.jsx("img",{src:b,alt:y})}),jsxRuntimeExports.jsx("div",{className:styles$17.checkIconContainer,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$17.confirmText,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$17.visitDate,children:" ."}),jsxRuntimeExports.jsxs("div",{className:styles$17.visitDate,children:[" : ",R]}),jsxRuntimeExports.jsx("button",{className:styles$17.infoButton,onClick:T,children:"  "})]})}):null;function TabMyView(){const r=useLocation(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState({dateSort:"latest",statusFilter:"reserved"}),[T,A]=reactExports$1.useState(!0),O=useNavigate(),[B,U]=reactExports$1.useState(!1),[K,J]=reactExports$1.useState({id:"",title:"",imageUrl:""});reactExports$1.useEffect(()=>{var $e,Ne;($e=r.state)!=null&&$e.successModal&&((Ne=r.state)!=null&&Ne.exhibitionInfo)&&(J(r.state.exhibitionInfo),U(!0))},[r.state]),reactExports$1.useEffect(()=>{(async()=>{try{A(!0);const Ne=await userInstance.get("/api/users/me/exhibitions"),{data:Be}=Ne;y(Be)}catch(Ne){console.error("  :",Ne)}finally{A(!1)}})()},[]);const te=reactExports$1.useMemo(()=>{let $e=x;return b.statusFilter!=="all"&&($e=$e.filter(Ne=>Ne.reservation_status===b.statusFilter)),$e.sort((Ne,Be)=>{const _e=new Date(Ne.reservation_datetime),xe=new Date(Be.reservation_datetime);return b.dateSort==="latest"?xe-_e:_e-xe}),$e},[x,b]);console.log(te);const ae=()=>{U(!1)},ue=async $e=>{if(window.confirm(" ?"))try{await userInstance.delete(`/api/reservations/${$e}`),y(Be=>Be.map(_e=>_e.id===$e?{..._e,reservation_status:"canceled"}:_e))}catch(Be){console.error("  :",Be)}},pe=$e=>{const Ne={id:$e.exhibition_id,title:$e.exhibition_title,imageUrl:$e.exhibition_poster};O(`/scan?itemId=${$e.id}`,{state:{exhibitionInfo:Ne}})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$18.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$18.countText,children:[" "," ",jsxRuntimeExports.jsx("span",{className:styles$18.count,children:te.length})]}),jsxRuntimeExports.jsx("div",{className:styles$18.filterSection,children:jsxRuntimeExports.jsx(DropdownContainer,{filterList:tabMyViewFilter,onSetFilter:R,shape:"rect"})})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$18.cardList,children:te.length>0?te.map($e=>jsxRuntimeExports.jsx(SectionCard,{item:$e,status:$e.reservation_status==="reserved",onReservation:()=>{O(`/reservationconfirm/${$e.id}`)},onGoDetail:()=>O(`/exhibitions/${$e.exhibition_id}`),onCancel:()=>ue($e.id),onQR:()=>pe($e),type:"reservation"},$e.id)):T?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsx("p",{className:styles$18.emptyText,children:"  ."})})}),B&&jsxRuntimeExports.jsx(AttendanceModal,{isOpen:B,onClose:ae,exhibitionTitle:K.title,imageUrl:K.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>O("/exhibitions")})]})}function MyPage(){const r=useLocation(),[x,y]=reactExports$1.useState(""),b=["","MY","MY"];reactExports$1.useEffect(()=>{var T,A;(T=r.state)!=null&&T.successModal?y("MY"):(A=r.state)!=null&&A.activeTab&&y(r.state.activeTab)},[r.state]);const R=()=>{switch(x){case"":return jsxRuntimeExports.jsx(TabLike,{});case"MY":return jsxRuntimeExports.jsx(TabMyView,{});case"MY":return jsxRuntimeExports.jsx(TabPurchased,{});default:return null}};return jsxRuntimeExports.jsxs("div",{className:styles$1d.layout,children:[jsxRuntimeExports.jsx(ProfileCard,{}),jsxRuntimeExports.jsx("nav",{className:styles$1d.mainTab,children:b.map(T=>jsxRuntimeExports.jsx("button",{className:`${styles$1d.tabButton} ${x===T?styles$1d.active:""}`,onClick:()=>y(T),children:T},T))}),R()]})}const container$6="_container_14wg3_1",pageTitle="_pageTitle_14wg3_17",profileCard="_profileCard_14wg3_29",infoRow$5="_infoRow_14wg3_173",infoLabel$5="_infoLabel_14wg3_193",infoValue$1="_infoValue_14wg3_205",input$5="_input_14wg3_215",changeButton="_changeButton_14wg3_231",profileStatsCard="_profileStatsCard_14wg3_259",sectionTitle$3="_sectionTitle_14wg3_277",statsRow="_statsRow_14wg3_289",statsItem="_statsItem_14wg3_305",profileDetailsCard="_profileDetailsCard_14wg3_313",detailsRow="_detailsRow_14wg3_329",detailsLabel="_detailsLabel_14wg3_351",detailsValue="_detailsValue_14wg3_359",changeButtonSmall="_changeButtonSmall_14wg3_369",buttonField$3="_buttonField_14wg3_397",backBtn$1="_backBtn_14wg3_409",styles$16={container:container$6,pageTitle,profileCard,infoRow:infoRow$5,infoLabel:infoLabel$5,infoValue:infoValue$1,input:input$5,changeButton,profileStatsCard,sectionTitle:sectionTitle$3,statsRow,statsItem,profileDetailsCard,detailsRow,detailsLabel,detailsValue,changeButtonSmall,buttonField:buttonField$3,backBtn:backBtn$1},modalOverlay$4="_modalOverlay_1r7h8_1",modalContainer="_modalContainer_1r7h8_27",modalHeader="_modalHeader_1r7h8_51",closeButton$5="_closeButton_1r7h8_67",modalTitle$1="_modalTitle_1r7h8_87",modalContent$1="_modalContent_1r7h8_105",passwordSection="_passwordSection_1r7h8_121",sectionTitle$2="_sectionTitle_1r7h8_129",sectionDescription="_sectionDescription_1r7h8_141",form="_form_1r7h8_155",formGroup$2="_formGroup_1r7h8_167",input$4="_input_1r7h8_175",submitButton$4="_submitButton_1r7h8_209",styles$15={modalOverlay:modalOverlay$4,modalContainer,modalHeader,closeButton:closeButton$5,modalTitle:modalTitle$1,modalContent:modalContent$1,passwordSection,sectionTitle:sectionTitle$2,sectionDescription,form,formGroup:formGroup$2,input:input$4,submitButton:submitButton$4},PwModal=({isOpen:r,onClose:x,userInfo:y,onUpdateUserInfo:b})=>{const[R,T]=reactExports$1.useState(""),[A,O]=reactExports$1.useState(""),B=async U=>{if(U.preventDefault(),!y)return;const K={...y,login_pwd:A};try{const J=await userInstance.put("/api/users/me",K);alert("  ."),b(J.data),T(""),O(""),x()}catch{alert("  .   ."),T(""),O("");return}};return r?jsxRuntimeExports.jsx("div",{className:styles$15.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$15.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$15.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$15.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$15.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$15.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$15.passwordSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$15.sectionTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$15.sectionDescription,children:["    ",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsxs("form",{className:styles$15.form,onSubmit:B,children:[jsxRuntimeExports.jsx("div",{className:styles$15.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:styles$15.input,value:R,onChange:U=>T(U.target.value),required:!0})}),jsxRuntimeExports.jsx("div",{className:styles$15.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:styles$15.input,value:A,onChange:U=>O(U.target.value),required:!0})}),jsxRuntimeExports.jsx("button",{className:styles$15.submitButton,type:"submit",children:" "})]})]})})]})}):null},EditProfile=()=>{const{user:r,setUser:x}=reactExports$1.useContext(UserContext),[y,b]=reactExports$1.useState(!1),[R,T]=reactExports$1.useState(!1),[A,O]=reactExports$1.useState(!1),[B,U]=reactExports$1.useState(""),[K,J]=reactExports$1.useState(""),te=useNavigate();if(!r)return jsxRuntimeExports.jsx("div",{children:"  "});const ae=Ue=>{x({...r,...Ue})},ue=()=>{b(!0)},pe=()=>{b(!1)},$e=()=>{T(!0),U(r.user_name)},Ne=()=>{O(!0),J(r.user_email)},Be=Ue=>{U(Ue.target.value)},_e=Ue=>{J(Ue.target.value)},xe=async()=>{try{await instance.put("/api/users/me",{...r,user_name:B}),x({...r,user_name:B}),T(!1)}catch(Ue){console.error("  .",Ue)}},Le=async()=>{try{await instance.put("/api/users/me",{...r,user_email:K}),x({...r,user_email:K}),O(!1)}catch(Ue){console.error("  .",Ue)}};return jsxRuntimeExports.jsxs("div",{className:styles$16.container,children:[jsxRuntimeExports.jsx("h2",{className:styles$16.pageTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.profileCard,children:jsxRuntimeExports.jsxs("div",{className:styles$16.profileInfoDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:r.login_id||""}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButtonSmall,onClick:ue,children:" "})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"text",className:styles$16.input,value:B,onChange:Be}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:xe,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:r.user_name||""}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:$e,children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),A?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"email",className:styles$16.input,value:K,onChange:_e}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:Le,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:r.user_email||"email@email.com"}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:Ne,children:""})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:styles$16.profileStatsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.statsRow,children:jsxRuntimeExports.jsx("span",{className:styles$16.statsItem,children:"1:1 "})}),jsxRuntimeExports.jsx("div",{className:styles$16.statsRow,children:jsxRuntimeExports.jsx("span",{className:styles$16.statsItem,children:" "})})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.profileDetailsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.detailsRow,children:jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:""})}),jsxRuntimeExports.jsxs("div",{className:styles$16.detailsRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$16.detailsValue,children:"1.10.24"})]}),jsxRuntimeExports.jsx("div",{className:styles$16.detailsRow,children:jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:" "})})]}),jsxRuntimeExports.jsx("div",{className:styles$16.buttonField,children:jsxRuntimeExports.jsx("button",{className:styles$16.backBtn,onClick:()=>te("/mypage"),children:" "})}),jsxRuntimeExports.jsx(PwModal,{isOpen:y,onClose:pe,userInfo:r,onUpdateUserInfo:ae})]})},layout$p="_layout_11t2z_1",summaryTitle$1="_summaryTitle_11t2z_15",queryStringSpan="_queryStringSpan_11t2z_25",resultSection$1="_resultSection_11t2z_33",styles$14={layout:layout$p,summaryTitle:summaryTitle$1,queryStringSpan,resultSection:resultSection$1},filterResults=(r,x)=>{switch(x){case"exhibition":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.exhibition_poster,title:y.exhibition_title}));case"gallery":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.gallery_image,title:y.gallery_name}));case"artist":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.artist_image,title:y.artist_name}));case"notice":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.announcement_poster,title:y.announcement_title}))}},layout$o="_layout_uizu7_1",titleContainer="_titleContainer_uizu7_13",categoryTitle="_categoryTitle_uizu7_25",extraLink="_extraLink_uizu7_33",resultList="_resultList_uizu7_45",emptyBox="_emptyBox_uizu7_63",styles$13={layout:layout$o,titleContainer,categoryTitle,extraLink,resultList,emptyBox},filterCategory=r=>{switch(r){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},layout$n="_layout_i3rj4_1",itemImage="_itemImage_i3rj4_13",itemSpan="_itemSpan_i3rj4_27",styles$12={layout:layout$n,itemImage,itemSpan};function SearchResultItem({link:r,thumbnail:x,title:y}){return jsxRuntimeExports.jsxs(Link$1,{className:styles$12.layout,to:r,children:[jsxRuntimeExports.jsx("img",{className:styles$12.itemImage,src:x}),jsxRuntimeExports.jsx("span",{className:styles$12.itemSpan,children:y})]})}function SearchResultSection({category:r,results:x}){return jsxRuntimeExports.jsxs("section",{className:styles$13.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$13.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$13.categoryTitle,children:filterCategory(r).label}),(x==null?void 0:x.length)===10&&jsxRuntimeExports.jsx(Link$1,{className:styles$13.extraLink,to:`/${filterCategory(r).link}`,children:""})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("div",{className:styles$13.resultList,children:!x||x.length===0?jsxRuntimeExports.jsx("div",{className:styles$13.emptyBox,children:"  "}):x.map(({id:y,thumbnail:b,title:R})=>jsxRuntimeExports.jsx(SearchResultItem,{link:`/${filterCategory(r).link}/${y}`,thumbnail:b,title:R},y))})]})}function Search(){const r=useLocation(),y=new URLSearchParams(r.search).get("query"),[b,R]=reactExports$1.useState({});console.log(y);const T=async()=>{try{const A=await instance.get("/api/search",{params:{search:y}});R(A.data)}catch(A){throw new Error(A)}};return reactExports$1.useEffect(()=>{T()},[y]),jsxRuntimeExports.jsxs("div",{className:styles$14.layout,children:[jsxRuntimeExports.jsxs("h1",{className:styles$14.summaryTitle,children:[jsxRuntimeExports.jsx("span",{className:styles$14.queryStringSpan,children:`'${y}'`}),"   "]}),jsxRuntimeExports.jsxs("section",{className:styles$14.resultSection,children:[jsxRuntimeExports.jsx(SearchResultSection,{category:"exhibition",results:filterResults(b.exhibitions,"exhibition")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"gallery",results:filterResults(b.galleries,"gallery")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"artist",results:filterResults(b.artists,"artist")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"notice",results:filterResults(b.announcements,"notice")})]})]})}const layout$m="_layout_1jxus_1",header$8="_header_1jxus_11",backBtn="_backBtn_1jxus_37",orderSection="_orderSection_1jxus_47",userInfo="_userInfo_1jxus_61",productBox="_productBox_1jxus_71",productImage="_productImage_1jxus_81",productInfo="_productInfo_1jxus_95",paymentInfo="_paymentInfo_1jxus_109",discountInfo="_discountInfo_1jxus_111",paymentMethod="_paymentMethod_1jxus_113",total="_total_1jxus_129",kakao="_kakao_1jxus_169",naver$1="_naver_1jxus_177",basic="_basic_1jxus_183",paymentButton="_paymentButton_1jxus_191",styles$11={layout:layout$m,header:header$8,backBtn,orderSection,userInfo,productBox,productImage,productInfo,paymentInfo,discountInfo,paymentMethod,total,kakao,naver:naver$1,basic,paymentButton};function Purchase(){const{reservationId:r}=useParams(),{state:x}=useLocation(),y=useNavigate(),[b,R]=reactExports$1.useState(""),{exhibition:T={},date:A="",time:O="",people:{adults:B=0,teens:U=0,children:K=0}={},total:J=0,email:te="test@test.com",phone:ae="010-1234-5678",name:ue=""}=x||{},pe=()=>y(`/reservation/${T.id}`),$e=()=>{if(!b){alert("  .");return}alert(`${b}  .`);const Ue={...x,payment:b};y(`/reservation/complete/${r}`,{state:Ue})},Ne=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.userInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[ue," "]}),jsxRuntimeExports.jsx("p",{children:te}),jsxRuntimeExports.jsx("p",{children:ae})]}),Be=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.productBox,children:[jsxRuntimeExports.jsx("img",{src:T.imageUrl,alt:" ",className:styles$11.productImage}),jsxRuntimeExports.jsxs("div",{className:styles$11.productInfo,children:[jsxRuntimeExports.jsx("h3",{children:T.title}),jsxRuntimeExports.jsxs("p",{children:["-  : ",A]}),jsxRuntimeExports.jsxs("p",{children:["-   : ",O]}),jsxRuntimeExports.jsxs("p",{children:["-  :  ",B,",  ",U,",  ",K]}),jsxRuntimeExports.jsxs("p",{children:["-  : ",J.toLocaleString(),""]})]})]}),_e=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.discountInfo,children:[jsxRuntimeExports.jsx("h3",{children:"   "}),jsxRuntimeExports.jsx("p",{children:"1,000point "}),jsxRuntimeExports.jsx("p",{children:" : 0"})]}),xe=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.paymentInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[" : ",J.toLocaleString(),""]}),jsxRuntimeExports.jsx("p",{children:" : -1,000"}),jsxRuntimeExports.jsxs("p",{className:styles$11.total,children:["  : ",(J-1e3).toLocaleString(),""]})]}),Le=()=>{const Ue={:"kakao",:"naver"," ":"basic"};return jsxRuntimeExports.jsxs("div",{className:styles$11.paymentMethod,children:[jsxRuntimeExports.jsx("h3",{children:" "}),Object.entries(Ue).map(([He,qe])=>jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment",value:He,onChange:Qe=>R(Qe.target.value)}),jsxRuntimeExports.jsxs("span",{className:styles$11[qe],children:[" ",He]})]},He))]})};return jsxRuntimeExports.jsxs("div",{className:styles$11.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$11.header,children:[jsxRuntimeExports.jsx("button",{className:styles$11.backBtn,onClick:pe,children:""}),jsxRuntimeExports.jsx("span",{className:styles$11.title,children:"   "})]}),jsxRuntimeExports.jsxs("div",{className:styles$11.orderSection,children:[Ne(),Be()]}),_e(),xe(),Le(),jsxRuntimeExports.jsx("button",{className:styles$11.paymentButton,onClick:$e,children:""})]})}const layout$l="_layout_1czrs_1",newsListSection="_newsListSection_1czrs_61",styles$10={layout:layout$l,newsListSection},newsFilter=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],card$6="_card_iircg_1",header$7="_header_iircg_31",badge="_badge_iircg_45",title$i="_title_iircg_99",info$3="_info_iircg_121",period="_period_iircg_131",organizer="_organizer_iircg_133",styles$$={card:card$6,header:header$7,badge,:"__iircg_81",:"__iircg_91",title:title$i,info:info$3,period,organizer};function NewsCard({newsItem:r}){const x=useNavigate(),{id:y,announcement_title:b,announcement_start_datetime:R,announcement_end_datetime:T,announcement_organizer:A,announcement_category:O,announcement_status:B}=r,U=te=>te==null?void 0:te.split(" ")[0].replace(/-/g,"."),K=te=>{switch(te){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},J=()=>{x(`/notices/${y}`)};return jsxRuntimeExports.jsxs("div",{className:styles$$.card,onClick:J,role:"button",tabIndex:0,children:[jsxRuntimeExports.jsxs("div",{className:styles$$.header,children:[jsxRuntimeExports.jsx("span",{className:`${styles$$.badge}`,children:O}),jsxRuntimeExports.jsx("span",{className:`${styles$$.badge} ${styles$$[K(B)]}`,children:K(B)})]}),jsxRuntimeExports.jsx("h3",{className:styles$$.title,children:b}),jsxRuntimeExports.jsxs("div",{className:styles$$.info,children:[jsxRuntimeExports.jsx("p",{className:styles$$.period,children:`${U(R)} ~ ${U(T)}`}),jsxRuntimeExports.jsx("p",{className:styles$$.organizer,children:A})]})]})}function News(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),{currentPage:R,setCurrentPage:T,pageItems:A}=usePagination(10,r),[O,B]=reactExports$1.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[U,K]=reactExports$1.useState(""),J=ae=>{K(ae.target.value)},te=async()=>{try{b(!0);const ae={...O,search:U},ue=await instance.get("/api/announcements",{params:ae});x(ue.data)}catch(ae){console.error("   :",ae)}finally{b(!1)}};return reactExports$1.useEffect(()=>{te()},[O]),jsxRuntimeExports.jsxs("div",{className:styles$10.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",placeholder:" ",onEvent:te,onSearch:J,value:U,isNews:!0}),jsxRuntimeExports.jsx(DropdownContainer,{filterList:newsFilter,onSetFilter:B}),jsxRuntimeExports.jsx(TotalCounts,{num:r.length,label:""}),y&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!y&&r.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),jsxRuntimeExports.jsx("section",{className:styles$10.newsListSection,children:A.map(ae=>jsxRuntimeExports.jsx(NewsCard,{newsItem:ae},ae.id))}),jsxRuntimeExports.jsx(Pagination,{currentPage:R,onPageChange:T,totalItems:r.length})]})}const noticeLayout="_noticeLayout_p2ihj_1",categorySpan="_categorySpan_p2ihj_25",newsTitle="_newsTitle_p2ihj_33",newsImage="_newsImage_p2ihj_41",contentsContainer="_contentsContainer_p2ihj_55",divider$2="_divider_p2ihj_73",contentParagraph="_contentParagraph_p2ihj_87",noticeText="_noticeText_p2ihj_99",backButton$8="_backButton_p2ihj_115",styles$_={noticeLayout,categorySpan,newsTitle,newsImage,contentsContainer,divider:divider$2,contentParagraph,noticeText,backButton:backButton$8},info$2="_info_pjhlh_1",label$5="_label_pjhlh_41",styles$Z={info:info$2,label:label$5};function ContentsInfoSection({startDate:r,host:x,contact:y,apply:b,attachment:R,site:T}){return jsxRuntimeExports.jsxs("div",{className:styles$Z.info,children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",r]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",x]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",y]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",b]}),T&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",jsxRuntimeExports.jsx("a",{href:T,target:"_blank",rel:"noreferrer",children:T})]}),R&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",jsxRuntimeExports.jsx("a",{href:R.url,target:"_blank",rel:"noreferrer",children:R.name})]})]})}function NewsDetail(){const{noticeId:r}=useParams(),[x,y]=reactExports$1.useState({}),b=async()=>{try{const Be=await instance.get(`/api/announcements/${r}`);y(Be.data)}catch(Be){throw new Error(Be)}};if(reactExports$1.useEffect(()=>{b()},[]),!x)return jsxRuntimeExports.jsx("p",{children:"   ."});const{announcement_title:R,announcement_poster:T,announcement_start_datetime:A,announcement_end_datetime:O,announcement_organizer:B,announcement_contact:U,announcement_support_detail:K,announcement_attachment_url:J,announcement_site_url:te,announcement_content:ae,announcement_category:ue,created_at:pe,views:$e}=x,Ne=(Be,_e)=>{const xe=Le=>Le==null?void 0:Le.split(" ")[0];return`${xe(Be)} ~ ${xe(_e)}`};return jsxRuntimeExports.jsxs("section",{className:styles$_.noticeLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$_.categorySpan,children:ue}),jsxRuntimeExports.jsx("h1",{className:styles$_.newsTitle,children:R}),jsxRuntimeExports.jsx("hr",{className:styles$_.divider}),jsxRuntimeExports.jsxs("div",{className:styles$_.contentsContainer,children:[jsxRuntimeExports.jsx("img",{className:styles$_.newsImage,src:T,alt:`${R}  `}),jsxRuntimeExports.jsx(ContentsInfoSection,{startDate:Ne(A,O),host:B,contact:U,apply:K,attachment:J,site:te,createdAt:pe,views:$e}),jsxRuntimeExports.jsx("p",{className:styles$_.contentParagraph,children:ae}),jsxRuntimeExports.jsx("hr",{className:styles$_.divider}),jsxRuntimeExports.jsx("p",{className:styles$_.noticeText,children:"*         ."}),jsxRuntimeExports.jsx(Link$1,{className:styles$_.backButton,to:"/notices",children:" "})]})]})}const layout$k="_layout_18xb9_1",mainContent="_mainContent_18xb9_17",title$h="_title_18xb9_45",infoImage="_infoImage_18xb9_65",textContainer="_textContainer_18xb9_77",textBox="_textBox_18xb9_87",styles$Y={layout:layout$k,mainContent,title:title$h,infoImage,textContainer,textBox},sectionContainer="_sectionContainer_yp0fd_1",controlsContainer="_controlsContainer_yp0fd_13",speedContainer="_speedContainer_yp0fd_33",speedButton="_speedButton_yp0fd_67",clickedSpeedButton="_clickedSpeedButton_yp0fd_93",buttonField$2="_buttonField_yp0fd_103",optionSpan="_optionSpan_yp0fd_113",optionButton="_optionButton_yp0fd_123",styles$X={sectionContainer,controlsContainer,speedContainer,speedButton,clickedSpeedButton,buttonField:buttonField$2,optionSpan,optionButton},audioPlayerWrapper="_audioPlayerWrapper_13cxf_1",audioButton="_audioButton_13cxf_17",styles$W={audioPlayerWrapper,audioButton};function DocentAudioPlayer({script:r,playbackRate:x}){const[y,b]=reactExports$1.useState(!1),[R,T]=reactExports$1.useState(!1),[A,O]=reactExports$1.useState(x),B=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{let te=!0;return T(!1),(async()=>{console.log("Fetching audio for script:",`${r.substr(0,50)}...`);const ue=await U();if(ue&&te){console.log("Audio content fetched successfully");const pe=new Audio(`data:audio/mp3;base64,${ue}`);pe.playbackRate=x,pe.onended=()=>b(!1),pe.playbackRate=A,B.current=pe,T(!0)}})(),()=>{te=!1,B.current&&(B.current.pause(),B.current.currentTime=0)}},[r]),reactExports$1.useEffect(()=>{O(x),B.current&&(B.current.playbackRate=x)},[x]);const U=async()=>{const ae=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:r},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:ue}=ae;if(ue)return ue},K=()=>{R&&(y?(B.current.pause(),b(!1)):(B.current.play(),b(!0)))},J=()=>{B.current&&(B.current.pause(),B.current.currentTime=0,b(!1))};return jsxRuntimeExports.jsxs("div",{className:styles$W.audioPlayerWrapper,children:[jsxRuntimeExports.jsx("button",{className:styles$W.audioButton,onClick:K,disabled:!R,children:R?y?jsxRuntimeExports.jsx(FaPause,{}):jsxRuntimeExports.jsx(FaPlay,{}):" ..."}),jsxRuntimeExports.jsx("button",{className:styles$W.audioButton,onClick:J,disabled:!R,"aria-label":"",children:R?jsxRuntimeExports.jsx(FaStop,{}):""})]})}function DocentSection({script:r}){const[x,y]=reactExports$1.useState(1),{isOpen:b,handleOpenModal:R}=useModal(),T=[.5,1,1.25,1.5,2];return console.log(b),jsxRuntimeExports.jsxs("section",{className:styles$X.sectionContainer,children:[jsxRuntimeExports.jsx(DocentAudioPlayer,{script:r,playbackRate:x}),jsxRuntimeExports.jsxs("div",{className:styles$X.controlsContainer,children:[b&&jsxRuntimeExports.jsx("div",{className:styles$X.speedContainer,children:T.map(A=>jsxRuntimeExports.jsxs("button",{className:`${styles$X.speedButton} ${A===x&&styles$X.clickedSpeedButton}`,onClick:()=>{y(A),R()},children:[A,"x"]},A))}),jsxRuntimeExports.jsxs("div",{className:styles$X.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$X.optionSpan,children:""}),jsxRuntimeExports.jsxs("button",{className:styles$X.optionButton,onClick:R,children:[x,"x"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$X.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$X.optionSpan,children:" "}),jsxRuntimeExports.jsx("button",{className:styles$X.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const paginateScript$1=(r,x=300)=>Array.from({length:Math.ceil((r==null?void 0:r.length)/x)},(y,b)=>r.slice(b*x,(b+1)*x));function Artwork(){const[r,x]=reactExports$1.useState([]),{art_image:y,art_title:b,art_description:R,art_docent:T,artist_name:A}=r,{artId:O}=useParams();return paginateScript$1(T),reactExports$1.useEffect(()=>{(async()=>{try{const U=await instance.get(`/api/arts/${O}`);x(U.data)}catch(U){console.error(U),alert("    .")}})()},[]),jsxRuntimeExports.jsxs("main",{className:styles$Y.layout,children:[jsxRuntimeExports.jsx("h2",{className:styles$Y.title,children:b}),jsxRuntimeExports.jsxs("section",{className:styles$Y.mainContent,children:[jsxRuntimeExports.jsx("img",{src:y,alt:`${b} `,className:styles$Y.infoImage}),jsxRuntimeExports.jsx("div",{className:styles$Y.textContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$Y.textBox,children:[jsxRuntimeExports.jsx("strong",{children:""}),jsxRuntimeExports.jsx("span",{className:styles$Y.text,children:A})]})}),jsxRuntimeExports.jsx(DocentSection,{script:T})]})]})}const layout$j="_layout_2pxhf_1",gridContainer="_gridContainer_2pxhf_19",nonDataText="_nonDataText_2pxhf_43",styles$V={layout:layout$j,gridContainer,nonDataText},layout$i="_layout_1njda_1",artworkImage$3="_artworkImage_1njda_27",artworkTitle$3="_artworkTitle_1njda_43",subParagraph$1="_subParagraph_1njda_63",styles$U={layout:layout$i,artworkImage:artworkImage$3,artworkTitle:artworkTitle$3,subParagraph:subParagraph$1};function ArtworkList$1({artworkItems:r}){const{id:x,art_image:y,art_title:b,art_description:R}=r;return jsxRuntimeExports.jsxs(Link$1,{className:styles$U.layout,to:`/artworks/${x}`,children:[jsxRuntimeExports.jsx("img",{className:styles$U.artworkImage,src:y,alt:" "}),jsxRuntimeExports.jsx("h3",{className:styles$U.artworkTitle,children:b}),jsxRuntimeExports.jsx("p",{className:styles$U.subParagraph,children:R})]})}function ArtworkList(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),{currentPage:R,setCurrentPage:T,pageItems:A}=usePagination(10,r),[O,B]=reactExports$1.useState({type:""});return reactExports$1.useEffect(()=>{(async()=>{try{b(!0);const K=await instance.get("/api/arts");x(K.data)}catch(K){throw new Error(K)}finally{b(!1)}})()},[O]),jsxRuntimeExports.jsxs("div",{className:styles$V.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isArtworks:!0}),jsxRuntimeExports.jsx(TotalCounts,{num:r.length,label:""}),y&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!y&&r.length===0&&jsxRuntimeExports.jsx("div",{className:styles$V.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$V.gridContainer,children:A.map(U=>jsxRuntimeExports.jsx(ArtworkList$1,{artworkItems:U},U.id))}),r.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:R,onPageChange:T,totalItems:r.length})]})}const catalogLayout="_catalogLayout_1rr2f_1",bodyContainer="_bodyContainer_1rr2f_19",overlay$3="_overlay_1rr2f_33",styles$T={catalogLayout,bodyContainer,overlay:overlay$3},titleBar="_titleBar_1jvc1_1",leftButtons="_leftButtons_1jvc1_23",rightButtons="_rightButtons_1jvc1_25",title$g="_title_1jvc1_1",button$1="_button_1jvc1_45",styles$S={titleBar,leftButtons,rightButtons,title:title$g,button:button$1};function CatalogTitle({onToggleIndex:r}){const x=useNavigate(),y=()=>{x("/mypage")};return jsxRuntimeExports.jsxs("div",{className:styles$S.titleBar,children:[jsxRuntimeExports.jsx("div",{className:styles$S.leftButtons,children:jsxRuntimeExports.jsx("button",{className:styles$S.button,onClick:r,children:" "})}),jsxRuntimeExports.jsx("h1",{className:styles$S.title,children:""}),jsxRuntimeExports.jsx("div",{className:styles$S.rightButtons,children:jsxRuntimeExports.jsx("button",{className:styles$S.button,onClick:y,children:" "})})]})}const indexContainer="_indexContainer_zrf7c_1",menuList="_menuList_zrf7c_37",active$2="_active_zrf7c_71",closeButton$4="_closeButton_zrf7c_81",styles$R={indexContainer,menuList,active:active$2,closeButton:closeButton$4},image2="/assets/mockCatalog-DwV1yhn-.png",mockCatalog=[{id:"cover",title:"",image:image2,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:image2,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function CatalogIndex({onSelect:r,currentIndex:x,sectionStarts:y,onClose:b}){const R=reactExports$1.useRef();return reactExports$1.useEffect(()=>{const T=O=>{R.current&&!R.current.contains(O.target)&&b()},A=O=>{O.key==="Escape"&&b()};return document.addEventListener("mousedown",T),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",A)}},[b]),jsxRuntimeExports.jsxs("aside",{className:styles$R.indexContainer,ref:R,children:[jsxRuntimeExports.jsx("button",{className:styles$R.closeButton,onClick:b,children:""}),jsxRuntimeExports.jsx("ul",{className:styles$R.menuList,children:mockCatalog.map((T,A)=>jsxRuntimeExports.jsx("li",{className:A===x?styles$R.active:"",onClick:()=>r(y[A]),tabIndex:0,children:T.title},T.id))})]})}const container$5="_container_c1nh1_1",page$2="_page_c1nh1_23",image$2="_image_c1nh1_41",title$f="_title_c1nh1_55",meta$1="_meta_c1nh1_67",script="_script_c1nh1_79",arrowLeft="_arrowLeft_c1nh1_89",arrowRight="_arrowRight_c1nh1_91",pageCount="_pageCount_c1nh1_155",styles$Q={container:container$5,page:page$2,image:image$2,title:title$f,meta:meta$1,script,arrowLeft,arrowRight,pageCount};function CatalogContents({data:r,pageIndex:x,totalPages:y,onPrev:b,onNext:R,isFirst:T,isLast:A}){return jsxRuntimeExports.jsxs("div",{className:styles$Q.container,children:[!T&&jsxRuntimeExports.jsx("button",{onClick:b,className:styles$Q.arrowLeft,children:""}),!A&&jsxRuntimeExports.jsx("button",{onClick:R,className:styles$Q.arrowRight,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$Q.page,children:[r.image&&jsxRuntimeExports.jsx("img",{src:r.image,alt:r.title,className:styles$Q.image}),jsxRuntimeExports.jsx("h2",{className:styles$Q.title,children:r.title}),jsxRuntimeExports.jsxs("p",{className:styles$Q.meta,children:[r.artist,"  ",r.info]}),jsxRuntimeExports.jsx("p",{className:styles$Q.script,children:r.script}),jsxRuntimeExports.jsxs("p",{className:styles$Q.pageCount,children:[" ",x+1," / ",y]})]})]})}const paginateScript=(r,x=200)=>{const y=r.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(y.length/x)},(b,R)=>y.slice(R*x,(R+1)*x))};function Catalog(){const[r,x]=reactExports$1.useState(!1),[y,b]=reactExports$1.useState(0),{allPages:R,sectionStarts:T}=reactExports$1.useMemo(()=>{const U=[],K=[];return mockCatalog.forEach(J=>{const te=paginateScript(J.script);K.push(U.length),te.forEach(ae=>{U.push({...J,script:ae})})}),{allPages:U,sectionStarts:K}},[]),A=()=>{b(U=>Math.max(0,U-1))},O=()=>{b(U=>Math.min(R.length-1,U+1))},B=reactExports$1.useMemo(()=>T.reduce((U,K,J)=>y>=K?J:U,0),[y,T]);return jsxRuntimeExports.jsxs("div",{className:styles$T.catalogLayout,children:[jsxRuntimeExports.jsx(CatalogTitle,{onToggleIndex:()=>x(U=>!U)}),jsxRuntimeExports.jsxs("div",{className:styles$T.bodyContainer,children:[r&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$T.overlay}),jsxRuntimeExports.jsx(CatalogIndex,{onSelect:U=>b(U),onClose:()=>x(!1),currentIndex:B,sectionStarts:T})]}),jsxRuntimeExports.jsx(CatalogContents,{data:R[y],pageIndex:y,totalPages:R.length,onPrev:A,onNext:O,isFirst:y===0,isLast:y===R.length-1})]})]})}var Html5QrcodeSupportedFormats;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Html5QrcodeSupportedFormats||(Html5QrcodeSupportedFormats={}));var html5QrcodeSupportedFormatsTextMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"QR_CODE"],[Html5QrcodeSupportedFormats.AZTEC,"AZTEC"],[Html5QrcodeSupportedFormats.CODABAR,"CODABAR"],[Html5QrcodeSupportedFormats.CODE_39,"CODE_39"],[Html5QrcodeSupportedFormats.CODE_93,"CODE_93"],[Html5QrcodeSupportedFormats.CODE_128,"CODE_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"DATA_MATRIX"],[Html5QrcodeSupportedFormats.MAXICODE,"MAXICODE"],[Html5QrcodeSupportedFormats.ITF,"ITF"],[Html5QrcodeSupportedFormats.EAN_13,"EAN_13"],[Html5QrcodeSupportedFormats.EAN_8,"EAN_8"],[Html5QrcodeSupportedFormats.PDF_417,"PDF_417"],[Html5QrcodeSupportedFormats.RSS_14,"RSS_14"],[Html5QrcodeSupportedFormats.RSS_EXPANDED,"RSS_EXPANDED"],[Html5QrcodeSupportedFormats.UPC_A,"UPC_A"],[Html5QrcodeSupportedFormats.UPC_E,"UPC_E"],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DecodedTextType;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(DecodedTextType||(DecodedTextType={}));function isValidHtml5QrcodeSupportedFormats(r){return Object.values(Html5QrcodeSupportedFormats).includes(r)}var Html5QrcodeScanType;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Html5QrcodeScanType||(Html5QrcodeScanType={}));var Html5QrcodeConstants=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Html5QrcodeScanType.SCAN_TYPE_CAMERA,Html5QrcodeScanType.SCAN_TYPE_FILE],r})(),QrcodeResultFormat=(function(){function r(x,y){this.format=x,this.formatName=y}return r.prototype.toString=function(){return this.formatName},r.create=function(x){if(!html5QrcodeSupportedFormatsTextMap.has(x))throw"".concat(x," not in html5QrcodeSupportedFormatsTextMap");return new r(x,html5QrcodeSupportedFormatsTextMap.get(x))},r})(),Html5QrcodeResultFactory=(function(){function r(){}return r.createFromText=function(x){var y={text:x};return{decodedText:x,result:y}},r.createFromQrcodeResult=function(x){return{decodedText:x.text,result:x}},r})(),Html5QrcodeErrorTypes;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Html5QrcodeErrorTypes||(Html5QrcodeErrorTypes={}));var Html5QrcodeErrorFactory=(function(){function r(){}return r.createFrom=function(x){return{errorMessage:x,type:Html5QrcodeErrorTypes.UNKWOWN_ERROR}},r})(),BaseLoggger=(function(){function r(x){this.verbose=x}return r.prototype.log=function(x){this.verbose&&console.log(x)},r.prototype.warn=function(x){this.verbose&&console.warn(x)},r.prototype.logError=function(x,y){(this.verbose||y===!0)&&console.error(x)},r.prototype.logErrors=function(x){if(x.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(x)},r})();function isNullOrUndefined(r){return typeof r>"u"||r===null}var Html5QrcodeStrings=(function(){function r(){}return r.codeParseError=function(x){return"QR code parse error, error = ".concat(x)},r.errorGettingUserMedia=function(x){return"Error getting userMedia, error = ".concat(x)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),VideoConstraintsUtil=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(x,y){if(typeof x!="object"){var b=typeof x;return y.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(b,"."),!0),!1}for(var R=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],T=new Set(R),A=Object.keys(x),O=0,B=A;O<B.length;O++){var U=B[O];if(T.has(U))return y.logError("".concat(U," is not supported videoConstaints."),!0),!1}return!0},r})(),zxingJs_umd$2={exports:{}},zxingJs_umd$1=zxingJs_umd$2.exports,hasRequiredZxingJs_umd;function requireZxingJs_umd(){return hasRequiredZxingJs_umd||(hasRequiredZxingJs_umd=1,(function(r,x){(function(y,b){b(x)})(zxingJs_umd$1,(function(y){function b(nt){return nt==null}var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,M){nt.__proto__=M}||function(nt,M){for(var G in M)M.hasOwnProperty(G)&&(nt[G]=M[G])};function T(nt,M){R(nt,M);function G(){this.constructor=nt}nt.prototype=M===null?Object.create(M):(G.prototype=M.prototype,new G)}function A(nt,M){var G=Object.setPrototypeOf;G?G(nt,M):nt.__proto__=M}function O(nt,M){M===void 0&&(M=nt.constructor);var G=Error.captureStackTrace;G&&G(nt,M)}var B=(function(nt){T(M,nt);function M(G){var q=this.constructor,ee=nt.call(this,G)||this;return Object.defineProperty(ee,"name",{value:q.name,enumerable:!1}),A(ee,q.prototype),O(ee),ee}return M})(Error);class U extends B{constructor(M=void 0){super(M),this.message=M}getKind(){return this.constructor.kind}}U.kind="Exception";class K extends U{}K.kind="ArgumentException";class J extends U{}J.kind="IllegalArgumentException";class te{constructor(M){if(this.binarizer=M,M===null)throw new J("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(M,G){return this.binarizer.getBlackRow(M,G)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(M,G,q,ee){const ne=this.binarizer.getLuminanceSource().crop(M,G,q,ee);return new te(this.binarizer.createBinarizer(ne))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const M=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new te(this.binarizer.createBinarizer(M))}rotateCounterClockwise45(){const M=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new te(this.binarizer.createBinarizer(M))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ae extends U{static getChecksumInstance(){return new ae}}ae.kind="ChecksumException";class ue{constructor(M){this.source=M}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class pe{static arraycopy(M,G,q,ee,ne){for(;ne--;)q[ee++]=M[G++]}static currentTimeMillis(){return Date.now()}}class $e extends U{}$e.kind="IndexOutOfBoundsException";class Ne extends $e{constructor(M=void 0,G=void 0){super(G),this.index=M,this.message=G}}Ne.kind="ArrayIndexOutOfBoundsException";class Be{static fill(M,G){for(let q=0,ee=M.length;q<ee;q++)M[q]=G}static fillWithin(M,G,q,ee){Be.rangeCheck(M.length,G,q);for(let ne=G;ne<q;ne++)M[ne]=ee}static rangeCheck(M,G,q){if(G>q)throw new J("fromIndex("+G+") > toIndex("+q+")");if(G<0)throw new Ne(G);if(q>M)throw new Ne(q)}static asList(...M){return M}static create(M,G,q){return Array.from({length:M}).map(ne=>Array.from({length:G}).fill(q))}static createInt32Array(M,G,q){return Array.from({length:M}).map(ne=>Int32Array.from({length:G}).fill(q))}static equals(M,G){if(!M||!G||!M.length||!G.length||M.length!==G.length)return!1;for(let q=0,ee=M.length;q<ee;q++)if(M[q]!==G[q])return!1;return!0}static hashCode(M){if(M===null)return 0;let G=1;for(const q of M)G=31*G+q;return G}static fillUint8Array(M,G){for(let q=0;q!==M.length;q++)M[q]=G}static copyOf(M,G){return M.slice(0,G)}static copyOfUint8Array(M,G){if(M.length<=G){const q=new Uint8Array(G);return q.set(M),q}return M.slice(0,G)}static copyOfRange(M,G,q){const ee=q-G,ne=new Int32Array(ee);return pe.arraycopy(M,G,ne,0,ee),ne}static binarySearch(M,G,q){q===void 0&&(q=Be.numberComparator);let ee=0,ne=M.length-1;for(;ee<=ne;){const fe=ne+ee>>1,ye=q(G,M[fe]);if(ye>0)ee=fe+1;else if(ye<0)ne=fe-1;else return fe}return-ee-1}static numberComparator(M,G){return M-G}}class _e{static numberOfTrailingZeros(M){let G;if(M===0)return 32;let q=31;return G=M<<16,G!==0&&(q-=16,M=G),G=M<<8,G!==0&&(q-=8,M=G),G=M<<4,G!==0&&(q-=4,M=G),G=M<<2,G!==0&&(q-=2,M=G),q-(M<<1>>>31)}static numberOfLeadingZeros(M){if(M===0)return 32;let G=1;return M>>>16||(G+=16,M<<=16),M>>>24||(G+=8,M<<=8),M>>>28||(G+=4,M<<=4),M>>>30||(G+=2,M<<=2),G-=M>>>31,G}static toHexString(M){return M.toString(16)}static toBinaryString(M){return String(parseInt(String(M),2))}static bitCount(M){return M=M-(M>>>1&1431655765),M=(M&858993459)+(M>>>2&858993459),M=M+(M>>>4)&252645135,M=M+(M>>>8),M=M+(M>>>16),M&63}static truncDivision(M,G){return Math.trunc(M/G)}static parseInt(M,G=void 0){return parseInt(M,G)}}_e.MIN_VALUE_32_BITS=-2147483648,_e.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(M,G){M===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=M,G==null?this.bits=xe.makeArray(M):this.bits=G)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(M){if(M>this.bits.length*32){const G=xe.makeArray(M);pe.arraycopy(this.bits,0,G,0,this.bits.length),this.bits=G}}get(M){return(this.bits[Math.floor(M/32)]&1<<(M&31))!==0}set(M){this.bits[Math.floor(M/32)]|=1<<(M&31)}flip(M){this.bits[Math.floor(M/32)]^=1<<(M&31)}getNextSet(M){const G=this.size;if(M>=G)return G;const q=this.bits;let ee=Math.floor(M/32),ne=q[ee];ne&=~((1<<(M&31))-1);const fe=q.length;for(;ne===0;){if(++ee===fe)return G;ne=q[ee]}const ye=ee*32+_e.numberOfTrailingZeros(ne);return ye>G?G:ye}getNextUnset(M){const G=this.size;if(M>=G)return G;const q=this.bits;let ee=Math.floor(M/32),ne=~q[ee];ne&=~((1<<(M&31))-1);const fe=q.length;for(;ne===0;){if(++ee===fe)return G;ne=~q[ee]}const ye=ee*32+_e.numberOfTrailingZeros(ne);return ye>G?G:ye}setBulk(M,G){this.bits[Math.floor(M/32)]=G}setRange(M,G){if(G<M||M<0||G>this.size)throw new J;if(G===M)return;G--;const q=Math.floor(M/32),ee=Math.floor(G/32),ne=this.bits;for(let fe=q;fe<=ee;fe++){const ye=fe>q?0:M&31,Ge=(2<<(fe<ee?31:G&31))-(1<<ye);ne[fe]|=Ge}}clear(){const M=this.bits.length,G=this.bits;for(let q=0;q<M;q++)G[q]=0}isRange(M,G,q){if(G<M||M<0||G>this.size)throw new J;if(G===M)return!0;G--;const ee=Math.floor(M/32),ne=Math.floor(G/32),fe=this.bits;for(let ye=ee;ye<=ne;ye++){const ze=ye>ee?0:M&31,Ye=(2<<(ye<ne?31:G&31))-(1<<ze)&4294967295;if((fe[ye]&Ye)!==(q?Ye:0))return!1}return!0}appendBit(M){this.ensureCapacity(this.size+1),M&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(M,G){if(G<0||G>32)throw new J("Num bits must be between 0 and 32");this.ensureCapacity(this.size+G);for(let q=G;q>0;q--)this.appendBit((M>>q-1&1)===1)}appendBitArray(M){const G=M.size;this.ensureCapacity(this.size+G);for(let q=0;q<G;q++)this.appendBit(M.get(q))}xor(M){if(this.size!==M.size)throw new J("Sizes don't match");const G=this.bits;for(let q=0,ee=G.length;q<ee;q++)G[q]^=M.bits[q]}toBytes(M,G,q,ee){for(let ne=0;ne<ee;ne++){let fe=0;for(let ye=0;ye<8;ye++)this.get(M)&&(fe|=1<<7-ye),M++;G[q+ne]=fe}}getBitArray(){return this.bits}reverse(){const M=new Int32Array(this.bits.length),G=Math.floor((this.size-1)/32),q=G+1,ee=this.bits;for(let ne=0;ne<q;ne++){let fe=ee[ne];fe=fe>>1&1431655765|(fe&1431655765)<<1,fe=fe>>2&858993459|(fe&858993459)<<2,fe=fe>>4&252645135|(fe&252645135)<<4,fe=fe>>8&16711935|(fe&16711935)<<8,fe=fe>>16&65535|(fe&65535)<<16,M[G-ne]=fe}if(this.size!==q*32){const ne=q*32-this.size;let fe=M[0]>>>ne;for(let ye=1;ye<q;ye++){const ze=M[ye];fe|=ze<<32-ne,M[ye-1]=fe,fe=ze>>>ne}M[q-1]=fe}this.bits=M}static makeArray(M){return new Int32Array(Math.floor((M+31)/32))}equals(M){if(!(M instanceof xe))return!1;const G=M;return this.size===G.size&&Be.equals(this.bits,G.bits)}hashCode(){return 31*this.size+Be.hashCode(this.bits)}toString(){let M="";for(let G=0,q=this.size;G<q;G++)(G&7)===0&&(M+=" "),M+=this.get(G)?"X":".";return M}clone(){return new xe(this.size,this.bits.slice())}}var Le;(function(nt){nt[nt.OTHER=0]="OTHER",nt[nt.PURE_BARCODE=1]="PURE_BARCODE",nt[nt.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",nt[nt.TRY_HARDER=3]="TRY_HARDER",nt[nt.CHARACTER_SET=4]="CHARACTER_SET",nt[nt.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",nt[nt.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",nt[nt.ASSUME_GS1=7]="ASSUME_GS1",nt[nt.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",nt[nt.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",nt[nt.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Le||(Le={}));var Ue=Le;class He extends U{static getFormatInstance(){return new He}}He.kind="FormatException";var qe;(function(nt){nt[nt.Cp437=0]="Cp437",nt[nt.ISO8859_1=1]="ISO8859_1",nt[nt.ISO8859_2=2]="ISO8859_2",nt[nt.ISO8859_3=3]="ISO8859_3",nt[nt.ISO8859_4=4]="ISO8859_4",nt[nt.ISO8859_5=5]="ISO8859_5",nt[nt.ISO8859_6=6]="ISO8859_6",nt[nt.ISO8859_7=7]="ISO8859_7",nt[nt.ISO8859_8=8]="ISO8859_8",nt[nt.ISO8859_9=9]="ISO8859_9",nt[nt.ISO8859_10=10]="ISO8859_10",nt[nt.ISO8859_11=11]="ISO8859_11",nt[nt.ISO8859_13=12]="ISO8859_13",nt[nt.ISO8859_14=13]="ISO8859_14",nt[nt.ISO8859_15=14]="ISO8859_15",nt[nt.ISO8859_16=15]="ISO8859_16",nt[nt.SJIS=16]="SJIS",nt[nt.Cp1250=17]="Cp1250",nt[nt.Cp1251=18]="Cp1251",nt[nt.Cp1252=19]="Cp1252",nt[nt.Cp1256=20]="Cp1256",nt[nt.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",nt[nt.UTF8=22]="UTF8",nt[nt.ASCII=23]="ASCII",nt[nt.Big5=24]="Big5",nt[nt.GB18030=25]="GB18030",nt[nt.EUC_KR=26]="EUC_KR"})(qe||(qe={}));class Qe{constructor(M,G,q,...ee){this.valueIdentifier=M,this.name=q,typeof G=="number"?this.values=Int32Array.from([G]):this.values=G,this.otherEncodingNames=ee,Qe.VALUE_IDENTIFIER_TO_ECI.set(M,this),Qe.NAME_TO_ECI.set(q,this);const ne=this.values;for(let fe=0,ye=ne.length;fe!==ye;fe++){const ze=ne[fe];Qe.VALUES_TO_ECI.set(ze,this)}for(const fe of ee)Qe.NAME_TO_ECI.set(fe,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(M){if(M<0||M>=900)throw new He("incorect value");const G=Qe.VALUES_TO_ECI.get(M);if(G===void 0)throw new He("incorect value");return G}static getCharacterSetECIByName(M){const G=Qe.NAME_TO_ECI.get(M);if(G===void 0)throw new He("incorect value");return G}equals(M){if(!(M instanceof Qe))return!1;const G=M;return this.getName()===G.getName()}}Qe.VALUE_IDENTIFIER_TO_ECI=new Map,Qe.VALUES_TO_ECI=new Map,Qe.NAME_TO_ECI=new Map,Qe.Cp437=new Qe(qe.Cp437,Int32Array.from([0,2]),"Cp437"),Qe.ISO8859_1=new Qe(qe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Qe.ISO8859_2=new Qe(qe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Qe.ISO8859_3=new Qe(qe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Qe.ISO8859_4=new Qe(qe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Qe.ISO8859_5=new Qe(qe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Qe.ISO8859_6=new Qe(qe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Qe.ISO8859_7=new Qe(qe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Qe.ISO8859_8=new Qe(qe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Qe.ISO8859_9=new Qe(qe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Qe.ISO8859_10=new Qe(qe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Qe.ISO8859_11=new Qe(qe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Qe.ISO8859_13=new Qe(qe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Qe.ISO8859_14=new Qe(qe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Qe.ISO8859_15=new Qe(qe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Qe.ISO8859_16=new Qe(qe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Qe.SJIS=new Qe(qe.SJIS,20,"SJIS","Shift_JIS"),Qe.Cp1250=new Qe(qe.Cp1250,21,"Cp1250","windows-1250"),Qe.Cp1251=new Qe(qe.Cp1251,22,"Cp1251","windows-1251"),Qe.Cp1252=new Qe(qe.Cp1252,23,"Cp1252","windows-1252"),Qe.Cp1256=new Qe(qe.Cp1256,24,"Cp1256","windows-1256"),Qe.UnicodeBigUnmarked=new Qe(qe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Qe.UTF8=new Qe(qe.UTF8,26,"UTF8","UTF-8"),Qe.ASCII=new Qe(qe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Qe.Big5=new Qe(qe.Big5,28,"Big5"),Qe.GB18030=new Qe(qe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Qe.EUC_KR=new Qe(qe.EUC_KR,30,"EUC_KR","EUC-KR");class lt extends U{}lt.kind="UnsupportedOperationException";class ct{static decode(M,G){const q=this.encodingName(G);return this.customDecoder?this.customDecoder(M,q):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(q)?this.decodeFallback(M,q):new TextDecoder(q).decode(M)}static shouldDecodeOnFallback(M){return!ct.isBrowser()&&M==="ISO-8859-1"}static encode(M,G){const q=this.encodingName(G);return this.customEncoder?this.customEncoder(M,q):typeof TextEncoder>"u"?this.encodeFallback(M):new TextEncoder().encode(M)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(M){return typeof M=="string"?M:M.getName()}static encodingCharacterSet(M){return M instanceof Qe?M:Qe.getCharacterSetECIByName(M)}static decodeFallback(M,G){const q=this.encodingCharacterSet(G);if(ct.isDecodeFallbackSupported(q)){let ee="";for(let ne=0,fe=M.length;ne<fe;ne++){let ye=M[ne].toString(16);ye.length<2&&(ye="0"+ye),ee+="%"+ye}return decodeURIComponent(ee)}if(q.equals(Qe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(M.buffer));throw new lt(`Encoding ${this.encodingName(G)} not supported by fallback.`)}static isDecodeFallbackSupported(M){return M.equals(Qe.UTF8)||M.equals(Qe.ISO8859_1)||M.equals(Qe.ASCII)}static encodeFallback(M){const q=btoa(unescape(encodeURIComponent(M))).split(""),ee=[];for(let ne=0;ne<q.length;ne++)ee.push(q[ne].charCodeAt(0));return new Uint8Array(ee)}}class ot{static castAsNonUtf8Char(M,G=null){const q=G?G.getName():this.ISO88591;return ct.decode(new Uint8Array([M]),q)}static guessEncoding(M,G){if(G!=null&&G.get(Ue.CHARACTER_SET)!==void 0)return G.get(Ue.CHARACTER_SET).toString();const q=M.length;let ee=!0,ne=!0,fe=!0,ye=0,ze=0,Ge=0,Ye=0,rt=0,st=0,ht=0,xt=0,vt=0,Ct=0,Mt=0;const qt=M.length>3&&M[0]===239&&M[1]===187&&M[2]===191;for(let Gt=0;Gt<q&&(ee||ne||fe);Gt++){const Vt=M[Gt]&255;fe&&(ye>0?(Vt&128)===0?fe=!1:ye--:(Vt&128)!==0&&((Vt&64)===0?fe=!1:(ye++,(Vt&32)===0?ze++:(ye++,(Vt&16)===0?Ge++:(ye++,(Vt&8)===0?Ye++:fe=!1))))),ee&&(Vt>127&&Vt<160?ee=!1:Vt>159&&(Vt<192||Vt===215||Vt===247)&&Mt++),ne&&(rt>0?Vt<64||Vt===127||Vt>252?ne=!1:rt--:Vt===128||Vt===160||Vt>239?ne=!1:Vt>160&&Vt<224?(st++,xt=0,ht++,ht>vt&&(vt=ht)):Vt>127?(rt++,ht=0,xt++,xt>Ct&&(Ct=xt)):(ht=0,xt=0))}return fe&&ye>0&&(fe=!1),ne&&rt>0&&(ne=!1),fe&&(qt||ze+Ge+Ye>0)?ot.UTF8:ne&&(ot.ASSUME_SHIFT_JIS||vt>=3||Ct>=3)?ot.SHIFT_JIS:ee&&ne?vt===2&&st===2||Mt*10>=q?ot.SHIFT_JIS:ot.ISO88591:ee?ot.ISO88591:ne?ot.SHIFT_JIS:fe?ot.UTF8:ot.PLATFORM_DEFAULT_ENCODING}static format(M,...G){let q=-1;function ee(fe,ye,ze,Ge,Ye,rt){if(fe==="%%")return"%";if(G[++q]===void 0)return;fe=Ge?parseInt(Ge.substr(1)):void 0;let st=Ye?parseInt(Ye.substr(1)):void 0,ht;switch(rt){case"s":ht=G[q];break;case"c":ht=G[q][0];break;case"f":ht=parseFloat(G[q]).toFixed(fe);break;case"p":ht=parseFloat(G[q]).toPrecision(fe);break;case"e":ht=parseFloat(G[q]).toExponential(fe);break;case"x":ht=parseInt(G[q]).toString(st||16);break;case"d":ht=parseFloat(parseInt(G[q],st||10).toPrecision(fe)).toFixed(0);break}ht=typeof ht=="object"?JSON.stringify(ht):(+ht).toString(st);let xt=parseInt(ze),vt=ze&&ze[0]+""=="0"?"0":" ";for(;ht.length<xt;)ht=ye!==void 0?ht+vt:vt+ht;return ht}let ne=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return M.replace(ne,ee)}static getBytes(M,G){return ct.encode(M,G)}static getCharCode(M,G=0){return M.charCodeAt(G)}static getCharAt(M){return String.fromCharCode(M)}}ot.SHIFT_JIS=Qe.SJIS.getName(),ot.GB2312="GB2312",ot.ISO88591=Qe.ISO8859_1.getName(),ot.EUC_JP="EUC_JP",ot.UTF8=Qe.UTF8.getName(),ot.PLATFORM_DEFAULT_ENCODING=ot.UTF8,ot.ASSUME_SHIFT_JIS=!1;class pt{constructor(M=""){this.value=M}enableDecoding(M){return this.encoding=M,this}append(M){return typeof M=="string"?this.value+=M.toString():this.encoding?this.value+=ot.castAsNonUtf8Char(M,this.encoding):this.value+=String.fromCharCode(M),this}appendChars(M,G,q){for(let ee=G;G<G+q;ee++)this.append(M[ee]);return this}length(){return this.value.length}charAt(M){return this.value.charAt(M)}deleteCharAt(M){this.value=this.value.substr(0,M)+this.value.substring(M+1)}setCharAt(M,G){this.value=this.value.substr(0,M)+G+this.value.substr(M+1)}substring(M,G){return this.value.substring(M,G)}setLengthToZero(){this.value=""}toString(){return this.value}insert(M,G){this.value=this.value.substr(0,M)+G+this.value.substr(M+G.length)}}class yt{constructor(M,G,q,ee){if(this.width=M,this.height=G,this.rowSize=q,this.bits=ee,G==null&&(G=M),this.height=G,M<1||G<1)throw new J("Both dimensions must be greater than 0");q==null&&(q=Math.floor((M+31)/32)),this.rowSize=q,ee==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(M){const G=M.length,q=M[0].length,ee=new yt(q,G);for(let ne=0;ne<G;ne++){const fe=M[ne];for(let ye=0;ye<q;ye++)fe[ye]&&ee.set(ye,ne)}return ee}static parseFromString(M,G,q){if(M===null)throw new J("stringRepresentation cannot be null");const ee=new Array(M.length);let ne=0,fe=0,ye=-1,ze=0,Ge=0;for(;Ge<M.length;)if(M.charAt(Ge)===`
`||M.charAt(Ge)==="\r"){if(ne>fe){if(ye===-1)ye=ne-fe;else if(ne-fe!==ye)throw new J("row lengths do not match");fe=ne,ze++}Ge++}else if(M.substring(Ge,Ge+G.length)===G)Ge+=G.length,ee[ne]=!0,ne++;else if(M.substring(Ge,Ge+q.length)===q)Ge+=q.length,ee[ne]=!1,ne++;else throw new J("illegal character encountered: "+M.substring(Ge));if(ne>fe){if(ye===-1)ye=ne-fe;else if(ne-fe!==ye)throw new J("row lengths do not match");ze++}const Ye=new yt(ye,ze);for(let rt=0;rt<ne;rt++)ee[rt]&&Ye.set(Math.floor(rt%ye),Math.floor(rt/ye));return Ye}get(M,G){const q=G*this.rowSize+Math.floor(M/32);return(this.bits[q]>>>(M&31)&1)!==0}set(M,G){const q=G*this.rowSize+Math.floor(M/32);this.bits[q]|=1<<(M&31)&4294967295}unset(M,G){const q=G*this.rowSize+Math.floor(M/32);this.bits[q]&=~(1<<(M&31)&4294967295)}flip(M,G){const q=G*this.rowSize+Math.floor(M/32);this.bits[q]^=1<<(M&31)&4294967295}xor(M){if(this.width!==M.getWidth()||this.height!==M.getHeight()||this.rowSize!==M.getRowSize())throw new J("input matrix dimensions do not match");const G=new xe(Math.floor(this.width/32)+1),q=this.rowSize,ee=this.bits;for(let ne=0,fe=this.height;ne<fe;ne++){const ye=ne*q,ze=M.getRow(ne,G).getBitArray();for(let Ge=0;Ge<q;Ge++)ee[ye+Ge]^=ze[Ge]}}clear(){const M=this.bits,G=M.length;for(let q=0;q<G;q++)M[q]=0}setRegion(M,G,q,ee){if(G<0||M<0)throw new J("Left and top must be nonnegative");if(ee<1||q<1)throw new J("Height and width must be at least 1");const ne=M+q,fe=G+ee;if(fe>this.height||ne>this.width)throw new J("The region must fit inside the matrix");const ye=this.rowSize,ze=this.bits;for(let Ge=G;Ge<fe;Ge++){const Ye=Ge*ye;for(let rt=M;rt<ne;rt++)ze[Ye+Math.floor(rt/32)]|=1<<(rt&31)&4294967295}}getRow(M,G){G==null||G.getSize()<this.width?G=new xe(this.width):G.clear();const q=this.rowSize,ee=this.bits,ne=M*q;for(let fe=0;fe<q;fe++)G.setBulk(fe*32,ee[ne+fe]);return G}setRow(M,G){pe.arraycopy(G.getBitArray(),0,this.bits,M*this.rowSize,this.rowSize)}rotate180(){const M=this.getWidth(),G=this.getHeight();let q=new xe(M),ee=new xe(M);for(let ne=0,fe=Math.floor((G+1)/2);ne<fe;ne++)q=this.getRow(ne,q),ee=this.getRow(G-1-ne,ee),q.reverse(),ee.reverse(),this.setRow(ne,ee),this.setRow(G-1-ne,q)}getEnclosingRectangle(){const M=this.width,G=this.height,q=this.rowSize,ee=this.bits;let ne=M,fe=G,ye=-1,ze=-1;for(let Ge=0;Ge<G;Ge++)for(let Ye=0;Ye<q;Ye++){const rt=ee[Ge*q+Ye];if(rt!==0){if(Ge<fe&&(fe=Ge),Ge>ze&&(ze=Ge),Ye*32<ne){let st=0;for(;(rt<<31-st&4294967295)===0;)st++;Ye*32+st<ne&&(ne=Ye*32+st)}if(Ye*32+31>ye){let st=31;for(;!(rt>>>st);)st--;Ye*32+st>ye&&(ye=Ye*32+st)}}}return ye<ne||ze<fe?null:Int32Array.from([ne,fe,ye-ne+1,ze-fe+1])}getTopLeftOnBit(){const M=this.rowSize,G=this.bits;let q=0;for(;q<G.length&&G[q]===0;)q++;if(q===G.length)return null;const ee=q/M;let ne=q%M*32;const fe=G[q];let ye=0;for(;(fe<<31-ye&4294967295)===0;)ye++;return ne+=ye,Int32Array.from([ne,ee])}getBottomRightOnBit(){const M=this.rowSize,G=this.bits;let q=G.length-1;for(;q>=0&&G[q]===0;)q--;if(q<0)return null;const ee=Math.floor(q/M);let ne=Math.floor(q%M)*32;const fe=G[q];let ye=31;for(;!(fe>>>ye);)ye--;return ne+=ye,Int32Array.from([ne,ee])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(M){if(!(M instanceof yt))return!1;const G=M;return this.width===G.width&&this.height===G.height&&this.rowSize===G.rowSize&&Be.equals(this.bits,G.bits)}hashCode(){let M=this.width;return M=31*M+this.width,M=31*M+this.height,M=31*M+this.rowSize,M=31*M+Be.hashCode(this.bits),M}toString(M="X ",G="  ",q=`
`){return this.buildToString(M,G,q)}buildToString(M,G,q){let ee=new pt;for(let ne=0,fe=this.height;ne<fe;ne++){for(let ye=0,ze=this.width;ye<ze;ye++)ee.append(this.get(ye,ne)?M:G);ee.append(q)}return ee.toString()}clone(){return new yt(this.width,this.height,this.rowSize,this.bits.slice())}}class it extends U{static getNotFoundInstance(){return new it}}it.kind="NotFoundException";class Ke extends ue{constructor(M){super(M),this.luminances=Ke.EMPTY,this.buckets=new Int32Array(Ke.LUMINANCE_BUCKETS)}getBlackRow(M,G){const q=this.getLuminanceSource(),ee=q.getWidth();G==null||G.getSize()<ee?G=new xe(ee):G.clear(),this.initArrays(ee);const ne=q.getRow(M,this.luminances),fe=this.buckets;for(let ze=0;ze<ee;ze++)fe[(ne[ze]&255)>>Ke.LUMINANCE_SHIFT]++;const ye=Ke.estimateBlackPoint(fe);if(ee<3)for(let ze=0;ze<ee;ze++)(ne[ze]&255)<ye&&G.set(ze);else{let ze=ne[0]&255,Ge=ne[1]&255;for(let Ye=1;Ye<ee-1;Ye++){const rt=ne[Ye+1]&255;(Ge*4-ze-rt)/2<ye&&G.set(Ye),ze=Ge,Ge=rt}}return G}getBlackMatrix(){const M=this.getLuminanceSource(),G=M.getWidth(),q=M.getHeight(),ee=new yt(G,q);this.initArrays(G);const ne=this.buckets;for(let ze=1;ze<5;ze++){const Ge=Math.floor(q*ze/5),Ye=M.getRow(Ge,this.luminances),rt=Math.floor(G*4/5);for(let st=Math.floor(G/5);st<rt;st++){const ht=Ye[st]&255;ne[ht>>Ke.LUMINANCE_SHIFT]++}}const fe=Ke.estimateBlackPoint(ne),ye=M.getMatrix();for(let ze=0;ze<q;ze++){const Ge=ze*G;for(let Ye=0;Ye<G;Ye++)(ye[Ge+Ye]&255)<fe&&ee.set(Ye,ze)}return ee}createBinarizer(M){return new Ke(M)}initArrays(M){this.luminances.length<M&&(this.luminances=new Uint8ClampedArray(M));const G=this.buckets;for(let q=0;q<Ke.LUMINANCE_BUCKETS;q++)G[q]=0}static estimateBlackPoint(M){const G=M.length;let q=0,ee=0,ne=0;for(let Ye=0;Ye<G;Ye++)M[Ye]>ne&&(ee=Ye,ne=M[Ye]),M[Ye]>q&&(q=M[Ye]);let fe=0,ye=0;for(let Ye=0;Ye<G;Ye++){const rt=Ye-ee,st=M[Ye]*rt*rt;st>ye&&(fe=Ye,ye=st)}if(ee>fe){const Ye=ee;ee=fe,fe=Ye}if(fe-ee<=G/16)throw new it;let ze=fe-1,Ge=-1;for(let Ye=fe-1;Ye>ee;Ye--){const rt=Ye-ee,st=rt*rt*(fe-Ye)*(q-M[Ye]);st>Ge&&(ze=Ye,Ge=st)}return ze<<Ke.LUMINANCE_SHIFT}}Ke.LUMINANCE_BITS=5,Ke.LUMINANCE_SHIFT=8-Ke.LUMINANCE_BITS,Ke.LUMINANCE_BUCKETS=1<<Ke.LUMINANCE_BITS,Ke.EMPTY=Uint8ClampedArray.from([0]);class Je extends Ke{constructor(M){super(M),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const M=this.getLuminanceSource(),G=M.getWidth(),q=M.getHeight();if(G>=Je.MINIMUM_DIMENSION&&q>=Je.MINIMUM_DIMENSION){const ee=M.getMatrix();let ne=G>>Je.BLOCK_SIZE_POWER;(G&Je.BLOCK_SIZE_MASK)!==0&&ne++;let fe=q>>Je.BLOCK_SIZE_POWER;(q&Je.BLOCK_SIZE_MASK)!==0&&fe++;const ye=Je.calculateBlackPoints(ee,ne,fe,G,q),ze=new yt(G,q);Je.calculateThresholdForBlock(ee,ne,fe,G,q,ye,ze),this.matrix=ze}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(M){return new Je(M)}static calculateThresholdForBlock(M,G,q,ee,ne,fe,ye){const ze=ne-Je.BLOCK_SIZE,Ge=ee-Je.BLOCK_SIZE;for(let Ye=0;Ye<q;Ye++){let rt=Ye<<Je.BLOCK_SIZE_POWER;rt>ze&&(rt=ze);const st=Je.cap(Ye,2,q-3);for(let ht=0;ht<G;ht++){let xt=ht<<Je.BLOCK_SIZE_POWER;xt>Ge&&(xt=Ge);const vt=Je.cap(ht,2,G-3);let Ct=0;for(let qt=-2;qt<=2;qt++){const Gt=fe[st+qt];Ct+=Gt[vt-2]+Gt[vt-1]+Gt[vt]+Gt[vt+1]+Gt[vt+2]}const Mt=Ct/25;Je.thresholdBlock(M,xt,rt,Mt,ee,ye)}}}static cap(M,G,q){return M<G?G:M>q?q:M}static thresholdBlock(M,G,q,ee,ne,fe){for(let ye=0,ze=q*ne+G;ye<Je.BLOCK_SIZE;ye++,ze+=ne)for(let Ge=0;Ge<Je.BLOCK_SIZE;Ge++)(M[ze+Ge]&255)<=ee&&fe.set(G+Ge,q+ye)}static calculateBlackPoints(M,G,q,ee,ne){const fe=ne-Je.BLOCK_SIZE,ye=ee-Je.BLOCK_SIZE,ze=new Array(q);for(let Ge=0;Ge<q;Ge++){ze[Ge]=new Int32Array(G);let Ye=Ge<<Je.BLOCK_SIZE_POWER;Ye>fe&&(Ye=fe);for(let rt=0;rt<G;rt++){let st=rt<<Je.BLOCK_SIZE_POWER;st>ye&&(st=ye);let ht=0,xt=255,vt=0;for(let Mt=0,qt=Ye*ee+st;Mt<Je.BLOCK_SIZE;Mt++,qt+=ee){for(let Gt=0;Gt<Je.BLOCK_SIZE;Gt++){const Vt=M[qt+Gt]&255;ht+=Vt,Vt<xt&&(xt=Vt),Vt>vt&&(vt=Vt)}if(vt-xt>Je.MIN_DYNAMIC_RANGE)for(Mt++,qt+=ee;Mt<Je.BLOCK_SIZE;Mt++,qt+=ee)for(let Gt=0;Gt<Je.BLOCK_SIZE;Gt++)ht+=M[qt+Gt]&255}let Ct=ht>>Je.BLOCK_SIZE_POWER*2;if(vt-xt<=Je.MIN_DYNAMIC_RANGE&&(Ct=xt/2,Ge>0&&rt>0)){const Mt=(ze[Ge-1][rt]+2*ze[Ge][rt-1]+ze[Ge-1][rt-1])/4;xt<Mt&&(Ct=Mt)}ze[Ge][rt]=Ct}}return ze}}Je.BLOCK_SIZE_POWER=3,Je.BLOCK_SIZE=1<<Je.BLOCK_SIZE_POWER,Je.BLOCK_SIZE_MASK=Je.BLOCK_SIZE-1,Je.MINIMUM_DIMENSION=Je.BLOCK_SIZE*5,Je.MIN_DYNAMIC_RANGE=24;class We{constructor(M,G){this.width=M,this.height=G}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(M,G,q,ee){throw new lt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new lt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new lt("This luminance source does not support rotation by 45 degrees.")}toString(){const M=new Uint8ClampedArray(this.width);let G=new pt;for(let q=0;q<this.height;q++){const ee=this.getRow(q,M);for(let ne=0;ne<this.width;ne++){const fe=ee[ne]&255;let ye;fe<64?ye="#":fe<128?ye="+":fe<192?ye=".":ye=" ",G.append(ye)}G.append(`
`)}return G.toString()}}class Ze extends We{constructor(M){super(M.getWidth(),M.getHeight()),this.delegate=M}getRow(M,G){const q=this.delegate.getRow(M,G),ee=this.getWidth();for(let ne=0;ne<ee;ne++)q[ne]=255-(q[ne]&255);return q}getMatrix(){const M=this.delegate.getMatrix(),G=this.getWidth()*this.getHeight(),q=new Uint8ClampedArray(G);for(let ee=0;ee<G;ee++)q[ee]=255-(M[ee]&255);return q}isCropSupported(){return this.delegate.isCropSupported()}crop(M,G,q,ee){return new Ze(this.delegate.crop(M,G,q,ee))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ze(this.delegate.rotateCounterClockwise45())}}class dt extends We{constructor(M){super(M.width,M.height),this.canvas=M,this.tempCanvasElement=null,this.buffer=dt.makeBufferFromCanvasImageData(M)}static makeBufferFromCanvasImageData(M){const G=M.getContext("2d").getImageData(0,0,M.width,M.height);return dt.toGrayscaleBuffer(G.data,M.width,M.height)}static toGrayscaleBuffer(M,G,q){const ee=new Uint8ClampedArray(G*q);for(let ne=0,fe=0,ye=M.length;ne<ye;ne+=4,fe++){let ze;if(M[ne+3]===0)ze=255;else{const Ye=M[ne],rt=M[ne+1],st=M[ne+2];ze=306*Ye+601*rt+117*st+512>>10}ee[fe]=ze}return ee}getRow(M,G){if(M<0||M>=this.getHeight())throw new J("Requested row is outside the image: "+M);const q=this.getWidth(),ee=M*q;return G===null?G=this.buffer.slice(ee,ee+q):(G.length<q&&(G=new Uint8ClampedArray(q)),G.set(this.buffer.slice(ee,ee+q))),G}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(M,G,q,ee){return super.crop(M,G,q,ee),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const M=this.canvas.ownerDocument.createElement("canvas");M.width=this.canvas.width,M.height=this.canvas.height,this.tempCanvasElement=M}return this.tempCanvasElement}rotate(M){const G=this.getTempCanvasElement(),q=G.getContext("2d"),ee=M*dt.DEGREE_TO_RADIANS,ne=this.canvas.width,fe=this.canvas.height,ye=Math.ceil(Math.abs(Math.cos(ee))*ne+Math.abs(Math.sin(ee))*fe),ze=Math.ceil(Math.abs(Math.sin(ee))*ne+Math.abs(Math.cos(ee))*fe);return G.width=ye,G.height=ze,q.translate(ye/2,ze/2),q.rotate(ee),q.drawImage(this.canvas,ne/-2,fe/-2),this.buffer=dt.makeBufferFromCanvasImageData(G),this}invert(){return new Ze(this)}}dt.DEGREE_TO_RADIANS=Math.PI/180;class et{constructor(M,G,q){this.deviceId=M,this.label=G,this.kind="videoinput",this.groupId=q||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ft=(globalThis||commonjsGlobal||self||window||void 0)&&(globalThis||commonjsGlobal||self||window||void 0).__awaiter||function(nt,M,G,q){function ee(ne){return ne instanceof G?ne:new G(function(fe){fe(ne)})}return new(G||(G=Promise))(function(ne,fe){function ye(Ye){try{Ge(q.next(Ye))}catch(rt){fe(rt)}}function ze(Ye){try{Ge(q.throw(Ye))}catch(rt){fe(rt)}}function Ge(Ye){Ye.done?ne(Ye.value):ee(Ye.value).then(ye,ze)}Ge((q=q.apply(nt,M||[])).next())})};class Et{constructor(M,G=500,q){this.reader=M,this.timeBetweenScansMillis=G,this._hints=q,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(M){this._timeBetweenDecodingAttempts=M<0?0:M}set hints(M){this._hints=M||null}get hints(){return this._hints}listVideoInputDevices(){return ft(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const M=yield navigator.mediaDevices.enumerateDevices(),G=[];for(const q of M){const ee=q.kind==="video"?"videoinput":q.kind;if(ee!=="videoinput")continue;const ne=q.deviceId||q.id,fe=q.label||`Video device ${G.length+1}`,ye=q.groupId,ze={deviceId:ne,label:fe,kind:ee,groupId:ye};G.push(ze)}return G})}getVideoInputDevices(){return ft(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(G=>new et(G.deviceId,G.label))})}findDeviceById(M){return ft(this,void 0,void 0,function*(){const G=yield this.listVideoInputDevices();return G?G.find(q=>q.deviceId===M):null})}decodeFromInputVideoDevice(M,G){return ft(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(M,G)})}decodeOnceFromVideoDevice(M,G){return ft(this,void 0,void 0,function*(){this.reset();let q;M?q={deviceId:{exact:M}}:q={facingMode:"environment"};const ee={video:q};return yield this.decodeOnceFromConstraints(ee,G)})}decodeOnceFromConstraints(M,G){return ft(this,void 0,void 0,function*(){const q=yield navigator.mediaDevices.getUserMedia(M);return yield this.decodeOnceFromStream(q,G)})}decodeOnceFromStream(M,G){return ft(this,void 0,void 0,function*(){this.reset();const q=yield this.attachStreamToVideo(M,G);return yield this.decodeOnce(q)})}decodeFromInputVideoDeviceContinuously(M,G,q){return ft(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(M,G,q)})}decodeFromVideoDevice(M,G,q){return ft(this,void 0,void 0,function*(){let ee;M?ee={deviceId:{exact:M}}:ee={facingMode:"environment"};const ne={video:ee};return yield this.decodeFromConstraints(ne,G,q)})}decodeFromConstraints(M,G,q){return ft(this,void 0,void 0,function*(){const ee=yield navigator.mediaDevices.getUserMedia(M);return yield this.decodeFromStream(ee,G,q)})}decodeFromStream(M,G,q){return ft(this,void 0,void 0,function*(){this.reset();const ee=yield this.attachStreamToVideo(M,G);return yield this.decodeContinuously(ee,q)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(M,G){return ft(this,void 0,void 0,function*(){const q=this.prepareVideoElement(G);return this.addVideoSource(q,M),this.videoElement=q,this.stream=M,yield this.playVideoOnLoadAsync(q),q})}playVideoOnLoadAsync(M){return new Promise((G,q)=>this.playVideoOnLoad(M,()=>G()))}playVideoOnLoad(M,G){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(M),M.addEventListener("ended",this.videoEndedListener),M.addEventListener("canplay",this.videoCanPlayListener),M.addEventListener("playing",G),this.tryPlayVideo(M)}isVideoPlaying(M){return M.currentTime>0&&!M.paused&&!M.ended&&M.readyState>2}tryPlayVideo(M){return ft(this,void 0,void 0,function*(){if(this.isVideoPlaying(M)){console.warn("Trying to play video that is already playing.");return}try{yield M.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(M,G){const q=document.getElementById(M);if(!q)throw new K(`element with id '${M}' not found`);if(q.nodeName.toLowerCase()!==G.toLowerCase())throw new K(`element with id '${M}' must be an ${G} element`);return q}decodeFromImage(M,G){if(!M&&!G)throw new K("either imageElement with a src set or an url must be provided");return G&&!M?this.decodeFromImageUrl(G):this.decodeFromImageElement(M)}decodeFromVideo(M,G){if(!M&&!G)throw new K("Either an element with a src set or an URL must be provided");return G&&!M?this.decodeFromVideoUrl(G):this.decodeFromVideoElement(M)}decodeFromVideoContinuously(M,G,q){if(M===void 0&&G===void 0)throw new K("Either an element with a src set or an URL must be provided");return G&&!M?this.decodeFromVideoUrlContinuously(G,q):this.decodeFromVideoElementContinuously(M,q)}decodeFromImageElement(M){if(!M)throw new K("An image element must be provided.");this.reset();const G=this.prepareImageElement(M);this.imageElement=G;let q;return this.isImageLoaded(G)?q=this.decodeOnce(G,!1,!0):q=this._decodeOnLoadImage(G),q}decodeFromVideoElement(M){const G=this._decodeFromVideoElementSetup(M);return this._decodeOnLoadVideo(G)}decodeFromVideoElementContinuously(M,G){const q=this._decodeFromVideoElementSetup(M);return this._decodeOnLoadVideoContinuously(q,G)}_decodeFromVideoElementSetup(M){if(!M)throw new K("A video element must be provided.");this.reset();const G=this.prepareVideoElement(M);return this.videoElement=G,G}decodeFromImageUrl(M){if(!M)throw new K("An URL must be provided.");this.reset();const G=this.prepareImageElement();this.imageElement=G;const q=this._decodeOnLoadImage(G);return G.src=M,q}decodeFromVideoUrl(M){if(!M)throw new K("An URL must be provided.");this.reset();const G=this.prepareVideoElement(),q=this.decodeFromVideoElement(G);return G.src=M,q}decodeFromVideoUrlContinuously(M,G){if(!M)throw new K("An URL must be provided.");this.reset();const q=this.prepareVideoElement(),ee=this.decodeFromVideoElementContinuously(q,G);return q.src=M,ee}_decodeOnLoadImage(M){return new Promise((G,q)=>{this.imageLoadedListener=()=>this.decodeOnce(M,!1,!0).then(G,q),M.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(M){return ft(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(M),yield this.decodeOnce(M)})}_decodeOnLoadVideoContinuously(M,G){return ft(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(M),this.decodeContinuously(M,G)})}isImageLoaded(M){return!(!M.complete||M.naturalWidth===0)}prepareImageElement(M){let G;return typeof M>"u"&&(G=document.createElement("img"),G.width=200,G.height=200),typeof M=="string"&&(G=this.getMediaElement(M,"img")),M instanceof HTMLImageElement&&(G=M),G}prepareVideoElement(M){let G;return!M&&typeof document<"u"&&(G=document.createElement("video"),G.width=200,G.height=200),typeof M=="string"&&(G=this.getMediaElement(M,"video")),M instanceof HTMLVideoElement&&(G=M),G.setAttribute("autoplay","true"),G.setAttribute("muted","true"),G.setAttribute("playsinline","true"),G}decodeOnce(M,G=!0,q=!0){this._stopAsyncDecode=!1;const ee=(ne,fe)=>{if(this._stopAsyncDecode){fe(new it("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const ye=this.decode(M);ne(ye)}catch(ye){const ze=G&&ye instanceof it,Ye=(ye instanceof ae||ye instanceof He)&&q;if(ze||Ye)return setTimeout(ee,this._timeBetweenDecodingAttempts,ne,fe);fe(ye)}};return new Promise((ne,fe)=>ee(ne,fe))}decodeContinuously(M,G){this._stopContinuousDecode=!1;const q=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const ee=this.decode(M);G(ee,null),setTimeout(q,this.timeBetweenScansMillis)}catch(ee){G(null,ee);const ne=ee instanceof ae||ee instanceof He,fe=ee instanceof it;(ne||fe)&&setTimeout(q,this._timeBetweenDecodingAttempts)}};q()}decode(M){const G=this.createBinaryBitmap(M);return this.decodeBitmap(G)}_isHTMLVideoElement(M){return M.videoWidth!==0}drawFrameOnCanvas(M,G,q){G||(G={sx:0,sy:0,sWidth:M.videoWidth,sHeight:M.videoHeight,dx:0,dy:0,dWidth:M.videoWidth,dHeight:M.videoHeight}),q||(q=this.captureCanvasContext),q.drawImage(M,G.sx,G.sy,G.sWidth,G.sHeight,G.dx,G.dy,G.dWidth,G.dHeight)}drawImageOnCanvas(M,G,q=this.captureCanvasContext){G||(G={sx:0,sy:0,sWidth:M.naturalWidth,sHeight:M.naturalHeight,dx:0,dy:0,dWidth:M.naturalWidth,dHeight:M.naturalHeight}),q||(q=this.captureCanvasContext),q.drawImage(M,G.sx,G.sy,G.sWidth,G.sHeight,G.dx,G.dy,G.dWidth,G.dHeight)}createBinaryBitmap(M){this.getCaptureCanvasContext(M),this._isHTMLVideoElement(M)?this.drawFrameOnCanvas(M):this.drawImageOnCanvas(M);const G=this.getCaptureCanvas(M),q=new dt(G),ee=new Je(q);return new te(ee)}getCaptureCanvasContext(M){if(!this.captureCanvasContext){const q=this.getCaptureCanvas(M).getContext("2d");this.captureCanvasContext=q}return this.captureCanvasContext}getCaptureCanvas(M){if(!this.captureCanvas){const G=this.createCaptureCanvas(M);this.captureCanvas=G}return this.captureCanvas}decodeBitmap(M){return this.reader.decode(M,this._hints)}createCaptureCanvas(M){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const G=document.createElement("canvas");let q,ee;return typeof M<"u"&&(M instanceof HTMLVideoElement?(q=M.videoWidth,ee=M.videoHeight):M instanceof HTMLImageElement&&(q=M.naturalWidth||M.width,ee=M.naturalHeight||M.height)),G.style.width=q+"px",G.style.height=ee+"px",G.width=q,G.height=ee,G}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(M=>M.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(M,G){try{M.srcObject=G}catch{M.src=URL.createObjectURL(G)}}cleanVideoSource(M){try{M.srcObject=null}catch{M.src=""}this.videoElement.removeAttribute("src")}}class St{constructor(M,G,q=G==null?0:8*G.length,ee,ne,fe=pe.currentTimeMillis()){this.text=M,this.rawBytes=G,this.numBits=q,this.resultPoints=ee,this.format=ne,this.timestamp=fe,this.text=M,this.rawBytes=G,q==null?this.numBits=G==null?0:8*G.length:this.numBits=q,this.resultPoints=ee,this.format=ne,this.resultMetadata=null,fe==null?this.timestamp=pe.currentTimeMillis():this.timestamp=fe}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(M,G){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(M,G)}putAllMetadata(M){M!==null&&(this.resultMetadata===null?this.resultMetadata=M:this.resultMetadata=new Map(M))}addResultPoints(M){const G=this.resultPoints;if(G===null)this.resultPoints=M;else if(M!==null&&M.length>0){const q=new Array(G.length+M.length);pe.arraycopy(G,0,q,0,G.length),pe.arraycopy(M,0,q,G.length,M.length),this.resultPoints=q}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Bt;(function(nt){nt[nt.AZTEC=0]="AZTEC",nt[nt.CODABAR=1]="CODABAR",nt[nt.CODE_39=2]="CODE_39",nt[nt.CODE_93=3]="CODE_93",nt[nt.CODE_128=4]="CODE_128",nt[nt.DATA_MATRIX=5]="DATA_MATRIX",nt[nt.EAN_8=6]="EAN_8",nt[nt.EAN_13=7]="EAN_13",nt[nt.ITF=8]="ITF",nt[nt.MAXICODE=9]="MAXICODE",nt[nt.PDF_417=10]="PDF_417",nt[nt.QR_CODE=11]="QR_CODE",nt[nt.RSS_14=12]="RSS_14",nt[nt.RSS_EXPANDED=13]="RSS_EXPANDED",nt[nt.UPC_A=14]="UPC_A",nt[nt.UPC_E=15]="UPC_E",nt[nt.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bt||(Bt={}));var Rt=Bt,Yt;(function(nt){nt[nt.OTHER=0]="OTHER",nt[nt.ORIENTATION=1]="ORIENTATION",nt[nt.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",nt[nt.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",nt[nt.ISSUE_NUMBER=4]="ISSUE_NUMBER",nt[nt.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",nt[nt.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",nt[nt.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",nt[nt.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",nt[nt.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",nt[nt.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Yt||(Yt={}));var nn=Yt;class mn{constructor(M,G,q,ee,ne=-1,fe=-1){this.rawBytes=M,this.text=G,this.byteSegments=q,this.ecLevel=ee,this.structuredAppendSequenceNumber=ne,this.structuredAppendParity=fe,this.numBits=M==null?0:8*M.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(M){this.numBits=M}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(M){this.errorsCorrected=M}getErasures(){return this.erasures}setErasures(M){this.erasures=M}getOther(){return this.other}setOther(M){this.other=M}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fn{exp(M){return this.expTable[M]}log(M){if(M===0)throw new J;return this.logTable[M]}static addOrSubtract(M,G){return M^G}}class dn{constructor(M,G){if(G.length===0)throw new J;this.field=M;const q=G.length;if(q>1&&G[0]===0){let ee=1;for(;ee<q&&G[ee]===0;)ee++;ee===q?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(q-ee),pe.arraycopy(G,ee,this.coefficients,0,this.coefficients.length))}else this.coefficients=G}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(M){return this.coefficients[this.coefficients.length-1-M]}evaluateAt(M){if(M===0)return this.getCoefficient(0);const G=this.coefficients;let q;if(M===1){q=0;for(let fe=0,ye=G.length;fe!==ye;fe++){const ze=G[fe];q=Fn.addOrSubtract(q,ze)}return q}q=G[0];const ee=G.length,ne=this.field;for(let fe=1;fe<ee;fe++)q=Fn.addOrSubtract(ne.multiply(M,q),G[fe]);return q}addOrSubtract(M){if(!this.field.equals(M.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero())return M;if(M.isZero())return this;let G=this.coefficients,q=M.coefficients;if(G.length>q.length){const fe=G;G=q,q=fe}let ee=new Int32Array(q.length);const ne=q.length-G.length;pe.arraycopy(q,0,ee,0,ne);for(let fe=ne;fe<q.length;fe++)ee[fe]=Fn.addOrSubtract(G[fe-ne],q[fe]);return new dn(this.field,ee)}multiply(M){if(!this.field.equals(M.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero()||M.isZero())return this.field.getZero();const G=this.coefficients,q=G.length,ee=M.coefficients,ne=ee.length,fe=new Int32Array(q+ne-1),ye=this.field;for(let ze=0;ze<q;ze++){const Ge=G[ze];for(let Ye=0;Ye<ne;Ye++)fe[ze+Ye]=Fn.addOrSubtract(fe[ze+Ye],ye.multiply(Ge,ee[Ye]))}return new dn(ye,fe)}multiplyScalar(M){if(M===0)return this.field.getZero();if(M===1)return this;const G=this.coefficients.length,q=this.field,ee=new Int32Array(G),ne=this.coefficients;for(let fe=0;fe<G;fe++)ee[fe]=q.multiply(ne[fe],M);return new dn(q,ee)}multiplyByMonomial(M,G){if(M<0)throw new J;if(G===0)return this.field.getZero();const q=this.coefficients,ee=q.length,ne=new Int32Array(ee+M),fe=this.field;for(let ye=0;ye<ee;ye++)ne[ye]=fe.multiply(q[ye],G);return new dn(fe,ne)}divide(M){if(!this.field.equals(M.field))throw new J("GenericGFPolys do not have same GenericGF field");if(M.isZero())throw new J("Divide by 0");const G=this.field;let q=G.getZero(),ee=this;const ne=M.getCoefficient(M.getDegree()),fe=G.inverse(ne);for(;ee.getDegree()>=M.getDegree()&&!ee.isZero();){const ye=ee.getDegree()-M.getDegree(),ze=G.multiply(ee.getCoefficient(ee.getDegree()),fe),Ge=M.multiplyByMonomial(ye,ze),Ye=G.buildMonomial(ye,ze);q=q.addOrSubtract(Ye),ee=ee.addOrSubtract(Ge)}return[q,ee]}toString(){let M="";for(let G=this.getDegree();G>=0;G--){let q=this.getCoefficient(G);if(q!==0){if(q<0?(M+=" - ",q=-q):M.length>0&&(M+=" + "),G===0||q!==1){const ee=this.field.log(q);ee===0?M+="1":ee===1?M+="a":(M+="a^",M+=ee)}G!==0&&(G===1?M+="x":(M+="x^",M+=G))}}return M}}class Gn extends U{}Gn.kind="ArithmeticException";class tn extends Fn{constructor(M,G,q){super(),this.primitive=M,this.size=G,this.generatorBase=q;const ee=new Int32Array(G);let ne=1;for(let ye=0;ye<G;ye++)ee[ye]=ne,ne*=2,ne>=G&&(ne^=M,ne&=G-1);this.expTable=ee;const fe=new Int32Array(G);for(let ye=0;ye<G-1;ye++)fe[ee[ye]]=ye;this.logTable=fe,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(M,G){if(M<0)throw new J;if(G===0)return this.zero;const q=new Int32Array(M+1);return q[0]=G,new dn(this,q)}inverse(M){if(M===0)throw new Gn;return this.expTable[this.size-this.logTable[M]-1]}multiply(M,G){return M===0||G===0?0:this.expTable[(this.logTable[M]+this.logTable[G])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_e.toHexString(this.primitive)+","+this.size+")"}equals(M){return M===this}}tn.AZTEC_DATA_12=new tn(4201,4096,1),tn.AZTEC_DATA_10=new tn(1033,1024,1),tn.AZTEC_DATA_6=new tn(67,64,1),tn.AZTEC_PARAM=new tn(19,16,1),tn.QR_CODE_FIELD_256=new tn(285,256,0),tn.DATA_MATRIX_FIELD_256=new tn(301,256,1),tn.AZTEC_DATA_8=tn.DATA_MATRIX_FIELD_256,tn.MAXICODE_FIELD_64=tn.AZTEC_DATA_6;class Qt extends U{}Qt.kind="ReedSolomonException";class Kn extends U{}Kn.kind="IllegalStateException";class Nr{constructor(M){this.field=M}decode(M,G){const q=this.field,ee=new dn(q,M),ne=new Int32Array(G);let fe=!0;for(let ht=0;ht<G;ht++){const xt=ee.evaluateAt(q.exp(ht+q.getGeneratorBase()));ne[ne.length-1-ht]=xt,xt!==0&&(fe=!1)}if(fe)return;const ye=new dn(q,ne),ze=this.runEuclideanAlgorithm(q.buildMonomial(G,1),ye,G),Ge=ze[0],Ye=ze[1],rt=this.findErrorLocations(Ge),st=this.findErrorMagnitudes(Ye,rt);for(let ht=0;ht<rt.length;ht++){const xt=M.length-1-q.log(rt[ht]);if(xt<0)throw new Qt("Bad error location");M[xt]=tn.addOrSubtract(M[xt],st[ht])}}runEuclideanAlgorithm(M,G,q){if(M.getDegree()<G.getDegree()){const ht=M;M=G,G=ht}const ee=this.field;let ne=M,fe=G,ye=ee.getZero(),ze=ee.getOne();for(;fe.getDegree()>=(q/2|0);){let ht=ne,xt=ye;if(ne=fe,ye=ze,ne.isZero())throw new Qt("r_{i-1} was zero");fe=ht;let vt=ee.getZero();const Ct=ne.getCoefficient(ne.getDegree()),Mt=ee.inverse(Ct);for(;fe.getDegree()>=ne.getDegree()&&!fe.isZero();){const qt=fe.getDegree()-ne.getDegree(),Gt=ee.multiply(fe.getCoefficient(fe.getDegree()),Mt);vt=vt.addOrSubtract(ee.buildMonomial(qt,Gt)),fe=fe.addOrSubtract(ne.multiplyByMonomial(qt,Gt))}if(ze=vt.multiply(ye).addOrSubtract(xt),fe.getDegree()>=ne.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const Ge=ze.getCoefficient(0);if(Ge===0)throw new Qt("sigmaTilde(0) was zero");const Ye=ee.inverse(Ge),rt=ze.multiplyScalar(Ye),st=fe.multiplyScalar(Ye);return[rt,st]}findErrorLocations(M){const G=M.getDegree();if(G===1)return Int32Array.from([M.getCoefficient(1)]);const q=new Int32Array(G);let ee=0;const ne=this.field;for(let fe=1;fe<ne.getSize()&&ee<G;fe++)M.evaluateAt(fe)===0&&(q[ee]=ne.inverse(fe),ee++);if(ee!==G)throw new Qt("Error locator degree does not match number of roots");return q}findErrorMagnitudes(M,G){const q=G.length,ee=new Int32Array(q),ne=this.field;for(let fe=0;fe<q;fe++){const ye=ne.inverse(G[fe]);let ze=1;for(let Ge=0;Ge<q;Ge++)if(fe!==Ge){const Ye=ne.multiply(G[Ge],ye),rt=(Ye&1)===0?Ye|1:Ye&-2;ze=ne.multiply(ze,rt)}ee[fe]=ne.multiply(M.evaluateAt(ye),ne.inverse(ze)),ne.getGeneratorBase()!==0&&(ee[fe]=ne.multiply(ee[fe],ye))}return ee}}var zn;(function(nt){nt[nt.UPPER=0]="UPPER",nt[nt.LOWER=1]="LOWER",nt[nt.MIXED=2]="MIXED",nt[nt.DIGIT=3]="DIGIT",nt[nt.PUNCT=4]="PUNCT",nt[nt.BINARY=5]="BINARY"})(zn||(zn={}));class _n{decode(M){this.ddata=M;let G=M.getBits(),q=this.extractBits(G),ee=this.correctBits(q),ne=_n.convertBoolArrayToByteArray(ee),fe=_n.getEncodedData(ee),ye=new mn(ne,fe,null,null);return ye.setNumBits(ee.length),ye}static highLevelDecode(M){return this.getEncodedData(M)}static getEncodedData(M){let G=M.length,q=zn.UPPER,ee=zn.UPPER,ne="",fe=0;for(;fe<G;)if(ee===zn.BINARY){if(G-fe<5)break;let ye=_n.readCode(M,fe,5);if(fe+=5,ye===0){if(G-fe<11)break;ye=_n.readCode(M,fe,11)+31,fe+=11}for(let ze=0;ze<ye;ze++){if(G-fe<8){fe=G;break}const Ge=_n.readCode(M,fe,8);ne+=ot.castAsNonUtf8Char(Ge),fe+=8}ee=q}else{let ye=ee===zn.DIGIT?4:5;if(G-fe<ye)break;let ze=_n.readCode(M,fe,ye);fe+=ye;let Ge=_n.getCharacter(ee,ze);Ge.startsWith("CTRL_")?(q=ee,ee=_n.getTable(Ge.charAt(5)),Ge.charAt(6)==="L"&&(q=ee)):(ne+=Ge,ee=q)}return ne}static getTable(M){switch(M){case"L":return zn.LOWER;case"P":return zn.PUNCT;case"M":return zn.MIXED;case"D":return zn.DIGIT;case"B":return zn.BINARY;case"U":default:return zn.UPPER}}static getCharacter(M,G){switch(M){case zn.UPPER:return _n.UPPER_TABLE[G];case zn.LOWER:return _n.LOWER_TABLE[G];case zn.MIXED:return _n.MIXED_TABLE[G];case zn.PUNCT:return _n.PUNCT_TABLE[G];case zn.DIGIT:return _n.DIGIT_TABLE[G];default:throw new Kn("Bad table")}}correctBits(M){let G,q;this.ddata.getNbLayers()<=2?(q=6,G=tn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(q=8,G=tn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(q=10,G=tn.AZTEC_DATA_10):(q=12,G=tn.AZTEC_DATA_12);let ee=this.ddata.getNbDatablocks(),ne=M.length/q;if(ne<ee)throw new He;let fe=M.length%q,ye=new Int32Array(ne);for(let st=0;st<ne;st++,fe+=q)ye[st]=_n.readCode(M,fe,q);try{new Nr(G).decode(ye,ne-ee)}catch(st){throw new He(st)}let ze=(1<<q)-1,Ge=0;for(let st=0;st<ee;st++){let ht=ye[st];if(ht===0||ht===ze)throw new He;(ht===1||ht===ze-1)&&Ge++}let Ye=new Array(ee*q-Ge),rt=0;for(let st=0;st<ee;st++){let ht=ye[st];if(ht===1||ht===ze-1)Ye.fill(ht>1,rt,rt+q-1),rt+=q-1;else for(let xt=q-1;xt>=0;--xt)Ye[rt++]=(ht&1<<xt)!==0}return Ye}extractBits(M){let G=this.ddata.isCompact(),q=this.ddata.getNbLayers(),ee=(G?11:14)+q*4,ne=new Int32Array(ee),fe=new Array(this.totalBitsInLayer(q,G));if(G)for(let ye=0;ye<ne.length;ye++)ne[ye]=ye;else{let ye=ee+1+2*_e.truncDivision(_e.truncDivision(ee,2)-1,15),ze=ee/2,Ge=_e.truncDivision(ye,2);for(let Ye=0;Ye<ze;Ye++){let rt=Ye+_e.truncDivision(Ye,15);ne[ze-Ye-1]=Ge-rt-1,ne[ze+Ye]=Ge+rt+1}}for(let ye=0,ze=0;ye<q;ye++){let Ge=(q-ye)*4+(G?9:12),Ye=ye*2,rt=ee-1-Ye;for(let st=0;st<Ge;st++){let ht=st*2;for(let xt=0;xt<2;xt++)fe[ze+ht+xt]=M.get(ne[Ye+xt],ne[Ye+st]),fe[ze+2*Ge+ht+xt]=M.get(ne[Ye+st],ne[rt-xt]),fe[ze+4*Ge+ht+xt]=M.get(ne[rt-xt],ne[rt-st]),fe[ze+6*Ge+ht+xt]=M.get(ne[rt-st],ne[Ye+xt])}ze+=Ge*8}return fe}static readCode(M,G,q){let ee=0;for(let ne=G;ne<G+q;ne++)ee<<=1,M[ne]&&(ee|=1);return ee}static readByte(M,G){let q=M.length-G;return q>=8?_n.readCode(M,G,8):_n.readCode(M,G,q)<<8-q}static convertBoolArrayToByteArray(M){let G=new Uint8Array((M.length+7)/8);for(let q=0;q<G.length;q++)G[q]=_n.readByte(M,8*q);return G}totalBitsInLayer(M,G){return((G?88:112)+16*M)*M}}_n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_n.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class pn{constructor(){}static round(M){return M===NaN?0:M<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:M>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:M+(M<0?-.5:.5)|0}static distance(M,G,q,ee){const ne=M-q,fe=G-ee;return Math.sqrt(ne*ne+fe*fe)}static sum(M){let G=0;for(let q=0,ee=M.length;q!==ee;q++){const ne=M[q];G+=ne}return G}}class br{static floatToIntBits(M){return M}}br.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Kt{constructor(M,G){this.x=M,this.y=G}getX(){return this.x}getY(){return this.y}equals(M){if(M instanceof Kt){const G=M;return this.x===G.x&&this.y===G.y}return!1}hashCode(){return 31*br.floatToIntBits(this.x)+br.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(M){const G=this.distance(M[0],M[1]),q=this.distance(M[1],M[2]),ee=this.distance(M[0],M[2]);let ne,fe,ye;if(q>=G&&q>=ee?(fe=M[0],ne=M[1],ye=M[2]):ee>=q&&ee>=G?(fe=M[1],ne=M[0],ye=M[2]):(fe=M[2],ne=M[0],ye=M[1]),this.crossProductZ(ne,fe,ye)<0){const ze=ne;ne=ye,ye=ze}M[0]=ne,M[1]=fe,M[2]=ye}static distance(M,G){return pn.distance(M.x,M.y,G.x,G.y)}static crossProductZ(M,G,q){const ee=G.x,ne=G.y;return(q.x-ee)*(M.y-ne)-(q.y-ne)*(M.x-ee)}}class Wr{constructor(M,G){this.bits=M,this.points=G}getBits(){return this.bits}getPoints(){return this.points}}class Mr extends Wr{constructor(M,G,q,ee,ne){super(M,G),this.compact=q,this.nbDatablocks=ee,this.nbLayers=ne}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ht{constructor(M,G,q,ee){this.image=M,this.height=M.getHeight(),this.width=M.getWidth(),G==null&&(G=Ht.INIT_SIZE),q==null&&(q=M.getWidth()/2|0),ee==null&&(ee=M.getHeight()/2|0);const ne=G/2|0;if(this.leftInit=q-ne,this.rightInit=q+ne,this.upInit=ee-ne,this.downInit=ee+ne,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new it}detect(){let M=this.leftInit,G=this.rightInit,q=this.upInit,ee=this.downInit,ne=!1,fe=!0,ye=!1,ze=!1,Ge=!1,Ye=!1,rt=!1;const st=this.width,ht=this.height;for(;fe;){fe=!1;let xt=!0;for(;(xt||!ze)&&G<st;)xt=this.containsBlackPoint(q,ee,G,!1),xt?(G++,fe=!0,ze=!0):ze||G++;if(G>=st){ne=!0;break}let vt=!0;for(;(vt||!Ge)&&ee<ht;)vt=this.containsBlackPoint(M,G,ee,!0),vt?(ee++,fe=!0,Ge=!0):Ge||ee++;if(ee>=ht){ne=!0;break}let Ct=!0;for(;(Ct||!Ye)&&M>=0;)Ct=this.containsBlackPoint(q,ee,M,!1),Ct?(M--,fe=!0,Ye=!0):Ye||M--;if(M<0){ne=!0;break}let Mt=!0;for(;(Mt||!rt)&&q>=0;)Mt=this.containsBlackPoint(M,G,q,!0),Mt?(q--,fe=!0,rt=!0):rt||q--;if(q<0){ne=!0;break}fe&&(ye=!0)}if(!ne&&ye){const xt=G-M;let vt=null;for(let Gt=1;vt===null&&Gt<xt;Gt++)vt=this.getBlackPointOnSegment(M,ee-Gt,M+Gt,ee);if(vt==null)throw new it;let Ct=null;for(let Gt=1;Ct===null&&Gt<xt;Gt++)Ct=this.getBlackPointOnSegment(M,q+Gt,M+Gt,q);if(Ct==null)throw new it;let Mt=null;for(let Gt=1;Mt===null&&Gt<xt;Gt++)Mt=this.getBlackPointOnSegment(G,q+Gt,G-Gt,q);if(Mt==null)throw new it;let qt=null;for(let Gt=1;qt===null&&Gt<xt;Gt++)qt=this.getBlackPointOnSegment(G,ee-Gt,G-Gt,ee);if(qt==null)throw new it;return this.centerEdges(qt,vt,Mt,Ct)}else throw new it}getBlackPointOnSegment(M,G,q,ee){const ne=pn.round(pn.distance(M,G,q,ee)),fe=(q-M)/ne,ye=(ee-G)/ne,ze=this.image;for(let Ge=0;Ge<ne;Ge++){const Ye=pn.round(M+Ge*fe),rt=pn.round(G+Ge*ye);if(ze.get(Ye,rt))return new Kt(Ye,rt)}return null}centerEdges(M,G,q,ee){const ne=M.getX(),fe=M.getY(),ye=G.getX(),ze=G.getY(),Ge=q.getX(),Ye=q.getY(),rt=ee.getX(),st=ee.getY(),ht=Ht.CORR;return ne<this.width/2?[new Kt(rt-ht,st+ht),new Kt(ye+ht,ze+ht),new Kt(Ge-ht,Ye-ht),new Kt(ne+ht,fe-ht)]:[new Kt(rt+ht,st+ht),new Kt(ye+ht,ze-ht),new Kt(Ge-ht,Ye+ht),new Kt(ne-ht,fe-ht)]}containsBlackPoint(M,G,q,ee){const ne=this.image;if(ee){for(let fe=M;fe<=G;fe++)if(ne.get(fe,q))return!0}else for(let fe=M;fe<=G;fe++)if(ne.get(q,fe))return!0;return!1}}Ht.INIT_SIZE=10,Ht.CORR=1;class sn{static checkAndNudgePoints(M,G){const q=M.getWidth(),ee=M.getHeight();let ne=!0;for(let fe=0;fe<G.length&&ne;fe+=2){const ye=Math.floor(G[fe]),ze=Math.floor(G[fe+1]);if(ye<-1||ye>q||ze<-1||ze>ee)throw new it;ne=!1,ye===-1?(G[fe]=0,ne=!0):ye===q&&(G[fe]=q-1,ne=!0),ze===-1?(G[fe+1]=0,ne=!0):ze===ee&&(G[fe+1]=ee-1,ne=!0)}ne=!0;for(let fe=G.length-2;fe>=0&&ne;fe-=2){const ye=Math.floor(G[fe]),ze=Math.floor(G[fe+1]);if(ye<-1||ye>q||ze<-1||ze>ee)throw new it;ne=!1,ye===-1?(G[fe]=0,ne=!0):ye===q&&(G[fe]=q-1,ne=!0),ze===-1?(G[fe+1]=0,ne=!0):ze===ee&&(G[fe+1]=ee-1,ne=!0)}}}class yn{constructor(M,G,q,ee,ne,fe,ye,ze,Ge){this.a11=M,this.a21=G,this.a31=q,this.a12=ee,this.a22=ne,this.a32=fe,this.a13=ye,this.a23=ze,this.a33=Ge}static quadrilateralToQuadrilateral(M,G,q,ee,ne,fe,ye,ze,Ge,Ye,rt,st,ht,xt,vt,Ct){const Mt=yn.quadrilateralToSquare(M,G,q,ee,ne,fe,ye,ze);return yn.squareToQuadrilateral(Ge,Ye,rt,st,ht,xt,vt,Ct).times(Mt)}transformPoints(M){const G=M.length,q=this.a11,ee=this.a12,ne=this.a13,fe=this.a21,ye=this.a22,ze=this.a23,Ge=this.a31,Ye=this.a32,rt=this.a33;for(let st=0;st<G;st+=2){const ht=M[st],xt=M[st+1],vt=ne*ht+ze*xt+rt;M[st]=(q*ht+fe*xt+Ge)/vt,M[st+1]=(ee*ht+ye*xt+Ye)/vt}}transformPointsWithValues(M,G){const q=this.a11,ee=this.a12,ne=this.a13,fe=this.a21,ye=this.a22,ze=this.a23,Ge=this.a31,Ye=this.a32,rt=this.a33,st=M.length;for(let ht=0;ht<st;ht++){const xt=M[ht],vt=G[ht],Ct=ne*xt+ze*vt+rt;M[ht]=(q*xt+fe*vt+Ge)/Ct,G[ht]=(ee*xt+ye*vt+Ye)/Ct}}static squareToQuadrilateral(M,G,q,ee,ne,fe,ye,ze){const Ge=M-q+ne-ye,Ye=G-ee+fe-ze;if(Ge===0&&Ye===0)return new yn(q-M,ne-q,M,ee-G,fe-ee,G,0,0,1);{const rt=q-ne,st=ye-ne,ht=ee-fe,xt=ze-fe,vt=rt*xt-st*ht,Ct=(Ge*xt-st*Ye)/vt,Mt=(rt*Ye-Ge*ht)/vt;return new yn(q-M+Ct*q,ye-M+Mt*ye,M,ee-G+Ct*ee,ze-G+Mt*ze,G,Ct,Mt,1)}}static quadrilateralToSquare(M,G,q,ee,ne,fe,ye,ze){return yn.squareToQuadrilateral(M,G,q,ee,ne,fe,ye,ze).buildAdjoint()}buildAdjoint(){return new yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(M){return new yn(this.a11*M.a11+this.a21*M.a12+this.a31*M.a13,this.a11*M.a21+this.a21*M.a22+this.a31*M.a23,this.a11*M.a31+this.a21*M.a32+this.a31*M.a33,this.a12*M.a11+this.a22*M.a12+this.a32*M.a13,this.a12*M.a21+this.a22*M.a22+this.a32*M.a23,this.a12*M.a31+this.a22*M.a32+this.a32*M.a33,this.a13*M.a11+this.a23*M.a12+this.a33*M.a13,this.a13*M.a21+this.a23*M.a22+this.a33*M.a23,this.a13*M.a31+this.a23*M.a32+this.a33*M.a33)}}class An extends sn{sampleGrid(M,G,q,ee,ne,fe,ye,ze,Ge,Ye,rt,st,ht,xt,vt,Ct,Mt,qt,Gt){const Vt=yn.quadrilateralToQuadrilateral(ee,ne,fe,ye,ze,Ge,Ye,rt,st,ht,xt,vt,Ct,Mt,qt,Gt);return this.sampleGridWithTransform(M,G,q,Vt)}sampleGridWithTransform(M,G,q,ee){if(G<=0||q<=0)throw new it;const ne=new yt(G,q),fe=new Float32Array(2*G);for(let ye=0;ye<q;ye++){const ze=fe.length,Ge=ye+.5;for(let Ye=0;Ye<ze;Ye+=2)fe[Ye]=Ye/2+.5,fe[Ye+1]=Ge;ee.transformPoints(fe),sn.checkAndNudgePoints(M,fe);try{for(let Ye=0;Ye<ze;Ye+=2)M.get(Math.floor(fe[Ye]),Math.floor(fe[Ye+1]))&&ne.set(Ye/2,ye)}catch{throw new it}}return ne}}class In{static setGridSampler(M){In.gridSampler=M}static getInstance(){return In.gridSampler}}In.gridSampler=new An;class rr{constructor(M,G){this.x=M,this.y=G}toResultPoint(){return new Kt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Yr{constructor(M){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=M}detect(){return this.detectMirror(!1)}detectMirror(M){let G=this.getMatrixCenter(),q=this.getBullsEyeCorners(G);if(M){let fe=q[0];q[0]=q[2],q[2]=fe}this.extractParameters(q);let ee=this.sampleGrid(this.image,q[this.shift%4],q[(this.shift+1)%4],q[(this.shift+2)%4],q[(this.shift+3)%4]),ne=this.getMatrixCornerPoints(q);return new Mr(ee,ne,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(M){if(!this.isValidPoint(M[0])||!this.isValidPoint(M[1])||!this.isValidPoint(M[2])||!this.isValidPoint(M[3]))throw new it;let G=2*this.nbCenterLayers,q=new Int32Array([this.sampleLine(M[0],M[1],G),this.sampleLine(M[1],M[2],G),this.sampleLine(M[2],M[3],G),this.sampleLine(M[3],M[0],G)]);this.shift=this.getRotation(q,G);let ee=0;for(let fe=0;fe<4;fe++){let ye=q[(this.shift+fe)%4];this.compact?(ee<<=7,ee+=ye>>1&127):(ee<<=10,ee+=(ye>>2&992)+(ye>>1&31))}let ne=this.getCorrectedParameterData(ee,this.compact);this.compact?(this.nbLayers=(ne>>6)+1,this.nbDataBlocks=(ne&63)+1):(this.nbLayers=(ne>>11)+1,this.nbDataBlocks=(ne&2047)+1)}getRotation(M,G){let q=0;M.forEach((ee,ne,fe)=>{let ye=(ee>>G-2<<1)+(ee&1);q=(q<<3)+ye}),q=((q&1)<<11)+(q>>1);for(let ee=0;ee<4;ee++)if(_e.bitCount(q^this.EXPECTED_CORNER_BITS[ee])<=2)return ee;throw new it}getCorrectedParameterData(M,G){let q,ee;G?(q=7,ee=2):(q=10,ee=4);let ne=q-ee,fe=new Int32Array(q);for(let ze=q-1;ze>=0;--ze)fe[ze]=M&15,M>>=4;try{new Nr(tn.AZTEC_PARAM).decode(fe,ne)}catch{throw new it}let ye=0;for(let ze=0;ze<ee;ze++)ye=(ye<<4)+fe[ze];return ye}getBullsEyeCorners(M){let G=M,q=M,ee=M,ne=M,fe=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let rt=this.getFirstDifferent(G,fe,1,-1),st=this.getFirstDifferent(q,fe,1,1),ht=this.getFirstDifferent(ee,fe,-1,1),xt=this.getFirstDifferent(ne,fe,-1,-1);if(this.nbCenterLayers>2){let vt=this.distancePoint(xt,rt)*this.nbCenterLayers/(this.distancePoint(ne,G)*(this.nbCenterLayers+2));if(vt<.75||vt>1.25||!this.isWhiteOrBlackRectangle(rt,st,ht,xt))break}G=rt,q=st,ee=ht,ne=xt,fe=!fe}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new it;this.compact=this.nbCenterLayers===5;let ye=new Kt(G.getX()+.5,G.getY()-.5),ze=new Kt(q.getX()+.5,q.getY()+.5),Ge=new Kt(ee.getX()-.5,ee.getY()+.5),Ye=new Kt(ne.getX()-.5,ne.getY()-.5);return this.expandSquare([ye,ze,Ge,Ye],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let M,G,q,ee;try{let ye=new Ht(this.image).detect();M=ye[0],G=ye[1],q=ye[2],ee=ye[3]}catch{let ze=this.image.getWidth()/2,Ge=this.image.getHeight()/2;M=this.getFirstDifferent(new rr(ze+7,Ge-7),!1,1,-1).toResultPoint(),G=this.getFirstDifferent(new rr(ze+7,Ge+7),!1,1,1).toResultPoint(),q=this.getFirstDifferent(new rr(ze-7,Ge+7),!1,-1,1).toResultPoint(),ee=this.getFirstDifferent(new rr(ze-7,Ge-7),!1,-1,-1).toResultPoint()}let ne=pn.round((M.getX()+ee.getX()+G.getX()+q.getX())/4),fe=pn.round((M.getY()+ee.getY()+G.getY()+q.getY())/4);try{let ye=new Ht(this.image,15,ne,fe).detect();M=ye[0],G=ye[1],q=ye[2],ee=ye[3]}catch{M=this.getFirstDifferent(new rr(ne+7,fe-7),!1,1,-1).toResultPoint(),G=this.getFirstDifferent(new rr(ne+7,fe+7),!1,1,1).toResultPoint(),q=this.getFirstDifferent(new rr(ne-7,fe+7),!1,-1,1).toResultPoint(),ee=this.getFirstDifferent(new rr(ne-7,fe-7),!1,-1,-1).toResultPoint()}return ne=pn.round((M.getX()+ee.getX()+G.getX()+q.getX())/4),fe=pn.round((M.getY()+ee.getY()+G.getY()+q.getY())/4),new rr(ne,fe)}getMatrixCornerPoints(M){return this.expandSquare(M,2*this.nbCenterLayers,this.getDimension())}sampleGrid(M,G,q,ee,ne){let fe=In.getInstance(),ye=this.getDimension(),ze=ye/2-this.nbCenterLayers,Ge=ye/2+this.nbCenterLayers;return fe.sampleGrid(M,ye,ye,ze,ze,Ge,ze,Ge,Ge,ze,Ge,G.getX(),G.getY(),q.getX(),q.getY(),ee.getX(),ee.getY(),ne.getX(),ne.getY())}sampleLine(M,G,q){let ee=0,ne=this.distanceResultPoint(M,G),fe=ne/q,ye=M.getX(),ze=M.getY(),Ge=fe*(G.getX()-M.getX())/ne,Ye=fe*(G.getY()-M.getY())/ne;for(let rt=0;rt<q;rt++)this.image.get(pn.round(ye+rt*Ge),pn.round(ze+rt*Ye))&&(ee|=1<<q-rt-1);return ee}isWhiteOrBlackRectangle(M,G,q,ee){let ne=3;M=new rr(M.getX()-ne,M.getY()+ne),G=new rr(G.getX()-ne,G.getY()-ne),q=new rr(q.getX()+ne,q.getY()-ne),ee=new rr(ee.getX()+ne,ee.getY()+ne);let fe=this.getColor(ee,M);if(fe===0)return!1;let ye=this.getColor(M,G);return ye!==fe||(ye=this.getColor(G,q),ye!==fe)?!1:(ye=this.getColor(q,ee),ye===fe)}getColor(M,G){let q=this.distancePoint(M,G),ee=(G.getX()-M.getX())/q,ne=(G.getY()-M.getY())/q,fe=0,ye=M.getX(),ze=M.getY(),Ge=this.image.get(M.getX(),M.getY()),Ye=Math.ceil(q);for(let st=0;st<Ye;st++)ye+=ee,ze+=ne,this.image.get(pn.round(ye),pn.round(ze))!==Ge&&fe++;let rt=fe/q;return rt>.1&&rt<.9?0:rt<=.1===Ge?1:-1}getFirstDifferent(M,G,q,ee){let ne=M.getX()+q,fe=M.getY()+ee;for(;this.isValid(ne,fe)&&this.image.get(ne,fe)===G;)ne+=q,fe+=ee;for(ne-=q,fe-=ee;this.isValid(ne,fe)&&this.image.get(ne,fe)===G;)ne+=q;for(ne-=q;this.isValid(ne,fe)&&this.image.get(ne,fe)===G;)fe+=ee;return fe-=ee,new rr(ne,fe)}expandSquare(M,G,q){let ee=q/(2*G),ne=M[0].getX()-M[2].getX(),fe=M[0].getY()-M[2].getY(),ye=(M[0].getX()+M[2].getX())/2,ze=(M[0].getY()+M[2].getY())/2,Ge=new Kt(ye+ee*ne,ze+ee*fe),Ye=new Kt(ye-ee*ne,ze-ee*fe);ne=M[1].getX()-M[3].getX(),fe=M[1].getY()-M[3].getY(),ye=(M[1].getX()+M[3].getX())/2,ze=(M[1].getY()+M[3].getY())/2;let rt=new Kt(ye+ee*ne,ze+ee*fe),st=new Kt(ye-ee*ne,ze-ee*fe);return[Ge,rt,Ye,st]}isValid(M,G){return M>=0&&M<this.image.getWidth()&&G>0&&G<this.image.getHeight()}isValidPoint(M){let G=pn.round(M.getX()),q=pn.round(M.getY());return this.isValid(G,q)}distancePoint(M,G){return pn.distance(M.getX(),M.getY(),G.getX(),G.getY())}distanceResultPoint(M,G){return pn.distance(M.getX(),M.getY(),G.getX(),G.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_e.truncDivision(this.nbLayers-4,8)+1)+15}}class hi{decode(M,G=null){let q=null,ee=new Yr(M.getBlackMatrix()),ne=null,fe=null;try{let Ye=ee.detectMirror(!1);ne=Ye.getPoints(),this.reportFoundResultPoints(G,ne),fe=new _n().decode(Ye)}catch(Ye){q=Ye}if(fe==null)try{let Ye=ee.detectMirror(!0);ne=Ye.getPoints(),this.reportFoundResultPoints(G,ne),fe=new _n().decode(Ye)}catch(Ye){throw q??Ye}let ye=new St(fe.getText(),fe.getRawBytes(),fe.getNumBits(),ne,Rt.AZTEC,pe.currentTimeMillis()),ze=fe.getByteSegments();ze!=null&&ye.putMetadata(nn.BYTE_SEGMENTS,ze);let Ge=fe.getECLevel();return Ge!=null&&ye.putMetadata(nn.ERROR_CORRECTION_LEVEL,Ge),ye}reportFoundResultPoints(M,G){if(M!=null){let q=M.get(Ue.NEED_RESULT_POINT_CALLBACK);q!=null&&G.forEach((ee,ne,fe)=>{q.foundPossibleResultPoint(ee)})}}reset(){}}class gs extends Et{constructor(M=500){super(new hi,M)}}class Dn{decode(M,G){try{return this.doDecode(M,G)}catch{if(G&&G.get(Ue.TRY_HARDER)===!0&&M.isRotateSupported()){const ne=M.rotateCounterClockwise(),fe=this.doDecode(ne,G),ye=fe.getResultMetadata();let ze=270;ye!==null&&ye.get(nn.ORIENTATION)===!0&&(ze=ze+ye.get(nn.ORIENTATION)%360),fe.putMetadata(nn.ORIENTATION,ze);const Ge=fe.getResultPoints();if(Ge!==null){const Ye=ne.getHeight();for(let rt=0;rt<Ge.length;rt++)Ge[rt]=new Kt(Ye-Ge[rt].getY()-1,Ge[rt].getX())}return fe}else throw new it}}reset(){}doDecode(M,G){const q=M.getWidth(),ee=M.getHeight();let ne=new xe(q);const fe=G&&G.get(Ue.TRY_HARDER)===!0,ye=Math.max(1,ee>>(fe?8:5));let ze;fe?ze=ee:ze=15;const Ge=Math.trunc(ee/2);for(let Ye=0;Ye<ze;Ye++){const rt=Math.trunc((Ye+1)/2),st=(Ye&1)===0,ht=Ge+ye*(st?rt:-rt);if(ht<0||ht>=ee)break;try{ne=M.getBlackRow(ht,ne)}catch{continue}for(let xt=0;xt<2;xt++){if(xt===1&&(ne.reverse(),G&&G.get(Ue.NEED_RESULT_POINT_CALLBACK)===!0)){const vt=new Map;G.forEach((Ct,Mt)=>vt.set(Mt,Ct)),vt.delete(Ue.NEED_RESULT_POINT_CALLBACK),G=vt}try{const vt=this.decodeRow(ht,ne,G);if(xt===1){vt.putMetadata(nn.ORIENTATION,180);const Ct=vt.getResultPoints();Ct!==null&&(Ct[0]=new Kt(q-Ct[0].getX()-1,Ct[0].getY()),Ct[1]=new Kt(q-Ct[1].getX()-1,Ct[1].getY()))}return vt}catch{}}}throw new it}static recordPattern(M,G,q){const ee=q.length;for(let Ge=0;Ge<ee;Ge++)q[Ge]=0;const ne=M.getSize();if(G>=ne)throw new it;let fe=!M.get(G),ye=0,ze=G;for(;ze<ne;){if(M.get(ze)!==fe)q[ye]++;else{if(++ye===ee)break;q[ye]=1,fe=!fe}ze++}if(!(ye===ee||ye===ee-1&&ze===ne))throw new it}static recordPatternInReverse(M,G,q){let ee=q.length,ne=M.get(G);for(;G>0&&ee>=0;)M.get(--G)!==ne&&(ee--,ne=!ne);if(ee>=0)throw new it;Dn.recordPattern(M,G+1,q)}static patternMatchVariance(M,G,q){const ee=M.length;let ne=0,fe=0;for(let Ge=0;Ge<ee;Ge++)ne+=M[Ge],fe+=G[Ge];if(ne<fe)return Number.POSITIVE_INFINITY;const ye=ne/fe;q*=ye;let ze=0;for(let Ge=0;Ge<ee;Ge++){const Ye=M[Ge],rt=G[Ge]*ye,st=Ye>rt?Ye-rt:rt-Ye;if(st>q)return Number.POSITIVE_INFINITY;ze+=st}return ze/ne}}class Ut extends Dn{static findStartPattern(M){const G=M.getSize(),q=M.getNextSet(0);let ee=0,ne=Int32Array.from([0,0,0,0,0,0]),fe=q,ye=!1;const ze=6;for(let Ge=q;Ge<G;Ge++)if(M.get(Ge)!==ye)ne[ee]++;else{if(ee===ze-1){let Ye=Ut.MAX_AVG_VARIANCE,rt=-1;for(let st=Ut.CODE_START_A;st<=Ut.CODE_START_C;st++){const ht=Dn.patternMatchVariance(ne,Ut.CODE_PATTERNS[st],Ut.MAX_INDIVIDUAL_VARIANCE);ht<Ye&&(Ye=ht,rt=st)}if(rt>=0&&M.isRange(Math.max(0,fe-(Ge-fe)/2),fe,!1))return Int32Array.from([fe,Ge,rt]);fe+=ne[0]+ne[1],ne=ne.slice(2,ne.length-1),ne[ee-1]=0,ne[ee]=0,ee--}else ee++;ne[ee]=1,ye=!ye}throw new it}static decodeCode(M,G,q){Dn.recordPattern(M,q,G);let ee=Ut.MAX_AVG_VARIANCE,ne=-1;for(let fe=0;fe<Ut.CODE_PATTERNS.length;fe++){const ye=Ut.CODE_PATTERNS[fe],ze=this.patternMatchVariance(G,ye,Ut.MAX_INDIVIDUAL_VARIANCE);ze<ee&&(ee=ze,ne=fe)}if(ne>=0)return ne;throw new it}decodeRow(M,G,q){const ee=q&&q.get(Ue.ASSUME_GS1)===!0,ne=Ut.findStartPattern(G),fe=ne[2];let ye=0;const ze=new Uint8Array(20);ze[ye++]=fe;let Ge;switch(fe){case Ut.CODE_START_A:Ge=Ut.CODE_CODE_A;break;case Ut.CODE_START_B:Ge=Ut.CODE_CODE_B;break;case Ut.CODE_START_C:Ge=Ut.CODE_CODE_C;break;default:throw new He}let Ye=!1,rt=!1,st="",ht=ne[0],xt=ne[1];const vt=Int32Array.from([0,0,0,0,0,0]);let Ct=0,Mt=0,qt=fe,Gt=0,Vt=!0,Pn=!1,Rn=!1;for(;!Ye;){const _s=rt;switch(rt=!1,Ct=Mt,Mt=Ut.decodeCode(G,vt,xt),ze[ye++]=Mt,Mt!==Ut.CODE_STOP&&(Vt=!0),Mt!==Ut.CODE_STOP&&(Gt++,qt+=Gt*Mt),ht=xt,xt+=vt.reduce((_l,jo)=>_l+jo,0),Mt){case Ut.CODE_START_A:case Ut.CODE_START_B:case Ut.CODE_START_C:throw new He}switch(Ge){case Ut.CODE_CODE_A:if(Mt<64)Rn===Pn?st+=String.fromCharCode(32+Mt):st+=String.fromCharCode(32+Mt+128),Rn=!1;else if(Mt<96)Rn===Pn?st+=String.fromCharCode(Mt-64):st+=String.fromCharCode(Mt+64),Rn=!1;else switch(Mt!==Ut.CODE_STOP&&(Vt=!1),Mt){case Ut.CODE_FNC_1:ee&&(st.length===0?st+="]C1":st+="");break;case Ut.CODE_FNC_2:case Ut.CODE_FNC_3:break;case Ut.CODE_FNC_4_A:!Pn&&Rn?(Pn=!0,Rn=!1):Pn&&Rn?(Pn=!1,Rn=!1):Rn=!0;break;case Ut.CODE_SHIFT:rt=!0,Ge=Ut.CODE_CODE_B;break;case Ut.CODE_CODE_B:Ge=Ut.CODE_CODE_B;break;case Ut.CODE_CODE_C:Ge=Ut.CODE_CODE_C;break;case Ut.CODE_STOP:Ye=!0;break}break;case Ut.CODE_CODE_B:if(Mt<96)Rn===Pn?st+=String.fromCharCode(32+Mt):st+=String.fromCharCode(32+Mt+128),Rn=!1;else switch(Mt!==Ut.CODE_STOP&&(Vt=!1),Mt){case Ut.CODE_FNC_1:ee&&(st.length===0?st+="]C1":st+="");break;case Ut.CODE_FNC_2:case Ut.CODE_FNC_3:break;case Ut.CODE_FNC_4_B:!Pn&&Rn?(Pn=!0,Rn=!1):Pn&&Rn?(Pn=!1,Rn=!1):Rn=!0;break;case Ut.CODE_SHIFT:rt=!0,Ge=Ut.CODE_CODE_A;break;case Ut.CODE_CODE_A:Ge=Ut.CODE_CODE_A;break;case Ut.CODE_CODE_C:Ge=Ut.CODE_CODE_C;break;case Ut.CODE_STOP:Ye=!0;break}break;case Ut.CODE_CODE_C:if(Mt<100)Mt<10&&(st+="0"),st+=Mt;else switch(Mt!==Ut.CODE_STOP&&(Vt=!1),Mt){case Ut.CODE_FNC_1:ee&&(st.length===0?st+="]C1":st+="");break;case Ut.CODE_CODE_A:Ge=Ut.CODE_CODE_A;break;case Ut.CODE_CODE_B:Ge=Ut.CODE_CODE_B;break;case Ut.CODE_STOP:Ye=!0;break}break}_s&&(Ge=Ge===Ut.CODE_CODE_A?Ut.CODE_CODE_B:Ut.CODE_CODE_A)}const Dr=xt-ht;if(xt=G.getNextUnset(xt),!G.isRange(xt,Math.min(G.getSize(),xt+(xt-ht)/2),!1))throw new it;if(qt-=Gt*Ct,qt%103!==Ct)throw new ae;const vi=st.length;if(vi===0)throw new it;vi>0&&Vt&&(Ge===Ut.CODE_CODE_C?st=st.substring(0,vi-2):st=st.substring(0,vi-1));const ni=(ne[1]+ne[0])/2,cr=ht+Dr/2,Qr=ze.length,ui=new Uint8Array(Qr);for(let _s=0;_s<Qr;_s++)ui[_s]=ze[_s];const Qs=[new Kt(ni,M),new Kt(cr,M)];return new St(st,ui,0,Qs,Rt.CODE_128,new Date().getTime())}}Ut.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ut.MAX_AVG_VARIANCE=.25,Ut.MAX_INDIVIDUAL_VARIANCE=.7,Ut.CODE_SHIFT=98,Ut.CODE_CODE_C=99,Ut.CODE_CODE_B=100,Ut.CODE_CODE_A=101,Ut.CODE_FNC_1=102,Ut.CODE_FNC_2=97,Ut.CODE_FNC_3=96,Ut.CODE_FNC_4_A=101,Ut.CODE_FNC_4_B=100,Ut.CODE_START_A=103,Ut.CODE_START_B=104,Ut.CODE_START_C=105,Ut.CODE_STOP=106;class Xn extends Dn{constructor(M=!1,G=!1){super(),this.usingCheckDigit=M,this.extendedMode=G,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(M,G,q){let ee=this.counters;ee.fill(0),this.decodeRowResult="";let ne=Xn.findAsteriskPattern(G,ee),fe=G.getNextSet(ne[1]),ye=G.getSize(),ze,Ge;do{Xn.recordPattern(G,fe,ee);let vt=Xn.toNarrowWidePattern(ee);if(vt<0)throw new it;ze=Xn.patternToChar(vt),this.decodeRowResult+=ze,Ge=fe;for(let Ct of ee)fe+=Ct;fe=G.getNextSet(fe)}while(ze!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Ye=0;for(let vt of ee)Ye+=vt;let rt=fe-Ge-Ye;if(fe!==ye&&rt*2<Ye)throw new it;if(this.usingCheckDigit){let vt=this.decodeRowResult.length-1,Ct=0;for(let Mt=0;Mt<vt;Mt++)Ct+=Xn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Mt));if(this.decodeRowResult.charAt(vt)!==Xn.ALPHABET_STRING.charAt(Ct%43))throw new ae;this.decodeRowResult=this.decodeRowResult.substring(0,vt)}if(this.decodeRowResult.length===0)throw new it;let st;this.extendedMode?st=Xn.decodeExtended(this.decodeRowResult):st=this.decodeRowResult;let ht=(ne[1]+ne[0])/2,xt=Ge+Ye/2;return new St(st,null,0,[new Kt(ht,M),new Kt(xt,M)],Rt.CODE_39,new Date().getTime())}static findAsteriskPattern(M,G){let q=M.getSize(),ee=M.getNextSet(0),ne=0,fe=ee,ye=!1,ze=G.length;for(let Ge=ee;Ge<q;Ge++)if(M.get(Ge)!==ye)G[ne]++;else{if(ne===ze-1){if(this.toNarrowWidePattern(G)===Xn.ASTERISK_ENCODING&&M.isRange(Math.max(0,fe-Math.floor((Ge-fe)/2)),fe,!1))return[fe,Ge];fe+=G[0]+G[1],G.copyWithin(0,2,2+ne-1),G[ne-1]=0,G[ne]=0,ne--}else ne++;G[ne]=1,ye=!ye}throw new it}static toNarrowWidePattern(M){let G=M.length,q=0,ee;do{let ne=2147483647;for(let ze of M)ze<ne&&ze>q&&(ne=ze);q=ne,ee=0;let fe=0,ye=0;for(let ze=0;ze<G;ze++){let Ge=M[ze];Ge>q&&(ye|=1<<G-1-ze,ee++,fe+=Ge)}if(ee===3){for(let ze=0;ze<G&&ee>0;ze++){let Ge=M[ze];if(Ge>q&&(ee--,Ge*2>=fe))return-1}return ye}}while(ee>3);return-1}static patternToChar(M){for(let G=0;G<Xn.CHARACTER_ENCODINGS.length;G++)if(Xn.CHARACTER_ENCODINGS[G]===M)return Xn.ALPHABET_STRING.charAt(G);if(M===Xn.ASTERISK_ENCODING)return"*";throw new it}static decodeExtended(M){let G=M.length,q="";for(let ee=0;ee<G;ee++){let ne=M.charAt(ee);if(ne==="+"||ne==="$"||ne==="%"||ne==="/"){let fe=M.charAt(ee+1),ye="\0";switch(ne){case"+":if(fe>="A"&&fe<="Z")ye=String.fromCharCode(fe.charCodeAt(0)+32);else throw new He;break;case"$":if(fe>="A"&&fe<="Z")ye=String.fromCharCode(fe.charCodeAt(0)-64);else throw new He;break;case"%":if(fe>="A"&&fe<="E")ye=String.fromCharCode(fe.charCodeAt(0)-38);else if(fe>="F"&&fe<="J")ye=String.fromCharCode(fe.charCodeAt(0)-11);else if(fe>="K"&&fe<="O")ye=String.fromCharCode(fe.charCodeAt(0)+16);else if(fe>="P"&&fe<="T")ye=String.fromCharCode(fe.charCodeAt(0)+43);else if(fe==="U")ye="\0";else if(fe==="V")ye="@";else if(fe==="W")ye="`";else if(fe==="X"||fe==="Y"||fe==="Z")ye="";else throw new He;break;case"/":if(fe>="A"&&fe<="O")ye=String.fromCharCode(fe.charCodeAt(0)-32);else if(fe==="Z")ye=":";else throw new He;break}q+=ye,ee++}else q+=ne}return q}}Xn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xn.ASTERISK_ENCODING=148;class Sn extends Dn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(M,G,q){let ee=this.decodeStart(G),ne=this.decodeEnd(G),fe=new pt;Sn.decodeMiddle(G,ee[1],ne[0],fe);let ye=fe.toString(),ze=null;q!=null&&(ze=q.get(Ue.ALLOWED_LENGTHS)),ze==null&&(ze=Sn.DEFAULT_ALLOWED_LENGTHS);let Ge=ye.length,Ye=!1,rt=0;for(let xt of ze){if(Ge===xt){Ye=!0;break}xt>rt&&(rt=xt)}if(!Ye&&Ge>rt&&(Ye=!0),!Ye)throw new He;const st=[new Kt(ee[1],M),new Kt(ne[0],M)];return new St(ye,null,0,st,Rt.ITF,new Date().getTime())}static decodeMiddle(M,G,q,ee){let ne=new Int32Array(10),fe=new Int32Array(5),ye=new Int32Array(5);for(ne.fill(0),fe.fill(0),ye.fill(0);G<q;){Dn.recordPattern(M,G,ne);for(let Ge=0;Ge<5;Ge++){let Ye=2*Ge;fe[Ge]=ne[Ye],ye[Ge]=ne[Ye+1]}let ze=Sn.decodeDigit(fe);ee.append(ze.toString()),ze=this.decodeDigit(ye),ee.append(ze.toString()),ne.forEach(function(Ge){G+=Ge})}}decodeStart(M){let G=Sn.skipWhiteSpace(M),q=Sn.findGuardPattern(M,G,Sn.START_PATTERN);return this.narrowLineWidth=(q[1]-q[0])/4,this.validateQuietZone(M,q[0]),q}validateQuietZone(M,G){let q=this.narrowLineWidth*10;q=q<G?q:G;for(let ee=G-1;q>0&&ee>=0&&!M.get(ee);ee--)q--;if(q!==0)throw new it}static skipWhiteSpace(M){const G=M.getSize(),q=M.getNextSet(0);if(q===G)throw new it;return q}decodeEnd(M){M.reverse();try{let G=Sn.skipWhiteSpace(M),q;try{q=Sn.findGuardPattern(M,G,Sn.END_PATTERN_REVERSED[0])}catch(ne){ne instanceof it&&(q=Sn.findGuardPattern(M,G,Sn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(M,q[0]);let ee=q[0];return q[0]=M.getSize()-q[1],q[1]=M.getSize()-ee,q}finally{M.reverse()}}static findGuardPattern(M,G,q){let ee=q.length,ne=new Int32Array(ee),fe=M.getSize(),ye=!1,ze=0,Ge=G;ne.fill(0);for(let Ye=G;Ye<fe;Ye++)if(M.get(Ye)!==ye)ne[ze]++;else{if(ze===ee-1){if(Dn.patternMatchVariance(ne,q,Sn.MAX_INDIVIDUAL_VARIANCE)<Sn.MAX_AVG_VARIANCE)return[Ge,Ye];Ge+=ne[0]+ne[1],pe.arraycopy(ne,2,ne,0,ze-1),ne[ze-1]=0,ne[ze]=0,ze--}else ze++;ne[ze]=1,ye=!ye}throw new it}static decodeDigit(M){let G=Sn.MAX_AVG_VARIANCE,q=-1,ee=Sn.PATTERNS.length;for(let ne=0;ne<ee;ne++){let fe=Sn.PATTERNS[ne],ye=Dn.patternMatchVariance(M,fe,Sn.MAX_INDIVIDUAL_VARIANCE);ye<G?(G=ye,q=ne):ye===G&&(q=-1)}if(q>=0)return q%10;throw new it}}Sn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Sn.MAX_AVG_VARIANCE=.38,Sn.MAX_INDIVIDUAL_VARIANCE=.5,Sn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Sn.START_PATTERN=Int32Array.from([1,1,1,1]),Sn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class or extends Dn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(M){let G=!1,q,ee=0,ne=Int32Array.from([0,0,0]);for(;!G;){ne=Int32Array.from([0,0,0]),q=or.findGuardPattern(M,ee,!1,this.START_END_PATTERN,ne);let fe=q[0];ee=q[1];let ye=fe-(ee-fe);ye>=0&&(G=M.isRange(ye,fe,!1))}return q}static checkChecksum(M){return or.checkStandardUPCEANChecksum(M)}static checkStandardUPCEANChecksum(M){let G=M.length;if(G===0)return!1;let q=parseInt(M.charAt(G-1),10);return or.getStandardUPCEANChecksum(M.substring(0,G-1))===q}static getStandardUPCEANChecksum(M){let G=M.length,q=0;for(let ee=G-1;ee>=0;ee-=2){let ne=M.charAt(ee).charCodeAt(0)-48;if(ne<0||ne>9)throw new He;q+=ne}q*=3;for(let ee=G-2;ee>=0;ee-=2){let ne=M.charAt(ee).charCodeAt(0)-48;if(ne<0||ne>9)throw new He;q+=ne}return(1e3-q)%10}static decodeEnd(M,G){return or.findGuardPattern(M,G,!1,or.START_END_PATTERN,new Int32Array(or.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(M,G,q,ee){return this.findGuardPattern(M,G,q,ee,new Int32Array(ee.length))}static findGuardPattern(M,G,q,ee,ne){let fe=M.getSize();G=q?M.getNextUnset(G):M.getNextSet(G);let ye=0,ze=G,Ge=ee.length,Ye=q;for(let rt=G;rt<fe;rt++)if(M.get(rt)!==Ye)ne[ye]++;else{if(ye===Ge-1){if(Dn.patternMatchVariance(ne,ee,or.MAX_INDIVIDUAL_VARIANCE)<or.MAX_AVG_VARIANCE)return Int32Array.from([ze,rt]);ze+=ne[0]+ne[1];let st=ne.slice(2,ne.length-1);for(let ht=0;ht<ye-1;ht++)ne[ht]=st[ht];ne[ye-1]=0,ne[ye]=0,ye--}else ye++;ne[ye]=1,Ye=!Ye}throw new it}static decodeDigit(M,G,q,ee){this.recordPattern(M,q,G);let ne=this.MAX_AVG_VARIANCE,fe=-1,ye=ee.length;for(let ze=0;ze<ye;ze++){let Ge=ee[ze],Ye=Dn.patternMatchVariance(G,Ge,or.MAX_INDIVIDUAL_VARIANCE);Ye<ne&&(ne=Ye,fe=ze)}if(fe>=0)return fe;throw new it}}or.MAX_AVG_VARIANCE=.48,or.MAX_INDIVIDUAL_VARIANCE=.7,or.START_END_PATTERN=Int32Array.from([1,1,1]),or.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),or.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),or.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class fi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(M,G,q){let ee=this.decodeRowStringBuffer,ne=this.decodeMiddle(G,q,ee),fe=ee.toString(),ye=fi.parseExtensionString(fe),ze=[new Kt((q[0]+q[1])/2,M),new Kt(ne,M)],Ge=new St(fe,null,0,ze,Rt.UPC_EAN_EXTENSION,new Date().getTime());return ye!=null&&Ge.putAllMetadata(ye),Ge}decodeMiddle(M,G,q){let ee=this.decodeMiddleCounters;ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;let ne=M.getSize(),fe=G[1],ye=0;for(let Ge=0;Ge<5&&fe<ne;Ge++){let Ye=or.decodeDigit(M,ee,fe,or.L_AND_G_PATTERNS);q+=String.fromCharCode(48+Ye%10);for(let rt of ee)fe+=rt;Ye>=10&&(ye|=1<<4-Ge),Ge!==4&&(fe=M.getNextSet(fe),fe=M.getNextUnset(fe))}if(q.length!==5)throw new it;let ze=this.determineCheckDigit(ye);if(fi.extensionChecksum(q.toString())!==ze)throw new it;return fe}static extensionChecksum(M){let G=M.length,q=0;for(let ee=G-2;ee>=0;ee-=2)q+=M.charAt(ee).charCodeAt(0)-48;q*=3;for(let ee=G-1;ee>=0;ee-=2)q+=M.charAt(ee).charCodeAt(0)-48;return q*=3,q%10}determineCheckDigit(M){for(let G=0;G<10;G++)if(M===this.CHECK_DIGIT_ENCODINGS[G])return G;throw new it}static parseExtensionString(M){if(M.length!==5)return null;let G=fi.parseExtension5String(M);return G==null?null:new Map([[nn.SUGGESTED_PRICE,G]])}static parseExtension5String(M){let G;switch(M.charAt(0)){case"0":G="";break;case"5":G="$";break;case"9":switch(M){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}G="";break;default:G="";break}let q=parseInt(M.substring(1)),ee=(q/100).toString(),ne=q%100,fe=ne<10?"0"+ne:ne.toString();return G+ee+"."+fe}}class $i{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(M,G,q){let ee=this.decodeRowStringBuffer,ne=this.decodeMiddle(G,q,ee),fe=ee.toString(),ye=$i.parseExtensionString(fe),ze=[new Kt((q[0]+q[1])/2,M),new Kt(ne,M)],Ge=new St(fe,null,0,ze,Rt.UPC_EAN_EXTENSION,new Date().getTime());return ye!=null&&Ge.putAllMetadata(ye),Ge}decodeMiddle(M,G,q){let ee=this.decodeMiddleCounters;ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;let ne=M.getSize(),fe=G[1],ye=0;for(let ze=0;ze<2&&fe<ne;ze++){let Ge=or.decodeDigit(M,ee,fe,or.L_AND_G_PATTERNS);q+=String.fromCharCode(48+Ge%10);for(let Ye of ee)fe+=Ye;Ge>=10&&(ye|=1<<1-ze),ze!==1&&(fe=M.getNextSet(fe),fe=M.getNextUnset(fe))}if(q.length!==2)throw new it;if(parseInt(q.toString())%4!==ye)throw new it;return fe}static parseExtensionString(M){return M.length!==2?null:new Map([[nn.ISSUE_NUMBER,parseInt(M)]])}}class is{static decodeRow(M,G,q){let ee=or.findGuardPattern(G,q,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new fi().decodeRow(M,G,ee)}catch{return new $i().decodeRow(M,G,ee)}}}is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class jn extends or{constructor(){super(),this.decodeRowStringBuffer="",jn.L_AND_G_PATTERNS=jn.L_PATTERNS.map(M=>Int32Array.from(M));for(let M=10;M<20;M++){let G=jn.L_PATTERNS[M-10],q=new Int32Array(G.length);for(let ee=0;ee<G.length;ee++)q[ee]=G[G.length-ee-1];jn.L_AND_G_PATTERNS[M]=q}}decodeRow(M,G,q){let ee=jn.findStartGuardPattern(G),ne=q==null?null:q.get(Ue.NEED_RESULT_POINT_CALLBACK);if(ne!=null){const Vt=new Kt((ee[0]+ee[1])/2,M);ne.foundPossibleResultPoint(Vt)}let fe=this.decodeMiddle(G,ee,this.decodeRowStringBuffer),ye=fe.rowOffset,ze=fe.resultString;if(ne!=null){const Vt=new Kt(ye,M);ne.foundPossibleResultPoint(Vt)}let Ge=this.decodeEnd(G,ye);if(ne!=null){const Vt=new Kt((Ge[0]+Ge[1])/2,M);ne.foundPossibleResultPoint(Vt)}let Ye=Ge[1],rt=Ye+(Ye-Ge[0]);if(rt>=G.getSize()||!G.isRange(Ye,rt,!1))throw new it;let st=ze.toString();if(st.length<8)throw new He;if(!jn.checkChecksum(st))throw new ae;let ht=(ee[1]+ee[0])/2,xt=(Ge[1]+Ge[0])/2,vt=this.getBarcodeFormat(),Ct=[new Kt(ht,M),new Kt(xt,M)],Mt=new St(st,null,0,Ct,vt,new Date().getTime()),qt=0;try{let Vt=is.decodeRow(M,G,Ge[1]);Mt.putMetadata(nn.UPC_EAN_EXTENSION,Vt.getText()),Mt.putAllMetadata(Vt.getResultMetadata()),Mt.addResultPoints(Vt.getResultPoints()),qt=Vt.getText().length}catch{}let Gt=q==null?null:q.get(Ue.ALLOWED_EAN_EXTENSIONS);if(Gt!=null){let Vt=!1;for(let Pn in Gt)if(qt.toString()===Pn){Vt=!0;break}if(!Vt)throw new it}return Mt}decodeEnd(M,G){return jn.findGuardPattern(M,G,!1,jn.START_END_PATTERN,new Int32Array(jn.START_END_PATTERN.length).fill(0))}static checkChecksum(M){return jn.checkStandardUPCEANChecksum(M)}static checkStandardUPCEANChecksum(M){let G=M.length;if(G===0)return!1;let q=parseInt(M.charAt(G-1),10);return jn.getStandardUPCEANChecksum(M.substring(0,G-1))===q}static getStandardUPCEANChecksum(M){let G=M.length,q=0;for(let ee=G-1;ee>=0;ee-=2){let ne=M.charAt(ee).charCodeAt(0)-48;if(ne<0||ne>9)throw new He;q+=ne}q*=3;for(let ee=G-2;ee>=0;ee-=2){let ne=M.charAt(ee).charCodeAt(0)-48;if(ne<0||ne>9)throw new He;q+=ne}return(1e3-q)%10}}class pi extends jn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(M,G,q){let ee=this.decodeMiddleCounters;ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;let ne=M.getSize(),fe=G[1],ye=0;for(let Ge=0;Ge<6&&fe<ne;Ge++){let Ye=jn.decodeDigit(M,ee,fe,jn.L_AND_G_PATTERNS);q+=String.fromCharCode(48+Ye%10);for(let rt of ee)fe+=rt;Ye>=10&&(ye|=1<<5-Ge)}q=pi.determineFirstDigit(q,ye),fe=jn.findGuardPattern(M,fe,!0,jn.MIDDLE_PATTERN,new Int32Array(jn.MIDDLE_PATTERN.length).fill(0))[1];for(let Ge=0;Ge<6&&fe<ne;Ge++){let Ye=jn.decodeDigit(M,ee,fe,jn.L_PATTERNS);q+=String.fromCharCode(48+Ye);for(let rt of ee)fe+=rt}return{rowOffset:fe,resultString:q}}getBarcodeFormat(){return Rt.EAN_13}static determineFirstDigit(M,G){for(let q=0;q<10;q++)if(G===this.FIRST_DIGIT_ENCODINGS[q])return M=String.fromCharCode(48+q)+M,M;throw new it}}pi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ci extends jn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(M,G,q){const ee=this.decodeMiddleCounters;ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;let ne=M.getSize(),fe=G[1];for(let ze=0;ze<4&&fe<ne;ze++){let Ge=jn.decodeDigit(M,ee,fe,jn.L_PATTERNS);q+=String.fromCharCode(48+Ge);for(let Ye of ee)fe+=Ye}fe=jn.findGuardPattern(M,fe,!0,jn.MIDDLE_PATTERN,new Int32Array(jn.MIDDLE_PATTERN.length).fill(0))[1];for(let ze=0;ze<4&&fe<ne;ze++){let Ge=jn.decodeDigit(M,ee,fe,jn.L_PATTERNS);q+=String.fromCharCode(48+Ge);for(let Ye of ee)fe+=Ye}return{rowOffset:fe,resultString:q}}getBarcodeFormat(){return Rt.EAN_8}}class xs extends jn{constructor(){super(...arguments),this.ean13Reader=new pi}getBarcodeFormat(){return Rt.UPC_A}decode(M,G){return this.maybeReturnResult(this.ean13Reader.decode(M))}decodeRow(M,G,q){return this.maybeReturnResult(this.ean13Reader.decodeRow(M,G,q))}decodeMiddle(M,G,q){return this.ean13Reader.decodeMiddle(M,G,q)}maybeReturnResult(M){let G=M.getText();if(G.charAt(0)==="0"){let q=new St(G.substring(1),null,null,M.getResultPoints(),Rt.UPC_A);return M.getResultMetadata()!=null&&q.putAllMetadata(M.getResultMetadata()),q}else throw new it}reset(){this.ean13Reader.reset()}}class Fr extends jn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(M,G,q){const ee=this.decodeMiddleCounters.map(Ge=>Ge);ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;const ne=M.getSize();let fe=G[1],ye=0;for(let Ge=0;Ge<6&&fe<ne;Ge++){const Ye=Fr.decodeDigit(M,ee,fe,Fr.L_AND_G_PATTERNS);q+=String.fromCharCode(48+Ye%10);for(let rt of ee)fe+=rt;Ye>=10&&(ye|=1<<5-Ge)}let ze=Fr.determineNumSysAndCheckDigit(q,ye);return{rowOffset:fe,resultString:ze}}decodeEnd(M,G){return Fr.findGuardPatternWithoutCounters(M,G,!0,Fr.MIDDLE_END_PATTERN)}checkChecksum(M){return jn.checkChecksum(Fr.convertUPCEtoUPCA(M))}static determineNumSysAndCheckDigit(M,G){for(let q=0;q<=1;q++)for(let ee=0;ee<10;ee++)if(G===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[q][ee]){let ne=String.fromCharCode(48+q),fe=String.fromCharCode(48+ee);return ne+M+fe}throw it.getNotFoundInstance()}getBarcodeFormat(){return Rt.UPC_E}static convertUPCEtoUPCA(M){const G=M.slice(1,7).split("").map(ne=>ne.charCodeAt(0)),q=new pt;q.append(M.charAt(0));let ee=G[5];switch(ee){case 0:case 1:case 2:q.appendChars(G,0,2),q.append(ee),q.append("0000"),q.appendChars(G,2,3);break;case 3:q.appendChars(G,0,3),q.append("00000"),q.appendChars(G,3,2);break;case 4:q.appendChars(G,0,4),q.append("00000"),q.append(G[4]);break;default:q.appendChars(G,0,5),q.append("0000"),q.append(ee);break}return M.length>=8&&q.append(M.charAt(7)),q.toString()}}Fr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ss extends Dn{constructor(M){super();let G=M==null?null:M.get(Ue.POSSIBLE_FORMATS),q=[];b(G)?(q.push(new pi),q.push(new xs),q.push(new Ci),q.push(new Fr)):(G.indexOf(Rt.EAN_13)>-1&&q.push(new pi),G.indexOf(Rt.UPC_A)>-1&&q.push(new xs),G.indexOf(Rt.EAN_8)>-1&&q.push(new Ci),G.indexOf(Rt.UPC_E)>-1&&q.push(new Fr)),this.readers=q}decodeRow(M,G,q){for(let ee of this.readers)try{const ne=ee.decodeRow(M,G,q),fe=ne.getBarcodeFormat()===Rt.EAN_13&&ne.getText().charAt(0)==="0",ye=q==null?null:q.get(Ue.POSSIBLE_FORMATS),ze=ye==null||ye.includes(Rt.UPC_A);if(fe&&ze){const Ge=ne.getRawBytes(),Ye=new St(ne.getText().substring(1),Ge,Ge?Ge.length:null,ne.getResultPoints(),Rt.UPC_A);return Ye.putAllMetadata(ne.getResultMetadata()),Ye}return ne}catch{}throw new it}reset(){for(let M of this.readers)M.reset()}}class Rr extends Dn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(M,G){for(let q=0;q<G.length;q++)if(Dn.patternMatchVariance(M,G[q],Rr.MAX_INDIVIDUAL_VARIANCE)<Rr.MAX_AVG_VARIANCE)return q;throw new it}static count(M){return pn.sum(new Int32Array(M))}static increment(M,G){let q=0,ee=G[0];for(let ne=1;ne<M.length;ne++)G[ne]>ee&&(ee=G[ne],q=ne);M[q]++}static decrement(M,G){let q=0,ee=G[0];for(let ne=1;ne<M.length;ne++)G[ne]<ee&&(ee=G[ne],q=ne);M[q]--}static isFinderPattern(M){let G=M[0]+M[1],q=G+M[2]+M[3],ee=G/q;if(ee>=Rr.MIN_FINDER_PATTERN_RATIO&&ee<=Rr.MAX_FINDER_PATTERN_RATIO){let ne=Number.MAX_SAFE_INTEGER,fe=Number.MIN_SAFE_INTEGER;for(let ye of M)ye>fe&&(fe=ye),ye<ne&&(ne=ye);return fe<10*ne}return!1}}Rr.MAX_AVG_VARIANCE=.2,Rr.MAX_INDIVIDUAL_VARIANCE=.45,Rr.MIN_FINDER_PATTERN_RATIO=9.5/12,Rr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ri{constructor(M,G){this.value=M,this.checksumPortion=G}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(M){if(!(M instanceof Ri))return!1;const G=M;return this.value===G.value&&this.checksumPortion===G.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Li{constructor(M,G,q,ee,ne){this.value=M,this.startEnd=G,this.value=M,this.startEnd=G,this.resultPoints=new Array,this.resultPoints.push(new Kt(q,ne)),this.resultPoints.push(new Kt(ee,ne))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(M){if(!(M instanceof Li))return!1;const G=M;return this.value===G.value}hashCode(){return this.value}}class mi{constructor(){}static getRSSvalue(M,G,q){let ee=0;for(let ze of M)ee+=ze;let ne=0,fe=0,ye=M.length;for(let ze=0;ze<ye-1;ze++){let Ge;for(Ge=1,fe|=1<<ze;Ge<M[ze];Ge++,fe&=~(1<<ze)){let Ye=mi.combins(ee-Ge-1,ye-ze-2);if(q&&fe===0&&ee-Ge-(ye-ze-1)>=ye-ze-1&&(Ye-=mi.combins(ee-Ge-(ye-ze),ye-ze-2)),ye-ze-1>1){let rt=0;for(let st=ee-Ge-(ye-ze-2);st>G;st--)rt+=mi.combins(ee-Ge-st-1,ye-ze-3);Ye-=rt*(ye-1-ze)}else ee-Ge>G&&Ye--;ne+=Ye}ee-=Ge}return ne}static combins(M,G){let q,ee;M-G>G?(ee=G,q=M-G):(ee=M-G,q=G);let ne=1,fe=1;for(let ye=M;ye>q;ye--)ne*=ye,fe<=ee&&(ne/=fe,fe++);for(;fe<=ee;)ne/=fe,fe++;return ne}}class mt{static buildBitArray(M){let G=M.length*2-1;M[M.length-1].getRightChar()==null&&(G-=1);let q=12*G,ee=new xe(q),ne=0,ye=M[0].getRightChar().getValue();for(let ze=11;ze>=0;--ze)(ye&1<<ze)!=0&&ee.set(ne),ne++;for(let ze=1;ze<M.length;++ze){let Ge=M[ze],Ye=Ge.getLeftChar().getValue();for(let rt=11;rt>=0;--rt)(Ye&1<<rt)!=0&&ee.set(ne),ne++;if(Ge.getRightChar()!=null){let rt=Ge.getRightChar().getValue();for(let st=11;st>=0;--st)(rt&1<<st)!=0&&ee.set(ne),ne++}}return ee}}class wt{constructor(M,G){G?this.decodedInformation=null:(this.finished=M,this.decodedInformation=G)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Nt{constructor(M){this.newPosition=M}getNewPosition(){return this.newPosition}}class Ft extends Nt{constructor(M,G){super(M),this.value=G}getValue(){return this.value}isFNC1(){return this.value===Ft.FNC1}}Ft.FNC1="$";class Wt extends Nt{constructor(M,G,q){super(M),q?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=G}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class en extends Nt{constructor(M,G,q){if(super(M),G<0||G>10||q<0||q>10)throw new He;this.firstDigit=G,this.secondDigit=q}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===en.FNC1}isSecondDigitFNC1(){return this.secondDigit===en.FNC1}isAnyFNC1(){return this.firstDigit===en.FNC1||this.secondDigit===en.FNC1}}en.FNC1=10;class Ot{constructor(){}static parseFieldsInGeneralPurpose(M){if(!M)return null;if(M.length<2)throw new it;let G=M.substring(0,2);for(let ne of Ot.TWO_DIGIT_DATA_LENGTH)if(ne[0]===G)return ne[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(2,ne[2],M):Ot.processFixedAI(2,ne[1],M);if(M.length<3)throw new it;let q=M.substring(0,3);for(let ne of Ot.THREE_DIGIT_DATA_LENGTH)if(ne[0]===q)return ne[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(3,ne[2],M):Ot.processFixedAI(3,ne[1],M);for(let ne of Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(ne[0]===q)return ne[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,ne[2],M):Ot.processFixedAI(4,ne[1],M);if(M.length<4)throw new it;let ee=M.substring(0,4);for(let ne of Ot.FOUR_DIGIT_DATA_LENGTH)if(ne[0]===ee)return ne[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,ne[2],M):Ot.processFixedAI(4,ne[1],M);throw new it}static processFixedAI(M,G,q){if(q.length<M)throw new it;let ee=q.substring(0,M);if(q.length<M+G)throw new it;let ne=q.substring(M,M+G),fe=q.substring(M+G),ye="("+ee+")"+ne,ze=Ot.parseFieldsInGeneralPurpose(fe);return ze==null?ye:ye+ze}static processVariableAI(M,G,q){let ee=q.substring(0,M),ne;q.length<M+G?ne=q.length:ne=M+G;let fe=q.substring(M,ne),ye=q.substring(ne),ze="("+ee+")"+fe,Ge=Ot.parseFieldsInGeneralPurpose(ye);return Ge==null?ze:ze+Ge}}Ot.VARIABLE_LENGTH=[],Ot.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ot.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ot.VARIABLE_LENGTH,20],["22",Ot.VARIABLE_LENGTH,29],["30",Ot.VARIABLE_LENGTH,8],["37",Ot.VARIABLE_LENGTH,8],["90",Ot.VARIABLE_LENGTH,30],["91",Ot.VARIABLE_LENGTH,30],["92",Ot.VARIABLE_LENGTH,30],["93",Ot.VARIABLE_LENGTH,30],["94",Ot.VARIABLE_LENGTH,30],["95",Ot.VARIABLE_LENGTH,30],["96",Ot.VARIABLE_LENGTH,30],["97",Ot.VARIABLE_LENGTH,3],["98",Ot.VARIABLE_LENGTH,30],["99",Ot.VARIABLE_LENGTH,30]],Ot.THREE_DIGIT_DATA_LENGTH=[["240",Ot.VARIABLE_LENGTH,30],["241",Ot.VARIABLE_LENGTH,30],["242",Ot.VARIABLE_LENGTH,6],["250",Ot.VARIABLE_LENGTH,30],["251",Ot.VARIABLE_LENGTH,30],["253",Ot.VARIABLE_LENGTH,17],["254",Ot.VARIABLE_LENGTH,20],["400",Ot.VARIABLE_LENGTH,30],["401",Ot.VARIABLE_LENGTH,30],["402",17],["403",Ot.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ot.VARIABLE_LENGTH,20],["421",Ot.VARIABLE_LENGTH,15],["422",3],["423",Ot.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ot.VARIABLE_LENGTH,15],["391",Ot.VARIABLE_LENGTH,18],["392",Ot.VARIABLE_LENGTH,15],["393",Ot.VARIABLE_LENGTH,18],["703",Ot.VARIABLE_LENGTH,30]],Ot.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ot.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ot.VARIABLE_LENGTH,20],["8003",Ot.VARIABLE_LENGTH,30],["8004",Ot.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ot.VARIABLE_LENGTH,30],["8008",Ot.VARIABLE_LENGTH,12],["8018",18],["8020",Ot.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ot.VARIABLE_LENGTH,70],["8200",Ot.VARIABLE_LENGTH,70]];class Jt{constructor(M){this.buffer=new pt,this.information=M}decodeAllCodes(M,G){let q=G,ee=null;do{let ne=this.decodeGeneralPurposeField(q,ee),fe=Ot.parseFieldsInGeneralPurpose(ne.getNewString());if(fe!=null&&M.append(fe),ne.isRemaining()?ee=""+ne.getRemainingValue():ee=null,q===ne.getNewPosition())break;q=ne.getNewPosition()}while(!0);return M.toString()}isStillNumeric(M){if(M+7>this.information.getSize())return M+4<=this.information.getSize();for(let G=M;G<M+3;++G)if(this.information.get(G))return!0;return this.information.get(M+3)}decodeNumeric(M){if(M+7>this.information.getSize()){let ne=this.extractNumericValueFromBitArray(M,4);return ne===0?new en(this.information.getSize(),en.FNC1,en.FNC1):new en(this.information.getSize(),ne-1,en.FNC1)}let G=this.extractNumericValueFromBitArray(M,7),q=(G-8)/11,ee=(G-8)%11;return new en(M+7,q,ee)}extractNumericValueFromBitArray(M,G){return Jt.extractNumericValueFromBitArray(this.information,M,G)}static extractNumericValueFromBitArray(M,G,q){let ee=0;for(let ne=0;ne<q;++ne)M.get(G+ne)&&(ee|=1<<q-ne-1);return ee}decodeGeneralPurposeField(M,G){this.buffer.setLengthToZero(),G!=null&&this.buffer.append(G),this.current.setPosition(M);let q=this.parseBlocks();return q!=null&&q.isRemaining()?new Wt(this.current.getPosition(),this.buffer.toString(),q.getRemainingValue()):new Wt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let M,G;do{let q=this.current.getPosition();if(this.current.isAlpha()?(G=this.parseAlphaBlock(),M=G.isFinished()):this.current.isIsoIec646()?(G=this.parseIsoIec646Block(),M=G.isFinished()):(G=this.parseNumericBlock(),M=G.isFinished()),!(q!==this.current.getPosition())&&!M)break}while(!M);return G.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let M=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(M.getNewPosition()),M.isFirstDigitFNC1()){let G;return M.isSecondDigitFNC1()?G=new Wt(this.current.getPosition(),this.buffer.toString()):G=new Wt(this.current.getPosition(),this.buffer.toString(),M.getSecondDigit()),new wt(!0,G)}if(this.buffer.append(M.getFirstDigit()),M.isSecondDigitFNC1()){let G=new Wt(this.current.getPosition(),this.buffer.toString());return new wt(!0,G)}this.buffer.append(M.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let M=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(M.getNewPosition()),M.isFNC1()){let G=new Wt(this.current.getPosition(),this.buffer.toString());return new wt(!0,G)}this.buffer.append(M.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let M=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(M.getNewPosition()),M.isFNC1()){let G=new Wt(this.current.getPosition(),this.buffer.toString());return new wt(!0,G)}this.buffer.append(M.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wt(!1)}isStillIsoIec646(M){if(M+5>this.information.getSize())return!1;let G=this.extractNumericValueFromBitArray(M,5);if(G>=5&&G<16)return!0;if(M+7>this.information.getSize())return!1;let q=this.extractNumericValueFromBitArray(M,7);if(q>=64&&q<116)return!0;if(M+8>this.information.getSize())return!1;let ee=this.extractNumericValueFromBitArray(M,8);return ee>=232&&ee<253}decodeIsoIec646(M){let G=this.extractNumericValueFromBitArray(M,5);if(G===15)return new Ft(M+5,Ft.FNC1);if(G>=5&&G<15)return new Ft(M+5,"0"+(G-5));let q=this.extractNumericValueFromBitArray(M,7);if(q>=64&&q<90)return new Ft(M+7,""+(q+1));if(q>=90&&q<116)return new Ft(M+7,""+(q+7));let ee=this.extractNumericValueFromBitArray(M,8),ne;switch(ee){case 232:ne="!";break;case 233:ne='"';break;case 234:ne="%";break;case 235:ne="&";break;case 236:ne="'";break;case 237:ne="(";break;case 238:ne=")";break;case 239:ne="*";break;case 240:ne="+";break;case 241:ne=",";break;case 242:ne="-";break;case 243:ne=".";break;case 244:ne="/";break;case 245:ne=":";break;case 246:ne=";";break;case 247:ne="<";break;case 248:ne="=";break;case 249:ne=">";break;case 250:ne="?";break;case 251:ne="_";break;case 252:ne=" ";break;default:throw new He}return new Ft(M+8,ne)}isStillAlpha(M){if(M+5>this.information.getSize())return!1;let G=this.extractNumericValueFromBitArray(M,5);if(G>=5&&G<16)return!0;if(M+6>this.information.getSize())return!1;let q=this.extractNumericValueFromBitArray(M,6);return q>=16&&q<63}decodeAlphanumeric(M){let G=this.extractNumericValueFromBitArray(M,5);if(G===15)return new Ft(M+5,Ft.FNC1);if(G>=5&&G<15)return new Ft(M+5,"0"+(G-5));let q=this.extractNumericValueFromBitArray(M,6);if(q>=32&&q<58)return new Ft(M+6,""+(q+33));let ee;switch(q){case 58:ee="*";break;case 59:ee=",";break;case 60:ee="-";break;case 61:ee=".";break;case 62:ee="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+q)}return new Ft(M+6,ee)}isAlphaTo646ToAlphaLatch(M){if(M+1>this.information.getSize())return!1;for(let G=0;G<5&&G+M<this.information.getSize();++G)if(G===2){if(!this.information.get(M+2))return!1}else if(this.information.get(M+G))return!1;return!0}isAlphaOr646ToNumericLatch(M){if(M+3>this.information.getSize())return!1;for(let G=M;G<M+3;++G)if(this.information.get(G))return!1;return!0}isNumericToAlphaNumericLatch(M){if(M+1>this.information.getSize())return!1;for(let G=0;G<4&&G+M<this.information.getSize();++G)if(this.information.get(M+G))return!1;return!0}}class Zt{constructor(M){this.information=M,this.generalDecoder=new Jt(M)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xt extends Zt{constructor(M){super(M)}encodeCompressedGtin(M,G){M.append("(01)");let q=M.length();M.append("9"),this.encodeCompressedGtinWithoutAI(M,G,q)}encodeCompressedGtinWithoutAI(M,G,q){for(let ee=0;ee<4;++ee){let ne=this.getGeneralDecoder().extractNumericValueFromBitArray(G+10*ee,10);ne/100===0&&M.append("0"),ne/10===0&&M.append("0"),M.append(ne)}Xt.appendCheckDigit(M,q)}static appendCheckDigit(M,G){let q=0;for(let ee=0;ee<13;ee++){let ne=M.charAt(ee+G).charCodeAt(0)-48;q+=(ee&1)===0?3*ne:ne}q=10-q%10,q===10&&(q=0),M.append(q)}}Xt.GTIN_SIZE=40;class cn extends Xt{constructor(M){super(M)}parseInformation(){let M=new pt;M.append("(01)");let G=M.length(),q=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE,4);return M.append(q),this.encodeCompressedGtinWithoutAI(M,cn.HEADER_SIZE+4,G),this.getGeneralDecoder().decodeAllCodes(M,cn.HEADER_SIZE+44)}}cn.HEADER_SIZE=4;class on extends Zt{constructor(M){super(M)}parseInformation(){let M=new pt;return this.getGeneralDecoder().decodeAllCodes(M,on.HEADER_SIZE)}}on.HEADER_SIZE=5;class bn extends Xt{constructor(M){super(M)}encodeCompressedWeight(M,G,q){let ee=this.getGeneralDecoder().extractNumericValueFromBitArray(G,q);this.addWeightCode(M,ee);let ne=this.checkWeight(ee),fe=1e5;for(let ye=0;ye<5;++ye)ne/fe===0&&M.append("0"),fe/=10;M.append(ne)}}class $n extends bn{constructor(M){super(M)}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+bn.GTIN_SIZE+$n.WEIGHT_SIZE)throw new it;let M=new pt;return this.encodeCompressedGtin(M,$n.HEADER_SIZE),this.encodeCompressedWeight(M,$n.HEADER_SIZE+bn.GTIN_SIZE,$n.WEIGHT_SIZE),M.toString()}}$n.HEADER_SIZE=5,$n.WEIGHT_SIZE=15;class Tr extends $n{constructor(M){super(M)}addWeightCode(M,G){M.append("(3103)")}checkWeight(M){return M}}class Er extends $n{constructor(M){super(M)}addWeightCode(M,G){G<1e4?M.append("(3202)"):M.append("(3203)")}checkWeight(M){return M<1e4?M:M-1e4}}class On extends Xt{constructor(M){super(M)}parseInformation(){if(this.getInformation().getSize()<On.HEADER_SIZE+Xt.GTIN_SIZE)throw new it;let M=new pt;this.encodeCompressedGtin(M,On.HEADER_SIZE);let G=this.getGeneralDecoder().extractNumericValueFromBitArray(On.HEADER_SIZE+Xt.GTIN_SIZE,On.LAST_DIGIT_SIZE);M.append("(392"),M.append(G),M.append(")");let q=this.getGeneralDecoder().decodeGeneralPurposeField(On.HEADER_SIZE+Xt.GTIN_SIZE+On.LAST_DIGIT_SIZE,null);return M.append(q.getNewString()),M.toString()}}On.HEADER_SIZE=8,On.LAST_DIGIT_SIZE=2;class wn extends Xt{constructor(M){super(M)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Xt.GTIN_SIZE)throw new it;let M=new pt;this.encodeCompressedGtin(M,wn.HEADER_SIZE);let G=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Xt.GTIN_SIZE,wn.LAST_DIGIT_SIZE);M.append("(393"),M.append(G),M.append(")");let q=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Xt.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);q/100==0&&M.append("0"),q/10==0&&M.append("0"),M.append(q);let ee=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Xt.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return M.append(ee.getNewString()),M.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class Ln extends bn{constructor(M,G,q){super(M),this.dateCode=q,this.firstAIdigits=G}parseInformation(){if(this.getInformation().getSize()!=Ln.HEADER_SIZE+Ln.GTIN_SIZE+Ln.WEIGHT_SIZE+Ln.DATE_SIZE)throw new it;let M=new pt;return this.encodeCompressedGtin(M,Ln.HEADER_SIZE),this.encodeCompressedWeight(M,Ln.HEADER_SIZE+Ln.GTIN_SIZE,Ln.WEIGHT_SIZE),this.encodeCompressedDate(M,Ln.HEADER_SIZE+Ln.GTIN_SIZE+Ln.WEIGHT_SIZE),M.toString()}encodeCompressedDate(M,G){let q=this.getGeneralDecoder().extractNumericValueFromBitArray(G,Ln.DATE_SIZE);if(q==38400)return;M.append("("),M.append(this.dateCode),M.append(")");let ee=q%32;q/=32;let ne=q%12+1;q/=12;let fe=q;fe/10==0&&M.append("0"),M.append(fe),ne/10==0&&M.append("0"),M.append(ne),ee/10==0&&M.append("0"),M.append(ee)}addWeightCode(M,G){M.append("("),M.append(this.firstAIdigits),M.append(G/1e5),M.append(")")}checkWeight(M){return M%1e5}}Ln.HEADER_SIZE=8,Ln.WEIGHT_SIZE=20,Ln.DATE_SIZE=16;function gi(nt){try{if(nt.get(1))return new cn(nt);if(!nt.get(2))return new on(nt);switch(Jt.extractNumericValueFromBitArray(nt,1,4)){case 4:return new Tr(nt);case 5:return new Er(nt)}switch(Jt.extractNumericValueFromBitArray(nt,1,5)){case 12:return new On(nt);case 13:return new wn(nt)}switch(Jt.extractNumericValueFromBitArray(nt,1,7)){case 56:return new Ln(nt,"310","11");case 57:return new Ln(nt,"320","11");case 58:return new Ln(nt,"310","13");case 59:return new Ln(nt,"320","13");case 60:return new Ln(nt,"310","15");case 61:return new Ln(nt,"320","15");case 62:return new Ln(nt,"310","17");case 63:return new Ln(nt,"320","17")}}catch(M){throw console.log(M),new Kn("unknown decoder: "+nt)}}class Ar{constructor(M,G,q,ee){this.leftchar=M,this.rightchar=G,this.finderpattern=q,this.maybeLast=ee}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(M,G){return M instanceof Ar?Ar.equalsOrNull(M.leftchar,G.leftchar)&&Ar.equalsOrNull(M.rightchar,G.rightchar)&&Ar.equalsOrNull(M.finderpattern,G.finderpattern):!1}static equalsOrNull(M,G){return M===null?G===null:Ar.equals(M,G)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Jn{constructor(M,G,q){this.pairs=M,this.rowNumber=G,this.wasReversed=q}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(M){return this.checkEqualitity(this,M)}toString(){return"{ "+this.pairs+" }"}equals(M,G){return M instanceof Jn?this.checkEqualitity(M,G)&&M.wasReversed===G.wasReversed:!1}checkEqualitity(M,G){if(!M||!G)return;let q;return M.forEach((ee,ne)=>{G.forEach(fe=>{ee.getLeftChar().getValue()===fe.getLeftChar().getValue()&&ee.getRightChar().getValue()===fe.getRightChar().getValue()&&ee.getFinderPatter().getValue()===fe.getFinderPatter().getValue()&&(q=!0)})}),q}}class zt extends Rr{constructor(M){super(...arguments),this.pairs=new Array(zt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=M===!0}decodeRow(M,G,q){this.pairs.length=0,this.startFromEven=!1;try{return zt.constructResult(this.decodeRow2pairs(M,G))}catch(ee){this.verbose&&console.log(ee)}return this.pairs.length=0,this.startFromEven=!0,zt.constructResult(this.decodeRow2pairs(M,G))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(M,G){let q=!1;for(;!q;)try{this.pairs.push(this.retrieveNextPair(G,this.pairs,M))}catch(ne){if(ne instanceof it){if(!this.pairs.length)throw new it;q=!0}}if(this.checkChecksum())return this.pairs;let ee;if(this.rows.length?ee=!0:ee=!1,this.storeRow(M,!1),ee){let ne=this.checkRowsBoolean(!1);if(ne!=null||(ne=this.checkRowsBoolean(!0),ne!=null))return ne}throw new it}checkRowsBoolean(M){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,M&&(this.rows=this.rows.reverse());let G=null;try{G=this.checkRows(new Array,0)}catch(q){this.verbose&&console.log(q)}return M&&(this.rows=this.rows.reverse()),G}checkRows(M,G){for(let q=G;q<this.rows.length;q++){let ee=this.rows[q];this.pairs.length=0;for(let fe of M)this.pairs.push(fe.getPairs());if(this.pairs.push(ee.getPairs()),!zt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let ne=new Array(M);ne.push(ee);try{return this.checkRows(ne,q+1)}catch(fe){this.verbose&&console.log(fe)}}throw new it}static isValidSequence(M){for(let G of zt.FINDER_PATTERN_SEQUENCES){if(M.length>G.length)continue;let q=!0;for(let ee=0;ee<M.length;ee++)if(M[ee].getFinderPattern().getValue()!=G[ee]){q=!1;break}if(q)return!0}return!1}storeRow(M,G){let q=0,ee=!1,ne=!1;for(;q<this.rows.length;){let fe=this.rows[q];if(fe.getRowNumber()>M){ne=fe.isEquivalent(this.pairs);break}ee=fe.isEquivalent(this.pairs),q++}ne||ee||zt.isPartialRow(this.pairs,this.rows)||(this.rows.push(q,new Jn(this.pairs,M,G)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(M,G){for(let q of G)if(q.getPairs().length!==M.length){for(let ee of q.getPairs())for(let ne of M)if(Ar.equals(ee,ne))break}}static isPartialRow(M,G){for(let q of G){let ee=!0;for(let ne of M){let fe=!1;for(let ye of q.getPairs())if(ne.equals(ye)){fe=!0;break}if(!fe){ee=!1;break}}if(ee)return!0}return!1}getRows(){return this.rows}static constructResult(M){let G=mt.buildBitArray(M),ee=gi(G).parseInformation(),ne=M[0].getFinderPattern().getResultPoints(),fe=M[M.length-1].getFinderPattern().getResultPoints(),ye=[ne[0],ne[1],fe[0],fe[1]];return new St(ee,null,null,ye,Rt.RSS_EXPANDED,null)}checkChecksum(){let M=this.pairs.get(0),G=M.getLeftChar(),q=M.getRightChar();if(q==null)return!1;let ee=q.getChecksumPortion(),ne=2;for(let ye=1;ye<this.pairs.size();++ye){let ze=this.pairs.get(ye);ee+=ze.getLeftChar().getChecksumPortion(),ne++;let Ge=ze.getRightChar();Ge!=null&&(ee+=Ge.getChecksumPortion(),ne++)}return ee%=211,211*(ne-4)+ee==G.getValue()}static getNextSecondBar(M,G){let q;return M.get(G)?(q=M.getNextUnset(G),q=M.getNextSet(q)):(q=M.getNextSet(G),q=M.getNextUnset(q)),q}retrieveNextPair(M,G,q){let ee=G.length%2==0;this.startFromEven&&(ee=!ee);let ne,fe=!0,ye=-1;do this.findNextPair(M,G,ye),ne=this.parseFoundFinderPattern(M,q,ee),ne==null?ye=zt.getNextSecondBar(M,this.startEnd[0]):fe=!1;while(fe);let ze=this.decodeDataCharacter(M,ne,ee,!0);if(!this.isEmptyPair(G)&&G[G.length-1].mustBeLast())throw new it;let Ge;try{Ge=this.decodeDataCharacter(M,ne,ee,!1)}catch(Ye){Ge=null,this.verbose&&console.log(Ye)}return new Ar(ze,Ge,ne,!0)}isEmptyPair(M){return M.length===0}findNextPair(M,G,q){let ee=this.getDecodeFinderCounters();ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0;let ne=M.getSize(),fe;q>=0?fe=q:this.isEmptyPair(G)?fe=0:fe=G[G.length-1].getFinderPattern().getStartEnd()[1];let ye=G.length%2!=0;this.startFromEven&&(ye=!ye);let ze=!1;for(;fe<ne&&(ze=!M.get(fe),!!ze);)fe++;let Ge=0,Ye=fe;for(let rt=fe;rt<ne;rt++)if(M.get(rt)!=ze)ee[Ge]++;else{if(Ge==3){if(ye&&zt.reverseCounters(ee),zt.isFinderPattern(ee)){this.startEnd[0]=Ye,this.startEnd[1]=rt;return}ye&&zt.reverseCounters(ee),Ye+=ee[0]+ee[1],ee[0]=ee[2],ee[1]=ee[3],ee[2]=0,ee[3]=0,Ge--}else Ge++;ee[Ge]=1,ze=!ze}throw new it}static reverseCounters(M){let G=M.length;for(let q=0;q<G/2;++q){let ee=M[q];M[q]=M[G-q-1],M[G-q-1]=ee}}parseFoundFinderPattern(M,G,q){let ee,ne,fe;if(q){let Ge=this.startEnd[0]-1;for(;Ge>=0&&!M.get(Ge);)Ge--;Ge++,ee=this.startEnd[0]-Ge,ne=Ge,fe=this.startEnd[1]}else ne=this.startEnd[0],fe=M.getNextUnset(this.startEnd[1]+1),ee=fe-this.startEnd[1];let ye=this.getDecodeFinderCounters();pe.arraycopy(ye,0,ye,1,ye.length-1),ye[0]=ee;let ze;try{ze=this.parseFinderValue(ye,zt.FINDER_PATTERNS)}catch{return null}return new Li(ze,[ne,fe],ne,fe,G)}decodeDataCharacter(M,G,q,ee){let ne=this.getDataCharacterCounters();for(let cr=0;cr<ne.length;cr++)ne[cr]=0;if(ee)zt.recordPatternInReverse(M,G.getStartEnd()[0],ne);else{zt.recordPattern(M,G.getStartEnd()[1],ne);for(let cr=0,Qr=ne.length-1;cr<Qr;cr++,Qr--){let ui=ne[cr];ne[cr]=ne[Qr],ne[Qr]=ui}}let fe=17,ye=pn.sum(new Int32Array(ne))/fe,ze=(G.getStartEnd()[1]-G.getStartEnd()[0])/15;if(Math.abs(ye-ze)/ze>.3)throw new it;let Ge=this.getOddCounts(),Ye=this.getEvenCounts(),rt=this.getOddRoundingErrors(),st=this.getEvenRoundingErrors();for(let cr=0;cr<ne.length;cr++){let Qr=1*ne[cr]/ye,ui=Qr+.5;if(ui<1){if(Qr<.3)throw new it;ui=1}else if(ui>8){if(Qr>8.7)throw new it;ui=8}let Qs=cr/2;(cr&1)==0?(Ge[Qs]=ui,rt[Qs]=Qr-ui):(Ye[Qs]=ui,st[Qs]=Qr-ui)}this.adjustOddEvenCounts(fe);let ht=4*G.getValue()+(q?0:2)+(ee?0:1)-1,xt=0,vt=0;for(let cr=Ge.length-1;cr>=0;cr--){if(zt.isNotA1left(G,q,ee)){let Qr=zt.WEIGHTS[ht][2*cr];vt+=Ge[cr]*Qr}xt+=Ge[cr]}let Ct=0;for(let cr=Ye.length-1;cr>=0;cr--)if(zt.isNotA1left(G,q,ee)){let Qr=zt.WEIGHTS[ht][2*cr+1];Ct+=Ye[cr]*Qr}let Mt=vt+Ct;if((xt&1)!=0||xt>13||xt<4)throw new it;let qt=(13-xt)/2,Gt=zt.SYMBOL_WIDEST[qt],Vt=9-Gt,Pn=mi.getRSSvalue(Ge,Gt,!0),Rn=mi.getRSSvalue(Ye,Vt,!1),Dr=zt.EVEN_TOTAL_SUBSET[qt],vi=zt.GSUM[qt],ni=Pn*Dr+Rn+vi;return new Ri(ni,Mt)}static isNotA1left(M,G,q){return!(M.getValue()==0&&G&&q)}adjustOddEvenCounts(M){let G=pn.sum(new Int32Array(this.getOddCounts())),q=pn.sum(new Int32Array(this.getEvenCounts())),ee=!1,ne=!1;G>13?ne=!0:G<4&&(ee=!0);let fe=!1,ye=!1;q>13?ye=!0:q<4&&(fe=!0);let ze=G+q-M,Ge=(G&1)==1,Ye=(q&1)==0;if(ze==1)if(Ge){if(Ye)throw new it;ne=!0}else{if(!Ye)throw new it;ye=!0}else if(ze==-1)if(Ge){if(Ye)throw new it;ee=!0}else{if(!Ye)throw new it;fe=!0}else if(ze==0){if(Ge){if(!Ye)throw new it;G<q?(ee=!0,ye=!0):(ne=!0,fe=!0)}else if(Ye)throw new it}else throw new it;if(ee){if(ne)throw new it;zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(ne&&zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),fe){if(ye)throw new it;zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}ye&&zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zt.SYMBOL_WIDEST=[7,5,4,3,1],zt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],zt.GSUM=[0,348,1388,2948,3988],zt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],zt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],zt.FINDER_PAT_A=0,zt.FINDER_PAT_B=1,zt.FINDER_PAT_C=2,zt.FINDER_PAT_D=3,zt.FINDER_PAT_E=4,zt.FINDER_PAT_F=5,zt.FINDER_PATTERN_SEQUENCES=[[zt.FINDER_PAT_A,zt.FINDER_PAT_A],[zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B],[zt.FINDER_PAT_A,zt.FINDER_PAT_C,zt.FINDER_PAT_B,zt.FINDER_PAT_D],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_C],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_D,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_E,zt.FINDER_PAT_B,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_D],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_E],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F],[zt.FINDER_PAT_A,zt.FINDER_PAT_A,zt.FINDER_PAT_B,zt.FINDER_PAT_B,zt.FINDER_PAT_C,zt.FINDER_PAT_D,zt.FINDER_PAT_D,zt.FINDER_PAT_E,zt.FINDER_PAT_E,zt.FINDER_PAT_F,zt.FINDER_PAT_F]],zt.MAX_PAIRS=11;class as extends Ri{constructor(M,G,q){super(M,G),this.count=0,this.finderPattern=q}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Hn extends Rr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(M,G,q){const ee=this.decodePair(G,!1,M,q);Hn.addOrTally(this.possibleLeftPairs,ee),G.reverse();let ne=this.decodePair(G,!0,M,q);Hn.addOrTally(this.possibleRightPairs,ne),G.reverse();for(let fe of this.possibleLeftPairs)if(fe.getCount()>1){for(let ye of this.possibleRightPairs)if(ye.getCount()>1&&Hn.checkChecksum(fe,ye))return Hn.constructResult(fe,ye)}throw new it}static addOrTally(M,G){if(G==null)return;let q=!1;for(let ee of M)if(ee.getValue()===G.getValue()){ee.incrementCount(),q=!0;break}q||M.push(G)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(M,G){let q=4537077*M.getValue()+G.getValue(),ee=new String(q).toString(),ne=new pt;for(let Ge=13-ee.length;Ge>0;Ge--)ne.append("0");ne.append(ee);let fe=0;for(let Ge=0;Ge<13;Ge++){let Ye=ne.charAt(Ge).charCodeAt(0)-48;fe+=(Ge&1)===0?3*Ye:Ye}fe=10-fe%10,fe===10&&(fe=0),ne.append(fe.toString());let ye=M.getFinderPattern().getResultPoints(),ze=G.getFinderPattern().getResultPoints();return new St(ne.toString(),null,0,[ye[0],ye[1],ze[0],ze[1]],Rt.RSS_14,new Date().getTime())}static checkChecksum(M,G){let q=(M.getChecksumPortion()+16*G.getChecksumPortion())%79,ee=9*M.getFinderPattern().getValue()+G.getFinderPattern().getValue();return ee>72&&ee--,ee>8&&ee--,q===ee}decodePair(M,G,q,ee){try{let ne=this.findFinderPattern(M,G),fe=this.parseFoundFinderPattern(M,q,G,ne),ye=ee==null?null:ee.get(Ue.NEED_RESULT_POINT_CALLBACK);if(ye!=null){let Ye=(ne[0]+ne[1])/2;G&&(Ye=M.getSize()-1-Ye),ye.foundPossibleResultPoint(new Kt(Ye,q))}let ze=this.decodeDataCharacter(M,fe,!0),Ge=this.decodeDataCharacter(M,fe,!1);return new as(1597*ze.getValue()+Ge.getValue(),ze.getChecksumPortion()+4*Ge.getChecksumPortion(),fe)}catch{return null}}decodeDataCharacter(M,G,q){let ee=this.getDataCharacterCounters();for(let Ct=0;Ct<ee.length;Ct++)ee[Ct]=0;if(q)Dn.recordPatternInReverse(M,G.getStartEnd()[0],ee);else{Dn.recordPattern(M,G.getStartEnd()[1]+1,ee);for(let Ct=0,Mt=ee.length-1;Ct<Mt;Ct++,Mt--){let qt=ee[Ct];ee[Ct]=ee[Mt],ee[Mt]=qt}}let ne=q?16:15,fe=pn.sum(new Int32Array(ee))/ne,ye=this.getOddCounts(),ze=this.getEvenCounts(),Ge=this.getOddRoundingErrors(),Ye=this.getEvenRoundingErrors();for(let Ct=0;Ct<ee.length;Ct++){let Mt=ee[Ct]/fe,qt=Math.floor(Mt+.5);qt<1?qt=1:qt>8&&(qt=8);let Gt=Math.floor(Ct/2);(Ct&1)===0?(ye[Gt]=qt,Ge[Gt]=Mt-qt):(ze[Gt]=qt,Ye[Gt]=Mt-qt)}this.adjustOddEvenCounts(q,ne);let rt=0,st=0;for(let Ct=ye.length-1;Ct>=0;Ct--)st*=9,st+=ye[Ct],rt+=ye[Ct];let ht=0,xt=0;for(let Ct=ze.length-1;Ct>=0;Ct--)ht*=9,ht+=ze[Ct],xt+=ze[Ct];let vt=st+3*ht;if(q){if((rt&1)!==0||rt>12||rt<4)throw new it;let Ct=(12-rt)/2,Mt=Hn.OUTSIDE_ODD_WIDEST[Ct],qt=9-Mt,Gt=mi.getRSSvalue(ye,Mt,!1),Vt=mi.getRSSvalue(ze,qt,!0),Pn=Hn.OUTSIDE_EVEN_TOTAL_SUBSET[Ct],Rn=Hn.OUTSIDE_GSUM[Ct];return new Ri(Gt*Pn+Vt+Rn,vt)}else{if((xt&1)!==0||xt>10||xt<4)throw new it;let Ct=(10-xt)/2,Mt=Hn.INSIDE_ODD_WIDEST[Ct],qt=9-Mt,Gt=mi.getRSSvalue(ye,Mt,!0),Vt=mi.getRSSvalue(ze,qt,!1),Pn=Hn.INSIDE_ODD_TOTAL_SUBSET[Ct],Rn=Hn.INSIDE_GSUM[Ct];return new Ri(Vt*Pn+Gt+Rn,vt)}}findFinderPattern(M,G){let q=this.getDecodeFinderCounters();q[0]=0,q[1]=0,q[2]=0,q[3]=0;let ee=M.getSize(),ne=!1,fe=0;for(;fe<ee&&(ne=!M.get(fe),G!==ne);)fe++;let ye=0,ze=fe;for(let Ge=fe;Ge<ee;Ge++)if(M.get(Ge)!==ne)q[ye]++;else{if(ye===3){if(Rr.isFinderPattern(q))return[ze,Ge];ze+=q[0]+q[1],q[0]=q[2],q[1]=q[3],q[2]=0,q[3]=0,ye--}else ye++;q[ye]=1,ne=!ne}throw new it}parseFoundFinderPattern(M,G,q,ee){let ne=M.get(ee[0]),fe=ee[0]-1;for(;fe>=0&&ne!==M.get(fe);)fe--;fe++;const ye=ee[0]-fe,ze=this.getDecodeFinderCounters(),Ge=new Int32Array(ze.length);pe.arraycopy(ze,0,Ge,1,ze.length-1),Ge[0]=ye;const Ye=this.parseFinderValue(Ge,Hn.FINDER_PATTERNS);let rt=fe,st=ee[1];return q&&(rt=M.getSize()-1-rt,st=M.getSize()-1-st),new Li(Ye,[fe,ee[1]],rt,st,G)}adjustOddEvenCounts(M,G){let q=pn.sum(new Int32Array(this.getOddCounts())),ee=pn.sum(new Int32Array(this.getEvenCounts())),ne=!1,fe=!1,ye=!1,ze=!1;M?(q>12?fe=!0:q<4&&(ne=!0),ee>12?ze=!0:ee<4&&(ye=!0)):(q>11?fe=!0:q<5&&(ne=!0),ee>10?ze=!0:ee<4&&(ye=!0));let Ge=q+ee-G,Ye=(q&1)===(M?1:0),rt=(ee&1)===1;if(Ge===1)if(Ye){if(rt)throw new it;fe=!0}else{if(!rt)throw new it;ze=!0}else if(Ge===-1)if(Ye){if(rt)throw new it;ne=!0}else{if(!rt)throw new it;ye=!0}else if(Ge===0){if(Ye){if(!rt)throw new it;q<ee?(ne=!0,ze=!0):(fe=!0,ye=!0)}else if(rt)throw new it}else throw new it;if(ne){if(fe)throw new it;Rr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(fe&&Rr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),ye){if(ze)throw new it;Rr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}ze&&Rr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Hn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Hn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Hn.OUTSIDE_GSUM=[0,161,961,2015,2715],Hn.INSIDE_GSUM=[0,336,1036,1516],Hn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Hn.INSIDE_ODD_WIDEST=[2,4,6,8],Hn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Jr extends Dn{constructor(M,G){super(),this.readers=[],this.verbose=G===!0;const q=M?M.get(Ue.POSSIBLE_FORMATS):null,ee=M&&M.get(Ue.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;q?((q.includes(Rt.EAN_13)||q.includes(Rt.UPC_A)||q.includes(Rt.EAN_8)||q.includes(Rt.UPC_E))&&this.readers.push(new ss(M)),q.includes(Rt.CODE_39)&&this.readers.push(new Xn(ee)),q.includes(Rt.CODE_128)&&this.readers.push(new Ut),q.includes(Rt.ITF)&&this.readers.push(new Sn),q.includes(Rt.RSS_14)&&this.readers.push(new Hn),q.includes(Rt.RSS_EXPANDED)&&this.readers.push(new zt(this.verbose))):(this.readers.push(new ss(M)),this.readers.push(new Xn),this.readers.push(new ss(M)),this.readers.push(new Ut),this.readers.push(new Sn),this.readers.push(new Hn),this.readers.push(new zt(this.verbose)))}decodeRow(M,G,q){for(let ee=0;ee<this.readers.length;ee++)try{return this.readers[ee].decodeRow(M,G,q)}catch{}throw new it}reset(){this.readers.forEach(M=>M.reset())}}class zs extends Et{constructor(M=500,G){super(new Jr(G),M,G)}}class rn{constructor(M,G,q){this.ecCodewords=M,this.ecBlocks=[G],q&&this.ecBlocks.push(q)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vn{constructor(M,G){this.count=M,this.dataCodewords=G}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tn{constructor(M,G,q,ee,ne,fe){this.versionNumber=M,this.symbolSizeRows=G,this.symbolSizeColumns=q,this.dataRegionSizeRows=ee,this.dataRegionSizeColumns=ne,this.ecBlocks=fe;let ye=0;const ze=fe.getECCodewords(),Ge=fe.getECBlocks();for(let Ye of Ge)ye+=Ye.getCount()*(Ye.getDataCodewords()+ze);this.totalCodewords=ye}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(M,G){if((M&1)!==0||(G&1)!==0)throw new He;for(let q of Tn.VERSIONS)if(q.symbolSizeRows===M&&q.symbolSizeColumns===G)return q;throw new He}toString(){return""+this.versionNumber}static buildVersions(){return[new Tn(1,10,10,8,8,new rn(5,new vn(1,3))),new Tn(2,12,12,10,10,new rn(7,new vn(1,5))),new Tn(3,14,14,12,12,new rn(10,new vn(1,8))),new Tn(4,16,16,14,14,new rn(12,new vn(1,12))),new Tn(5,18,18,16,16,new rn(14,new vn(1,18))),new Tn(6,20,20,18,18,new rn(18,new vn(1,22))),new Tn(7,22,22,20,20,new rn(20,new vn(1,30))),new Tn(8,24,24,22,22,new rn(24,new vn(1,36))),new Tn(9,26,26,24,24,new rn(28,new vn(1,44))),new Tn(10,32,32,14,14,new rn(36,new vn(1,62))),new Tn(11,36,36,16,16,new rn(42,new vn(1,86))),new Tn(12,40,40,18,18,new rn(48,new vn(1,114))),new Tn(13,44,44,20,20,new rn(56,new vn(1,144))),new Tn(14,48,48,22,22,new rn(68,new vn(1,174))),new Tn(15,52,52,24,24,new rn(42,new vn(2,102))),new Tn(16,64,64,14,14,new rn(56,new vn(2,140))),new Tn(17,72,72,16,16,new rn(36,new vn(4,92))),new Tn(18,80,80,18,18,new rn(48,new vn(4,114))),new Tn(19,88,88,20,20,new rn(56,new vn(4,144))),new Tn(20,96,96,22,22,new rn(68,new vn(4,174))),new Tn(21,104,104,24,24,new rn(56,new vn(6,136))),new Tn(22,120,120,18,18,new rn(68,new vn(6,175))),new Tn(23,132,132,20,20,new rn(62,new vn(8,163))),new Tn(24,144,144,22,22,new rn(62,new vn(8,156),new vn(2,155))),new Tn(25,8,18,6,16,new rn(7,new vn(1,5))),new Tn(26,8,32,6,14,new rn(11,new vn(1,10))),new Tn(27,12,26,10,24,new rn(14,new vn(1,16))),new Tn(28,12,36,10,16,new rn(18,new vn(1,22))),new Tn(29,16,36,14,16,new rn(24,new vn(1,32))),new Tn(30,16,48,14,22,new rn(28,new vn(1,49)))]}}Tn.VERSIONS=Tn.buildVersions();class oi{constructor(M){const G=M.getHeight();if(G<8||G>144||(G&1)!==0)throw new He;this.version=oi.readVersion(M),this.mappingBitMatrix=this.extractDataRegion(M),this.readMappingMatrix=new yt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(M){const G=M.getHeight(),q=M.getWidth();return Tn.getVersionForDimensions(G,q)}readCodewords(){const M=new Int8Array(this.version.getTotalCodewords());let G=0,q=4,ee=0;const ne=this.mappingBitMatrix.getHeight(),fe=this.mappingBitMatrix.getWidth();let ye=!1,ze=!1,Ge=!1,Ye=!1;do if(q===ne&&ee===0&&!ye)M[G++]=this.readCorner1(ne,fe)&255,q-=2,ee+=2,ye=!0;else if(q===ne-2&&ee===0&&(fe&3)!==0&&!ze)M[G++]=this.readCorner2(ne,fe)&255,q-=2,ee+=2,ze=!0;else if(q===ne+4&&ee===2&&(fe&7)===0&&!Ge)M[G++]=this.readCorner3(ne,fe)&255,q-=2,ee+=2,Ge=!0;else if(q===ne-2&&ee===0&&(fe&7)===4&&!Ye)M[G++]=this.readCorner4(ne,fe)&255,q-=2,ee+=2,Ye=!0;else{do q<ne&&ee>=0&&!this.readMappingMatrix.get(ee,q)&&(M[G++]=this.readUtah(q,ee,ne,fe)&255),q-=2,ee+=2;while(q>=0&&ee<fe);q+=1,ee+=3;do q>=0&&ee<fe&&!this.readMappingMatrix.get(ee,q)&&(M[G++]=this.readUtah(q,ee,ne,fe)&255),q+=2,ee-=2;while(q<ne&&ee>=0);q+=3,ee+=1}while(q<ne||ee<fe);if(G!==this.version.getTotalCodewords())throw new He;return M}readModule(M,G,q,ee){return M<0&&(M+=q,G+=4-(q+4&7)),G<0&&(G+=ee,M+=4-(ee+4&7)),this.readMappingMatrix.set(G,M),this.mappingBitMatrix.get(G,M)}readUtah(M,G,q,ee){let ne=0;return this.readModule(M-2,G-2,q,ee)&&(ne|=1),ne<<=1,this.readModule(M-2,G-1,q,ee)&&(ne|=1),ne<<=1,this.readModule(M-1,G-2,q,ee)&&(ne|=1),ne<<=1,this.readModule(M-1,G-1,q,ee)&&(ne|=1),ne<<=1,this.readModule(M-1,G,q,ee)&&(ne|=1),ne<<=1,this.readModule(M,G-2,q,ee)&&(ne|=1),ne<<=1,this.readModule(M,G-1,q,ee)&&(ne|=1),ne<<=1,this.readModule(M,G,q,ee)&&(ne|=1),ne}readCorner1(M,G){let q=0;return this.readModule(M-1,0,M,G)&&(q|=1),q<<=1,this.readModule(M-1,1,M,G)&&(q|=1),q<<=1,this.readModule(M-1,2,M,G)&&(q|=1),q<<=1,this.readModule(0,G-2,M,G)&&(q|=1),q<<=1,this.readModule(0,G-1,M,G)&&(q|=1),q<<=1,this.readModule(1,G-1,M,G)&&(q|=1),q<<=1,this.readModule(2,G-1,M,G)&&(q|=1),q<<=1,this.readModule(3,G-1,M,G)&&(q|=1),q}readCorner2(M,G){let q=0;return this.readModule(M-3,0,M,G)&&(q|=1),q<<=1,this.readModule(M-2,0,M,G)&&(q|=1),q<<=1,this.readModule(M-1,0,M,G)&&(q|=1),q<<=1,this.readModule(0,G-4,M,G)&&(q|=1),q<<=1,this.readModule(0,G-3,M,G)&&(q|=1),q<<=1,this.readModule(0,G-2,M,G)&&(q|=1),q<<=1,this.readModule(0,G-1,M,G)&&(q|=1),q<<=1,this.readModule(1,G-1,M,G)&&(q|=1),q}readCorner3(M,G){let q=0;return this.readModule(M-1,0,M,G)&&(q|=1),q<<=1,this.readModule(M-1,G-1,M,G)&&(q|=1),q<<=1,this.readModule(0,G-3,M,G)&&(q|=1),q<<=1,this.readModule(0,G-2,M,G)&&(q|=1),q<<=1,this.readModule(0,G-1,M,G)&&(q|=1),q<<=1,this.readModule(1,G-3,M,G)&&(q|=1),q<<=1,this.readModule(1,G-2,M,G)&&(q|=1),q<<=1,this.readModule(1,G-1,M,G)&&(q|=1),q}readCorner4(M,G){let q=0;return this.readModule(M-3,0,M,G)&&(q|=1),q<<=1,this.readModule(M-2,0,M,G)&&(q|=1),q<<=1,this.readModule(M-1,0,M,G)&&(q|=1),q<<=1,this.readModule(0,G-2,M,G)&&(q|=1),q<<=1,this.readModule(0,G-1,M,G)&&(q|=1),q<<=1,this.readModule(1,G-1,M,G)&&(q|=1),q<<=1,this.readModule(2,G-1,M,G)&&(q|=1),q<<=1,this.readModule(3,G-1,M,G)&&(q|=1),q}extractDataRegion(M){const G=this.version.getSymbolSizeRows(),q=this.version.getSymbolSizeColumns();if(M.getHeight()!==G)throw new J("Dimension of bitMatrix must match the version size");const ee=this.version.getDataRegionSizeRows(),ne=this.version.getDataRegionSizeColumns(),fe=G/ee|0,ye=q/ne|0,ze=fe*ee,Ge=ye*ne,Ye=new yt(Ge,ze);for(let rt=0;rt<fe;++rt){const st=rt*ee;for(let ht=0;ht<ye;++ht){const xt=ht*ne;for(let vt=0;vt<ee;++vt){const Ct=rt*(ee+2)+1+vt,Mt=st+vt;for(let qt=0;qt<ne;++qt){const Gt=ht*(ne+2)+1+qt;if(M.get(Gt,Ct)){const Vt=xt+qt;Ye.set(Vt,Mt)}}}}}return Ye}}class ir{constructor(M,G){this.numDataCodewords=M,this.codewords=G}static getDataBlocks(M,G){const q=G.getECBlocks();let ee=0;const ne=q.getECBlocks();for(let vt of ne)ee+=vt.getCount();const fe=new Array(ee);let ye=0;for(let vt of ne)for(let Ct=0;Ct<vt.getCount();Ct++){const Mt=vt.getDataCodewords(),qt=q.getECCodewords()+Mt;fe[ye++]=new ir(Mt,new Uint8Array(qt))}const Ge=fe[0].codewords.length-q.getECCodewords(),Ye=Ge-1;let rt=0;for(let vt=0;vt<Ye;vt++)for(let Ct=0;Ct<ye;Ct++)fe[Ct].codewords[vt]=M[rt++];const st=G.getVersionNumber()===24,ht=st?8:ye;for(let vt=0;vt<ht;vt++)fe[vt].codewords[Ge-1]=M[rt++];const xt=fe[0].codewords.length;for(let vt=Ge;vt<xt;vt++)for(let Ct=0;Ct<ye;Ct++){const Mt=st?(Ct+8)%ye:Ct,qt=st&&Mt>7?vt-1:vt;fe[Mt].codewords[qt]=M[rt++]}if(rt!==M.length)throw new J;return fe}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ei{constructor(M){this.bytes=M,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(M){if(M<1||M>32||M>this.available())throw new J(""+M);let G=0,q=this.bitOffset,ee=this.byteOffset;const ne=this.bytes;if(q>0){const fe=8-q,ye=M<fe?M:fe,ze=fe-ye,Ge=255>>8-ye<<ze;G=(ne[ee]&Ge)>>ze,M-=ye,q+=ye,q===8&&(q=0,ee++)}if(M>0){for(;M>=8;)G=G<<8|ne[ee]&255,ee++,M-=8;if(M>0){const fe=8-M,ye=255>>fe<<fe;G=G<<M|(ne[ee]&ye)>>fe,q+=M}}return this.bitOffset=q,this.byteOffset=ee,G}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qn;(function(nt){nt[nt.PAD_ENCODE=0]="PAD_ENCODE",nt[nt.ASCII_ENCODE=1]="ASCII_ENCODE",nt[nt.C40_ENCODE=2]="C40_ENCODE",nt[nt.TEXT_ENCODE=3]="TEXT_ENCODE",nt[nt.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",nt[nt.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",nt[nt.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qn||(Qn={}));class Ti{static decode(M){const G=new ei(M),q=new pt,ee=new pt,ne=new Array;let fe=Qn.ASCII_ENCODE;do if(fe===Qn.ASCII_ENCODE)fe=this.decodeAsciiSegment(G,q,ee);else{switch(fe){case Qn.C40_ENCODE:this.decodeC40Segment(G,q);break;case Qn.TEXT_ENCODE:this.decodeTextSegment(G,q);break;case Qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(G,q);break;case Qn.EDIFACT_ENCODE:this.decodeEdifactSegment(G,q);break;case Qn.BASE256_ENCODE:this.decodeBase256Segment(G,q,ne);break;default:throw new He}fe=Qn.ASCII_ENCODE}while(fe!==Qn.PAD_ENCODE&&G.available()>0);return ee.length()>0&&q.append(ee.toString()),new mn(M,q.toString(),ne.length===0?null:ne,null)}static decodeAsciiSegment(M,G,q){let ee=!1;do{let ne=M.readBits(8);if(ne===0)throw new He;if(ne<=128)return ee&&(ne+=128),G.append(String.fromCharCode(ne-1)),Qn.ASCII_ENCODE;if(ne===129)return Qn.PAD_ENCODE;if(ne<=229){const fe=ne-130;fe<10&&G.append("0"),G.append(""+fe)}else switch(ne){case 230:return Qn.C40_ENCODE;case 231:return Qn.BASE256_ENCODE;case 232:G.append("");break;case 233:case 234:break;case 235:ee=!0;break;case 236:G.append("[)>05"),q.insert(0,"");break;case 237:G.append("[)>06"),q.insert(0,"");break;case 238:return Qn.ANSIX12_ENCODE;case 239:return Qn.TEXT_ENCODE;case 240:return Qn.EDIFACT_ENCODE;case 241:break;default:if(ne!==254||M.available()!==0)throw new He;break}}while(M.available()>0);return Qn.ASCII_ENCODE}static decodeC40Segment(M,G){let q=!1;const ee=[];let ne=0;do{if(M.available()===8)return;const fe=M.readBits(8);if(fe===254)return;this.parseTwoBytes(fe,M.readBits(8),ee);for(let ye=0;ye<3;ye++){const ze=ee[ye];switch(ne){case 0:if(ze<3)ne=ze+1;else if(ze<this.C40_BASIC_SET_CHARS.length){const Ge=this.C40_BASIC_SET_CHARS[ze];q?(G.append(String.fromCharCode(Ge.charCodeAt(0)+128)),q=!1):G.append(Ge)}else throw new He;break;case 1:q?(G.append(String.fromCharCode(ze+128)),q=!1):G.append(String.fromCharCode(ze)),ne=0;break;case 2:if(ze<this.C40_SHIFT2_SET_CHARS.length){const Ge=this.C40_SHIFT2_SET_CHARS[ze];q?(G.append(String.fromCharCode(Ge.charCodeAt(0)+128)),q=!1):G.append(Ge)}else switch(ze){case 27:G.append("");break;case 30:q=!0;break;default:throw new He}ne=0;break;case 3:q?(G.append(String.fromCharCode(ze+224)),q=!1):G.append(String.fromCharCode(ze+96)),ne=0;break;default:throw new He}}}while(M.available()>0)}static decodeTextSegment(M,G){let q=!1,ee=[],ne=0;do{if(M.available()===8)return;const fe=M.readBits(8);if(fe===254)return;this.parseTwoBytes(fe,M.readBits(8),ee);for(let ye=0;ye<3;ye++){const ze=ee[ye];switch(ne){case 0:if(ze<3)ne=ze+1;else if(ze<this.TEXT_BASIC_SET_CHARS.length){const Ge=this.TEXT_BASIC_SET_CHARS[ze];q?(G.append(String.fromCharCode(Ge.charCodeAt(0)+128)),q=!1):G.append(Ge)}else throw new He;break;case 1:q?(G.append(String.fromCharCode(ze+128)),q=!1):G.append(String.fromCharCode(ze)),ne=0;break;case 2:if(ze<this.TEXT_SHIFT2_SET_CHARS.length){const Ge=this.TEXT_SHIFT2_SET_CHARS[ze];q?(G.append(String.fromCharCode(Ge.charCodeAt(0)+128)),q=!1):G.append(Ge)}else switch(ze){case 27:G.append("");break;case 30:q=!0;break;default:throw new He}ne=0;break;case 3:if(ze<this.TEXT_SHIFT3_SET_CHARS.length){const Ge=this.TEXT_SHIFT3_SET_CHARS[ze];q?(G.append(String.fromCharCode(Ge.charCodeAt(0)+128)),q=!1):G.append(Ge),ne=0}else throw new He;break;default:throw new He}}}while(M.available()>0)}static decodeAnsiX12Segment(M,G){const q=[];do{if(M.available()===8)return;const ee=M.readBits(8);if(ee===254)return;this.parseTwoBytes(ee,M.readBits(8),q);for(let ne=0;ne<3;ne++){const fe=q[ne];switch(fe){case 0:G.append("\r");break;case 1:G.append("*");break;case 2:G.append(">");break;case 3:G.append(" ");break;default:if(fe<14)G.append(String.fromCharCode(fe+44));else if(fe<40)G.append(String.fromCharCode(fe+51));else throw new He;break}}}while(M.available()>0)}static parseTwoBytes(M,G,q){let ee=(M<<8)+G-1,ne=Math.floor(ee/1600);q[0]=ne,ee-=ne*1600,ne=Math.floor(ee/40),q[1]=ne,q[2]=ee-ne*40}static decodeEdifactSegment(M,G){do{if(M.available()<=16)return;for(let q=0;q<4;q++){let ee=M.readBits(6);if(ee===31){const ne=8-M.getBitOffset();ne!==8&&M.readBits(ne);return}(ee&32)===0&&(ee|=64),G.append(String.fromCharCode(ee))}}while(M.available()>0)}static decodeBase256Segment(M,G,q){let ee=1+M.getByteOffset();const ne=this.unrandomize255State(M.readBits(8),ee++);let fe;if(ne===0?fe=M.available()/8|0:ne<250?fe=ne:fe=250*(ne-249)+this.unrandomize255State(M.readBits(8),ee++),fe<0)throw new He;const ye=new Uint8Array(fe);for(let ze=0;ze<fe;ze++){if(M.available()<8)throw new He;ye[ze]=this.unrandomize255State(M.readBits(8),ee++)}q.push(ye);try{G.append(ct.decode(ye,ot.ISO88591))}catch(ze){throw new Kn("Platform does not support required encoding: "+ze.message)}}static unrandomize255State(M,G){const q=149*G%255+1,ee=M-q;return ee>=0?ee:ee+256}}Ti.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ti.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ti.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ti.TEXT_SHIFT2_SET_CHARS=Ti.C40_SHIFT2_SET_CHARS,Ti.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ac{constructor(){this.rsDecoder=new Nr(tn.DATA_MATRIX_FIELD_256)}decode(M){const G=new oi(M),q=G.getVersion(),ee=G.readCodewords(),ne=ir.getDataBlocks(ee,q);let fe=0;for(let Ge of ne)fe+=Ge.getNumDataCodewords();const ye=new Uint8Array(fe),ze=ne.length;for(let Ge=0;Ge<ze;Ge++){const Ye=ne[Ge],rt=Ye.getCodewords(),st=Ye.getNumDataCodewords();this.correctErrors(rt,st);for(let ht=0;ht<st;ht++)ye[ht*ze+Ge]=rt[ht]}return Ti.decode(ye)}correctErrors(M,G){const q=new Int32Array(M);try{this.rsDecoder.decode(q,M.length-G)}catch{throw new ae}for(let ee=0;ee<G;ee++)M[ee]=q[ee]}}class Sr{constructor(M){this.image=M,this.rectangleDetector=new Ht(this.image)}detect(){const M=this.rectangleDetector.detect();let G=this.detectSolid1(M);if(G=this.detectSolid2(G),G[3]=this.correctTopRight(G),!G[3])throw new it;G=this.shiftToModuleCenter(G);const q=G[0],ee=G[1],ne=G[2],fe=G[3];let ye=this.transitionsBetween(q,fe)+1,ze=this.transitionsBetween(ne,fe)+1;(ye&1)===1&&(ye+=1),(ze&1)===1&&(ze+=1),4*ye<7*ze&&4*ze<7*ye&&(ye=ze=Math.max(ye,ze));let Ge=Sr.sampleGrid(this.image,q,ee,ne,fe,ye,ze);return new Wr(Ge,[q,ee,ne,fe])}static shiftPoint(M,G,q){let ee=(G.getX()-M.getX())/(q+1),ne=(G.getY()-M.getY())/(q+1);return new Kt(M.getX()+ee,M.getY()+ne)}static moveAway(M,G,q){let ee=M.getX(),ne=M.getY();return ee<G?ee-=1:ee+=1,ne<q?ne-=1:ne+=1,new Kt(ee,ne)}detectSolid1(M){let G=M[0],q=M[1],ee=M[3],ne=M[2],fe=this.transitionsBetween(G,q),ye=this.transitionsBetween(q,ee),ze=this.transitionsBetween(ee,ne),Ge=this.transitionsBetween(ne,G),Ye=fe,rt=[ne,G,q,ee];return Ye>ye&&(Ye=ye,rt[0]=G,rt[1]=q,rt[2]=ee,rt[3]=ne),Ye>ze&&(Ye=ze,rt[0]=q,rt[1]=ee,rt[2]=ne,rt[3]=G),Ye>Ge&&(rt[0]=ee,rt[1]=ne,rt[2]=G,rt[3]=q),rt}detectSolid2(M){let G=M[0],q=M[1],ee=M[2],ne=M[3],fe=this.transitionsBetween(G,ne),ye=Sr.shiftPoint(q,ee,(fe+1)*4),ze=Sr.shiftPoint(ee,q,(fe+1)*4),Ge=this.transitionsBetween(ye,G),Ye=this.transitionsBetween(ze,ne);return Ge<Ye?(M[0]=G,M[1]=q,M[2]=ee,M[3]=ne):(M[0]=q,M[1]=ee,M[2]=ne,M[3]=G),M}correctTopRight(M){let G=M[0],q=M[1],ee=M[2],ne=M[3],fe=this.transitionsBetween(G,ne),ye=this.transitionsBetween(q,ne),ze=Sr.shiftPoint(G,q,(ye+1)*4),Ge=Sr.shiftPoint(ee,q,(fe+1)*4);fe=this.transitionsBetween(ze,ne),ye=this.transitionsBetween(Ge,ne);let Ye=new Kt(ne.getX()+(ee.getX()-q.getX())/(fe+1),ne.getY()+(ee.getY()-q.getY())/(fe+1)),rt=new Kt(ne.getX()+(G.getX()-q.getX())/(ye+1),ne.getY()+(G.getY()-q.getY())/(ye+1));if(!this.isValid(Ye))return this.isValid(rt)?rt:null;if(!this.isValid(rt))return Ye;let st=this.transitionsBetween(ze,Ye)+this.transitionsBetween(Ge,Ye),ht=this.transitionsBetween(ze,rt)+this.transitionsBetween(Ge,rt);return st>ht?Ye:rt}shiftToModuleCenter(M){let G=M[0],q=M[1],ee=M[2],ne=M[3],fe=this.transitionsBetween(G,ne)+1,ye=this.transitionsBetween(ee,ne)+1,ze=Sr.shiftPoint(G,q,ye*4),Ge=Sr.shiftPoint(ee,q,fe*4);fe=this.transitionsBetween(ze,ne)+1,ye=this.transitionsBetween(Ge,ne)+1,(fe&1)===1&&(fe+=1),(ye&1)===1&&(ye+=1);let Ye=(G.getX()+q.getX()+ee.getX()+ne.getX())/4,rt=(G.getY()+q.getY()+ee.getY()+ne.getY())/4;G=Sr.moveAway(G,Ye,rt),q=Sr.moveAway(q,Ye,rt),ee=Sr.moveAway(ee,Ye,rt),ne=Sr.moveAway(ne,Ye,rt);let st,ht;return ze=Sr.shiftPoint(G,q,ye*4),ze=Sr.shiftPoint(ze,ne,fe*4),st=Sr.shiftPoint(q,G,ye*4),st=Sr.shiftPoint(st,ee,fe*4),Ge=Sr.shiftPoint(ee,ne,ye*4),Ge=Sr.shiftPoint(Ge,q,fe*4),ht=Sr.shiftPoint(ne,ee,ye*4),ht=Sr.shiftPoint(ht,G,fe*4),[ze,st,Ge,ht]}isValid(M){return M.getX()>=0&&M.getX()<this.image.getWidth()&&M.getY()>0&&M.getY()<this.image.getHeight()}static sampleGrid(M,G,q,ee,ne,fe,ye){return In.getInstance().sampleGrid(M,fe,ye,.5,.5,fe-.5,.5,fe-.5,ye-.5,.5,ye-.5,G.getX(),G.getY(),ne.getX(),ne.getY(),ee.getX(),ee.getY(),q.getX(),q.getY())}transitionsBetween(M,G){let q=Math.trunc(M.getX()),ee=Math.trunc(M.getY()),ne=Math.trunc(G.getX()),fe=Math.trunc(G.getY()),ye=Math.abs(fe-ee)>Math.abs(ne-q);if(ye){let vt=q;q=ee,ee=vt,vt=ne,ne=fe,fe=vt}let ze=Math.abs(ne-q),Ge=Math.abs(fe-ee),Ye=-ze/2,rt=ee<fe?1:-1,st=q<ne?1:-1,ht=0,xt=this.image.get(ye?ee:q,ye?q:ee);for(let vt=q,Ct=ee;vt!==ne;vt+=st){let Mt=this.image.get(ye?Ct:vt,ye?vt:Ct);if(Mt!==xt&&(ht++,xt=Mt),Ye+=Ge,Ye>0){if(Ct===fe)break;Ct+=rt,Ye-=ze}}return ht}}class Ki{constructor(){this.decoder=new Ac}decode(M,G=null){let q,ee;if(G!=null&&G.has(Ue.PURE_BARCODE)){const Ge=Ki.extractPureBits(M.getBlackMatrix());q=this.decoder.decode(Ge),ee=Ki.NO_POINTS}else{const Ge=new Sr(M.getBlackMatrix()).detect();q=this.decoder.decode(Ge.getBits()),ee=Ge.getPoints()}const ne=q.getRawBytes(),fe=new St(q.getText(),ne,8*ne.length,ee,Rt.DATA_MATRIX,pe.currentTimeMillis()),ye=q.getByteSegments();ye!=null&&fe.putMetadata(nn.BYTE_SEGMENTS,ye);const ze=q.getECLevel();return ze!=null&&fe.putMetadata(nn.ERROR_CORRECTION_LEVEL,ze),fe}reset(){}static extractPureBits(M){const G=M.getTopLeftOnBit(),q=M.getBottomRightOnBit();if(G==null||q==null)throw new it;const ee=this.moduleSize(G,M);let ne=G[1];const fe=q[1];let ye=G[0];const Ge=(q[0]-ye+1)/ee,Ye=(fe-ne+1)/ee;if(Ge<=0||Ye<=0)throw new it;const rt=ee/2;ne+=rt,ye+=rt;const st=new yt(Ge,Ye);for(let ht=0;ht<Ye;ht++){const xt=ne+ht*ee;for(let vt=0;vt<Ge;vt++)M.get(ye+vt*ee,xt)&&st.set(vt,ht)}return st}static moduleSize(M,G){const q=G.getWidth();let ee=M[0];const ne=M[1];for(;ee<q&&G.get(ee,ne);)ee++;if(ee===q)throw new it;const fe=ee-M[0];if(fe===0)throw new it;return fe}}Ki.NO_POINTS=[];class Ha extends Et{constructor(M=500){super(new Ki,M)}}var Hs;(function(nt){nt[nt.L=0]="L",nt[nt.M=1]="M",nt[nt.Q=2]="Q",nt[nt.H=3]="H"})(Hs||(Hs={}));class Bn{constructor(M,G,q){this.value=M,this.stringValue=G,this.bits=q,Bn.FOR_BITS.set(q,this),Bn.FOR_VALUE.set(M,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(M){switch(M){case"L":return Bn.L;case"M":return Bn.M;case"Q":return Bn.Q;case"H":return Bn.H;default:throw new K(M+"not available")}}toString(){return this.stringValue}equals(M){if(!(M instanceof Bn))return!1;const G=M;return this.value===G.value}static forBits(M){if(M<0||M>=Bn.FOR_BITS.size)throw new J;return Bn.FOR_BITS.get(M)}}Bn.FOR_BITS=new Map,Bn.FOR_VALUE=new Map,Bn.L=new Bn(Hs.L,"L",1),Bn.M=new Bn(Hs.M,"M",0),Bn.Q=new Bn(Hs.Q,"Q",3),Bn.H=new Bn(Hs.H,"H",2);class zr{constructor(M){this.errorCorrectionLevel=Bn.forBits(M>>3&3),this.dataMask=M&7}static numBitsDiffering(M,G){return _e.bitCount(M^G)}static decodeFormatInformation(M,G){const q=zr.doDecodeFormatInformation(M,G);return q!==null?q:zr.doDecodeFormatInformation(M^zr.FORMAT_INFO_MASK_QR,G^zr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(M,G){let q=Number.MAX_SAFE_INTEGER,ee=0;for(const ne of zr.FORMAT_INFO_DECODE_LOOKUP){const fe=ne[0];if(fe===M||fe===G)return new zr(ne[1]);let ye=zr.numBitsDiffering(M,fe);ye<q&&(ee=ne[1],q=ye),M!==G&&(ye=zr.numBitsDiffering(G,fe),ye<q&&(ee=ne[1],q=ye))}return q<=3?new zr(ee):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(M){if(!(M instanceof zr))return!1;const G=M;return this.errorCorrectionLevel===G.errorCorrectionLevel&&this.dataMask===G.dataMask}}zr.FORMAT_INFO_MASK_QR=21522,zr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Tt{constructor(M,...G){this.ecCodewordsPerBlock=M,this.ecBlocks=G}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let M=0;const G=this.ecBlocks;for(const q of G)M+=q.getCount();return M}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ut{constructor(M,G){this.count=M,this.dataCodewords=G}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ln{constructor(M,G,...q){this.versionNumber=M,this.alignmentPatternCenters=G,this.ecBlocks=q;let ee=0;const ne=q[0].getECCodewordsPerBlock(),fe=q[0].getECBlocks();for(const ye of fe)ee+=ye.getCount()*(ye.getDataCodewords()+ne);this.totalCodewords=ee}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(M){return this.ecBlocks[M.getValue()]}static getProvisionalVersionForDimension(M){if(M%4!==1)throw new He;try{return this.getVersionForNumber((M-17)/4)}catch{throw new He}}static getVersionForNumber(M){if(M<1||M>40)throw new J;return ln.VERSIONS[M-1]}static decodeVersionInformation(M){let G=Number.MAX_SAFE_INTEGER,q=0;for(let ee=0;ee<ln.VERSION_DECODE_INFO.length;ee++){const ne=ln.VERSION_DECODE_INFO[ee];if(ne===M)return ln.getVersionForNumber(ee+7);const fe=zr.numBitsDiffering(M,ne);fe<G&&(q=ee+7,G=fe)}return G<=3?ln.getVersionForNumber(q):null}buildFunctionPattern(){const M=this.getDimensionForVersion(),G=new yt(M);G.setRegion(0,0,9,9),G.setRegion(M-8,0,8,9),G.setRegion(0,M-8,9,8);const q=this.alignmentPatternCenters.length;for(let ee=0;ee<q;ee++){const ne=this.alignmentPatternCenters[ee]-2;for(let fe=0;fe<q;fe++)ee===0&&(fe===0||fe===q-1)||ee===q-1&&fe===0||G.setRegion(this.alignmentPatternCenters[fe]-2,ne,5,5)}return G.setRegion(6,9,1,M-17),G.setRegion(9,6,M-17,1),this.versionNumber>6&&(G.setRegion(M-11,0,3,6),G.setRegion(0,M-11,6,3)),G}toString(){return""+this.versionNumber}}ln.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ln.VERSIONS=[new ln(1,new Int32Array(0),new Tt(7,new ut(1,19)),new Tt(10,new ut(1,16)),new Tt(13,new ut(1,13)),new Tt(17,new ut(1,9))),new ln(2,Int32Array.from([6,18]),new Tt(10,new ut(1,34)),new Tt(16,new ut(1,28)),new Tt(22,new ut(1,22)),new Tt(28,new ut(1,16))),new ln(3,Int32Array.from([6,22]),new Tt(15,new ut(1,55)),new Tt(26,new ut(1,44)),new Tt(18,new ut(2,17)),new Tt(22,new ut(2,13))),new ln(4,Int32Array.from([6,26]),new Tt(20,new ut(1,80)),new Tt(18,new ut(2,32)),new Tt(26,new ut(2,24)),new Tt(16,new ut(4,9))),new ln(5,Int32Array.from([6,30]),new Tt(26,new ut(1,108)),new Tt(24,new ut(2,43)),new Tt(18,new ut(2,15),new ut(2,16)),new Tt(22,new ut(2,11),new ut(2,12))),new ln(6,Int32Array.from([6,34]),new Tt(18,new ut(2,68)),new Tt(16,new ut(4,27)),new Tt(24,new ut(4,19)),new Tt(28,new ut(4,15))),new ln(7,Int32Array.from([6,22,38]),new Tt(20,new ut(2,78)),new Tt(18,new ut(4,31)),new Tt(18,new ut(2,14),new ut(4,15)),new Tt(26,new ut(4,13),new ut(1,14))),new ln(8,Int32Array.from([6,24,42]),new Tt(24,new ut(2,97)),new Tt(22,new ut(2,38),new ut(2,39)),new Tt(22,new ut(4,18),new ut(2,19)),new Tt(26,new ut(4,14),new ut(2,15))),new ln(9,Int32Array.from([6,26,46]),new Tt(30,new ut(2,116)),new Tt(22,new ut(3,36),new ut(2,37)),new Tt(20,new ut(4,16),new ut(4,17)),new Tt(24,new ut(4,12),new ut(4,13))),new ln(10,Int32Array.from([6,28,50]),new Tt(18,new ut(2,68),new ut(2,69)),new Tt(26,new ut(4,43),new ut(1,44)),new Tt(24,new ut(6,19),new ut(2,20)),new Tt(28,new ut(6,15),new ut(2,16))),new ln(11,Int32Array.from([6,30,54]),new Tt(20,new ut(4,81)),new Tt(30,new ut(1,50),new ut(4,51)),new Tt(28,new ut(4,22),new ut(4,23)),new Tt(24,new ut(3,12),new ut(8,13))),new ln(12,Int32Array.from([6,32,58]),new Tt(24,new ut(2,92),new ut(2,93)),new Tt(22,new ut(6,36),new ut(2,37)),new Tt(26,new ut(4,20),new ut(6,21)),new Tt(28,new ut(7,14),new ut(4,15))),new ln(13,Int32Array.from([6,34,62]),new Tt(26,new ut(4,107)),new Tt(22,new ut(8,37),new ut(1,38)),new Tt(24,new ut(8,20),new ut(4,21)),new Tt(22,new ut(12,11),new ut(4,12))),new ln(14,Int32Array.from([6,26,46,66]),new Tt(30,new ut(3,115),new ut(1,116)),new Tt(24,new ut(4,40),new ut(5,41)),new Tt(20,new ut(11,16),new ut(5,17)),new Tt(24,new ut(11,12),new ut(5,13))),new ln(15,Int32Array.from([6,26,48,70]),new Tt(22,new ut(5,87),new ut(1,88)),new Tt(24,new ut(5,41),new ut(5,42)),new Tt(30,new ut(5,24),new ut(7,25)),new Tt(24,new ut(11,12),new ut(7,13))),new ln(16,Int32Array.from([6,26,50,74]),new Tt(24,new ut(5,98),new ut(1,99)),new Tt(28,new ut(7,45),new ut(3,46)),new Tt(24,new ut(15,19),new ut(2,20)),new Tt(30,new ut(3,15),new ut(13,16))),new ln(17,Int32Array.from([6,30,54,78]),new Tt(28,new ut(1,107),new ut(5,108)),new Tt(28,new ut(10,46),new ut(1,47)),new Tt(28,new ut(1,22),new ut(15,23)),new Tt(28,new ut(2,14),new ut(17,15))),new ln(18,Int32Array.from([6,30,56,82]),new Tt(30,new ut(5,120),new ut(1,121)),new Tt(26,new ut(9,43),new ut(4,44)),new Tt(28,new ut(17,22),new ut(1,23)),new Tt(28,new ut(2,14),new ut(19,15))),new ln(19,Int32Array.from([6,30,58,86]),new Tt(28,new ut(3,113),new ut(4,114)),new Tt(26,new ut(3,44),new ut(11,45)),new Tt(26,new ut(17,21),new ut(4,22)),new Tt(26,new ut(9,13),new ut(16,14))),new ln(20,Int32Array.from([6,34,62,90]),new Tt(28,new ut(3,107),new ut(5,108)),new Tt(26,new ut(3,41),new ut(13,42)),new Tt(30,new ut(15,24),new ut(5,25)),new Tt(28,new ut(15,15),new ut(10,16))),new ln(21,Int32Array.from([6,28,50,72,94]),new Tt(28,new ut(4,116),new ut(4,117)),new Tt(26,new ut(17,42)),new Tt(28,new ut(17,22),new ut(6,23)),new Tt(30,new ut(19,16),new ut(6,17))),new ln(22,Int32Array.from([6,26,50,74,98]),new Tt(28,new ut(2,111),new ut(7,112)),new Tt(28,new ut(17,46)),new Tt(30,new ut(7,24),new ut(16,25)),new Tt(24,new ut(34,13))),new ln(23,Int32Array.from([6,30,54,78,102]),new Tt(30,new ut(4,121),new ut(5,122)),new Tt(28,new ut(4,47),new ut(14,48)),new Tt(30,new ut(11,24),new ut(14,25)),new Tt(30,new ut(16,15),new ut(14,16))),new ln(24,Int32Array.from([6,28,54,80,106]),new Tt(30,new ut(6,117),new ut(4,118)),new Tt(28,new ut(6,45),new ut(14,46)),new Tt(30,new ut(11,24),new ut(16,25)),new Tt(30,new ut(30,16),new ut(2,17))),new ln(25,Int32Array.from([6,32,58,84,110]),new Tt(26,new ut(8,106),new ut(4,107)),new Tt(28,new ut(8,47),new ut(13,48)),new Tt(30,new ut(7,24),new ut(22,25)),new Tt(30,new ut(22,15),new ut(13,16))),new ln(26,Int32Array.from([6,30,58,86,114]),new Tt(28,new ut(10,114),new ut(2,115)),new Tt(28,new ut(19,46),new ut(4,47)),new Tt(28,new ut(28,22),new ut(6,23)),new Tt(30,new ut(33,16),new ut(4,17))),new ln(27,Int32Array.from([6,34,62,90,118]),new Tt(30,new ut(8,122),new ut(4,123)),new Tt(28,new ut(22,45),new ut(3,46)),new Tt(30,new ut(8,23),new ut(26,24)),new Tt(30,new ut(12,15),new ut(28,16))),new ln(28,Int32Array.from([6,26,50,74,98,122]),new Tt(30,new ut(3,117),new ut(10,118)),new Tt(28,new ut(3,45),new ut(23,46)),new Tt(30,new ut(4,24),new ut(31,25)),new Tt(30,new ut(11,15),new ut(31,16))),new ln(29,Int32Array.from([6,30,54,78,102,126]),new Tt(30,new ut(7,116),new ut(7,117)),new Tt(28,new ut(21,45),new ut(7,46)),new Tt(30,new ut(1,23),new ut(37,24)),new Tt(30,new ut(19,15),new ut(26,16))),new ln(30,Int32Array.from([6,26,52,78,104,130]),new Tt(30,new ut(5,115),new ut(10,116)),new Tt(28,new ut(19,47),new ut(10,48)),new Tt(30,new ut(15,24),new ut(25,25)),new Tt(30,new ut(23,15),new ut(25,16))),new ln(31,Int32Array.from([6,30,56,82,108,134]),new Tt(30,new ut(13,115),new ut(3,116)),new Tt(28,new ut(2,46),new ut(29,47)),new Tt(30,new ut(42,24),new ut(1,25)),new Tt(30,new ut(23,15),new ut(28,16))),new ln(32,Int32Array.from([6,34,60,86,112,138]),new Tt(30,new ut(17,115)),new Tt(28,new ut(10,46),new ut(23,47)),new Tt(30,new ut(10,24),new ut(35,25)),new Tt(30,new ut(19,15),new ut(35,16))),new ln(33,Int32Array.from([6,30,58,86,114,142]),new Tt(30,new ut(17,115),new ut(1,116)),new Tt(28,new ut(14,46),new ut(21,47)),new Tt(30,new ut(29,24),new ut(19,25)),new Tt(30,new ut(11,15),new ut(46,16))),new ln(34,Int32Array.from([6,34,62,90,118,146]),new Tt(30,new ut(13,115),new ut(6,116)),new Tt(28,new ut(14,46),new ut(23,47)),new Tt(30,new ut(44,24),new ut(7,25)),new Tt(30,new ut(59,16),new ut(1,17))),new ln(35,Int32Array.from([6,30,54,78,102,126,150]),new Tt(30,new ut(12,121),new ut(7,122)),new Tt(28,new ut(12,47),new ut(26,48)),new Tt(30,new ut(39,24),new ut(14,25)),new Tt(30,new ut(22,15),new ut(41,16))),new ln(36,Int32Array.from([6,24,50,76,102,128,154]),new Tt(30,new ut(6,121),new ut(14,122)),new Tt(28,new ut(6,47),new ut(34,48)),new Tt(30,new ut(46,24),new ut(10,25)),new Tt(30,new ut(2,15),new ut(64,16))),new ln(37,Int32Array.from([6,28,54,80,106,132,158]),new Tt(30,new ut(17,122),new ut(4,123)),new Tt(28,new ut(29,46),new ut(14,47)),new Tt(30,new ut(49,24),new ut(10,25)),new Tt(30,new ut(24,15),new ut(46,16))),new ln(38,Int32Array.from([6,32,58,84,110,136,162]),new Tt(30,new ut(4,122),new ut(18,123)),new Tt(28,new ut(13,46),new ut(32,47)),new Tt(30,new ut(48,24),new ut(14,25)),new Tt(30,new ut(42,15),new ut(32,16))),new ln(39,Int32Array.from([6,26,54,82,110,138,166]),new Tt(30,new ut(20,117),new ut(4,118)),new Tt(28,new ut(40,47),new ut(7,48)),new Tt(30,new ut(43,24),new ut(22,25)),new Tt(30,new ut(10,15),new ut(67,16))),new ln(40,Int32Array.from([6,30,58,86,114,142,170]),new Tt(30,new ut(19,118),new ut(6,119)),new Tt(28,new ut(18,47),new ut(31,48)),new Tt(30,new ut(34,24),new ut(34,25)),new Tt(30,new ut(20,15),new ut(61,16)))];var Pr;(function(nt){nt[nt.DATA_MASK_000=0]="DATA_MASK_000",nt[nt.DATA_MASK_001=1]="DATA_MASK_001",nt[nt.DATA_MASK_010=2]="DATA_MASK_010",nt[nt.DATA_MASK_011=3]="DATA_MASK_011",nt[nt.DATA_MASK_100=4]="DATA_MASK_100",nt[nt.DATA_MASK_101=5]="DATA_MASK_101",nt[nt.DATA_MASK_110=6]="DATA_MASK_110",nt[nt.DATA_MASK_111=7]="DATA_MASK_111"})(Pr||(Pr={}));class li{constructor(M,G){this.value=M,this.isMasked=G}unmaskBitMatrix(M,G){for(let q=0;q<G;q++)for(let ee=0;ee<G;ee++)this.isMasked(q,ee)&&M.flip(ee,q)}}li.values=new Map([[Pr.DATA_MASK_000,new li(Pr.DATA_MASK_000,(nt,M)=>(nt+M&1)===0)],[Pr.DATA_MASK_001,new li(Pr.DATA_MASK_001,(nt,M)=>(nt&1)===0)],[Pr.DATA_MASK_010,new li(Pr.DATA_MASK_010,(nt,M)=>M%3===0)],[Pr.DATA_MASK_011,new li(Pr.DATA_MASK_011,(nt,M)=>(nt+M)%3===0)],[Pr.DATA_MASK_100,new li(Pr.DATA_MASK_100,(nt,M)=>(Math.floor(nt/2)+Math.floor(M/3)&1)===0)],[Pr.DATA_MASK_101,new li(Pr.DATA_MASK_101,(nt,M)=>nt*M%6===0)],[Pr.DATA_MASK_110,new li(Pr.DATA_MASK_110,(nt,M)=>nt*M%6<3)],[Pr.DATA_MASK_111,new li(Pr.DATA_MASK_111,(nt,M)=>(nt+M+nt*M%3&1)===0)]]);class Vs{constructor(M){const G=M.getHeight();if(G<21||(G&3)!==1)throw new He;this.bitMatrix=M}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let M=0;for(let ne=0;ne<6;ne++)M=this.copyBit(ne,8,M);M=this.copyBit(7,8,M),M=this.copyBit(8,8,M),M=this.copyBit(8,7,M);for(let ne=5;ne>=0;ne--)M=this.copyBit(8,ne,M);const G=this.bitMatrix.getHeight();let q=0;const ee=G-7;for(let ne=G-1;ne>=ee;ne--)q=this.copyBit(8,ne,q);for(let ne=G-8;ne<G;ne++)q=this.copyBit(ne,8,q);if(this.parsedFormatInfo=zr.decodeFormatInformation(M,q),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new He}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const M=this.bitMatrix.getHeight(),G=Math.floor((M-17)/4);if(G<=6)return ln.getVersionForNumber(G);let q=0;const ee=M-11;for(let fe=5;fe>=0;fe--)for(let ye=M-9;ye>=ee;ye--)q=this.copyBit(ye,fe,q);let ne=ln.decodeVersionInformation(q);if(ne!==null&&ne.getDimensionForVersion()===M)return this.parsedVersion=ne,ne;q=0;for(let fe=5;fe>=0;fe--)for(let ye=M-9;ye>=ee;ye--)q=this.copyBit(fe,ye,q);if(ne=ln.decodeVersionInformation(q),ne!==null&&ne.getDimensionForVersion()===M)return this.parsedVersion=ne,ne;throw new He}copyBit(M,G,q){return(this.isMirror?this.bitMatrix.get(G,M):this.bitMatrix.get(M,G))?q<<1|1:q<<1}readCodewords(){const M=this.readFormatInformation(),G=this.readVersion(),q=li.values.get(M.getDataMask()),ee=this.bitMatrix.getHeight();q.unmaskBitMatrix(this.bitMatrix,ee);const ne=G.buildFunctionPattern();let fe=!0;const ye=new Uint8Array(G.getTotalCodewords());let ze=0,Ge=0,Ye=0;for(let rt=ee-1;rt>0;rt-=2){rt===6&&rt--;for(let st=0;st<ee;st++){const ht=fe?ee-1-st:st;for(let xt=0;xt<2;xt++)ne.get(rt-xt,ht)||(Ye++,Ge<<=1,this.bitMatrix.get(rt-xt,ht)&&(Ge|=1),Ye===8&&(ye[ze++]=Ge,Ye=0,Ge=0))}fe=!fe}if(ze!==G.getTotalCodewords())throw new He;return ye}remask(){if(this.parsedFormatInfo===null)return;const M=li.values[this.parsedFormatInfo.getDataMask()],G=this.bitMatrix.getHeight();M.unmaskBitMatrix(this.bitMatrix,G)}setMirror(M){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=M}mirror(){const M=this.bitMatrix;for(let G=0,q=M.getWidth();G<q;G++)for(let ee=G+1,ne=M.getHeight();ee<ne;ee++)M.get(G,ee)!==M.get(ee,G)&&(M.flip(ee,G),M.flip(G,ee))}}class Co{constructor(M,G){this.numDataCodewords=M,this.codewords=G}static getDataBlocks(M,G,q){if(M.length!==G.getTotalCodewords())throw new J;const ee=G.getECBlocksForLevel(q);let ne=0;const fe=ee.getECBlocks();for(const xt of fe)ne+=xt.getCount();const ye=new Array(ne);let ze=0;for(const xt of fe)for(let vt=0;vt<xt.getCount();vt++){const Ct=xt.getDataCodewords(),Mt=ee.getECCodewordsPerBlock()+Ct;ye[ze++]=new Co(Ct,new Uint8Array(Mt))}const Ge=ye[0].codewords.length;let Ye=ye.length-1;for(;Ye>=0&&ye[Ye].codewords.length!==Ge;)Ye--;Ye++;const rt=Ge-ee.getECCodewordsPerBlock();let st=0;for(let xt=0;xt<rt;xt++)for(let vt=0;vt<ze;vt++)ye[vt].codewords[xt]=M[st++];for(let xt=Ye;xt<ze;xt++)ye[xt].codewords[rt]=M[st++];const ht=ye[0].codewords.length;for(let xt=rt;xt<ht;xt++)for(let vt=0;vt<ze;vt++){const Ct=vt<Ye?xt:xt+1;ye[vt].codewords[Ct]=M[st++]}return ye}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ci;(function(nt){nt[nt.TERMINATOR=0]="TERMINATOR",nt[nt.NUMERIC=1]="NUMERIC",nt[nt.ALPHANUMERIC=2]="ALPHANUMERIC",nt[nt.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",nt[nt.BYTE=4]="BYTE",nt[nt.ECI=5]="ECI",nt[nt.KANJI=6]="KANJI",nt[nt.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",nt[nt.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",nt[nt.HANZI=9]="HANZI"})(ci||(ci={}));class hn{constructor(M,G,q,ee){this.value=M,this.stringValue=G,this.characterCountBitsForVersions=q,this.bits=ee,hn.FOR_BITS.set(ee,this),hn.FOR_VALUE.set(M,this)}static forBits(M){const G=hn.FOR_BITS.get(M);if(G===void 0)throw new J;return G}getCharacterCountBits(M){const G=M.getVersionNumber();let q;return G<=9?q=0:G<=26?q=1:q=2,this.characterCountBitsForVersions[q]}getValue(){return this.value}getBits(){return this.bits}equals(M){if(!(M instanceof hn))return!1;const G=M;return this.value===G.value}toString(){return this.stringValue}}hn.FOR_BITS=new Map,hn.FOR_VALUE=new Map,hn.TERMINATOR=new hn(ci.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),hn.NUMERIC=new hn(ci.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),hn.ALPHANUMERIC=new hn(ci.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),hn.STRUCTURED_APPEND=new hn(ci.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),hn.BYTE=new hn(ci.BYTE,"BYTE",Int32Array.from([8,16,16]),4),hn.ECI=new hn(ci.ECI,"ECI",Int32Array.from([0,0,0]),7),hn.KANJI=new hn(ci.KANJI,"KANJI",Int32Array.from([8,10,12]),8),hn.FNC1_FIRST_POSITION=new hn(ci.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),hn.FNC1_SECOND_POSITION=new hn(ci.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),hn.HANZI=new hn(ci.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gr{static decode(M,G,q,ee){const ne=new ei(M);let fe=new pt;const ye=new Array;let ze=-1,Ge=-1;try{let Ye=null,rt=!1,st;do{if(ne.available()<4)st=hn.TERMINATOR;else{const ht=ne.readBits(4);st=hn.forBits(ht)}switch(st){case hn.TERMINATOR:break;case hn.FNC1_FIRST_POSITION:case hn.FNC1_SECOND_POSITION:rt=!0;break;case hn.STRUCTURED_APPEND:if(ne.available()<16)throw new He;ze=ne.readBits(8),Ge=ne.readBits(8);break;case hn.ECI:const ht=gr.parseECIValue(ne);if(Ye=Qe.getCharacterSetECIByValue(ht),Ye===null)throw new He;break;case hn.HANZI:const xt=ne.readBits(4),vt=ne.readBits(st.getCharacterCountBits(G));xt===gr.GB2312_SUBSET&&gr.decodeHanziSegment(ne,fe,vt);break;default:const Ct=ne.readBits(st.getCharacterCountBits(G));switch(st){case hn.NUMERIC:gr.decodeNumericSegment(ne,fe,Ct);break;case hn.ALPHANUMERIC:gr.decodeAlphanumericSegment(ne,fe,Ct,rt);break;case hn.BYTE:gr.decodeByteSegment(ne,fe,Ct,Ye,ye,ee);break;case hn.KANJI:gr.decodeKanjiSegment(ne,fe,Ct);break;default:throw new He}break}}while(st!==hn.TERMINATOR)}catch{throw new He}return new mn(M,fe.toString(),ye.length===0?null:ye,q===null?null:q.toString(),ze,Ge)}static decodeHanziSegment(M,G,q){if(q*13>M.available())throw new He;const ee=new Uint8Array(2*q);let ne=0;for(;q>0;){const fe=M.readBits(13);let ye=fe/96<<8&4294967295|fe%96;ye<959?ye+=41377:ye+=42657,ee[ne]=ye>>8&255,ee[ne+1]=ye&255,ne+=2,q--}try{G.append(ct.decode(ee,ot.GB2312))}catch(fe){throw new He(fe)}}static decodeKanjiSegment(M,G,q){if(q*13>M.available())throw new He;const ee=new Uint8Array(2*q);let ne=0;for(;q>0;){const fe=M.readBits(13);let ye=fe/192<<8&4294967295|fe%192;ye<7936?ye+=33088:ye+=49472,ee[ne]=ye>>8,ee[ne+1]=ye,ne+=2,q--}try{G.append(ct.decode(ee,ot.SHIFT_JIS))}catch(fe){throw new He(fe)}}static decodeByteSegment(M,G,q,ee,ne,fe){if(8*q>M.available())throw new He;const ye=new Uint8Array(q);for(let Ge=0;Ge<q;Ge++)ye[Ge]=M.readBits(8);let ze;ee===null?ze=ot.guessEncoding(ye,fe):ze=ee.getName();try{G.append(ct.decode(ye,ze))}catch(Ge){throw new He(Ge)}ne.push(ye)}static toAlphaNumericChar(M){if(M>=gr.ALPHANUMERIC_CHARS.length)throw new He;return gr.ALPHANUMERIC_CHARS[M]}static decodeAlphanumericSegment(M,G,q,ee){const ne=G.length();for(;q>1;){if(M.available()<11)throw new He;const fe=M.readBits(11);G.append(gr.toAlphaNumericChar(Math.floor(fe/45))),G.append(gr.toAlphaNumericChar(fe%45)),q-=2}if(q===1){if(M.available()<6)throw new He;G.append(gr.toAlphaNumericChar(M.readBits(6)))}if(ee)for(let fe=ne;fe<G.length();fe++)G.charAt(fe)==="%"&&(fe<G.length()-1&&G.charAt(fe+1)==="%"?G.deleteCharAt(fe+1):G.setCharAt(fe,""))}static decodeNumericSegment(M,G,q){for(;q>=3;){if(M.available()<10)throw new He;const ee=M.readBits(10);if(ee>=1e3)throw new He;G.append(gr.toAlphaNumericChar(Math.floor(ee/100))),G.append(gr.toAlphaNumericChar(Math.floor(ee/10)%10)),G.append(gr.toAlphaNumericChar(ee%10)),q-=3}if(q===2){if(M.available()<7)throw new He;const ee=M.readBits(7);if(ee>=100)throw new He;G.append(gr.toAlphaNumericChar(Math.floor(ee/10))),G.append(gr.toAlphaNumericChar(ee%10))}else if(q===1){if(M.available()<4)throw new He;const ee=M.readBits(4);if(ee>=10)throw new He;G.append(gr.toAlphaNumericChar(ee))}}static parseECIValue(M){const G=M.readBits(8);if((G&128)===0)return G&127;if((G&192)===128){const q=M.readBits(8);return(G&63)<<8&4294967295|q}if((G&224)===192){const q=M.readBits(16);return(G&31)<<16&4294967295|q}throw new He}}gr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gr.GB2312_SUBSET=1;class fl{constructor(M){this.mirrored=M}isMirrored(){return this.mirrored}applyMirroredCorrection(M){if(!this.mirrored||M===null||M.length<3)return;const G=M[0];M[0]=M[2],M[2]=G}}class Ic{constructor(){this.rsDecoder=new Nr(tn.QR_CODE_FIELD_256)}decodeBooleanArray(M,G){return this.decodeBitMatrix(yt.parseFromBooleanArray(M),G)}decodeBitMatrix(M,G){const q=new Vs(M);let ee=null;try{return this.decodeBitMatrixParser(q,G)}catch(ne){ee=ne}try{q.remask(),q.setMirror(!0),q.readVersion(),q.readFormatInformation(),q.mirror();const ne=this.decodeBitMatrixParser(q,G);return ne.setOther(new fl(!0)),ne}catch(ne){throw ee!==null?ee:ne}}decodeBitMatrixParser(M,G){const q=M.readVersion(),ee=M.readFormatInformation().getErrorCorrectionLevel(),ne=M.readCodewords(),fe=Co.getDataBlocks(ne,q,ee);let ye=0;for(const Ye of fe)ye+=Ye.getNumDataCodewords();const ze=new Uint8Array(ye);let Ge=0;for(const Ye of fe){const rt=Ye.getCodewords(),st=Ye.getNumDataCodewords();this.correctErrors(rt,st);for(let ht=0;ht<st;ht++)ze[Ge++]=rt[ht]}return gr.decode(ze,q,ee,G)}correctErrors(M,G){const q=new Int32Array(M);try{this.rsDecoder.decode(q,M.length-G)}catch{throw new ae}for(let ee=0;ee<G;ee++)M[ee]=q[ee]}}class Us extends Kt{constructor(M,G,q){super(M,G),this.estimatedModuleSize=q}aboutEquals(M,G,q){if(Math.abs(G-this.getY())<=M&&Math.abs(q-this.getX())<=M){const ee=Math.abs(M-this.estimatedModuleSize);return ee<=1||ee<=this.estimatedModuleSize}return!1}combineEstimate(M,G,q){const ee=(this.getX()+G)/2,ne=(this.getY()+M)/2,fe=(this.estimatedModuleSize+q)/2;return new Us(ee,ne,fe)}}class xi{constructor(M,G,q,ee,ne,fe,ye){this.image=M,this.startX=G,this.startY=q,this.width=ee,this.height=ne,this.moduleSize=fe,this.resultPointCallback=ye,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const M=this.startX,G=this.height,q=this.width,ee=M+q,ne=this.startY+G/2,fe=new Int32Array(3),ye=this.image;for(let ze=0;ze<G;ze++){const Ge=ne+((ze&1)===0?Math.floor((ze+1)/2):-Math.floor((ze+1)/2));fe[0]=0,fe[1]=0,fe[2]=0;let Ye=M;for(;Ye<ee&&!ye.get(Ye,Ge);)Ye++;let rt=0;for(;Ye<ee;){if(ye.get(Ye,Ge))if(rt===1)fe[1]++;else if(rt===2){if(this.foundPatternCross(fe)){const st=this.handlePossibleCenter(fe,Ge,Ye);if(st!==null)return st}fe[0]=fe[2],fe[1]=1,fe[2]=0,rt=1}else fe[++rt]++;else rt===1&&rt++,fe[rt]++;Ye++}if(this.foundPatternCross(fe)){const st=this.handlePossibleCenter(fe,Ge,ee);if(st!==null)return st}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new it}static centerFromEnd(M,G){return G-M[2]-M[1]/2}foundPatternCross(M){const G=this.moduleSize,q=G/2;for(let ee=0;ee<3;ee++)if(Math.abs(G-M[ee])>=q)return!1;return!0}crossCheckVertical(M,G,q,ee){const ne=this.image,fe=ne.getHeight(),ye=this.crossCheckStateCount;ye[0]=0,ye[1]=0,ye[2]=0;let ze=M;for(;ze>=0&&ne.get(G,ze)&&ye[1]<=q;)ye[1]++,ze--;if(ze<0||ye[1]>q)return NaN;for(;ze>=0&&!ne.get(G,ze)&&ye[0]<=q;)ye[0]++,ze--;if(ye[0]>q)return NaN;for(ze=M+1;ze<fe&&ne.get(G,ze)&&ye[1]<=q;)ye[1]++,ze++;if(ze===fe||ye[1]>q)return NaN;for(;ze<fe&&!ne.get(G,ze)&&ye[2]<=q;)ye[2]++,ze++;if(ye[2]>q)return NaN;const Ge=ye[0]+ye[1]+ye[2];return 5*Math.abs(Ge-ee)>=2*ee?NaN:this.foundPatternCross(ye)?xi.centerFromEnd(ye,ze):NaN}handlePossibleCenter(M,G,q){const ee=M[0]+M[1]+M[2],ne=xi.centerFromEnd(M,q),fe=this.crossCheckVertical(G,ne,2*M[1],ee);if(!isNaN(fe)){const ye=(M[0]+M[1]+M[2])/3;for(const Ge of this.possibleCenters)if(Ge.aboutEquals(ye,fe,ne))return Ge.combineEstimate(fe,ne,ye);const ze=new Us(ne,fe,ye);this.possibleCenters.push(ze),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ze)}return null}}class ba extends Kt{constructor(M,G,q,ee){super(M,G),this.estimatedModuleSize=q,this.count=ee,ee===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(M,G,q){if(Math.abs(G-this.getY())<=M&&Math.abs(q-this.getX())<=M){const ee=Math.abs(M-this.estimatedModuleSize);return ee<=1||ee<=this.estimatedModuleSize}return!1}combineEstimate(M,G,q){const ee=this.count+1,ne=(this.count*this.getX()+G)/ee,fe=(this.count*this.getY()+M)/ee,ye=(this.count*this.estimatedModuleSize+q)/ee;return new ba(ne,fe,ye,ee)}}class Ro{constructor(M){this.bottomLeft=M[0],this.topLeft=M[1],this.topRight=M[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wr{constructor(M,G){this.image=M,this.resultPointCallback=G,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=G}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(M){const G=M!=null&&M.get(Ue.TRY_HARDER)!==void 0,q=M!=null&&M.get(Ue.PURE_BARCODE)!==void 0,ee=this.image,ne=ee.getHeight(),fe=ee.getWidth();let ye=Math.floor(3*ne/(4*wr.MAX_MODULES));(ye<wr.MIN_SKIP||G)&&(ye=wr.MIN_SKIP);let ze=!1;const Ge=new Int32Array(5);for(let rt=ye-1;rt<ne&&!ze;rt+=ye){Ge[0]=0,Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=0;let st=0;for(let ht=0;ht<fe;ht++)if(ee.get(ht,rt))(st&1)===1&&st++,Ge[st]++;else if((st&1)===0)if(st===4)if(wr.foundPatternCross(Ge)){if(this.handlePossibleCenter(Ge,rt,ht,q)===!0)if(ye=2,this.hasSkipped===!0)ze=this.haveMultiplyConfirmedCenters();else{const vt=this.findRowSkip();vt>Ge[2]&&(rt+=vt-Ge[2]-ye,ht=fe-1)}else{Ge[0]=Ge[2],Ge[1]=Ge[3],Ge[2]=Ge[4],Ge[3]=1,Ge[4]=0,st=3;continue}st=0,Ge[0]=0,Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=0}else Ge[0]=Ge[2],Ge[1]=Ge[3],Ge[2]=Ge[4],Ge[3]=1,Ge[4]=0,st=3;else Ge[++st]++;else Ge[st]++;wr.foundPatternCross(Ge)&&this.handlePossibleCenter(Ge,rt,fe,q)===!0&&(ye=Ge[0],this.hasSkipped&&(ze=this.haveMultiplyConfirmedCenters()))}const Ye=this.selectBestPatterns();return Kt.orderBestPatterns(Ye),new Ro(Ye)}static centerFromEnd(M,G){return G-M[4]-M[3]-M[2]/2}static foundPatternCross(M){let G=0;for(let ne=0;ne<5;ne++){const fe=M[ne];if(fe===0)return!1;G+=fe}if(G<7)return!1;const q=G/7,ee=q/2;return Math.abs(q-M[0])<ee&&Math.abs(q-M[1])<ee&&Math.abs(3*q-M[2])<3*ee&&Math.abs(q-M[3])<ee&&Math.abs(q-M[4])<ee}getCrossCheckStateCount(){const M=this.crossCheckStateCount;return M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M}crossCheckDiagonal(M,G,q,ee){const ne=this.getCrossCheckStateCount();let fe=0;const ye=this.image;for(;M>=fe&&G>=fe&&ye.get(G-fe,M-fe);)ne[2]++,fe++;if(M<fe||G<fe)return!1;for(;M>=fe&&G>=fe&&!ye.get(G-fe,M-fe)&&ne[1]<=q;)ne[1]++,fe++;if(M<fe||G<fe||ne[1]>q)return!1;for(;M>=fe&&G>=fe&&ye.get(G-fe,M-fe)&&ne[0]<=q;)ne[0]++,fe++;if(ne[0]>q)return!1;const ze=ye.getHeight(),Ge=ye.getWidth();for(fe=1;M+fe<ze&&G+fe<Ge&&ye.get(G+fe,M+fe);)ne[2]++,fe++;if(M+fe>=ze||G+fe>=Ge)return!1;for(;M+fe<ze&&G+fe<Ge&&!ye.get(G+fe,M+fe)&&ne[3]<q;)ne[3]++,fe++;if(M+fe>=ze||G+fe>=Ge||ne[3]>=q)return!1;for(;M+fe<ze&&G+fe<Ge&&ye.get(G+fe,M+fe)&&ne[4]<q;)ne[4]++,fe++;if(ne[4]>=q)return!1;const Ye=ne[0]+ne[1]+ne[2]+ne[3]+ne[4];return Math.abs(Ye-ee)<2*ee&&wr.foundPatternCross(ne)}crossCheckVertical(M,G,q,ee){const ne=this.image,fe=ne.getHeight(),ye=this.getCrossCheckStateCount();let ze=M;for(;ze>=0&&ne.get(G,ze);)ye[2]++,ze--;if(ze<0)return NaN;for(;ze>=0&&!ne.get(G,ze)&&ye[1]<=q;)ye[1]++,ze--;if(ze<0||ye[1]>q)return NaN;for(;ze>=0&&ne.get(G,ze)&&ye[0]<=q;)ye[0]++,ze--;if(ye[0]>q)return NaN;for(ze=M+1;ze<fe&&ne.get(G,ze);)ye[2]++,ze++;if(ze===fe)return NaN;for(;ze<fe&&!ne.get(G,ze)&&ye[3]<q;)ye[3]++,ze++;if(ze===fe||ye[3]>=q)return NaN;for(;ze<fe&&ne.get(G,ze)&&ye[4]<q;)ye[4]++,ze++;if(ye[4]>=q)return NaN;const Ge=ye[0]+ye[1]+ye[2]+ye[3]+ye[4];return 5*Math.abs(Ge-ee)>=2*ee?NaN:wr.foundPatternCross(ye)?wr.centerFromEnd(ye,ze):NaN}crossCheckHorizontal(M,G,q,ee){const ne=this.image,fe=ne.getWidth(),ye=this.getCrossCheckStateCount();let ze=M;for(;ze>=0&&ne.get(ze,G);)ye[2]++,ze--;if(ze<0)return NaN;for(;ze>=0&&!ne.get(ze,G)&&ye[1]<=q;)ye[1]++,ze--;if(ze<0||ye[1]>q)return NaN;for(;ze>=0&&ne.get(ze,G)&&ye[0]<=q;)ye[0]++,ze--;if(ye[0]>q)return NaN;for(ze=M+1;ze<fe&&ne.get(ze,G);)ye[2]++,ze++;if(ze===fe)return NaN;for(;ze<fe&&!ne.get(ze,G)&&ye[3]<q;)ye[3]++,ze++;if(ze===fe||ye[3]>=q)return NaN;for(;ze<fe&&ne.get(ze,G)&&ye[4]<q;)ye[4]++,ze++;if(ye[4]>=q)return NaN;const Ge=ye[0]+ye[1]+ye[2]+ye[3]+ye[4];return 5*Math.abs(Ge-ee)>=ee?NaN:wr.foundPatternCross(ye)?wr.centerFromEnd(ye,ze):NaN}handlePossibleCenter(M,G,q,ee){const ne=M[0]+M[1]+M[2]+M[3]+M[4];let fe=wr.centerFromEnd(M,q),ye=this.crossCheckVertical(G,Math.floor(fe),M[2],ne);if(!isNaN(ye)&&(fe=this.crossCheckHorizontal(Math.floor(fe),Math.floor(ye),M[2],ne),!isNaN(fe)&&(!ee||this.crossCheckDiagonal(Math.floor(ye),Math.floor(fe),M[2],ne)))){const ze=ne/7;let Ge=!1;const Ye=this.possibleCenters;for(let rt=0,st=Ye.length;rt<st;rt++){const ht=Ye[rt];if(ht.aboutEquals(ze,ye,fe)){Ye[rt]=ht.combineEstimate(ye,fe,ze),Ge=!0;break}}if(!Ge){const rt=new ba(fe,ye,ze);Ye.push(rt),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(rt)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let G=null;for(const q of this.possibleCenters)if(q.getCount()>=wr.CENTER_QUORUM)if(G==null)G=q;else return this.hasSkipped=!0,Math.floor((Math.abs(G.getX()-q.getX())-Math.abs(G.getY()-q.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let M=0,G=0;const q=this.possibleCenters.length;for(const fe of this.possibleCenters)fe.getCount()>=wr.CENTER_QUORUM&&(M++,G+=fe.getEstimatedModuleSize());if(M<3)return!1;const ee=G/q;let ne=0;for(const fe of this.possibleCenters)ne+=Math.abs(fe.getEstimatedModuleSize()-ee);return ne<=.05*G}selectBestPatterns(){const M=this.possibleCenters.length;if(M<3)throw new it;const G=this.possibleCenters;let q;if(M>3){let ee=0,ne=0;for(const ze of this.possibleCenters){const Ge=ze.getEstimatedModuleSize();ee+=Ge,ne+=Ge*Ge}q=ee/M;let fe=Math.sqrt(ne/M-q*q);G.sort((ze,Ge)=>{const Ye=Math.abs(Ge.getEstimatedModuleSize()-q),rt=Math.abs(ze.getEstimatedModuleSize()-q);return Ye<rt?-1:Ye>rt?1:0});const ye=Math.max(.2*q,fe);for(let ze=0;ze<G.length&&G.length>3;ze++){const Ge=G[ze];Math.abs(Ge.getEstimatedModuleSize()-q)>ye&&(G.splice(ze,1),ze--)}}if(G.length>3){let ee=0;for(const ne of G)ee+=ne.getEstimatedModuleSize();q=ee/G.length,G.sort((ne,fe)=>{if(fe.getCount()===ne.getCount()){const ye=Math.abs(fe.getEstimatedModuleSize()-q),ze=Math.abs(ne.getEstimatedModuleSize()-q);return ye<ze?1:ye>ze?-1:0}else return fe.getCount()-ne.getCount()}),G.splice(3)}return[G[0],G[1],G[2]]}}wr.CENTER_QUORUM=2,wr.MIN_SKIP=3,wr.MAX_MODULES=57;class Bi{constructor(M){this.image=M}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(M){this.resultPointCallback=M==null?null:M.get(Ue.NEED_RESULT_POINT_CALLBACK);const q=new wr(this.image,this.resultPointCallback).find(M);return this.processFinderPatternInfo(q)}processFinderPatternInfo(M){const G=M.getTopLeft(),q=M.getTopRight(),ee=M.getBottomLeft(),ne=this.calculateModuleSize(G,q,ee);if(ne<1)throw new it("No pattern found in proccess finder.");const fe=Bi.computeDimension(G,q,ee,ne),ye=ln.getProvisionalVersionForDimension(fe),ze=ye.getDimensionForVersion()-7;let Ge=null;if(ye.getAlignmentPatternCenters().length>0){const ht=q.getX()-G.getX()+ee.getX(),xt=q.getY()-G.getY()+ee.getY(),vt=1-3/ze,Ct=Math.floor(G.getX()+vt*(ht-G.getX())),Mt=Math.floor(G.getY()+vt*(xt-G.getY()));for(let qt=4;qt<=16;qt<<=1)try{Ge=this.findAlignmentInRegion(ne,Ct,Mt,qt);break}catch(Gt){if(!(Gt instanceof it))throw Gt}}const Ye=Bi.createTransform(G,q,ee,Ge,fe),rt=Bi.sampleGrid(this.image,Ye,fe);let st;return Ge===null?st=[ee,G,q]:st=[ee,G,q,Ge],new Wr(rt,st)}static createTransform(M,G,q,ee,ne){const fe=ne-3.5;let ye,ze,Ge,Ye;return ee!==null?(ye=ee.getX(),ze=ee.getY(),Ge=fe-3,Ye=Ge):(ye=G.getX()-M.getX()+q.getX(),ze=G.getY()-M.getY()+q.getY(),Ge=fe,Ye=fe),yn.quadrilateralToQuadrilateral(3.5,3.5,fe,3.5,Ge,Ye,3.5,fe,M.getX(),M.getY(),G.getX(),G.getY(),ye,ze,q.getX(),q.getY())}static sampleGrid(M,G,q){return In.getInstance().sampleGridWithTransform(M,q,q,G)}static computeDimension(M,G,q,ee){const ne=pn.round(Kt.distance(M,G)/ee),fe=pn.round(Kt.distance(M,q)/ee);let ye=Math.floor((ne+fe)/2)+7;switch(ye&3){case 0:ye++;break;case 2:ye--;break;case 3:throw new it("Dimensions could be not found.")}return ye}calculateModuleSize(M,G,q){return(this.calculateModuleSizeOneWay(M,G)+this.calculateModuleSizeOneWay(M,q))/2}calculateModuleSizeOneWay(M,G){const q=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(M.getX()),Math.floor(M.getY()),Math.floor(G.getX()),Math.floor(G.getY())),ee=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(G.getX()),Math.floor(G.getY()),Math.floor(M.getX()),Math.floor(M.getY()));return isNaN(q)?ee/7:isNaN(ee)?q/7:(q+ee)/14}sizeOfBlackWhiteBlackRunBothWays(M,G,q,ee){let ne=this.sizeOfBlackWhiteBlackRun(M,G,q,ee),fe=1,ye=M-(q-M);ye<0?(fe=M/(M-ye),ye=0):ye>=this.image.getWidth()&&(fe=(this.image.getWidth()-1-M)/(ye-M),ye=this.image.getWidth()-1);let ze=Math.floor(G-(ee-G)*fe);return fe=1,ze<0?(fe=G/(G-ze),ze=0):ze>=this.image.getHeight()&&(fe=(this.image.getHeight()-1-G)/(ze-G),ze=this.image.getHeight()-1),ye=Math.floor(M+(ye-M)*fe),ne+=this.sizeOfBlackWhiteBlackRun(M,G,ye,ze),ne-1}sizeOfBlackWhiteBlackRun(M,G,q,ee){const ne=Math.abs(ee-G)>Math.abs(q-M);if(ne){let ht=M;M=G,G=ht,ht=q,q=ee,ee=ht}const fe=Math.abs(q-M),ye=Math.abs(ee-G);let ze=-fe/2;const Ge=M<q?1:-1,Ye=G<ee?1:-1;let rt=0;const st=q+Ge;for(let ht=M,xt=G;ht!==st;ht+=Ge){const vt=ne?xt:ht,Ct=ne?ht:xt;if(rt===1===this.image.get(vt,Ct)){if(rt===2)return pn.distance(ht,xt,M,G);rt++}if(ze+=ye,ze>0){if(xt===ee)break;xt+=Ye,ze-=fe}}return rt===2?pn.distance(q+Ge,ee,M,G):NaN}findAlignmentInRegion(M,G,q,ee){const ne=Math.floor(ee*M),fe=Math.max(0,G-ne),ye=Math.min(this.image.getWidth()-1,G+ne);if(ye-fe<M*3)throw new it("Alignment top exceeds estimated module size.");const ze=Math.max(0,q-ne),Ge=Math.min(this.image.getHeight()-1,q+ne);if(Ge-ze<M*3)throw new it("Alignment bottom exceeds estimated module size.");return new xi(this.image,fe,ze,ye-fe,Ge-ze,M,this.resultPointCallback).find()}}class Xi{constructor(){this.decoder=new Ic}getDecoder(){return this.decoder}decode(M,G){let q,ee;if(G!=null&&G.get(Ue.PURE_BARCODE)!==void 0){const ze=Xi.extractPureBits(M.getBlackMatrix());q=this.decoder.decodeBitMatrix(ze,G),ee=Xi.NO_POINTS}else{const ze=new Bi(M.getBlackMatrix()).detect(G);q=this.decoder.decodeBitMatrix(ze.getBits(),G),ee=ze.getPoints()}q.getOther()instanceof fl&&q.getOther().applyMirroredCorrection(ee);const ne=new St(q.getText(),q.getRawBytes(),void 0,ee,Rt.QR_CODE,void 0),fe=q.getByteSegments();fe!==null&&ne.putMetadata(nn.BYTE_SEGMENTS,fe);const ye=q.getECLevel();return ye!==null&&ne.putMetadata(nn.ERROR_CORRECTION_LEVEL,ye),q.hasStructuredAppend()&&(ne.putMetadata(nn.STRUCTURED_APPEND_SEQUENCE,q.getStructuredAppendSequenceNumber()),ne.putMetadata(nn.STRUCTURED_APPEND_PARITY,q.getStructuredAppendParity())),ne}reset(){}static extractPureBits(M){const G=M.getTopLeftOnBit(),q=M.getBottomRightOnBit();if(G===null||q===null)throw new it;const ee=this.moduleSize(G,M);let ne=G[1],fe=q[1],ye=G[0],ze=q[0];if(ye>=ze||ne>=fe)throw new it;if(fe-ne!==ze-ye&&(ze=ye+(fe-ne),ze>=M.getWidth()))throw new it;const Ge=Math.round((ze-ye+1)/ee),Ye=Math.round((fe-ne+1)/ee);if(Ge<=0||Ye<=0)throw new it;if(Ye!==Ge)throw new it;const rt=Math.floor(ee/2);ne+=rt,ye+=rt;const st=ye+Math.floor((Ge-1)*ee)-ze;if(st>0){if(st>rt)throw new it;ye-=st}const ht=ne+Math.floor((Ye-1)*ee)-fe;if(ht>0){if(ht>rt)throw new it;ne-=ht}const xt=new yt(Ge,Ye);for(let vt=0;vt<Ye;vt++){const Ct=ne+Math.floor(vt*ee);for(let Mt=0;Mt<Ge;Mt++)M.get(ye+Math.floor(Mt*ee),Ct)&&xt.set(Mt,vt)}return xt}static moduleSize(M,G){const q=G.getHeight(),ee=G.getWidth();let ne=M[0],fe=M[1],ye=!0,ze=0;for(;ne<ee&&fe<q;){if(ye!==G.get(ne,fe)){if(++ze===5)break;ye=!ye}ne++,fe++}if(ne===ee||fe===q)throw new it;return(ne-M[0])/7}}Xi.NO_POINTS=new Array;class gn{PDF417Common(){}static getBitCountSum(M){return pn.sum(M)}static toIntArray(M){if(M==null||!M.length)return gn.EMPTY_INT_ARRAY;const G=new Int32Array(M.length);let q=0;for(const ee of M)G[q++]=ee;return G}static getCodeword(M){const G=Be.binarySearch(gn.SYMBOL_TABLE,M&262143);return G<0?-1:(gn.CODEWORD_TABLE[G]-1)%gn.NUMBER_OF_CODEWORDS}}gn.NUMBER_OF_CODEWORDS=929,gn.MAX_CODEWORDS_IN_BARCODE=gn.NUMBER_OF_CODEWORDS-1,gn.MIN_ROWS_IN_BARCODE=3,gn.MAX_ROWS_IN_BARCODE=90,gn.MODULES_IN_CODEWORD=17,gn.MODULES_IN_STOP_PATTERN=18,gn.BARS_IN_MODULE=8,gn.EMPTY_INT_ARRAY=new Int32Array([]),gn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),gn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class pl{constructor(M,G){this.bits=M,this.points=G}getBits(){return this.bits}getPoints(){return this.points}}class Cn{static detectMultiple(M,G,q){let ee=M.getBlackMatrix(),ne=Cn.detect(q,ee);return ne.length||(ee=ee.clone(),ee.rotate180(),ne=Cn.detect(q,ee)),new pl(ee,ne)}static detect(M,G){const q=new Array;let ee=0,ne=0,fe=!1;for(;ee<G.getHeight();){const ye=Cn.findVertices(G,ee,ne);if(ye[0]==null&&ye[3]==null){if(!fe)break;fe=!1,ne=0;for(const ze of q)ze[1]!=null&&(ee=Math.trunc(Math.max(ee,ze[1].getY()))),ze[3]!=null&&(ee=Math.max(ee,Math.trunc(ze[3].getY())));ee+=Cn.ROW_STEP;continue}if(fe=!0,q.push(ye),!M)break;ye[2]!=null?(ne=Math.trunc(ye[2].getX()),ee=Math.trunc(ye[2].getY())):(ne=Math.trunc(ye[4].getX()),ee=Math.trunc(ye[4].getY()))}return q}static findVertices(M,G,q){const ee=M.getHeight(),ne=M.getWidth(),fe=new Array(8);return Cn.copyToResult(fe,Cn.findRowsWithPattern(M,ee,ne,G,q,Cn.START_PATTERN),Cn.INDEXES_START_PATTERN),fe[4]!=null&&(q=Math.trunc(fe[4].getX()),G=Math.trunc(fe[4].getY())),Cn.copyToResult(fe,Cn.findRowsWithPattern(M,ee,ne,G,q,Cn.STOP_PATTERN),Cn.INDEXES_STOP_PATTERN),fe}static copyToResult(M,G,q){for(let ee=0;ee<q.length;ee++)M[q[ee]]=G[ee]}static findRowsWithPattern(M,G,q,ee,ne,fe){const ye=new Array(4);let ze=!1;const Ge=new Int32Array(fe.length);for(;ee<G;ee+=Cn.ROW_STEP){let rt=Cn.findGuardPattern(M,ne,ee,q,!1,fe,Ge);if(rt!=null){for(;ee>0;){const st=Cn.findGuardPattern(M,ne,--ee,q,!1,fe,Ge);if(st!=null)rt=st;else{ee++;break}}ye[0]=new Kt(rt[0],ee),ye[1]=new Kt(rt[1],ee),ze=!0;break}}let Ye=ee+1;if(ze){let rt=0,st=Int32Array.from([Math.trunc(ye[0].getX()),Math.trunc(ye[1].getX())]);for(;Ye<G;Ye++){const ht=Cn.findGuardPattern(M,st[0],Ye,q,!1,fe,Ge);if(ht!=null&&Math.abs(st[0]-ht[0])<Cn.MAX_PATTERN_DRIFT&&Math.abs(st[1]-ht[1])<Cn.MAX_PATTERN_DRIFT)st=ht,rt=0;else{if(rt>Cn.SKIPPED_ROW_COUNT_MAX)break;rt++}}Ye-=rt+1,ye[2]=new Kt(st[0],Ye),ye[3]=new Kt(st[1],Ye)}return Ye-ee<Cn.BARCODE_MIN_HEIGHT&&Be.fill(ye,null),ye}static findGuardPattern(M,G,q,ee,ne,fe,ye){Be.fillWithin(ye,0,ye.length,0);let ze=G,Ge=0;for(;M.get(ze,q)&&ze>0&&Ge++<Cn.MAX_PIXEL_DRIFT;)ze--;let Ye=ze,rt=0,st=fe.length;for(let ht=ne;Ye<ee;Ye++)if(M.get(Ye,q)!==ht)ye[rt]++;else{if(rt===st-1){if(Cn.patternMatchVariance(ye,fe,Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return new Int32Array([ze,Ye]);ze+=ye[0]+ye[1],pe.arraycopy(ye,2,ye,0,rt-1),ye[rt-1]=0,ye[rt]=0,rt--}else rt++;ye[rt]=1,ht=!ht}return rt===st-1&&Cn.patternMatchVariance(ye,fe,Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE?new Int32Array([ze,Ye-1]):null}static patternMatchVariance(M,G,q){let ee=M.length,ne=0,fe=0;for(let Ge=0;Ge<ee;Ge++)ne+=M[Ge],fe+=G[Ge];if(ne<fe)return 1/0;let ye=ne/fe;q*=ye;let ze=0;for(let Ge=0;Ge<ee;Ge++){let Ye=M[Ge],rt=G[Ge]*ye,st=Ye>rt?Ye-rt:rt-Ye;if(st>q)return 1/0;ze+=st}return ze/ne}}Cn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Cn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Cn.MAX_AVG_VARIANCE=.42,Cn.MAX_INDIVIDUAL_VARIANCE=.8,Cn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Cn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Cn.MAX_PIXEL_DRIFT=3,Cn.MAX_PATTERN_DRIFT=5,Cn.SKIPPED_ROW_COUNT_MAX=25,Cn.ROW_STEP=5,Cn.BARCODE_MIN_HEIGHT=10;class xr{constructor(M,G){if(G.length===0)throw new J;this.field=M;let q=G.length;if(q>1&&G[0]===0){let ee=1;for(;ee<q&&G[ee]===0;)ee++;ee===q?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(q-ee),pe.arraycopy(G,ee,this.coefficients,0,this.coefficients.length))}else this.coefficients=G}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(M){return this.coefficients[this.coefficients.length-1-M]}evaluateAt(M){if(M===0)return this.getCoefficient(0);if(M===1){let ee=0;for(let ne of this.coefficients)ee=this.field.add(ee,ne);return ee}let G=this.coefficients[0],q=this.coefficients.length;for(let ee=1;ee<q;ee++)G=this.field.add(this.field.multiply(M,G),this.coefficients[ee]);return G}add(M){if(!this.field.equals(M.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero())return M;if(M.isZero())return this;let G=this.coefficients,q=M.coefficients;if(G.length>q.length){let fe=G;G=q,q=fe}let ee=new Int32Array(q.length),ne=q.length-G.length;pe.arraycopy(q,0,ee,0,ne);for(let fe=ne;fe<q.length;fe++)ee[fe]=this.field.add(G[fe-ne],q[fe]);return new xr(this.field,ee)}subtract(M){if(!this.field.equals(M.field))throw new J("ModulusPolys do not have same ModulusGF field");return M.isZero()?this:this.add(M.negative())}multiply(M){return M instanceof xr?this.multiplyOther(M):this.multiplyScalar(M)}multiplyOther(M){if(!this.field.equals(M.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero()||M.isZero())return new xr(this.field,new Int32Array([0]));let G=this.coefficients,q=G.length,ee=M.coefficients,ne=ee.length,fe=new Int32Array(q+ne-1);for(let ye=0;ye<q;ye++){let ze=G[ye];for(let Ge=0;Ge<ne;Ge++)fe[ye+Ge]=this.field.add(fe[ye+Ge],this.field.multiply(ze,ee[Ge]))}return new xr(this.field,fe)}negative(){let M=this.coefficients.length,G=new Int32Array(M);for(let q=0;q<M;q++)G[q]=this.field.subtract(0,this.coefficients[q]);return new xr(this.field,G)}multiplyScalar(M){if(M===0)return new xr(this.field,new Int32Array([0]));if(M===1)return this;let G=this.coefficients.length,q=new Int32Array(G);for(let ee=0;ee<G;ee++)q[ee]=this.field.multiply(this.coefficients[ee],M);return new xr(this.field,q)}multiplyByMonomial(M,G){if(M<0)throw new J;if(G===0)return new xr(this.field,new Int32Array([0]));let q=this.coefficients.length,ee=new Int32Array(q+M);for(let ne=0;ne<q;ne++)ee[ne]=this.field.multiply(this.coefficients[ne],G);return new xr(this.field,ee)}toString(){let M=new pt;for(let G=this.getDegree();G>=0;G--){let q=this.getCoefficient(G);q!==0&&(q<0?(M.append(" - "),q=-q):M.length()>0&&M.append(" + "),(G===0||q!==1)&&M.append(q),G!==0&&(G===1?M.append("x"):(M.append("x^"),M.append(G))))}return M.toString()}}class To{add(M,G){return(M+G)%this.modulus}subtract(M,G){return(this.modulus+M-G)%this.modulus}exp(M){return this.expTable[M]}log(M){if(M===0)throw new J;return this.logTable[M]}inverse(M){if(M===0)throw new Gn;return this.expTable[this.modulus-this.logTable[M]-1]}multiply(M,G){return M===0||G===0?0:this.expTable[(this.logTable[M]+this.logTable[G])%(this.modulus-1)]}getSize(){return this.modulus}equals(M){return M===this}}class ys extends To{constructor(M,G){super(),this.modulus=M,this.expTable=new Int32Array(M),this.logTable=new Int32Array(M);let q=1;for(let ee=0;ee<M;ee++)this.expTable[ee]=q,q=q*G%M;for(let ee=0;ee<M-1;ee++)this.logTable[this.expTable[ee]]=ee;this.zero=new xr(this,new Int32Array([0])),this.one=new xr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(M,G){if(M<0)throw new J;if(G===0)return this.zero;let q=new Int32Array(M+1);return q[0]=G,new xr(this,q)}}ys.PDF417_GF=new ys(gn.NUMBER_OF_CODEWORDS,3);class Qi{constructor(){this.field=ys.PDF417_GF}decode(M,G,q){let ee=new xr(this.field,M),ne=new Int32Array(G),fe=!1;for(let xt=G;xt>0;xt--){let vt=ee.evaluateAt(this.field.exp(xt));ne[G-xt]=vt,vt!==0&&(fe=!0)}if(!fe)return 0;let ye=this.field.getOne();if(q!=null)for(const xt of q){let vt=this.field.exp(M.length-1-xt),Ct=new xr(this.field,new Int32Array([this.field.subtract(0,vt),1]));ye=ye.multiply(Ct)}let ze=new xr(this.field,ne),Ge=this.runEuclideanAlgorithm(this.field.buildMonomial(G,1),ze,G),Ye=Ge[0],rt=Ge[1],st=this.findErrorLocations(Ye),ht=this.findErrorMagnitudes(rt,Ye,st);for(let xt=0;xt<st.length;xt++){let vt=M.length-1-this.field.log(st[xt]);if(vt<0)throw ae.getChecksumInstance();M[vt]=this.field.subtract(M[vt],ht[xt])}return st.length}runEuclideanAlgorithm(M,G,q){if(M.getDegree()<G.getDegree()){let st=M;M=G,G=st}let ee=M,ne=G,fe=this.field.getZero(),ye=this.field.getOne();for(;ne.getDegree()>=Math.round(q/2);){let st=ee,ht=fe;if(ee=ne,fe=ye,ee.isZero())throw ae.getChecksumInstance();ne=st;let xt=this.field.getZero(),vt=ee.getCoefficient(ee.getDegree()),Ct=this.field.inverse(vt);for(;ne.getDegree()>=ee.getDegree()&&!ne.isZero();){let Mt=ne.getDegree()-ee.getDegree(),qt=this.field.multiply(ne.getCoefficient(ne.getDegree()),Ct);xt=xt.add(this.field.buildMonomial(Mt,qt)),ne=ne.subtract(ee.multiplyByMonomial(Mt,qt))}ye=xt.multiply(fe).subtract(ht).negative()}let ze=ye.getCoefficient(0);if(ze===0)throw ae.getChecksumInstance();let Ge=this.field.inverse(ze),Ye=ye.multiply(Ge),rt=ne.multiply(Ge);return[Ye,rt]}findErrorLocations(M){let G=M.getDegree(),q=new Int32Array(G),ee=0;for(let ne=1;ne<this.field.getSize()&&ee<G;ne++)M.evaluateAt(ne)===0&&(q[ee]=this.field.inverse(ne),ee++);if(ee!==G)throw ae.getChecksumInstance();return q}findErrorMagnitudes(M,G,q){let ee=G.getDegree(),ne=new Int32Array(ee);for(let Ge=1;Ge<=ee;Ge++)ne[ee-Ge]=this.field.multiply(Ge,G.getCoefficient(Ge));let fe=new xr(this.field,ne),ye=q.length,ze=new Int32Array(ye);for(let Ge=0;Ge<ye;Ge++){let Ye=this.field.inverse(q[Ge]),rt=this.field.subtract(0,M.evaluateAt(Ye)),st=this.field.inverse(fe.evaluateAt(Ye));ze[Ge]=this.field.multiply(rt,st)}return ze}}class Zi{constructor(M,G,q,ee,ne){M instanceof Zi?this.constructor_2(M):this.constructor_1(M,G,q,ee,ne)}constructor_1(M,G,q,ee,ne){const fe=G==null||q==null,ye=ee==null||ne==null;if(fe&&ye)throw new it;fe?(G=new Kt(0,ee.getY()),q=new Kt(0,ne.getY())):ye&&(ee=new Kt(M.getWidth()-1,G.getY()),ne=new Kt(M.getWidth()-1,q.getY())),this.image=M,this.topLeft=G,this.bottomLeft=q,this.topRight=ee,this.bottomRight=ne,this.minX=Math.trunc(Math.min(G.getX(),q.getX())),this.maxX=Math.trunc(Math.max(ee.getX(),ne.getX())),this.minY=Math.trunc(Math.min(G.getY(),ee.getY())),this.maxY=Math.trunc(Math.max(q.getY(),ne.getY()))}constructor_2(M){this.image=M.image,this.topLeft=M.getTopLeft(),this.bottomLeft=M.getBottomLeft(),this.topRight=M.getTopRight(),this.bottomRight=M.getBottomRight(),this.minX=M.getMinX(),this.maxX=M.getMaxX(),this.minY=M.getMinY(),this.maxY=M.getMaxY()}static merge(M,G){return M==null?G:G==null?M:new Zi(M.image,M.topLeft,M.bottomLeft,G.topRight,G.bottomRight)}addMissingRows(M,G,q){let ee=this.topLeft,ne=this.bottomLeft,fe=this.topRight,ye=this.bottomRight;if(M>0){let ze=q?this.topLeft:this.topRight,Ge=Math.trunc(ze.getY()-M);Ge<0&&(Ge=0);let Ye=new Kt(ze.getX(),Ge);q?ee=Ye:fe=Ye}if(G>0){let ze=q?this.bottomLeft:this.bottomRight,Ge=Math.trunc(ze.getY()+G);Ge>=this.image.getHeight()&&(Ge=this.image.getHeight()-1);let Ye=new Kt(ze.getX(),Ge);q?ne=Ye:ye=Ye}return new Zi(this.image,ee,ne,fe,ye)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Va{constructor(M,G,q,ee){this.columnCount=M,this.errorCorrectionLevel=ee,this.rowCountUpperPart=G,this.rowCountLowerPart=q,this.rowCount=G+q}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Gs{constructor(){this.buffer=""}static form(M,G){let q=-1;function ee(fe,ye,ze,Ge,Ye,rt){if(fe==="%%")return"%";if(G[++q]===void 0)return;fe=Ge?parseInt(Ge.substr(1)):void 0;let st=Ye?parseInt(Ye.substr(1)):void 0,ht;switch(rt){case"s":ht=G[q];break;case"c":ht=G[q][0];break;case"f":ht=parseFloat(G[q]).toFixed(fe);break;case"p":ht=parseFloat(G[q]).toPrecision(fe);break;case"e":ht=parseFloat(G[q]).toExponential(fe);break;case"x":ht=parseInt(G[q]).toString(st||16);break;case"d":ht=parseFloat(parseInt(G[q],st||10).toPrecision(fe)).toFixed(0);break}ht=typeof ht=="object"?JSON.stringify(ht):(+ht).toString(st);let xt=parseInt(ze),vt=ze&&ze[0]+""=="0"?"0":" ";for(;ht.length<xt;)ht=ye!==void 0?ht+vt:vt+ht;return ht}let ne=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return M.replace(ne,ee)}format(M,...G){this.buffer+=Gs.form(M,G)}toString(){return this.buffer}}class ls{constructor(M){this.boundingBox=new Zi(M),this.codewords=new Array(M.getMaxY()-M.getMinY()+1)}getCodewordNearby(M){let G=this.getCodeword(M);if(G!=null)return G;for(let q=1;q<ls.MAX_NEARBY_DISTANCE;q++){let ee=this.imageRowToCodewordIndex(M)-q;if(ee>=0&&(G=this.codewords[ee],G!=null)||(ee=this.imageRowToCodewordIndex(M)+q,ee<this.codewords.length&&(G=this.codewords[ee],G!=null)))return G}return null}imageRowToCodewordIndex(M){return M-this.boundingBox.getMinY()}setCodeword(M,G){this.codewords[this.imageRowToCodewordIndex(M)]=G}getCodeword(M){return this.codewords[this.imageRowToCodewordIndex(M)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const M=new Gs;let G=0;for(const q of this.codewords){if(q==null){M.format("%3d:    |   %n",G++);continue}M.format("%3d: %3d|%3d%n",G++,q.getRowNumber(),q.getValue())}return M.toString()}}ls.MAX_NEARBY_DISTANCE=5;class cs{constructor(){this.values=new Map}setValue(M){M=Math.trunc(M);let G=this.values.get(M);G==null&&(G=0),G++,this.values.set(M,G)}getValue(){let M=-1,G=new Array;for(const[q,ee]of this.values.entries()){const ne={getKey:()=>q,getValue:()=>ee};ne.getValue()>M?(M=ne.getValue(),G=[],G.push(ne.getKey())):ne.getValue()===M&&G.push(ne.getKey())}return gn.toIntArray(G)}getConfidence(M){return this.values.get(M)}}class Ao extends ls{constructor(M,G){super(M),this._isLeft=G}setRowNumbers(){for(let M of this.getCodewords())M!=null&&M.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(M){let G=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(G,M);let q=this.getBoundingBox(),ee=this._isLeft?q.getTopLeft():q.getTopRight(),ne=this._isLeft?q.getBottomLeft():q.getBottomRight(),fe=this.imageRowToCodewordIndex(Math.trunc(ee.getY())),ye=this.imageRowToCodewordIndex(Math.trunc(ne.getY())),ze=-1,Ge=1,Ye=0;for(let rt=fe;rt<ye;rt++){if(G[rt]==null)continue;let st=G[rt],ht=st.getRowNumber()-ze;if(ht===0)Ye++;else if(ht===1)Ge=Math.max(Ge,Ye),Ye=1,ze=st.getRowNumber();else if(ht<0||st.getRowNumber()>=M.getRowCount()||ht>rt)G[rt]=null;else{let xt;Ge>2?xt=(Ge-2)*ht:xt=ht;let vt=xt>=rt;for(let Ct=1;Ct<=xt&&!vt;Ct++)vt=G[rt-Ct]!=null;vt?G[rt]=null:(ze=st.getRowNumber(),Ye=1)}}}getRowHeights(){let M=this.getBarcodeMetadata();if(M==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(M);let G=new Int32Array(M.getRowCount());for(let q of this.getCodewords())if(q!=null){let ee=q.getRowNumber();if(ee>=G.length)continue;G[ee]++}return G}adjustIncompleteIndicatorColumnRowNumbers(M){let G=this.getBoundingBox(),q=this._isLeft?G.getTopLeft():G.getTopRight(),ee=this._isLeft?G.getBottomLeft():G.getBottomRight(),ne=this.imageRowToCodewordIndex(Math.trunc(q.getY())),fe=this.imageRowToCodewordIndex(Math.trunc(ee.getY())),ye=this.getCodewords(),ze=-1;for(let Ge=ne;Ge<fe;Ge++){if(ye[Ge]==null)continue;let Ye=ye[Ge];Ye.setRowNumberAsRowIndicatorColumn();let rt=Ye.getRowNumber()-ze;rt===0||(rt===1?ze=Ye.getRowNumber():Ye.getRowNumber()>=M.getRowCount()?ye[Ge]=null:ze=Ye.getRowNumber())}}getBarcodeMetadata(){let M=this.getCodewords(),G=new cs,q=new cs,ee=new cs,ne=new cs;for(let ye of M){if(ye==null)continue;ye.setRowNumberAsRowIndicatorColumn();let ze=ye.getValue()%30,Ge=ye.getRowNumber();switch(this._isLeft||(Ge+=2),Ge%3){case 0:q.setValue(ze*3+1);break;case 1:ne.setValue(ze/3),ee.setValue(ze%3);break;case 2:G.setValue(ze+1);break}}if(G.getValue().length===0||q.getValue().length===0||ee.getValue().length===0||ne.getValue().length===0||G.getValue()[0]<1||q.getValue()[0]+ee.getValue()[0]<gn.MIN_ROWS_IN_BARCODE||q.getValue()[0]+ee.getValue()[0]>gn.MAX_ROWS_IN_BARCODE)return null;let fe=new Va(G.getValue()[0],q.getValue()[0],ee.getValue()[0],ne.getValue()[0]);return this.removeIncorrectCodewords(M,fe),fe}removeIncorrectCodewords(M,G){for(let q=0;q<M.length;q++){let ee=M[q];if(M[q]==null)continue;let ne=ee.getValue()%30,fe=ee.getRowNumber();if(fe>G.getRowCount()){M[q]=null;continue}switch(this._isLeft||(fe+=2),fe%3){case 0:ne*3+1!==G.getRowCountUpperPart()&&(M[q]=null);break;case 1:(Math.trunc(ne/3)!==G.getErrorCorrectionLevel()||ne%3!==G.getRowCountLowerPart())&&(M[q]=null);break;case 2:ne+1!==G.getColumnCount()&&(M[q]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Hr{constructor(M,G){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=M,this.barcodeColumnCount=M.getColumnCount(),this.boundingBox=G,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let M=gn.MAX_CODEWORDS_IN_BARCODE,G;do G=M,M=this.adjustRowNumbersAndGetCount();while(M>0&&M<G);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(M){M!=null&&M.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let M=this.adjustRowNumbersByRow();if(M===0)return 0;for(let G=1;G<this.barcodeColumnCount+1;G++){let q=this.detectionResultColumns[G].getCodewords();for(let ee=0;ee<q.length;ee++)q[ee]!=null&&(q[ee].hasValidRowNumber()||this.adjustRowNumbers(G,ee,q))}return M}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let M=this.detectionResultColumns[0].getCodewords(),G=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let q=0;q<M.length;q++)if(M[q]!=null&&G[q]!=null&&M[q].getRowNumber()===G[q].getRowNumber())for(let ee=1;ee<=this.barcodeColumnCount;ee++){let ne=this.detectionResultColumns[ee].getCodewords()[q];ne!=null&&(ne.setRowNumber(M[q].getRowNumber()),ne.hasValidRowNumber()||(this.detectionResultColumns[ee].getCodewords()[q]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let M=0,G=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let q=0;q<G.length;q++){if(G[q]==null)continue;let ee=G[q].getRowNumber(),ne=0;for(let fe=this.barcodeColumnCount+1;fe>0&&ne<this.ADJUST_ROW_NUMBER_SKIP;fe--){let ye=this.detectionResultColumns[fe].getCodewords()[q];ye!=null&&(ne=Hr.adjustRowNumberIfValid(ee,ne,ye),ye.hasValidRowNumber()||M++)}}return M}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let M=0,G=this.detectionResultColumns[0].getCodewords();for(let q=0;q<G.length;q++){if(G[q]==null)continue;let ee=G[q].getRowNumber(),ne=0;for(let fe=1;fe<this.barcodeColumnCount+1&&ne<this.ADJUST_ROW_NUMBER_SKIP;fe++){let ye=this.detectionResultColumns[fe].getCodewords()[q];ye!=null&&(ne=Hr.adjustRowNumberIfValid(ee,ne,ye),ye.hasValidRowNumber()||M++)}}return M}static adjustRowNumberIfValid(M,G,q){return q==null||q.hasValidRowNumber()||(q.isValidRowNumber(M)?(q.setRowNumber(M),G=0):++G),G}adjustRowNumbers(M,G,q){if(!this.detectionResultColumns[M-1])return;let ee=q[G],ne=this.detectionResultColumns[M-1].getCodewords(),fe=ne;this.detectionResultColumns[M+1]!=null&&(fe=this.detectionResultColumns[M+1].getCodewords());let ye=new Array(14);ye[2]=ne[G],ye[3]=fe[G],G>0&&(ye[0]=q[G-1],ye[4]=ne[G-1],ye[5]=fe[G-1]),G>1&&(ye[8]=q[G-2],ye[10]=ne[G-2],ye[11]=fe[G-2]),G<q.length-1&&(ye[1]=q[G+1],ye[6]=ne[G+1],ye[7]=fe[G+1]),G<q.length-2&&(ye[9]=q[G+2],ye[12]=ne[G+2],ye[13]=fe[G+2]);for(let ze of ye)if(Hr.adjustRowNumber(ee,ze))return}static adjustRowNumber(M,G){return G==null?!1:G.hasValidRowNumber()&&G.getBucket()===M.getBucket()?(M.setRowNumber(G.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(M){this.boundingBox=M}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(M,G){this.detectionResultColumns[M]=G}getDetectionResultColumn(M){return this.detectionResultColumns[M]}toString(){let M=this.detectionResultColumns[0];M==null&&(M=this.detectionResultColumns[this.barcodeColumnCount+1]);let G=new Gs;for(let q=0;q<M.getCodewords().length;q++){G.format("CW %3d:",q);for(let ee=0;ee<this.barcodeColumnCount+2;ee++){if(this.detectionResultColumns[ee]==null){G.format("    |   ");continue}let ne=this.detectionResultColumns[ee].getCodewords()[q];if(ne==null){G.format("    |   ");continue}G.format(" %3d|%3d",ne.getRowNumber(),ne.getValue())}G.format("%n")}return G.toString()}}class Ai{constructor(M,G,q,ee){this.rowNumber=Ai.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(M),this.endX=Math.trunc(G),this.bucket=Math.trunc(q),this.value=Math.trunc(ee)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(M){return M!==Ai.BARCODE_ROW_UNKNOWN&&this.bucket===M%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(M){this.rowNumber=M}toString(){return this.rowNumber+"|"+this.value}}Ai.BARCODE_ROW_UNKNOWN=-1;class Kr{static initialize(){for(let M=0;M<gn.SYMBOL_TABLE.length;M++){let G=gn.SYMBOL_TABLE[M],q=G&1;for(let ee=0;ee<gn.BARS_IN_MODULE;ee++){let ne=0;for(;(G&1)===q;)ne+=1,G>>=1;q=G&1,Kr.RATIOS_TABLE[M]||(Kr.RATIOS_TABLE[M]=new Array(gn.BARS_IN_MODULE)),Kr.RATIOS_TABLE[M][gn.BARS_IN_MODULE-ee-1]=Math.fround(ne/gn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(M){let G=Kr.getDecodedCodewordValue(Kr.sampleBitCounts(M));return G!==-1?G:Kr.getClosestDecodedValue(M)}static sampleBitCounts(M){let G=pn.sum(M),q=new Int32Array(gn.BARS_IN_MODULE),ee=0,ne=0;for(let fe=0;fe<gn.MODULES_IN_CODEWORD;fe++){let ye=G/(2*gn.MODULES_IN_CODEWORD)+fe*G/gn.MODULES_IN_CODEWORD;ne+M[ee]<=ye&&(ne+=M[ee],ee++),q[ee]++}return q}static getDecodedCodewordValue(M){let G=Kr.getBitValue(M);return gn.getCodeword(G)===-1?-1:G}static getBitValue(M){let G=0;for(let q=0;q<M.length;q++)for(let ee=0;ee<M[q];ee++)G=G<<1|(q%2===0?1:0);return Math.trunc(G)}static getClosestDecodedValue(M){let G=pn.sum(M),q=new Array(gn.BARS_IN_MODULE);if(G>1)for(let fe=0;fe<q.length;fe++)q[fe]=Math.fround(M[fe]/G);let ee=br.MAX_VALUE,ne=-1;this.bSymbolTableReady||Kr.initialize();for(let fe=0;fe<Kr.RATIOS_TABLE.length;fe++){let ye=0,ze=Kr.RATIOS_TABLE[fe];for(let Ge=0;Ge<gn.BARS_IN_MODULE;Ge++){let Ye=Math.fround(ze[Ge]-q[Ge]);if(ye+=Math.fround(Ye*Ye),ye>=ee)break}ye<ee&&(ee=ye,ne=gn.SYMBOL_TABLE[fe])}return ne}}Kr.bSymbolTableReady=!1,Kr.RATIOS_TABLE=new Array(gn.SYMBOL_TABLE.length).map(nt=>new Array(gn.BARS_IN_MODULE));class qs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(M){this.segmentIndex=M}getFileId(){return this.fileId}setFileId(M){this.fileId=M}getOptionalData(){return this.optionalData}setOptionalData(M){this.optionalData=M}isLastSegment(){return this.lastSegment}setLastSegment(M){this.lastSegment=M}getSegmentCount(){return this.segmentCount}setSegmentCount(M){this.segmentCount=M}getSender(){return this.sender||null}setSender(M){this.sender=M}getAddressee(){return this.addressee||null}setAddressee(M){this.addressee=M}getFileName(){return this.fileName}setFileName(M){this.fileName=M}getFileSize(){return this.fileSize}setFileSize(M){this.fileSize=M}getChecksum(){return this.checksum}setChecksum(M){this.checksum=M}getTimestamp(){return this.timestamp}setTimestamp(M){this.timestamp=M}}class ml{static parseLong(M,G=void 0){return parseInt(M,G)}}class Ua extends U{}Ua.kind="NullPointerException";class Io{writeBytes(M){this.writeBytesOffset(M,0,M.length)}writeBytesOffset(M,G,q){if(M==null)throw new Ua;if(G<0||G>M.length||q<0||G+q>M.length||G+q<0)throw new $e;if(q===0)return;for(let ee=0;ee<q;ee++)this.write(M[G+ee])}flush(){}close(){}}class Sa extends U{}class Ga extends Io{constructor(M=32){if(super(),this.count=0,M<0)throw new J("Negative initial size: "+M);this.buf=new Uint8Array(M)}ensureCapacity(M){M-this.buf.length>0&&this.grow(M)}grow(M){let q=this.buf.length<<1;if(q-M<0&&(q=M),q<0){if(M<0)throw new Sa;q=_e.MAX_VALUE}this.buf=Be.copyOfUint8Array(this.buf,q)}write(M){this.ensureCapacity(this.count+1),this.buf[this.count]=M,this.count+=1}writeBytesOffset(M,G,q){if(G<0||G>M.length||q<0||G+q-M.length>0)throw new $e;this.ensureCapacity(this.count+q),pe.arraycopy(M,G,this.buf,this.count,q),this.count+=q}writeTo(M){M.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Be.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(M){return M?typeof M=="string"?this.toString_string(M):this.toString_number(M):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(M){return new String(this.buf).toString()}toString_number(M){return new String(this.buf).toString()}close(){}}var sr;(function(nt){nt[nt.ALPHA=0]="ALPHA",nt[nt.LOWER=1]="LOWER",nt[nt.MIXED=2]="MIXED",nt[nt.PUNCT=3]="PUNCT",nt[nt.ALPHA_SHIFT=4]="ALPHA_SHIFT",nt[nt.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(sr||(sr={}));function gl(){if(typeof window<"u")return window.BigInt||null;if(typeof commonjsGlobal<"u")return commonjsGlobal.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let qa;function us(nt){if(typeof qa>"u"&&(qa=gl()),qa===null)throw new Error("BigInt is not supported!");return qa(nt)}function ko(){let nt=[];nt[0]=us(1);let M=us(900);nt[1]=M;for(let G=2;G<16;G++)nt[G]=nt[G-1]*M;return nt}class Dt{static decode(M,G){let q=new pt(""),ee=Qe.ISO8859_1;q.enableDecoding(ee);let ne=1,fe=M[ne++],ye=new qs;for(;ne<M[0];){switch(fe){case Dt.TEXT_COMPACTION_MODE_LATCH:ne=Dt.textCompaction(M,ne,q);break;case Dt.BYTE_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH_6:ne=Dt.byteCompaction(fe,M,ee,ne,q);break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:q.append(M[ne++]);break;case Dt.NUMERIC_COMPACTION_MODE_LATCH:ne=Dt.numericCompaction(M,ne,q);break;case Dt.ECI_CHARSET:Qe.getCharacterSetECIByValue(M[ne++]);break;case Dt.ECI_GENERAL_PURPOSE:ne+=2;break;case Dt.ECI_USER_DEFINED:ne++;break;case Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:ne=Dt.decodeMacroBlock(M,ne,ye);break;case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Dt.MACRO_PDF417_TERMINATOR:throw new He;default:ne--,ne=Dt.textCompaction(M,ne,q);break}if(ne<M.length)fe=M[ne++];else throw He.getFormatInstance()}if(q.length()===0)throw He.getFormatInstance();let ze=new mn(null,q.toString(),null,G);return ze.setOther(ye),ze}static decodeMacroBlock(M,G,q){if(G+Dt.NUMBER_OF_SEQUENCE_CODEWORDS>M[0])throw He.getFormatInstance();let ee=new Int32Array(Dt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let ye=0;ye<Dt.NUMBER_OF_SEQUENCE_CODEWORDS;ye++,G++)ee[ye]=M[G];q.setSegmentIndex(_e.parseInt(Dt.decodeBase900toBase10(ee,Dt.NUMBER_OF_SEQUENCE_CODEWORDS)));let ne=new pt;G=Dt.textCompaction(M,G,ne),q.setFileId(ne.toString());let fe=-1;for(M[G]===Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(fe=G+1);G<M[0];)switch(M[G]){case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(G++,M[G]){case Dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let ye=new pt;G=Dt.textCompaction(M,G+1,ye),q.setFileName(ye.toString());break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let ze=new pt;G=Dt.textCompaction(M,G+1,ze),q.setSender(ze.toString());break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let Ge=new pt;G=Dt.textCompaction(M,G+1,Ge),q.setAddressee(Ge.toString());break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let Ye=new pt;G=Dt.numericCompaction(M,G+1,Ye),q.setSegmentCount(_e.parseInt(Ye.toString()));break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let rt=new pt;G=Dt.numericCompaction(M,G+1,rt),q.setTimestamp(ml.parseLong(rt.toString()));break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let st=new pt;G=Dt.numericCompaction(M,G+1,st),q.setChecksum(_e.parseInt(st.toString()));break;case Dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ht=new pt;G=Dt.numericCompaction(M,G+1,ht),q.setFileSize(ml.parseLong(ht.toString()));break;default:throw He.getFormatInstance()}break;case Dt.MACRO_PDF417_TERMINATOR:G++,q.setLastSegment(!0);break;default:throw He.getFormatInstance()}if(fe!==-1){let ye=G-fe;q.isLastSegment()&&ye--,q.setOptionalData(Be.copyOfRange(M,fe,fe+ye))}return G}static textCompaction(M,G,q){let ee=new Int32Array((M[0]-G)*2),ne=new Int32Array((M[0]-G)*2),fe=0,ye=!1;for(;G<M[0]&&!ye;){let ze=M[G++];if(ze<Dt.TEXT_COMPACTION_MODE_LATCH)ee[fe]=ze/30,ee[fe+1]=ze%30,fe+=2;else switch(ze){case Dt.TEXT_COMPACTION_MODE_LATCH:ee[fe++]=Dt.TEXT_COMPACTION_MODE_LATCH;break;case Dt.BYTE_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH_6:case Dt.NUMERIC_COMPACTION_MODE_LATCH:case Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Dt.MACRO_PDF417_TERMINATOR:G--,ye=!0;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee[fe]=Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,ze=M[G++],ne[fe]=ze,fe++;break}}return Dt.decodeTextCompaction(ee,ne,fe,q),G}static decodeTextCompaction(M,G,q,ee){let ne=sr.ALPHA,fe=sr.ALPHA,ye=0;for(;ye<q;){let ze=M[ye],Ge="";switch(ne){case sr.ALPHA:if(ze<26)Ge=String.fromCharCode(65+ze);else switch(ze){case 26:Ge=" ";break;case Dt.LL:ne=sr.LOWER;break;case Dt.ML:ne=sr.MIXED;break;case Dt.PS:fe=ne,ne=sr.PUNCT_SHIFT;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee.append(G[ye]);break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break;case sr.LOWER:if(ze<26)Ge=String.fromCharCode(97+ze);else switch(ze){case 26:Ge=" ";break;case Dt.AS:fe=ne,ne=sr.ALPHA_SHIFT;break;case Dt.ML:ne=sr.MIXED;break;case Dt.PS:fe=ne,ne=sr.PUNCT_SHIFT;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee.append(G[ye]);break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break;case sr.MIXED:if(ze<Dt.PL)Ge=Dt.MIXED_CHARS[ze];else switch(ze){case Dt.PL:ne=sr.PUNCT;break;case 26:Ge=" ";break;case Dt.LL:ne=sr.LOWER;break;case Dt.AL:ne=sr.ALPHA;break;case Dt.PS:fe=ne,ne=sr.PUNCT_SHIFT;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee.append(G[ye]);break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break;case sr.PUNCT:if(ze<Dt.PAL)Ge=Dt.PUNCT_CHARS[ze];else switch(ze){case Dt.PAL:ne=sr.ALPHA;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee.append(G[ye]);break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break;case sr.ALPHA_SHIFT:if(ne=fe,ze<26)Ge=String.fromCharCode(65+ze);else switch(ze){case 26:Ge=" ";break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break;case sr.PUNCT_SHIFT:if(ne=fe,ze<Dt.PAL)Ge=Dt.PUNCT_CHARS[ze];else switch(ze){case Dt.PAL:ne=sr.ALPHA;break;case Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ee.append(G[ye]);break;case Dt.TEXT_COMPACTION_MODE_LATCH:ne=sr.ALPHA;break}break}Ge!==""&&ee.append(Ge),ye++}}static byteCompaction(M,G,q,ee,ne){let fe=new Ga,ye=0,ze=0,Ge=!1;switch(M){case Dt.BYTE_COMPACTION_MODE_LATCH:let Ye=new Int32Array(6),rt=G[ee++];for(;ee<G[0]&&!Ge;)switch(Ye[ye++]=rt,ze=900*ze+rt,rt=G[ee++],rt){case Dt.TEXT_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH:case Dt.NUMERIC_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH_6:case Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Dt.MACRO_PDF417_TERMINATOR:ee--,Ge=!0;break;default:if(ye%5===0&&ye>0){for(let st=0;st<6;++st)fe.write(Number(us(ze)>>us(8*(5-st))));ze=0,ye=0}break}ee===G[0]&&rt<Dt.TEXT_COMPACTION_MODE_LATCH&&(Ye[ye++]=rt);for(let st=0;st<ye;st++)fe.write(Ye[st]);break;case Dt.BYTE_COMPACTION_MODE_LATCH_6:for(;ee<G[0]&&!Ge;){let st=G[ee++];if(st<Dt.TEXT_COMPACTION_MODE_LATCH)ye++,ze=900*ze+st;else switch(st){case Dt.TEXT_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH:case Dt.NUMERIC_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH_6:case Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Dt.MACRO_PDF417_TERMINATOR:ee--,Ge=!0;break}if(ye%5===0&&ye>0){for(let ht=0;ht<6;++ht)fe.write(Number(us(ze)>>us(8*(5-ht))));ze=0,ye=0}}break}return ne.append(ct.decode(fe.toByteArray(),q)),ee}static numericCompaction(M,G,q){let ee=0,ne=!1,fe=new Int32Array(Dt.MAX_NUMERIC_CODEWORDS);for(;G<M[0]&&!ne;){let ye=M[G++];if(G===M[0]&&(ne=!0),ye<Dt.TEXT_COMPACTION_MODE_LATCH)fe[ee]=ye,ee++;else switch(ye){case Dt.TEXT_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH:case Dt.BYTE_COMPACTION_MODE_LATCH_6:case Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Dt.MACRO_PDF417_TERMINATOR:G--,ne=!0;break}(ee%Dt.MAX_NUMERIC_CODEWORDS===0||ye===Dt.NUMERIC_COMPACTION_MODE_LATCH||ne)&&ee>0&&(q.append(Dt.decodeBase900toBase10(fe,ee)),ee=0)}return G}static decodeBase900toBase10(M,G){let q=us(0);for(let ne=0;ne<G;ne++)q+=Dt.EXP900[G-ne-1]*us(M[ne]);let ee=q.toString();if(ee.charAt(0)!=="1")throw new He;return ee.substring(1)}}Dt.TEXT_COMPACTION_MODE_LATCH=900,Dt.BYTE_COMPACTION_MODE_LATCH=901,Dt.NUMERIC_COMPACTION_MODE_LATCH=902,Dt.BYTE_COMPACTION_MODE_LATCH_6=924,Dt.ECI_USER_DEFINED=925,Dt.ECI_GENERAL_PURPOSE=926,Dt.ECI_CHARSET=927,Dt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Dt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Dt.MACRO_PDF417_TERMINATOR=922,Dt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Dt.MAX_NUMERIC_CODEWORDS=15,Dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Dt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Dt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Dt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Dt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Dt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Dt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Dt.PL=25,Dt.LL=27,Dt.AS=27,Dt.ML=28,Dt.AL=28,Dt.PS=29,Dt.PAL=29,Dt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Dt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Dt.EXP900=gl()?ko():[],Dt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Nn{constructor(){}static decode(M,G,q,ee,ne,fe,ye){let ze=new Zi(M,G,q,ee,ne),Ge=null,Ye=null,rt;for(let xt=!0;;xt=!1){if(G!=null&&(Ge=Nn.getRowIndicatorColumn(M,ze,G,!0,fe,ye)),ee!=null&&(Ye=Nn.getRowIndicatorColumn(M,ze,ee,!1,fe,ye)),rt=Nn.merge(Ge,Ye),rt==null)throw it.getNotFoundInstance();let vt=rt.getBoundingBox();if(xt&&vt!=null&&(vt.getMinY()<ze.getMinY()||vt.getMaxY()>ze.getMaxY()))ze=vt;else break}rt.setBoundingBox(ze);let st=rt.getBarcodeColumnCount()+1;rt.setDetectionResultColumn(0,Ge),rt.setDetectionResultColumn(st,Ye);let ht=Ge!=null;for(let xt=1;xt<=st;xt++){let vt=ht?xt:st-xt;if(rt.getDetectionResultColumn(vt)!==void 0)continue;let Ct;vt===0||vt===st?Ct=new Ao(ze,vt===0):Ct=new ls(ze),rt.setDetectionResultColumn(vt,Ct);let Mt=-1,qt=Mt;for(let Gt=ze.getMinY();Gt<=ze.getMaxY();Gt++){if(Mt=Nn.getStartColumn(rt,vt,Gt,ht),Mt<0||Mt>ze.getMaxX()){if(qt===-1)continue;Mt=qt}let Vt=Nn.detectCodeword(M,ze.getMinX(),ze.getMaxX(),ht,Mt,Gt,fe,ye);Vt!=null&&(Ct.setCodeword(Gt,Vt),qt=Mt,fe=Math.min(fe,Vt.getWidth()),ye=Math.max(ye,Vt.getWidth()))}}return Nn.createDecoderResult(rt)}static merge(M,G){if(M==null&&G==null)return null;let q=Nn.getBarcodeMetadata(M,G);if(q==null)return null;let ee=Zi.merge(Nn.adjustBoundingBox(M),Nn.adjustBoundingBox(G));return new Hr(q,ee)}static adjustBoundingBox(M){if(M==null)return null;let G=M.getRowHeights();if(G==null)return null;let q=Nn.getMax(G),ee=0;for(let ye of G)if(ee+=q-ye,ye>0)break;let ne=M.getCodewords();for(let ye=0;ee>0&&ne[ye]==null;ye++)ee--;let fe=0;for(let ye=G.length-1;ye>=0&&(fe+=q-G[ye],!(G[ye]>0));ye--);for(let ye=ne.length-1;fe>0&&ne[ye]==null;ye--)fe--;return M.getBoundingBox().addMissingRows(ee,fe,M.isLeft())}static getMax(M){let G=-1;for(let q of M)G=Math.max(G,q);return G}static getBarcodeMetadata(M,G){let q;if(M==null||(q=M.getBarcodeMetadata())==null)return G==null?null:G.getBarcodeMetadata();let ee;return G==null||(ee=G.getBarcodeMetadata())==null?q:q.getColumnCount()!==ee.getColumnCount()&&q.getErrorCorrectionLevel()!==ee.getErrorCorrectionLevel()&&q.getRowCount()!==ee.getRowCount()?null:q}static getRowIndicatorColumn(M,G,q,ee,ne,fe){let ye=new Ao(G,ee);for(let ze=0;ze<2;ze++){let Ge=ze===0?1:-1,Ye=Math.trunc(Math.trunc(q.getX()));for(let rt=Math.trunc(Math.trunc(q.getY()));rt<=G.getMaxY()&&rt>=G.getMinY();rt+=Ge){let st=Nn.detectCodeword(M,0,M.getWidth(),ee,Ye,rt,ne,fe);st!=null&&(ye.setCodeword(rt,st),ee?Ye=st.getStartX():Ye=st.getEndX())}}return ye}static adjustCodewordCount(M,G){let q=G[0][1],ee=q.getValue(),ne=M.getBarcodeColumnCount()*M.getBarcodeRowCount()-Nn.getNumberOfECCodeWords(M.getBarcodeECLevel());if(ee.length===0){if(ne<1||ne>gn.MAX_CODEWORDS_IN_BARCODE)throw it.getNotFoundInstance();q.setValue(ne)}else ee[0]!==ne&&q.setValue(ne)}static createDecoderResult(M){let G=Nn.createBarcodeMatrix(M);Nn.adjustCodewordCount(M,G);let q=new Array,ee=new Int32Array(M.getBarcodeRowCount()*M.getBarcodeColumnCount()),ne=[],fe=new Array;for(let ze=0;ze<M.getBarcodeRowCount();ze++)for(let Ge=0;Ge<M.getBarcodeColumnCount();Ge++){let Ye=G[ze][Ge+1].getValue(),rt=ze*M.getBarcodeColumnCount()+Ge;Ye.length===0?q.push(rt):Ye.length===1?ee[rt]=Ye[0]:(fe.push(rt),ne.push(Ye))}let ye=new Array(ne.length);for(let ze=0;ze<ye.length;ze++)ye[ze]=ne[ze];return Nn.createDecoderResultFromAmbiguousValues(M.getBarcodeECLevel(),ee,gn.toIntArray(q),gn.toIntArray(fe),ye)}static createDecoderResultFromAmbiguousValues(M,G,q,ee,ne){let fe=new Int32Array(ee.length),ye=100;for(;ye-- >0;){for(let ze=0;ze<fe.length;ze++)G[ee[ze]]=ne[ze][fe[ze]];try{return Nn.decodeCodewords(G,M,q)}catch(ze){if(!(ze instanceof ae))throw ze}if(fe.length===0)throw ae.getChecksumInstance();for(let ze=0;ze<fe.length;ze++)if(fe[ze]<ne[ze].length-1){fe[ze]++;break}else if(fe[ze]=0,ze===fe.length-1)throw ae.getChecksumInstance()}throw ae.getChecksumInstance()}static createBarcodeMatrix(M){let G=Array.from({length:M.getBarcodeRowCount()},()=>new Array(M.getBarcodeColumnCount()+2));for(let ee=0;ee<G.length;ee++)for(let ne=0;ne<G[ee].length;ne++)G[ee][ne]=new cs;let q=0;for(let ee of M.getDetectionResultColumns()){if(ee!=null){for(let ne of ee.getCodewords())if(ne!=null){let fe=ne.getRowNumber();if(fe>=0){if(fe>=G.length)continue;G[fe][q].setValue(ne.getValue())}}}q++}return G}static isValidBarcodeColumn(M,G){return G>=0&&G<=M.getBarcodeColumnCount()+1}static getStartColumn(M,G,q,ee){let ne=ee?1:-1,fe=null;if(Nn.isValidBarcodeColumn(M,G-ne)&&(fe=M.getDetectionResultColumn(G-ne).getCodeword(q)),fe!=null)return ee?fe.getEndX():fe.getStartX();if(fe=M.getDetectionResultColumn(G).getCodewordNearby(q),fe!=null)return ee?fe.getStartX():fe.getEndX();if(Nn.isValidBarcodeColumn(M,G-ne)&&(fe=M.getDetectionResultColumn(G-ne).getCodewordNearby(q)),fe!=null)return ee?fe.getEndX():fe.getStartX();let ye=0;for(;Nn.isValidBarcodeColumn(M,G-ne);){G-=ne;for(let ze of M.getDetectionResultColumn(G).getCodewords())if(ze!=null)return(ee?ze.getEndX():ze.getStartX())+ne*ye*(ze.getEndX()-ze.getStartX());ye++}return ee?M.getBoundingBox().getMinX():M.getBoundingBox().getMaxX()}static detectCodeword(M,G,q,ee,ne,fe,ye,ze){ne=Nn.adjustCodewordStartColumn(M,G,q,ee,ne,fe);let Ge=Nn.getModuleBitCount(M,G,q,ee,ne,fe);if(Ge==null)return null;let Ye,rt=pn.sum(Ge);if(ee)Ye=ne+rt;else{for(let xt=0;xt<Ge.length/2;xt++){let vt=Ge[xt];Ge[xt]=Ge[Ge.length-1-xt],Ge[Ge.length-1-xt]=vt}Ye=ne,ne=Ye-rt}if(!Nn.checkCodewordSkew(rt,ye,ze))return null;let st=Kr.getDecodedValue(Ge),ht=gn.getCodeword(st);return ht===-1?null:new Ai(ne,Ye,Nn.getCodewordBucketNumber(st),ht)}static getModuleBitCount(M,G,q,ee,ne,fe){let ye=ne,ze=new Int32Array(8),Ge=0,Ye=ee?1:-1,rt=ee;for(;(ee?ye<q:ye>=G)&&Ge<ze.length;)M.get(ye,fe)===rt?(ze[Ge]++,ye+=Ye):(Ge++,rt=!rt);return Ge===ze.length||ye===(ee?q:G)&&Ge===ze.length-1?ze:null}static getNumberOfECCodeWords(M){return 2<<M}static adjustCodewordStartColumn(M,G,q,ee,ne,fe){let ye=ne,ze=ee?-1:1;for(let Ge=0;Ge<2;Ge++){for(;(ee?ye>=G:ye<q)&&ee===M.get(ye,fe);){if(Math.abs(ne-ye)>Nn.CODEWORD_SKEW_SIZE)return ne;ye+=ze}ze=-ze,ee=!ee}return ye}static checkCodewordSkew(M,G,q){return G-Nn.CODEWORD_SKEW_SIZE<=M&&M<=q+Nn.CODEWORD_SKEW_SIZE}static decodeCodewords(M,G,q){if(M.length===0)throw He.getFormatInstance();let ee=1<<G+1,ne=Nn.correctErrors(M,q,ee);Nn.verifyCodewordCount(M,ee);let fe=Dt.decode(M,""+G);return fe.setErrorsCorrected(ne),fe.setErasures(q.length),fe}static correctErrors(M,G,q){if(G!=null&&G.length>q/2+Nn.MAX_ERRORS||q<0||q>Nn.MAX_EC_CODEWORDS)throw ae.getChecksumInstance();return Nn.errorCorrection.decode(M,q,G)}static verifyCodewordCount(M,G){if(M.length<4)throw He.getFormatInstance();let q=M[0];if(q>M.length)throw He.getFormatInstance();if(q===0)if(G<M.length)M[0]=M.length-G;else throw He.getFormatInstance()}static getBitCountForCodeword(M){let G=new Int32Array(8),q=0,ee=G.length-1;for(;!((M&1)!==q&&(q=M&1,ee--,ee<0));)G[ee]++,M>>=1;return G}static getCodewordBucketNumber(M){return M instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(M):this.getCodewordBucketNumber_number(M)}static getCodewordBucketNumber_number(M){return Nn.getCodewordBucketNumber(Nn.getBitCountForCodeword(M))}static getCodewordBucketNumber_Int32Array(M){return(M[0]-M[2]+M[4]-M[6]+9)%9}static toString(M){let G=new Gs;for(let q=0;q<M.length;q++){G.format("Row %2d: ",q);for(let ee=0;ee<M[q].length;ee++){let ne=M[q][ee];ne.getValue().length===0?G.format("        ",null):G.format("%4d(%2d)",ne.getValue()[0],ne.getConfidence(ne.getValue()[0]))}G.format("%n")}return G.toString()}}Nn.CODEWORD_SKEW_SIZE=2,Nn.MAX_ERRORS=3,Nn.MAX_EC_CODEWORDS=512,Nn.errorCorrection=new Qi;class Xr{decode(M,G=null){let q=Xr.decode(M,G,!1);if(q==null||q.length===0||q[0]==null)throw it.getNotFoundInstance();return q[0]}decodeMultiple(M,G=null){try{return Xr.decode(M,G,!0)}catch(q){throw q instanceof He||q instanceof ae?it.getNotFoundInstance():q}}static decode(M,G,q){const ee=new Array,ne=Cn.detectMultiple(M,G,q);for(const fe of ne.getPoints()){const ye=Nn.decode(ne.getBits(),fe[4],fe[5],fe[6],fe[7],Xr.getMinCodewordWidth(fe),Xr.getMaxCodewordWidth(fe)),ze=new St(ye.getText(),ye.getRawBytes(),void 0,fe,Rt.PDF_417);ze.putMetadata(nn.ERROR_CORRECTION_LEVEL,ye.getECLevel());const Ge=ye.getOther();Ge!=null&&ze.putMetadata(nn.PDF417_EXTRA_METADATA,Ge),ee.push(ze)}return ee.map(fe=>fe)}static getMaxWidth(M,G){return M==null||G==null?0:Math.trunc(Math.abs(M.getX()-G.getX()))}static getMinWidth(M,G){return M==null||G==null?_e.MAX_VALUE:Math.trunc(Math.abs(M.getX()-G.getX()))}static getMaxCodewordWidth(M){return Math.floor(Math.max(Math.max(Xr.getMaxWidth(M[0],M[4]),Xr.getMaxWidth(M[6],M[2])*gn.MODULES_IN_CODEWORD/gn.MODULES_IN_STOP_PATTERN),Math.max(Xr.getMaxWidth(M[1],M[5]),Xr.getMaxWidth(M[7],M[3])*gn.MODULES_IN_CODEWORD/gn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(M){return Math.floor(Math.min(Math.min(Xr.getMinWidth(M[0],M[4]),Xr.getMinWidth(M[6],M[2])*gn.MODULES_IN_CODEWORD/gn.MODULES_IN_STOP_PATTERN),Math.min(Xr.getMinWidth(M[1],M[5]),Xr.getMinWidth(M[7],M[3])*gn.MODULES_IN_CODEWORD/gn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wa extends U{}Wa.kind="ReaderException";class xl{constructor(M,G){this.verbose=M===!0,G&&this.setHints(G)}decode(M,G){return G&&this.setHints(G),this.decodeInternal(M)}decodeWithState(M){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(M)}setHints(M){this.hints=M;const G=!b(M)&&M.get(Ue.TRY_HARDER)===!0,q=b(M)?null:M.get(Ue.POSSIBLE_FORMATS),ee=new Array;if(!b(q)){const ne=q.some(fe=>fe===Rt.UPC_A||fe===Rt.UPC_E||fe===Rt.EAN_13||fe===Rt.EAN_8||fe===Rt.CODABAR||fe===Rt.CODE_39||fe===Rt.CODE_93||fe===Rt.CODE_128||fe===Rt.ITF||fe===Rt.RSS_14||fe===Rt.RSS_EXPANDED);ne&&!G&&ee.push(new Jr(M,this.verbose)),q.includes(Rt.QR_CODE)&&ee.push(new Xi),q.includes(Rt.DATA_MATRIX)&&ee.push(new Ki),q.includes(Rt.AZTEC)&&ee.push(new hi),q.includes(Rt.PDF_417)&&ee.push(new Xr),ne&&G&&ee.push(new Jr(M,this.verbose))}ee.length===0&&(G||ee.push(new Jr(M,this.verbose)),ee.push(new Xi),ee.push(new Ki),ee.push(new hi),ee.push(new Xr),G&&ee.push(new Jr(M,this.verbose))),this.readers=ee}reset(){if(this.readers!==null)for(const M of this.readers)M.reset()}decodeInternal(M){if(this.readers===null)throw new Wa("No readers where selected, nothing can be read.");for(const G of this.readers)try{return G.decode(M,this.hints)}catch(q){if(q instanceof Wa)continue}throw new it("No MultiFormat Readers were able to detect the code.")}}class yl extends Et{constructor(M=null,G=500){const q=new xl;q.setHints(M),super(q,G)}decodeBitmap(M){return this.reader.decodeWithState(M)}}class kc extends Et{constructor(M=500){super(new Xr,M)}}class Nc extends Et{constructor(M=500){super(new Xi,M)}}var No;(function(nt){nt[nt.ERROR_CORRECTION=0]="ERROR_CORRECTION",nt[nt.CHARACTER_SET=1]="CHARACTER_SET",nt[nt.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",nt[nt.MIN_SIZE=3]="MIN_SIZE",nt[nt.MAX_SIZE=4]="MAX_SIZE",nt[nt.MARGIN=5]="MARGIN",nt[nt.PDF417_COMPACT=6]="PDF417_COMPACT",nt[nt.PDF417_COMPACTION=7]="PDF417_COMPACTION",nt[nt.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",nt[nt.AZTEC_LAYERS=9]="AZTEC_LAYERS",nt[nt.QR_VERSION=10]="QR_VERSION"})(No||(No={}));var $r=No;class wa{constructor(M){this.field=M,this.cachedGenerators=[],this.cachedGenerators.push(new dn(M,Int32Array.from([1])))}buildGenerator(M){const G=this.cachedGenerators;if(M>=G.length){let q=G[G.length-1];const ee=this.field;for(let ne=G.length;ne<=M;ne++){const fe=q.multiply(new dn(ee,Int32Array.from([1,ee.exp(ne-1+ee.getGeneratorBase())])));G.push(fe),q=fe}}return G[M]}encode(M,G){if(G===0)throw new J("No error correction bytes");const q=M.length-G;if(q<=0)throw new J("No data bytes provided");const ee=this.buildGenerator(G),ne=new Int32Array(q);pe.arraycopy(M,0,ne,0,q);let fe=new dn(this.field,ne);fe=fe.multiplyByMonomial(G,1);const ze=fe.divide(ee)[1].getCoefficients(),Ge=G-ze.length;for(let Ye=0;Ye<Ge;Ye++)M[q+Ye]=0;pe.arraycopy(ze,0,M,q+Ge,ze.length)}}class Ir{constructor(){}static applyMaskPenaltyRule1(M){return Ir.applyMaskPenaltyRule1Internal(M,!0)+Ir.applyMaskPenaltyRule1Internal(M,!1)}static applyMaskPenaltyRule2(M){let G=0;const q=M.getArray(),ee=M.getWidth(),ne=M.getHeight();for(let fe=0;fe<ne-1;fe++){const ye=q[fe];for(let ze=0;ze<ee-1;ze++){const Ge=ye[ze];Ge===ye[ze+1]&&Ge===q[fe+1][ze]&&Ge===q[fe+1][ze+1]&&G++}}return Ir.N2*G}static applyMaskPenaltyRule3(M){let G=0;const q=M.getArray(),ee=M.getWidth(),ne=M.getHeight();for(let fe=0;fe<ne;fe++)for(let ye=0;ye<ee;ye++){const ze=q[fe];ye+6<ee&&ze[ye]===1&&ze[ye+1]===0&&ze[ye+2]===1&&ze[ye+3]===1&&ze[ye+4]===1&&ze[ye+5]===0&&ze[ye+6]===1&&(Ir.isWhiteHorizontal(ze,ye-4,ye)||Ir.isWhiteHorizontal(ze,ye+7,ye+11))&&G++,fe+6<ne&&q[fe][ye]===1&&q[fe+1][ye]===0&&q[fe+2][ye]===1&&q[fe+3][ye]===1&&q[fe+4][ye]===1&&q[fe+5][ye]===0&&q[fe+6][ye]===1&&(Ir.isWhiteVertical(q,ye,fe-4,fe)||Ir.isWhiteVertical(q,ye,fe+7,fe+11))&&G++}return G*Ir.N3}static isWhiteHorizontal(M,G,q){G=Math.max(G,0),q=Math.min(q,M.length);for(let ee=G;ee<q;ee++)if(M[ee]===1)return!1;return!0}static isWhiteVertical(M,G,q,ee){q=Math.max(q,0),ee=Math.min(ee,M.length);for(let ne=q;ne<ee;ne++)if(M[ne][G]===1)return!1;return!0}static applyMaskPenaltyRule4(M){let G=0;const q=M.getArray(),ee=M.getWidth(),ne=M.getHeight();for(let ze=0;ze<ne;ze++){const Ge=q[ze];for(let Ye=0;Ye<ee;Ye++)Ge[Ye]===1&&G++}const fe=M.getHeight()*M.getWidth();return Math.floor(Math.abs(G*2-fe)*10/fe)*Ir.N4}static getDataMaskBit(M,G,q){let ee,ne;switch(M){case 0:ee=q+G&1;break;case 1:ee=q&1;break;case 2:ee=G%3;break;case 3:ee=(q+G)%3;break;case 4:ee=Math.floor(q/2)+Math.floor(G/3)&1;break;case 5:ne=q*G,ee=(ne&1)+ne%3;break;case 6:ne=q*G,ee=(ne&1)+ne%3&1;break;case 7:ne=q*G,ee=ne%3+(q+G&1)&1;break;default:throw new J("Invalid mask pattern: "+M)}return ee===0}static applyMaskPenaltyRule1Internal(M,G){let q=0;const ee=G?M.getHeight():M.getWidth(),ne=G?M.getWidth():M.getHeight(),fe=M.getArray();for(let ye=0;ye<ee;ye++){let ze=0,Ge=-1;for(let Ye=0;Ye<ne;Ye++){const rt=G?fe[ye][Ye]:fe[Ye][ye];rt===Ge?ze++:(ze>=5&&(q+=Ir.N1+(ze-5)),ze=1,Ge=rt)}ze>=5&&(q+=Ir.N1+(ze-5))}return q}}Ir.N1=3,Ir.N2=3,Ir.N3=40,Ir.N4=10;class Ya{constructor(M,G){this.width=M,this.height=G;const q=new Array(G);for(let ee=0;ee!==G;ee++)q[ee]=new Uint8Array(M);this.bytes=q}getHeight(){return this.height}getWidth(){return this.width}get(M,G){return this.bytes[G][M]}getArray(){return this.bytes}setNumber(M,G,q){this.bytes[G][M]=q}setBoolean(M,G,q){this.bytes[G][M]=q?1:0}clear(M){for(const G of this.bytes)Be.fill(G,M)}equals(M){if(!(M instanceof Ya))return!1;const G=M;if(this.width!==G.width||this.height!==G.height)return!1;for(let q=0,ee=this.height;q<ee;++q){const ne=this.bytes[q],fe=G.bytes[q];for(let ye=0,ze=this.width;ye<ze;++ye)if(ne[ye]!==fe[ye])return!1}return!0}toString(){const M=new pt;for(let G=0,q=this.height;G<q;++G){const ee=this.bytes[G];for(let ne=0,fe=this.width;ne<fe;++ne)switch(ee[ne]){case 0:M.append(" 0");break;case 1:M.append(" 1");break;default:M.append("  ");break}M.append(`
`)}return M.toString()}}class vs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const M=new pt;return M.append(`<<
`),M.append(" mode: "),M.append(this.mode?this.mode.toString():"null"),M.append(`
 ecLevel: `),M.append(this.ecLevel?this.ecLevel.toString():"null"),M.append(`
 version: `),M.append(this.version?this.version.toString():"null"),M.append(`
 maskPattern: `),M.append(this.maskPattern.toString()),this.matrix?(M.append(`
 matrix:
`),M.append(this.matrix.toString())):M.append(`
 matrix: null
`),M.append(`>>
`),M.toString()}setMode(M){this.mode=M}setECLevel(M){this.ecLevel=M}setVersion(M){this.version=M}setMaskPattern(M){this.maskPattern=M}setMatrix(M){this.matrix=M}static isValidMaskPattern(M){return M>=0&&M<vs.NUM_MASK_PATTERNS}}vs.NUM_MASK_PATTERNS=8;class lr extends U{}lr.kind="WriterException";class xn{constructor(){}static clearMatrix(M){M.clear(255)}static buildMatrix(M,G,q,ee,ne){xn.clearMatrix(ne),xn.embedBasicPatterns(q,ne),xn.embedTypeInfo(G,ee,ne),xn.maybeEmbedVersionInfo(q,ne),xn.embedDataBits(M,ee,ne)}static embedBasicPatterns(M,G){xn.embedPositionDetectionPatternsAndSeparators(G),xn.embedDarkDotAtLeftBottomCorner(G),xn.maybeEmbedPositionAdjustmentPatterns(M,G),xn.embedTimingPatterns(G)}static embedTypeInfo(M,G,q){const ee=new xe;xn.makeTypeInfoBits(M,G,ee);for(let ne=0,fe=ee.getSize();ne<fe;++ne){const ye=ee.get(ee.getSize()-1-ne),ze=xn.TYPE_INFO_COORDINATES[ne],Ge=ze[0],Ye=ze[1];if(q.setBoolean(Ge,Ye,ye),ne<8){const rt=q.getWidth()-ne-1;q.setBoolean(rt,8,ye)}else{const st=q.getHeight()-7+(ne-8);q.setBoolean(8,st,ye)}}}static maybeEmbedVersionInfo(M,G){if(M.getVersionNumber()<7)return;const q=new xe;xn.makeVersionInfoBits(M,q);let ee=17;for(let ne=0;ne<6;++ne)for(let fe=0;fe<3;++fe){const ye=q.get(ee);ee--,G.setBoolean(ne,G.getHeight()-11+fe,ye),G.setBoolean(G.getHeight()-11+fe,ne,ye)}}static embedDataBits(M,G,q){let ee=0,ne=-1,fe=q.getWidth()-1,ye=q.getHeight()-1;for(;fe>0;){for(fe===6&&(fe-=1);ye>=0&&ye<q.getHeight();){for(let ze=0;ze<2;++ze){const Ge=fe-ze;if(!xn.isEmpty(q.get(Ge,ye)))continue;let Ye;ee<M.getSize()?(Ye=M.get(ee),++ee):Ye=!1,G!==255&&Ir.getDataMaskBit(G,Ge,ye)&&(Ye=!Ye),q.setBoolean(Ge,ye,Ye)}ye+=ne}ne=-ne,ye+=ne,fe-=2}if(ee!==M.getSize())throw new lr("Not all bits consumed: "+ee+"/"+M.getSize())}static findMSBSet(M){return 32-_e.numberOfLeadingZeros(M)}static calculateBCHCode(M,G){if(G===0)throw new J("0 polynomial");const q=xn.findMSBSet(G);for(M<<=q-1;xn.findMSBSet(M)>=q;)M^=G<<xn.findMSBSet(M)-q;return M}static makeTypeInfoBits(M,G,q){if(!vs.isValidMaskPattern(G))throw new lr("Invalid mask pattern");const ee=M.getBits()<<3|G;q.appendBits(ee,5);const ne=xn.calculateBCHCode(ee,xn.TYPE_INFO_POLY);q.appendBits(ne,10);const fe=new xe;if(fe.appendBits(xn.TYPE_INFO_MASK_PATTERN,15),q.xor(fe),q.getSize()!==15)throw new lr("should not happen but we got: "+q.getSize())}static makeVersionInfoBits(M,G){G.appendBits(M.getVersionNumber(),6);const q=xn.calculateBCHCode(M.getVersionNumber(),xn.VERSION_INFO_POLY);if(G.appendBits(q,12),G.getSize()!==18)throw new lr("should not happen but we got: "+G.getSize())}static isEmpty(M){return M===255}static embedTimingPatterns(M){for(let G=8;G<M.getWidth()-8;++G){const q=(G+1)%2;xn.isEmpty(M.get(G,6))&&M.setNumber(G,6,q),xn.isEmpty(M.get(6,G))&&M.setNumber(6,G,q)}}static embedDarkDotAtLeftBottomCorner(M){if(M.get(8,M.getHeight()-8)===0)throw new lr;M.setNumber(8,M.getHeight()-8,1)}static embedHorizontalSeparationPattern(M,G,q){for(let ee=0;ee<8;++ee){if(!xn.isEmpty(q.get(M+ee,G)))throw new lr;q.setNumber(M+ee,G,0)}}static embedVerticalSeparationPattern(M,G,q){for(let ee=0;ee<7;++ee){if(!xn.isEmpty(q.get(M,G+ee)))throw new lr;q.setNumber(M,G+ee,0)}}static embedPositionAdjustmentPattern(M,G,q){for(let ee=0;ee<5;++ee){const ne=xn.POSITION_ADJUSTMENT_PATTERN[ee];for(let fe=0;fe<5;++fe)q.setNumber(M+fe,G+ee,ne[fe])}}static embedPositionDetectionPattern(M,G,q){for(let ee=0;ee<7;++ee){const ne=xn.POSITION_DETECTION_PATTERN[ee];for(let fe=0;fe<7;++fe)q.setNumber(M+fe,G+ee,ne[fe])}}static embedPositionDetectionPatternsAndSeparators(M){const G=xn.POSITION_DETECTION_PATTERN[0].length;xn.embedPositionDetectionPattern(0,0,M),xn.embedPositionDetectionPattern(M.getWidth()-G,0,M),xn.embedPositionDetectionPattern(0,M.getWidth()-G,M);const q=8;xn.embedHorizontalSeparationPattern(0,q-1,M),xn.embedHorizontalSeparationPattern(M.getWidth()-q,q-1,M),xn.embedHorizontalSeparationPattern(0,M.getWidth()-q,M);const ee=7;xn.embedVerticalSeparationPattern(ee,0,M),xn.embedVerticalSeparationPattern(M.getHeight()-ee-1,0,M),xn.embedVerticalSeparationPattern(ee,M.getHeight()-ee,M)}static maybeEmbedPositionAdjustmentPatterns(M,G){if(M.getVersionNumber()<2)return;const q=M.getVersionNumber()-1,ee=xn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[q];for(let ne=0,fe=ee.length;ne!==fe;ne++){const ye=ee[ne];if(ye>=0)for(let ze=0;ze!==fe;ze++){const Ge=ee[ze];Ge>=0&&xn.isEmpty(G.get(Ge,ye))&&xn.embedPositionAdjustmentPattern(Ge-2,ye-2,G)}}}}xn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xn.VERSION_INFO_POLY=7973,xn.TYPE_INFO_POLY=1335,xn.TYPE_INFO_MASK_PATTERN=21522;class Mc{constructor(M,G){this.dataBytes=M,this.errorCorrectionBytes=G}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yr{constructor(){}static calculateMaskPenalty(M){return Ir.applyMaskPenaltyRule1(M)+Ir.applyMaskPenaltyRule2(M)+Ir.applyMaskPenaltyRule3(M)+Ir.applyMaskPenaltyRule4(M)}static encode(M,G,q=null){let ee=yr.DEFAULT_BYTE_MODE_ENCODING;const ne=q!==null&&q.get($r.CHARACTER_SET)!==void 0;ne&&(ee=q.get($r.CHARACTER_SET).toString());const fe=this.chooseMode(M,ee),ye=new xe;if(fe===hn.BYTE&&(ne||yr.DEFAULT_BYTE_MODE_ENCODING!==ee)){const Gt=Qe.getCharacterSetECIByName(ee);Gt!==void 0&&this.appendECI(Gt,ye)}this.appendModeInfo(fe,ye);const ze=new xe;this.appendBytes(M,fe,ze,ee);let Ge;if(q!==null&&q.get($r.QR_VERSION)!==void 0){const Gt=Number.parseInt(q.get($r.QR_VERSION).toString(),10);Ge=ln.getVersionForNumber(Gt);const Vt=this.calculateBitsNeeded(fe,ye,ze,Ge);if(!this.willFit(Vt,Ge,G))throw new lr("Data too big for requested version")}else Ge=this.recommendVersion(G,fe,ye,ze);const Ye=new xe;Ye.appendBitArray(ye);const rt=fe===hn.BYTE?ze.getSizeInBytes():M.length;this.appendLengthInfo(rt,Ge,fe,Ye),Ye.appendBitArray(ze);const st=Ge.getECBlocksForLevel(G),ht=Ge.getTotalCodewords()-st.getTotalECCodewords();this.terminateBits(ht,Ye);const xt=this.interleaveWithECBytes(Ye,Ge.getTotalCodewords(),ht,st.getNumBlocks()),vt=new vs;vt.setECLevel(G),vt.setMode(fe),vt.setVersion(Ge);const Ct=Ge.getDimensionForVersion(),Mt=new Ya(Ct,Ct),qt=this.chooseMaskPattern(xt,G,Ge,Mt);return vt.setMaskPattern(qt),xn.buildMatrix(xt,G,Ge,qt,Mt),vt.setMatrix(Mt),vt}static recommendVersion(M,G,q,ee){const ne=this.calculateBitsNeeded(G,q,ee,ln.getVersionForNumber(1)),fe=this.chooseVersion(ne,M),ye=this.calculateBitsNeeded(G,q,ee,fe);return this.chooseVersion(ye,M)}static calculateBitsNeeded(M,G,q,ee){return G.getSize()+M.getCharacterCountBits(ee)+q.getSize()}static getAlphanumericCode(M){return M<yr.ALPHANUMERIC_TABLE.length?yr.ALPHANUMERIC_TABLE[M]:-1}static chooseMode(M,G=null){if(Qe.SJIS.getName()===G&&this.isOnlyDoubleByteKanji(M))return hn.KANJI;let q=!1,ee=!1;for(let ne=0,fe=M.length;ne<fe;++ne){const ye=M.charAt(ne);if(yr.isDigit(ye))q=!0;else if(this.getAlphanumericCode(ye.charCodeAt(0))!==-1)ee=!0;else return hn.BYTE}return ee?hn.ALPHANUMERIC:q?hn.NUMERIC:hn.BYTE}static isOnlyDoubleByteKanji(M){let G;try{G=ct.encode(M,Qe.SJIS)}catch{return!1}const q=G.length;if(q%2!==0)return!1;for(let ee=0;ee<q;ee+=2){const ne=G[ee]&255;if((ne<129||ne>159)&&(ne<224||ne>235))return!1}return!0}static chooseMaskPattern(M,G,q,ee){let ne=Number.MAX_SAFE_INTEGER,fe=-1;for(let ye=0;ye<vs.NUM_MASK_PATTERNS;ye++){xn.buildMatrix(M,G,q,ye,ee);let ze=this.calculateMaskPenalty(ee);ze<ne&&(ne=ze,fe=ye)}return fe}static chooseVersion(M,G){for(let q=1;q<=40;q++){const ee=ln.getVersionForNumber(q);if(yr.willFit(M,ee,G))return ee}throw new lr("Data too big")}static willFit(M,G,q){const ee=G.getTotalCodewords(),fe=G.getECBlocksForLevel(q).getTotalECCodewords(),ye=ee-fe,ze=(M+7)/8;return ye>=ze}static terminateBits(M,G){const q=M*8;if(G.getSize()>q)throw new lr("data bits cannot fit in the QR Code"+G.getSize()+" > "+q);for(let fe=0;fe<4&&G.getSize()<q;++fe)G.appendBit(!1);const ee=G.getSize()&7;if(ee>0)for(let fe=ee;fe<8;fe++)G.appendBit(!1);const ne=M-G.getSizeInBytes();for(let fe=0;fe<ne;++fe)G.appendBits((fe&1)===0?236:17,8);if(G.getSize()!==q)throw new lr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(M,G,q,ee,ne,fe){if(ee>=q)throw new lr("Block ID too large");const ye=M%q,ze=q-ye,Ge=Math.floor(M/q),Ye=Ge+1,rt=Math.floor(G/q),st=rt+1,ht=Ge-rt,xt=Ye-st;if(ht!==xt)throw new lr("EC bytes mismatch");if(q!==ze+ye)throw new lr("RS blocks mismatch");if(M!==(rt+ht)*ze+(st+xt)*ye)throw new lr("Total bytes mismatch");ee<ze?(ne[0]=rt,fe[0]=ht):(ne[0]=st,fe[0]=xt)}static interleaveWithECBytes(M,G,q,ee){if(M.getSizeInBytes()!==q)throw new lr("Number of bits and data bytes does not match");let ne=0,fe=0,ye=0;const ze=new Array;for(let Ye=0;Ye<ee;++Ye){const rt=new Int32Array(1),st=new Int32Array(1);yr.getNumDataBytesAndNumECBytesForBlockID(G,q,ee,Ye,rt,st);const ht=rt[0],xt=new Uint8Array(ht);M.toBytes(8*ne,xt,0,ht);const vt=yr.generateECBytes(xt,st[0]);ze.push(new Mc(xt,vt)),fe=Math.max(fe,ht),ye=Math.max(ye,vt.length),ne+=rt[0]}if(q!==ne)throw new lr("Data bytes does not match offset");const Ge=new xe;for(let Ye=0;Ye<fe;++Ye)for(const rt of ze){const st=rt.getDataBytes();Ye<st.length&&Ge.appendBits(st[Ye],8)}for(let Ye=0;Ye<ye;++Ye)for(const rt of ze){const st=rt.getErrorCorrectionBytes();Ye<st.length&&Ge.appendBits(st[Ye],8)}if(G!==Ge.getSizeInBytes())throw new lr("Interleaving error: "+G+" and "+Ge.getSizeInBytes()+" differ.");return Ge}static generateECBytes(M,G){const q=M.length,ee=new Int32Array(q+G);for(let fe=0;fe<q;fe++)ee[fe]=M[fe]&255;new wa(tn.QR_CODE_FIELD_256).encode(ee,G);const ne=new Uint8Array(G);for(let fe=0;fe<G;fe++)ne[fe]=ee[q+fe];return ne}static appendModeInfo(M,G){G.appendBits(M.getBits(),4)}static appendLengthInfo(M,G,q,ee){const ne=q.getCharacterCountBits(G);if(M>=1<<ne)throw new lr(M+" is bigger than "+((1<<ne)-1));ee.appendBits(M,ne)}static appendBytes(M,G,q,ee){switch(G){case hn.NUMERIC:yr.appendNumericBytes(M,q);break;case hn.ALPHANUMERIC:yr.appendAlphanumericBytes(M,q);break;case hn.BYTE:yr.append8BitBytes(M,q,ee);break;case hn.KANJI:yr.appendKanjiBytes(M,q);break;default:throw new lr("Invalid mode: "+G)}}static getDigit(M){return M.charCodeAt(0)-48}static isDigit(M){const G=yr.getDigit(M);return G>=0&&G<=9}static appendNumericBytes(M,G){const q=M.length;let ee=0;for(;ee<q;){const ne=yr.getDigit(M.charAt(ee));if(ee+2<q){const fe=yr.getDigit(M.charAt(ee+1)),ye=yr.getDigit(M.charAt(ee+2));G.appendBits(ne*100+fe*10+ye,10),ee+=3}else if(ee+1<q){const fe=yr.getDigit(M.charAt(ee+1));G.appendBits(ne*10+fe,7),ee+=2}else G.appendBits(ne,4),ee++}}static appendAlphanumericBytes(M,G){const q=M.length;let ee=0;for(;ee<q;){const ne=yr.getAlphanumericCode(M.charCodeAt(ee));if(ne===-1)throw new lr;if(ee+1<q){const fe=yr.getAlphanumericCode(M.charCodeAt(ee+1));if(fe===-1)throw new lr;G.appendBits(ne*45+fe,11),ee+=2}else G.appendBits(ne,6),ee++}}static append8BitBytes(M,G,q){let ee;try{ee=ct.encode(M,q)}catch(ne){throw new lr(ne)}for(let ne=0,fe=ee.length;ne!==fe;ne++){const ye=ee[ne];G.appendBits(ye,8)}}static appendKanjiBytes(M,G){let q;try{q=ct.encode(M,Qe.SJIS)}catch(ne){throw new lr(ne)}const ee=q.length;for(let ne=0;ne<ee;ne+=2){const fe=q[ne]&255,ye=q[ne+1]&255,ze=fe<<8&4294967295|ye;let Ge=-1;if(ze>=33088&&ze<=40956?Ge=ze-33088:ze>=57408&&ze<=60351&&(Ge=ze-49472),Ge===-1)throw new lr("Invalid byte sequence");const Ye=(Ge>>8)*192+(Ge&255);G.appendBits(Ye,13)}}static appendECI(M,G){G.appendBits(hn.ECI.getBits(),4),G.appendBits(M.getValue(),8)}}yr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yr.DEFAULT_BYTE_MODE_ENCODING=Qe.UTF8.getName();class Es{write(M,G,q,ee=null){if(M.length===0)throw new J("Found empty contents");if(G<0||q<0)throw new J("Requested dimensions are too small: "+G+"x"+q);let ne=Bn.L,fe=Es.QUIET_ZONE_SIZE;ee!==null&&(ee.get($r.ERROR_CORRECTION)!==void 0&&(ne=Bn.fromString(ee.get($r.ERROR_CORRECTION).toString())),ee.get($r.MARGIN)!==void 0&&(fe=Number.parseInt(ee.get($r.MARGIN).toString(),10)));const ye=yr.encode(M,ne,ee);return this.renderResult(ye,G,q,fe)}writeToDom(M,G,q,ee,ne=null){typeof M=="string"&&(M=document.querySelector(M));const fe=this.write(G,q,ee,ne);M&&M.appendChild(fe)}renderResult(M,G,q,ee){const ne=M.getMatrix();if(ne===null)throw new Kn;const fe=ne.getWidth(),ye=ne.getHeight(),ze=fe+ee*2,Ge=ye+ee*2,Ye=Math.max(G,ze),rt=Math.max(q,Ge),st=Math.min(Math.floor(Ye/ze),Math.floor(rt/Ge)),ht=Math.floor((Ye-fe*st)/2),xt=Math.floor((rt-ye*st)/2),vt=this.createSVGElement(Ye,rt);for(let Ct=0,Mt=xt;Ct<ye;Ct++,Mt+=st)for(let qt=0,Gt=ht;qt<fe;qt++,Gt+=st)if(ne.get(qt,Ct)===1){const Vt=this.createSvgRectElement(Gt,Mt,st,st);vt.appendChild(Vt)}return vt}createSVGElement(M,G){const q=document.createElementNS(Es.SVG_NS,"svg");return q.setAttributeNS(null,"height",M.toString()),q.setAttributeNS(null,"width",G.toString()),q}createSvgRectElement(M,G,q,ee){const ne=document.createElementNS(Es.SVG_NS,"rect");return ne.setAttributeNS(null,"x",M.toString()),ne.setAttributeNS(null,"y",G.toString()),ne.setAttributeNS(null,"height",q.toString()),ne.setAttributeNS(null,"width",ee.toString()),ne.setAttributeNS(null,"fill","#000000"),ne}}Es.QUIET_ZONE_SIZE=4,Es.SVG_NS="http://www.w3.org/2000/svg";class Ws{encode(M,G,q,ee,ne){if(M.length===0)throw new J("Found empty contents");if(G!==Rt.QR_CODE)throw new J("Can only encode QR_CODE, but got "+G);if(q<0||ee<0)throw new J(`Requested dimensions are too small: ${q}x${ee}`);let fe=Bn.L,ye=Ws.QUIET_ZONE_SIZE;ne!==null&&(ne.get($r.ERROR_CORRECTION)!==void 0&&(fe=Bn.fromString(ne.get($r.ERROR_CORRECTION).toString())),ne.get($r.MARGIN)!==void 0&&(ye=Number.parseInt(ne.get($r.MARGIN).toString(),10)));const ze=yr.encode(M,fe,ne);return Ws.renderResult(ze,q,ee,ye)}static renderResult(M,G,q,ee){const ne=M.getMatrix();if(ne===null)throw new Kn;const fe=ne.getWidth(),ye=ne.getHeight(),ze=fe+ee*2,Ge=ye+ee*2,Ye=Math.max(G,ze),rt=Math.max(q,Ge),st=Math.min(Math.floor(Ye/ze),Math.floor(rt/Ge)),ht=Math.floor((Ye-fe*st)/2),xt=Math.floor((rt-ye*st)/2),vt=new yt(Ye,rt);for(let Ct=0,Mt=xt;Ct<ye;Ct++,Mt+=st)for(let qt=0,Gt=ht;qt<fe;qt++,Gt+=st)ne.get(qt,Ct)===1&&vt.setRegion(Gt,Mt,st,st);return vt}}Ws.QUIET_ZONE_SIZE=4;class Dc{encode(M,G,q,ee,ne){let fe;switch(G){case Rt.QR_CODE:fe=new Ws;break;default:throw new J("No encoder available for format "+G)}return fe.encode(M,G,q,ee,ne)}}class Fi extends We{constructor(M,G,q,ee,ne,fe,ye,ze){if(super(fe,ye),this.yuvData=M,this.dataWidth=G,this.dataHeight=q,this.left=ee,this.top=ne,ee+fe>G||ne+ye>q)throw new J("Crop rectangle does not fit within image data.");ze&&this.reverseHorizontal(fe,ye)}getRow(M,G){if(M<0||M>=this.getHeight())throw new J("Requested row is outside the image: "+M);const q=this.getWidth();(G==null||G.length<q)&&(G=new Uint8ClampedArray(q));const ee=(M+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.yuvData,ee,G,0,q),G}getMatrix(){const M=this.getWidth(),G=this.getHeight();if(M===this.dataWidth&&G===this.dataHeight)return this.yuvData;const q=M*G,ee=new Uint8ClampedArray(q);let ne=this.top*this.dataWidth+this.left;if(M===this.dataWidth)return pe.arraycopy(this.yuvData,ne,ee,0,q),ee;for(let fe=0;fe<G;fe++){const ye=fe*M;pe.arraycopy(this.yuvData,ne,ee,ye,M),ne+=this.dataWidth}return ee}isCropSupported(){return!0}crop(M,G,q,ee){return new Fi(this.yuvData,this.dataWidth,this.dataHeight,this.left+M,this.top+G,q,ee,!1)}renderThumbnail(){const M=this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR,G=this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR,q=new Int32Array(M*G),ee=this.yuvData;let ne=this.top*this.dataWidth+this.left;for(let fe=0;fe<G;fe++){const ye=fe*M;for(let ze=0;ze<M;ze++){const Ge=ee[ne+ze*Fi.THUMBNAIL_SCALE_FACTOR]&255;q[ye+ze]=4278190080|Ge*65793}ne+=this.dataWidth*Fi.THUMBNAIL_SCALE_FACTOR}return q}getThumbnailWidth(){return this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(M,G){const q=this.yuvData;for(let ee=0,ne=this.top*this.dataWidth+this.left;ee<G;ee++,ne+=this.dataWidth){const fe=ne+M/2;for(let ye=ne,ze=ne+M-1;ye<fe;ye++,ze--){const Ge=q[ye];q[ye]=q[ze],q[ze]=Ge}}}invert(){return new Ze(this)}}Fi.THUMBNAIL_SCALE_FACTOR=2;class Mo extends We{constructor(M,G,q,ee,ne,fe,ye){if(super(G,q),this.dataWidth=ee,this.dataHeight=ne,this.left=fe,this.top=ye,M.BYTES_PER_ELEMENT===4){const ze=G*q,Ge=new Uint8ClampedArray(ze);for(let Ye=0;Ye<ze;Ye++){const rt=M[Ye],st=rt>>16&255,ht=rt>>7&510,xt=rt&255;Ge[Ye]=(st+ht+xt)/4&255}this.luminances=Ge}else this.luminances=M;if(ee===void 0&&(this.dataWidth=G),ne===void 0&&(this.dataHeight=q),fe===void 0&&(this.left=0),ye===void 0&&(this.top=0),this.left+G>this.dataWidth||this.top+q>this.dataHeight)throw new J("Crop rectangle does not fit within image data.")}getRow(M,G){if(M<0||M>=this.getHeight())throw new J("Requested row is outside the image: "+M);const q=this.getWidth();(G==null||G.length<q)&&(G=new Uint8ClampedArray(q));const ee=(M+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.luminances,ee,G,0,q),G}getMatrix(){const M=this.getWidth(),G=this.getHeight();if(M===this.dataWidth&&G===this.dataHeight)return this.luminances;const q=M*G,ee=new Uint8ClampedArray(q);let ne=this.top*this.dataWidth+this.left;if(M===this.dataWidth)return pe.arraycopy(this.luminances,ne,ee,0,q),ee;for(let fe=0;fe<G;fe++){const ye=fe*M;pe.arraycopy(this.luminances,ne,ee,ye,M),ne+=this.dataWidth}return ee}isCropSupported(){return!0}crop(M,G,q,ee){return new Mo(this.luminances,q,ee,this.dataWidth,this.dataHeight,this.left+M,this.top+G)}invert(){return new Ze(this)}}class vl extends Qe{static forName(M){return this.getCharacterSetECIByName(M)}}class _a{}_a.ISO_8859_1=Qe.ISO8859_1;class Ys{isCompact(){return this.compact}setCompact(M){this.compact=M}getSize(){return this.size}setSize(M){this.size=M}getLayers(){return this.layers}setLayers(M){this.layers=M}getCodeWords(){return this.codeWords}setCodeWords(M){this.codeWords=M}getMatrix(){return this.matrix}setMatrix(M){this.matrix=M}}class El{static singletonList(M){return[M]}static min(M,G){return M.sort(G)[0]}}class bl{constructor(M){this.previous=M}getPrevious(){return this.previous}}class bs extends bl{constructor(M,G,q){super(M),this.value=G,this.bitCount=q}appendTo(M,G){M.appendBits(this.value,this.bitCount)}add(M,G){return new bs(this,M,G)}addBinaryShift(M,G){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new bs(this,M,G)}toString(){let M=this.value&(1<<this.bitCount)-1;return M|=1<<this.bitCount,"<"+_e.toBinaryString(M|1<<this.bitCount).substring(1)+">"}}class Ka extends bs{constructor(M,G,q){super(M,0,0),this.binaryShiftStart=G,this.binaryShiftByteCount=q}appendTo(M,G){for(let q=0;q<this.binaryShiftByteCount;q++)(q===0||q===31&&this.binaryShiftByteCount<=62)&&(M.appendBits(31,5),this.binaryShiftByteCount>62?M.appendBits(this.binaryShiftByteCount-31,16):q===0?M.appendBits(Math.min(this.binaryShiftByteCount,31),5):M.appendBits(this.binaryShiftByteCount-31,5)),M.appendBits(G[this.binaryShiftStart+q],8)}addBinaryShift(M,G){return new Ka(this,M,G)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sl(nt,M,G){return new Ka(nt,M,G)}function Ks(nt,M,G){return new bs(nt,M,G)}const Xs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ds=0,Xa=1,yi=2,Do=3,Ii=4,Ca=new bs(null,0,0),Ss=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jc(nt){for(let M of nt)Be.fill(M,-1);return nt[ds][Ii]=0,nt[Xa][Ii]=0,nt[Xa][ds]=28,nt[Do][Ii]=0,nt[yi][Ii]=0,nt[yi][ds]=15,nt}const Ra=jc(Be.createInt32Array(6,6));class ki{constructor(M,G,q,ee){this.token=M,this.mode=G,this.binaryShiftByteCount=q,this.bitCount=ee}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(M,G){let q=this.bitCount,ee=this.token;if(M!==this.mode){let fe=Ss[this.mode][M];ee=Ks(ee,fe&65535,fe>>16),q+=fe>>16}let ne=M===yi?4:5;return ee=Ks(ee,G,ne),new ki(ee,M,0,q+ne)}shiftAndAppend(M,G){let q=this.token,ee=this.mode===yi?4:5;return q=Ks(q,Ra[this.mode][M],ee),q=Ks(q,G,5),new ki(q,this.mode,0,this.bitCount+ee+5)}addBinaryShiftChar(M){let G=this.token,q=this.mode,ee=this.bitCount;if(this.mode===Ii||this.mode===yi){let ye=Ss[q][ds];G=Ks(G,ye&65535,ye>>16),ee+=ye>>16,q=ds}let ne=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,fe=new ki(G,q,this.binaryShiftByteCount+1,ee+ne);return fe.binaryShiftByteCount===2078&&(fe=fe.endBinaryShift(M+1)),fe}endBinaryShift(M){if(this.binaryShiftByteCount===0)return this;let G=this.token;return G=Sl(G,M-this.binaryShiftByteCount,this.binaryShiftByteCount),new ki(G,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(M){let G=this.bitCount+(Ss[this.mode][M.mode]>>16);return this.binaryShiftByteCount<M.binaryShiftByteCount?G+=ki.calculateBinaryShiftCost(M)-ki.calculateBinaryShiftCost(this):this.binaryShiftByteCount>M.binaryShiftByteCount&&M.binaryShiftByteCount>0&&(G+=10),G<=M.bitCount}toBitArray(M){let G=[];for(let ee=this.endBinaryShift(M.length).token;ee!==null;ee=ee.getPrevious())G.unshift(ee);let q=new xe;for(const ee of G)ee.appendTo(q,M);return q}toString(){return ot.format("%s bits=%d bytes=%d",Xs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(M){return M.binaryShiftByteCount>62?21:M.binaryShiftByteCount>31?20:M.binaryShiftByteCount>0?10:0}}ki.INITIAL_STATE=new ki(Ca,ds,0,0);function wl(nt){const M=ot.getCharCode(" "),G=ot.getCharCode("."),q=ot.getCharCode(",");nt[ds][M]=1;const ee=ot.getCharCode("Z"),ne=ot.getCharCode("A");for(let st=ne;st<=ee;st++)nt[ds][st]=st-ne+2;nt[Xa][M]=1;const fe=ot.getCharCode("z"),ye=ot.getCharCode("a");for(let st=ye;st<=fe;st++)nt[Xa][st]=st-ye+2;nt[yi][M]=1;const ze=ot.getCharCode("9"),Ge=ot.getCharCode("0");for(let st=Ge;st<=ze;st++)nt[yi][st]=st-Ge+2;nt[yi][q]=12,nt[yi][G]=13;const Ye=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let st=0;st<Ye.length;st++)nt[Do][ot.getCharCode(Ye[st])]=st;const rt=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let st=0;st<rt.length;st++)ot.getCharCode(rt[st])>0&&(nt[Ii][ot.getCharCode(rt[st])]=st);return nt}const Ta=wl(Be.createInt32Array(5,256));class ws{constructor(M){this.text=M}encode(){const M=ot.getCharCode(" "),G=ot.getCharCode(`
`);let q=El.singletonList(ki.INITIAL_STATE);for(let ne=0;ne<this.text.length;ne++){let fe,ye=ne+1<this.text.length?this.text[ne+1]:0;switch(this.text[ne]){case ot.getCharCode("\r"):fe=ye===G?2:0;break;case ot.getCharCode("."):fe=ye===M?3:0;break;case ot.getCharCode(","):fe=ye===M?4:0;break;case ot.getCharCode(":"):fe=ye===M?5:0;break;default:fe=0}fe>0?(q=ws.updateStateListForPair(q,ne,fe),ne++):q=this.updateStateListForChar(q,ne)}return El.min(q,(ne,fe)=>ne.getBitCount()-fe.getBitCount()).toBitArray(this.text)}updateStateListForChar(M,G){const q=[];for(let ee of M)this.updateStateForChar(ee,G,q);return ws.simplifyStates(q)}updateStateForChar(M,G,q){let ee=this.text[G]&255,ne=Ta[M.getMode()][ee]>0,fe=null;for(let ye=0;ye<=Ii;ye++){let ze=Ta[ye][ee];if(ze>0){if(fe==null&&(fe=M.endBinaryShift(G)),!ne||ye===M.getMode()||ye===yi){const Ge=fe.latchAndAppend(ye,ze);q.push(Ge)}if(!ne&&Ra[M.getMode()][ye]>=0){const Ge=fe.shiftAndAppend(ye,ze);q.push(Ge)}}}if(M.getBinaryShiftByteCount()>0||Ta[M.getMode()][ee]===0){let ye=M.addBinaryShiftChar(G);q.push(ye)}}static updateStateListForPair(M,G,q){const ee=[];for(let ne of M)this.updateStateForPair(ne,G,q,ee);return this.simplifyStates(ee)}static updateStateForPair(M,G,q,ee){let ne=M.endBinaryShift(G);if(ee.push(ne.latchAndAppend(Ii,q)),M.getMode()!==Ii&&ee.push(ne.shiftAndAppend(Ii,q)),q===3||q===4){let fe=ne.latchAndAppend(yi,16-q).latchAndAppend(yi,1);ee.push(fe)}if(M.getBinaryShiftByteCount()>0){let fe=M.addBinaryShiftChar(G).addBinaryShiftChar(G+1);ee.push(fe)}}static simplifyStates(M){let G=[];for(const q of M){let ee=!0;for(const ne of G){if(ne.isBetterThanOrEqualTo(q)){ee=!1;break}q.isBetterThanOrEqualTo(ne)&&(G=G.filter(fe=>fe!==ne))}ee&&G.push(q)}return G}}class qn{constructor(){}static encodeBytes(M){return qn.encode(M,qn.DEFAULT_EC_PERCENT,qn.DEFAULT_AZTEC_LAYERS)}static encode(M,G,q){let ee=new ws(M).encode(),ne=_e.truncDivision(ee.getSize()*G,100)+11,fe=ee.getSize()+ne,ye,ze,Ge,Ye,rt;if(q!==qn.DEFAULT_AZTEC_LAYERS){if(ye=q<0,ze=Math.abs(q),ze>(ye?qn.MAX_NB_BITS_COMPACT:qn.MAX_NB_BITS))throw new J(ot.format("Illegal value %s for layers",q));Ge=qn.totalBitsInLayer(ze,ye),Ye=qn.WORD_SIZE[ze];let Vt=Ge-Ge%Ye;if(rt=qn.stuffBits(ee,Ye),rt.getSize()+ne>Vt)throw new J("Data to large for user specified layer");if(ye&&rt.getSize()>Ye*64)throw new J("Data to large for user specified layer")}else{Ye=0,rt=null;for(let Vt=0;;Vt++){if(Vt>qn.MAX_NB_BITS)throw new J("Data too large for an Aztec code");if(ye=Vt<=3,ze=ye?Vt+1:Vt,Ge=qn.totalBitsInLayer(ze,ye),fe>Ge)continue;(rt==null||Ye!==qn.WORD_SIZE[ze])&&(Ye=qn.WORD_SIZE[ze],rt=qn.stuffBits(ee,Ye));let Pn=Ge-Ge%Ye;if(!(ye&&rt.getSize()>Ye*64)&&rt.getSize()+ne<=Pn)break}}let st=qn.generateCheckWords(rt,Ge,Ye),ht=rt.getSize()/Ye,xt=qn.generateModeMessage(ye,ze,ht),vt=(ye?11:14)+ze*4,Ct=new Int32Array(vt),Mt;if(ye){Mt=vt;for(let Vt=0;Vt<Ct.length;Vt++)Ct[Vt]=Vt}else{Mt=vt+1+2*_e.truncDivision(_e.truncDivision(vt,2)-1,15);let Vt=_e.truncDivision(vt,2),Pn=_e.truncDivision(Mt,2);for(let Rn=0;Rn<Vt;Rn++){let Dr=Rn+_e.truncDivision(Rn,15);Ct[Vt-Rn-1]=Pn-Dr-1,Ct[Vt+Rn]=Pn+Dr+1}}let qt=new yt(Mt);for(let Vt=0,Pn=0;Vt<ze;Vt++){let Rn=(ze-Vt)*4+(ye?9:12);for(let Dr=0;Dr<Rn;Dr++){let vi=Dr*2;for(let ni=0;ni<2;ni++)st.get(Pn+vi+ni)&&qt.set(Ct[Vt*2+ni],Ct[Vt*2+Dr]),st.get(Pn+Rn*2+vi+ni)&&qt.set(Ct[Vt*2+Dr],Ct[vt-1-Vt*2-ni]),st.get(Pn+Rn*4+vi+ni)&&qt.set(Ct[vt-1-Vt*2-ni],Ct[vt-1-Vt*2-Dr]),st.get(Pn+Rn*6+vi+ni)&&qt.set(Ct[vt-1-Vt*2-Dr],Ct[Vt*2+ni])}Pn+=Rn*8}if(qn.drawModeMessage(qt,ye,Mt,xt),ye)qn.drawBullsEye(qt,_e.truncDivision(Mt,2),5);else{qn.drawBullsEye(qt,_e.truncDivision(Mt,2),7);for(let Vt=0,Pn=0;Vt<_e.truncDivision(vt,2)-1;Vt+=15,Pn+=16)for(let Rn=_e.truncDivision(Mt,2)&1;Rn<Mt;Rn+=2)qt.set(_e.truncDivision(Mt,2)-Pn,Rn),qt.set(_e.truncDivision(Mt,2)+Pn,Rn),qt.set(Rn,_e.truncDivision(Mt,2)-Pn),qt.set(Rn,_e.truncDivision(Mt,2)+Pn)}let Gt=new Ys;return Gt.setCompact(ye),Gt.setSize(Mt),Gt.setLayers(ze),Gt.setCodeWords(ht),Gt.setMatrix(qt),Gt}static drawBullsEye(M,G,q){for(let ee=0;ee<q;ee+=2)for(let ne=G-ee;ne<=G+ee;ne++)M.set(ne,G-ee),M.set(ne,G+ee),M.set(G-ee,ne),M.set(G+ee,ne);M.set(G-q,G-q),M.set(G-q+1,G-q),M.set(G-q,G-q+1),M.set(G+q,G-q),M.set(G+q,G-q+1),M.set(G+q,G+q-1)}static generateModeMessage(M,G,q){let ee=new xe;return M?(ee.appendBits(G-1,2),ee.appendBits(q-1,6),ee=qn.generateCheckWords(ee,28,4)):(ee.appendBits(G-1,5),ee.appendBits(q-1,11),ee=qn.generateCheckWords(ee,40,4)),ee}static drawModeMessage(M,G,q,ee){let ne=_e.truncDivision(q,2);if(G)for(let fe=0;fe<7;fe++){let ye=ne-3+fe;ee.get(fe)&&M.set(ye,ne-5),ee.get(fe+7)&&M.set(ne+5,ye),ee.get(20-fe)&&M.set(ye,ne+5),ee.get(27-fe)&&M.set(ne-5,ye)}else for(let fe=0;fe<10;fe++){let ye=ne-5+fe+_e.truncDivision(fe,5);ee.get(fe)&&M.set(ye,ne-7),ee.get(fe+10)&&M.set(ne+7,ye),ee.get(29-fe)&&M.set(ye,ne+7),ee.get(39-fe)&&M.set(ne-7,ye)}}static generateCheckWords(M,G,q){let ee=M.getSize()/q,ne=new wa(qn.getGF(q)),fe=_e.truncDivision(G,q),ye=qn.bitsToWords(M,q,fe);ne.encode(ye,fe-ee);let ze=G%q,Ge=new xe;Ge.appendBits(0,ze);for(const Ye of Array.from(ye))Ge.appendBits(Ye,q);return Ge}static bitsToWords(M,G,q){let ee=new Int32Array(q),ne,fe;for(ne=0,fe=M.getSize()/G;ne<fe;ne++){let ye=0;for(let ze=0;ze<G;ze++)ye|=M.get(ne*G+ze)?1<<G-ze-1:0;ee[ne]=ye}return ee}static getGF(M){switch(M){case 4:return tn.AZTEC_PARAM;case 6:return tn.AZTEC_DATA_6;case 8:return tn.AZTEC_DATA_8;case 10:return tn.AZTEC_DATA_10;case 12:return tn.AZTEC_DATA_12;default:throw new J("Unsupported word size "+M)}}static stuffBits(M,G){let q=new xe,ee=M.getSize(),ne=(1<<G)-2;for(let fe=0;fe<ee;fe+=G){let ye=0;for(let ze=0;ze<G;ze++)(fe+ze>=ee||M.get(fe+ze))&&(ye|=1<<G-1-ze);(ye&ne)===ne?(q.appendBits(ye&ne,G),fe--):(ye&ne)===0?(q.appendBits(ye|1,G),fe--):q.appendBits(ye,G)}return q}static totalBitsInLayer(M,G){return((G?88:112)+16*M)*M}}qn.DEFAULT_EC_PERCENT=33,qn.DEFAULT_AZTEC_LAYERS=0,qn.MAX_NB_BITS=32,qn.MAX_NB_BITS_COMPACT=4,qn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Aa{encode(M,G,q,ee){return this.encodeWithHints(M,G,q,ee,null)}encodeWithHints(M,G,q,ee,ne){let fe=_a.ISO_8859_1,ye=qn.DEFAULT_EC_PERCENT,ze=qn.DEFAULT_AZTEC_LAYERS;return ne!=null&&(ne.has($r.CHARACTER_SET)&&(fe=vl.forName(ne.get($r.CHARACTER_SET).toString())),ne.has($r.ERROR_CORRECTION)&&(ye=_e.parseInt(ne.get($r.ERROR_CORRECTION).toString())),ne.has($r.AZTEC_LAYERS)&&(ze=_e.parseInt(ne.get($r.AZTEC_LAYERS).toString()))),Aa.encodeLayers(M,G,q,ee,fe,ye,ze)}static encodeLayers(M,G,q,ee,ne,fe,ye){if(G!==Rt.AZTEC)throw new J("Can only encode AZTEC, but got "+G);let ze=qn.encode(ot.getBytes(M,ne),fe,ye);return Aa.renderResult(ze,q,ee)}static renderResult(M,G,q){let ee=M.getMatrix();if(ee==null)throw new Kn;let ne=ee.getWidth(),fe=ee.getHeight(),ye=Math.max(G,ne),ze=Math.max(q,fe),Ge=Math.min(ye/ne,ze/fe),Ye=(ye-ne*Ge)/2,rt=(ze-fe*Ge)/2,st=new yt(ye,ze);for(let ht=0,xt=rt;ht<fe;ht++,xt+=Ge)for(let vt=0,Ct=Ye;vt<ne;vt++,Ct+=Ge)ee.get(vt,ht)&&st.setRegion(Ct,xt,Ge,Ge);return st}}y.AbstractExpandedDecoder=Zt,y.ArgumentException=K,y.ArithmeticException=Gn,y.AztecCode=Ys,y.AztecCodeReader=hi,y.AztecCodeWriter=Aa,y.AztecDecoder=_n,y.AztecDetector=Yr,y.AztecDetectorResult=Mr,y.AztecEncoder=qn,y.AztecHighLevelEncoder=ws,y.AztecPoint=rr,y.BarcodeFormat=Rt,y.Binarizer=ue,y.BinaryBitmap=te,y.BitArray=xe,y.BitMatrix=yt,y.BitSource=ei,y.BrowserAztecCodeReader=gs,y.BrowserBarcodeReader=zs,y.BrowserCodeReader=Et,y.BrowserDatamatrixCodeReader=Ha,y.BrowserMultiFormatReader=yl,y.BrowserPDF417Reader=kc,y.BrowserQRCodeReader=Nc,y.BrowserQRCodeSvgWriter=Es,y.CharacterSetECI=Qe,y.ChecksumException=ae,y.Code128Reader=Ut,y.Code39Reader=Xn,y.DataMatrixDecodedBitStreamParser=Ti,y.DataMatrixReader=Ki,y.DecodeHintType=Ue,y.DecoderResult=mn,y.DefaultGridSampler=An,y.DetectorResult=Wr,y.EAN13Reader=pi,y.EncodeHintType=$r,y.Exception=U,y.FormatException=He,y.GenericGF=tn,y.GenericGFPoly=dn,y.GlobalHistogramBinarizer=Ke,y.GridSampler=sn,y.GridSamplerInstance=In,y.HTMLCanvasElementLuminanceSource=dt,y.HybridBinarizer=Je,y.ITFReader=Sn,y.IllegalArgumentException=J,y.IllegalStateException=Kn,y.InvertedLuminanceSource=Ze,y.LuminanceSource=We,y.MathUtils=pn,y.MultiFormatOneDReader=Jr,y.MultiFormatReader=xl,y.MultiFormatWriter=Dc,y.NotFoundException=it,y.OneDReader=Dn,y.PDF417DecodedBitStreamParser=Dt,y.PDF417DecoderErrorCorrection=Qi,y.PDF417Reader=Xr,y.PDF417ResultMetadata=qs,y.PerspectiveTransform=yn,y.PlanarYUVLuminanceSource=Fi,y.QRCodeByteMatrix=Ya,y.QRCodeDataMask=li,y.QRCodeDecodedBitStreamParser=gr,y.QRCodeDecoderErrorCorrectionLevel=Bn,y.QRCodeDecoderFormatInformation=zr,y.QRCodeEncoder=yr,y.QRCodeEncoderQRCode=vs,y.QRCodeMaskUtil=Ir,y.QRCodeMatrixUtil=xn,y.QRCodeMode=hn,y.QRCodeReader=Xi,y.QRCodeVersion=ln,y.QRCodeWriter=Ws,y.RGBLuminanceSource=Mo,y.RSS14Reader=Hn,y.RSSExpandedReader=zt,y.ReaderException=Wa,y.ReedSolomonDecoder=Nr,y.ReedSolomonEncoder=wa,y.ReedSolomonException=Qt,y.Result=St,y.ResultMetadataType=nn,y.ResultPoint=Kt,y.StringUtils=ot,y.UnsupportedOperationException=lt,y.VideoInputDevice=et,y.WhiteRectangleDetector=Ht,y.WriterException=lr,y.ZXingArrays=Be,y.ZXingCharset=vl,y.ZXingInteger=_e,y.ZXingStandardCharsets=_a,y.ZXingStringBuilder=pt,y.ZXingStringEncoding=ct,y.ZXingSystem=pe,y.createAbstractExpandedDecoder=gi,Object.defineProperty(y,"__esModule",{value:!0})}))})(zxingJs_umd$2,zxingJs_umd$2.exports)),zxingJs_umd$2.exports}var zxingJs_umdExports=requireZxingJs_umd();const zxingJs_umd=getDefaultExportFromCjs(zxingJs_umdExports),ZXing=_mergeNamespaces({__proto__:null,default:zxingJs_umd},[zxingJs_umdExports]);var ZXingHtml5QrcodeDecoder=(function(){function r(x,y,b){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,zxingJs_umdExports.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,zxingJs_umdExports.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,zxingJs_umdExports.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,zxingJs_umdExports.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,zxingJs_umdExports.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,zxingJs_umdExports.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,zxingJs_umdExports.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,zxingJs_umdExports.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,zxingJs_umdExports.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,zxingJs_umdExports.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,zxingJs_umdExports.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,zxingJs_umdExports.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,zxingJs_umdExports.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,zxingJs_umdExports.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,zxingJs_umdExports.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,zxingJs_umdExports.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,zxingJs_umdExports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=y,this.logger=b;var R=this.createZXingFormats(x),T=new Map;T.set(zxingJs_umdExports.DecodeHintType.POSSIBLE_FORMATS,R),T.set(zxingJs_umdExports.DecodeHintType.TRY_HARDER,!1),this.hints=T}return r.prototype.decodeAsync=function(x){var y=this;return new Promise(function(b,R){try{b(y.decode(x))}catch(T){R(T)}})},r.prototype.decode=function(x){var y=new zxingJs_umdExports.MultiFormatReader(this.verbose,this.hints),b=new zxingJs_umdExports.HTMLCanvasElementLuminanceSource(x),R=new zxingJs_umdExports.BinaryBitmap(new zxingJs_umdExports.HybridBinarizer(b)),T=y.decode(R);return{text:T.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(T.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(y,b,R){x.set(y,b)}),x},r.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},r.prototype.createZXingFormats=function(x){for(var y=[],b=0,R=x;b<R.length;b++){var T=R[b];this.formatMap.has(T)?y.push(this.formatMap.get(T)):this.logger.logError("".concat(T," is not supported by")+"ZXingHtml5QrcodeShim")}return y},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),__awaiter$5=function(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})},__generator$4=function(r,x){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,R,T,A;return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(U){return function(K){return B([U,K])}}function B(U){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,U[0]&&(y=0)),y;)try{if(b=1,R&&(T=U[0]&2?R.return:U[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,U[1])).done)return T;switch(R=0,T&&(U=[U[0]&2,T.value]),U[0]){case 0:case 1:T=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,R=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!T||U[1]>T[0]&&U[1]<T[3])){y.label=U[1];break}if(U[0]===6&&y.label<T[1]){y.label=T[1],T=U;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(U);break}T[2]&&y.ops.pop(),y.trys.pop();continue}U=x.call(r,y)}catch(K){U=[6,K],R=0}finally{b=T=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},BarcodeDetectorDelegate=(function(){function r(x,y,b){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[Html5QrcodeSupportedFormats.AZTEC,"aztec"],[Html5QrcodeSupportedFormats.CODABAR,"codabar"],[Html5QrcodeSupportedFormats.CODE_39,"code_39"],[Html5QrcodeSupportedFormats.CODE_93,"code_93"],[Html5QrcodeSupportedFormats.CODE_128,"code_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[Html5QrcodeSupportedFormats.ITF,"itf"],[Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=y,this.logger=b;var R=this.createBarcodeDetectorFormats(x);if(this.detector=new BarcodeDetector(R),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var x=new BarcodeDetector({formats:["qr_code"]});return typeof x<"u"},r.prototype.decodeAsync=function(x){return __awaiter$5(this,void 0,void 0,function(){var y,b;return __generator$4(this,function(R){switch(R.label){case 0:return[4,this.detector.detect(x)];case 1:if(y=R.sent(),!y||y.length===0)throw"No barcode or QR code detected.";return b=this.selectLargestBarcode(y),[2,{text:b.rawValue,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(x){for(var y=null,b=0,R=0,T=x;R<T.length;R++){var A=T[R],O=A.boundingBox.width*A.boundingBox.height;O>b&&(b=O,y=A)}if(!y)throw"No largest barcode found";return y},r.prototype.createBarcodeDetectorFormats=function(x){for(var y=[],b=0,R=x;b<R.length;b++){var T=R[b];this.formatMap.has(T)?y.push(this.formatMap.get(T)):this.logger.warn("".concat(T," is not supported by")+"BarcodeDetectorDelegate")}return{formats:y}},r.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},r.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(y,b,R){x.set(y,b)}),x},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),__awaiter$4=function(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})},__generator$3=function(r,x){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,R,T,A;return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(U){return function(K){return B([U,K])}}function B(U){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,U[0]&&(y=0)),y;)try{if(b=1,R&&(T=U[0]&2?R.return:U[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,U[1])).done)return T;switch(R=0,T&&(U=[U[0]&2,T.value]),U[0]){case 0:case 1:T=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,R=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!T||U[1]>T[0]&&U[1]<T[3])){y.label=U[1];break}if(U[0]===6&&y.label<T[1]){y.label=T[1],T=U;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(U);break}T[2]&&y.ops.pop(),y.trys.pop();continue}U=x.call(r,y)}catch(K){U=[6,K],R=0}finally{b=T=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},Html5QrcodeShim=(function(){function r(x,y,b,R){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=b,y&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(x,b,R),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(x,b,R)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(x,b,R)}return r.prototype.decodeAsync=function(x){return __awaiter$4(this,void 0,void 0,function(){var y;return __generator$3(this,function(b){switch(b.label){case 0:y=performance.now(),b.label=1;case 1:return b.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(x)];case 2:return[2,b.sent()];case 3:return this.possiblyLogPerformance(y),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(x){return __awaiter$4(this,void 0,void 0,function(){var y,b;return __generator$3(this,function(R){switch(R.label){case 0:y=performance.now(),R.label=1;case 1:return R.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(x)];case 2:return[2,R.sent()];case 3:if(b=R.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(x)];throw b;case 4:return this.possiblyLogPerformance(y),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(x){if(this.verbose){var y=performance.now()-x;this.executionResults.push(y),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var x=0,y=0,b=this.executionResults;y<b.length;y++){var R=b[y];x+=R}var T=x/this.executionResults.length;console.log("".concat(T," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),__extends$1=(function(){var r=function(x,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(b[T]=R[T])},r(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");r(x,y);function b(){this.constructor=x}x.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}})(),__awaiter$3=function(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})},__generator$2=function(r,x){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,R,T,A;return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(U){return function(K){return B([U,K])}}function B(U){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,U[0]&&(y=0)),y;)try{if(b=1,R&&(T=U[0]&2?R.return:U[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,U[1])).done)return T;switch(R=0,T&&(U=[U[0]&2,T.value]),U[0]){case 0:case 1:T=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,R=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!T||U[1]>T[0]&&U[1]<T[3])){y.label=U[1];break}if(U[0]===6&&y.label<T[1]){y.label=T[1],T=U;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(U);break}T[2]&&y.ops.pop(),y.trys.pop();continue}U=x.call(r,y)}catch(K){U=[6,K],R=0}finally{b=T=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},AbstractCameraCapability=(function(){function r(x,y){this.name=x,this.track=y}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(x){var y={};y[this.name]=x;var b={advanced:[y]};return this.track.applyConstraints(b)},r.prototype.value=function(){var x=this.track.getSettings();if(this.name in x){var y=x[this.name];return y}return null},r})(),AbstractRangeCameraCapability=(function(r){__extends$1(x,r);function x(y,b){return r.call(this,y,b)||this}return x.prototype.min=function(){return this.getCapabilities().min},x.prototype.max=function(){return this.getCapabilities().max},x.prototype.step=function(){return this.getCapabilities().step},x.prototype.apply=function(y){var b={};b[this.name]=y;var R={advanced:[b]};return this.track.applyConstraints(R)},x.prototype.getCapabilities=function(){this.failIfNotSupported();var y=this.track.getCapabilities(),b=y[this.name];return{min:b.min,max:b.max,step:b.step}},x.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},x})(AbstractCameraCapability),ZoomFeatureImpl=(function(r){__extends$1(x,r);function x(y){return r.call(this,"zoom",y)||this}return x})(AbstractRangeCameraCapability),TorchFeatureImpl=(function(r){__extends$1(x,r);function x(y){return r.call(this,"torch",y)||this}return x})(AbstractCameraCapability),CameraCapabilitiesImpl=(function(){function r(x){this.track=x}return r.prototype.zoomFeature=function(){return new ZoomFeatureImpl(this.track)},r.prototype.torchFeature=function(){return new TorchFeatureImpl(this.track)},r})(),RenderedCameraImpl=(function(){function r(x,y,b){this.isClosed=!1,this.parentElement=x,this.mediaStream=y,this.callbacks=b,this.surface=this.createVideoElement(this.parentElement.clientWidth),x.append(this.surface)}return r.prototype.createVideoElement=function(x){var y=document.createElement("video");return y.style.width="".concat(x,"px"),y.style.display="block",y.muted=!0,y.setAttribute("muted","true"),y.playsInline=!0,y},r.prototype.setupSurface=function(){var x=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var y=function(){var b=x.surface.clientWidth,R=x.surface.clientHeight;x.callbacks.onRenderSurfaceReady(b,R),x.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(x,y,b,R){return __awaiter$3(this,void 0,void 0,function(){var T,A;return __generator$2(this,function(O){switch(O.label){case 0:return T=new r(x,y,R),b.aspectRatio?(A={aspectRatio:b.aspectRatio},[4,T.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:O.sent(),O.label=2;case 2:return T.setupSurface(),[2,T]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(x){this.failIfClosed();var y=this,b=function(){setTimeout(x,200),y.surface.removeEventListener("playing",b)};this.surface.addEventListener("playing",b),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(x){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(y){if("aspectRatio"in x)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(x)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var x=this;return new Promise(function(y,b){var R=x.mediaStream.getVideoTracks(),T=R.length,A=0;x.mediaStream.getVideoTracks().forEach(function(O){x.mediaStream.removeTrack(O),O.stop(),++A,A>=T&&(x.isClosed=!0,x.parentElement.removeChild(x.surface),y())})})},r.prototype.getCapabilities=function(){return new CameraCapabilitiesImpl(this.getFirstTrackOrFail())},r})(),CameraImpl=(function(){function r(x){this.mediaStream=x}return r.prototype.render=function(x,y,b){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(R){return[2,RenderedCameraImpl.create(x,this.mediaStream,y,b)]})})},r.create=function(x){return __awaiter$3(this,void 0,void 0,function(){var y,b;return __generator$2(this,function(R){switch(R.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return y={audio:!1,video:x},[4,navigator.mediaDevices.getUserMedia(y)];case 1:return b=R.sent(),[2,new r(b)]}})})},r})(),__awaiter$2=function(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})},__generator$1=function(r,x){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,R,T,A;return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(U){return function(K){return B([U,K])}}function B(U){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,U[0]&&(y=0)),y;)try{if(b=1,R&&(T=U[0]&2?R.return:U[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,U[1])).done)return T;switch(R=0,T&&(U=[U[0]&2,T.value]),U[0]){case 0:case 1:T=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,R=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!T||U[1]>T[0]&&U[1]<T[3])){y.label=U[1];break}if(U[0]===6&&y.label<T[1]){y.label=T[1],T=U;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(U);break}T[2]&&y.ops.pop(),y.trys.pop();continue}U=x.call(r,y)}catch(K){U=[6,K],R=0}finally{b=T=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},CameraFactory=(function(){function r(){}return r.failIfNotSupported=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(x){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(x){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(y){return[2,CameraImpl.create(x)]})})},r})(),__awaiter$1=function(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})},__generator=function(r,x){var y={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,R,T,A;return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(U){return function(K){return B([U,K])}}function B(U){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,U[0]&&(y=0)),y;)try{if(b=1,R&&(T=U[0]&2?R.return:U[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,U[1])).done)return T;switch(R=0,T&&(U=[U[0]&2,T.value]),U[0]){case 0:case 1:T=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,R=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(T=y.trys,!(T=T.length>0&&T[T.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!T||U[1]>T[0]&&U[1]<T[3])){y.label=U[1];break}if(U[0]===6&&y.label<T[1]){y.label=T[1],T=U;break}if(T&&y.label<T[2]){y.label=T[2],y.ops.push(U);break}T[2]&&y.ops.pop(),y.trys.pop();continue}U=x.call(r,y)}catch(K){U=[6,K],R=0}finally{b=T=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},CameraRetriever=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var x=MediaStreamTrack;return MediaStreamTrack&&x.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var x=Html5QrcodeStrings.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(x=Html5QrcodeStrings.insecureContextCameraQueryError()),Promise.reject(x)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var x=location.host.split(":")[0];return x==="127.0.0.1"||x==="localhost"},r.getCamerasFromMediaDevices=function(){return __awaiter$1(this,void 0,void 0,function(){var x,y,b,R,T,A,O;return __generator(this,function(B){switch(B.label){case 0:return x=function(U){for(var K=U.getVideoTracks(),J=0,te=K;J<te.length;J++){var ae=te[J];ae.enabled=!1,ae.stop(),U.removeTrack(ae)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return y=B.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(b=B.sent(),R=[],T=0,A=b;T<A.length;T++)O=A[T],O.kind==="videoinput"&&R.push({id:O.deviceId,label:O.label});return x(y),[2,R]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(x,y){var b=function(T){for(var A=[],O=0,B=T;O<B.length;O++){var U=B[O];U.kind==="video"&&A.push({id:U.id,label:U.label})}x(A)},R=MediaStreamTrack;R.getSources(b)})},r})(),Html5QrcodeScannerState;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(Html5QrcodeScannerState||(Html5QrcodeScannerState={}));var StateManagerImpl=(function(){function r(){this.state=Html5QrcodeScannerState.NOT_STARTED,this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN}return r.prototype.directTransition=function(x){this.failIfTransitionOngoing(),this.validateTransition(x),this.state=x},r.prototype.startTransition=function(x){return this.failIfTransitionOngoing(),this.validateTransition(x),this.onGoingTransactionNewState=x,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var x=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN,this.directTransition(x)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Html5QrcodeScannerState.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(x){switch(this.state){case Html5QrcodeScannerState.UNKNOWN:throw"Transition from unknown is not allowed";case Html5QrcodeScannerState.NOT_STARTED:this.failIfNewStateIs(x,[Html5QrcodeScannerState.PAUSED]);break;case Html5QrcodeScannerState.SCANNING:break;case Html5QrcodeScannerState.PAUSED:break}},r.prototype.failIfNewStateIs=function(x,y){for(var b=0,R=y;b<R.length;b++){var T=R[b];if(x===T)throw"Cannot transition from ".concat(this.state," to ").concat(x)}},r})(),StateManagerProxy=(function(){function r(x){this.stateManager=x}return r.prototype.startTransition=function(x){return this.stateManager.startTransition(x)},r.prototype.directTransition=function(x){this.stateManager.directTransition(x)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===Html5QrcodeScannerState.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==Html5QrcodeScannerState.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Html5QrcodeScannerState.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===Html5QrcodeScannerState.PAUSED},r})(),StateManagerFactory=(function(){function r(){}return r.create=function(){return new StateManagerProxy(new StateManagerImpl)},r})(),__extends=(function(){var r=function(x,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(b[T]=R[T])},r(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");r(x,y);function b(){this.constructor=x}x.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}})(),Constants=(function(r){__extends(x,r);function x(){return r!==null&&r.apply(this,arguments)||this}return x.DEFAULT_WIDTH=300,x.DEFAULT_WIDTH_OFFSET=2,x.FILE_SCAN_MIN_HEIGHT=300,x.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,x.MIN_QR_BOX_SIZE=50,x.SHADED_LEFT=1,x.SHADED_RIGHT=2,x.SHADED_TOP=3,x.SHADED_BOTTOM=4,x.SHADED_REGION_ELEMENT_ID="qr-shaded-region",x.VERBOSE=!1,x.BORDER_SHADER_DEFAULT_COLOR="#ffffff",x.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",x})(Html5QrcodeConstants),InternalHtml5QrcodeConfig=(function(){function r(x,y){this.logger=y,this.fps=Constants.SCAN_DEFAULT_FPS,x?(x.fps&&(this.fps=x.fps),this.disableFlip=x.disableFlip===!0,this.qrbox=x.qrbox,this.aspectRatio=x.aspectRatio,this.videoConstraints=x.videoConstraints):this.disableFlip=Constants.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!isNullOrUndefined(this.qrbox)},r.create=function(x,y){return new r(x,y)},r})(),Html5Qrcode=(function(){function r(x,y){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(x))throw"HTML Element with id=".concat(x," not found");this.elementId=x,this.verbose=!1;var b;typeof y=="boolean"?this.verbose=y===!0:y&&(b=y,this.verbose=b.verbose===!0,b.experimentalFeatures),this.logger=new BaseLoggger(this.verbose),this.qrcode=new Html5QrcodeShim(this.getSupportedFormats(y),this.getUseBarCodeDetectorIfSupported(b),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=StateManagerFactory.create()}return r.prototype.start=function(x,y,b,R){var T=this;if(!x)throw"cameraIdOrConfig is required";if(!b||typeof b!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;R?A=R:A=this.verbose?this.logger.log:function(){};var O=InternalHtml5QrcodeConfig.create(y,this.logger);this.clearElement();var B=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?B=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var U=B,K=document.getElementById(this.elementId);K.clientWidth?K.clientWidth:Constants.DEFAULT_WIDTH,K.style.position="relative",this.shouldScan=!0,this.element=K;var J=this,te=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);return new Promise(function(ae,ue){var pe=U?O.videoConstraints:J.createVideoConstraints(x);if(!pe){te.cancel(),ue("videoConstraints should be defined");return}var $e={};(!U||O.aspectRatio)&&($e.aspectRatio=O.aspectRatio);var Ne={onRenderSurfaceReady:function(Be,_e){J.setupUi(Be,_e,O),J.isScanning=!0,J.foreverScan(O,b,A)}};CameraFactory.failIfNotSupported().then(function(Be){Be.create(pe).then(function(_e){return _e.render(T.element,$e,Ne).then(function(xe){J.renderedCamera=xe,te.execute(),ae(null)}).catch(function(xe){te.cancel(),ue(xe)})}).catch(function(_e){te.cancel(),ue(Html5QrcodeStrings.errorGettingUserMedia(_e))})}).catch(function(Be){te.cancel(),ue(Html5QrcodeStrings.cameraStreamingNotSupported())})})},r.prototype.pause=function(x){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED),this.showPausedState(),(isNullOrUndefined(x)||x!==!0)&&(x=!1),x&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var x=this,y=function(){x.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING),x.hidePausedState()};if(!this.renderedCamera.isPaused()){y();return}this.renderedCamera.resume(function(){y()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var x=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var y=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var b=function(){if(x.element){var T=document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);T&&x.element.removeChild(T)}},R=this;return this.renderedCamera.close().then(function(){return R.renderedCamera=null,R.element&&(R.element.removeChild(R.canvasElement),R.canvasElement=null),b(),R.qrRegion&&(R.qrRegion=null),R.context&&(R.context=null),y.execute(),R.hidePausedState(),R.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(x,y){return this.scanFileV2(x,y).then(function(b){return b.decodedText})},r.prototype.scanFileV2=function(x,y){var b=this;if(!x||!(x instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(isNullOrUndefined(y)&&(y=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(R,T){b.possiblyCloseLastScanImageFile(),b.clearElement(),b.lastScanImageFile=URL.createObjectURL(x);var A=new Image;A.onload=function(){var O=A.width,B=A.height,U=document.getElementById(b.elementId),K=U.clientWidth?U.clientWidth:Constants.DEFAULT_WIDTH,J=Math.max(U.clientHeight?U.clientHeight:B,Constants.FILE_SCAN_MIN_HEIGHT),te=b.computeCanvasDrawConfig(O,B,K,J);if(y){var ae=b.createCanvasElement(K,J,"qr-canvas-visible");ae.style.display="inline-block",U.appendChild(ae);var ue=ae.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=K,ue.canvas.height=J,ue.drawImage(A,0,0,O,B,te.x,te.y,te.width,te.height)}var pe=Constants.FILE_SCAN_HIDDEN_CANVAS_PADDING,$e=Math.max(A.width,te.width),Ne=Math.max(A.height,te.height),Be=$e+2*pe,_e=Ne+2*pe,xe=b.createCanvasElement(Be,_e);U.appendChild(xe);var Le=xe.getContext("2d");if(!Le)throw"Unable to get 2d context from canvas";Le.canvas.width=Be,Le.canvas.height=_e,Le.drawImage(A,0,0,O,B,pe,pe,$e,Ne);try{b.qrcode.decodeRobustlyAsync(xe).then(function(Ue){R(Html5QrcodeResultFactory.createFromQrcodeResult(Ue))}).catch(T)}catch(Ue){T("QR code parse error, error = ".concat(Ue))}},A.onerror=T,A.onabort=T,A.onstalled=T,A.onsuspend=T,A.src=URL.createObjectURL(x)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return CameraRetriever.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(x){if(x){if(!VideoConstraintsUtil.isMediaStreamConstraintsValid(x,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(x)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(x){var y=[Html5QrcodeSupportedFormats.QR_CODE,Html5QrcodeSupportedFormats.AZTEC,Html5QrcodeSupportedFormats.CODABAR,Html5QrcodeSupportedFormats.CODE_39,Html5QrcodeSupportedFormats.CODE_93,Html5QrcodeSupportedFormats.CODE_128,Html5QrcodeSupportedFormats.DATA_MATRIX,Html5QrcodeSupportedFormats.MAXICODE,Html5QrcodeSupportedFormats.ITF,Html5QrcodeSupportedFormats.EAN_13,Html5QrcodeSupportedFormats.EAN_8,Html5QrcodeSupportedFormats.PDF_417,Html5QrcodeSupportedFormats.RSS_14,Html5QrcodeSupportedFormats.RSS_EXPANDED,Html5QrcodeSupportedFormats.UPC_A,Html5QrcodeSupportedFormats.UPC_E,Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION];if(!x||typeof x=="boolean"||!x.formatsToSupport)return y;if(!Array.isArray(x.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(x.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var b=[],R=0,T=x.formatsToSupport;R<T.length;R++){var A=T[R];isValidHtml5QrcodeSupportedFormats(A)?b.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(b.length===0)throw"None of formatsToSupport match supported values.";return b},r.prototype.getUseBarCodeDetectorIfSupported=function(x){if(isNullOrUndefined(x))return!0;if(!isNullOrUndefined(x.useBarCodeDetectorIfSupported))return x.useBarCodeDetectorIfSupported!==!1;if(isNullOrUndefined(x.experimentalFeatures))return!0;var y=x.experimentalFeatures;return isNullOrUndefined(y.useBarCodeDetectorIfSupported)?!0:y.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(x,y,b){var R=this,T=b.qrbox;this.validateQrboxConfig(T);var A=this.toQrdimensions(x,y,T),O=function(U){if(U<Constants.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Constants.MIN_QR_BOX_SIZE,"px.")},B=function(U){return U>x&&(R.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),U=x),U};O(A.width),O(A.height),A.width=B(A.width)},r.prototype.validateQrboxConfig=function(x){if(typeof x!="number"&&typeof x!="function"&&(x.width===void 0||x.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(x,y,b){if(typeof b=="number")return{width:b,height:b};if(typeof b=="function")try{return b(x,y)}catch(R){throw new Error("qrbox config was passed as a function but it failed with unknown error"+R)}return b},r.prototype.setupUi=function(x,y,b){b.isShadedBoxEnabled()&&this.validateQrboxSize(x,y,b);var R=isNullOrUndefined(b.qrbox)?{width:x,height:y}:b.qrbox;this.validateQrboxConfig(R);var T=this.toQrdimensions(x,y,R);T.height>y&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=b.isShadedBoxEnabled()&&T.height<=y,O={x:0,y:0,width:x,height:y},B=A?this.getShadedRegionBounds(x,y,T):O,U=this.createCanvasElement(B.width,B.height),K={willReadFrequently:!0},J=U.getContext("2d",K);J.canvas.width=B.width,J.canvas.height=B.height,this.element.append(U),A&&this.possiblyInsertShadingElement(this.element,x,y,T),this.createScannerPausedUiElement(this.element),this.qrRegion=B,this.context=J,this.canvasElement=U},r.prototype.createScannerPausedUiElement=function(x){var y=document.createElement("div");y.innerText=Html5QrcodeStrings.scannerPaused(),y.style.display="none",y.style.position="absolute",y.style.top="0px",y.style.zIndex="1",y.style.background="rgba(9, 9, 9, 0.46)",y.style.color="#FFECEC",y.style.textAlign="center",y.style.width="100%",x.appendChild(y),this.scannerPausedUiElement=y},r.prototype.scanContext=function(x,y){var b=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(R){return x(R.text,Html5QrcodeResultFactory.createFromQrcodeResult(R)),b.possiblyUpdateShaders(!0),!0}).catch(function(R){b.possiblyUpdateShaders(!1);var T=Html5QrcodeStrings.codeParseError(R);return y(T,Html5QrcodeErrorFactory.createFrom(T)),!1})},r.prototype.foreverScan=function(x,y,b){var R=this;if(this.shouldScan&&this.renderedCamera){var T=this.renderedCamera.getSurface(),A=T.videoWidth/T.clientWidth,O=T.videoHeight/T.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var B=this.qrRegion.width*A,U=this.qrRegion.height*O,K=this.qrRegion.x*A,J=this.qrRegion.y*O;this.context.drawImage(T,K,J,B,U,0,0,this.qrRegion.width,this.qrRegion.height);var te=function(){R.foreverScanTimeout=setTimeout(function(){R.foreverScan(x,y,b)},R.getTimeoutFps(x.fps))};this.scanContext(y,b).then(function(ae){!ae&&x.disableFlip!==!0?(R.context.translate(R.context.canvas.width,0),R.context.scale(-1,1),R.scanContext(y,b).finally(function(){te()})):te()}).catch(function(ae){R.logger.logError("Error happend while scanning context",ae),te()})}},r.prototype.createVideoConstraints=function(x){if(typeof x=="string")return{deviceId:{exact:x}};if(typeof x=="object"){var y="facingMode",b="deviceId",R={user:!0,environment:!0},T="exact",A=function(ue){if(ue in R)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ue,"'")},O=Object.keys(x);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var B=Object.keys(x)[0];if(B!==y&&B!==b)throw"Only '".concat(y,"' and '").concat(b,"' ")+" are supported for 'cameraIdOrConfig'";if(B===y){var U=x.facingMode;if(typeof U=="string"){if(A(U))return{facingMode:U}}else if(typeof U=="object")if(T in U){if(A(U["".concat(T)]))return{facingMode:{exact:U["".concat(T)]}}}else throw"'facingMode' should be string or object with"+" ".concat(T," as key.");else{var K=typeof U;throw"Invalid type of 'facingMode' = ".concat(K)}}else{var J=x.deviceId;if(typeof J=="string")return{deviceId:J};if(typeof J=="object"){if(T in J)return{deviceId:{exact:J["".concat(T)]}};throw"'deviceId' should be string or object with"+" ".concat(T," as key.")}else{var te=typeof J;throw"Invalid type of 'deviceId' = ".concat(te)}}}var ae=typeof x;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ae)},r.prototype.computeCanvasDrawConfig=function(x,y,b,R){if(x<=b&&y<=R){var T=(b-x)/2,A=(R-y)/2;return{x:T,y:A,width:x,height:y}}else{var O=x,B=y;return x>b&&(y=b/x*y,x=b),y>R&&(x=R/y*x,y=R),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(B)+" to ".concat(x,"X").concat(y,".")),this.computeCanvasDrawConfig(x,y,b,R)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var x=document.getElementById(this.elementId);x&&(x.innerHTML="")},r.prototype.possiblyUpdateShaders=function(x){this.qrMatch!==x&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(y){y.style.backgroundColor=x?Constants.BORDER_SHADER_MATCH_COLOR:Constants.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=x)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(x,y,b){var R=x,T=y,A=document.createElement("canvas");return A.style.width="".concat(R,"px"),A.style.height="".concat(T,"px"),A.style.display="none",A.id=isNullOrUndefined(b)?"qr-canvas":b,A},r.prototype.getShadedRegionBounds=function(x,y,b){if(b.width>x||b.height>y)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(x-b.width)/2,y:(y-b.height)/2,width:b.width,height:b.height}},r.prototype.possiblyInsertShadingElement=function(x,y,b,R){if(!(y-R.width<1||b-R.height<1)){var T=document.createElement("div");T.style.position="absolute";var A=(y-R.width)/2,O=(b-R.height)/2;if(T.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),T.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),T.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),T.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),T.style.boxSizing="border-box",T.style.top="0px",T.style.bottom="0px",T.style.left="0px",T.style.right="0px",T.id="".concat(Constants.SHADED_REGION_ELEMENT_ID),y-R.width<11||b-R.height<11)this.hasBorderShaders=!1;else{var B=5,U=40;this.insertShaderBorders(T,U,B,-B,null,0,!0),this.insertShaderBorders(T,U,B,-B,null,0,!1),this.insertShaderBorders(T,U,B,null,-B,0,!0),this.insertShaderBorders(T,U,B,null,-B,0,!1),this.insertShaderBorders(T,B,U+B,-B,null,-B,!0),this.insertShaderBorders(T,B,U+B,null,-B,-B,!0),this.insertShaderBorders(T,B,U+B,-B,null,-B,!1),this.insertShaderBorders(T,B,U+B,null,-B,-B,!1),this.hasBorderShaders=!0}x.append(T)}},r.prototype.insertShaderBorders=function(x,y,b,R,T,A,O){var B=document.createElement("div");B.style.position="absolute",B.style.backgroundColor=Constants.BORDER_SHADER_DEFAULT_COLOR,B.style.width="".concat(y,"px"),B.style.height="".concat(b,"px"),R!==null&&(B.style.top="".concat(R,"px")),T!==null&&(B.style.bottom="".concat(T,"px")),O?B.style.left="".concat(A,"px"):B.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(B),x.appendChild(B)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(x){return 1e3/x},r})(),Html5QrcodeScannerStatus;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Html5QrcodeScannerStatus||(Html5QrcodeScannerStatus={}));const scannerContainer="_scannerContainer_yftsj_1",header$6="_header_yftsj_25",closeButton$3="_closeButton_yftsj_37",title$e="_title_yftsj_59",scannerArea="_scannerArea_yftsj_79",qrScannerWrapper="_qrScannerWrapper_yftsj_91",scannerOverlay="_scannerOverlay_yftsj_135",corner="_corner_yftsj_153",topLeft="_topLeft_yftsj_167",topRight="_topRight_yftsj_183",bottomLeft="_bottomLeft_yftsj_199",bottomRight="_bottomRight_yftsj_215",instructionBox="_instructionBox_yftsj_229",qrIconButton="_qrIconButton_yftsj_253",errorMessage$4="_errorMessage_yftsj_293",test="_test_yftsj_319",styles$P={scannerContainer,header:header$6,closeButton:closeButton$3,title:title$e,scannerArea,qrScannerWrapper,scannerOverlay,corner,topLeft,topRight,bottomLeft,bottomRight,instructionBox,qrIconButton,errorMessage:errorMessage$4,test};function QrScanner(){var J;const r=useNavigate(),x=useLocation(),y="html5qr-code-full-region",b=reactExports$1.useRef(null),[R,T]=reactExports$1.useState(null),[A,O]=reactExports$1.useState(!1),B=((J=x.state)==null?void 0:J.exhibitionInfo)||null,U=async()=>{const te=new URLSearchParams(x.search).get("itemId");if(te)try{await userInstance.patch(`/api/reservations/${te}`,{reservation_status:"used"}),r("/mypage",{state:{successModal:!0,exhibitionInfo:B}})}catch(ae){console.error("  :",ae),alert("     .")}};reactExports$1.useEffect(()=>{const te={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return b.current=new Html5Qrcode(y),b.current.start({facingMode:"environment"},te,ae=>{b.current.stop().then(()=>{r(`/art/${ae}`)}).catch(ue=>{console.error("Failed to stop scanner:",ue)})},()=>{}).catch(ae=>{T("   ."),console.error("QR  :",ae)}),async()=>{const ae=b.current;if(ae)try{ae.isScanning&&await ae.stop(),ae.clear()}catch(ue){console.error("Cleanup :",ue)}}},[r]);const K=()=>{r(-1)};return reactExports$1.useEffect(()=>{new URLSearchParams(x.search).get("itemId")&&O(!0)},[x]),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$P.header,children:[jsxRuntimeExports.jsx("button",{className:styles$P.closeButton,onClick:K,children:""}),jsxRuntimeExports.jsx("h2",{className:styles$P.title,children:"Artly QR Reader"})]}),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerArea,children:[jsxRuntimeExports.jsx("div",{id:y,className:styles$P.qrScannerWrapper}),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerOverlay,children:[jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.topLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.topRight}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.bottomLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.bottomRight}`})]}),R&&jsxRuntimeExports.jsx("div",{className:styles$P.errorMessage,children:R})]}),jsxRuntimeExports.jsx("button",{className:styles$P.qrIconButton,children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$P.instructionBox,children:[jsxRuntimeExports.jsx("p",{children:"QR   ."}),jsxRuntimeExports.jsx("button",{onClick:U,className:styles$P.test,children:"  QR "})]})]})}const layout$h="_layout_jvhsh_1",title$d="_title_jvhsh_23",galleryWrapper="_galleryWrapper_jvhsh_33",searchForm="_searchForm_jvhsh_45",searchInput="_searchInput_jvhsh_59",styles$O={layout:layout$h,title:title$d,galleryWrapper,searchForm,searchInput},layout$g="_layout_1log3_1",searchTitle="_searchTitle_1log3_15",resultNumParagraph="_resultNumParagraph_1log3_25",highlightSpan="_highlightSpan_1log3_33",paginationRow="_paginationRow_1log3_53",styles$N={layout:layout$g,searchTitle,resultNumParagraph,highlightSpan,paginationRow};function NearbyGalleries({results:r}){const{currentPage:x,setCurrentPage:y,pageItems:b}=usePagination(10,r);return jsxRuntimeExports.jsxs("section",{className:styles$N.layout,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$N.searchTitle,children:"   "}),jsxRuntimeExports.jsxs("p",{className:styles$N.resultNumParagraph,children:[" ",jsxRuntimeExports.jsx("span",{className:styles$N.highlightSpan,children:r.length}),"  "]})]}),r.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),b.map(R=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:R},R.id)),jsxRuntimeExports.jsx("div",{className:styles$N.paginationRow,children:jsxRuntimeExports.jsx(Pagination,{currentPage:x,onPageChange:y,totalItems:r.length})})]})}function Nearby(){const{coords:r,setCoords:x}=useGeoLocation(),[y,b]=reactExports$1.useState([]),[R,T]=reactExports$1.useState(!1),{lat:A,lng:O}=r,[B,U]=reactExports$1.useState(""),K=te=>{U(te.target.value)};useMap({lat:A,lng:O,id:"nearby-map",results:y,zoomLevel:12});const J=async te=>{te.preventDefault();try{const ae=await mapInstance.get("/v2/geocode",{params:{query:B}}),ue=ae.data.addresses[0].x,pe=ae.data.addresses[0].y;x({lat:pe,lng:ue})}catch(ae){console.error(ae),alert("  ")}};return reactExports$1.useEffect(()=>{(async()=>{try{T(!0);const ae=await instance.get("/api/galleries",{params:{latitude:A,longitude:O,distance:5e3}});b(ae.data)}catch(ae){console.error(ae),alert("   ")}finally{T(!1)}})()},[A,O]),jsxRuntimeExports.jsxs("div",{className:styles$O.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$O.title,children:"  "}),jsxRuntimeExports.jsx("form",{className:styles$O.searchForm,onSubmit:J,children:jsxRuntimeExports.jsx("input",{className:styles$O.searchInput,value:B,onChange:K,placeholder:" "})}),jsxRuntimeExports.jsx("div",{id:"nearby-map",className:styles$O.galleryWrapper}),R&&jsxRuntimeExports.jsx("div",{children:"   .."}),jsxRuntimeExports.jsx(NearbyGalleries,{results:y})]})}const layout$f="_layout_1eg2n_1",breadcrumb$4="_breadcrumb_1eg2n_21",breadcrumbBack$4="_breadcrumbBack_1eg2n_33",card$5="_card_1eg2n_43",mainImage="_mainImage_1eg2n_61",titleSection$3="_titleSection_1eg2n_81",artworkTitle$2="_artworkTitle_1eg2n_89",artworkMaterial="_artworkMaterial_1eg2n_101",btnLayout$3="_btnLayout_1eg2n_113",divider$1="_divider_1eg2n_127",actionButton$3="_actionButton_1eg2n_141",icon$4="_icon_1eg2n_163",likedIcon$3="_likedIcon_1eg2n_169",artistSection="_artistSection_1eg2n_179",artistImage$1="_artistImage_1eg2n_191",artistName="_artistName_1eg2n_205",infoList$3="_infoList_1eg2n_217",infoRow$4="_infoRow_1eg2n_229",infoLabel$4="_infoLabel_1eg2n_237",infoContent$3="_infoContent_1eg2n_249",descriptionParagraph$3="_descriptionParagraph_1eg2n_257",docentBox="_docentBox_1eg2n_273",docentLabel="_docentLabel_1eg2n_287",docentVideoWrapper="_docentVideoWrapper_1eg2n_313",docentVideo="_docentVideo_1eg2n_313",recommendSection="_recommendSection_1eg2n_343",sectionTitle$1="_sectionTitle_1eg2n_349",relatedGrid="_relatedGrid_1eg2n_361",relatedCard="_relatedCard_1eg2n_371",relatedImage="_relatedImage_1eg2n_393",relatedInfo="_relatedInfo_1eg2n_403",relatedTitle="_relatedTitle_1eg2n_409",emptyContent$5="_emptyContent_1eg2n_423",emptyInfo$3="_emptyInfo_1eg2n_435",backButton$7="_backButton_1eg2n_445",styles$M={layout:layout$f,breadcrumb:breadcrumb$4,breadcrumbBack:breadcrumbBack$4,card:card$5,mainImage,titleSection:titleSection$3,artworkTitle:artworkTitle$2,artworkMaterial,btnLayout:btnLayout$3,divider:divider$1,actionButton:actionButton$3,icon:icon$4,likedIcon:likedIcon$3,artistSection,artistImage:artistImage$1,artistName,infoList:infoList$3,infoRow:infoRow$4,infoLabel:infoLabel$4,infoContent:infoContent$3,descriptionParagraph:descriptionParagraph$3,docentBox,docentLabel,docentVideoWrapper,docentVideo,recommendSection,sectionTitle:sectionTitle$1,relatedGrid,relatedCard,relatedImage,relatedInfo,relatedTitle,emptyContent:emptyContent$5,emptyInfo:emptyInfo$3,backButton:backButton$7},modalOverlay$3="_modalOverlay_1ae8l_1",likeModalBox="_likeModalBox_1ae8l_21",likeModalStar="_likeModalStar_1ae8l_63",likeModalTitle="_likeModalTitle_1ae8l_75",likeModalSub="_likeModalSub_1ae8l_85",likeModalButton="_likeModalButton_1ae8l_99",styles$L={modalOverlay:modalOverlay$3,likeModalBox,likeModalStar,likeModalTitle,likeModalSub,likeModalButton};function LikePopup({onClose:r,type:x}){const b={galleries:"",exhibitions:"",artworks:""}[x]||"";return jsxRuntimeExports.jsx("div",{className:styles$L.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$L.likeModalBox,children:[jsxRuntimeExports.jsx(FaStar$1,{className:styles$L.likeModalStar}),jsxRuntimeExports.jsxs("h3",{className:styles$L.likeModalTitle,children:[" ",b,"  !"]}),jsxRuntimeExports.jsx("p",{className:styles$L.likeModalSub,children:"      ."}),jsxRuntimeExports.jsx("button",{className:styles$L.likeModalButton,onClick:r,children:""})]})})}function useToast(r,x){const y=reactExports$1.useRef(null),[b,R]=reactExports$1.useState(!1),T=reactExports$1.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{R(!0)},x)},[x]),A=reactExports$1.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=null},[]),O=reactExports$1.useCallback(()=>{r()},[r]);return{start:T,clear:A,done:O,isExiting:b}}const toastContainer="_toastContainer_wle1e_1",toast="_toast_wle1e_1",exiting="_exiting_wle1e_45",title$c="_title_wle1e_53",message$1="_message_wle1e_65",styles$K={toastContainer,toast,exiting,title:title$c,message:message$1};function Toast({id:r,title:x,message:y,duration:b,removeToast:R}){const{start:T,clear:A,done:O,isExiting:B}=useToast(()=>{R(r)},b),U=()=>A(),K=()=>T();reactExports$1.useEffect(()=>{T()},[T]);const J=`${styles$K.toast} ${B?styles$K.exiting:""}`,te=()=>{B&&O()};return jsxRuntimeExports.jsxs("div",{className:J,onMouseEnter:U,onMouseLeave:K,onAnimationEnd:te,children:[jsxRuntimeExports.jsx("div",{className:styles$K.title,children:x}),y&&jsxRuntimeExports.jsx("div",{className:styles$K.message,children:y})]})}const ToastContext=reactExports$1.createContext(),useToastContext=()=>reactExports$1.useContext(ToastContext);function ToastProvider({children:r}){const[x,y]=reactExports$1.useState(null),b=reactExports$1.useCallback((T,A=1e3)=>{let O,B;typeof T=="string"?(O=T,B=null):(O=T.title,B=T.message);const U=Date.now();y({id:U,title:O,message:B,duration:A})},[]),R=reactExports$1.useCallback(T=>{y(A=>A&&A.id===T?null:A)},[]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:{addToast:b},children:[r,jsxRuntimeExports.jsx("div",{className:styles$K.toastContainer,children:x&&jsxRuntimeExports.jsx(Toast,{id:x.id,title:x.title,message:x.message,duration:x.duration,removeToast:R},x.id)})]})}const modalOverlay$2="_modalOverlay_18m8e_1",modalBox$1="_modalBox_18m8e_27",closeButton$2="_closeButton_18m8e_73",modalIconBox="_modalIconBox_18m8e_103",modalIcon="_modalIcon_18m8e_103",modalTitle="_modalTitle_18m8e_135",modalDesc="_modalDesc_18m8e_149",phoneInfo="_phoneInfo_18m8e_163",phoneNumber="_phoneNumber_18m8e_175",callButton="_callButton_18m8e_191",pcInfo="_pcInfo_18m8e_225",errorText$1="_errorText_18m8e_237",styles$J={modalOverlay:modalOverlay$2,modalBox:modalBox$1,closeButton:closeButton$2,modalIconBox,modalIcon,modalTitle,modalDesc,phoneInfo,phoneNumber,callButton,pcInfo,errorText:errorText$1};function PurchaseModal({phoneNumber:r,onClose:x}){const y=()=>{r&&(window.location.href=`tel:${r}`)};return jsxRuntimeExports.jsx("div",{className:styles$J.modalOverlay,onClick:x,children:jsxRuntimeExports.jsxs("div",{className:styles$J.modalBox,onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:styles$J.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaXmark,{})}),jsxRuntimeExports.jsxs("div",{className:styles$J.modalContent,children:[jsxRuntimeExports.jsx("div",{className:styles$J.modalIconBox,children:jsxRuntimeExports.jsx(FaPhone,{className:styles$J.modalIcon})}),jsxRuntimeExports.jsx("h3",{className:styles$J.modalTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$J.modalDesc,children:["   ?",jsxRuntimeExports.jsx("br",{}),"     ."]}),r?jsxRuntimeExports.jsxs("div",{className:styles$J.phoneInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$J.phoneNumber,children:r}),jsxRuntimeExports.jsx("button",{className:styles$J.callButton,onClick:y,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$J.pcInfo,children:"*     ."})]}):jsxRuntimeExports.jsx("p",{className:styles$J.errorText,children:"   ."})]})]})})}function ArtworkDetail({showUserActions:r=!0,id:x,actionButtons:y}){const{artworkId:b}=useParams(),R=x||b,T=useNavigate(),{addToast:A}=useToastContext(),[O,B]=reactExports$1.useState(null),[U,K]=reactExports$1.useState(!1),[J,te]=reactExports$1.useState(!1),[ae,ue]=reactExports$1.useState(!1),pe=async()=>{if(R)try{const dt=await userInstance.get(`/api/arts/${R}`),{data:et}=dt;B(et),typeof et.is_liked=="boolean"&&K(et.is_liked)}catch(dt){console.error("   :",dt)}};reactExports$1.useEffect(()=>{pe()},[R]);const $e=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){T("/login");return}try{const dt={liked_id:R,liked_type:"art"};U?(await userInstance.delete("/api/likes",{data:dt}),K(!1)):(await userInstance.post("/api/likes",dt),K(!0),te(!0))}catch(dt){console.error("  :",dt),A({title:"",message:"  .",type:"error"})}},Ne=()=>{ue(!0)},Be=()=>{const dt=O==null?void 0:O.art_title,et=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${dt}`,text:`${dt}  `,url:et}).catch(console.error):navigator.clipboard.writeText(et).then(()=>alert(" ."))};if(!O)return jsxRuntimeExports.jsx("div",{children:" ..."});const{art_title:_e,art_description:xe,art_image:Le,art_year:Ue,art_material:He,art_size:qe,art_docent:Qe,art_docent_video:lt,gallery_phone:ct,artist:ot={},artist_name:pt}=O,yt=ot.artist_name||pt||"Unknown Artist",it=ot.artist_image||"/images/default_profile.png",Je=(ot.artworks||[]).filter(dt=>String(dt.id)!==String(R)),We=[{label:"",content:Ue?`${Ue} `:" "},{label:"",content:He||" "},{label:"",content:qe||" "}],Ze=[{label:"",icon:jsxRuntimeExports.jsx(FaStar$1,{className:U?styles$M.likedIcon:styles$M.icon}),action:$e},{label:"",icon:jsxRuntimeExports.jsx(FaPhone,{className:styles$M.icon}),action:Ne},{label:"",icon:jsxRuntimeExports.jsx(FaShare$1,{className:styles$M.icon}),action:Be}];return jsxRuntimeExports.jsxs("div",{className:styles$M.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$M.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$M.breadcrumbBack,onClick:()=>T("/artworks"),children:""})," ","> ",_e]}),jsxRuntimeExports.jsxs("div",{className:styles$M.card,children:[jsxRuntimeExports.jsx("img",{src:Le,alt:_e,className:styles$M.mainImage}),jsxRuntimeExports.jsxs("section",{className:styles$M.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$M.artworkTitle,children:_e}),jsxRuntimeExports.jsx("p",{className:styles$M.artworkMaterial,children:He||"Mixed Media"})]}),r&&jsxRuntimeExports.jsx("div",{className:styles$M.btnLayout,children:Ze.map(({label:dt,icon:et,action:ft})=>jsxRuntimeExports.jsxs("button",{className:styles$M.actionButton,onClick:ft,children:[et,dt]},dt))}),jsxRuntimeExports.jsx("hr",{className:styles$M.divider}),jsxRuntimeExports.jsxs("div",{className:styles$M.artistSection,children:[jsxRuntimeExports.jsx("img",{src:it,alt:yt,className:styles$M.artistImage,onError:dt=>dt.target.src="https://via.placeholder.com/100?text=Artist"}),jsxRuntimeExports.jsx("span",{className:styles$M.artistName,children:yt})]}),jsxRuntimeExports.jsx("div",{className:styles$M.infoList,children:We.map(({label:dt,content:et})=>jsxRuntimeExports.jsxs("div",{className:styles$M.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$M.infoLabel,children:dt}),jsxRuntimeExports.jsx("div",{className:styles$M.infoContent,children:et})]},dt))}),jsxRuntimeExports.jsxs("div",{className:styles$M.descriptionSection,children:[xe?jsxRuntimeExports.jsx("div",{className:styles$M.descriptionParagraph,dangerouslySetInnerHTML:{__html:xe}}):jsxRuntimeExports.jsx("p",{className:styles$M.emptyInfo,children:"  ."}),Qe&&jsxRuntimeExports.jsxs("div",{className:styles$M.docentBox,children:[jsxRuntimeExports.jsx("span",{className:styles$M.docentLabel,children:"AI Docent"}),jsxRuntimeExports.jsx("p",{children:Qe}),lt&&jsxRuntimeExports.jsx("div",{className:styles$M.docentVideoWrapper,children:jsxRuntimeExports.jsx("video",{className:styles$M.docentVideo,controls:!0,preload:"metadata",src:lt,children:"Your browser does not support the video tag."})})]})]}),y==null?void 0:y.info]}),r&&jsxRuntimeExports.jsxs("div",{className:styles$M.recommendSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$M.sectionTitle,children:"  "}),Je.length>0?jsxRuntimeExports.jsx("div",{className:styles$M.relatedGrid,children:Je.map(dt=>jsxRuntimeExports.jsxs("div",{className:styles$M.relatedCard,onClick:()=>{T(`/artworks/${dt.id}`),window.scrollTo(0,0)},children:[jsxRuntimeExports.jsx("img",{src:dt.art_image,alt:dt.art_title,className:styles$M.relatedImage}),jsxRuntimeExports.jsx("div",{className:styles$M.relatedInfo,children:jsxRuntimeExports.jsx("h4",{className:styles$M.relatedTitle,children:dt.art_title})})]},dt.id))}):jsxRuntimeExports.jsx("div",{className:styles$M.card,children:jsxRuntimeExports.jsx("p",{className:styles$M.emptyContent,children:"   ."})}),jsxRuntimeExports.jsx("button",{className:styles$M.backButton,onClick:()=>T("/artworks"),children:""})]}),J&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>te(!1),type:"artworks"}),ae&&jsxRuntimeExports.jsx(PurchaseModal,{phoneNumber:ct,onClose:()=>ue(!1)})]})}const layout$e="_layout_ezrs8_1",findForm="_findForm_ezrs8_15",formTitle$1="_formTitle_ezrs8_33",submitButton$3="_submitButton_ezrs8_43",styles$I={layout:layout$e,findForm,formTitle:formTitle$1,submitButton:submitButton$3};function Find(){const{data:r,handleChange:x}=useInput({userName:"",userEmail:""}),{data:y,handleChange:b}=useInput({userId:"",userEmail:""}),R=A=>{A.preventDefault(),alert("  ")},T=A=>{A.preventDefault(),alert("  ")};return jsxRuntimeExports.jsxs("div",{className:styles$I.layout,children:[jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:R,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userName",placeholder:"",onChange:x,value:r.userName}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:x,value:r.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:" "})]}),jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:T,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userId",placeholder:"",onChange:b,value:y.userId}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:b,value:y.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:"  "})]})]})}const announcementLayout="_announcementLayout_om46f_1",heading="_heading_om46f_19",tabWrapper$1="_tabWrapper_om46f_31",tab$1="_tab_om46f_31",active$1="_active_om46f_71",listItem="_listItem_om46f_99",buttonField$1="_buttonField_om46f_107",contentContainer$6="_contentContainer_om46f_129",styles$H={announcementLayout,heading,tabWrapper:tabWrapper$1,tab:tab$1,active:active$1,listItem,buttonField:buttonField$1,contentContainer:contentContainer$6},announcementData=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],FAQData=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],categoryList=["","FAQ"];function Announcement(){const[r,x]=reactExports$1.useState(""),[y,b]=reactExports$1.useState({}),R=r===""?announcementData:FAQData,T=O=>{if(y[O]){b(U=>({...U,[O]:!1}));return}b(U=>({...U,[O]:!0}))},A=O=>{x(O),b({})};return jsxRuntimeExports.jsxs("div",{className:styles$H.announcementLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$H.heading,children:"&FAQ"}),jsxRuntimeExports.jsx("div",{className:styles$H.tabWrapper,children:categoryList.map(O=>jsxRuntimeExports.jsx("button",{className:`${styles$H.tab} ${r===O?styles$H.active:""}`,onClick:()=>A(O),children:O},O))}),jsxRuntimeExports.jsx("ul",{children:R.map((O,B)=>jsxRuntimeExports.jsxs("li",{className:styles$H.listItem,onClick:()=>{T(B)},children:[jsxRuntimeExports.jsxs("div",{className:styles$H.buttonField,children:[O.title,jsxRuntimeExports.jsx("span",{children:y[B]?jsxRuntimeExports.jsx(FaChevronUp,{}):jsxRuntimeExports.jsx(FaChevronDown,{})})]}),y[B]&&jsxRuntimeExports.jsx("div",{className:styles$H.contentContainer,children:O.content})]},O.id))})]})}const termsLayout="_termsLayout_135gr_1",mainTitle="_mainTitle_135gr_19",tabWrapper="_tabWrapper_135gr_43",tab="_tab_135gr_43",active="_active_135gr_83",contentContainer$5="_contentContainer_135gr_99",styles$G={termsLayout,mainTitle,tabWrapper,tab,active,contentContainer:contentContainer$5},termsPolicyData={content:`  

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},privacyPolicyData={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function TermsPolicy(){const r=["",""],[x,y]=reactExports$1.useState(""),b=x===""?termsPolicyData:privacyPolicyData,R=T=>{y(T)};return jsxRuntimeExports.jsxs("section",{className:styles$G.termsLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$G.mainTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$G.tabWrapper,children:r.map(T=>jsxRuntimeExports.jsx("button",{className:`${styles$G.tab} ${x===T?styles$G.active:""}`,onClick:()=>R(T),children:T},T))}),jsxRuntimeExports.jsx("div",{className:styles$G.contentContainer,children:b.content})]})}const layout$d="_layout_3y7o4_1",title$b="_title_3y7o4_19",posterImage$1="_posterImage_3y7o4_31",completionIcon$1="_completionIcon_3y7o4_43",completionTitle$1="_completionTitle_3y7o4_67",reservationSummary$1="_reservationSummary_3y7o4_81",summaryRow$1="_summaryRow_3y7o4_95",summaryLabel$1="_summaryLabel_3y7o4_115",summaryValue$1="_summaryValue_3y7o4_125",buttonField="_buttonField_3y7o4_155",exhibitionLink="_exhibitionLink_3y7o4_165",mypageLink="_mypageLink_3y7o4_167",styles$F={layout:layout$d,title:title$b,posterImage:posterImage$1,completionIcon:completionIcon$1,completionTitle:completionTitle$1,reservationSummary:reservationSummary$1,summaryRow:summaryRow$1,summaryLabel:summaryLabel$1,summaryValue:summaryValue$1,buttonField,exhibitionLink,mypageLink};function ReservationConfirm(){const{reservationId:r}=useParams(),[x,y]=reactExports$1.useState([]),{exhibition_location:b,exhibition_title:R,exhibition_poster:T,exhibition_id:A,reservation_total_price:O,reservation_number_of_tickets:B,reservation_datetime:U}=x,J=[{label:"",value:x?R:""},{label:"",value:x?b:""},{label:"",value:(te=>{if(te)return te.split(" ")[0]})(U)},{label:"",value:`${B}`},{label:"",value:`${O}`}];return reactExports$1.useEffect(()=>{(async()=>{try{const ae=await userInstance.get("/api/users/me/exhibitions");y(ae.data.find(ue=>ue.id===r))}catch(ae){console.error(ae)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$F.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$F.title,children:"  "}),jsxRuntimeExports.jsx("img",{className:styles$F.posterImage,src:T,alt:"  "}),jsxRuntimeExports.jsx("div",{className:styles$F.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$F.completionTitle,children:"   "}),jsxRuntimeExports.jsx("div",{className:styles$F.reservationSummary,children:J.map(te=>jsxRuntimeExports.jsxs("div",{className:styles$F.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$F.summaryLabel,children:te.label}),jsxRuntimeExports.jsx("span",{className:styles$F.summaryValue,children:te.value})]},te.label))}),jsxRuntimeExports.jsxs("div",{className:styles$F.buttonField,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$F.mypageLink,to:"/mypage",children:""}),jsxRuntimeExports.jsx(Link$1,{className:styles$F.exhibitionLink,to:`/exhibitions/${A}`,children:" "})]})]})}const container$4="_container_xs957_1",breadcrumb$3="_breadcrumb_xs957_37",breadcrumbBack$3="_breadcrumbBack_xs957_51",loading$2="_loading_xs957_63",error$1="_error_xs957_65",empty$1="_empty_xs957_67",exhibitionInfo="_exhibitionInfo_xs957_93",calendarContainer="_calendarContainer_xs957_175",calendarHeader="_calendarHeader_xs957_191",legend="_legend_xs957_207",legendItem="_legendItem_xs957_229",legendDot="_legendDot_xs957_241",dotRed="_dotRed_xs957_253",dotBlue="_dotBlue_xs957_261",monthNavigator="_monthNavigator_xs957_269",currentMonth="_currentMonth_xs957_281",monthButton="_monthButton_xs957_297",weekdaysRow="_weekdaysRow_xs957_339",weekdayCell="_weekdayCell_xs957_355",weekend="_weekend_xs957_369",closedDot="_closedDot_xs957_377",calendarGrid="_calendarGrid_xs957_393",dateCell="_dateCell_xs957_405",todayDot="_todayDot_xs957_445",disabled="_disabled_xs957_459",selected="_selected_xs957_459",today="_today_xs957_445",visitorCount="_visitorCount_xs957_507",countLabel="_countLabel_xs957_529",countControls="_countControls_xs957_541",countButton="_countButton_xs957_553",countDisplay="_countDisplay_xs957_595",reservationInfo="_reservationInfo_xs957_613",infoRow$3="_infoRow_xs957_627",infoLabel$3="_infoLabel_xs957_655",infoValue="_infoValue_xs957_665",reservationForm="_reservationForm_xs957_679",formTitle="_formTitle_xs957_687",formGroup$1="_formGroup_xs957_701",formLabel="_formLabel_xs957_709",formInput="_formInput_xs957_725",reservationSummary="_reservationSummary_xs957_767",summaryTitle="_summaryTitle_xs957_785",summaryTitle2="_summaryTitle2_xs957_803",summaryImage="_summaryImage_xs957_819",summaryRow="_summaryRow_xs957_833",summaryLabel="_summaryLabel_xs957_855",summaryValue="_summaryValue_xs957_871",completionScreen="_completionScreen_xs957_889",completionIcon="_completionIcon_xs957_923",completionTitle="_completionTitle_xs957_949",completionMessage="_completionMessage_xs957_963",buttonsContainer="_buttonsContainer_xs957_977",actionButton$2="_actionButton_xs957_993",backButton$6="_backButton_xs957_995",styles$E={container:container$4,breadcrumb:breadcrumb$3,breadcrumbBack:breadcrumbBack$3,loading:loading$2,error:error$1,empty:empty$1,exhibitionInfo,calendarContainer,calendarHeader,legend,legendItem,legendDot,dotRed,dotBlue,monthNavigator,currentMonth,monthButton,weekdaysRow,weekdayCell,weekend,closedDot,calendarGrid,dateCell,todayDot,disabled,selected,today,visitorCount,countLabel,countControls,countButton,countDisplay,reservationInfo,infoRow:infoRow$3,infoLabel:infoLabel$3,infoValue,reservationForm,formTitle,formGroup:formGroup$1,formLabel,formInput,reservationSummary,summaryTitle,summaryTitle2,summaryImage,summaryRow,summaryLabel,summaryValue,completionScreen,completionIcon,completionTitle,completionMessage,buttonsContainer,actionButton:actionButton$2,backButton:backButton$6};function Reservation(){const{exhibitionId:r}=useParams(),x=useNavigate(),[y,b]=reactExports$1.useState(null),[R,T]=reactExports$1.useState(!0),[A,O]=reactExports$1.useState(null),[B,U]=reactExports$1.useState(1),[K,J]=reactExports$1.useState(""),[te,ae]=reactExports$1.useState(1),[ue,pe]=reactExports$1.useState({name:"",phone:"",email:"",date:"",gallery:"",price:0,state:""}),$e=new Date,[Ne,Be]=reactExports$1.useState($e.getMonth()),[_e,xe]=reactExports$1.useState($e.getFullYear());reactExports$1.useEffect(()=>{r&&(async()=>{try{const We=await userInstance.get(`/api/exhibitions/${r}`);b(We.data)}catch{O("     .")}finally{T(!1)}})()},[r]),reactExports$1.useEffect(()=>{y&&pe(Je=>({...Je,gallery:y.exhibition_location,price:y.exhibition_price}))},[y]),reactExports$1.useEffect(()=>{(async()=>{try{const Ze=(await userInstance.get("/api/users/me")).data;console.log(Ze),pe(dt=>({...dt,name:Ze.user_name||"",phone:Ze.user_phone||"",email:Ze.user_email||""}))}catch(We){console.error("   :",We)}})()},[]),reactExports$1.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[B]);const Le=Je=>{if(!Je)return[];const We={:0,:1,:2,:3,:4,:5,:6};return Je.split(",").map(Ze=>We[Ze.trim()]).filter(Ze=>Ze!==void 0)},Ue=()=>{const Je=new Date(_e,Ne+1,0).getDate(),We=new Date(_e,Ne,1).getDay(),Ze=[],dt=y!=null&&y.exhibition_start_date?new Date(y.exhibition_start_date):null,et=y!=null&&y.exhibition_end_date?new Date(y.exhibition_end_date):null,ft=y?Le(y.exhibition_closed_day):[];dt&&dt.setHours(0,0,0,0),et&&et.setHours(0,0,0,0);const Et=new Date;return Et.setHours(0,0,0,0),Array.from({length:We}).forEach(()=>{Ze.push({day:"",disabled:!0})}),Array.from({length:Je}).forEach((St,Bt)=>{const Rt=Bt+1,Yt=new Date(_e,Ne,Rt);Yt.setHours(0,0,0,0);const nn=Yt.getTime()===Et.getTime();let mn=!1,Fn=!1;Yt<Et&&(mn=!0),dt&&Yt<dt&&(mn=!0),et&&Yt>et&&(mn=!0),ft.includes(Yt.getDay())&&(mn=!0,Fn=!0),Ze.push({day:Rt,date:Yt,disabled:mn,isToday:nn,isClosedDay:Fn})}),Ze},He=()=>{Be(Je=>Je===11?0:Je+1),Ne===11&&xe(Je=>Je+1)},qe=()=>{Be(Je=>Je===0?11:Je-1),Ne===0&&xe(Je=>Je-1)},Qe=Je=>{if(Je.disabled)return;const We=`${_e}.${String(Ne+1).padStart(2,"0")}.${String(Je.day).padStart(2,"0")}`;J(We),pe(Ze=>({...Ze,date:We}))},lt=Je=>{const We=te+Je;We>=1&&We<=10&&ae(We)},ct=Je=>{const{name:We,value:Ze}=Je.target;pe(dt=>({...dt,[We]:Ze}))},ot=async()=>{if(B===1&&!K){alert(" .");return}if(B===2&&(!ue.name||!ue.phone||!ue.email)){alert("   .");return}if(B===2)try{const Je=await userInstance.post("/api/reservations",{exhibition_id:Number(r),number_of_tickets:te,reservation_datetime:K,visitor_name:ue.name,visitor_phone:ue.phone,visitor_email:ue.email,payment_method:"",total_price:y.exhibition_price*te});console.log(" :",Je.data)}catch(Je){console.error(" :",Je),alert("    .");return}U(B+1)},pt=()=>{U(B-1)},yt=()=>{x("/mypage",{state:{activeTab:"MY"}})};if(R)return jsxRuntimeExports.jsx("div",{className:styles$E.loading,children:" ..."});if(A)return jsxRuntimeExports.jsx("div",{className:styles$E.error,children:A});if(!y)return jsxRuntimeExports.jsx("div",{className:styles$E.empty,children:"    ."});const it=["","","","","","",""],Ke=[{label:"",value:y?y.exhibition_title:""},{label:"",value:K},{label:"",value:`${te}`},{label:"",value:y?y.exhibition_location:""},{label:"",value:ue.name},{label:"",value:ue.phone},{label:"",value:ue.email},{label:" ",value:`${(y.exhibition_price||0).toLocaleString()} (  )`}];return jsxRuntimeExports.jsxs("div",{className:styles$E.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$E.breadcrumbBack,onClick:()=>x(`/exhibitions/${r}`),children:""})," ","> "]}),B===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$E.exhibitionInfo,children:[jsxRuntimeExports.jsx("strong",{children:y.exhibition_title}),jsxRuntimeExports.jsx("p",{children:y.exhibition_organization})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.calendarContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.calendarHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.monthNavigator,children:[jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:qe,children:"<"}),jsxRuntimeExports.jsx("span",{className:styles$E.currentMonth,children:`${_e}.${String(Ne+1).padStart(2,"0")}`}),jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:He,children:">"})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legend,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotRed}`}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotBlue}`}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.weekdaysRow,children:it.map((Je,We)=>jsxRuntimeExports.jsx("div",{className:`${styles$E.weekdayCell} ${We===0||We===6?styles$E.weekend:""}`,children:Je},Je))}),jsxRuntimeExports.jsx("div",{className:styles$E.calendarGrid,children:Ue().map((Je,We)=>{const Ze=Je.day?`${_e}-${Ne}-${Je.day}`:`empty-${We}`;return jsxRuntimeExports.jsxs("div",{className:`${styles$E.dateCell} ${Je.disabled?styles$E.disabled:""} ${Je.isToday?styles$E.today:""} ${K&&Je.day&&K===`${_e}.${String(Ne+1).padStart(2,"0")}.${String(Je.day).padStart(2,"0")}`?styles$E.selected:""}`,onClick:()=>Qe(Je),children:[jsxRuntimeExports.jsx("span",{className:styles$E.dateNumber,children:Je.day}),Je.day&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Je.isClosedDay&&jsxRuntimeExports.jsx("div",{className:styles$E.closedDot}),!Je.isClosedDay&&Je.isToday&&jsxRuntimeExports.jsx("div",{className:styles$E.todayDot})]})]},Ze)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.visitorCount,children:[jsxRuntimeExports.jsx("span",{className:styles$E.countLabel,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$E.countControls,children:[jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>lt(-1),children:"-"}),jsxRuntimeExports.jsxs("span",{className:styles$E.countDisplay,children:[te,""]}),jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>lt(1),children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:K||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsxs("span",{className:styles$E.infoLabel,children:[te,""]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:y.exhibition_location})]})]})]}),B===2&&jsxRuntimeExports.jsxs("div",{className:styles$E.reservationForm,children:[jsxRuntimeExports.jsx("h3",{className:styles$E.formTitle,children:"  "}),["name","phone","email"].map(Je=>jsxRuntimeExports.jsxs("div",{className:styles$E.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$E.formLabel,children:Je==="name"?"":Je==="phone"?"":""}),jsxRuntimeExports.jsx("input",{className:styles$E.formInput,type:Je==="email"?"email":Je==="phone"?"tel":"text",name:Je,value:ue[Je],onChange:ct,placeholder:Je==="name"?" ":Je==="phone"?"010-0000-0000":"example@email.com"})]},Je)),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx("div",{className:styles$E.summaryTitle,children:"  "}),[{label:"",value:y?y.exhibition_title:" "},{label:"",value:K},{label:"",value:`${te}`},{label:"",value:y?y.exhibition_location:" "},{label:" ",value:`${(y.exhibition_price||0).toLocaleString()}`}].map(Je=>jsxRuntimeExports.jsxs("div",{className:styles$E.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:Je.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:Je.value})]},Je.label))]})]}),B===3&&jsxRuntimeExports.jsxs("div",{className:styles$E.completionScreen,children:[jsxRuntimeExports.jsx("div",{className:styles$E.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$E.completionTitle,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$E.completionMessage,children:[ue.name,"   ."]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx("img",{className:styles$E.summaryImage,src:y.exhibition_poster}),Ke.map(Je=>jsxRuntimeExports.jsx("div",{className:styles$E.summaryRow,children:Je.label===""?jsxRuntimeExports.jsx("h2",{className:styles$E.summaryTitle2,children:Je.value}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:Je.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:Je.value})]})},Je.label))]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.buttonsContainer,children:B===1?jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:ot,children:""}):B===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:pt,children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:ot,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:()=>x("/exhibitions"),children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:yt,children:" "})]})})]})}const actionContainer="_actionContainer_dau3z_1",actionButton$1="_actionButton_dau3z_17",actionButtonActive="_actionButtonActive_dau3z_57",actionButtonInactive="_actionButtonInactive_dau3z_79",styles$D={actionContainer,actionButton:actionButton$1,actionButtonActive,actionButtonInactive};function ActionBar({tabList:r,activeTab:x,onTabChange:y}){return jsxRuntimeExports.jsx("nav",{className:styles$D.actionContainer,children:r.map(b=>jsxRuntimeExports.jsx("button",{onClick:()=>y(b),className:`${styles$D.actionButton} ${x===b?styles$D.actionButtonActive:styles$D.actionButtonInactive}`,children:b},b))})}function HiChevronDown(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function HiTrash(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function HiX(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function useDropdown(r="",x=""){const[y,b]=reactExports$1.useState(!1),[R,T]=reactExports$1.useState(r||x),A=reactExports$1.useRef(null);return reactExports$1.useEffect(()=>{const J=te=>{A.current&&!A.current.contains(te.target)&&b(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]),{isOpen:y,selectedValue:R,dropdownRef:A,handleOptionClick:(J,te)=>{T(J.name),te(J.value),b(!1)},toggleDropdown:()=>{b(!y)},closeDropdown:()=>{b(!1)},openDropdown:()=>{b(!0)},setSelectedValue:T}}const dropdownWrapper="_dropdownWrapper_1i71d_3",inputContainer="_inputContainer_1i71d_13",dropdownTrigger="_dropdownTrigger_1i71d_37",dropdownList="_dropdownList_1i71d_51",dropdownItem="_dropdownItem_1i71d_81",dropdownItemActive="_dropdownItemActive_1i71d_121",inputField="_inputField_1i71d_161",chevron="_chevron_1i71d_223",chevronOpen="_chevronOpen_1i71d_275",styles$C={dropdownWrapper,inputContainer,dropdownTrigger,dropdownList,dropdownItem,dropdownItemActive,inputField,chevron,chevronOpen};function LookUp({value:r,onChange:x,placeholder:y=" ",isInput:b=!1,options:R=[],title:T=" "}){var J;const{isOpen:A,dropdownRef:O,handleOptionClick:B,toggleDropdown:U}=useDropdown(r,y),K=((J=R.find(te=>te.value===r))==null?void 0:J.name)||r||y;return b?jsxRuntimeExports.jsx("div",{className:styles$C.inputContainer,children:jsxRuntimeExports.jsx("input",{type:"text",value:r,onChange:te=>x(te.target.value),placeholder:y,className:styles$C.inputField})}):jsxRuntimeExports.jsx("div",{className:styles$C.dropdownWrapper,children:jsxRuntimeExports.jsxs("div",{className:styles$C.inputContainer,ref:O,children:[jsxRuntimeExports.jsxs("div",{className:styles$C.dropdownTrigger,onClick:U,children:[jsxRuntimeExports.jsx("span",{className:styles$C.inputField,children:K}),jsxRuntimeExports.jsx(HiChevronDown,{className:`${styles$C.chevron} ${A?styles$C.chevronOpen:""}`})]}),A&&jsxRuntimeExports.jsx("div",{className:styles$C.dropdownList,children:R.map(te=>jsxRuntimeExports.jsx("div",{className:`${styles$C.dropdownItem} ${r===te.value?styles$C.dropdownItemActive:""}`,onClick:()=>B(te,x),children:te.name},te.id))})]})})}const countText="_countText_1ceqk_3",styles$B={countText};function CountList({count:r}){return jsxRuntimeExports.jsxs("span",{className:styles$B.countText,children:[" ",r,""]})}const registerButton$1="_registerButton_1esip_3",styles$A={registerButton:registerButton$1};function RegisterButton({buttonText:r,onButtonClick:x}){return jsxRuntimeExports.jsx("button",{onClick:x,className:styles$A.registerButton,children:r})}const container$3="_container_1oiix_3",message="_message_1oiix_33",buttonText="_buttonText_1oiix_57",instruction="_instruction_1oiix_67",styles$z={container:container$3,message,buttonText,instruction};function EmptyState({message:r,buttonText:x}){return jsxRuntimeExports.jsxs("div",{className:styles$z.container,children:[jsxRuntimeExports.jsx("p",{className:styles$z.message,children:r}),jsxRuntimeExports.jsx("p",{className:styles$z.buttonText,children:x}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:"  ."})]})}function useDebounceSearch({onSearch:r,onEmptySearch:x,onSearchValueChange:y,onClearSearch:b,minLength:R=2,delay:T=500}){const[A,O]=reactExports$1.useState(""),B=reactExports$1.useRef(null),U=J=>{if(O(J),y&&y(J),B.current&&clearTimeout(B.current),!J.trim()){x&&x();return}J.trim().length<R||(B.current=setTimeout(()=>{r(J)},T))},K=()=>{U(""),b&&b()};return reactExports$1.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]),{searchValue:A,handleSearchChange:U,clearSearch:K}}const contentContainer$4="_contentContainer_1jnvj_3",emptyStateContainer$3="_emptyStateContainer_1jnvj_15",searchContainer$3="_searchContainer_1jnvj_23",galleryCard$1="_galleryCard_1jnvj_31",cardContent$2="_cardContent_1jnvj_41",cardInfo$2="_cardInfo_1jnvj_51",cardHeader$4="_cardHeader_1jnvj_63",cardFooter="_cardFooter_1jnvj_75",countAndButtonContainer$3="_countAndButtonContainer_1jnvj_125",errorMessage$3="_errorMessage_1jnvj_141",galleryImage$2="_galleryImage_1jnvj_177",deleteButton$3="_deleteButton_1jnvj_203",galleryAddress$1="_galleryAddress_1jnvj_233",galleryTitle$2="_galleryTitle_1jnvj_297",galleryClosedDay="_galleryClosedDay_1jnvj_323",galleryTime="_galleryTime_1jnvj_333",separator="_separator_1jnvj_353",styles$y={contentContainer:contentContainer$4,emptyStateContainer:emptyStateContainer$3,searchContainer:searchContainer$3,galleryCard:galleryCard$1,cardContent:cardContent$2,cardInfo:cardInfo$2,cardHeader:cardHeader$4,cardFooter,countAndButtonContainer:countAndButtonContainer$3,errorMessage:errorMessage$3,galleryImage:galleryImage$2,deleteButton:deleteButton$3,galleryAddress:galleryAddress$1,galleryTitle:galleryTitle$2,galleryClosedDay,galleryTime,separator};function GalleryManagement({galleryList:r,onDelete:x,loadGalleries:y,isLoading:b,isSearching:R,error:T}){const A=useNavigate(),{searchValue:O,handleSearchChange:B}=useDebounceSearch({onSearch:y,onEmptySearch:()=>y(""),minLength:2,delay:500}),U=Array.isArray(r)?r:[],K=J=>{window.confirm("   ?")&&x(J,"gallery")};return b?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):T?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$y.errorMessage,children:[" : ",T]})}):U.length>0?jsxRuntimeExports.jsxs("div",{className:styles$y.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:O,onChange:B,placeholder:" ",isInput:!0}),jsxRuntimeExports.jsxs("div",{className:styles$y.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:U.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>A("/console/galleries/edit/new")})]}),jsxRuntimeExports.jsx("section",{className:styles$y.contentContainer,children:U.map(J=>jsxRuntimeExports.jsxs("div",{className:styles$y.galleryCard,onClick:()=>A(`/console/galleries/${J.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardContent,children:[jsxRuntimeExports.jsx("img",{src:J.image,alt:J.name,className:styles$y.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$y.galleryTitle,children:J.name}),jsxRuntimeExports.jsx("button",{onClick:te=>{te.stopPropagation(),K(J.id)},className:styles$y.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryAddress,children:J.address}),jsxRuntimeExports.jsxs("p",{className:styles$y.galleryClosedDay,children:[" | ",J.closedDay]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryTime,children:J.time})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardFooter,children:[jsxRuntimeExports.jsxs("span",{children:["  ",J.registered,""]}),jsxRuntimeExports.jsx("span",{className:styles$y.separator,children:"|"}),jsxRuntimeExports.jsxs("span",{children:[" ",J.liked,""]})]})]},J.id))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$y.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:O,onChange:B,placeholder:" ",isInput:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$y.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:0}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),jsxRuntimeExports.jsx("section",{className:styles$y.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$3="_contentContainer_1vg35_3",emptyStateContainer$2="_emptyStateContainer_1vg35_15",searchContainer$2="_searchContainer_1vg35_23",galleryCard="_galleryCard_1vg35_31",cardContent$1="_cardContent_1vg35_41",cardInfo$1="_cardInfo_1vg35_51",cardHeader$3="_cardHeader_1vg35_63",countAndButtonContainer$2="_countAndButtonContainer_1vg35_115",errorMessage$2="_errorMessage_1vg35_131",galleryImage$1="_galleryImage_1vg35_167",deleteButton$2="_deleteButton_1vg35_193",galleryAddress="_galleryAddress_1vg35_223",galleryFloor="_galleryFloor_1vg35_231",galleryTitle$1="_galleryTitle_1vg35_259",styles$x={contentContainer:contentContainer$3,emptyStateContainer:emptyStateContainer$2,searchContainer:searchContainer$2,galleryCard,cardContent:cardContent$1,cardInfo:cardInfo$1,cardHeader:cardHeader$3,countAndButtonContainer:countAndButtonContainer$2,errorMessage:errorMessage$2,galleryImage:galleryImage$1,deleteButton:deleteButton$2,galleryAddress,galleryFloor,galleryTitle:galleryTitle$1};function ExhibitionManagement({exhibitionList:r,selectedGallery:x,onGalleryChange:y,onDelete:b,loadExhibitions:R,isLoading:T,error:A,galleryList:O}){const B=useNavigate(),U=ue=>{window.confirm("   ?")&&b(ue,"exhibition")},K=reactExports$1.useCallback(ue=>{if(ue===" ")return" ";const pe=O.find($e=>$e.name===ue);return pe?pe.id:" "},[O]);reactExports$1.useEffect(()=>{if(O.length>0&&x){const ue=K(x);R(ue)}else O.length>0&&R(" ")},[x,O]);const J=reactExports$1.useMemo(()=>K(x),[x,O,K]),te=r.filter(ue=>x===" "?!0:ue.gallery_id&&J?String(ue.gallery_id)===String(J):ue.gallery_name===x),ae=reactExports$1.useMemo(()=>{const ue=[{id:"all",name:" ",value:" "}],pe=new Set(r.map(Ne=>Ne.gallery_id).filter(Boolean)),$e=new Set(r.map(Ne=>Ne.gallery_name).filter(Boolean));return O.forEach(Ne=>{(pe.has(Ne.id)||$e.has(Ne.name))&&ue.push({id:Ne.id,name:Ne.name,value:Ne.name})}),ue},[O,r]);return T?jsxRuntimeExports.jsx("div",{className:styles$x.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):A?jsxRuntimeExports.jsx("div",{className:styles$x.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$x.errorMessage,children:[" : ",A]})}):te.length>0?jsxRuntimeExports.jsxs("section",{className:styles$x.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:ae}),jsxRuntimeExports.jsxs("div",{className:styles$x.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:te.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>B("/console/exhibitions/edit/new")})]}),jsxRuntimeExports.jsx("section",{className:styles$x.contentContainer,children:te.map(ue=>jsxRuntimeExports.jsx("div",{className:styles$x.galleryCard,onClick:()=>B(`/console/exhibitions/${ue.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$x.cardContent,children:[jsxRuntimeExports.jsx("img",{src:ue.image,alt:ue.title,className:styles$x.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$x.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$x.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$x.galleryTitle,children:ue.title}),jsxRuntimeExports.jsx("button",{onClick:()=>U(ue.id),className:styles$x.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryAddress,children:ue.period}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryFloor,children:ue.gallery_name})]})]})},ue.id))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$x.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:ae})}),jsxRuntimeExports.jsxs("div",{className:styles$x.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:0}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),jsxRuntimeExports.jsx("section",{className:styles$x.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$2="_contentContainer_hw5l3_3",emptyStateContainer$1="_emptyStateContainer_hw5l3_15",searchContainer$1="_searchContainer_hw5l3_23",artworkCard$2="_artworkCard_hw5l3_31",cardContent="_cardContent_hw5l3_41",cardInfo="_cardInfo_hw5l3_51",cardHeader$2="_cardHeader_hw5l3_63",countAndButtonContainer$1="_countAndButtonContainer_hw5l3_115",errorMessage$1="_errorMessage_hw5l3_131",artworkImage$2="_artworkImage_hw5l3_167",deleteButton$1="_deleteButton_hw5l3_193",artworkArtist="_artworkArtist_hw5l3_223",artworkTitle$1="_artworkTitle_hw5l3_259",styles$w={contentContainer:contentContainer$2,emptyStateContainer:emptyStateContainer$1,searchContainer:searchContainer$1,artworkCard:artworkCard$2,cardContent,cardInfo,cardHeader:cardHeader$2,countAndButtonContainer:countAndButtonContainer$1,errorMessage:errorMessage$1,artworkImage:artworkImage$2,deleteButton:deleteButton$1,artworkArtist,artworkTitle:artworkTitle$1};function ArtworkManagement({artworkList:r,selectedGallery:x,onGalleryChange:y,onDelete:b,loadArtworks:R,isLoading:T,error:A,galleryList:O}){const B=useNavigate(),U=ue=>{window.confirm("   ?")&&b(ue,"artwork")},K=reactExports$1.useCallback(ue=>{if(ue===" ")return" ";const pe=O.find($e=>$e.name===ue);return pe?pe.id:" "},[O]);reactExports$1.useEffect(()=>{if(O.length>0&&x){const ue=K(x);R(ue)}else O.length>0&&R(" ")},[x,O]);const J=reactExports$1.useMemo(()=>K(x),[x,O,K]),te=r.filter(ue=>x===" "?!0:ue.gallery_id&&J?String(ue.gallery_id)===String(J):ue.gallery_name===x),ae=reactExports$1.useMemo(()=>{const ue=[{id:"all",name:" ",value:" "}],pe=new Set(r.map(Ne=>Ne.gallery_id).filter(Boolean)),$e=new Set(r.map(Ne=>Ne.gallery_name).filter(Boolean));return O.forEach(Ne=>{(pe.has(Ne.id)||$e.has(Ne.name))&&ue.push({id:Ne.id,name:Ne.name,value:Ne.name})}),ue},[O,r]);return T?jsxRuntimeExports.jsx("div",{className:styles$w.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):A?jsxRuntimeExports.jsx("div",{className:styles$w.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$w.errorMessage,children:[" : ",A]})}):te.length>0?jsxRuntimeExports.jsxs("section",{className:styles$w.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:ae}),jsxRuntimeExports.jsxs("div",{className:styles$w.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:te.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>B("/console/artworks/edit/new")})]}),jsxRuntimeExports.jsx("section",{className:styles$w.contentContainer,children:te.map(ue=>jsxRuntimeExports.jsx("div",{className:styles$w.artworkCard,onClick:()=>B(`/console/artworks/${ue.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$w.cardContent,children:[jsxRuntimeExports.jsx("img",{src:ue.image,alt:ue.title,className:styles$w.artworkImage}),jsxRuntimeExports.jsxs("div",{className:styles$w.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$w.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$w.artworkTitle,children:ue.title}),jsxRuntimeExports.jsx("button",{onClick:()=>U(ue.id),className:styles$w.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$w.artworkArtist,children:ue.artist})]})]})},ue.id))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$w.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:ae})}),jsxRuntimeExports.jsxs("div",{className:styles$w.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:0}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),jsxRuntimeExports.jsx("section",{className:styles$w.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const overlay$2="_overlay_1vrfn_3",modal="_modal_1vrfn_15",header$5="_header_1vrfn_23",countBadge="_countBadge_1vrfn_35",label$4="_label_1vrfn_43",buttonContainer="_buttonContainer_1vrfn_51",closeButton$1="_closeButton_1vrfn_113",headerSpacer="_headerSpacer_1vrfn_121",formGroup="_formGroup_1vrfn_137",input$3="_input_1vrfn_153",textarea$4="_textarea_1vrfn_177",sendButton="_sendButton_1vrfn_205",title$a="_title_1vrfn_285",styles$v={overlay:overlay$2,modal,header:header$5,countBadge,label:label$4,buttonContainer,closeButton:closeButton$1,headerSpacer,formGroup,input:input$3,textarea:textarea$4,sendButton,title:title$a};function AlarmModal({isOpen:r,onClose:x,selectedUsersCount:y,onSendAlarm:b,isSending:R=!1}){const[T,A]=reactExports$1.useState(""),[O,B]=reactExports$1.useState(""),U=()=>{A(""),B(""),x()};if(!r)return null;const K=async()=>{if(!T.trim()){alert(" .");return}if(!O.trim()){alert("  .");return}if(y===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(await b(T.trim(),O.trim()),A(""),B(""))};return jsxRuntimeExports.jsx("div",{className:styles$v.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$v.modal,children:[jsxRuntimeExports.jsxs("header",{className:styles$v.header,children:[jsxRuntimeExports.jsx("button",{onClick:U,className:styles$v.closeButton,children:jsxRuntimeExports.jsx(HiX,{size:24})}),jsxRuntimeExports.jsx("h2",{className:styles$v.title,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$v.headerSpacer})]}),jsxRuntimeExports.jsx("div",{className:styles$v.countBadge,children:jsxRuntimeExports.jsxs("span",{children:["  :  ",y,""]})}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$v.label,children:""}),jsxRuntimeExports.jsx("input",{type:"text",className:styles$v.input,placeholder:" ",value:T,onChange:J=>A(J.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$v.label,children:" ( 80)"}),jsxRuntimeExports.jsx("textarea",{className:styles$v.textarea,placeholder:"  ",maxLength:80,value:O,onChange:J=>B(J.target.value)})]}),jsxRuntimeExports.jsx("div",{className:styles$v.buttonContainer,children:jsxRuntimeExports.jsx("button",{onClick:K,className:styles$v.sendButton,disabled:R||y===0,children:R?" ...":""})})]})})}const tableContainer="_tableContainer_176i2_3",tableFilters="_tableFilters_176i2_23",table="_table_176i2_3",tableHeader="_tableHeader_176i2_61",tableRow="_tableRow_176i2_71",tableCell="_tableCell_176i2_81",filterButton="_filterButton_176i2_113",filterButtonActive="_filterButtonActive_176i2_147",tableHeaderCell="_tableHeaderCell_176i2_175",tableHeaderCellCheckbox="_tableHeaderCellCheckbox_176i2_195",tableCellGray="_tableCellGray_176i2_255",styles$u={tableContainer,tableFilters,table,tableHeader,tableRow,tableCell,filterButton,filterButtonActive,tableHeaderCell,tableHeaderCellCheckbox,tableCellGray};function Table({interestedUserList:r,selectedUserList:x,onUserSelect:y,onSelectAll:b,isAllSelected:R,activeTab:T,onTabChange:A}){const O=U=>{A(U)},B=()=>{b(r)};return jsxRuntimeExports.jsxs("div",{className:styles$u.tableContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$u.tableFilters,children:[jsxRuntimeExports.jsx("button",{className:`${styles$u.filterButton} ${T==="all"?styles$u.filterButtonActive:""}`,onClick:()=>O("all"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.filterButton} ${T==="gallery"?styles$u.filterButtonActive:""}`,onClick:()=>O("gallery"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.filterButton} ${T==="exhibition"?styles$u.filterButtonActive:""}`,onClick:()=>O("exhibition"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.filterButton} ${T==="art"?styles$u.filterButtonActive:""}`,onClick:()=>O("art"),children:""})]}),jsxRuntimeExports.jsxs("table",{className:styles$u.table,children:[jsxRuntimeExports.jsx("thead",{className:styles$u.tableHeader,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:`${styles$u.tableHeaderCell} ${styles$u.tableHeaderCellCheckbox}`,children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:R(r),onChange:B})}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:r.map(U=>jsxRuntimeExports.jsxs("tr",{className:styles$u.tableRow,children:[jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:x.includes(U.id),onChange:()=>y(U.id)})}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:U.category}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:U.name}),jsxRuntimeExports.jsx("td",{className:`${styles$u.tableCell} ${styles$u.tableCellGray}`,children:U.date})]},`${U.type}-${U.id}`))})]})]})}function useUserSelection(){const[r,x]=reactExports$1.useState([]);return{selectedUserList:r,handleUserSelect:A=>{x(O=>O.includes(A)?O.filter(B=>B!==A):[...O,A])},handleSelectAll:A=>{if(A.length>0&&A.every(B=>r.includes(B.id))){const B=r.filter(U=>!A.some(K=>K.id===U));x(B)}else{const U=A.filter(K=>!r.includes(K.id)).map(K=>K.id);x(K=>[...K,...U])}},clearSelection:()=>{x([])},isAllSelected:A=>A.length>0&&A.every(O=>r.includes(O.id))}}function useInterestedUser(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState(!1),[T,A]=reactExports$1.useState(!1),[O,B]=reactExports$1.useState(null),[U,K]=reactExports$1.useState("all"),J=async(Be="gallery",_e="")=>{var xe,Le;try{R(!0);const Ue=localStorage.getItem("ACCESS_TOKEN"),He=new URLSearchParams;He.append("liked_type",Be),_e&&He.append("search",_e);const qe=await userInstance.get(`/api/users/console/likes?${He.toString()}`,{headers:{Authorization:`Bearer ${Ue}`}});console.log(" API :",qe.data);const Qe=Array.isArray(qe.data)?qe.data.map(lt=>{var ct,ot,pt,yt,it,Ke,Je,We,Ze;return{id:lt.id,userId:lt.user_id||((ct=lt.user)==null?void 0:ct.id),name:((ot=lt.user)==null?void 0:ot.user_name)||"  ",category:((pt=lt.gallery)==null?void 0:pt.gallery_name)||((yt=lt.exhibition)==null?void 0:yt.exhibition_title)||((it=lt.art)==null?void 0:it.art_title)||" ",date:lt.create_dtm?new Date(lt.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Ke=lt.user)==null?void 0:Ke.user_name)||"  ",galleryName:((Je=lt.gallery)==null?void 0:Je.gallery_name)||"  ",exhibitionName:((We=lt.exhibition)==null?void 0:We.exhibition_title)||"  ",artworkName:((Ze=lt.art)==null?void 0:Ze.art_title)||"  ",type:Be}}):[];console.log("  :",Qe),y(Qe)}catch(Ue){B(Ue.message),console.error("   :",Ue),console.error(" :",(xe=Ue.response)==null?void 0:xe.data),console.error(" :",(Le=Ue.response)==null?void 0:Le.status),y([])}finally{R(!1)}},te=[...x].sort((Be,_e)=>{const xe=new Date(Be.date.replace(/\./g,"-"));return new Date(_e.date.replace(/\./g,"-"))-xe}),ae=async Be=>{if(K(Be),Be==="all")try{R(!0);const _e=localStorage.getItem("ACCESS_TOKEN"),[xe,Le,Ue]=await Promise.all([userInstance.get("/api/users/console/likes?liked_type=gallery",{headers:{Authorization:`Bearer ${_e}`}}),userInstance.get("/api/users/console/likes?liked_type=exhibition",{headers:{Authorization:`Bearer ${_e}`}}),userInstance.get("/api/users/console/likes?liked_type=art",{headers:{Authorization:`Bearer ${_e}`}})]),He=[...Array.isArray(xe.data)?xe.data.map(qe=>{var Qe,lt,ct,ot,pt;return{id:qe.id,userId:qe.user_id||((Qe=qe.user)==null?void 0:Qe.id),name:((lt=qe.user)==null?void 0:lt.user_name)||"  ",category:((ct=qe.gallery)==null?void 0:ct.gallery_name)||" ",date:qe.create_dtm?new Date(qe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ot=qe.user)==null?void 0:ot.user_name)||"  ",galleryName:((pt=qe.gallery)==null?void 0:pt.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(Le.data)?Le.data.map(qe=>{var Qe,lt,ct,ot,pt;return{id:qe.id,userId:qe.user_id||((Qe=qe.user)==null?void 0:Qe.id),name:((lt=qe.user)==null?void 0:lt.user_name)||"  ",category:((ct=qe.exhibition)==null?void 0:ct.exhibition_title)||" ",date:qe.create_dtm?new Date(qe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ot=qe.user)==null?void 0:ot.user_name)||"  ",galleryName:"  ",exhibitionName:((pt=qe.exhibition)==null?void 0:pt.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(Ue.data)?Ue.data.map(qe=>{var Qe,lt,ct,ot,pt;return{id:qe.id,userId:qe.user_id||((Qe=qe.user)==null?void 0:Qe.id),name:((lt=qe.user)==null?void 0:lt.user_name)||"  ",category:((ct=qe.art)==null?void 0:ct.art_title)||" ",date:qe.create_dtm?new Date(qe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ot=qe.user)==null?void 0:ot.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((pt=qe.art)==null?void 0:pt.art_title)||"  ",type:"art"}}):[]];y(He)}catch(_e){B(_e.message),console.error("    :",_e),y([])}finally{R(!1)}else await J(Be)},ue=async Be=>{if(A(!0),U==="all")try{R(!0);const _e=localStorage.getItem("ACCESS_TOKEN"),xe=new URLSearchParams;xe.append("liked_type","gallery"),xe.append("search",Be);const Le=new URLSearchParams;Le.append("liked_type","exhibition"),Le.append("search",Be);const Ue=new URLSearchParams;Ue.append("liked_type","art"),Ue.append("search",Be);const[He,qe,Qe]=await Promise.all([userInstance.get(`/api/users/console/likes?${xe.toString()}`,{headers:{Authorization:`Bearer ${_e}`}}),userInstance.get(`/api/users/console/likes?${Le.toString()}`,{headers:{Authorization:`Bearer ${_e}`}}),userInstance.get(`/api/users/console/likes?${Ue.toString()}`,{headers:{Authorization:`Bearer ${_e}`}})]),lt=[...Array.isArray(He.data)?He.data.map(ct=>{var ot,pt,yt,it,Ke;return{id:ct.id,userId:ct.user_id||((ot=ct.user)==null?void 0:ot.id),name:((pt=ct.user)==null?void 0:pt.user_name)||"  ",category:((yt=ct.gallery)==null?void 0:yt.gallery_name)||" ",date:ct.create_dtm?new Date(ct.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((it=ct.user)==null?void 0:it.user_name)||"  ",galleryName:((Ke=ct.gallery)==null?void 0:Ke.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(qe.data)?qe.data.map(ct=>{var ot,pt,yt,it,Ke;return{id:ct.id,userId:ct.user_id||((ot=ct.user)==null?void 0:ot.id),name:((pt=ct.user)==null?void 0:pt.user_name)||"  ",category:((yt=ct.exhibition)==null?void 0:yt.exhibition_title)||" ",date:ct.create_dtm?new Date(ct.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((it=ct.user)==null?void 0:it.user_name)||"  ",galleryName:"  ",exhibitionName:((Ke=ct.exhibition)==null?void 0:Ke.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(Qe.data)?Qe.data.map(ct=>{var ot,pt,yt,it,Ke;return{id:ct.id,userId:ct.user_id||((ot=ct.user)==null?void 0:ot.id),name:((pt=ct.user)==null?void 0:pt.user_name)||"  ",category:((yt=ct.art)==null?void 0:yt.art_title)||" ",date:ct.create_dtm?new Date(ct.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((it=ct.user)==null?void 0:it.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Ke=ct.art)==null?void 0:Ke.art_title)||"  ",type:"art"}}):[]];y(lt)}catch(_e){B(_e.message),console.error(" :",_e),y([])}finally{R(!1),A(!1)}else try{R(!0),await J(U,Be)}finally{A(!1)}},{searchValue:pe,handleSearchChange:$e,clearSearch:Ne}=useDebounceSearch({onSearch:ue,onEmptySearch:()=>ae(U),onClearSearch:async()=>{U==="all"?await ae("all"):await J(U,"")},minLength:2,delay:500});return reactExports$1.useEffect(()=>{ae("all")},[]),{interestedUserList:te,setInterestedUserList:y,searchQuery:pe,isLoading:b,isSearching:T,error:O,activeTab:U,loadInterestedUsers:J,handleSearchChange:$e,clearSearch:Ne,handleTabChange:ae}}const contentContainer$1="_contentContainer_o0m53_3",emptyStateContainer="_emptyStateContainer_o0m53_31",searchContainer="_searchContainer_o0m53_67",countAndButtonContainer="_countAndButtonContainer_o0m53_77",errorMessage="_errorMessage_o0m53_117",styles$t={contentContainer:contentContainer$1,emptyStateContainer,searchContainer,countAndButtonContainer,errorMessage};function InterestedUserManagement(){const[r,x]=reactExports$1.useState(!1),[y,b]=reactExports$1.useState(!1),[R,T]=reactExports$1.useState(null),{selectedUserList:A,handleUserSelect:O,handleSelectAll:B,clearSelection:U,isAllSelected:K}=useUserSelection(),{interestedUserList:J,searchQuery:te,isLoading:ae,isSearching:ue,error:pe,activeTab:$e,handleSearchChange:Ne,handleTabChange:Be}=useInterestedUser(),_e=async(xe,Le)=>{var Ue,He;if(!(!A||A.length===0))try{b(!0),T(null);const qe=localStorage.getItem("ACCESS_TOKEN"),Qe=A.map(ct=>{const ot=J.find(pt=>String(pt.id)===String(ct));return(ot==null?void 0:ot.userId)??null}).filter(ct=>ct!=null);if(console.log("selectedUserList:",A),console.log(" userIds:",Qe),Qe.length===0){alert("  ID   .");return}const lt=await userInstance.post("/api/notification/send",{userIds:Qe,title:xe,message:Le},{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}});console.log("  :",lt.data),alert(`${Qe.length}    .`),x(!1),U()}catch(qe){console.error("  :",qe);const Qe=((He=(Ue=qe==null?void 0:qe.response)==null?void 0:Ue.data)==null?void 0:He.message)||qe.message||"    .";T(Qe),alert(`  .
${Qe}`)}finally{b(!1)}};return ae||ue?jsxRuntimeExports.jsx("div",{className:styles$t.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):pe?jsxRuntimeExports.jsx("div",{className:styles$t.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:[" : ",pe]})}):J.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$t.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:te,onChange:Ne,placeholder:", , ,  ",isInput:!0}),jsxRuntimeExports.jsxs("div",{className:styles$t.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:J.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:" ",onButtonClick:()=>x(!0),disabled:A.length===0||y})]}),R&&jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:["    : ",R]}),jsxRuntimeExports.jsx(Table,{interestedUserList:J,selectedUserList:A,onUserSelect:O,onSelectAll:B,isAllSelected:K,activeTab:$e,onTabChange:Be})]}),jsxRuntimeExports.jsx(AlarmModal,{isOpen:r,onClose:()=>x(!1),selectedUsersCount:A.length,onSendAlarm:_e,isSending:y})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$t.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:te,onChange:Ne,placeholder:", , ,  ",isInput:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$t.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:0}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:" ",onButtonClick:()=>alert(" ")})]}),jsxRuntimeExports.jsx("section",{className:styles$t.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:" .",buttonText:" "})}),jsxRuntimeExports.jsx(AlarmModal,{isOpen:r,onClose:()=>x(!1),selectedUsersCount:A.length,onSendAlarm:_e,isSending:y})]})}function useDeleteItem(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,R]=reactExports$1.useState([]),[T,A]=reactExports$1.useState([]),[O,B]=reactExports$1.useState([]),[U,K]=reactExports$1.useState(!1),[J,te]=reactExports$1.useState(!1),[ae,ue]=reactExports$1.useState(null),pe=reactExports$1.useCallback(async(xe="")=>{var Le,Ue,He;try{K(!0),xe.trim()&&te(!0);const qe=new URLSearchParams;xe&&qe.append("search",xe),r!=null&&r.id&&qe.append("userId",r.id);const Qe=`/api/galleries${qe.toString()?`?${qe.toString()}`:""}`,lt=await userInstance.get(Qe),ct=Array.isArray(lt.data)?lt.data.map(ot=>({id:ot.id,name:ot.gallery_name,address:ot.gallery_address,closedDay:ot.gallery_closed_day,time:`${ot.gallery_start_time} - ${ot.gallery_end_time}`,registered:ot.exhibitions?ot.exhibitions.length:0,liked:ot.like_count,image:ot.gallery_image})):[];y(ct)}catch(qe){ue(qe.message),console.error("   :",qe),console.error(" :",(Le=qe.response)==null?void 0:Le.data),console.error(" :",(Ue=qe.response)==null?void 0:Ue.status),console.error(" :",(He=qe.response)==null?void 0:He.headers),y([])}finally{K(!1),te(!1)}},[r]),$e=reactExports$1.useCallback(async(xe="")=>{try{K(!0);const Le=new URLSearchParams;xe&&xe!==" "&&Le.append("gallery_id",xe);const Ue=`/api/exhibitions${Le.toString()?`?${Le.toString()}`:""}`,He=await userInstance.get(Ue),qe=Array.isArray(He.data)?He.data.map(Qe=>{var lt,ct;return{id:Qe.id,title:Qe.exhibition_title,period:`${Qe.exhibition_start_date} - ${Qe.exhibition_end_date}`,image:Qe.exhibition_poster||null,gallery_name:((lt=Qe.exhibition_organization)==null?void 0:lt.name)||"  ",gallery_id:Qe.gallery_id||null,value:((ct=Qe.exhibition_organization)==null?void 0:ct.name)||"  "}}):[];R(qe)}catch(Le){ue(Le.message),console.error("   :",Le),R([])}finally{K(!1)}},[]),Ne=reactExports$1.useCallback(async(xe="")=>{try{K(!0);const Le=new URLSearchParams;xe&&xe!==" "&&Le.append("gallery_id",xe);const Ue=`/api/arts${Le.toString()?`?${Le.toString()}`:""}`,He=await userInstance.get(Ue),qe=Array.isArray(He.data)?He.data.map(Qe=>{var pt,yt,it;const lt=Qe.exhibitions&&Qe.exhibitions.length>0?Qe.exhibitions[0]:null,ct=((pt=lt==null?void 0:lt.gallery)==null?void 0:pt.gallery_name)||"  ",ot=(lt==null?void 0:lt.gallery_id)||((yt=lt==null?void 0:lt.gallery)==null?void 0:yt.id)||null;return{id:Qe.id,title:Qe.art_title,artist:((it=Qe.artist)==null?void 0:it.artist_name)||"  ",image:Qe.art_image||null,gallery_name:ct,gallery_id:ot,value:ct}}):[];A(qe)}catch(Le){ue(Le.message),console.error("   :",Le),A([])}finally{K(!1)}},[]);reactExports$1.useEffect(()=>{r!=null&&r.id&&pe()},[r==null?void 0:r.id,pe]),reactExports$1.useEffect(()=>{r!=null&&r.id&&Be()},[r==null?void 0:r.id]);const Be=reactExports$1.useCallback(async(xe="")=>{if(!(r!=null&&r.id)){B([]);return}try{K(!0),xe.trim()&&te(!0);const Le=await userInstance.get("/api/leaflet",{params:{creator_user_id:r.id}});let Ue=Array.isArray(Le.data)?Le.data:[];if(xe.trim()){const He=xe.toLowerCase();Ue=Ue.filter(qe=>{var Qe,lt;return((Qe=qe.title)==null?void 0:Qe.toLowerCase().includes(He))||((lt=qe.category)==null?void 0:lt.toLowerCase().includes(He))})}B(Ue)}catch(Le){ue(Le.message),console.error("   :",Le),B([])}finally{K(!1),te(!1)}},[r==null?void 0:r.id]);return{galleryList:x,exhibitionList:b,artworkList:T,leafletList:O,handleDelete:async(xe,Le)=>{try{Le==="gallery"?(await userInstance.delete(`/api/galleries/${xe}`),y(Ue=>Ue.filter(He=>He.id!==xe))):Le==="exhibition"?(await userInstance.delete(`/api/exhibitions/${xe}`),R(Ue=>Ue.filter(He=>He.id!==xe))):Le==="artwork"?(await userInstance.delete(`/api/arts/${xe}`),A(Ue=>Ue.filter(He=>He.id!==xe))):Le==="leaflet"&&(await userInstance.delete(`/api/leaflet/${xe}`),B(Ue=>Ue.filter(He=>He.id!==xe)),alert(" ."))}catch(Ue){ue(Ue.message),console.error(" :",Ue),alert(" .  .")}},loadGalleries:pe,loadExhibitions:$e,loadArtworks:Ne,loadLeaflets:Be,isLoading:U,isSearching:J,error:ae}}const layout$c="_layout_1pq3h_3",tabSection="_tabSection_1pq3h_19",content$2="_content_1pq3h_39",styles$s={layout:layout$c,tabSection,content:content$2};function ConsoleMain({defaultTab:r="",defaultGallery:x=" "}){const y=useLocation(),[b,R]=reactExports$1.useState(r),[T,A]=reactExports$1.useState(x);reactExports$1.useEffect(()=>{var _e;(_e=y.state)!=null&&_e.activeTab&&R(y.state.activeTab)},[y.state]);const O=_e=>{R(_e),A(" ")},B=["","","",""],{galleryList:U,exhibitionList:K,artworkList:J,handleDelete:te,loadGalleries:ae,loadExhibitions:ue,loadArtworks:pe,isLoading:$e,isSearching:Ne,error:Be}=useDeleteItem();return jsxRuntimeExports.jsxs("div",{className:styles$s.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$s.tabSection,children:jsxRuntimeExports.jsx(ActionBar,{tabList:B,activeTab:b,onTabChange:O})}),jsxRuntimeExports.jsxs("div",{className:styles$s.content,children:[b===""&&jsxRuntimeExports.jsx(GalleryManagement,{galleryList:U,onDelete:te,loadGalleries:ae,isLoading:$e,isSearching:Ne,error:Be}),b===""&&jsxRuntimeExports.jsx(ExhibitionManagement,{exhibitionList:K,selectedGallery:T,onGalleryChange:A,onDelete:te,loadExhibitions:ue,isLoading:$e,error:Be,galleryList:U}),b===""&&jsxRuntimeExports.jsx(ArtworkManagement,{artworkList:J,selectedGallery:T,onGalleryChange:A,onDelete:te,loadArtworks:pe,isLoading:$e,error:Be,galleryList:U}),b===""&&jsxRuntimeExports.jsx(InterestedUserManagement,{})]})]})}function LayoutConsole(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{})]})}const layout$b="_layout_gwo49_1",header$4="_header_gwo49_9",title$9="_title_gwo49_35",backButton$5="_backButton_gwo49_45",content$1="_content_gwo49_63",adminTabNav="_adminTabNav_gwo49_77",adminTabButton="_adminTabButton_gwo49_103",addButton="_addButton_gwo49_193",styles$r={layout:layout$b,header:header$4,title:title$9,backButton:backButton$5,content:content$1,adminTabNav,adminTabButton,addButton};var lib={},ErrorCorrectLevel,hasRequiredErrorCorrectLevel;function requireErrorCorrectLevel(){return hasRequiredErrorCorrectLevel||(hasRequiredErrorCorrectLevel=1,ErrorCorrectLevel={L:1,M:0,Q:3,H:2}),ErrorCorrectLevel}var mode,hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,mode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),mode}var _8BitByte,hasRequired_8BitByte;function require_8BitByte(){if(hasRequired_8BitByte)return _8BitByte;hasRequired_8BitByte=1;var r=requireMode();function x(y){this.mode=r.MODE_8BIT_BYTE,this.data=y}return x.prototype={getLength:function(y){return this.data.length},write:function(y){for(var b=0;b<this.data.length;b++)y.put(this.data.charCodeAt(b),8)}},_8BitByte=x,_8BitByte}var RSBlock,hasRequiredRSBlock;function requireRSBlock(){if(hasRequiredRSBlock)return RSBlock;hasRequiredRSBlock=1;var r=requireErrorCorrectLevel();function x(y,b){this.totalCount=y,this.dataCount=b}return x.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],x.getRSBlocks=function(y,b){var R=x.getRsBlockTable(y,b);if(R==null)throw new Error("bad rs block @ typeNumber:"+y+"/errorCorrectLevel:"+b);for(var T=R.length/3,A=new Array,O=0;O<T;O++)for(var B=R[O*3+0],U=R[O*3+1],K=R[O*3+2],J=0;J<B;J++)A.push(new x(U,K));return A},x.getRsBlockTable=function(y,b){switch(b){case r.L:return x.RS_BLOCK_TABLE[(y-1)*4+0];case r.M:return x.RS_BLOCK_TABLE[(y-1)*4+1];case r.Q:return x.RS_BLOCK_TABLE[(y-1)*4+2];case r.H:return x.RS_BLOCK_TABLE[(y-1)*4+3];default:return}},RSBlock=x,RSBlock}var BitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return BitBuffer;hasRequiredBitBuffer=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(x){var y=Math.floor(x/8);return(this.buffer[y]>>>7-x%8&1)==1},put:function(x,y){for(var b=0;b<y;b++)this.putBit((x>>>y-b-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(x){var y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),x&&(this.buffer[y]|=128>>>this.length%8),this.length++}},BitBuffer=r,BitBuffer}var math,hasRequiredMath;function requireMath(){if(hasRequiredMath)return math;hasRequiredMath=1;for(var r={glog:function(y){if(y<1)throw new Error("glog("+y+")");return r.LOG_TABLE[y]},gexp:function(y){for(;y<0;)y+=255;for(;y>=256;)y-=255;return r.EXP_TABLE[y]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},x=0;x<8;x++)r.EXP_TABLE[x]=1<<x;for(var x=8;x<256;x++)r.EXP_TABLE[x]=r.EXP_TABLE[x-4]^r.EXP_TABLE[x-5]^r.EXP_TABLE[x-6]^r.EXP_TABLE[x-8];for(var x=0;x<255;x++)r.LOG_TABLE[r.EXP_TABLE[x]]=x;return math=r,math}var Polynomial,hasRequiredPolynomial;function requirePolynomial(){if(hasRequiredPolynomial)return Polynomial;hasRequiredPolynomial=1;var r=requireMath();function x(y,b){if(y.length==null)throw new Error(y.length+"/"+b);for(var R=0;R<y.length&&y[R]==0;)R++;this.num=new Array(y.length-R+b);for(var T=0;T<y.length-R;T++)this.num[T]=y[T+R]}return x.prototype={get:function(y){return this.num[y]},getLength:function(){return this.num.length},multiply:function(y){for(var b=new Array(this.getLength()+y.getLength()-1),R=0;R<this.getLength();R++)for(var T=0;T<y.getLength();T++)b[R+T]^=r.gexp(r.glog(this.get(R))+r.glog(y.get(T)));return new x(b,0)},mod:function(y){if(this.getLength()-y.getLength()<0)return this;for(var b=r.glog(this.get(0))-r.glog(y.get(0)),R=new Array(this.getLength()),T=0;T<this.getLength();T++)R[T]=this.get(T);for(var T=0;T<y.getLength();T++)R[T]^=r.gexp(r.glog(y.get(T))+b);return new x(R,0).mod(y)}},Polynomial=x,Polynomial}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var r=requireMode(),x=requirePolynomial(),y=requireMath(),b={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},R={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(T){for(var A=T<<10;R.getBCHDigit(A)-R.getBCHDigit(R.G15)>=0;)A^=R.G15<<R.getBCHDigit(A)-R.getBCHDigit(R.G15);return(T<<10|A)^R.G15_MASK},getBCHTypeNumber:function(T){for(var A=T<<12;R.getBCHDigit(A)-R.getBCHDigit(R.G18)>=0;)A^=R.G18<<R.getBCHDigit(A)-R.getBCHDigit(R.G18);return T<<12|A},getBCHDigit:function(T){for(var A=0;T!=0;)A++,T>>>=1;return A},getPatternPosition:function(T){return R.PATTERN_POSITION_TABLE[T-1]},getMask:function(T,A,O){switch(T){case b.PATTERN000:return(A+O)%2==0;case b.PATTERN001:return A%2==0;case b.PATTERN010:return O%3==0;case b.PATTERN011:return(A+O)%3==0;case b.PATTERN100:return(Math.floor(A/2)+Math.floor(O/3))%2==0;case b.PATTERN101:return A*O%2+A*O%3==0;case b.PATTERN110:return(A*O%2+A*O%3)%2==0;case b.PATTERN111:return(A*O%3+(A+O)%2)%2==0;default:throw new Error("bad maskPattern:"+T)}},getErrorCorrectPolynomial:function(T){for(var A=new x([1],0),O=0;O<T;O++)A=A.multiply(new x([1,y.gexp(O)],0));return A},getLengthInBits:function(T,A){if(1<=A&&A<10)switch(T){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+T)}else if(A<27)switch(T){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+T)}else if(A<41)switch(T){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+T)}else throw new Error("type:"+A)},getLostPoint:function(T){for(var A=T.getModuleCount(),O=0,B=0;B<A;B++)for(var U=0;U<A;U++){for(var K=0,J=T.isDark(B,U),te=-1;te<=1;te++)if(!(B+te<0||A<=B+te))for(var ae=-1;ae<=1;ae++)U+ae<0||A<=U+ae||te==0&&ae==0||J==T.isDark(B+te,U+ae)&&K++;K>5&&(O+=3+K-5)}for(var B=0;B<A-1;B++)for(var U=0;U<A-1;U++){var ue=0;T.isDark(B,U)&&ue++,T.isDark(B+1,U)&&ue++,T.isDark(B,U+1)&&ue++,T.isDark(B+1,U+1)&&ue++,(ue==0||ue==4)&&(O+=3)}for(var B=0;B<A;B++)for(var U=0;U<A-6;U++)T.isDark(B,U)&&!T.isDark(B,U+1)&&T.isDark(B,U+2)&&T.isDark(B,U+3)&&T.isDark(B,U+4)&&!T.isDark(B,U+5)&&T.isDark(B,U+6)&&(O+=40);for(var U=0;U<A;U++)for(var B=0;B<A-6;B++)T.isDark(B,U)&&!T.isDark(B+1,U)&&T.isDark(B+2,U)&&T.isDark(B+3,U)&&T.isDark(B+4,U)&&!T.isDark(B+5,U)&&T.isDark(B+6,U)&&(O+=40);for(var pe=0,U=0;U<A;U++)for(var B=0;B<A;B++)T.isDark(B,U)&&pe++;var $e=Math.abs(100*pe/A/A-50)/5;return O+=$e*10,O}};return util=R,util}var QRCode_1,hasRequiredQRCode;function requireQRCode(){if(hasRequiredQRCode)return QRCode_1;hasRequiredQRCode=1;var r=require_8BitByte(),x=requireRSBlock(),y=requireBitBuffer(),b=requireUtil(),R=requirePolynomial();function T(O,B){this.typeNumber=O,this.errorCorrectLevel=B,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var A=T.prototype;return A.addData=function(O){var B=new r(O);this.dataList.push(B),this.dataCache=null},A.isDark=function(O,B){if(O<0||this.moduleCount<=O||B<0||this.moduleCount<=B)throw new Error(O+","+B);return this.modules[O][B]},A.getModuleCount=function(){return this.moduleCount},A.make=function(){if(this.typeNumber<1){var O=1;for(O=1;O<40;O++){for(var B=x.getRSBlocks(O,this.errorCorrectLevel),U=new y,K=0,J=0;J<B.length;J++)K+=B[J].dataCount;for(var J=0;J<this.dataList.length;J++){var te=this.dataList[J];U.put(te.mode,4),U.put(te.getLength(),b.getLengthInBits(te.mode,O)),te.write(U)}if(U.getLengthInBits()<=K*8)break}this.typeNumber=O}this.makeImpl(!1,this.getBestMaskPattern())},A.makeImpl=function(O,B){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var U=0;U<this.moduleCount;U++){this.modules[U]=new Array(this.moduleCount);for(var K=0;K<this.moduleCount;K++)this.modules[U][K]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(O,B),this.typeNumber>=7&&this.setupTypeNumber(O),this.dataCache==null&&(this.dataCache=T.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,B)},A.setupPositionProbePattern=function(O,B){for(var U=-1;U<=7;U++)if(!(O+U<=-1||this.moduleCount<=O+U))for(var K=-1;K<=7;K++)B+K<=-1||this.moduleCount<=B+K||(0<=U&&U<=6&&(K==0||K==6)||0<=K&&K<=6&&(U==0||U==6)||2<=U&&U<=4&&2<=K&&K<=4?this.modules[O+U][B+K]=!0:this.modules[O+U][B+K]=!1)},A.getBestMaskPattern=function(){for(var O=0,B=0,U=0;U<8;U++){this.makeImpl(!0,U);var K=b.getLostPoint(this);(U==0||O>K)&&(O=K,B=U)}return B},A.createMovieClip=function(O,B,U){var K=O.createEmptyMovieClip(B,U),J=1;this.make();for(var te=0;te<this.modules.length;te++)for(var ae=te*J,ue=0;ue<this.modules[te].length;ue++){var pe=ue*J,$e=this.modules[te][ue];$e&&(K.beginFill(0,100),K.moveTo(pe,ae),K.lineTo(pe+J,ae),K.lineTo(pe+J,ae+J),K.lineTo(pe,ae+J),K.endFill())}return K},A.setupTimingPattern=function(){for(var O=8;O<this.moduleCount-8;O++)this.modules[O][6]==null&&(this.modules[O][6]=O%2==0);for(var B=8;B<this.moduleCount-8;B++)this.modules[6][B]==null&&(this.modules[6][B]=B%2==0)},A.setupPositionAdjustPattern=function(){for(var O=b.getPatternPosition(this.typeNumber),B=0;B<O.length;B++)for(var U=0;U<O.length;U++){var K=O[B],J=O[U];if(this.modules[K][J]==null)for(var te=-2;te<=2;te++)for(var ae=-2;ae<=2;ae++)te==-2||te==2||ae==-2||ae==2||te==0&&ae==0?this.modules[K+te][J+ae]=!0:this.modules[K+te][J+ae]=!1}},A.setupTypeNumber=function(O){for(var B=b.getBCHTypeNumber(this.typeNumber),U=0;U<18;U++){var K=!O&&(B>>U&1)==1;this.modules[Math.floor(U/3)][U%3+this.moduleCount-8-3]=K}for(var U=0;U<18;U++){var K=!O&&(B>>U&1)==1;this.modules[U%3+this.moduleCount-8-3][Math.floor(U/3)]=K}},A.setupTypeInfo=function(O,B){for(var U=this.errorCorrectLevel<<3|B,K=b.getBCHTypeInfo(U),J=0;J<15;J++){var te=!O&&(K>>J&1)==1;J<6?this.modules[J][8]=te:J<8?this.modules[J+1][8]=te:this.modules[this.moduleCount-15+J][8]=te}for(var J=0;J<15;J++){var te=!O&&(K>>J&1)==1;J<8?this.modules[8][this.moduleCount-J-1]=te:J<9?this.modules[8][15-J-1+1]=te:this.modules[8][15-J-1]=te}this.modules[this.moduleCount-8][8]=!O},A.mapData=function(O,B){for(var U=-1,K=this.moduleCount-1,J=7,te=0,ae=this.moduleCount-1;ae>0;ae-=2)for(ae==6&&ae--;;){for(var ue=0;ue<2;ue++)if(this.modules[K][ae-ue]==null){var pe=!1;te<O.length&&(pe=(O[te]>>>J&1)==1);var $e=b.getMask(B,K,ae-ue);$e&&(pe=!pe),this.modules[K][ae-ue]=pe,J--,J==-1&&(te++,J=7)}if(K+=U,K<0||this.moduleCount<=K){K-=U,U=-U;break}}},T.PAD0=236,T.PAD1=17,T.createData=function(O,B,U){for(var K=x.getRSBlocks(O,B),J=new y,te=0;te<U.length;te++){var ae=U[te];J.put(ae.mode,4),J.put(ae.getLength(),b.getLengthInBits(ae.mode,O)),ae.write(J)}for(var ue=0,te=0;te<K.length;te++)ue+=K[te].dataCount;if(J.getLengthInBits()>ue*8)throw new Error("code length overflow. ("+J.getLengthInBits()+">"+ue*8+")");for(J.getLengthInBits()+4<=ue*8&&J.put(0,4);J.getLengthInBits()%8!=0;)J.putBit(!1);for(;!(J.getLengthInBits()>=ue*8||(J.put(T.PAD0,8),J.getLengthInBits()>=ue*8));)J.put(T.PAD1,8);return T.createBytes(J,K)},T.createBytes=function(O,B){for(var U=0,K=0,J=0,te=new Array(B.length),ae=new Array(B.length),ue=0;ue<B.length;ue++){var pe=B[ue].dataCount,$e=B[ue].totalCount-pe;K=Math.max(K,pe),J=Math.max(J,$e),te[ue]=new Array(pe);for(var Ne=0;Ne<te[ue].length;Ne++)te[ue][Ne]=255&O.buffer[Ne+U];U+=pe;var Be=b.getErrorCorrectPolynomial($e),_e=new R(te[ue],Be.getLength()-1),xe=_e.mod(Be);ae[ue]=new Array(Be.getLength()-1);for(var Ne=0;Ne<ae[ue].length;Ne++){var Le=Ne+xe.getLength()-ae[ue].length;ae[ue][Ne]=Le>=0?xe.get(Le):0}}for(var Ue=0,Ne=0;Ne<B.length;Ne++)Ue+=B[Ne].totalCount;for(var He=new Array(Ue),qe=0,Ne=0;Ne<K;Ne++)for(var ue=0;ue<B.length;ue++)Ne<te[ue].length&&(He[qe++]=te[ue][Ne]);for(var Ne=0;Ne<J;Ne++)for(var ue=0;ue<B.length;ue++)Ne<ae[ue].length&&(He[qe++]=ae[ue][Ne]);return He},QRCode_1=T,QRCode_1}var QRCodeSvg={},hasRequiredQRCodeSvg;function requireQRCodeSvg(){if(hasRequiredQRCodeSvg)return QRCodeSvg;hasRequiredQRCodeSvg=1,Object.defineProperty(QRCodeSvg,"__esModule",{value:!0});var r=Object.assign||function(U){for(var K=1;K<arguments.length;K++){var J=arguments[K];for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(U[te]=J[te])}return U},x=requirePropTypes(),y=T(x),b=requireReact$1(),R=T(b);function T(U){return U&&U.__esModule?U:{default:U}}function A(U,K){var J={};for(var te in U)K.indexOf(te)>=0||Object.prototype.hasOwnProperty.call(U,te)&&(J[te]=U[te]);return J}var O={bgColor:y.default.oneOfType([y.default.object,y.default.string]).isRequired,bgD:y.default.string.isRequired,fgColor:y.default.oneOfType([y.default.object,y.default.string]).isRequired,fgD:y.default.string.isRequired,size:y.default.number.isRequired,title:y.default.string,viewBoxSize:y.default.number.isRequired,xmlns:y.default.string},B=(0,b.forwardRef)(function(U,K){var J=U.bgColor,te=U.bgD,ae=U.fgD,ue=U.fgColor,pe=U.size,$e=U.title,Ne=U.viewBoxSize,Be=U.xmlns,_e=Be===void 0?"http://www.w3.org/2000/svg":Be,xe=A(U,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return R.default.createElement("svg",r({},xe,{height:pe,ref:K,viewBox:"0 0 "+Ne+" "+Ne,width:pe,xmlns:_e}),$e?R.default.createElement("title",null,$e):null,R.default.createElement("path",{d:te,fill:J}),R.default.createElement("path",{d:ae,fill:ue}))});return B.displayName="QRCodeSvg",B.propTypes=O,QRCodeSvg.default=B,QRCodeSvg}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.QRCode=void 0;var r=Object.assign||function(pe){for(var $e=1;$e<arguments.length;$e++){var Ne=arguments[$e];for(var Be in Ne)Object.prototype.hasOwnProperty.call(Ne,Be)&&(pe[Be]=Ne[Be])}return pe},x=requirePropTypes(),y=J(x),b=requireErrorCorrectLevel(),R=J(b),T=requireQRCode(),A=J(T),O=requireReact$1(),B=J(O),U=requireQRCodeSvg(),K=J(U);function J(pe){return pe&&pe.__esModule?pe:{default:pe}}function te(pe,$e){var Ne={};for(var Be in pe)$e.indexOf(Be)>=0||Object.prototype.hasOwnProperty.call(pe,Be)&&(Ne[Be]=pe[Be]);return Ne}var ae={bgColor:y.default.oneOfType([y.default.object,y.default.string]),fgColor:y.default.oneOfType([y.default.object,y.default.string]),level:y.default.string,size:y.default.number,value:y.default.string.isRequired},ue=(0,O.forwardRef)(function(pe,$e){var Ne=pe.bgColor,Be=Ne===void 0?"#FFFFFF":Ne,_e=pe.fgColor,xe=_e===void 0?"#000000":_e,Le=pe.level,Ue=Le===void 0?"L":Le,He=pe.size,qe=He===void 0?256:He,Qe=pe.value,lt=te(pe,["bgColor","fgColor","level","size","value"]),ct=new A.default(-1,R.default[Ue]);ct.addData(Qe),ct.make();var ot=ct.modules;return B.default.createElement(K.default,r({},lt,{bgColor:Be,bgD:ot.map(function(pt,yt){return pt.map(function(it,Ke){return it?"":"M "+Ke+" "+yt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:xe,fgD:ot.map(function(pt,yt){return pt.map(function(it,Ke){return it?"M "+Ke+" "+yt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:$e,size:qe,viewBoxSize:ot.length}))});return lib.QRCode=ue,ue.displayName="QRCode",ue.propTypes=ae,lib.default=ue,lib}var libExports=requireLib();const QRCode=getDefaultExportFromCjs(libExports);function resolveUrl(r,x){if(r.match(/^[a-z]+:\/\//i))return r;if(r.match(/^\/\//))return window.location.protocol+r;if(r.match(/^[a-z]+:/i))return r;const y=document.implementation.createHTMLDocument(),b=y.createElement("base"),R=y.createElement("a");return y.head.appendChild(b),y.body.appendChild(R),x&&(b.href=x),R.href=r,R.href}const uuid=(()=>{let r=0;const x=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(r+=1,`u${x()}${r}`)})();function toArray(r){const x=[];for(let y=0,b=r.length;y<b;y++)x.push(r[y]);return x}let styleProps=null;function getStyleProperties(r={}){return styleProps||(r.includeStyleProperties?(styleProps=r.includeStyleProperties,styleProps):(styleProps=toArray(window.getComputedStyle(document.documentElement)),styleProps))}function px(r,x){const b=(r.ownerDocument.defaultView||window).getComputedStyle(r).getPropertyValue(x);return b?parseFloat(b.replace("px","")):0}function getNodeWidth(r){const x=px(r,"border-left-width"),y=px(r,"border-right-width");return r.clientWidth+x+y}function getNodeHeight(r){const x=px(r,"border-top-width"),y=px(r,"border-bottom-width");return r.clientHeight+x+y}function getImageSize(r,x={}){const y=x.width||getNodeWidth(r),b=x.height||getNodeHeight(r);return{width:y,height:b}}function getPixelRatio(){let r,x;try{x=process}catch{}const y=x&&x.env?x.env.devicePixelRatio:null;return y&&(r=parseInt(y,10),Number.isNaN(r)&&(r=1)),r||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(r){(r.width>canvasDimensionLimit||r.height>canvasDimensionLimit)&&(r.width>canvasDimensionLimit&&r.height>canvasDimensionLimit?r.width>r.height?(r.height*=canvasDimensionLimit/r.width,r.width=canvasDimensionLimit):(r.width*=canvasDimensionLimit/r.height,r.height=canvasDimensionLimit):r.width>canvasDimensionLimit?(r.height*=canvasDimensionLimit/r.width,r.width=canvasDimensionLimit):(r.width*=canvasDimensionLimit/r.height,r.height=canvasDimensionLimit))}function createImage(r){return new Promise((x,y)=>{const b=new Image;b.onload=()=>{b.decode().then(()=>{requestAnimationFrame(()=>x(b))})},b.onerror=y,b.crossOrigin="anonymous",b.decoding="async",b.src=r})}async function svgToDataURL(r){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(r)).then(encodeURIComponent).then(x=>`data:image/svg+xml;charset=utf-8,${x}`)}async function nodeToDataURL(r,x,y){const b="http://www.w3.org/2000/svg",R=document.createElementNS(b,"svg"),T=document.createElementNS(b,"foreignObject");return R.setAttribute("width",`${x}`),R.setAttribute("height",`${y}`),R.setAttribute("viewBox",`0 0 ${x} ${y}`),T.setAttribute("width","100%"),T.setAttribute("height","100%"),T.setAttribute("x","0"),T.setAttribute("y","0"),T.setAttribute("externalResourcesRequired","true"),R.appendChild(T),T.appendChild(r),svgToDataURL(R)}const isInstanceOfElement=(r,x)=>{if(r instanceof x)return!0;const y=Object.getPrototypeOf(r);return y===null?!1:y.constructor.name===x.name||isInstanceOfElement(y,x)};function formatCSSText(r){const x=r.getPropertyValue("content");return`${r.cssText} content: '${x.replace(/'|"/g,"")}';`}function formatCSSProperties(r,x){return getStyleProperties(x).map(y=>{const b=r.getPropertyValue(y),R=r.getPropertyPriority(y);return`${y}: ${b}${R?" !important":""};`}).join(" ")}function getPseudoElementStyle(r,x,y,b){const R=`.${r}:${x}`,T=y.cssText?formatCSSText(y):formatCSSProperties(y,b);return document.createTextNode(`${R}{${T}}`)}function clonePseudoElement(r,x,y,b){const R=window.getComputedStyle(r,y),T=R.getPropertyValue("content");if(T===""||T==="none")return;const A=uuid();try{x.className=`${x.className} ${A}`}catch{return}const O=document.createElement("style");O.appendChild(getPseudoElementStyle(A,y,R,b)),x.appendChild(O)}function clonePseudoElements(r,x,y){clonePseudoElement(r,x,":before",y),clonePseudoElement(r,x,":after",y)}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(r){const x=/\.([^./]*?)$/g.exec(r);return x?x[1]:""}function getMimeType(r){const x=getExtension(r).toLowerCase();return mimes[x]||""}function getContentFromDataUrl(r){return r.split(/,/)[1]}function isDataUrl(r){return r.search(/^(data:)/)!==-1}function makeDataUrl(r,x){return`data:${x};base64,${r}`}async function fetchAsDataURL(r,x,y){const b=await fetch(r,x);if(b.status===404)throw new Error(`Resource "${b.url}" not found`);const R=await b.blob();return new Promise((T,A)=>{const O=new FileReader;O.onerror=A,O.onloadend=()=>{try{T(y({res:b,result:O.result}))}catch(B){A(B)}},O.readAsDataURL(R)})}const cache={};function getCacheKey(r,x,y){let b=r.replace(/\?.*/,"");return y&&(b=r),/ttf|otf|eot|woff2?/i.test(b)&&(b=b.replace(/.*\//,"")),x?`[${x}]${b}`:b}async function resourceToDataURL(r,x,y){const b=getCacheKey(r,x,y.includeQueryParams);if(cache[b]!=null)return cache[b];y.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());let R;try{const T=await fetchAsDataURL(r,y.fetchRequestInit,({res:A,result:O})=>(x||(x=A.headers.get("Content-Type")||""),getContentFromDataUrl(O)));R=makeDataUrl(T,x)}catch(T){R=y.imagePlaceholder||"";let A=`Failed to fetch resource: ${r}`;T&&(A=typeof T=="string"?T:T.message),A&&console.warn(A)}return cache[b]=R,R}async function cloneCanvasElement(r){const x=r.toDataURL();return x==="data:,"?r.cloneNode(!1):createImage(x)}async function cloneVideoElement(r,x){if(r.currentSrc){const T=document.createElement("canvas"),A=T.getContext("2d");T.width=r.clientWidth,T.height=r.clientHeight,A==null||A.drawImage(r,0,0,T.width,T.height);const O=T.toDataURL();return createImage(O)}const y=r.poster,b=getMimeType(y),R=await resourceToDataURL(y,b,x);return createImage(R)}async function cloneIFrameElement(r,x){var y;try{if(!((y=r==null?void 0:r.contentDocument)===null||y===void 0)&&y.body)return await cloneNode(r.contentDocument.body,x,!0)}catch{}return r.cloneNode(!1)}async function cloneSingleNode(r,x){return isInstanceOfElement(r,HTMLCanvasElement)?cloneCanvasElement(r):isInstanceOfElement(r,HTMLVideoElement)?cloneVideoElement(r,x):isInstanceOfElement(r,HTMLIFrameElement)?cloneIFrameElement(r,x):r.cloneNode(isSVGElement(r))}const isSlotElement=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SLOT",isSVGElement=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SVG";async function cloneChildren(r,x,y){var b,R;if(isSVGElement(x))return x;let T=[];return isSlotElement(r)&&r.assignedNodes?T=toArray(r.assignedNodes()):isInstanceOfElement(r,HTMLIFrameElement)&&(!((b=r.contentDocument)===null||b===void 0)&&b.body)?T=toArray(r.contentDocument.body.childNodes):T=toArray(((R=r.shadowRoot)!==null&&R!==void 0?R:r).childNodes),T.length===0||isInstanceOfElement(r,HTMLVideoElement)||await T.reduce((A,O)=>A.then(()=>cloneNode(O,y)).then(B=>{B&&x.appendChild(B)}),Promise.resolve()),x}function cloneCSSStyle(r,x,y){const b=x.style;if(!b)return;const R=window.getComputedStyle(r);R.cssText?(b.cssText=R.cssText,b.transformOrigin=R.transformOrigin):getStyleProperties(y).forEach(T=>{let A=R.getPropertyValue(T);T==="font-size"&&A.endsWith("px")&&(A=`${Math.floor(parseFloat(A.substring(0,A.length-2)))-.1}px`),isInstanceOfElement(r,HTMLIFrameElement)&&T==="display"&&A==="inline"&&(A="block"),T==="d"&&x.getAttribute("d")&&(A=`path(${x.getAttribute("d")})`),b.setProperty(T,A,R.getPropertyPriority(T))})}function cloneInputValue(r,x){isInstanceOfElement(r,HTMLTextAreaElement)&&(x.innerHTML=r.value),isInstanceOfElement(r,HTMLInputElement)&&x.setAttribute("value",r.value)}function cloneSelectValue(r,x){if(isInstanceOfElement(r,HTMLSelectElement)){const b=Array.from(x.children).find(R=>r.value===R.getAttribute("value"));b&&b.setAttribute("selected","")}}function decorate(r,x,y){return isInstanceOfElement(x,Element)&&(cloneCSSStyle(r,x,y),clonePseudoElements(r,x,y),cloneInputValue(r,x),cloneSelectValue(r,x)),x}async function ensureSVGSymbols(r,x){const y=r.querySelectorAll?r.querySelectorAll("use"):[];if(y.length===0)return r;const b={};for(let T=0;T<y.length;T++){const O=y[T].getAttribute("xlink:href");if(O){const B=r.querySelector(O),U=document.querySelector(O);!B&&U&&!b[O]&&(b[O]=await cloneNode(U,x,!0))}}const R=Object.values(b);if(R.length){const T="http://www.w3.org/1999/xhtml",A=document.createElementNS(T,"svg");A.setAttribute("xmlns",T),A.style.position="absolute",A.style.width="0",A.style.height="0",A.style.overflow="hidden",A.style.display="none";const O=document.createElementNS(T,"defs");A.appendChild(O);for(let B=0;B<R.length;B++)O.appendChild(R[B]);r.appendChild(A)}return r}async function cloneNode(r,x,y){return!y&&x.filter&&!x.filter(r)?null:Promise.resolve(r).then(b=>cloneSingleNode(b,x)).then(b=>cloneChildren(r,b,x)).then(b=>decorate(r,b,x)).then(b=>ensureSVGSymbols(b,x))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(r){const x=r.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${x})(['"]?\\))`,"g")}function parseURLs(r){const x=[];return r.replace(URL_REGEX,(y,b,R)=>(x.push(R),y)),x.filter(y=>!isDataUrl(y))}async function embed(r,x,y,b,R){try{const T=y?resolveUrl(x,y):x,A=getMimeType(x);let O;return R||(O=await resourceToDataURL(T,A,b)),r.replace(toRegex(x),`$1${O}$3`)}catch{}return r}function filterPreferredFontFormat(r,{preferredFontFormat:x}){return x?r.replace(FONT_SRC_REGEX,y=>{for(;;){const[b,,R]=URL_WITH_FORMAT_REGEX.exec(y)||[];if(!R)return"";if(R===x)return`src: ${b};`}}):r}function shouldEmbed(r){return r.search(URL_REGEX)!==-1}async function embedResources(r,x,y){if(!shouldEmbed(r))return r;const b=filterPreferredFontFormat(r,y);return parseURLs(b).reduce((T,A)=>T.then(O=>embed(O,A,x,y)),Promise.resolve(b))}async function embedProp(r,x,y){var b;const R=(b=x.style)===null||b===void 0?void 0:b.getPropertyValue(r);if(R){const T=await embedResources(R,null,y);return x.style.setProperty(r,T,x.style.getPropertyPriority(r)),!0}return!1}async function embedBackground(r,x){await embedProp("background",r,x)||await embedProp("background-image",r,x),await embedProp("mask",r,x)||await embedProp("-webkit-mask",r,x)||await embedProp("mask-image",r,x)||await embedProp("-webkit-mask-image",r,x)}async function embedImageNode(r,x){const y=isInstanceOfElement(r,HTMLImageElement);if(!(y&&!isDataUrl(r.src))&&!(isInstanceOfElement(r,SVGImageElement)&&!isDataUrl(r.href.baseVal)))return;const b=y?r.src:r.href.baseVal,R=await resourceToDataURL(b,getMimeType(b),x);await new Promise((T,A)=>{r.onload=T,r.onerror=x.onImageErrorHandler?(...B)=>{try{T(x.onImageErrorHandler(...B))}catch(U){A(U)}}:A;const O=r;O.decode&&(O.decode=T),O.loading==="lazy"&&(O.loading="eager"),y?(r.srcset="",r.src=R):r.href.baseVal=R})}async function embedChildren(r,x){const b=toArray(r.childNodes).map(R=>embedImages(R,x));await Promise.all(b).then(()=>r)}async function embedImages(r,x){isInstanceOfElement(r,Element)&&(await embedBackground(r,x),await embedImageNode(r,x),await embedChildren(r,x))}function applyStyle(r,x){const{style:y}=r;x.backgroundColor&&(y.backgroundColor=x.backgroundColor),x.width&&(y.width=`${x.width}px`),x.height&&(y.height=`${x.height}px`);const b=x.style;return b!=null&&Object.keys(b).forEach(R=>{y[R]=b[R]}),r}const cssFetchCache={};async function fetchCSS(r){let x=cssFetchCache[r];if(x!=null)return x;const b=await(await fetch(r)).text();return x={url:r,cssText:b},cssFetchCache[r]=x,x}async function embedFonts(r,x){let y=r.cssText;const b=/url\(["']?([^"')]+)["']?\)/g,T=(y.match(/url\([^)]+\)/g)||[]).map(async A=>{let O=A.replace(b,"$1");return O.startsWith("https://")||(O=new URL(O,r.url).href),fetchAsDataURL(O,x.fetchRequestInit,({result:B})=>(y=y.replace(A,`url(${B})`),[A,B]))});return Promise.all(T).then(()=>y)}function parseCSS(r){if(r==null)return[];const x=[],y=/(\/\*[\s\S]*?\*\/)/gi;let b=r.replace(y,"");const R=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const B=R.exec(b);if(B===null)break;x.push(B[0])}b=b.replace(R,"");const T=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,A="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",O=new RegExp(A,"gi");for(;;){let B=T.exec(b);if(B===null){if(B=O.exec(b),B===null)break;T.lastIndex=O.lastIndex}else O.lastIndex=T.lastIndex;x.push(B[0])}return x}async function getCSSRules(r,x){const y=[],b=[];return r.forEach(R=>{if("cssRules"in R)try{toArray(R.cssRules||[]).forEach((T,A)=>{if(T.type===CSSRule.IMPORT_RULE){let O=A+1;const B=T.href,U=fetchCSS(B).then(K=>embedFonts(K,x)).then(K=>parseCSS(K).forEach(J=>{try{R.insertRule(J,J.startsWith("@import")?O+=1:R.cssRules.length)}catch(te){console.error("Error inserting rule from remote css",{rule:J,error:te})}})).catch(K=>{console.error("Error loading remote css",K.toString())});b.push(U)}})}catch(T){const A=r.find(O=>O.href==null)||document.styleSheets[0];R.href!=null&&b.push(fetchCSS(R.href).then(O=>embedFonts(O,x)).then(O=>parseCSS(O).forEach(B=>{A.insertRule(B,A.cssRules.length)})).catch(O=>{console.error("Error loading remote stylesheet",O)})),console.error("Error inlining remote css file",T)}}),Promise.all(b).then(()=>(r.forEach(R=>{if("cssRules"in R)try{toArray(R.cssRules||[]).forEach(T=>{y.push(T)})}catch(T){console.error(`Error while reading CSS rules from ${R.href}`,T)}}),y))}function getWebFontRules(r){return r.filter(x=>x.type===CSSRule.FONT_FACE_RULE).filter(x=>shouldEmbed(x.style.getPropertyValue("src")))}async function parseWebFontRules(r,x){if(r.ownerDocument==null)throw new Error("Provided element is not within a Document");const y=toArray(r.ownerDocument.styleSheets),b=await getCSSRules(y,x);return getWebFontRules(b)}function normalizeFontFamily(r){return r.trim().replace(/["']/g,"")}function getUsedFonts(r){const x=new Set;function y(b){(b.style.fontFamily||getComputedStyle(b).fontFamily).split(",").forEach(T=>{x.add(normalizeFontFamily(T))}),Array.from(b.children).forEach(T=>{T instanceof HTMLElement&&y(T)})}return y(r),x}async function getWebFontCSS(r,x){const y=await parseWebFontRules(r,x),b=getUsedFonts(r);return(await Promise.all(y.filter(T=>b.has(normalizeFontFamily(T.style.fontFamily))).map(T=>{const A=T.parentStyleSheet?T.parentStyleSheet.href:null;return embedResources(T.cssText,A,x)}))).join(`
`)}async function embedWebFonts(r,x){const y=x.fontEmbedCSS!=null?x.fontEmbedCSS:x.skipFonts?null:await getWebFontCSS(r,x);if(y){const b=document.createElement("style"),R=document.createTextNode(y);b.appendChild(R),r.firstChild?r.insertBefore(b,r.firstChild):r.appendChild(b)}}async function toSvg(r,x={}){const{width:y,height:b}=getImageSize(r,x),R=await cloneNode(r,x,!0);return await embedWebFonts(R,x),await embedImages(R,x),applyStyle(R,x),await nodeToDataURL(R,y,b)}async function toCanvas(r,x={}){const{width:y,height:b}=getImageSize(r,x),R=await toSvg(r,x),T=await createImage(R),A=document.createElement("canvas"),O=A.getContext("2d"),B=x.pixelRatio||getPixelRatio(),U=x.canvasWidth||y,K=x.canvasHeight||b;return A.width=U*B,A.height=K*B,x.skipAutoScale||checkCanvasDimensions(A),A.style.width=`${U}`,A.style.height=`${K}`,x.backgroundColor&&(O.fillStyle=x.backgroundColor,O.fillRect(0,0,A.width,A.height)),O.drawImage(T,0,0,A.width,A.height),A}async function toPng(r,x={}){return(await toCanvas(r,x)).toDataURL()}const modalOverlay$1="_modalOverlay_ujdot_1",modalContent="_modalContent_ujdot_27",header$3="_header_ujdot_43",title$8="_title_ujdot_59",closeButton="_closeButton_ujdot_71",body$1="_body_ujdot_87",qrDownloadArea="_qrDownloadArea_ujdot_103",galleryInfo="_galleryInfo_ujdot_115",galleryName="_galleryName_ujdot_131",galleryNameEn="_galleryNameEn_ujdot_141",qrCodeWrapper="_qrCodeWrapper_ujdot_151",downloadButton$1="_downloadButton_ujdot_163",noLeaflet="_noLeaflet_ujdot_193",noLeafletMessage="_noLeafletMessage_ujdot_201",styles$q={modalOverlay:modalOverlay$1,modalContent,header:header$3,title:title$8,closeButton,body:body$1,qrDownloadArea,galleryInfo,galleryName,galleryNameEn,qrCodeWrapper,downloadButton:downloadButton$1,noLeaflet,noLeafletMessage};function QrModal({data:r,onClose:x,type:y}){var J;const b=r||{},R=b.leafletUrl,T=reactExports$1.useRef(null),A=y==="exhibitions",O=A?b.exhibition_title:b.gallery_name,B=A?((J=b.gallery)==null?void 0:J.gallery_name)||b.gallery_name||"":b.gallery_eng_name||"",U=A?b.exhibition_title||"exhibition":b.gallery_name||"gallery",K=()=>{T.current!==null&&toPng(T.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(te=>{const ae=document.createElement("a");ae.download=`${U}-qr-code.png`,ae.href=te,ae.click()}).catch(te=>{console.error("  .",te),alert("  .  .")})};return jsxRuntimeExports.jsx("div",{className:styles$q.modalOverlay,onClick:x,children:jsxRuntimeExports.jsxs("div",{className:styles$q.modalContent,onClick:te=>te.stopPropagation(),children:[jsxRuntimeExports.jsxs("header",{className:styles$q.header,children:[jsxRuntimeExports.jsx("h2",{className:styles$q.title,children:"QR : /"}),jsxRuntimeExports.jsx("button",{className:styles$q.closeButton,onClick:x,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$q.body,children:R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:T,className:styles$q.qrDownloadArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$q.galleryInfo,children:[jsxRuntimeExports.jsx("p",{className:styles$q.galleryName,children:O||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.galleryNameEn,children:B})]}),jsxRuntimeExports.jsx("div",{className:styles$q.qrCodeWrapper,children:jsxRuntimeExports.jsx(QRCode,{value:`${window.location.origin}/view/leaflet/${y}/${b.id}`,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),jsxRuntimeExports.jsx("button",{className:styles$q.downloadButton,onClick:K,children:""})]}):jsxRuntimeExports.jsxs("div",{className:styles$q.noLeaflet,children:[jsxRuntimeExports.jsx("p",{className:styles$q.galleryName,children:O||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.galleryNameEn,children:B}),jsxRuntimeExports.jsx("p",{className:styles$q.noLeafletMessage,children:"   ."})]})})]})})}const layout$a="_layout_zq7j1_1",breadcrumb$2="_breadcrumb_zq7j1_21",breadcrumbBack$2="_breadcrumbBack_zq7j1_35",card$4="_card_zq7j1_45",titleSection$2="_titleSection_zq7j1_63",galleryTitle="_galleryTitle_zq7j1_73",gallerySubTitle="_gallerySubTitle_zq7j1_87",galleryImage="_galleryImage_zq7j1_99",btnLayout$2="_btnLayout_zq7j1_117",likeButton$1="_likeButton_zq7j1_131",icon$3="_icon_zq7j1_155",likedIcon$2="_likedIcon_zq7j1_163",containerLayout="_containerLayout_zq7j1_173",tagContainer$2="_tagContainer_zq7j1_185",tag="_tag_zq7j1_185",infoList$2="_infoList_zq7j1_221",infoRow$2="_infoRow_zq7j1_235",infoLabel$2="_infoLabel_zq7j1_245",infoContent$2="_infoContent_zq7j1_257",homepageButton$1="_homepageButton_zq7j1_277",descriptionParagraph$2="_descriptionParagraph_zq7j1_335",inlineSns="_inlineSns_zq7j1_381",snsLink="_snsLink_zq7j1_395",snsIcon="_snsIcon_zq7j1_405",instagram="_instagram_zq7j1_429",youtube="_youtube_zq7j1_437",defaultLink="_defaultLink_zq7j1_445",emptyContent$4="_emptyContent_zq7j1_453",sectionTitle="_sectionTitle_zq7j1_467",backButton$4="_backButton_zq7j1_479",emptyInfo$2="_emptyInfo_zq7j1_513",styles$p={layout:layout$a,breadcrumb:breadcrumb$2,breadcrumbBack:breadcrumbBack$2,card:card$4,titleSection:titleSection$2,galleryTitle,gallerySubTitle,galleryImage,btnLayout:btnLayout$2,likeButton:likeButton$1,icon:icon$3,likedIcon:likedIcon$2,containerLayout,tagContainer:tagContainer$2,tag,infoList:infoList$2,infoRow:infoRow$2,infoLabel:infoLabel$2,infoContent:infoContent$2,homepageButton:homepageButton$1,descriptionParagraph:descriptionParagraph$2,inlineSns,snsLink,snsIcon,instagram,youtube,defaultLink,emptyContent:emptyContent$4,sectionTitle,backButton:backButton$4,emptyInfo:emptyInfo$2},tabsLayout="_tabsLayout_1o5b4_1",tabNav="_tabNav_1o5b4_13",tabContent="_tabContent_1o5b4_39",tabButton$1="_tabButton_1o5b4_63",activeTab$1="_activeTab_1o5b4_93",styles$o={tabsLayout,tabNav,tabContent,tabButton:tabButton$1,activeTab:activeTab$1};function DetailTabs({tabs:r,activeTab:x,setActiveTab:y,children:b}){return jsxRuntimeExports.jsxs("div",{className:styles$o.tabsLayout,children:[jsxRuntimeExports.jsx("nav",{className:styles$o.tabNav,children:r.map(({key:R,label:T})=>jsxRuntimeExports.jsx("button",{className:`${styles$o.tabButton} ${x===R?styles$o.activeTab:""}`,onClick:()=>y(R),children:T},R))}),jsxRuntimeExports.jsx("section",{className:styles$o.tabContent,children:b})]})}const exhibitionList="_exhibitionList_i0wxs_1",exhibitionCard="_exhibitionCard_i0wxs_17",imageContainer="_imageContainer_i0wxs_49",exhibitionImage="_exhibitionImage_i0wxs_63",statusTag="_statusTag_i0wxs_77",statusOn="_statusOn_i0wxs_101",statusScheduled="_statusScheduled_i0wxs_107",statusDone="_statusDone_i0wxs_113",statusDefault="_statusDefault_i0wxs_119",infoContainer="_infoContainer_i0wxs_127",title$7="_title_i0wxs_147",location$1="_location_i0wxs_165",date$1="_date_i0wxs_175",emptyContent$3="_emptyContent_i0wxs_185",styles$n={exhibitionList,exhibitionCard,imageContainer,exhibitionImage,statusTag,statusOn,statusScheduled,statusDone,statusDefault,infoContainer,title:title$7,location:location$1,date:date$1,emptyContent:emptyContent$3},STATUS_CONFIG={exhibited:{text:"",className:styles$n.statusOn},scheduled:{text:"",className:styles$n.statusScheduled},ended:{text:"",className:styles$n.statusDone},default:{text:"",className:styles$n.statusDefault}};function ExhibitionsCards({exhibitions:r}){const y=useLocation().pathname.includes("/console");return console.log(" ",r),!r||r.length===0?jsxRuntimeExports.jsx("p",{className:styles$n.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$n.exhibitionList,children:r.map(({exhibition_id:b,exhibition_poster:R,exhibition_title:T,exhibition_status:A,exhibition_location:O,exhibition_start_date:B,exhibition_end_date:U})=>{const K=STATUS_CONFIG[A]||STATUS_CONFIG.default,J=y?`/console/exhibitions/${b}`:`/exhibitions/${b}`;return jsxRuntimeExports.jsxs(Link$1,{className:styles$n.exhibitionCard,to:J,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.imageContainer,children:[jsxRuntimeExports.jsx("img",{className:styles$n.exhibitionImage,src:R,alt:"  "}),jsxRuntimeExports.jsx("span",{className:`${styles$n.statusTag} ${K.className}`,children:K.text})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.infoContainer,children:[jsxRuntimeExports.jsx("h4",{className:styles$n.title,children:T}),jsxRuntimeExports.jsx("p",{className:styles$n.location,children:O}),jsxRuntimeExports.jsx("p",{className:styles$n.date,children:`${B} ~ ${U}`})]})]},b)})})}const artworkGrid$1="_artworkGrid_1kwuv_1",artworkCard$1="_artworkCard_1kwuv_45",artworkImage$1="_artworkImage_1kwuv_83",artworkInfo="_artworkInfo_1kwuv_97",title$6="_title_1kwuv_111",materials="_materials_1kwuv_123",details="_details_1kwuv_133",emptyContent$2="_emptyContent_1kwuv_145",styles$m={artworkGrid:artworkGrid$1,artworkCard:artworkCard$1,artworkImage:artworkImage$1,artworkInfo,title:title$6,materials,details,emptyContent:emptyContent$2};function ArtworksCards({artworks:r}){const y=useLocation().pathname.includes("/console");return console.log(r),!r||r.length===0?jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$m.artworkGrid,children:r.map(({id:b,image_url:R,title:T,materials:A,size:O,year:B})=>{const U=y?`/console/artworks/${b}`:`/artworks/${b}`;return jsxRuntimeExports.jsxs(Link$1,{className:styles$m.artworkCard,to:U,children:[jsxRuntimeExports.jsx("img",{className:styles$m.artworkImage,src:R,alt:T}),jsxRuntimeExports.jsxs("div",{className:styles$m.artworkInfo,children:[jsxRuntimeExports.jsx("h4",{className:styles$m.title,children:T}),jsxRuntimeExports.jsx("p",{className:styles$m.materials,children:A}),jsxRuntimeExports.jsx("p",{className:styles$m.details,children:`${O}, ${B}`})]})]},b)})})}const modalOverlay="_modalOverlay_1ug3w_1",mapModalBox="_mapModalBox_1ug3w_21",mapModalTitle="_mapModalTitle_1ug3w_61",mapModalSubTitle="_mapModalSubTitle_1ug3w_73",mapModalMap="_mapModalMap_1ug3w_87",mapModalClose="_mapModalClose_1ug3w_101",styles$l={modalOverlay,mapModalBox,mapModalTitle,mapModalSubTitle,mapModalMap,mapModalClose};function MapModalSimple({lat:r,lng:x,title:y,address:b,mapId:R,onClose:T}){return useMap({lat:r,lng:x,id:R,title:y,location:b}),console.log("MapModalSimple !",R),reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$l.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$l.mapModalBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$l.mapModalTitle,children:y}),jsxRuntimeExports.jsx("p",{className:styles$l.mapModalSubTitle,children:b}),jsxRuntimeExports.jsx("div",{id:R,className:styles$l.mapModalMap}),jsxRuntimeExports.jsx("button",{className:styles$l.mapModalClose,onClick:T,children:""})]})})}function GalleryDetail({showUserActions:r=!0,id:x,actionButtons:y}){const{galleryId:b}=useParams(),R=x||b,T=useNavigate(),{user:A}=useUser(),[O,B]=reactExports$1.useState(null),[U,K]=reactExports$1.useState(!1),[J,te]=reactExports$1.useState(!1),[ae,ue]=reactExports$1.useState("info"),[pe,$e]=reactExports$1.useState(!1),Ne=async()=>{if(R)try{const Rt=await userInstance.get(`/api/galleries/${R}`),{data:Yt}=Rt;B(Yt),typeof Yt.is_liked=="boolean"&&K(Yt.is_liked)}catch(Rt){console.error("   :",Rt)}};if(reactExports$1.useEffect(()=>{Ne()},[R]),reactExports$1.useEffect(()=>{O&&typeof O.is_liked=="boolean"&&K(O.is_liked)},[O]),!O)return jsxRuntimeExports.jsx("div",{children:" ..."});const Be=async()=>{if(!A){T("/login");return}try{const Rt={liked_id:R,liked_type:"gallery"};if(U){await userInstance.delete("/api/likes",{data:Rt}),K(!1);return}else await userInstance.post("/api/likes",{liked_id:R,liked_type:"gallery"});await userInstance.post("/api/likes",Rt),K(!0),te(!0)}catch(Rt){console.error("  :",Rt)}},_e=()=>{const Rt=O.gallery_name,Yt=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${Rt}`,text:`${Rt}   !`,url:Yt}).catch(nn=>console.error(" :",nn));else{const nn=document.createElement("textarea");nn.value=Yt,document.body.appendChild(nn),nn.select();try{document.execCommand("copy"),alert("  .")}catch(mn){console.error("  :",mn),alert("  .")}finally{document.body.removeChild(nn)}}},xe={instagram:FaInstagram,youtube:FaYoutube,default:FaLink},{exhibitions:Le=[],artworks:Ue=[],gallery_address:He="",gallery_category:qe="",gallery_closed_day:Qe="",gallery_description:lt="",gallery_end_time:ct="",gallery_start_time:ot="",gallery_image:pt="",gallery_name:yt="",gallery_eng_name:it="",gallery_phone:Ke="",gallery_email:Je="",gallery_homepage:We="",gallery_sns:Ze,gallery_latitude:dt,gallery_longitude:et}=O;let ft=[];try{Array.isArray(Ze)?ft=Ze:typeof Ze=="string"&&(ft=JSON.parse(Ze))}catch(Rt){console.error("SNS   :",Rt),ft=[]}const Et=[{label:"",content:ot&&ct?`${ot.slice(0,5)} - ${ct.slice(0,5)}`:" "},{label:"",content:Qe||" "},{label:"",content:Ke||" "},{label:"",content:He||" "},{label:"",content:Je?jsxRuntimeExports.jsx("a",{href:`mailto:${Je}`,children:Je}):" "},{label:"SNS",content:Array.isArray(ft)&&ft.length>0?jsxRuntimeExports.jsx("div",{className:styles$p.inlineSns,children:ft.map(({type:Rt,url:Yt})=>{const nn=Rt==null?void 0:Rt.toLowerCase(),mn=xe[nn]||xe.default,Fn=styles$p[nn]||styles$p.defaultLink;return jsxRuntimeExports.jsx("a",{href:Yt||"#",target:"_blank",rel:"noopener noreferrer",className:styles$p.snsLink,children:jsxRuntimeExports.jsx(mn,{className:`${styles$p.snsIcon} ${Fn}`})},`${Rt}-${Yt}`)})}):" "}];console.log(ft);const St=[{key:"info",label:""},{key:"artworks",label:`(${Ue.length||0})`},{key:"exhibitions",label:`(${Le.length||0})`}],Bt=`gallery-${R}-map`;return jsxRuntimeExports.jsxs("div",{className:styles$p.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$p.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$p.breadcrumbBack,onClick:()=>T("/galleries"),children:""})," ","> ",yt]}),jsxRuntimeExports.jsxs("section",{className:styles$p.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$p.galleryTitle,children:yt}),jsxRuntimeExports.jsx("p",{className:styles$p.gallerySubTitle,children:it||"Gallery"})]}),jsxRuntimeExports.jsxs("div",{className:styles$p.card,children:[jsxRuntimeExports.jsx("img",{className:styles$p.galleryImage,src:pt,alt:"  "}),r&&jsxRuntimeExports.jsxs("div",{className:styles$p.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:Be,children:[jsxRuntimeExports.jsx(FaStar$1,{className:U?styles$p.likedIcon:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:()=>$e(!0),children:[jsxRuntimeExports.jsx(FaLocationDot,{className:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:_e,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$p.icon}),""]})]}),jsxRuntimeExports.jsx("div",{className:styles$p.tagContainer,children:qe&&qe.split(",").map(Rt=>jsxRuntimeExports.jsx("span",{className:styles$p.tag,children:Rt.trim()},Rt))}),jsxRuntimeExports.jsxs("section",{className:styles$p.infoList,children:[Et.map(({label:Rt,content:Yt})=>{const nn=!Yt||typeof Yt=="string"&&Yt.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$p.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$p.infoLabel,children:Rt}),jsxRuntimeExports.jsx("div",{className:`${styles$p.infoContent} ${nn?styles$p.emptyInfo:""}`,children:Yt})]},Rt)}),jsxRuntimeExports.jsx("button",{disabled:!We,className:styles$p.homepageButton,onClick:()=>window.open(We,"_blank"),children:We?"":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:St,activeTab:ae,setActiveTab:ue,children:[ae==="info"&&(lt?jsxRuntimeExports.jsx("div",{className:styles$p.descriptionParagraph,dangerouslySetInnerHTML:{__html:lt}}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"   ."})),ae==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ue.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:Ue}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),y==null?void 0:y.artworks]}),ae==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Le.length>0?jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:Le}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),y==null?void 0:y.exhibitions]})]}),r&&jsxRuntimeExports.jsx("button",{className:styles$p.backButton,onClick:()=>T("/galleries"),children:" "}),pe&&jsxRuntimeExports.jsx(MapModalSimple,{lat:dt,lng:et,title:yt,address:He,mapId:Bt,onClose:()=>$e(!1)}),J&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>te(!1)})]})}const layout$9="_layout_1w406_1",breadcrumb$1="_breadcrumb_1w406_21",breadcrumbBack$1="_breadcrumbBack_1w406_35",card$3="_card_1w406_45",titleSection$1="_titleSection_1w406_63",exhibitionTitle="_exhibitionTitle_1w406_73",posterImage="_posterImage_1w406_87",btnLayout$1="_btnLayout_1w406_111",likeButton="_likeButton_1w406_125",icon$2="_icon_1w406_149",likedIcon$1="_likedIcon_1w406_157",infoList$1="_infoList_1w406_165",infoRow$1="_infoRow_1w406_181",infoLabel$1="_infoLabel_1w406_191",infoContent$1="_infoContent_1w406_203",homepageButton="_homepageButton_1w406_223",descriptionParagraph$1="_descriptionParagraph_1w406_281",emptyContent$1="_emptyContent_1w406_317",emptyInfo$1="_emptyInfo_1w406_331",backButton$3="_backButton_1w406_339",disabledButton="_disabledButton_1w406_377",styles$k={layout:layout$9,breadcrumb:breadcrumb$1,breadcrumbBack:breadcrumbBack$1,card:card$3,titleSection:titleSection$1,exhibitionTitle,posterImage,btnLayout:btnLayout$1,likeButton,icon:icon$2,likedIcon:likedIcon$1,infoList:infoList$1,infoRow:infoRow$1,infoLabel:infoLabel$1,infoContent:infoContent$1,homepageButton,descriptionParagraph:descriptionParagraph$1,emptyContent:emptyContent$1,emptyInfo:emptyInfo$1,backButton:backButton$3,disabledButton},relatedSection="_relatedSection_1t574_1",list$1="_list_1t574_17",card$2="_card_1t574_31",imageWrapper="_imageWrapper_1t574_59",image$1="_image_1t574_59",info$1="_info_1t574_97",title$5="_title_1t574_111",meta="_meta_1t574_123",date="_date_1t574_133",styles$j={relatedSection,list:list$1,card:card$2,imageWrapper,image:image$1,info:info$1,title:title$5,meta,date};function RelatedExhibitions({exhibitions:r}){const x=useNavigate();return jsxRuntimeExports.jsx("section",{className:styles$j.relatedSection,children:jsxRuntimeExports.jsx("div",{className:styles$j.list,children:r.map(({id:y,title:b,poster:R,start_date:T,end_date:A,location:O})=>jsxRuntimeExports.jsxs("div",{className:styles$j.card,onClick:()=>x(`/exhibitions/${y}`),children:[jsxRuntimeExports.jsx("div",{className:styles$j.imageWrapper,children:jsxRuntimeExports.jsx("img",{src:R,alt:b,className:styles$j.image})}),jsxRuntimeExports.jsxs("div",{className:styles$j.info,children:[jsxRuntimeExports.jsx("h4",{className:styles$j.title,children:b}),jsxRuntimeExports.jsxs("p",{className:styles$j.meta,children:[r.organization||""," | ",O||""]}),jsxRuntimeExports.jsxs("p",{className:styles$j.date,children:[T," ~ ",A]})]})]},y))})})}const page$1="_page_1qmmv_1",title$4="_title_1qmmv_15",formArea$1="_formArea_1qmmv_31",label$3="_label_1qmmv_47",input$2="_input_1qmmv_61",textarea$3="_textarea_1qmmv_63",tagContainer$1="_tagContainer_1qmmv_107",tagButton$1="_tagButton_1qmmv_119",submitButton$2="_submitButton_1qmmv_151",resultArea$1="_resultArea_1qmmv_197",resultCard$1="_resultCard_1qmmv_211",cardHeader$1="_cardHeader_1qmmv_231",refineButton$1="_refineButton_1qmmv_257",placeholder$2="_placeholder_1qmmv_291",styles$i={page:page$1,title:title$4,formArea:formArea$1,label:label$3,input:input$2,textarea:textarea$3,tagContainer:tagContainer$1,tagButton:tagButton$1,submitButton:submitButton$2,resultArea:resultArea$1,resultCard:resultCard$1,cardHeader:cardHeader$1,refineButton:refineButton$1,placeholder:placeholder$2};function InvitationGenerator$1({initialTheme:r="",initialOthers:x="",showTitle:y=!0}){const[b,R]=reactExports$1.useState(r),[T,A]=reactExports$1.useState(x),[O,B]=reactExports$1.useState([]),[U,K]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{r&&R(r),x!==void 0&&A(x)},[r,x]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const J=async()=>{var ae,ue;if(B([]),K(!0),!b.trim()){B(["  ."]),K(!1);return}try{const $e=(await userInstance.post("/api/console/invitation/create",{eventTopic:b,userRequirements:T||""})).data;$e&&typeof $e=="string"?B([$e]):Array.isArray($e)?B($e):$e.invitations&&Array.isArray($e.invitations)?B($e.invitations):B([" ."])}catch(pe){console.error("API  :",pe),((ae=pe.response)==null?void 0:ae.status)===401?B([" .  ."]):((ue=pe.response)==null?void 0:ue.status)===403?B([" ."]):B([`API  : ${pe.message}`])}finally{K(!1)}},te=async(ae,ue)=>{var pe,$e;if(ae.trim())try{const Be=(await userInstance.post("/api/console/invitation/refine",{selectedInvitation:ae,eventTopic:b,userRequirements:"   "})).data,_e=Array.isArray(Be)?Be[0]:Be;B(xe=>xe.map((Le,Ue)=>Ue===ue?_e:Le))}catch(Ne){console.error(" API  :",Ne),((pe=Ne.response)==null?void 0:pe.status)===401?alert(" .  ."):(($e=Ne.response)==null?void 0:$e.status)===403?alert(" ."):alert("  .")}};return jsxRuntimeExports.jsxs("div",{className:styles$i.page,children:[y&&jsxRuntimeExports.jsx("h1",{className:styles$i.title,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$i.formArea,children:[jsxRuntimeExports.jsx("label",{className:styles$i.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:b,onChange:ae=>R(ae.target.value),placeholder:":  ,  ",className:styles$i.input}),jsxRuntimeExports.jsx("label",{className:styles$i.label,children:""}),jsxRuntimeExports.jsx("textarea",{value:T,onChange:ae=>A(ae.target.value),placeholder:":   ,   ",className:styles$i.textarea}),jsxRuntimeExports.jsx("div",{className:styles$i.tagContainer,children:["#","#","#","#","#","#"].map(ae=>jsxRuntimeExports.jsx("button",{type:"button",className:styles$i.tagButton,onClick:()=>A(ue=>ue.includes(ae)?ue:ue?`${ue}, ${ae}`:ae),children:ae},ae))}),jsxRuntimeExports.jsx("button",{onClick:J,className:styles$i.submitButton,disabled:U,children:U?" ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$i.resultArea,children:O.length>0?O.map((ae,ue)=>jsxRuntimeExports.jsxs("div",{className:styles$i.resultCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.cardHeader,children:[jsxRuntimeExports.jsxs("h3",{children:[" ",ue+1]}),jsxRuntimeExports.jsx("button",{className:styles$i.refineButton,onClick:()=>te(ae,ue),children:""})]}),jsxRuntimeExports.jsx("p",{children:ae})]},ue)):jsxRuntimeExports.jsx("div",{className:styles$i.placeholder,children:"    ."})})]})}function ExhibitionDetail({showUserActions:r=!0,id:x,actionButtons:y}){const{exhibitionId:b}=useParams(),R=x||b,{user:T}=useUser(),A=useNavigate(),[O,B]=reactExports$1.useState(null),[U,K]=reactExports$1.useState(!1),[J,te]=reactExports$1.useState(!1),[ae,ue]=reactExports$1.useState("info"),pe=async()=>{if(R)try{const Et=await userInstance.get(`/api/exhibitions/${R}`),{data:St}=Et;B(St),typeof St.is_liked=="boolean"&&K(St.is_liked)}catch(Et){console.error("   :",Et)}};reactExports$1.useEffect(()=>{pe()},[R]);const $e=async()=>{if(!T){A("/login");return}try{const Et={liked_id:R,liked_type:"exhibition"};U?(await userInstance.delete("/api/likes",{data:Et}),K(!1)):(await userInstance.post("/api/likes",Et),K(!0),te(!0))}catch(Et){console.error("  :",Et)}},Ne=()=>{const Et=O==null?void 0:O.exhibition_title,St=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${Et}`,text:`${Et}   !`,url:St}).catch(Bt=>console.error(" :",Bt));else{const Bt=document.createElement("textarea");Bt.value=St,document.body.appendChild(Bt),Bt.select();try{document.execCommand("copy"),alert("  .")}catch(Rt){console.error("  :",Rt),alert("  .")}finally{document.body.removeChild(Bt)}}},Be=()=>{A("/scan")};if(console.log("",O),!O)return jsxRuntimeExports.jsx("div",{children:" ..."});const{exhibition_title:_e,exhibition_poster:xe,exhibition_start_date:Le,exhibition_end_date:Ue,exhibition_start_time:He,exhibition_end_time:qe,exhibition_organization:Qe,exhibition_location:lt,exhibition_price:ct,exhibition_closed_day:ot,exhibition_description:pt,related_exhibitions:yt=[],artworks:it=[],exhibition_phone:Ke,artists:Je=[],exhibition_homepage:We,exhibition_status:Ze}=O,dt=Ze==="exhibited",et=[{label:"",content:`${Le} ~ ${Ue}`},{label:"",content:Qe},{label:"",content:He&&qe?`${He.slice(0,5)} - ${qe.slice(0,5)}`:" "},{label:"",content:ot||" "},{label:"",content:ct?`${ct.toLocaleString()}`:""},{label:"",content:Ke||" "},{label:"",content:lt||" "},{label:"",content:Je.join(", ")||" "}],ft=[{key:"info",label:""},{key:"artworks",label:`(${it.length})`},{key:"exhibitions",label:`(${yt.length})`}];return jsxRuntimeExports.jsxs("div",{className:styles$k.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$k.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$k.breadcrumbBack,onClick:()=>A("/exhibitions"),children:""})," ","> ",_e]}),jsxRuntimeExports.jsxs("div",{className:styles$k.card,children:[jsxRuntimeExports.jsx("img",{className:styles$k.posterImage,src:xe,alt:" "}),jsxRuntimeExports.jsx("section",{className:styles$k.titleSection,children:jsxRuntimeExports.jsx("h1",{className:styles$k.exhibitionTitle,children:_e})}),r&&jsxRuntimeExports.jsxs("div",{className:styles$k.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:$e,children:[jsxRuntimeExports.jsx(FaStar$1,{className:U?styles$k.likedIcon:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:`${styles$k.likeButton} ${dt?"":styles$k.disabledButton}`,disabled:!dt,onClick:()=>A(`/reservation/${R}`),title:dt?"":"   ",children:[jsxRuntimeExports.jsx(FaCalendarCheck,{className:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:Be,children:[jsxRuntimeExports.jsx(FaHeadphones,{className:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:Ne,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$k.icon}),""]})]}),jsxRuntimeExports.jsxs("section",{className:styles$k.infoList,children:[et.map(({label:Et,content:St})=>{const Bt=!St||typeof St=="string"&&St.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$k.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$k.infoLabel,children:Et}),jsxRuntimeExports.jsx("div",{className:`${styles$k.infoContent} ${Bt?styles$k.emptyInfo:""}`,children:St})]},Et)}),jsxRuntimeExports.jsx("button",{disabled:!We,className:styles$k.homepageButton,onClick:()=>window.open(We,"_blank"),children:We?"  ":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:ft,activeTab:ae,setActiveTab:ue,children:[ae==="info"&&(pt?jsxRuntimeExports.jsx("div",{className:styles$k.descriptionParagraph,dangerouslySetInnerHTML:{__html:pt}}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"    ."})),ae==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:it}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"  ."}),y==null?void 0:y.artworks]}),ae==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yt.length>0?jsxRuntimeExports.jsx(RelatedExhibitions,{exhibitions:yt}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"  ."}),y==null?void 0:y.exhibitions]})]}),jsxRuntimeExports.jsx("div",{className:`${styles$k.card} ${styles$k.tabCard}`,children:jsxRuntimeExports.jsx(InvitationGenerator$1,{initialTheme:_e,initialOthers:"",showTitle:!0})}),r&&jsxRuntimeExports.jsx("button",{className:styles$k.backButton,onClick:()=>A("/exhibitions"),children:" "}),J&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>te(!1)})]})}const DETAIL_CONFIG={galleries:{title:"",Component:GalleryDetail,tabs:["","QR","/"],fetchUrl:r=>`/api/galleries/${r}`},exhibitions:{title:"",Component:ExhibitionDetail,fetchUrl:r=>`/api/exhibitions/${r}`,tabs:["","QR","/"]},artworks:{title:"",Component:ArtworkDetail,fetchUrl:r=>`/api/arts/${r}`,tabs:["","QR",""]}};function ConsoleDetail({type:r}){const{id:x}=useParams(),y=useNavigate(),[b,R]=reactExports$1.useState(null),[T,A]=reactExports$1.useState(!1),O=DETAIL_CONFIG[r],{title:B,Component:U,fetchUrl:K,tabs:J}=O||{};reactExports$1.useEffect(()=>{if(!K||!x)return;(async()=>{try{const pe=await userInstance.get(K(x));R(pe.data)}catch(pe){console.error("  :",pe)}})()},[x,r,K]);const te=ue=>{switch(ue){case"":y(`/console/${r}/edit/${x}`);break;case"QR":A(!0);break;case"":y(`/console/artworks/docent/${x}`);break;default:y(`/console/${r}/leaflet/${x}`);break}},ae={artworks:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>y(`/console/artworks/edit/new?exhibition_id=${x}`),children:"+  "}),exhibitions:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>y(`/console/exhibitions/edit/new?gallery_id=${x}`),children:"+  "})};return b?jsxRuntimeExports.jsxs("div",{className:styles$r.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$r.header,children:[jsxRuntimeExports.jsx("button",{className:styles$r.backButton,onClick:()=>y(`/console/${r}`),children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$r.title,children:B})]}),jsxRuntimeExports.jsx("nav",{className:styles$r.adminTabNav,children:J.map(ue=>jsxRuntimeExports.jsx("button",{className:styles$r.adminTabButton,onClick:()=>te(ue),children:ue},ue))}),jsxRuntimeExports.jsx("main",{className:styles$r.content,children:jsxRuntimeExports.jsx(U,{showUserActions:!1,id:x,actionButtons:ae})}),T&&jsxRuntimeExports.jsx(QrModal,{data:b,onClose:()=>A(!1),type:r})]}):jsxRuntimeExports.jsx("div",{children:"  ..."})}const layout$8="_layout_1ffed_1",loading$1="_loading_1ffed_21",breadcrumb="_breadcrumb_1ffed_35",breadcrumbBack="_breadcrumbBack_1ffed_47",titleSection="_titleSection_1ffed_63",statusBadge="_statusBadge_1ffed_71",artistTitle="_artistTitle_1ffed_111",artistSubTitle="_artistSubTitle_1ffed_123",card$1="_card_1ffed_135",artistImage="_artistImage_1ffed_157",btnLayout="_btnLayout_1ffed_171",actionButton="_actionButton_1ffed_187",icon$1="_icon_1ffed_221",likedIcon="_likedIcon_1ffed_229",infoList="_infoList_1ffed_275",infoRow="_infoRow_1ffed_287",infoLabel="_infoLabel_1ffed_299",infoContent="_infoContent_1ffed_311",emptyInfo="_emptyInfo_1ffed_321",descriptionParagraph="_descriptionParagraph_1ffed_329",emptyContent="_emptyContent_1ffed_355",artworkGrid="_artworkGrid_1ffed_461",artworkCard="_artworkCard_1ffed_473",artworkImage="_artworkImage_1ffed_497",artworkTitle="_artworkTitle_1ffed_513",backButton$2="_backButton_1ffed_533",styles$h={layout:layout$8,loading:loading$1,breadcrumb,breadcrumbBack,titleSection,statusBadge,artistTitle,artistSubTitle,card:card$1,artistImage,btnLayout,actionButton,icon:icon$1,likedIcon,infoList,infoRow,infoLabel,infoContent,emptyInfo,descriptionParagraph,emptyContent,artworkGrid,artworkCard,artworkImage,artworkTitle,backButton:backButton$2},getExhibitionStatus=(r,x)=>{if(!r||!x)return"default";const y=new Date().setHours(0,0,0,0),b=new Date(r).setHours(0,0,0,0),R=new Date(x).setHours(0,0,0,0);return y<b?"scheduled":y>R?"ended":"exhibited"};function ArtistDetail(){const{user:r}=useUser(),{artistId:x}=useParams(),y=useNavigate(),[b,R]=reactExports$1.useState(null),[T,A]=reactExports$1.useState("profile"),O=async()=>{if(x)try{const ct=await instance.get(`/api/artists/${x}`);R(ct.data)}catch(ct){console.error(ct)}};if(reactExports$1.useEffect(()=>{O()},[x]),!b)return jsxRuntimeExports.jsx("div",{className:styles$h.loading,children:" ..."});const B=b.artist_name||b.name||"",U=b.artist_nation||b.nation||"",K=b.artist_category||b.field||"",J=b.artist_image||b.imageUrl||"",te=b.artist_description||b.description||"",ae=Array.isArray(b.exhibitions)?b.exhibitions:[],ue=Array.isArray(b.artworks)?b.artworks:[],pe=typeof b.like_count=="number"?b.like_count:0,$e=!!b.is_liked,Ne=b.artist_homepage||b.homepage||"",Be=!!b.is_on_exhibition,_e=Ne?Ne.startsWith("http")?Ne:`https://${Ne}`:"",xe=async()=>{if(!r){y("/login");return}try{$e?await userInstance.delete("/api/likes",{data:{liked_id:x,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:x,liked_type:"artist"}),await O()}catch(ct){console.error("   :",ct)}},Le=()=>{_e&&window.open(_e,"_blank","noopener,noreferrer")},Ue=()=>{const ct=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${B}`,text:`${B}   !`,url:ct}).catch(ot=>console.error(" :",ot));else{const ot=document.createElement("textarea");ot.value=ct,document.body.appendChild(ot),ot.select();try{document.execCommand("copy"),alert("  .")}catch(pt){console.error("  :",pt),alert("  .")}finally{document.body.removeChild(ot)}}},He=[{label:"",content:U||" "},{label:"",content:K||" "},{label:" ",content:Be?" ":"  "},{label:" ",content:`${pe.toLocaleString()}`}],qe=[{key:"profile",label:""},{key:"exhibitions",label:` (${ae.length||0})`},{key:"artworks",label:` (${ue.length||0})`}],Qe=()=>{if(!ae.length)return jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});const ct=ae.map((ot={})=>{const pt=getExhibitionStatus(ot.exhibition_start_date,ot.exhibition_end_date);return{exhibition_id:ot.id,exhibition_poster:ot.exhibition_poster,exhibition_title:ot.exhibition_title,exhibition_status:pt,exhibition_location:ot.exhibition_location||ot.location||"  ",exhibition_start_date:ot.exhibition_start_date,exhibition_end_date:ot.exhibition_end_date}});return jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:ct})},lt=()=>ue.length?jsxRuntimeExports.jsx("div",{className:styles$h.artworkGrid,children:ue.map(({id:ct,art_title:ot,art_image:pt,title:yt,imageUrl:it})=>{const Ke=ot||yt||"",Je=pt||it||"";return jsxRuntimeExports.jsxs("div",{className:styles$h.artworkCard,children:[jsxRuntimeExports.jsx("img",{className:styles$h.artworkImage,src:Je,alt:Ke}),jsxRuntimeExports.jsx("p",{className:styles$h.artworkTitle,children:Ke})]},`${ct}-${Ke}`)})}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});return jsxRuntimeExports.jsxs("div",{className:styles$h.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$h.breadcrumbBack,onClick:()=>y("/artists"),children:""})," ","> ",B]}),jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("img",{className:styles$h.artistImage,src:J,alt:`${B}  `}),Be&&jsxRuntimeExports.jsx("div",{className:styles$h.statusBadge,children:""}),jsxRuntimeExports.jsxs("section",{className:styles$h.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$h.artistTitle,children:B}),(U||K)&&jsxRuntimeExports.jsx("p",{className:styles$h.artistSubTitle,children:[U,K].filter(Boolean).join(" | ")})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:xe,children:[jsxRuntimeExports.jsx(FaHeart,{className:`${styles$h.icon} ${$e?styles$h.likedIcon:""}`})," "]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,disabled:!_e,onClick:Le,children:[jsxRuntimeExports.jsx(FaHome,{className:styles$h.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:Ue,children:[jsxRuntimeExports.jsx(FaShare,{className:styles$h.icon}),""]})]}),jsxRuntimeExports.jsx("section",{className:styles$h.infoList,children:He.map(({label:ct,content:ot})=>{const pt=!ot||typeof ot=="string"&&ot.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$h.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$h.infoLabel,children:ct}),jsxRuntimeExports.jsx("div",{className:`${styles$h.infoContent} ${pt?styles$h.emptyInfo:""}`,children:ot})]},ct)})})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:qe,activeTab:T,setActiveTab:A,children:[T==="profile"&&(te?jsxRuntimeExports.jsx("div",{className:styles$h.descriptionParagraph,dangerouslySetInnerHTML:{__html:te}}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."})),T==="exhibitions"&&Qe(),T==="artworks"&&lt()]}),jsxRuntimeExports.jsx("button",{className:styles$h.backButton,onClick:()=>y("/artists"),children:" "})]})}const layout$7="_layout_12g56_1",loginTitle="_loginTitle_12g56_15",subParagraph="_subParagraph_12g56_27",contentContainer="_contentContainer_12g56_37",submitButton$1="_submitButton_12g56_55",loginForm="_loginForm_12g56_105",styles$g={layout:layout$7,loginTitle,subParagraph,contentContainer,submitButton:submitButton$1,loginForm},layout$6="_layout_1os45_1",navigateLink="_navigateLink_1os45_19",termParagraph="_termParagraph_1os45_59",termLink="_termLink_1os45_77",registerButton="_registerButton_1os45_85",styles$f={layout:layout$6,navigateLink,termParagraph,termLink,registerButton};function SupportSection(){return jsxRuntimeExports.jsxs("section",{className:styles$f.layout,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$f.navigateLink,to:"/find",children:" /  "}),jsxRuntimeExports.jsxs("p",{className:styles$f.termParagraph,children:["    ,",jsxRuntimeExports.jsx("br",{})," "," ",jsxRuntimeExports.jsx(Link$1,{className:styles$f.termLink,children:"  "}),"",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsx(Link$1,{className:styles$f.registerButton,to:"/register",children:" "})]})}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const x=[];let y=0;for(let b=0;b<r.length;b++){let R=r.charCodeAt(b);R<128?x[y++]=R:R<2048?(x[y++]=R>>6|192,x[y++]=R&63|128):(R&64512)===55296&&b+1<r.length&&(r.charCodeAt(b+1)&64512)===56320?(R=65536+((R&1023)<<10)+(r.charCodeAt(++b)&1023),x[y++]=R>>18|240,x[y++]=R>>12&63|128,x[y++]=R>>6&63|128,x[y++]=R&63|128):(x[y++]=R>>12|224,x[y++]=R>>6&63|128,x[y++]=R&63|128)}return x},byteArrayToString=function(r){const x=[];let y=0,b=0;for(;y<r.length;){const R=r[y++];if(R<128)x[b++]=String.fromCharCode(R);else if(R>191&&R<224){const T=r[y++];x[b++]=String.fromCharCode((R&31)<<6|T&63)}else if(R>239&&R<365){const T=r[y++],A=r[y++],O=r[y++],B=((R&7)<<18|(T&63)<<12|(A&63)<<6|O&63)-65536;x[b++]=String.fromCharCode(55296+(B>>10)),x[b++]=String.fromCharCode(56320+(B&1023))}else{const T=r[y++],A=r[y++];x[b++]=String.fromCharCode((R&15)<<12|(T&63)<<6|A&63)}}return x.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,x){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let R=0;R<r.length;R+=3){const T=r[R],A=R+1<r.length,O=A?r[R+1]:0,B=R+2<r.length,U=B?r[R+2]:0,K=T>>2,J=(T&3)<<4|O>>4;let te=(O&15)<<2|U>>6,ae=U&63;B||(ae=64,A||(te=64)),b.push(y[K],y[J],y[te],y[ae])}return b.join("")},encodeString(r,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(r):this.encodeByteArray(stringToByteArray$1(r),x)},decodeString(r,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(r):byteArrayToString(this.decodeStringToByteArray(r,x))},decodeStringToByteArray(r,x){this.init_();const y=x?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let R=0;R<r.length;){const T=y[r.charAt(R++)],O=R<r.length?y[r.charAt(R)]:0;++R;const U=R<r.length?y[r.charAt(R)]:64;++R;const J=R<r.length?y[r.charAt(R)]:64;if(++R,T==null||O==null||U==null||J==null)throw new DecodeBase64StringError;const te=T<<2|O>>4;if(b.push(te),U!==64){const ae=O<<4&240|U>>2;if(b.push(ae),J!==64){const ue=U<<6&192|J;b.push(ue)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(r){const x=stringToByteArray$1(r);return base64.encodeByteArray(x,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64.decodeString(r,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const r=define_process_env_default.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=r&&base64Decode(r[1]);return x&&JSON.parse(x)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},getDefaultAppConfig=()=>{var r;return(r=getDefaults())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,y)=>{this.resolve=x,this.reject=y})}wrapCallback(x){return(y,b)=>{y?this.reject(y):this.resolve(b),typeof x=="function"&&(this.promise.catch(()=>{}),x.length===1?x(y):x(y,b))}}}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((r,x)=>{try{let y=!0;const b="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(b);R.onsuccess=()=>{R.result.close(),y||self.indexedDB.deleteDatabase(b),r(!0)},R.onupgradeneeded=()=>{y=!1},R.onerror=()=>{var T;x(((T=R.error)==null?void 0:T.message)||"")}}catch(y){x(y)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(x,y,b){super(y),this.code=x,this.customData=b,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(x,y,b){this.service=x,this.serviceName=y,this.errors=b}create(x,...y){const b=y[0]||{},R=`${this.service}/${x}`,T=this.errors[x],A=T?replaceTemplate(T,b):"Error",O=`${this.serviceName}: ${A} (${R}).`;return new FirebaseError(R,O,b)}}function replaceTemplate(r,x){return r.replace(PATTERN,(y,b)=>{const R=x[b];return R!=null?String(R):`<${b}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual$1(r,x){if(r===x)return!0;const y=Object.keys(r),b=Object.keys(x);for(const R of y){if(!b.includes(R))return!1;const T=r[R],A=x[R];if(isObject$1(T)&&isObject$1(A)){if(!deepEqual$1(T,A))return!1}else if(T!==A)return!1}for(const R of b)if(!y.includes(R))return!1;return!0}function isObject$1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(r,x=DEFAULT_INTERVAL_MILLIS,y=DEFAULT_BACKOFF_FACTOR){const b=x*Math.pow(y,r),R=Math.round(RANDOM_FACTOR*b*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,b+R)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}class Component{constructor(x,y,b){this.name=x,this.instanceFactory=y,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(x,y){this.name=x,this.container=y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const y=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(y)){const b=new Deferred;if(this.instancesDeferred.set(y,b),this.isInitialized(y)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:y});R&&b.resolve(R)}catch{}}return this.instancesDeferred.get(y).promise}getImmediate(x){const y=this.normalizeInstanceIdentifier(x==null?void 0:x.identifier),b=(x==null?void 0:x.optional)??!1;if(this.isInitialized(y)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:y})}catch(R){if(b)return null;throw R}else{if(b)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,!!this.shouldAutoInitialize()){if(isComponentEager(x))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[y,b]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(y);try{const T=this.getOrInitializeService({instanceIdentifier:R});b.resolve(T)}catch{}}}}clearInstance(x=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}async delete(){const x=Array.from(this.instances.values());await Promise.all([...x.filter(y=>"INTERNAL"in y).map(y=>y.INTERNAL.delete()),...x.filter(y=>"_delete"in y).map(y=>y._delete())])}isComponentSet(){return this.component!=null}isInitialized(x=DEFAULT_ENTRY_NAME$1){return this.instances.has(x)}getOptions(x=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:y={}}=x,b=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:b,options:y});for(const[T,A]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(T);b===O&&A.resolve(R)}return R}onInit(x,y){const b=this.normalizeInstanceIdentifier(y),R=this.onInitCallbacks.get(b)??new Set;R.add(x),this.onInitCallbacks.set(b,R);const T=this.instances.get(b);return T&&x(T,b),()=>{R.delete(x)}}invokeOnInitCallbacks(x,y){const b=this.onInitCallbacks.get(y);if(b)for(const R of b)try{R(x,y)}catch{}}getOrInitializeService({instanceIdentifier:x,options:y={}}){let b=this.instances.get(x);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(x),options:y}),this.instances.set(x,b),this.instancesOptions.set(x,y),this.invokeOnInitCallbacks(b,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,b)}catch{}return b||null}normalizeInstanceIdentifier(x=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?x:DEFAULT_ENTRY_NAME$1:x}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const y=this.getProvider(x.name);if(y.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);y.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const y=new Provider(x,this);return this.providers.set(x,y),y}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,x,...y)=>{if(x<r.logLevel)return;const b=new Date().toISOString(),R=ConsoleMethod[x];if(R)console[R](`[${b}]  ${r.name}:`,...y);else throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`)};class Logger{constructor(x){this.name=x,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(x){if(!(x in LogLevel))throw new TypeError(`Invalid value "${x}" assigned to \`logLevel\``);this._logLevel=x}setLogLevel(x){this._logLevel=typeof x=="string"?levelStringToEnum[x]:x}get logHandler(){return this._logHandler}set logHandler(x){if(typeof x!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=x}get userLogHandler(){return this._userLogHandler}set userLogHandler(x){this._userLogHandler=x}debug(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...x),this._logHandler(this,LogLevel.DEBUG,...x)}log(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...x),this._logHandler(this,LogLevel.VERBOSE,...x)}info(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...x),this._logHandler(this,LogLevel.INFO,...x)}warn(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...x),this._logHandler(this,LogLevel.WARN,...x)}error(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...x),this._logHandler(this,LogLevel.ERROR,...x)}}const instanceOfAny=(r,x)=>x.some(y=>r instanceof y);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(r){const x=new Promise((y,b)=>{const R=()=>{r.removeEventListener("success",T),r.removeEventListener("error",A)},T=()=>{y(wrap$1(r.result)),R()},A=()=>{b(r.error),R()};r.addEventListener("success",T),r.addEventListener("error",A)});return x.then(y=>{y instanceof IDBCursor&&cursorRequestMap.set(y,r)}).catch(()=>{}),reverseTransformCache.set(x,r),x}function cacheDonePromiseForTransaction(r){if(transactionDoneMap.has(r))return;const x=new Promise((y,b)=>{const R=()=>{r.removeEventListener("complete",T),r.removeEventListener("error",A),r.removeEventListener("abort",A)},T=()=>{y(),R()},A=()=>{b(r.error||new DOMException("AbortError","AbortError")),R()};r.addEventListener("complete",T),r.addEventListener("error",A),r.addEventListener("abort",A)});transactionDoneMap.set(r,x)}let idbProxyTraps={get(r,x,y){if(r instanceof IDBTransaction){if(x==="done")return transactionDoneMap.get(r);if(x==="objectStoreNames")return r.objectStoreNames||transactionStoreNamesMap.get(r);if(x==="store")return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return wrap$1(r[x])},set(r,x,y){return r[x]=y,!0},has(r,x){return r instanceof IDBTransaction&&(x==="done"||x==="store")?!0:x in r}};function replaceTraps(r){idbProxyTraps=r(idbProxyTraps)}function wrapFunction(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(x,...y){const b=r.call(unwrap(this),x,...y);return transactionStoreNamesMap.set(b,x.sort?x.sort():[x]),wrap$1(b)}:getCursorAdvanceMethods().includes(r)?function(...x){return r.apply(unwrap(this),x),wrap$1(cursorRequestMap.get(this))}:function(...x){return wrap$1(r.apply(unwrap(this),x))}}function transformCachableValue(r){return typeof r=="function"?wrapFunction(r):(r instanceof IDBTransaction&&cacheDonePromiseForTransaction(r),instanceOfAny(r,getIdbProxyableTypes())?new Proxy(r,idbProxyTraps):r)}function wrap$1(r){if(r instanceof IDBRequest)return promisifyRequest(r);if(transformCache.has(r))return transformCache.get(r);const x=transformCachableValue(r);return x!==r&&(transformCache.set(r,x),reverseTransformCache.set(x,r)),x}const unwrap=r=>reverseTransformCache.get(r);function openDB(r,x,{blocked:y,upgrade:b,blocking:R,terminated:T}={}){const A=indexedDB.open(r,x),O=wrap$1(A);return b&&A.addEventListener("upgradeneeded",B=>{b(wrap$1(A.result),B.oldVersion,B.newVersion,wrap$1(A.transaction),B)}),y&&A.addEventListener("blocked",B=>y(B.oldVersion,B.newVersion,B)),O.then(B=>{T&&B.addEventListener("close",()=>T()),R&&B.addEventListener("versionchange",U=>R(U.oldVersion,U.newVersion,U))}).catch(()=>{}),O}function deleteDB(r,{blocked:x}={}){const y=indexedDB.deleteDatabase(r);return x&&y.addEventListener("blocked",b=>x(b.oldVersion,b)),wrap$1(y).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(r,x){if(!(r instanceof IDBDatabase&&!(x in r)&&typeof x=="string"))return;if(cachedMethods.get(x))return cachedMethods.get(x);const y=x.replace(/FromIndex$/,""),b=x!==y,R=writeMethods.includes(y);if(!(y in(b?IDBIndex:IDBObjectStore).prototype)||!(R||readMethods.includes(y)))return;const T=async function(A,...O){const B=this.transaction(A,R?"readwrite":"readonly");let U=B.store;return b&&(U=U.index(O.shift())),(await Promise.all([U[y](...O),R&&B.done]))[0]};return cachedMethods.set(x,T),T}replaceTraps(r=>({...r,get:(x,y,b)=>getMethod(x,y)||r.get(x,y,b),has:(x,y)=>!!getMethod(x,y)||r.has(x,y)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(y=>{if(isVersionServiceProvider(y)){const b=y.getImmediate();return`${b.library}/${b.version}`}else return null}).filter(y=>y).join(" ")}}function isVersionServiceProvider(r){const x=r.getComponent();return(x==null?void 0:x.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(r,x){try{r.container.addComponent(x)}catch(y){logger$1.debug(`Component ${x.name} failed to register with FirebaseApp ${r.name}`,y)}}function _registerComponent(r){const x=r.name;if(_components.has(x))return logger$1.debug(`There were multiple attempts to register component ${x}.`),!1;_components.set(x,r);for(const y of _apps.values())_addComponent(y,r);for(const y of _serverApps.values())_addComponent(y,r);return!0}function _getProvider(r,x){const y=r.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),r.container.getProvider(x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$3=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(x,y,b){this._isDeleted=!1,this._options={...x},this._config={...y},this._name=y.name,this._automaticDataCollectionEnabled=y.automaticDataCollectionEnabled,this._container=b,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$3.create("app-deleted",{appName:this._name})}}function initializeApp(r,x={}){let y=r;typeof x!="object"&&(x={name:x});const b={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...x},R=b.name;if(typeof R!="string"||!R)throw ERROR_FACTORY$3.create("bad-app-name",{appName:String(R)});if(y||(y=getDefaultAppConfig()),!y)throw ERROR_FACTORY$3.create("no-options");const T=_apps.get(R);if(T){if(deepEqual$1(y,T.options)&&deepEqual$1(b,T.config))return T;throw ERROR_FACTORY$3.create("duplicate-app",{appName:R})}const A=new ComponentContainer(R);for(const B of _components.values())A.addComponent(B);const O=new FirebaseAppImpl(y,b,A);return _apps.set(R,O),O}function getApp(r=DEFAULT_ENTRY_NAME){const x=_apps.get(r);if(!x&&r===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!x)throw ERROR_FACTORY$3.create("no-app",{appName:r});return x}function registerVersion(r,x,y){let b=PLATFORM_LOG_STRING[r]??r;y&&(b+=`-${y}`);const R=b.match(/\s|\//),T=x.match(/\s|\//);if(R||T){const A=[`Unable to register library "${b}" with version "${x}":`];R&&A.push(`library name "${b}" contains illegal characters (whitespace or "/")`),R&&T&&A.push("and"),T&&A.push(`version name "${x}" contains illegal characters (whitespace or "/")`),logger$1.warn(A.join(" "));return}_registerComponent(new Component(`${b}-version`,()=>({library:b,version:x}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$2=null;function getDbPromise$2(){return dbPromise$2||(dbPromise$2=openDB(DB_NAME,DB_VERSION,{upgrade:(r,x)=>{switch(x){case 0:try{r.createObjectStore(STORE_NAME)}catch(y){console.warn(y)}}}}).catch(r=>{throw ERROR_FACTORY$3.create("idb-open",{originalErrorMessage:r.message})})),dbPromise$2}async function readHeartbeatsFromIndexedDB(r){try{const y=(await getDbPromise$2()).transaction(STORE_NAME),b=await y.objectStore(STORE_NAME).get(computeKey(r));return await y.done,b}catch(x){if(x instanceof FirebaseError)logger$1.warn(x.message);else{const y=ERROR_FACTORY$3.create("idb-get",{originalErrorMessage:x==null?void 0:x.message});logger$1.warn(y.message)}}}async function writeHeartbeatsToIndexedDB(r,x){try{const b=(await getDbPromise$2()).transaction(STORE_NAME,"readwrite");await b.objectStore(STORE_NAME).put(x,computeKey(r)),await b.done}catch(y){if(y instanceof FirebaseError)logger$1.warn(y.message);else{const b=ERROR_FACTORY$3.create("idb-set",{originalErrorMessage:y==null?void 0:y.message});logger$1.warn(b.message)}}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(x){this.container=x,this._heartbeatsCache=null;const y=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(y),this._heartbeatsCachePromise=this._storage.read().then(b=>(this._heartbeatsCache=b,b))}async triggerHeartbeat(){var x,y;try{const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),T=getUTCDateString();if(((x=this._heartbeatsCache)==null?void 0:x.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((y=this._heartbeatsCache)==null?void 0:y.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===T||this._heartbeatsCache.heartbeats.some(A=>A.date===T))return;if(this._heartbeatsCache.heartbeats.push({date:T,agent:R}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const A=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(A,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(b){logger$1.warn(b)}}async getHeartbeatsHeader(){var x;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((x=this._heartbeatsCache)==null?void 0:x.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const y=getUTCDateString(),{heartbeatsToSend:b,unsentEntries:R}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),T=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=y,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),T}catch(y){return logger$1.warn(y),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,x=MAX_HEADER_BYTES){const y=[];let b=r.slice();for(const R of r){const T=y.find(A=>A.agent===R.agent);if(T){if(T.dates.push(R.date),countBytes(y)>x){T.dates.pop();break}}else if(y.push({agent:R.agent,dates:[R.date]}),countBytes(y)>x){y.pop();break}b=b.slice(1)}return{heartbeatsToSend:y,unsentEntries:b}}class HeartbeatStorageImpl{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const y=await readHeartbeatsFromIndexedDB(this.app);return y!=null&&y.heartbeats?y:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(x){if(await this._canUseIndexedDBPromise){const b=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:x.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:x.heartbeats})}else return}async add(x){if(await this._canUseIndexedDBPromise){const b=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:x.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...x.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}function getEarliestHeartbeatIdx(r){if(r.length===0)return-1;let x=0,y=r[0].date;for(let b=1;b<r.length;b++)r[b].date<y&&(y=r[b].date,x=b);return x}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",x=>new PlatformLoggerServiceImpl(x),"PRIVATE")),_registerComponent(new Component("heartbeat",x=>new HeartbeatServiceImpl(x),"PRIVATE")),registerVersion(name$q,version$1$1,r),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");const name$4="@firebase/installations",version$3="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$3}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$2=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(r){return r instanceof FirebaseError&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:r}){return`${INSTALLATIONS_API_URL}/projects/${r}/installations`}function extractAuthTokenInfoFromResponse(r){return{token:r.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(r.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(r,x){const b=(await x.json()).error;return ERROR_FACTORY$2.create("request-failed",{requestName:r,serverCode:b.code,serverMessage:b.message,serverStatus:b.status})}function getHeaders$2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function getHeadersWithAuth(r,{refreshToken:x}){const y=getHeaders$2(r);return y.append("Authorization",getAuthorizationHeader(x)),y}async function retryIfServerError(r){const x=await r();return x.status>=500&&x.status<600?r():x}function getExpiresInFromResponseExpiresIn(r){return Number(r.replace("s","000"))}function getAuthorizationHeader(r){return`${INTERNAL_AUTH_VERSION} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:r,heartbeatServiceProvider:x},{fid:y}){const b=getInstallationsEndpoint(r),R=getHeaders$2(r),T=x.getImmediate({optional:!0});if(T){const U=await T.getHeartbeatsHeader();U&&R.append("x-firebase-client",U)}const A={fid:y,authVersion:INTERNAL_AUTH_VERSION,appId:r.appId,sdkVersion:PACKAGE_VERSION},O={method:"POST",headers:R,body:JSON.stringify(A)},B=await retryIfServerError(()=>fetch(b,O));if(B.ok){const U=await B.json();return{fid:U.fid||y,registrationStatus:2,refreshToken:U.refreshToken,authToken:extractAuthTokenInfoFromResponse(U.authToken)}}else throw await getErrorFromResponse("Create Installation",B)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(r){return new Promise(x=>{setTimeout(x,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const y=encode(r);return VALID_FID_PATTERN.test(y)?y:INVALID_FID}catch{return INVALID_FID}}function encode(r){return bufferToBase64UrlSafe(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$1(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(r,x){const y=getKey$1(r);callFidChangeCallbacks(y,x),broadcastFidChange(y,x)}function callFidChangeCallbacks(r,x){const y=fidChangeCallbacks.get(r);if(y)for(const b of y)b(x)}function broadcastFidChange(r,x){const y=getBroadcastChannel();y&&y.postMessage({key:r,fid:x}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=r=>{callFidChangeCallbacks(r.data.key,r.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-installations-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-installations-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(r,x)=>{switch(x){case 0:r.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function set(r,x){const y=getKey$1(r),R=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),T=R.objectStore(OBJECT_STORE_NAME$1),A=await T.get(y);return await T.put(x,y),await R.done,(!A||A.fid!==x.fid)&&fidChanged(r,x.fid),x}async function remove(r){const x=getKey$1(r),b=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await b.objectStore(OBJECT_STORE_NAME$1).delete(x),await b.done}async function update(r,x){const y=getKey$1(r),R=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),T=R.objectStore(OBJECT_STORE_NAME$1),A=await T.get(y),O=x(A);return O===void 0?await T.delete(y):await T.put(O,y),await R.done,O&&(!A||A.fid!==O.fid)&&fidChanged(r,O.fid),O}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(r){let x;const y=await update(r.appConfig,b=>{const R=updateOrCreateInstallationEntry(b),T=triggerRegistrationIfNecessary(r,R);return x=T.registrationPromise,T.installationEntry});return y.fid===INVALID_FID?{installationEntry:await x}:{installationEntry:y,registrationPromise:x}}function updateOrCreateInstallationEntry(r){const x=r||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(x)}function triggerRegistrationIfNecessary(r,x){if(x.registrationStatus===0){if(!navigator.onLine){const R=Promise.reject(ERROR_FACTORY$2.create("app-offline"));return{installationEntry:x,registrationPromise:R}}const y={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},b=registerInstallation(r,y);return{installationEntry:y,registrationPromise:b}}else return x.registrationStatus===1?{installationEntry:x,registrationPromise:waitUntilFidRegistration(r)}:{installationEntry:x}}async function registerInstallation(r,x){try{const y=await createInstallationRequest(r,x);return set(r.appConfig,y)}catch(y){throw isServerError(y)&&y.customData.serverCode===409?await remove(r.appConfig):await set(r.appConfig,{fid:x.fid,registrationStatus:0}),y}}async function waitUntilFidRegistration(r){let x=await updateInstallationRequest(r.appConfig);for(;x.registrationStatus===1;)await sleep(100),x=await updateInstallationRequest(r.appConfig);if(x.registrationStatus===0){const{installationEntry:y,registrationPromise:b}=await getInstallationEntry(r);return b||y}return x}function updateInstallationRequest(r){return update(r,x=>{if(!x)throw ERROR_FACTORY$2.create("installation-not-found");return clearTimedOutRequest(x)})}function clearTimedOutRequest(r){return hasInstallationRequestTimedOut(r)?{fid:r.fid,registrationStatus:0}:r}function hasInstallationRequestTimedOut(r){return r.registrationStatus===1&&r.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:r,heartbeatServiceProvider:x},y){const b=getGenerateAuthTokenEndpoint(r,y),R=getHeadersWithAuth(r,y),T=x.getImmediate({optional:!0});if(T){const U=await T.getHeartbeatsHeader();U&&R.append("x-firebase-client",U)}const A={installation:{sdkVersion:PACKAGE_VERSION,appId:r.appId}},O={method:"POST",headers:R,body:JSON.stringify(A)},B=await retryIfServerError(()=>fetch(b,O));if(B.ok){const U=await B.json();return extractAuthTokenInfoFromResponse(U)}else throw await getErrorFromResponse("Generate Auth Token",B)}function getGenerateAuthTokenEndpoint(r,{fid:x}){return`${getInstallationsEndpoint(r)}/${x}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(r,x=!1){let y;const b=await update(r.appConfig,T=>{if(!isEntryRegistered(T))throw ERROR_FACTORY$2.create("not-registered");const A=T.authToken;if(!x&&isAuthTokenValid(A))return T;if(A.requestStatus===1)return y=waitUntilAuthTokenRequest(r,x),T;{if(!navigator.onLine)throw ERROR_FACTORY$2.create("app-offline");const O=makeAuthTokenRequestInProgressEntry(T);return y=fetchAuthTokenFromServer(r,O),O}});return y?await y:b.authToken}async function waitUntilAuthTokenRequest(r,x){let y=await updateAuthTokenRequest(r.appConfig);for(;y.authToken.requestStatus===1;)await sleep(100),y=await updateAuthTokenRequest(r.appConfig);const b=y.authToken;return b.requestStatus===0?refreshAuthToken(r,x):b}function updateAuthTokenRequest(r){return update(r,x=>{if(!isEntryRegistered(x))throw ERROR_FACTORY$2.create("not-registered");const y=x.authToken;return hasAuthTokenRequestTimedOut(y)?{...x,authToken:{requestStatus:0}}:x})}async function fetchAuthTokenFromServer(r,x){try{const y=await generateAuthTokenRequest(r,x),b={...x,authToken:y};return await set(r.appConfig,b),y}catch(y){if(isServerError(y)&&(y.customData.serverCode===401||y.customData.serverCode===404))await remove(r.appConfig);else{const b={...x,authToken:{requestStatus:0}};await set(r.appConfig,b)}throw y}}function isEntryRegistered(r){return r!==void 0&&r.registrationStatus===2}function isAuthTokenValid(r){return r.requestStatus===2&&!isAuthTokenExpired(r)}function isAuthTokenExpired(r){const x=Date.now();return x<r.creationTime||r.creationTime+r.expiresIn<x+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(r){const x={requestStatus:1,requestTime:Date.now()};return{...r,authToken:x}}function hasAuthTokenRequestTimedOut(r){return r.requestStatus===1&&r.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(r){const x=r,{installationEntry:y,registrationPromise:b}=await getInstallationEntry(x);return b?b.catch(console.error):refreshAuthToken(x).catch(console.error),y.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$2(r,x=!1){const y=r;return await completeInstallationRegistration(y),(await refreshAuthToken(y,x)).token}async function completeInstallationRegistration(r){const{registrationPromise:x}=await getInstallationEntry(r);x&&await x}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(r){if(!r||!r.options)throw getMissingValueError$1("App Configuration");if(!r.name)throw getMissingValueError$1("App Name");const x=["projectId","apiKey","appId"];for(const y of x)if(!r.options[y])throw getMissingValueError$1(y);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function getMissingValueError$1(r){return ERROR_FACTORY$2.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=r=>{const x=r.getProvider("app").getImmediate(),y=extractAppConfig$1(x),b=_getProvider(x,"heartbeat");return{app:x,appConfig:y,heartbeatServiceProvider:b,_delete:()=>Promise.resolve()}},internalFactory=r=>{const x=r.getProvider("app").getImmediate(),y=_getProvider(x,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(y),getToken:R=>getToken$2(y,R)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$4,version$3);registerVersion(name$4,version$3,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e",DEFAULT_REGISTRATION_TIMEOUT=1e4;var MessageType$1;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(r){const x=new Uint8Array(r);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(r){const x="=".repeat((4-r.length%4)%4),y=(r+x).replace(/\-/g,"+").replace(/_/g,"/"),b=atob(y),R=new Uint8Array(b.length);for(let T=0;T<b.length;++T)R[T]=b.charCodeAt(T);return R}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(T=>T.name).includes(OLD_DB_NAME))return null;let x=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(b,R,T,A)=>{if(R<2||!b.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const O=A.objectStore(OLD_OBJECT_STORE_NAME),B=await O.index("fcmSenderId").get(r);if(await O.clear(),!!B){if(R===2){const U=B;if(!U.auth||!U.p256dh||!U.endpoint)return;x={token:U.fcmToken,createTime:U.createTime??Date.now(),subscriptionOptions:{auth:U.auth,p256dh:U.p256dh,endpoint:U.endpoint,swScope:U.swScope,vapidKey:typeof U.vapidKey=="string"?U.vapidKey:arrayToBase64(U.vapidKey)}}}else if(R===3){const U=B;x={token:U.fcmToken,createTime:U.createTime,subscriptionOptions:{auth:arrayToBase64(U.auth),p256dh:arrayToBase64(U.p256dh),endpoint:U.endpoint,swScope:U.swScope,vapidKey:arrayToBase64(U.vapidKey)}}}else if(R===4){const U=B;x={token:U.fcmToken,createTime:U.createTime,subscriptionOptions:{auth:arrayToBase64(U.auth),p256dh:arrayToBase64(U.p256dh),endpoint:U.endpoint,swScope:U.swScope,vapidKey:arrayToBase64(U.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(x)?x:null}function checkTokenDetails(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:x}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof x.auth=="string"&&x.auth.length>0&&typeof x.p256dh=="string"&&x.p256dh.length>0&&typeof x.endpoint=="string"&&x.endpoint.length>0&&typeof x.swScope=="string"&&x.swScope.length>0&&typeof x.vapidKey=="string"&&x.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(r,x)=>{switch(x){case 0:r.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(r){const x=getKey(r),b=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(x);if(b)return b;{const R=await migrateOldDatabase(r.appConfig.senderId);if(R)return await dbSet(r,R),R}}async function dbSet(r,x){const y=getKey(r),R=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await R.objectStore(OBJECT_STORE_NAME).put(x,y),await R.done,x}function getKey({appConfig:r}){return r.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$1=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(r,x){const y=await getHeaders$1(r),b=getBody(x),R={method:"POST",headers:y,body:JSON.stringify(b)};let T;try{T=await(await fetch(getEndpoint(r.appConfig),R)).json()}catch(A){throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:A==null?void 0:A.toString()})}if(T.error){const A=T.error.message;throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:A})}if(!T.token)throw ERROR_FACTORY$1.create("token-subscribe-no-token");return T.token}async function requestUpdateToken(r,x){const y=await getHeaders$1(r),b=getBody(x.subscriptionOptions),R={method:"PATCH",headers:y,body:JSON.stringify(b)};let T;try{T=await(await fetch(`${getEndpoint(r.appConfig)}/${x.token}`,R)).json()}catch(A){throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:A==null?void 0:A.toString()})}if(T.error){const A=T.error.message;throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:A})}if(!T.token)throw ERROR_FACTORY$1.create("token-update-no-token");return T.token}async function requestDeleteToken(r,x){const b={method:"DELETE",headers:await getHeaders$1(r)};try{const T=await(await fetch(`${getEndpoint(r.appConfig)}/${x}`,b)).json();if(T.error){const A=T.error.message;throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:A})}}catch(R){throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:R==null?void 0:R.toString()})}}function getEndpoint({projectId:r}){return`${ENDPOINT}/projects/${r}/registrations`}async function getHeaders$1({appConfig:r,installations:x}){const y=await x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${y}`})}function getBody({p256dh:r,auth:x,endpoint:y,vapidKey:b}){const R={web:{endpoint:y,auth:x,p256dh:r}};return b!==DEFAULT_VAPID_KEY&&(R.web.applicationPubKey=b),R}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=10080*60*1e3;async function getTokenInternal(r){const x=await getPushSubscription(r.swRegistration,r.vapidKey),y={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:x.endpoint,auth:arrayToBase64(x.getKey("auth")),p256dh:arrayToBase64(x.getKey("p256dh"))},b=await dbGet(r.firebaseDependencies);if(b){if(isTokenValid(b.subscriptionOptions,y))return Date.now()>=b.createTime+TOKEN_EXPIRATION_MS?updateToken(r,{token:b.token,createTime:Date.now(),subscriptionOptions:y}):b.token;try{await requestDeleteToken(r.firebaseDependencies,b.token)}catch(R){console.warn(R)}return getNewToken(r.firebaseDependencies,y)}else return getNewToken(r.firebaseDependencies,y)}async function updateToken(r,x){try{const y=await requestUpdateToken(r.firebaseDependencies,x),b={...x,token:y,createTime:Date.now()};return await dbSet(r.firebaseDependencies,b),y}catch(y){throw y}}async function getNewToken(r,x){const b={token:await requestGetToken(r,x),createTime:Date.now(),subscriptionOptions:x};return await dbSet(r,b),b.token}async function getPushSubscription(r,x){const y=await r.pushManager.getSubscription();return y||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(x)})}function isTokenValid(r,x){const y=x.vapidKey===r.vapidKey,b=x.endpoint===r.endpoint,R=x.auth===r.auth,T=x.p256dh===r.p256dh;return y&&b&&R&&T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(r){const x={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return propagateNotificationPayload(x,r),propagateDataPayload(x,r),propagateFcmOptions(x,r),x}function propagateNotificationPayload(r,x){if(!x.notification)return;r.notification={};const y=x.notification.title;y&&(r.notification.title=y);const b=x.notification.body;b&&(r.notification.body=b);const R=x.notification.image;R&&(r.notification.image=R);const T=x.notification.icon;T&&(r.notification.icon=T)}function propagateDataPayload(r,x){x.data&&(r.data=x.data)}function propagateFcmOptions(r,x){var R,T,A,O;if(!x.fcmOptions&&!((R=x.notification)!=null&&R.click_action))return;r.fcmOptions={};const y=((T=x.fcmOptions)==null?void 0:T.link)??((A=x.notification)==null?void 0:A.click_action);y&&(r.fcmOptions.link=y);const b=(O=x.fcmOptions)==null?void 0:O.analytics_label;b&&(r.fcmOptions.analyticsLabel=b)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(r){return typeof r=="object"&&!!r&&CONSOLE_CAMPAIGN_ID in r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(r){if(!r||!r.options)throw getMissingValueError("App Configuration Object");if(!r.name)throw getMissingValueError("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:y}=r;for(const b of x)if(!y[b])throw getMissingValueError(b);return{appName:r.name,projectId:y.projectId,apiKey:y.apiKey,appId:y.appId,senderId:y.messagingSenderId}}function getMissingValueError(r){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(x,y,b){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const R=extractAppConfig(x);this.firebaseDependencies={app:x,appConfig:R,installations:y,analyticsProvider:b}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(r){try{r.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),r.swRegistration.update().catch(()=>{}),await waitForRegistrationActive(r.swRegistration)}catch(x){throw ERROR_FACTORY$1.create("failed-service-worker-registration",{browserErrorMessage:x==null?void 0:x.message})}}async function waitForRegistrationActive(r){return new Promise((x,y)=>{const b=setTimeout(()=>y(new Error(`Service worker not registered after ${DEFAULT_REGISTRATION_TIMEOUT} ms`)),DEFAULT_REGISTRATION_TIMEOUT),R=r.installing||r.waiting;r.active?(clearTimeout(b),x()):R?R.onstatechange=T=>{var A;((A=T.target)==null?void 0:A.state)==="activated"&&(R.onstatechange=null,clearTimeout(b),x())}:(clearTimeout(b),y(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(r,x){if(!x&&!r.swRegistration&&await registerDefaultSw(r),!(!x&&r.swRegistration)){if(!(x instanceof ServiceWorkerRegistration))throw ERROR_FACTORY$1.create("invalid-sw-registration");r.swRegistration=x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(r,x){x?r.vapidKey=x:r.vapidKey||(r.vapidKey=DEFAULT_VAPID_KEY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(r,x){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY$1.create("permission-blocked");return await updateVapidKey(r,x==null?void 0:x.vapidKey),await updateSwReg(r,x==null?void 0:x.serviceWorkerRegistration),getTokenInternal(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(r,x,y){const b=getEventType(x);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(b,{message_id:y[CONSOLE_CAMPAIGN_ID],message_name:y[CONSOLE_CAMPAIGN_NAME],message_time:y[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(r){switch(r){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(r,x){const y=x.data;if(!y.isFirebaseMessaging)return;r.onMessageHandler&&y.messageType===MessageType.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(externalizePayload(y)):r.onMessageHandler.next(externalizePayload(y)));const b=y.data;isConsoleMessage(b)&&b[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(r,y.messageType,b)}const name$3="@firebase/messaging",version$2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=r=>{const x=new MessagingService(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",y=>messageEventListener(x,y)),x},WindowMessagingInternalFactory=r=>{const x=r.getProvider("messaging").getImmediate();return{getToken:b=>getToken$1(x,b)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name$3,version$2),registerVersion(name$3,version$2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function isWindowSupported(){try{await validateIndexedDBOpenable()}catch{return!1}return typeof window<"u"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onMessage$1(r,x){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");return r.onMessageHandler=x,()=>{r.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getMessagingInWindow(r=getApp()){return isWindowSupported().then(x=>{if(!x)throw ERROR_FACTORY$1.create("unsupported-browser")},x=>{throw ERROR_FACTORY$1.create("indexed-db-unsupported")}),_getProvider(getModularInstance(r),"messaging").getImmediate()}async function getToken(r,x){return r=getModularInstance(r),getToken$1(r,x)}function onMessage(r,x){return r=getModularInstance(r),onMessage$1(r,x)}registerMessagingInWindow();var name$2="firebase",version$1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$1,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(r){if(!r.startsWith(GTAG_URL)){const x=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:r});return logger.warn(x.message),""}return r}function promiseAllSettled(r){return Promise.all(r.map(x=>x.catch(y=>y)))}function createTrustedTypesPolicy(r,x){let y;return window.trustedTypes&&(y=window.trustedTypes.createPolicy(r,x)),y}function insertScriptTag(r,x){const y=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),b=document.createElement("script"),R=`${GTAG_URL}?l=${r}&id=${x}`;b.src=y?y==null?void 0:y.createScriptURL(R):R,b.async=!0,document.head.appendChild(b)}function getOrCreateDataLayer(r){let x=[];return Array.isArray(window[r])?x=window[r]:window[r]=x,x}async function gtagOnConfig(r,x,y,b,R,T){const A=b[R];try{if(A)await x[A];else{const B=(await promiseAllSettled(y)).find(U=>U.measurementId===R);B&&await x[B.appId]}}catch(O){logger.error(O)}r("config",R,T)}async function gtagOnEvent(r,x,y,b,R){try{let T=[];if(R&&R.send_to){let A=R.send_to;Array.isArray(A)||(A=[A]);const O=await promiseAllSettled(y);for(const B of A){const U=O.find(J=>J.measurementId===B),K=U&&x[U.appId];if(K)T.push(K);else{T=[];break}}}T.length===0&&(T=Object.values(x)),await Promise.all(T),r("event",b,R||{})}catch(T){logger.error(T)}}function wrapGtag(r,x,y,b){async function R(T,...A){try{if(T==="event"){const[O,B]=A;await gtagOnEvent(r,x,y,O,B)}else if(T==="config"){const[O,B]=A;await gtagOnConfig(r,x,y,b,O,B)}else if(T==="consent"){const[O,B]=A;r("consent",O,B)}else if(T==="get"){const[O,B,U]=A;r("get",O,B,U)}else if(T==="set"){const[O]=A;r("set",O)}else r(T,...A)}catch(O){logger.error(O)}}return R}function wrapOrCreateGtag(r,x,y,b,R){let T=function(...A){window[b].push(arguments)};return window[R]&&typeof window[R]=="function"&&(T=window[R]),window[R]=wrapGtag(T,r,x,y),{gtagCore:T,wrappedGtag:window[R]}}function findGtagScriptOnPage(r){const x=window.document.getElementsByTagName("script");for(const y of Object.values(x))if(y.src&&y.src.includes(GTAG_URL)&&y.src.includes(r))return y;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(x={},y=BASE_INTERVAL_MILLIS){this.throttleMetadata=x,this.intervalMillis=y}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,y){this.throttleMetadata[x]=y}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}}const defaultRetryData=new RetryData;function getHeaders(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function fetchDynamicConfig(r){var A;const{appId:x,apiKey:y}=r,b={method:"GET",headers:getHeaders(y)},R=DYNAMIC_CONFIG_URL.replace("{app-id}",x),T=await fetch(R,b);if(T.status!==200&&T.status!==304){let O="";try{const B=await T.json();(A=B.error)!=null&&A.message&&(O=B.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:T.status,responseMessage:O})}return T.json()}async function fetchDynamicConfigWithRetry(r,x=defaultRetryData,y){const{appId:b,apiKey:R,measurementId:T}=r.options;if(!b)throw ERROR_FACTORY.create("no-app-id");if(!R){if(T)return{measurementId:T,appId:b};throw ERROR_FACTORY.create("no-api-key")}const A=x.getThrottleMetadata(b)||{backoffCount:0,throttleEndTimeMillis:Date.now()},O=new AnalyticsAbortSignal;return setTimeout(async()=>{O.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:b,apiKey:R,measurementId:T},A,O,x)}async function attemptFetchDynamicConfigWithRetry(r,{throttleEndTimeMillis:x,backoffCount:y},b,R=defaultRetryData){var O;const{appId:T,measurementId:A}=r;try{await setAbortableTimeout(b,x)}catch(B){if(A)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${B==null?void 0:B.message}]`),{appId:T,measurementId:A};throw B}try{const B=await fetchDynamicConfig(r);return R.deleteThrottleMetadata(T),B}catch(B){const U=B;if(!isRetriableError(U)){if(R.deleteThrottleMetadata(T),A)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${U==null?void 0:U.message}]`),{appId:T,measurementId:A};throw B}const K=Number((O=U==null?void 0:U.customData)==null?void 0:O.httpStatus)===503?calculateBackoffMillis(y,R.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(y,R.intervalMillis),J={throttleEndTimeMillis:Date.now()+K,backoffCount:y+1};return R.setThrottleMetadata(T,J),logger.debug(`Calling attemptFetch again in ${K} millis`),attemptFetchDynamicConfigWithRetry(r,J,b,R)}}function setAbortableTimeout(r,x){return new Promise((y,b)=>{const R=Math.max(x-Date.now(),0),T=setTimeout(y,R);r.addEventListener(()=>{clearTimeout(T),b(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function isRetriableError(r){if(!(r instanceof FirebaseError)||!r.customData)return!1;const x=Number(r.customData.httpStatus);return x===429||x===500||x===503||x===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}async function logEvent$1(r,x,y,b,R){if(R&&R.global){r("event",y,b);return}else{const T=await x,A={...b,send_to:T};r("event",y,A)}}async function setUserProperties$1(r,x,y,b){if(b&&b.global){const R={};for(const T of Object.keys(y))R[`user_properties.${T}`]=y[T];return r("set",R),Promise.resolve()}else{const R=await x;r("config",R,{update:!0,user_properties:y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(r){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(r,x,y,b,R,T,A){const O=fetchDynamicConfigWithRetry(r);O.then(te=>{y[te.measurementId]=te.appId,r.options.measurementId&&te.measurementId!==r.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${te.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(te=>logger.error(te)),x.push(O);const B=validateIndexedDB().then(te=>{if(te)return b.getId()}),[U,K]=await Promise.all([O,B]);findGtagScriptOnPage(T)||insertScriptTag(T,U.measurementId),R("js",new Date);const J=(A==null?void 0:A.config)??{};return J[ORIGIN_KEY]="firebase",J.update=!0,K!=null&&(J[GA_FID_KEY]=K),R("config",U.measurementId,J),U.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(x){this.app=x}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const r=[];if(isBrowserExtension()&&r.push("This is a browser extension environment."),areCookiesEnabled()||r.push("Cookies are not available."),r.length>0){const x=r.map((b,R)=>`(${R+1}) ${b}`).join(" "),y=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:x});logger.warn(y.message)}}function factory(r,x,y){warnOnBrowserContextMismatch();const b=r.options.appId;if(!b)throw ERROR_FACTORY.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[b]!=null)throw ERROR_FACTORY.create("already-exists",{id:b});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:T,gtagCore:A}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=T,gtagCoreFunction=A,globalInitDone=!0}return initializationPromisesMap[b]=_initializeAnalytics(r,dynamicConfigPromisesList,measurementIdToAppId,x,gtagCoreFunction,dataLayerName,y),new AnalyticsService(r)}function getAnalytics(r=getApp()){r=getModularInstance(r);const x=_getProvider(r,ANALYTICS_TYPE);return x.isInitialized()?x.getImmediate():initializeAnalytics(r)}function initializeAnalytics(r,x={}){const y=_getProvider(r,ANALYTICS_TYPE);if(y.isInitialized()){const R=y.getImmediate();if(deepEqual$1(x,y.getOptions()))return R;throw ERROR_FACTORY.create("already-initialized")}return y.initialize({options:x})}function setUserProperties(r,x,y){r=getModularInstance(r),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[r.app.options.appId],x,y).catch(b=>logger.error(b))}function logEvent(r,x,y,b){r=getModularInstance(r),logEvent$1(wrappedGtagFunction,initializationPromisesMap[r.app.options.appId],x,y,b).catch(R=>logger.error(R))}const name$1="@firebase/analytics",version="0.10.19";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(x,{options:y})=>{const b=x.getProvider("app").getImmediate(),R=x.getProvider("installations-internal").getImmediate();return factory(b,R,y)},"PUBLIC")),_registerComponent(new Component("analytics-internal",r,"PRIVATE")),registerVersion(name$1,version),registerVersion(name$1,version,"esm2020");function r(x){try{const y=x.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(b,R,T)=>logEvent(y,b,R,T),setUserProperties:(b,R)=>setUserProperties(y,b,R)}}catch(y){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:y})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},app=initializeApp(firebaseConfig);getAnalytics(app);const messaging=getMessagingInWindow(app),VAPID_KEY="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",FCM_TOKEN_KEY="fcm_token",isIOSWebView=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,requestFCMToken=async r=>{if(isIOSWebView()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(r),window.receiveFcmToken=async function(x){console.log(`iOS FCM  : ${x}`),x&&await sendTokenToServer(r,x)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${r}`);const x=window.Android.getFcmToken();return window.Android.setUserId(r),x?(console.log(` FCM Token: ${x}`),await sendTokenToServer(r,x),x):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const y=await getToken(messaging,{vapidKey:VAPID_KEY});return y?(console.log("FCM  :",y),api.set(FCM_TOKEN_KEY,y,{path:"/"}),await sendTokenToServer(r,y),y):(console.warn("   ."),null)}else return console.warn("  "),null}catch(x){throw x}},sendTokenToServer=async(r,x)=>{try{const y=await instance.post("/api/notification/registerToken",{user_id:r,fcm_token:x});return console.log("  ",y.data),y.data}catch(y){throw console.error("   ",y),y}},onForegroundMessage=r=>messaging?onMessage(messaging,x=>{if(console.log(" ",x),x.notification){const{title:y,body:b}=x.notification;Notification.permission==="granted"&&new Notification(y,{body:b,icon:"/logo192.png",data:x.data}),r&&r(x)}}):(console.log("  "),()=>{});function LoginDetail(){var O,B;const{data:r,handleChange:x}=useInput({login_id:"",login_pwd:""}),y=useNavigate(),b=useLocation(),R=((B=(O=b.state)==null?void 0:O.from)==null?void 0:B.pathname)||"/",{login:T}=reactExports$1.useContext(UserContext),A=async()=>{try{const U=await instance.post("/api/auth/login",r),K=U.data.data,J=U.data.jwt;T(K,J),K&&K.id&&K.admin_flag!=="1"?await requestFCMToken(K.id):console.log("  - FCM   "),R==="/register"?y("/",{replace:!0}):R&&R!=="/login"&&R!==b.pathname?y(R,{replace:!0}):y("/",{replace:!0})}catch(U){U.status===401?alert("   "):alert("  .    .")}};return jsxRuntimeExports.jsxs("div",{className:styles$g.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$g.loginTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$g.subParagraph,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$g.contentContainer,children:[jsxRuntimeExports.jsxs("form",{className:styles$g.loginForm,onSubmit:U=>{U.preventDefault(),A()},children:[jsxRuntimeExports.jsx(InputText,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:x,value:r.login_id}),jsxRuntimeExports.jsx(InputText,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",type:"password",onChange:x,value:r.login_pwd}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$g.submitButton,children:" "})]}),jsxRuntimeExports.jsx(SupportSection,{})]})]})}const layout$5="_layout_tzlh3_1",logo="_logo_tzlh3_19",loginParagraph="_loginParagraph_tzlh3_43",loginButton="_loginButton_tzlh3_63",registerLink="_registerLink_tzlh3_101",styles$e={layout:layout$5,logo,loginParagraph,loginButton,registerLink},kakaoButton="/assets/kakaobutton-Cwa8W2QI.svg";function Login(){const r=useNavigate(),x=()=>{r("/login-detail")};return jsxRuntimeExports.jsxs("div",{className:styles$e.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$e.logo,children:"ARTLY"}),jsxRuntimeExports.jsx("p",{className:styles$e.loginParagraph,children:"  "}),jsxRuntimeExports.jsx("button",{children:jsxRuntimeExports.jsx("img",{src:kakaoButton})}),jsxRuntimeExports.jsx("button",{className:styles$e.loginButton,onClick:x,children:"  "}),jsxRuntimeExports.jsx(Link$1,{className:styles$e.registerLink,to:"/register",children:" "})]})}let e={data:""},t=r=>{if(typeof window=="object"){let x=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return x.nonce=window.__nonce__,x.parentNode||(r||document.head).appendChild(x),x.firstChild}return r||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(r,x)=>{let y="",b="",R="";for(let T in r){let A=r[T];T[0]=="@"?T[1]=="i"?y=T+" "+A+";":b+=T[1]=="f"?o(A,T):T+"{"+o(A,T[1]=="k"?"":x)+"}":typeof A=="object"?b+=o(A,x?x.replace(/([^,])+/g,O=>T.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,B=>/&/.test(B)?B.replace(/&/g,O):O?O+" "+B:B)):T):A!=null&&(T=/^--/.test(T)?T:T.replace(/[A-Z]/g,"-$&").toLowerCase(),R+=o.p?o.p(T,A):T+":"+A+";")}return y+(x&&R?x+"{"+R+"}":R)+b},c={},s=r=>{if(typeof r=="object"){let x="";for(let y in r)x+=y+s(r[y]);return x}return r},i$1=(r,x,y,b,R)=>{let T=s(r),A=c[T]||(c[T]=(B=>{let U=0,K=11;for(;U<B.length;)K=101*K+B.charCodeAt(U++)>>>0;return"go"+K})(T));if(!c[A]){let B=T!==r?r:(U=>{let K,J,te=[{}];for(;K=l.exec(U.replace(a,""));)K[4]?te.shift():K[3]?(J=K[3].replace(n$1," ").trim(),te.unshift(te[0][J]=te[0][J]||{})):te[0][K[1]]=K[2].replace(n$1," ").trim();return te[0]})(r);c[A]=o(R?{["@keyframes "+A]:B}:B,y?"":"."+A)}let O=y&&c.g?c.g:null;return y&&(c.g=c[A]),((B,U,K,J)=>{J?U.data=U.data.replace(J,B):U.data.indexOf(B)===-1&&(U.data=K?B+U.data:U.data+B)})(c[A],x,b,O),A},p=(r,x,y)=>r.reduce((b,R,T)=>{let A=x[T];if(A&&A.call){let O=A(y),B=O&&O.props&&O.props.className||/^go/.test(O)&&O;A=B?"."+B:O&&typeof O=="object"?O.props?"":o(O,""):O===!1?"":O}return b+R+(A??"")},"");function u(r){let x=this||{},y=r.call?r(x.p):r;return i$1(y.unshift?y.raw?p(y,[].slice.call(arguments,1),x.p):y.reduce((b,R)=>Object.assign(b,R&&R.call?R(x.p):R),{}):y,t(x.target),x.g,x.o,x.k)}let d,f$1,g;u.bind({g:1});let h$2=u.bind({k:1});function m(r,x,y,b){o.p=x,d=r,f$1=y,g=b}function w$1(r,x){let y=this||{};return function(){let b=arguments;function R(T,A){let O=Object.assign({},T),B=O.className||R.className;y.p=Object.assign({theme:f$1&&f$1()},O),y.o=/ *go\d+/.test(B),O.className=u.apply(y,b)+(B?" "+B:"");let U=r;return r[0]&&(U=O.as||r,delete O.as),g&&U[0]&&g(O),d(U,O)}return R}}var Z=r=>typeof r=="function",h$1=(r,x)=>Z(r)?r(x):r,W=(()=>{let r=0;return()=>(++r).toString()})(),E=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let x=matchMedia("(prefers-reduced-motion: reduce)");r=!x||x.matches}return r}})(),re=20,k="default",H=(r,x)=>{let{toastLimit:y}=r.settings;switch(x.type){case 0:return{...r,toasts:[x.toast,...r.toasts].slice(0,y)};case 1:return{...r,toasts:r.toasts.map(A=>A.id===x.toast.id?{...A,...x.toast}:A)};case 2:let{toast:b}=x;return H(r,{type:r.toasts.find(A=>A.id===b.id)?1:0,toast:b});case 3:let{toastId:R}=x;return{...r,toasts:r.toasts.map(A=>A.id===R||R===void 0?{...A,dismissed:!0,visible:!1}:A)};case 4:return x.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(A=>A.id!==x.toastId)};case 5:return{...r,pausedAt:x.time};case 6:let T=x.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(A=>({...A,pauseDuration:A.pauseDuration+T}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(r,x=k)=>{f[x]=H(f[x]||j,r),v.forEach(([y,b])=>{y===x&&b(f[x])})},_=r=>Object.keys(f).forEach(x=>Y(r,x)),Q=r=>Object.keys(f).find(x=>f[x].toasts.some(y=>y.id===r)),S=(r=k)=>x=>{Y(x,r)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(r={},x=k)=>{let[y,b]=reactExports$1.useState(f[x]||j),R=reactExports$1.useRef(f[x]);reactExports$1.useEffect(()=>(R.current!==f[x]&&b(f[x]),v.push([x,b]),()=>{let A=v.findIndex(([O])=>O===x);A>-1&&v.splice(A,1)}),[x]);let T=y.toasts.map(A=>{var O,B,U;return{...r,...r[A.type],...A,removeDelay:A.removeDelay||((O=r[A.type])==null?void 0:O.removeDelay)||(r==null?void 0:r.removeDelay),duration:A.duration||((B=r[A.type])==null?void 0:B.duration)||(r==null?void 0:r.duration)||se[A.type],style:{...r.style,...(U=r[A.type])==null?void 0:U.style,...A.style}}});return{...y,toasts:T}},ie$2=(r,x="blank",y)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:x,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...y,id:(y==null?void 0:y.id)||W()}),P=r=>(x,y)=>{let b=ie$2(x,r,y);return S(b.toasterId||Q(b.id))({type:2,toast:b}),b.id},n=(r,x)=>P("blank")(r,x);n.error=P("error");n.success=P("success");n.loading=P("loading");n.custom=P("custom");n.dismiss=(r,x)=>{let y={type:3,toastId:r};x?S(x)(y):_(y)};n.dismissAll=r=>n.dismiss(void 0,r);n.remove=(r,x)=>{let y={type:4,toastId:r};x?S(x)(y):_(y)};n.removeAll=r=>n.remove(void 0,r);n.promise=(r,x,y)=>{let b=n.loading(x.loading,{...y,...y==null?void 0:y.loading});return typeof r=="function"&&(r=r()),r.then(R=>{let T=x.success?h$1(x.success,R):void 0;return T?n.success(T,{id:b,...y,...y==null?void 0:y.success}):n.dismiss(b),R}).catch(R=>{let T=x.error?h$1(x.error,R):void 0;T?n.error(T,{id:b,...y,...y==null?void 0:y.error}):n.dismiss(b)}),r};var ce=1e3,w=(r,x="default")=>{let{toasts:y,pausedAt:b}=V(r,x),R=reactExports$1.useRef(new Map).current,T=reactExports$1.useCallback((J,te=ce)=>{if(R.has(J))return;let ae=setTimeout(()=>{R.delete(J),A({type:4,toastId:J})},te);R.set(J,ae)},[]);reactExports$1.useEffect(()=>{if(b)return;let J=Date.now(),te=y.map(ae=>{if(ae.duration===1/0)return;let ue=(ae.duration||0)+ae.pauseDuration-(J-ae.createdAt);if(ue<0){ae.visible&&n.dismiss(ae.id);return}return setTimeout(()=>n.dismiss(ae.id,x),ue)});return()=>{te.forEach(ae=>ae&&clearTimeout(ae))}},[y,b,x]);let A=reactExports$1.useCallback(S(x),[x]),O=reactExports$1.useCallback(()=>{A({type:5,time:Date.now()})},[A]),B=reactExports$1.useCallback((J,te)=>{A({type:1,toast:{id:J,height:te}})},[A]),U=reactExports$1.useCallback(()=>{b&&A({type:6,time:Date.now()})},[b,A]),K=reactExports$1.useCallback((J,te)=>{let{reverseOrder:ae=!1,gutter:ue=8,defaultPosition:pe}=te||{},$e=y.filter(_e=>(_e.position||pe)===(J.position||pe)&&_e.height),Ne=$e.findIndex(_e=>_e.id===J.id),Be=$e.filter((_e,xe)=>xe<Ne&&_e.visible).length;return $e.filter(_e=>_e.visible).slice(...ae?[Be+1]:[0,Be]).reduce((_e,xe)=>_e+(xe.height||0)+ue,0)},[y]);return reactExports$1.useEffect(()=>{y.forEach(J=>{if(J.dismissed)T(J.id,J.removeDelay);else{let te=R.get(J.id);te&&(clearTimeout(te),R.delete(J.id))}})},[y,T]),{toasts:y,handlers:{updateHeight:B,startPause:O,endPause:U,calculateOffset:K}}},de=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$2`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$2`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$2`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$2`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$2`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:r})=>{let{icon:x,type:y,iconTheme:b}=r;return x!==void 0?typeof x=="string"?reactExports$1.createElement(Pe,null,x):x:y==="blank"?null:reactExports$1.createElement(Se,null,reactExports$1.createElement(F,{...b}),y!=="loading"&&reactExports$1.createElement(be,null,y==="error"?reactExports$1.createElement(C,{...b}):reactExports$1.createElement(L,{...b})))},Re=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(r,x)=>{let y=r.includes("top")?1:-1,[b,R]=E()?[ve,De]:[Re(y),Ee(y)];return{animation:x?`${h$2(b)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$2(R)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=reactExports$1.memo(({toast:r,position:x,style:y,children:b})=>{let R=r.height?ke(r.position||x||"top-center",r.visible):{opacity:0},T=reactExports$1.createElement($,{toast:r}),A=reactExports$1.createElement(Ie,{...r.ariaProps},h$1(r.message,r));return reactExports$1.createElement(Oe,{className:r.className,style:{...R,...y,...r.style}},typeof b=="function"?b({icon:T,message:A}):reactExports$1.createElement(reactExports$1.Fragment,null,T,A))});m(reactExports$1.createElement);var we=({id:r,className:x,style:y,onHeightUpdate:b,children:R})=>{let T=reactExports$1.useCallback(A=>{if(A){let O=()=>{let B=A.getBoundingClientRect().height;b(r,B)};O(),new MutationObserver(O).observe(A,{subtree:!0,childList:!0,characterData:!0})}},[r,b]);return reactExports$1.createElement("div",{ref:T,className:x,style:y},R)},Me=(r,x)=>{let y=r.includes("top"),b=y?{top:0}:{bottom:0},R=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${x*(y?1:-1)}px)`,...b,...R}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D=16,Fe=({reverseOrder:r,position:x="top-center",toastOptions:y,gutter:b,children:R,toasterId:T,containerStyle:A,containerClassName:O})=>{let{toasts:B,handlers:U}=w(y,T);return reactExports$1.createElement("div",{"data-rht-toaster":T||"",style:{position:"fixed",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:"none",...A},className:O,onMouseEnter:U.startPause,onMouseLeave:U.endPause},B.map(K=>{let J=K.position||x,te=U.calculateOffset(K,{reverseOrder:r,gutter:b,defaultPosition:x}),ae=Me(J,te);return reactExports$1.createElement(we,{id:K.id,key:K.id,onHeightUpdate:U.updateHeight,className:K.visible?Ce:"",style:ae},K.type==="custom"?h$1(K.message,K):R?R(K):reactExports$1.createElement(N,{toast:K,position:J}))}))};const layout$4="_layout_1scbq_3",mainContentContainer="_mainContentContainer_1scbq_35",panelHeaderBox="_panelHeaderBox_1scbq_73",panelHeaderParagraph="_panelHeaderParagraph_1scbq_81",titleInputBox="_titleInputBox_1scbq_123",titleLabel="_titleLabel_1scbq_131",titleInput="_titleInput_1scbq_123",combinedButtonBox="_combinedButtonBox_1scbq_717",leftButton="_leftButton_1scbq_757",rightButton="_rightButton_1scbq_759",deleteButton="_deleteButton_1scbq_837",styles$d={layout:layout$4,mainContentContainer,panelHeaderBox,panelHeaderParagraph,titleInputBox,titleLabel,titleInput,combinedButtonBox,leftButton,rightButton,deleteButton},coverSectionBox="_coverSectionBox_1nnz6_3",coverLabelSpan="_coverLabelSpan_1nnz6_11",coverAreaBox="_coverAreaBox_1nnz6_25",coverPlaceholderBox="_coverPlaceholderBox_1nnz6_61",plusIconSpan$1="_plusIconSpan_1nnz6_81",coverImageContainerBox="_coverImageContainerBox_1nnz6_93",coverImage="_coverImage_1nnz6_93",removeCoverButton="_removeCoverButton_1nnz6_119",dragActive$1="_dragActive_1nnz6_259",styles$c={coverSectionBox,coverLabelSpan,coverAreaBox,coverPlaceholderBox,plusIconSpan:plusIconSpan$1,coverImageContainerBox,coverImage,removeCoverButton,dragActive:dragActive$1};function Cover({coverImage:r,setCoverImage:x,openFileDialogForCover:y,coverDropzone:b}){return jsxRuntimeExports.jsxs("div",{className:styles$c.coverSectionBox,children:[jsxRuntimeExports.jsx("div",{className:styles$c.coverLabelSpan,children:""}),jsxRuntimeExports.jsx("div",{className:styles$c.coverAreaBox,children:r?jsxRuntimeExports.jsxs("div",{className:styles$c.coverImageContainerBox,children:[jsxRuntimeExports.jsx("img",{src:r.url,alt:"",className:styles$c.coverImage}),jsxRuntimeExports.jsx("button",{className:styles$c.removeCoverButton,onClick:()=>x(null),children:""})]}):jsxRuntimeExports.jsxs("div",{...b.getRootProps(),className:`${styles$c.coverPlaceholderBox} ${b.isDragActive?styles$c.dragActive:""}`,onClick:R=>{R.stopPropagation(),y()},children:[jsxRuntimeExports.jsx("input",{...b.getInputProps()}),jsxRuntimeExports.jsx("span",{className:styles$c.plusIconSpan,children:"+"})]})})]})}const innerPagesSectionBox="_innerPagesSectionBox_1asfe_3",innerPagesLabelSpan="_innerPagesLabelSpan_1asfe_11",innerPagesGridContainer="_innerPagesGridContainer_1asfe_25",innerPageItemBox="_innerPageItemBox_1asfe_39",dragging="_dragging_1asfe_73",dragOver="_dragOver_1asfe_83",innerPageImage="_innerPageImage_1asfe_93",removeInnerPageButton="_removeInnerPageButton_1asfe_105",addInnerPageButton="_addInnerPageButton_1asfe_141",plusIconSpan="_plusIconSpan_1asfe_177",dragActive="_dragActive_1asfe_315",styles$b={innerPagesSectionBox,innerPagesLabelSpan,innerPagesGridContainer,innerPageItemBox,dragging,dragOver,innerPageImage,removeInnerPageButton,addInnerPageButton,plusIconSpan,dragActive};function Inner({imageList:r,setImageList:x,handleImageChange:y,handleRemoveImage:b,openFileDialogForInner:R,innerDropzone:T}){const[A,O]=reactExports$1.useState(null),[B,U]=reactExports$1.useState(null),K=(pe,$e)=>{pe.stopPropagation(),O($e),pe.dataTransfer.effectAllowed="move",pe.dataTransfer.setData("text/plain",$e.toString()),pe.currentTarget.style.opacity="0.5"},J=pe=>{pe.stopPropagation(),pe.currentTarget.style.opacity="1",O(null),U(null)},te=(pe,$e)=>{pe.preventDefault(),pe.stopPropagation(),pe.dataTransfer.dropEffect="move",A!==null&&A!==$e&&U($e)},ae=pe=>{pe.currentTarget.contains(pe.relatedTarget)||U(null)},ue=(pe,$e)=>{if(pe.preventDefault(),pe.stopPropagation(),A===null||A===$e){O(null),U(null);return}const Ne=[...r],Be=Ne[A];Ne.splice(A,1);const _e=A<$e?$e-1:$e;Ne.splice(_e,0,Be),x(Ne),O(null),U(null)};return jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesLabelSpan,children:["  ",r.length,""]}),jsxRuntimeExports.jsxs("div",{...T.getRootProps(),className:`${styles$b.innerPagesGridContainer} ${T.isDragActive?styles$b.dragActive:""}`,children:[jsxRuntimeExports.jsx("input",{...T.getInputProps()}),r.map((pe,$e)=>jsxRuntimeExports.jsxs("div",{className:`${styles$b.innerPageItemBox} ${A===$e?styles$b.dragging:""} ${B===$e?styles$b.dragOver:""}`,draggable:!0,onDragStart:Ne=>K(Ne,$e),onDragEnd:J,onDragOver:Ne=>te(Ne,$e),onDragLeave:ae,onDrop:Ne=>ue(Ne,$e),children:[jsxRuntimeExports.jsx("img",{src:pe.url,alt:pe.name,className:styles$b.innerPageImage}),jsxRuntimeExports.jsx("button",{className:styles$b.removeInnerPageButton,onClick:Ne=>{Ne.stopPropagation(),b($e)},children:""})]},$e)),jsxRuntimeExports.jsx("div",{className:styles$b.addInnerPageButton,onClick:pe=>{pe.stopPropagation(),R()},children:jsxRuntimeExports.jsx("span",{className:styles$b.plusIconSpan,children:"+"})})]})]})}function __awaiter(r,x,y,b){function R(T){return T instanceof y?T:new y(function(A){A(T)})}return new(y||(y=Promise))(function(T,A){function O(K){try{U(b.next(K))}catch(J){A(J)}}function B(K){try{U(b.throw(K))}catch(J){A(J)}}function U(K){K.done?T(K.value):R(K.value).then(O,B)}U((b=b.apply(r,x||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(r,x,y){const b=withMimeType(r),{webkitRelativePath:R}=r,T=typeof x=="string"?x:typeof R=="string"&&R.length>0?R:`./${r.name}`;return typeof b.path!="string"&&setObjProp(b,"path",T),setObjProp(b,"relativePath",T),b}function withMimeType(r){const{name:x}=r;if(x&&x.lastIndexOf(".")!==-1&&!r.type){const b=x.split(".").pop().toLowerCase(),R=COMMON_MIME_TYPES.get(b);R&&Object.defineProperty(r,"type",{value:R,writable:!1,configurable:!1,enumerable:!0})}return r}function setObjProp(r,x,y){Object.defineProperty(r,x,{value:y,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(r){return __awaiter(this,void 0,void 0,function*(){return isObject(r)&&isDataTransfer(r.dataTransfer)?getDataTransferFiles(r.dataTransfer,r.type):isChangeEvt(r)?getInputFiles(r):Array.isArray(r)&&r.every(x=>"getFile"in x&&typeof x.getFile=="function")?getFsHandleFiles(r):[]})}function isDataTransfer(r){return isObject(r)}function isChangeEvt(r){return isObject(r)&&isObject(r.target)}function isObject(r){return typeof r=="object"&&r!==null}function getInputFiles(r){return fromList(r.target.files).map(x=>toFileWithPath(x))}function getFsHandleFiles(r){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(r.map(y=>y.getFile()))).map(y=>toFileWithPath(y))})}function getDataTransferFiles(r,x){return __awaiter(this,void 0,void 0,function*(){if(r.items){const y=fromList(r.items).filter(R=>R.kind==="file");if(x!=="drop")return y;const b=yield Promise.all(y.map(toFilePromises));return noIgnoredFiles(flatten(b))}return noIgnoredFiles(fromList(r.files).map(y=>toFileWithPath(y)))})}function noIgnoredFiles(r){return r.filter(x=>FILES_TO_IGNORE.indexOf(x.name)===-1)}function fromList(r){if(r===null)return[];const x=[];for(let y=0;y<r.length;y++){const b=r[y];x.push(b)}return x}function toFilePromises(r){if(typeof r.webkitGetAsEntry!="function")return fromDataTransferItem(r);const x=r.webkitGetAsEntry();return x&&x.isDirectory?fromDirEntry(x):fromDataTransferItem(r,x)}function flatten(r){return r.reduce((x,y)=>[...x,...Array.isArray(y)?flatten(y):[y]],[])}function fromDataTransferItem(r,x){return __awaiter(this,void 0,void 0,function*(){var y;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const T=yield r.getAsFileSystemHandle();if(T===null)throw new Error(`${r} is not a File`);if(T!==void 0){const A=yield T.getFile();return A.handle=T,toFileWithPath(A)}}const b=r.getAsFile();if(!b)throw new Error(`${r} is not a File`);return toFileWithPath(b,(y=x==null?void 0:x.fullPath)!==null&&y!==void 0?y:void 0)})}function fromEntry(r){return __awaiter(this,void 0,void 0,function*(){return r.isDirectory?fromDirEntry(r):fromFileEntry(r)})}function fromDirEntry(r){const x=r.createReader();return new Promise((y,b)=>{const R=[];function T(){x.readEntries(A=>__awaiter(this,void 0,void 0,function*(){if(A.length){const O=Promise.all(A.map(fromEntry));R.push(O),T()}else try{const O=yield Promise.all(R);y(O)}catch(O){b(O)}}),A=>{b(A)})}T()})}function fromFileEntry(r){return __awaiter(this,void 0,void 0,function*(){return new Promise((x,y)=>{r.file(b=>{const R=toFileWithPath(b,r.fullPath);x(R)},b=>{y(b)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(r,x){if(r&&x){var y=Array.isArray(x)?x:x.split(",");if(y.length===0)return!0;var b=r.name||"",R=(r.type||"").toLowerCase(),T=R.replace(/\/.*$/,"");return y.some(function(A){var O=A.trim().toLowerCase();return O.charAt(0)==="."?b.toLowerCase().endsWith(O):O.endsWith("/*")?T===O.replace(/\/.*$/,""):R===O})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs(esExports);function _toConsumableArray$1(r){return _arrayWithoutHoles$1(r)||_iterableToArray$1(r)||_unsupportedIterableToArray$1(r)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _arrayWithoutHoles$1(r){if(Array.isArray(r))return _arrayLikeToArray$1(r)}function ownKeys$1(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(r,R).enumerable})),y.push.apply(y,b)}return y}function _objectSpread$1(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$1(Object(y),!0).forEach(function(b){_defineProperty$1(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$1(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty$1(r,x,y){return x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _slicedToArray$1(r,x){return _arrayWithHoles$1(r)||_iterableToArrayLimit$1(r,x)||_unsupportedIterableToArray$1(r,x)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray$1(r,x);var y=Object.prototype.toString.call(r).slice(8,-1);if(y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set")return Array.from(r);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _arrayLikeToArray$1(r,x)}}function _arrayLikeToArray$1(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=new Array(x);y<x;y++)b[y]=r[y];return b}function _iterableToArrayLimit$1(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b=[],R=!0,T=!1,A,O;try{for(y=y.call(r);!(R=(A=y.next()).done)&&(b.push(A.value),!(x&&b.length===x));R=!0);}catch(B){T=!0,O=B}finally{try{!R&&y.return!=null&&y.return()}finally{if(T)throw O}}return b}}function _arrayWithHoles$1(r){if(Array.isArray(r))return r}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function r(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=x.split(","),b=y.length>1?"one of ".concat(y.join(", ")):y[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(b)}},getTooLargeRejectionErr=function r(x){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(x," ").concat(x===1?"byte":"bytes")}},getTooSmallRejectionErr=function r(x){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(x," ").concat(x===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(r,x){var y=r.type==="application/x-moz-file"||accepts(r,x);return[y,y?null:getInvalidTypeRejectionErr(x)]}function fileMatchSize(r,x,y){if(isDefined(r.size))if(isDefined(x)&&isDefined(y)){if(r.size>y)return[!1,getTooLargeRejectionErr(y)];if(r.size<x)return[!1,getTooSmallRejectionErr(x)]}else{if(isDefined(x)&&r.size<x)return[!1,getTooSmallRejectionErr(x)];if(isDefined(y)&&r.size>y)return[!1,getTooLargeRejectionErr(y)]}return[!0,null]}function isDefined(r){return r!=null}function allFilesAccepted(r){var x=r.files,y=r.accept,b=r.minSize,R=r.maxSize,T=r.multiple,A=r.maxFiles,O=r.validator;return!T&&x.length>1||T&&A>=1&&x.length>A?!1:x.every(function(B){var U=fileAccepted(B,y),K=_slicedToArray$1(U,1),J=K[0],te=fileMatchSize(B,b,R),ae=_slicedToArray$1(te,1),ue=ae[0],pe=O?O(B):null;return J&&ue&&!pe})}function isPropagationStopped(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function isEvtWithFiles(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(x){return x==="Files"||x==="application/x-moz-file"}):!!r.target&&!!r.target.files}function onDocumentDragOver(r){r.preventDefault()}function isIe(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function isEdge(r){return r.indexOf("Edge/")!==-1}function isIeOrEdge(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(r)||isEdge(r)}function composeEventHandlers(){for(var r=arguments.length,x=new Array(r),y=0;y<r;y++)x[y]=arguments[y];return function(b){for(var R=arguments.length,T=new Array(R>1?R-1:0),A=1;A<R;A++)T[A-1]=arguments[A];return x.some(function(O){return!isPropagationStopped(b)&&O&&O.apply(void 0,[b].concat(T)),isPropagationStopped(b)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(r){if(isDefined(r)){var x=Object.entries(r).filter(function(y){var b=_slicedToArray$1(y,2),R=b[0],T=b[1],A=!0;return isMIMEType(R)||(console.warn('Skipped "'.concat(R,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),A=!1),(!Array.isArray(T)||!T.every(isExt))&&(console.warn('Skipped "'.concat(R,'" because an invalid file extension was provided.')),A=!1),A}).reduce(function(y,b){var R=_slicedToArray$1(b,2),T=R[0],A=R[1];return _objectSpread$1(_objectSpread$1({},y),{},_defineProperty$1({},T,A))},{});return[{description:"Files",accept:x}]}return r}function acceptPropAsAcceptAttr(r){if(isDefined(r))return Object.entries(r).reduce(function(x,y){var b=_slicedToArray$1(y,2),R=b[0],T=b[1];return[].concat(_toConsumableArray$1(x),[R],_toConsumableArray$1(T))},[]).filter(function(x){return isMIMEType(x)||isExt(x)}).join(",")}function isAbort(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function isSecurityError(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function isMIMEType(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function isExt(r){return/^.*\.[\w]+$/.test(r)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _slicedToArray(r,x){return _arrayWithHoles(r)||_iterableToArrayLimit(r,x)||_unsupportedIterableToArray(r,x)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray(r,x);var y=Object.prototype.toString.call(r).slice(8,-1);if(y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set")return Array.from(r);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _arrayLikeToArray(r,x)}}function _arrayLikeToArray(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=new Array(x);y<x;y++)b[y]=r[y];return b}function _iterableToArrayLimit(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b=[],R=!0,T=!1,A,O;try{for(y=y.call(r);!(R=(A=y.next()).done)&&(b.push(A.value),!(x&&b.length===x));R=!0);}catch(B){T=!0,O=B}finally{try{!R&&y.return!=null&&y.return()}finally{if(T)throw O}}return b}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function ownKeys(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(r,R).enumerable})),y.push.apply(y,b)}return y}function _objectSpread(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys(Object(y),!0).forEach(function(b){_defineProperty(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty(r,x,y){return x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _objectWithoutProperties(r,x){if(r==null)return{};var y=_objectWithoutPropertiesLoose(r,x),b,R;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(r);for(R=0;R<T.length;R++)b=T[R],!(x.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(r,b)&&(y[b]=r[b])}return y}function _objectWithoutPropertiesLoose(r,x){if(r==null)return{};var y={},b=Object.keys(r),R,T;for(T=0;T<b.length;T++)R=b[T],!(x.indexOf(R)>=0)&&(y[R]=r[R]);return y}var Dropzone=reactExports$1.forwardRef(function(r,x){var y=r.children,b=_objectWithoutProperties(r,_excluded),R=useDropzone(b),T=R.open,A=_objectWithoutProperties(R,_excluded2);return reactExports$1.useImperativeHandle(x,function(){return{open:T}},[T]),React.createElement(reactExports$1.Fragment,null,y(_objectSpread(_objectSpread({},A),{},{open:T})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=_objectSpread(_objectSpread({},defaultProps),r),y=x.accept,b=x.disabled,R=x.getFilesFromEvent,T=x.maxSize,A=x.minSize,O=x.multiple,B=x.maxFiles,U=x.onDragEnter,K=x.onDragLeave,J=x.onDragOver,te=x.onDrop,ae=x.onDropAccepted,ue=x.onDropRejected,pe=x.onFileDialogCancel,$e=x.onFileDialogOpen,Ne=x.useFsAccessApi,Be=x.autoFocus,_e=x.preventDropOnDocument,xe=x.noClick,Le=x.noKeyboard,Ue=x.noDrag,He=x.noDragEventsBubbling,qe=x.onError,Qe=x.validator,lt=reactExports$1.useMemo(function(){return acceptPropAsAcceptAttr(y)},[y]),ct=reactExports$1.useMemo(function(){return pickerOptionsFromAccept(y)},[y]),ot=reactExports$1.useMemo(function(){return typeof $e=="function"?$e:noop$1},[$e]),pt=reactExports$1.useMemo(function(){return typeof pe=="function"?pe:noop$1},[pe]),yt=reactExports$1.useRef(null),it=reactExports$1.useRef(null),Ke=reactExports$1.useReducer(reducer,initialState),Je=_slicedToArray(Ke,2),We=Je[0],Ze=Je[1],dt=We.isFocused,et=We.isFileDialogActive,ft=reactExports$1.useRef(typeof window<"u"&&window.isSecureContext&&Ne&&canUseFileSystemAccessAPI()),Et=function(){!ft.current&&et&&setTimeout(function(){if(it.current){var sn=it.current.files;sn.length||(Ze({type:"closeDialog"}),pt())}},300)};reactExports$1.useEffect(function(){return window.addEventListener("focus",Et,!1),function(){window.removeEventListener("focus",Et,!1)}},[it,et,pt,ft]);var St=reactExports$1.useRef([]),Bt=function(sn){yt.current&&yt.current.contains(sn.target)||(sn.preventDefault(),St.current=[])};reactExports$1.useEffect(function(){return _e&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Bt,!1)),function(){_e&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Bt))}},[yt,_e]),reactExports$1.useEffect(function(){return!b&&Be&&yt.current&&yt.current.focus(),function(){}},[yt,Be,b]);var Rt=reactExports$1.useCallback(function(Ht){qe?qe(Ht):console.error(Ht)},[qe]),Yt=reactExports$1.useCallback(function(Ht){Ht.preventDefault(),Ht.persist(),br(Ht),St.current=[].concat(_toConsumableArray(St.current),[Ht.target]),isEvtWithFiles(Ht)&&Promise.resolve(R(Ht)).then(function(sn){if(!(isPropagationStopped(Ht)&&!He)){var yn=sn.length,An=yn>0&&allFilesAccepted({files:sn,accept:lt,minSize:A,maxSize:T,multiple:O,maxFiles:B,validator:Qe}),In=yn>0&&!An;Ze({isDragAccept:An,isDragReject:In,isDragActive:!0,type:"setDraggedFiles"}),U&&U(Ht)}}).catch(function(sn){return Rt(sn)})},[R,U,Rt,He,lt,A,T,O,B,Qe]),nn=reactExports$1.useCallback(function(Ht){Ht.preventDefault(),Ht.persist(),br(Ht);var sn=isEvtWithFiles(Ht);if(sn&&Ht.dataTransfer)try{Ht.dataTransfer.dropEffect="copy"}catch{}return sn&&J&&J(Ht),!1},[J,He]),mn=reactExports$1.useCallback(function(Ht){Ht.preventDefault(),Ht.persist(),br(Ht);var sn=St.current.filter(function(An){return yt.current&&yt.current.contains(An)}),yn=sn.indexOf(Ht.target);yn!==-1&&sn.splice(yn,1),St.current=sn,!(sn.length>0)&&(Ze({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Ht)&&K&&K(Ht))},[yt,K,He]),Fn=reactExports$1.useCallback(function(Ht,sn){var yn=[],An=[];Ht.forEach(function(In){var rr=fileAccepted(In,lt),Yr=_slicedToArray(rr,2),hi=Yr[0],gs=Yr[1],Dn=fileMatchSize(In,A,T),Ut=_slicedToArray(Dn,2),Xn=Ut[0],Sn=Ut[1],or=Qe?Qe(In):null;if(hi&&Xn&&!or)yn.push(In);else{var fi=[gs,Sn];or&&(fi=fi.concat(or)),An.push({file:In,errors:fi.filter(function($i){return $i})})}}),(!O&&yn.length>1||O&&B>=1&&yn.length>B)&&(yn.forEach(function(In){An.push({file:In,errors:[TOO_MANY_FILES_REJECTION]})}),yn.splice(0)),Ze({acceptedFiles:yn,fileRejections:An,isDragReject:An.length>0,type:"setFiles"}),te&&te(yn,An,sn),An.length>0&&ue&&ue(An,sn),yn.length>0&&ae&&ae(yn,sn)},[Ze,O,lt,A,T,B,te,ae,ue,Qe]),dn=reactExports$1.useCallback(function(Ht){Ht.preventDefault(),Ht.persist(),br(Ht),St.current=[],isEvtWithFiles(Ht)&&Promise.resolve(R(Ht)).then(function(sn){isPropagationStopped(Ht)&&!He||Fn(sn,Ht)}).catch(function(sn){return Rt(sn)}),Ze({type:"reset"})},[R,Fn,Rt,He]),Gn=reactExports$1.useCallback(function(){if(ft.current){Ze({type:"openDialog"}),ot();var Ht={multiple:O,types:ct};window.showOpenFilePicker(Ht).then(function(sn){return R(sn)}).then(function(sn){Fn(sn,null),Ze({type:"closeDialog"})}).catch(function(sn){isAbort(sn)?(pt(sn),Ze({type:"closeDialog"})):isSecurityError(sn)?(ft.current=!1,it.current?(it.current.value=null,it.current.click()):Rt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Rt(sn)});return}it.current&&(Ze({type:"openDialog"}),ot(),it.current.value=null,it.current.click())},[Ze,ot,pt,Ne,Fn,Rt,ct,O]),tn=reactExports$1.useCallback(function(Ht){!yt.current||!yt.current.isEqualNode(Ht.target)||(Ht.key===" "||Ht.key==="Enter"||Ht.keyCode===32||Ht.keyCode===13)&&(Ht.preventDefault(),Gn())},[yt,Gn]),Qt=reactExports$1.useCallback(function(){Ze({type:"focus"})},[]),Kn=reactExports$1.useCallback(function(){Ze({type:"blur"})},[]),Nr=reactExports$1.useCallback(function(){xe||(isIeOrEdge()?setTimeout(Gn,0):Gn())},[xe,Gn]),zn=function(sn){return b?null:sn},_n=function(sn){return Le?null:zn(sn)},pn=function(sn){return Ue?null:zn(sn)},br=function(sn){He&&sn.stopPropagation()},Kt=reactExports$1.useMemo(function(){return function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Ht.refKey,yn=sn===void 0?"ref":sn,An=Ht.role,In=Ht.onKeyDown,rr=Ht.onFocus,Yr=Ht.onBlur,hi=Ht.onClick,gs=Ht.onDragEnter,Dn=Ht.onDragOver,Ut=Ht.onDragLeave,Xn=Ht.onDrop,Sn=_objectWithoutProperties(Ht,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:_n(composeEventHandlers(In,tn)),onFocus:_n(composeEventHandlers(rr,Qt)),onBlur:_n(composeEventHandlers(Yr,Kn)),onClick:zn(composeEventHandlers(hi,Nr)),onDragEnter:pn(composeEventHandlers(gs,Yt)),onDragOver:pn(composeEventHandlers(Dn,nn)),onDragLeave:pn(composeEventHandlers(Ut,mn)),onDrop:pn(composeEventHandlers(Xn,dn)),role:typeof An=="string"&&An!==""?An:"presentation"},yn,yt),!b&&!Le?{tabIndex:0}:{}),Sn)}},[yt,tn,Qt,Kn,Nr,Yt,nn,mn,dn,Le,Ue,b]),Wr=reactExports$1.useCallback(function(Ht){Ht.stopPropagation()},[]),Mr=reactExports$1.useMemo(function(){return function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=Ht.refKey,yn=sn===void 0?"ref":sn,An=Ht.onChange,In=Ht.onClick,rr=_objectWithoutProperties(Ht,_excluded4),Yr=_defineProperty({accept:lt,multiple:O,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:zn(composeEventHandlers(An,dn)),onClick:zn(composeEventHandlers(In,Wr)),tabIndex:-1},yn,it);return _objectSpread(_objectSpread({},Yr),rr)}},[it,y,O,dn,b]);return _objectSpread(_objectSpread({},We),{},{isFocused:dt&&!b,getRootProps:Kt,getInputProps:Mr,rootRef:yt,inputRef:it,open:zn(Gn)})}function reducer(r,x){switch(x.type){case"focus":return _objectSpread(_objectSpread({},r),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},r),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},r),{},{isDragActive:x.isDragActive,isDragAccept:x.isDragAccept,isDragReject:x.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},r),{},{acceptedFiles:x.acceptedFiles,fileRejections:x.fileRejections,isDragReject:x.isDragReject});case"reset":return _objectSpread({},initialState);default:return r}}function noop$1(){}function useImageUpload(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(null),R=te=>{const ue=Array.from(te.target.files).map(pe=>new Promise($e=>{const Ne=new FileReader;Ne.onload=Be=>{$e({file:pe,url:Be.target.result,name:pe.name})},Ne.readAsDataURL(pe)}));Promise.all(ue).then(pe=>{x($e=>[...$e,...pe]),te.target.value=""})},T=te=>{x(ae=>ae.filter((ue,pe)=>pe!==te))},A=te=>{const ae=new FileReader;ae.onload=ue=>{b({file:te,url:ue.target.result,name:te.name})},ae.readAsDataURL(te)},O=()=>{const te=document.createElement("input");te.type="file",te.accept="image/*",te.onchange=ae=>{const ue=ae.target.files[0];ue&&A(ue)},te.click()},B=()=>{const te=document.createElement("input");te.type="file",te.accept="image/*",te.multiple=!0,te.onchange=R,te.click()},U=(te,ae="inner")=>{const ue=te.map(pe=>new Promise($e=>{const Ne=new FileReader;Ne.onload=Be=>{$e({file:pe,url:Be.target.result,name:pe.name})},Ne.readAsDataURL(pe)}));Promise.all(ue).then(pe=>{ae==="cover"?pe.length>0&&b(pe[0]):x($e=>[...$e,...pe])})},K=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:te=>U(te,"cover"),onDropRejected:te=>{console.log("   :",te)}}),J=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:te=>U(te,"inner"),onDropRejected:te=>{console.log("   :",te)}});return{imageList:r,setImageList:x,coverImage:y,setCoverImage:b,handleImageChange:R,handleRemoveImage:T,openFileDialogForCover:O,openFileDialogForInner:B,coverDropzone:K,innerDropzone:J,handleDrop:U}}function Leaflet({type:r}){const{id:x}=useParams(),y=useNavigate(),[b,R]=reactExports$1.useState(null),[T,A]=reactExports$1.useState(""),[O,B]=reactExports$1.useState(!1),[U,K]=reactExports$1.useState(null),{imageList:J,setImageList:te,coverImage:ae,setCoverImage:ue,handleImageChange:pe,handleRemoveImage:$e,openFileDialogForCover:Ne,openFileDialogForInner:Be,coverDropzone:_e,innerDropzone:xe}=useImageUpload();reactExports$1.useEffect(()=>{(async()=>{var lt;try{B(!0);const ct=r==="galleries"?"galleryCategory":"exhibitionCategory",ot=await userInstance.get("/api/leaflet",{params:{category:ct,category_id:x}});let pt=null;if(Array.isArray(ot.data)?ot.data.length>0&&(pt=ot.data[0]):pt=ot.data,pt&&(K(pt),R(pt.id),A(pt.title||""),pt.image_urls&&pt.image_urls.length>0&&(pt.image_urls[0]&&ue({url:pt.image_urls[0]}),pt.image_urls.length>1))){const yt=pt.image_urls.slice(1).map(it=>({url:it}));te(yt)}}catch(ct){console.error("  :",ct),((lt=ct.response)==null?void 0:lt.status)!==404&&n.error("   .",{position:"top-center"})}finally{B(!1)}})()},[x,r]);const Le=()=>{if(!b){n.error("  !",{position:"top-center",duration:3e3});return}const Qe=`/view/leaflet/${r}/${x}`;window.open(Qe,"_blank")},Ue=async()=>{if(b&&window.confirm("   ?"))try{B(!0),await userInstance.delete(`/api/leaflet/${b}`),n.success(" .",{position:"top-center"}),y(`/console/${r}/${x}`)}catch(Qe){console.error("  :",Qe),n.error("  .",{position:"top-center"}),B(!1)}},He=async()=>{var ct,ot,pt,yt;if(!b){if(!T.trim()){n.error("  !",{position:"top-center"});return}if(!(ae==null?void 0:ae.file)){n.error("  !",{position:"top-center"});return}}const Qe=ae==null?void 0:ae.file,lt=J.some(it=>it.file);if(Qe&&!ae.file){n.error("   .");return}if(lt&&J.some(it=>it.file&&!it.file)){n.error("    .");return}try{if(B(!0),b&&U){const it={title:T.trim(),category:r==="galleries"?"galleryLeaflet":"exhibitionLeaflet"},Ke=[];let Je=[];if(Qe||lt){const dt=new FormData;Qe&&dt.append("image[]",ae.file),J.forEach(ft=>{ft.file&&dt.append("image[]",ft.file)});const et=await userInstance.post("/api/upload/image",dt,{headers:{"Content-Type":"multipart/form-data"}});if(Array.isArray(et.data.urls)?Je=et.data.urls:et.data.url?Je=[et.data.url]:Array.isArray(et.data)?Je=et.data:Je=[],Je.length===0&&(Qe||lt)){n.error("  .",{position:"top-center"});return}}let We=0;if(ae)if(ae.file){if(Je.length>0&&Je[We])Ke.push(Je[We]),We++;else if(Qe){n.error("   .",{position:"top-center"});return}}else ae.url&&Ke.push(ae.url);for(const dt of J)if(dt.file){if(Je[We])Ke.push(Je[We]),We++;else if(lt){n.error("   .",{position:"top-center"});return}}else dt.url&&Ke.push(dt.url);if(Ke.length===0){n.error(" .  1   .",{position:"top-center"});return}it.image_urls=Ke;const Ze=await userInstance.patch(`/api/leaflet/${b}`,it);n.success("  !",{position:"top-center"})}else{if(!Qe){n.error("  !");return}const it=new FormData;it.append("image[]",ae.file),J.forEach(We=>{We.file&&it.append("image[]",We.file)}),it.append("title",T.trim());const Ke=r==="galleries"?"galleryCategory":"exhibitionCategory";it.append("category",Ke),it.append("categoryId",x);const Je=await userInstance.post("/api/leaflet",it,{headers:{"Content-Type":"multipart/form-data"}});n.success("  !",{position:"top-center"}),Je.data.id&&y(`/console/${r}/leaflet/${Je.data.id}`)}}catch(it){const Ke=((ot=(ct=it.response)==null?void 0:ct.data)==null?void 0:ot.message)||((yt=(pt=it.response)==null?void 0:pt.data)==null?void 0:yt.error)||"    .";n.error(Ke,{position:"top-center",duration:5e3})}finally{B(!1)}},qe=!ae&&J.length===0;return jsxRuntimeExports.jsxs("div",{className:styles$d.layout,children:[jsxRuntimeExports.jsx(Fe,{}),jsxRuntimeExports.jsxs("div",{className:styles$d.mainContentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$d.panelHeaderBox,children:jsxRuntimeExports.jsxs("p",{className:styles$d.panelHeaderParagraph,children:["/   .",jsxRuntimeExports.jsx("br",{}),"     ."]})}),jsxRuntimeExports.jsxs("div",{className:styles$d.titleInputBox,children:[jsxRuntimeExports.jsx("label",{className:styles$d.titleLabel,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:T,onChange:Qe=>A(Qe.target.value),placeholder:"  ",className:styles$d.titleInput,disabled:O})]}),jsxRuntimeExports.jsx(Cover,{coverImage:ae,setCoverImage:ue,openFileDialogForCover:Ne,coverDropzone:_e}),jsxRuntimeExports.jsx(Inner,{imageList:J,setImageList:te,handleImageChange:pe,handleRemoveImage:$e,openFileDialogForInner:Be,innerDropzone:xe}),jsxRuntimeExports.jsxs("div",{className:styles$d.combinedButtonBox,children:[jsxRuntimeExports.jsx("button",{className:styles$d.leftButton,onClick:Le,disabled:qe,children:"/ "}),jsxRuntimeExports.jsx("button",{className:styles$d.rightButton,onClick:He,disabled:qe||O,children:O?" ...":"/"}),b&&jsxRuntimeExports.jsx("button",{className:styles$d.deleteButton,onClick:Ue,disabled:O,children:""})]})]})]})}const layout$3="_layout_11fk5_3",list="_list_11fk5_49",notificationItem$1="_notificationItem_11fk5_65",iconArea="_iconArea_11fk5_97",icon="_icon_11fk5_97",contentArea$1="_contentArea_11fk5_131",headerRow="_headerRow_11fk5_141",notiTitle="_notiTitle_11fk5_155",timestamp$1="_timestamp_11fk5_169",notiBody="_notiBody_11fk5_185",tabContainer="_tabContainer_11fk5_223",tabButton="_tabButton_11fk5_237",activeTab="_activeTab_11fk5_265",styles$a={layout:layout$3,list,notificationItem:notificationItem$1,iconArea,icon,contentArea:contentArea$1,headerRow,notiTitle,timestamp:timestamp$1,notiBody,tabContainer,tabButton,activeTab},parseTimestamp=r=>r?new Date(r.replace(" ","T")+"+09:00"):new Date,formatTimestamp$1=r=>{const x=parseTimestamp(r),b=new Date-x,R=Math.floor(b/(1e3*60)),T=Math.floor(b/(1e3*60*60)),A=Math.floor(b/(1e3*60*60*24));return R<1?" ":R<60?`${R} `:T<24?`${T} `:A<7?`${A} `:x.toLocaleDateString("ko-KR")},Icon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:22,className:styles$a.icon});function ConsoleNotification(){const[r,x]=reactExports$1.useState("sent"),[y,b]=reactExports$1.useState([]),[R,T]=reactExports$1.useState(!0),[A,O]=reactExports$1.useState(null),B=reactExports$1.useCallback(async()=>{var U;try{T(!0),O(null);const K=localStorage.getItem("ACCESS_TOKEN"),J=r==="sent"?"/api/notification/console":"/api/notification/user",te=await userInstance.get(J,{headers:{Authorization:`Bearer ${K}`}}),pe=(Array.isArray((U=te.data)==null?void 0:U.data)?te.data.data:[]).map($e=>({id:$e.notification_id||$e.id,title:$e.title,body:$e.body||$e.content,create_dtm:$e.create_dtm})).sort(($e,Ne)=>new Date(Ne.create_dtm).getTime()-new Date($e.create_dtm).getTime());b(pe)}catch(K){console.error(K),O("    .")}finally{T(!1)}},[r]);return reactExports$1.useEffect(()=>{B()},[B]),reactExports$1.useEffect(()=>{const U=()=>{console.log(" NEW_NOTIFICATION      "),B()};return window.addEventListener("NEW_NOTIFICATION",U),()=>window.removeEventListener("NEW_NOTIFICATION",U)},[B]),R?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:" ..."}):A?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:A}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:jsxRuntimeExports.jsx("h2",{children:"   ."})}):jsxRuntimeExports.jsxs("div",{className:styles$a.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.tabContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${r==="sent"?styles$a.activeTab:""}`,onClick:()=>x("sent"),children:" "}),jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${r==="received"?styles$a.activeTab:""}`,onClick:()=>x("received"),children:" "})]}),R?jsxRuntimeExports.jsx("div",{className:styles$a.loading,children:" ..."}):A?jsxRuntimeExports.jsx("div",{className:styles$a.error,children:A}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.empty,children:" ."}):jsxRuntimeExports.jsx("div",{className:styles$a.list,children:y.map((U,K)=>jsxRuntimeExports.jsxs("div",{className:styles$a.notificationItem,children:[jsxRuntimeExports.jsx("div",{className:styles$a.iconArea,children:jsxRuntimeExports.jsx(Icon,{})}),jsxRuntimeExports.jsxs("div",{className:styles$a.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$a.notiTitle,children:U.title}),jsxRuntimeExports.jsx("span",{className:styles$a.timestamp,children:formatTimestamp$1(U.create_dtm)})]}),jsxRuntimeExports.jsx("p",{className:styles$a.notiBody,children:U.body})]})]},`${U.id}-${K}`))})]})}const page="_page_1qmmv_1",title$3="_title_1qmmv_15",formArea="_formArea_1qmmv_31",label$2="_label_1qmmv_47",input$1="_input_1qmmv_61",textarea$2="_textarea_1qmmv_63",tagContainer="_tagContainer_1qmmv_107",tagButton="_tagButton_1qmmv_119",submitButton="_submitButton_1qmmv_151",resultArea="_resultArea_1qmmv_197",resultCard="_resultCard_1qmmv_211",cardHeader="_cardHeader_1qmmv_231",refineButton="_refineButton_1qmmv_257",placeholder$1="_placeholder_1qmmv_291",styles$9={page,title:title$3,formArea,label:label$2,input:input$1,textarea:textarea$2,tagContainer,tagButton,submitButton,resultArea,resultCard,cardHeader,refineButton,placeholder:placeholder$1};function InvitationGenerator(){const[r,x]=reactExports$1.useState(""),[y,b]=reactExports$1.useState(""),[R,T]=reactExports$1.useState([]),[A,O]=reactExports$1.useState(!1);new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const B=async()=>{var K,J;if(T([]),O(!0),!r.trim()){T(["  ."]),O(!1);return}try{const ae=(await userInstance.post("/api/console/invitation/create",{eventTopic:r,userRequirements:y||""})).data;ae&&typeof ae=="string"?T([ae]):Array.isArray(ae)?T(ae):ae.invitations&&Array.isArray(ae.invitations)?T(ae.invitations):T([" ."])}catch(te){console.error("API  :",te),((K=te.response)==null?void 0:K.status)===401?T([" .  ."]):((J=te.response)==null?void 0:J.status)===403?T([" ."]):T([`API  : ${te.message}`])}finally{O(!1)}},U=async(K,J)=>{var te,ae;if(K.trim())try{const pe=(await userInstance.post("/api/console/invitation/refine",{selectedInvitation:K,eventTopic:r,userRequirements:"   "})).data;T($e=>$e.map((Ne,Be)=>Be===J&&typeof pe=="string"?pe:Ne))}catch(ue){console.error(" API  :",ue),((te=ue.response)==null?void 0:te.status)===401?alert(" .  ."):((ae=ue.response)==null?void 0:ae.status)===403?alert(" ."):alert("  .")}};return jsxRuntimeExports.jsxs("div",{className:styles$9.page,children:[jsxRuntimeExports.jsx("h1",{className:styles$9.title,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$9.formArea,children:[jsxRuntimeExports.jsx("label",{className:styles$9.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:r,onChange:K=>x(K.target.value),placeholder:":  ,  ",className:styles$9.input}),jsxRuntimeExports.jsx("label",{className:styles$9.label,children:""}),jsxRuntimeExports.jsx("textarea",{value:y,onChange:K=>b(K.target.value),placeholder:":   ,   ",className:styles$9.textarea}),jsxRuntimeExports.jsx("div",{className:styles$9.tagContainer,children:["#","#","#","#","#","#"].map(K=>jsxRuntimeExports.jsx("button",{type:"button",className:styles$9.tagButton,onClick:()=>b(J=>J.includes(K)?J:J?`${J}, ${K}`:K),children:K},K))}),jsxRuntimeExports.jsx("button",{onClick:B,className:styles$9.submitButton,disabled:A,children:A?" ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$9.resultArea,children:R.length>0?R.map((K,J)=>jsxRuntimeExports.jsxs("div",{className:styles$9.resultCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.cardHeader,children:[jsxRuntimeExports.jsxs("h3",{children:[" ",J+1]}),jsxRuntimeExports.jsx("button",{className:styles$9.refineButton,onClick:()=>U(K,J),children:""})]}),jsxRuntimeExports.jsx("p",{children:K})]},J)):jsxRuntimeExports.jsx("div",{className:styles$9.placeholder,children:"    ."})})]})}const container$2="_container_1m3jp_3",image="_image_1m3jp_27",info="_info_1m3jp_41",productName="_productName_1m3jp_49",artist="_artist_1m3jp_59",guide="_guide_1m3jp_71",textArea="_textArea_1m3jp_87",checkboxBlock="_checkboxBlock_1m3jp_113",checkboxLabel="_checkboxLabel_1m3jp_163",checkbox="_checkbox_1m3jp_113",checkboxText="_checkboxText_1m3jp_191",expandedContent="_expandedContent_1m3jp_203",expandedActive="_expandedActive_1m3jp_225",expandedTitle="_expandedTitle_1m3jp_237",expandedList="_expandedList_1m3jp_251",buttonRow="_buttonRow_1m3jp_275",saveBtn="_saveBtn_1m3jp_289",cancelBtn$1="_cancelBtn_1m3jp_291",styles$8={container:container$2,image,info,productName,artist,guide,textArea,checkboxBlock,checkboxLabel,checkbox,checkboxText,expandedContent,expandedActive,expandedTitle,expandedList,buttonRow,saveBtn,cancelBtn:cancelBtn$1};function DocentGenerator({autoGenerate:r=!1}){var xe;const{id:x}=useParams(),[y,b]=reactExports$1.useState(null),[R,T]=reactExports$1.useState(""),[A,O]=reactExports$1.useState(!1),[B,U]=reactExports$1.useState(!1),[K,J]=reactExports$1.useState(""),[te,ae]=reactExports$1.useState(!1),ue=(y==null?void 0:y.art_title)||"",pe=(y==null?void 0:y.artist_name)||((xe=y==null?void 0:y.artist)==null?void 0:xe.artist_name)||"",$e=(y==null?void 0:y.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",Ne=async Le=>{var Ue,He,qe;O(!0),J("");try{const Qe=await userInstance.get(`/api/arts/${Le}`),lt=((Ue=Qe.data)==null?void 0:Ue.data)??Qe.data;if(!lt){J("    ."),b(null),T("");return}b(lt),T((lt==null?void 0:lt.art_docent)||"")}catch(Qe){J(((qe=(He=Qe.response)==null?void 0:He.data)==null?void 0:qe.message)||"     ."),b(null),T("")}finally{O(!1)}};reactExports$1.useEffect(()=>{x&&Ne(x)},[x]);const Be=async()=>{var Le,Ue,He;if(!x)return alert("  ID .");if(!R.trim())return alert("  .");if(!y)return alert("   .    .");try{U(!0);const qe=new FormData;qe.append("_method","PATCH"),y.art_title&&qe.append("art_title",y.art_title),y.art_description&&qe.append("art_description",y.art_description),y.artist_id&&qe.append("artist_id",y.artist_id),y.artist_name&&qe.append("artist_name",y.artist_name),y.art_material&&qe.append("art_material",y.art_material),y.art_size&&qe.append("art_size",y.art_size),y.art_year&&qe.append("art_year",y.art_year),y.art_price&&qe.append("art_price",y.art_price),qe.append("art_docent",R),y.art_image&&typeof y.art_image=="string"&&qe.append("art_image",y.art_image),y.art_images&&qe.append("art_images",y.art_images),y.art_image_mime&&qe.append("art_image_mime",y.art_image_mime),y.art_image_name&&qe.append("art_image_name",y.art_image_name),y.art_image_size&&qe.append("art_image_size",y.art_image_size);const Qe=await userInstance.post(`/api/arts/${x}`,qe,{headers:{"Content-Type":void 0}});alert(((Le=Qe.data)==null?void 0:Le.message)||" ."),await Ne(x)}catch(qe){alert(((He=(Ue=qe.response)==null?void 0:Ue.data)==null?void 0:He.message)||"    .")}finally{U(!1)}},_e=()=>T((y==null?void 0:y.art_docent)||"");return x?jsxRuntimeExports.jsx("div",{className:styles$8.container,children:A?jsxRuntimeExports.jsx("div",{className:styles$8.guide,children:"   ..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:$e,alt:ue,className:styles$8.image}),jsxRuntimeExports.jsxs("div",{className:styles$8.info,children:[jsxRuntimeExports.jsx("div",{className:styles$8.productName,children:ue}),jsxRuntimeExports.jsx("div",{className:styles$8.artist,children:pe})]}),K&&jsxRuntimeExports.jsx("div",{className:styles$8.guide,style:{color:"#ef4444"},children:K}),jsxRuntimeExports.jsx("p",{className:styles$8.guide,children:"    ."}),jsxRuntimeExports.jsx("textarea",{className:styles$8.textArea,value:R,onChange:Le=>T(Le.target.value),placeholder:"  .",disabled:A}),jsxRuntimeExports.jsxs("div",{className:styles$8.checkboxBlock,children:[jsxRuntimeExports.jsxs("label",{className:styles$8.checkboxLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te,onChange:Le=>ae(Le.target.checked),className:styles$8.checkbox}),jsxRuntimeExports.jsx("span",{className:styles$8.checkboxText,children:"  ."})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$8.expandedContent} ${te?styles$8.expandedActive:""}`,children:[jsxRuntimeExports.jsx("p",{className:styles$8.expandedTitle,children:"  "}),jsxRuntimeExports.jsxs("ul",{className:styles$8.expandedList,children:[jsxRuntimeExports.jsx("li",{children:"  ,          ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"     ."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.buttonRow,children:[jsxRuntimeExports.jsx("button",{className:styles$8.saveBtn,onClick:Be,disabled:B||!!K||A,children:B?" ...":""}),jsxRuntimeExports.jsx("button",{className:styles$8.cancelBtn,onClick:_e,disabled:B||A,children:""})]})]})}):jsxRuntimeExports.jsx("div",{className:styles$8.container,children:"  ID ."})}function NotFound(){return null}const layout$2="_layout_1el1w_1",header$2="_header_1el1w_15",title$2="_title_1el1w_41",backButton$1="_backButton_1el1w_51",formContainer="_formContainer_1el1w_69",bottomButtonContainer="_bottomButtonContainer_1el1w_83",button="_button_1el1w_105",cancelButton="_cancelButton_1el1w_125",saveButton="_saveButton_1el1w_135",styles$7={layout:layout$2,header:header$2,title:title$2,backButton:backButton$1,formContainer,bottomButtonContainer,button,cancelButton,saveButton},card="_card_choiv_1",input="_input_choiv_17",tagInputField="_tagInputField_choiv_19",timeInput="_timeInput_choiv_21",galleryNameInput="_galleryNameInput_choiv_53",gallerySubNameInput="_gallerySubNameInput_choiv_69",imageUploadBox="_imageUploadBox_choiv_93",previewImage="_previewImage_choiv_123",previewImageDesc="_previewImageDesc_choiv_135",imageDelBtn="_imageDelBtn_choiv_143",inputGroup="_inputGroup_choiv_179",label$1="_label_choiv_193",tagInputContainer="_tagInputContainer_choiv_205",tagItem="_tagItem_choiv_225",removeTagBtn="_removeTagBtn_choiv_245",timeInputContainer="_timeInputContainer_choiv_285",checkboxGroup="_checkboxGroup_choiv_305",snsCard="_snsCard_choiv_329",snsInputGroup="_snsInputGroup_choiv_337",tiptap="_tiptap_choiv_351",artistSelectRow="_artistSelectRow_choiv_411",selectButton="_selectButton_choiv_423",inputDocent="_inputDocent_choiv_491",docent="_docent_choiv_503",textarea$1="_textarea_choiv_515",styles$6={card,input,tagInputField,timeInput,galleryNameInput,gallerySubNameInput,imageUploadBox,previewImage,previewImageDesc,imageDelBtn,inputGroup,label:label$1,tagInputContainer,tagItem,removeTagBtn,timeInputContainer,checkboxGroup,snsCard,snsInputGroup,tiptap,artistSelectRow,selectButton,inputDocent,docent,textarea:textarea$1};var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var r=requireReact$1();function x(J,te){return J===te&&(J!==0||1/J===1/te)||J!==J&&te!==te}var y=typeof Object.is=="function"?Object.is:x,b=r.useState,R=r.useEffect,T=r.useLayoutEffect,A=r.useDebugValue;function O(J,te){var ae=te(),ue=b({inst:{value:ae,getSnapshot:te}}),pe=ue[0].inst,$e=ue[1];return T(function(){pe.value=ae,pe.getSnapshot=te,B(pe)&&$e({inst:pe})},[J,ae,te]),R(function(){return B(pe)&&$e({inst:pe}),J(function(){B(pe)&&$e({inst:pe})})},[J]),A(ae),ae}function B(J){var te=J.getSnapshot;J=J.value;try{var ae=te();return!y(J,ae)}catch{return!0}}function U(J,te){return te()}var K=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U:O;return useSyncExternalStoreShim_production.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:K,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function OrderedMap(r){this.content=r}OrderedMap.prototype={constructor:OrderedMap,find:function(r){for(var x=0;x<this.content.length;x+=2)if(this.content[x]===r)return x;return-1},get:function(r){var x=this.find(r);return x==-1?void 0:this.content[x+1]},update:function(r,x,y){var b=y&&y!=r?this.remove(y):this,R=b.find(r),T=b.content.slice();return R==-1?T.push(y||r,x):(T[R+1]=x,y&&(T[R]=y)),new OrderedMap(T)},remove:function(r){var x=this.find(r);if(x==-1)return this;var y=this.content.slice();return y.splice(x,2),new OrderedMap(y)},addToStart:function(r,x){return new OrderedMap([r,x].concat(this.remove(r).content))},addToEnd:function(r,x){var y=this.remove(r).content.slice();return y.push(r,x),new OrderedMap(y)},addBefore:function(r,x,y){var b=this.remove(x),R=b.content.slice(),T=b.find(r);return R.splice(T==-1?R.length:T,0,x,y),new OrderedMap(R)},forEach:function(r){for(var x=0;x<this.content.length;x+=2)r(this.content[x],this.content[x+1])},prepend:function(r){return r=OrderedMap.from(r),r.size?new OrderedMap(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=OrderedMap.from(r),r.size?new OrderedMap(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var x=this;r=OrderedMap.from(r);for(var y=0;y<r.content.length;y+=2)x=x.remove(r.content[y]);return x},toObject:function(){var r={};return this.forEach(function(x,y){r[x]=y}),r},get size(){return this.content.length>>1}};OrderedMap.from=function(r){if(r instanceof OrderedMap)return r;var x=[];if(r)for(var y in r)x.push(y,r[y]);return new OrderedMap(x)};function findDiffStart(r,x,y){for(let b=0;;b++){if(b==r.childCount||b==x.childCount)return r.childCount==x.childCount?null:y;let R=r.child(b),T=x.child(b);if(R==T){y+=R.nodeSize;continue}if(!R.sameMarkup(T))return y;if(R.isText&&R.text!=T.text){for(let A=0;R.text[A]==T.text[A];A++)y++;return y}if(R.content.size||T.content.size){let A=findDiffStart(R.content,T.content,y+1);if(A!=null)return A}y+=R.nodeSize}}function findDiffEnd(r,x,y,b){for(let R=r.childCount,T=x.childCount;;){if(R==0||T==0)return R==T?null:{a:y,b};let A=r.child(--R),O=x.child(--T),B=A.nodeSize;if(A==O){y-=B,b-=B;continue}if(!A.sameMarkup(O))return{a:y,b};if(A.isText&&A.text!=O.text){let U=0,K=Math.min(A.text.length,O.text.length);for(;U<K&&A.text[A.text.length-U-1]==O.text[O.text.length-U-1];)U++,y--,b--;return{a:y,b}}if(A.content.size||O.content.size){let U=findDiffEnd(A.content,O.content,y-1,b-1);if(U)return U}y-=B,b-=B}}class Fragment{constructor(x,y){if(this.content=x,this.size=y||0,y==null)for(let b=0;b<x.length;b++)this.size+=x[b].nodeSize}nodesBetween(x,y,b,R=0,T){for(let A=0,O=0;O<y;A++){let B=this.content[A],U=O+B.nodeSize;if(U>x&&b(B,R+O,T||null,A)!==!1&&B.content.size){let K=O+1;B.nodesBetween(Math.max(0,x-K),Math.min(B.content.size,y-K),b,R+K)}O=U}}descendants(x){this.nodesBetween(0,this.size,x)}textBetween(x,y,b,R){let T="",A=!0;return this.nodesBetween(x,y,(O,B)=>{let U=O.isText?O.text.slice(Math.max(x,B)-B,y-B):O.isLeaf?R?typeof R=="function"?R(O):R:O.type.spec.leafText?O.type.spec.leafText(O):"":"";O.isBlock&&(O.isLeaf&&U||O.isTextblock)&&b&&(A?A=!1:T+=b),T+=U},0),T}append(x){if(!x.size)return this;if(!this.size)return x;let y=this.lastChild,b=x.firstChild,R=this.content.slice(),T=0;for(y.isText&&y.sameMarkup(b)&&(R[R.length-1]=y.withText(y.text+b.text),T=1);T<x.content.length;T++)R.push(x.content[T]);return new Fragment(R,this.size+x.size)}cut(x,y=this.size){if(x==0&&y==this.size)return this;let b=[],R=0;if(y>x)for(let T=0,A=0;A<y;T++){let O=this.content[T],B=A+O.nodeSize;B>x&&((A<x||B>y)&&(O.isText?O=O.cut(Math.max(0,x-A),Math.min(O.text.length,y-A)):O=O.cut(Math.max(0,x-A-1),Math.min(O.content.size,y-A-1))),b.push(O),R+=O.nodeSize),A=B}return new Fragment(b,R)}cutByIndex(x,y){return x==y?Fragment.empty:x==0&&y==this.content.length?this:new Fragment(this.content.slice(x,y))}replaceChild(x,y){let b=this.content[x];if(b==y)return this;let R=this.content.slice(),T=this.size+y.nodeSize-b.nodeSize;return R[x]=y,new Fragment(R,T)}addToStart(x){return new Fragment([x].concat(this.content),this.size+x.nodeSize)}addToEnd(x){return new Fragment(this.content.concat(x),this.size+x.nodeSize)}eq(x){if(this.content.length!=x.content.length)return!1;for(let y=0;y<this.content.length;y++)if(!this.content[y].eq(x.content[y]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(x){let y=this.content[x];if(!y)throw new RangeError("Index "+x+" out of range for "+this);return y}maybeChild(x){return this.content[x]||null}forEach(x){for(let y=0,b=0;y<this.content.length;y++){let R=this.content[y];x(R,b,y),b+=R.nodeSize}}findDiffStart(x,y=0){return findDiffStart(this,x,y)}findDiffEnd(x,y=this.size,b=x.size){return findDiffEnd(this,x,y,b)}findIndex(x){if(x==0)return retIndex(0,x);if(x==this.size)return retIndex(this.content.length,x);if(x>this.size||x<0)throw new RangeError(`Position ${x} outside of fragment (${this})`);for(let y=0,b=0;;y++){let R=this.child(y),T=b+R.nodeSize;if(T>=x)return T==x?retIndex(y+1,T):retIndex(y,b);b=T}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(x=>x.toJSON()):null}static fromJSON(x,y){if(!y)return Fragment.empty;if(!Array.isArray(y))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(y.map(x.nodeFromJSON))}static fromArray(x){if(!x.length)return Fragment.empty;let y,b=0;for(let R=0;R<x.length;R++){let T=x[R];b+=T.nodeSize,R&&T.isText&&x[R-1].sameMarkup(T)?(y||(y=x.slice(0,R)),y[y.length-1]=T.withText(y[y.length-1].text+T.text)):y&&y.push(T)}return new Fragment(y||x,b)}static from(x){if(!x)return Fragment.empty;if(x instanceof Fragment)return x;if(Array.isArray(x))return this.fromArray(x);if(x.attrs)return new Fragment([x],x.nodeSize);throw new RangeError("Can not convert "+x+" to a Fragment"+(x.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(r,x){return found.index=r,found.offset=x,found}function compareDeep(r,x){if(r===x)return!0;if(!(r&&typeof r=="object")||!(x&&typeof x=="object"))return!1;let y=Array.isArray(r);if(Array.isArray(x)!=y)return!1;if(y){if(r.length!=x.length)return!1;for(let b=0;b<r.length;b++)if(!compareDeep(r[b],x[b]))return!1}else{for(let b in r)if(!(b in x)||!compareDeep(r[b],x[b]))return!1;for(let b in x)if(!(b in r))return!1}return!0}let Mark$1=class bd{constructor(x,y){this.type=x,this.attrs=y}addToSet(x){let y,b=!1;for(let R=0;R<x.length;R++){let T=x[R];if(this.eq(T))return x;if(this.type.excludes(T.type))y||(y=x.slice(0,R));else{if(T.type.excludes(this.type))return x;!b&&T.type.rank>this.type.rank&&(y||(y=x.slice(0,R)),y.push(this),b=!0),y&&y.push(T)}}return y||(y=x.slice()),b||y.push(this),y}removeFromSet(x){for(let y=0;y<x.length;y++)if(this.eq(x[y]))return x.slice(0,y).concat(x.slice(y+1));return x}isInSet(x){for(let y=0;y<x.length;y++)if(this.eq(x[y]))return!0;return!1}eq(x){return this==x||this.type==x.type&&compareDeep(this.attrs,x.attrs)}toJSON(){let x={type:this.type.name};for(let y in this.attrs){x.attrs=this.attrs;break}return x}static fromJSON(x,y){if(!y)throw new RangeError("Invalid input for Mark.fromJSON");let b=x.marks[y.type];if(!b)throw new RangeError(`There is no mark type ${y.type} in this schema`);let R=b.create(y.attrs);return b.checkAttrs(R.attrs),R}static sameSet(x,y){if(x==y)return!0;if(x.length!=y.length)return!1;for(let b=0;b<x.length;b++)if(!x[b].eq(y[b]))return!1;return!0}static setFrom(x){if(!x||Array.isArray(x)&&x.length==0)return bd.none;if(x instanceof bd)return[x];let y=x.slice();return y.sort((b,R)=>b.type.rank-R.type.rank),y}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(x,y,b){this.content=x,this.openStart=y,this.openEnd=b}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(x,y){let b=insertInto(this.content,x+this.openStart,y);return b&&new Slice(b,this.openStart,this.openEnd)}removeBetween(x,y){return new Slice(removeRange(this.content,x+this.openStart,y+this.openStart),this.openStart,this.openEnd)}eq(x){return this.content.eq(x.content)&&this.openStart==x.openStart&&this.openEnd==x.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let x={content:this.content.toJSON()};return this.openStart>0&&(x.openStart=this.openStart),this.openEnd>0&&(x.openEnd=this.openEnd),x}static fromJSON(x,y){if(!y)return Slice.empty;let b=y.openStart||0,R=y.openEnd||0;if(typeof b!="number"||typeof R!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(x,y.content),b,R)}static maxOpen(x,y=!0){let b=0,R=0;for(let T=x.firstChild;T&&!T.isLeaf&&(y||!T.type.spec.isolating);T=T.firstChild)b++;for(let T=x.lastChild;T&&!T.isLeaf&&(y||!T.type.spec.isolating);T=T.lastChild)R++;return new Slice(x,b,R)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(r,x,y){let{index:b,offset:R}=r.findIndex(x),T=r.maybeChild(b),{index:A,offset:O}=r.findIndex(y);if(R==x||T.isText){if(O!=y&&!r.child(A).isText)throw new RangeError("Removing non-flat range");return r.cut(0,x).append(r.cut(y))}if(b!=A)throw new RangeError("Removing non-flat range");return r.replaceChild(b,T.copy(removeRange(T.content,x-R-1,y-R-1)))}function insertInto(r,x,y,b){let{index:R,offset:T}=r.findIndex(x),A=r.maybeChild(R);if(T==x||A.isText)return b&&!b.canReplace(R,R,y)?null:r.cut(0,x).append(y).append(r.cut(x));let O=insertInto(A.content,x-T-1,y,A);return O&&r.replaceChild(R,A.copy(O))}function replace(r,x,y){if(y.openStart>r.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(r.depth-y.openStart!=x.depth-y.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(r,x,y,0)}function replaceOuter(r,x,y,b){let R=r.index(b),T=r.node(b);if(R==x.index(b)&&b<r.depth-y.openStart){let A=replaceOuter(r,x,y,b+1);return T.copy(T.content.replaceChild(R,A))}else if(y.content.size)if(!y.openStart&&!y.openEnd&&r.depth==b&&x.depth==b){let A=r.parent,O=A.content;return close(A,O.cut(0,r.parentOffset).append(y.content).append(O.cut(x.parentOffset)))}else{let{start:A,end:O}=prepareSliceForReplace(y,r);return close(T,replaceThreeWay(r,A,O,x,b))}else return close(T,replaceTwoWay(r,x,b))}function checkJoin(r,x){if(!x.type.compatibleContent(r.type))throw new ReplaceError("Cannot join "+x.type.name+" onto "+r.type.name)}function joinable$1(r,x,y){let b=r.node(y);return checkJoin(b,x.node(y)),b}function addNode(r,x){let y=x.length-1;y>=0&&r.isText&&r.sameMarkup(x[y])?x[y]=r.withText(x[y].text+r.text):x.push(r)}function addRange(r,x,y,b){let R=(x||r).node(y),T=0,A=x?x.index(y):R.childCount;r&&(T=r.index(y),r.depth>y?T++:r.textOffset&&(addNode(r.nodeAfter,b),T++));for(let O=T;O<A;O++)addNode(R.child(O),b);x&&x.depth==y&&x.textOffset&&addNode(x.nodeBefore,b)}function close(r,x){return r.type.checkContent(x),r.copy(x)}function replaceThreeWay(r,x,y,b,R){let T=r.depth>R&&joinable$1(r,x,R+1),A=b.depth>R&&joinable$1(y,b,R+1),O=[];return addRange(null,r,R,O),T&&A&&x.index(R)==y.index(R)?(checkJoin(T,A),addNode(close(T,replaceThreeWay(r,x,y,b,R+1)),O)):(T&&addNode(close(T,replaceTwoWay(r,x,R+1)),O),addRange(x,y,R,O),A&&addNode(close(A,replaceTwoWay(y,b,R+1)),O)),addRange(b,null,R,O),new Fragment(O)}function replaceTwoWay(r,x,y){let b=[];if(addRange(null,r,y,b),r.depth>y){let R=joinable$1(r,x,y+1);addNode(close(R,replaceTwoWay(r,x,y+1)),b)}return addRange(x,null,y,b),new Fragment(b)}function prepareSliceForReplace(r,x){let y=x.depth-r.openStart,R=x.node(y).copy(r.content);for(let T=y-1;T>=0;T--)R=x.node(T).copy(Fragment.from(R));return{start:R.resolveNoCache(r.openStart+y),end:R.resolveNoCache(R.content.size-r.openEnd-y)}}class ResolvedPos{constructor(x,y,b){this.pos=x,this.path=y,this.parentOffset=b,this.depth=y.length/3-1}resolveDepth(x){return x==null?this.depth:x<0?this.depth+x:x}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(x){return this.path[this.resolveDepth(x)*3]}index(x){return this.path[this.resolveDepth(x)*3+1]}indexAfter(x){return x=this.resolveDepth(x),this.index(x)+(x==this.depth&&!this.textOffset?0:1)}start(x){return x=this.resolveDepth(x),x==0?0:this.path[x*3-1]+1}end(x){return x=this.resolveDepth(x),this.start(x)+this.node(x).content.size}before(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position before the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]}after(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position after the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]+this.path[x*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let x=this.parent,y=this.index(this.depth);if(y==x.childCount)return null;let b=this.pos-this.path[this.path.length-1],R=x.child(y);return b?x.child(y).cut(b):R}get nodeBefore(){let x=this.index(this.depth),y=this.pos-this.path[this.path.length-1];return y?this.parent.child(x).cut(0,y):x==0?null:this.parent.child(x-1)}posAtIndex(x,y){y=this.resolveDepth(y);let b=this.path[y*3],R=y==0?0:this.path[y*3-1]+1;for(let T=0;T<x;T++)R+=b.child(T).nodeSize;return R}marks(){let x=this.parent,y=this.index();if(x.content.size==0)return Mark$1.none;if(this.textOffset)return x.child(y).marks;let b=x.maybeChild(y-1),R=x.maybeChild(y);if(!b){let O=b;b=R,R=O}let T=b.marks;for(var A=0;A<T.length;A++)T[A].type.spec.inclusive===!1&&(!R||!T[A].isInSet(R.marks))&&(T=T[A--].removeFromSet(T));return T}marksAcross(x){let y=this.parent.maybeChild(this.index());if(!y||!y.isInline)return null;let b=y.marks,R=x.parent.maybeChild(x.index());for(var T=0;T<b.length;T++)b[T].type.spec.inclusive===!1&&(!R||!b[T].isInSet(R.marks))&&(b=b[T--].removeFromSet(b));return b}sharedDepth(x){for(let y=this.depth;y>0;y--)if(this.start(y)<=x&&this.end(y)>=x)return y;return 0}blockRange(x=this,y){if(x.pos<this.pos)return x.blockRange(this);for(let b=this.depth-(this.parent.inlineContent||this.pos==x.pos?1:0);b>=0;b--)if(x.pos<=this.end(b)&&(!y||y(this.node(b))))return new NodeRange(this,x,b);return null}sameParent(x){return this.pos-this.parentOffset==x.pos-x.parentOffset}max(x){return x.pos>this.pos?x:this}min(x){return x.pos<this.pos?x:this}toString(){let x="";for(let y=1;y<=this.depth;y++)x+=(x?"/":"")+this.node(y).type.name+"_"+this.index(y-1);return x+":"+this.parentOffset}static resolve(x,y){if(!(y>=0&&y<=x.content.size))throw new RangeError("Position "+y+" out of range");let b=[],R=0,T=y;for(let A=x;;){let{index:O,offset:B}=A.content.findIndex(T),U=T-B;if(b.push(A,O,R+B),!U||(A=A.child(O),A.isText))break;T=U-1,R+=B+1}return new ResolvedPos(y,b,T)}static resolveCached(x,y){let b=resolveCache.get(x);if(b)for(let T=0;T<b.elts.length;T++){let A=b.elts[T];if(A.pos==y)return A}else resolveCache.set(x,b=new ResolveCache);let R=b.elts[b.i]=ResolvedPos.resolve(x,y);return b.i=(b.i+1)%resolveCacheSize,R}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(x,y,b){this.$from=x,this.$to=y,this.depth=b}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);class Node{constructor(x,y,b,R=Mark$1.none){this.type=x,this.attrs=y,this.marks=R,this.content=b||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(x){return this.content.child(x)}maybeChild(x){return this.content.maybeChild(x)}forEach(x){this.content.forEach(x)}nodesBetween(x,y,b,R=0){this.content.nodesBetween(x,y,b,R,this)}descendants(x){this.nodesBetween(0,this.content.size,x)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(x,y,b,R){return this.content.textBetween(x,y,b,R)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(x){return this==x||this.sameMarkup(x)&&this.content.eq(x.content)}sameMarkup(x){return this.hasMarkup(x.type,x.attrs,x.marks)}hasMarkup(x,y,b){return this.type==x&&compareDeep(this.attrs,y||x.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,b||Mark$1.none)}copy(x=null){return x==this.content?this:new Node(this.type,this.attrs,x,this.marks)}mark(x){return x==this.marks?this:new Node(this.type,this.attrs,this.content,x)}cut(x,y=this.content.size){return x==0&&y==this.content.size?this:this.copy(this.content.cut(x,y))}slice(x,y=this.content.size,b=!1){if(x==y)return Slice.empty;let R=this.resolve(x),T=this.resolve(y),A=b?0:R.sharedDepth(y),O=R.start(A),U=R.node(A).content.cut(R.pos-O,T.pos-O);return new Slice(U,R.depth-A,T.depth-A)}replace(x,y,b){return replace(this.resolve(x),this.resolve(y),b)}nodeAt(x){for(let y=this;;){let{index:b,offset:R}=y.content.findIndex(x);if(y=y.maybeChild(b),!y)return null;if(R==x||y.isText)return y;x-=R+1}}childAfter(x){let{index:y,offset:b}=this.content.findIndex(x);return{node:this.content.maybeChild(y),index:y,offset:b}}childBefore(x){if(x==0)return{node:null,index:0,offset:0};let{index:y,offset:b}=this.content.findIndex(x);if(b<x)return{node:this.content.child(y),index:y,offset:b};let R=this.content.child(y-1);return{node:R,index:y-1,offset:b-R.nodeSize}}resolve(x){return ResolvedPos.resolveCached(this,x)}resolveNoCache(x){return ResolvedPos.resolve(this,x)}rangeHasMark(x,y,b){let R=!1;return y>x&&this.nodesBetween(x,y,T=>(b.isInSet(T.marks)&&(R=!0),!R)),R}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let x=this.type.name;return this.content.size&&(x+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,x)}contentMatchAt(x){let y=this.type.contentMatch.matchFragment(this.content,0,x);if(!y)throw new Error("Called contentMatchAt on a node with invalid content");return y}canReplace(x,y,b=Fragment.empty,R=0,T=b.childCount){let A=this.contentMatchAt(x).matchFragment(b,R,T),O=A&&A.matchFragment(this.content,y);if(!O||!O.validEnd)return!1;for(let B=R;B<T;B++)if(!this.type.allowsMarks(b.child(B).marks))return!1;return!0}canReplaceWith(x,y,b,R){if(R&&!this.type.allowsMarks(R))return!1;let T=this.contentMatchAt(x).matchType(b),A=T&&T.matchFragment(this.content,y);return A?A.validEnd:!1}canAppend(x){return x.content.size?this.canReplace(this.childCount,this.childCount,x.content):this.type.compatibleContent(x.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let x=Mark$1.none;for(let y=0;y<this.marks.length;y++){let b=this.marks[y];b.type.checkAttrs(b.attrs),x=b.addToSet(x)}if(!Mark$1.sameSet(x,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(y=>y.type.name)}`);this.content.forEach(y=>y.check())}toJSON(){let x={type:this.type.name};for(let y in this.attrs){x.attrs=this.attrs;break}return this.content.size&&(x.content=this.content.toJSON()),this.marks.length&&(x.marks=this.marks.map(y=>y.toJSON())),x}static fromJSON(x,y){if(!y)throw new RangeError("Invalid input for Node.fromJSON");let b;if(y.marks){if(!Array.isArray(y.marks))throw new RangeError("Invalid mark data for Node.fromJSON");b=y.marks.map(x.markFromJSON)}if(y.type=="text"){if(typeof y.text!="string")throw new RangeError("Invalid text node in JSON");return x.text(y.text,b)}let R=Fragment.fromJSON(x,y.content),T=x.nodeType(y.type).create(y.attrs,R,b);return T.type.checkAttrs(T.attrs),T}}Node.prototype.text=void 0;class TextNode extends Node{constructor(x,y,b,R){if(super(x,y,null,R),!b)throw new RangeError("Empty text nodes are not allowed");this.text=b}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(x,y){return this.text.slice(x,y)}get nodeSize(){return this.text.length}mark(x){return x==this.marks?this:new TextNode(this.type,this.attrs,this.text,x)}withText(x){return x==this.text?this:new TextNode(this.type,this.attrs,x,this.marks)}cut(x=0,y=this.text.length){return x==0&&y==this.text.length?this:this.withText(this.text.slice(x,y))}eq(x){return this.sameMarkup(x)&&this.text==x.text}toJSON(){let x=super.toJSON();return x.text=this.text,x}}function wrapMarks(r,x){for(let y=r.length-1;y>=0;y--)x=r[y].type.name+"("+x+")";return x}class ContentMatch{constructor(x){this.validEnd=x,this.next=[],this.wrapCache=[]}static parse(x,y){let b=new TokenStream(x,y);if(b.next==null)return ContentMatch.empty;let R=parseExpr(b);b.next&&b.err("Unexpected trailing text");let T=dfa(nfa(R));return checkForDeadEnds(T,b),T}matchType(x){for(let y=0;y<this.next.length;y++)if(this.next[y].type==x)return this.next[y].next;return null}matchFragment(x,y=0,b=x.childCount){let R=this;for(let T=y;R&&T<b;T++)R=R.matchType(x.child(T).type);return R}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let x=0;x<this.next.length;x++){let{type:y}=this.next[x];if(!(y.isText||y.hasRequiredAttrs()))return y}return null}compatible(x){for(let y=0;y<this.next.length;y++)for(let b=0;b<x.next.length;b++)if(this.next[y].type==x.next[b].type)return!0;return!1}fillBefore(x,y=!1,b=0){let R=[this];function T(A,O){let B=A.matchFragment(x,b);if(B&&(!y||B.validEnd))return Fragment.from(O.map(U=>U.createAndFill()));for(let U=0;U<A.next.length;U++){let{type:K,next:J}=A.next[U];if(!(K.isText||K.hasRequiredAttrs())&&R.indexOf(J)==-1){R.push(J);let te=T(J,O.concat(K));if(te)return te}}return null}return T(this,[])}findWrapping(x){for(let b=0;b<this.wrapCache.length;b+=2)if(this.wrapCache[b]==x)return this.wrapCache[b+1];let y=this.computeWrapping(x);return this.wrapCache.push(x,y),y}computeWrapping(x){let y=Object.create(null),b=[{match:this,type:null,via:null}];for(;b.length;){let R=b.shift(),T=R.match;if(T.matchType(x)){let A=[];for(let O=R;O.type;O=O.via)A.push(O.type);return A.reverse()}for(let A=0;A<T.next.length;A++){let{type:O,next:B}=T.next[A];!O.isLeaf&&!O.hasRequiredAttrs()&&!(O.name in y)&&(!R.type||B.validEnd)&&(b.push({match:O.contentMatch,type:O,via:R}),y[O.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(x){if(x>=this.next.length)throw new RangeError(`There's no ${x}th edge in this content match`);return this.next[x]}toString(){let x=[];function y(b){x.push(b);for(let R=0;R<b.next.length;R++)x.indexOf(b.next[R].next)==-1&&y(b.next[R].next)}return y(this),x.map((b,R)=>{let T=R+(b.validEnd?"*":" ")+" ";for(let A=0;A<b.next.length;A++)T+=(A?", ":"")+b.next[A].type.name+"->"+x.indexOf(b.next[A].next);return T}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(x,y){this.string=x,this.nodeTypes=y,this.inline=null,this.pos=0,this.tokens=x.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(x){return this.next==x&&(this.pos++||!0)}err(x){throw new SyntaxError(x+" (in content expression '"+this.string+"')")}}function parseExpr(r){let x=[];do x.push(parseExprSeq(r));while(r.eat("|"));return x.length==1?x[0]:{type:"choice",exprs:x}}function parseExprSeq(r){let x=[];do x.push(parseExprSubscript(r));while(r.next&&r.next!=")"&&r.next!="|");return x.length==1?x[0]:{type:"seq",exprs:x}}function parseExprSubscript(r){let x=parseExprAtom(r);for(;;)if(r.eat("+"))x={type:"plus",expr:x};else if(r.eat("*"))x={type:"star",expr:x};else if(r.eat("?"))x={type:"opt",expr:x};else if(r.eat("{"))x=parseExprRange(r,x);else break;return x}function parseNum(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let x=Number(r.next);return r.pos++,x}function parseExprRange(r,x){let y=parseNum(r),b=y;return r.eat(",")&&(r.next!="}"?b=parseNum(r):b=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:y,max:b,expr:x}}function resolveName(r,x){let y=r.nodeTypes,b=y[x];if(b)return[b];let R=[];for(let T in y){let A=y[T];A.isInGroup(x)&&R.push(A)}return R.length==0&&r.err("No node type or group '"+x+"' found"),R}function parseExprAtom(r){if(r.eat("(")){let x=parseExpr(r);return r.eat(")")||r.err("Missing closing paren"),x}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let x=resolveName(r,r.next).map(y=>(r.inline==null?r.inline=y.isInline:r.inline!=y.isInline&&r.err("Mixing inline and block content"),{type:"name",value:y}));return r.pos++,x.length==1?x[0]:{type:"choice",exprs:x}}}function nfa(r){let x=[[]];return R(T(r,0),y()),x;function y(){return x.push([])-1}function b(A,O,B){let U={term:B,to:O};return x[A].push(U),U}function R(A,O){A.forEach(B=>B.to=O)}function T(A,O){if(A.type=="choice")return A.exprs.reduce((B,U)=>B.concat(T(U,O)),[]);if(A.type=="seq")for(let B=0;;B++){let U=T(A.exprs[B],O);if(B==A.exprs.length-1)return U;R(U,O=y())}else if(A.type=="star"){let B=y();return b(O,B),R(T(A.expr,B),B),[b(B)]}else if(A.type=="plus"){let B=y();return R(T(A.expr,O),B),R(T(A.expr,B),B),[b(B)]}else{if(A.type=="opt")return[b(O)].concat(T(A.expr,O));if(A.type=="range"){let B=O;for(let U=0;U<A.min;U++){let K=y();R(T(A.expr,B),K),B=K}if(A.max==-1)R(T(A.expr,B),B);else for(let U=A.min;U<A.max;U++){let K=y();b(B,K),R(T(A.expr,B),K),B=K}return[b(B)]}else{if(A.type=="name")return[b(O,void 0,A.value)];throw new Error("Unknown expr type")}}}}function cmp(r,x){return x-r}function nullFrom(r,x){let y=[];return b(x),y.sort(cmp);function b(R){let T=r[R];if(T.length==1&&!T[0].term)return b(T[0].to);y.push(R);for(let A=0;A<T.length;A++){let{term:O,to:B}=T[A];!O&&y.indexOf(B)==-1&&b(B)}}}function dfa(r){let x=Object.create(null);return y(nullFrom(r,0));function y(b){let R=[];b.forEach(A=>{r[A].forEach(({term:O,to:B})=>{if(!O)return;let U;for(let K=0;K<R.length;K++)R[K][0]==O&&(U=R[K][1]);nullFrom(r,B).forEach(K=>{U||R.push([O,U=[]]),U.indexOf(K)==-1&&U.push(K)})})});let T=x[b.join(",")]=new ContentMatch(b.indexOf(r.length-1)>-1);for(let A=0;A<R.length;A++){let O=R[A][1].sort(cmp);T.next.push({type:R[A][0],next:x[O.join(",")]||y(O)})}return T}}function checkForDeadEnds(r,x){for(let y=0,b=[r];y<b.length;y++){let R=b[y],T=!R.validEnd,A=[];for(let O=0;O<R.next.length;O++){let{type:B,next:U}=R.next[O];A.push(B.name),T&&!(B.isText||B.hasRequiredAttrs())&&(T=!1),b.indexOf(U)==-1&&b.push(U)}T&&x.err("Only non-generatable nodes ("+A.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(r){let x=Object.create(null);for(let y in r){let b=r[y];if(!b.hasDefault)return null;x[y]=b.default}return x}function computeAttrs(r,x){let y=Object.create(null);for(let b in r){let R=x&&x[b];if(R===void 0){let T=r[b];if(T.hasDefault)R=T.default;else throw new RangeError("No value supplied for attribute "+b)}y[b]=R}return y}function checkAttrs(r,x,y,b){for(let R in x)if(!(R in r))throw new RangeError(`Unsupported attribute ${R} for ${y} of type ${R}`);for(let R in r){let T=r[R];T.validate&&T.validate(x[R])}}function initAttrs(r,x){let y=Object.create(null);if(x)for(let b in x)y[b]=new Attribute(r,b,x[b]);return y}let NodeType$1=class Ap{constructor(x,y,b){this.name=x,this.schema=y,this.spec=b,this.markSet=null,this.groups=b.group?b.group.split(" "):[],this.attrs=initAttrs(x,b.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(b.inline||x=="text"),this.isText=x=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(x){return this.groups.indexOf(x)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let x in this.attrs)if(this.attrs[x].isRequired)return!0;return!1}compatibleContent(x){return this==x||this.contentMatch.compatible(x.contentMatch)}computeAttrs(x){return!x&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,x)}create(x=null,y,b){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node(this,this.computeAttrs(x),Fragment.from(y),Mark$1.setFrom(b))}createChecked(x=null,y,b){return y=Fragment.from(y),this.checkContent(y),new Node(this,this.computeAttrs(x),y,Mark$1.setFrom(b))}createAndFill(x=null,y,b){if(x=this.computeAttrs(x),y=Fragment.from(y),y.size){let A=this.contentMatch.fillBefore(y);if(!A)return null;y=A.append(y)}let R=this.contentMatch.matchFragment(y),T=R&&R.fillBefore(Fragment.empty,!0);return T?new Node(this,x,y.append(T),Mark$1.setFrom(b)):null}validContent(x){let y=this.contentMatch.matchFragment(x);if(!y||!y.validEnd)return!1;for(let b=0;b<x.childCount;b++)if(!this.allowsMarks(x.child(b).marks))return!1;return!0}checkContent(x){if(!this.validContent(x))throw new RangeError(`Invalid content for node ${this.name}: ${x.toString().slice(0,50)}`)}checkAttrs(x){checkAttrs(this.attrs,x,"node",this.name)}allowsMarkType(x){return this.markSet==null||this.markSet.indexOf(x)>-1}allowsMarks(x){if(this.markSet==null)return!0;for(let y=0;y<x.length;y++)if(!this.allowsMarkType(x[y].type))return!1;return!0}allowedMarks(x){if(this.markSet==null)return x;let y;for(let b=0;b<x.length;b++)this.allowsMarkType(x[b].type)?y&&y.push(x[b]):y||(y=x.slice(0,b));return y?y.length?y:Mark$1.none:x}static compile(x,y){let b=Object.create(null);x.forEach((T,A)=>b[T]=new Ap(T,y,A));let R=y.spec.topNode||"doc";if(!b[R])throw new RangeError("Schema is missing its top node type ('"+R+"')");if(!b.text)throw new RangeError("Every schema needs a 'text' type");for(let T in b.text.attrs)throw new RangeError("The text node type should not have attributes");return b}};function validateType(r,x,y){let b=y.split("|");return R=>{let T=R===null?"null":typeof R;if(b.indexOf(T)<0)throw new RangeError(`Expected value of type ${b} for attribute ${x} on type ${r}, got ${T}`)}}class Attribute{constructor(x,y,b){this.hasDefault=Object.prototype.hasOwnProperty.call(b,"default"),this.default=b.default,this.validate=typeof b.validate=="string"?validateType(x,y,b.validate):b.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(x,y,b,R){this.name=x,this.rank=y,this.schema=b,this.spec=R,this.attrs=initAttrs(x,R.attrs),this.excluded=null;let T=defaultAttrs(this.attrs);this.instance=T?new Mark$1(this,T):null}create(x=null){return!x&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,x))}static compile(x,y){let b=Object.create(null),R=0;return x.forEach((T,A)=>b[T]=new MarkType(T,R++,y,A)),b}removeFromSet(x){for(var y=0;y<x.length;y++)x[y].type==this&&(x=x.slice(0,y).concat(x.slice(y+1)),y--);return x}isInSet(x){for(let y=0;y<x.length;y++)if(x[y].type==this)return x[y]}checkAttrs(x){checkAttrs(this.attrs,x,"mark",this.name)}excludes(x){return this.excluded.indexOf(x)>-1}}class Schema{constructor(x){this.linebreakReplacement=null,this.cached=Object.create(null);let y=this.spec={};for(let R in x)y[R]=x[R];y.nodes=OrderedMap.from(x.nodes),y.marks=OrderedMap.from(x.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let b=Object.create(null);for(let R in this.nodes){if(R in this.marks)throw new RangeError(R+" can not be both a node and a mark");let T=this.nodes[R],A=T.spec.content||"",O=T.spec.marks;if(T.contentMatch=b[A]||(b[A]=ContentMatch.parse(A,this.nodes)),T.inlineContent=T.contentMatch.inlineContent,T.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!T.isInline||!T.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=T}T.markSet=O=="_"?null:O?gatherMarks(this,O.split(" ")):O==""||!T.inlineContent?[]:null}for(let R in this.marks){let T=this.marks[R],A=T.spec.excludes;T.excluded=A==null?[T]:A==""?[]:gatherMarks(this,A.split(" "))}this.nodeFromJSON=R=>Node.fromJSON(this,R),this.markFromJSON=R=>Mark$1.fromJSON(this,R),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(x,y=null,b,R){if(typeof x=="string")x=this.nodeType(x);else if(x instanceof NodeType$1){if(x.schema!=this)throw new RangeError("Node type from different schema used ("+x.name+")")}else throw new RangeError("Invalid node type: "+x);return x.createChecked(y,b,R)}text(x,y){let b=this.nodes.text;return new TextNode(b,b.defaultAttrs,x,Mark$1.setFrom(y))}mark(x,y){return typeof x=="string"&&(x=this.marks[x]),x.create(y)}nodeType(x){let y=this.nodes[x];if(!y)throw new RangeError("Unknown node type: "+x);return y}}function gatherMarks(r,x){let y=[];for(let b=0;b<x.length;b++){let R=x[b],T=r.marks[R],A=T;if(T)y.push(T);else for(let O in r.marks){let B=r.marks[O];(R=="_"||B.spec.group&&B.spec.group.split(" ").indexOf(R)>-1)&&y.push(A=B)}if(!A)throw new SyntaxError("Unknown mark type: '"+x[b]+"'")}return y}function isTagRule(r){return r.tag!=null}function isStyleRule(r){return r.style!=null}class DOMParser{constructor(x,y){this.schema=x,this.rules=y,this.tags=[],this.styles=[];let b=this.matchedStyles=[];y.forEach(R=>{if(isTagRule(R))this.tags.push(R);else if(isStyleRule(R)){let T=/[^=]*/.exec(R.style)[0];b.indexOf(T)<0&&b.push(T),this.styles.push(R)}}),this.normalizeLists=!this.tags.some(R=>{if(!/^(ul|ol)\b/.test(R.tag)||!R.node)return!1;let T=x.nodes[R.node];return T.contentMatch.matchType(T)})}parse(x,y={}){let b=new ParseContext(this,y,!1);return b.addAll(x,Mark$1.none,y.from,y.to),b.finish()}parseSlice(x,y={}){let b=new ParseContext(this,y,!0);return b.addAll(x,Mark$1.none,y.from,y.to),Slice.maxOpen(b.finish())}matchTag(x,y,b){for(let R=b?this.tags.indexOf(b)+1:0;R<this.tags.length;R++){let T=this.tags[R];if(matches(x,T.tag)&&(T.namespace===void 0||x.namespaceURI==T.namespace)&&(!T.context||y.matchesContext(T.context))){if(T.getAttrs){let A=T.getAttrs(x);if(A===!1)continue;T.attrs=A||void 0}return T}}}matchStyle(x,y,b,R){for(let T=R?this.styles.indexOf(R)+1:0;T<this.styles.length;T++){let A=this.styles[T],O=A.style;if(!(O.indexOf(x)!=0||A.context&&!b.matchesContext(A.context)||O.length>x.length&&(O.charCodeAt(x.length)!=61||O.slice(x.length+1)!=y))){if(A.getAttrs){let B=A.getAttrs(y);if(B===!1)continue;A.attrs=B||void 0}return A}}}static schemaRules(x){let y=[];function b(R){let T=R.priority==null?50:R.priority,A=0;for(;A<y.length;A++){let O=y[A];if((O.priority==null?50:O.priority)<T)break}y.splice(A,0,R)}for(let R in x.marks){let T=x.marks[R].spec.parseDOM;T&&T.forEach(A=>{b(A=copy(A)),A.mark||A.ignore||A.clearMark||(A.mark=R)})}for(let R in x.nodes){let T=x.nodes[R].spec.parseDOM;T&&T.forEach(A=>{b(A=copy(A)),A.node||A.ignore||A.mark||(A.node=R)})}return y}static fromSchema(x){return x.cached.domParser||(x.cached.domParser=new DOMParser(x,DOMParser.schemaRules(x)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(r,x,y){return x!=null?(x?OPT_PRESERVE_WS:0)|(x==="full"?OPT_PRESERVE_WS_FULL:0):r&&r.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:y&~OPT_OPEN_LEFT}class NodeContext{constructor(x,y,b,R,T,A){this.type=x,this.attrs=y,this.marks=b,this.solid=R,this.options=A,this.content=[],this.activeMarks=Mark$1.none,this.match=T||(A&OPT_OPEN_LEFT?null:x.contentMatch)}findWrapping(x){if(!this.match){if(!this.type)return[];let y=this.type.contentMatch.fillBefore(Fragment.from(x));if(y)this.match=this.type.contentMatch.matchFragment(y);else{let b=this.type.contentMatch,R;return(R=b.findWrapping(x.type))?(this.match=b,R):null}}return this.match.findWrapping(x.type)}finish(x){if(!(this.options&OPT_PRESERVE_WS)){let b=this.content[this.content.length-1],R;if(b&&b.isText&&(R=/[ \t\r\n\u000c]+$/.exec(b.text))){let T=b;b.text.length==R[0].length?this.content.pop():this.content[this.content.length-1]=T.withText(T.text.slice(0,T.text.length-R[0].length))}}let y=Fragment.from(this.content);return!x&&this.match&&(y=y.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,y,this.marks):y}inlineContext(x){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:x.parentNode&&!blockTags.hasOwnProperty(x.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(x,y,b){this.parser=x,this.options=y,this.isOpen=b,this.open=0,this.localPreserveWS=!1;let R=y.topNode,T,A=wsOptionsFor(null,y.preserveWhitespace,0)|(b?OPT_OPEN_LEFT:0);R?T=new NodeContext(R.type,R.attrs,Mark$1.none,!0,y.topMatch||R.type.contentMatch,A):b?T=new NodeContext(null,null,Mark$1.none,!0,null,A):T=new NodeContext(x.schema.topNodeType,null,Mark$1.none,!0,null,A),this.nodes=[T],this.find=y.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(x,y){x.nodeType==3?this.addTextNode(x,y):x.nodeType==1&&this.addElement(x,y)}addTextNode(x,y){let b=x.nodeValue,R=this.top,T=R.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(R.options&OPT_PRESERVE_WS)>0,{schema:A}=this.parser;if(T==="full"||R.inlineContext(x)||/[^ \t\r\n\u000c]/.test(b)){if(T)if(T==="full")b=b.replace(/\r\n?/g,`
`);else if(A.linebreakReplacement&&/[\r\n]/.test(b)&&this.top.findWrapping(A.linebreakReplacement.create())){let O=b.split(/\r?\n|\r/);for(let B=0;B<O.length;B++)B&&this.insertNode(A.linebreakReplacement.create(),y,!0),O[B]&&this.insertNode(A.text(O[B]),y,!/\S/.test(O[B]));b=""}else b=b.replace(/\r?\n|\r/g," ");else if(b=b.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(b)&&this.open==this.nodes.length-1){let O=R.content[R.content.length-1],B=x.previousSibling;(!O||B&&B.nodeName=="BR"||O.isText&&/[ \t\r\n\u000c]$/.test(O.text))&&(b=b.slice(1))}b&&this.insertNode(A.text(b),y,!/\S/.test(b)),this.findInText(x)}else this.findInside(x)}addElement(x,y,b){let R=this.localPreserveWS,T=this.top;(x.tagName=="PRE"||/pre/.test(x.style&&x.style.whiteSpace))&&(this.localPreserveWS=!0);let A=x.nodeName.toLowerCase(),O;listTags.hasOwnProperty(A)&&this.parser.normalizeLists&&normalizeList(x);let B=this.options.ruleFromNode&&this.options.ruleFromNode(x)||(O=this.parser.matchTag(x,this,b));e:if(B?B.ignore:ignoreTags.hasOwnProperty(A))this.findInside(x),this.ignoreFallback(x,y);else if(!B||B.skip||B.closeParent){B&&B.closeParent?this.open=Math.max(0,this.open-1):B&&B.skip.nodeType&&(x=B.skip);let U,K=this.needsBlock;if(blockTags.hasOwnProperty(A))T.content.length&&T.content[0].isInline&&this.open&&(this.open--,T=this.top),U=!0,T.type||(this.needsBlock=!0);else if(!x.firstChild){this.leafFallback(x,y);break e}let J=B&&B.skip?y:this.readStyles(x,y);J&&this.addAll(x,J),U&&this.sync(T),this.needsBlock=K}else{let U=this.readStyles(x,y);U&&this.addElementByRule(x,B,U,B.consuming===!1?O:void 0)}this.localPreserveWS=R}leafFallback(x,y){x.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(x.ownerDocument.createTextNode(`
`),y)}ignoreFallback(x,y){x.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),y,!0)}readStyles(x,y){let b=x.style;if(b&&b.length)for(let R=0;R<this.parser.matchedStyles.length;R++){let T=this.parser.matchedStyles[R],A=b.getPropertyValue(T);if(A)for(let O=void 0;;){let B=this.parser.matchStyle(T,A,this,O);if(!B)break;if(B.ignore)return null;if(B.clearMark?y=y.filter(U=>!B.clearMark(U)):y=y.concat(this.parser.schema.marks[B.mark].create(B.attrs)),B.consuming===!1)O=B;else break}}return y}addElementByRule(x,y,b,R){let T,A;if(y.node)if(A=this.parser.schema.nodes[y.node],A.isLeaf)this.insertNode(A.create(y.attrs),b,x.nodeName=="BR")||this.leafFallback(x,b);else{let B=this.enter(A,y.attrs||null,b,y.preserveWhitespace);B&&(T=!0,b=B)}else{let B=this.parser.schema.marks[y.mark];b=b.concat(B.create(y.attrs))}let O=this.top;if(A&&A.isLeaf)this.findInside(x);else if(R)this.addElement(x,b,R);else if(y.getContent)this.findInside(x),y.getContent(x,this.parser.schema).forEach(B=>this.insertNode(B,b,!1));else{let B=x;typeof y.contentElement=="string"?B=x.querySelector(y.contentElement):typeof y.contentElement=="function"?B=y.contentElement(x):y.contentElement&&(B=y.contentElement),this.findAround(x,B,!0),this.addAll(B,b),this.findAround(x,B,!1)}T&&this.sync(O)&&this.open--}addAll(x,y,b,R){let T=b||0;for(let A=b?x.childNodes[b]:x.firstChild,O=R==null?null:x.childNodes[R];A!=O;A=A.nextSibling,++T)this.findAtPoint(x,T),this.addDOM(A,y);this.findAtPoint(x,T)}findPlace(x,y,b){let R,T;for(let A=this.open,O=0;A>=0;A--){let B=this.nodes[A],U=B.findWrapping(x);if(U&&(!R||R.length>U.length+O)&&(R=U,T=B,!U.length))break;if(B.solid){if(b)break;O+=2}}if(!R)return null;this.sync(T);for(let A=0;A<R.length;A++)y=this.enterInner(R[A],null,y,!1);return y}insertNode(x,y,b){if(x.isInline&&this.needsBlock&&!this.top.type){let T=this.textblockFromContext();T&&(y=this.enterInner(T,null,y))}let R=this.findPlace(x,y,b);if(R){this.closeExtra();let T=this.top;T.match&&(T.match=T.match.matchType(x.type));let A=Mark$1.none;for(let O of R.concat(x.marks))(T.type?T.type.allowsMarkType(O.type):markMayApply(O.type,x.type))&&(A=O.addToSet(A));return T.content.push(x.mark(A)),!0}return!1}enter(x,y,b,R){let T=this.findPlace(x.create(y),b,!1);return T&&(T=this.enterInner(x,y,b,!0,R)),T}enterInner(x,y,b,R=!1,T){this.closeExtra();let A=this.top;A.match=A.match&&A.match.matchType(x);let O=wsOptionsFor(x,T,A.options);A.options&OPT_OPEN_LEFT&&A.content.length==0&&(O|=OPT_OPEN_LEFT);let B=Mark$1.none;return b=b.filter(U=>(A.type?A.type.allowsMarkType(U.type):markMayApply(U.type,x))?(B=U.addToSet(B),!1):!0),this.nodes.push(new NodeContext(x,y,B,R,null,O)),this.open++,b}closeExtra(x=!1){let y=this.nodes.length-1;if(y>this.open){for(;y>this.open;y--)this.nodes[y-1].content.push(this.nodes[y].finish(x));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(x){for(let y=this.open;y>=0;y--){if(this.nodes[y]==x)return this.open=y,!0;this.localPreserveWS&&(this.nodes[y].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let x=0;for(let y=this.open;y>=0;y--){let b=this.nodes[y].content;for(let R=b.length-1;R>=0;R--)x+=b[R].nodeSize;y&&x++}return x}findAtPoint(x,y){if(this.find)for(let b=0;b<this.find.length;b++)this.find[b].node==x&&this.find[b].offset==y&&(this.find[b].pos=this.currentPos)}findInside(x){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].pos==null&&x.nodeType==1&&x.contains(this.find[y].node)&&(this.find[y].pos=this.currentPos)}findAround(x,y,b){if(x!=y&&this.find)for(let R=0;R<this.find.length;R++)this.find[R].pos==null&&x.nodeType==1&&x.contains(this.find[R].node)&&y.compareDocumentPosition(this.find[R].node)&(b?2:4)&&(this.find[R].pos=this.currentPos)}findInText(x){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].node==x&&(this.find[y].pos=this.currentPos-(x.nodeValue.length-this.find[y].offset))}matchesContext(x){if(x.indexOf("|")>-1)return x.split(/\s*\|\s*/).some(this.matchesContext,this);let y=x.split("/"),b=this.options.context,R=!this.isOpen&&(!b||b.parent.type==this.nodes[0].type),T=-(b?b.depth+1:0)+(R?0:1),A=(O,B)=>{for(;O>=0;O--){let U=y[O];if(U==""){if(O==y.length-1||O==0)continue;for(;B>=T;B--)if(A(O-1,B))return!0;return!1}else{let K=B>0||B==0&&R?this.nodes[B].type:b&&B>=T?b.node(B-T).type:null;if(!K||K.name!=U&&!K.isInGroup(U))return!1;B--}}return!0};return A(y.length-1,this.open)}textblockFromContext(){let x=this.options.context;if(x)for(let y=x.depth;y>=0;y--){let b=x.node(y).contentMatchAt(x.indexAfter(y)).defaultType;if(b&&b.isTextblock&&b.defaultAttrs)return b}for(let y in this.parser.schema.nodes){let b=this.parser.schema.nodes[y];if(b.isTextblock&&b.defaultAttrs)return b}}}function normalizeList(r){for(let x=r.firstChild,y=null;x;x=x.nextSibling){let b=x.nodeType==1?x.nodeName.toLowerCase():null;b&&listTags.hasOwnProperty(b)&&y?(y.appendChild(x),x=y):b=="li"?y=x:b&&(y=null)}}function matches(r,x){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,x)}function copy(r){let x={};for(let y in r)x[y]=r[y];return x}function markMayApply(r,x){let y=x.schema.nodes;for(let b in y){let R=y[b];if(!R.allowsMarkType(r))continue;let T=[],A=O=>{T.push(O);for(let B=0;B<O.edgeCount;B++){let{type:U,next:K}=O.edge(B);if(U==x||T.indexOf(K)<0&&A(K))return!0}};if(A(R.contentMatch))return!0}}class DOMSerializer{constructor(x,y){this.nodes=x,this.marks=y}serializeFragment(x,y={},b){b||(b=doc$1(y).createDocumentFragment());let R=b,T=[];return x.forEach(A=>{if(T.length||A.marks.length){let O=0,B=0;for(;O<T.length&&B<A.marks.length;){let U=A.marks[B];if(!this.marks[U.type.name]){B++;continue}if(!U.eq(T[O][0])||U.type.spec.spanning===!1)break;O++,B++}for(;O<T.length;)R=T.pop()[1];for(;B<A.marks.length;){let U=A.marks[B++],K=this.serializeMark(U,A.isInline,y);K&&(T.push([U,R]),R.appendChild(K.dom),R=K.contentDOM||K.dom)}}R.appendChild(this.serializeNodeInner(A,y))}),b}serializeNodeInner(x,y){let{dom:b,contentDOM:R}=renderSpec(doc$1(y),this.nodes[x.type.name](x),null,x.attrs);if(R){if(x.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(x.content,y,R)}return b}serializeNode(x,y={}){let b=this.serializeNodeInner(x,y);for(let R=x.marks.length-1;R>=0;R--){let T=this.serializeMark(x.marks[R],x.isInline,y);T&&((T.contentDOM||T.dom).appendChild(b),b=T.dom)}return b}serializeMark(x,y,b={}){let R=this.marks[x.type.name];return R&&renderSpec(doc$1(b),R(x,y),null,x.attrs)}static renderSpec(x,y,b=null,R){return renderSpec(x,y,b,R)}static fromSchema(x){return x.cached.domSerializer||(x.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(x),this.marksFromSchema(x)))}static nodesFromSchema(x){let y=gatherToDOM(x.nodes);return y.text||(y.text=b=>b.text),y}static marksFromSchema(x){return gatherToDOM(x.marks)}}function gatherToDOM(r){let x={};for(let y in r){let b=r[y].spec.toDOM;b&&(x[y]=b)}return x}function doc$1(r){return r.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(r){let x=suspiciousAttributeCache.get(r);return x===void 0&&suspiciousAttributeCache.set(r,x=suspiciousAttributesInner(r)),x}function suspiciousAttributesInner(r){let x=null;function y(b){if(b&&typeof b=="object")if(Array.isArray(b))if(typeof b[0]=="string")x||(x=[]),x.push(b);else for(let R=0;R<b.length;R++)y(b[R]);else for(let R in b)y(b[R])}return y(r),x}function renderSpec(r,x,y,b){if(typeof x=="string")return{dom:r.createTextNode(x)};if(x.nodeType!=null)return{dom:x};if(x.dom&&x.dom.nodeType!=null)return x;let R=x[0],T;if(typeof R!="string")throw new RangeError("Invalid array passed to renderSpec");if(b&&(T=suspiciousAttributes(b))&&T.indexOf(x)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let A=R.indexOf(" ");A>0&&(y=R.slice(0,A),R=R.slice(A+1));let O,B=y?r.createElementNS(y,R):r.createElement(R),U=x[1],K=1;if(U&&typeof U=="object"&&U.nodeType==null&&!Array.isArray(U)){K=2;for(let J in U)if(U[J]!=null){let te=J.indexOf(" ");te>0?B.setAttributeNS(J.slice(0,te),J.slice(te+1),U[J]):J=="style"&&B.style?B.style.cssText=U[J]:B.setAttribute(J,U[J])}}for(let J=K;J<x.length;J++){let te=x[J];if(te===0){if(J<x.length-1||J>K)throw new RangeError("Content hole must be the only child of its parent node");return{dom:B,contentDOM:B}}else{let{dom:ae,contentDOM:ue}=renderSpec(r,te,y,b);if(B.appendChild(ae),ue){if(O)throw new RangeError("Multiple content holes");O=ue}}}return{dom:B,contentDOM:O}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(r,x){return r+x*factor16}function recoverIndex(r){return r&lower16}function recoverOffset(r){return(r-(r&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(x,y,b){this.pos=x,this.delInfo=y,this.recover=b}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(x,y=!1){if(this.ranges=x,this.inverted=y,!x.length&&StepMap.empty)return StepMap.empty}recover(x){let y=0,b=recoverIndex(x);if(!this.inverted)for(let R=0;R<b;R++)y+=this.ranges[R*3+2]-this.ranges[R*3+1];return this.ranges[b*3]+y+recoverOffset(x)}mapResult(x,y=1){return this._map(x,y,!1)}map(x,y=1){return this._map(x,y,!0)}_map(x,y,b){let R=0,T=this.inverted?2:1,A=this.inverted?1:2;for(let O=0;O<this.ranges.length;O+=3){let B=this.ranges[O]-(this.inverted?R:0);if(B>x)break;let U=this.ranges[O+T],K=this.ranges[O+A],J=B+U;if(x<=J){let te=U?x==B?-1:x==J?1:y:y,ae=B+R+(te<0?0:K);if(b)return ae;let ue=x==(y<0?B:J)?null:makeRecover(O/3,x-B),pe=x==B?DEL_AFTER:x==J?DEL_BEFORE:DEL_ACROSS;return(y<0?x!=B:x!=J)&&(pe|=DEL_SIDE),new MapResult(ae,pe,ue)}R+=K-U}return b?x+R:new MapResult(x+R,0,null)}touches(x,y){let b=0,R=recoverIndex(y),T=this.inverted?2:1,A=this.inverted?1:2;for(let O=0;O<this.ranges.length;O+=3){let B=this.ranges[O]-(this.inverted?b:0);if(B>x)break;let U=this.ranges[O+T],K=B+U;if(x<=K&&O==R*3)return!0;b+=this.ranges[O+A]-U}return!1}forEach(x){let y=this.inverted?2:1,b=this.inverted?1:2;for(let R=0,T=0;R<this.ranges.length;R+=3){let A=this.ranges[R],O=A-(this.inverted?T:0),B=A+(this.inverted?0:T),U=this.ranges[R+y],K=this.ranges[R+b];x(O,O+U,B,B+K),T+=K-U}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(x){return x==0?StepMap.empty:new StepMap(x<0?[0,-x,0]:[0,0,x])}}StepMap.empty=new StepMap([]);class Mapping{constructor(x,y,b=0,R=x?x.length:0){this.mirror=y,this.from=b,this.to=R,this._maps=x||[],this.ownData=!(x||y)}get maps(){return this._maps}slice(x=0,y=this.maps.length){return new Mapping(this._maps,this.mirror,x,y)}appendMap(x,y){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(x),y!=null&&this.setMirror(this._maps.length-1,y)}appendMapping(x){for(let y=0,b=this._maps.length;y<x._maps.length;y++){let R=x.getMirror(y);this.appendMap(x._maps[y],R!=null&&R<y?b+R:void 0)}}getMirror(x){if(this.mirror){for(let y=0;y<this.mirror.length;y++)if(this.mirror[y]==x)return this.mirror[y+(y%2?-1:1)]}}setMirror(x,y){this.mirror||(this.mirror=[]),this.mirror.push(x,y)}appendMappingInverted(x){for(let y=x.maps.length-1,b=this._maps.length+x._maps.length;y>=0;y--){let R=x.getMirror(y);this.appendMap(x._maps[y].invert(),R!=null&&R>y?b-R-1:void 0)}}invert(){let x=new Mapping;return x.appendMappingInverted(this),x}map(x,y=1){if(this.mirror)return this._map(x,y,!0);for(let b=this.from;b<this.to;b++)x=this._maps[b].map(x,y);return x}mapResult(x,y=1){return this._map(x,y,!1)}_map(x,y,b){let R=0;for(let T=this.from;T<this.to;T++){let A=this._maps[T],O=A.mapResult(x,y);if(O.recover!=null){let B=this.getMirror(T);if(B!=null&&B>T&&B<this.to){T=B,x=this._maps[B].recover(O.recover);continue}}R|=O.delInfo,x=O.pos}return b?x:new MapResult(x,R,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(x){return null}static fromJSON(x,y){if(!y||!y.stepType)throw new RangeError("Invalid input for Step.fromJSON");let b=stepsByID[y.stepType];if(!b)throw new RangeError(`No step type ${y.stepType} defined`);return b.fromJSON(x,y)}static jsonID(x,y){if(x in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+x);return stepsByID[x]=y,y.prototype.jsonID=x,y}}class StepResult{constructor(x,y){this.doc=x,this.failed=y}static ok(x){return new StepResult(x,null)}static fail(x){return new StepResult(null,x)}static fromReplace(x,y,b,R){try{return StepResult.ok(x.replace(y,b,R))}catch(T){if(T instanceof ReplaceError)return StepResult.fail(T.message);throw T}}}function mapFragment(r,x,y){let b=[];for(let R=0;R<r.childCount;R++){let T=r.child(R);T.content.size&&(T=T.copy(mapFragment(T.content,x,T))),T.isInline&&(T=x(T,y,R)),b.push(T)}return Fragment.fromArray(b)}class AddMarkStep extends Step{constructor(x,y,b){super(),this.from=x,this.to=y,this.mark=b}apply(x){let y=x.slice(this.from,this.to),b=x.resolve(this.from),R=b.node(b.sharedDepth(this.to)),T=new Slice(mapFragment(y.content,(A,O)=>!A.isAtom||!O.type.allowsMarkType(this.mark.type)?A:A.mark(this.mark.addToSet(A.marks)),R),y.openStart,y.openEnd);return StepResult.fromReplace(x,this.from,this.to,T)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deleted&&b.deleted||y.pos>=b.pos?null:new AddMarkStep(y.pos,b.pos,this.mark)}merge(x){return x instanceof AddMarkStep&&x.mark.eq(this.mark)&&this.from<=x.to&&this.to>=x.from?new AddMarkStep(Math.min(this.from,x.from),Math.max(this.to,x.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(y.from,y.to,x.markFromJSON(y.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(x,y,b){super(),this.from=x,this.to=y,this.mark=b}apply(x){let y=x.slice(this.from,this.to),b=new Slice(mapFragment(y.content,R=>R.mark(this.mark.removeFromSet(R.marks)),x),y.openStart,y.openEnd);return StepResult.fromReplace(x,this.from,this.to,b)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deleted&&b.deleted||y.pos>=b.pos?null:new RemoveMarkStep(y.pos,b.pos,this.mark)}merge(x){return x instanceof RemoveMarkStep&&x.mark.eq(this.mark)&&this.from<=x.to&&this.to>=x.from?new RemoveMarkStep(Math.min(this.from,x.from),Math.max(this.to,x.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(y.from,y.to,x.markFromJSON(y.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(x,y){super(),this.pos=x,this.mark=y}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at mark step's position");let b=y.type.create(y.attrs,null,this.mark.addToSet(y.marks));return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(b),0,y.isLeaf?0:1))}invert(x){let y=x.nodeAt(this.pos);if(y){let b=this.mark.addToSet(y.marks);if(b.length==y.marks.length){for(let R=0;R<y.marks.length;R++)if(!y.marks[R].isInSet(b))return new AddNodeMarkStep(this.pos,y.marks[R]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new AddNodeMarkStep(y.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(y.pos,x.markFromJSON(y.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(x,y){super(),this.pos=x,this.mark=y}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at mark step's position");let b=y.type.create(y.attrs,null,this.mark.removeFromSet(y.marks));return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(b),0,y.isLeaf?0:1))}invert(x){let y=x.nodeAt(this.pos);return!y||!this.mark.isInSet(y.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new RemoveNodeMarkStep(y.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(y.pos,x.markFromJSON(y.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(x,y,b,R=!1){super(),this.from=x,this.to=y,this.slice=b,this.structure=R}apply(x){return this.structure&&contentBetween(x,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(x,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(x){return new ReplaceStep(this.from,this.from+this.slice.size,x.slice(this.from,this.to))}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deletedAcross&&b.deletedAcross?null:new ReplaceStep(y.pos,Math.max(y.pos,b.pos),this.slice,this.structure)}merge(x){if(!(x instanceof ReplaceStep)||x.structure||this.structure)return null;if(this.from+this.slice.size==x.from&&!this.slice.openEnd&&!x.slice.openStart){let y=this.slice.size+x.slice.size==0?Slice.empty:new Slice(this.slice.content.append(x.slice.content),this.slice.openStart,x.slice.openEnd);return new ReplaceStep(this.from,this.to+(x.to-x.from),y,this.structure)}else if(x.to==this.from&&!this.slice.openStart&&!x.slice.openEnd){let y=this.slice.size+x.slice.size==0?Slice.empty:new Slice(x.slice.content.append(this.slice.content),x.slice.openStart,this.slice.openEnd);return new ReplaceStep(x.from,this.to,y,this.structure)}else return null}toJSON(){let x={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(x.slice=this.slice.toJSON()),this.structure&&(x.structure=!0),x}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(y.from,y.to,Slice.fromJSON(x,y.slice),!!y.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(x,y,b,R,T,A,O=!1){super(),this.from=x,this.to=y,this.gapFrom=b,this.gapTo=R,this.slice=T,this.insert=A,this.structure=O}apply(x){if(this.structure&&(contentBetween(x,this.from,this.gapFrom)||contentBetween(x,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let y=x.slice(this.gapFrom,this.gapTo);if(y.openStart||y.openEnd)return StepResult.fail("Gap is not a flat range");let b=this.slice.insertAt(this.insert,y.content);return b?StepResult.fromReplace(x,this.from,this.to,b):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(x){let y=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+y,this.from+this.insert,this.from+this.insert+y,x.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1),R=this.from==this.gapFrom?y.pos:x.map(this.gapFrom,-1),T=this.to==this.gapTo?b.pos:x.map(this.gapTo,1);return y.deletedAcross&&b.deletedAcross||R<y.pos||T>b.pos?null:new ReplaceAroundStep(y.pos,b.pos,R,T,this.slice,this.insert,this.structure)}toJSON(){let x={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(x.slice=this.slice.toJSON()),this.structure&&(x.structure=!0),x}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number"||typeof y.gapFrom!="number"||typeof y.gapTo!="number"||typeof y.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(y.from,y.to,y.gapFrom,y.gapTo,Slice.fromJSON(x,y.slice),y.insert,!!y.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(r,x,y){let b=r.resolve(x),R=y-x,T=b.depth;for(;R>0&&T>0&&b.indexAfter(T)==b.node(T).childCount;)T--,R--;if(R>0){let A=b.node(T).maybeChild(b.indexAfter(T));for(;R>0;){if(!A||A.isLeaf)return!0;A=A.firstChild,R--}}return!1}function addMark(r,x,y,b){let R=[],T=[],A,O;r.doc.nodesBetween(x,y,(B,U,K)=>{if(!B.isInline)return;let J=B.marks;if(!b.isInSet(J)&&K.type.allowsMarkType(b.type)){let te=Math.max(U,x),ae=Math.min(U+B.nodeSize,y),ue=b.addToSet(J);for(let pe=0;pe<J.length;pe++)J[pe].isInSet(ue)||(A&&A.to==te&&A.mark.eq(J[pe])?A.to=ae:R.push(A=new RemoveMarkStep(te,ae,J[pe])));O&&O.to==te?O.to=ae:T.push(O=new AddMarkStep(te,ae,b))}}),R.forEach(B=>r.step(B)),T.forEach(B=>r.step(B))}function removeMark(r,x,y,b){let R=[],T=0;r.doc.nodesBetween(x,y,(A,O)=>{if(!A.isInline)return;T++;let B=null;if(b instanceof MarkType){let U=A.marks,K;for(;K=b.isInSet(U);)(B||(B=[])).push(K),U=K.removeFromSet(U)}else b?b.isInSet(A.marks)&&(B=[b]):B=A.marks;if(B&&B.length){let U=Math.min(O+A.nodeSize,y);for(let K=0;K<B.length;K++){let J=B[K],te;for(let ae=0;ae<R.length;ae++){let ue=R[ae];ue.step==T-1&&J.eq(R[ae].style)&&(te=ue)}te?(te.to=U,te.step=T):R.push({style:J,from:Math.max(O,x),to:U,step:T})}}}),R.forEach(A=>r.step(new RemoveMarkStep(A.from,A.to,A.style)))}function clearIncompatible(r,x,y,b=y.contentMatch,R=!0){let T=r.doc.nodeAt(x),A=[],O=x+1;for(let B=0;B<T.childCount;B++){let U=T.child(B),K=O+U.nodeSize,J=b.matchType(U.type);if(!J)A.push(new ReplaceStep(O,K,Slice.empty));else{b=J;for(let te=0;te<U.marks.length;te++)y.allowsMarkType(U.marks[te].type)||r.step(new RemoveMarkStep(O,K,U.marks[te]));if(R&&U.isText&&y.whitespace!="pre"){let te,ae=/\r?\n|\r/g,ue;for(;te=ae.exec(U.text);)ue||(ue=new Slice(Fragment.from(y.schema.text(" ",y.allowedMarks(U.marks))),0,0)),A.push(new ReplaceStep(O+te.index,O+te.index+te[0].length,ue))}}O=K}if(!b.validEnd){let B=b.fillBefore(Fragment.empty,!0);r.replace(O,O,new Slice(B,0,0))}for(let B=A.length-1;B>=0;B--)r.step(A[B])}function canCut(r,x,y){return(x==0||r.canReplace(x,r.childCount))&&(y==r.childCount||r.canReplace(0,y))}function liftTarget(r){let y=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let b=r.depth,R=0,T=0;;--b){let A=r.$from.node(b),O=r.$from.index(b)+R,B=r.$to.indexAfter(b)-T;if(b<r.depth&&A.canReplace(O,B,y))return b;if(b==0||A.type.spec.isolating||!canCut(A,O,B))break;O&&(R=1),B<A.childCount&&(T=1)}return null}function lift$2(r,x,y){let{$from:b,$to:R,depth:T}=x,A=b.before(T+1),O=R.after(T+1),B=A,U=O,K=Fragment.empty,J=0;for(let ue=T,pe=!1;ue>y;ue--)pe||b.index(ue)>0?(pe=!0,K=Fragment.from(b.node(ue).copy(K)),J++):B--;let te=Fragment.empty,ae=0;for(let ue=T,pe=!1;ue>y;ue--)pe||R.after(ue+1)<R.end(ue)?(pe=!0,te=Fragment.from(R.node(ue).copy(te)),ae++):U++;r.step(new ReplaceAroundStep(B,U,A,O,new Slice(K.append(te),J,ae),K.size-J,!0))}function findWrapping(r,x,y=null,b=r){let R=findWrappingOutside(r,x),T=R&&findWrappingInside(b,x);return T?R.map(withAttrs).concat({type:x,attrs:y}).concat(T.map(withAttrs)):null}function withAttrs(r){return{type:r,attrs:null}}function findWrappingOutside(r,x){let{parent:y,startIndex:b,endIndex:R}=r,T=y.contentMatchAt(b).findWrapping(x);if(!T)return null;let A=T.length?T[0]:x;return y.canReplaceWith(b,R,A)?T:null}function findWrappingInside(r,x){let{parent:y,startIndex:b,endIndex:R}=r,T=y.child(b),A=x.contentMatch.findWrapping(T.type);if(!A)return null;let B=(A.length?A[A.length-1]:x).contentMatch;for(let U=b;B&&U<R;U++)B=B.matchType(y.child(U).type);return!B||!B.validEnd?null:A}function wrap(r,x,y){let b=Fragment.empty;for(let A=y.length-1;A>=0;A--){if(b.size){let O=y[A].type.contentMatch.matchFragment(b);if(!O||!O.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}b=Fragment.from(y[A].type.create(y[A].attrs,b))}let R=x.start,T=x.end;r.step(new ReplaceAroundStep(R,T,R,T,new Slice(b,0,0),y.length,!0))}function setBlockType$1(r,x,y,b,R){if(!b.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let T=r.steps.length;r.doc.nodesBetween(x,y,(A,O)=>{let B=typeof R=="function"?R(A):R;if(A.isTextblock&&!A.hasMarkup(b,B)&&canChangeType(r.doc,r.mapping.slice(T).map(O),b)){let U=null;if(b.schema.linebreakReplacement){let ae=b.whitespace=="pre",ue=!!b.contentMatch.matchType(b.schema.linebreakReplacement);ae&&!ue?U=!1:!ae&&ue&&(U=!0)}U===!1&&replaceLinebreaks(r,A,O,T),clearIncompatible(r,r.mapping.slice(T).map(O,1),b,void 0,U===null);let K=r.mapping.slice(T),J=K.map(O,1),te=K.map(O+A.nodeSize,1);return r.step(new ReplaceAroundStep(J,te,J+1,te-1,new Slice(Fragment.from(b.create(B,null,A.marks)),0,0),1,!0)),U===!0&&replaceNewlines(r,A,O,T),!1}})}function replaceNewlines(r,x,y,b){x.forEach((R,T)=>{if(R.isText){let A,O=/\r?\n|\r/g;for(;A=O.exec(R.text);){let B=r.mapping.slice(b).map(y+1+T+A.index);r.replaceWith(B,B+1,x.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(r,x,y,b){x.forEach((R,T)=>{if(R.type==R.type.schema.linebreakReplacement){let A=r.mapping.slice(b).map(y+1+T);r.replaceWith(A,A+1,x.type.schema.text(`
`))}})}function canChangeType(r,x,y){let b=r.resolve(x),R=b.index();return b.parent.canReplaceWith(R,R+1,y)}function setNodeMarkup(r,x,y,b,R){let T=r.doc.nodeAt(x);if(!T)throw new RangeError("No node at given position");y||(y=T.type);let A=y.create(b,null,R||T.marks);if(T.isLeaf)return r.replaceWith(x,x+T.nodeSize,A);if(!y.validContent(T.content))throw new RangeError("Invalid content for node type "+y.name);r.step(new ReplaceAroundStep(x,x+T.nodeSize,x+1,x+T.nodeSize-1,new Slice(Fragment.from(A),0,0),1,!0))}function canSplit(r,x,y=1,b){let R=r.resolve(x),T=R.depth-y,A=b&&b[b.length-1]||R.parent;if(T<0||R.parent.type.spec.isolating||!R.parent.canReplace(R.index(),R.parent.childCount)||!A.type.validContent(R.parent.content.cutByIndex(R.index(),R.parent.childCount)))return!1;for(let U=R.depth-1,K=y-2;U>T;U--,K--){let J=R.node(U),te=R.index(U);if(J.type.spec.isolating)return!1;let ae=J.content.cutByIndex(te,J.childCount),ue=b&&b[K+1];ue&&(ae=ae.replaceChild(0,ue.type.create(ue.attrs)));let pe=b&&b[K]||J;if(!J.canReplace(te+1,J.childCount)||!pe.type.validContent(ae))return!1}let O=R.indexAfter(T),B=b&&b[0];return R.node(T).canReplaceWith(O,O,B?B.type:R.node(T+1).type)}function split(r,x,y=1,b){let R=r.doc.resolve(x),T=Fragment.empty,A=Fragment.empty;for(let O=R.depth,B=R.depth-y,U=y-1;O>B;O--,U--){T=Fragment.from(R.node(O).copy(T));let K=b&&b[U];A=Fragment.from(K?K.type.create(K.attrs,A):R.node(O).copy(A))}r.step(new ReplaceStep(x,x,new Slice(T.append(A),y,y),!0))}function canJoin(r,x){let y=r.resolve(x),b=y.index();return joinable(y.nodeBefore,y.nodeAfter)&&y.parent.canReplace(b,b+1)}function canAppendWithSubstitutedLinebreaks(r,x){x.content.size||r.type.compatibleContent(x.type);let y=r.contentMatchAt(r.childCount),{linebreakReplacement:b}=r.type.schema;for(let R=0;R<x.childCount;R++){let T=x.child(R),A=T.type==b?r.type.schema.nodes.text:T.type;if(y=y.matchType(A),!y||!r.type.allowsMarks(T.marks))return!1}return y.validEnd}function joinable(r,x){return!!(r&&x&&!r.isLeaf&&canAppendWithSubstitutedLinebreaks(r,x))}function joinPoint(r,x,y=-1){let b=r.resolve(x);for(let R=b.depth;;R--){let T,A,O=b.index(R);if(R==b.depth?(T=b.nodeBefore,A=b.nodeAfter):y>0?(T=b.node(R+1),O++,A=b.node(R).maybeChild(O)):(T=b.node(R).maybeChild(O-1),A=b.node(R+1)),T&&!T.isTextblock&&joinable(T,A)&&b.node(R).canReplace(O,O+1))return x;if(R==0)break;x=y<0?b.before(R):b.after(R)}}function join(r,x,y){let b=null,{linebreakReplacement:R}=r.doc.type.schema,T=r.doc.resolve(x-y),A=T.node().type;if(R&&A.inlineContent){let K=A.whitespace=="pre",J=!!A.contentMatch.matchType(R);K&&!J?b=!1:!K&&J&&(b=!0)}let O=r.steps.length;if(b===!1){let K=r.doc.resolve(x+y);replaceLinebreaks(r,K.node(),K.before(),O)}A.inlineContent&&clearIncompatible(r,x+y-1,A,T.node().contentMatchAt(T.index()),b==null);let B=r.mapping.slice(O),U=B.map(x-y);if(r.step(new ReplaceStep(U,B.map(x+y,-1),Slice.empty,!0)),b===!0){let K=r.doc.resolve(U);replaceNewlines(r,K.node(),K.before(),r.steps.length)}return r}function insertPoint(r,x,y){let b=r.resolve(x);if(b.parent.canReplaceWith(b.index(),b.index(),y))return x;if(b.parentOffset==0)for(let R=b.depth-1;R>=0;R--){let T=b.index(R);if(b.node(R).canReplaceWith(T,T,y))return b.before(R+1);if(T>0)return null}if(b.parentOffset==b.parent.content.size)for(let R=b.depth-1;R>=0;R--){let T=b.indexAfter(R);if(b.node(R).canReplaceWith(T,T,y))return b.after(R+1);if(T<b.node(R).childCount)return null}return null}function dropPoint(r,x,y){let b=r.resolve(x);if(!y.content.size)return x;let R=y.content;for(let T=0;T<y.openStart;T++)R=R.firstChild.content;for(let T=1;T<=(y.openStart==0&&y.size?2:1);T++)for(let A=b.depth;A>=0;A--){let O=A==b.depth?0:b.pos<=(b.start(A+1)+b.end(A+1))/2?-1:1,B=b.index(A)+(O>0?1:0),U=b.node(A),K=!1;if(T==1)K=U.canReplace(B,B,R);else{let J=U.contentMatchAt(B).findWrapping(R.firstChild.type);K=J&&U.canReplaceWith(B,B,J[0])}if(K)return O==0?b.pos:O<0?b.before(A+1):b.after(A+1)}return null}function replaceStep(r,x,y=x,b=Slice.empty){if(x==y&&!b.size)return null;let R=r.resolve(x),T=r.resolve(y);return fitsTrivially(R,T,b)?new ReplaceStep(x,y,b):new Fitter(R,T,b).fit()}function fitsTrivially(r,x,y){return!y.openStart&&!y.openEnd&&r.start()==x.start()&&r.parent.canReplace(r.index(),x.index(),y.content)}class Fitter{constructor(x,y,b){this.$from=x,this.$to=y,this.unplaced=b,this.frontier=[],this.placed=Fragment.empty;for(let R=0;R<=x.depth;R++){let T=x.node(R);this.frontier.push({type:T.type,match:T.contentMatchAt(x.indexAfter(R))})}for(let R=x.depth;R>0;R--)this.placed=Fragment.from(x.node(R).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let U=this.findFittable();U?this.placeNodes(U):this.openMore()||this.dropNode()}let x=this.mustMoveInline(),y=this.placed.size-this.depth-this.$from.depth,b=this.$from,R=this.close(x<0?this.$to:b.doc.resolve(x));if(!R)return null;let T=this.placed,A=b.depth,O=R.depth;for(;A&&O&&T.childCount==1;)T=T.firstChild.content,A--,O--;let B=new Slice(T,A,O);return x>-1?new ReplaceAroundStep(b.pos,x,this.$to.pos,this.$to.end(),B,y):B.size||b.pos!=this.$to.pos?new ReplaceStep(b.pos,R.pos,B):null}findFittable(){let x=this.unplaced.openStart;for(let y=this.unplaced.content,b=0,R=this.unplaced.openEnd;b<x;b++){let T=y.firstChild;if(y.childCount>1&&(R=0),T.type.spec.isolating&&R<=b){x=b;break}y=T.content}for(let y=1;y<=2;y++)for(let b=y==1?x:this.unplaced.openStart;b>=0;b--){let R,T=null;b?(T=contentAt(this.unplaced.content,b-1).firstChild,R=T.content):R=this.unplaced.content;let A=R.firstChild;for(let O=this.depth;O>=0;O--){let{type:B,match:U}=this.frontier[O],K,J=null;if(y==1&&(A?U.matchType(A.type)||(J=U.fillBefore(Fragment.from(A),!1)):T&&B.compatibleContent(T.type)))return{sliceDepth:b,frontierDepth:O,parent:T,inject:J};if(y==2&&A&&(K=U.findWrapping(A.type)))return{sliceDepth:b,frontierDepth:O,parent:T,wrap:K};if(T&&U.matchType(T.type))break}}}openMore(){let{content:x,openStart:y,openEnd:b}=this.unplaced,R=contentAt(x,y);return!R.childCount||R.firstChild.isLeaf?!1:(this.unplaced=new Slice(x,y+1,Math.max(b,R.size+y>=x.size-b?y+1:0)),!0)}dropNode(){let{content:x,openStart:y,openEnd:b}=this.unplaced,R=contentAt(x,y);if(R.childCount<=1&&y>0){let T=x.size-y<=y+R.size;this.unplaced=new Slice(dropFromFragment(x,y-1,1),y-1,T?y-1:b)}else this.unplaced=new Slice(dropFromFragment(x,y,1),y,b)}placeNodes({sliceDepth:x,frontierDepth:y,parent:b,inject:R,wrap:T}){for(;this.depth>y;)this.closeFrontierNode();if(T)for(let pe=0;pe<T.length;pe++)this.openFrontierNode(T[pe]);let A=this.unplaced,O=b?b.content:A.content,B=A.openStart-x,U=0,K=[],{match:J,type:te}=this.frontier[y];if(R){for(let pe=0;pe<R.childCount;pe++)K.push(R.child(pe));J=J.matchFragment(R)}let ae=O.size+x-(A.content.size-A.openEnd);for(;U<O.childCount;){let pe=O.child(U),$e=J.matchType(pe.type);if(!$e)break;U++,(U>1||B==0||pe.content.size)&&(J=$e,K.push(closeNodeStart(pe.mark(te.allowedMarks(pe.marks)),U==1?B:0,U==O.childCount?ae:-1)))}let ue=U==O.childCount;ue||(ae=-1),this.placed=addToFragment(this.placed,y,Fragment.from(K)),this.frontier[y].match=J,ue&&ae<0&&b&&b.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let pe=0,$e=O;pe<ae;pe++){let Ne=$e.lastChild;this.frontier.push({type:Ne.type,match:Ne.contentMatchAt(Ne.childCount)}),$e=Ne.content}this.unplaced=ue?x==0?Slice.empty:new Slice(dropFromFragment(A.content,x-1,1),x-1,ae<0?A.openEnd:x-1):new Slice(dropFromFragment(A.content,x,U),A.openStart,A.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let x=this.frontier[this.depth],y;if(!x.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,x.type,x.match,!1)||this.$to.depth==this.depth&&(y=this.findCloseLevel(this.$to))&&y.depth==this.depth)return-1;let{depth:b}=this.$to,R=this.$to.after(b);for(;b>1&&R==this.$to.end(--b);)++R;return R}findCloseLevel(x){e:for(let y=Math.min(this.depth,x.depth);y>=0;y--){let{match:b,type:R}=this.frontier[y],T=y<x.depth&&x.end(y+1)==x.pos+(x.depth-(y+1)),A=contentAfterFits(x,y,R,b,T);if(A){for(let O=y-1;O>=0;O--){let{match:B,type:U}=this.frontier[O],K=contentAfterFits(x,O,U,B,!0);if(!K||K.childCount)continue e}return{depth:y,fit:A,move:T?x.doc.resolve(x.after(y+1)):x}}}}close(x){let y=this.findCloseLevel(x);if(!y)return null;for(;this.depth>y.depth;)this.closeFrontierNode();y.fit.childCount&&(this.placed=addToFragment(this.placed,y.depth,y.fit)),x=y.move;for(let b=y.depth+1;b<=x.depth;b++){let R=x.node(b),T=R.type.contentMatch.fillBefore(R.content,!0,x.index(b));this.openFrontierNode(R.type,R.attrs,T)}return x}openFrontierNode(x,y=null,b){let R=this.frontier[this.depth];R.match=R.match.matchType(x),this.placed=addToFragment(this.placed,this.depth,Fragment.from(x.create(y,b))),this.frontier.push({type:x,match:x.contentMatch})}closeFrontierNode(){let y=this.frontier.pop().match.fillBefore(Fragment.empty,!0);y.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,y))}}function dropFromFragment(r,x,y){return x==0?r.cutByIndex(y,r.childCount):r.replaceChild(0,r.firstChild.copy(dropFromFragment(r.firstChild.content,x-1,y)))}function addToFragment(r,x,y){return x==0?r.append(y):r.replaceChild(r.childCount-1,r.lastChild.copy(addToFragment(r.lastChild.content,x-1,y)))}function contentAt(r,x){for(let y=0;y<x;y++)r=r.firstChild.content;return r}function closeNodeStart(r,x,y){if(x<=0)return r;let b=r.content;return x>1&&(b=b.replaceChild(0,closeNodeStart(b.firstChild,x-1,b.childCount==1?y-1:0))),x>0&&(b=r.type.contentMatch.fillBefore(b).append(b),y<=0&&(b=b.append(r.type.contentMatch.matchFragment(b).fillBefore(Fragment.empty,!0)))),r.copy(b)}function contentAfterFits(r,x,y,b,R){let T=r.node(x),A=R?r.indexAfter(x):r.index(x);if(A==T.childCount&&!y.compatibleContent(T.type))return null;let O=b.fillBefore(T.content,!0,A);return O&&!invalidMarks(y,T.content,A)?O:null}function invalidMarks(r,x,y){for(let b=y;b<x.childCount;b++)if(!r.allowsMarks(x.child(b).marks))return!0;return!1}function definesContent(r){return r.spec.defining||r.spec.definingForContent}function replaceRange(r,x,y,b){if(!b.size)return r.deleteRange(x,y);let R=r.doc.resolve(x),T=r.doc.resolve(y);if(fitsTrivially(R,T,b))return r.step(new ReplaceStep(x,y,b));let A=coveredDepths(R,T);A[A.length-1]==0&&A.pop();let O=-(R.depth+1);A.unshift(O);for(let te=R.depth,ae=R.pos-1;te>0;te--,ae--){let ue=R.node(te).type.spec;if(ue.defining||ue.definingAsContext||ue.isolating)break;A.indexOf(te)>-1?O=te:R.before(te)==ae&&A.splice(1,0,-te)}let B=A.indexOf(O),U=[],K=b.openStart;for(let te=b.content,ae=0;;ae++){let ue=te.firstChild;if(U.push(ue),ae==b.openStart)break;te=ue.content}for(let te=K-1;te>=0;te--){let ae=U[te],ue=definesContent(ae.type);if(ue&&!ae.sameMarkup(R.node(Math.abs(O)-1)))K=te;else if(ue||!ae.type.isTextblock)break}for(let te=b.openStart;te>=0;te--){let ae=(te+K+1)%(b.openStart+1),ue=U[ae];if(ue)for(let pe=0;pe<A.length;pe++){let $e=A[(pe+B)%A.length],Ne=!0;$e<0&&(Ne=!1,$e=-$e);let Be=R.node($e-1),_e=R.index($e-1);if(Be.canReplaceWith(_e,_e,ue.type,ue.marks))return r.replace(R.before($e),Ne?T.after($e):y,new Slice(closeFragment(b.content,0,b.openStart,ae),ae,b.openEnd))}}let J=r.steps.length;for(let te=A.length-1;te>=0&&(r.replace(x,y,b),!(r.steps.length>J));te--){let ae=A[te];ae<0||(x=R.before(ae),y=T.after(ae))}}function closeFragment(r,x,y,b,R){if(x<y){let T=r.firstChild;r=r.replaceChild(0,T.copy(closeFragment(T.content,x+1,y,b,T)))}if(x>b){let T=R.contentMatchAt(0),A=T.fillBefore(r).append(r);r=A.append(T.matchFragment(A).fillBefore(Fragment.empty,!0))}return r}function replaceRangeWith(r,x,y,b){if(!b.isInline&&x==y&&r.doc.resolve(x).parent.content.size){let R=insertPoint(r.doc,x,b.type);R!=null&&(x=y=R)}r.replaceRange(x,y,new Slice(Fragment.from(b),0,0))}function deleteRange$1(r,x,y){let b=r.doc.resolve(x),R=r.doc.resolve(y),T=coveredDepths(b,R);for(let A=0;A<T.length;A++){let O=T[A],B=A==T.length-1;if(B&&O==0||b.node(O).type.contentMatch.validEnd)return r.delete(b.start(O),R.end(O));if(O>0&&(B||b.node(O-1).canReplace(b.index(O-1),R.indexAfter(O-1))))return r.delete(b.before(O),R.after(O))}for(let A=1;A<=b.depth&&A<=R.depth;A++)if(x-b.start(A)==b.depth-A&&y>b.end(A)&&R.end(A)-y!=R.depth-A&&b.start(A-1)==R.start(A-1)&&b.node(A-1).canReplace(b.index(A-1),R.index(A-1)))return r.delete(b.before(A),y);r.delete(x,y)}function coveredDepths(r,x){let y=[],b=Math.min(r.depth,x.depth);for(let R=b;R>=0;R--){let T=r.start(R);if(T<r.pos-(r.depth-R)||x.end(R)>x.pos+(x.depth-R)||r.node(R).type.spec.isolating||x.node(R).type.spec.isolating)break;(T==x.start(R)||R==r.depth&&R==x.depth&&r.parent.inlineContent&&x.parent.inlineContent&&R&&x.start(R-1)==T-1)&&y.push(R)}return y}class AttrStep extends Step{constructor(x,y,b){super(),this.pos=x,this.attr=y,this.value=b}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at attribute step's position");let b=Object.create(null);for(let T in y.attrs)b[T]=y.attrs[T];b[this.attr]=this.value;let R=y.type.create(b,null,y.marks);return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(R),0,y.isLeaf?0:1))}getMap(){return StepMap.empty}invert(x){return new AttrStep(this.pos,this.attr,x.nodeAt(this.pos).attrs[this.attr])}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new AttrStep(y.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(x,y){if(typeof y.pos!="number"||typeof y.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(y.pos,y.attr,y.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(x,y){super(),this.attr=x,this.value=y}apply(x){let y=Object.create(null);for(let R in x.attrs)y[R]=x.attrs[R];y[this.attr]=this.value;let b=x.type.create(y,x.content,x.marks);return StepResult.ok(b)}getMap(){return StepMap.empty}invert(x){return new DocAttrStep(this.attr,x.attrs[this.attr])}map(x){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(x,y){if(typeof y.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(y.attr,y.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function r(x){let y=Error.call(this,x);return y.__proto__=r.prototype,y};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(x){this.doc=x,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(x){let y=this.maybeStep(x);if(y.failed)throw new TransformError(y.failed);return this}maybeStep(x){let y=x.apply(this.doc);return y.failed||this.addStep(x,y.doc),y}get docChanged(){return this.steps.length>0}addStep(x,y){this.docs.push(this.doc),this.steps.push(x),this.mapping.appendMap(x.getMap()),this.doc=y}replace(x,y=x,b=Slice.empty){let R=replaceStep(this.doc,x,y,b);return R&&this.step(R),this}replaceWith(x,y,b){return this.replace(x,y,new Slice(Fragment.from(b),0,0))}delete(x,y){return this.replace(x,y,Slice.empty)}insert(x,y){return this.replaceWith(x,x,y)}replaceRange(x,y,b){return replaceRange(this,x,y,b),this}replaceRangeWith(x,y,b){return replaceRangeWith(this,x,y,b),this}deleteRange(x,y){return deleteRange$1(this,x,y),this}lift(x,y){return lift$2(this,x,y),this}join(x,y=1){return join(this,x,y),this}wrap(x,y){return wrap(this,x,y),this}setBlockType(x,y=x,b,R=null){return setBlockType$1(this,x,y,b,R),this}setNodeMarkup(x,y,b=null,R){return setNodeMarkup(this,x,y,b,R),this}setNodeAttribute(x,y,b){return this.step(new AttrStep(x,y,b)),this}setDocAttribute(x,y){return this.step(new DocAttrStep(x,y)),this}addNodeMark(x,y){return this.step(new AddNodeMarkStep(x,y)),this}removeNodeMark(x,y){let b=this.doc.nodeAt(x);if(!b)throw new RangeError("No node at position "+x);if(y instanceof Mark$1)y.isInSet(b.marks)&&this.step(new RemoveNodeMarkStep(x,y));else{let R=b.marks,T,A=[];for(;T=y.isInSet(R);)A.push(new RemoveNodeMarkStep(x,T)),R=T.removeFromSet(R);for(let O=A.length-1;O>=0;O--)this.step(A[O])}return this}split(x,y=1,b){return split(this,x,y,b),this}addMark(x,y,b){return addMark(this,x,y,b),this}removeMark(x,y,b){return removeMark(this,x,y,b),this}clearIncompatible(x,y,b){return clearIncompatible(this,x,y,b),this}}const classesById=Object.create(null);class Selection{constructor(x,y,b){this.$anchor=x,this.$head=y,this.ranges=b||[new SelectionRange(x.min(y),x.max(y))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let x=this.ranges;for(let y=0;y<x.length;y++)if(x[y].$from.pos!=x[y].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(x,y=Slice.empty){let b=y.content.lastChild,R=null;for(let O=0;O<y.openEnd;O++)R=b,b=b.lastChild;let T=x.steps.length,A=this.ranges;for(let O=0;O<A.length;O++){let{$from:B,$to:U}=A[O],K=x.mapping.slice(T);x.replaceRange(K.map(B.pos),K.map(U.pos),O?Slice.empty:y),O==0&&selectionToInsertionEnd$1(x,T,(b?b.isInline:R&&R.isTextblock)?-1:1)}}replaceWith(x,y){let b=x.steps.length,R=this.ranges;for(let T=0;T<R.length;T++){let{$from:A,$to:O}=R[T],B=x.mapping.slice(b),U=B.map(A.pos),K=B.map(O.pos);T?x.deleteRange(U,K):(x.replaceRangeWith(U,K,y),selectionToInsertionEnd$1(x,b,y.isInline?-1:1))}}static findFrom(x,y,b=!1){let R=x.parent.inlineContent?new TextSelection(x):findSelectionIn(x.node(0),x.parent,x.pos,x.index(),y,b);if(R)return R;for(let T=x.depth-1;T>=0;T--){let A=y<0?findSelectionIn(x.node(0),x.node(T),x.before(T+1),x.index(T),y,b):findSelectionIn(x.node(0),x.node(T),x.after(T+1),x.index(T)+1,y,b);if(A)return A}return null}static near(x,y=1){return this.findFrom(x,y)||this.findFrom(x,-y)||new AllSelection(x.node(0))}static atStart(x){return findSelectionIn(x,x,0,0,1)||new AllSelection(x)}static atEnd(x){return findSelectionIn(x,x,x.content.size,x.childCount,-1)||new AllSelection(x)}static fromJSON(x,y){if(!y||!y.type)throw new RangeError("Invalid input for Selection.fromJSON");let b=classesById[y.type];if(!b)throw new RangeError(`No selection type ${y.type} defined`);return b.fromJSON(x,y)}static jsonID(x,y){if(x in classesById)throw new RangeError("Duplicate use of selection JSON ID "+x);return classesById[x]=y,y.prototype.jsonID=x,y}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(x,y){this.$from=x,this.$to=y}}let warnedAboutTextSelection=!1;function checkTextSelection(r){!warnedAboutTextSelection&&!r.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class TextSelection extends Selection{constructor(x,y=x){checkTextSelection(x),checkTextSelection(y),super(x,y)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(x,y){let b=x.resolve(y.map(this.head));if(!b.parent.inlineContent)return Selection.near(b);let R=x.resolve(y.map(this.anchor));return new TextSelection(R.parent.inlineContent?R:b,b)}replace(x,y=Slice.empty){if(super.replace(x,y),y==Slice.empty){let b=this.$from.marksAcross(this.$to);b&&x.ensureMarks(b)}}eq(x){return x instanceof TextSelection&&x.anchor==this.anchor&&x.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(x,y){if(typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(x.resolve(y.anchor),x.resolve(y.head))}static create(x,y,b=y){let R=x.resolve(y);return new this(R,b==y?R:x.resolve(b))}static between(x,y,b){let R=x.pos-y.pos;if((!b||R)&&(b=R>=0?1:-1),!y.parent.inlineContent){let T=Selection.findFrom(y,b,!0)||Selection.findFrom(y,-b,!0);if(T)y=T.$head;else return Selection.near(y,b)}return x.parent.inlineContent||(R==0?x=y:(x=(Selection.findFrom(x,-b,!0)||Selection.findFrom(x,b,!0)).$anchor,x.pos<y.pos!=R<0&&(x=y))),new TextSelection(x,y)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(x,y){this.anchor=x,this.head=y}map(x){return new TextBookmark(x.map(this.anchor),x.map(this.head))}resolve(x){return TextSelection.between(x.resolve(this.anchor),x.resolve(this.head))}}class NodeSelection extends Selection{constructor(x){let y=x.nodeAfter,b=x.node(0).resolve(x.pos+y.nodeSize);super(x,b),this.node=y}map(x,y){let{deleted:b,pos:R}=y.mapResult(this.anchor),T=x.resolve(R);return b?Selection.near(T):new NodeSelection(T)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(x){return x instanceof NodeSelection&&x.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(x,y){if(typeof y.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(x.resolve(y.anchor))}static create(x,y){return new NodeSelection(x.resolve(y))}static isSelectable(x){return!x.isText&&x.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(x){this.anchor=x}map(x){let{deleted:y,pos:b}=x.mapResult(this.anchor);return y?new TextBookmark(b,b):new NodeBookmark(b)}resolve(x){let y=x.resolve(this.anchor),b=y.nodeAfter;return b&&NodeSelection.isSelectable(b)?new NodeSelection(y):Selection.near(y)}}class AllSelection extends Selection{constructor(x){super(x.resolve(0),x.resolve(x.content.size))}replace(x,y=Slice.empty){if(y==Slice.empty){x.delete(0,x.doc.content.size);let b=Selection.atStart(x.doc);b.eq(x.selection)||x.setSelection(b)}else super.replace(x,y)}toJSON(){return{type:"all"}}static fromJSON(x){return new AllSelection(x)}map(x){return new AllSelection(x)}eq(x){return x instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(r){return new AllSelection(r)}};function findSelectionIn(r,x,y,b,R,T=!1){if(x.inlineContent)return TextSelection.create(r,y);for(let A=b-(R>0?0:1);R>0?A<x.childCount:A>=0;A+=R){let O=x.child(A);if(O.isAtom){if(!T&&NodeSelection.isSelectable(O))return NodeSelection.create(r,y-(R<0?O.nodeSize:0))}else{let B=findSelectionIn(r,O,y+R,R<0?O.childCount:0,R,T);if(B)return B}y+=O.nodeSize*R}return null}function selectionToInsertionEnd$1(r,x,y){let b=r.steps.length-1;if(b<x)return;let R=r.steps[b];if(!(R instanceof ReplaceStep||R instanceof ReplaceAroundStep))return;let T=r.mapping.maps[b],A;T.forEach((O,B,U,K)=>{A==null&&(A=K)}),r.setSelection(Selection.near(r.doc.resolve(A),y))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(x){super(x.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=x.selection,this.storedMarks=x.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(x){if(x.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=x,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(x){return this.storedMarks=x,this.updated|=UPDATED_MARKS,this}ensureMarks(x){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),x)||this.setStoredMarks(x),this}addStoredMark(x){return this.ensureMarks(x.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(x){return this.ensureMarks(x.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(x,y){super.addStep(x,y),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(x){return this.time=x,this}replaceSelection(x){return this.selection.replace(this,x),this}replaceSelectionWith(x,y=!0){let b=this.selection;return y&&(x=x.mark(this.storedMarks||(b.empty?b.$from.marks():b.$from.marksAcross(b.$to)||Mark$1.none))),b.replaceWith(this,x),this}deleteSelection(){return this.selection.replace(this),this}insertText(x,y,b){let R=this.doc.type.schema;if(y==null)return x?this.replaceSelectionWith(R.text(x),!0):this.deleteSelection();{if(b==null&&(b=y),!x)return this.deleteRange(y,b);let T=this.storedMarks;if(!T){let A=this.doc.resolve(y);T=b==y?A.marks():A.marksAcross(this.doc.resolve(b))}return this.replaceRangeWith(y,b,R.text(x,T)),!this.selection.empty&&this.selection.to==y+x.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(x,y){return this.meta[typeof x=="string"?x:x.key]=y,this}getMeta(x){return this.meta[typeof x=="string"?x:x.key]}get isGeneric(){for(let x in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(r,x){return!x||!r?r:r.bind(x)}class FieldDesc{constructor(x,y,b){this.name=x,this.init=bind(y.init,b),this.apply=bind(y.apply,b)}}const baseFields=[new FieldDesc("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new FieldDesc("selection",{init(r,x){return r.selection||Selection.atStart(x.doc)},apply(r){return r.selection}}),new FieldDesc("storedMarks",{init(r){return r.storedMarks||null},apply(r,x,y,b){return b.selection.$cursor?r.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(r,x){return r.scrolledIntoView?x+1:x}})];class Configuration{constructor(x,y){this.schema=x,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),y&&y.forEach(b=>{if(this.pluginsByKey[b.key])throw new RangeError("Adding different instances of a keyed plugin ("+b.key+")");this.plugins.push(b),this.pluginsByKey[b.key]=b,b.spec.state&&this.fields.push(new FieldDesc(b.key,b.spec.state,b))})}}class EditorState{constructor(x){this.config=x}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(x){return this.applyTransaction(x).state}filterTransaction(x,y=-1){for(let b=0;b<this.config.plugins.length;b++)if(b!=y){let R=this.config.plugins[b];if(R.spec.filterTransaction&&!R.spec.filterTransaction.call(R,x,this))return!1}return!0}applyTransaction(x){if(!this.filterTransaction(x))return{state:this,transactions:[]};let y=[x],b=this.applyInner(x),R=null;for(;;){let T=!1;for(let A=0;A<this.config.plugins.length;A++){let O=this.config.plugins[A];if(O.spec.appendTransaction){let B=R?R[A].n:0,U=R?R[A].state:this,K=B<y.length&&O.spec.appendTransaction.call(O,B?y.slice(B):y,U,b);if(K&&b.filterTransaction(K,A)){if(K.setMeta("appendedTransaction",x),!R){R=[];for(let J=0;J<this.config.plugins.length;J++)R.push(J<A?{state:b,n:y.length}:{state:this,n:0})}y.push(K),b=b.applyInner(K),T=!0}R&&(R[A]={state:b,n:y.length})}}if(!T)return{state:b,transactions:y}}}applyInner(x){if(!x.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let y=new EditorState(this.config),b=this.config.fields;for(let R=0;R<b.length;R++){let T=b[R];y[T.name]=T.apply(x,this[T.name],this,y)}return y}get tr(){return new Transaction(this)}static create(x){let y=new Configuration(x.doc?x.doc.type.schema:x.schema,x.plugins),b=new EditorState(y);for(let R=0;R<y.fields.length;R++)b[y.fields[R].name]=y.fields[R].init(x,b);return b}reconfigure(x){let y=new Configuration(this.schema,x.plugins),b=y.fields,R=new EditorState(y);for(let T=0;T<b.length;T++){let A=b[T].name;R[A]=this.hasOwnProperty(A)?this[A]:b[T].init(x,R)}return R}toJSON(x){let y={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(y.storedMarks=this.storedMarks.map(b=>b.toJSON())),x&&typeof x=="object")for(let b in x){if(b=="doc"||b=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let R=x[b],T=R.spec.state;T&&T.toJSON&&(y[b]=T.toJSON.call(R,this[R.key]))}return y}static fromJSON(x,y,b){if(!y)throw new RangeError("Invalid input for EditorState.fromJSON");if(!x.schema)throw new RangeError("Required config field 'schema' missing");let R=new Configuration(x.schema,x.plugins),T=new EditorState(R);return R.fields.forEach(A=>{if(A.name=="doc")T.doc=Node.fromJSON(x.schema,y.doc);else if(A.name=="selection")T.selection=Selection.fromJSON(T.doc,y.selection);else if(A.name=="storedMarks")y.storedMarks&&(T.storedMarks=y.storedMarks.map(x.schema.markFromJSON));else{if(b)for(let O in b){let B=b[O],U=B.spec.state;if(B.key==A.name&&U&&U.fromJSON&&Object.prototype.hasOwnProperty.call(y,O)){T[A.name]=U.fromJSON.call(B,x,y[O],T);return}}T[A.name]=A.init(x,T)}}),T}}function bindProps(r,x,y){for(let b in r){let R=r[b];R instanceof Function?R=R.bind(x):b=="handleDOMEvents"&&(R=bindProps(R,x,{})),y[b]=R}return y}class Plugin{constructor(x){this.spec=x,this.props={},x.props&&bindProps(x.props,this,this.props),this.key=x.key?x.key.key:createKey("plugin")}getState(x){return x[this.key]}}const keys=Object.create(null);function createKey(r){return r in keys?r+"$"+ ++keys[r]:(keys[r]=0,r+"$")}class PluginKey{constructor(x="key"){this.key=createKey(x)}get(x){return x.config.pluginsByKey[this.key]}getState(x){return x[this.key]}}const deleteSelection$1=(r,x)=>r.selection.empty?!1:(x&&x(r.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(r,x){let{$cursor:y}=r.selection;return!y||(x?!x.endOfTextblock("backward",r):y.parentOffset>0)?null:y}const joinBackward$1=(r,x,y)=>{let b=atBlockStart(r,y);if(!b)return!1;let R=findCutBefore(b);if(!R){let A=b.blockRange(),O=A&&liftTarget(A);return O==null?!1:(x&&x(r.tr.lift(A,O).scrollIntoView()),!0)}let T=R.nodeBefore;if(deleteBarrier(r,R,x,-1))return!0;if(b.parent.content.size==0&&(textblockAt(T,"end")||NodeSelection.isSelectable(T)))for(let A=b.depth;;A--){let O=replaceStep(r.doc,b.before(A),b.after(A),Slice.empty);if(O&&O.slice.size<O.to-O.from){if(x){let B=r.tr.step(O);B.setSelection(textblockAt(T,"end")?Selection.findFrom(B.doc.resolve(B.mapping.map(R.pos,-1)),-1):NodeSelection.create(B.doc,R.pos-T.nodeSize)),x(B.scrollIntoView())}return!0}if(A==1||b.node(A-1).childCount>1)break}return T.isAtom&&R.depth==b.depth-1?(x&&x(r.tr.delete(R.pos-T.nodeSize,R.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(r,x,y)=>{let b=atBlockStart(r,y);if(!b)return!1;let R=findCutBefore(b);return R?joinTextblocksAround(r,R,x):!1},joinTextblockForward$1=(r,x,y)=>{let b=atBlockEnd(r,y);if(!b)return!1;let R=findCutAfter(b);return R?joinTextblocksAround(r,R,x):!1};function joinTextblocksAround(r,x,y){let b=x.nodeBefore,R=b,T=x.pos-1;for(;!R.isTextblock;T--){if(R.type.spec.isolating)return!1;let K=R.lastChild;if(!K)return!1;R=K}let A=x.nodeAfter,O=A,B=x.pos+1;for(;!O.isTextblock;B++){if(O.type.spec.isolating)return!1;let K=O.firstChild;if(!K)return!1;O=K}let U=replaceStep(r.doc,T,B,Slice.empty);if(!U||U.from!=T||U instanceof ReplaceStep&&U.slice.size>=B-T)return!1;if(y){let K=r.tr.step(U);K.setSelection(TextSelection.create(K.doc,T)),y(K.scrollIntoView())}return!0}function textblockAt(r,x,y=!1){for(let b=r;b;b=x=="start"?b.firstChild:b.lastChild){if(b.isTextblock)return!0;if(y&&b.childCount!=1)return!1}return!1}const selectNodeBackward$1=(r,x,y)=>{let{$head:b,empty:R}=r.selection,T=b;if(!R)return!1;if(b.parent.isTextblock){if(y?!y.endOfTextblock("backward",r):b.parentOffset>0)return!1;T=findCutBefore(b)}let A=T&&T.nodeBefore;return!A||!NodeSelection.isSelectable(A)?!1:(x&&x(r.tr.setSelection(NodeSelection.create(r.doc,T.pos-A.nodeSize)).scrollIntoView()),!0)};function findCutBefore(r){if(!r.parent.type.spec.isolating)for(let x=r.depth-1;x>=0;x--){if(r.index(x)>0)return r.doc.resolve(r.before(x+1));if(r.node(x).type.spec.isolating)break}return null}function atBlockEnd(r,x){let{$cursor:y}=r.selection;return!y||(x?!x.endOfTextblock("forward",r):y.parentOffset<y.parent.content.size)?null:y}const joinForward$1=(r,x,y)=>{let b=atBlockEnd(r,y);if(!b)return!1;let R=findCutAfter(b);if(!R)return!1;let T=R.nodeAfter;if(deleteBarrier(r,R,x,1))return!0;if(b.parent.content.size==0&&(textblockAt(T,"start")||NodeSelection.isSelectable(T))){let A=replaceStep(r.doc,b.before(),b.after(),Slice.empty);if(A&&A.slice.size<A.to-A.from){if(x){let O=r.tr.step(A);O.setSelection(textblockAt(T,"start")?Selection.findFrom(O.doc.resolve(O.mapping.map(R.pos)),1):NodeSelection.create(O.doc,O.mapping.map(R.pos))),x(O.scrollIntoView())}return!0}}return T.isAtom&&R.depth==b.depth-1?(x&&x(r.tr.delete(R.pos,R.pos+T.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(r,x,y)=>{let{$head:b,empty:R}=r.selection,T=b;if(!R)return!1;if(b.parent.isTextblock){if(y?!y.endOfTextblock("forward",r):b.parentOffset<b.parent.content.size)return!1;T=findCutAfter(b)}let A=T&&T.nodeAfter;return!A||!NodeSelection.isSelectable(A)?!1:(x&&x(r.tr.setSelection(NodeSelection.create(r.doc,T.pos)).scrollIntoView()),!0)};function findCutAfter(r){if(!r.parent.type.spec.isolating)for(let x=r.depth-1;x>=0;x--){let y=r.node(x);if(r.index(x)+1<y.childCount)return r.doc.resolve(r.after(x+1));if(y.type.spec.isolating)break}return null}const joinUp$1=(r,x)=>{let y=r.selection,b=y instanceof NodeSelection,R;if(b){if(y.node.isTextblock||!canJoin(r.doc,y.from))return!1;R=y.from}else if(R=joinPoint(r.doc,y.from,-1),R==null)return!1;if(x){let T=r.tr.join(R);b&&T.setSelection(NodeSelection.create(T.doc,R-r.doc.resolve(R).nodeBefore.nodeSize)),x(T.scrollIntoView())}return!0},joinDown$1=(r,x)=>{let y=r.selection,b;if(y instanceof NodeSelection){if(y.node.isTextblock||!canJoin(r.doc,y.to))return!1;b=y.to}else if(b=joinPoint(r.doc,y.to,1),b==null)return!1;return x&&x(r.tr.join(b).scrollIntoView()),!0},lift$1=(r,x)=>{let{$from:y,$to:b}=r.selection,R=y.blockRange(b),T=R&&liftTarget(R);return T==null?!1:(x&&x(r.tr.lift(R,T).scrollIntoView()),!0)},newlineInCode$1=(r,x)=>{let{$head:y,$anchor:b}=r.selection;return!y.parent.type.spec.code||!y.sameParent(b)?!1:(x&&x(r.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(r){for(let x=0;x<r.edgeCount;x++){let{type:y}=r.edge(x);if(y.isTextblock&&!y.hasRequiredAttrs())return y}return null}const exitCode$1=(r,x)=>{let{$head:y,$anchor:b}=r.selection;if(!y.parent.type.spec.code||!y.sameParent(b))return!1;let R=y.node(-1),T=y.indexAfter(-1),A=defaultBlockAt$1(R.contentMatchAt(T));if(!A||!R.canReplaceWith(T,T,A))return!1;if(x){let O=y.after(),B=r.tr.replaceWith(O,O,A.createAndFill());B.setSelection(Selection.near(B.doc.resolve(O),1)),x(B.scrollIntoView())}return!0},createParagraphNear$1=(r,x)=>{let y=r.selection,{$from:b,$to:R}=y;if(y instanceof AllSelection||b.parent.inlineContent||R.parent.inlineContent)return!1;let T=defaultBlockAt$1(R.parent.contentMatchAt(R.indexAfter()));if(!T||!T.isTextblock)return!1;if(x){let A=(!b.parentOffset&&R.index()<R.parent.childCount?b:R).pos,O=r.tr.insert(A,T.createAndFill());O.setSelection(TextSelection.create(O.doc,A+1)),x(O.scrollIntoView())}return!0},liftEmptyBlock$1=(r,x)=>{let{$cursor:y}=r.selection;if(!y||y.parent.content.size)return!1;if(y.depth>1&&y.after()!=y.end(-1)){let T=y.before();if(canSplit(r.doc,T))return x&&x(r.tr.split(T).scrollIntoView()),!0}let b=y.blockRange(),R=b&&liftTarget(b);return R==null?!1:(x&&x(r.tr.lift(b,R).scrollIntoView()),!0)};function splitBlockAs(r){return(x,y)=>{let{$from:b,$to:R}=x.selection;if(x.selection instanceof NodeSelection&&x.selection.node.isBlock)return!b.parentOffset||!canSplit(x.doc,b.pos)?!1:(y&&y(x.tr.split(b.pos).scrollIntoView()),!0);if(!b.depth)return!1;let T=[],A,O,B=!1,U=!1;for(let ae=b.depth;;ae--)if(b.node(ae).isBlock){B=b.end(ae)==b.pos+(b.depth-ae),U=b.start(ae)==b.pos-(b.depth-ae),O=defaultBlockAt$1(b.node(ae-1).contentMatchAt(b.indexAfter(ae-1))),T.unshift(B&&O?{type:O}:null),A=ae;break}else{if(ae==1)return!1;T.unshift(null)}let K=x.tr;(x.selection instanceof TextSelection||x.selection instanceof AllSelection)&&K.deleteSelection();let J=K.mapping.map(b.pos),te=canSplit(K.doc,J,T.length,T);if(te||(T[0]=O?{type:O}:null,te=canSplit(K.doc,J,T.length,T)),!te)return!1;if(K.split(J,T.length,T),!B&&U&&b.node(A).type!=O){let ae=K.mapping.map(b.before(A)),ue=K.doc.resolve(ae);O&&b.node(A-1).canReplaceWith(ue.index(),ue.index()+1,O)&&K.setNodeMarkup(K.mapping.map(b.before(A)),O)}return y&&y(K.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(r,x)=>{let{$from:y,to:b}=r.selection,R,T=y.sharedDepth(b);return T==0?!1:(R=y.before(T),x&&x(r.tr.setSelection(NodeSelection.create(r.doc,R))),!0)};function joinMaybeClear(r,x,y){let b=x.nodeBefore,R=x.nodeAfter,T=x.index();return!b||!R||!b.type.compatibleContent(R.type)?!1:!b.content.size&&x.parent.canReplace(T-1,T)?(y&&y(r.tr.delete(x.pos-b.nodeSize,x.pos).scrollIntoView()),!0):!x.parent.canReplace(T,T+1)||!(R.isTextblock||canJoin(r.doc,x.pos))?!1:(y&&y(r.tr.join(x.pos).scrollIntoView()),!0)}function deleteBarrier(r,x,y,b){let R=x.nodeBefore,T=x.nodeAfter,A,O,B=R.type.spec.isolating||T.type.spec.isolating;if(!B&&joinMaybeClear(r,x,y))return!0;let U=!B&&x.parent.canReplace(x.index(),x.index()+1);if(U&&(A=(O=R.contentMatchAt(R.childCount)).findWrapping(T.type))&&O.matchType(A[0]||T.type).validEnd){if(y){let ae=x.pos+T.nodeSize,ue=Fragment.empty;for(let Ne=A.length-1;Ne>=0;Ne--)ue=Fragment.from(A[Ne].create(null,ue));ue=Fragment.from(R.copy(ue));let pe=r.tr.step(new ReplaceAroundStep(x.pos-1,ae,x.pos,ae,new Slice(ue,1,0),A.length,!0)),$e=pe.doc.resolve(ae+2*A.length);$e.nodeAfter&&$e.nodeAfter.type==R.type&&canJoin(pe.doc,$e.pos)&&pe.join($e.pos),y(pe.scrollIntoView())}return!0}let K=T.type.spec.isolating||b>0&&B?null:Selection.findFrom(x,1),J=K&&K.$from.blockRange(K.$to),te=J&&liftTarget(J);if(te!=null&&te>=x.depth)return y&&y(r.tr.lift(J,te).scrollIntoView()),!0;if(U&&textblockAt(T,"start",!0)&&textblockAt(R,"end")){let ae=R,ue=[];for(;ue.push(ae),!ae.isTextblock;)ae=ae.lastChild;let pe=T,$e=1;for(;!pe.isTextblock;pe=pe.firstChild)$e++;if(ae.canReplace(ae.childCount,ae.childCount,pe.content)){if(y){let Ne=Fragment.empty;for(let _e=ue.length-1;_e>=0;_e--)Ne=Fragment.from(ue[_e].copy(Ne));let Be=r.tr.step(new ReplaceAroundStep(x.pos-ue.length,x.pos+T.nodeSize,x.pos+$e,x.pos+T.nodeSize-$e,new Slice(Ne,ue.length,0),0,!0));y(Be.scrollIntoView())}return!0}}return!1}function selectTextblockSide(r){return function(x,y){let b=x.selection,R=r<0?b.$from:b.$to,T=R.depth;for(;R.node(T).isInline;){if(!T)return!1;T--}return R.node(T).isTextblock?(y&&y(x.tr.setSelection(TextSelection.create(x.doc,r<0?R.start(T):R.end(T)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(r,x=null){return function(y,b){let{$from:R,$to:T}=y.selection,A=R.blockRange(T),O=A&&findWrapping(A,r,x);return O?(b&&b(y.tr.wrap(A,O).scrollIntoView()),!0):!1}}function setBlockType(r,x=null){return function(y,b){let R=!1;for(let T=0;T<y.selection.ranges.length&&!R;T++){let{$from:{pos:A},$to:{pos:O}}=y.selection.ranges[T];y.doc.nodesBetween(A,O,(B,U)=>{if(R)return!1;if(!(!B.isTextblock||B.hasMarkup(r,x)))if(B.type==r)R=!0;else{let K=y.doc.resolve(U),J=K.index();R=K.parent.canReplaceWith(J,J+1,r)}})}if(!R)return!1;if(b){let T=y.tr;for(let A=0;A<y.selection.ranges.length;A++){let{$from:{pos:O},$to:{pos:B}}=y.selection.ranges[A];T.setBlockType(O,B,r,x)}b(T.scrollIntoView())}return!0}}function chainCommands(...r){return function(x,y,b){for(let R=0;R<r.length;R++)if(r[R](x,y,b))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(r,x=null){return function(y,b){let{$from:R,$to:T}=y.selection,A=R.blockRange(T);if(!A)return!1;let O=b?y.tr:null;return wrapRangeInList(O,A,r,x)?(b&&b(O.scrollIntoView()),!0):!1}}function wrapRangeInList(r,x,y,b=null){let R=!1,T=x,A=x.$from.doc;if(x.depth>=2&&x.$from.node(x.depth-1).type.compatibleContent(y)&&x.startIndex==0){if(x.$from.index(x.depth-1)==0)return!1;let B=A.resolve(x.start-2);T=new NodeRange(B,B,x.depth),x.endIndex<x.parent.childCount&&(x=new NodeRange(x.$from,A.resolve(x.$to.end(x.depth)),x.depth)),R=!0}let O=findWrapping(T,y,b,x);return O?(r&&doWrapInList(r,x,O,R,y),!0):!1}function doWrapInList(r,x,y,b,R){let T=Fragment.empty;for(let K=y.length-1;K>=0;K--)T=Fragment.from(y[K].type.create(y[K].attrs,T));r.step(new ReplaceAroundStep(x.start-(b?2:0),x.end,x.start,x.end,new Slice(T,0,0),y.length,!0));let A=0;for(let K=0;K<y.length;K++)y[K].type==R&&(A=K+1);let O=y.length-A,B=x.start+y.length-(b?2:0),U=x.parent;for(let K=x.startIndex,J=x.endIndex,te=!0;K<J;K++,te=!1)!te&&canSplit(r.doc,B,O)&&(r.split(B,O),B+=2*O),B+=U.child(K).nodeSize;return r}function liftListItem$1(r){return function(x,y){let{$from:b,$to:R}=x.selection,T=b.blockRange(R,A=>A.childCount>0&&A.firstChild.type==r);return T?y?b.node(T.depth-1).type==r?liftToOuterList(x,y,r,T):liftOutOfList(x,y,T):!0:!1}}function liftToOuterList(r,x,y,b){let R=r.tr,T=b.end,A=b.$to.end(b.depth);T<A&&(R.step(new ReplaceAroundStep(T-1,A,T,A,new Slice(Fragment.from(y.create(null,b.parent.copy())),1,0),1,!0)),b=new NodeRange(R.doc.resolve(b.$from.pos),R.doc.resolve(A),b.depth));const O=liftTarget(b);if(O==null)return!1;R.lift(b,O);let B=R.doc.resolve(R.mapping.map(T,-1)-1);return canJoin(R.doc,B.pos)&&B.nodeBefore.type==B.nodeAfter.type&&R.join(B.pos),x(R.scrollIntoView()),!0}function liftOutOfList(r,x,y){let b=r.tr,R=y.parent;for(let ae=y.end,ue=y.endIndex-1,pe=y.startIndex;ue>pe;ue--)ae-=R.child(ue).nodeSize,b.delete(ae-1,ae+1);let T=b.doc.resolve(y.start),A=T.nodeAfter;if(b.mapping.map(y.end)!=y.start+T.nodeAfter.nodeSize)return!1;let O=y.startIndex==0,B=y.endIndex==R.childCount,U=T.node(-1),K=T.index(-1);if(!U.canReplace(K+(O?0:1),K+1,A.content.append(B?Fragment.empty:Fragment.from(R))))return!1;let J=T.pos,te=J+A.nodeSize;return b.step(new ReplaceAroundStep(J-(O?1:0),te+(B?1:0),J+1,te-1,new Slice((O?Fragment.empty:Fragment.from(R.copy(Fragment.empty))).append(B?Fragment.empty:Fragment.from(R.copy(Fragment.empty))),O?0:1,B?0:1),O?0:1)),x(b.scrollIntoView()),!0}function sinkListItem$1(r){return function(x,y){let{$from:b,$to:R}=x.selection,T=b.blockRange(R,U=>U.childCount>0&&U.firstChild.type==r);if(!T)return!1;let A=T.startIndex;if(A==0)return!1;let O=T.parent,B=O.child(A-1);if(B.type!=r)return!1;if(y){let U=B.lastChild&&B.lastChild.type==O.type,K=Fragment.from(U?r.create():null),J=new Slice(Fragment.from(r.create(null,Fragment.from(O.type.create(null,K)))),U?3:1,0),te=T.start,ae=T.end;y(x.tr.step(new ReplaceAroundStep(te-(U?3:1),ae,te,ae,J,1,!0)).scrollIntoView())}return!0}}const domIndex=function(r){for(var x=0;;x++)if(r=r.previousSibling,!r)return x},parentNode=function(r){let x=r.assignedSlot||r.parentNode;return x&&x.nodeType==11?x.host:x};let reusedRange=null;const textRange=function(r,x,y){let b=reusedRange||(reusedRange=document.createRange());return b.setEnd(r,y??r.nodeValue.length),b.setStart(r,x||0),b},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(r,x,y,b){return y&&(scanFor(r,x,y,b,-1)||scanFor(r,x,y,b,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(r,x,y,b,R){for(var T;;){if(r==y&&x==b)return!0;if(x==(R<0?0:nodeSize(r))){let A=r.parentNode;if(!A||A.nodeType!=1||hasBlockDesc(r)||atomElements.test(r.nodeName)||r.contentEditable=="false")return!1;x=domIndex(r)+(R<0?0:1),r=A}else if(r.nodeType==1){let A=r.childNodes[x+(R<0?-1:0)];if(A.nodeType==1&&A.contentEditable=="false")if(!((T=A.pmViewDesc)===null||T===void 0)&&T.ignoreForSelection)x+=R;else return!1;else r=A,x=R<0?nodeSize(r):0}else return!1}}function nodeSize(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function textNodeBefore$1(r,x){for(;;){if(r.nodeType==3&&x)return r;if(r.nodeType==1&&x>0){if(r.contentEditable=="false")return null;r=r.childNodes[x-1],x=nodeSize(r)}else if(r.parentNode&&!hasBlockDesc(r))x=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter$1(r,x){for(;;){if(r.nodeType==3&&x<r.nodeValue.length)return r;if(r.nodeType==1&&x<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[x],x=0}else if(r.parentNode&&!hasBlockDesc(r))x=domIndex(r)+1,r=r.parentNode;else return null}}function isOnEdge(r,x,y){for(let b=x==0,R=x==nodeSize(r);b||R;){if(r==y)return!0;let T=domIndex(r);if(r=r.parentNode,!r)return!1;b=b&&T==0,R=R&&T==nodeSize(r)}}function hasBlockDesc(r){let x;for(let y=r;y&&!(x=y.pmViewDesc);y=y.parentNode);return x&&x.node&&x.node.isBlock&&(x.dom==r||x.contentDOM==r)}const selectionCollapsed=function(r){return r.focusNode&&isEquivalentPosition(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function keyEvent(r,x){let y=document.createEvent("Event");return y.initEvent("keydown",!0,!0),y.keyCode=r,y.key=y.code=x,y}function deepActiveElement(r){let x=r.activeElement;for(;x&&x.shadowRoot;)x=x.shadowRoot.activeElement;return x}function caretFromPoint(r,x,y){if(r.caretPositionFromPoint)try{let b=r.caretPositionFromPoint(x,y);if(b)return{node:b.offsetNode,offset:Math.min(nodeSize(b.offsetNode),b.offset)}}catch{}if(r.caretRangeFromPoint){let b=r.caretRangeFromPoint(x,y);if(b)return{node:b.startContainer,offset:Math.min(nodeSize(b.startContainer),b.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome$1=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(r){let x=r.defaultView&&r.defaultView.visualViewport;return x?{left:0,right:x.width,top:0,bottom:x.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function getSide(r,x){return typeof r=="number"?r:r[x]}function clientRect(r){let x=r.getBoundingClientRect(),y=x.width/r.offsetWidth||1,b=x.height/r.offsetHeight||1;return{left:x.left,right:x.left+r.clientWidth*y,top:x.top,bottom:x.top+r.clientHeight*b}}function scrollRectIntoView(r,x,y){let b=r.someProp("scrollThreshold")||0,R=r.someProp("scrollMargin")||5,T=r.dom.ownerDocument;for(let A=y||r.dom;A;){if(A.nodeType!=1){A=parentNode(A);continue}let O=A,B=O==T.body,U=B?windowRect(T):clientRect(O),K=0,J=0;if(x.top<U.top+getSide(b,"top")?J=-(U.top-x.top+getSide(R,"top")):x.bottom>U.bottom-getSide(b,"bottom")&&(J=x.bottom-x.top>U.bottom-U.top?x.top+getSide(R,"top")-U.top:x.bottom-U.bottom+getSide(R,"bottom")),x.left<U.left+getSide(b,"left")?K=-(U.left-x.left+getSide(R,"left")):x.right>U.right-getSide(b,"right")&&(K=x.right-U.right+getSide(R,"right")),K||J)if(B)T.defaultView.scrollBy(K,J);else{let ae=O.scrollLeft,ue=O.scrollTop;J&&(O.scrollTop+=J),K&&(O.scrollLeft+=K);let pe=O.scrollLeft-ae,$e=O.scrollTop-ue;x={left:x.left-pe,top:x.top-$e,right:x.right-pe,bottom:x.bottom-$e}}let te=B?"fixed":getComputedStyle(A).position;if(/^(fixed|sticky)$/.test(te))break;A=te=="absolute"?A.offsetParent:parentNode(A)}}function storeScrollPos(r){let x=r.dom.getBoundingClientRect(),y=Math.max(0,x.top),b,R;for(let T=(x.left+x.right)/2,A=y+1;A<Math.min(innerHeight,x.bottom);A+=5){let O=r.root.elementFromPoint(T,A);if(!O||O==r.dom||!r.dom.contains(O))continue;let B=O.getBoundingClientRect();if(B.top>=y-20){b=O,R=B.top;break}}return{refDOM:b,refTop:R,stack:scrollStack(r.dom)}}function scrollStack(r){let x=[],y=r.ownerDocument;for(let b=r;b&&(x.push({dom:b,top:b.scrollTop,left:b.scrollLeft}),r!=y);b=parentNode(b));return x}function resetScrollPos({refDOM:r,refTop:x,stack:y}){let b=r?r.getBoundingClientRect().top:0;restoreScrollStack(y,b==0?0:b-x)}function restoreScrollStack(r,x){for(let y=0;y<r.length;y++){let{dom:b,top:R,left:T}=r[y];b.scrollTop!=R+x&&(b.scrollTop=R+x),b.scrollLeft!=T&&(b.scrollLeft=T)}}let preventScrollSupported=null;function focusPreventScroll(r){if(r.setActive)return r.setActive();if(preventScrollSupported)return r.focus(preventScrollSupported);let x=scrollStack(r);r.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(x,0))}function findOffsetInNode(r,x){let y,b=2e8,R,T=0,A=x.top,O=x.top,B,U;for(let K=r.firstChild,J=0;K;K=K.nextSibling,J++){let te;if(K.nodeType==1)te=K.getClientRects();else if(K.nodeType==3)te=textRange(K).getClientRects();else continue;for(let ae=0;ae<te.length;ae++){let ue=te[ae];if(ue.top<=A&&ue.bottom>=O){A=Math.max(ue.bottom,A),O=Math.min(ue.top,O);let pe=ue.left>x.left?ue.left-x.left:ue.right<x.left?x.left-ue.right:0;if(pe<b){y=K,b=pe,R=pe&&y.nodeType==3?{left:ue.right<x.left?ue.right:ue.left,top:x.top}:x,K.nodeType==1&&pe&&(T=J+(x.left>=(ue.left+ue.right)/2?1:0));continue}}else ue.top>x.top&&!B&&ue.left<=x.left&&ue.right>=x.left&&(B=K,U={left:Math.max(ue.left,Math.min(ue.right,x.left)),top:ue.top});!y&&(x.left>=ue.right&&x.top>=ue.top||x.left>=ue.left&&x.top>=ue.bottom)&&(T=J+1)}}return!y&&B&&(y=B,R=U,b=0),y&&y.nodeType==3?findOffsetInText(y,R):!y||b&&y.nodeType==1?{node:r,offset:T}:findOffsetInNode(y,R)}function findOffsetInText(r,x){let y=r.nodeValue.length,b=document.createRange();for(let R=0;R<y;R++){b.setEnd(r,R+1),b.setStart(r,R);let T=singleRect(b,1);if(T.top!=T.bottom&&inRect(x,T))return{node:r,offset:R+(x.left>=(T.left+T.right)/2?1:0)}}return{node:r,offset:0}}function inRect(r,x){return r.left>=x.left-1&&r.left<=x.right+1&&r.top>=x.top-1&&r.top<=x.bottom+1}function targetKludge(r,x){let y=r.parentNode;return y&&/^li$/i.test(y.nodeName)&&x.left<r.getBoundingClientRect().left?y:r}function posFromElement(r,x,y){let{node:b,offset:R}=findOffsetInNode(x,y),T=-1;if(b.nodeType==1&&!b.firstChild){let A=b.getBoundingClientRect();T=A.left!=A.right&&y.left>(A.left+A.right)/2?1:-1}return r.docView.posFromDOM(b,R,T)}function posFromCaret(r,x,y,b){let R=-1;for(let T=x,A=!1;T!=r.dom;){let O=r.docView.nearestDesc(T,!0),B;if(!O)return null;if(O.dom.nodeType==1&&(O.node.isBlock&&O.parent||!O.contentDOM)&&((B=O.dom.getBoundingClientRect()).width||B.height)&&(O.node.isBlock&&O.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(O.dom.nodeName)&&(!A&&B.left>b.left||B.top>b.top?R=O.posBefore:(!A&&B.right<b.left||B.bottom<b.top)&&(R=O.posAfter),A=!0),!O.contentDOM&&R<0&&!O.node.isText))return(O.node.isBlock?b.top<(B.top+B.bottom)/2:b.left<(B.left+B.right)/2)?O.posBefore:O.posAfter;T=O.dom.parentNode}return R>-1?R:r.docView.posFromDOM(x,y,-1)}function elementFromPoint(r,x,y){let b=r.childNodes.length;if(b&&y.top<y.bottom)for(let R=Math.max(0,Math.min(b-1,Math.floor(b*(x.top-y.top)/(y.bottom-y.top))-2)),T=R;;){let A=r.childNodes[T];if(A.nodeType==1){let O=A.getClientRects();for(let B=0;B<O.length;B++){let U=O[B];if(inRect(x,U))return elementFromPoint(A,x,U)}}if((T=(T+1)%b)==R)break}return r}function posAtCoords(r,x){let y=r.dom.ownerDocument,b,R=0,T=caretFromPoint(y,x.left,x.top);T&&({node:b,offset:R}=T);let A=(r.root.elementFromPoint?r.root:y).elementFromPoint(x.left,x.top),O;if(!A||!r.dom.contains(A.nodeType!=1?A.parentNode:A)){let U=r.dom.getBoundingClientRect();if(!inRect(x,U)||(A=elementFromPoint(r.dom,x,U),!A))return null}if(safari)for(let U=A;b&&U;U=parentNode(U))U.draggable&&(b=void 0);if(A=targetKludge(A,x),b){if(gecko&&b.nodeType==1&&(R=Math.min(R,b.childNodes.length),R<b.childNodes.length)){let K=b.childNodes[R],J;K.nodeName=="IMG"&&(J=K.getBoundingClientRect()).right<=x.left&&J.bottom>x.top&&R++}let U;webkit&&R&&b.nodeType==1&&(U=b.childNodes[R-1]).nodeType==1&&U.contentEditable=="false"&&U.getBoundingClientRect().top>=x.top&&R--,b==r.dom&&R==b.childNodes.length-1&&b.lastChild.nodeType==1&&x.top>b.lastChild.getBoundingClientRect().bottom?O=r.state.doc.content.size:(R==0||b.nodeType!=1||b.childNodes[R-1].nodeName!="BR")&&(O=posFromCaret(r,b,R,x))}O==null&&(O=posFromElement(r,A,x));let B=r.docView.nearestDesc(A,!0);return{pos:O,inside:B?B.posAtStart-B.border:-1}}function nonZero(r){return r.top<r.bottom||r.left<r.right}function singleRect(r,x){let y=r.getClientRects();if(y.length){let b=y[x<0?0:y.length-1];if(nonZero(b))return b}return Array.prototype.find.call(y,nonZero)||r.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(r,x,y){let{node:b,offset:R,atom:T}=r.docView.domFromPos(x,y<0?-1:1),A=webkit||gecko;if(b.nodeType==3)if(A&&(BIDI.test(b.nodeValue)||(y<0?!R:R==b.nodeValue.length))){let B=singleRect(textRange(b,R,R),y);if(gecko&&R&&/\s/.test(b.nodeValue[R-1])&&R<b.nodeValue.length){let U=singleRect(textRange(b,R-1,R-1),-1);if(U.top==B.top){let K=singleRect(textRange(b,R,R+1),-1);if(K.top!=B.top)return flattenV(K,K.left<U.left)}}return B}else{let B=R,U=R,K=y<0?1:-1;return y<0&&!R?(U++,K=-1):y>=0&&R==b.nodeValue.length?(B--,K=1):y<0?B--:U++,flattenV(singleRect(textRange(b,B,U),K),K<0)}if(!r.state.doc.resolve(x-(T||0)).parent.inlineContent){if(T==null&&R&&(y<0||R==nodeSize(b))){let B=b.childNodes[R-1];if(B.nodeType==1)return flattenH(B.getBoundingClientRect(),!1)}if(T==null&&R<nodeSize(b)){let B=b.childNodes[R];if(B.nodeType==1)return flattenH(B.getBoundingClientRect(),!0)}return flattenH(b.getBoundingClientRect(),y>=0)}if(T==null&&R&&(y<0||R==nodeSize(b))){let B=b.childNodes[R-1],U=B.nodeType==3?textRange(B,nodeSize(B)-(A?0:1)):B.nodeType==1&&(B.nodeName!="BR"||!B.nextSibling)?B:null;if(U)return flattenV(singleRect(U,1),!1)}if(T==null&&R<nodeSize(b)){let B=b.childNodes[R];for(;B.pmViewDesc&&B.pmViewDesc.ignoreForCoords;)B=B.nextSibling;let U=B?B.nodeType==3?textRange(B,0,A?0:1):B.nodeType==1?B:null:null;if(U)return flattenV(singleRect(U,-1),!0)}return flattenV(singleRect(b.nodeType==3?textRange(b):b,-y),y>=0)}function flattenV(r,x){if(r.width==0)return r;let y=x?r.left:r.right;return{top:r.top,bottom:r.bottom,left:y,right:y}}function flattenH(r,x){if(r.height==0)return r;let y=x?r.top:r.bottom;return{top:y,bottom:y,left:r.left,right:r.right}}function withFlushedState(r,x,y){let b=r.state,R=r.root.activeElement;b!=x&&r.updateState(x),R!=r.dom&&r.focus();try{return y()}finally{b!=x&&r.updateState(b),R!=r.dom&&R&&R.focus()}}function endOfTextblockVertical(r,x,y){let b=x.selection,R=y=="up"?b.$from:b.$to;return withFlushedState(r,x,()=>{let{node:T}=r.docView.domFromPos(R.pos,y=="up"?-1:1);for(;;){let O=r.docView.nearestDesc(T,!0);if(!O)break;if(O.node.isBlock){T=O.contentDOM||O.dom;break}T=O.dom.parentNode}let A=coordsAtPos(r,R.pos,1);for(let O=T.firstChild;O;O=O.nextSibling){let B;if(O.nodeType==1)B=O.getClientRects();else if(O.nodeType==3)B=textRange(O,0,O.nodeValue.length).getClientRects();else continue;for(let U=0;U<B.length;U++){let K=B[U];if(K.bottom>K.top+1&&(y=="up"?A.top-K.top>(K.bottom-A.top)*2:K.bottom-A.bottom>(A.bottom-K.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(r,x,y){let{$head:b}=x.selection;if(!b.parent.isTextblock)return!1;let R=b.parentOffset,T=!R,A=R==b.parent.content.size,O=r.domSelection();return O?!maybeRTL.test(b.parent.textContent)||!O.modify?y=="left"||y=="backward"?T:A:withFlushedState(r,x,()=>{let{focusNode:B,focusOffset:U,anchorNode:K,anchorOffset:J}=r.domSelectionRange(),te=O.caretBidiLevel;O.modify("move",y,"character");let ae=b.depth?r.docView.domAfterPos(b.before()):r.dom,{focusNode:ue,focusOffset:pe}=r.domSelectionRange(),$e=ue&&!ae.contains(ue.nodeType==1?ue:ue.parentNode)||B==ue&&U==pe;try{O.collapse(K,J),B&&(B!=K||U!=J)&&O.extend&&O.extend(B,U)}catch{}return te!=null&&(O.caretBidiLevel=te),$e}):b.pos==b.start()||b.pos==b.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(r,x,y){return cachedState==x&&cachedDir==y?cachedResult:(cachedState=x,cachedDir=y,cachedResult=y=="up"||y=="down"?endOfTextblockVertical(r,x,y):endOfTextblockHorizontal(r,x,y))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(x,y,b,R){this.parent=x,this.children=y,this.dom=b,this.contentDOM=R,this.dirty=NOT_DIRTY,b.pmViewDesc=this}matchesWidget(x){return!1}matchesMark(x){return!1}matchesNode(x,y,b){return!1}matchesHack(x){return!1}parseRule(){return null}stopEvent(x){return!1}get size(){let x=0;for(let y=0;y<this.children.length;y++)x+=this.children[y].size;return x}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let x=0;x<this.children.length;x++)this.children[x].destroy()}posBeforeChild(x){for(let y=0,b=this.posAtStart;;y++){let R=this.children[y];if(R==x)return b;b+=R.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(x,y,b){if(this.contentDOM&&this.contentDOM.contains(x.nodeType==1?x:x.parentNode))if(b<0){let T,A;if(x==this.contentDOM)T=x.childNodes[y-1];else{for(;x.parentNode!=this.contentDOM;)x=x.parentNode;T=x.previousSibling}for(;T&&!((A=T.pmViewDesc)&&A.parent==this);)T=T.previousSibling;return T?this.posBeforeChild(A)+A.size:this.posAtStart}else{let T,A;if(x==this.contentDOM)T=x.childNodes[y];else{for(;x.parentNode!=this.contentDOM;)x=x.parentNode;T=x.nextSibling}for(;T&&!((A=T.pmViewDesc)&&A.parent==this);)T=T.nextSibling;return T?this.posBeforeChild(A):this.posAtEnd}let R;if(x==this.dom&&this.contentDOM)R=y>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))R=x.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(y==0)for(let T=x;;T=T.parentNode){if(T==this.dom){R=!1;break}if(T.previousSibling)break}if(R==null&&y==x.childNodes.length)for(let T=x;;T=T.parentNode){if(T==this.dom){R=!0;break}if(T.nextSibling)break}}return R??b>0?this.posAtEnd:this.posAtStart}nearestDesc(x,y=!1){for(let b=!0,R=x;R;R=R.parentNode){let T=this.getDesc(R),A;if(T&&(!y||T.node))if(b&&(A=T.nodeDOM)&&!(A.nodeType==1?A.contains(x.nodeType==1?x:x.parentNode):A==x))b=!1;else return T}}getDesc(x){let y=x.pmViewDesc;for(let b=y;b;b=b.parent)if(b==this)return y}posFromDOM(x,y,b){for(let R=x;R;R=R.parentNode){let T=this.getDesc(R);if(T)return T.localPosFromDOM(x,y,b)}return-1}descAt(x){for(let y=0,b=0;y<this.children.length;y++){let R=this.children[y],T=b+R.size;if(b==x&&T!=b){for(;!R.border&&R.children.length;)for(let A=0;A<R.children.length;A++){let O=R.children[A];if(O.size){R=O;break}}return R}if(x<T)return R.descAt(x-b-R.border);b=T}}domFromPos(x,y){if(!this.contentDOM)return{node:this.dom,offset:0,atom:x+1};let b=0,R=0;for(let T=0;b<this.children.length;b++){let A=this.children[b],O=T+A.size;if(O>x||A instanceof TrailingHackViewDesc){R=x-T;break}T=O}if(R)return this.children[b].domFromPos(R-this.children[b].border,y);for(let T;b&&!(T=this.children[b-1]).size&&T instanceof WidgetViewDesc&&T.side>=0;b--);if(y<=0){let T,A=!0;for(;T=b?this.children[b-1]:null,!(!T||T.dom.parentNode==this.contentDOM);b--,A=!1);return T&&y&&A&&!T.border&&!T.domAtom?T.domFromPos(T.size,y):{node:this.contentDOM,offset:T?domIndex(T.dom)+1:0}}else{let T,A=!0;for(;T=b<this.children.length?this.children[b]:null,!(!T||T.dom.parentNode==this.contentDOM);b++,A=!1);return T&&A&&!T.border&&!T.domAtom?T.domFromPos(0,y):{node:this.contentDOM,offset:T?domIndex(T.dom):this.contentDOM.childNodes.length}}}parseRange(x,y,b=0){if(this.children.length==0)return{node:this.contentDOM,from:x,to:y,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let R=-1,T=-1;for(let A=b,O=0;;O++){let B=this.children[O],U=A+B.size;if(R==-1&&x<=U){let K=A+B.border;if(x>=K&&y<=U-B.border&&B.node&&B.contentDOM&&this.contentDOM.contains(B.contentDOM))return B.parseRange(x,y,K);x=A;for(let J=O;J>0;J--){let te=this.children[J-1];if(te.size&&te.dom.parentNode==this.contentDOM&&!te.emptyChildAt(1)){R=domIndex(te.dom)+1;break}x-=te.size}R==-1&&(R=0)}if(R>-1&&(U>y||O==this.children.length-1)){y=U;for(let K=O+1;K<this.children.length;K++){let J=this.children[K];if(J.size&&J.dom.parentNode==this.contentDOM&&!J.emptyChildAt(-1)){T=domIndex(J.dom);break}y+=J.size}T==-1&&(T=this.contentDOM.childNodes.length);break}A=U}return{node:this.contentDOM,from:x,to:y,fromOffset:R,toOffset:T}}emptyChildAt(x){if(this.border||!this.contentDOM||!this.children.length)return!1;let y=this.children[x<0?0:this.children.length-1];return y.size==0||y.emptyChildAt(x)}domAfterPos(x){let{node:y,offset:b}=this.domFromPos(x,0);if(y.nodeType!=1||b==y.childNodes.length)throw new RangeError("No node after pos "+x);return y.childNodes[b]}setSelection(x,y,b,R=!1){let T=Math.min(x,y),A=Math.max(x,y);for(let ae=0,ue=0;ae<this.children.length;ae++){let pe=this.children[ae],$e=ue+pe.size;if(T>ue&&A<$e)return pe.setSelection(x-ue-pe.border,y-ue-pe.border,b,R);ue=$e}let O=this.domFromPos(x,x?-1:1),B=y==x?O:this.domFromPos(y,y?-1:1),U=b.root.getSelection(),K=b.domSelectionRange(),J=!1;if((gecko||safari)&&x==y){let{node:ae,offset:ue}=O;if(ae.nodeType==3){if(J=!!(ue&&ae.nodeValue[ue-1]==`
`),J&&ue==ae.nodeValue.length)for(let pe=ae,$e;pe;pe=pe.parentNode){if($e=pe.nextSibling){$e.nodeName=="BR"&&(O=B={node:$e.parentNode,offset:domIndex($e)+1});break}let Ne=pe.pmViewDesc;if(Ne&&Ne.node&&Ne.node.isBlock)break}}else{let pe=ae.childNodes[ue-1];J=pe&&(pe.nodeName=="BR"||pe.contentEditable=="false")}}if(gecko&&K.focusNode&&K.focusNode!=B.node&&K.focusNode.nodeType==1){let ae=K.focusNode.childNodes[K.focusOffset];ae&&ae.contentEditable=="false"&&(R=!0)}if(!(R||J&&safari)&&isEquivalentPosition(O.node,O.offset,K.anchorNode,K.anchorOffset)&&isEquivalentPosition(B.node,B.offset,K.focusNode,K.focusOffset))return;let te=!1;if((U.extend||x==y)&&!(J&&gecko)){U.collapse(O.node,O.offset);try{x!=y&&U.extend(B.node,B.offset),te=!0}catch{}}if(!te){if(x>y){let ue=O;O=B,B=ue}let ae=document.createRange();ae.setEnd(B.node,B.offset),ae.setStart(O.node,O.offset),U.removeAllRanges(),U.addRange(ae)}}ignoreMutation(x){return!this.contentDOM&&x.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(x,y){for(let b=0,R=0;R<this.children.length;R++){let T=this.children[R],A=b+T.size;if(b==A?x<=A&&y>=b:x<A&&y>b){let O=b+T.border,B=A-T.border;if(x>=O&&y<=B){this.dirty=x==b||y==A?CONTENT_DIRTY:CHILD_DIRTY,x==O&&y==B&&(T.contentLost||T.dom.parentNode!=this.contentDOM)?T.dirty=NODE_DIRTY:T.markDirty(x-O,y-O);return}else T.dirty=T.dom==T.contentDOM&&T.dom.parentNode==this.contentDOM&&!T.children.length?CONTENT_DIRTY:NODE_DIRTY}b=A}this.dirty=CONTENT_DIRTY}markParentsDirty(){let x=1;for(let y=this.parent;y;y=y.parent,x++){let b=x==1?CONTENT_DIRTY:CHILD_DIRTY;y.dirty<b&&(y.dirty=b)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(x){return!1}}class WidgetViewDesc extends ViewDesc{constructor(x,y,b,R){let T,A=y.type.toDOM;if(typeof A=="function"&&(A=A(b,()=>{if(!T)return R;if(T.parent)return T.parent.posBeforeChild(T)})),!y.type.spec.raw){if(A.nodeType!=1){let O=document.createElement("span");O.appendChild(A),A=O}A.contentEditable="false",A.classList.add("ProseMirror-widget")}super(x,[],A,null),this.widget=y,this.widget=y,T=this}matchesWidget(x){return this.dirty==NOT_DIRTY&&x.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(x){let y=this.widget.spec.stopEvent;return y?y(x):!1}ignoreMutation(x){return x.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(x,y,b,R){super(x,[],y,null),this.textDOM=b,this.text=R}get size(){return this.text.length}localPosFromDOM(x,y){return x!=this.textDOM?this.posAtStart+(y?this.size:0):this.posAtStart+y}domFromPos(x){return{node:this.textDOM,offset:x}}ignoreMutation(x){return x.type==="characterData"&&x.target.nodeValue==x.oldValue}}class MarkViewDesc extends ViewDesc{constructor(x,y,b,R,T){super(x,[],b,R),this.mark=y,this.spec=T}static create(x,y,b,R){let T=R.nodeViews[y.type.name],A=T&&T(y,R,b);return(!A||!A.dom)&&(A=DOMSerializer.renderSpec(document,y.type.spec.toDOM(y,b),null,y.attrs)),new MarkViewDesc(x,y,A.dom,A.contentDOM||A.dom,A)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(x){return this.dirty!=NODE_DIRTY&&this.mark.eq(x)}markDirty(x,y){if(super.markDirty(x,y),this.dirty!=NOT_DIRTY){let b=this.parent;for(;!b.node;)b=b.parent;b.dirty<this.dirty&&(b.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(x,y,b){let R=MarkViewDesc.create(this.parent,this.mark,!0,b),T=this.children,A=this.size;y<A&&(T=replaceNodes(T,y,A,b)),x>0&&(T=replaceNodes(T,0,x,b));for(let O=0;O<T.length;O++)T[O].parent=R;return R.children=T,R}ignoreMutation(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):super.ignoreMutation(x)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(x,y,b,R,T,A,O,B,U){super(x,[],T,A),this.node=y,this.outerDeco=b,this.innerDeco=R,this.nodeDOM=O}static create(x,y,b,R,T,A){let O=T.nodeViews[y.type.name],B,U=O&&O(y,T,()=>{if(!B)return A;if(B.parent)return B.parent.posBeforeChild(B)},b,R),K=U&&U.dom,J=U&&U.contentDOM;if(y.isText){if(!K)K=document.createTextNode(y.text);else if(K.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else K||({dom:K,contentDOM:J}=DOMSerializer.renderSpec(document,y.type.spec.toDOM(y),null,y.attrs));!J&&!y.isText&&K.nodeName!="BR"&&(K.hasAttribute("contenteditable")||(K.contentEditable="false"),y.type.spec.draggable&&(K.draggable=!0));let te=K;return K=applyOuterDeco(K,b,y),U?B=new CustomNodeViewDesc(x,y,b,R,K,J||null,te,U,T,A+1):y.isText?new TextViewDesc(x,y,b,R,K,te,T):new NodeViewDesc(x,y,b,R,K,J||null,te,T,A+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let x={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(x.preserveWhitespace="full"),!this.contentDOM)x.getContent=()=>this.node.content;else if(!this.contentLost)x.contentElement=this.contentDOM;else{for(let y=this.children.length-1;y>=0;y--){let b=this.children[y];if(this.dom.contains(b.dom.parentNode)){x.contentElement=b.dom.parentNode;break}}x.contentElement||(x.getContent=()=>Fragment.empty)}return x}matchesNode(x,y,b){return this.dirty==NOT_DIRTY&&x.eq(this.node)&&sameOuterDeco(y,this.outerDeco)&&b.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(x,y){let b=this.node.inlineContent,R=y,T=x.composing?this.localCompositionInfo(x,y):null,A=T&&T.pos>-1?T:null,O=T&&T.pos<0,B=new ViewTreeUpdater(this,A&&A.node,x);iterDeco(this.node,this.innerDeco,(U,K,J)=>{U.spec.marks?B.syncToMarks(U.spec.marks,b,x):U.type.side>=0&&!J&&B.syncToMarks(K==this.node.childCount?Mark$1.none:this.node.child(K).marks,b,x),B.placeWidget(U,x,R)},(U,K,J,te)=>{B.syncToMarks(U.marks,b,x);let ae;B.findNodeMatch(U,K,J,te)||O&&x.state.selection.from>R&&x.state.selection.to<R+U.nodeSize&&(ae=B.findIndexWithChild(T.node))>-1&&B.updateNodeAt(U,K,J,ae,x)||B.updateNextNode(U,K,J,x,te,R)||B.addNode(U,K,J,x,R),R+=U.nodeSize}),B.syncToMarks([],b,x),this.node.isTextblock&&B.addTextblockHacks(),B.destroyRest(),(B.changed||this.dirty==CONTENT_DIRTY)&&(A&&this.protectLocalComposition(x,A),renderDescs(this.contentDOM,this.children,x),ios&&iosHacks(this.dom))}localCompositionInfo(x,y){let{from:b,to:R}=x.state.selection;if(!(x.state.selection instanceof TextSelection)||b<y||R>y+this.node.content.size)return null;let T=x.input.compositionNode;if(!T||!this.dom.contains(T.parentNode))return null;if(this.node.inlineContent){let A=T.nodeValue,O=findTextInFragment(this.node.content,A,b-y,R-y);return O<0?null:{node:T,pos:O,text:A}}else return{node:T,pos:-1,text:""}}protectLocalComposition(x,{node:y,pos:b,text:R}){if(this.getDesc(y))return;let T=y;for(;T.parentNode!=this.contentDOM;T=T.parentNode){for(;T.previousSibling;)T.parentNode.removeChild(T.previousSibling);for(;T.nextSibling;)T.parentNode.removeChild(T.nextSibling);T.pmViewDesc&&(T.pmViewDesc=void 0)}let A=new CompositionViewDesc(this,T,y,R);x.input.compositionNodes.push(A),this.children=replaceNodes(this.children,b,b+R.length,x,A)}update(x,y,b,R){return this.dirty==NODE_DIRTY||!x.sameMarkup(this.node)?!1:(this.updateInner(x,y,b,R),!0)}updateInner(x,y,b,R){this.updateOuterDeco(y),this.node=x,this.innerDeco=b,this.contentDOM&&this.updateChildren(R,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(x){if(sameOuterDeco(x,this.outerDeco))return;let y=this.nodeDOM.nodeType!=1,b=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,y),computeOuterDeco(x,this.node,y)),this.dom!=b&&(b.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=x}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(r,x,y,b,R){applyOuterDeco(b,x,r);let T=new NodeViewDesc(void 0,r,x,y,b,b,b,R,0);return T.contentDOM&&T.updateChildren(R,0),T}class TextViewDesc extends NodeViewDesc{constructor(x,y,b,R,T,A,O){super(x,y,b,R,T,null,A,O,0)}parseRule(){let x=this.nodeDOM.parentNode;for(;x&&x!=this.dom&&!x.pmIsDeco;)x=x.parentNode;return{skip:x||!0}}update(x,y,b,R){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!x.sameMarkup(this.node)?!1:(this.updateOuterDeco(y),(this.dirty!=NOT_DIRTY||x.text!=this.node.text)&&x.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=x.text,R.trackWrites==this.nodeDOM&&(R.trackWrites=null)),this.node=x,this.dirty=NOT_DIRTY,!0)}inParent(){let x=this.parent.contentDOM;for(let y=this.nodeDOM;y;y=y.parentNode)if(y==x)return!0;return!1}domFromPos(x){return{node:this.nodeDOM,offset:x}}localPosFromDOM(x,y,b){return x==this.nodeDOM?this.posAtStart+Math.min(y,this.node.text.length):super.localPosFromDOM(x,y,b)}ignoreMutation(x){return x.type!="characterData"&&x.type!="selection"}slice(x,y,b){let R=this.node.cut(x,y),T=document.createTextNode(R.text);return new TextViewDesc(this.parent,R,this.outerDeco,this.innerDeco,T,T,b)}markDirty(x,y){super.markDirty(x,y),this.dom!=this.nodeDOM&&(x==0||y==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(x){return this.node.text==x}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(x){return this.dirty==NOT_DIRTY&&this.dom.nodeName==x}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(x,y,b,R,T,A,O,B,U,K){super(x,y,b,R,T,A,O,U,K),this.spec=B}update(x,y,b,R){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==x.type||this.spec.multiType)){let T=this.spec.update(x,y,b);return T&&this.updateInner(x,y,b,R),T}else return!this.contentDOM&&!x.isLeaf?!1:super.update(x,y,b,R)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(x,y,b,R){this.spec.setSelection?this.spec.setSelection(x,y,b.root):super.setSelection(x,y,b,R)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(x){return this.spec.stopEvent?this.spec.stopEvent(x):!1}ignoreMutation(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):super.ignoreMutation(x)}}function renderDescs(r,x,y){let b=r.firstChild,R=!1;for(let T=0;T<x.length;T++){let A=x[T],O=A.dom;if(O.parentNode==r){for(;O!=b;)b=rm(b),R=!0;b=b.nextSibling}else R=!0,r.insertBefore(O,b);if(A instanceof MarkViewDesc){let B=b?b.previousSibling:r.lastChild;renderDescs(A.contentDOM,A.children,y),b=B?B.nextSibling:r.firstChild}}for(;b;)b=rm(b),R=!0;R&&y.trackWrites==r&&(y.trackWrites=null)}const OuterDecoLevel=function(r){r&&(this.nodeName=r)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(r,x,y){if(r.length==0)return noDeco;let b=y?noDeco[0]:new OuterDecoLevel,R=[b];for(let T=0;T<r.length;T++){let A=r[T].type.attrs;if(A){A.nodeName&&R.push(b=new OuterDecoLevel(A.nodeName));for(let O in A){let B=A[O];B!=null&&(y&&R.length==1&&R.push(b=new OuterDecoLevel(x.isInline?"span":"div")),O=="class"?b.class=(b.class?b.class+" ":"")+B:O=="style"?b.style=(b.style?b.style+";":"")+B:O!="nodeName"&&(b[O]=B))}}}return R}function patchOuterDeco(r,x,y,b){if(y==noDeco&&b==noDeco)return x;let R=x;for(let T=0;T<b.length;T++){let A=b[T],O=y[T];if(T){let B;O&&O.nodeName==A.nodeName&&R!=r&&(B=R.parentNode)&&B.nodeName.toLowerCase()==A.nodeName||(B=document.createElement(A.nodeName),B.pmIsDeco=!0,B.appendChild(R),O=noDeco[0]),R=B}patchAttributes(R,O||noDeco[0],A)}return R}function patchAttributes(r,x,y){for(let b in x)b!="class"&&b!="style"&&b!="nodeName"&&!(b in y)&&r.removeAttribute(b);for(let b in y)b!="class"&&b!="style"&&b!="nodeName"&&y[b]!=x[b]&&r.setAttribute(b,y[b]);if(x.class!=y.class){let b=x.class?x.class.split(" ").filter(Boolean):[],R=y.class?y.class.split(" ").filter(Boolean):[];for(let T=0;T<b.length;T++)R.indexOf(b[T])==-1&&r.classList.remove(b[T]);for(let T=0;T<R.length;T++)b.indexOf(R[T])==-1&&r.classList.add(R[T]);r.classList.length==0&&r.removeAttribute("class")}if(x.style!=y.style){if(x.style){let b=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,R;for(;R=b.exec(x.style);)r.style.removeProperty(R[1])}y.style&&(r.style.cssText+=y.style)}}function applyOuterDeco(r,x,y){return patchOuterDeco(r,r,noDeco,computeOuterDeco(x,y,r.nodeType!=1))}function sameOuterDeco(r,x){if(r.length!=x.length)return!1;for(let y=0;y<r.length;y++)if(!r[y].type.eq(x[y].type))return!1;return!0}function rm(r){let x=r.nextSibling;return r.parentNode.removeChild(r),x}class ViewTreeUpdater{constructor(x,y,b){this.lock=y,this.view=b,this.index=0,this.stack=[],this.changed=!1,this.top=x,this.preMatch=preMatch(x.node.content,x)}destroyBetween(x,y){if(x!=y){for(let b=x;b<y;b++)this.top.children[b].destroy();this.top.children.splice(x,y-x),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(x,y,b){let R=0,T=this.stack.length>>1,A=Math.min(T,x.length);for(;R<A&&(R==T-1?this.top:this.stack[R+1<<1]).matchesMark(x[R])&&x[R].type.spec.spanning!==!1;)R++;for(;R<T;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),T--;for(;T<x.length;){this.stack.push(this.top,this.index+1);let O=-1;for(let B=this.index;B<Math.min(this.index+3,this.top.children.length);B++){let U=this.top.children[B];if(U.matchesMark(x[T])&&!this.isLocked(U.dom)){O=B;break}}if(O>-1)O>this.index&&(this.changed=!0,this.destroyBetween(this.index,O)),this.top=this.top.children[this.index];else{let B=MarkViewDesc.create(this.top,x[T],y,b);this.top.children.splice(this.index,0,B),this.top=B,this.changed=!0}this.index=0,T++}}findNodeMatch(x,y,b,R){let T=-1,A;if(R>=this.preMatch.index&&(A=this.preMatch.matches[R-this.preMatch.index]).parent==this.top&&A.matchesNode(x,y,b))T=this.top.children.indexOf(A,this.index);else for(let O=this.index,B=Math.min(this.top.children.length,O+5);O<B;O++){let U=this.top.children[O];if(U.matchesNode(x,y,b)&&!this.preMatch.matched.has(U)){T=O;break}}return T<0?!1:(this.destroyBetween(this.index,T),this.index++,!0)}updateNodeAt(x,y,b,R,T){let A=this.top.children[R];return A.dirty==NODE_DIRTY&&A.dom==A.contentDOM&&(A.dirty=CONTENT_DIRTY),A.update(x,y,b,T)?(this.destroyBetween(this.index,R),this.index++,!0):!1}findIndexWithChild(x){for(;;){let y=x.parentNode;if(!y)return-1;if(y==this.top.contentDOM){let b=x.pmViewDesc;if(b){for(let R=this.index;R<this.top.children.length;R++)if(this.top.children[R]==b)return R}return-1}x=y}}updateNextNode(x,y,b,R,T,A){for(let O=this.index;O<this.top.children.length;O++){let B=this.top.children[O];if(B instanceof NodeViewDesc){let U=this.preMatch.matched.get(B);if(U!=null&&U!=T)return!1;let K=B.dom,J,te=this.isLocked(K)&&!(x.isText&&B.node&&B.node.isText&&B.nodeDOM.nodeValue==x.text&&B.dirty!=NODE_DIRTY&&sameOuterDeco(y,B.outerDeco));if(!te&&B.update(x,y,b,R))return this.destroyBetween(this.index,O),B.dom!=K&&(this.changed=!0),this.index++,!0;if(!te&&(J=this.recreateWrapper(B,x,y,b,R,A)))return this.destroyBetween(this.index,O),this.top.children[this.index]=J,J.contentDOM&&(J.dirty=CONTENT_DIRTY,J.updateChildren(R,A+1),J.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(x,y,b,R,T,A){if(x.dirty||y.isAtom||!x.children.length||!x.node.content.eq(y.content)||!sameOuterDeco(b,x.outerDeco)||!R.eq(x.innerDeco))return null;let O=NodeViewDesc.create(this.top,y,b,R,T,A);if(O.contentDOM){O.children=x.children,x.children=[];for(let B of O.children)B.parent=O}return x.destroy(),O}addNode(x,y,b,R,T){let A=NodeViewDesc.create(this.top,x,y,b,R,T);A.contentDOM&&A.updateChildren(R,T+1),this.top.children.splice(this.index++,0,A),this.changed=!0}placeWidget(x,y,b){let R=this.index<this.top.children.length?this.top.children[this.index]:null;if(R&&R.matchesWidget(x)&&(x==R.widget||!R.widget.type.toDOM.parentNode))this.index++;else{let T=new WidgetViewDesc(this.top,x,y,b);this.top.children.splice(this.index++,0,T),this.changed=!0}}addTextblockHacks(){let x=this.top.children[this.index-1],y=this.top;for(;x instanceof MarkViewDesc;)y=x,x=y.children[y.children.length-1];(!x||!(x instanceof TextViewDesc)||/\n$/.test(x.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(x.node.text))&&((safari||chrome$1)&&x&&x.dom.contentEditable=="false"&&this.addHackNode("IMG",y),this.addHackNode("BR",this.top))}addHackNode(x,y){if(y==this.top&&this.index<y.children.length&&y.children[this.index].matchesHack(x))this.index++;else{let b=document.createElement(x);x=="IMG"&&(b.className="ProseMirror-separator",b.alt=""),x=="BR"&&(b.className="ProseMirror-trailingBreak");let R=new TrailingHackViewDesc(this.top,[],b,null);y!=this.top?y.children.push(R):y.children.splice(this.index++,0,R),this.changed=!0}}isLocked(x){return this.lock&&(x==this.lock||x.nodeType==1&&x.contains(this.lock.parentNode))}}function preMatch(r,x){let y=x,b=y.children.length,R=r.childCount,T=new Map,A=[];e:for(;R>0;){let O;for(;;)if(b){let U=y.children[b-1];if(U instanceof MarkViewDesc)y=U,b=U.children.length;else{O=U,b--;break}}else{if(y==x)break e;b=y.parent.children.indexOf(y),y=y.parent}let B=O.node;if(B){if(B!=r.child(R-1))break;--R,T.set(O,R),A.push(O)}}return{index:R,matched:T,matches:A.reverse()}}function compareSide(r,x){return r.type.side-x.type.side}function iterDeco(r,x,y,b){let R=x.locals(r),T=0;if(R.length==0){for(let U=0;U<r.childCount;U++){let K=r.child(U);b(K,R,x.forChild(T,K),U),T+=K.nodeSize}return}let A=0,O=[],B=null;for(let U=0;;){let K,J;for(;A<R.length&&R[A].to==T;){let $e=R[A++];$e.widget&&(K?(J||(J=[K])).push($e):K=$e)}if(K)if(J){J.sort(compareSide);for(let $e=0;$e<J.length;$e++)y(J[$e],U,!!B)}else y(K,U,!!B);let te,ae;if(B)ae=-1,te=B,B=null;else if(U<r.childCount)ae=U,te=r.child(U++);else break;for(let $e=0;$e<O.length;$e++)O[$e].to<=T&&O.splice($e--,1);for(;A<R.length&&R[A].from<=T&&R[A].to>T;)O.push(R[A++]);let ue=T+te.nodeSize;if(te.isText){let $e=ue;A<R.length&&R[A].from<$e&&($e=R[A].from);for(let Ne=0;Ne<O.length;Ne++)O[Ne].to<$e&&($e=O[Ne].to);$e<ue&&(B=te.cut($e-T),te=te.cut(0,$e-T),ue=$e,ae=-1)}else for(;A<R.length&&R[A].to<ue;)A++;let pe=te.isInline&&!te.isLeaf?O.filter($e=>!$e.inline):O.slice();b(te,pe,x.forChild(T,te),ae),T=ue}}function iosHacks(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let x=r.style.cssText;r.style.cssText=x+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=x}}function findTextInFragment(r,x,y,b){for(let R=0,T=0;R<r.childCount&&T<=b;){let A=r.child(R++),O=T;if(T+=A.nodeSize,!A.isText)continue;let B=A.text;for(;R<r.childCount;){let U=r.child(R++);if(T+=U.nodeSize,!U.isText)break;B+=U.text}if(T>=y){if(T>=b&&B.slice(b-x.length-O,b-O)==x)return b-x.length;let U=O<b?B.lastIndexOf(x,b-O-1):-1;if(U>=0&&U+x.length+O>=y)return O+U;if(y==b&&B.length>=b+x.length-O&&B.slice(b-O,b-O+x.length)==x)return b}}return-1}function replaceNodes(r,x,y,b,R){let T=[];for(let A=0,O=0;A<r.length;A++){let B=r[A],U=O,K=O+=B.size;U>=y||K<=x?T.push(B):(U<x&&T.push(B.slice(0,x-U,b)),R&&(T.push(R),R=void 0),K>y&&T.push(B.slice(y-U,B.size,b)))}return T}function selectionFromDOM(r,x=null){let y=r.domSelectionRange(),b=r.state.doc;if(!y.focusNode)return null;let R=r.docView.nearestDesc(y.focusNode),T=R&&R.size==0,A=r.docView.posFromDOM(y.focusNode,y.focusOffset,1);if(A<0)return null;let O=b.resolve(A),B,U;if(selectionCollapsed(y)){for(B=A;R&&!R.node;)R=R.parent;let J=R.node;if(R&&J.isAtom&&NodeSelection.isSelectable(J)&&R.parent&&!(J.isInline&&isOnEdge(y.focusNode,y.focusOffset,R.dom))){let te=R.posBefore;U=new NodeSelection(A==te?O:b.resolve(te))}}else{if(y instanceof r.dom.ownerDocument.defaultView.Selection&&y.rangeCount>1){let J=A,te=A;for(let ae=0;ae<y.rangeCount;ae++){let ue=y.getRangeAt(ae);J=Math.min(J,r.docView.posFromDOM(ue.startContainer,ue.startOffset,1)),te=Math.max(te,r.docView.posFromDOM(ue.endContainer,ue.endOffset,-1))}if(J<0)return null;[B,A]=te==r.state.selection.anchor?[te,J]:[J,te],O=b.resolve(A)}else B=r.docView.posFromDOM(y.anchorNode,y.anchorOffset,1);if(B<0)return null}let K=b.resolve(B);if(!U){let J=x=="pointer"||r.state.selection.head<O.pos&&!T?1:-1;U=selectionBetween(r,K,O,J)}return U}function editorOwnsSelection(r){return r.editable?r.hasFocus():hasSelection(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function selectionToDOM(r,x=!1){let y=r.state.selection;if(syncNodeSelection(r,y),!!editorOwnsSelection(r)){if(!x&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&chrome$1){let b=r.domSelectionRange(),R=r.domObserver.currentSelection;if(b.anchorNode&&R.anchorNode&&isEquivalentPosition(b.anchorNode,b.anchorOffset,R.anchorNode,R.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)selectCursorWrapper(r);else{let{anchor:b,head:R}=y,T,A;brokenSelectBetweenUneditable&&!(y instanceof TextSelection)&&(y.$from.parent.inlineContent||(T=temporarilyEditableNear(r,y.from)),!y.empty&&!y.$from.parent.inlineContent&&(A=temporarilyEditableNear(r,y.to))),r.docView.setSelection(b,R,r,x),brokenSelectBetweenUneditable&&(T&&resetEditable(T),A&&resetEditable(A)),y.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome$1&&chrome_version<63;function temporarilyEditableNear(r,x){let{node:y,offset:b}=r.docView.domFromPos(x,0),R=b<y.childNodes.length?y.childNodes[b]:null,T=b?y.childNodes[b-1]:null;if(safari&&R&&R.contentEditable=="false")return setEditable(R);if((!R||R.contentEditable=="false")&&(!T||T.contentEditable=="false")){if(R)return setEditable(R);if(T)return setEditable(T)}}function setEditable(r){return r.contentEditable="true",safari&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function resetEditable(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function removeClassOnSelectionChange(r){let x=r.dom.ownerDocument;x.removeEventListener("selectionchange",r.input.hideSelectionGuard);let y=r.domSelectionRange(),b=y.anchorNode,R=y.anchorOffset;x.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(y.anchorNode!=b||y.anchorOffset!=R)&&(x.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(r){let x=r.domSelection();if(!x)return;let y=r.cursorWrapper.dom,b=y.nodeName=="IMG";b?x.collapse(y.parentNode,domIndex(y)+1):x.collapse(y,0),!b&&!r.state.selection.visible&&ie$1&&ie_version<=11&&(y.disabled=!0,y.disabled=!1)}function syncNodeSelection(r,x){if(x instanceof NodeSelection){let y=r.docView.descAt(x.from);y!=r.lastSelectedViewDesc&&(clearNodeSelection(r),y&&y.selectNode(),r.lastSelectedViewDesc=y)}else clearNodeSelection(r)}function clearNodeSelection(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function selectionBetween(r,x,y,b){return r.someProp("createSelectionBetween",R=>R(r,x,y))||TextSelection.between(x,y,b)}function hasFocusAndSelection(r){return r.editable&&!r.hasFocus()?!1:hasSelection(r)}function hasSelection(r){let x=r.domSelectionRange();if(!x.anchorNode)return!1;try{return r.dom.contains(x.anchorNode.nodeType==3?x.anchorNode.parentNode:x.anchorNode)&&(r.editable||r.dom.contains(x.focusNode.nodeType==3?x.focusNode.parentNode:x.focusNode))}catch{return!1}}function anchorInRightPlace(r){let x=r.docView.domFromPos(r.state.selection.anchor,0),y=r.domSelectionRange();return isEquivalentPosition(x.node,x.offset,y.anchorNode,y.anchorOffset)}function moveSelectionBlock(r,x){let{$anchor:y,$head:b}=r.selection,R=x>0?y.max(b):y.min(b),T=R.parent.inlineContent?R.depth?r.doc.resolve(x>0?R.after():R.before()):null:R;return T&&Selection.findFrom(T,x)}function apply(r,x){return r.dispatch(r.state.tr.setSelection(x).scrollIntoView()),!0}function selectHorizontally(r,x,y){let b=r.state.selection;if(b instanceof TextSelection)if(y.indexOf("s")>-1){let{$head:R}=b,T=R.textOffset?null:x<0?R.nodeBefore:R.nodeAfter;if(!T||T.isText||!T.isLeaf)return!1;let A=r.state.doc.resolve(R.pos+T.nodeSize*(x<0?-1:1));return apply(r,new TextSelection(b.$anchor,A))}else if(b.empty){if(r.endOfTextblock(x>0?"forward":"backward")){let R=moveSelectionBlock(r.state,x);return R&&R instanceof NodeSelection?apply(r,R):!1}else if(!(mac$2&&y.indexOf("m")>-1)){let R=b.$head,T=R.textOffset?null:x<0?R.nodeBefore:R.nodeAfter,A;if(!T||T.isText)return!1;let O=x<0?R.pos-T.nodeSize:R.pos;return T.isAtom||(A=r.docView.descAt(O))&&!A.contentDOM?NodeSelection.isSelectable(T)?apply(r,new NodeSelection(x<0?r.state.doc.resolve(R.pos-T.nodeSize):R)):webkit?apply(r,new TextSelection(r.state.doc.resolve(x<0?O:O+T.nodeSize))):!1:!1}}else return!1;else{if(b instanceof NodeSelection&&b.node.isInline)return apply(r,new TextSelection(x>0?b.$to:b.$from));{let R=moveSelectionBlock(r.state,x);return R?apply(r,R):!1}}}function nodeLen(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function isIgnorable(r,x){let y=r.pmViewDesc;return y&&y.size==0&&(x<0||r.nextSibling||r.nodeName!="BR")}function skipIgnoredNodes(r,x){return x<0?skipIgnoredNodesBefore(r):skipIgnoredNodesAfter(r)}function skipIgnoredNodesBefore(r){let x=r.domSelectionRange(),y=x.focusNode,b=x.focusOffset;if(!y)return;let R,T,A=!1;for(gecko&&y.nodeType==1&&b<nodeLen(y)&&isIgnorable(y.childNodes[b],-1)&&(A=!0);;)if(b>0){if(y.nodeType!=1)break;{let O=y.childNodes[b-1];if(isIgnorable(O,-1))R=y,T=--b;else if(O.nodeType==3)y=O,b=y.nodeValue.length;else break}}else{if(isBlockNode(y))break;{let O=y.previousSibling;for(;O&&isIgnorable(O,-1);)R=y.parentNode,T=domIndex(O),O=O.previousSibling;if(O)y=O,b=nodeLen(y);else{if(y=y.parentNode,y==r.dom)break;b=0}}}A?setSelFocus(r,y,b):R&&setSelFocus(r,R,T)}function skipIgnoredNodesAfter(r){let x=r.domSelectionRange(),y=x.focusNode,b=x.focusOffset;if(!y)return;let R=nodeLen(y),T,A;for(;;)if(b<R){if(y.nodeType!=1)break;let O=y.childNodes[b];if(isIgnorable(O,1))T=y,A=++b;else break}else{if(isBlockNode(y))break;{let O=y.nextSibling;for(;O&&isIgnorable(O,1);)T=O.parentNode,A=domIndex(O)+1,O=O.nextSibling;if(O)y=O,b=0,R=nodeLen(y);else{if(y=y.parentNode,y==r.dom)break;b=R=0}}}T&&setSelFocus(r,T,A)}function isBlockNode(r){let x=r.pmViewDesc;return x&&x.node&&x.node.isBlock}function textNodeAfter(r,x){for(;r&&x==r.childNodes.length&&!hasBlockDesc(r);)x=domIndex(r)+1,r=r.parentNode;for(;r&&x<r.childNodes.length;){let y=r.childNodes[x];if(y.nodeType==3)return y;if(y.nodeType==1&&y.contentEditable=="false")break;r=y,x=0}}function textNodeBefore(r,x){for(;r&&!x&&!hasBlockDesc(r);)x=domIndex(r),r=r.parentNode;for(;r&&x;){let y=r.childNodes[x-1];if(y.nodeType==3)return y;if(y.nodeType==1&&y.contentEditable=="false")break;r=y,x=r.childNodes.length}}function setSelFocus(r,x,y){if(x.nodeType!=3){let T,A;(A=textNodeAfter(x,y))?(x=A,y=0):(T=textNodeBefore(x,y))&&(x=T,y=T.nodeValue.length)}let b=r.domSelection();if(!b)return;if(selectionCollapsed(b)){let T=document.createRange();T.setEnd(x,y),T.setStart(x,y),b.removeAllRanges(),b.addRange(T)}else b.extend&&b.extend(x,y);r.domObserver.setCurSelection();let{state:R}=r;setTimeout(()=>{r.state==R&&selectionToDOM(r)},50)}function findDirection(r,x){let y=r.state.doc.resolve(x);if(!(chrome$1||windows$1)&&y.parent.inlineContent){let R=r.coordsAtPos(x);if(x>y.start()){let T=r.coordsAtPos(x-1),A=(T.top+T.bottom)/2;if(A>R.top&&A<R.bottom&&Math.abs(T.left-R.left)>1)return T.left<R.left?"ltr":"rtl"}if(x<y.end()){let T=r.coordsAtPos(x+1),A=(T.top+T.bottom)/2;if(A>R.top&&A<R.bottom&&Math.abs(T.left-R.left)>1)return T.left>R.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(r,x,y){let b=r.state.selection;if(b instanceof TextSelection&&!b.empty||y.indexOf("s")>-1||mac$2&&y.indexOf("m")>-1)return!1;let{$from:R,$to:T}=b;if(!R.parent.inlineContent||r.endOfTextblock(x<0?"up":"down")){let A=moveSelectionBlock(r.state,x);if(A&&A instanceof NodeSelection)return apply(r,A)}if(!R.parent.inlineContent){let A=x<0?R:T,O=b instanceof AllSelection?Selection.near(A,x):Selection.findFrom(A,x);return O?apply(r,O):!1}return!1}function stopNativeHorizontalDelete(r,x){if(!(r.state.selection instanceof TextSelection))return!0;let{$head:y,$anchor:b,empty:R}=r.state.selection;if(!y.sameParent(b))return!0;if(!R)return!1;if(r.endOfTextblock(x>0?"forward":"backward"))return!0;let T=!y.textOffset&&(x<0?y.nodeBefore:y.nodeAfter);if(T&&!T.isText){let A=r.state.tr;return x<0?A.delete(y.pos-T.nodeSize,y.pos):A.delete(y.pos,y.pos+T.nodeSize),r.dispatch(A),!0}return!1}function switchEditable(r,x,y){r.domObserver.stop(),x.contentEditable=y,r.domObserver.start()}function safariDownArrowBug(r){if(!safari||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:x,focusOffset:y}=r.domSelectionRange();if(x&&x.nodeType==1&&y==0&&x.firstChild&&x.firstChild.contentEditable=="false"){let b=x.firstChild;switchEditable(r,b,"true"),setTimeout(()=>switchEditable(r,b,"false"),20)}return!1}function getMods(r){let x="";return r.ctrlKey&&(x+="c"),r.metaKey&&(x+="m"),r.altKey&&(x+="a"),r.shiftKey&&(x+="s"),x}function captureKeyDown(r,x){let y=x.keyCode,b=getMods(x);if(y==8||mac$2&&y==72&&b=="c")return stopNativeHorizontalDelete(r,-1)||skipIgnoredNodes(r,-1);if(y==46&&!x.shiftKey||mac$2&&y==68&&b=="c")return stopNativeHorizontalDelete(r,1)||skipIgnoredNodes(r,1);if(y==13||y==27)return!0;if(y==37||mac$2&&y==66&&b=="c"){let R=y==37?findDirection(r,r.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(r,R,b)||skipIgnoredNodes(r,R)}else if(y==39||mac$2&&y==70&&b=="c"){let R=y==39?findDirection(r,r.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(r,R,b)||skipIgnoredNodes(r,R)}else{if(y==38||mac$2&&y==80&&b=="c")return selectVertically(r,-1,b)||skipIgnoredNodes(r,-1);if(y==40||mac$2&&y==78&&b=="c")return safariDownArrowBug(r)||selectVertically(r,1,b)||skipIgnoredNodes(r,1);if(b==(mac$2?"m":"c")&&(y==66||y==73||y==89||y==90))return!0}return!1}function serializeForClipboard(r,x){r.someProp("transformCopied",ae=>{x=ae(x,r)});let y=[],{content:b,openStart:R,openEnd:T}=x;for(;R>1&&T>1&&b.childCount==1&&b.firstChild.childCount==1;){R--,T--;let ae=b.firstChild;y.push(ae.type.name,ae.attrs!=ae.type.defaultAttrs?ae.attrs:null),b=ae.content}let A=r.someProp("clipboardSerializer")||DOMSerializer.fromSchema(r.state.schema),O=detachedDoc(),B=O.createElement("div");B.appendChild(A.serializeFragment(b,{document:O}));let U=B.firstChild,K,J=0;for(;U&&U.nodeType==1&&(K=wrapMap[U.nodeName.toLowerCase()]);){for(let ae=K.length-1;ae>=0;ae--){let ue=O.createElement(K[ae]);for(;B.firstChild;)ue.appendChild(B.firstChild);B.appendChild(ue),J++}U=B.firstChild}U&&U.nodeType==1&&U.setAttribute("data-pm-slice",`${R} ${T}${J?` -${J}`:""} ${JSON.stringify(y)}`);let te=r.someProp("clipboardTextSerializer",ae=>ae(x,r))||x.content.textBetween(0,x.content.size,`

`);return{dom:B,text:te,slice:x}}function parseFromClipboard(r,x,y,b,R){let T=R.parent.type.spec.code,A,O;if(!y&&!x)return null;let B=!!x&&(b||T||!y);if(B){if(r.someProp("transformPastedText",te=>{x=te(x,T||b,r)}),T)return O=new Slice(Fragment.from(r.state.schema.text(x.replace(/\r\n?/g,`
`))),0,0),r.someProp("transformPasted",te=>{O=te(O,r,!0)}),O;let J=r.someProp("clipboardTextParser",te=>te(x,R,b,r));if(J)O=J;else{let te=R.marks(),{schema:ae}=r.state,ue=DOMSerializer.fromSchema(ae);A=document.createElement("div"),x.split(/(?:\r\n?|\n)+/).forEach(pe=>{let $e=A.appendChild(document.createElement("p"));pe&&$e.appendChild(ue.serializeNode(ae.text(pe,te)))})}}else r.someProp("transformPastedHTML",J=>{y=J(y,r)}),A=readHTML(y),webkit&&restoreReplacedSpaces(A);let U=A&&A.querySelector("[data-pm-slice]"),K=U&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(U.getAttribute("data-pm-slice")||"");if(K&&K[3])for(let J=+K[3];J>0;J--){let te=A.firstChild;for(;te&&te.nodeType!=1;)te=te.nextSibling;if(!te)break;A=te}if(O||(O=(r.someProp("clipboardParser")||r.someProp("domParser")||DOMParser.fromSchema(r.state.schema)).parseSlice(A,{preserveWhitespace:!!(B||K),context:R,ruleFromNode(te){return te.nodeName=="BR"&&!te.nextSibling&&te.parentNode&&!inlineParents.test(te.parentNode.nodeName)?{ignore:!0}:null}})),K)O=addContext(closeSlice(O,+K[1],+K[2]),K[4]);else if(O=Slice.maxOpen(normalizeSiblings(O.content,R),!0),O.openStart||O.openEnd){let J=0,te=0;for(let ae=O.content.firstChild;J<O.openStart&&!ae.type.spec.isolating;J++,ae=ae.firstChild);for(let ae=O.content.lastChild;te<O.openEnd&&!ae.type.spec.isolating;te++,ae=ae.lastChild);O=closeSlice(O,J,te)}return r.someProp("transformPasted",J=>{O=J(O,r,B)}),O}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(r,x){if(r.childCount<2)return r;for(let y=x.depth;y>=0;y--){let R=x.node(y).contentMatchAt(x.index(y)),T,A=[];if(r.forEach(O=>{if(!A)return;let B=R.findWrapping(O.type),U;if(!B)return A=null;if(U=A.length&&T.length&&addToSibling(B,T,O,A[A.length-1],0))A[A.length-1]=U;else{A.length&&(A[A.length-1]=closeRight(A[A.length-1],T.length));let K=withWrappers(O,B);A.push(K),R=R.matchType(K.type),T=B}}),A)return Fragment.from(A)}return r}function withWrappers(r,x,y=0){for(let b=x.length-1;b>=y;b--)r=x[b].create(null,Fragment.from(r));return r}function addToSibling(r,x,y,b,R){if(R<r.length&&R<x.length&&r[R]==x[R]){let T=addToSibling(r,x,y,b.lastChild,R+1);if(T)return b.copy(b.content.replaceChild(b.childCount-1,T));if(b.contentMatchAt(b.childCount).matchType(R==r.length-1?y.type:r[R+1]))return b.copy(b.content.append(Fragment.from(withWrappers(y,r,R+1))))}}function closeRight(r,x){if(x==0)return r;let y=r.content.replaceChild(r.childCount-1,closeRight(r.lastChild,x-1)),b=r.contentMatchAt(r.childCount).fillBefore(Fragment.empty,!0);return r.copy(y.append(b))}function closeRange(r,x,y,b,R,T){let A=x<0?r.firstChild:r.lastChild,O=A.content;return r.childCount>1&&(T=0),R<b-1&&(O=closeRange(O,x,y,b,R+1,T)),R>=y&&(O=x<0?A.contentMatchAt(0).fillBefore(O,T<=R).append(O):O.append(A.contentMatchAt(A.childCount).fillBefore(Fragment.empty,!0))),r.replaceChild(x<0?0:r.childCount-1,A.copy(O))}function closeSlice(r,x,y){return x<r.openStart&&(r=new Slice(closeRange(r.content,-1,x,r.openStart,0,r.openEnd),x,r.openEnd)),y<r.openEnd&&(r=new Slice(closeRange(r.content,1,y,r.openEnd,0,0),r.openStart,y)),r}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(r){let x=window.trustedTypes;return x?(_policy||(_policy=x.defaultPolicy||x.createPolicy("ProseMirrorClipboard",{createHTML:y=>y})),_policy.createHTML(r)):r}function readHTML(r){let x=/^(\s*<meta [^>]*>)*/.exec(r);x&&(r=r.slice(x[0].length));let y=detachedDoc().createElement("div"),b=/<([a-z][^>\s]+)/i.exec(r),R;if((R=b&&wrapMap[b[1].toLowerCase()])&&(r=R.map(T=>"<"+T+">").join("")+r+R.map(T=>"</"+T+">").reverse().join("")),y.innerHTML=maybeWrapTrusted(r),R)for(let T=0;T<R.length;T++)y=y.querySelector(R[T])||y;return y}function restoreReplacedSpaces(r){let x=r.querySelectorAll(chrome$1?"span:not([class]):not([style])":"span.Apple-converted-space");for(let y=0;y<x.length;y++){let b=x[y];b.childNodes.length==1&&b.textContent==""&&b.parentNode&&b.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),b)}}function addContext(r,x){if(!r.size)return r;let y=r.content.firstChild.type.schema,b;try{b=JSON.parse(x)}catch{return r}let{content:R,openStart:T,openEnd:A}=r;for(let O=b.length-2;O>=0;O-=2){let B=y.nodes[b[O]];if(!B||B.hasRequiredAttrs())break;R=Fragment.from(B.create(b[O+1],R)),T++,A++}return new Slice(R,T,A)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(r){for(let x in handlers){let y=handlers[x];r.dom.addEventListener(x,r.input.eventHandlers[x]=b=>{eventBelongsToView(r,b)&&!runCustomHandler(r,b)&&(r.editable||!(b.type in editHandlers))&&y(r,b)},passiveHandlers[x]?{passive:!0}:void 0)}safari&&r.dom.addEventListener("input",()=>null),ensureListeners(r)}function setSelectionOrigin(r,x){r.input.lastSelectionOrigin=x,r.input.lastSelectionTime=Date.now()}function destroyInput(r){r.domObserver.stop();for(let x in r.input.eventHandlers)r.dom.removeEventListener(x,r.input.eventHandlers[x]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function ensureListeners(r){r.someProp("handleDOMEvents",x=>{for(let y in x)r.input.eventHandlers[y]||r.dom.addEventListener(y,r.input.eventHandlers[y]=b=>runCustomHandler(r,b))})}function runCustomHandler(r,x){return r.someProp("handleDOMEvents",y=>{let b=y[x.type];return b?b(r,x)||x.defaultPrevented:!1})}function eventBelongsToView(r,x){if(!x.bubbles)return!0;if(x.defaultPrevented)return!1;for(let y=x.target;y!=r.dom;y=y.parentNode)if(!y||y.nodeType==11||y.pmViewDesc&&y.pmViewDesc.stopEvent(x))return!1;return!0}function dispatchEvent(r,x){!runCustomHandler(r,x)&&handlers[x.type]&&(r.editable||!(x.type in editHandlers))&&handlers[x.type](r,x)}editHandlers.keydown=(r,x)=>{let y=x;if(r.input.shiftKey=y.keyCode==16||y.shiftKey,!inOrNearComposition(r,y)&&(r.input.lastKeyCode=y.keyCode,r.input.lastKeyCodeTime=Date.now(),!(android&&chrome$1&&y.keyCode==13)))if(y.keyCode!=229&&r.domObserver.forceFlush(),ios&&y.keyCode==13&&!y.ctrlKey&&!y.altKey&&!y.metaKey){let b=Date.now();r.input.lastIOSEnter=b,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==b&&(r.someProp("handleKeyDown",R=>R(r,keyEvent(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",b=>b(r,y))||captureKeyDown(r,y)?y.preventDefault():setSelectionOrigin(r,"key")};editHandlers.keyup=(r,x)=>{x.keyCode==16&&(r.input.shiftKey=!1)};editHandlers.keypress=(r,x)=>{let y=x;if(inOrNearComposition(r,y)||!y.charCode||y.ctrlKey&&!y.altKey||mac$2&&y.metaKey)return;if(r.someProp("handleKeyPress",R=>R(r,y))){y.preventDefault();return}let b=r.state.selection;if(!(b instanceof TextSelection)||!b.$from.sameParent(b.$to)){let R=String.fromCharCode(y.charCode),T=()=>r.state.tr.insertText(R).scrollIntoView();!/[\r\n]/.test(R)&&!r.someProp("handleTextInput",A=>A(r,b.$from.pos,b.$to.pos,R,T))&&r.dispatch(T()),y.preventDefault()}};function eventCoords(r){return{left:r.clientX,top:r.clientY}}function isNear(r,x){let y=x.x-r.clientX,b=x.y-r.clientY;return y*y+b*b<100}function runHandlerOnContext(r,x,y,b,R){if(b==-1)return!1;let T=r.state.doc.resolve(b);for(let A=T.depth+1;A>0;A--)if(r.someProp(x,O=>A>T.depth?O(r,y,T.nodeAfter,T.before(A),R,!0):O(r,y,T.node(A),T.before(A),R,!1)))return!0;return!1}function updateSelection(r,x,y){if(r.focused||r.focus(),r.state.selection.eq(x))return;let b=r.state.tr.setSelection(x);b.setMeta("pointer",!0),r.dispatch(b)}function selectClickedLeaf(r,x){if(x==-1)return!1;let y=r.state.doc.resolve(x),b=y.nodeAfter;return b&&b.isAtom&&NodeSelection.isSelectable(b)?(updateSelection(r,new NodeSelection(y)),!0):!1}function selectClickedNode(r,x){if(x==-1)return!1;let y=r.state.selection,b,R;y instanceof NodeSelection&&(b=y.node);let T=r.state.doc.resolve(x);for(let A=T.depth+1;A>0;A--){let O=A>T.depth?T.nodeAfter:T.node(A);if(NodeSelection.isSelectable(O)){b&&y.$from.depth>0&&A>=y.$from.depth&&T.before(y.$from.depth+1)==y.$from.pos?R=T.before(y.$from.depth):R=T.before(A);break}}return R!=null?(updateSelection(r,NodeSelection.create(r.state.doc,R)),!0):!1}function handleSingleClick(r,x,y,b,R){return runHandlerOnContext(r,"handleClickOn",x,y,b)||r.someProp("handleClick",T=>T(r,x,b))||(R?selectClickedNode(r,y):selectClickedLeaf(r,y))}function handleDoubleClick(r,x,y,b){return runHandlerOnContext(r,"handleDoubleClickOn",x,y,b)||r.someProp("handleDoubleClick",R=>R(r,x,b))}function handleTripleClick(r,x,y,b){return runHandlerOnContext(r,"handleTripleClickOn",x,y,b)||r.someProp("handleTripleClick",R=>R(r,x,b))||defaultTripleClick(r,y,b)}function defaultTripleClick(r,x,y){if(y.button!=0)return!1;let b=r.state.doc;if(x==-1)return b.inlineContent?(updateSelection(r,TextSelection.create(b,0,b.content.size)),!0):!1;let R=b.resolve(x);for(let T=R.depth+1;T>0;T--){let A=T>R.depth?R.nodeAfter:R.node(T),O=R.before(T);if(A.inlineContent)updateSelection(r,TextSelection.create(b,O+1,O+1+A.content.size));else if(NodeSelection.isSelectable(A))updateSelection(r,NodeSelection.create(b,O));else continue;return!0}}function forceDOMFlush(r){return endComposition(r)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(r,x)=>{let y=x;r.input.shiftKey=y.shiftKey;let b=forceDOMFlush(r),R=Date.now(),T="singleClick";R-r.input.lastClick.time<500&&isNear(y,r.input.lastClick)&&!y[selectNodeModifier]&&r.input.lastClick.button==y.button&&(r.input.lastClick.type=="singleClick"?T="doubleClick":r.input.lastClick.type=="doubleClick"&&(T="tripleClick")),r.input.lastClick={time:R,x:y.clientX,y:y.clientY,type:T,button:y.button};let A=r.posAtCoords(eventCoords(y));A&&(T=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new MouseDown(r,A,y,!!b)):(T=="doubleClick"?handleDoubleClick:handleTripleClick)(r,A.pos,A.inside,y)?y.preventDefault():setSelectionOrigin(r,"pointer"))};class MouseDown{constructor(x,y,b,R){this.view=x,this.pos=y,this.event=b,this.flushed=R,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=x.state.doc,this.selectNode=!!b[selectNodeModifier],this.allowDefault=b.shiftKey;let T,A;if(y.inside>-1)T=x.state.doc.nodeAt(y.inside),A=y.inside;else{let K=x.state.doc.resolve(y.pos);T=K.parent,A=K.depth?K.before():0}const O=R?null:b.target,B=O?x.docView.nearestDesc(O,!0):null;this.target=B&&B.nodeDOM.nodeType==1?B.nodeDOM:null;let{selection:U}=x.state;(b.button==0&&T.type.spec.draggable&&T.type.spec.selectable!==!1||U instanceof NodeSelection&&U.from<=A&&U.to>A)&&(this.mightDrag={node:T,pos:A,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),x.root.addEventListener("mouseup",this.up=this.up.bind(this)),x.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(x,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(x){if(this.done(),!this.view.dom.contains(x.target))return;let y=this.pos;this.view.state.doc!=this.startDoc&&(y=this.view.posAtCoords(eventCoords(x))),this.updateAllowDefault(x),this.allowDefault||!y?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,y.pos,y.inside,x,this.selectNode)?x.preventDefault():x.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome$1&&!this.view.state.selection.visible&&Math.min(Math.abs(y.pos-this.view.state.selection.from),Math.abs(y.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(y.pos))),x.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(x){this.updateAllowDefault(x),setSelectionOrigin(this.view,"pointer"),x.buttons==0&&this.done()}updateAllowDefault(x){!this.allowDefault&&(Math.abs(this.event.x-x.clientX)>4||Math.abs(this.event.y-x.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=r=>{r.input.lastTouch=Date.now(),forceDOMFlush(r),setSelectionOrigin(r,"pointer")};handlers.touchmove=r=>{r.input.lastTouch=Date.now(),setSelectionOrigin(r,"pointer")};handlers.contextmenu=r=>forceDOMFlush(r);function inOrNearComposition(r,x){return r.composing?!0:safari&&Math.abs(x.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:x}=r,y=x.selection.$to;if(x.selection instanceof TextSelection&&(x.storedMarks||!y.textOffset&&y.parentOffset&&y.nodeBefore.marks.some(b=>b.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||y.marks(),endComposition(r,!0),r.markCursor=null;else if(endComposition(r,!x.selection.empty),gecko&&x.selection.empty&&y.parentOffset&&!y.textOffset&&y.nodeBefore.marks.length){let b=r.domSelectionRange();for(let R=b.focusNode,T=b.focusOffset;R&&R.nodeType==1&&T!=0;){let A=T<0?R.lastChild:R.childNodes[T-1];if(!A)break;if(A.nodeType==3){let O=r.domSelection();O&&O.collapse(A,A.nodeValue.length);break}else R=A,T=-1}}r.input.composing=!0}scheduleComposeEnd(r,timeoutComposition)};editHandlers.compositionend=(r,x)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=x.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,scheduleComposeEnd(r,20))};function scheduleComposeEnd(r,x){clearTimeout(r.input.composingTimeout),x>-1&&(r.input.composingTimeout=setTimeout(()=>endComposition(r),x))}function clearComposition(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=timestampFromCustomEvent());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(r){let x=r.domSelectionRange();if(!x.focusNode)return null;let y=textNodeBefore$1(x.focusNode,x.focusOffset),b=textNodeAfter$1(x.focusNode,x.focusOffset);if(y&&b&&y!=b){let R=b.pmViewDesc,T=r.domObserver.lastChangedTextNode;if(y==T||b==T)return T;if(!R||!R.isText(b.nodeValue))return b;if(r.input.compositionNode==b){let A=y.pmViewDesc;if(!(!A||!A.isText(y.nodeValue)))return b}}return y||b}function timestampFromCustomEvent(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function endComposition(r,x=!1){if(!(android&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),clearComposition(r),x||r.docView&&r.docView.dirty){let y=selectionFromDOM(r),b=r.state.selection;return y&&!y.eq(b)?r.dispatch(r.state.tr.setSelection(y)):(r.markCursor||x)&&!b.$from.node(b.$from.sharedDepth(b.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function captureCopy(r,x){if(!r.dom.parentNode)return;let y=r.dom.parentNode.appendChild(document.createElement("div"));y.appendChild(x),y.style.cssText="position: fixed; left: -10000px; top: 10px";let b=getSelection(),R=document.createRange();R.selectNodeContents(x),r.dom.blur(),b.removeAllRanges(),b.addRange(R),setTimeout(()=>{y.parentNode&&y.parentNode.removeChild(y),r.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(r,x)=>{let y=x,b=r.state.selection,R=y.type=="cut";if(b.empty)return;let T=brokenClipboardAPI?null:y.clipboardData,A=b.content(),{dom:O,text:B}=serializeForClipboard(r,A);T?(y.preventDefault(),T.clearData(),T.setData("text/html",O.innerHTML),T.setData("text/plain",B)):captureCopy(r,O),R&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function capturePaste(r,x){if(!r.dom.parentNode)return;let y=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,b=r.dom.parentNode.appendChild(document.createElement(y?"textarea":"div"));y||(b.contentEditable="true"),b.style.cssText="position: fixed; left: -10000px; top: 10px",b.focus();let R=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),b.parentNode&&b.parentNode.removeChild(b),y?doPaste(r,b.value,null,R,x):doPaste(r,b.textContent,b.innerHTML,R,x)},50)}function doPaste(r,x,y,b,R){let T=parseFromClipboard(r,x,y,b,r.state.selection.$from);if(r.someProp("handlePaste",B=>B(r,R,T||Slice.empty)))return!0;if(!T)return!1;let A=sliceSingleNode(T),O=A?r.state.tr.replaceSelectionWith(A,b):r.state.tr.replaceSelection(T);return r.dispatch(O.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(r){let x=r.getData("text/plain")||r.getData("Text");if(x)return x;let y=r.getData("text/uri-list");return y?y.replace(/\r?\n/g," "):""}editHandlers.paste=(r,x)=>{let y=x;if(r.composing&&!android)return;let b=brokenClipboardAPI?null:y.clipboardData,R=r.input.shiftKey&&r.input.lastKeyCode!=45;b&&doPaste(r,getText$1(b),b.getData("text/html"),R,y)?y.preventDefault():capturePaste(r,y)};class Dragging{constructor(x,y,b){this.slice=x,this.move=y,this.node=b}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(r,x){let y=r.someProp("dragCopies",b=>!b(x));return y??!x[dragCopyModifier]}handlers.dragstart=(r,x)=>{let y=x,b=r.input.mouseDown;if(b&&b.done(),!y.dataTransfer)return;let R=r.state.selection,T=R.empty?null:r.posAtCoords(eventCoords(y)),A;if(!(T&&T.pos>=R.from&&T.pos<=(R instanceof NodeSelection?R.to-1:R.to))){if(b&&b.mightDrag)A=NodeSelection.create(r.state.doc,b.mightDrag.pos);else if(y.target&&y.target.nodeType==1){let J=r.docView.nearestDesc(y.target,!0);J&&J.node.type.spec.draggable&&J!=r.docView&&(A=NodeSelection.create(r.state.doc,J.posBefore))}}let O=(A||r.state.selection).content(),{dom:B,text:U,slice:K}=serializeForClipboard(r,O);(!y.dataTransfer.files.length||!chrome$1||chrome_version>120)&&y.dataTransfer.clearData(),y.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",B.innerHTML),y.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||y.dataTransfer.setData("text/plain",U),r.dragging=new Dragging(K,dragMoves(r,y),A)};handlers.dragend=r=>{let x=r.dragging;window.setTimeout(()=>{r.dragging==x&&(r.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(r,x)=>x.preventDefault();editHandlers.drop=(r,x)=>{let y=x,b=r.dragging;if(r.dragging=null,!y.dataTransfer)return;let R=r.posAtCoords(eventCoords(y));if(!R)return;let T=r.state.doc.resolve(R.pos),A=b&&b.slice;A?r.someProp("transformPasted",ue=>{A=ue(A,r,!1)}):A=parseFromClipboard(r,getText$1(y.dataTransfer),brokenClipboardAPI?null:y.dataTransfer.getData("text/html"),!1,T);let O=!!(b&&dragMoves(r,y));if(r.someProp("handleDrop",ue=>ue(r,y,A||Slice.empty,O))){y.preventDefault();return}if(!A)return;y.preventDefault();let B=A?dropPoint(r.state.doc,T.pos,A):T.pos;B==null&&(B=T.pos);let U=r.state.tr;if(O){let{node:ue}=b;ue?ue.replace(U):U.deleteSelection()}let K=U.mapping.map(B),J=A.openStart==0&&A.openEnd==0&&A.content.childCount==1,te=U.doc;if(J?U.replaceRangeWith(K,K,A.content.firstChild):U.replaceRange(K,K,A),U.doc.eq(te))return;let ae=U.doc.resolve(K);if(J&&NodeSelection.isSelectable(A.content.firstChild)&&ae.nodeAfter&&ae.nodeAfter.sameMarkup(A.content.firstChild))U.setSelection(new NodeSelection(ae));else{let ue=U.mapping.map(B);U.mapping.maps[U.mapping.maps.length-1].forEach((pe,$e,Ne,Be)=>ue=Be),U.setSelection(selectionBetween(r,ae,U.doc.resolve(ue)))}r.focus(),r.dispatch(U.setMeta("uiEvent","drop"))};handlers.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&selectionToDOM(r)},20))};handlers.blur=(r,x)=>{let y=x;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),y.relatedTarget&&r.dom.contains(y.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};handlers.beforeinput=(r,x)=>{if(chrome$1&&android&&x.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:b}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=b||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",T=>T(r,keyEvent(8,"Backspace")))))return;let{$cursor:R}=r.state.selection;R&&R.pos>0&&r.dispatch(r.state.tr.delete(R.pos-1,R.pos).scrollIntoView())},50)}};for(let r in editHandlers)handlers[r]=editHandlers[r];function compareObjs(r,x){if(r==x)return!0;for(let y in r)if(r[y]!==x[y])return!1;for(let y in x)if(!(y in r))return!1;return!0}class WidgetType{constructor(x,y){this.toDOM=x,this.spec=y||noSpec,this.side=this.spec.side||0}map(x,y,b,R){let{pos:T,deleted:A}=x.mapResult(y.from+R,this.side<0?-1:1);return A?null:new Decoration(T-b,T-b,this)}valid(){return!0}eq(x){return this==x||x instanceof WidgetType&&(this.spec.key&&this.spec.key==x.spec.key||this.toDOM==x.toDOM&&compareObjs(this.spec,x.spec))}destroy(x){this.spec.destroy&&this.spec.destroy(x)}}class InlineType{constructor(x,y){this.attrs=x,this.spec=y||noSpec}map(x,y,b,R){let T=x.map(y.from+R,this.spec.inclusiveStart?-1:1)-b,A=x.map(y.to+R,this.spec.inclusiveEnd?1:-1)-b;return T>=A?null:new Decoration(T,A,this)}valid(x,y){return y.from<y.to}eq(x){return this==x||x instanceof InlineType&&compareObjs(this.attrs,x.attrs)&&compareObjs(this.spec,x.spec)}static is(x){return x.type instanceof InlineType}destroy(){}}class NodeType{constructor(x,y){this.attrs=x,this.spec=y||noSpec}map(x,y,b,R){let T=x.mapResult(y.from+R,1);if(T.deleted)return null;let A=x.mapResult(y.to+R,-1);return A.deleted||A.pos<=T.pos?null:new Decoration(T.pos-b,A.pos-b,this)}valid(x,y){let{index:b,offset:R}=x.content.findIndex(y.from),T;return R==y.from&&!(T=x.child(b)).isText&&R+T.nodeSize==y.to}eq(x){return this==x||x instanceof NodeType&&compareObjs(this.attrs,x.attrs)&&compareObjs(this.spec,x.spec)}destroy(){}}class Decoration{constructor(x,y,b){this.from=x,this.to=y,this.type=b}copy(x,y){return new Decoration(x,y,this.type)}eq(x,y=0){return this.type.eq(x.type)&&this.from+y==x.from&&this.to+y==x.to}map(x,y,b){return this.type.map(x,this,y,b)}static widget(x,y,b){return new Decoration(x,x,new WidgetType(y,b))}static inline(x,y,b,R){return new Decoration(x,y,new InlineType(b,R))}static node(x,y,b,R){return new Decoration(x,y,new NodeType(b,R))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(x,y){this.local=x.length?x:none,this.children=y.length?y:none}static create(x,y){return y.length?buildTree(y,x,0,noSpec):empty}find(x,y,b){let R=[];return this.findInner(x??0,y??1e9,R,0,b),R}findInner(x,y,b,R,T){for(let A=0;A<this.local.length;A++){let O=this.local[A];O.from<=y&&O.to>=x&&(!T||T(O.spec))&&b.push(O.copy(O.from+R,O.to+R))}for(let A=0;A<this.children.length;A+=3)if(this.children[A]<y&&this.children[A+1]>x){let O=this.children[A]+1;this.children[A+2].findInner(x-O,y-O,b,R+O,T)}}map(x,y,b){return this==empty||x.maps.length==0?this:this.mapInner(x,y,0,0,b||noSpec)}mapInner(x,y,b,R,T){let A;for(let O=0;O<this.local.length;O++){let B=this.local[O].map(x,b,R);B&&B.type.valid(y,B)?(A||(A=[])).push(B):T.onRemove&&T.onRemove(this.local[O].spec)}return this.children.length?mapChildren(this.children,A||[],x,y,b,R,T):A?new DecorationSet(A.sort(byPos),none):empty}add(x,y){return y.length?this==empty?DecorationSet.create(x,y):this.addInner(x,y,0):this}addInner(x,y,b){let R,T=0;x.forEach((O,B)=>{let U=B+b,K;if(K=takeSpansForNode(y,O,U)){for(R||(R=this.children.slice());T<R.length&&R[T]<B;)T+=3;R[T]==B?R[T+2]=R[T+2].addInner(O,K,U+1):R.splice(T,0,B,B+O.nodeSize,buildTree(K,O,U+1,noSpec)),T+=3}});let A=moveSpans(T?withoutNulls(y):y,-b);for(let O=0;O<A.length;O++)A[O].type.valid(x,A[O])||A.splice(O--,1);return new DecorationSet(A.length?this.local.concat(A).sort(byPos):this.local,R||this.children)}remove(x){return x.length==0||this==empty?this:this.removeInner(x,0)}removeInner(x,y){let b=this.children,R=this.local;for(let T=0;T<b.length;T+=3){let A,O=b[T]+y,B=b[T+1]+y;for(let K=0,J;K<x.length;K++)(J=x[K])&&J.from>O&&J.to<B&&(x[K]=null,(A||(A=[])).push(J));if(!A)continue;b==this.children&&(b=this.children.slice());let U=b[T+2].removeInner(A,O+1);U!=empty?b[T+2]=U:(b.splice(T,3),T-=3)}if(R.length){for(let T=0,A;T<x.length;T++)if(A=x[T])for(let O=0;O<R.length;O++)R[O].eq(A,y)&&(R==this.local&&(R=this.local.slice()),R.splice(O--,1))}return b==this.children&&R==this.local?this:R.length||b.length?new DecorationSet(R,b):empty}forChild(x,y){if(this==empty)return this;if(y.isLeaf)return DecorationSet.empty;let b,R;for(let O=0;O<this.children.length;O+=3)if(this.children[O]>=x){this.children[O]==x&&(b=this.children[O+2]);break}let T=x+1,A=T+y.content.size;for(let O=0;O<this.local.length;O++){let B=this.local[O];if(B.from<A&&B.to>T&&B.type instanceof InlineType){let U=Math.max(T,B.from)-T,K=Math.min(A,B.to)-T;U<K&&(R||(R=[])).push(B.copy(U,K))}}if(R){let O=new DecorationSet(R.sort(byPos),none);return b?new DecorationGroup([O,b]):O}return b||empty}eq(x){if(this==x)return!0;if(!(x instanceof DecorationSet)||this.local.length!=x.local.length||this.children.length!=x.children.length)return!1;for(let y=0;y<this.local.length;y++)if(!this.local[y].eq(x.local[y]))return!1;for(let y=0;y<this.children.length;y+=3)if(this.children[y]!=x.children[y]||this.children[y+1]!=x.children[y+1]||!this.children[y+2].eq(x.children[y+2]))return!1;return!0}locals(x){return removeOverlap(this.localsInner(x))}localsInner(x){if(this==empty)return none;if(x.inlineContent||!this.local.some(InlineType.is))return this.local;let y=[];for(let b=0;b<this.local.length;b++)this.local[b].type instanceof InlineType||y.push(this.local[b]);return y}forEachSet(x){x(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(x){this.members=x}map(x,y){const b=this.members.map(R=>R.map(x,y,noSpec));return DecorationGroup.from(b)}forChild(x,y){if(y.isLeaf)return DecorationSet.empty;let b=[];for(let R=0;R<this.members.length;R++){let T=this.members[R].forChild(x,y);T!=empty&&(T instanceof DecorationGroup?b=b.concat(T.members):b.push(T))}return DecorationGroup.from(b)}eq(x){if(!(x instanceof DecorationGroup)||x.members.length!=this.members.length)return!1;for(let y=0;y<this.members.length;y++)if(!this.members[y].eq(x.members[y]))return!1;return!0}locals(x){let y,b=!0;for(let R=0;R<this.members.length;R++){let T=this.members[R].localsInner(x);if(T.length)if(!y)y=T;else{b&&(y=y.slice(),b=!1);for(let A=0;A<T.length;A++)y.push(T[A])}}return y?removeOverlap(b?y:y.sort(byPos)):none}static from(x){switch(x.length){case 0:return empty;case 1:return x[0];default:return new DecorationGroup(x.every(y=>y instanceof DecorationSet)?x:x.reduce((y,b)=>y.concat(b instanceof DecorationSet?b:b.members),[]))}}forEachSet(x){for(let y=0;y<this.members.length;y++)this.members[y].forEachSet(x)}}function mapChildren(r,x,y,b,R,T,A){let O=r.slice();for(let U=0,K=T;U<y.maps.length;U++){let J=0;y.maps[U].forEach((te,ae,ue,pe)=>{let $e=pe-ue-(ae-te);for(let Ne=0;Ne<O.length;Ne+=3){let Be=O[Ne+1];if(Be<0||te>Be+K-J)continue;let _e=O[Ne]+K-J;ae>=_e?O[Ne+1]=te<=_e?-2:-1:te>=K&&$e&&(O[Ne]+=$e,O[Ne+1]+=$e)}J+=$e}),K=y.maps[U].map(K,-1)}let B=!1;for(let U=0;U<O.length;U+=3)if(O[U+1]<0){if(O[U+1]==-2){B=!0,O[U+1]=-1;continue}let K=y.map(r[U]+T),J=K-R;if(J<0||J>=b.content.size){B=!0;continue}let te=y.map(r[U+1]+T,-1),ae=te-R,{index:ue,offset:pe}=b.content.findIndex(J),$e=b.maybeChild(ue);if($e&&pe==J&&pe+$e.nodeSize==ae){let Ne=O[U+2].mapInner(y,$e,K+1,r[U]+T+1,A);Ne!=empty?(O[U]=J,O[U+1]=ae,O[U+2]=Ne):(O[U+1]=-2,B=!0)}else B=!0}if(B){let U=mapAndGatherRemainingDecorations(O,r,x,y,R,T,A),K=buildTree(U,b,0,A);x=K.local;for(let J=0;J<O.length;J+=3)O[J+1]<0&&(O.splice(J,3),J-=3);for(let J=0,te=0;J<K.children.length;J+=3){let ae=K.children[J];for(;te<O.length&&O[te]<ae;)te+=3;O.splice(te,0,K.children[J],K.children[J+1],K.children[J+2])}}return new DecorationSet(x.sort(byPos),O)}function moveSpans(r,x){if(!x||!r.length)return r;let y=[];for(let b=0;b<r.length;b++){let R=r[b];y.push(new Decoration(R.from+x,R.to+x,R.type))}return y}function mapAndGatherRemainingDecorations(r,x,y,b,R,T,A){function O(B,U){for(let K=0;K<B.local.length;K++){let J=B.local[K].map(b,R,U);J?y.push(J):A.onRemove&&A.onRemove(B.local[K].spec)}for(let K=0;K<B.children.length;K+=3)O(B.children[K+2],B.children[K]+U+1)}for(let B=0;B<r.length;B+=3)r[B+1]==-1&&O(r[B+2],x[B]+T+1);return y}function takeSpansForNode(r,x,y){if(x.isLeaf)return null;let b=y+x.nodeSize,R=null;for(let T=0,A;T<r.length;T++)(A=r[T])&&A.from>y&&A.to<b&&((R||(R=[])).push(A),r[T]=null);return R}function withoutNulls(r){let x=[];for(let y=0;y<r.length;y++)r[y]!=null&&x.push(r[y]);return x}function buildTree(r,x,y,b){let R=[],T=!1;x.forEach((O,B)=>{let U=takeSpansForNode(r,O,B+y);if(U){T=!0;let K=buildTree(U,O,y+B+1,b);K!=empty&&R.push(B,B+O.nodeSize,K)}});let A=moveSpans(T?withoutNulls(r):r,-y).sort(byPos);for(let O=0;O<A.length;O++)A[O].type.valid(x,A[O])||(b.onRemove&&b.onRemove(A[O].spec),A.splice(O--,1));return A.length||R.length?new DecorationSet(A,R):empty}function byPos(r,x){return r.from-x.from||r.to-x.to}function removeOverlap(r){let x=r;for(let y=0;y<x.length-1;y++){let b=x[y];if(b.from!=b.to)for(let R=y+1;R<x.length;R++){let T=x[R];if(T.from==b.from){T.to!=b.to&&(x==r&&(x=r.slice()),x[R]=T.copy(T.from,b.to),insertAhead(x,R+1,T.copy(b.to,T.to)));continue}else{T.from<b.to&&(x==r&&(x=r.slice()),x[y]=b.copy(b.from,T.from),insertAhead(x,R,b.copy(T.from,b.to)));break}}}return x}function insertAhead(r,x,y){for(;x<r.length&&byPos(y,r[x])>0;)x++;r.splice(x,0,y)}function viewDecorations(r){let x=[];return r.someProp("decorations",y=>{let b=y(r.state);b&&b!=empty&&x.push(b)}),r.cursorWrapper&&x.push(DecorationSet.create(r.state.doc,[r.cursorWrapper.deco])),DecorationGroup.from(x)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(x){this.anchorNode=x.anchorNode,this.anchorOffset=x.anchorOffset,this.focusNode=x.focusNode,this.focusOffset=x.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(x){return x.anchorNode==this.anchorNode&&x.anchorOffset==this.anchorOffset&&x.focusNode==this.focusNode&&x.focusOffset==this.focusOffset}}class DOMObserver{constructor(x,y){this.view=x,this.handleDOMChange=y,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(b=>{for(let R=0;R<b.length;R++)this.queue.push(b[R]);ie$1&&ie_version<=11&&b.some(R=>R.type=="childList"&&R.removedNodes.length||R.type=="characterData"&&R.oldValue.length>R.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=b=>{this.queue.push({target:b.target,type:"characterData",oldValue:b.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let x=this.observer.takeRecords();if(x.length){for(let y=0;y<x.length;y++)this.queue.push(x[y]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let x=this.view.domSelectionRange();if(x.focusNode&&isEquivalentPosition(x.focusNode,x.focusOffset,x.anchorNode,x.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(x){if(!x.focusNode)return!0;let y=new Set,b;for(let T=x.focusNode;T;T=parentNode(T))y.add(T);for(let T=x.anchorNode;T;T=parentNode(T))if(y.has(T)){b=T;break}let R=b&&this.view.docView.nearestDesc(b);if(R&&R.ignoreMutation({type:"selection",target:b.nodeType==3?b.parentNode:b}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let x of this.observer.takeRecords())this.queue.push(x);return this.queue}flush(){let{view:x}=this;if(!x.docView||this.flushingSoon>-1)return;let y=this.pendingRecords();y.length&&(this.queue=[]);let b=x.domSelectionRange(),R=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(b)&&hasFocusAndSelection(x)&&!this.ignoreSelectionChange(b),T=-1,A=-1,O=!1,B=[];if(x.editable)for(let K=0;K<y.length;K++){let J=this.registerMutation(y[K],B);J&&(T=T<0?J.from:Math.min(J.from,T),A=A<0?J.to:Math.max(J.to,A),J.typeOver&&(O=!0))}if(gecko&&B.length){let K=B.filter(J=>J.nodeName=="BR");if(K.length==2){let[J,te]=K;J.parentNode&&J.parentNode.parentNode==te.parentNode?te.remove():J.remove()}else{let{focusNode:J}=this.currentSelection;for(let te of K){let ae=te.parentNode;ae&&ae.nodeName=="LI"&&(!J||blockParent(x,J)!=ae)&&te.remove()}}}let U=null;T<0&&R&&x.input.lastFocus>Date.now()-200&&Math.max(x.input.lastTouch,x.input.lastClick.time)<Date.now()-300&&selectionCollapsed(b)&&(U=selectionFromDOM(x))&&U.eq(Selection.near(x.state.doc.resolve(0),1))?(x.input.lastFocus=0,selectionToDOM(x),this.currentSelection.set(b),x.scrollToSelection()):(T>-1||R)&&(T>-1&&(x.docView.markDirty(T,A),checkCSS(x)),this.handleDOMChange(T,A,O,B),x.docView&&x.docView.dirty?x.updateState(x.state):this.currentSelection.eq(b)||selectionToDOM(x),this.currentSelection.set(b))}registerMutation(x,y){if(y.indexOf(x.target)>-1)return null;let b=this.view.docView.nearestDesc(x.target);if(x.type=="attributes"&&(b==this.view.docView||x.attributeName=="contenteditable"||x.attributeName=="style"&&!x.oldValue&&!x.target.getAttribute("style"))||!b||b.ignoreMutation(x))return null;if(x.type=="childList"){for(let K=0;K<x.addedNodes.length;K++){let J=x.addedNodes[K];y.push(J),J.nodeType==3&&(this.lastChangedTextNode=J)}if(b.contentDOM&&b.contentDOM!=b.dom&&!b.contentDOM.contains(x.target))return{from:b.posBefore,to:b.posAfter};let R=x.previousSibling,T=x.nextSibling;if(ie$1&&ie_version<=11&&x.addedNodes.length)for(let K=0;K<x.addedNodes.length;K++){let{previousSibling:J,nextSibling:te}=x.addedNodes[K];(!J||Array.prototype.indexOf.call(x.addedNodes,J)<0)&&(R=J),(!te||Array.prototype.indexOf.call(x.addedNodes,te)<0)&&(T=te)}let A=R&&R.parentNode==x.target?domIndex(R)+1:0,O=b.localPosFromDOM(x.target,A,-1),B=T&&T.parentNode==x.target?domIndex(T):x.target.childNodes.length,U=b.localPosFromDOM(x.target,B,1);return{from:O,to:U}}else return x.type=="attributes"?{from:b.posAtStart-b.border,to:b.posAtEnd+b.border}:(this.lastChangedTextNode=x.target,{from:b.posAtStart,to:b.posAtEnd,typeOver:x.target.nodeValue==x.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(r){if(!cssChecked.has(r)&&(cssChecked.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(r,x){let y=x.startContainer,b=x.startOffset,R=x.endContainer,T=x.endOffset,A=r.domAtPos(r.state.selection.anchor);return isEquivalentPosition(A.node,A.offset,R,T)&&([y,b,R,T]=[R,T,y,b]),{anchorNode:y,anchorOffset:b,focusNode:R,focusOffset:T}}function safariShadowSelectionRange(r,x){if(x.getComposedRanges){let R=x.getComposedRanges(r.root)[0];if(R)return rangeToSelectionRange(r,R)}let y;function b(R){R.preventDefault(),R.stopImmediatePropagation(),y=R.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",b,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",b,!0),y?rangeToSelectionRange(r,y):null}function blockParent(r,x){for(let y=x.parentNode;y&&y!=r.dom;y=y.parentNode){let b=r.docView.nearestDesc(y,!0);if(b&&b.node.isBlock)return y}return null}function parseBetween(r,x,y){let{node:b,fromOffset:R,toOffset:T,from:A,to:O}=r.docView.parseRange(x,y),B=r.domSelectionRange(),U,K=B.anchorNode;if(K&&r.dom.contains(K.nodeType==1?K:K.parentNode)&&(U=[{node:K,offset:B.anchorOffset}],selectionCollapsed(B)||U.push({node:B.focusNode,offset:B.focusOffset})),chrome$1&&r.input.lastKeyCode===8)for(let $e=T;$e>R;$e--){let Ne=b.childNodes[$e-1],Be=Ne.pmViewDesc;if(Ne.nodeName=="BR"&&!Be){T=$e;break}if(!Be||Be.size)break}let J=r.state.doc,te=r.someProp("domParser")||DOMParser.fromSchema(r.state.schema),ae=J.resolve(A),ue=null,pe=te.parse(b,{topNode:ae.parent,topMatch:ae.parent.contentMatchAt(ae.index()),topOpen:!0,from:R,to:T,preserveWhitespace:ae.parent.type.whitespace=="pre"?"full":!0,findPositions:U,ruleFromNode,context:ae});if(U&&U[0].pos!=null){let $e=U[0].pos,Ne=U[1]&&U[1].pos;Ne==null&&(Ne=$e),ue={anchor:$e+A,head:Ne+A}}return{doc:pe,sel:ue,from:A,to:O}}function ruleFromNode(r){let x=r.pmViewDesc;if(x)return x.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(safari&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let y=document.createElement("div");return y.appendChild(document.createElement("li")),{skip:y}}else if(r.parentNode.lastChild==r||safari&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(r,x,y,b,R){let T=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,x<0){let He=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,qe=selectionFromDOM(r,He);if(qe&&!r.state.selection.eq(qe)){if(chrome$1&&android&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",lt=>lt(r,keyEvent(13,"Enter"))))return;let Qe=r.state.tr.setSelection(qe);He=="pointer"?Qe.setMeta("pointer",!0):He=="key"&&Qe.scrollIntoView(),T&&Qe.setMeta("composition",T),r.dispatch(Qe)}return}let A=r.state.doc.resolve(x),O=A.sharedDepth(y);x=A.before(O+1),y=r.state.doc.resolve(y).after(O+1);let B=r.state.selection,U=parseBetween(r,x,y),K=r.state.doc,J=K.slice(U.from,U.to),te,ae;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(te=r.state.selection.to,ae="end"):(te=r.state.selection.from,ae="start"),r.input.lastKeyCode=null;let ue=findDiff(J.content,U.doc.content,U.from,te,ae);if(ue&&r.input.domChangeCount++,(ios&&r.input.lastIOSEnter>Date.now()-225||android)&&R.some(He=>He.nodeType==1&&!isInline.test(He.nodeName))&&(!ue||ue.endA>=ue.endB)&&r.someProp("handleKeyDown",He=>He(r,keyEvent(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!ue)if(b&&B instanceof TextSelection&&!B.empty&&B.$head.sameParent(B.$anchor)&&!r.composing&&!(U.sel&&U.sel.anchor!=U.sel.head))ue={start:B.from,endA:B.to,endB:B.to};else{if(U.sel){let He=resolveSelection(r,r.state.doc,U.sel);if(He&&!He.eq(r.state.selection)){let qe=r.state.tr.setSelection(He);T&&qe.setMeta("composition",T),r.dispatch(qe)}}return}r.state.selection.from<r.state.selection.to&&ue.start==ue.endB&&r.state.selection instanceof TextSelection&&(ue.start>r.state.selection.from&&ue.start<=r.state.selection.from+2&&r.state.selection.from>=U.from?ue.start=r.state.selection.from:ue.endA<r.state.selection.to&&ue.endA>=r.state.selection.to-2&&r.state.selection.to<=U.to&&(ue.endB+=r.state.selection.to-ue.endA,ue.endA=r.state.selection.to)),ie$1&&ie_version<=11&&ue.endB==ue.start+1&&ue.endA==ue.start&&ue.start>U.from&&U.doc.textBetween(ue.start-U.from-1,ue.start-U.from+1)==" "&&(ue.start--,ue.endA--,ue.endB--);let pe=U.doc.resolveNoCache(ue.start-U.from),$e=U.doc.resolveNoCache(ue.endB-U.from),Ne=K.resolve(ue.start),Be=pe.sameParent($e)&&pe.parent.inlineContent&&Ne.end()>=ue.endA;if((ios&&r.input.lastIOSEnter>Date.now()-225&&(!Be||R.some(He=>He.nodeName=="DIV"||He.nodeName=="P"))||!Be&&pe.pos<U.doc.content.size&&(!pe.sameParent($e)||!pe.parent.inlineContent)&&pe.pos<$e.pos&&!/\S/.test(U.doc.textBetween(pe.pos,$e.pos,"","")))&&r.someProp("handleKeyDown",He=>He(r,keyEvent(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>ue.start&&looksLikeBackspace(K,ue.start,ue.endA,pe,$e)&&r.someProp("handleKeyDown",He=>He(r,keyEvent(8,"Backspace")))){android&&chrome$1&&r.domObserver.suppressSelectionUpdates();return}chrome$1&&ue.endB==ue.start&&(r.input.lastChromeDelete=Date.now()),android&&!Be&&pe.start()!=$e.start()&&$e.parentOffset==0&&pe.depth==$e.depth&&U.sel&&U.sel.anchor==U.sel.head&&U.sel.head==ue.endA&&(ue.endB-=2,$e=U.doc.resolveNoCache(ue.endB-U.from),setTimeout(()=>{r.someProp("handleKeyDown",function(He){return He(r,keyEvent(13,"Enter"))})},20));let _e=ue.start,xe=ue.endA,Le=He=>{let qe=He||r.state.tr.replace(_e,xe,U.doc.slice(ue.start-U.from,ue.endB-U.from));if(U.sel){let Qe=resolveSelection(r,qe.doc,U.sel);Qe&&!(chrome$1&&r.composing&&Qe.empty&&(ue.start!=ue.endB||r.input.lastChromeDelete<Date.now()-100)&&(Qe.head==_e||Qe.head==qe.mapping.map(xe)-1)||ie$1&&Qe.empty&&Qe.head==_e)&&qe.setSelection(Qe)}return T&&qe.setMeta("composition",T),qe.scrollIntoView()},Ue;if(Be)if(pe.pos==$e.pos){ie$1&&ie_version<=11&&pe.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(r),20));let He=Le(r.state.tr.delete(_e,xe)),qe=K.resolve(ue.start).marksAcross(K.resolve(ue.endA));qe&&He.ensureMarks(qe),r.dispatch(He)}else if(ue.endA==ue.endB&&(Ue=isMarkChange(pe.parent.content.cut(pe.parentOffset,$e.parentOffset),Ne.parent.content.cut(Ne.parentOffset,ue.endA-Ne.start())))){let He=Le(r.state.tr);Ue.type=="add"?He.addMark(_e,xe,Ue.mark):He.removeMark(_e,xe,Ue.mark),r.dispatch(He)}else if(pe.parent.child(pe.index()).isText&&pe.index()==$e.index()-($e.textOffset?0:1)){let He=pe.parent.textBetween(pe.parentOffset,$e.parentOffset),qe=()=>Le(r.state.tr.insertText(He,_e,xe));r.someProp("handleTextInput",Qe=>Qe(r,_e,xe,He,qe))||r.dispatch(qe())}else r.dispatch(Le());else r.dispatch(Le())}function resolveSelection(r,x,y){return Math.max(y.anchor,y.head)>x.content.size?null:selectionBetween(r,x.resolve(y.anchor),x.resolve(y.head))}function isMarkChange(r,x){let y=r.firstChild.marks,b=x.firstChild.marks,R=y,T=b,A,O,B;for(let K=0;K<b.length;K++)R=b[K].removeFromSet(R);for(let K=0;K<y.length;K++)T=y[K].removeFromSet(T);if(R.length==1&&T.length==0)O=R[0],A="add",B=K=>K.mark(O.addToSet(K.marks));else if(R.length==0&&T.length==1)O=T[0],A="remove",B=K=>K.mark(O.removeFromSet(K.marks));else return null;let U=[];for(let K=0;K<x.childCount;K++)U.push(B(x.child(K)));if(Fragment.from(U).eq(r))return{mark:O,type:A}}function looksLikeBackspace(r,x,y,b,R){if(y-x<=R.pos-b.pos||skipClosingAndOpening(b,!0,!1)<R.pos)return!1;let T=r.resolve(x);if(!b.parent.isTextblock){let O=T.nodeAfter;return O!=null&&y==x+O.nodeSize}if(T.parentOffset<T.parent.content.size||!T.parent.isTextblock)return!1;let A=r.resolve(skipClosingAndOpening(T,!0,!0));return!A.parent.isTextblock||A.pos>y||skipClosingAndOpening(A,!0,!1)<y?!1:b.parent.content.cut(b.parentOffset).eq(A.parent.content)}function skipClosingAndOpening(r,x,y){let b=r.depth,R=x?r.end():r.pos;for(;b>0&&(x||r.indexAfter(b)==r.node(b).childCount);)b--,R++,x=!1;if(y){let T=r.node(b).maybeChild(r.indexAfter(b));for(;T&&!T.isLeaf;)T=T.firstChild,R++}return R}function findDiff(r,x,y,b,R){let T=r.findDiffStart(x,y);if(T==null)return null;let{a:A,b:O}=r.findDiffEnd(x,y+r.size,y+x.size);if(R=="end"){let B=Math.max(0,T-Math.min(A,O));b-=A+B-T}if(A<T&&r.size<x.size){let B=b<=T&&b>=A?T-b:0;T-=B,T&&T<x.size&&isSurrogatePair(x.textBetween(T-1,T+1))&&(T+=B?1:-1),O=T+(O-A),A=T}else if(O<T){let B=b<=T&&b>=O?T-b:0;T-=B,T&&T<r.size&&isSurrogatePair(r.textBetween(T-1,T+1))&&(T+=B?1:-1),A=T+(A-O),O=T}return{start:T,endA:A,endB:O}}function isSurrogatePair(r){if(r.length!=2)return!1;let x=r.charCodeAt(0),y=r.charCodeAt(1);return x>=56320&&x<=57343&&y>=55296&&y<=56319}class EditorView{constructor(x,y){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=y,this.state=y.state,this.directPlugins=y.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=x&&x.mount||document.createElement("div"),x&&(x.appendChild?x.appendChild(this.dom):typeof x=="function"?x(this.dom):x.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(b,R,T,A)=>readDOMChange(this,b,R,T,A)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let x=this._props;this._props={};for(let y in x)this._props[y]=x[y];this._props.state=this.state}return this._props}update(x){x.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let y=this._props;this._props=x,x.plugins&&(x.plugins.forEach(checkStateComponent),this.directPlugins=x.plugins),this.updateStateInner(x.state,y)}setProps(x){let y={};for(let b in this._props)y[b]=this._props[b];y.state=this.state;for(let b in x)y[b]=x[b];this.update(y)}updateState(x){this.updateStateInner(x,this._props)}updateStateInner(x,y){var b;let R=this.state,T=!1,A=!1;x.storedMarks&&this.composing&&(clearComposition(this),A=!0),this.state=x;let O=R.plugins!=x.plugins||this._props.plugins!=y.plugins;if(O||this._props.plugins!=y.plugins||this._props.nodeViews!=y.nodeViews){let ae=buildNodeViews(this);changedNodeViews(ae,this.nodeViews)&&(this.nodeViews=ae,T=!0)}(O||y.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let B=viewDecorations(this),U=computeDocDeco(this),K=R.plugins!=x.plugins&&!R.doc.eq(x.doc)?"reset":x.scrollToSelection>R.scrollToSelection?"to selection":"preserve",J=T||!this.docView.matchesNode(x.doc,U,B);(J||!x.selection.eq(R.selection))&&(A=!0);let te=K=="preserve"&&A&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(A){this.domObserver.stop();let ae=J&&(ie$1||chrome$1)&&!this.composing&&!R.selection.empty&&!x.selection.empty&&selectionContextChanged(R.selection,x.selection);if(J){let ue=chrome$1?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(T||!this.docView.update(x.doc,U,B,this))&&(this.docView.updateOuterDeco(U),this.docView.destroy(),this.docView=docViewDesc(x.doc,U,B,this.dom,this)),ue&&!this.trackWrites&&(ae=!0)}ae||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,ae):(syncNodeSelection(this,x.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(R),!((b=this.dragging)===null||b===void 0)&&b.node&&!R.doc.eq(x.doc)&&this.updateDraggedNode(this.dragging,R),K=="reset"?this.dom.scrollTop=0:K=="to selection"?this.scrollToSelection():te&&resetScrollPos(te)}scrollToSelection(){let x=this.domSelectionRange().focusNode;if(!(!x||!this.dom.contains(x.nodeType==1?x:x.parentNode))){if(!this.someProp("handleScrollToSelection",y=>y(this)))if(this.state.selection instanceof NodeSelection){let y=this.docView.domAfterPos(this.state.selection.from);y.nodeType==1&&scrollRectIntoView(this,y.getBoundingClientRect(),x)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),x)}}destroyPluginViews(){let x;for(;x=this.pluginViews.pop();)x.destroy&&x.destroy()}updatePluginViews(x){if(!x||x.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let y=0;y<this.directPlugins.length;y++){let b=this.directPlugins[y];b.spec.view&&this.pluginViews.push(b.spec.view(this))}for(let y=0;y<this.state.plugins.length;y++){let b=this.state.plugins[y];b.spec.view&&this.pluginViews.push(b.spec.view(this))}}else for(let y=0;y<this.pluginViews.length;y++){let b=this.pluginViews[y];b.update&&b.update(this,x)}}updateDraggedNode(x,y){let b=x.node,R=-1;if(this.state.doc.nodeAt(b.from)==b.node)R=b.from;else{let T=b.from+(this.state.doc.content.size-y.doc.content.size);(T>0&&this.state.doc.nodeAt(T))==b.node&&(R=T)}this.dragging=new Dragging(x.slice,x.move,R<0?void 0:NodeSelection.create(this.state.doc,R))}someProp(x,y){let b=this._props&&this._props[x],R;if(b!=null&&(R=y?y(b):b))return R;for(let A=0;A<this.directPlugins.length;A++){let O=this.directPlugins[A].props[x];if(O!=null&&(R=y?y(O):O))return R}let T=this.state.plugins;if(T)for(let A=0;A<T.length;A++){let O=T[A].props[x];if(O!=null&&(R=y?y(O):O))return R}}hasFocus(){if(ie$1){let x=this.root.activeElement;if(x==this.dom)return!0;if(!x||!this.dom.contains(x))return!1;for(;x&&this.dom!=x&&this.dom.contains(x);){if(x.contentEditable=="false")return!1;x=x.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let x=this._root;if(x==null){for(let y=this.dom.parentNode;y;y=y.parentNode)if(y.nodeType==9||y.nodeType==11&&y.host)return y.getSelection||(Object.getPrototypeOf(y).getSelection=()=>y.ownerDocument.getSelection()),this._root=y}return x||document}updateRoot(){this._root=null}posAtCoords(x){return posAtCoords(this,x)}coordsAtPos(x,y=1){return coordsAtPos(this,x,y)}domAtPos(x,y=0){return this.docView.domFromPos(x,y)}nodeDOM(x){let y=this.docView.descAt(x);return y?y.nodeDOM:null}posAtDOM(x,y,b=-1){let R=this.docView.posFromDOM(x,y,b);if(R==null)throw new RangeError("DOM position not inside the editor");return R}endOfTextblock(x,y){return endOfTextblock(this,y||this.state,x)}pasteHTML(x,y){return doPaste(this,"",x,!1,y||new ClipboardEvent("paste"))}pasteText(x,y){return doPaste(this,x,null,!0,y||new ClipboardEvent("paste"))}serializeForClipboard(x){return serializeForClipboard(this,x)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(x){return dispatchEvent(this,x)}domSelectionRange(){let x=this.domSelection();return x?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,x)||x:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(r){let x=this._props.dispatchTransaction;x?x.call(this,r):this.updateState(this.state.apply(r))};function computeDocDeco(r){let x=Object.create(null);return x.class="ProseMirror",x.contenteditable=String(r.editable),r.someProp("attributes",y=>{if(typeof y=="function"&&(y=y(r.state)),y)for(let b in y)b=="class"?x.class+=" "+y[b]:b=="style"?x.style=(x.style?x.style+";":"")+y[b]:!x[b]&&b!="contenteditable"&&b!="nodeName"&&(x[b]=String(y[b]))}),x.translate||(x.translate="no"),[Decoration.node(0,r.state.doc.content.size,x)]}function updateCursorWrapper(r){if(r.markCursor){let x=document.createElement("img");x.className="ProseMirror-separator",x.setAttribute("mark-placeholder","true"),x.setAttribute("alt",""),r.cursorWrapper={dom:x,deco:Decoration.widget(r.state.selection.from,x,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function getEditable(r){return!r.someProp("editable",x=>x(r.state)===!1)}function selectionContextChanged(r,x){let y=Math.min(r.$anchor.sharedDepth(r.head),x.$anchor.sharedDepth(x.head));return r.$anchor.start(y)!=x.$anchor.start(y)}function buildNodeViews(r){let x=Object.create(null);function y(b){for(let R in b)Object.prototype.hasOwnProperty.call(x,R)||(x[R]=b[R])}return r.someProp("nodeViews",y),r.someProp("markViews",y),x}function changedNodeViews(r,x){let y=0,b=0;for(let R in r){if(r[R]!=x[R])return!0;y++}for(let R in x)b++;return y!=b}function checkStateComponent(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(r){var x=mac$1&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||ie&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",y=!x&&r.key||(r.shiftKey?shift:base)[r.keyCode]||r.key||"Unidentified";return y=="Esc"&&(y="Escape"),y=="Del"&&(y="Delete"),y=="Left"&&(y="ArrowLeft"),y=="Up"&&(y="ArrowUp"),y=="Right"&&(y="ArrowRight"),y=="Down"&&(y="ArrowDown"),y}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(r){let x=r.split(/-(?!$)/),y=x[x.length-1];y=="Space"&&(y=" ");let b,R,T,A;for(let O=0;O<x.length-1;O++){let B=x[O];if(/^(cmd|meta|m)$/i.test(B))A=!0;else if(/^a(lt)?$/i.test(B))b=!0;else if(/^(c|ctrl|control)$/i.test(B))R=!0;else if(/^s(hift)?$/i.test(B))T=!0;else if(/^mod$/i.test(B))mac?A=!0:R=!0;else throw new Error("Unrecognized modifier name: "+B)}return b&&(y="Alt-"+y),R&&(y="Ctrl-"+y),A&&(y="Meta-"+y),T&&(y="Shift-"+y),y}function normalize(r){let x=Object.create(null);for(let y in r)x[normalizeKeyName$1(y)]=r[y];return x}function modifiers(r,x,y=!0){return x.altKey&&(r="Alt-"+r),x.ctrlKey&&(r="Ctrl-"+r),x.metaKey&&(r="Meta-"+r),y&&x.shiftKey&&(r="Shift-"+r),r}function keymap(r){return new Plugin({props:{handleKeyDown:keydownHandler(r)}})}function keydownHandler(r){let x=normalize(r);return function(y,b){let R=keyName(b),T,A=x[modifiers(R,b)];if(A&&A(y.state,y.dispatch,y))return!0;if(R.length==1&&R!=" "){if(b.shiftKey){let O=x[modifiers(R,b,!1)];if(O&&O(y.state,y.dispatch,y))return!0}if((b.altKey||b.metaKey||b.ctrlKey)&&!(windows&&b.ctrlKey&&b.altKey)&&(T=base[b.keyCode])&&T!=R){let O=x[modifiers(T,b)];if(O&&O(y.state,y.dispatch,y))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(r,x)=>{for(var y in x)__defProp$1(r,y,{get:x[y],enumerable:!0})};function createChainableState(r){const{state:x,transaction:y}=r;let{selection:b}=y,{doc:R}=y,{storedMarks:T}=y;return{...x,apply:x.apply.bind(x),applyTransaction:x.applyTransaction.bind(x),plugins:x.plugins,schema:x.schema,reconfigure:x.reconfigure.bind(x),toJSON:x.toJSON.bind(x),get storedMarks(){return T},get selection(){return b},get doc(){return R},get tr(){return b=y.selection,R=y.doc,T=y.storedMarks,y}}}var CommandManager=class{constructor(r){this.editor=r.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=r.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:r,editor:x,state:y}=this,{view:b}=x,{tr:R}=y,T=this.buildProps(R);return Object.fromEntries(Object.entries(r).map(([A,O])=>[A,(...U)=>{const K=O(...U)(T);return!R.getMeta("preventDispatch")&&!this.hasCustomState&&b.dispatch(R),K}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(r,x=!0){const{rawCommands:y,editor:b,state:R}=this,{view:T}=b,A=[],O=!!r,B=r||R.tr,U=()=>(!O&&x&&!B.getMeta("preventDispatch")&&!this.hasCustomState&&T.dispatch(B),A.every(J=>J===!0)),K={...Object.fromEntries(Object.entries(y).map(([J,te])=>[J,(...ue)=>{const pe=this.buildProps(B,x),$e=te(...ue)(pe);return A.push($e),K}])),run:U};return K}createCan(r){const{rawCommands:x,state:y}=this,b=!1,R=r||y.tr,T=this.buildProps(R,b);return{...Object.fromEntries(Object.entries(x).map(([O,B])=>[O,(...U)=>B(...U)({...T,dispatch:void 0})])),chain:()=>this.createChain(R,b)}}buildProps(r,x=!0){const{rawCommands:y,editor:b,state:R}=this,{view:T}=b,A={tr:r,editor:b,view:T,state:createChainableState({state:R,transaction:r}),dispatch:x?()=>{}:void 0,chain:()=>this.createChain(r,x),can:()=>this.createCan(r),get commands(){return Object.fromEntries(Object.entries(y).map(([O,B])=>[O,(...U)=>B(...U)(A)]))}};return A}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:r,view:x})=>(requestAnimationFrame(()=>{var y;r.isDestroyed||(x.dom.blur(),(y=window==null?void 0:window.getSelection())==null||y.removeAllRanges())}),!0),clearContent=(r=!0)=>({commands:x})=>x.setContent("",{emitUpdate:r}),clearNodes=()=>({state:r,tr:x,dispatch:y})=>{const{selection:b}=x,{ranges:R}=b;return y&&R.forEach(({$from:T,$to:A})=>{r.doc.nodesBetween(T.pos,A.pos,(O,B)=>{if(O.type.isText)return;const{doc:U,mapping:K}=x,J=U.resolve(K.map(B)),te=U.resolve(K.map(B+O.nodeSize)),ae=J.blockRange(te);if(!ae)return;const ue=liftTarget(ae);if(O.type.isTextblock){const{defaultType:pe}=J.parent.contentMatchAt(J.index());x.setNodeMarkup(ae.start,pe)}(ue||ue===0)&&x.lift(ae,ue)})}),!0},command=r=>x=>r(x),createParagraphNear=()=>({state:r,dispatch:x})=>createParagraphNear$1(r,x),cut=(r,x)=>({editor:y,tr:b})=>{const{state:R}=y,T=R.doc.slice(r.from,r.to);b.deleteRange(r.from,r.to);const A=b.mapping.map(x);return b.insert(A,T.content),b.setSelection(new TextSelection(b.doc.resolve(Math.max(A-1,0)))),!0},deleteCurrentNode=()=>({tr:r,dispatch:x})=>{const{selection:y}=r,b=y.$anchor.node();if(b.content.size>0)return!1;const R=r.selection.$anchor;for(let T=R.depth;T>0;T-=1)if(R.node(T).type===b.type){if(x){const O=R.before(T),B=R.after(T);r.delete(O,B).scrollIntoView()}return!0}return!1};function getNodeType(r,x){if(typeof r=="string"){if(!x.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return x.nodes[r]}return r}var deleteNode=r=>({tr:x,state:y,dispatch:b})=>{const R=getNodeType(r,y.schema),T=x.selection.$anchor;for(let A=T.depth;A>0;A-=1)if(T.node(A).type===R){if(b){const B=T.before(A),U=T.after(A);x.delete(B,U).scrollIntoView()}return!0}return!1},deleteRange=r=>({tr:x,dispatch:y})=>{const{from:b,to:R}=r;return y&&x.delete(b,R),!0},deleteSelection=()=>({state:r,dispatch:x})=>deleteSelection$1(r,x),enter=()=>({commands:r})=>r.keyboardShortcut("Enter"),exitCode=()=>({state:r,dispatch:x})=>exitCode$1(r,x);function isRegExp(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function objectIncludes(r,x,y={strict:!0}){const b=Object.keys(x);return b.length?b.every(R=>y.strict?x[R]===r[R]:isRegExp(x[R])?x[R].test(r[R]):x[R]===r[R]):!0}function findMarkInSet(r,x,y={}){return r.find(b=>b.type===x&&objectIncludes(Object.fromEntries(Object.keys(y).map(R=>[R,b.attrs[R]])),y))}function isMarkInSet(r,x,y={}){return!!findMarkInSet(r,x,y)}function getMarkRange(r,x,y){var b;if(!r||!x)return;let R=r.parent.childAfter(r.parentOffset);if((!R.node||!R.node.marks.some(K=>K.type===x))&&(R=r.parent.childBefore(r.parentOffset)),!R.node||!R.node.marks.some(K=>K.type===x)||(y=y||((b=R.node.marks[0])==null?void 0:b.attrs),!findMarkInSet([...R.node.marks],x,y)))return;let A=R.index,O=r.start()+R.offset,B=A+1,U=O+R.node.nodeSize;for(;A>0&&isMarkInSet([...r.parent.child(A-1).marks],x,y);)A-=1,O-=r.parent.child(A).nodeSize;for(;B<r.parent.childCount&&isMarkInSet([...r.parent.child(B).marks],x,y);)U+=r.parent.child(B).nodeSize,B+=1;return{from:O,to:U}}function getMarkType(r,x){if(typeof r=="string"){if(!x.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return x.marks[r]}return r}var extendMarkRange=(r,x={})=>({tr:y,state:b,dispatch:R})=>{const T=getMarkType(r,b.schema),{doc:A,selection:O}=y,{$from:B,from:U,to:K}=O;if(R){const J=getMarkRange(B,T,x);if(J&&J.from<=U&&J.to>=K){const te=TextSelection.create(A,J.from,J.to);y.setSelection(te)}}return!0},first=r=>x=>{const y=typeof r=="function"?r(x):r;for(let b=0;b<y.length;b+=1)if(y[b](x))return!0;return!1};function isTextSelection(r){return r instanceof TextSelection}function minMax(r=0,x=0,y=0){return Math.min(Math.max(r,x),y)}function resolveFocusPosition(r,x=null){if(!x)return null;const y=Selection.atStart(r),b=Selection.atEnd(r);if(x==="start"||x===!0)return y;if(x==="end")return b;const R=y.from,T=b.to;return x==="all"?TextSelection.create(r,minMax(0,R,T),minMax(r.content.size,R,T)):TextSelection.create(r,minMax(x,R,T),minMax(x,R,T))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var focus=(r=null,x={})=>({editor:y,view:b,tr:R,dispatch:T})=>{x={scrollIntoView:!0,...x};const A=()=>{(isiOS()||isAndroid())&&b.dom.focus(),requestAnimationFrame(()=>{y.isDestroyed||(b.focus(),x!=null&&x.scrollIntoView&&y.commands.scrollIntoView())})};if(b.hasFocus()&&r===null||r===!1)return!0;if(T&&r===null&&!isTextSelection(y.state.selection))return A(),!0;const O=resolveFocusPosition(R.doc,r)||y.state.selection,B=y.state.selection.eq(O);return T&&(B||R.setSelection(O),B&&R.storedMarks&&R.setStoredMarks(R.storedMarks),A()),!0},forEach=(r,x)=>y=>r.every((b,R)=>x(b,{...y,index:R})),insertContent=(r,x)=>({tr:y,commands:b})=>b.insertContentAt({from:y.selection.from,to:y.selection.to},r,x),removeWhitespaces=r=>{const x=r.childNodes;for(let y=x.length-1;y>=0;y-=1){const b=x[y];b.nodeType===3&&b.nodeValue&&/^(\n\s\s|\n)$/.test(b.nodeValue)?r.removeChild(b):b.nodeType===1&&removeWhitespaces(b)}return r};function elementFromString(r){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const x=`<body>${r}</body>`,y=new window.DOMParser().parseFromString(x,"text/html").body;return removeWhitespaces(y)}function createNodeFromContent(r,x,y){if(r instanceof Node||r instanceof Fragment)return r;y={slice:!0,parseOptions:{},...y};const b=typeof r=="object"&&r!==null,R=typeof r=="string";if(b)try{if(Array.isArray(r)&&r.length>0)return Fragment.fromArray(r.map(O=>x.nodeFromJSON(O)));const A=x.nodeFromJSON(r);return y.errorOnInvalidContent&&A.check(),A}catch(T){if(y.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:T});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",T),createNodeFromContent("",x,y)}if(R){if(y.errorOnInvalidContent){let A=!1,O="";const B=new Schema({topNode:x.spec.topNode,marks:x.spec.marks,nodes:x.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:U=>(A=!0,O=typeof U=="string"?U:U.outerHTML,null)}]}})});if(y.slice?DOMParser.fromSchema(B).parseSlice(elementFromString(r),y.parseOptions):DOMParser.fromSchema(B).parse(elementFromString(r),y.parseOptions),y.errorOnInvalidContent&&A)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${O}`)})}const T=DOMParser.fromSchema(x);return y.slice?T.parseSlice(elementFromString(r),y.parseOptions).content:T.parse(elementFromString(r),y.parseOptions)}return createNodeFromContent("",x,y)}function selectionToInsertionEnd(r,x,y){const b=r.steps.length-1;if(b<x)return;const R=r.steps[b];if(!(R instanceof ReplaceStep||R instanceof ReplaceAroundStep))return;const T=r.mapping.maps[b];let A=0;T.forEach((O,B,U,K)=>{A===0&&(A=K)}),r.setSelection(Selection.near(r.doc.resolve(A),y))}var isFragment=r=>!("type"in r),insertContentAt=(r,x,y)=>({tr:b,dispatch:R,editor:T})=>{var A;if(R){y={parseOptions:T.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...y};let O;const B=$e=>{T.emit("contentError",{editor:T,error:$e,disableCollaboration:()=>{"collaboration"in T.storage&&typeof T.storage.collaboration=="object"&&T.storage.collaboration&&(T.storage.collaboration.isDisabled=!0)}})},U={preserveWhitespace:"full",...y.parseOptions};if(!y.errorOnInvalidContent&&!T.options.enableContentCheck&&T.options.emitContentError)try{createNodeFromContent(x,T.schema,{parseOptions:U,errorOnInvalidContent:!0})}catch($e){B($e)}try{O=createNodeFromContent(x,T.schema,{parseOptions:U,errorOnInvalidContent:(A=y.errorOnInvalidContent)!=null?A:T.options.enableContentCheck})}catch($e){return B($e),!1}let{from:K,to:J}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},te=!0,ae=!0;if((isFragment(O)?O:[O]).forEach($e=>{$e.check(),te=te?$e.isText&&$e.marks.length===0:!1,ae=ae?$e.isBlock:!1}),K===J&&ae){const{parent:$e}=b.doc.resolve(K);$e.isTextblock&&!$e.type.spec.code&&!$e.childCount&&(K-=1,J+=1)}let pe;if(te){if(Array.isArray(x))pe=x.map($e=>$e.text||"").join("");else if(x instanceof Fragment){let $e="";x.forEach(Ne=>{Ne.text&&($e+=Ne.text)}),pe=$e}else typeof x=="object"&&x&&x.text?pe=x.text:pe=x;b.insertText(pe,K,J)}else{pe=O;const $e=b.doc.resolve(K),Ne=$e.node(),Be=$e.parentOffset===0,_e=Ne.isText||Ne.isTextblock,xe=Ne.content.size>0;Be&&_e&&xe&&(K=Math.max(0,K-1)),b.replaceWith(K,J,pe)}y.updateSelection&&selectionToInsertionEnd(b,b.steps.length-1,-1),y.applyInputRules&&b.setMeta("applyInputRules",{from:K,text:pe}),y.applyPasteRules&&b.setMeta("applyPasteRules",{from:K,text:pe})}return!0},joinUp=()=>({state:r,dispatch:x})=>joinUp$1(r,x),joinDown=()=>({state:r,dispatch:x})=>joinDown$1(r,x),joinBackward=()=>({state:r,dispatch:x})=>joinBackward$1(r,x),joinForward=()=>({state:r,dispatch:x})=>joinForward$1(r,x),joinItemBackward=()=>({state:r,dispatch:x,tr:y})=>{try{const b=joinPoint(r.doc,r.selection.$from.pos,-1);return b==null?!1:(y.join(b,2),x&&x(y),!0)}catch{return!1}},joinItemForward=()=>({state:r,dispatch:x,tr:y})=>{try{const b=joinPoint(r.doc,r.selection.$from.pos,1);return b==null?!1:(y.join(b,2),x&&x(y),!0)}catch{return!1}},joinTextblockBackward=()=>({state:r,dispatch:x})=>joinTextblockBackward$1(r,x),joinTextblockForward=()=>({state:r,dispatch:x})=>joinTextblockForward$1(r,x);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(r){const x=r.split(/-(?!$)/);let y=x[x.length-1];y==="Space"&&(y=" ");let b,R,T,A;for(let O=0;O<x.length-1;O+=1){const B=x[O];if(/^(cmd|meta|m)$/i.test(B))A=!0;else if(/^a(lt)?$/i.test(B))b=!0;else if(/^(c|ctrl|control)$/i.test(B))R=!0;else if(/^s(hift)?$/i.test(B))T=!0;else if(/^mod$/i.test(B))isiOS()||isMacOS()?A=!0:R=!0;else throw new Error(`Unrecognized modifier name: ${B}`)}return b&&(y=`Alt-${y}`),R&&(y=`Ctrl-${y}`),A&&(y=`Meta-${y}`),T&&(y=`Shift-${y}`),y}var keyboardShortcut=r=>({editor:x,view:y,tr:b,dispatch:R})=>{const T=normalizeKeyName(r).split(/-(?!$)/),A=T.find(U=>!["Alt","Ctrl","Meta","Shift"].includes(U)),O=new KeyboardEvent("keydown",{key:A==="Space"?" ":A,altKey:T.includes("Alt"),ctrlKey:T.includes("Ctrl"),metaKey:T.includes("Meta"),shiftKey:T.includes("Shift"),bubbles:!0,cancelable:!0}),B=x.captureTransaction(()=>{y.someProp("handleKeyDown",U=>U(y,O))});return B==null||B.steps.forEach(U=>{const K=U.map(b.mapping);K&&R&&b.maybeStep(K)}),!0};function isNodeActive(r,x,y={}){const{from:b,to:R,empty:T}=r.selection,A=x?getNodeType(x,r.schema):null,O=[];r.doc.nodesBetween(b,R,(J,te)=>{if(J.isText)return;const ae=Math.max(b,te),ue=Math.min(R,te+J.nodeSize);O.push({node:J,from:ae,to:ue})});const B=R-b,U=O.filter(J=>A?A.name===J.node.type.name:!0).filter(J=>objectIncludes(J.node.attrs,y,{strict:!1}));return T?!!U.length:U.reduce((J,te)=>J+te.to-te.from,0)>=B}var lift=(r,x={})=>({state:y,dispatch:b})=>{const R=getNodeType(r,y.schema);return isNodeActive(y,R,x)?lift$1(y,b):!1},liftEmptyBlock=()=>({state:r,dispatch:x})=>liftEmptyBlock$1(r,x),liftListItem=r=>({state:x,dispatch:y})=>{const b=getNodeType(r,x.schema);return liftListItem$1(b)(x,y)},newlineInCode=()=>({state:r,dispatch:x})=>newlineInCode$1(r,x);function getSchemaTypeNameByName(r,x){return x.nodes[r]?"node":x.marks[r]?"mark":null}function deleteProps(r,x){const y=typeof x=="string"?[x]:x;return Object.keys(r).reduce((b,R)=>(y.includes(R)||(b[R]=r[R]),b),{})}var resetAttributes=(r,x)=>({tr:y,state:b,dispatch:R})=>{let T=null,A=null;const O=getSchemaTypeNameByName(typeof r=="string"?r:r.name,b.schema);return O?(O==="node"&&(T=getNodeType(r,b.schema)),O==="mark"&&(A=getMarkType(r,b.schema)),R&&y.selection.ranges.forEach(B=>{b.doc.nodesBetween(B.$from.pos,B.$to.pos,(U,K)=>{T&&T===U.type&&y.setNodeMarkup(K,void 0,deleteProps(U.attrs,x)),A&&U.marks.length&&U.marks.forEach(J=>{A===J.type&&y.addMark(K,K+U.nodeSize,A.create(deleteProps(J.attrs,x)))})})}),!0):!1},scrollIntoView=()=>({tr:r,dispatch:x})=>(x&&r.scrollIntoView(),!0),selectAll=()=>({tr:r,dispatch:x})=>{if(x){const y=new AllSelection(r.doc);r.setSelection(y)}return!0},selectNodeBackward=()=>({state:r,dispatch:x})=>selectNodeBackward$1(r,x),selectNodeForward=()=>({state:r,dispatch:x})=>selectNodeForward$1(r,x),selectParentNode=()=>({state:r,dispatch:x})=>selectParentNode$1(r,x),selectTextblockEnd=()=>({state:r,dispatch:x})=>selectTextblockEnd$1(r,x),selectTextblockStart=()=>({state:r,dispatch:x})=>selectTextblockStart$1(r,x);function createDocument(r,x,y={},b={}){return createNodeFromContent(r,x,{slice:!1,parseOptions:y,errorOnInvalidContent:b.errorOnInvalidContent})}var setContent=(r,{errorOnInvalidContent:x,emitUpdate:y=!0,parseOptions:b={}}={})=>({editor:R,tr:T,dispatch:A,commands:O})=>{const{doc:B}=T;if(b.preserveWhitespace!=="full"){const U=createDocument(r,R.schema,b,{errorOnInvalidContent:x??R.options.enableContentCheck});return A&&T.replaceWith(0,B.content.size,U).setMeta("preventUpdate",!y),!0}return A&&T.setMeta("preventUpdate",!y),O.insertContentAt({from:0,to:B.content.size},r,{parseOptions:b,errorOnInvalidContent:x??R.options.enableContentCheck})};function getMarkAttributes(r,x){const y=getMarkType(x,r.schema),{from:b,to:R,empty:T}=r.selection,A=[];T?(r.storedMarks&&A.push(...r.storedMarks),A.push(...r.selection.$head.marks())):r.doc.nodesBetween(b,R,B=>{A.push(...B.marks)});const O=A.find(B=>B.type.name===y.name);return O?{...O.attrs}:{}}function combineTransactionSteps(r,x){const y=new Transform(r);return x.forEach(b=>{b.steps.forEach(R=>{y.step(R)})}),y}function defaultBlockAt(r){for(let x=0;x<r.edgeCount;x+=1){const{type:y}=r.edge(x);if(y.isTextblock&&!y.hasRequiredAttrs())return y}return null}function findChildrenInRange(r,x,y){const b=[];return r.nodesBetween(x.from,x.to,(R,T)=>{y(R)&&b.push({node:R,pos:T})}),b}function findParentNodeClosestToPos(r,x){for(let y=r.depth;y>0;y-=1){const b=r.node(y);if(x(b))return{pos:y>0?r.before(y):0,start:r.start(y),depth:y,node:b}}}function findParentNode(r){return x=>findParentNodeClosestToPos(x.$from,r)}function getExtensionField(r,x,y){return r.config[x]===void 0&&r.parent?getExtensionField(r.parent,x,y):typeof r.config[x]=="function"?r.config[x].bind({...y,parent:r.parent?getExtensionField(r.parent,x,y):null}):r.config[x]}function flattenExtensions(r){return r.map(x=>{const y={name:x.name,options:x.options,storage:x.storage},b=getExtensionField(x,"addExtensions",y);return b?[x,...flattenExtensions(b())]:x}).flat(10)}function getHTMLFromFragment(r,x){const y=DOMSerializer.fromSchema(x).serializeFragment(r),R=document.implementation.createHTMLDocument().createElement("div");return R.appendChild(y),R.innerHTML}function isFunction(r){return typeof r=="function"}function callOrReturn(r,x=void 0,...y){return isFunction(r)?x?r.bind(x)(...y):r(...y):r}function isEmptyObject(r={}){return Object.keys(r).length===0&&r.constructor===Object}function splitExtensions(r){const x=r.filter(R=>R.type==="extension"),y=r.filter(R=>R.type==="node"),b=r.filter(R=>R.type==="mark");return{baseExtensions:x,nodeExtensions:y,markExtensions:b}}function getAttributesFromExtensions(r){const x=[],{nodeExtensions:y,markExtensions:b}=splitExtensions(r),R=[...y,...b],T={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(A=>{const O={name:A.name,options:A.options,storage:A.storage,extensions:R},B=getExtensionField(A,"addGlobalAttributes",O);if(!B)return;B().forEach(K=>{K.types.forEach(J=>{Object.entries(K.attributes).forEach(([te,ae])=>{x.push({type:J,name:te,attribute:{...T,...ae}})})})})}),R.forEach(A=>{const O={name:A.name,options:A.options,storage:A.storage},B=getExtensionField(A,"addAttributes",O);if(!B)return;const U=B();Object.entries(U).forEach(([K,J])=>{const te={...T,...J};typeof(te==null?void 0:te.default)=="function"&&(te.default=te.default()),te!=null&&te.isRequired&&(te==null?void 0:te.default)===void 0&&delete te.default,x.push({type:A.name,name:K,attribute:te})})}),x}function mergeAttributes(...r){return r.filter(x=>!!x).reduce((x,y)=>{const b={...x};return Object.entries(y).forEach(([R,T])=>{if(!b[R]){b[R]=T;return}if(R==="class"){const O=T?String(T).split(" "):[],B=b[R]?b[R].split(" "):[],U=O.filter(K=>!B.includes(K));b[R]=[...B,...U].join(" ")}else if(R==="style"){const O=T?T.split(";").map(K=>K.trim()).filter(Boolean):[],B=b[R]?b[R].split(";").map(K=>K.trim()).filter(Boolean):[],U=new Map;B.forEach(K=>{const[J,te]=K.split(":").map(ae=>ae.trim());U.set(J,te)}),O.forEach(K=>{const[J,te]=K.split(":").map(ae=>ae.trim());U.set(J,te)}),b[R]=Array.from(U.entries()).map(([K,J])=>`${K}: ${J}`).join("; ")}else b[R]=T}),b},{})}function getRenderedAttributes(r,x){return x.filter(y=>y.type===r.type.name).filter(y=>y.attribute.rendered).map(y=>y.attribute.renderHTML?y.attribute.renderHTML(r.attrs)||{}:{[y.name]:r.attrs[y.name]}).reduce((y,b)=>mergeAttributes(y,b),{})}function fromString(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function injectExtensionAttributesToParseRule(r,x){return"style"in r?r:{...r,getAttrs:y=>{const b=r.getAttrs?r.getAttrs(y):r.attrs;if(b===!1)return!1;const R=x.reduce((T,A)=>{const O=A.attribute.parseHTML?A.attribute.parseHTML(y):fromString(y.getAttribute(A.name));return O==null?T:{...T,[A.name]:O}},{});return{...b,...R}}}}function cleanUpSchemaItem(r){return Object.fromEntries(Object.entries(r).filter(([x,y])=>x==="attrs"&&isEmptyObject(y)?!1:y!=null))}function buildAttributeSpec(r){var x,y,b;const R={};return!((x=r==null?void 0:r.attribute)!=null&&x.isRequired)&&((y=r==null?void 0:r.attribute)==null?void 0:y.default)!==void 0&&(R.default=r.attribute.default),((b=r==null?void 0:r.attribute)==null?void 0:b.validate)!==void 0&&(R.validate=r.attribute.validate),[r.name,R]}function getSchemaByResolvedExtensions(r,x){var y;const b=getAttributesFromExtensions(r),{nodeExtensions:R,markExtensions:T}=splitExtensions(r),A=(y=R.find(U=>getExtensionField(U,"topNode")))==null?void 0:y.name,O=Object.fromEntries(R.map(U=>{const K=b.filter(Ne=>Ne.type===U.name),J={name:U.name,options:U.options,storage:U.storage,editor:x},te=r.reduce((Ne,Be)=>{const _e=getExtensionField(Be,"extendNodeSchema",J);return{...Ne,..._e?_e(U):{}}},{}),ae=cleanUpSchemaItem({...te,content:callOrReturn(getExtensionField(U,"content",J)),marks:callOrReturn(getExtensionField(U,"marks",J)),group:callOrReturn(getExtensionField(U,"group",J)),inline:callOrReturn(getExtensionField(U,"inline",J)),atom:callOrReturn(getExtensionField(U,"atom",J)),selectable:callOrReturn(getExtensionField(U,"selectable",J)),draggable:callOrReturn(getExtensionField(U,"draggable",J)),code:callOrReturn(getExtensionField(U,"code",J)),whitespace:callOrReturn(getExtensionField(U,"whitespace",J)),linebreakReplacement:callOrReturn(getExtensionField(U,"linebreakReplacement",J)),defining:callOrReturn(getExtensionField(U,"defining",J)),isolating:callOrReturn(getExtensionField(U,"isolating",J)),attrs:Object.fromEntries(K.map(buildAttributeSpec))}),ue=callOrReturn(getExtensionField(U,"parseHTML",J));ue&&(ae.parseDOM=ue.map(Ne=>injectExtensionAttributesToParseRule(Ne,K)));const pe=getExtensionField(U,"renderHTML",J);pe&&(ae.toDOM=Ne=>pe({node:Ne,HTMLAttributes:getRenderedAttributes(Ne,K)}));const $e=getExtensionField(U,"renderText",J);return $e&&(ae.toText=$e),[U.name,ae]})),B=Object.fromEntries(T.map(U=>{const K=b.filter($e=>$e.type===U.name),J={name:U.name,options:U.options,storage:U.storage,editor:x},te=r.reduce(($e,Ne)=>{const Be=getExtensionField(Ne,"extendMarkSchema",J);return{...$e,...Be?Be(U):{}}},{}),ae=cleanUpSchemaItem({...te,inclusive:callOrReturn(getExtensionField(U,"inclusive",J)),excludes:callOrReturn(getExtensionField(U,"excludes",J)),group:callOrReturn(getExtensionField(U,"group",J)),spanning:callOrReturn(getExtensionField(U,"spanning",J)),code:callOrReturn(getExtensionField(U,"code",J)),attrs:Object.fromEntries(K.map(buildAttributeSpec))}),ue=callOrReturn(getExtensionField(U,"parseHTML",J));ue&&(ae.parseDOM=ue.map($e=>injectExtensionAttributesToParseRule($e,K)));const pe=getExtensionField(U,"renderHTML",J);return pe&&(ae.toDOM=$e=>pe({mark:$e,HTMLAttributes:getRenderedAttributes($e,K)})),[U.name,ae]}));return new Schema({topNode:A,nodes:O,marks:B})}function findDuplicates(r){const x=r.filter((y,b)=>r.indexOf(y)!==b);return Array.from(new Set(x))}function sortExtensions(r){return r.sort((y,b)=>{const R=getExtensionField(y,"priority")||100,T=getExtensionField(b,"priority")||100;return R>T?-1:R<T?1:0})}function resolveExtensions(r){const x=sortExtensions(flattenExtensions(r)),y=findDuplicates(x.map(b=>b.name));return y.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${y.map(b=>`'${b}'`).join(", ")}]. This can lead to issues.`),x}function getTextBetween(r,x,y){const{from:b,to:R}=x,{blockSeparator:T=`

`,textSerializers:A={}}=y||{};let O="";return r.nodesBetween(b,R,(B,U,K,J)=>{var te;B.isBlock&&U>b&&(O+=T);const ae=A==null?void 0:A[B.type.name];if(ae)return K&&(O+=ae({node:B,pos:U,parent:K,index:J,range:x})),!1;B.isText&&(O+=(te=B==null?void 0:B.text)==null?void 0:te.slice(Math.max(b,U)-U,R-U))}),O}function getText(r,x){const y={from:0,to:r.content.size};return getTextBetween(r,y,x)}function getTextSerializersFromSchema(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,x])=>x.spec.toText).map(([x,y])=>[x,y.spec.toText]))}function getNodeAttributes(r,x){const y=getNodeType(x,r.schema),{from:b,to:R}=r.selection,T=[];r.doc.nodesBetween(b,R,O=>{T.push(O)});const A=T.reverse().find(O=>O.type.name===y.name);return A?{...A.attrs}:{}}function getAttributes(r,x){const y=getSchemaTypeNameByName(typeof x=="string"?x:x.name,r.schema);return y==="node"?getNodeAttributes(r,x):y==="mark"?getMarkAttributes(r,x):{}}function removeDuplicates(r,x=JSON.stringify){const y={};return r.filter(b=>{const R=x(b);return Object.prototype.hasOwnProperty.call(y,R)?!1:y[R]=!0})}function simplifyChangedRanges(r){const x=removeDuplicates(r);return x.length===1?x:x.filter((y,b)=>!x.filter((T,A)=>A!==b).some(T=>y.oldRange.from>=T.oldRange.from&&y.oldRange.to<=T.oldRange.to&&y.newRange.from>=T.newRange.from&&y.newRange.to<=T.newRange.to))}function getChangedRanges(r){const{mapping:x,steps:y}=r,b=[];return x.maps.forEach((R,T)=>{const A=[];if(R.ranges.length)R.forEach((O,B)=>{A.push({from:O,to:B})});else{const{from:O,to:B}=y[T];if(O===void 0||B===void 0)return;A.push({from:O,to:B})}A.forEach(({from:O,to:B})=>{const U=x.slice(T).map(O,-1),K=x.slice(T).map(B),J=x.invert().map(U,-1),te=x.invert().map(K);b.push({oldRange:{from:J,to:te},newRange:{from:U,to:K}})})}),simplifyChangedRanges(b)}function getMarksBetween(r,x,y){const b=[];return r===x?y.resolve(r).marks().forEach(R=>{const T=y.resolve(r),A=getMarkRange(T,R.type);A&&b.push({mark:R,...A})}):y.nodesBetween(r,x,(R,T)=>{!R||(R==null?void 0:R.nodeSize)===void 0||b.push(...R.marks.map(A=>({from:T,to:T+R.nodeSize,mark:A})))}),b}var getNodeAtPosition=(r,x,y,b=20)=>{const R=r.doc.resolve(y);let T=b,A=null;for(;T>0&&A===null;){const O=R.node(T);(O==null?void 0:O.type.name)===x?A=O:T-=1}return[A,T]};function getSchemaTypeByName(r,x){return x.nodes[r]||x.marks[r]||null}function getSplittedAttributes(r,x,y){return Object.fromEntries(Object.entries(y).filter(([b])=>{const R=r.find(T=>T.type===x&&T.name===b);return R?R.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(r,x=500)=>{let y="";const b=r.parentOffset;return r.parent.nodesBetween(Math.max(0,b-x),b,(R,T,A,O)=>{var B,U;const K=((U=(B=R.type.spec).toText)==null?void 0:U.call(B,{node:R,pos:T,parent:A,index:O}))||R.textContent||"%leaf%";y+=R.isAtom&&!R.isText?K:K.slice(0,Math.max(0,b-T))}),y};function isMarkActive(r,x,y={}){const{empty:b,ranges:R}=r.selection,T=x?getMarkType(x,r.schema):null;if(b)return!!(r.storedMarks||r.selection.$from.marks()).filter(J=>T?T.name===J.type.name:!0).find(J=>objectIncludes(J.attrs,y,{strict:!1}));let A=0;const O=[];if(R.forEach(({$from:J,$to:te})=>{const ae=J.pos,ue=te.pos;r.doc.nodesBetween(ae,ue,(pe,$e)=>{if(!pe.isText&&!pe.marks.length)return;const Ne=Math.max(ae,$e),Be=Math.min(ue,$e+pe.nodeSize),_e=Be-Ne;A+=_e,O.push(...pe.marks.map(xe=>({mark:xe,from:Ne,to:Be})))})}),A===0)return!1;const B=O.filter(J=>T?T.name===J.mark.type.name:!0).filter(J=>objectIncludes(J.mark.attrs,y,{strict:!1})).reduce((J,te)=>J+te.to-te.from,0),U=O.filter(J=>T?J.mark.type!==T&&J.mark.type.excludes(T):!0).reduce((J,te)=>J+te.to-te.from,0);return(B>0?B+U:B)>=A}function isActive$1(r,x,y={}){if(!x)return isNodeActive(r,null,y)||isMarkActive(r,null,y);const b=getSchemaTypeNameByName(x,r.schema);return b==="node"?isNodeActive(r,x,y):b==="mark"?isMarkActive(r,x,y):!1}var isAtEndOfNode=(r,x)=>{const{$from:y,$to:b,$anchor:R}=r.selection;if(x){const T=findParentNode(O=>O.type.name===x)(r.selection);if(!T)return!1;const A=r.doc.resolve(T.pos+1);return R.pos+1===A.end()}return!(b.parentOffset<b.parent.nodeSize-2||y.pos!==b.pos)},isAtStartOfNode=r=>{const{$from:x,$to:y}=r.selection;return!(x.parentOffset>0||x.pos!==y.pos)};function isExtensionRulesEnabled(r,x){return Array.isArray(x)?x.some(y=>(typeof y=="string"?y:y.name)===r.name):x}function isList(r,x){const{nodeExtensions:y}=splitExtensions(x),b=y.find(A=>A.name===r);if(!b)return!1;const R={name:b.name,options:b.options,storage:b.storage},T=callOrReturn(getExtensionField(b,"group",R));return typeof T!="string"?!1:T.split(" ").includes("list")}function isNodeEmpty(r,{checkChildren:x=!0,ignoreWhitespace:y=!1}={}){var b;if(y){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((b=r.text)!=null?b:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(x){let R=!0;return r.content.forEach(T=>{R!==!1&&(isNodeEmpty(T,{ignoreWhitespace:y,checkChildren:x})||(R=!1))}),R}return!1}function isNodeSelection(r){return r instanceof NodeSelection}function canSetMark(r,x,y){var b;const{selection:R}=x;let T=null;if(isTextSelection(R)&&(T=R.$cursor),T){const O=(b=r.storedMarks)!=null?b:T.marks();return T.parent.type.allowsMarkType(y)&&(!!y.isInSet(O)||!O.some(U=>U.type.excludes(y)))}const{ranges:A}=R;return A.some(({$from:O,$to:B})=>{let U=O.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(y):!1;return r.doc.nodesBetween(O.pos,B.pos,(K,J,te)=>{if(U)return!1;if(K.isInline){const ae=!te||te.type.allowsMarkType(y),ue=!!y.isInSet(K.marks)||!K.marks.some(pe=>pe.type.excludes(y));U=ae&&ue}return!U}),U})}var setMark=(r,x={})=>({tr:y,state:b,dispatch:R})=>{const{selection:T}=y,{empty:A,ranges:O}=T,B=getMarkType(r,b.schema);if(R)if(A){const U=getMarkAttributes(b,B);y.addStoredMark(B.create({...U,...x}))}else O.forEach(U=>{const K=U.$from.pos,J=U.$to.pos;b.doc.nodesBetween(K,J,(te,ae)=>{const ue=Math.max(ae,K),pe=Math.min(ae+te.nodeSize,J);te.marks.find(Ne=>Ne.type===B)?te.marks.forEach(Ne=>{B===Ne.type&&y.addMark(ue,pe,B.create({...Ne.attrs,...x}))}):y.addMark(ue,pe,B.create(x))})});return canSetMark(b,y,B)},setMeta=(r,x)=>({tr:y})=>(y.setMeta(r,x),!0),setNode=(r,x={})=>({state:y,dispatch:b,chain:R})=>{const T=getNodeType(r,y.schema);let A;return y.selection.$anchor.sameParent(y.selection.$head)&&(A=y.selection.$anchor.parent.attrs),T.isTextblock?R().command(({commands:O})=>setBlockType(T,{...A,...x})(y)?!0:O.clearNodes()).command(({state:O})=>setBlockType(T,{...A,...x})(O,b)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=r=>({tr:x,dispatch:y})=>{if(y){const{doc:b}=x,R=minMax(r,0,b.content.size),T=NodeSelection.create(b,R);x.setSelection(T)}return!0},setTextSelection=r=>({tr:x,dispatch:y})=>{if(y){const{doc:b}=x,{from:R,to:T}=typeof r=="number"?{from:r,to:r}:r,A=TextSelection.atStart(b).from,O=TextSelection.atEnd(b).to,B=minMax(R,A,O),U=minMax(T,A,O),K=TextSelection.create(b,B,U);x.setSelection(K)}return!0},sinkListItem=r=>({state:x,dispatch:y})=>{const b=getNodeType(r,x.schema);return sinkListItem$1(b)(x,y)};function ensureMarks(r,x){const y=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(y){const b=y.filter(R=>x==null?void 0:x.includes(R.type.name));r.tr.ensureMarks(b)}}var splitBlock=({keepMarks:r=!0}={})=>({tr:x,state:y,dispatch:b,editor:R})=>{const{selection:T,doc:A}=x,{$from:O,$to:B}=T,U=R.extensionManager.attributes,K=getSplittedAttributes(U,O.node().type.name,O.node().attrs);if(T instanceof NodeSelection&&T.node.isBlock)return!O.parentOffset||!canSplit(A,O.pos)?!1:(b&&(r&&ensureMarks(y,R.extensionManager.splittableMarks),x.split(O.pos).scrollIntoView()),!0);if(!O.parent.isBlock)return!1;const J=B.parentOffset===B.parent.content.size,te=O.depth===0?void 0:defaultBlockAt(O.node(-1).contentMatchAt(O.indexAfter(-1)));let ae=J&&te?[{type:te,attrs:K}]:void 0,ue=canSplit(x.doc,x.mapping.map(O.pos),1,ae);if(!ae&&!ue&&canSplit(x.doc,x.mapping.map(O.pos),1,te?[{type:te}]:void 0)&&(ue=!0,ae=te?[{type:te,attrs:K}]:void 0),b){if(ue&&(T instanceof TextSelection&&x.deleteSelection(),x.split(x.mapping.map(O.pos),1,ae),te&&!J&&!O.parentOffset&&O.parent.type!==te)){const pe=x.mapping.map(O.before()),$e=x.doc.resolve(pe);O.node(-1).canReplaceWith($e.index(),$e.index()+1,te)&&x.setNodeMarkup(x.mapping.map(O.before()),te)}r&&ensureMarks(y,R.extensionManager.splittableMarks),x.scrollIntoView()}return ue},splitListItem=(r,x={})=>({tr:y,state:b,dispatch:R,editor:T})=>{var A;const O=getNodeType(r,b.schema),{$from:B,$to:U}=b.selection,K=b.selection.node;if(K&&K.isBlock||B.depth<2||!B.sameParent(U))return!1;const J=B.node(-1);if(J.type!==O)return!1;const te=T.extensionManager.attributes;if(B.parent.content.size===0&&B.node(-1).childCount===B.indexAfter(-1)){if(B.depth===2||B.node(-3).type!==O||B.index(-2)!==B.node(-2).childCount-1)return!1;if(R){let Ne=Fragment.empty;const Be=B.index(-1)?1:B.index(-2)?2:3;for(let qe=B.depth-Be;qe>=B.depth-3;qe-=1)Ne=Fragment.from(B.node(qe).copy(Ne));const _e=B.indexAfter(-1)<B.node(-2).childCount?1:B.indexAfter(-2)<B.node(-3).childCount?2:3,xe={...getSplittedAttributes(te,B.node().type.name,B.node().attrs),...x},Le=((A=O.contentMatch.defaultType)==null?void 0:A.createAndFill(xe))||void 0;Ne=Ne.append(Fragment.from(O.createAndFill(null,Le)||void 0));const Ue=B.before(B.depth-(Be-1));y.replace(Ue,B.after(-_e),new Slice(Ne,4-Be,0));let He=-1;y.doc.nodesBetween(Ue,y.doc.content.size,(qe,Qe)=>{if(He>-1)return!1;qe.isTextblock&&qe.content.size===0&&(He=Qe+1)}),He>-1&&y.setSelection(TextSelection.near(y.doc.resolve(He))),y.scrollIntoView()}return!0}const ae=U.pos===B.end()?J.contentMatchAt(0).defaultType:null,ue={...getSplittedAttributes(te,J.type.name,J.attrs),...x},pe={...getSplittedAttributes(te,B.node().type.name,B.node().attrs),...x};y.delete(B.pos,U.pos);const $e=ae?[{type:O,attrs:ue},{type:ae,attrs:pe}]:[{type:O,attrs:ue}];if(!canSplit(y.doc,B.pos,2))return!1;if(R){const{selection:Ne,storedMarks:Be}=b,{splittableMarks:_e}=T.extensionManager,xe=Be||Ne.$to.parentOffset&&Ne.$from.marks();if(y.split(B.pos,2,$e).scrollIntoView(),!xe||!R)return!0;const Le=xe.filter(Ue=>_e.includes(Ue.type.name));y.ensureMarks(Le)}return!0},joinListBackwards=(r,x)=>{const y=findParentNode(A=>A.type===x)(r.selection);if(!y)return!0;const b=r.doc.resolve(Math.max(0,y.pos-1)).before(y.depth);if(b===void 0)return!0;const R=r.doc.nodeAt(b);return y.node.type===(R==null?void 0:R.type)&&canJoin(r.doc,y.pos)&&r.join(y.pos),!0},joinListForwards=(r,x)=>{const y=findParentNode(A=>A.type===x)(r.selection);if(!y)return!0;const b=r.doc.resolve(y.start).after(y.depth);if(b===void 0)return!0;const R=r.doc.nodeAt(b);return y.node.type===(R==null?void 0:R.type)&&canJoin(r.doc,b)&&r.join(b),!0},toggleList=(r,x,y,b={})=>({editor:R,tr:T,state:A,dispatch:O,chain:B,commands:U,can:K})=>{const{extensions:J,splittableMarks:te}=R.extensionManager,ae=getNodeType(r,A.schema),ue=getNodeType(x,A.schema),{selection:pe,storedMarks:$e}=A,{$from:Ne,$to:Be}=pe,_e=Ne.blockRange(Be),xe=$e||pe.$to.parentOffset&&pe.$from.marks();if(!_e)return!1;const Le=findParentNode(Ue=>isList(Ue.type.name,J))(pe);if(_e.depth>=1&&Le&&_e.depth-Le.depth<=1){if(Le.node.type===ae)return U.liftListItem(ue);if(isList(Le.node.type.name,J)&&ae.validContent(Le.node.content)&&O)return B().command(()=>(T.setNodeMarkup(Le.pos,ae),!0)).command(()=>joinListBackwards(T,ae)).command(()=>joinListForwards(T,ae)).run()}return!y||!xe||!O?B().command(()=>K().wrapInList(ae,b)?!0:U.clearNodes()).wrapInList(ae,b).command(()=>joinListBackwards(T,ae)).command(()=>joinListForwards(T,ae)).run():B().command(()=>{const Ue=K().wrapInList(ae,b),He=xe.filter(qe=>te.includes(qe.type.name));return T.ensureMarks(He),Ue?!0:U.clearNodes()}).wrapInList(ae,b).command(()=>joinListBackwards(T,ae)).command(()=>joinListForwards(T,ae)).run()},toggleMark=(r,x={},y={})=>({state:b,commands:R})=>{const{extendEmptyMarkRange:T=!1}=y,A=getMarkType(r,b.schema);return isMarkActive(b,A,x)?R.unsetMark(A,{extendEmptyMarkRange:T}):R.setMark(A,x)},toggleNode=(r,x,y={})=>({state:b,commands:R})=>{const T=getNodeType(r,b.schema),A=getNodeType(x,b.schema),O=isNodeActive(b,T,y);let B;return b.selection.$anchor.sameParent(b.selection.$head)&&(B=b.selection.$anchor.parent.attrs),O?R.setNode(A,B):R.setNode(T,{...B,...y})},toggleWrap=(r,x={})=>({state:y,commands:b})=>{const R=getNodeType(r,y.schema);return isNodeActive(y,R,x)?b.lift(R):b.wrapIn(R,x)},undoInputRule=()=>({state:r,dispatch:x})=>{const y=r.plugins;for(let b=0;b<y.length;b+=1){const R=y[b];let T;if(R.spec.isInputRules&&(T=R.getState(r))){if(x){const A=r.tr,O=T.transform;for(let B=O.steps.length-1;B>=0;B-=1)A.step(O.steps[B].invert(O.docs[B]));if(T.text){const B=A.doc.resolve(T.from).marks();A.replaceWith(T.from,T.to,r.schema.text(T.text,B))}else A.delete(T.from,T.to)}return!0}}return!1},unsetAllMarks=()=>({tr:r,dispatch:x})=>{const{selection:y}=r,{empty:b,ranges:R}=y;return b||x&&R.forEach(T=>{r.removeMark(T.$from.pos,T.$to.pos)}),!0},unsetMark=(r,x={})=>({tr:y,state:b,dispatch:R})=>{var T;const{extendEmptyMarkRange:A=!1}=x,{selection:O}=y,B=getMarkType(r,b.schema),{$from:U,empty:K,ranges:J}=O;if(!R)return!0;if(K&&A){let{from:te,to:ae}=O;const ue=(T=U.marks().find($e=>$e.type===B))==null?void 0:T.attrs,pe=getMarkRange(U,B,ue);pe&&(te=pe.from,ae=pe.to),y.removeMark(te,ae,B)}else J.forEach(te=>{y.removeMark(te.$from.pos,te.$to.pos,B)});return y.removeStoredMark(B),!0},updateAttributes=(r,x={})=>({tr:y,state:b,dispatch:R})=>{let T=null,A=null;const O=getSchemaTypeNameByName(typeof r=="string"?r:r.name,b.schema);return O?(O==="node"&&(T=getNodeType(r,b.schema)),O==="mark"&&(A=getMarkType(r,b.schema)),R&&y.selection.ranges.forEach(B=>{const U=B.$from.pos,K=B.$to.pos;let J,te,ae,ue;y.selection.empty?b.doc.nodesBetween(U,K,(pe,$e)=>{T&&T===pe.type&&(ae=Math.max($e,U),ue=Math.min($e+pe.nodeSize,K),J=$e,te=pe)}):b.doc.nodesBetween(U,K,(pe,$e)=>{$e<U&&T&&T===pe.type&&(ae=Math.max($e,U),ue=Math.min($e+pe.nodeSize,K),J=$e,te=pe),$e>=U&&$e<=K&&(T&&T===pe.type&&y.setNodeMarkup($e,void 0,{...pe.attrs,...x}),A&&pe.marks.length&&pe.marks.forEach(Ne=>{if(A===Ne.type){const Be=Math.max($e,U),_e=Math.min($e+pe.nodeSize,K);y.addMark(Be,_e,A.create({...Ne.attrs,...x}))}}))}),te&&(J!==void 0&&y.setNodeMarkup(J,void 0,{...te.attrs,...x}),A&&te.marks.length&&te.marks.forEach(pe=>{A===pe.type&&y.addMark(ae,ue,A.create({...pe.attrs,...x}))}))}),!0):!1},wrapIn=(r,x={})=>({state:y,dispatch:b})=>{const R=getNodeType(r,y.schema);return wrapIn$1(R,x)(y,b)},wrapInList=(r,x={})=>({state:y,dispatch:b})=>{const R=getNodeType(r,y.schema);return wrapInList$1(R,x)(y,b)},EventEmitter=class{constructor(){this.callbacks={}}on(r,x){return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r].push(x),this}emit(r,...x){const y=this.callbacks[r];return y&&y.forEach(b=>b.apply(this,x)),this}off(r,x){const y=this.callbacks[r];return y&&(x?this.callbacks[r]=y.filter(b=>b!==x):delete this.callbacks[r]),this}once(r,x){const y=(...b)=>{this.off(r,y),x.apply(this,b)};return this.on(r,y)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(r){var x;this.find=r.find,this.handler=r.handler,this.undoable=(x=r.undoable)!=null?x:!0}},inputRuleMatcherHandler=(r,x)=>{if(isRegExp(x))return x.exec(r);const y=x(r);if(!y)return null;const b=[y.text];return b.index=y.index,b.input=r,b.data=y.data,y.replaceWith&&(y.text.includes(y.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),b.push(y.replaceWith)),b};function run$2(r){var x;const{editor:y,from:b,to:R,text:T,rules:A,plugin:O}=r,{view:B}=y;if(B.composing)return!1;const U=B.state.doc.resolve(b);if(U.parent.type.spec.code||(x=U.nodeBefore||U.nodeAfter)!=null&&x.marks.find(te=>te.type.spec.code))return!1;let K=!1;const J=getTextContentFromNodes(U)+T;return A.forEach(te=>{if(K)return;const ae=inputRuleMatcherHandler(J,te.find);if(!ae)return;const ue=B.state.tr,pe=createChainableState({state:B.state,transaction:ue}),$e={from:b-(ae[0].length-T.length),to:R},{commands:Ne,chain:Be,can:_e}=new CommandManager({editor:y,state:pe});te.handler({state:pe,range:$e,match:ae,commands:Ne,chain:Be,can:_e})===null||!ue.steps.length||(te.undoable&&ue.setMeta(O,{transform:ue,from:b,to:R,text:T}),B.dispatch(ue),K=!0)}),K}function inputRulesPlugin(r){const{editor:x,rules:y}=r,b=new Plugin({state:{init(){return null},apply(R,T,A){const O=R.getMeta(b);if(O)return O;const B=R.getMeta("applyInputRules");return!!B&&setTimeout(()=>{let{text:K}=B;typeof K=="string"?K=K:K=getHTMLFromFragment(Fragment.from(K),A.schema);const{from:J}=B,te=J+K.length;run$2({editor:x,from:J,to:te,text:K,rules:y,plugin:b})}),R.selectionSet||R.docChanged?null:T}},props:{handleTextInput(R,T,A,O){return run$2({editor:x,from:T,to:A,text:O,rules:y,plugin:b})},handleDOMEvents:{compositionend:R=>(setTimeout(()=>{const{$cursor:T}=R.state.selection;T&&run$2({editor:x,from:T.pos,to:T.pos,text:"",rules:y,plugin:b})}),!1)},handleKeyDown(R,T){if(T.key!=="Enter")return!1;const{$cursor:A}=R.state.selection;return A?run$2({editor:x,from:A.pos,to:A.pos,text:`
`,rules:y,plugin:b}):!1}},isInputRules:!0});return b}function getType(r){return Object.prototype.toString.call(r).slice(8,-1)}function isPlainObject(r){return getType(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function mergeDeep(r,x){const y={...r};return isPlainObject(r)&&isPlainObject(x)&&Object.keys(x).forEach(b=>{isPlainObject(x[b])&&isPlainObject(r[b])?y[b]=mergeDeep(r[b],x[b]):y[b]=x[b]}),y}var Extendable=class{constructor(r={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...r},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(r={}){const x=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,r)});return x.name=this.name,x.parent=this.parent,x}extend(r={}){const x=new this.constructor({...this.config,...r});return x.parent=this,this.child=x,x.name="name"in r?r.name:x.parent.name,x}},Mark=class Ip extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(x={}){const y=typeof x=="function"?x():x;return new Ip(y)}static handleExit({editor:x,mark:y}){const{tr:b}=x.state,R=x.state.selection.$from;if(R.pos===R.end()){const A=R.marks();if(!!!A.find(U=>(U==null?void 0:U.type.name)===y.name))return!1;const B=A.find(U=>(U==null?void 0:U.type.name)===y.name);return B&&b.removeStoredMark(B),b.insertText(" ",R.pos),x.view.dispatch(b),!0}return!1}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}};function isNumber(r){return typeof r=="number"}var PasteRule=class{constructor(r){this.find=r.find,this.handler=r.handler}},pasteRuleMatcherHandler=(r,x,y)=>{if(isRegExp(x))return[...r.matchAll(x)];const b=x(r,y);return b?b.map(R=>{const T=[R.text];return T.index=R.index,T.input=r,T.data=R.data,R.replaceWith&&(R.text.includes(R.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),T.push(R.replaceWith)),T}):[]};function run2(r){const{editor:x,state:y,from:b,to:R,rule:T,pasteEvent:A,dropEvent:O}=r,{commands:B,chain:U,can:K}=new CommandManager({editor:x,state:y}),J=[];return y.doc.nodesBetween(b,R,(ae,ue)=>{var pe,$e,Ne,Be,_e;if(($e=(pe=ae.type)==null?void 0:pe.spec)!=null&&$e.code||!(ae.isText||ae.isTextblock||ae.isInline))return;const xe=(_e=(Be=(Ne=ae.content)==null?void 0:Ne.size)!=null?Be:ae.nodeSize)!=null?_e:0,Le=Math.max(b,ue),Ue=Math.min(R,ue+xe);if(Le>=Ue)return;const He=ae.isText?ae.text||"":ae.textBetween(Le-ue,Ue-ue,void 0,"");pasteRuleMatcherHandler(He,T.find,A).forEach(Qe=>{if(Qe.index===void 0)return;const lt=Le+Qe.index+1,ct=lt+Qe[0].length,ot={from:y.tr.mapping.map(lt),to:y.tr.mapping.map(ct)},pt=T.handler({state:y,range:ot,match:Qe,commands:B,chain:U,can:K,pasteEvent:A,dropEvent:O});J.push(pt)})}),J.every(ae=>ae!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=r=>{var x;const y=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(x=y.clipboardData)==null||x.setData("text/html",r),y};function pasteRulesPlugin(r){const{editor:x,rules:y}=r;let b=null,R=!1,T=!1,A=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,O;try{O=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{O=null}const B=({state:K,from:J,to:te,rule:ae,pasteEvt:ue})=>{const pe=K.tr,$e=createChainableState({state:K,transaction:pe});if(!(!run2({editor:x,state:$e,from:Math.max(J-1,0),to:te.b-1,rule:ae,pasteEvent:ue,dropEvent:O})||!pe.steps.length)){try{O=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{O=null}return A=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,pe}};return y.map(K=>new Plugin({view(J){const te=ue=>{var pe;b=(pe=J.dom.parentElement)!=null&&pe.contains(ue.target)?J.dom.parentElement:null,b&&(tiptapDragFromOtherEditor=x)},ae=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",te),window.addEventListener("dragend",ae),{destroy(){window.removeEventListener("dragstart",te),window.removeEventListener("dragend",ae)}}},props:{handleDOMEvents:{drop:(J,te)=>{if(T=b===J.dom.parentElement,O=te,!T){const ae=tiptapDragFromOtherEditor;ae!=null&&ae.isEditable&&setTimeout(()=>{const ue=ae.state.selection;ue&&ae.commands.deleteRange({from:ue.from,to:ue.to})},10)}return!1},paste:(J,te)=>{var ae;const ue=(ae=te.clipboardData)==null?void 0:ae.getData("text/html");return A=te,R=!!(ue!=null&&ue.includes("data-pm-slice")),!1}}},appendTransaction:(J,te,ae)=>{const ue=J[0],pe=ue.getMeta("uiEvent")==="paste"&&!R,$e=ue.getMeta("uiEvent")==="drop"&&!T,Ne=ue.getMeta("applyPasteRules"),Be=!!Ne;if(!pe&&!$e&&!Be)return;if(Be){let{text:Le}=Ne;typeof Le=="string"?Le=Le:Le=getHTMLFromFragment(Fragment.from(Le),ae.schema);const{from:Ue}=Ne,He=Ue+Le.length,qe=createClipboardPasteEvent(Le);return B({rule:K,state:ae,from:Ue,to:{b:He},pasteEvt:qe})}const _e=te.doc.content.findDiffStart(ae.doc.content),xe=te.doc.content.findDiffEnd(ae.doc.content);if(!(!isNumber(_e)||!xe||_e===xe.b))return B({rule:K,state:ae,from:_e,to:xe,pasteEvt:A})}}))}var ExtensionManager=class{constructor(r,x){this.splittableMarks=[],this.editor=x,this.baseExtensions=r,this.extensions=resolveExtensions(r),this.schema=getSchemaByResolvedExtensions(this.extensions,x),this.setupExtensions()}get commands(){return this.extensions.reduce((r,x)=>{const y={name:x.name,options:x.options,storage:this.editor.extensionStorage[x.name],editor:this.editor,type:getSchemaTypeByName(x.name,this.schema)},b=getExtensionField(x,"addCommands",y);return b?{...r,...b()}:r},{})}get plugins(){const{editor:r}=this;return sortExtensions([...this.extensions].reverse()).flatMap(b=>{const R={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:r,type:getSchemaTypeByName(b.name,this.schema)},T=[],A=getExtensionField(b,"addKeyboardShortcuts",R);let O={};if(b.type==="mark"&&getExtensionField(b,"exitable",R)&&(O.ArrowRight=()=>Mark.handleExit({editor:r,mark:b})),A){const te=Object.fromEntries(Object.entries(A()).map(([ae,ue])=>[ae,()=>ue({editor:r})]));O={...O,...te}}const B=keymap(O);T.push(B);const U=getExtensionField(b,"addInputRules",R);if(isExtensionRulesEnabled(b,r.options.enableInputRules)&&U){const te=U();if(te&&te.length){const ae=inputRulesPlugin({editor:r,rules:te}),ue=Array.isArray(ae)?ae:[ae];T.push(...ue)}}const K=getExtensionField(b,"addPasteRules",R);if(isExtensionRulesEnabled(b,r.options.enablePasteRules)&&K){const te=K();if(te&&te.length){const ae=pasteRulesPlugin({editor:r,rules:te});T.push(...ae)}}const J=getExtensionField(b,"addProseMirrorPlugins",R);if(J){const te=J();T.push(...te)}return T})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:r}=this,{nodeExtensions:x}=splitExtensions(this.extensions);return Object.fromEntries(x.filter(y=>!!getExtensionField(y,"addNodeView")).map(y=>{const b=this.attributes.filter(B=>B.type===y.name),R={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:r,type:getNodeType(y.name,this.schema)},T=getExtensionField(y,"addNodeView",R);if(!T)return[];const A=T();if(!A)return[];const O=(B,U,K,J,te)=>{const ae=getRenderedAttributes(B,b);return A({node:B,view:U,getPos:K,decorations:J,innerDecorations:te,editor:r,extension:y,HTMLAttributes:ae})};return[y.name,O]}))}get markViews(){const{editor:r}=this,{markExtensions:x}=splitExtensions(this.extensions);return Object.fromEntries(x.filter(y=>!!getExtensionField(y,"addMarkView")).map(y=>{const b=this.attributes.filter(O=>O.type===y.name),R={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:r,type:getMarkType(y.name,this.schema)},T=getExtensionField(y,"addMarkView",R);if(!T)return[];const A=(O,B,U)=>{const K=getRenderedAttributes(O,b);return T()({mark:O,view:B,inline:U,editor:r,extension:y,HTMLAttributes:K,updateAttributes:J=>{updateMarkViewAttributes(O,r,J)}})};return[y.name,A]}))}setupExtensions(){const r=this.extensions;this.editor.extensionStorage=Object.fromEntries(r.map(x=>[x.name,x.storage])),r.forEach(x=>{var y;const b={name:x.name,options:x.options,storage:this.editor.extensionStorage[x.name],editor:this.editor,type:getSchemaTypeByName(x.name,this.schema)};x.type==="mark"&&((y=callOrReturn(getExtensionField(x,"keepOnSplit",b)))==null||y)&&this.splittableMarks.push(x.name);const R=getExtensionField(x,"onBeforeCreate",b),T=getExtensionField(x,"onCreate",b),A=getExtensionField(x,"onUpdate",b),O=getExtensionField(x,"onSelectionUpdate",b),B=getExtensionField(x,"onTransaction",b),U=getExtensionField(x,"onFocus",b),K=getExtensionField(x,"onBlur",b),J=getExtensionField(x,"onDestroy",b);R&&this.editor.on("beforeCreate",R),T&&this.editor.on("create",T),A&&this.editor.on("update",A),O&&this.editor.on("selectionUpdate",O),B&&this.editor.on("transaction",B),U&&this.editor.on("focus",U),K&&this.editor.on("blur",K),J&&this.editor.on("destroy",J)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class kp extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(x={}){const y=typeof x=="function"?x():x;return new kp(y)}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:x,schema:y}=r,{doc:b,selection:R}=x,{ranges:T}=R,A=Math.min(...T.map(K=>K.$from.pos)),O=Math.max(...T.map(K=>K.$to.pos)),B=getTextSerializersFromSchema(y);return getTextBetween(b,{from:A,to:O},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:B})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:r,appendedTransactions:x}){var y,b,R;const T=()=>{var A,O,B,U;if((U=(B=(O=(A=this.editor.options.coreExtensionOptions)==null?void 0:A.delete)==null?void 0:O.filterTransaction)==null?void 0:B.call(O,r))!=null?U:r.getMeta("y-sync$"))return;const K=combineTransactionSteps(r.before,[r,...x]);getChangedRanges(K).forEach(ae=>{K.mapping.mapResult(ae.oldRange.from).deletedAfter&&K.mapping.mapResult(ae.oldRange.to).deletedBefore&&K.before.nodesBetween(ae.oldRange.from,ae.oldRange.to,(ue,pe)=>{const $e=pe+ue.nodeSize-2,Ne=ae.oldRange.from<=pe&&$e<=ae.oldRange.to;this.editor.emit("delete",{type:"node",node:ue,from:pe,to:$e,newFrom:K.mapping.map(pe),newTo:K.mapping.map($e),deletedRange:ae.oldRange,newRange:ae.newRange,partial:!Ne,editor:this.editor,transaction:r,combinedTransform:K})})});const te=K.mapping;K.steps.forEach((ae,ue)=>{var pe,$e;if(ae instanceof RemoveMarkStep){const Ne=te.slice(ue).map(ae.from,-1),Be=te.slice(ue).map(ae.to),_e=te.invert().map(Ne,-1),xe=te.invert().map(Be),Le=(pe=K.doc.nodeAt(Ne-1))==null?void 0:pe.marks.some(He=>He.eq(ae.mark)),Ue=($e=K.doc.nodeAt(Be))==null?void 0:$e.marks.some(He=>He.eq(ae.mark));this.editor.emit("delete",{type:"mark",mark:ae.mark,from:ae.from,to:ae.to,deletedRange:{from:_e,to:xe},newRange:{from:Ne,to:Be},partial:!!(Ue||Le),editor:this.editor,transaction:r,combinedTransform:K})}})};(R=(b=(y=this.editor.options.coreExtensionOptions)==null?void 0:y.delete)==null?void 0:b.async)==null||R?setTimeout(T,0):T()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(r,x,y,b)=>{this.editor.emit("drop",{editor:this.editor,event:x,slice:y,moved:b})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(x,y)=>{r.isFocused=!0;const b=r.state.tr.setMeta("focus",{event:y}).setMeta("addToHistory",!1);return x.dispatch(b),!1},blur:(x,y)=>{r.isFocused=!1;const b=r.state.tr.setMeta("blur",{event:y}).setMeta("addToHistory",!1);return x.dispatch(b),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:A})=>[()=>A.undoInputRule(),()=>A.command(({tr:O})=>{const{selection:B,doc:U}=O,{empty:K,$anchor:J}=B,{pos:te,parent:ae}=J,ue=J.parent.isTextblock&&te>0?O.doc.resolve(te-1):J,pe=ue.parent.type.spec.isolating,$e=J.pos-J.parentOffset,Ne=pe&&ue.parent.childCount===1?$e===J.pos:Selection.atStart(U).from===te;return!K||!ae.type.isTextblock||ae.textContent.length||!Ne||Ne&&J.parent.type.name==="paragraph"?!1:A.clearNodes()}),()=>A.deleteSelection(),()=>A.joinBackward(),()=>A.selectNodeBackward()]),x=()=>this.editor.commands.first(({commands:A})=>[()=>A.deleteSelection(),()=>A.deleteCurrentNode(),()=>A.joinForward(),()=>A.selectNodeForward()]),b={Enter:()=>this.editor.commands.first(({commands:A})=>[()=>A.newlineInCode(),()=>A.createParagraphNear(),()=>A.liftEmptyBlock(),()=>A.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:x,"Mod-Delete":x,"Mod-a":()=>this.editor.commands.selectAll()},R={...b},T={...b,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":x,"Ctrl-Alt-Backspace":x,"Alt-Delete":x,"Alt-d":x,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?T:R},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(r,x,y)=>{if(r.some(pe=>pe.getMeta("composition")))return;const b=r.some(pe=>pe.docChanged)&&!x.doc.eq(y.doc),R=r.some(pe=>pe.getMeta("preventClearDocument"));if(!b||R)return;const{empty:T,from:A,to:O}=x.selection,B=Selection.atStart(x.doc).from,U=Selection.atEnd(x.doc).to;if(T||!(A===B&&O===U)||!isNodeEmpty(y.doc))return;const te=y.tr,ae=createChainableState({state:y,transaction:te}),{commands:ue}=new CommandManager({editor:this.editor,state:ae});if(ue.clearNodes(),!!te.steps.length)return te}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(r,x,y)=>{this.editor.emit("paste",{editor:this.editor,event:x,slice:y})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NodePos=class _o{constructor(x,y,b=!1,R=null){this.currentNode=null,this.actualDepth=null,this.isBlock=b,this.resolvedPos=x,this.editor=y,this.currentNode=R}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var x;return(x=this.actualDepth)!=null?x:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(x){let y=this.from,b=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}y=this.from+1,b=this.to-1}this.editor.commands.insertContentAt({from:y,to:b},x)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const x=this.resolvedPos.start(this.resolvedPos.depth-1),y=this.resolvedPos.doc.resolve(x);return new _o(y,this.editor)}get before(){let x=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return x.depth!==this.depth&&(x=this.resolvedPos.doc.resolve(this.from-3)),new _o(x,this.editor)}get after(){let x=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return x.depth!==this.depth&&(x=this.resolvedPos.doc.resolve(this.to+3)),new _o(x,this.editor)}get children(){const x=[];return this.node.content.forEach((y,b)=>{const R=y.isBlock&&!y.isTextblock,T=y.isAtom&&!y.isText,A=this.pos+b+(T?0:1);if(A<0||A>this.resolvedPos.doc.nodeSize-2)return;const O=this.resolvedPos.doc.resolve(A);if(!R&&O.depth<=this.depth)return;const B=new _o(O,this.editor,R,R?y:null);R&&(B.actualDepth=this.depth+1),x.push(new _o(O,this.editor,R,R?y:null))}),x}get firstChild(){return this.children[0]||null}get lastChild(){const x=this.children;return x[x.length-1]||null}closest(x,y={}){let b=null,R=this.parent;for(;R&&!b;){if(R.node.type.name===x)if(Object.keys(y).length>0){const T=R.node.attrs,A=Object.keys(y);for(let O=0;O<A.length;O+=1){const B=A[O];if(T[B]!==y[B])break}}else b=R;R=R.parent}return b}querySelector(x,y={}){return this.querySelectorAll(x,y,!0)[0]||null}querySelectorAll(x,y={},b=!1){let R=[];if(!this.children||this.children.length===0)return R;const T=Object.keys(y);return this.children.forEach(A=>{b&&R.length>0||(A.node.type.name===x&&T.every(B=>y[B]===A.node.attrs[B])&&R.push(A),!(b&&R.length>0)&&(R=R.concat(A.querySelectorAll(x,y,b))))}),R}setAttribute(x){const{tr:y}=this.editor.state;y.setNodeMarkup(this.from,void 0,{...this.node.attrs,...x}),this.editor.view.dispatch(y)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(r,x,y){const b=document.querySelector("style[data-tiptap-style]");if(b!==null)return b;const R=document.createElement("style");return x&&R.setAttribute("nonce",x),R.setAttribute("data-tiptap-style",""),R.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(R),R}var Editor=class extends EventEmitter{constructor(r={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:b})=>{throw b},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(r),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:b,slice:R,moved:T})=>this.options.onDrop(b,R,T)),this.on("paste",({event:b,slice:R})=>this.options.onPaste(b,R)),this.on("delete",this.options.onDelete);const x=this.createDoc(),y=resolveFocusPosition(x,this.options.autofocus);this.editorState=EditorState.create({doc:x,schema:this.schema,selection:y||void 0}),this.options.element&&this.mount(this.options.element)}mount(r){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(r),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const r=this.editorView.dom;r!=null&&r.editor&&delete r.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(r){console.warn("Failed to remove CSS element:",r)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(r={}){this.options={...this.options,...r},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(r,x=!0){this.setOptions({editable:r}),x&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:r=>{this.editorState=r},dispatch:r=>{this.dispatchTransaction(r)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(r,x)=>{if(this.editorView)return this.editorView[x];if(x==="state")return this.editorState;if(x in r)return Reflect.get(r,x);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${x}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(r,x){const y=isFunction(x)?x(r,[...this.state.plugins]):[...this.state.plugins,r],b=this.state.reconfigure({plugins:y});return this.view.updateState(b),b}unregisterPlugin(r){if(this.isDestroyed)return;const x=this.state.plugins;let y=x;if([].concat(r).forEach(R=>{const T=typeof R=="string"?`${R}$`:R.key;y=y.filter(A=>!A.key.startsWith(T))}),x.length===y.length)return;const b=this.state.reconfigure({plugins:y});return this.view.updateState(b),b}createExtensionManager(){var r,x;const b=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(x=(r=this.options.coreExtensionOptions)==null?void 0:r.clipboardTextSerializer)==null?void 0:x.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete].filter(R=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[R.name]!==!1:!0):[],...this.options.extensions].filter(R=>["extension","node","mark"].includes(R==null?void 0:R.type));this.extensionManager=new ExtensionManager(b,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let r;try{r=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(x){if(!(x instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(x.message))throw x;this.emit("contentError",{editor:this,error:x,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(y=>y.name!=="collaboration"),this.createExtensionManager()}}),r=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return r}createView(r){var x;this.editorView=new EditorView(r,{...this.options.editorProps,attributes:{role:"textbox",...(x=this.options.editorProps)==null?void 0:x.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const y=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(y),this.prependClass(),this.injectCSS();const b=this.view.dom;b.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(r){this.isCapturingTransaction=!0,r(),this.isCapturingTransaction=!1;const x=this.capturedTransaction;return this.capturedTransaction=null,x}dispatchTransaction(r){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=r;return}r.steps.forEach(U=>{var K;return(K=this.capturedTransaction)==null?void 0:K.step(U)});return}const{state:x,transactions:y}=this.state.applyTransaction(r),b=!this.state.selection.eq(x.selection),R=y.includes(r),T=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:r,nextState:x}),!R)return;this.view.updateState(x),this.emit("transaction",{editor:this,transaction:r,appendedTransactions:y.slice(1)}),b&&this.emit("selectionUpdate",{editor:this,transaction:r});const A=y.findLast(U=>U.getMeta("focus")||U.getMeta("blur")),O=A==null?void 0:A.getMeta("focus"),B=A==null?void 0:A.getMeta("blur");O&&this.emit("focus",{editor:this,event:O.event,transaction:A}),B&&this.emit("blur",{editor:this,event:B.event,transaction:A}),!(r.getMeta("preventUpdate")||!y.some(U=>U.docChanged)||T.doc.eq(x.doc))&&this.emit("update",{editor:this,transaction:r,appendedTransactions:y.slice(1)})}getAttributes(r){return getAttributes(this.state,r)}isActive(r,x){const y=typeof r=="string"?r:null,b=typeof r=="string"?x:r;return isActive$1(this.state,y,b)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(r){const{blockSeparator:x=`

`,textSerializers:y={}}=r||{};return getText(this.state.doc,{blockSeparator:x,textSerializers:{...getTextSerializersFromSchema(this.schema),...y}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var r,x;return(x=(r=this.editorView)==null?void 0:r.isDestroyed)!=null?x:!0}$node(r,x){var y;return((y=this.$doc)==null?void 0:y.querySelector(r,x))||null}$nodes(r,x){var y;return((y=this.$doc)==null?void 0:y.querySelectorAll(r,x))||null}$pos(r){const x=this.state.doc.resolve(r);return new NodePos(x,this)}get $doc(){return this.$pos(0)}};function markInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const R=callOrReturn(r.getAttributes,void 0,b);if(R===!1||R===null)return null;const{tr:T}=x,A=b[b.length-1],O=b[0];if(A){const B=O.search(/\S/),U=y.from+O.indexOf(A),K=U+A.length;if(getMarksBetween(y.from,y.to,x.doc).filter(ae=>ae.mark.type.excluded.find(pe=>pe===r.type&&pe!==ae.mark.type)).filter(ae=>ae.to>U).length)return null;K<y.to&&T.delete(K,y.to),U>y.from&&T.delete(y.from+B,U);const te=y.from+B+A.length;T.addMark(y.from+B,te,r.type.create(R||{})),T.removeStoredMark(r.type)}},undoable:r.undoable})}function nodeInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const R=callOrReturn(r.getAttributes,void 0,b)||{},{tr:T}=x,A=y.from;let O=y.to;const B=r.type.create(R);if(b[1]){const U=b[0].lastIndexOf(b[1]);let K=A+U;K>O?K=O:O=K+b[1].length;const J=b[0][b[0].length-1];T.insertText(J,A+b[0].length-1),T.replaceWith(K,O,B)}else if(b[0]){const U=r.type.isInline?A:A-1;T.insert(U,r.type.create(R)).delete(T.mapping.map(A),T.mapping.map(O))}T.scrollIntoView()},undoable:r.undoable})}function textblockTypeInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const R=x.doc.resolve(y.from),T=callOrReturn(r.getAttributes,void 0,b)||{};if(!R.node(-1).canReplaceWith(R.index(-1),R.indexAfter(-1),r.type))return null;x.tr.delete(y.from,y.to).setBlockType(y.from,y.from,r.type,T)},undoable:r.undoable})}function wrappingInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b,chain:R})=>{const T=callOrReturn(r.getAttributes,void 0,b)||{},A=x.tr.delete(y.from,y.to),B=A.doc.resolve(y.from).blockRange(),U=B&&findWrapping(B,r.type,T);if(!U)return null;if(A.wrap(B,U),r.keepMarks&&r.editor){const{selection:J,storedMarks:te}=x,{splittableMarks:ae}=r.editor.extensionManager,ue=te||J.$to.parentOffset&&J.$from.marks();if(ue){const pe=ue.filter($e=>ae.includes($e.type.name));A.ensureMarks(pe)}}if(r.keepAttributes){const J=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";R().updateAttributes(J,T).run()}const K=A.doc.resolve(y.from-1).nodeBefore;K&&K.type===r.type&&canJoin(A.doc,y.from-1)&&(!r.joinPredicate||r.joinPredicate(b,K))&&A.join(y.from-1)},undoable:r.undoable})}var isTouchEvent=r=>"touches"in r,ResizableNodeView=class{constructor(r){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=A=>{if(!this.isResizing||!this.activeHandle)return;const O=A.clientX-this.startX,B=A.clientY-this.startY;this.handleResize(O,B)},this.handleTouchMove=A=>{if(!this.isResizing||!this.activeHandle)return;const O=A.touches[0];if(!O)return;const B=O.clientX-this.startX,U=O.clientY-this.startY;this.handleResize(B,U)},this.handleMouseUp=()=>{if(!this.isResizing)return;const A=this.element.offsetWidth,O=this.element.offsetHeight;this.onCommit(A,O),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=A=>{A.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=A=>{A.key==="Shift"&&(this.isShiftKeyPressed=!1)};var x,y,b,R,T;this.node=r.node,this.element=r.element,this.contentElement=r.contentElement,this.getPos=r.getPos,this.onResize=r.onResize,this.onCommit=r.onCommit,this.onUpdate=r.onUpdate,(x=r.options)!=null&&x.min&&(this.minSize={...this.minSize,...r.options.min}),(y=r.options)!=null&&y.max&&(this.maxSize=r.options.max),(b=r==null?void 0:r.options)!=null&&b.directions&&(this.directions=r.options.directions),(R=r.options)!=null&&R.preserveAspectRatio&&(this.preserveAspectRatio=r.options.preserveAspectRatio),(T=r.options)!=null&&T.className&&(this.classNames={container:r.options.className.container||"",wrapper:r.options.className.wrapper||"",handle:r.options.className.handle||"",resizing:r.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(r,x,y){return r.type!==this.node.type?!1:(this.node=r,this.onUpdate?this.onUpdate(r,x,y):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const r=document.createElement("div");return r.dataset.resizeContainer="",r.dataset.node=this.node.type.name,r.style.display="flex",r.style.justifyContent="flex-start",r.style.alignItems="flex-start",this.classNames.container&&(r.className=this.classNames.container),r.appendChild(this.wrapper),r}createWrapper(){const r=document.createElement("div");return r.style.position="relative",r.style.display="block",r.dataset.resizeWrapper="",this.classNames.wrapper&&(r.className=this.classNames.wrapper),r.appendChild(this.element),r}createHandle(r){const x=document.createElement("div");return x.dataset.resizeHandle=r,x.style.position="absolute",this.classNames.handle&&(x.className=this.classNames.handle),x}positionHandle(r,x){const y=x.includes("top"),b=x.includes("bottom"),R=x.includes("left"),T=x.includes("right");y&&(r.style.top="0"),b&&(r.style.bottom="0"),R&&(r.style.left="0"),T&&(r.style.right="0"),(x==="top"||x==="bottom")&&(r.style.left="0",r.style.right="0"),(x==="left"||x==="right")&&(r.style.top="0",r.style.bottom="0")}attachHandles(){this.directions.forEach(r=>{const x=this.createHandle(r);this.positionHandle(x,r),x.addEventListener("mousedown",y=>this.handleResizeStart(y,r)),x.addEventListener("touchstart",y=>this.handleResizeStart(y,r)),this.wrapper.appendChild(x)})}applyInitialSize(){const r=this.node.attrs.width,x=this.node.attrs.height;r?(this.element.style.width=`${r}px`,this.initialWidth=r):this.initialWidth=this.element.offsetWidth,x?(this.element.style.height=`${x}px`,this.initialHeight=x):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(r,x){r.preventDefault(),r.stopPropagation(),this.isResizing=!0,this.activeHandle=x,isTouchEvent(r)?(this.startX=r.touches[0].clientX,this.startY=r.touches[0].clientY):(this.startX=r.clientX,this.startY=r.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(r,x){if(!this.activeHandle)return;const y=this.preserveAspectRatio||this.isShiftKeyPressed,{width:b,height:R}=this.calculateNewDimensions(this.activeHandle,r,x),T=this.applyConstraints(b,R,y);this.element.style.width=`${T.width}px`,this.element.style.height=`${T.height}px`,this.onResize&&this.onResize(T.width,T.height)}calculateNewDimensions(r,x,y){let b=this.startWidth,R=this.startHeight;const T=r.includes("right"),A=r.includes("left"),O=r.includes("bottom"),B=r.includes("top");return T?b=this.startWidth+x:A&&(b=this.startWidth-x),O?R=this.startHeight+y:B&&(R=this.startHeight-y),(r==="right"||r==="left")&&(b=this.startWidth+(T?x:-x)),(r==="top"||r==="bottom")&&(R=this.startHeight+(O?y:-y)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(b,R,r):{width:b,height:R}}applyConstraints(r,x,y){var b,R,T,A;if(!y){let U=Math.max(this.minSize.width,r),K=Math.max(this.minSize.height,x);return(b=this.maxSize)!=null&&b.width&&(U=Math.min(this.maxSize.width,U)),(R=this.maxSize)!=null&&R.height&&(K=Math.min(this.maxSize.height,K)),{width:U,height:K}}let O=r,B=x;return O<this.minSize.width&&(O=this.minSize.width,B=O/this.aspectRatio),B<this.minSize.height&&(B=this.minSize.height,O=B*this.aspectRatio),(T=this.maxSize)!=null&&T.width&&O>this.maxSize.width&&(O=this.maxSize.width,B=O/this.aspectRatio),(A=this.maxSize)!=null&&A.height&&B>this.maxSize.height&&(B=this.maxSize.height,O=B*this.aspectRatio),{width:O,height:B}}applyAspectRatio(r,x,y){const b=y==="left"||y==="right",R=y==="top"||y==="bottom";return b?{width:r,height:r/this.aspectRatio}:R?{width:x*this.aspectRatio,height:x}:{width:r,height:r/this.aspectRatio}}};function canInsertNode(r,x){const{selection:y}=r,{$from:b}=y;if(y instanceof NodeSelection){const T=b.index();return b.parent.canReplaceWith(T,T+1,x)}let R=b.depth;for(;R>=0;){const T=b.index(R);if(b.node(R).contentMatchAt(T).matchType(x))return!0;R-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(r){if(!(r!=null&&r.trim()))return{};const x={},y=[],b=r.replace(/["']([^"']*)["']/g,U=>(y.push(U),`__QUOTED_${y.length-1}__`)),R=b.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(R){const U=R.map(K=>K.trim().slice(1));x.class=U.join(" ")}const T=b.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);T&&(x.id=T[1]);const A=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(b.matchAll(A)).forEach(([,U,K])=>{var J;const te=parseInt(((J=K.match(/__QUOTED_(\d+)__/))==null?void 0:J[1])||"0",10),ae=y[te];ae&&(x[U]=ae.slice(1,-1))});const B=b.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return B&&B.split(/\s+/).filter(Boolean).forEach(K=>{K.match(/^[a-zA-Z][\w-]*$/)&&(x[K]=!0)}),x}function serializeAttributes(r){if(!r||Object.keys(r).length===0)return"";const x=[];return r.class&&String(r.class).split(/\s+/).filter(Boolean).forEach(b=>x.push(`.${b}`)),r.id&&x.push(`#${r.id}`),Object.entries(r).forEach(([y,b])=>{y==="class"||y==="id"||(b===!0?x.push(y):b!==!1&&b!=null&&x.push(`${y}="${String(b)}"`))}),x.join(" ")}function createAtomBlockMarkdownSpec(r){const{nodeName:x,name:y,parseAttributes:b=parseAttributes,serializeAttributes:R=serializeAttributes,defaultAttributes:T={},requiredAttributes:A=[],allowedAttributes:O}=r,B=y||x,U=K=>{if(!O)return K;const J={};return O.forEach(te=>{te in K&&(J[te]=K[te])}),J};return{parseMarkdown:(K,J)=>{const te={...T,...K.attributes};return J.createNode(x,te,[])},markdownTokenizer:{name:x,level:"block",start(K){var J;const te=new RegExp(`^:::${B}(?:\\s|$)`,"m"),ae=(J=K.match(te))==null?void 0:J.index;return ae!==void 0?ae:-1},tokenize(K,J,te){const ae=new RegExp(`^:::${B}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),ue=K.match(ae);if(!ue)return;const pe=ue[1]||"",$e=b(pe);if(!A.find(Be=>!(Be in $e)))return{type:x,raw:ue[0],attributes:$e}}},renderMarkdown:K=>{const J=U(K.attrs||{}),te=R(J),ae=te?` {${te}}`:"";return`:::${B}${ae} :::`}}}function createBlockMarkdownSpec(r){const{nodeName:x,name:y,getContent:b,parseAttributes:R=parseAttributes,serializeAttributes:T=serializeAttributes,defaultAttributes:A={},content:O="block",allowedAttributes:B}=r,U=y||x,K=J=>{if(!B)return J;const te={};return B.forEach(ae=>{ae in J&&(te[ae]=J[ae])}),te};return{parseMarkdown:(J,te)=>{let ae;if(b){const pe=b(J);ae=typeof pe=="string"?[{type:"text",text:pe}]:pe}else O==="block"?ae=te.parseChildren(J.tokens||[]):ae=te.parseInline(J.tokens||[]);const ue={...A,...J.attributes};return te.createNode(x,ue,ae)},markdownTokenizer:{name:x,level:"block",start(J){var te;const ae=new RegExp(`^:::${U}`,"m"),ue=(te=J.match(ae))==null?void 0:te.index;return ue!==void 0?ue:-1},tokenize(J,te,ae){var ue;const pe=new RegExp(`^:::${U}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),$e=J.match(pe);if(!$e)return;const[Ne,Be=""]=$e,_e=R(Be);let xe=1;const Le=Ne.length;let Ue="";const He=/^:::([\w-]*)(\s.*)?/gm,qe=J.slice(Le);for(He.lastIndex=0;;){const Qe=He.exec(qe);if(Qe===null)break;const lt=Qe.index,ct=Qe[1];if(!((ue=Qe[2])!=null&&ue.endsWith(":::"))){if(ct)xe+=1;else if(xe-=1,xe===0){const ot=qe.slice(0,lt);Ue=ot.trim();const pt=J.slice(0,Le+lt+Qe[0].length);let yt=[];if(Ue)if(O==="block")for(yt=ae.blockTokens(ot),yt.forEach(it=>{it.text&&(!it.tokens||it.tokens.length===0)&&(it.tokens=ae.inlineTokens(it.text))});yt.length>0;){const it=yt[yt.length-1];if(it.type==="paragraph"&&(!it.text||it.text.trim()===""))yt.pop();else break}else yt=ae.inlineTokens(Ue);return{type:x,raw:pt,attributes:_e,content:Ue,tokens:yt}}}}}},renderMarkdown:(J,te)=>{const ae=K(J.attrs||{}),ue=T(ae),pe=ue?` {${ue}}`:"",$e=te.renderChildren(J.content||[],`

`);return`:::${U}${pe}

${$e}

:::`}}}function parseShortcodeAttributes(r){if(!r.trim())return{};const x={},y=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let b=y.exec(r);for(;b!==null;){const[,R,T,A]=b;x[R]=T||A,b=y.exec(r)}return x}function serializeShortcodeAttributes(r){return Object.entries(r).filter(([,x])=>x!=null).map(([x,y])=>`${x}="${y}"`).join(" ")}function createInlineMarkdownSpec(r){const{nodeName:x,name:y,getContent:b,parseAttributes:R=parseShortcodeAttributes,serializeAttributes:T=serializeShortcodeAttributes,defaultAttributes:A={},selfClosing:O=!1,allowedAttributes:B}=r,U=y||x,K=te=>{if(!B)return te;const ae={};return B.forEach(ue=>{ue in te&&(ae[ue]=te[ue])}),ae},J=U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(te,ae)=>{const ue={...A,...te.attributes};if(O)return ae.createNode(x,ue);const pe=b?b(te):te.content||"";return pe?ae.createNode(x,ue,[ae.createTextNode(pe)]):ae.createNode(x,ue,[])},markdownTokenizer:{name:x,level:"inline",start(te){const ae=O?new RegExp(`\\[${J}\\s*[^\\]]*\\]`):new RegExp(`\\[${J}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${J}\\]`),ue=te.match(ae),pe=ue==null?void 0:ue.index;return pe!==void 0?pe:-1},tokenize(te,ae,ue){const pe=O?new RegExp(`^\\[${J}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${J}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${J}\\]`),$e=te.match(pe);if(!$e)return;let Ne="",Be="";if(O){const[,xe]=$e;Be=xe}else{const[,xe,Le]=$e;Be=xe,Ne=Le||""}const _e=R(Be.trim());return{type:x,raw:$e[0],content:Ne.trim(),attributes:_e}}},renderMarkdown:te=>{let ae="";b?ae=b(te):te.content&&te.content.length>0&&(ae=te.content.filter(Ne=>Ne.type==="text").map(Ne=>Ne.text).join(""));const ue=K(te.attrs||{}),pe=T(ue),$e=pe?` ${pe}`:"";return O?`[${U}${$e}]`:`[${U}${$e}]${ae}[/${U}]`}}}function parseIndentedBlocks(r,x,y){var b,R,T,A;const O=r.split(`
`),B=[];let U="",K=0;const J=x.baseIndentSize||2;for(;K<O.length;){const te=O[K],ae=te.match(x.itemPattern);if(!ae){if(B.length>0)break;if(te.trim()===""){K+=1;continue}else return}const ue=x.extractItemData(ae),{indentLevel:pe,mainContent:$e}=ue;U=`${U}${te}
`;const Ne=[$e];for(K+=1;K<O.length;){const Le=O[K];if(Le.trim()===""){const He=O.slice(K+1).findIndex(lt=>lt.trim()!=="");if(He===-1)break;if((((R=(b=O[K+1+He].match(/^(\s*)/))==null?void 0:b[1])==null?void 0:R.length)||0)>pe){Ne.push(Le),U=`${U}${Le}
`,K+=1;continue}else break}if((((A=(T=Le.match(/^(\s*)/))==null?void 0:T[1])==null?void 0:A.length)||0)>pe)Ne.push(Le),U=`${U}${Le}
`,K+=1;else break}let Be;const _e=Ne.slice(1);if(_e.length>0){const Le=_e.map(Ue=>Ue.slice(pe+J)).join(`
`);Le.trim()&&(x.customNestedParser?Be=x.customNestedParser(Le):Be=y.blockTokens(Le))}const xe=x.createToken(ue,Be);B.push(xe)}if(B.length!==0)return{items:B,raw:U.trim()}}function renderNestedMarkdownContent(r,x,y,b){if(!r||!Array.isArray(r.content))return"";const R=typeof y=="function"?y(b):y,[T,...A]=r.content,O=x.renderChildren([T]),B=[`${R}${O}`];return A&&A.length>0&&A.forEach(U=>{const K=x.renderChildren([U]);if(K){const J=K.split(`
`).map(te=>te?x.indent(te):"").join(`
`);B.push(J)}}),B.join(`
`)}function updateMarkViewAttributes(r,x,y={}){const{state:b}=x,{doc:R,tr:T}=b,A=r;R.descendants((O,B)=>{const U=T.mapping.map(B),K=T.mapping.map(B)+O.nodeSize;let J=null;if(O.marks.forEach(ae=>{if(ae!==A)return!1;J=ae}),!J)return;let te=!1;if(Object.keys(y).forEach(ae=>{y[ae]!==J.attrs[ae]&&(te=!0)}),te){const ae=r.type.create({...r.attrs,...y});T.removeMark(U,K,r.type),T.addMark(U,K,ae)}}),T.docChanged&&x.view.dispatch(T)}var Node3=class Np extends Extendable{constructor(){super(...arguments),this.type="node"}static create(x={}){const y=typeof x=="function"?x():x;return new Np(y)}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}};function markPasteRule(r){return new PasteRule({find:r.find,handler:({state:x,range:y,match:b,pasteEvent:R})=>{const T=callOrReturn(r.getAttributes,void 0,b,R);if(T===!1||T===null)return null;const{tr:A}=x,O=b[b.length-1],B=b[0];let U=y.to;if(O){const K=B.search(/\S/),J=y.from+B.indexOf(O),te=J+O.length;if(getMarksBetween(y.from,y.to,x.doc).filter(ue=>ue.mark.type.excluded.find($e=>$e===r.type&&$e!==ue.mark.type)).filter(ue=>ue.to>J).length)return null;te<y.to&&A.delete(te,y.to),J>y.from&&A.delete(y.from+K,J),U=y.from+K+O.length,A.addMark(y.from+K,U,r.type.create(T||{})),A.removeStoredMark(r.type)}}})}var react,hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react=function r(x,y){if(x===y)return!0;if(x&&y&&typeof x=="object"&&typeof y=="object"){if(x.constructor!==y.constructor)return!1;var b,R,T;if(Array.isArray(x)){if(b=x.length,b!=y.length)return!1;for(R=b;R--!==0;)if(!r(x[R],y[R]))return!1;return!0}if(x instanceof Map&&y instanceof Map){if(x.size!==y.size)return!1;for(R of x.entries())if(!y.has(R[0]))return!1;for(R of x.entries())if(!r(R[1],y.get(R[0])))return!1;return!0}if(x instanceof Set&&y instanceof Set){if(x.size!==y.size)return!1;for(R of x.entries())if(!y.has(R[0]))return!1;return!0}if(ArrayBuffer.isView(x)&&ArrayBuffer.isView(y)){if(b=x.length,b!=y.length)return!1;for(R=b;R--!==0;)if(x[R]!==y[R])return!1;return!0}if(x.constructor===RegExp)return x.source===y.source&&x.flags===y.flags;if(x.valueOf!==Object.prototype.valueOf)return x.valueOf()===y.valueOf();if(x.toString!==Object.prototype.toString)return x.toString()===y.toString();if(T=Object.keys(x),b=T.length,b!==Object.keys(y).length)return!1;for(R=b;R--!==0;)if(!Object.prototype.hasOwnProperty.call(y,T[R]))return!1;for(R=b;R--!==0;){var A=T[R];if(!(A==="_owner"&&x.$$typeof)&&!r(x[A],y[A]))return!1}return!0}return x!==x&&y!==y}),react}var reactExports=requireReact();const deepEqual=getDefaultExportFromCjs(reactExports);var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var r=requireReact$1(),x=requireShim();function y(U,K){return U===K&&(U!==0||1/U===1/K)||U!==U&&K!==K}var b=typeof Object.is=="function"?Object.is:y,R=x.useSyncExternalStore,T=r.useRef,A=r.useEffect,O=r.useMemo,B=r.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(U,K,J,te,ae){var ue=T(null);if(ue.current===null){var pe={hasValue:!1,value:null};ue.current=pe}else pe=ue.current;ue=O(function(){function Ne(Ue){if(!Be){if(Be=!0,_e=Ue,Ue=te(Ue),ae!==void 0&&pe.hasValue){var He=pe.value;if(ae(He,Ue))return xe=He}return xe=Ue}if(He=xe,b(_e,Ue))return He;var qe=te(Ue);return ae!==void 0&&ae(He,qe)?(_e=Ue,He):(_e=Ue,xe=qe)}var Be=!1,_e,xe,Le=J===void 0?null:J;return[function(){return Ne(K())},Le===null?void 0:function(){return Ne(Le())}]},[K,J,te,ae]);var $e=R(U,ue[0],ue[1]);return A(function(){pe.hasValue=!0,pe.value=$e},[$e]),B($e),$e},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector(),mergeRefs=(...r)=>x=>{r.forEach(y=>{typeof y=="function"?y(x):y&&(y.current=x)})},Portals=({contentComponent:r})=>{const x=shimExports.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(x)})};function getInstance(){const r=new Set;let x={};return{subscribe(y){return r.add(y),()=>{r.delete(y)}},getSnapshot(){return x},getServerSnapshot(){return x},setRenderer(y,b){x={...x,[y]:ReactDOM.createPortal(b.reactElement,b.element,y)},r.forEach(R=>R())},removeRenderer(y){const b={...x};delete b[y],x=b,r.forEach(R=>R())}}}var PureEditorContent=class extends React.Component{constructor(r){var x;super(r),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((x=r.editor)!=null&&x.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const r=this.props.editor;if(r&&!r.isDestroyed&&r.options.element){if(r.contentComponent)return;const x=this.editorContentRef.current;x.append(r.view.dom),r.setOptions({element:x}),r.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=r.contentComponent.subscribe(()=>{this.setState(y=>y.hasContentComponentInitialized?y:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),r.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var r;const x=this.props.editor;if(x){this.initialized=!1,x.isDestroyed||x.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),x.contentComponent=null;try{if(!((r=x.view.dom)!=null&&r.firstChild))return;const y=document.createElement("div");y.append(x.view.dom),x.setOptions({element:y})}catch{}}}render(){const{editor:r,innerRef:x,...y}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(x,this.editorContentRef),...y}),(r==null?void 0:r.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:r.contentComponent})]})}},EditorContentWithKey=reactExports$1.forwardRef((r,x)=>{const y=React.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return React.createElement(PureEditorContent,{key:y,innerRef:x,...r})}),EditorContent=React.memo(EditorContentWithKey),useIsomorphicLayoutEffect=typeof window<"u"?reactExports$1.useLayoutEffect:reactExports$1.useEffect,EditorStateManager=class{constructor(r){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=r,this.lastSnapshot={editor:r,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(r){return this.subscribers.add(r),()=>{this.subscribers.delete(r)}}watch(r){if(this.editor=r,this.editor){const x=()=>{this.transactionNumber+=1,this.subscribers.forEach(b=>b())},y=this.editor;return y.on("transaction",x),()=>{y.off("transaction",x)}}}};function useEditorState(r){var x;const[y]=reactExports$1.useState(()=>new EditorStateManager(r.editor)),b=withSelectorExports.useSyncExternalStoreWithSelector(y.subscribe,y.getSnapshot,y.getServerSnapshot,r.selector,(x=r.equalityFn)!=null?x:deepEqual);return useIsomorphicLayoutEffect(()=>y.watch(r.editor),[r.editor,y]),reactExports$1.useDebugValue(b),b}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Mp{constructor(x){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=x,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(x){this.editor=x,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(y=>y())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const x={...this.options.current,onBeforeCreate:(...b)=>{var R,T;return(T=(R=this.options.current).onBeforeCreate)==null?void 0:T.call(R,...b)},onBlur:(...b)=>{var R,T;return(T=(R=this.options.current).onBlur)==null?void 0:T.call(R,...b)},onCreate:(...b)=>{var R,T;return(T=(R=this.options.current).onCreate)==null?void 0:T.call(R,...b)},onDestroy:(...b)=>{var R,T;return(T=(R=this.options.current).onDestroy)==null?void 0:T.call(R,...b)},onFocus:(...b)=>{var R,T;return(T=(R=this.options.current).onFocus)==null?void 0:T.call(R,...b)},onSelectionUpdate:(...b)=>{var R,T;return(T=(R=this.options.current).onSelectionUpdate)==null?void 0:T.call(R,...b)},onTransaction:(...b)=>{var R,T;return(T=(R=this.options.current).onTransaction)==null?void 0:T.call(R,...b)},onUpdate:(...b)=>{var R,T;return(T=(R=this.options.current).onUpdate)==null?void 0:T.call(R,...b)},onContentError:(...b)=>{var R,T;return(T=(R=this.options.current).onContentError)==null?void 0:T.call(R,...b)},onDrop:(...b)=>{var R,T;return(T=(R=this.options.current).onDrop)==null?void 0:T.call(R,...b)},onPaste:(...b)=>{var R,T;return(T=(R=this.options.current).onPaste)==null?void 0:T.call(R,...b)},onDelete:(...b)=>{var R,T;return(T=(R=this.options.current).onDelete)==null?void 0:T.call(R,...b)}};return new Editor(x)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(x){return this.subscriptions.add(x),()=>{this.subscriptions.delete(x)}}static compareOptions(x,y){return Object.keys(x).every(b=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(b)?!0:b==="extensions"&&x.extensions&&y.extensions?x.extensions.length!==y.extensions.length?!1:x.extensions.every((R,T)=>{var A;return R===((A=y.extensions)==null?void 0:A[T])}):x[b]===y[b])}onRender(x){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&x.length===0?Mp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(x),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(x){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=x;return}if(this.previousDeps.length===x.length&&this.previousDeps.every((b,R)=>b===x[R]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=x}scheduleDestroy(){const x=this.instanceId,y=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===x){y&&y.setOptions(this.options.current);return}y&&!y.isDestroyed&&(y.destroy(),this.instanceId===x&&this.setEditor(null))},1)}};function useEditor(r={},x=[]){const y=reactExports$1.useRef(r);y.current=r;const[b]=reactExports$1.useState(()=>new EditorInstanceManager(y)),R=shimExports.useSyncExternalStore(b.subscribe,b.getEditor,b.getServerSnapshot);return reactExports$1.useDebugValue(R),reactExports$1.useEffect(b.onRender(x)),useEditorState({editor:R,selector:({transactionNumber:T})=>r.shouldRerenderOnTransaction===!1||r.shouldRerenderOnTransaction===void 0?null:r.immediatelyRender&&T===0?0:T+1}),R}var EditorContext=reactExports$1.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports$1.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports$1.useContext(ReactNodeViewContext);React.forwardRef((r,x)=>{const{onDragStart:y}=useReactNodeView(),b=r.as||"div";return jsxRuntimeExports.jsx(b,{...r,ref:x,"data-node-view-wrapper":"",onDragStart:y,style:{whiteSpace:"normal",...r.style}})});React.createContext({markViewContentRef:()=>{}});var h=(r,x)=>{if(r==="slot")return 0;if(r instanceof Function)return r(x);const{children:y,...b}=x??{};if(r==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[r,b,y]},inputRegex$4=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,r),children:h("slot",{})})},parseMarkdown:(r,x)=>x.createNode("blockquote",void 0,x.parseChildren(r.tokens||[])),renderMarkdown:(r,x)=>{if(!r.content)return"";const y=">",b=[];return r.content.forEach(R=>{const O=x.renderChildren([R]).split(`
`).map(B=>B.trim()===""?y:`${y} ${B}`);b.push(O.join(`
`))}),b.join(`
${y}
`)},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return h("strong",{...mergeAttributes(this.options.HTMLAttributes,r),children:h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(r,x)=>x.applyMark("bold",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`**${x.renderChildren(r)}**`,addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$3=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"codespan",parseMarkdown:(r,x)=>x.applyMark("code",[{type:"text",text:r.text||""}]),renderMarkdown:(r,x)=>r.content?`\`${x.renderChildren(r.content)}\``:"",addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var x;const{languageClassPrefix:y}=this.options;if(!y)return null;const T=[...((x=r.firstElementChild)==null?void 0:x.classList)||[]].filter(A=>A.startsWith(y)).map(A=>A.replace(y,""))[0];return T||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:x}){return["pre",mergeAttributes(this.options.HTMLAttributes,x),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(r,x)=>{var y;return((y=r.raw)==null?void 0:y.startsWith("```"))===!1&&r.codeBlockStyle!=="indented"?[]:x.createNode("codeBlock",{language:r.lang||null},r.text?[x.createTextNode(r.text)]:[])},renderMarkdown:(r,x)=>{var y;let b="";const R=((y=r.attrs)==null?void 0:y.language)||"";return r.content?b=[`\`\`\`${R}`,x.renderChildren(r.content),"```"].join(`
`):b=`\`\`\`${R}

\`\`\``,b},addCommands(){return{setCodeBlock:r=>({commands:x})=>x.setNode(this.name,r),toggleCodeBlock:r=>({commands:x})=>x.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:x}=this.editor.state.selection,y=x.pos===1;return!r||x.parent.type.name!==this.name?!1:y||!x.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:r})=>{var x;if(!this.options.enableTabIndentation)return!1;const y=(x=this.options.tabSize)!=null?x:DEFAULT_TAB_SIZE,{state:b}=r,{selection:R}=b,{$from:T,empty:A}=R;if(T.parent.type!==this.type)return!1;const O=" ".repeat(y);return A?r.commands.insertContent(O):r.commands.command(({tr:B})=>{const{from:U,to:K}=R,ae=b.doc.textBetween(U,K,`
`,`
`).split(`
`).map(ue=>O+ue).join(`
`);return B.replaceWith(U,K,b.schema.text(ae)),!0})},"Shift-Tab":({editor:r})=>{var x;if(!this.options.enableTabIndentation)return!1;const y=(x=this.options.tabSize)!=null?x:DEFAULT_TAB_SIZE,{state:b}=r,{selection:R}=b,{$from:T,empty:A}=R;return T.parent.type!==this.type?!1:A?r.commands.command(({tr:O})=>{var B;const{pos:U}=T,K=T.start(),J=T.end(),ae=b.doc.textBetween(K,J,`
`,`
`).split(`
`);let ue=0,pe=0;const $e=U-K;for(let Ue=0;Ue<ae.length;Ue+=1){if(pe+ae[Ue].length>=$e){ue=Ue;break}pe+=ae[Ue].length+1}const Be=((B=ae[ue].match(/^ */))==null?void 0:B[0])||"",_e=Math.min(Be.length,y);if(_e===0)return!0;let xe=K;for(let Ue=0;Ue<ue;Ue+=1)xe+=ae[Ue].length+1;return O.delete(xe,xe+_e),U-xe<=_e&&O.setSelection(TextSelection.create(O.doc,xe)),!0}):r.commands.command(({tr:O})=>{const{from:B,to:U}=R,te=b.doc.textBetween(B,U,`
`,`
`).split(`
`).map(ae=>{var ue;const pe=((ue=ae.match(/^ */))==null?void 0:ue[0])||"",$e=Math.min(pe.length,y);return ae.slice($e)}).join(`
`);return O.replaceWith(B,U,b.schema.text(te)),!0})},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:x}=r,{selection:y}=x,{$from:b,empty:R}=y;if(!R||b.parent.type!==this.type)return!1;const T=b.parentOffset===b.parent.nodeSize-2,A=b.parent.textContent.endsWith(`

`);return!T||!A?!1:r.chain().command(({tr:O})=>(O.delete(b.pos-2,b.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:x}=r,{selection:y,doc:b}=x,{$from:R,empty:T}=y;if(!T||R.parent.type!==this.type||!(R.parentOffset===R.parent.nodeSize-2))return!1;const O=R.after();return O===void 0?!1:b.nodeAt(O)?r.commands.command(({tr:U})=>(U.setSelection(Selection.near(b.resolve(O))),!0)):r.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:r=>({language:r[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(r,x)=>{if(!x.clipboardData||this.editor.isActive(this.type.name))return!1;const y=x.clipboardData.getData("text/plain"),b=x.clipboardData.getData("vscode-editor-data"),R=b?JSON.parse(b):void 0,T=R==null?void 0:R.mode;if(!y||!T)return!1;const{tr:A,schema:O}=r.state,B=O.text(y.replace(/\r\n?/g,`
`));return A.replaceSelectionWith(this.type.create({language:T},B)),A.selection.$from.parent.type!==this.type&&A.setSelection(TextSelection.near(A.doc.resolve(Math.max(0,A.selection.from-2)))),A.setMeta("paste",!0),r.dispatch(A),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",mergeAttributes(this.options.HTMLAttributes,r)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:r,chain:x,state:y,editor:b})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:R,storedMarks:T}=y;if(R.$from.parent.type.spec.isolating)return!1;const{keepMarks:A}=this.options,{splittableMarks:O}=b.extensionManager,B=T||R.$to.parentOffset&&R.$from.marks();return x().insertContent({type:this.name}).command(({tr:U,dispatch:K})=>{if(K&&B&&A){const J=B.filter(te=>O.includes(te.type.name));U.ensureMarks(J)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:x}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,x),0]},parseMarkdown:(r,x)=>x.createNode("heading",{level:r.depth||1},x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>{var y;const b=(y=r.attrs)!=null&&y.level?parseInt(r.attrs.level,10):1,R="#".repeat(b);return r.content?`${R} ${x.renderChildren(r.content)}`:""},addCommands(){return{setHeading:r=>({commands:x})=>this.options.levels.includes(r.level)?x.setNode(this.name,r):!1,toggleHeading:r=>({commands:x})=>this.options.levels.includes(r.level)?x.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,x)=>({...r,[`Mod-Alt-${x}`]:()=>this.editor.commands.toggleHeading({level:x})}),{})},addInputRules(){return this.options.levels.map(r=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",mergeAttributes(this.options.HTMLAttributes,r)]},markdownTokenName:"hr",parseMarkdown:(r,x)=>x.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:r,state:x})=>{if(!canInsertNode(x,x.schema.nodes[this.name]))return!1;const{selection:y}=x,{$to:b}=y,R=r();return isNodeSelection(y)?R.insertContentAt(b.pos,{type:this.name}):R.insertContent({type:this.name}),R.command(({state:T,tr:A,dispatch:O})=>{if(O){const{$to:B}=A.selection,U=B.end();if(B.nodeAfter)B.nodeAfter.isTextblock?A.setSelection(TextSelection.create(A.doc,B.pos+1)):B.nodeAfter.isBlock?A.setSelection(NodeSelection.create(A.doc,B.pos)):A.setSelection(TextSelection.create(A.doc,B.pos));else{const K=T.schema.nodes[this.options.nextNodeType]||B.parent.type.contentMatch.defaultType,J=K==null?void 0:K.create();J&&(A.insert(U,J),A.setSelection(TextSelection.create(A.doc,U+1)))}A.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",mergeAttributes(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(r,x)=>x.applyMark("italic",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`*${x.renderChildren(r)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(r,x){return r in x||(x[r]=[]),x[r]}function addToGroups(r,x,y){x[numeric]&&(x[asciinumeric]=!0,x[alphanumeric]=!0),x[ascii]&&(x[asciinumeric]=!0,x[alpha]=!0),x[asciinumeric]&&(x[alphanumeric]=!0),x[alpha]&&(x[alphanumeric]=!0),x[alphanumeric]&&(x[domain]=!0),x[emoji]&&(x[domain]=!0);for(const b in x){const R=registerGroup(b,y);R.indexOf(r)<0&&R.push(r)}}function flagsForToken(r,x){const y={};for(const b in x)x[b].indexOf(r)>=0&&(y[b]=!0);return y}function State(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}State.groups={};State.prototype={accepts(){return!!this.t},go(r){const x=this,y=x.j[r];if(y)return y;for(let b=0;b<x.jr.length;b++){const R=x.jr[b][0],T=x.jr[b][1];if(T&&R.test(r))return T}return x.jd},has(r,x=!1){return x?r in this.j:!!this.go(r)},ta(r,x,y,b){for(let R=0;R<r.length;R++)this.tt(r[R],x,y,b)},tr(r,x,y,b){b=b||State.groups;let R;return x&&x.j?R=x:(R=new State(x),y&&b&&addToGroups(x,y,b)),this.jr.push([r,R]),R},ts(r,x,y,b){let R=this;const T=r.length;if(!T)return R;for(let A=0;A<T-1;A++)R=R.tt(r[A]);return R.tt(r[T-1],x,y,b)},tt(r,x,y,b){b=b||State.groups;const R=this;if(x&&x.j)return R.j[r]=x,x;const T=x;let A,O=R.go(r);if(O?(A=new State,Object.assign(A.j,O.j),A.jr.push.apply(A.jr,O.jr),A.jd=O.jd,A.t=O.t):A=new State,T){if(b)if(A.t&&typeof A.t=="string"){const B=Object.assign(flagsForToken(A.t,b),y);addToGroups(T,B,b)}else y&&addToGroups(T,y,b);A.t=T}return R.j[r]=A,A}};const ta=(r,x,y,b,R)=>r.ta(x,y,b,R),tr=(r,x,y,b,R)=>r.tr(x,y,b,R),ts=(r,x,y,b,R)=>r.ts(x,y,b,R),tt=(r,x,y,b,R)=>r.tt(x,y,b,R),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(r=[]){const x={};State.groups=x;const y=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(y,"'",APOSTROPHE),tt(y,"{",OPENBRACE),tt(y,"}",CLOSEBRACE),tt(y,"[",OPENBRACKET),tt(y,"]",CLOSEBRACKET),tt(y,"(",OPENPAREN),tt(y,")",CLOSEPAREN),tt(y,"<",OPENANGLEBRACKET),tt(y,">",CLOSEANGLEBRACKET),tt(y,"",FULLWIDTHLEFTPAREN),tt(y,"",FULLWIDTHRIGHTPAREN),tt(y,"",LEFTCORNERBRACKET),tt(y,"",RIGHTCORNERBRACKET),tt(y,"",LEFTWHITECORNERBRACKET),tt(y,"",RIGHTWHITECORNERBRACKET),tt(y,"",FULLWIDTHLESSTHAN),tt(y,"",FULLWIDTHGREATERTHAN),tt(y,"&",AMPERSAND),tt(y,"*",ASTERISK),tt(y,"@",AT),tt(y,"`",BACKTICK),tt(y,"^",CARET),tt(y,":",COLON),tt(y,",",COMMA),tt(y,"$",DOLLAR),tt(y,".",DOT),tt(y,"=",EQUALS),tt(y,"!",EXCLAMATION),tt(y,"-",HYPHEN),tt(y,"%",PERCENT),tt(y,"|",PIPE),tt(y,"+",PLUS),tt(y,"#",POUND),tt(y,"?",QUERY),tt(y,'"',QUOTE),tt(y,"/",SLASH),tt(y,";",SEMI),tt(y,"~",TILDE),tt(y,"_",UNDERSCORE),tt(y,"\\",BACKSLASH),tt(y,"",FULLWIDTHMIDDLEDOT);const b=tr(y,DIGIT,NUM,{[numeric]:!0});tr(b,DIGIT,b);const R=tr(b,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),T=tr(b,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),A=tr(y,ASCII_LETTER,WORD,{[ascii]:!0});tr(A,DIGIT,R),tr(A,ASCII_LETTER,A),tr(R,DIGIT,R),tr(R,ASCII_LETTER,R);const O=tr(y,LETTER,UWORD,{[alpha]:!0});tr(O,ASCII_LETTER),tr(O,DIGIT,T),tr(O,LETTER,O),tr(T,DIGIT,T),tr(T,ASCII_LETTER),tr(T,LETTER,T);const B=tt(y,LF,NL,{[whitespace]:!0}),U=tt(y,CR,WS,{[whitespace]:!0}),K=tr(y,SPACE,WS,{[whitespace]:!0});tt(y,OBJECT_REPLACEMENT,K),tt(U,LF,B),tt(U,OBJECT_REPLACEMENT,K),tr(U,SPACE,K),tt(K,CR),tt(K,LF),tr(K,SPACE,K),tt(K,OBJECT_REPLACEMENT,K);const J=tr(y,EMOJI,EMOJI$1,{[emoji]:!0});tt(J,"#"),tr(J,EMOJI,J),tt(J,EMOJI_VARIATION,J);const te=tt(J,EMOJI_JOINER);tt(te,"#"),tr(te,EMOJI,J);const ae=[[ASCII_LETTER,A],[DIGIT,R]],ue=[[ASCII_LETTER,null],[LETTER,O],[DIGIT,T]];for(let pe=0;pe<tlds.length;pe++)fastts(y,tlds[pe],TLD,WORD,ae);for(let pe=0;pe<utlds.length;pe++)fastts(y,utlds[pe],UTLD,UWORD,ue);addToGroups(TLD,{tld:!0,ascii:!0},x),addToGroups(UTLD,{utld:!0,alpha:!0},x),fastts(y,"file",SCHEME,WORD,ae),fastts(y,"mailto",SCHEME,WORD,ae),fastts(y,"http",SLASH_SCHEME,WORD,ae),fastts(y,"https",SLASH_SCHEME,WORD,ae),fastts(y,"ftp",SLASH_SCHEME,WORD,ae),fastts(y,"ftps",SLASH_SCHEME,WORD,ae),addToGroups(SCHEME,{scheme:!0,ascii:!0},x),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},x),r=r.sort((pe,$e)=>pe[0]>$e[0]?1:-1);for(let pe=0;pe<r.length;pe++){const $e=r[pe][0],Be=r[pe][1]?{[scheme]:!0}:{[slashscheme]:!0};$e.indexOf("-")>=0?Be[domain]=!0:ASCII_LETTER.test($e)?DIGIT.test($e)?Be[asciinumeric]=!0:Be[ascii]=!0:Be[numeric]=!0,ts(y,$e,$e,Be)}return ts(y,"localhost",LOCALHOST,{ascii:!0}),y.jd=new State(SYM),{start:y,tokens:Object.assign({groups:x},tk)}}function run$1(r,x){const y=stringToArray(x.replace(/[A-Z]/g,O=>O.toLowerCase())),b=y.length,R=[];let T=0,A=0;for(;A<b;){let O=r,B=null,U=0,K=null,J=-1,te=-1;for(;A<b&&(B=O.go(y[A]));)O=B,O.accepts()?(J=0,te=0,K=O):J>=0&&(J+=y[A].length,te++),U+=y[A].length,T+=y[A].length,A++;T-=J,A-=te,U-=J,R.push({t:K.t,v:x.slice(T-U,T),s:T-U,e:T})}return R}function stringToArray(r){const x=[],y=r.length;let b=0;for(;b<y;){let R=r.charCodeAt(b),T,A=R<55296||R>56319||b+1===y||(T=r.charCodeAt(b+1))<56320||T>57343?r[b]:r.slice(b,b+2);x.push(A),b+=A.length}return x}function fastts(r,x,y,b,R){let T;const A=x.length;for(let O=0;O<A-1;O++){const B=x[O];r.j[B]?T=r.j[B]:(T=new State(b),T.jr=R.slice(),r.j[B]=T),r=T}return T=new State(y),T.jr=R.slice(),r.j[x[A-1]]=T,T}function decodeTlds(r){const x=[],y=[];let b=0,R="0123456789";for(;b<r.length;){let T=0;for(;R.indexOf(r[b+T])>=0;)T++;if(T>0){x.push(y.join(""));for(let A=parseInt(r.substring(b,b+T),10);A>0;A--)y.pop();b+=T}else y.push(r[b]),b++}return x}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(r,x=null){let y=Object.assign({},defaults);r&&(y=Object.assign(y,r instanceof Options?r.o:r));const b=y.ignoreTags,R=[];for(let T=0;T<b.length;T++)R.push(b[T].toUpperCase());this.o=y,x&&(this.defaultRender=x),this.ignoreTags=R}Options.prototype={o:defaults,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,x,y){const b=x!=null;let R=this.o[r];return R&&(typeof R=="object"?(R=y.t in R?R[y.t]:defaults[r],typeof R=="function"&&b&&(R=R(x,y))):typeof R=="function"&&b&&(R=R(x,y.t,y)),R)},getObj(r,x,y){let b=this.o[r];return typeof b=="function"&&x!=null&&(b=b(x,y.t,y)),b},render(r){const x=r.render(this);return(this.get("render",null,r)||this.defaultRender)(x,r.t,r)}};function noop(r){return r}function MultiToken(r,x){this.t="token",this.v=r,this.tk=x}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const x=this.toString(),y=r.get("truncate",x,this),b=r.get("format",x,this);return y&&b.length>y?b.substring(0,y)+"":b},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const x=this,y=this.toHref(r.get("defaultProtocol")),b=r.get("formatHref",y,this),R=r.get("tagName",y,x),T=this.toFormattedString(r),A={},O=r.get("className",y,x),B=r.get("target",y,x),U=r.get("rel",y,x),K=r.getObj("attributes",y,x),J=r.getObj("events",y,x);return A.href=b,O&&(A.class=O),B&&(A.target=B),U&&(A.rel=U),K&&Object.assign(A,K),{tagName:R,attributes:A,content:T,eventListeners:J}}};function createTokenClass(r,x){class y extends MultiToken{constructor(R,T){super(R,T),this.t=r}}for(const b in x)y.prototype[b]=x[b];return y.t=r,y}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(r=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==LOCALHOST&&r[1].t===COLON}}),makeState=r=>new State(r);function init$1({groups:r}){const x=r.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),y=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],b=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],R=makeState(),T=tt(R,TILDE);ta(T,b,T),ta(T,r.domain,T);const A=makeState(),O=makeState(),B=makeState();ta(R,r.domain,A),ta(R,r.scheme,O),ta(R,r.slashscheme,B),ta(A,b,T),ta(A,r.domain,A);const U=tt(A,AT);tt(T,AT,U),tt(O,AT,U),tt(B,AT,U);const K=tt(T,DOT);ta(K,b,T),ta(K,r.domain,T);const J=makeState();ta(U,r.domain,J),ta(J,r.domain,J);const te=tt(J,DOT);ta(te,r.domain,J);const ae=makeState(Email);ta(te,r.tld,ae),ta(te,r.utld,ae),tt(U,LOCALHOST,ae);const ue=tt(J,HYPHEN);tt(ue,HYPHEN,ue),ta(ue,r.domain,J),ta(ae,r.domain,J),tt(ae,DOT,te),tt(ae,HYPHEN,ue);const pe=tt(ae,COLON);ta(pe,r.numeric,Email);const $e=tt(A,HYPHEN),Ne=tt(A,DOT);tt($e,HYPHEN,$e),ta($e,r.domain,A),ta(Ne,b,T),ta(Ne,r.domain,A);const Be=makeState(Url);ta(Ne,r.tld,Be),ta(Ne,r.utld,Be),ta(Be,r.domain,A),ta(Be,b,T),tt(Be,DOT,Ne),tt(Be,HYPHEN,$e),tt(Be,AT,U);const _e=tt(Be,COLON),xe=makeState(Url);ta(_e,r.numeric,xe);const Le=makeState(Url),Ue=makeState();ta(Le,x,Le),ta(Le,y,Ue),ta(Ue,x,Le),ta(Ue,y,Ue),tt(Be,SLASH,Le),tt(xe,SLASH,Le);const He=tt(O,COLON),qe=tt(B,COLON),Qe=tt(qe,SLASH),lt=tt(Qe,SLASH);ta(O,r.domain,A),tt(O,DOT,Ne),tt(O,HYPHEN,$e),ta(B,r.domain,A),tt(B,DOT,Ne),tt(B,HYPHEN,$e),ta(He,r.domain,Le),tt(He,SLASH,Le),tt(He,QUERY,Le),ta(lt,r.domain,Le),ta(lt,x,Le),tt(lt,SLASH,Le);const ct=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let ot=0;ot<ct.length;ot++){const[pt,yt]=ct[ot],it=tt(Le,pt);tt(Ue,pt,it),tt(it,yt,Le);const Ke=makeState(Url);ta(it,x,Ke);const Je=makeState();ta(it,y),ta(Ke,x,Ke),ta(Ke,y,Je),ta(Je,x,Ke),ta(Je,y,Je),tt(Ke,yt,Le),tt(Je,yt,Le)}return tt(R,LOCALHOST,Be),tt(R,NL,Nl),{start:R,tokens:tk}}function run(r,x,y){let b=y.length,R=0,T=[],A=[];for(;R<b;){let O=r,B=null,U=null,K=0,J=null,te=-1;for(;R<b&&!(B=O.go(y[R].t));)A.push(y[R++]);for(;R<b&&(U=B||O.go(y[R].t));)B=null,O=U,O.accepts()?(te=0,J=O):te>=0&&te++,R++,K++;if(te<0)R-=K,R<b&&(A.push(y[R]),R++);else{A.length>0&&(T.push(initMultiToken(Text$1,x,A)),A=[]),R-=te,K-=te;const ae=J.t,ue=y.slice(R-K,R);T.push(initMultiToken(ae,x,ue))}}return A.length>0&&T.push(initMultiToken(Text$1,x,A)),T}function initMultiToken(r,x,y){const b=y[0].s,R=y[y.length-1].e,T=x.slice(b,R);return new r(T,y)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(r,x=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${r}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([r,x])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let r=0;r<INIT.tokenQueue.length;r++)INIT.tokenQueue[r][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let r=0;r<INIT.pluginQueue.length;r++)INIT.pluginQueue[r][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(r){return INIT.initialized||init(),run(INIT.parser.start,r,run$1(INIT.scanner.start,r))}tokenize.scan=run$1;function find(r,x=null,y=null){if(x&&typeof x=="object"){if(y)throw Error(`linkifyjs: Invalid link type ${x}; must be a string`);y=x,x=null}const b=new Options(y),R=tokenize(r),T=[];for(let A=0;A<R.length;A++){const O=R[A];O.isLink&&(!x||O.t===x)&&b.check(O)&&T.push(O.toFormattedObject(b))}return T}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function autolink(r){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(x,y,b)=>{const R=x.some(U=>U.docChanged)&&!y.doc.eq(b.doc),T=x.some(U=>U.getMeta("preventAutolink"));if(!R||T)return;const{tr:A}=b,O=combineTransactionSteps(y.doc,[...x]);if(getChangedRanges(O).forEach(({newRange:U})=>{const K=findChildrenInRange(b.doc,U,ae=>ae.isTextblock);let J,te;if(K.length>1)J=K[0],te=b.doc.textBetween(J.pos,J.pos+J.node.nodeSize,void 0," ");else if(K.length){const ae=b.doc.textBetween(U.from,U.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(ae))return;J=K[0],te=b.doc.textBetween(J.pos,U.to,void 0," ")}if(J&&te){const ae=te.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(ae.length<=0)return!1;const ue=ae[ae.length-1],pe=J.pos+te.lastIndexOf(ue);if(!ue)return!1;const $e=tokenize(ue).map(Ne=>Ne.toObject(r.defaultProtocol));if(!isValidLinkStructure($e))return!1;$e.filter(Ne=>Ne.isLink).map(Ne=>({...Ne,from:pe+Ne.start+1,to:pe+Ne.end+1})).filter(Ne=>b.schema.marks.code?!b.doc.rangeHasMark(Ne.from,Ne.to,b.schema.marks.code):!0).filter(Ne=>r.validate(Ne.value)).filter(Ne=>r.shouldAutoLink(Ne.value)).forEach(Ne=>{getMarksBetween(Ne.from,Ne.to,b.doc).some(Be=>Be.mark.type===r.type)||A.addMark(Ne.from,Ne.to,r.type.create({href:Ne.href}))})}}),!!A.steps.length)return A}})}function clickHandler(r){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(x,y,b)=>{var R,T;if(b.button!==0||!x.editable)return!1;let A=null;if(b.target instanceof HTMLAnchorElement)A=b.target;else{let K=b.target;const J=[];for(;K.nodeName!=="DIV";)J.push(K),K=K.parentNode;A=J.find(te=>te.nodeName==="A")}if(!A)return!1;const O=getAttributes(x.state,r.type.name),B=(R=A==null?void 0:A.href)!=null?R:O.href,U=(T=A==null?void 0:A.target)!=null?T:O.target;return r.enableClickSelection&&r.editor.commands.extendMarkRange(r.type.name),A&&B?(window.open(B,U),!0):!1}}})}function pasteHandler(r){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(x,y,b)=>{const{shouldAutoLink:R}=r,{state:T}=x,{selection:A}=T,{empty:O}=A;if(O)return!1;let B="";b.content.forEach(K=>{B+=K.textContent});const U=find(B,{defaultProtocol:r.defaultProtocol}).find(K=>K.isLink&&K.value===B);return!B||!U||R!==void 0&&!R(U.href)?!1:r.editor.commands.setMark(r.type,{href:U.href})}}})}function isAllowedUri(r,x){const y=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return x&&x.forEach(b=>{const R=typeof b=="string"?b:b.scheme;R&&y.push(R)}),!r||r.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${y.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){registerCustomProtocol(r);return}registerCustomProtocol(r.scheme,r.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,x)=>!!isAllowedUri(r,x.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const x=r.getAttribute("href");return!x||!this.options.isAllowedUri(x,{defaultValidate:y=>!!isAllowedUri(y,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:x=>!!isAllowedUri(x,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,r),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...r,href:""}),0]},markdownTokenName:"link",parseMarkdown:(r,x)=>x.applyMark("link",x.parseInline(r.tokens||[]),{href:r.href,title:r.title||null}),renderMarkdown:(r,x)=>{var y;const b=((y=r.attrs)==null?void 0:y.href)||"";return`[${x.renderChildren(r)}](${b})`},addCommands(){return{setLink:r=>({chain:x})=>{const{href:y}=r;return this.options.isAllowedUri(y,{defaultValidate:b=>!!isAllowedUri(b,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?x().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:x})=>{const{href:y}=r||{};return y&&!this.options.isAllowedUri(y,{defaultValidate:b=>!!isAllowedUri(b,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:x().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:r=>{const x=[];if(r){const{protocols:y,defaultProtocol:b}=this.options,R=find(r).filter(T=>T.isLink&&this.options.isAllowedUri(T.value,{defaultValidate:A=>!!isAllowedUri(A,y),protocols:y,defaultProtocol:b}));R.length&&R.forEach(T=>{this.options.shouldAutoLink(T.value)&&x.push({text:T.value,data:{href:T.href},index:T.start})})}return x},type:this.type,getAttributes:r=>{var x;return{href:(x=r.data)==null?void 0:x.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:x,defaultProtocol:y}=this.options;return this.options.autolink&&r.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:b=>this.options.isAllowedUri(b,{defaultValidate:R=>!!isAllowedUri(R,x),protocols:x,defaultProtocol:y}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&r.push(clickHandler({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&r.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),r}}),__defProp=Object.defineProperty,__export=(r,x)=>{for(var y in x)__defProp(r,y,{get:x[y],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,x)=>r.type!=="list"||r.ordered?[]:{type:"bulletList",content:r.items?x.parseChildren(r.items):[]},renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:r,chain:x})=>this.options.keepAttributes?x().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[r]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list_item",parseMarkdown:(r,x)=>{if(r.type!=="list_item")return[];let y=[];if(r.tokens&&r.tokens.length>0)if(r.tokens.some(R=>R.type==="paragraph"))y=x.parseChildren(r.tokens);else{const R=r.tokens[0];if(R&&R.type==="text"&&R.tokens&&R.tokens.length>0){if(y=[{type:"paragraph",content:x.parseInline(R.tokens)}],r.tokens.length>1){const A=r.tokens.slice(1),O=x.parseChildren(A);y.push(...O)}}else y=x.parseChildren(r.tokens)}return y.length===0&&(y=[{type:"paragraph",content:[]}]),{type:"listItem",content:y}},renderMarkdown:(r,x,y)=>renderNestedMarkdownContent(r,x,b=>b.parentType==="bulletList"?"- ":b.parentType==="orderedList"?`${b.index+1}. `:"- ",y),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(r,x)=>{const{$from:y}=x.selection,b=getNodeType(r,x.schema);let R=null,T=y.depth,A=y.pos,O=null;for(;T>0&&O===null;)R=y.node(T),R.type===b?O=T:(T-=1,A-=1);return O===null?null:{$pos:x.doc.resolve(A),depth:O}},getNextListDepth=(r,x)=>{const y=findListItemPos(r,x);if(!y)return!1;const[,b]=getNodeAtPosition(x,r,y.$pos.pos+4);return b},hasListBefore=(r,x,y)=>{const{$anchor:b}=r.selection,R=Math.max(0,b.pos-2),T=r.doc.resolve(R).node();return!(!T||!y.includes(T.type.name))},hasListItemBefore=(r,x)=>{var y;const{$anchor:b}=x.selection,R=x.doc.resolve(b.pos-2);return!(R.index()===0||((y=R.nodeBefore)==null?void 0:y.type.name)!==r)},listItemHasSubList=(r,x,y)=>{if(!y)return!1;const b=getNodeType(r,x.schema);let R=!1;return y.descendants(T=>{T.type===b&&(R=!0)}),R},handleBackspace=(r,x,y)=>{if(r.commands.undoInputRule())return!0;if(r.state.selection.from!==r.state.selection.to)return!1;if(!isNodeActive(r.state,x)&&hasListBefore(r.state,x,y)){const{$anchor:O}=r.state.selection,B=r.state.doc.resolve(O.before()-1),U=[];B.node().descendants((te,ae)=>{te.type.name===x&&U.push({node:te,pos:ae})});const K=U.at(-1);if(!K)return!1;const J=r.state.doc.resolve(B.start()+K.pos+1);return r.chain().cut({from:O.start()-1,to:O.end()+1},J.end()).joinForward().run()}if(!isNodeActive(r.state,x)||!isAtStartOfNode(r.state))return!1;const b=findListItemPos(x,r.state);if(!b)return!1;const T=r.state.doc.resolve(b.$pos.pos-2).node(b.depth),A=listItemHasSubList(x,r.state,T);return hasListItemBefore(x,r.state)&&!A?r.commands.joinItemBackward():r.chain().liftListItem(x).run()},nextListIsDeeper=(r,x)=>{const y=getNextListDepth(r,x),b=findListItemPos(r,x);return!b||!y?!1:y>b.depth},nextListIsHigher=(r,x)=>{const y=getNextListDepth(r,x),b=findListItemPos(r,x);return!b||!y?!1:y<b.depth},handleDelete=(r,x)=>{if(!isNodeActive(r.state,x)||!isAtEndOfNode(r.state,x))return!1;const{selection:y}=r.state,{$from:b,$to:R}=y;return!y.empty&&b.sameParent(R)?!1:nextListIsDeeper(x,r.state)?r.chain().focus(r.state.selection.from+4).lift(x).joinBackward().run():nextListIsHigher(x,r.state)?r.chain().joinForward().joinBackward().run():r.commands.joinItemForward()},hasListItemAfter=(r,x)=>{var y;const{$anchor:b}=x.selection,R=x.doc.resolve(b.pos-b.parentOffset-2);return!(R.index()===R.parent.childCount-1||((y=R.nodeAfter)==null?void 0:y.type.name)!==r)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y})=>{r.state.schema.nodes[y]!==void 0&&handleDelete(r,y)&&(x=!0)}),x},"Mod-Delete":({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y})=>{r.state.schema.nodes[y]!==void 0&&handleDelete(r,y)&&(x=!0)}),x},Backspace:({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y,wrapperNames:b})=>{r.state.schema.nodes[y]!==void 0&&handleBackspace(r,y,b)&&(x=!0)}),x},"Mod-Backspace":({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y,wrapperNames:b})=>{r.state.schema.nodes[y]!==void 0&&handleBackspace(r,y,b)&&(x=!0)}),x}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(r){const x=[];let y=0,b=0;for(;y<r.length;){const R=r[y],T=R.match(ORDERED_LIST_ITEM_REGEX);if(!T)break;const[,A,O,B]=T,U=A.length;let K=B,J=y+1;const te=[R];for(;J<r.length;){const ae=r[J];if(ae.match(ORDERED_LIST_ITEM_REGEX))break;if(ae.trim()==="")te.push(ae),K+=`
`,J+=1;else if(ae.match(INDENTED_LINE_REGEX))te.push(ae),K+=`
${ae.slice(U+2)}`,J+=1;else break}x.push({indent:U,number:parseInt(O,10),content:K.trim(),raw:te.join(`
`)}),b=J,y=J}return[x,b]}function buildNestedStructure(r,x,y){var b;const R=[];let T=0;for(;T<r.length;){const A=r[T];if(A.indent===x){const O=A.content.split(`
`),B=((b=O[0])==null?void 0:b.trim())||"",U=[];B&&U.push({type:"paragraph",raw:B,tokens:y.inlineTokens(B)});const K=O.slice(1).join(`
`).trim();if(K){const ae=y.blockTokens(K);U.push(...ae)}let J=T+1;const te=[];for(;J<r.length&&r[J].indent>x;)te.push(r[J]),J+=1;if(te.length>0){const ae=Math.min(...te.map(pe=>pe.indent)),ue=buildNestedStructure(te,ae,y);U.push({type:"list",ordered:!0,start:te[0].number,items:ue,raw:te.map(pe=>pe.raw).join(`
`)})}R.push({type:"list_item",raw:A.raw,tokens:U}),T=J}else T+=1}return R}function parseListItems(r,x){return r.map(y=>{if(y.type!=="list_item")return x.parseChildren([y])[0];const b=[];return y.tokens&&y.tokens.length>0&&y.tokens.forEach(R=>{if(R.type==="paragraph"||R.type==="list"||R.type==="blockquote"||R.type==="code")b.push(...x.parseChildren([R]));else if(R.type==="text"&&R.tokens){const T=x.parseChildren([R]);b.push({type:"paragraph",content:T})}else{const T=x.parseChildren([R]);T.length>0&&b.push(...T)}}),{type:"listItem",content:b}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:x,...y}=r;return x===1?["ol",mergeAttributes(this.options.HTMLAttributes,y),0]:["ol",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,x)=>{if(r.type!=="list"||!r.ordered)return[];const y=r.start||1,b=r.items?parseListItems(r.items,x):[];return y!==1?{type:"orderedList",attrs:{start:y},content:b}:{type:"orderedList",content:b}},renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:r=>{const x=r.match(/^(\s*)(\d+)\.\s+/),y=x==null?void 0:x.index;return y!==void 0?y:-1},tokenize:(r,x,y)=>{var b;const R=r.split(`
`),[T,A]=collectOrderedListItems(R);if(T.length===0)return;const O=buildNestedStructure(T,0,y);return O.length===0?void 0:{type:"list",ordered:!0,start:((b=T[0])==null?void 0:b.number)||1,items:O,raw:R.slice(0,A).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:x})=>this.options.keepAttributes?x().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:x=>({start:+x[1]}),joinPredicate:(x,y)=>y.childCount+y.attrs.start===+x[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:x=>({start:+x[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(x,y)=>y.childCount+y.attrs.start===+x[1],editor:this.editor})),[r]}}),inputRegex$2=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const x=r.getAttribute("data-checked");return x===""||x==="true"},renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:x}){return["li",mergeAttributes(this.options.HTMLAttributes,x,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(r,x)=>{const y=[];if(r.tokens&&r.tokens.length>0?y.push(x.createNode("paragraph",{},x.parseInline(r.tokens))):r.text?y.push(x.createNode("paragraph",{},[x.createNode("text",{text:r.text})])):y.push(x.createNode("paragraph",{},[])),r.nestedTokens&&r.nestedTokens.length>0){const b=x.parseChildren(r.nestedTokens);y.push(...b)}return x.createNode("taskItem",{checked:r.checked||!1},y)},renderMarkdown:(r,x)=>{var y;const R=`- [${(y=r.attrs)!=null&&y.checked?"x":" "}] `;return renderNestedMarkdownContent(r,x,R)},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:x,getPos:y,editor:b})=>{const R=document.createElement("li"),T=document.createElement("label"),A=document.createElement("span"),O=document.createElement("input"),B=document.createElement("div"),U=K=>{var J,te;O.ariaLabel=((te=(J=this.options.a11y)==null?void 0:J.checkboxLabel)==null?void 0:te.call(J,K,O.checked))||`Task item checkbox for ${K.textContent||"empty task item"}`};return U(r),T.contentEditable="false",O.type="checkbox",O.addEventListener("mousedown",K=>K.preventDefault()),O.addEventListener("change",K=>{if(!b.isEditable&&!this.options.onReadOnlyChecked){O.checked=!O.checked;return}const{checked:J}=K.target;b.isEditable&&typeof y=="function"&&b.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:te})=>{const ae=y();if(typeof ae!="number")return!1;const ue=te.doc.nodeAt(ae);return te.setNodeMarkup(ae,void 0,{...ue==null?void 0:ue.attrs,checked:J}),!0}).run(),!b.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,J)||(O.checked=!O.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([K,J])=>{R.setAttribute(K,J)}),R.dataset.checked=r.attrs.checked,O.checked=r.attrs.checked,T.append(O,A),R.append(T,B),Object.entries(x).forEach(([K,J])=>{R.setAttribute(K,J)}),{dom:R,contentDOM:B,update:K=>K.type!==this.type?!1:(R.dataset.checked=K.attrs.checked,O.checked=K.attrs.checked,U(K),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$2,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",mergeAttributes(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},parseMarkdown:(r,x)=>x.createNode("taskList",{},x.parseChildren(r.items||[])),renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(r){var x;const y=(x=r.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:x.index;return y!==void 0?y:-1},tokenize(r,x,y){const b=T=>{const A=parseIndentedBlocks(T,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:O=>({indentLevel:O[1].length,mainContent:O[4],checked:O[3].toLowerCase()==="x"}),createToken:(O,B)=>({type:"taskItem",raw:"",mainContent:O.mainContent,indentLevel:O.indentLevel,checked:O.checked,text:O.mainContent,tokens:y.inlineTokens(O.mainContent),nestedTokens:B}),customNestedParser:b},y);return A?[{type:"taskList",raw:A.raw,items:A.items}]:y.blockTokens(T)},R=parseIndentedBlocks(r,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:T=>({indentLevel:T[1].length,mainContent:T[4],checked:T[3].toLowerCase()==="x"}),createToken:(T,A)=>({type:"taskItem",raw:"",mainContent:T.mainContent,indentLevel:T.indentLevel,checked:T.checked,text:T.mainContent,tokens:y.inlineTokens(T.mainContent),nestedTokens:A}),customNestedParser:b},y);if(R)return{type:"taskList",raw:R.raw,items:R.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const r=[];return this.options.bulletList!==!1&&r.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&r.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&r.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&r.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&r.push(TaskList.configure(this.options.taskList)),r}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",mergeAttributes(this.options.HTMLAttributes,r),0]},parseMarkdown:(r,x)=>{const y=r.tokens||[];return y.length===1&&y[0].type==="image"?x.parseChildren([y[0]]):x.createNode("paragraph",void 0,x.parseInline(y))},renderMarkdown:(r,x)=>!r||!Array.isArray(r.content)?"":x.renderChildren(r.content),addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"del",parseMarkdown:(r,x)=>x.applyMark("strike",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`~~${x.renderChildren(r)}~~`,addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:r=>({type:"text",text:r.text||""}),renderMarkdown:r=>r.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",mergeAttributes(this.options.HTMLAttributes,r),0]},parseMarkdown(r,x){return x.applyMark(this.name||"underline",x.parseInline(r.tokens||[]))},renderMarkdown(r,x){return`++${x.renderChildren(r)}++`},markdownTokenizer:{name:"underline",level:"inline",start(r){return r.indexOf("++")},tokenize(r,x,y){const R=/^(\+\+)([\s\S]+?)(\+\+)/.exec(r);if(!R)return;const T=R[2].trim();return{type:"underline",raw:R[0],text:T,tokens:y.inlineTokens(T)}}},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(r={}){return new Plugin({view(x){return new DropCursorView(x,r)}})}class DropCursorView{constructor(x,y){var b;this.editorView=x,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(b=y.width)!==null&&b!==void 0?b:1,this.color=y.color===!1?void 0:y.color||"black",this.class=y.class,this.handlers=["dragover","dragend","drop","dragleave"].map(R=>{let T=A=>{this[R](A)};return x.dom.addEventListener(R,T),{name:R,handler:T}})}destroy(){this.handlers.forEach(({name:x,handler:y})=>this.editorView.dom.removeEventListener(x,y))}update(x,y){this.cursorPos!=null&&y.doc!=x.state.doc&&(this.cursorPos>x.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(x){x!=this.cursorPos&&(this.cursorPos=x,x==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let x=this.editorView.state.doc.resolve(this.cursorPos),y=!x.parent.inlineContent,b,R=this.editorView.dom,T=R.getBoundingClientRect(),A=T.width/R.offsetWidth,O=T.height/R.offsetHeight;if(y){let J=x.nodeBefore,te=x.nodeAfter;if(J||te){let ae=this.editorView.nodeDOM(this.cursorPos-(J?J.nodeSize:0));if(ae){let ue=ae.getBoundingClientRect(),pe=J?ue.bottom:ue.top;J&&te&&(pe=(pe+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let $e=this.width/2*O;b={left:ue.left,right:ue.right,top:pe-$e,bottom:pe+$e}}}}if(!b){let J=this.editorView.coordsAtPos(this.cursorPos),te=this.width/2*A;b={left:J.left-te,right:J.left+te,top:J.top,bottom:J.bottom}}let B=this.editorView.dom.offsetParent;this.element||(this.element=B.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",y),this.element.classList.toggle("prosemirror-dropcursor-inline",!y);let U,K;if(!B||B==document.body&&getComputedStyle(B).position=="static")U=-pageXOffset,K=-pageYOffset;else{let J=B.getBoundingClientRect(),te=J.width/B.offsetWidth,ae=J.height/B.offsetHeight;U=J.left-B.scrollLeft*te,K=J.top-B.scrollTop*ae}this.element.style.left=(b.left-U)/A+"px",this.element.style.top=(b.top-K)/O+"px",this.element.style.width=(b.right-b.left)/A+"px",this.element.style.height=(b.bottom-b.top)/O+"px"}scheduleRemoval(x){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),x)}dragover(x){if(!this.editorView.editable)return;let y=this.editorView.posAtCoords({left:x.clientX,top:x.clientY}),b=y&&y.inside>=0&&this.editorView.state.doc.nodeAt(y.inside),R=b&&b.type.spec.disableDropCursor,T=typeof R=="function"?R(this.editorView,y,x):R;if(y&&!T){let A=y.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let O=dropPoint(this.editorView.state.doc,A,this.editorView.dragging.slice);O!=null&&(A=O)}this.setCursor(A),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(x){this.editorView.dom.contains(x.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(x){super(x,x)}map(x,y){let b=x.resolve(y.map(this.head));return GapCursor.valid(b)?new GapCursor(b):Selection.near(b)}content(){return Slice.empty}eq(x){return x instanceof GapCursor&&x.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(x.resolve(y.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(x){let y=x.parent;if(y.isTextblock||!closedBefore(x)||!closedAfter(x))return!1;let b=y.type.spec.allowGapCursor;if(b!=null)return b;let R=y.contentMatchAt(x.index()).defaultType;return R&&R.isTextblock}static findGapCursorFrom(x,y,b=!1){e:for(;;){if(!b&&GapCursor.valid(x))return x;let R=x.pos,T=null;for(let A=x.depth;;A--){let O=x.node(A);if(y>0?x.indexAfter(A)<O.childCount:x.index(A)>0){T=O.child(y>0?x.indexAfter(A):x.index(A)-1);break}else if(A==0)return null;R+=y;let B=x.doc.resolve(R);if(GapCursor.valid(B))return B}for(;;){let A=y>0?T.firstChild:T.lastChild;if(!A){if(T.isAtom&&!T.isText&&!NodeSelection.isSelectable(T)){x=x.doc.resolve(R+T.nodeSize*y),b=!1;continue e}break}T=A,R+=y;let O=x.doc.resolve(R);if(GapCursor.valid(O))return O}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(x){this.pos=x}map(x){return new GapBookmark(x.map(this.pos))}resolve(x){let y=x.resolve(this.pos);return GapCursor.valid(y)?new GapCursor(y):Selection.near(y)}}function needsGap(r){return r.isAtom||r.spec.isolating||r.spec.createGapCursor}function closedBefore(r){for(let x=r.depth;x>=0;x--){let y=r.index(x),b=r.node(x);if(y==0){if(b.type.spec.isolating)return!0;continue}for(let R=b.child(y-1);;R=R.lastChild){if(R.childCount==0&&!R.inlineContent||needsGap(R.type))return!0;if(R.inlineContent)return!1}}return!0}function closedAfter(r){for(let x=r.depth;x>=0;x--){let y=r.indexAfter(x),b=r.node(x);if(y==b.childCount){if(b.type.spec.isolating)return!0;continue}for(let R=b.child(y);;R=R.firstChild){if(R.childCount==0&&!R.inlineContent||needsGap(R.type))return!0;if(R.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(r,x,y){return x.pos==y.pos&&GapCursor.valid(y)?new GapCursor(y):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(r,x){const y=r=="vert"?x>0?"down":"up":x>0?"right":"left";return function(b,R,T){let A=b.selection,O=x>0?A.$to:A.$from,B=A.empty;if(A instanceof TextSelection){if(!T.endOfTextblock(y)||O.depth==0)return!1;B=!1,O=b.doc.resolve(x>0?O.after():O.before())}let U=GapCursor.findGapCursorFrom(O,x,B);return U?(R&&R(b.tr.setSelection(new GapCursor(U))),!0):!1}}function handleClick(r,x,y){if(!r||!r.editable)return!1;let b=r.state.doc.resolve(x);if(!GapCursor.valid(b))return!1;let R=r.posAtCoords({left:y.clientX,top:y.clientY});return R&&R.inside>-1&&NodeSelection.isSelectable(r.state.doc.nodeAt(R.inside))?!1:(r.dispatch(r.state.tr.setSelection(new GapCursor(b))),!0)}function beforeinput(r,x){if(x.inputType!="insertCompositionText"||!(r.state.selection instanceof GapCursor))return!1;let{$from:y}=r.state.selection,b=y.parent.contentMatchAt(y.index()).findWrapping(r.state.schema.nodes.text);if(!b)return!1;let R=Fragment.empty;for(let A=b.length-1;A>=0;A--)R=Fragment.from(b[A].createAndFill(null,R));let T=r.state.tr.replace(y.pos,y.pos,new Slice(R,0,0));return T.setSelection(TextSelection.near(T.doc.resolve(y.pos+1))),r.dispatch(T),!1}function drawGapCursor(r){if(!(r.selection instanceof GapCursor))return null;let x=document.createElement("div");return x.className="ProseMirror-gapcursor",DecorationSet.create(r.doc,[Decoration.widget(r.selection.head,x,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function r(){};RopeSequence.prototype.append=function r(x){return x.length?(x=RopeSequence.from(x),!this.length&&x||x.length<GOOD_LEAF_SIZE&&this.leafAppend(x)||this.length<GOOD_LEAF_SIZE&&x.leafPrepend(this)||this.appendInner(x)):this};RopeSequence.prototype.prepend=function r(x){return x.length?RopeSequence.from(x).append(this):this};RopeSequence.prototype.appendInner=function r(x){return new Append(this,x)};RopeSequence.prototype.slice=function r(x,y){return x===void 0&&(x=0),y===void 0&&(y=this.length),x>=y?RopeSequence.empty:this.sliceInner(Math.max(0,x),Math.min(this.length,y))};RopeSequence.prototype.get=function r(x){if(!(x<0||x>=this.length))return this.getInner(x)};RopeSequence.prototype.forEach=function r(x,y,b){y===void 0&&(y=0),b===void 0&&(b=this.length),y<=b?this.forEachInner(x,y,b,0):this.forEachInvertedInner(x,y,b,0)};RopeSequence.prototype.map=function r(x,y,b){y===void 0&&(y=0),b===void 0&&(b=this.length);var R=[];return this.forEach(function(T,A){return R.push(x(T,A))},y,b),R};RopeSequence.from=function r(x){return x instanceof RopeSequence?x:x&&x.length?new Leaf(x):RopeSequence.empty};var Leaf=(function(r){function x(b){r.call(this),this.values=b}r&&(x.__proto__=r),x.prototype=Object.create(r&&r.prototype),x.prototype.constructor=x;var y={length:{configurable:!0},depth:{configurable:!0}};return x.prototype.flatten=function(){return this.values},x.prototype.sliceInner=function(R,T){return R==0&&T==this.length?this:new x(this.values.slice(R,T))},x.prototype.getInner=function(R){return this.values[R]},x.prototype.forEachInner=function(R,T,A,O){for(var B=T;B<A;B++)if(R(this.values[B],O+B)===!1)return!1},x.prototype.forEachInvertedInner=function(R,T,A,O){for(var B=T-1;B>=A;B--)if(R(this.values[B],O+B)===!1)return!1},x.prototype.leafAppend=function(R){if(this.length+R.length<=GOOD_LEAF_SIZE)return new x(this.values.concat(R.flatten()))},x.prototype.leafPrepend=function(R){if(this.length+R.length<=GOOD_LEAF_SIZE)return new x(R.flatten().concat(this.values))},y.length.get=function(){return this.values.length},y.depth.get=function(){return 0},Object.defineProperties(x.prototype,y),x})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(r){function x(y,b){r.call(this),this.left=y,this.right=b,this.length=y.length+b.length,this.depth=Math.max(y.depth,b.depth)+1}return r&&(x.__proto__=r),x.prototype=Object.create(r&&r.prototype),x.prototype.constructor=x,x.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},x.prototype.getInner=function(b){return b<this.left.length?this.left.get(b):this.right.get(b-this.left.length)},x.prototype.forEachInner=function(b,R,T,A){var O=this.left.length;if(R<O&&this.left.forEachInner(b,R,Math.min(T,O),A)===!1||T>O&&this.right.forEachInner(b,Math.max(R-O,0),Math.min(this.length,T)-O,A+O)===!1)return!1},x.prototype.forEachInvertedInner=function(b,R,T,A){var O=this.left.length;if(R>O&&this.right.forEachInvertedInner(b,R-O,Math.max(T,O)-O,A+O)===!1||T<O&&this.left.forEachInvertedInner(b,Math.min(R,O),T,A)===!1)return!1},x.prototype.sliceInner=function(b,R){if(b==0&&R==this.length)return this;var T=this.left.length;return R<=T?this.left.slice(b,R):b>=T?this.right.slice(b-T,R-T):this.left.slice(b,T).append(this.right.slice(0,R-T))},x.prototype.leafAppend=function(b){var R=this.right.leafAppend(b);if(R)return new x(this.left,R)},x.prototype.leafPrepend=function(b){var R=this.left.leafPrepend(b);if(R)return new x(R,this.right)},x.prototype.appendInner=function(b){return this.left.depth>=Math.max(this.right.depth,b.depth)+1?new x(this.left,new x(this.right,b)):new x(this,b)},x})(RopeSequence);const max_empty_items=500;class Branch{constructor(x,y){this.items=x,this.eventCount=y}popEvent(x,y){if(this.eventCount==0)return null;let b=this.items.length;for(;;b--)if(this.items.get(b-1).selection){--b;break}let R,T;y&&(R=this.remapping(b,this.items.length),T=R.maps.length);let A=x.tr,O,B,U=[],K=[];return this.items.forEach((J,te)=>{if(!J.step){R||(R=this.remapping(b,te+1),T=R.maps.length),T--,K.push(J);return}if(R){K.push(new Item(J.map));let ae=J.step.map(R.slice(T)),ue;ae&&A.maybeStep(ae).doc&&(ue=A.mapping.maps[A.mapping.maps.length-1],U.push(new Item(ue,void 0,void 0,U.length+K.length))),T--,ue&&R.appendMap(ue,T)}else A.maybeStep(J.step);if(J.selection)return O=R?J.selection.map(R.slice(T)):J.selection,B=new Branch(this.items.slice(0,b).append(K.reverse().concat(U)),this.eventCount-1),!1},this.items.length,0),{remaining:B,transform:A,selection:O}}addTransform(x,y,b,R){let T=[],A=this.eventCount,O=this.items,B=!R&&O.length?O.get(O.length-1):null;for(let K=0;K<x.steps.length;K++){let J=x.steps[K].invert(x.docs[K]),te=new Item(x.mapping.maps[K],J,y),ae;(ae=B&&B.merge(te))&&(te=ae,K?T.pop():O=O.slice(0,O.length-1)),T.push(te),y&&(A++,y=void 0),R||(B=te)}let U=A-b.depth;return U>DEPTH_OVERFLOW&&(O=cutOffEvents(O,U),A-=U),new Branch(O.append(T),A)}remapping(x,y){let b=new Mapping;return this.items.forEach((R,T)=>{let A=R.mirrorOffset!=null&&T-R.mirrorOffset>=x?b.maps.length-R.mirrorOffset:void 0;b.appendMap(R.map,A)},x,y),b}addMaps(x){return this.eventCount==0?this:new Branch(this.items.append(x.map(y=>new Item(y))),this.eventCount)}rebased(x,y){if(!this.eventCount)return this;let b=[],R=Math.max(0,this.items.length-y),T=x.mapping,A=x.steps.length,O=this.eventCount;this.items.forEach(te=>{te.selection&&O--},R);let B=y;this.items.forEach(te=>{let ae=T.getMirror(--B);if(ae==null)return;A=Math.min(A,ae);let ue=T.maps[ae];if(te.step){let pe=x.steps[ae].invert(x.docs[ae]),$e=te.selection&&te.selection.map(T.slice(B+1,ae));$e&&O++,b.push(new Item(ue,pe,$e))}else b.push(new Item(ue))},R);let U=[];for(let te=y;te<A;te++)U.push(new Item(T.maps[te]));let K=this.items.slice(0,R).append(U).append(b),J=new Branch(K,O);return J.emptyItemCount()>max_empty_items&&(J=J.compress(this.items.length-b.length)),J}emptyItemCount(){let x=0;return this.items.forEach(y=>{y.step||x++}),x}compress(x=this.items.length){let y=this.remapping(0,x),b=y.maps.length,R=[],T=0;return this.items.forEach((A,O)=>{if(O>=x)R.push(A),A.selection&&T++;else if(A.step){let B=A.step.map(y.slice(b)),U=B&&B.getMap();if(b--,U&&y.appendMap(U,b),B){let K=A.selection&&A.selection.map(y.slice(b));K&&T++;let J=new Item(U.invert(),B,K),te,ae=R.length-1;(te=R.length&&R[ae].merge(J))?R[ae]=te:R.push(J)}}else A.map&&b--},this.items.length,0),new Branch(RopeSequence.from(R.reverse()),T)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(r,x){let y;return r.forEach((b,R)=>{if(b.selection&&x--==0)return y=R,!1}),r.slice(y)}class Item{constructor(x,y,b,R){this.map=x,this.step=y,this.selection=b,this.mirrorOffset=R}merge(x){if(this.step&&x.step&&!x.selection){let y=x.step.merge(this.step);if(y)return new Item(y.getMap().invert(),y,this.selection)}}}class HistoryState{constructor(x,y,b,R,T){this.done=x,this.undone=y,this.prevRanges=b,this.prevTime=R,this.prevComposition=T}}const DEPTH_OVERFLOW=20;function applyTransaction(r,x,y,b){let R=y.getMeta(historyKey),T;if(R)return R.historyState;y.getMeta(closeHistoryKey)&&(r=new HistoryState(r.done,r.undone,null,0,-1));let A=y.getMeta("appendedTransaction");if(y.steps.length==0)return r;if(A&&A.getMeta(historyKey))return A.getMeta(historyKey).redo?new HistoryState(r.done.addTransform(y,void 0,b,mustPreserveItems(x)),r.undone,rangesFor(y.mapping.maps),r.prevTime,r.prevComposition):new HistoryState(r.done,r.undone.addTransform(y,void 0,b,mustPreserveItems(x)),null,r.prevTime,r.prevComposition);if(y.getMeta("addToHistory")!==!1&&!(A&&A.getMeta("addToHistory")===!1)){let O=y.getMeta("composition"),B=r.prevTime==0||!A&&r.prevComposition!=O&&(r.prevTime<(y.time||0)-b.newGroupDelay||!isAdjacentTo(y,r.prevRanges)),U=A?mapRanges(r.prevRanges,y.mapping):rangesFor(y.mapping.maps);return new HistoryState(r.done.addTransform(y,B?x.selection.getBookmark():void 0,b,mustPreserveItems(x)),Branch.empty,U,y.time,O??r.prevComposition)}else return(T=y.getMeta("rebased"))?new HistoryState(r.done.rebased(y,T),r.undone.rebased(y,T),mapRanges(r.prevRanges,y.mapping),r.prevTime,r.prevComposition):new HistoryState(r.done.addMaps(y.mapping.maps),r.undone.addMaps(y.mapping.maps),mapRanges(r.prevRanges,y.mapping),r.prevTime,r.prevComposition)}function isAdjacentTo(r,x){if(!x)return!1;if(!r.docChanged)return!0;let y=!1;return r.mapping.maps[0].forEach((b,R)=>{for(let T=0;T<x.length;T+=2)b<=x[T+1]&&R>=x[T]&&(y=!0)}),y}function rangesFor(r){let x=[];for(let y=r.length-1;y>=0&&x.length==0;y--)r[y].forEach((b,R,T,A)=>x.push(T,A));return x}function mapRanges(r,x){if(!r)return null;let y=[];for(let b=0;b<r.length;b+=2){let R=x.map(r[b],1),T=x.map(r[b+1],-1);R<=T&&y.push(R,T)}return y}function histTransaction(r,x,y){let b=mustPreserveItems(x),R=historyKey.get(x).spec.config,T=(y?r.undone:r.done).popEvent(x,b);if(!T)return null;let A=T.selection.resolve(T.transform.doc),O=(y?r.done:r.undone).addTransform(T.transform,x.selection.getBookmark(),R,b),B=new HistoryState(y?O:T.remaining,y?T.remaining:O,null,0,-1);return T.transform.setSelection(A).setMeta(historyKey,{redo:y,historyState:B})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(r){let x=r.plugins;if(cachedPreserveItemsPlugins!=x){cachedPreserveItems=!1,cachedPreserveItemsPlugins=x;for(let y=0;y<x.length;y++)if(x[y].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(x,y,b){return applyTransaction(y,b,x,r)}},config:r,props:{handleDOMEvents:{beforeinput(x,y){let b=y.inputType,R=b=="historyUndo"?undo:b=="historyRedo"?redo:null;return!R||!x.editable?!1:(y.preventDefault(),R(x.state,x.dispatch))}}}})}function buildCommand(r,x){return(y,b)=>{let R=historyKey.getState(y);if(!R||(r?R.undone:R.done).eventCount==0)return!1;if(b){let T=histTransaction(R,y,r);T&&b(x?T.scrollIntoView():T)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:r=>r.length,wordCounter:r=>r.split(" ").filter(x=>x!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=r=>{const x=(r==null?void 0:r.node)||this.editor.state.doc;if(((r==null?void 0:r.mode)||this.options.mode)==="textSize"){const b=x.textBetween(0,x.content.size,void 0," ");return this.options.textCounter(b)}return x.nodeSize},this.storage.words=r=>{const x=(r==null?void 0:r.node)||this.editor.state.doc,y=x.textBetween(0,x.content.size," "," ");return this.options.wordCounter(y)}},addProseMirrorPlugins(){let r=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(x,y,b)=>{if(r)return;const R=this.options.limit;if(R==null||R===0){r=!0;return}const T=this.storage.characters({node:b.doc});if(T>R){const A=T-R,O=0,B=A;console.warn(`[CharacterCount] Initial content exceeded limit of ${R} characters. Content was automatically trimmed.`);const U=b.tr.deleteRange(O,B);return r=!0,U}r=!0},filterTransaction:(x,y)=>{const b=this.options.limit;if(!x.docChanged||b===0||b===null||b===void 0)return!0;const R=this.storage.characters({node:y.doc}),T=this.storage.characters({node:x.doc});if(T<=b||R>b&&T>b&&T<=R)return!0;if(R>b&&T>b&&T>R||!x.getMeta("paste"))return!1;const O=x.selection.$head.pos,B=T-b,U=O-B,K=O;return x.deleteRange(U,K),!(this.storage.characters({node:x.doc})>b)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:r,selection:x})=>{const{isEditable:y,isFocused:b}=this.editor,{anchor:R}=x,T=[];if(!y||!b)return DecorationSet.create(r,[]);let A=0;this.options.mode==="deepest"&&r.descendants((B,U)=>{if(B.isText)return;if(!(R>=U&&R<=U+B.nodeSize-1))return!1;A+=1});let O=0;return r.descendants((B,U)=>{if(B.isText||!(R>=U&&R<=U+B.nodeSize-1))return!1;if(O+=1,this.options.mode==="deepest"&&A-O>0||this.options.mode==="shallowest"&&O>1)return this.options.mode==="deepest";T.push(Decoration.node(U,U+B.nodeSize,{class:this.options.className}))}),DecorationSet.create(r,T)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(r){var x;const y={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(x=callOrReturn(getExtensionField(r,"allowGapCursor",y)))!=null?x:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:r,selection:x})=>{const y=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:b}=x,R=[];if(!y)return null;const T=this.editor.isEmpty;return r.descendants((A,O)=>{const B=b>=O&&b<=O+A.nodeSize,U=!A.isLeaf&&isNodeEmpty(A);if((B||!this.options.showOnlyCurrent)&&U){const K=[this.options.emptyNodeClass];T&&K.push(this.options.emptyEditorClass);const J=Decoration.node(O,O+A.nodeSize,{class:K.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:A,pos:O,hasAnchor:B}):this.options.placeholder});R.push(J)}return this.options.includeChildren}),DecorationSet.create(r,R)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:r,options:x}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(y){return y.selection.empty||r.isFocused||!r.isEditable||isNodeSelection(y.selection)||r.view.dragging?null:DecorationSet.create(y.doc,[Decoration.inline(y.selection.from,y.selection.to,{class:x.className})])}}})]}});function nodeEqualsType({types:r,node:x}){return x&&Array.isArray(r)&&r.includes(x.type)||(x==null?void 0:x.type)===r}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var r;const x=new PluginKey(this.name),y=((r=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:r.name)||this.options.node||"paragraph",b=Object.entries(this.editor.schema.nodes).map(([,R])=>R).filter(R=>(this.options.notAfter||[]).concat(y).includes(R.name));return[new Plugin({key:x,appendTransaction:(R,T,A)=>{const{doc:O,tr:B,schema:U}=A,K=x.getState(A),J=O.content.size,te=U.nodes[y];if(K)return B.insert(J,te.create())},state:{init:(R,T)=>{const A=T.tr.doc.lastChild;return!nodeEqualsType({node:A,types:b})},apply:(R,T)=>{if(!R.docChanged||R.getMeta("__uniqueIDTransaction"))return T;const A=R.doc.lastChild;return!nodeEqualsType({node:A,types:b})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:x})=>undo(r,x),redo:()=>({state:r,dispatch:x})=>redo(r,x)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var r,x,y,b;const R=[];return this.options.bold!==!1&&R.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&R.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&R.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&R.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&R.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&R.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&R.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&R.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&R.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&R.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&R.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&R.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&R.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&R.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&R.push(ListKeymap.configure((r=this.options)==null?void 0:r.listKeymap)),this.options.link!==!1&&R.push(Link.configure((x=this.options)==null?void 0:x.link)),this.options.orderedList!==!1&&R.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&R.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&R.push(Strike.configure(this.options.strike)),this.options.text!==!1&&R.push(Text.configure(this.options.text)),this.options.underline!==!1&&R.push(Underline.configure((y=this.options)==null?void 0:y.underline)),this.options.trailingNode!==!1&&R.push(TrailingNode.configure((b=this.options)==null?void 0:b.trailingNode)),R}}),index_default$1=StarterKit,inputRegex=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node3.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",mergeAttributes(this.options.HTMLAttributes,r)]},parseMarkdown:(r,x)=>x.createNode("image",{src:r.href,title:r.title,alt:r.text}),renderMarkdown:r=>{var x,y,b,R,T,A;const O=(y=(x=r.attrs)==null?void 0:x.src)!=null?y:"",B=(R=(b=r.attrs)==null?void 0:b.alt)!=null?R:"",U=(A=(T=r.attrs)==null?void 0:T.title)!=null?A:"";return U?`![${B}](${O} "${U}")`:`![${B}](${O})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:r,minWidth:x,minHeight:y,alwaysPreserveAspectRatio:b}=this.options.resize;return({node:R,getPos:T,HTMLAttributes:A})=>{const O=document.createElement("img");Object.entries(A).forEach(([K,J])=>{if(J!=null)switch(K){case"width":case"height":break;default:O.setAttribute(K,J);break}}),O.src=A.src;const B=new ResizableNodeView({element:O,node:R,getPos:T,onResize:(K,J)=>{O.style.width=`${K}px`,O.style.height=`${J}px`},onCommit:(K,J)=>{const te=T();te!==void 0&&this.editor.chain().setNodeSelection(te).updateAttributes(this.name,{width:K,height:J}).run()},onUpdate:(K,J,te)=>K.type===R.type,options:{directions:r,min:{width:x,height:y},preserveAspectRatio:b===!0}}),U=B.dom;return U.style.visibility="hidden",U.style.pointerEvents="none",O.onload=()=>{U.style.visibility="",U.style.pointerEvents=""},B}},addCommands(){return{setImage:r=>({commands:x})=>x.insertContent({type:this.name,attrs:r})}},addInputRules(){return[nodeInputRule({find:inputRegex,type:this.type,getAttributes:r=>{const[,,x,y,b]=r;return{src:y,alt:x,title:b}}})]}}),index_default=Image$1;const editorWrapper="_editorWrapper_1qbzy_1",menuBar="_menuBar_1qbzy_15",isActive="_isActive_1qbzy_67",divider="_divider_1qbzy_77",editorContent="_editorContent_1qbzy_91",styles$5={editorWrapper,menuBar,isActive,divider,editorContent};async function uploadEditorImage(r){try{const x=new FormData;return x.append("image",r),(await userInstance.post("/api/upload/image",x,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(x){return console.error("  :",x),alert("    ."),null}}function TiptapMenuBar({editor:r}){const x=reactExports$1.useRef(null);if(!r)return null;const y=async b=>{const R=Array.from(b.target.files);if(R.length!==0){b.target.value="",r.chain().focus();for(const T of R){const A=await uploadEditorImage(T);A&&r.chain().setImage({src:A}).run()}}};return jsxRuntimeExports.jsxs("div",{className:styles$5.menuBar,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:r.isActive("bold")?styles$5.isActive:"",children:jsxRuntimeExports.jsx("b",{children:"B"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:r.isActive("italic")?styles$5.isActive:"",children:jsxRuntimeExports.jsx("i",{children:"I"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleStrike().run(),className:r.isActive("strike")?styles$5.isActive:"",children:jsxRuntimeExports.jsx("s",{children:"S"})}),jsxRuntimeExports.jsx("div",{className:styles$5.divider}),[1,2,3].map(b=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>r.chain().focus().toggleHeading({level:b}).run(),className:r.isActive("heading",{level:b})?styles$5.isActive:"",children:["H",b]},b)),jsxRuntimeExports.jsx("div",{className:styles$5.divider}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>x.current.click(),children:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:x,onChange:y,style:{display:"none"},accept:"image/*",multiple:!0})]})}function TiptapEditor({content:r,onChange:x}){const y=reactExports$1.useRef(!0),b=useEditor({extensions:[index_default$1.configure({heading:{levels:[1,2,3]}}),index_default.configure({allowBase64:!0})],content:r||"",onUpdate:({editor:R})=>{y.current||x(R.getHTML())},editorProps:{attributes:{class:styles$5.editorContent}}});return reactExports$1.useEffect(()=>{b&&(y.current&&(y.current=!1),!(!r||b.getHTML()===r)&&b.commands.setContent(r,{emitUpdate:!1}))},[r,b]),jsxRuntimeExports.jsxs("div",{className:styles$5.editorWrapper,children:[jsxRuntimeExports.jsx(TiptapMenuBar,{editor:b}),jsxRuntimeExports.jsx(EditorContent,{editor:b})]})}function GalleryEditForm({data:r,setData:x,onFileChange:y}){var Le,Ue;const[b,R]=reactExports$1.useState(""),[T,A]=reactExports$1.useState(!1),[O,B]=reactExports$1.useState(null),U=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{r.gallery_image&&typeof r.gallery_image=="string"&&B(r.gallery_image)},[r.gallery_image]),reactExports$1.useEffect(()=>{if(typeof r.gallery_sns=="string")try{const He=JSON.parse(r.gallery_sns);x(qe=>({...qe,gallery_sns:He}))}catch(He){console.error("SNS   :",He),x(qe=>({...qe,gallery_sns:[]}))}},[r.gallery_sns,x]);const K=He=>{He.type==="compositionstart"&&A(!0),He.type==="compositionend"&&A(!1)},J=He=>{if(!T&&He.key==="Enter"&&b.trim()!==""){He.preventDefault();const qe=b.trim(),Qe=r.gallery_category?r.gallery_category.split(",").map(lt=>lt.trim()):[];if(!Qe.includes(qe)){const lt=[...Qe,qe].join(", ");x(ct=>({...ct,gallery_category:lt}))}R("")}},te=He=>{const Qe=r.gallery_category.split(",").map(lt=>lt.trim()).filter(lt=>lt!==He).join(", ");x(lt=>({...lt,gallery_category:Qe}))},ae=He=>{const{name:qe,value:Qe}=He.target;x(lt=>({...lt,[qe]:Qe}))},ue=["","","","","","",""],pe=He=>{const{value:qe,checked:Qe}=He.target,lt=r.gallery_closed_day?r.gallery_closed_day.split(",").map(pt=>pt.trim()):[];let ct;Qe?ct=[...new Set([...lt,qe])]:ct=lt.filter(pt=>pt!==qe);const ot=ue;ct.sort((pt,yt)=>ot.indexOf(pt)-ot.indexOf(yt)),x(pt=>({...pt,gallery_closed_day:ct.join(", ")}))},$e=(He,qe)=>{x(Qe=>{let lt=Array.isArray(Qe.gallery_sns)?[...Qe.gallery_sns]:[];const ct=lt.findIndex(ot=>ot.type===He);return ct!==-1?lt[ct].url=qe:lt.push({type:He,url:qe}),{...Qe,gallery_sns:lt}})},Ne=He=>{x(qe=>({...qe,gallery_description:He}))},Be=r.gallery_category?r.gallery_category.split(",").map(He=>He.trim()):[],_e=He=>{const qe=He.target.files[0];if(qe){y(qe);const Qe=URL.createObjectURL(qe);B(Qe)}He.target.value=""},xe=He=>{He.stopPropagation(),B(null),y(null),U.current&&(U.current.value="")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$6.input} ${styles$6.galleryNameInput}`,name:"gallery_name",value:r.gallery_name||"",onChange:ae,placeholder:" "}),jsxRuntimeExports.jsx("input",{className:`${styles$6.input} ${styles$6.gallerySubNameInput}`,name:"gallery_eng_name",value:r.gallery_eng_name||"",onChange:ae,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:U,onChange:_e,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$6.imageUploadBox,onClick:()=>U.current.click(),children:O?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:O,alt:"  ",className:styles$6.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:xe,className:styles$6.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$6.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$6.tagInputContainer,children:[Be.map(He=>jsxRuntimeExports.jsxs("div",{className:styles$6.tagItem,children:[He,jsxRuntimeExports.jsx("button",{type:"button",className:styles$6.removeTagBtn,onClick:()=>te(He),children:""})]},He)),jsxRuntimeExports.jsx("input",{type:"text",className:styles$6.tagInputField,value:b,onChange:He=>R(He.target.value),onKeyDown:J,onCompositionStart:K,onCompositionEnd:K,placeholder:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$6.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$6.timeInput,name:"gallery_start_time",value:((Le=r.gallery_start_time)==null?void 0:Le.slice(0,5))||"",onChange:ae}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$6.timeInput,name:"gallery_end_time",value:((Ue=r.gallery_end_time)==null?void 0:Ue.slice(0,5))||"",onChange:ae})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$6.checkboxGroup,children:ue.map(He=>{var qe;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:He,checked:(qe=r.gallery_closed_day)==null?void 0:qe.includes(He),onChange:pe})," ",He]},He)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"gallery_phone",value:r.gallery_phone||"",onChange:ae})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"gallery_address",value:r.gallery_address||"",onChange:ae})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,type:"email",name:"gallery_email",value:r.gallery_email||"",onChange:ae})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,type:"url",name:"gallery_homepage",value:r.gallery_homepage||"",onChange:ae})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$6.card} ${styles$6.snsCard}`,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:"SNS"}),jsxRuntimeExports.jsx("div",{className:styles$6.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"facebook",placeholder:"Facebook "},{type:"twitter",placeholder:"Twitter "}].map(({type:He,placeholder:qe})=>{var lt;const Qe=Array.isArray(r.gallery_sns)&&((lt=r.gallery_sns.find(ct=>ct.type===He))==null?void 0:lt.url)||"";return jsxRuntimeExports.jsx("input",{className:styles$6.input,placeholder:qe,value:Qe,onChange:ct=>$e(He,ct.target.value)},He)})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$6.card} ${styles$6.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.gallery_description||"",onChange:Ne})]})]})}function ExhibitionEditForm({data:r,setData:x,onFileChange:y}){var te,ae;const[b,R]=reactExports$1.useState(null),T=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{r.exhibition_poster&&typeof r.exhibition_poster=="string"&&R(r.exhibition_poster)},[r.exhibition_poster]);const A=ue=>{ue.stopPropagation(),R(null),y(null),T.current&&(T.current.value="")},O=ue=>{const{name:pe,value:$e}=ue.target;x(Ne=>({...Ne,[pe]:$e}))},B=ue=>{x(pe=>({...pe,exhibition_description:ue}))},U=ue=>{const pe=ue.target.files[0];if(pe){y(pe);const $e=URL.createObjectURL(pe);R($e)}ue.target.value=""},K=["","","","","","",""],J=ue=>{const{value:pe,checked:$e}=ue.target,Ne=r.exhibition_closed_day?r.exhibition_closed_day.split(",").map(xe=>xe.trim()):[];let Be;$e?Be=[...new Set([...Ne,pe])]:Be=Ne.filter(xe=>xe!==pe);const _e=K;Be.sort((xe,Le)=>_e.indexOf(xe)-_e.indexOf(Le)),x(xe=>({...xe,exhibition_closed_day:Be.join(", ")}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$6.input} ${styles$6.galleryNameInput}`,name:"exhibition_title",value:r.exhibition_title||"",onChange:O,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:T,onChange:U,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$6.imageUploadBox,onClick:()=>T.current.click(),children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:b,alt:"  ",className:styles$6.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:A,className:styles$6.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$6.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$6.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$6.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"date",className:styles$6.timeInput,name:"exhibition_start_date",value:r.exhibition_start_date||"",onChange:O}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"date",className:styles$6.timeInput,name:"exhibition_end_date",value:r.exhibition_end_date||"",onChange:O})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$6.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$6.timeInput,name:"exhibition_start_time",value:((te=r.exhibition_start_time)==null?void 0:te.slice(0,5))||"",onChange:O}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$6.timeInput,name:"exhibition_end_time",value:((ae=r.exhibition_end_time)==null?void 0:ae.slice(0,5))||"",onChange:O})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$6.checkboxGroup,children:K.map(ue=>{var pe;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:ue,checked:(pe=r.exhibition_closed_day)==null?void 0:pe.includes(ue),onChange:J})," ",ue]},ue)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"exhibition_organization",value:r.exhibition_organization||"",onChange:O})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"exhibition_location",value:r.exhibition_location||"",onChange:O})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"exhibition_price",value:r.exhibition_price||"",onChange:O})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"exhibition_phone",value:r.exhibition_phone||"",onChange:O})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,type:"url",name:"exhibition_homepage",value:r.exhibition_homepage||"",onChange:O})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$6.card} ${styles$6.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.exhibition_description||"",onChange:B})]})]})}const overlay$1="_overlay_11p9c_1",modalBox="_modalBox_11p9c_27",header$1="_header_11p9c_49",closeBtn="_closeBtn_11p9c_73",body="_body_11p9c_87",searchBar="_searchBar_11p9c_97",listContainer="_listContainer_11p9c_139",artistRow="_artistRow_11p9c_151",artistImg="_artistImg_11p9c_169",artistInfo="_artistInfo_11p9c_185",name="_name_11p9c_195",category="_category_11p9c_205",selectBtn="_selectBtn_11p9c_215",emptyState="_emptyState_11p9c_243",addNewBtn="_addNewBtn_11p9c_257",addFormContainer="_addFormContainer_11p9c_293",addTitle="_addTitle_11p9c_305",imageUploadCircle="_imageUploadCircle_11p9c_317",placeholder="_placeholder_11p9c_353",addInput="_addInput_11p9c_375",formActions="_formActions_11p9c_393",cancelBtn="_cancelBtn_11p9c_403",confirmBtn="_confirmBtn_11p9c_405",styles$4={overlay:overlay$1,modalBox,header:header$1,closeBtn,body,searchBar,listContainer,artistRow,artistImg,artistInfo,name,category,selectBtn,emptyState,addNewBtn,addFormContainer,addTitle,imageUploadCircle,placeholder,addInput,formActions,cancelBtn,confirmBtn};function ArtistSelectModal({onClose:r,onSelect:x}){const[y,b]=reactExports$1.useState(""),[R,T]=reactExports$1.useState([]),[A,O]=reactExports$1.useState(!1),[B,U]=reactExports$1.useState(""),[K,J]=reactExports$1.useState(null),[te,ae]=reactExports$1.useState(null),ue=reactExports$1.useRef(null),pe=async(_e="")=>{try{const xe=await userInstance.get("/api/artist",{params:{search:_e}});T(xe.data||[])}catch(xe){console.error("  :",xe)}};reactExports$1.useEffect(()=>{pe()},[]);const $e=_e=>{_e.key==="Enter"&&pe(y)},Ne=_e=>{const xe=_e.target.files[0];xe&&(J(xe),ae(URL.createObjectURL(xe)))},Be=async()=>{if(!B.trim()){alert("  .");return}alert(" .")};return jsxRuntimeExports.jsx("div",{className:styles$4.overlay,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:styles$4.modalBox,onClick:_e=>_e.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("button",{className:styles$4.closeBtn,onClick:r,children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.body,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.searchBar,children:[jsxRuntimeExports.jsx("input",{value:y,onChange:_e=>b(_e.target.value),onKeyDown:$e,placeholder:"  "}),jsxRuntimeExports.jsx("button",{onClick:()=>pe(y),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),A?jsxRuntimeExports.jsxs("div",{className:styles$4.addFormContainer,children:[jsxRuntimeExports.jsx("p",{className:styles$4.addTitle,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$4.imageUploadCircle,onClick:()=>ue.current.click(),children:[te?jsxRuntimeExports.jsx("img",{src:te,alt:"Preview"}):jsxRuntimeExports.jsxs("div",{className:styles$4.placeholder,children:[jsxRuntimeExports.jsx(FaUser,{}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:ue,onChange:Ne,hidden:!0})]}),jsxRuntimeExports.jsx("input",{className:styles$4.addInput,placeholder:"  ",value:B,onChange:_e=>U(_e.target.value)}),jsxRuntimeExports.jsxs("div",{className:styles$4.formActions,children:[jsxRuntimeExports.jsx("button",{className:styles$4.cancelBtn,onClick:()=>O(!1),children:""}),jsxRuntimeExports.jsx("button",{className:styles$4.confirmBtn,onClick:Be,children:" "})]})]}):jsxRuntimeExports.jsx("div",{className:styles$4.listContainer,children:R.length>0?R.map(_e=>jsxRuntimeExports.jsxs("div",{className:styles$4.artistRow,children:[jsxRuntimeExports.jsx("img",{src:_e.artist_image||"/images/default_profile.png",alt:_e.artist_name,className:styles$4.artistImg,onError:xe=>xe.target.src="https://via.placeholder.com/50"}),jsxRuntimeExports.jsxs("div",{className:styles$4.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$4.name,children:_e.artist_name}),jsxRuntimeExports.jsx("span",{className:styles$4.category,children:_e.artist_category||"Category"})]}),jsxRuntimeExports.jsx("button",{className:styles$4.selectBtn,onClick:()=>x(_e),children:""})]},_e.id)):jsxRuntimeExports.jsxs("div",{className:styles$4.emptyState,children:[jsxRuntimeExports.jsx("p",{children:"  ."}),jsxRuntimeExports.jsxs("button",{className:styles$4.addNewBtn,onClick:()=>O(!0),children:[jsxRuntimeExports.jsx(FaPlus,{}),"   "]})]})})]})]})})}function ArtworkEditForm({data:r,setData:x,onFileChange:y}){var ae;const[b,R]=reactExports$1.useState(null),[T,A]=reactExports$1.useState(!1),O=reactExports$1.useRef(null),B=ue=>{const pe=ue.target.files[0];pe&&(y(pe),R(URL.createObjectURL(pe))),ue.target.value=""},U=ue=>{ue.stopPropagation(),R(null),y(null),O.current&&(O.current.value="")},K=ue=>{const{name:pe,value:$e}=ue.target;x(Ne=>({...Ne,[pe]:$e}))},J=ue=>{x(pe=>({...pe,art_description:ue}))},te=ue=>{x(pe=>({...pe,artist_name:ue.artist_name,artist_id:ue.id})),A(!1)};return reactExports$1.useEffect(()=>{r.art_image&&typeof r.art_image=="string"&&R(r.art_image)},[r.art_image]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$6.input} ${styles$6.galleryNameInput}`,name:"art_title",value:r.art_title||"",onChange:K,placeholder:" "}),jsxRuntimeExports.jsxs("div",{className:styles$6.imageSection,children:[jsxRuntimeExports.jsx("input",{type:"file",ref:O,onChange:B,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$6.imageUploadBox,onClick:()=>O.current.click(),style:{position:"relative"},children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:b,alt:" ",className:styles$6.previewImage}),jsxRuntimeExports.jsx("button",{className:styles$6.imageDelBtn,type:"button",onClick:U,children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$6.previewImageDesc,children:"+   "})})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("select",{className:styles$6.input,name:"exhibition_id",value:r.exhibition_id||"",onChange:K,children:[jsxRuntimeExports.jsx("option",{value:"",children:" "}),(ae=r.exhibitions)==null?void 0:ae.map(ue=>jsxRuntimeExports.jsx("option",{value:ue.id,children:ue.exhibition_title},ue.id))]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$6.artistSelectRow,children:[jsxRuntimeExports.jsx("input",{className:styles$6.input,value:r.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>A(!0),style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$6.selectButton,onClick:()=>A(!0),children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{type:"number",className:styles$6.input,name:"art_year",value:r.art_year||"",onChange:K,placeholder:": 2025"})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"art_material",value:r.art_material||"",onChange:K,placeholder:": Oil on canvas"})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"art_size",value:r.art_size||"",onChange:K,placeholder:": 100x150cm"})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:" "}),jsxRuntimeExports.jsx("input",{className:styles$6.input,name:"gallery_phone",value:r.gallery_phone||"",onChange:K,placeholder:": 02-1234-5678"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$6.card} ${styles$6.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$6.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.art_description||"",onChange:J})]}),jsxRuntimeExports.jsx("div",{className:styles$6.card,children:jsxRuntimeExports.jsxs("div",{className:styles$6.inputDocent,children:[jsxRuntimeExports.jsx("label",{className:styles$6.docent,children:"AI  "}),jsxRuntimeExports.jsx("textarea",{className:styles$6.textarea,name:"art_docent",value:r.art_docent||"",onChange:K,placeholder:"AI    ."})]})}),T&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>A(!1),onSelect:te})]})}const EDIT_CONFIG={galleries:{title:" ",apiUrl:r=>r==="new"?"/api/galleries":`/api/galleries/${r}`,formImageField:"gallery_image_file"},exhibitions:{title:" ",apiUrl:r=>r==="new"?"/api/exhibitions":`/api/exhibitions/${r}`,formImageField:"exhibition_poster_file"},artworks:{title:" ",apiUrl:r=>r==="new"?"/api/arts":`/api/arts/${r}`,formImageField:"image"}},FORM_COMPONENTS={galleries:GalleryEditForm,exhibitions:ExhibitionEditForm,artworks:ArtworkEditForm};function ConsoleEdit({type:r}){const{id:x}=useParams(),y=useNavigate(),[b]=useSearchParams(),[R,T]=reactExports$1.useState(null),[A,O]=reactExports$1.useState(null),[B,U]=reactExports$1.useState(!1),K=x==="new",J=EDIT_CONFIG[r],te=FORM_COMPONENTS[r];reactExports$1.useEffect(()=>{J&&(async()=>{if(K){const Ne={},Be=b.get("exhibition_id"),_e=b.get("gallery_id");Be&&(Ne.exhibition_id=Be),_e&&(Ne.gallery_id=_e),T(Ne)}else try{const Ne=await userInstance.get(J.apiUrl(x)),Be=typeof Ne.data=="string"?JSON.parse(Ne.data):Ne.data;T(Be)}catch(Ne){console.error("  :",Ne),alert("  ."),y(`/console/${r}/${x}`)}})()},[x,J,K,b,y]);const ae=()=>{window.confirm(" ?")&&y(`/console/${r}/${x}`)},ue=async()=>{if(B||!R)return;if(r==="artworks"){if(!R.artist_id){alert(" .");return}if(!R.art_title){alert(" .");return}if(!A){alert("  .");return}}else if(r==="galleries"){if(!R.gallery_name){alert(" .");return}}else{if(!R.exhibition_title){alert(" .");return}if(!R.exhibition_start_date||!R.exhibition_end_date){alert(" .");return}if(!R.exhibtion_start_time||!R.exhibtion_end_time){alert("  .");return}if(!R.exhibition_organization){alert(" .");return}}U(!0);const $e=new FormData;K||$e.append("_method","PATCH");const Ne=["id","created_at","updated_at","user_id","artworks","exhibitions","reviews","is_liked","gallery","artist_users","artists","artist"];Object.entries(R).forEach(([Be,_e])=>{Ne.includes(Be)||_e!=null&&(typeof _e=="object"&&!(_e instanceof File)?$e.append(Be,JSON.stringify(_e)):$e.append(Be,_e))}),A&&$e.append(J.formImageField,A);try{const Be=J.apiUrl(x),_e=await userInstance.post(Be,$e,{headers:{"Content-Type":"multipart/form-data"}});console.log(" :",_e.data),alert(K?".":"."),y(`/console/${r}/${x}`)}catch(Be){if(console.error(" :",Be),Be.response){console.log("  :",Be.response.data);const _e=typeof Be.response.data=="object"?Be.response.data.message||JSON.stringify(Be.response.data):"  .";alert(` : ${_e}`)}else alert("    .")}finally{U(!1)}},pe=$e=>{O($e)};return R?jsxRuntimeExports.jsxs("div",{className:styles$7.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$7.header,children:[jsxRuntimeExports.jsx("button",{className:styles$7.backButton,onClick:ae,children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$7.title,children:J.title})]}),jsxRuntimeExports.jsx("main",{className:styles$7.formContainer,children:te&&jsxRuntimeExports.jsx(te,{data:R,setData:T,onFileChange:pe})}),jsxRuntimeExports.jsxs("div",{className:styles$7.bottomButtonContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$7.button} ${styles$7.saveButton}`,onClick:ue,children:B?" ...":""}),jsxRuntimeExports.jsx("button",{className:`${styles$7.button} ${styles$7.cancelButton}`,onClick:ae,disabled:B,children:""})]})]}):jsxRuntimeExports.jsx("div",{children:"  ..."})}const layout$1="_layout_19w3s_1",backButton="_backButton_19w3s_17",styles$3={layout:layout$1,backButton},container$1="_container_awgxr_1",title$1="_title_awgxr_17",contentBox="_contentBox_awgxr_29",inputSection="_inputSection_awgxr_53",label="_label_awgxr_65",textarea="_textarea_awgxr_75",generateButton="_generateButton_awgxr_95",resultSection="_resultSection_awgxr_123",generatedImage="_generatedImage_awgxr_141",downloadButton="_downloadButton_awgxr_157",imagePlaceholder="_imagePlaceholder_awgxr_187",styles$2={container:container$1,title:title$1,contentBox,inputSection,label,textarea,generateButton,resultSection,generatedImage,downloadButton,imagePlaceholder};function ImageGenerator(){const[r,x]=reactExports$1.useState(""),[y,b]=reactExports$1.useState(null),[R,T]=reactExports$1.useState(!1),A=async()=>{try{const O=await instance.post("/api/console/images/generate",{text:r});console.log(O)}catch(O){console.error(O)}};return jsxRuntimeExports.jsxs("div",{className:styles$2.container,children:[jsxRuntimeExports.jsx("h1",{className:styles$2.title,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$2.contentBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.inputSection,children:[jsxRuntimeExports.jsx("label",{className:styles$2.label,children:"  "}),jsxRuntimeExports.jsx("textarea",{value:r,onChange:O=>x(O.target.value),placeholder:":        ",className:styles$2.textarea}),jsxRuntimeExports.jsx("button",{onClick:A,className:styles$2.generateButton,disabled:R,children:R?"  ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$2.resultSection,children:y?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:y,alt:" ",className:styles$2.generatedImage}),jsxRuntimeExports.jsx("button",{className:styles$2.downloadButton,onClick:()=>{const O=document.createElement("a");O.href=y,O.download="generated-image.png",document.body.appendChild(O),O.click(),document.body.removeChild(O)},children:" "})]}):jsxRuntimeExports.jsx("div",{className:styles$2.imagePlaceholder,children:R?"  ...":"   ."})})]})]})}function Poster(){const r=useNavigate(),x=()=>{r(-1)};return jsxRuntimeExports.jsxs("div",{className:styles$3.layout,children:[jsxRuntimeExports.jsx(ImageGenerator,{}),jsxRuntimeExports.jsx("button",{className:styles$3.backButton,onClick:x,children:" "})]})}const layout="_layout_4eom6_1",notificationList="_notificationList_4eom6_45",notificationItem="_notificationItem_4eom6_61",iconContainer="_iconContainer_4eom6_91",contentArea="_contentArea_4eom6_113",header="_header_4eom6_121",title="_title_4eom6_135",timestamp="_timestamp_4eom6_149",content="_content_4eom6_113",errorText="_errorText_4eom6_177",styles$1={layout,notificationList,notificationItem,iconContainer,contentArea,header,title,timestamp,content,errorText},getIcon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:20,className:styles$1.iconNotice}),formatTimestamp=r=>{const x=new Date(r),b=new Date().getTime()-x.getTime(),R=Math.floor(b/(1e3*60)),T=Math.floor(b/(1e3*60*60)),A=Math.floor(b/(1e3*60*60*24));return R<1?" ":R<60?`${R} `:T<24?`${T} `:A<7?`${A} `:x.toLocaleDateString("ko-KR")};function Notification$1(){const{user:r,isLoading:x}=useUser(),[y,b]=reactExports$1.useState([]),[R,T]=reactExports$1.useState(!0),[A,O]=reactExports$1.useState(null),B=reactExports$1.useCallback(async U=>{if(!U){O("      ."),T(!1);return}try{T(!0),O(null);const J=(await userInstance.get("/api/notification/user")).data.data;if(!Array.isArray(J)){b([]);return}const te=J.map(ae=>({id:ae.notification_id,title:ae.title,content:ae.body,timestamp:ae.create_dtm,read:ae.is_checked==="1"})).sort((ae,ue)=>new Date(ue.timestamp).getTime()-new Date(ae.timestamp).getTime());b(te)}catch(K){O(`    . (${K.message})`)}finally{T(!1)}},[]);return reactExports$1.useEffect(()=>{!x&&(r!=null&&r.id)?B(r.id):!x&&!r&&T(!1)},[x,r==null?void 0:r.id,B]),reactExports$1.useEffect(()=>{if(!(r!=null&&r.id))return;const U=onForegroundMessage(()=>{console.log("      "),B(r.id)}),K=J=>{var te;((te=J.data)==null?void 0:te.type)==="NEW_NOTIFICATION"&&(console.log("      ",J.data),B(r.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",K),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",K)})),()=>{U(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",K)}},[r==null?void 0:r.id,B]),R?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:"  ..."}):A?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("div",{className:styles$1.errorText,children:A})}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("h1",{children:" ."})}):jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("div",{className:styles$1.notificationList,children:y.map(U=>jsxRuntimeExports.jsxs("div",{className:`${styles$1.notificationItem} ${U.read?styles$1.readItem:""}`,onClick:()=>{U.read||handleNotificationClick(U.id)},children:[jsxRuntimeExports.jsx("div",{className:styles$1.iconContainer,children:getIcon()}),jsxRuntimeExports.jsxs("div",{className:styles$1.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.header,children:[jsxRuntimeExports.jsx("span",{className:styles$1.title,children:U.title}),jsxRuntimeExports.jsx("span",{className:styles$1.timestamp,children:formatTimestamp(U.timestamp)})]}),jsxRuntimeExports.jsx("p",{className:styles$1.content,children:U.content})]})]},U.id))})})}var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,(function(r,x){(function(y,b){b(x)})(pageFlip_browser,(function(y){class b{constructor(xe,Le){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=Le,this.nowDrawingDensity=this.createdDensity,this.render=xe}setDensity(xe){this.createdDensity=xe,this.nowDrawingDensity=xe}setDrawingDensity(xe){this.nowDrawingDensity=xe}setPosition(xe){this.state.position=xe}setAngle(xe){this.state.angle=xe}setArea(xe){this.state.area=xe}setHardDrawingAngle(xe){this.state.hardDrawingAngle=xe}setHardAngle(xe){this.state.hardAngle=xe,this.state.hardDrawingAngle=xe}setOrientation(xe){this.orientation=xe}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class R extends b{constructor(xe,Le,Ue){super(xe,Ue),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=Le}draw(xe){const Le=this.render.getContext(),Ue=this.render.convertToGlobal(this.state.position),He=this.render.getRect().pageWidth,qe=this.render.getRect().height;Le.save(),Le.translate(Ue.x,Ue.y),Le.beginPath();for(let Qe of this.state.area)Qe!==null&&(Qe=this.render.convertToGlobal(Qe),Le.lineTo(Qe.x-Ue.x,Qe.y-Ue.y));Le.rotate(this.state.angle),Le.clip(),this.isLoad?Le.drawImage(this.image,0,0,He,qe):this.drawLoader(Le,{x:0,y:0},He,qe),Le.restore()}simpleDraw(xe){const Le=this.render.getRect(),Ue=this.render.getContext(),He=Le.pageWidth,qe=Le.height,Qe=xe===1?Le.left+Le.pageWidth:Le.left,lt=Le.top;this.isLoad?Ue.drawImage(this.image,Qe,lt,He,qe):this.drawLoader(Ue,{x:Qe,y:lt},He,qe)}drawLoader(xe,Le,Ue,He){xe.beginPath(),xe.strokeStyle="rgb(200, 200, 200)",xe.fillStyle="rgb(255, 255, 255)",xe.lineWidth=1,xe.rect(Le.x+1,Le.y+1,Ue-1,He-1),xe.stroke(),xe.fill();const qe={x:Le.x+Ue/2,y:Le.y+He/2};xe.beginPath(),xe.lineWidth=10,xe.arc(qe.x,qe.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),xe.stroke(),xe.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class T{constructor(xe,Le){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=Le,this.app=xe,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let Le=0;Le<this.pages.length;Le++)this.portraitSpread.push([Le]);let xe=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([xe]),xe++);for(let Le=xe;Le<this.pages.length;Le+=2)Le<this.pages.length-1?this.landscapeSpread.push([Le,Le+1]):(this.landscapeSpread.push([Le]),this.pages[Le].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(xe){const Le=this.getSpread();for(let Ue=0;Ue<Le.length;Ue++)if(xe===Le[Ue][0]||xe===Le[Ue][1])return Ue;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(xe){if(xe>=0&&xe<this.pages.length)return this.pages[xe];throw new Error("Invalid page number")}nextBy(xe){const Le=this.pages.indexOf(xe);return Le<this.pages.length-1?this.pages[Le+1]:null}prevBy(xe){const Le=this.pages.indexOf(xe);return Le>0?this.pages[Le-1]:null}getFlippingPage(xe){const Le=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return xe===0?this.pages[Le].newTemporaryCopy():this.pages[Le-1];{const Ue=xe===0?this.getSpread()[Le+1]:this.getSpread()[Le-1];return Ue.length===1||xe===0?this.pages[Ue[0]]:this.pages[Ue[1]]}}getBottomPage(xe){const Le=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return xe===0?this.pages[Le+1]:this.pages[Le-1];{const Ue=xe===0?this.getSpread()[Le+1]:this.getSpread()[Le-1];return Ue.length===1?this.pages[Ue[0]]:xe===0?this.pages[Ue[1]]:this.pages[Ue[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(xe=null){if(xe===null&&(xe=this.currentPageIndex),xe<0||xe>=this.pages.length)return;const Le=this.getSpreadIndexByPage(xe);Le!==null&&(this.currentSpreadIndex=Le,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(xe){if(!(xe>=0&&xe<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=xe}showSpread(){const xe=this.getSpread()[this.currentSpreadIndex];xe.length===2?(this.render.setLeftPage(this.pages[xe[0]]),this.render.setRightPage(this.pages[xe[1]])):this.render.getOrientation()==="landscape"&&xe[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[xe[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[xe[0]])),this.currentPageIndex=xe[0],this.app.updatePageIndex(this.currentPageIndex)}}class A extends T{constructor(xe,Le,Ue){super(xe,Le),this.imagesHref=Ue}load(){for(const xe of this.imagesHref){const Le=new R(this.render,xe,"soft");Le.load(),this.pages.push(Le)}this.createSpread()}}class O{static GetDistanceBetweenTwoPoint(xe,Le){return xe===null||Le===null?1/0:Math.sqrt(Math.pow(Le.x-xe.x,2)+Math.pow(Le.y-xe.y,2))}static GetSegmentLength(xe){return O.GetDistanceBetweenTwoPoint(xe[0],xe[1])}static GetAngleBetweenTwoLine(xe,Le){const Ue=xe[0].y-xe[1].y,He=Le[0].y-Le[1].y,qe=xe[1].x-xe[0].x,Qe=Le[1].x-Le[0].x;return Math.acos((Ue*He+qe*Qe)/(Math.sqrt(Ue*Ue+qe*qe)*Math.sqrt(He*He+Qe*Qe)))}static PointInRect(xe,Le){return Le===null?null:Le.x>=xe.left&&Le.x<=xe.width+xe.left&&Le.y>=xe.top&&Le.y<=xe.top+xe.height?Le:null}static GetRotatedPoint(xe,Le,Ue){return{x:xe.x*Math.cos(Ue)+xe.y*Math.sin(Ue)+Le.x,y:xe.y*Math.cos(Ue)-xe.x*Math.sin(Ue)+Le.y}}static LimitPointToCircle(xe,Le,Ue){if(O.GetDistanceBetweenTwoPoint(xe,Ue)<=Le)return Ue;const He=xe.x,qe=xe.y,Qe=Ue.x,lt=Ue.y;let ct=Math.sqrt(Math.pow(Le,2)*Math.pow(He-Qe,2)/(Math.pow(He-Qe,2)+Math.pow(qe-lt,2)))+He;Ue.x<0&&(ct*=-1);let ot=(ct-He)*(qe-lt)/(He-Qe)+qe;return He-Qe+qe===0&&(ot=Le),{x:ct,y:ot}}static GetIntersectBetweenTwoSegment(xe,Le,Ue){return O.PointInRect(xe,O.GetIntersectBeetwenTwoLine(Le,Ue))}static GetIntersectBeetwenTwoLine(xe,Le){const Ue=xe[0].y-xe[1].y,He=Le[0].y-Le[1].y,qe=xe[1].x-xe[0].x,Qe=Le[1].x-Le[0].x,lt=xe[0].x*xe[1].y-xe[1].x*xe[0].y,ct=Le[0].x*Le[1].y-Le[1].x*Le[0].y,ot=Ue*ct-He*lt,pt=qe*ct-Qe*lt,yt=-(lt*Qe-ct*qe)/(Ue*Qe-He*qe),it=-(Ue*ct-He*lt)/(Ue*Qe-He*qe);if(isFinite(yt)&&isFinite(it))return{x:yt,y:it};if(Math.abs(ot-pt)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(xe,Le){const Ue=Math.abs(xe.x-Le.x),He=Math.abs(xe.y-Le.y),qe=Math.max(Ue,He),Qe=[xe];function lt(ct,ot,pt,yt,it){return ot>ct?ct+it*(pt/yt):ot<ct?ct-it*(pt/yt):ct}for(let ct=1;ct<=qe;ct+=1)Qe.push({x:lt(xe.x,Le.x,Ue,qe,ct),y:lt(xe.y,Le.y,He,qe,ct)});return Qe}}class B extends b{constructor(xe,Le,Ue){super(xe,Ue),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=Le,this.element.classList.add("stf__item"),this.element.classList.add("--"+Ue)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new B(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(xe){const Le=xe||this.nowDrawingDensity,Ue=this.render.convertToGlobal(this.state.position),He=this.render.getRect().pageWidth,qe=this.render.getRect().height;this.element.classList.remove("--simple");const Qe=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${He}px;
            height: ${qe}px;
        `;Le==="hard"?this.drawHard(Qe):this.drawSoft(Ue,Qe)}drawHard(xe=""){const Le=this.render.getRect().left+this.render.getRect().width/2,Ue=this.state.hardDrawingAngle,He=xe+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${Ue}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${Le}px, 0, 0) rotateY(${Ue}deg);`);this.element.style.cssText=He}drawSoft(xe,Le=""){let Ue="polygon( ";for(const qe of this.state.area)if(qe!==null){let Qe=this.render.getDirection()===1?{x:-qe.x+this.state.position.x,y:qe.y-this.state.position.y}:{x:qe.x-this.state.position.x,y:qe.y-this.state.position.y};Qe=O.GetRotatedPoint(Qe,{x:0,y:0},this.state.angle),Ue+=Qe.x+"px "+Qe.y+"px, "}Ue=Ue.slice(0,-2),Ue+=")";const He=Le+`transform-origin: 0 0; clip-path: ${Ue}; -webkit-clip-path: ${Ue};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${xe.x}px, ${xe.y}px);`:`transform: translate3d(${xe.x}px, ${xe.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=He}simpleDraw(xe){const Le=this.render.getRect(),Ue=Le.pageWidth,He=Le.height,qe=xe===1?Le.left+Le.pageWidth:Le.left,Qe=Le.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${He}px; 
            left: ${qe}px; 
            top: ${Qe}px; 
            width: ${Ue}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(xe){super.setOrientation(xe),this.element.classList.remove("--left","--right"),this.element.classList.add(xe===1?"--right":"--left")}setDrawingDensity(xe){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+xe),super.setDrawingDensity(xe)}}class U extends T{constructor(xe,Le,Ue,He){super(xe,Le),this.element=Ue,this.pagesElement=He}load(){for(const xe of this.pagesElement){const Le=new B(this.render,xe,xe.dataset.density==="hard"?"hard":"soft");Le.load(),this.pages.push(Le)}this.createSpread()}}class K{constructor(xe,Le,Ue,He){this.direction=xe,this.corner=Le,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(Ue,10),this.pageHeight=parseInt(He,10)}calc(xe){try{return this.position=this.calcAngleAndPosition(xe),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const xe=[];let Le=!1;return xe.push(this.rect.topLeft),xe.push(this.topIntersectPoint),this.sideIntersectPoint===null?Le=!0:(xe.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(Le=!1)),xe.push(this.bottomIntersectPoint),(Le||this.corner==="bottom")&&xe.push(this.rect.bottomLeft),xe}getBottomClipArea(){const xe=[];return xe.push(this.topIntersectPoint),this.corner==="top"?xe.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&xe.push({x:this.pageWidth,y:0}),xe.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?O.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&xe.push(this.sideIntersectPoint):this.corner==="top"&&xe.push({x:this.pageWidth,y:this.pageHeight}),xe.push(this.bottomIntersectPoint),xe.push(this.topIntersectPoint),xe}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const xe=O.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?xe:Math.PI-xe}calcAngleAndPosition(xe){let Le=xe;if(this.updateAngleAndGeometry(Le),Le=this.corner==="top"?this.checkPositionAtCenterLine(Le,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(Le,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(Le.x-this.pageWidth)<1&&Math.abs(Le.y)<1)throw new Error("Point is too small");return Le}updateAngleAndGeometry(xe){this.angle=this.calculateAngle(xe),this.rect=this.getPageRect(xe)}calculateAngle(xe){const Le=this.pageWidth-xe.x+1,Ue=this.corner==="bottom"?this.pageHeight-xe.y:xe.y;let He=2*Math.acos(Le/Math.sqrt(Ue*Ue+Le*Le));Ue<0&&(He=-He);const qe=Math.PI-He;if(!isFinite(He)||qe>=0&&qe<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(He=-He),He}getPageRect(xe){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],xe):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],xe)}getRectFromBasePoint(xe,Le){return{topLeft:this.getRotatedPoint(xe[0],Le),topRight:this.getRotatedPoint(xe[1],Le),bottomLeft:this.getRotatedPoint(xe[2],Le),bottomRight:this.getRotatedPoint(xe[3],Le)}}getRotatedPoint(xe,Le){return{x:xe.x*Math.cos(this.angle)+xe.y*Math.sin(this.angle)+Le.x,y:xe.y*Math.cos(this.angle)-xe.x*Math.sin(this.angle)+Le.y}}calculateIntersectPoint(xe){const Le={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[xe,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[xe,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[xe,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=O.GetIntersectBetweenTwoSegment(Le,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(xe,Le,Ue){let He=xe;const qe=O.LimitPointToCircle(Le,this.pageWidth,He);He!==qe&&(He=qe,this.updateAngleAndGeometry(He));const Qe=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let lt=this.rect.bottomRight,ct=this.rect.topLeft;if(this.corner==="bottom"&&(lt=this.rect.topRight,ct=this.rect.bottomLeft),lt.x<=0){const ot=O.LimitPointToCircle(Ue,Qe,ct);ot!==He&&(He=ot,this.updateAngleAndGeometry(He))}return He}getSegmentToShadowLine(){const xe=this.getShadowStartPoint();return[xe,xe!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class J{constructor(xe,Le){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=xe,this.app=Le}fold(xe){this.setState("user_fold"),this.calc===null&&this.start(xe),this.do(this.render.convertToPage(xe))}flip(xe){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(xe)||(this.calc!==null&&this.render.finishAnimation(),!this.start(xe)))return;const Le=this.getBoundsRect();this.setState("flipping");const Ue=Le.height/10,He=this.calc.getCorner()==="bottom"?Le.height-Ue:Ue,qe=this.calc.getCorner()==="bottom"?Le.height:0;this.calc.calc({x:Le.pageWidth-Ue,y:He}),this.animateFlippingTo({x:Le.pageWidth-Ue,y:He},{x:-Le.pageWidth,y:qe},!0)}start(xe){this.reset();const Le=this.render.convertToBook(xe),Ue=this.getBoundsRect(),He=this.getDirectionByPoint(Le),qe=Le.y>=Ue.height/2?"bottom":"top";if(!this.checkDirection(He))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(He),this.bottomPage=this.app.getPageCollection().getBottomPage(He),this.render.getOrientation()==="landscape")if(He===1){const Qe=this.app.getPageCollection().nextBy(this.flippingPage);Qe!==null&&this.flippingPage.getDensity()!==Qe.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Qe.setDrawingDensity("hard"))}else{const Qe=this.app.getPageCollection().prevBy(this.flippingPage);Qe!==null&&this.flippingPage.getDensity()!==Qe.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Qe.setDrawingDensity("hard"))}return this.render.setDirection(He),this.calc=new K(He,qe,Ue.pageWidth.toString(10),Ue.height.toString(10)),!0}catch{return!1}}do(xe){if(this.calc!==null&&this.calc.calc(xe)){const Le=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*Le)/100):this.flippingPage.setHardAngle(-90*(200-2*Le)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),Le,this.calc.getDirection())}}flipToPage(xe,Le){const Ue=this.app.getPageCollection().getCurrentSpreadIndex(),He=this.app.getPageCollection().getSpreadIndexByPage(xe);try{He>Ue&&(this.app.getPageCollection().setCurrentSpreadIndex(He-1),this.flipNext(Le)),He<Ue&&(this.app.getPageCollection().setCurrentSpreadIndex(He+1),this.flipPrev(Le))}catch{}}flipNext(xe){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:xe==="top"?1:this.render.getRect().height-2})}flipPrev(xe){this.flip({x:10,y:xe==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const xe=this.calc.getPosition(),Le=this.getBoundsRect(),Ue=this.calc.getCorner()==="bottom"?Le.height:0;xe.x<=0?this.animateFlippingTo(xe,{x:-Le.pageWidth,y:Ue},!0):this.animateFlippingTo(xe,{x:Le.pageWidth,y:Ue},!1)}showCorner(xe){if(!this.checkState("read","fold_corner"))return;const Le=this.getBoundsRect(),Ue=Le.pageWidth;if(this.isPointOnCorners(xe))if(this.calc===null){if(!this.start(xe))return;this.setState("fold_corner"),this.calc.calc({x:Ue-1,y:1});const He=50,qe=this.calc.getCorner()==="bottom"?Le.height-1:1,Qe=this.calc.getCorner()==="bottom"?Le.height-He:He;this.animateFlippingTo({x:Ue-1,y:qe},{x:Ue-He,y:Qe},!1,!1)}else this.do(this.render.convertToPage(xe));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(xe,Le,Ue,He=!0){const qe=O.GetCordsFromTwoPoint(xe,Le),Qe=[];for(const ct of qe)Qe.push(()=>this.do(ct));const lt=this.getAnimationDuration(qe.length);this.render.startAnimation(Qe,lt,()=>{this.calc&&(Ue&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),He&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(xe){this.state!==xe&&(this.app.updateState(xe),this.state=xe)}getDirectionByPoint(xe){const Le=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(xe.x-Le.pageWidth<=Le.width/5)return 1}else if(xe.x<Le.width/2)return 1;return 0}getAnimationDuration(xe){const Le=this.app.getSettings().flippingTime;return xe>=1e3?Le:xe/1e3*Le}checkDirection(xe){return xe===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...xe){for(const Le of xe)if(this.state===Le)return!0;return!1}isPointOnCorners(xe){const Le=this.getBoundsRect(),Ue=Le.pageWidth,He=Math.sqrt(Math.pow(Ue,2)+Math.pow(Le.height,2))/5,qe=this.render.convertToBook(xe);return qe.x>0&&qe.y>0&&qe.x<Le.width&&qe.y<Le.height&&(qe.x<He||qe.x>Le.width-He)&&(qe.y<He||qe.y>Le.height-He)}}class te{constructor(xe,Le){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=Le,this.app=xe;const Ue=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=Ue.exec(window.navigator.userAgent)!==null}render(xe){if(this.animation!==null){const Le=Math.round((xe-this.animation.startedAt)/this.animation.durationFrame);Le<this.animation.frames.length?this.animation.frames[Le]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=xe,this.drawFrame()}start(){this.update();const xe=Le=>{this.render(Le),requestAnimationFrame(xe)};requestAnimationFrame(xe)}startAnimation(xe,Le,Ue){this.finishAnimation(),this.animation={frames:xe,duration:Le,durationFrame:Le/xe.length,onAnimateEnd:Ue,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const xe=this.calculateBoundsRect();this.orientation!==xe&&(this.orientation=xe,this.app.updateOrientation(xe))}calculateBoundsRect(){let xe="landscape";const Le=this.getBlockWidth(),Ue=Le/2,He=this.getBlockHeight()/2,qe=this.setting.width/this.setting.height;let Qe=this.setting.width,lt=this.setting.height,ct=Ue-Qe;return this.setting.size==="stretch"?(Le<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(xe="portrait"),Qe=xe==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,Qe>this.setting.maxWidth&&(Qe=this.setting.maxWidth),lt=Qe/qe,lt>this.getBlockHeight()&&(lt=this.getBlockHeight(),Qe=lt*qe),ct=xe==="portrait"?Ue-Qe/2-Qe:Ue-Qe):Le<2*Qe&&this.app.getSettings().usePortrait&&(xe="portrait",ct=Ue-Qe/2-Qe),this.boundsRect={left:ct,top:He-lt/2,width:2*Qe,height:lt,pageWidth:Qe},xe}setShadowData(xe,Le,Ue,He){if(!this.app.getSettings().drawShadow)return;const qe=100*this.getSettings().maxShadowOpacity;this.shadow={pos:xe,angle:Le,width:3*this.getRect().pageWidth/4*Ue/100,opacity:(100-Ue)*qe/100/100,direction:He,progress:2*Ue}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(xe){this.pageRect=xe}setDirection(xe){this.direction=xe}setRightPage(xe){xe!==null&&xe.setOrientation(1),this.rightPage=xe}setLeftPage(xe){xe!==null&&xe.setOrientation(0),this.leftPage=xe}setBottomPage(xe){xe!==null&&xe.setOrientation(this.direction===1?0:1),this.bottomPage=xe}setFlippingPage(xe){xe!==null&&xe.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=xe}convertToBook(xe){const Le=this.getRect();return{x:xe.x-Le.left,y:xe.y-Le.top}}isSafari(){return this.safari}convertToPage(xe,Le){Le||(Le=this.direction);const Ue=this.getRect();return{x:Le===0?xe.x-Ue.left-Ue.width/2:Ue.width/2-xe.x+Ue.left,y:xe.y-Ue.top}}convertToGlobal(xe,Le){if(Le||(Le=this.direction),xe==null)return null;const Ue=this.getRect();return{x:Le===0?xe.x+Ue.left+Ue.width/2:Ue.width/2-xe.x+Ue.left,y:xe.y+Ue.top}}convertRectToGlobal(xe,Le){return Le||(Le=this.direction),{topLeft:this.convertToGlobal(xe.topLeft,Le),topRight:this.convertToGlobal(xe.topRight,Le),bottomLeft:this.convertToGlobal(xe.bottomLeft,Le),bottomRight:this.convertToGlobal(xe.bottomRight,Le)}}}class ae extends te{constructor(xe,Le,Ue){super(xe,Le),this.canvas=Ue,this.ctx=Ue.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const xe=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(xe.left+xe.pageWidth,xe.top,xe.width,xe.height),this.ctx.clip())}drawBookShadow(){const xe=this.getRect();this.ctx.save(),this.ctx.beginPath();const Le=xe.width/20;this.ctx.rect(xe.left,xe.top,xe.width,xe.height);const Ue={x:xe.left+xe.width/2-Le/2,y:0};this.ctx.translate(Ue.x,Ue.y);const He=this.ctx.createLinearGradient(0,0,Le,0);He.addColorStop(0,"rgba(0, 0, 0, 0)"),He.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),He.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),He.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),He.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),He.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=He,this.ctx.fillRect(0,0,Le,2*xe.height),this.ctx.restore()}drawOuterShadow(){const xe=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(xe.left,xe.top,xe.width,xe.height);const Le=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(Le.x,Le.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const Ue=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),Ue.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Ue.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),Ue.addColorStop(0,"rgba(0, 0, 0, 0)"),Ue.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=Ue,this.ctx.fillRect(0,0,this.shadow.width,2*xe.height),this.ctx.restore()}drawInnerShadow(){const xe=this.getRect();this.ctx.save(),this.ctx.beginPath();const Le=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Ue=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(Ue.topLeft.x,Ue.topLeft.y),this.ctx.lineTo(Ue.topRight.x,Ue.topRight.y),this.ctx.lineTo(Ue.bottomRight.x,Ue.bottomRight.y),this.ctx.lineTo(Ue.bottomLeft.x,Ue.bottomLeft.y),this.ctx.translate(Le.x,Le.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const He=3*this.shadow.width/4,qe=this.ctx.createLinearGradient(0,0,He,0);this.shadow.direction===0?(this.ctx.translate(-He,-100),qe.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),qe.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),qe.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),qe.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),qe.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),qe.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),qe.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),qe.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=qe,this.ctx.fillRect(0,0,He,2*xe.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class ue{constructor(xe,Le,Ue){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=qe=>{if(this.checkTarget(qe.target)){const Qe=this.getMousePos(qe.clientX,qe.clientY);this.app.startUserTouch(Qe),qe.preventDefault()}},this.onTouchStart=qe=>{if(this.checkTarget(qe.target)&&qe.changedTouches.length>0){const Qe=qe.changedTouches[0],lt=this.getMousePos(Qe.clientX,Qe.clientY);this.touchPoint={point:lt,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(lt)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||qe.preventDefault()}},this.onMouseUp=qe=>{const Qe=this.getMousePos(qe.clientX,qe.clientY);this.app.userStop(Qe)},this.onMouseMove=qe=>{const Qe=this.getMousePos(qe.clientX,qe.clientY);this.app.userMove(Qe,!1)},this.onTouchMove=qe=>{if(qe.changedTouches.length>0){const Qe=qe.changedTouches[0],lt=this.getMousePos(Qe.clientX,Qe.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-lt.x)>10||this.app.getState()!=="read")&&qe.cancelable&&this.app.userMove(lt,!0),this.app.getState()!=="read"&&qe.preventDefault()):this.app.userMove(lt,!0)}},this.onTouchEnd=qe=>{if(qe.changedTouches.length>0){const Qe=qe.changedTouches[0],lt=this.getMousePos(Qe.clientX,Qe.clientY);let ct=!1;if(this.touchPoint!==null){const ot=lt.x-this.touchPoint.point.x,pt=Math.abs(lt.y-this.touchPoint.point.y);Math.abs(ot)>this.swipeDistance&&pt<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ot>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ct=!0),this.touchPoint=null}this.app.userStop(lt,ct)}},this.parentElement=xe,xe.classList.add("stf__parent"),xe.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=xe.querySelector(".stf__wrapper"),this.app=Le;const He=this.app.getSettings().usePortrait?1:2;xe.style.minWidth=Ue.minWidth*He+"px",xe.style.minHeight=Ue.minHeight+"px",Ue.size==="fixed"&&(xe.style.minWidth=Ue.width*He+"px",xe.style.minHeight=Ue.height+"px"),Ue.autoSize&&(xe.style.width="100%",xe.style.maxWidth=2*Ue.maxWidth+"px"),xe.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=Ue.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(xe){this.wrapper.classList.remove("--portrait","--landscape"),xe==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(xe,Le){const Ue=this.distElement.getBoundingClientRect();return{x:xe-Ue.left,y:Le-Ue.top}}checkTarget(xe){return!this.app.getSettings().clickEventForward||!["a","button"].includes(xe.tagName.toLowerCase())}}class pe extends ue{constructor(xe,Le,Ue,He){super(xe,Le,Ue),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=xe.querySelector(".stf__block"),this.items=He;for(const qe of He)this.distElement.appendChild(qe);this.setHandlers()}clear(){for(const xe of this.items)this.parentElement.appendChild(xe)}updateItems(xe){this.removeHandlers(),this.distElement.innerHTML="";for(const Le of xe)this.distElement.appendChild(Le);this.items=xe,this.setHandlers()}update(){this.app.getRender().update()}}class $e extends ue{constructor(xe,Le,Ue){super(xe,Le,Ue),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=xe.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const xe=getComputedStyle(this.canvas),Le=parseInt(xe.getPropertyValue("width"),10),Ue=parseInt(xe.getPropertyValue("height"),10);this.canvas.width=Le,this.canvas.height=Ue}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class Ne extends te{constructor(xe,Le,Ue){super(xe,Le),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=Ue,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const xe=this.getRect(),Le=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let Ue=(100-Le)*(2.5*xe.pageWidth)/100+20;Ue>xe.pageWidth&&(Ue=xe.pageWidth);let He=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${Ue}px;
            height: ${xe.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*Le/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${xe.left+xe.width/2}px;
            transform-origin: 0 0;
        `;He+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=He}drawHardOuterShadow(){const xe=this.getRect();let Le=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*xe.pageWidth)/100+20;Le>xe.pageWidth&&(Le=xe.pageWidth);let Ue=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${Le}px;
            height: ${xe.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${xe.left+xe.width/2}px;
            transform-origin: 0 0;
        `;Ue+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=Ue}drawInnerShadow(){const xe=this.getRect(),Le=3*this.shadow.width/4,Ue=this.getDirection()===0?Le:0,He=this.getDirection()===0?"to left":"to right",qe=this.convertToGlobal(this.shadow.pos),Qe=this.shadow.angle+3*Math.PI/2,lt=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ct="polygon( ";for(const pt of lt){let yt=this.getDirection()===1?{x:-pt.x+this.shadow.pos.x,y:pt.y-this.shadow.pos.y}:{x:pt.x-this.shadow.pos.x,y:pt.y-this.shadow.pos.y};yt=O.GetRotatedPoint(yt,{x:Ue,y:100},Qe),ct+=yt.x+"px "+yt.y+"px, "}ct=ct.slice(0,-2),ct+=")";const ot=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${Le}px;
            height: ${2*xe.height}px;
            background: linear-gradient(${He},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${Ue}px 100px;
            transform: translate3d(${qe.x-Ue}px, ${qe.y-100}px, 0) rotate(${Qe}rad);
            clip-path: ${ct};
            -webkit-clip-path: ${ct};
        `;this.innerShadow.style.cssText=ot}drawOuterShadow(){const xe=this.getRect(),Le=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Ue=this.shadow.angle+3*Math.PI/2,He=this.getDirection()===1?this.shadow.width:0,qe=this.getDirection()===0?"to right":"to left",Qe=[{x:0,y:0},{x:xe.pageWidth,y:0},{x:xe.pageWidth,y:xe.height},{x:0,y:xe.height}];let lt="polygon( ";for(const ot of Qe)if(ot!==null){let pt=this.getDirection()===1?{x:-ot.x+this.shadow.pos.x,y:ot.y-this.shadow.pos.y}:{x:ot.x-this.shadow.pos.x,y:ot.y-this.shadow.pos.y};pt=O.GetRotatedPoint(pt,{x:He,y:100},Ue),lt+=pt.x+"px "+pt.y+"px, "}lt=lt.slice(0,-2),lt+=")";const ct=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*xe.height}px;
            background: linear-gradient(${qe}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${He}px 100px;
            transform: translate3d(${Le.x-He}px, ${Le.y-100}px, 0) rotate(${Ue}rad);
            clip-path: ${lt};
            -webkit-clip-path: ${lt};
        `;this.outerShadow.style.cssText=ct}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const xe=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(xe))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const xe of this.app.getPageCollection().getPages())xe!==this.leftPage&&xe!==this.rightPage&&xe!==this.flippingPage&&xe!==this.bottomPage&&(xe.getElement().style.cssText="display: none"),xe.getTemporaryCopy()!==this.flippingPage&&xe.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class Be{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(xe){const Le=this._default;if(Object.assign(Le,xe),Le.size!=="stretch"&&Le.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(Le.width<=0||Le.height<=0)throw new Error("Invalid width or height");if(Le.flippingTime<=0)throw new Error("Invalid flipping time");return Le.size==="stretch"?(Le.minWidth<=0&&(Le.minWidth=100),Le.maxWidth<Le.minWidth&&(Le.maxWidth=2e3),Le.minHeight<=0&&(Le.minHeight=100),Le.maxHeight<Le.minHeight&&(Le.maxHeight=2e3)):(Le.minWidth=Le.width,Le.maxWidth=Le.width,Le.minHeight=Le.height,Le.maxHeight=Le.height),Le}}(function(_e,xe){xe===void 0&&(xe={});var Le=xe.insertAt;if(typeof document<"u"){var Ue=document.head||document.getElementsByTagName("head")[0],He=document.createElement("style");He.type="text/css",Le==="top"&&Ue.firstChild?Ue.insertBefore(He,Ue.firstChild):Ue.appendChild(He),He.styleSheet?He.styleSheet.cssText=_e:He.appendChild(document.createTextNode(_e))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),y.PageFlip=class extends class{constructor(){this.events=new Map}on(_e,xe){return this.events.has(_e)?this.events.get(_e).push(xe):this.events.set(_e,[xe]),this}off(_e){this.events.delete(_e)}trigger(_e,xe,Le=null){if(this.events.has(_e))for(const Ue of this.events.get(_e))Ue({data:Le,object:xe})}}{constructor(_e,xe){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new Be().getSettings(xe),this.block=_e}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(_e){this.ui=new $e(this.block,this,this.setting);const xe=this.ui.getCanvas();this.render=new ae(this,this.setting,xe),this.flipController=new J(this.render,this),this.pages=new A(this,this.render,_e),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(_e){this.ui=new pe(this.block,this,this.setting,_e),this.render=new Ne(this,this.setting,this.ui.getDistElement()),this.flipController=new J(this.render,this),this.pages=new U(this,this.render,this.ui.getDistElement(),_e),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(_e){const xe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new A(this,this.render,_e),this.pages.load(),this.pages.show(xe),this.trigger("update",this,{page:xe,mode:this.render.getOrientation()})}updateFromHtml(_e){const xe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new U(this,this.render,this.ui.getDistElement(),_e),this.pages.load(),this.ui.updateItems(_e),this.render.reload(),this.pages.show(xe),this.trigger("update",this,{page:xe,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(_e){this.pages.show(_e)}flipNext(_e="top"){this.flipController.flipNext(_e)}flipPrev(_e="top"){this.flipController.flipPrev(_e)}flip(_e,xe="top"){this.flipController.flipToPage(_e,xe)}updateState(_e){this.trigger("changeState",this,_e)}updatePageIndex(_e){this.trigger("flip",this,_e)}updateOrientation(_e){this.ui.setOrientationStyle(_e),this.update(),this.trigger("changeOrientation",this,_e)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(_e){return this.pages.getPage(_e)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(_e){this.mousePosition=_e,this.isUserTouch=!0,this.isUserMove=!1}userMove(_e,xe){this.isUserTouch||xe||!this.setting.showPageCorners?this.isUserTouch&&O.GetDistanceBetweenTwoPoint(this.mousePosition,_e)>5&&(this.isUserMove=!0,this.flipController.fold(_e)):this.flipController.showCorner(_e)}userStop(_e,xe=!1){this.isUserTouch&&(this.isUserTouch=!1,xe||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(_e)))}},Object.defineProperty(y,"__esModule",{value:!0})}))})(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((r,x)=>{const y=reactExports$1.useRef(null),b=reactExports$1.useRef([]),R=reactExports$1.useRef(),[T,A]=reactExports$1.useState([]);reactExports$1.useImperativeHandle(x,()=>({pageFlip:()=>R.current}));const O=reactExports$1.useCallback(()=>{R.current&&R.current.clear()},[]),B=reactExports$1.useCallback(()=>{const U=R.current;U&&(U.off("flip"),U.off("changeOrientation"),U.off("changeState"),U.off("init"),U.off("update"))},[]);return reactExports$1.useEffect(()=>{if(b.current=[],r.children){const U=React.Children.map(r.children,K=>React.cloneElement(K,{ref:J=>{J&&b.current.push(J)}}));(!r.renderOnlyPageLengthChange||T.length!==U.length)&&(U.length<T.length&&O(),A(U))}},[r.children]),reactExports$1.useEffect(()=>{const U=()=>{const K=R.current;K&&(r.onFlip&&K.on("flip",J=>r.onFlip(J)),r.onChangeOrientation&&K.on("changeOrientation",J=>r.onChangeOrientation(J)),r.onChangeState&&K.on("changeState",J=>r.onChangeState(J)),r.onInit&&K.on("init",J=>r.onInit(J)),r.onUpdate&&K.on("update",J=>r.onUpdate(J)))};T.length>0&&b.current.length>0&&(B(),y.current&&!R.current&&(R.current=new pageFlip_browserExports.PageFlip(y.current,r)),R.current.getFlipController()?R.current.updateFromHtml(b.current):R.current.loadFromHTML(b.current),U())},[T]),React.createElement("div",{ref:y,className:r.className,style:r.style},T)}),HTMLFlipBook=React.memo(HTMLFlipBookForward),container="_container_1yxvp_1",ambientBackground="_ambientBackground_1yxvp_31",overlay="_overlay_1yxvp_59",flipBookWrapper="_flipBookWrapper_1yxvp_79",flipBook="_flipBook_1yxvp_79",pageBox="_pageBox_1yxvp_117",pageImage="_pageImage_1yxvp_131",pageNumber="_pageNumber_1yxvp_147",loading="_loading_1yxvp_201",error="_error_1yxvp_203",styles={container,ambientBackground,overlay,flipBookWrapper,flipBook,pageBox,pageImage,pageNumber,loading,error},BOOK_RATIO=1.414;function LeafletViewer(){const{category:r,id:x}=useParams(),[y,b]=reactExports$1.useState(null),[R,T]=reactExports$1.useState(!0),[A,O]=reactExports$1.useState(null),[B,U]=reactExports$1.useState(0),[K,J]=reactExports$1.useState(window.innerWidth>767),te=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{const Be=()=>J(window.innerWidth>767);return window.addEventListener("resize",Be),()=>window.removeEventListener("resize",Be)},[]),reactExports$1.useEffect(()=>{(async()=>{try{T(!0);const _e=r==="galleries"?"galleryCategory":"exhibitionCategory",xe=await instance.get("/api/leaflet",{params:{category:_e,category_id:x}});let Le=null;Array.isArray(xe.data)?xe.data.length>0&&(Le=xe.data[0]):Le=xe.data,Le?b(Le):O("   .")}catch(_e){console.error(_e),O("  .")}finally{T(!1)}})()},[r,x]),reactExports$1.useEffect(()=>{const Be=_e=>{!y||!te.current||(_e.key==="ArrowLeft"&&te.current.pageFlip().flipPrev(),_e.key==="ArrowRight"&&te.current.pageFlip().flipNext())};return document.addEventListener("keydown",Be),()=>document.removeEventListener("keydown",Be)},[y]),R)return jsxRuntimeExports.jsx("div",{className:styles.container,children:jsxRuntimeExports.jsx("div",{className:styles.loading,children:" ..."})});if(A)return jsxRuntimeExports.jsx("div",{className:styles.container,children:jsxRuntimeExports.jsx("div",{className:styles.error,children:A})});if(!y)return null;const{image_urls:ae}=y,ue=ae?ae.length:0,pe=ae&&ae.length>0?ae[0]:"",$e=K?500:300,Ne=Math.round($e*BOOK_RATIO);return jsxRuntimeExports.jsxs("div",{className:styles.container,children:[pe&&jsxRuntimeExports.jsx("div",{className:styles.ambientBackground,style:{backgroundImage:`url(${pe})`}}),jsxRuntimeExports.jsx("div",{className:styles.overlay}),jsxRuntimeExports.jsx("div",{className:styles.flipBookWrapper,children:jsxRuntimeExports.jsx(HTMLFlipBook,{ref:te,width:$e,height:Ne,size:"fixed",minWidth:280,maxWidth:K?600:350,minHeight:Math.round(280*BOOK_RATIO),maxHeight:Math.round((K?600:350)*BOOK_RATIO),showCover:!1,mobileScrollSupport:!1,className:styles.flipBook,onFlip:Be=>U(Be.data),usePortrait:!K,startPage:0,drawShadow:!0,flippingTime:800,usePageShadow:!0,startZIndex:1,children:ae&&ae.map((Be,_e)=>jsxRuntimeExports.jsx("div",{className:styles.pageBox,children:jsxRuntimeExports.jsx("img",{src:Be,alt:`Page ${_e+1}`,className:styles.pageImage})},_e))})}),jsxRuntimeExports.jsxs("div",{className:styles.pageNumber,children:[B+1," / ",ue]})]})}const router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[{path:"/",element:jsxRuntimeExports.jsx(Main,{})},{path:"/exhibitions",element:jsxRuntimeExports.jsx(Exhibitions,{})},{path:"/galleries",element:jsxRuntimeExports.jsx(Galleries,{})},{path:"/artists",element:jsxRuntimeExports.jsx(Artists,{})},{path:"/artworks",element:jsxRuntimeExports.jsx(ArtworkList,{})},{path:"/search",element:jsxRuntimeExports.jsx(Search,{})},{path:"/notices",element:jsxRuntimeExports.jsx(News,{})},{path:"/exhibitions/:exhibitionId",element:jsxRuntimeExports.jsx(ExhibitionDetail,{})},{path:"/galleries/:galleryId",element:jsxRuntimeExports.jsx(GalleryDetail,{})},{path:"/artists/:artistId",element:jsxRuntimeExports.jsx(ArtistDetail,{})},{path:"/notices/:noticeId",element:jsxRuntimeExports.jsx(NewsDetail,{})},{path:"/artworks/:artworkId",element:jsxRuntimeExports.jsx(ArtworkDetail,{})},{path:"/art/:artId",element:jsxRuntimeExports.jsx(Artwork,{})},{path:"/catalog/:catalogId",element:jsxRuntimeExports.jsx(Catalog,{})},{path:"/nearby-galleries",element:jsxRuntimeExports.jsx(Nearby,{})},{path:"/login",element:jsxRuntimeExports.jsx(Login,{})},{path:"/login-detail",element:jsxRuntimeExports.jsx(LoginDetail,{})},{path:"/register",element:jsxRuntimeExports.jsx(Register,{})},{path:"/find",element:jsxRuntimeExports.jsx(Find,{})},{path:"/announcement",element:jsxRuntimeExports.jsx(Announcement,{})},{path:"/termspolicy",element:jsxRuntimeExports.jsx(TermsPolicy,{})},{path:"/reservation/:exhibitionId",element:jsxRuntimeExports.jsx(Reservation,{})},{path:"/invitation",element:jsxRuntimeExports.jsx(InvitationGenerator,{})},{path:"/reservationconfirm/:reservationId",element:jsxRuntimeExports.jsx(ReservationConfirm,{})},{element:jsxRuntimeExports.jsx(AuthRoute,{}),children:[{path:"/notifications",element:jsxRuntimeExports.jsx(Notification$1,{})},{path:"/mypage",element:jsxRuntimeExports.jsx(MyPage,{})},{path:"/mypage/edit",element:jsxRuntimeExports.jsx(EditProfile,{})},{path:"/purchase/:reservationId",element:jsxRuntimeExports.jsx(Purchase,{})}]},{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}]},{path:"/console",element:jsxRuntimeExports.jsx(LayoutConsole,{}),children:[{path:"/console/notification",element:jsxRuntimeExports.jsx(ConsoleNotification,{})},{path:"/console/main",element:jsxRuntimeExports.jsx(ConsoleMain,{})},{path:"/console/galleries",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/exhibitions",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/artworks",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/detail",element:jsxRuntimeExports.jsx(ConsoleDetail,{})},{path:"/console/exhibitions/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"exhibitions"})},{path:"/console/galleries/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"galleries"})},{path:"/console/artworks/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:jsxRuntimeExports.jsx(DocentGenerator,{})},{path:"/console/galleries/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"galleries"})},{path:"/console/exhibitions/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"exhibitions"})},{path:"/console/poster",element:jsxRuntimeExports.jsx(Poster,{})}]},{path:"/scan/:id?",element:jsxRuntimeExports.jsx(QrScanner,{})},{path:"/view/leaflet/:category/:id",element:jsxRuntimeExports.jsx(LeafletViewer,{})}]);function FallbackUI(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:""})})}function App(){return jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{children:" ."}),children:jsxRuntimeExports.jsx(reactExports$1.Suspense,{fallback:jsxRuntimeExports.jsx(FallbackUI,{}),children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsx(RouterProvider2,{router})})})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
