function PI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wx={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function FI(){if(NC)return yf;NC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var d in r)d!=="key"&&(s[d]=r[d])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:s}}return yf.Fragment=e,yf.jsx=n,yf.jsxs=n,yf}var IC;function zI(){return IC||(IC=1,wx.exports=FI()),wx.exports}var b=zI(),_x={exports:{}},bf={},Cx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function HI(){return kC||(kC=1,function(t){function e(Z,le){var xe=Z.length;Z.push(le);e:for(;0<xe;){var Ce=xe-1>>>1,Q=Z[Ce];if(0<r(Q,le))Z[Ce]=le,Z[xe]=Q,xe=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var le=Z[0],xe=Z.pop();if(xe!==le){Z[0]=xe;e:for(var Ce=0,Q=Z.length,fe=Q>>>1;Ce<fe;){var Ee=2*(Ce+1)-1,Re=Z[Ee],He=Ee+1,qe=Z[He];if(0>r(Re,xe))He<Q&&0>r(qe,Re)?(Z[Ce]=qe,Z[He]=xe,Ce=He):(Z[Ce]=Re,Z[Ee]=xe,Ce=Ee);else if(He<Q&&0>r(qe,xe))Z[Ce]=qe,Z[He]=xe,Ce=He;else break e}}return le}function r(Z,le){var xe=Z.sortIndex-le.sortIndex;return xe!==0?xe:Z.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],y=1,_=null,S=3,A=!1,T=!1,O=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function k(Z){for(var le=n(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=Z)i(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(p)}}function D(Z){if(O=!1,k(Z),!T)if(n(f)!==null)T=!0,L||(L=!0,ue());else{var le=n(p);le!==null&&te(D,le.startTime-Z)}}var L=!1,z=-1,V=5,X=-1;function ie(){return R?!0:!(t.unstable_now()-X<V)}function ae(){if(R=!1,L){var Z=t.unstable_now();X=Z;var le=!0;try{e:{T=!1,O&&(O=!1,G(z),z=-1),A=!0;var xe=S;try{t:{for(k(Z),_=n(f);_!==null&&!(_.expirationTime>Z&&ie());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,S=_.priorityLevel;var Q=Ce(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof Q=="function"){_.callback=Q,k(Z),le=!0;break t}_===n(f)&&i(f),k(Z)}else i(f);_=n(f)}if(_!==null)le=!0;else{var fe=n(p);fe!==null&&te(D,fe.startTime-Z),le=!1}}break e}finally{_=null,S=xe,A=!1}le=void 0}}finally{le?ue():L=!1}}}var ue;if(typeof j=="function")ue=function(){j(ae)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Se=Ie.port2;Ie.port1.onmessage=ae,ue=function(){Se.postMessage(null)}}else ue=function(){B(ae,0)};function te(Z,le){z=B(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var xe=S;S=le;try{return Z()}finally{S=xe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var xe=S;S=Z;try{return le()}finally{S=xe}},t.unstable_scheduleCallback=function(Z,le,xe){var Ce=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ce+xe:Ce):xe=Ce,Z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=xe+Q,Z={id:y++,callback:le,priorityLevel:Z,startTime:xe,expirationTime:Q,sortIndex:-1},xe>Ce?(Z.sortIndex=xe,e(p,Z),n(f)===null&&Z===n(p)&&(O?(G(z),z=-1):O=!0,te(D,xe-Ce))):(Z.sortIndex=Q,e(f,Z),T||A||(T=!0,L||(L=!0,ue()))),Z},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(Z){var le=S;return function(){var xe=S;S=le;try{return Z.apply(this,arguments)}finally{S=xe}}}}(Sx)),Sx}var MC;function UI(){return MC||(MC=1,Cx.exports=HI()),Cx.exports}var Ex={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function $I(){if(OC)return Mt;OC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(Q){return Q===null||typeof Q!="object"?null:(Q=_&&Q[_]||Q["@@iterator"],typeof Q=="function"?Q:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function R(Q,fe,Ee){this.props=Q,this.context=fe,this.refs=O,this.updater=Ee||A}R.prototype.isReactComponent={},R.prototype.setState=function(Q,fe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,fe,"setState")},R.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function B(){}B.prototype=R.prototype;function G(Q,fe,Ee){this.props=Q,this.context=fe,this.refs=O,this.updater=Ee||A}var j=G.prototype=new B;j.constructor=G,T(j,R.prototype),j.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function z(Q,fe,Ee,Re,He,qe){return Ee=qe.ref,{$$typeof:t,type:Q,key:fe,ref:Ee!==void 0?Ee:null,props:qe}}function V(Q,fe){return z(Q.type,fe,void 0,void 0,void 0,Q.props)}function X(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function ie(Q){var fe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ee){return fe[Ee]})}var ae=/\/+/g;function ue(Q,fe){return typeof Q=="object"&&Q!==null&&Q.key!=null?ie(""+Q.key):fe.toString(36)}function Ie(){}function Se(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(Ie,Ie):(Q.status="pending",Q.then(function(fe){Q.status==="pending"&&(Q.status="fulfilled",Q.value=fe)},function(fe){Q.status==="pending"&&(Q.status="rejected",Q.reason=fe)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function te(Q,fe,Ee,Re,He){var qe=typeof Q;(qe==="undefined"||qe==="boolean")&&(Q=null);var Ae=!1;if(Q===null)Ae=!0;else switch(qe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(Q.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=Q._init,te(Ae(Q._payload),fe,Ee,Re,He)}}if(Ae)return He=He(Q),Ae=Re===""?"."+ue(Q,0):Re,k(He)?(Ee="",Ae!=null&&(Ee=Ae.replace(ae,"$&/")+"/"),te(He,fe,Ee,"",function(ai){return ai})):He!=null&&(X(He)&&(He=V(He,Ee+(He.key==null||Q&&Q.key===He.key?"":(""+He.key).replace(ae,"$&/")+"/")+Ae)),fe.push(He)),1;Ae=0;var en=Re===""?".":Re+":";if(k(Q))for(var gt=0;gt<Q.length;gt++)Re=Q[gt],qe=en+ue(Re,gt),Ae+=te(Re,fe,Ee,qe,He);else if(gt=S(Q),typeof gt=="function")for(Q=gt.call(Q),gt=0;!(Re=Q.next()).done;)Re=Re.value,qe=en+ue(Re,gt++),Ae+=te(Re,fe,Ee,qe,He);else if(qe==="object"){if(typeof Q.then=="function")return te(Se(Q),fe,Ee,Re,He);throw fe=String(Q),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Z(Q,fe,Ee){if(Q==null)return Q;var Re=[],He=0;return te(Q,Re,"","",function(qe){return fe.call(Ee,qe,He++)}),Re}function le(Q){if(Q._status===-1){var fe=Q._result;fe=fe(),fe.then(function(Ee){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ee)},function(Ee){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ee)}),Q._status===-1&&(Q._status=0,Q._result=fe)}if(Q._status===1)return Q._result.default;throw Q._result}var xe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function Ce(){}return Mt.Children={map:Z,forEach:function(Q,fe,Ee){Z(Q,function(){fe.apply(this,arguments)},Ee)},count:function(Q){var fe=0;return Z(Q,function(){fe++}),fe},toArray:function(Q){return Z(Q,function(fe){return fe})||[]},only:function(Q){if(!X(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Mt.Component=R,Mt.Fragment=n,Mt.Profiler=r,Mt.PureComponent=G,Mt.StrictMode=i,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return D.H.useMemoCache(Q)}},Mt.cache=function(Q){return function(){return Q.apply(null,arguments)}},Mt.cloneElement=function(Q,fe,Ee){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Re=T({},Q.props),He=Q.key,qe=void 0;if(fe!=null)for(Ae in fe.ref!==void 0&&(qe=void 0),fe.key!==void 0&&(He=""+fe.key),fe)!L.call(fe,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&fe.ref===void 0||(Re[Ae]=fe[Ae]);var Ae=arguments.length-2;if(Ae===1)Re.children=Ee;else if(1<Ae){for(var en=Array(Ae),gt=0;gt<Ae;gt++)en[gt]=arguments[gt+2];Re.children=en}return z(Q.type,He,void 0,void 0,qe,Re)},Mt.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:s,_context:Q},Q},Mt.createElement=function(Q,fe,Ee){var Re,He={},qe=null;if(fe!=null)for(Re in fe.key!==void 0&&(qe=""+fe.key),fe)L.call(fe,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(He[Re]=fe[Re]);var Ae=arguments.length-2;if(Ae===1)He.children=Ee;else if(1<Ae){for(var en=Array(Ae),gt=0;gt<Ae;gt++)en[gt]=arguments[gt+2];He.children=en}if(Q&&Q.defaultProps)for(Re in Ae=Q.defaultProps,Ae)He[Re]===void 0&&(He[Re]=Ae[Re]);return z(Q,qe,void 0,void 0,null,He)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(Q){return{$$typeof:d,render:Q}},Mt.isValidElement=X,Mt.lazy=function(Q){return{$$typeof:y,_payload:{_status:-1,_result:Q},_init:le}},Mt.memo=function(Q,fe){return{$$typeof:p,type:Q,compare:fe===void 0?null:fe}},Mt.startTransition=function(Q){var fe=D.T,Ee={};D.T=Ee;try{var Re=Q(),He=D.S;He!==null&&He(Ee,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(Ce,xe)}catch(qe){xe(qe)}finally{D.T=fe}},Mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Mt.use=function(Q){return D.H.use(Q)},Mt.useActionState=function(Q,fe,Ee){return D.H.useActionState(Q,fe,Ee)},Mt.useCallback=function(Q,fe){return D.H.useCallback(Q,fe)},Mt.useContext=function(Q){return D.H.useContext(Q)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(Q,fe){return D.H.useDeferredValue(Q,fe)},Mt.useEffect=function(Q,fe,Ee){var Re=D.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Re.useEffect(Q,fe)},Mt.useId=function(){return D.H.useId()},Mt.useImperativeHandle=function(Q,fe,Ee){return D.H.useImperativeHandle(Q,fe,Ee)},Mt.useInsertionEffect=function(Q,fe){return D.H.useInsertionEffect(Q,fe)},Mt.useLayoutEffect=function(Q,fe){return D.H.useLayoutEffect(Q,fe)},Mt.useMemo=function(Q,fe){return D.H.useMemo(Q,fe)},Mt.useOptimistic=function(Q,fe){return D.H.useOptimistic(Q,fe)},Mt.useReducer=function(Q,fe,Ee){return D.H.useReducer(Q,fe,Ee)},Mt.useRef=function(Q){return D.H.useRef(Q)},Mt.useState=function(Q){return D.H.useState(Q)},Mt.useSyncExternalStore=function(Q,fe,Ee){return D.H.useSyncExternalStore(Q,fe,Ee)},Mt.useTransition=function(){return D.H.useTransition()},Mt.version="19.1.0",Mt}var RC;function Kc(){return RC||(RC=1,Ex.exports=$I()),Ex.exports}var Ax={exports:{}},ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function VI(){if(DC)return ar;DC=1;var t=Kc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ar.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(f,p,null,y)},ar.flushSync=function(f){var p=l.T,y=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=p,i.p=y,i.d.f()}},ar.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},ar.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ar.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:A}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ar.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},ar.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ar.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},ar.requestFormReset=function(f){i.d.r(f)},ar.unstable_batchedUpdates=function(f,p){return f(p)},ar.useFormState=function(f,p,y){return l.H.useFormState(f,p,y)},ar.useFormStatus=function(){return l.H.useHostTransitionStatus()},ar.version="19.1.0",ar}var BC;function P4(){if(BC)return Ax.exports;BC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ax.exports=VI(),Ax.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function GI(){if(LC)return bf;LC=1;var t=UI(),e=Kc(),n=P4();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var m=a,v=c;;){var E=m.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){m=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===m)return d(E),a;if(I===v)return d(E),c;I=I.sibling}throw Error(i(188))}if(m.return!==v.return)m=E,v=I;else{for(var H=!1,W=E.child;W;){if(W===m){H=!0,m=E,v=I;break}if(W===v){H=!0,v=E,m=I;break}W=W.sibling}if(!H){for(W=I.child;W;){if(W===m){H=!0,m=I,v=E;break}if(W===v){H=!0,v=I,m=E;break}W=W.sibling}if(!H)throw Error(i(189))}}if(m.alternate!==v)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?a:c}function p(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=p(a),c!==null)return c;a=a.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),j=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=ae&&a[ae]||a["@@iterator"],typeof a=="function"?a:null)}var Ie=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ie?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case X:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case j:return(a.displayName||"Context")+".Provider";case G:return(a._context.displayName||"Context")+".Consumer";case k:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return c=a.displayName||null,c!==null?c:Se(a.type)||"Memo";case V:c=a._payload,a=a._init;try{return Se(a(c))}catch{}}return null}var te=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ce=[],Q=-1;function fe(a){return{current:a}}function Ee(a){0>Q||(a.current=Ce[Q],Ce[Q]=null,Q--)}function Re(a,c){Q++,Ce[Q]=a.current,a.current=c}var He=fe(null),qe=fe(null),Ae=fe(null),en=fe(null);function gt(a,c){switch(Re(Ae,c),Re(qe,a),Re(He,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?nC(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=nC(c),a=iC(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ee(He),Re(He,a)}function ai(){Ee(He),Ee(qe),Ee(Ae)}function dn(a){a.memoizedState!==null&&Re(en,a);var c=He.current,m=iC(c,a.type);c!==m&&(Re(qe,a),Re(He,m))}function cn(a){qe.current===a&&(Ee(He),Ee(qe)),en.current===a&&(Ee(en),hf._currentValue=xe)}var Di=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,oi=t.unstable_cancelCallback,Gi=t.unstable_shouldYield,ms=t.unstable_requestPaint,Ut=t.unstable_now,tn=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,kr=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,er=t.unstable_LowPriority,Gr=t.unstable_IdlePriority,Ve=t.log,at=t.unstable_setDisableYieldValue,vt=null,_t=null;function nn(a){if(typeof Ve=="function"&&at(a),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(vt,a)}catch{}}var Lt=Math.clz32?Math.clz32:na,qr=Math.log,Ci=Math.LN2;function na(a){return a>>>=0,a===0?32:31-(qr(a)/Ci|0)|0}var on=256,Ue=4194304;function an(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function jt(a,c,m){var v=a.pendingLanes;if(v===0)return 0;var E=0,I=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var W=v&134217727;return W!==0?(v=W&~I,v!==0?E=an(v):(H&=W,H!==0?E=an(H):m||(m=W&~a,m!==0&&(E=an(m))))):(W=v&~I,W!==0?E=an(W):H!==0?E=an(H):m||(m=v&~a,m!==0&&(E=an(m)))),E===0?0:c!==0&&c!==E&&(c&I)===0&&(I=E&-E,m=c&-c,I>=m||I===32&&(m&4194048)!==0)?c:E}function qt(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Mr(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(){var a=on;return on<<=1,(on&4194048)===0&&(on=256),a}function Yl(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function $t(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function pr(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Kl(a,c,m,v,E,I){var H=a.pendingLanes;a.pendingLanes=m,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=m,a.entangledLanes&=m,a.errorRecoveryDisabledLanes&=m,a.shellSuspendCounter=0;var W=a.entanglements,J=a.expirationTimes,me=a.hiddenUpdates;for(m=H&~m;0<m;){var Ne=31-Lt(m),Be=1<<Ne;W[Ne]=0,J[Ne]=-1;var ye=me[Ne];if(ye!==null)for(me[Ne]=null,Ne=0;Ne<ye.length;Ne++){var ve=ye[Ne];ve!==null&&(ve.lane&=-536870913)}m&=~Be}v!==0&&ia(a,v,0),I!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=I&~(H&~c))}function ia(a,c,m){a.pendingLanes|=c,a.suspendedLanes&=~c;var v=31-Lt(c);a.entangledLanes|=c,a.entanglements[v]=a.entanglements[v]|1073741824|m&4194090}function Si(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var v=31-Lt(m),E=1<<v;E&c|a[v]&c&&(a[v]|=c),m&=~E}}function ja(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ne(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:_C(a.type))}function ce(a,c){var m=le.p;try{return le.p=a,c()}finally{le.p=m}}var ge=Math.random().toString(36).slice(2),De="__reactFiber$"+ge,Fe="__reactProps$"+ge,Ze="__reactContainer$"+ge,Qe="__reactEvents$"+ge,Ge="__reactListeners$"+ge,Ye="__reactHandles$"+ge,Te="__reactResources$"+ge,ut="__reactMarker$"+ge;function nt(a){delete a[De],delete a[Fe],delete a[Qe],delete a[Ge],delete a[Ye]}function tt(a){var c=a[De];if(c)return c;for(var m=a.parentNode;m;){if(c=m[Ze]||m[De]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=oC(a);a!==null;){if(m=a[De])return m;a=oC(a)}return c}a=m,m=a.parentNode}return null}function Rt(a){if(a=a[De]||a[Ze]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function fn(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function _n(a){var c=a[Te];return c||(c=a[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tt(a){a[ut]=!0}var Wt=new Set,ra={};function Mn(a,c){Cn(a,c),Cn(a+"Capture",c)}function Cn(a,c){for(ra[a]=c,a=0;a<c.length;a++)Wt.add(c[a])}var Pt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},qi={};function Pa(a){return Di.call(qi,a)?!0:Di.call(zs,a)?!1:Pt.test(a)?qi[a]=!0:(zs[a]=!0,!1)}function ke(a,c,m){if(Pa(c))if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+m)}}function Hs(a,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+m)}}function it(a,c,m,v){if(v===null)a.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(m);return}a.setAttributeNS(c,m,""+v)}}var $n,Wr;function Nt(a){if($n===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);$n=c&&c[1]||"",Wr=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+a+Wr}var Ft=!1;function rt(a,c){if(!a||Ft)return"";Ft=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(ve){var ye=ve}Reflect.construct(a,[],Be)}else{try{Be.call()}catch(ve){ye=ve}a.call(Be.prototype)}}else{try{throw Error()}catch(ve){ye=ve}(Be=a())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(ve){if(ve&&ye&&typeof ve.stack=="string")return[ve.stack,ye.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),H=I[0],W=I[1];if(H&&W){var J=H.split(`
`),me=W.split(`
`);for(E=v=0;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;for(;E<me.length&&!me[E].includes("DetermineComponentFrameRoot");)E++;if(v===J.length||E===me.length)for(v=J.length-1,E=me.length-1;1<=v&&0<=E&&J[v]!==me[E];)E--;for(;1<=v&&0<=E;v--,E--)if(J[v]!==me[E]){if(v!==1||E!==1)do if(v--,E--,0>E||J[v]!==me[E]){var Ne=`
`+J[v].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=v&&0<=E);break}}}finally{Ft=!1,Error.prepareStackTrace=m}return(m=a?a.displayName||a.name:"")?Nt(m):""}function xs(a){switch(a.tag){case 26:case 27:case 5:return Nt(a.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return rt(a.type,!1);case 11:return rt(a.type.render,!1);case 1:return rt(a.type,!0);case 31:return Nt("Activity");default:return""}}function Fa(a){try{var c="";do c+=xs(a),a=a.return;while(a);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Bi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Qn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function sa(a){var c=Qn(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,I=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return E.call(this)},set:function(H){v=""+H,I.call(this,H)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(H){v=""+H},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function ru(a){a._valueTracker||(a._valueTracker=sa(a))}function Pn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return a&&(v=Qn(a)?a.checked?"true":"false":a.value),a=v,a!==m?(c.setValue(a),!0):!1}function Xr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var T0=/[\n"\\]/g;function Ei(a){return a.replace(T0,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function hn(a,c,m,v,E,I,H,W){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),c!=null?H==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Bi(c)):a.value!==""+Bi(c)&&(a.value=""+Bi(c)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),c!=null?he(a,H,Bi(c)):m!=null?he(a,H,Bi(m)):v!=null&&a.removeAttribute("value"),E==null&&I!=null&&(a.defaultChecked=!!I),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Bi(W):a.removeAttribute("name")}function Ai(a,c,m,v,E,I,H,W){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.type=I),c!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;m=m!=null?""+Bi(m):"",c=c!=null?""+Bi(c):m,W||c===a.value||(a.value=c),a.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=W?a.checked:!!v,a.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H)}function he(a,c,m){c==="number"&&Xr(a.ownerDocument)===a||a.defaultValue===""+m||(a.defaultValue=""+m)}function Y(a,c,m,v){if(a=a.options,c){c={};for(var E=0;E<m.length;E++)c["$"+m[E]]=!0;for(m=0;m<a.length;m++)E=c.hasOwnProperty("$"+a[m].value),a[m].selected!==E&&(a[m].selected=E),E&&v&&(a[m].defaultSelected=!0)}else{for(m=""+Bi(m),c=null,E=0;E<a.length;E++){if(a[E].value===m){a[E].selected=!0,v&&(a[E].defaultSelected=!0);return}c!==null||a[E].disabled||(c=a[E])}c!==null&&(c.selected=!0)}}function st(a,c,m){if(c!=null&&(c=""+Bi(c),c!==a.value&&(a.value=c),m==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=m!=null?""+Bi(m):""}function li(a,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(i(92));if(te(v)){if(1<v.length)throw Error(i(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Bi(c),a.defaultValue=m,v=a.textContent,v===m&&v!==""&&v!==null&&(a.value=v)}function Ti(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(a,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":v?a.setProperty(c,m):typeof m!="number"||m===0||N0.has(c)?c==="float"?a.cssFloat=m:a[c]=(""+m).trim():a[c]=m+"px"}function mr(a,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&m[E]!==v&&su(a,E,v)}else for(var I in c)c.hasOwnProperty(I)&&su(a,I,c[I])}function lt(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(a){return Lh.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Zl=null;function Lo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var aa=null,jo=null;function ci(a){var c=Rt(a);if(c&&(a=c.stateNode)){var m=a[Fe]||null;e:switch(a=c.stateNode,c.type){case"input":if(hn(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ei(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==a&&v.form===a.form){var E=v[Fe]||null;if(!E)throw Error(i(90));hn(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===a.form&&Pn(v)}break e;case"textarea":st(a,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Y(a,!!m.multiple,c,!1)}}}var za=!1;function Us(a,c,m){if(za)return a(c,m);za=!0;try{var v=a(c);return v}finally{if(za=!1,(aa!==null||jo!==null)&&(wp(),aa&&(c=aa,a=jo,jo=aa=null,ci(c),a)))for(c=0;c<a.length;c++)ci(a[c])}}function dt(a,c){var m=a.stateNode;if(m===null)return null;var v=m[Fe]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),St=!1;if($s)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){St=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{St=!1}var oa=null,Ql=null,Jl=null;function la(){if(Jl)return Jl;var a,c=Ql,m=c.length,v,E="value"in oa?oa.value:oa.textContent,I=E.length;for(a=0;a<m&&c[a]===E[a];a++);var H=m-a;for(v=1;v<=H&&c[m-v]===E[I-v];v++);return Jl=E.slice(a,1<v?1-v:void 0)}function ou(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ca(){return!0}function Po(){return!1}function xi(a){function c(m,v,E,I,H){this._reactName=m,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=H,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(m=a[W],this[W]=m?m(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ca:Po,this.isPropagationStopped=Po,this}return y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),c}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=xi(ua),Vs=y({},ua,{view:0,detail:0}),tr=xi(Vs),lu,cu,Fo,uu=y({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fo&&(Fo&&a.type==="mousemove"?(lu=a.screenX-Fo.screenX,cu=a.screenY-Fo.screenY):cu=lu=0,Fo=a),lu)},movementY:function(a){return"movementY"in a?a.movementY:cu}}),jh=xi(uu),I0=y({},uu,{dataTransfer:0}),pn=xi(I0),Ph=y({},Vs,{relatedTarget:0}),zo=xi(Ph),fa=y({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=xi(fa),we=y({},ua,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kt=xi(we),Ni=y({},ua,{data:0}),ec=xi(Ni),Fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=O0[a])?!!c[a]:!1}function tc(){return R0}var ui=y({},Vs,{key:function(a){if(a.key){var c=Fh[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ou(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?M0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(a){return a.type==="keypress"?ou(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ou(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Nd=xi(ui),Fn=y({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=xi(Fn),Ha=y({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),gn=xi(Ha),pt=y({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=xi(pt),Nn=y({},uu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=xi(Nn),Ho=y({},ua,{newState:0,oldState:0}),B0=xi(Ho),ys=[9,13,27,32],ic=$s&&"CompositionEvent"in window,Uo=null;$s&&"documentMode"in document&&(Uo=document.documentMode);var Id=$s&&"TextEvent"in window&&!Uo,kd=$s&&(!ic||Uo&&8<Uo&&11>=Uo),Md=" ",zh=!1;function $a(a,c){switch(a){case"keyup":return ys.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $o=!1;function rc(a,c){switch(a){case"compositionend":return du(c);case"keypress":return c.which!==32?null:(zh=!0,Md);case"textInput":return a=c.data,a===Md&&zh?null:a;default:return null}}function L0(a,c){if($o)return a==="compositionend"||!ic&&$a(a,c)?(a=la(),Jl=Ql=oa=null,$o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return kd&&c.locale!=="ko"?null:c.data;default:return null}}var ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!ha[a.type]:c==="textarea"}function gr(a,c,m,v){aa?jo?jo.push(v):jo=[v]:aa=v,c=Tp(c,"onChange"),0<c.length&&(m=new da("onChange","change",null,m,v),a.push({event:m,listeners:c}))}var Vo=null,nr=null;function j0(a){Z_(a,0)}function Go(a){var c=fn(a);if(Pn(c))return a}function Hh(a,c){if(a==="change")return c}var Od=!1;if($s){var Or;if($s){var Rd="oninput"in document;if(!Rd){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),Rd=typeof fu.oninput=="function"}Or=Rd}else Or=!1;Od=Or&&(!document.documentMode||9<document.documentMode)}function qo(){Vo&&(Vo.detachEvent("onpropertychange",Qt),nr=Vo=null)}function Qt(a){if(a.propertyName==="value"&&Go(nr)){var c=[];gr(c,nr,a,Lo(a)),Us(j0,c)}}function hu(a,c,m){a==="focusin"?(qo(),Vo=c,nr=m,Vo.attachEvent("onpropertychange",Qt)):a==="focusout"&&qo()}function U(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Go(nr)}function o(a,c){if(a==="click")return Go(c)}function u(a,c){if(a==="input"||a==="change")return Go(c)}function h(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var g=typeof Object.is=="function"?Object.is:h;function x(a,c){if(g(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var E=m[v];if(!Di.call(c,E)||!g(a[E],c[E]))return!1}return!0}function w(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function C(a,c){var m=w(a);a=0;for(var v;m;){if(m.nodeType===3){if(v=a+m.textContent.length,a<=c&&v>=c)return{node:m,offset:c-a};a=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=w(m)}}function N(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?N(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function M(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Xr(a.document);c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=Xr(a.document)}return c}function F(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var $=$s&&"documentMode"in document&&11>=document.documentMode,q=null,K=null,ee=null,re=!1;function de(a,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;re||q==null||q!==Xr(v)||(v=q,"selectionStart"in v&&F(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ee&&x(ee,v)||(ee=v,v=Tp(K,"onSelect"),0<v.length&&(c=new da("onSelect","select",null,c,m),a.push({event:c,listeners:v}),c.target=q)))}function be(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var Pe={animationend:be("Animation","AnimationEnd"),animationiteration:be("Animation","AnimationIteration"),animationstart:be("Animation","AnimationStart"),transitionrun:be("Transition","TransitionRun"),transitionstart:be("Transition","TransitionStart"),transitioncancel:be("Transition","TransitionCancel"),transitionend:be("Transition","TransitionEnd")},ze={},Le={};$s&&(Le=document.createElement("div").style,"AnimationEvent"in window||(delete Pe.animationend.animation,delete Pe.animationiteration.animation,delete Pe.animationstart.animation),"TransitionEvent"in window||delete Pe.transitionend.transition);function Et(a){if(ze[a])return ze[a];if(!Pe[a])return a;var c=Pe[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in Le)return ze[a]=c[m];return a}var Ct=Et("animationend"),Wi=Et("animationiteration"),Rr=Et("animationstart"),ir=Et("transitionrun"),xn=Et("transitionstart"),Ii=Et("transitioncancel"),rr=Et("transitionend"),Va=new Map,pa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pa.push("scrollEnd");function Yr(a,c){Va.set(a,c),Mn(c,[a])}var Uh=new WeakMap;function bs(a,c){if(typeof a=="object"&&a!==null){var m=Uh.get(a);return m!==void 0?m:(c={value:a,source:c,stack:Fa(c)},Uh.set(a,c),c)}return{value:a,source:c,stack:Fa(c)}}var vs=[],pu=0,P0=0;function $h(){for(var a=pu,c=P0=pu=0;c<a;){var m=vs[c];vs[c++]=null;var v=vs[c];vs[c++]=null;var E=vs[c];vs[c++]=null;var I=vs[c];if(vs[c++]=null,v!==null&&E!==null){var H=v.pending;H===null?E.next=E:(E.next=H.next,H.next=E),v.pending=E}I!==0&&Bv(m,E,I)}}function Vh(a,c,m,v){vs[pu++]=a,vs[pu++]=c,vs[pu++]=m,vs[pu++]=v,P0|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function F0(a,c,m,v){return Vh(a,c,m,v),Gh(a)}function mu(a,c){return Vh(a,null,null,c),Gh(a)}function Bv(a,c,m){a.lanes|=m;var v=a.alternate;v!==null&&(v.lanes|=m);for(var E=!1,I=a.return;I!==null;)I.childLanes|=m,v=I.alternate,v!==null&&(v.childLanes|=m),I.tag===22&&(a=I.stateNode,a===null||a._visibility&1||(E=!0)),a=I,I=I.return;return a.tag===3?(I=a.stateNode,E&&c!==null&&(E=31-Lt(m),a=I.hiddenUpdates,v=a[E],v===null?a[E]=[c]:v.push(c),c.lane=m|536870912),I):null}function Gh(a){if(50<sf)throw sf=0,Gg=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var gu={};function C5(a,c,m,v){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(a,c,m,v){return new C5(a,c,m,v)}function z0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ga(a,c){var m=a.alternate;return m===null?(m=Kr(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&65011712,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m.refCleanup=a.refCleanup,m}function Lv(a,c){a.flags&=65011714;var m=a.alternate;return m===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=m.childLanes,a.lanes=m.lanes,a.child=m.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=m.memoizedProps,a.memoizedState=m.memoizedState,a.updateQueue=m.updateQueue,a.type=m.type,c=m.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function qh(a,c,m,v,E,I){var H=0;if(v=a,typeof a=="function")z0(a)&&(H=1);else if(typeof a=="string")H=EI(a,m,He.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case X:return a=Kr(31,m,c,E),a.elementType=X,a.lanes=I,a;case T:return ac(m.children,E,I,c);case O:H=8,E|=24;break;case R:return a=Kr(12,m,c,E|2),a.elementType=R,a.lanes=I,a;case D:return a=Kr(13,m,c,E),a.elementType=D,a.lanes=I,a;case L:return a=Kr(19,m,c,E),a.elementType=L,a.lanes=I,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:case j:H=10;break e;case G:H=9;break e;case k:H=11;break e;case z:H=14;break e;case V:H=16,v=null;break e}H=29,m=Error(i(130,a===null?"null":typeof a,"")),v=null}return c=Kr(H,m,c,E),c.elementType=a,c.type=v,c.lanes=I,c}function ac(a,c,m,v){return a=Kr(7,a,v,c),a.lanes=m,a}function H0(a,c,m){return a=Kr(6,a,null,c),a.lanes=m,a}function U0(a,c,m){return c=Kr(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var xu=[],yu=0,Wh=null,Xh=0,ws=[],_s=0,oc=null,qa=1,Wa="";function lc(a,c){xu[yu++]=Xh,xu[yu++]=Wh,Wh=a,Xh=c}function jv(a,c,m){ws[_s++]=qa,ws[_s++]=Wa,ws[_s++]=oc,oc=a;var v=qa;a=Wa;var E=32-Lt(v)-1;v&=~(1<<E),m+=1;var I=32-Lt(c)+E;if(30<I){var H=E-E%5;I=(v&(1<<H)-1).toString(32),v>>=H,E-=H,qa=1<<32-Lt(c)+E|m<<E|v,Wa=I+a}else qa=1<<I|m<<E|v,Wa=a}function $0(a){a.return!==null&&(lc(a,1),jv(a,1,0))}function V0(a){for(;a===Wh;)Wh=xu[--yu],xu[yu]=null,Xh=xu[--yu],xu[yu]=null;for(;a===oc;)oc=ws[--_s],ws[_s]=null,Wa=ws[--_s],ws[_s]=null,qa=ws[--_s],ws[_s]=null}var xr=null,Jn=null,un=!1,cc=null,ma=!1,G0=Error(i(519));function uc(a){var c=Error(i(418,""));throw Ld(bs(c,a)),G0}function Pv(a){var c=a.stateNode,m=a.type,v=a.memoizedProps;switch(c[De]=a,c[Fe]=v,m){case"dialog":Yt("cancel",c),Yt("close",c);break;case"iframe":case"object":case"embed":Yt("load",c);break;case"video":case"audio":for(m=0;m<of.length;m++)Yt(of[m],c);break;case"source":Yt("error",c);break;case"img":case"image":case"link":Yt("error",c),Yt("load",c);break;case"details":Yt("toggle",c);break;case"input":Yt("invalid",c),Ai(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),ru(c);break;case"select":Yt("invalid",c);break;case"textarea":Yt("invalid",c),li(c,v.value,v.defaultValue,v.children),ru(c)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||tC(c.textContent,m)?(v.popover!=null&&(Yt("beforetoggle",c),Yt("toggle",c)),v.onScroll!=null&&Yt("scroll",c),v.onScrollEnd!=null&&Yt("scrollend",c),v.onClick!=null&&(c.onclick=Np),c=!0):c=!1,c||uc(a)}function Fv(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:xr=xr.return}}function Dd(a){if(a!==xr)return!1;if(!un)return Fv(a),un=!0,!1;var c=a.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=a.type,m=!(m!=="form"&&m!=="button")||ox(a.type,a.memoizedProps)),m=!m),m&&Jn&&uc(a),Fv(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(m=a.data,m==="/$"){if(c===0){Jn=qs(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;a=a.nextSibling}Jn=null}}else c===27?(c=Jn,ll(a.type)?(a=dx,dx=null,Jn=a):Jn=c):Jn=xr?qs(a.stateNode.nextSibling):null;return!0}function Bd(){Jn=xr=null,un=!1}function zv(){var a=cc;return a!==null&&(Lr===null?Lr=a:Lr.push.apply(Lr,a),cc=null),a}function Ld(a){cc===null?cc=[a]:cc.push(a)}var q0=fe(null),dc=null,Xa=null;function Wo(a,c,m){Re(q0,c._currentValue),c._currentValue=m}function Ya(a){a._currentValue=q0.current,Ee(q0)}function W0(a,c,m){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===m)break;a=a.return}}function X0(a,c,m,v){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var I=E.dependencies;if(I!==null){var H=E.child;I=I.firstContext;e:for(;I!==null;){var W=I;I=E;for(var J=0;J<c.length;J++)if(W.context===c[J]){I.lanes|=m,W=I.alternate,W!==null&&(W.lanes|=m),W0(I.return,m,a),v||(H=null);break e}I=W.next}}else if(E.tag===18){if(H=E.return,H===null)throw Error(i(341));H.lanes|=m,I=H.alternate,I!==null&&(I.lanes|=m),W0(H,m,a),H=null}else H=E.child;if(H!==null)H.return=E;else for(H=E;H!==null;){if(H===a){H=null;break}if(E=H.sibling,E!==null){E.return=H.return,H=E;break}H=H.return}E=H}}function jd(a,c,m,v){a=null;for(var E=c,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var H=E.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var W=E.type;g(E.pendingProps.value,H.value)||(a!==null?a.push(W):a=[W])}}else if(E===en.current){if(H=E.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(hf):a=[hf])}E=E.return}a!==null&&X0(c,a,m,v),c.flags|=262144}function Yh(a){for(a=a.firstContext;a!==null;){if(!g(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fc(a){dc=a,Xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return Hv(dc,a)}function Kh(a,c){return dc===null&&fc(a),Hv(a,c)}function Hv(a,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Xa===null){if(a===null)throw Error(i(308));Xa=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Xa=Xa.next=c;return m}var S5=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(m,v){a.push(v)}};this.abort=function(){c.aborted=!0,a.forEach(function(m){return m()})}},E5=t.unstable_scheduleCallback,A5=t.unstable_NormalPriority,ki={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y0(){return{controller:new S5,data:new Map,refCount:0}}function Pd(a){a.refCount--,a.refCount===0&&E5(A5,function(){a.controller.abort()})}var Fd=null,K0=0,bu=0,vu=null;function T5(a,c){if(Fd===null){var m=Fd=[];K0=0,bu=Qg(),vu={status:"pending",value:void 0,then:function(v){m.push(v)}}}return K0++,c.then(Uv,Uv),c}function Uv(){if(--K0===0&&Fd!==null){vu!==null&&(vu.status="fulfilled");var a=Fd;Fd=null,bu=0,vu=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function N5(a,c){var m=[],v={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return a.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<m.length;E++)(0,m[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),v}var $v=Z.S;Z.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&T5(a,c),$v!==null&&$v(a,c)};var hc=fe(null);function Z0(){var a=hc.current;return a!==null?a:On.pooledCache}function Zh(a,c){c===null?Re(hc,hc.current):Re(hc,c.pool)}function Vv(){var a=Z0();return a===null?null:{parent:ki._currentValue,pool:a}}var zd=Error(i(460)),Gv=Error(i(474)),Qh=Error(i(542)),Q0={then:function(){}};function qv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Jh(){}function Wv(a,c,m){switch(m=a[m],m===void 0?a.push(c):m!==c&&(c.then(Jh,Jh),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Yv(a),a;default:if(typeof c.status=="string")c.then(Jh,Jh);else{if(a=On,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Yv(a),a}throw Hd=c,zd}}var Hd=null;function Xv(){if(Hd===null)throw Error(i(459));var a=Hd;return Hd=null,a}function Yv(a){if(a===zd||a===Qh)throw Error(i(483))}var Xo=!1;function J0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Yo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ko(a,c,m){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(yn&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=Gh(a),Bv(a,null,m),c}return Vh(a,v,c,m),Gh(a)}function Ud(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=a.pendingLanes,m|=v,c.lanes=m,Si(a,m)}}function tg(a,c){var m=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var E=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?E=I=H:I=I.next=H,m=m.next}while(m!==null);I===null?E=I=c:I=I.next=c}else E=I=c;m={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}var ng=!1;function $d(){if(ng){var a=vu;if(a!==null)throw a}}function Vd(a,c,m,v){ng=!1;var E=a.updateQueue;Xo=!1;var I=E.firstBaseUpdate,H=E.lastBaseUpdate,W=E.shared.pending;if(W!==null){E.shared.pending=null;var J=W,me=J.next;J.next=null,H===null?I=me:H.next=me,H=J;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,W=Ne.lastBaseUpdate,W!==H&&(W===null?Ne.firstBaseUpdate=me:W.next=me,Ne.lastBaseUpdate=J))}if(I!==null){var Be=E.baseState;H=0,Ne=me=J=null,W=I;do{var ye=W.lane&-536870913,ve=ye!==W.lane;if(ve?(rn&ye)===ye:(v&ye)===ye){ye!==0&&ye===bu&&(ng=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var bt=a,xt=W;ye=c;var An=m;switch(xt.tag){case 1:if(bt=xt.payload,typeof bt=="function"){Be=bt.call(An,Be,ye);break e}Be=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=xt.payload,ye=typeof bt=="function"?bt.call(An,Be,ye):bt,ye==null)break e;Be=y({},Be,ye);break e;case 2:Xo=!0}}ye=W.callback,ye!==null&&(a.flags|=64,ve&&(a.flags|=8192),ve=E.callbacks,ve===null?E.callbacks=[ye]:ve.push(ye))}else ve={lane:ye,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ne===null?(me=Ne=ve,J=Be):Ne=Ne.next=ve,H|=ye;if(W=W.next,W===null){if(W=E.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,E.lastBaseUpdate=ve,E.shared.pending=null}}while(!0);Ne===null&&(J=Be),E.baseState=J,E.firstBaseUpdate=me,E.lastBaseUpdate=Ne,I===null&&(E.shared.lanes=0),rl|=H,a.lanes=H,a.memoizedState=Be}}function Kv(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function Zv(a,c){var m=a.callbacks;if(m!==null)for(a.callbacks=null,a=0;a<m.length;a++)Kv(m[a],c)}var wu=fe(null),ep=fe(0);function Qv(a,c){a=no,Re(ep,a),Re(wu,c),no=a|c.baseLanes}function ig(){Re(ep,no),Re(wu,wu.current)}function rg(){no=ep.current,Ee(wu),Ee(ep)}var Zo=0,zt=null,Sn=null,yi=null,tp=!1,_u=!1,pc=!1,np=0,Gd=0,Cu=null,I5=0;function di(){throw Error(i(321))}function sg(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!g(a[m],c[m]))return!1;return!0}function ag(a,c,m,v,E,I){return Zo=I,zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Z.H=a===null||a.memoizedState===null?Bw:Lw,pc=!1,I=m(v,E),pc=!1,_u&&(I=ew(c,m,v,E)),Jv(a),I}function Jv(a){Z.H=lp;var c=Sn!==null&&Sn.next!==null;if(Zo=0,yi=Sn=zt=null,tp=!1,Gd=0,Cu=null,c)throw Error(i(300));a===null||Li||(a=a.dependencies,a!==null&&Yh(a)&&(Li=!0))}function ew(a,c,m,v){zt=a;var E=0;do{if(_u&&(Cu=null),Gd=0,_u=!1,25<=E)throw Error(i(301));if(E+=1,yi=Sn=null,a.updateQueue!=null){var I=a.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}Z.H=L5,I=c(m,v)}while(_u);return I}function k5(){var a=Z.H,c=a.useState()[0];return c=typeof c.then=="function"?qd(c):c,a=a.useState()[0],(Sn!==null?Sn.memoizedState:null)!==a&&(zt.flags|=1024),c}function og(){var a=np!==0;return np=0,a}function lg(a,c,m){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~m}function cg(a){if(tp){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}tp=!1}Zo=0,yi=Sn=zt=null,_u=!1,Gd=np=0,Cu=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?zt.memoizedState=yi=a:yi=yi.next=a,yi}function bi(){if(Sn===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=Sn.next;var c=yi===null?zt.memoizedState:yi.next;if(c!==null)yi=c,Sn=a;else{if(a===null)throw zt.alternate===null?Error(i(467)):Error(i(310));Sn=a,a={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},yi===null?zt.memoizedState=yi=a:yi=yi.next=a}return yi}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qd(a){var c=Gd;return Gd+=1,Cu===null&&(Cu=[]),a=Wv(Cu,a,c),c=zt,(yi===null?c.memoizedState:yi.next)===null&&(c=c.alternate,Z.H=c===null||c.memoizedState===null?Bw:Lw),a}function ip(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return qd(a);if(a.$$typeof===j)return sr(a)}throw Error(i(438,String(a)))}function dg(a){var c=null,m=zt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=zt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=ug(),zt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(a),v=0;v<a;v++)m[v]=ie;return c.index++,m}function Ka(a,c){return typeof c=="function"?c(a):c}function rp(a){var c=bi();return fg(c,Sn,a)}function fg(a,c,m){var v=a.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=m;var E=a.baseQueue,I=v.pending;if(I!==null){if(E!==null){var H=E.next;E.next=I.next,I.next=H}c.baseQueue=E=I,v.pending=null}if(I=a.baseState,E===null)a.memoizedState=I;else{c=E.next;var W=H=null,J=null,me=c,Ne=!1;do{var Be=me.lane&-536870913;if(Be!==me.lane?(rn&Be)===Be:(Zo&Be)===Be){var ye=me.revertLane;if(ye===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Be===bu&&(Ne=!0);else if((Zo&ye)===ye){me=me.next,ye===bu&&(Ne=!0);continue}else Be={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=Be,H=I):J=J.next=Be,zt.lanes|=ye,rl|=ye;Be=me.action,pc&&m(I,Be),I=me.hasEagerState?me.eagerState:m(I,Be)}else ye={lane:Be,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=ye,H=I):J=J.next=ye,zt.lanes|=Be,rl|=Be;me=me.next}while(me!==null&&me!==c);if(J===null?H=I:J.next=W,!g(I,a.memoizedState)&&(Li=!0,Ne&&(m=vu,m!==null)))throw m;a.memoizedState=I,a.baseState=H,a.baseQueue=J,v.lastRenderedState=I}return E===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function hg(a){var c=bi(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=a;var v=m.dispatch,E=m.pending,I=c.memoizedState;if(E!==null){m.pending=null;var H=E=E.next;do I=a(I,H.action),H=H.next;while(H!==E);g(I,c.memoizedState)||(Li=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),m.lastRenderedState=I}return[I,v]}function tw(a,c,m){var v=zt,E=bi(),I=un;if(I){if(m===void 0)throw Error(i(407));m=m()}else m=c();var H=!g((Sn||E).memoizedState,m);H&&(E.memoizedState=m,Li=!0),E=E.queue;var W=rw.bind(null,v,E,a);if(Wd(2048,8,W,[a]),E.getSnapshot!==c||H||yi!==null&&yi.memoizedState.tag&1){if(v.flags|=2048,Su(9,sp(),iw.bind(null,v,E,m,c),null),On===null)throw Error(i(349));I||(Zo&124)!==0||nw(v,c,m)}return m}function nw(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=zt.updateQueue,c===null?(c=ug(),zt.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function iw(a,c,m,v){c.value=m,c.getSnapshot=v,sw(c)&&aw(a)}function rw(a,c,m){return m(function(){sw(c)&&aw(a)})}function sw(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!g(a,m)}catch{return!0}}function aw(a){var c=mu(a,2);c!==null&&ts(c,a,2)}function pg(a){var c=Dr();if(typeof a=="function"){var m=a;if(a=m(),pc){nn(!0);try{m()}finally{nn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},c}function ow(a,c,m,v){return a.baseState=m,fg(a,Sn,typeof v=="function"?v:Ka)}function M5(a,c,m,v,E){if(op(a))throw Error(i(485));if(a=c.action,a!==null){var I={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){I.listeners.push(H)}};Z.T!==null?m(!0):I.isTransition=!1,v(I),m=c.pending,m===null?(I.next=c.pending=I,lw(c,I)):(I.next=m.next,c.pending=m.next=I)}}function lw(a,c){var m=c.action,v=c.payload,E=a.state;if(c.isTransition){var I=Z.T,H={};Z.T=H;try{var W=m(E,v),J=Z.S;J!==null&&J(H,W),cw(a,c,W)}catch(me){mg(a,c,me)}finally{Z.T=I}}else try{I=m(E,v),cw(a,c,I)}catch(me){mg(a,c,me)}}function cw(a,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){uw(a,c,v)},function(v){return mg(a,c,v)}):uw(a,c,m)}function uw(a,c,m){c.status="fulfilled",c.value=m,dw(c),a.state=m,c=a.pending,c!==null&&(m=c.next,m===c?a.pending=null:(m=m.next,c.next=m,lw(a,m)))}function mg(a,c,m){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,dw(c),c=c.next;while(c!==v)}a.action=null}function dw(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function fw(a,c){return c}function hw(a,c){if(un){var m=On.formState;if(m!==null){e:{var v=zt;if(un){if(Jn){t:{for(var E=Jn,I=ma;E.nodeType!==8;){if(!I){E=null;break t}if(E=qs(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){Jn=qs(E.nextSibling),v=E.data==="F!";break e}}uc(v)}v=!1}v&&(c=m[0])}}return m=Dr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fw,lastRenderedState:c},m.queue=v,m=Ow.bind(null,zt,v),v.dispatch=m,v=pg(!1),I=vg.bind(null,zt,!1,v.queue),v=Dr(),E={state:c,dispatch:null,action:a,pending:null},v.queue=E,m=M5.bind(null,zt,E,I,m),E.dispatch=m,v.memoizedState=a,[c,m,!1]}function pw(a){var c=bi();return mw(c,Sn,a)}function mw(a,c,m){if(c=fg(a,c,fw)[0],a=rp(Ka)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=qd(c)}catch(H){throw H===zd?Qh:H}else v=c;c=bi();var E=c.queue,I=E.dispatch;return m!==c.memoizedState&&(zt.flags|=2048,Su(9,sp(),O5.bind(null,E,m),null)),[v,I,a]}function O5(a,c){a.action=c}function gw(a){var c=bi(),m=Sn;if(m!==null)return mw(c,m,a);bi(),c=c.memoizedState,m=bi();var v=m.queue.dispatch;return m.memoizedState=a,[c,v,!1]}function Su(a,c,m,v){return a={tag:a,create:m,deps:v,inst:c,next:null},c=zt.updateQueue,c===null&&(c=ug(),zt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=a.next=a:(v=m.next,m.next=a,a.next=v,c.lastEffect=a),a}function sp(){return{destroy:void 0,resource:void 0}}function xw(){return bi().memoizedState}function ap(a,c,m,v){var E=Dr();v=v===void 0?null:v,zt.flags|=a,E.memoizedState=Su(1|c,sp(),m,v)}function Wd(a,c,m,v){var E=bi();v=v===void 0?null:v;var I=E.memoizedState.inst;Sn!==null&&v!==null&&sg(v,Sn.memoizedState.deps)?E.memoizedState=Su(c,I,m,v):(zt.flags|=a,E.memoizedState=Su(1|c,I,m,v))}function yw(a,c){ap(8390656,8,a,c)}function bw(a,c){Wd(2048,8,a,c)}function vw(a,c){return Wd(4,2,a,c)}function ww(a,c){return Wd(4,4,a,c)}function _w(a,c){if(typeof c=="function"){a=a();var m=c(a);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Cw(a,c,m){m=m!=null?m.concat([a]):null,Wd(4,4,_w.bind(null,c,a),m)}function gg(){}function Sw(a,c){var m=bi();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&sg(c,v[1])?v[0]:(m.memoizedState=[a,c],a)}function Ew(a,c){var m=bi();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&sg(c,v[1]))return v[0];if(v=a(),pc){nn(!0);try{a()}finally{nn(!1)}}return m.memoizedState=[v,c],v}function xg(a,c,m){return m===void 0||(Zo&1073741824)!==0?a.memoizedState=c:(a.memoizedState=m,a=N_(),zt.lanes|=a,rl|=a,m)}function Aw(a,c,m,v){return g(m,c)?m:wu.current!==null?(a=xg(a,m,v),g(a,c)||(Li=!0),a):(Zo&42)===0?(Li=!0,a.memoizedState=m):(a=N_(),zt.lanes|=a,rl|=a,c)}function Tw(a,c,m,v,E){var I=le.p;le.p=I!==0&&8>I?I:8;var H=Z.T,W={};Z.T=W,vg(a,!1,c,m);try{var J=E(),me=Z.S;if(me!==null&&me(W,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ne=N5(J,v);Xd(a,c,Ne,es(a))}else Xd(a,c,v,es(a))}catch(Be){Xd(a,c,{then:function(){},status:"rejected",reason:Be},es())}finally{le.p=I,Z.T=H}}function R5(){}function yg(a,c,m,v){if(a.tag!==5)throw Error(i(476));var E=Nw(a).queue;Tw(a,E,c,xe,m===null?R5:function(){return Iw(a),m(v)})}function Nw(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:xe},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:m},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function Iw(a){var c=Nw(a).next.queue;Xd(a,c,{},es())}function bg(){return sr(hf)}function kw(){return bi().memoizedState}function Mw(){return bi().memoizedState}function D5(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var m=es();a=Yo(m);var v=Ko(c,a,m);v!==null&&(ts(v,c,m),Ud(v,c,m)),c={cache:Y0()},a.payload=c;return}c=c.return}}function B5(a,c,m){var v=es();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},op(a)?Rw(c,m):(m=F0(a,c,m,v),m!==null&&(ts(m,a,v),Dw(m,c,v)))}function Ow(a,c,m){var v=es();Xd(a,c,m,v)}function Xd(a,c,m,v){var E={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(op(a))Rw(c,E);else{var I=a.alternate;if(a.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var H=c.lastRenderedState,W=I(H,m);if(E.hasEagerState=!0,E.eagerState=W,g(W,H))return Vh(a,c,E,0),On===null&&$h(),!1}catch{}finally{}if(m=F0(a,c,E,v),m!==null)return ts(m,a,v),Dw(m,c,v),!0}return!1}function vg(a,c,m,v){if(v={lane:2,revertLane:Qg(),action:v,hasEagerState:!1,eagerState:null,next:null},op(a)){if(c)throw Error(i(479))}else c=F0(a,m,v,2),c!==null&&ts(c,a,2)}function op(a){var c=a.alternate;return a===zt||c!==null&&c===zt}function Rw(a,c){_u=tp=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function Dw(a,c,m){if((m&4194048)!==0){var v=c.lanes;v&=a.pendingLanes,m|=v,c.lanes=m,Si(a,m)}}var lp={readContext:sr,use:ip,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useInsertionEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useSyncExternalStore:di,useId:di,useHostTransitionStatus:di,useFormState:di,useActionState:di,useOptimistic:di,useMemoCache:di,useCacheRefresh:di},Bw={readContext:sr,use:ip,useCallback:function(a,c){return Dr().memoizedState=[a,c===void 0?null:c],a},useContext:sr,useEffect:yw,useImperativeHandle:function(a,c,m){m=m!=null?m.concat([a]):null,ap(4194308,4,_w.bind(null,c,a),m)},useLayoutEffect:function(a,c){return ap(4194308,4,a,c)},useInsertionEffect:function(a,c){ap(4,2,a,c)},useMemo:function(a,c){var m=Dr();c=c===void 0?null:c;var v=a();if(pc){nn(!0);try{a()}finally{nn(!1)}}return m.memoizedState=[v,c],v},useReducer:function(a,c,m){var v=Dr();if(m!==void 0){var E=m(c);if(pc){nn(!0);try{m(c)}finally{nn(!1)}}}else E=c;return v.memoizedState=v.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},v.queue=a,a=a.dispatch=B5.bind(null,zt,a),[v.memoizedState,a]},useRef:function(a){var c=Dr();return a={current:a},c.memoizedState=a},useState:function(a){a=pg(a);var c=a.queue,m=Ow.bind(null,zt,c);return c.dispatch=m,[a.memoizedState,m]},useDebugValue:gg,useDeferredValue:function(a,c){var m=Dr();return xg(m,a,c)},useTransition:function(){var a=pg(!1);return a=Tw.bind(null,zt,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,m){var v=zt,E=Dr();if(un){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),On===null)throw Error(i(349));(rn&124)!==0||nw(v,c,m)}E.memoizedState=m;var I={value:m,getSnapshot:c};return E.queue=I,yw(rw.bind(null,v,I,a),[a]),v.flags|=2048,Su(9,sp(),iw.bind(null,v,I,m,c),null),m},useId:function(){var a=Dr(),c=On.identifierPrefix;if(un){var m=Wa,v=qa;m=(v&~(1<<32-Lt(v)-1)).toString(32)+m,c=""+c+"R"+m,m=np++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=I5++,c=""+c+"r"+m.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:bg,useFormState:hw,useActionState:hw,useOptimistic:function(a){var c=Dr();c.memoizedState=c.baseState=a;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=vg.bind(null,zt,!0,m),m.dispatch=c,[a,c]},useMemoCache:dg,useCacheRefresh:function(){return Dr().memoizedState=D5.bind(null,zt)}},Lw={readContext:sr,use:ip,useCallback:Sw,useContext:sr,useEffect:bw,useImperativeHandle:Cw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Ew,useReducer:rp,useRef:xw,useState:function(){return rp(Ka)},useDebugValue:gg,useDeferredValue:function(a,c){var m=bi();return Aw(m,Sn.memoizedState,a,c)},useTransition:function(){var a=rp(Ka)[0],c=bi().memoizedState;return[typeof a=="boolean"?a:qd(a),c]},useSyncExternalStore:tw,useId:kw,useHostTransitionStatus:bg,useFormState:pw,useActionState:pw,useOptimistic:function(a,c){var m=bi();return ow(m,Sn,a,c)},useMemoCache:dg,useCacheRefresh:Mw},L5={readContext:sr,use:ip,useCallback:Sw,useContext:sr,useEffect:bw,useImperativeHandle:Cw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Ew,useReducer:hg,useRef:xw,useState:function(){return hg(Ka)},useDebugValue:gg,useDeferredValue:function(a,c){var m=bi();return Sn===null?xg(m,a,c):Aw(m,Sn.memoizedState,a,c)},useTransition:function(){var a=hg(Ka)[0],c=bi().memoizedState;return[typeof a=="boolean"?a:qd(a),c]},useSyncExternalStore:tw,useId:kw,useHostTransitionStatus:bg,useFormState:gw,useActionState:gw,useOptimistic:function(a,c){var m=bi();return Sn!==null?ow(m,Sn,a,c):(m.baseState=a,[a,m.queue.dispatch])},useMemoCache:dg,useCacheRefresh:Mw},Eu=null,Yd=0;function cp(a){var c=Yd;return Yd+=1,Eu===null&&(Eu=[]),Wv(Eu,a,c)}function Kd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function up(a,c){throw c.$$typeof===_?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function jw(a){var c=a._init;return c(a._payload)}function Pw(a){function c(oe,se){if(a){var pe=oe.deletions;pe===null?(oe.deletions=[se],oe.flags|=16):pe.push(se)}}function m(oe,se){if(!a)return null;for(;se!==null;)c(oe,se),se=se.sibling;return null}function v(oe){for(var se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function E(oe,se){return oe=Ga(oe,se),oe.index=0,oe.sibling=null,oe}function I(oe,se,pe){return oe.index=pe,a?(pe=oe.alternate,pe!==null?(pe=pe.index,pe<se?(oe.flags|=67108866,se):pe):(oe.flags|=67108866,se)):(oe.flags|=1048576,se)}function H(oe){return a&&oe.alternate===null&&(oe.flags|=67108866),oe}function W(oe,se,pe,Oe){return se===null||se.tag!==6?(se=H0(pe,oe.mode,Oe),se.return=oe,se):(se=E(se,pe),se.return=oe,se)}function J(oe,se,pe,Oe){var Je=pe.type;return Je===T?Ne(oe,se,pe.props.children,Oe,pe.key):se!==null&&(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===V&&jw(Je)===se.type)?(se=E(se,pe.props),Kd(se,pe),se.return=oe,se):(se=qh(pe.type,pe.key,pe.props,null,oe.mode,Oe),Kd(se,pe),se.return=oe,se)}function me(oe,se,pe,Oe){return se===null||se.tag!==4||se.stateNode.containerInfo!==pe.containerInfo||se.stateNode.implementation!==pe.implementation?(se=U0(pe,oe.mode,Oe),se.return=oe,se):(se=E(se,pe.children||[]),se.return=oe,se)}function Ne(oe,se,pe,Oe,Je){return se===null||se.tag!==7?(se=ac(pe,oe.mode,Oe,Je),se.return=oe,se):(se=E(se,pe),se.return=oe,se)}function Be(oe,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=H0(""+se,oe.mode,pe),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return pe=qh(se.type,se.key,se.props,null,oe.mode,pe),Kd(pe,se),pe.return=oe,pe;case A:return se=U0(se,oe.mode,pe),se.return=oe,se;case V:var Oe=se._init;return se=Oe(se._payload),Be(oe,se,pe)}if(te(se)||ue(se))return se=ac(se,oe.mode,pe,null),se.return=oe,se;if(typeof se.then=="function")return Be(oe,cp(se),pe);if(se.$$typeof===j)return Be(oe,Kh(oe,se),pe);up(oe,se)}return null}function ye(oe,se,pe,Oe){var Je=se!==null?se.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Je!==null?null:W(oe,se,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return pe.key===Je?J(oe,se,pe,Oe):null;case A:return pe.key===Je?me(oe,se,pe,Oe):null;case V:return Je=pe._init,pe=Je(pe._payload),ye(oe,se,pe,Oe)}if(te(pe)||ue(pe))return Je!==null?null:Ne(oe,se,pe,Oe,null);if(typeof pe.then=="function")return ye(oe,se,cp(pe),Oe);if(pe.$$typeof===j)return ye(oe,se,Kh(oe,pe),Oe);up(oe,pe)}return null}function ve(oe,se,pe,Oe,Je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return oe=oe.get(pe)||null,W(se,oe,""+Oe,Je);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case S:return oe=oe.get(Oe.key===null?pe:Oe.key)||null,J(se,oe,Oe,Je);case A:return oe=oe.get(Oe.key===null?pe:Oe.key)||null,me(se,oe,Oe,Je);case V:var Vt=Oe._init;return Oe=Vt(Oe._payload),ve(oe,se,pe,Oe,Je)}if(te(Oe)||ue(Oe))return oe=oe.get(pe)||null,Ne(se,oe,Oe,Je,null);if(typeof Oe.then=="function")return ve(oe,se,pe,cp(Oe),Je);if(Oe.$$typeof===j)return ve(oe,se,pe,Kh(se,Oe),Je);up(se,Oe)}return null}function bt(oe,se,pe,Oe){for(var Je=null,Vt=null,ct=se,yt=se=0,Pi=null;ct!==null&&yt<pe.length;yt++){ct.index>yt?(Pi=ct,ct=null):Pi=ct.sibling;var ln=ye(oe,ct,pe[yt],Oe);if(ln===null){ct===null&&(ct=Pi);break}a&&ct&&ln.alternate===null&&c(oe,ct),se=I(ln,se,yt),Vt===null?Je=ln:Vt.sibling=ln,Vt=ln,ct=Pi}if(yt===pe.length)return m(oe,ct),un&&lc(oe,yt),Je;if(ct===null){for(;yt<pe.length;yt++)ct=Be(oe,pe[yt],Oe),ct!==null&&(se=I(ct,se,yt),Vt===null?Je=ct:Vt.sibling=ct,Vt=ct);return un&&lc(oe,yt),Je}for(ct=v(ct);yt<pe.length;yt++)Pi=ve(ct,oe,yt,pe[yt],Oe),Pi!==null&&(a&&Pi.alternate!==null&&ct.delete(Pi.key===null?yt:Pi.key),se=I(Pi,se,yt),Vt===null?Je=Pi:Vt.sibling=Pi,Vt=Pi);return a&&ct.forEach(function(hl){return c(oe,hl)}),un&&lc(oe,yt),Je}function xt(oe,se,pe,Oe){if(pe==null)throw Error(i(151));for(var Je=null,Vt=null,ct=se,yt=se=0,Pi=null,ln=pe.next();ct!==null&&!ln.done;yt++,ln=pe.next()){ct.index>yt?(Pi=ct,ct=null):Pi=ct.sibling;var hl=ye(oe,ct,ln.value,Oe);if(hl===null){ct===null&&(ct=Pi);break}a&&ct&&hl.alternate===null&&c(oe,ct),se=I(hl,se,yt),Vt===null?Je=hl:Vt.sibling=hl,Vt=hl,ct=Pi}if(ln.done)return m(oe,ct),un&&lc(oe,yt),Je;if(ct===null){for(;!ln.done;yt++,ln=pe.next())ln=Be(oe,ln.value,Oe),ln!==null&&(se=I(ln,se,yt),Vt===null?Je=ln:Vt.sibling=ln,Vt=ln);return un&&lc(oe,yt),Je}for(ct=v(ct);!ln.done;yt++,ln=pe.next())ln=ve(ct,oe,yt,ln.value,Oe),ln!==null&&(a&&ln.alternate!==null&&ct.delete(ln.key===null?yt:ln.key),se=I(ln,se,yt),Vt===null?Je=ln:Vt.sibling=ln,Vt=ln);return a&&ct.forEach(function(jI){return c(oe,jI)}),un&&lc(oe,yt),Je}function An(oe,se,pe,Oe){if(typeof pe=="object"&&pe!==null&&pe.type===T&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:e:{for(var Je=pe.key;se!==null;){if(se.key===Je){if(Je=pe.type,Je===T){if(se.tag===7){m(oe,se.sibling),Oe=E(se,pe.props.children),Oe.return=oe,oe=Oe;break e}}else if(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===V&&jw(Je)===se.type){m(oe,se.sibling),Oe=E(se,pe.props),Kd(Oe,pe),Oe.return=oe,oe=Oe;break e}m(oe,se);break}else c(oe,se);se=se.sibling}pe.type===T?(Oe=ac(pe.props.children,oe.mode,Oe,pe.key),Oe.return=oe,oe=Oe):(Oe=qh(pe.type,pe.key,pe.props,null,oe.mode,Oe),Kd(Oe,pe),Oe.return=oe,oe=Oe)}return H(oe);case A:e:{for(Je=pe.key;se!==null;){if(se.key===Je)if(se.tag===4&&se.stateNode.containerInfo===pe.containerInfo&&se.stateNode.implementation===pe.implementation){m(oe,se.sibling),Oe=E(se,pe.children||[]),Oe.return=oe,oe=Oe;break e}else{m(oe,se);break}else c(oe,se);se=se.sibling}Oe=U0(pe,oe.mode,Oe),Oe.return=oe,oe=Oe}return H(oe);case V:return Je=pe._init,pe=Je(pe._payload),An(oe,se,pe,Oe)}if(te(pe))return bt(oe,se,pe,Oe);if(ue(pe)){if(Je=ue(pe),typeof Je!="function")throw Error(i(150));return pe=Je.call(pe),xt(oe,se,pe,Oe)}if(typeof pe.then=="function")return An(oe,se,cp(pe),Oe);if(pe.$$typeof===j)return An(oe,se,Kh(oe,pe),Oe);up(oe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,se!==null&&se.tag===6?(m(oe,se.sibling),Oe=E(se,pe),Oe.return=oe,oe=Oe):(m(oe,se),Oe=H0(pe,oe.mode,Oe),Oe.return=oe,oe=Oe),H(oe)):m(oe,se)}return function(oe,se,pe,Oe){try{Yd=0;var Je=An(oe,se,pe,Oe);return Eu=null,Je}catch(ct){if(ct===zd||ct===Qh)throw ct;var Vt=Kr(29,ct,null,oe.mode);return Vt.lanes=Oe,Vt.return=oe,Vt}finally{}}}var Au=Pw(!0),Fw=Pw(!1),Cs=fe(null),ga=null;function Qo(a){var c=a.alternate;Re(Mi,Mi.current&1),Re(Cs,a),ga===null&&(c===null||wu.current!==null||c.memoizedState!==null)&&(ga=a)}function zw(a){if(a.tag===22){if(Re(Mi,Mi.current),Re(Cs,a),ga===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ga=a)}}else Jo()}function Jo(){Re(Mi,Mi.current),Re(Cs,Cs.current)}function Za(a){Ee(Cs),ga===a&&(ga=null),Ee(Mi)}var Mi=fe(0);function dp(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||ux(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function wg(a,c,m,v){c=a.memoizedState,m=m(v,c),m=m==null?c:y({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var _g={enqueueSetState:function(a,c,m){a=a._reactInternals;var v=es(),E=Yo(v);E.payload=c,m!=null&&(E.callback=m),c=Ko(a,E,v),c!==null&&(ts(c,a,v),Ud(c,a,v))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var v=es(),E=Yo(v);E.tag=1,E.payload=c,m!=null&&(E.callback=m),c=Ko(a,E,v),c!==null&&(ts(c,a,v),Ud(c,a,v))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=es(),v=Yo(m);v.tag=2,c!=null&&(v.callback=c),c=Ko(a,v,m),c!==null&&(ts(c,a,m),Ud(c,a,m))}};function Hw(a,c,m,v,E,I,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,I,H):c.prototype&&c.prototype.isPureReactComponent?!x(m,v)||!x(E,I):!0}function Uw(a,c,m,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==a&&_g.enqueueReplaceState(c,c.state,null)}function mc(a,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(a=a.defaultProps){m===c&&(m=y({},m));for(var E in a)m[E]===void 0&&(m[E]=a[E])}return m}var fp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function $w(a){fp(a)}function Vw(a){console.error(a)}function Gw(a){fp(a)}function hp(a,c){try{var m=a.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function qw(a,c,m){try{var v=a.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Cg(a,c,m){return m=Yo(m),m.tag=3,m.payload={element:null},m.callback=function(){hp(a,c)},m}function Ww(a){return a=Yo(a),a.tag=3,a}function Xw(a,c,m,v){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;a.payload=function(){return E(I)},a.callback=function(){qw(c,m,v)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){qw(c,m,v),typeof E!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function j5(a,c,m,v,E){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&jd(c,m,E,!0),m=Cs.current,m!==null){switch(m.tag){case 13:return ga===null?Wg():m.alternate===null&&ei===0&&(ei=3),m.flags&=-257,m.flags|=65536,m.lanes=E,v===Q0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),Yg(a,v,E)),!1;case 22:return m.flags|=65536,v===Q0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),Yg(a,v,E)),!1}throw Error(i(435,m.tag))}return Yg(a,v,E),Wg(),!1}if(un)return c=Cs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==G0&&(a=Error(i(422),{cause:v}),Ld(bs(a,m)))):(v!==G0&&(c=Error(i(423),{cause:v}),Ld(bs(c,m))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,v=bs(v,m),E=Cg(a.stateNode,v,E),tg(a,E),ei!==4&&(ei=2)),!1;var I=Error(i(520),{cause:v});if(I=bs(I,m),rf===null?rf=[I]:rf.push(I),ei!==4&&(ei=2),c===null)return!0;v=bs(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,a=E&-E,m.lanes|=a,a=Cg(m.stateNode,v,a),tg(m,a),!1;case 1:if(c=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(sl===null||!sl.has(I))))return m.flags|=65536,E&=-E,m.lanes|=E,E=Ww(E),Xw(E,a,m,v),tg(m,E),!1}m=m.return}while(m!==null);return!1}var Yw=Error(i(461)),Li=!1;function Xi(a,c,m,v){c.child=a===null?Fw(c,null,m,v):Au(c,a.child,m,v)}function Kw(a,c,m,v,E){m=m.render;var I=c.ref;if("ref"in v){var H={};for(var W in v)W!=="ref"&&(H[W]=v[W])}else H=v;return fc(c),v=ag(a,c,m,H,I,E),W=og(),a!==null&&!Li?(lg(a,c,E),Qa(a,c,E)):(un&&W&&$0(c),c.flags|=1,Xi(a,c,v,E),c.child)}function Zw(a,c,m,v,E){if(a===null){var I=m.type;return typeof I=="function"&&!z0(I)&&I.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=I,Qw(a,c,I,v,E)):(a=qh(m.type,null,v,c,c.mode,E),a.ref=c.ref,a.return=c,c.child=a)}if(I=a.child,!Mg(a,E)){var H=I.memoizedProps;if(m=m.compare,m=m!==null?m:x,m(H,v)&&a.ref===c.ref)return Qa(a,c,E)}return c.flags|=1,a=Ga(I,v),a.ref=c.ref,a.return=c,c.child=a}function Qw(a,c,m,v,E){if(a!==null){var I=a.memoizedProps;if(x(I,v)&&a.ref===c.ref)if(Li=!1,c.pendingProps=v=I,Mg(a,E))(a.flags&131072)!==0&&(Li=!0);else return c.lanes=a.lanes,Qa(a,c,E)}return Sg(a,c,m,v,E)}function Jw(a,c,m){var v=c.pendingProps,E=v.children,I=a!==null?a.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|m:m,a!==null){for(E=c.child=a.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return e_(a,c,v,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zh(c,I!==null?I.cachePool:null),I!==null?Qv(c,I):ig(),zw(c);else return c.lanes=c.childLanes=536870912,e_(a,c,I!==null?I.baseLanes|m:m,m)}else I!==null?(Zh(c,I.cachePool),Qv(c,I),Jo(),c.memoizedState=null):(a!==null&&Zh(c,null),ig(),Jo());return Xi(a,c,E,m),c.child}function e_(a,c,m,v){var E=Z0();return E=E===null?null:{parent:ki._currentValue,pool:E},c.memoizedState={baseLanes:m,cachePool:E},a!==null&&Zh(c,null),ig(),zw(c),a!==null&&jd(a,c,v,!0),null}function pp(a,c){var m=c.ref;if(m===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(a===null||a.ref!==m)&&(c.flags|=4194816)}}function Sg(a,c,m,v,E){return fc(c),m=ag(a,c,m,v,void 0,E),v=og(),a!==null&&!Li?(lg(a,c,E),Qa(a,c,E)):(un&&v&&$0(c),c.flags|=1,Xi(a,c,m,E),c.child)}function t_(a,c,m,v,E,I){return fc(c),c.updateQueue=null,m=ew(c,v,m,E),Jv(a),v=og(),a!==null&&!Li?(lg(a,c,I),Qa(a,c,I)):(un&&v&&$0(c),c.flags|=1,Xi(a,c,m,I),c.child)}function n_(a,c,m,v,E){if(fc(c),c.stateNode===null){var I=gu,H=m.contextType;typeof H=="object"&&H!==null&&(I=sr(H)),I=new m(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=_g,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},J0(c),H=m.contextType,I.context=typeof H=="object"&&H!==null?sr(H):gu,I.state=c.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(wg(c,m,H,v),I.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(H=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),H!==I.state&&_g.enqueueReplaceState(I,I.state,null),Vd(c,v,I,E),$d(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(a===null){I=c.stateNode;var W=c.memoizedProps,J=mc(m,W);I.props=J;var me=I.context,Ne=m.contextType;H=gu,typeof Ne=="object"&&Ne!==null&&(H=sr(Ne));var Be=m.getDerivedStateFromProps;Ne=typeof Be=="function"||typeof I.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,Ne||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W||me!==H)&&Uw(c,I,v,H),Xo=!1;var ye=c.memoizedState;I.state=ye,Vd(c,v,I,E),$d(),me=c.memoizedState,W||ye!==me||Xo?(typeof Be=="function"&&(wg(c,m,Be,v),me=c.memoizedState),(J=Xo||Hw(c,m,J,v,ye,me,H))?(Ne||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=me),I.props=v,I.state=me,I.context=H,v=J):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,eg(a,c),H=c.memoizedProps,Ne=mc(m,H),I.props=Ne,Be=c.pendingProps,ye=I.context,me=m.contextType,J=gu,typeof me=="object"&&me!==null&&(J=sr(me)),W=m.getDerivedStateFromProps,(me=typeof W=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==Be||ye!==J)&&Uw(c,I,v,J),Xo=!1,ye=c.memoizedState,I.state=ye,Vd(c,v,I,E),$d();var ve=c.memoizedState;H!==Be||ye!==ve||Xo||a!==null&&a.dependencies!==null&&Yh(a.dependencies)?(typeof W=="function"&&(wg(c,m,W,v),ve=c.memoizedState),(Ne=Xo||Hw(c,m,Ne,v,ye,ve,J)||a!==null&&a.dependencies!==null&&Yh(a.dependencies))?(me||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,ve,J),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,ve,J)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ve),I.props=v,I.state=ve,I.context=J,v=Ne):(typeof I.componentDidUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),v=!1)}return I=v,pp(a,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,a!==null&&v?(c.child=Au(c,a.child,null,E),c.child=Au(c,null,m,E)):Xi(a,c,m,E),c.memoizedState=I.state,a=c.child):a=Qa(a,c,E),a}function i_(a,c,m,v){return Bd(),c.flags|=256,Xi(a,c,m,v),c.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(a){return{baseLanes:a,cachePool:Vv()}}function Tg(a,c,m){return a=a!==null?a.childLanes&~m:0,c&&(a|=Ss),a}function r_(a,c,m){var v=c.pendingProps,E=!1,I=(c.flags&128)!==0,H;if((H=I)||(H=a!==null&&a.memoizedState===null?!1:(Mi.current&2)!==0),H&&(E=!0,c.flags&=-129),H=(c.flags&32)!==0,c.flags&=-33,a===null){if(un){if(E?Qo(c):Jo(),un){var W=Jn,J;if(J=W){e:{for(J=W,W=ma;J.nodeType!==8;){if(!W){W=null;break e}if(J=qs(J.nextSibling),J===null){W=null;break e}}W=J}W!==null?(c.memoizedState={dehydrated:W,treeContext:oc!==null?{id:qa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},J=Kr(18,null,null,0),J.stateNode=W,J.return=c,c.child=J,xr=c,Jn=null,J=!0):J=!1}J||uc(c)}if(W=c.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return ux(W)?c.lanes=32:c.lanes=536870912,null;Za(c)}return W=v.children,v=v.fallback,E?(Jo(),E=c.mode,W=mp({mode:"hidden",children:W},E),v=ac(v,E,m,null),W.return=c,v.return=c,W.sibling=v,c.child=W,E=c.child,E.memoizedState=Ag(m),E.childLanes=Tg(a,H,m),c.memoizedState=Eg,v):(Qo(c),Ng(c,W))}if(J=a.memoizedState,J!==null&&(W=J.dehydrated,W!==null)){if(I)c.flags&256?(Qo(c),c.flags&=-257,c=Ig(a,c,m)):c.memoizedState!==null?(Jo(),c.child=a.child,c.flags|=128,c=null):(Jo(),E=v.fallback,W=c.mode,v=mp({mode:"visible",children:v.children},W),E=ac(E,W,m,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,Au(c,a.child,null,m),v=c.child,v.memoizedState=Ag(m),v.childLanes=Tg(a,H,m),c.memoizedState=Eg,c=E);else if(Qo(c),ux(W)){if(H=W.nextSibling&&W.nextSibling.dataset,H)var me=H.dgst;H=me,v=Error(i(419)),v.stack="",v.digest=H,Ld({value:v,source:null,stack:null}),c=Ig(a,c,m)}else if(Li||jd(a,c,m,!1),H=(m&a.childLanes)!==0,Li||H){if(H=On,H!==null&&(v=m&-m,v=(v&42)!==0?1:ja(v),v=(v&(H.suspendedLanes|m))!==0?0:v,v!==0&&v!==J.retryLane))throw J.retryLane=v,mu(a,v),ts(H,a,v),Yw;W.data==="$?"||Wg(),c=Ig(a,c,m)}else W.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=J.treeContext,Jn=qs(W.nextSibling),xr=c,un=!0,cc=null,ma=!1,a!==null&&(ws[_s++]=qa,ws[_s++]=Wa,ws[_s++]=oc,qa=a.id,Wa=a.overflow,oc=c),c=Ng(c,v.children),c.flags|=4096);return c}return E?(Jo(),E=v.fallback,W=c.mode,J=a.child,me=J.sibling,v=Ga(J,{mode:"hidden",children:v.children}),v.subtreeFlags=J.subtreeFlags&65011712,me!==null?E=Ga(me,E):(E=ac(E,W,m,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,W=a.child.memoizedState,W===null?W=Ag(m):(J=W.cachePool,J!==null?(me=ki._currentValue,J=J.parent!==me?{parent:me,pool:me}:J):J=Vv(),W={baseLanes:W.baseLanes|m,cachePool:J}),E.memoizedState=W,E.childLanes=Tg(a,H,m),c.memoizedState=Eg,v):(Qo(c),m=a.child,a=m.sibling,m=Ga(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,a!==null&&(H=c.deletions,H===null?(c.deletions=[a],c.flags|=16):H.push(a)),c.child=m,c.memoizedState=null,m)}function Ng(a,c){return c=mp({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function mp(a,c){return a=Kr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Ig(a,c,m){return Au(c,a.child,null,m),a=Ng(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function s_(a,c,m){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),W0(a.return,c,m)}function kg(a,c,m,v,E){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:E}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=E)}function a_(a,c,m){var v=c.pendingProps,E=v.revealOrder,I=v.tail;if(Xi(a,c,v.children,m),v=Mi.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&s_(a,m,c);else if(a.tag===19)s_(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}switch(Re(Mi,v),E){case"forwards":for(m=c.child,E=null;m!==null;)a=m.alternate,a!==null&&dp(a)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),kg(c,!1,E,m,I);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(a=E.alternate,a!==null&&dp(a)===null){c.child=E;break}a=E.sibling,E.sibling=m,m=E,E=a}kg(c,!0,m,null,I);break;case"together":kg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Qa(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),rl|=c.lanes,(m&c.childLanes)===0)if(a!==null){if(jd(a,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,m=Ga(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=Ga(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function Mg(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Yh(a)))}function P5(a,c,m){switch(c.tag){case 3:gt(c,c.stateNode.containerInfo),Wo(c,ki,a.memoizedState.cache),Bd();break;case 27:case 5:dn(c);break;case 4:gt(c,c.stateNode.containerInfo);break;case 10:Wo(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Qo(c),c.flags|=128,null):(m&c.child.childLanes)!==0?r_(a,c,m):(Qo(c),a=Qa(a,c,m),a!==null?a.sibling:null);Qo(c);break;case 19:var E=(a.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(jd(a,c,m,!1),v=(m&c.childLanes)!==0),E){if(v)return a_(a,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Re(Mi,Mi.current),v)break;return null;case 22:case 23:return c.lanes=0,Jw(a,c,m);case 24:Wo(c,ki,a.memoizedState.cache)}return Qa(a,c,m)}function o_(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps)Li=!0;else{if(!Mg(a,m)&&(c.flags&128)===0)return Li=!1,P5(a,c,m);Li=(a.flags&131072)!==0}else Li=!1,un&&(c.flags&1048576)!==0&&jv(c,Xh,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")z0(v)?(a=mc(v,a),c.tag=1,c=n_(null,c,v,a,m)):(c.tag=0,c=Sg(null,c,v,a,m));else{if(v!=null){if(E=v.$$typeof,E===k){c.tag=11,c=Kw(null,c,v,a,m);break e}else if(E===z){c.tag=14,c=Zw(null,c,v,a,m);break e}}throw c=Se(v)||v,Error(i(306,c,""))}}return c;case 0:return Sg(a,c,c.type,c.pendingProps,m);case 1:return v=c.type,E=mc(v,c.pendingProps),n_(a,c,v,E,m);case 3:e:{if(gt(c,c.stateNode.containerInfo),a===null)throw Error(i(387));v=c.pendingProps;var I=c.memoizedState;E=I.element,eg(a,c),Vd(c,v,null,m);var H=c.memoizedState;if(v=H.cache,Wo(c,ki,v),v!==I.cache&&X0(c,[ki],m,!0),$d(),v=H.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:H.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=i_(a,c,v,m);break e}else if(v!==E){E=bs(Error(i(424)),c),Ld(E),c=i_(a,c,v,m);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jn=qs(a.firstChild),xr=c,un=!0,cc=null,ma=!0,m=Fw(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Bd(),v===E){c=Qa(a,c,m);break e}Xi(a,c,v,m)}c=c.child}return c;case 26:return pp(a,c),a===null?(m=dC(c.type,null,c.pendingProps,null))?c.memoizedState=m:un||(m=c.type,a=c.pendingProps,v=Ip(Ae.current).createElement(m),v[De]=c,v[Fe]=a,Ki(v,m,a),Tt(v),c.stateNode=v):c.memoizedState=dC(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return dn(c),a===null&&un&&(v=c.stateNode=lC(c.type,c.pendingProps,Ae.current),xr=c,ma=!0,E=Jn,ll(c.type)?(dx=E,Jn=qs(v.firstChild)):Jn=E),Xi(a,c,c.pendingProps.children,m),pp(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&un&&((E=v=Jn)&&(v=fI(v,c.type,c.pendingProps,ma),v!==null?(c.stateNode=v,xr=c,Jn=qs(v.firstChild),ma=!1,E=!0):E=!1),E||uc(c)),dn(c),E=c.type,I=c.pendingProps,H=a!==null?a.memoizedProps:null,v=I.children,ox(E,I)?v=null:H!==null&&ox(E,H)&&(c.flags|=32),c.memoizedState!==null&&(E=ag(a,c,k5,null,null,m),hf._currentValue=E),pp(a,c),Xi(a,c,v,m),c.child;case 6:return a===null&&un&&((a=m=Jn)&&(m=hI(m,c.pendingProps,ma),m!==null?(c.stateNode=m,xr=c,Jn=null,a=!0):a=!1),a||uc(c)),null;case 13:return r_(a,c,m);case 4:return gt(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=Au(c,null,v,m):Xi(a,c,v,m),c.child;case 11:return Kw(a,c,c.type,c.pendingProps,m);case 7:return Xi(a,c,c.pendingProps,m),c.child;case 8:return Xi(a,c,c.pendingProps.children,m),c.child;case 12:return Xi(a,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,Wo(c,c.type,v.value),Xi(a,c,v.children,m),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,fc(c),E=sr(E),v=v(E),c.flags|=1,Xi(a,c,v,m),c.child;case 14:return Zw(a,c,c.type,c.pendingProps,m);case 15:return Qw(a,c,c.type,c.pendingProps,m);case 19:return a_(a,c,m);case 31:return v=c.pendingProps,m=c.mode,v={mode:v.mode,children:v.children},a===null?(m=mp(v,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Ga(a.child,v),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return Jw(a,c,m);case 24:return fc(c),v=sr(ki),a===null?(E=Z0(),E===null&&(E=On,I=Y0(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=m),E=I),c.memoizedState={parent:v,cache:E},J0(c),Wo(c,ki,E)):((a.lanes&m)!==0&&(eg(a,c),Vd(c,null,null,m),$d()),E=a.memoizedState,I=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Wo(c,ki,v)):(v=I.cache,Wo(c,ki,v),v!==E.cache&&X0(c,[ki],m,!0))),Xi(a,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ja(a){a.flags|=4}function l_(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gC(c)){if(c=Cs.current,c!==null&&((rn&4194048)===rn?ga!==null:(rn&62914560)!==rn&&(rn&536870912)===0||c!==ga))throw Hd=Q0,Gv;a.flags|=8192}}function gp(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Yl():536870912,a.lanes|=c,ku|=c)}function Zd(a,c){if(!un)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Gn(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,v=0;if(c)for(var E=a.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)m|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=v,a.childLanes=m,c}function F5(a,c,m){var v=c.pendingProps;switch(V0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(c),null;case 1:return Gn(c),null;case 3:return m=c.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Ya(ki),ai(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Dd(c)?Ja(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,zv())),Gn(c),null;case 26:return m=c.memoizedState,a===null?(Ja(c),m!==null?(Gn(c),l_(c,m)):(Gn(c),c.flags&=-16777217)):m?m!==a.memoizedState?(Ja(c),Gn(c),l_(c,m)):(Gn(c),c.flags&=-16777217):(a.memoizedProps!==v&&Ja(c),Gn(c),c.flags&=-16777217),null;case 27:cn(c),m=Ae.current;var E=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==v&&Ja(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Gn(c),null}a=He.current,Dd(c)?Pv(c):(a=lC(E,v,m),c.stateNode=a,Ja(c))}return Gn(c),null;case 5:if(cn(c),m=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==v&&Ja(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Gn(c),null}if(a=He.current,Dd(c))Pv(c);else{switch(E=Ip(Ae.current),a){case 1:a=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:a=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":a=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":a=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":a=E.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?a.multiple=!0:v.size&&(a.size=v.size);break;default:a=typeof v.is=="string"?E.createElement(m,{is:v.is}):E.createElement(m)}}a[De]=c,a[Fe]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)a.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=a;e:switch(Ki(a,m,v),m){case"button":case"input":case"select":case"textarea":a=!!v.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ja(c)}}return Gn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==v&&Ja(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(a=Ae.current,Dd(c)){if(a=c.stateNode,m=c.memoizedProps,v=null,E=xr,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}a[De]=c,a=!!(a.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||tC(a.nodeValue,m)),a||uc(c)}else a=Ip(a).createTextNode(v),a[De]=c,c.stateNode=a}return Gn(c),null;case 13:if(v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Dd(c),v!==null&&v.dehydrated!==null){if(a===null){if(!E)throw Error(i(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[De]=c}else Bd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gn(c),E=!1}else E=zv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Za(c),c):(Za(c),null)}if(Za(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=v!==null,a=a!==null&&a.memoizedState!==null,m){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return m!==a&&m&&(c.child.flags|=8192),gp(c,c.updateQueue),Gn(c),null;case 4:return ai(),a===null&&nx(c.stateNode.containerInfo),Gn(c),null;case 10:return Ya(c.type),Gn(c),null;case 19:if(Ee(Mi),E=c.memoizedState,E===null)return Gn(c),null;if(v=(c.flags&128)!==0,I=E.rendering,I===null)if(v)Zd(E,!1);else{if(ei!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(I=dp(a),I!==null){for(c.flags|=128,Zd(E,!1),a=I.updateQueue,c.updateQueue=a,gp(c,a),c.subtreeFlags=0,a=m,m=c.child;m!==null;)Lv(m,a),m=m.sibling;return Re(Mi,Mi.current&1|2),c.child}a=a.sibling}E.tail!==null&&Ut()>bp&&(c.flags|=128,v=!0,Zd(E,!1),c.lanes=4194304)}else{if(!v)if(a=dp(I),a!==null){if(c.flags|=128,v=!0,a=a.updateQueue,c.updateQueue=a,gp(c,a),Zd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!un)return Gn(c),null}else 2*Ut()-E.renderingStartTime>bp&&m!==536870912&&(c.flags|=128,v=!0,Zd(E,!1),c.lanes=4194304);E.isBackwards?(I.sibling=c.child,c.child=I):(a=E.last,a!==null?a.sibling=I:c.child=I,E.last=I)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Ut(),c.sibling=null,a=Mi.current,Re(Mi,v?a&1|2:a&1),c):(Gn(c),null);case 22:case 23:return Za(c),rg(),v=c.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Gn(c),c.subtreeFlags&6&&(c.flags|=8192)):Gn(c),m=c.updateQueue,m!==null&&gp(c,m.retryQueue),m=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),a!==null&&Ee(hc),null;case 24:return m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ya(ki),Gn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function z5(a,c){switch(V0(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ya(ki),ai(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return cn(c),null;case 13:if(Za(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Bd()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Ee(Mi),null;case 4:return ai(),null;case 10:return Ya(c.type),null;case 22:case 23:return Za(c),rg(),a!==null&&Ee(hc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Ya(ki),null;case 25:return null;default:return null}}function c_(a,c){switch(V0(c),c.tag){case 3:Ya(ki),ai();break;case 26:case 27:case 5:cn(c);break;case 4:ai();break;case 13:Za(c);break;case 19:Ee(Mi);break;case 10:Ya(c.type);break;case 22:case 23:Za(c),rg(),a!==null&&Ee(hc);break;case 24:Ya(ki)}}function Qd(a,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var E=v.next;m=E;do{if((m.tag&a)===a){v=void 0;var I=m.create,H=m.inst;v=I(),H.destroy=v}m=m.next}while(m!==E)}}catch(W){In(c,c.return,W)}}function el(a,c,m){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&a)===a){var H=v.inst,W=H.destroy;if(W!==void 0){H.destroy=void 0,E=c;var J=m,me=W;try{me()}catch(Ne){In(E,J,Ne)}}}v=v.next}while(v!==I)}}catch(Ne){In(c,c.return,Ne)}}function u_(a){var c=a.updateQueue;if(c!==null){var m=a.stateNode;try{Zv(c,m)}catch(v){In(a,a.return,v)}}}function d_(a,c,m){m.props=mc(a.type,a.memoizedProps),m.state=a.memoizedState;try{m.componentWillUnmount()}catch(v){In(a,c,v)}}function Jd(a,c){try{var m=a.ref;if(m!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof m=="function"?a.refCleanup=m(v):m.current=v}}catch(E){In(a,c,E)}}function xa(a,c){var m=a.ref,v=a.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(E){In(a,c,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){In(a,c,E)}else m.current=null}function f_(a){var c=a.type,m=a.memoizedProps,v=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(E){In(a,a.return,E)}}function Og(a,c,m){try{var v=a.stateNode;oI(v,a.type,m,c),v[Fe]=c}catch(E){In(a,a.return,E)}}function h_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ll(a.type)||a.tag===4}function Rg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||h_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ll(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dg(a,c,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(a,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(a),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Np));else if(v!==4&&(v===27&&ll(a.type)&&(m=a.stateNode,c=null),a=a.child,a!==null))for(Dg(a,c,m),a=a.sibling;a!==null;)Dg(a,c,m),a=a.sibling}function xp(a,c,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(v!==4&&(v===27&&ll(a.type)&&(m=a.stateNode),a=a.child,a!==null))for(xp(a,c,m),a=a.sibling;a!==null;)xp(a,c,m),a=a.sibling}function p_(a){var c=a.stateNode,m=a.memoizedProps;try{for(var v=a.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);Ki(c,v,m),c[De]=a,c[Fe]=m}catch(I){In(a,a.return,I)}}var eo=!1,fi=!1,Bg=!1,m_=typeof WeakSet=="function"?WeakSet:Set,ji=null;function H5(a,c){if(a=a.containerInfo,sx=Bp,a=M(a),F(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var H=0,W=-1,J=-1,me=0,Ne=0,Be=a,ye=null;t:for(;;){for(var ve;Be!==m||E!==0&&Be.nodeType!==3||(W=H+E),Be!==I||v!==0&&Be.nodeType!==3||(J=H+v),Be.nodeType===3&&(H+=Be.nodeValue.length),(ve=Be.firstChild)!==null;)ye=Be,Be=ve;for(;;){if(Be===a)break t;if(ye===m&&++me===E&&(W=H),ye===I&&++Ne===v&&(J=H),(ve=Be.nextSibling)!==null)break;Be=ye,ye=Be.parentNode}Be=ve}m=W===-1||J===-1?null:{start:W,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(ax={focusedElem:a,selectionRange:m},Bp=!1,ji=c;ji!==null;)if(c=ji,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,ji=a;else for(;ji!==null;){switch(c=ji,I=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&I!==null){a=void 0,m=c,E=I.memoizedProps,I=I.memoizedState,v=m.stateNode;try{var bt=mc(m.type,E,m.elementType===m.type);a=v.getSnapshotBeforeUpdate(bt,I),v.__reactInternalSnapshotBeforeUpdate=a}catch(xt){In(m,m.return,xt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,m=a.nodeType,m===9)cx(a);else if(m===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,ji=a;break}ji=c.return}}function g_(a,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:tl(a,m),v&4&&Qd(5,m);break;case 1:if(tl(a,m),v&4)if(a=m.stateNode,c===null)try{a.componentDidMount()}catch(H){In(m,m.return,H)}else{var E=mc(m.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(E,c,a.__reactInternalSnapshotBeforeUpdate)}catch(H){In(m,m.return,H)}}v&64&&u_(m),v&512&&Jd(m,m.return);break;case 3:if(tl(a,m),v&64&&(a=m.updateQueue,a!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Zv(a,c)}catch(H){In(m,m.return,H)}}break;case 27:c===null&&v&4&&p_(m);case 26:case 5:tl(a,m),c===null&&v&4&&f_(m),v&512&&Jd(m,m.return);break;case 12:tl(a,m);break;case 13:tl(a,m),v&4&&b_(a,m),v&64&&(a=m.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(m=K5.bind(null,m),pI(a,m))));break;case 22:if(v=m.memoizedState!==null||eo,!v){c=c!==null&&c.memoizedState!==null||fi,E=eo;var I=fi;eo=v,(fi=c)&&!I?nl(a,m,(m.subtreeFlags&8772)!==0):tl(a,m),eo=E,fi=I}break;case 30:break;default:tl(a,m)}}function x_(a){var c=a.alternate;c!==null&&(a.alternate=null,x_(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&nt(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var zn=null,Br=!1;function to(a,c,m){for(m=m.child;m!==null;)y_(a,c,m),m=m.sibling}function y_(a,c,m){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(vt,m)}catch{}switch(m.tag){case 26:fi||xa(m,c),to(a,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:fi||xa(m,c);var v=zn,E=Br;ll(m.type)&&(zn=m.stateNode,Br=!1),to(a,c,m),cf(m.stateNode),zn=v,Br=E;break;case 5:fi||xa(m,c);case 6:if(v=zn,E=Br,zn=null,to(a,c,m),zn=v,Br=E,zn!==null)if(Br)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(m.stateNode)}catch(I){In(m,c,I)}else try{zn.removeChild(m.stateNode)}catch(I){In(m,c,I)}break;case 18:zn!==null&&(Br?(a=zn,aC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,m.stateNode),xf(a)):aC(zn,m.stateNode));break;case 4:v=zn,E=Br,zn=m.stateNode.containerInfo,Br=!0,to(a,c,m),zn=v,Br=E;break;case 0:case 11:case 14:case 15:fi||el(2,m,c),fi||el(4,m,c),to(a,c,m);break;case 1:fi||(xa(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&d_(m,c,v)),to(a,c,m);break;case 21:to(a,c,m);break;case 22:fi=(v=fi)||m.memoizedState!==null,to(a,c,m),fi=v;break;default:to(a,c,m)}}function b_(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xf(a)}catch(m){In(c,c.return,m)}}function U5(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new m_),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new m_),c;default:throw Error(i(435,a.tag))}}function Lg(a,c){var m=U5(a);c.forEach(function(v){var E=Z5.bind(null,a,v);m.has(v)||(m.add(v),v.then(E,E))})}function Zr(a,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var E=m[v],I=a,H=c,W=H;e:for(;W!==null;){switch(W.tag){case 27:if(ll(W.type)){zn=W.stateNode,Br=!1;break e}break;case 5:zn=W.stateNode,Br=!1;break e;case 3:case 4:zn=W.stateNode.containerInfo,Br=!0;break e}W=W.return}if(zn===null)throw Error(i(160));y_(I,H,E),zn=null,Br=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)v_(c,a),c=c.sibling}var Gs=null;function v_(a,c){var m=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zr(c,a),Qr(a),v&4&&(el(3,a,a.return),Qd(3,a),el(5,a,a.return));break;case 1:Zr(c,a),Qr(a),v&512&&(fi||m===null||xa(m,m.return)),v&64&&eo&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(m=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var E=Gs;if(Zr(c,a),Qr(a),v&512&&(fi||m===null||xa(m,m.return)),v&4){var I=m!==null?m.memoizedState:null;if(v=a.memoizedState,m===null)if(v===null)if(a.stateNode===null){e:{v=a.type,m=a.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[ut]||I[De]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),Ki(I,v,m),I[De]=a,Tt(I),v=I;break e;case"link":var H=pC("link","href",E).get(v+(m.href||""));if(H){for(var W=0;W<H.length;W++)if(I=H[W],I.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(W,1);break t}}I=E.createElement(v),Ki(I,v,m),E.head.appendChild(I);break;case"meta":if(H=pC("meta","content",E).get(v+(m.content||""))){for(W=0;W<H.length;W++)if(I=H[W],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(W,1);break t}}I=E.createElement(v),Ki(I,v,m),E.head.appendChild(I);break;default:throw Error(i(468,v))}I[De]=a,Tt(I),v=I}a.stateNode=v}else mC(E,a.type,a.stateNode);else a.stateNode=hC(E,v,a.memoizedProps);else I!==v?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,v===null?mC(E,a.type,a.stateNode):hC(E,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Og(a,a.memoizedProps,m.memoizedProps)}break;case 27:Zr(c,a),Qr(a),v&512&&(fi||m===null||xa(m,m.return)),m!==null&&v&4&&Og(a,a.memoizedProps,m.memoizedProps);break;case 5:if(Zr(c,a),Qr(a),v&512&&(fi||m===null||xa(m,m.return)),a.flags&32){E=a.stateNode;try{Ti(E,"")}catch(ve){In(a,a.return,ve)}}v&4&&a.stateNode!=null&&(E=a.memoizedProps,Og(a,E,m!==null?m.memoizedProps:E)),v&1024&&(Bg=!0);break;case 6:if(Zr(c,a),Qr(a),v&4){if(a.stateNode===null)throw Error(i(162));v=a.memoizedProps,m=a.stateNode;try{m.nodeValue=v}catch(ve){In(a,a.return,ve)}}break;case 3:if(Op=null,E=Gs,Gs=kp(c.containerInfo),Zr(c,a),Gs=E,Qr(a),v&4&&m!==null&&m.memoizedState.isDehydrated)try{xf(c.containerInfo)}catch(ve){In(a,a.return,ve)}Bg&&(Bg=!1,w_(a));break;case 4:v=Gs,Gs=kp(a.stateNode.containerInfo),Zr(c,a),Qr(a),Gs=v;break;case 12:Zr(c,a),Qr(a);break;case 13:Zr(c,a),Qr(a),a.child.flags&8192&&a.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Ug=Ut()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Lg(a,v)));break;case 22:E=a.memoizedState!==null;var J=m!==null&&m.memoizedState!==null,me=eo,Ne=fi;if(eo=me||E,fi=Ne||J,Zr(c,a),fi=Ne,eo=me,Qr(a),v&8192)e:for(c=a.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(m===null||J||eo||fi||gc(a)),m=null,c=a;;){if(c.tag===5||c.tag===26){if(m===null){J=m=c;try{if(I=J.stateNode,E)H=I.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{W=J.stateNode;var Be=J.memoizedProps.style,ye=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;W.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ve){In(J,J.return,ve)}}}else if(c.tag===6){if(m===null){J=c;try{J.stateNode.nodeValue=E?"":J.memoizedProps}catch(ve){In(J,J.return,ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=a.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Lg(a,m))));break;case 19:Zr(c,a),Qr(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Lg(a,v)));break;case 30:break;case 21:break;default:Zr(c,a),Qr(a)}}function Qr(a){var c=a.flags;if(c&2){try{for(var m,v=a.return;v!==null;){if(h_(v)){m=v;break}v=v.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var E=m.stateNode,I=Rg(a);xp(a,I,E);break;case 5:var H=m.stateNode;m.flags&32&&(Ti(H,""),m.flags&=-33);var W=Rg(a);xp(a,W,H);break;case 3:case 4:var J=m.stateNode.containerInfo,me=Rg(a);Dg(a,me,J);break;default:throw Error(i(161))}}catch(Ne){In(a,a.return,Ne)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function w_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;w_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function tl(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)g_(a,c.alternate,c),c=c.sibling}function gc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:el(4,c,c.return),gc(c);break;case 1:xa(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&d_(c,c.return,m),gc(c);break;case 27:cf(c.stateNode);case 26:case 5:xa(c,c.return),gc(c);break;case 22:c.memoizedState===null&&gc(c);break;case 30:gc(c);break;default:gc(c)}a=a.sibling}}function nl(a,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=a,I=c,H=I.flags;switch(I.tag){case 0:case 11:case 15:nl(E,I,m),Qd(4,I);break;case 1:if(nl(E,I,m),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(me){In(v,v.return,me)}if(v=I,E=v.updateQueue,E!==null){var W=v.stateNode;try{var J=E.shared.hiddenCallbacks;if(J!==null)for(E.shared.hiddenCallbacks=null,E=0;E<J.length;E++)Kv(J[E],W)}catch(me){In(v,v.return,me)}}m&&H&64&&u_(I),Jd(I,I.return);break;case 27:p_(I);case 26:case 5:nl(E,I,m),m&&v===null&&H&4&&f_(I),Jd(I,I.return);break;case 12:nl(E,I,m);break;case 13:nl(E,I,m),m&&H&4&&b_(E,I);break;case 22:I.memoizedState===null&&nl(E,I,m),Jd(I,I.return);break;case 30:break;default:nl(E,I,m)}c=c.sibling}}function jg(a,c){var m=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==m&&(a!=null&&a.refCount++,m!=null&&Pd(m))}function Pg(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Pd(a))}function ya(a,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)__(a,c,m,v),c=c.sibling}function __(a,c,m,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:ya(a,c,m,v),E&2048&&Qd(9,c);break;case 1:ya(a,c,m,v);break;case 3:ya(a,c,m,v),E&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Pd(a)));break;case 12:if(E&2048){ya(a,c,m,v),a=c.stateNode;try{var I=c.memoizedProps,H=I.id,W=I.onPostCommit;typeof W=="function"&&W(H,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){In(c,c.return,J)}}else ya(a,c,m,v);break;case 13:ya(a,c,m,v);break;case 23:break;case 22:I=c.stateNode,H=c.alternate,c.memoizedState!==null?I._visibility&2?ya(a,c,m,v):ef(a,c):I._visibility&2?ya(a,c,m,v):(I._visibility|=2,Tu(a,c,m,v,(c.subtreeFlags&10256)!==0)),E&2048&&jg(H,c);break;case 24:ya(a,c,m,v),E&2048&&Pg(c.alternate,c);break;default:ya(a,c,m,v)}}function Tu(a,c,m,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=a,H=c,W=m,J=v,me=H.flags;switch(H.tag){case 0:case 11:case 15:Tu(I,H,W,J,E),Qd(8,H);break;case 23:break;case 22:var Ne=H.stateNode;H.memoizedState!==null?Ne._visibility&2?Tu(I,H,W,J,E):ef(I,H):(Ne._visibility|=2,Tu(I,H,W,J,E)),E&&me&2048&&jg(H.alternate,H);break;case 24:Tu(I,H,W,J,E),E&&me&2048&&Pg(H.alternate,H);break;default:Tu(I,H,W,J,E)}c=c.sibling}}function ef(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=a,v=c,E=v.flags;switch(v.tag){case 22:ef(m,v),E&2048&&jg(v.alternate,v);break;case 24:ef(m,v),E&2048&&Pg(v.alternate,v);break;default:ef(m,v)}c=c.sibling}}var tf=8192;function Nu(a){if(a.subtreeFlags&tf)for(a=a.child;a!==null;)C_(a),a=a.sibling}function C_(a){switch(a.tag){case 26:Nu(a),a.flags&tf&&a.memoizedState!==null&&TI(Gs,a.memoizedState,a.memoizedProps);break;case 5:Nu(a);break;case 3:case 4:var c=Gs;Gs=kp(a.stateNode.containerInfo),Nu(a),Gs=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=tf,tf=16777216,Nu(a),tf=c):Nu(a));break;default:Nu(a)}}function S_(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function nf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];ji=v,A_(v,a)}S_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)E_(a),a=a.sibling}function E_(a){switch(a.tag){case 0:case 11:case 15:nf(a),a.flags&2048&&el(9,a,a.return);break;case 3:nf(a);break;case 12:nf(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,yp(a)):nf(a);break;default:nf(a)}}function yp(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];ji=v,A_(v,a)}S_(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:el(8,c,c.return),yp(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,yp(c));break;default:yp(c)}a=a.sibling}}function A_(a,c){for(;ji!==null;){var m=ji;switch(m.tag){case 0:case 11:case 15:el(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Pd(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,ji=v;else e:for(m=a;ji!==null;){v=ji;var E=v.sibling,I=v.return;if(x_(v),v===m){ji=null;break e}if(E!==null){E.return=I,ji=E;break e}ji=I}}}var $5={getCacheForType:function(a){var c=sr(ki),m=c.data.get(a);return m===void 0&&(m=a(),c.data.set(a,m)),m}},V5=typeof WeakMap=="function"?WeakMap:Map,yn=0,On=null,Xt=null,rn=0,bn=0,Jr=null,il=!1,Iu=!1,Fg=!1,no=0,ei=0,rl=0,xc=0,zg=0,Ss=0,ku=0,rf=null,Lr=null,Hg=!1,Ug=0,bp=1/0,vp=null,sl=null,Yi=0,al=null,Mu=null,Ou=0,$g=0,Vg=null,T_=null,sf=0,Gg=null;function es(){if((yn&2)!==0&&rn!==0)return rn&-rn;if(Z.T!==null){var a=bu;return a!==0?a:Qg()}return ne()}function N_(){Ss===0&&(Ss=(rn&536870912)===0||un?gs():536870912);var a=Cs.current;return a!==null&&(a.flags|=32),Ss}function ts(a,c,m){(a===On&&(bn===2||bn===9)||a.cancelPendingCommit!==null)&&(Ru(a,0),ol(a,rn,Ss,!1)),pr(a,m),((yn&2)===0||a!==On)&&(a===On&&((yn&2)===0&&(xc|=m),ei===4&&ol(a,rn,Ss,!1)),ba(a))}function I_(a,c,m){if((yn&6)!==0)throw Error(i(327));var v=!m&&(c&124)===0&&(c&a.expiredLanes)===0||qt(a,c),E=v?W5(a,c):Xg(a,c,!0),I=v;do{if(E===0){Iu&&!v&&ol(a,c,0,!1);break}else{if(m=a.current.alternate,I&&!G5(m)){E=Xg(a,c,!1),I=!1;continue}if(E===2){if(I=c,a.errorRecoveryDisabledLanes&I)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){c=H;e:{var W=a;E=rf;var J=W.current.memoizedState.isDehydrated;if(J&&(Ru(W,H).flags|=256),H=Xg(W,H,!1),H!==2){if(Fg&&!J){W.errorRecoveryDisabledLanes|=I,xc|=I,E=4;break e}I=Lr,Lr=E,I!==null&&(Lr===null?Lr=I:Lr.push.apply(Lr,I))}E=H}if(I=!1,E!==2)continue}}if(E===1){Ru(a,0),ol(a,c,0,!0);break}e:{switch(v=a,I=E,I){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ol(v,c,Ss,!il);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=Ug+300-Ut(),10<E)){if(ol(v,c,Ss,!il),jt(v,0,!0)!==0)break e;v.timeoutHandle=rC(k_.bind(null,v,m,Lr,vp,Hg,c,Ss,xc,ku,il,I,2,-0,0),E);break e}k_(v,m,Lr,vp,Hg,c,Ss,xc,ku,il,I,0,-0,0)}}break}while(!0);ba(a)}function k_(a,c,m,v,E,I,H,W,J,me,Ne,Be,ye,ve){if(a.timeoutHandle=-1,Be=c.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(ff={stylesheets:null,count:0,unsuspend:AI},C_(c),Be=NI(),Be!==null)){a.cancelPendingCommit=Be(j_.bind(null,a,c,I,m,v,E,H,W,J,Ne,1,ye,ve)),ol(a,I,H,!me);return}j_(a,c,I,m,v,E,H,W,J)}function G5(a){for(var c=a;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var E=m[v],I=E.getSnapshot;E=E.value;try{if(!g(I(),E))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ol(a,c,m,v){c&=~zg,c&=~xc,a.suspendedLanes|=c,a.pingedLanes&=~c,v&&(a.warmLanes|=c),v=a.expirationTimes;for(var E=c;0<E;){var I=31-Lt(E),H=1<<I;v[I]=-1,E&=~H}m!==0&&ia(a,m,c)}function wp(){return(yn&6)===0?(af(0),!1):!0}function qg(){if(Xt!==null){if(bn===0)var a=Xt.return;else a=Xt,Xa=dc=null,cg(a),Eu=null,Yd=0,a=Xt;for(;a!==null;)c_(a.alternate,a),a=a.return;Xt=null}}function Ru(a,c){var m=a.timeoutHandle;m!==-1&&(a.timeoutHandle=-1,cI(m)),m=a.cancelPendingCommit,m!==null&&(a.cancelPendingCommit=null,m()),qg(),On=a,Xt=m=Ga(a.current,null),rn=c,bn=0,Jr=null,il=!1,Iu=qt(a,c),Fg=!1,ku=Ss=zg=xc=rl=ei=0,Lr=rf=null,Hg=!1,(c&8)!==0&&(c|=c&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=c;0<v;){var E=31-Lt(v),I=1<<E;c|=a[E],v&=~I}return no=c,$h(),m}function M_(a,c){zt=null,Z.H=lp,c===zd||c===Qh?(c=Xv(),bn=3):c===Gv?(c=Xv(),bn=4):bn=c===Yw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Jr=c,Xt===null&&(ei=1,hp(a,bs(c,a.current)))}function O_(){var a=Z.H;return Z.H=lp,a===null?lp:a}function R_(){var a=Z.A;return Z.A=$5,a}function Wg(){ei=4,il||(rn&4194048)!==rn&&Cs.current!==null||(Iu=!0),(rl&134217727)===0&&(xc&134217727)===0||On===null||ol(On,rn,Ss,!1)}function Xg(a,c,m){var v=yn;yn|=2;var E=O_(),I=R_();(On!==a||rn!==c)&&(vp=null,Ru(a,c)),c=!1;var H=ei;e:do try{if(bn!==0&&Xt!==null){var W=Xt,J=Jr;switch(bn){case 8:qg(),H=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(c=!0);var me=bn;if(bn=0,Jr=null,Du(a,W,J,me),m&&Iu){H=0;break e}break;default:me=bn,bn=0,Jr=null,Du(a,W,J,me)}}q5(),H=ei;break}catch(Ne){M_(a,Ne)}while(!0);return c&&a.shellSuspendCounter++,Xa=dc=null,yn=v,Z.H=E,Z.A=I,Xt===null&&(On=null,rn=0,$h()),H}function q5(){for(;Xt!==null;)D_(Xt)}function W5(a,c){var m=yn;yn|=2;var v=O_(),E=R_();On!==a||rn!==c?(vp=null,bp=Ut()+500,Ru(a,c)):Iu=qt(a,c);e:do try{if(bn!==0&&Xt!==null){c=Xt;var I=Jr;t:switch(bn){case 1:bn=0,Jr=null,Du(a,c,I,1);break;case 2:case 9:if(qv(I)){bn=0,Jr=null,B_(c);break}c=function(){bn!==2&&bn!==9||On!==a||(bn=7),ba(a)},I.then(c,c);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:qv(I)?(bn=0,Jr=null,B_(c)):(bn=0,Jr=null,Du(a,c,I,7));break;case 5:var H=null;switch(Xt.tag){case 26:H=Xt.memoizedState;case 5:case 27:var W=Xt;if(!H||gC(H)){bn=0,Jr=null;var J=W.sibling;if(J!==null)Xt=J;else{var me=W.return;me!==null?(Xt=me,_p(me)):Xt=null}break t}}bn=0,Jr=null,Du(a,c,I,5);break;case 6:bn=0,Jr=null,Du(a,c,I,6);break;case 8:qg(),ei=6;break e;default:throw Error(i(462))}}X5();break}catch(Ne){M_(a,Ne)}while(!0);return Xa=dc=null,Z.H=v,Z.A=E,yn=m,Xt!==null?0:(On=null,rn=0,$h(),ei)}function X5(){for(;Xt!==null&&!Gi();)D_(Xt)}function D_(a){var c=o_(a.alternate,a,no);a.memoizedProps=a.pendingProps,c===null?_p(a):Xt=c}function B_(a){var c=a,m=c.alternate;switch(c.tag){case 15:case 0:c=t_(m,c,c.pendingProps,c.type,void 0,rn);break;case 11:c=t_(m,c,c.pendingProps,c.type.render,c.ref,rn);break;case 5:cg(c);default:c_(m,c),c=Xt=Lv(c,no),c=o_(m,c,no)}a.memoizedProps=a.pendingProps,c===null?_p(a):Xt=c}function Du(a,c,m,v){Xa=dc=null,cg(c),Eu=null,Yd=0;var E=c.return;try{if(j5(a,E,c,m,rn)){ei=1,hp(a,bs(m,a.current)),Xt=null;return}}catch(I){if(E!==null)throw Xt=E,I;ei=1,hp(a,bs(m,a.current)),Xt=null;return}c.flags&32768?(un||v===1?a=!0:Iu||(rn&536870912)!==0?a=!1:(il=a=!0,(v===2||v===9||v===3||v===6)&&(v=Cs.current,v!==null&&v.tag===13&&(v.flags|=16384))),L_(c,a)):_p(c)}function _p(a){var c=a;do{if((c.flags&32768)!==0){L_(c,il);return}a=c.return;var m=F5(c.alternate,c,no);if(m!==null){Xt=m;return}if(c=c.sibling,c!==null){Xt=c;return}Xt=c=a}while(c!==null);ei===0&&(ei=5)}function L_(a,c){do{var m=z5(a.alternate,a);if(m!==null){m.flags&=32767,Xt=m;return}if(m=a.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(a=a.sibling,a!==null)){Xt=a;return}Xt=a=m}while(a!==null);ei=6,Xt=null}function j_(a,c,m,v,E,I,H,W,J){a.cancelPendingCommit=null;do Cp();while(Yi!==0);if((yn&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(I=c.lanes|c.childLanes,I|=P0,Kl(a,m,I,H,W,J),a===On&&(Xt=On=null,rn=0),Mu=c,al=a,Ou=m,$g=I,Vg=E,T_=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q5(We,function(){return U_(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=Z.T,Z.T=null,E=le.p,le.p=2,H=yn,yn|=4;try{H5(a,c,m)}finally{yn=H,le.p=E,Z.T=v}}Yi=1,P_(),F_(),z_()}}function P_(){if(Yi===1){Yi=0;var a=al,c=Mu,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Z.T,Z.T=null;var v=le.p;le.p=2;var E=yn;yn|=4;try{v_(c,a);var I=ax,H=M(a.containerInfo),W=I.focusedElem,J=I.selectionRange;if(H!==W&&W&&W.ownerDocument&&N(W.ownerDocument.documentElement,W)){if(J!==null&&F(W)){var me=J.start,Ne=J.end;if(Ne===void 0&&(Ne=me),"selectionStart"in W)W.selectionStart=me,W.selectionEnd=Math.min(Ne,W.value.length);else{var Be=W.ownerDocument||document,ye=Be&&Be.defaultView||window;if(ye.getSelection){var ve=ye.getSelection(),bt=W.textContent.length,xt=Math.min(J.start,bt),An=J.end===void 0?xt:Math.min(J.end,bt);!ve.extend&&xt>An&&(H=An,An=xt,xt=H);var oe=C(W,xt),se=C(W,An);if(oe&&se&&(ve.rangeCount!==1||ve.anchorNode!==oe.node||ve.anchorOffset!==oe.offset||ve.focusNode!==se.node||ve.focusOffset!==se.offset)){var pe=Be.createRange();pe.setStart(oe.node,oe.offset),ve.removeAllRanges(),xt>An?(ve.addRange(pe),ve.extend(se.node,se.offset)):(pe.setEnd(se.node,se.offset),ve.addRange(pe))}}}}for(Be=[],ve=W;ve=ve.parentNode;)ve.nodeType===1&&Be.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Be.length;W++){var Oe=Be[W];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Bp=!!sx,ax=sx=null}finally{yn=E,le.p=v,Z.T=m}}a.current=c,Yi=2}}function F_(){if(Yi===2){Yi=0;var a=al,c=Mu,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Z.T,Z.T=null;var v=le.p;le.p=2;var E=yn;yn|=4;try{g_(a,c.alternate,c)}finally{yn=E,le.p=v,Z.T=m}}Yi=3}}function z_(){if(Yi===4||Yi===3){Yi=0,ms();var a=al,c=Mu,m=Ou,v=T_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Yi=5:(Yi=0,Mu=al=null,H_(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(sl=null),Zn(m),c=c.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(vt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=Z.T,E=le.p,le.p=2,Z.T=null;try{for(var I=a.onRecoverableError,H=0;H<v.length;H++){var W=v[H];I(W.value,{componentStack:W.stack})}}finally{Z.T=c,le.p=E}}(Ou&3)!==0&&Cp(),ba(a),E=a.pendingLanes,(m&4194090)!==0&&(E&42)!==0?a===Gg?sf++:(sf=0,Gg=a):sf=0,af(0)}}function H_(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Pd(c)))}function Cp(a){return P_(),F_(),z_(),U_()}function U_(){if(Yi!==5)return!1;var a=al,c=$g;$g=0;var m=Zn(Ou),v=Z.T,E=le.p;try{le.p=32>m?32:m,Z.T=null,m=Vg,Vg=null;var I=al,H=Ou;if(Yi=0,Mu=al=null,Ou=0,(yn&6)!==0)throw Error(i(331));var W=yn;if(yn|=4,E_(I.current),__(I,I.current,H,m),yn=W,af(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(vt,I)}catch{}return!0}finally{le.p=E,Z.T=v,H_(a,c)}}function $_(a,c,m){c=bs(m,c),c=Cg(a.stateNode,c,2),a=Ko(a,c,2),a!==null&&(pr(a,2),ba(a))}function In(a,c,m){if(a.tag===3)$_(a,a,m);else for(;c!==null;){if(c.tag===3){$_(c,a,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(sl===null||!sl.has(v))){a=bs(m,a),m=Ww(2),v=Ko(c,m,2),v!==null&&(Xw(m,v,c,a),pr(v,2),ba(v));break}}c=c.return}}function Yg(a,c,m){var v=a.pingCache;if(v===null){v=a.pingCache=new V5;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(m)||(Fg=!0,E.add(m),a=Y5.bind(null,a,c,m),c.then(a,a))}function Y5(a,c,m){var v=a.pingCache;v!==null&&v.delete(c),a.pingedLanes|=a.suspendedLanes&m,a.warmLanes&=~m,On===a&&(rn&m)===m&&(ei===4||ei===3&&(rn&62914560)===rn&&300>Ut()-Ug?(yn&2)===0&&Ru(a,0):zg|=m,ku===rn&&(ku=0)),ba(a)}function V_(a,c){c===0&&(c=Yl()),a=mu(a,c),a!==null&&(pr(a,c),ba(a))}function K5(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),V_(a,m)}function Z5(a,c){var m=0;switch(a.tag){case 13:var v=a.stateNode,E=a.memoizedState;E!==null&&(m=E.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),V_(a,m)}function Q5(a,c){return Ot(a,c)}var Sp=null,Bu=null,Kg=!1,Ep=!1,Zg=!1,yc=0;function ba(a){a!==Bu&&a.next===null&&(Bu===null?Sp=Bu=a:Bu=Bu.next=a),Ep=!0,Kg||(Kg=!0,eI())}function af(a,c){if(!Zg&&Ep){Zg=!0;do for(var m=!1,v=Sp;v!==null;){if(a!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var H=v.suspendedLanes,W=v.pingedLanes;I=(1<<31-Lt(42|a)+1)-1,I&=E&~(H&~W),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(m=!0,X_(v,I))}else I=rn,I=jt(v,v===On?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||qt(v,I)||(m=!0,X_(v,I));v=v.next}while(m);Zg=!1}}function J5(){G_()}function G_(){Ep=Kg=!1;var a=0;yc!==0&&(lI()&&(a=yc),yc=0);for(var c=Ut(),m=null,v=Sp;v!==null;){var E=v.next,I=q_(v,c);I===0?(v.next=null,m===null?Sp=E:m.next=E,E===null&&(Bu=m)):(m=v,(a!==0||(I&3)!==0)&&(Ep=!0)),v=E}af(a)}function q_(a,c){for(var m=a.suspendedLanes,v=a.pingedLanes,E=a.expirationTimes,I=a.pendingLanes&-62914561;0<I;){var H=31-Lt(I),W=1<<H,J=E[H];J===-1?((W&m)===0||(W&v)!==0)&&(E[H]=Mr(W,c)):J<=c&&(a.expiredLanes|=W),I&=~W}if(c=On,m=rn,m=jt(a,a===c?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,m===0||a===c&&(bn===2||bn===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&oi(v),a.callbackNode=null,a.callbackPriority=0;if((m&3)===0||qt(a,m)){if(c=m&-m,c===a.callbackPriority)return c;switch(v!==null&&oi(v),Zn(m)){case 2:case 8:m=kr;break;case 32:m=We;break;case 268435456:m=Gr;break;default:m=We}return v=W_.bind(null,a),m=Ot(m,v),a.callbackPriority=c,a.callbackNode=m,c}return v!==null&&v!==null&&oi(v),a.callbackPriority=2,a.callbackNode=null,2}function W_(a,c){if(Yi!==0&&Yi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var m=a.callbackNode;if(Cp()&&a.callbackNode!==m)return null;var v=rn;return v=jt(a,a===On?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(I_(a,v,c),q_(a,Ut()),a.callbackNode!=null&&a.callbackNode===m?W_.bind(null,a):null)}function X_(a,c){if(Cp())return null;I_(a,c,!0)}function eI(){uI(function(){(yn&6)!==0?Ot(At,J5):G_()})}function Qg(){return yc===0&&(yc=gs()),yc}function Y_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:au(""+a)}function K_(a,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,a.id&&m.setAttribute("form",a.id),c.parentNode.insertBefore(m,c),a=new FormData(a),m.parentNode.removeChild(m),a}function tI(a,c,m,v,E){if(c==="submit"&&m&&m.stateNode===E){var I=Y_((E[Fe]||null).action),H=v.submitter;H&&(c=(c=H[Fe]||null)?Y_(c.formAction):H.getAttribute("formAction"),c!==null&&(I=c,H=null));var W=new da("action","action",null,v,E);a.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(yc!==0){var J=H?K_(E,H):new FormData(E);yg(m,{pending:!0,data:J,method:E.method,action:I},null,J)}}else typeof I=="function"&&(W.preventDefault(),J=H?K_(E,H):new FormData(E),yg(m,{pending:!0,data:J,method:E.method,action:I},I,J))},currentTarget:E}]})}}for(var Jg=0;Jg<pa.length;Jg++){var ex=pa[Jg],nI=ex.toLowerCase(),iI=ex[0].toUpperCase()+ex.slice(1);Yr(nI,"on"+iI)}Yr(Ct,"onAnimationEnd"),Yr(Wi,"onAnimationIteration"),Yr(Rr,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(ir,"onTransitionRun"),Yr(xn,"onTransitionStart"),Yr(Ii,"onTransitionCancel"),Yr(rr,"onTransitionEnd"),Cn("onMouseEnter",["mouseout","mouseover"]),Cn("onMouseLeave",["mouseout","mouseover"]),Cn("onPointerEnter",["pointerout","pointerover"]),Cn("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function Z_(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var v=a[m],E=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var H=v.length-1;0<=H;H--){var W=v[H],J=W.instance,me=W.currentTarget;if(W=W.listener,J!==I&&E.isPropagationStopped())break e;I=W,E.currentTarget=me;try{I(E)}catch(Ne){fp(Ne)}E.currentTarget=null,I=J}else for(H=0;H<v.length;H++){if(W=v[H],J=W.instance,me=W.currentTarget,W=W.listener,J!==I&&E.isPropagationStopped())break e;I=W,E.currentTarget=me;try{I(E)}catch(Ne){fp(Ne)}E.currentTarget=null,I=J}}}}function Yt(a,c){var m=c[Qe];m===void 0&&(m=c[Qe]=new Set);var v=a+"__bubble";m.has(v)||(Q_(c,a,2,!1),m.add(v))}function tx(a,c,m){var v=0;c&&(v|=4),Q_(m,a,v,c)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function nx(a){if(!a[Ap]){a[Ap]=!0,Wt.forEach(function(m){m!=="selectionchange"&&(rI.has(m)||tx(m,!1,a),tx(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ap]||(c[Ap]=!0,tx("selectionchange",!1,c))}}function Q_(a,c,m,v){switch(_C(c)){case 2:var E=MI;break;case 8:E=OI;break;default:E=gx}m=E.bind(null,c,m,a),E=void 0,!St||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?a.addEventListener(c,m,{capture:!0,passive:E}):a.addEventListener(c,m,!0):E!==void 0?a.addEventListener(c,m,{passive:E}):a.addEventListener(c,m,!1)}function ix(a,c,m,v,E){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var W=v.stateNode.containerInfo;if(W===E)break;if(H===4)for(H=v.return;H!==null;){var J=H.tag;if((J===3||J===4)&&H.stateNode.containerInfo===E)return;H=H.return}for(;W!==null;){if(H=tt(W),H===null)return;if(J=H.tag,J===5||J===6||J===26||J===27){v=I=H;continue e}W=W.parentNode}}v=v.return}Us(function(){var me=I,Ne=Lo(m),Be=[];e:{var ye=Va.get(a);if(ye!==void 0){var ve=da,bt=a;switch(a){case"keypress":if(ou(m)===0)break e;case"keydown":case"keyup":ve=Nd;break;case"focusin":bt="focus",ve=zo;break;case"focusout":bt="blur",ve=zo;break;case"beforeblur":case"afterblur":ve=zo;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=gn;break;case Ct:case Wi:case Rr:ve=k0;break;case rr:ve=D0;break;case"scroll":case"scrollend":ve=tr;break;case"wheel":ve=Ua;break;case"copy":case"cut":case"paste":ve=kt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=nc;break;case"toggle":case"beforetoggle":ve=B0}var xt=(c&4)!==0,An=!xt&&(a==="scroll"||a==="scrollend"),oe=xt?ye!==null?ye+"Capture":null:ye;xt=[];for(var se=me,pe;se!==null;){var Oe=se;if(pe=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||pe===null||oe===null||(Oe=dt(se,oe),Oe!=null&&xt.push(lf(se,Oe,pe))),An)break;se=se.return}0<xt.length&&(ye=new ve(ye,bt,null,m,Ne),Be.push({event:ye,listeners:xt}))}}if((c&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",ye&&m!==Zl&&(bt=m.relatedTarget||m.fromElement)&&(tt(bt)||bt[Ze]))break e;if((ve||ye)&&(ye=Ne.window===Ne?Ne:(ye=Ne.ownerDocument)?ye.defaultView||ye.parentWindow:window,ve?(bt=m.relatedTarget||m.toElement,ve=me,bt=bt?tt(bt):null,bt!==null&&(An=s(bt),xt=bt.tag,bt!==An||xt!==5&&xt!==27&&xt!==6)&&(bt=null)):(ve=null,bt=me),ve!==bt)){if(xt=jh,Oe="onMouseLeave",oe="onMouseEnter",se="mouse",(a==="pointerout"||a==="pointerover")&&(xt=nc,Oe="onPointerLeave",oe="onPointerEnter",se="pointer"),An=ve==null?ye:fn(ve),pe=bt==null?ye:fn(bt),ye=new xt(Oe,se+"leave",ve,m,Ne),ye.target=An,ye.relatedTarget=pe,Oe=null,tt(Ne)===me&&(xt=new xt(oe,se+"enter",bt,m,Ne),xt.target=pe,xt.relatedTarget=An,Oe=xt),An=Oe,ve&&bt)t:{for(xt=ve,oe=bt,se=0,pe=xt;pe;pe=Lu(pe))se++;for(pe=0,Oe=oe;Oe;Oe=Lu(Oe))pe++;for(;0<se-pe;)xt=Lu(xt),se--;for(;0<pe-se;)oe=Lu(oe),pe--;for(;se--;){if(xt===oe||oe!==null&&xt===oe.alternate)break t;xt=Lu(xt),oe=Lu(oe)}xt=null}else xt=null;ve!==null&&J_(Be,ye,ve,xt,!1),bt!==null&&An!==null&&J_(Be,An,bt,xt,!0)}}e:{if(ye=me?fn(me):window,ve=ye.nodeName&&ye.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ye.type==="file")var Je=Hh;else if(sc(ye))if(Od)Je=u;else{Je=U;var Vt=hu}else ve=ye.nodeName,!ve||ve.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?me&&lt(me.elementType)&&(Je=Hh):Je=o;if(Je&&(Je=Je(a,me))){gr(Be,Je,m,Ne);break e}Vt&&Vt(a,ye,me),a==="focusout"&&me&&ye.type==="number"&&me.memoizedProps.value!=null&&he(ye,"number",ye.value)}switch(Vt=me?fn(me):window,a){case"focusin":(sc(Vt)||Vt.contentEditable==="true")&&(q=Vt,K=me,ee=null);break;case"focusout":ee=K=q=null;break;case"mousedown":re=!0;break;case"contextmenu":case"mouseup":case"dragend":re=!1,de(Be,m,Ne);break;case"selectionchange":if($)break;case"keydown":case"keyup":de(Be,m,Ne)}var ct;if(ic)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else $o?$a(a,m)&&(yt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(yt="onCompositionStart");yt&&(kd&&m.locale!=="ko"&&($o||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&$o&&(ct=la()):(oa=Ne,Ql="value"in oa?oa.value:oa.textContent,$o=!0)),Vt=Tp(me,yt),0<Vt.length&&(yt=new ec(yt,a,null,m,Ne),Be.push({event:yt,listeners:Vt}),ct?yt.data=ct:(ct=du(m),ct!==null&&(yt.data=ct)))),(ct=Id?rc(a,m):L0(a,m))&&(yt=Tp(me,"onBeforeInput"),0<yt.length&&(Vt=new ec("onBeforeInput","beforeinput",null,m,Ne),Be.push({event:Vt,listeners:yt}),Vt.data=ct)),tI(Be,a,me,m,Ne)}Z_(Be,c)})}function lf(a,c,m){return{instance:a,listener:c,currentTarget:m}}function Tp(a,c){for(var m=c+"Capture",v=[];a!==null;){var E=a,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=dt(a,m),E!=null&&v.unshift(lf(a,E,I)),E=dt(a,c),E!=null&&v.push(lf(a,E,I))),a.tag===3)return v;a=a.return}return[]}function Lu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function J_(a,c,m,v,E){for(var I=c._reactName,H=[];m!==null&&m!==v;){var W=m,J=W.alternate,me=W.stateNode;if(W=W.tag,J!==null&&J===v)break;W!==5&&W!==26&&W!==27||me===null||(J=me,E?(me=dt(m,I),me!=null&&H.unshift(lf(m,me,J))):E||(me=dt(m,I),me!=null&&H.push(lf(m,me,J)))),m=m.return}H.length!==0&&a.push({event:c,listeners:H})}var sI=/\r\n?/g,aI=/\u0000|\uFFFD/g;function eC(a){return(typeof a=="string"?a:""+a).replace(sI,`
`).replace(aI,"")}function tC(a,c){return c=eC(c),eC(a)===c}function Np(){}function En(a,c,m,v,E,I){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ti(a,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ti(a,""+v);break;case"className":Hs(a,"class",v);break;case"tabIndex":Hs(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(a,m,v);break;case"style":mr(a,v,I);break;case"data":if(c!=="object"){Hs(a,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){a.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(m);break}v=au(""+v),a.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(c!=="input"&&En(a,c,"name",E.name,E,null),En(a,c,"formEncType",E.formEncType,E,null),En(a,c,"formMethod",E.formMethod,E,null),En(a,c,"formTarget",E.formTarget,E,null)):(En(a,c,"encType",E.encType,E,null),En(a,c,"method",E.method,E,null),En(a,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(m);break}v=au(""+v),a.setAttribute(m,v);break;case"onClick":v!=null&&(a.onclick=Np);break;case"onScroll":v!=null&&Yt("scroll",a);break;case"onScrollEnd":v!=null&&Yt("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}m=au(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,""+v):a.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,""):a.removeAttribute(m);break;case"capture":case"download":v===!0?a.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,v):a.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(m,v):a.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(m):a.setAttribute(m,v);break;case"popover":Yt("beforetoggle",a),Yt("toggle",a),ke(a,"popover",v);break;case"xlinkActuate":it(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":it(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":it(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":it(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":it(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":it(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":it(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":it(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":it(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ke(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Dn.get(m)||m,ke(a,m,v))}}function rx(a,c,m,v,E,I){switch(m){case"style":mr(a,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"children":typeof v=="string"?Ti(a,v):(typeof v=="number"||typeof v=="bigint")&&Ti(a,""+v);break;case"onScroll":v!=null&&Yt("scroll",a);break;case"onScrollEnd":v!=null&&Yt("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Np);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),c=m.slice(2,E?m.length-7:void 0),I=a[Fe]||null,I=I!=null?I[m]:null,typeof I=="function"&&a.removeEventListener(c,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(m in a?a[m]=null:a.hasAttribute(m)&&a.removeAttribute(m)),a.addEventListener(c,v,E);break e}m in a?a[m]=v:v===!0?a.setAttribute(m,""):ke(a,m,v)}}}function Ki(a,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",a),Yt("load",a);var v=!1,E=!1,I;for(I in m)if(m.hasOwnProperty(I)){var H=m[I];if(H!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:En(a,c,I,H,m,null)}}E&&En(a,c,"srcSet",m.srcSet,m,null),v&&En(a,c,"src",m.src,m,null);return;case"input":Yt("invalid",a);var W=I=H=E=null,J=null,me=null;for(v in m)if(m.hasOwnProperty(v)){var Ne=m[v];if(Ne!=null)switch(v){case"name":E=Ne;break;case"type":H=Ne;break;case"checked":J=Ne;break;case"defaultChecked":me=Ne;break;case"value":I=Ne;break;case"defaultValue":W=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(i(137,c));break;default:En(a,c,v,Ne,m,null)}}Ai(a,I,W,J,me,H,E,!1),ru(a);return;case"select":Yt("invalid",a),v=H=I=null;for(E in m)if(m.hasOwnProperty(E)&&(W=m[E],W!=null))switch(E){case"value":I=W;break;case"defaultValue":H=W;break;case"multiple":v=W;default:En(a,c,E,W,m,null)}c=I,m=H,a.multiple=!!v,c!=null?Y(a,!!v,c,!1):m!=null&&Y(a,!!v,m,!0);return;case"textarea":Yt("invalid",a),I=E=v=null;for(H in m)if(m.hasOwnProperty(H)&&(W=m[H],W!=null))switch(H){case"value":v=W;break;case"defaultValue":E=W;break;case"children":I=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:En(a,c,H,W,m,null)}li(a,v,E,I),ru(a);return;case"option":for(J in m)if(m.hasOwnProperty(J)&&(v=m[J],v!=null))switch(J){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:En(a,c,J,v,m,null)}return;case"dialog":Yt("beforetoggle",a),Yt("toggle",a),Yt("cancel",a),Yt("close",a);break;case"iframe":case"object":Yt("load",a);break;case"video":case"audio":for(v=0;v<of.length;v++)Yt(of[v],a);break;case"image":Yt("error",a),Yt("load",a);break;case"details":Yt("toggle",a);break;case"embed":case"source":case"link":Yt("error",a),Yt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(v=m[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:En(a,c,me,v,m,null)}return;default:if(lt(c)){for(Ne in m)m.hasOwnProperty(Ne)&&(v=m[Ne],v!==void 0&&rx(a,c,Ne,v,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(v=m[W],v!=null&&En(a,c,W,v,m,null))}function oI(a,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,H=null,W=null,J=null,me=null,Ne=null;for(ve in m){var Be=m[ve];if(m.hasOwnProperty(ve)&&Be!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=Be;default:v.hasOwnProperty(ve)||En(a,c,ve,null,v,Be)}}for(var ye in v){var ve=v[ye];if(Be=m[ye],v.hasOwnProperty(ye)&&(ve!=null||Be!=null))switch(ye){case"type":I=ve;break;case"name":E=ve;break;case"checked":me=ve;break;case"defaultChecked":Ne=ve;break;case"value":H=ve;break;case"defaultValue":W=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,c));break;default:ve!==Be&&En(a,c,ye,ve,v,Be)}}hn(a,H,W,J,me,Ne,I,E);return;case"select":ve=H=W=ye=null;for(I in m)if(J=m[I],m.hasOwnProperty(I)&&J!=null)switch(I){case"value":break;case"multiple":ve=J;default:v.hasOwnProperty(I)||En(a,c,I,null,v,J)}for(E in v)if(I=v[E],J=m[E],v.hasOwnProperty(E)&&(I!=null||J!=null))switch(E){case"value":ye=I;break;case"defaultValue":W=I;break;case"multiple":H=I;default:I!==J&&En(a,c,E,I,v,J)}c=W,m=H,v=ve,ye!=null?Y(a,!!m,ye,!1):!!v!=!!m&&(c!=null?Y(a,!!m,c,!0):Y(a,!!m,m?[]:"",!1));return;case"textarea":ve=ye=null;for(W in m)if(E=m[W],m.hasOwnProperty(W)&&E!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:En(a,c,W,null,v,E)}for(H in v)if(E=v[H],I=m[H],v.hasOwnProperty(H)&&(E!=null||I!=null))switch(H){case"value":ye=E;break;case"defaultValue":ve=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==I&&En(a,c,H,E,v,I)}st(a,ye,ve);return;case"option":for(var bt in m)if(ye=m[bt],m.hasOwnProperty(bt)&&ye!=null&&!v.hasOwnProperty(bt))switch(bt){case"selected":a.selected=!1;break;default:En(a,c,bt,null,v,ye)}for(J in v)if(ye=v[J],ve=m[J],v.hasOwnProperty(J)&&ye!==ve&&(ye!=null||ve!=null))switch(J){case"selected":a.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:En(a,c,J,ye,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in m)ye=m[xt],m.hasOwnProperty(xt)&&ye!=null&&!v.hasOwnProperty(xt)&&En(a,c,xt,null,v,ye);for(me in v)if(ye=v[me],ve=m[me],v.hasOwnProperty(me)&&ye!==ve&&(ye!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,c));break;default:En(a,c,me,ye,v,ve)}return;default:if(lt(c)){for(var An in m)ye=m[An],m.hasOwnProperty(An)&&ye!==void 0&&!v.hasOwnProperty(An)&&rx(a,c,An,void 0,v,ye);for(Ne in v)ye=v[Ne],ve=m[Ne],!v.hasOwnProperty(Ne)||ye===ve||ye===void 0&&ve===void 0||rx(a,c,Ne,ye,v,ve);return}}for(var oe in m)ye=m[oe],m.hasOwnProperty(oe)&&ye!=null&&!v.hasOwnProperty(oe)&&En(a,c,oe,null,v,ye);for(Be in v)ye=v[Be],ve=m[Be],!v.hasOwnProperty(Be)||ye===ve||ye==null&&ve==null||En(a,c,Be,ye,v,ve)}var sx=null,ax=null;function Ip(a){return a.nodeType===9?a:a.ownerDocument}function nC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iC(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function ox(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var lx=null;function lI(){var a=window.event;return a&&a.type==="popstate"?a===lx?!1:(lx=a,!0):(lx=null,!1)}var rC=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,sC=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof sC<"u"?function(a){return sC.resolve(null).then(a).catch(dI)}:rC;function dI(a){setTimeout(function(){throw a})}function ll(a){return a==="head"}function aC(a,c){var m=c,v=0,E=0;do{var I=m.nextSibling;if(a.removeChild(m),I&&I.nodeType===8)if(m=I.data,m==="/$"){if(0<v&&8>v){m=v;var H=a.ownerDocument;if(m&1&&cf(H.documentElement),m&2&&cf(H.body),m&4)for(m=H.head,cf(m),H=m.firstChild;H;){var W=H.nextSibling,J=H.nodeName;H[ut]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=W}}if(E===0){a.removeChild(I),xf(c);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:v=m.charCodeAt(0)-48;else v=0;m=I}while(m);xf(c)}function cx(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":cx(m),nt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}a.removeChild(m)}}function fI(a,c,m,v){for(;a.nodeType===1;){var E=m;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[ut])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(I=a.getAttribute("rel"),I==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(I!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(I=a.getAttribute("src"),(I!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===I)return a}else return a;if(a=qs(a.nextSibling),a===null)break}return null}function hI(a,c,m){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!m||(a=qs(a.nextSibling),a===null))return null;return a}function ux(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function pI(a,c){var m=a.ownerDocument;if(a.data!=="$?"||m.readyState==="complete")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function qs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var dx=null;function oC(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}function lC(a,c,m){switch(c=Ip(m),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function cf(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);nt(a)}var Es=new Map,cC=new Set;function kp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var io=le.d;le.d={f:mI,r:gI,D:xI,C:yI,L:bI,m:vI,X:_I,S:wI,M:CI};function mI(){var a=io.f(),c=wp();return a||c}function gI(a){var c=Rt(a);c!==null&&c.tag===5&&c.type==="form"?Iw(c):io.r(a)}var ju=typeof document>"u"?null:document;function uC(a,c,m){var v=ju;if(v&&typeof c=="string"&&c){var E=Ei(c);E='link[rel="'+a+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),cC.has(E)||(cC.add(E),a={rel:a,crossOrigin:m,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),Ki(c,"link",a),Tt(c),v.head.appendChild(c)))}}function xI(a){io.D(a),uC("dns-prefetch",a,null)}function yI(a,c){io.C(a,c),uC("preconnect",a,c)}function bI(a,c,m){io.L(a,c,m);var v=ju;if(v&&a&&c){var E='link[rel="preload"][as="'+Ei(c)+'"]';c==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Ei(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Ei(m.imageSizes)+'"]')):E+='[href="'+Ei(a)+'"]';var I=E;switch(c){case"style":I=Pu(a);break;case"script":I=Fu(a)}Es.has(I)||(a=y({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:a,as:c},m),Es.set(I,a),v.querySelector(E)!==null||c==="style"&&v.querySelector(uf(I))||c==="script"&&v.querySelector(df(I))||(c=v.createElement("link"),Ki(c,"link",a),Tt(c),v.head.appendChild(c)))}}function vI(a,c){io.m(a,c);var m=ju;if(m&&a){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Ei(v)+'"][href="'+Ei(a)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Fu(a)}if(!Es.has(I)&&(a=y({rel:"modulepreload",href:a},c),Es.set(I,a),m.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(df(I)))return}v=m.createElement("link"),Ki(v,"link",a),Tt(v),m.head.appendChild(v)}}}function wI(a,c,m){io.S(a,c,m);var v=ju;if(v&&a){var E=_n(v).hoistableStyles,I=Pu(a);c=c||"default";var H=E.get(I);if(!H){var W={loading:0,preload:null};if(H=v.querySelector(uf(I)))W.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":c},m),(m=Es.get(I))&&fx(a,m);var J=H=v.createElement("link");Tt(J),Ki(J,"link",a),J._p=new Promise(function(me,Ne){J.onload=me,J.onerror=Ne}),J.addEventListener("load",function(){W.loading|=1}),J.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Mp(H,c,v)}H={type:"stylesheet",instance:H,count:1,state:W},E.set(I,H)}}}function _I(a,c){io.X(a,c);var m=ju;if(m&&a){var v=_n(m).hoistableScripts,E=Fu(a),I=v.get(E);I||(I=m.querySelector(df(E)),I||(a=y({src:a,async:!0},c),(c=Es.get(E))&&hx(a,c),I=m.createElement("script"),Tt(I),Ki(I,"link",a),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function CI(a,c){io.M(a,c);var m=ju;if(m&&a){var v=_n(m).hoistableScripts,E=Fu(a),I=v.get(E);I||(I=m.querySelector(df(E)),I||(a=y({src:a,async:!0,type:"module"},c),(c=Es.get(E))&&hx(a,c),I=m.createElement("script"),Tt(I),Ki(I,"link",a),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function dC(a,c,m,v){var E=(E=Ae.current)?kp(E):null;if(!E)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Pu(m.href),m=_n(E).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){a=Pu(m.href);var I=_n(E).hoistableStyles,H=I.get(a);if(H||(E=E.ownerDocument||E,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(a,H),(I=E.querySelector(uf(a)))&&!I._p&&(H.instance=I,H.state.loading=5),Es.has(a)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Es.set(a,m),I||SI(E,a,m,H.state))),c&&v===null)throw Error(i(528,""));return H}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Fu(m),m=_n(E).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Pu(a){return'href="'+Ei(a)+'"'}function uf(a){return'link[rel="stylesheet"]['+a+"]"}function fC(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function SI(a,c,m,v){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=a.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Ki(c,"link",m),Tt(c),a.head.appendChild(c))}function Fu(a){return'[src="'+Ei(a)+'"]'}function df(a){return"script[async]"+a}function hC(a,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=a.querySelector('style[data-href~="'+Ei(m.href)+'"]');if(v)return c.instance=v,Tt(v),v;var E=y({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Tt(v),Ki(v,"style",E),Mp(v,m.precedence,a),c.instance=v;case"stylesheet":E=Pu(m.href);var I=a.querySelector(uf(E));if(I)return c.state.loading|=4,c.instance=I,Tt(I),I;v=fC(m),(E=Es.get(E))&&fx(v,E),I=(a.ownerDocument||a).createElement("link"),Tt(I);var H=I;return H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Ki(I,"link",v),c.state.loading|=4,Mp(I,m.precedence,a),c.instance=I;case"script":return I=Fu(m.src),(E=a.querySelector(df(I)))?(c.instance=E,Tt(E),E):(v=m,(E=Es.get(I))&&(v=y({},m),hx(v,E)),a=a.ownerDocument||a,E=a.createElement("script"),Tt(E),Ki(E,"link",v),a.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Mp(v,m.precedence,a));return c.instance}function Mp(a,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,H=0;H<v.length;H++){var W=v[H];if(W.dataset.precedence===c)I=W;else if(I!==E)break}I?I.parentNode.insertBefore(a,I.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(a,c.firstChild))}function fx(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function hx(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Op=null;function pC(a,c,m){if(Op===null){var v=new Map,E=Op=new Map;E.set(m,v)}else E=Op,v=E.get(m),v||(v=new Map,E.set(m,v));if(v.has(a))return v;for(v.set(a,null),m=m.getElementsByTagName(a),E=0;E<m.length;E++){var I=m[E];if(!(I[ut]||I[De]||a==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var H=I.getAttribute(c)||"";H=a+H;var W=v.get(H);W?W.push(I):v.set(H,[I])}}return v}function mC(a,c,m){a=a.ownerDocument||a,a.head.insertBefore(m,c==="title"?a.querySelector("head > title"):null)}function EI(a,c,m){if(m===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function gC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ff=null;function AI(){}function TI(a,c,m){if(ff===null)throw Error(i(475));var v=ff;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Pu(m.href),I=a.querySelector(uf(E));if(I){a=I._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(v.count++,v=Rp.bind(v),a.then(v,v)),c.state.loading|=4,c.instance=I,Tt(I);return}I=a.ownerDocument||a,m=fC(m),(E=Es.get(E))&&fx(m,E),I=I.createElement("link"),Tt(I);var H=I;H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Ki(I,"link",m),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=Rp.bind(v),a.addEventListener("load",c),a.addEventListener("error",c))}}function NI(){if(ff===null)throw Error(i(475));var a=ff;return a.stylesheets&&a.count===0&&px(a,a.stylesheets),0<a.count?function(c){var m=setTimeout(function(){if(a.stylesheets&&px(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m)}}:null}function Rp(){if(this.count--,this.count===0){if(this.stylesheets)px(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Dp=null;function px(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Dp=new Map,c.forEach(II,a),Dp=null,Rp.call(a))}function II(a,c){if(!(c.state.loading&4)){var m=Dp.get(a);if(m)var v=m.get(null);else{m=new Map,Dp.set(a,m);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var H=E[I];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),v=H)}v&&m.set(null,v)}E=c.instance,H=E.getAttribute("data-precedence"),I=m.get(H)||v,I===v&&m.set(null,E),m.set(H,E),this.count++,v=Rp.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),c.state.loading|=4}}var hf={$$typeof:j,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function kI(a,c,m,v,E,I,H,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function xC(a,c,m,v,E,I,H,W,J,me,Ne,Be){return a=new kI(a,c,m,H,W,J,me,Be),c=1,I===!0&&(c|=24),I=Kr(3,null,null,c),a.current=I,I.stateNode=a,c=Y0(),c.refCount++,a.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:m,cache:c},J0(I),a}function yC(a){return a?(a=gu,a):gu}function bC(a,c,m,v,E,I){E=yC(E),v.context===null?v.context=E:v.pendingContext=E,v=Yo(c),v.payload={element:m},I=I===void 0?null:I,I!==null&&(v.callback=I),m=Ko(a,v,c),m!==null&&(ts(m,a,c),Ud(m,a,c))}function vC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function mx(a,c){vC(a,c),(a=a.alternate)&&vC(a,c)}function wC(a){if(a.tag===13){var c=mu(a,67108864);c!==null&&ts(c,a,67108864),mx(a,67108864)}}var Bp=!0;function MI(a,c,m,v){var E=Z.T;Z.T=null;var I=le.p;try{le.p=2,gx(a,c,m,v)}finally{le.p=I,Z.T=E}}function OI(a,c,m,v){var E=Z.T;Z.T=null;var I=le.p;try{le.p=8,gx(a,c,m,v)}finally{le.p=I,Z.T=E}}function gx(a,c,m,v){if(Bp){var E=xx(v);if(E===null)ix(a,c,v,Lp,m),CC(a,v);else if(DI(E,a,c,m,v))v.stopPropagation();else if(CC(a,v),c&4&&-1<RI.indexOf(a)){for(;E!==null;){var I=Rt(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var H=an(I.pendingLanes);if(H!==0){var W=I;for(W.pendingLanes|=2,W.entangledLanes|=2;H;){var J=1<<31-Lt(H);W.entanglements[1]|=J,H&=~J}ba(I),(yn&6)===0&&(bp=Ut()+500,af(0))}}break;case 13:W=mu(I,2),W!==null&&ts(W,I,2),wp(),mx(I,2)}if(I=xx(v),I===null&&ix(a,c,v,Lp,m),I===E)break;E=I}E!==null&&v.stopPropagation()}else ix(a,c,v,null,m)}}function xx(a){return a=Lo(a),yx(a)}var Lp=null;function yx(a){if(Lp=null,a=tt(a),a!==null){var c=s(a);if(c===null)a=null;else{var m=c.tag;if(m===13){if(a=l(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Lp=a,null}function _C(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case At:return 2;case kr:return 8;case We:case er:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var bx=!1,cl=null,ul=null,dl=null,pf=new Map,mf=new Map,fl=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CC(a,c){switch(a){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":pf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(c.pointerId)}}function gf(a,c,m,v,E,I){return a===null||a.nativeEvent!==I?(a={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},c!==null&&(c=Rt(c),c!==null&&wC(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),a)}function DI(a,c,m,v,E){switch(c){case"focusin":return cl=gf(cl,a,c,m,v,E),!0;case"dragenter":return ul=gf(ul,a,c,m,v,E),!0;case"mouseover":return dl=gf(dl,a,c,m,v,E),!0;case"pointerover":var I=E.pointerId;return pf.set(I,gf(pf.get(I)||null,a,c,m,v,E)),!0;case"gotpointercapture":return I=E.pointerId,mf.set(I,gf(mf.get(I)||null,a,c,m,v,E)),!0}return!1}function SC(a){var c=tt(a.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){a.blockedOn=c,ce(a.priority,function(){if(m.tag===13){var v=es();v=ja(v);var E=mu(m,v);E!==null&&ts(E,m,v),mx(m,v)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jp(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=xx(a.nativeEvent);if(m===null){m=a.nativeEvent;var v=new m.constructor(m.type,m);Zl=v,m.target.dispatchEvent(v),Zl=null}else return c=Rt(m),c!==null&&wC(c),a.blockedOn=m,!1;c.shift()}return!0}function EC(a,c,m){jp(a)&&m.delete(c)}function BI(){bx=!1,cl!==null&&jp(cl)&&(cl=null),ul!==null&&jp(ul)&&(ul=null),dl!==null&&jp(dl)&&(dl=null),pf.forEach(EC),mf.forEach(EC)}function Pp(a,c){a.blockedOn===c&&(a.blockedOn=null,bx||(bx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BI)))}var Fp=null;function AC(a){Fp!==a&&(Fp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fp===a&&(Fp=null);for(var c=0;c<a.length;c+=3){var m=a[c],v=a[c+1],E=a[c+2];if(typeof v!="function"){if(yx(v||m)===null)continue;break}var I=Rt(m);I!==null&&(a.splice(c,3),c-=3,yg(I,{pending:!0,data:E,method:m.method,action:v},v,E))}}))}function xf(a){function c(J){return Pp(J,a)}cl!==null&&Pp(cl,a),ul!==null&&Pp(ul,a),dl!==null&&Pp(dl,a),pf.forEach(c),mf.forEach(c);for(var m=0;m<fl.length;m++){var v=fl[m];v.blockedOn===a&&(v.blockedOn=null)}for(;0<fl.length&&(m=fl[0],m.blockedOn===null);)SC(m),m.blockedOn===null&&fl.shift();if(m=(a.ownerDocument||a).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var E=m[v],I=m[v+1],H=E[Fe]||null;if(typeof I=="function")H||AC(m);else if(H){var W=null;if(I&&I.hasAttribute("formAction")){if(E=I,H=I[Fe]||null)W=H.formAction;else if(yx(E)!==null)continue}else W=H.action;typeof W=="function"?m[v+1]=W:(m.splice(v,3),v-=3),AC(m)}}}function vx(a){this._internalRoot=a}zp.prototype.render=vx.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,v=es();bC(m,v,a,c,null,null)},zp.prototype.unmount=vx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;bC(a.current,2,null,a,null,null),wp(),c[Ze]=null}};function zp(a){this._internalRoot=a}zp.prototype.unstable_scheduleHydration=function(a){if(a){var c=ne();a={blockedOn:null,target:a,priority:c};for(var m=0;m<fl.length&&c!==0&&c<fl[m].priority;m++);fl.splice(m,0,a),m===0&&SC(a)}};var TC=e.version;if(TC!=="19.1.0")throw Error(i(527,TC,"19.1.0"));le.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(c),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var LI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{vt=Hp.inject(LI),_t=Hp}catch{}}return bf.createRoot=function(a,c){if(!r(a))throw Error(i(299));var m=!1,v="",E=$w,I=Vw,H=Gw,W=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(W=c.unstable_transitionCallbacks)),c=xC(a,1,!1,null,null,m,v,E,I,H,W,null),a[Ze]=c.current,nx(a),new vx(c)},bf.hydrateRoot=function(a,c,m){if(!r(a))throw Error(i(299));var v=!1,E="",I=$w,H=Vw,W=Gw,J=null,me=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(J=m.unstable_transitionCallbacks),m.formState!==void 0&&(me=m.formState)),c=xC(a,1,!0,c,m??null,v,E,I,H,W,J,me),c.context=yC(null),m=c.current,v=es(),v=ja(v),E=Yo(v),E.callback=null,Ko(m,E,v),m=v,c.current.lanes=m,pr(c,m),ba(c),a[Ze]=c.current,nx(a),new zp(c)},bf.version="19.1.0",bf}var jC;function qI(){if(jC)return _x.exports;jC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_x.exports=GI(),_x.exports}var F4=qI();const WI=Do(F4);var P=Kc();const Ht=Do(P),XI=P.createContext(null),Tx={didCatch:!1,error:null};class YI extends P.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Tx}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,i,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];(n=(i=this.props).onReset)===null||n===void 0||n.call(i,{args:s,reason:"imperative-api"}),this.setState(Tx)}}componentDidCatch(e,n){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&n.error!==null&&KI(e.resetKeys,r)){var s,l;(s=(l=this.props).onReset)===null||s===void 0||s.call(l,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(Tx)}}render(){const{children:e,fallbackRender:n,FallbackComponent:i,fallback:r}=this.props,{didCatch:s,error:l}=this.state;let d=e;if(s){const f={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")d=n(f);else if(i)d=P.createElement(i,f);else if(r!==void 0)d=r;else throw l}return P.createElement(XI.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},d)}}function KI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,i)=>!Object.is(n,e[i]))}var vf={},PC;function ZI(){if(PC)return vf;PC=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.parse=l,vf.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function l(S,A){const T=new s,O=S.length;if(O<2)return T;const R=(A==null?void 0:A.decode)||y;let B=0;do{const G=S.indexOf("=",B);if(G===-1)break;const j=S.indexOf(";",B),k=j===-1?O:j;if(G>k){B=S.lastIndexOf(";",G-1)+1;continue}const D=d(S,B,G),L=f(S,G,D),z=S.slice(D,L);if(T[z]===void 0){let V=d(S,G+1,k),X=f(S,k,V);const ie=R(S.slice(V,X));T[z]=ie}B=k+1}while(B<O);return T}function d(S,A,T){do{const O=S.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<T);return T}function f(S,A,T){for(;A>T;){const O=S.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return T}function p(S,A,T){const O=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const R=O(A);if(!e.test(R))throw new TypeError(`argument val is invalid: ${A}`);let B=S+"="+R;if(!T)return B;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);B+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);B+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);B+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);B+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(B+="; HttpOnly"),T.secure&&(B+="; Secure"),T.partitioned&&(B+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return B}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return r.call(S)==="[object Date]"}return vf}ZI();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z4=t=>{throw TypeError(t)},QI=(t,e,n)=>e.has(t)||z4("Cannot "+n),Nx=(t,e,n)=>(QI(t,e,"read from private field"),n?n.call(t):e.get(t)),JI=(t,e,n)=>e.has(t)?z4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),FC="popstate";function ek(t={}){function e(i,r){let{pathname:s,search:l,hash:d}=i.location;return th("",{pathname:s,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Fl(r)}return nk(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tk(){return Math.random().toString(36).substring(2,10)}function zC(t,e){return{usr:t.state,key:t.key,idx:e}}function th(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gl(e):e,state:n,key:e&&e.key||i||tk()}}function Fl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function nk(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,d="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){d="POP";let R=y(),B=R==null?null:R-p;p=R,f&&f({action:d,location:O.location,delta:B})}function S(R,B){d="PUSH";let G=th(O.location,R,B);p=y()+1;let j=zC(G,p),k=O.createHref(G);try{l.pushState(j,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(k)}s&&f&&f({action:d,location:O.location,delta:1})}function A(R,B){d="REPLACE";let G=th(O.location,R,B);p=y();let j=zC(G,p),k=O.createHref(G);l.replaceState(j,"",k),s&&f&&f({action:d,location:O.location,delta:0})}function T(R){return H4(R)}let O={get action(){return d},get location(){return t(r,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(FC,_),f=R,()=>{r.removeEventListener(FC,_),f=null}},createHref(R){return e(r,R)},createURL:T,encodeLocation(R){let B=T(R);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:A,go(R){return l.go(R)}};return O}function H4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Fl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Lf,HC=class{constructor(t){if(JI(this,Lf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Nx(this,Lf).has(t))return Nx(this,Lf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Nx(this,Lf).set(t,e)}};Lf=new WeakMap;var ik=new Set(["lazy","caseSensitive","path","id","index","children"]);function rk(t){return ik.has(t)}var sk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ak(t){return sk.has(t)}function ok(t){return t.index===!0}function B1(t,e,n=[],i={}){return t.map((r,s)=>{let l=[...n,String(s)],d=typeof r.id=="string"?r.id:l.join("-");if(Gt(r.index!==!0||!r.children,"Cannot specify children on an index route"),Gt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),ok(r)){let f={...r,...e(r),id:d};return i[d]=f,f}else{let f={...r,...e(r),id:d,children:void 0};return i[d]=f,r.children&&(f.children=B1(r.children,e,l,i)),f}})}function El(t,e,n="/"){return w1(t,e,n,!1)}function w1(t,e,n,i){let r=typeof e=="string"?Gl(e):e,s=js(r.pathname||"/",n);if(s==null)return null;let l=U4(t);ck(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=vk(s);d=yk(l[f],p,i)}return d}function lk(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function U4(t,e=[],n=[],i=""){let r=(s,l,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(Gt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Oa([i,f.relativePath]),y=n.concat(f);s.children&&s.children.length>0&&(Gt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),U4(s.children,e,y,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:gk(p,s.index),routesMeta:y})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))r(s,l);else for(let f of $4(s.path))r(s,l,f)}),e}function $4(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=$4(i.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),r&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function ck(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xk(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uk=/^:[\w-]+$/,dk=3,fk=2,hk=1,pk=10,mk=-2,UC=t=>t==="*";function gk(t,e){let n=t.split("/"),i=n.length;return n.some(UC)&&(i+=mk),e&&(i+=fk),n.filter(r=>!UC(r)).reduce((r,s)=>r+(uk.test(s)?dk:s===""?hk:pk),i)}function xk(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function yk(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,y=s==="/"?e:e.slice(s.length)||"/",_=L1({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),S=f.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=L1({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:Oa([s,_.pathname]),pathnameBase:Ck(Oa([s,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(s=Oa([s,_.pathnameBase]))}return l}function L1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=bk(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},S)=>{if(y==="*"){let T=d[S]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const A=d[S];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:t}}function bk(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function vk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function wk(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Gl(t):t;return{pathname:n?n.startsWith("/")?n:_k(n,e):e,search:Sk(i),hash:Ek(r)}}function _k(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ix(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(t){let e=V4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ym(t,e,n,i=!1){let r;typeof t=="string"?r=Gl(t):(r={...t},Gt(!r.pathname||!r.pathname.includes("?"),Ix("?","pathname","search",r)),Gt(!r.pathname||!r.pathname.includes("#"),Ix("#","pathname","hash",r)),Gt(!r.search||!r.search.includes("#"),Ix("#","search","hash",r)));let s=t===""||r.pathname==="",l=s?"/":r.pathname,d;if(l==null)d=n;else{let _=e.length-1;if(!i&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),_-=1;r.pathname=S.join("/")}d=_>=0?e[_]:"/"}let f=wk(r,d),p=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Oa=t=>t.join("/").replace(/\/\/+/g,"/"),Ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ek=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,j1=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G4=["POST","PUT","PATCH","DELETE"],Ak=new Set(G4),Tk=["GET",...G4],Nk=new Set(Tk),Ik=new Set([301,302,303,307,308]),kk=new Set([307,308]),kx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ok=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),q4="remix-router-transitions",W4=Symbol("ResetLoaderData");function Rk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Gt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],r=t.mapRouteProperties||Ok,s={},l=B1(t.routes,r,void 0,s),d,f=t.basename||"/",p=t.dataStrategy||Pk,y={unstable_middleware:!1,...t.future},_=null,S=new Set,A=null,T=null,O=null,R=t.hydrationData!=null,B=El(l,t.history.location,f),G=!1,j=null,k;if(B==null&&!t.patchRoutesOnNavigation){let ne=Os(404,{pathname:t.history.location.pathname}),{matches:ce,route:ge}=e3(l);k=!0,B=ce,j={[ge.id]:ne}}else if(B&&!t.hydrationData&&ia(B,l,t.history.location.pathname).active&&(B=null),B)if(B.some(ne=>ne.route.lazy))k=!1;else if(!B.some(ne=>ne.route.loader))k=!0;else{let ne=t.hydrationData?t.hydrationData.loaderData:null,ce=t.hydrationData?t.hydrationData.errors:null;if(ce){let ge=B.findIndex(De=>ce[De.route.id]!==void 0);k=B.slice(0,ge+1).every(De=>!u2(De.route,ne,ce))}else k=B.every(ge=>!u2(ge.route,ne,ce))}else{k=!1,B=[];let ne=ia(null,l,t.history.location.pathname);ne.active&&ne.matches&&(G=!0,B=ne.matches)}let D,L={historyAction:t.history.action,location:t.history.location,matches:B,initialized:k,navigation:kx,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},z="POP",V=!1,X,ie=!1,ae=new Map,ue=null,Ie=!1,Se=!1,te=new Set,Z=new Map,le=0,xe=-1,Ce=new Map,Q=new Set,fe=new Map,Ee=new Map,Re=new Set,He=new Map,qe,Ae=null;function en(){if(_=t.history.listen(({action:ne,location:ce,delta:ge})=>{if(qe){qe(),qe=void 0;return}ri(He.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=Mr({currentLocation:L.location,nextLocation:ce,historyAction:ne});if(De&&ge!=null){let Fe=new Promise(Ze=>{qe=Ze});t.history.go(ge*-1),qt(De,{state:"blocked",location:ce,proceed(){qt(De,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),Fe.then(()=>t.history.go(ge))},reset(){let Ze=new Map(L.blockers);Ze.set(De,wf),dn({blockers:Ze})}});return}return oi(ne,ce)}),n){Yk(e,ae);let ne=()=>Kk(e,ae);e.addEventListener("pagehide",ne),ue=()=>e.removeEventListener("pagehide",ne)}return L.initialized||oi("POP",L.location,{initialHydration:!0}),D}function gt(){_&&_(),ue&&ue(),S.clear(),X&&X.abort(),L.fetchers.forEach((ne,ce)=>Lt(ce)),L.blockers.forEach((ne,ce)=>jt(ce))}function ai(ne){return S.add(ne),()=>S.delete(ne)}function dn(ne,ce={}){L={...L,...ne};let ge=[],De=[];L.fetchers.forEach((Fe,Ze)=>{Fe.state==="idle"&&(Re.has(Ze)?ge.push(Ze):De.push(Ze))}),Re.forEach(Fe=>{!L.fetchers.has(Fe)&&!Z.has(Fe)&&ge.push(Fe)}),[...S].forEach(Fe=>Fe(L,{deletedFetchers:ge,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),ge.forEach(Fe=>Lt(Fe)),De.forEach(Fe=>L.fetchers.delete(Fe))}function cn(ne,ce,{flushSync:ge}={}){var Te,ut;let De=L.actionData!=null&&L.navigation.formMethod!=null&&us(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Te=ne.state)==null?void 0:Te._isRedirect)!==!0,Fe;ce.actionData?Object.keys(ce.actionData).length>0?Fe=ce.actionData:Fe=null:De?Fe=L.actionData:Fe=null;let Ze=ce.loaderData?QC(L.loaderData,ce.loaderData,ce.matches||[],ce.errors):L.loaderData,Qe=L.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((nt,tt)=>Qe.set(tt,wf)));let Ge=V===!0||L.navigation.formMethod!=null&&us(L.navigation.formMethod)&&((ut=ne.state)==null?void 0:ut._isRedirect)!==!0;d&&(l=d,d=void 0),Ie||z==="POP"||(z==="PUSH"?t.history.push(ne,ne.state):z==="REPLACE"&&t.history.replace(ne,ne.state));let Ye;if(z==="POP"){let nt=ae.get(L.location.pathname);nt&&nt.has(ne.pathname)?Ye={currentLocation:L.location,nextLocation:ne}:ae.has(ne.pathname)&&(Ye={currentLocation:ne,nextLocation:L.location})}else if(ie){let nt=ae.get(L.location.pathname);nt?nt.add(ne.pathname):(nt=new Set([ne.pathname]),ae.set(L.location.pathname,nt)),Ye={currentLocation:L.location,nextLocation:ne}}dn({...ce,actionData:Fe,loaderData:Ze,historyAction:z,location:ne,initialized:!0,navigation:kx,revalidation:"idle",restoreScrollPosition:Kl(ne,ce.matches||L.matches),preventScrollReset:Ge,blockers:Qe},{viewTransitionOpts:Ye,flushSync:ge===!0}),z="POP",V=!1,ie=!1,Ie=!1,Se=!1,Ae==null||Ae.resolve(),Ae=null}async function Di(ne,ce){if(typeof ne=="number"){t.history.go(ne);return}let ge=c2(L.location,L.matches,f,ne,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:De,submission:Fe,error:Ze}=$C(!1,ge,ce),Qe=L.location,Ge=th(L.location,De,ce&&ce.state);Ge={...Ge,...t.history.encodeLocation(Ge)};let Ye=ce&&ce.replace!=null?ce.replace:void 0,Te="PUSH";Ye===!0?Te="REPLACE":Ye===!1||Fe!=null&&us(Fe.formMethod)&&Fe.formAction===L.location.pathname+L.location.search&&(Te="REPLACE");let ut=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,nt=(ce&&ce.flushSync)===!0,tt=Mr({currentLocation:Qe,nextLocation:Ge,historyAction:Te});if(tt){qt(tt,{state:"blocked",location:Ge,proceed(){qt(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),Di(ne,ce)},reset(){let Rt=new Map(L.blockers);Rt.set(tt,wf),dn({blockers:Rt})}});return}await oi(Te,Ge,{submission:Fe,pendingError:Ze,preventScrollReset:ut,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:nt})}function Ot(){Ae||(Ae=Zk()),at(),dn({revalidation:"loading"});let ne=Ae.promise;return L.navigation.state==="submitting"?ne:L.navigation.state==="idle"?(oi(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),ne):(oi(z||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:ie===!0}),ne)}async function oi(ne,ce,ge){X&&X.abort(),X=null,z=ne,Ie=(ge&&ge.startUninterruptedRevalidation)===!0,pr(L.location,L.matches),V=(ge&&ge.preventScrollReset)===!0,ie=(ge&&ge.enableViewTransition)===!0;let De=d||l,Fe=ge&&ge.overrideNavigation,Ze=ge!=null&&ge.initialHydration&&L.matches&&L.matches.length>0&&!G?L.matches:El(De,ce,f),Qe=(ge&&ge.flushSync)===!0;if(Ze&&L.initialized&&!Se&&Vk(L.location,ce)&&!(ge&&ge.submission&&us(ge.submission.formMethod))){cn(ce,{matches:Ze},{flushSync:Qe});return}let Ge=ia(Ze,De,ce.pathname);if(Ge.active&&Ge.matches&&(Ze=Ge.matches),!Ze){let{error:_n,notFoundMatches:Tt,route:Wt}=gs(ce.pathname);cn(ce,{matches:Tt,loaderData:{},errors:{[Wt.id]:_n}},{flushSync:Qe});return}X=new AbortController;let Ye=td(t.history,ce,X.signal,ge&&ge.submission),Te=new HC(t.unstable_getContext?await t.unstable_getContext():void 0),ut;if(ge&&ge.pendingError)ut=[Ec(Ze).route.id,{type:"error",error:ge.pendingError}];else if(ge&&ge.submission&&us(ge.submission.formMethod)){let _n=await Gi(Ye,ce,ge.submission,Ze,Te,Ge.active,ge&&ge.initialHydration===!0,{replace:ge.replace,flushSync:Qe});if(_n.shortCircuited)return;if(_n.pendingActionResult){let[Tt,Wt]=_n.pendingActionResult;if(cs(Wt)&&nh(Wt.error)&&Wt.error.status===404){X=null,cn(ce,{matches:_n.matches,loaderData:{},errors:{[Tt]:Wt.error}});return}}Ze=_n.matches||Ze,ut=_n.pendingActionResult,Fe=Mx(ce,ge.submission),Qe=!1,Ge.active=!1,Ye=td(t.history,Ye.url,Ye.signal)}let{shortCircuited:nt,matches:tt,loaderData:Rt,errors:fn}=await ms(Ye,ce,Ze,Te,Ge.active,Fe,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,Qe,ut);nt||(X=null,cn(ce,{matches:tt||Ze,...JC(ut),loaderData:Rt,errors:fn}))}async function Gi(ne,ce,ge,De,Fe,Ze,Qe,Ge={}){at();let Ye=Wk(ce,ge);if(dn({navigation:Ye},{flushSync:Ge.flushSync===!0}),Ze){let nt=await Si(De,ce.pathname,ne.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){let tt=Ec(nt.partialMatches).route.id;return{matches:nt.partialMatches,pendingActionResult:[tt,{type:"error",error:nt.error}]}}else if(nt.matches)De=nt.matches;else{let{notFoundMatches:tt,error:Rt,route:fn}=gs(ce.pathname);return{matches:tt,pendingActionResult:[fn.id,{type:"error",error:Rt}]}}}let Te,ut=jf(De,ce);if(!ut.route.action&&!ut.route.lazy)Te={type:"error",error:Os(405,{method:ne.method,pathname:ce.pathname,routeId:ut.route.id})};else{let nt=cd(r,s,ne,De,ut,Qe?[]:i,Fe),tt=await Gr(ne,nt,Fe,null);if(Te=tt[ut.route.id],!Te){for(let Rt of De)if(tt[Rt.route.id]){Te=tt[Rt.route.id];break}}if(ne.signal.aborted)return{shortCircuited:!0}}if(Nc(Te)){let nt;return Ge&&Ge.replace!=null?nt=Ge.replace:nt=YC(Te.response.headers.get("Location"),new URL(ne.url),f)===L.location.pathname+L.location.search,await er(ne,Te,!0,{submission:ge,replace:nt}),{shortCircuited:!0}}if(cs(Te)){let nt=Ec(De,ut.route.id);return(Ge&&Ge.replace)!==!0&&(z="PUSH"),{matches:De,pendingActionResult:[nt.route.id,Te,ut.route.id]}}return{matches:De,pendingActionResult:[ut.route.id,Te]}}async function ms(ne,ce,ge,De,Fe,Ze,Qe,Ge,Ye,Te,ut,nt){let tt=Ze||Mx(ce,Qe),Rt=Qe||Ge||n3(tt),fn=!Ie&&!Te;if(Fe){if(fn){let $n=Ut(nt);dn({navigation:tt,...$n!==void 0?{actionData:$n}:{}},{flushSync:ut})}let it=await Si(ge,ce.pathname,ne.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let $n=Ec(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[$n]:it.error}}}else if(it.matches)ge=it.matches;else{let{error:$n,notFoundMatches:Wr,route:Nt}=gs(ce.pathname);return{matches:Wr,loaderData:{},errors:{[Nt.id]:$n}}}}let _n=d||l,{dsMatches:Tt,revalidatingFetchers:Wt}=VC(ne,De,r,s,t.history,L,ge,Rt,ce,Te?[]:i,Te===!0,Se,te,Re,fe,Q,_n,f,t.patchRoutesOnNavigation!=null,nt);if(xe=++le,!t.dataStrategy&&!Tt.some(it=>it.shouldLoad)&&Wt.length===0){let it=on();return cn(ce,{matches:ge,loaderData:{},errors:nt&&cs(nt[1])?{[nt[0]]:nt[1].error}:null,...JC(nt),...it?{fetchers:new Map(L.fetchers)}:{}},{flushSync:ut}),{shortCircuited:!0}}if(fn){let it={};if(!Fe){it.navigation=tt;let $n=Ut(nt);$n!==void 0&&(it.actionData=$n)}Wt.length>0&&(it.fetchers=tn(Wt)),dn(it,{flushSync:ut})}Wt.forEach(it=>{Ci(it.key),it.controller&&Z.set(it.key,it.controller)});let ra=()=>Wt.forEach(it=>Ci(it.key));X&&X.signal.addEventListener("abort",ra);let{loaderResults:Mn,fetcherResults:Cn}=await Ve(Tt,Wt,ne,De);if(ne.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",ra),Wt.forEach(it=>Z.delete(it.key));let Pt=$p(Mn);if(Pt)return await er(ne,Pt.result,!0,{replace:Ye}),{shortCircuited:!0};if(Pt=$p(Cn),Pt)return Q.add(Pt.key),await er(ne,Pt.result,!0,{replace:Ye}),{shortCircuited:!0};let{loaderData:zs,errors:qi}=ZC(L,ge,Mn,nt,Wt,Cn);Te&&L.errors&&(qi={...L.errors,...qi});let Pa=on(),ke=Ue(xe),Hs=Pa||ke||Wt.length>0;return{matches:ge,loaderData:zs,errors:qi,...Hs?{fetchers:new Map(L.fetchers)}:{}}}function Ut(ne){if(ne&&!cs(ne[1]))return{[ne[0]]:ne[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function tn(ne){return ne.forEach(ce=>{let ge=L.fetchers.get(ce.key),De=_f(void 0,ge?ge.data:void 0);L.fetchers.set(ce.key,De)}),new Map(L.fetchers)}async function At(ne,ce,ge,De){Ci(ne);let Fe=(De&&De.flushSync)===!0,Ze=d||l,Qe=c2(L.location,L.matches,f,ge,ce,De==null?void 0:De.relative),Ge=El(Ze,Qe,f),Ye=ia(Ge,Ze,Qe);if(Ye.active&&Ye.matches&&(Ge=Ye.matches),!Ge){_t(ne,ce,Os(404,{pathname:Qe}),{flushSync:Fe});return}let{path:Te,submission:ut,error:nt}=$C(!0,Qe,De);if(nt){_t(ne,ce,nt,{flushSync:Fe});return}let tt=jf(Ge,Te),Rt=new HC(t.unstable_getContext?await t.unstable_getContext():void 0),fn=(De&&De.preventScrollReset)===!0;if(ut&&us(ut.formMethod)){await kr(ne,ce,Te,tt,Ge,Rt,Ye.active,Fe,fn,ut);return}fe.set(ne,{routeId:ce,path:Te}),await We(ne,ce,Te,tt,Ge,Rt,Ye.active,Fe,fn,ut)}async function kr(ne,ce,ge,De,Fe,Ze,Qe,Ge,Ye,Te){at(),fe.delete(ne);function ut(rt){if(!rt.route.action&&!rt.route.lazy){let xs=Os(405,{method:Te.formMethod,pathname:ge,routeId:ce});return _t(ne,ce,xs,{flushSync:Ge}),!0}return!1}if(!Qe&&ut(De))return;let nt=L.fetchers.get(ne);vt(ne,Xk(Te,nt),{flushSync:Ge});let tt=new AbortController,Rt=td(t.history,ge,tt.signal,Te);if(Qe){let rt=await Si(Fe,ge,Rt.signal,ne);if(rt.type==="aborted")return;if(rt.type==="error"){_t(ne,ce,rt.error,{flushSync:Ge});return}else if(rt.matches){if(Fe=rt.matches,De=jf(Fe,ge),ut(De))return}else{_t(ne,ce,Os(404,{pathname:ge}),{flushSync:Ge});return}}Z.set(ne,tt);let fn=le,_n=cd(r,s,Rt,Fe,De,i,Ze),Wt=(await Gr(Rt,_n,Ze,ne))[De.route.id];if(Rt.signal.aborted){Z.get(ne)===tt&&Z.delete(ne);return}if(Re.has(ne)){if(Nc(Wt)||cs(Wt)){vt(ne,vl(void 0));return}}else{if(Nc(Wt))if(Z.delete(ne),xe>fn){vt(ne,vl(void 0));return}else return Q.add(ne),vt(ne,_f(Te)),er(Rt,Wt,!1,{fetcherSubmission:Te,preventScrollReset:Ye});if(cs(Wt)){_t(ne,ce,Wt.error);return}}let ra=L.navigation.location||L.location,Mn=td(t.history,ra,tt.signal),Cn=d||l,Pt=L.navigation.state!=="idle"?El(Cn,L.navigation.location,f):L.matches;Gt(Pt,"Didn't find any matches after fetcher action");let zs=++le;Ce.set(ne,zs);let qi=_f(Te,Wt.data);L.fetchers.set(ne,qi);let{dsMatches:Pa,revalidatingFetchers:ke}=VC(Mn,Ze,r,s,t.history,L,Pt,Te,ra,i,!1,Se,te,Re,fe,Q,Cn,f,t.patchRoutesOnNavigation!=null,[De.route.id,Wt]);ke.filter(rt=>rt.key!==ne).forEach(rt=>{let xs=rt.key,Fa=L.fetchers.get(xs),Bi=_f(void 0,Fa?Fa.data:void 0);L.fetchers.set(xs,Bi),Ci(xs),rt.controller&&Z.set(xs,rt.controller)}),dn({fetchers:new Map(L.fetchers)});let Hs=()=>ke.forEach(rt=>Ci(rt.key));tt.signal.addEventListener("abort",Hs);let{loaderResults:it,fetcherResults:$n}=await Ve(Pa,ke,Mn,Ze);if(tt.signal.aborted)return;if(tt.signal.removeEventListener("abort",Hs),Ce.delete(ne),Z.delete(ne),ke.forEach(rt=>Z.delete(rt.key)),L.fetchers.has(ne)){let rt=vl(Wt.data);L.fetchers.set(ne,rt)}let Wr=$p(it);if(Wr)return er(Mn,Wr.result,!1,{preventScrollReset:Ye});if(Wr=$p($n),Wr)return Q.add(Wr.key),er(Mn,Wr.result,!1,{preventScrollReset:Ye});let{loaderData:Nt,errors:Ft}=ZC(L,Pt,it,void 0,ke,$n);Ue(zs),L.navigation.state==="loading"&&zs>xe?(Gt(z,"Expected pending action"),X&&X.abort(),cn(L.navigation.location,{matches:Pt,loaderData:Nt,errors:Ft,fetchers:new Map(L.fetchers)})):(dn({errors:Ft,loaderData:QC(L.loaderData,Nt,Pt,Ft),fetchers:new Map(L.fetchers)}),Se=!1)}async function We(ne,ce,ge,De,Fe,Ze,Qe,Ge,Ye,Te){let ut=L.fetchers.get(ne);vt(ne,_f(Te,ut?ut.data:void 0),{flushSync:Ge});let nt=new AbortController,tt=td(t.history,ge,nt.signal);if(Qe){let Wt=await Si(Fe,ge,tt.signal,ne);if(Wt.type==="aborted")return;if(Wt.type==="error"){_t(ne,ce,Wt.error,{flushSync:Ge});return}else if(Wt.matches)Fe=Wt.matches,De=jf(Fe,ge);else{_t(ne,ce,Os(404,{pathname:ge}),{flushSync:Ge});return}}Z.set(ne,nt);let Rt=le,fn=cd(r,s,tt,Fe,De,i,Ze),Tt=(await Gr(tt,fn,Ze,ne))[De.route.id];if(Z.get(ne)===nt&&Z.delete(ne),!tt.signal.aborted){if(Re.has(ne)){vt(ne,vl(void 0));return}if(Nc(Tt))if(xe>Rt){vt(ne,vl(void 0));return}else{Q.add(ne),await er(tt,Tt,!1,{preventScrollReset:Ye});return}if(cs(Tt)){_t(ne,ce,Tt.error);return}vt(ne,vl(Tt.data))}}async function er(ne,ce,ge,{submission:De,fetcherSubmission:Fe,preventScrollReset:Ze,replace:Qe}={}){ce.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ge=ce.response.headers.get("Location");Gt(Ge,"Expected a Location header on the redirect Response"),Ge=YC(Ge,new URL(ne.url),f);let Ye=th(L.location,Ge,{_isRedirect:!0});if(n){let fn=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))fn=!0;else if(pb.test(Ge)){const _n=H4(Ge,!0);fn=_n.origin!==e.location.origin||js(_n.pathname,f)==null}if(fn){Qe?e.location.replace(Ge):e.location.assign(Ge);return}}X=null;let Te=Qe===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ut,formAction:nt,formEncType:tt}=L.navigation;!De&&!Fe&&ut&&nt&&tt&&(De=n3(L.navigation));let Rt=De||Fe;if(kk.has(ce.response.status)&&Rt&&us(Rt.formMethod))await oi(Te,Ye,{submission:{...Rt,formAction:Ge},preventScrollReset:Ze||V,enableViewTransition:ge?ie:void 0});else{let fn=Mx(Ye,De);await oi(Te,Ye,{overrideNavigation:fn,fetcherSubmission:Fe,preventScrollReset:Ze||V,enableViewTransition:ge?ie:void 0})}}async function Gr(ne,ce,ge,De){let Fe,Ze={};try{Fe=await Fk(p,ne,ce,De,ge,!1)}catch(Qe){return ce.filter(Ge=>Ge.shouldLoad).forEach(Ge=>{Ze[Ge.route.id]={type:"error",error:Qe}}),Ze}if(ne.signal.aborted)return Ze;for(let[Qe,Ge]of Object.entries(Fe))if(Gk(Ge)){let Ye=Ge.result;Ze[Qe]={type:"redirect",response:Uk(Ye,ne,Qe,ce,f)}}else Ze[Qe]=await Hk(Ge);return Ze}async function Ve(ne,ce,ge,De){let Fe=Gr(ge,ne,De,null),Ze=Promise.all(ce.map(async Ye=>{if(Ye.matches&&Ye.match&&Ye.request&&Ye.controller){let ut=(await Gr(Ye.request,Ye.matches,De,Ye.key))[Ye.match.route.id];return{[Ye.key]:ut}}else return Promise.resolve({[Ye.key]:{type:"error",error:Os(404,{pathname:Ye.path})}})})),Qe=await Fe,Ge=(await Ze).reduce((Ye,Te)=>Object.assign(Ye,Te),{});return{loaderResults:Qe,fetcherResults:Ge}}function at(){Se=!0,fe.forEach((ne,ce)=>{Z.has(ce)&&te.add(ce),Ci(ce)})}function vt(ne,ce,ge={}){L.fetchers.set(ne,ce),dn({fetchers:new Map(L.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function _t(ne,ce,ge,De={}){let Fe=Ec(L.matches,ce);Lt(ne),dn({errors:{[Fe.route.id]:ge},fetchers:new Map(L.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function nn(ne){return Ee.set(ne,(Ee.get(ne)||0)+1),Re.has(ne)&&Re.delete(ne),L.fetchers.get(ne)||Mk}function Lt(ne){let ce=L.fetchers.get(ne);Z.has(ne)&&!(ce&&ce.state==="loading"&&Ce.has(ne))&&Ci(ne),fe.delete(ne),Ce.delete(ne),Q.delete(ne),Re.delete(ne),te.delete(ne),L.fetchers.delete(ne)}function qr(ne){let ce=(Ee.get(ne)||0)-1;ce<=0?(Ee.delete(ne),Re.add(ne)):Ee.set(ne,ce),dn({fetchers:new Map(L.fetchers)})}function Ci(ne){let ce=Z.get(ne);ce&&(ce.abort(),Z.delete(ne))}function na(ne){for(let ce of ne){let ge=nn(ce),De=vl(ge.data);L.fetchers.set(ce,De)}}function on(){let ne=[],ce=!1;for(let ge of Q){let De=L.fetchers.get(ge);Gt(De,`Expected fetcher: ${ge}`),De.state==="loading"&&(Q.delete(ge),ne.push(ge),ce=!0)}return na(ne),ce}function Ue(ne){let ce=[];for(let[ge,De]of Ce)if(De<ne){let Fe=L.fetchers.get(ge);Gt(Fe,`Expected fetcher: ${ge}`),Fe.state==="loading"&&(Ci(ge),Ce.delete(ge),ce.push(ge))}return na(ce),ce.length>0}function an(ne,ce){let ge=L.blockers.get(ne)||wf;return He.get(ne)!==ce&&He.set(ne,ce),ge}function jt(ne){L.blockers.delete(ne),He.delete(ne)}function qt(ne,ce){let ge=L.blockers.get(ne)||wf;Gt(ge.state==="unblocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="proceeding"||ge.state==="blocked"&&ce.state==="unblocked"||ge.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${ge.state} -> ${ce.state}`);let De=new Map(L.blockers);De.set(ne,ce),dn({blockers:De})}function Mr({currentLocation:ne,nextLocation:ce,historyAction:ge}){if(He.size===0)return;He.size>1&&ri(!1,"A router only supports one blocker at a time");let De=Array.from(He.entries()),[Fe,Ze]=De[De.length-1],Qe=L.blockers.get(Fe);if(!(Qe&&Qe.state==="proceeding")&&Ze({currentLocation:ne,nextLocation:ce,historyAction:ge}))return Fe}function gs(ne){let ce=Os(404,{pathname:ne}),ge=d||l,{matches:De,route:Fe}=e3(ge);return{notFoundMatches:De,route:Fe,error:ce}}function Yl(ne,ce,ge){if(A=ne,O=ce,T=ge||null,!R&&L.navigation===kx){R=!0;let De=Kl(L.location,L.matches);De!=null&&dn({restoreScrollPosition:De})}return()=>{A=null,O=null,T=null}}function $t(ne,ce){return T&&T(ne,ce.map(De=>lk(De,L.loaderData)))||ne.key}function pr(ne,ce){if(A&&O){let ge=$t(ne,ce);A[ge]=O()}}function Kl(ne,ce){if(A){let ge=$t(ne,ce),De=A[ge];if(typeof De=="number")return De}return null}function ia(ne,ce,ge){if(t.patchRoutesOnNavigation)if(ne){if(Object.keys(ne[0].params).length>0)return{active:!0,matches:w1(ce,ge,f,!0)}}else return{active:!0,matches:w1(ce,ge,f,!0)||[]};return{active:!1,matches:null}}async function Si(ne,ce,ge,De){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ne};let Fe=ne;for(;;){let Ze=d==null,Qe=d||l,Ge=s;try{await t.patchRoutesOnNavigation({signal:ge,path:ce,matches:Fe,fetcherKey:De,patch:(ut,nt)=>{ge.aborted||GC(ut,nt,Qe,Ge,r)}})}catch(ut){return{type:"error",error:ut,partialMatches:Fe}}finally{Ze&&!ge.aborted&&(l=[...l])}if(ge.aborted)return{type:"aborted"};let Ye=El(Qe,ce,f);if(Ye)return{type:"success",matches:Ye};let Te=w1(Qe,ce,f,!0);if(!Te||Fe.length===Te.length&&Fe.every((ut,nt)=>ut.route.id===Te[nt].route.id))return{type:"success",matches:null};Fe=Te}}function ja(ne){s={},d=B1(ne,r,void 0,s)}function Zn(ne,ce){let ge=d==null;GC(ne,ce,d||l,s,r),ge&&(l=[...l],dn({}))}return D={get basename(){return f},get future(){return y},get state(){return L},get routes(){return l},get window(){return e},initialize:en,subscribe:ai,enableScrollRestoration:Yl,navigate:Di,fetch:At,revalidate:Ot,createHref:ne=>t.history.createHref(ne),encodeLocation:ne=>t.history.encodeLocation(ne),getFetcher:nn,deleteFetcher:qr,dispose:gt,getBlocker:an,deleteBlocker:jt,patchRoutes:Zn,_internalFetchControllers:Z,_internalSetRoutes:ja},D}function Dk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function c2(t,e,n,i,r,s){let l,d;if(r){l=[];for(let p of e)if(l.push(p),p.route.id===r){d=p;break}}else l=e,d=e[e.length-1];let f=Ym(i||".",Xm(l),js(t.pathname,n)||t.pathname,s==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=mb(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let y=new URLSearchParams(f.search),_=y.getAll("index");y.delete("index"),_.filter(A=>A).forEach(A=>y.append("index",A));let S=y.toString();f.search=S?`?${S}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Oa([n,f.pathname])),Fl(f)}function $C(t,e,n){if(!n||!Dk(n))return{path:e};if(n.formMethod&&!qk(n.formMethod))return{path:e,error:Os(405,{method:n.formMethod})};let i=()=>({path:e,error:Os(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=J4(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!us(s))return i();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[A,T])=>`${S}${A}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!us(s))return i();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=f2(n.formData),f=n.formData;else if(n.body instanceof FormData)d=f2(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=KC(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=KC(d)}catch{return i()}let p={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(us(p.formMethod))return{path:e,submission:p};let y=Gl(e);return t&&y.search&&mb(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Fl(y),submission:p}}function VC(t,e,n,i,r,s,l,d,f,p,y,_,S,A,T,O,R,B,G,j){var Ie;let k=j?cs(j[1])?j[1].error:j[1].data:void 0,D=r.createURL(s.location),L=r.createURL(f),z;if(y&&s.errors){let Se=Object.keys(s.errors)[0];z=l.findIndex(te=>te.route.id===Se)}else if(j&&cs(j[1])){let Se=j[0];z=l.findIndex(te=>te.route.id===Se)-1}let V=j?j[1].statusCode:void 0,X=V&&V>=400,ie={currentUrl:D,currentParams:((Ie=s.matches[0])==null?void 0:Ie.params)||{},nextUrl:L,nextParams:l[0].params,...d,actionResult:k,actionStatus:V},ae=l.map((Se,te)=>{let{route:Z}=Se,le=null;if(z!=null&&te>z?le=!1:Z.lazy?le=!0:Z.loader==null?le=!1:y?le=u2(Z,s.loaderData,s.errors):Bk(s.loaderData,s.matches[te],Se)&&(le=!0),le!==null)return d2(n,i,t,Se,p,e,le);let xe=X?!1:_||D.pathname+D.search===L.pathname+L.search||D.search!==L.search||Lk(s.matches[te],Se),Ce={...ie,defaultShouldRevalidate:xe},Q=P1(Se,Ce);return d2(n,i,t,Se,p,e,Q,Ce)}),ue=[];return T.forEach((Se,te)=>{if(y||!l.some(Re=>Re.route.id===Se.routeId)||A.has(te))return;let Z=s.fetchers.get(te),le=Z&&Z.state!=="idle"&&Z.data===void 0,xe=El(R,Se.path,B);if(!xe){if(G&&le)return;ue.push({key:te,routeId:Se.routeId,path:Se.path,matches:null,match:null,request:null,controller:null});return}if(O.has(te))return;let Ce=jf(xe,Se.path),Q=new AbortController,fe=td(r,Se.path,Q.signal),Ee=null;if(S.has(te))S.delete(te),Ee=cd(n,i,fe,xe,Ce,p,e);else if(le)_&&(Ee=cd(n,i,fe,xe,Ce,p,e));else{let Re={...ie,defaultShouldRevalidate:X?!1:_};P1(Ce,Re)&&(Ee=cd(n,i,fe,xe,Ce,p,e,Re))}Ee&&ue.push({key:te,routeId:Se.routeId,path:Se.path,matches:Ee,match:Ce,request:fe,controller:Q})}),{dsMatches:ae,revalidatingFetchers:ue}}function u2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function Bk(t,e,n){let i=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return i||r}function Lk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function P1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function GC(t,e,n,i,r){let s;if(t){let f=i[t];Gt(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=n;let l=e.filter(f=>!s.some(p=>X4(f,p))),d=B1(l,r,[t||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...d)}function X4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>X4(n,s))}):!1}var qC=new WeakMap,Y4=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let r=n[e.id];if(Gt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let s=r.lazy[t];if(!s)return;let l=qC.get(r);l||(l={},qC.set(r,l));let d=l[t];if(d)return d;let f=(async()=>{let p=rk(t),_=r[t]!==void 0&&t!=="hasErrorBoundary";if(p)ri(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(_)ri(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await s();S!=null&&(Object.assign(r,{[t]:S}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(S=>S===void 0)&&(r.lazy=void 0))})();return l[t]=f,f},WC=new WeakMap;function jk(t,e,n,i,r){let s=n[t.id];if(Gt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=WC.get(s);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Gt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),A={};for(let T in S){let O=S[T];if(O===void 0)continue;let R=ak(T),G=s[T]!==void 0&&T!=="hasErrorBoundary";R?ri(!R,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?ri(!G,`Route "${s.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):A[T]=O}Object.assign(s,A),Object.assign(s,{...i(s),lazy:void 0})})();return WC.set(s,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let l=Object.keys(t.lazy),d=[],f;for(let y of l){if(r&&r.includes(y))continue;let _=Y4({key:y,route:t,manifest:n,mapRouteProperties:i});_&&(d.push(_),y===e&&(f=_))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function XC(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,s)=>{n[e[s].route.id]=r}),n}async function Pk(t){return t.matches.some(e=>e.route.unstable_middleware)?K4(t,!1,()=>XC(t),(e,n)=>({[n]:{type:"error",result:e}})):XC(t)}async function K4(t,e,n,i){let{matches:r,request:s,params:l,context:d}=t,f={handlerResult:void 0};try{let p=r.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(S=>[_.route.id,S]):[]),y=await Z4({request:s,params:l,context:d},p,e,f,n);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await i(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function Z4(t,e,n,i,r,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=e[s];if(!d)return i.handlerResult=await r(),i.handlerResult;let[f,p]=d,y=!1,_,S=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await Z4(t,e,n,i,r,s+1)};try{let A=await p({request:t.request,params:t.params,context:t.context},S);return y?A===void 0?_:A:S()}catch(A){throw i.middlewareError?i.middlewareError.error!==A&&(i.middlewareError={routeId:f,error:A}):i.middlewareError={routeId:f,error:A},A}}function Q4(t,e,n,i,r){let s=Y4({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),l=jk(i.route,us(n.method)?"action":"loader",e,t,r);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function d2(t,e,n,i,r,s,l,d=null){let f=!1,p=Q4(t,e,n,i,r);return{...i,_lazyPromises:p,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return f=!0,d?typeof y=="boolean"?P1(i,{...d,defaultShouldRevalidate:y}):P1(i,d):l},resolve(y){return f||l||y&&n.method==="GET"&&(i.route.lazy||i.route.loader)?zk({request:n,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function cd(t,e,n,i,r,s,l,d=null){return i.map(f=>f.route.id!==r.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Q4(t,e,n,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:d2(t,e,n,f,s,l,!0,d))}async function Fk(t,e,n,i,r,s){n.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let l={request:e,params:n[0].params,context:r,matches:n},f=await t({...l,fetcherKey:i,unstable_runClientMiddleware:p=>{let y=l;return K4(y,!1,()=>p({...y,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,S)=>({[S]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(p=>{var y,_;return[(y=p._lazyPromises)==null?void 0:y.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return f}async function zk({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:r,scopedContext:s}){let l,d,f=us(t.method),p=f?"action":"loader",y=_=>{let S,A=new Promise((R,B)=>S=B);d=()=>S(),t.signal.addEventListener("abort",d);let T=R=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:s},...R!==void 0?[R]:[]),O=(async()=>{try{return{type:"data",result:await(r?r(B=>T(B)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([O,A])};try{let _=f?e.route.action:e.route.loader;if(n||i)if(_){let S,[A]=await Promise.all([y(_).catch(T=>{S=T}),n,i]);if(S!==void 0)throw S;l=A}else{await n;let S=f?e.route.action:e.route.loader;if(S)[l]=await Promise.all([y(S),i]);else if(p==="action"){let A=new URL(t.url),T=A.pathname+A.search;throw Os(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)l=await y(_);else{let S=new URL(t.url),A=S.pathname+S.search;throw Os(404,{pathname:A})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return l}async function Hk(t){var i,r,s,l,d,f;let{result:e,type:n}=t;if(eA(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new j1(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?t3(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new j1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:nh(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:nh(e)?e.status:void 0}:t3(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Uk(t,e,n,i,r){let s=t.headers.get("Location");if(Gt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!pb.test(s)){let l=i.slice(0,i.findIndex(d=>d.route.id===n)+1);s=c2(new URL(e.url),l,r,s),t.headers.set("Location",s)}return t}function YC(t,e,n){if(pb.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=js(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function td(t,e,n,i){let r=t.createURL(J4(e)).toString(),s={signal:n};if(i&&us(i.formMethod)){let{formMethod:l,formEncType:d}=i;s.method=l.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(i.json)):d==="text/plain"?s.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?s.body=f2(i.formData):s.body=i.formData}return new Request(r,s)}function f2(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function KC(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function $k(t,e,n,i=!1,r=!1){let s={},l=null,d,f=!1,p={},y=n&&cs(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,A=e[S];if(Gt(!Nc(A),"Cannot handle redirect results in processLoaderData"),cs(A)){let T=A.error;if(y!==void 0&&(T=y,y=void 0),l=l||{},r)l[S]=T;else{let O=Ec(t,S);l[O.route.id]==null&&(l[O.route.id]=T)}i||(s[S]=W4),f||(f=!0,d=nh(A.error)?A.error.status:500),A.headers&&(p[S]=A.headers)}else s[S]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(d=A.statusCode),A.headers&&(p[S]=A.headers)}),y!==void 0&&n&&(l={[n[0]]:y},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:d||200,loaderHeaders:p}}function ZC(t,e,n,i,r,s){let{loaderData:l,errors:d}=$k(e,n,i);return r.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:_}=f,S=s[p];if(Gt(S,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(cs(S)){let A=Ec(t.matches,y==null?void 0:y.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:S.error}),t.fetchers.delete(p)}else if(Nc(S))Gt(!1,"Unhandled fetcher revalidation redirect");else{let A=vl(S.data);t.fetchers.set(p,A)}}),{loaderData:l,errors:d}}function QC(t,e,n,i){let r=Object.entries(e).filter(([,s])=>s!==W4).reduce((s,[l,d])=>(s[l]=d,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(r[l]=t[l]),i&&i.hasOwnProperty(l))break}return r}function JC(t){return t?cs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ec(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function e3(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Os(t,{pathname:e,routeId:n,method:i,type:r,message:s}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(d="Unable to encode submission body")):t===403?(l="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",d=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new j1(t||500,l,new Error(d),!0)}function $p(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(Nc(r))return{key:i,result:r}}}function J4(t){let e=typeof t=="string"?Gl(t):t;return Fl({...e,hash:""})}function Vk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Gk(t){return eA(t.result)&&Ik.has(t.result.status)}function cs(t){return t.type==="error"}function Nc(t){return(t&&t.type)==="redirect"}function t3(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function eA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qk(t){return Nk.has(t.toUpperCase())}function us(t){return Ak.has(t.toUpperCase())}function mb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jf(t,e){let n=typeof e=="string"?Gl(e).search:e.search;if(t[t.length-1].route.index&&mb(n||""))return t[t.length-1];let i=V4(t);return i[i.length-1]}function n3(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:l}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function Mx(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _f(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Xk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function vl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Yk(t,e){try{let n=t.sessionStorage.getItem(q4);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function Kk(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(q4,JSON.stringify(n))}catch(i){ri(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function Zk(){let t,e,n=new Promise((i,r)=>{t=async s=>{i(s);try{await n}catch{}},e=async s=>{r(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Zc=P.createContext(null);Zc.displayName="DataRouter";var yh=P.createContext(null);yh.displayName="DataRouterState";var gb=P.createContext({isTransitioning:!1});gb.displayName="ViewTransition";var tA=P.createContext(new Map);tA.displayName="Fetchers";var Qk=P.createContext(null);Qk.displayName="Await";var Js=P.createContext(null);Js.displayName="Navigation";var Km=P.createContext(null);Km.displayName="Location";var Ps=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var xb=P.createContext(null);xb.displayName="RouteError";function Jk(t,{relative:e}={}){Gt(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Js),{hash:r,pathname:s,search:l}=bh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Oa([n,s])),i.createHref({pathname:d,search:l,hash:r})}function _d(){return P.useContext(Km)!=null}function gi(){return Gt(_d(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Km).location}var nA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iA(t){P.useContext(Js).static||P.useLayoutEffect(t)}function Jt(){let{isDataRoute:t}=P.useContext(Ps);return t?pM():eM()}function eM(){Gt(_d(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Zc),{basename:e,navigator:n}=P.useContext(Js),{matches:i}=P.useContext(Ps),{pathname:r}=gi(),s=JSON.stringify(Xm(i)),l=P.useRef(!1);return iA(()=>{l.current=!0}),P.useCallback((f,p={})=>{if(ri(l.current,nA),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=Ym(f,JSON.parse(s),r,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Oa([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,s,r,t])}var tM=P.createContext(null);function nM(t){let e=P.useContext(Ps).outlet;return e&&P.createElement(tM.Provider,{value:t},e)}function Fs(){let{matches:t}=P.useContext(Ps),e=t[t.length-1];return e?e.params:{}}function bh(t,{relative:e}={}){let{matches:n}=P.useContext(Ps),{pathname:i}=gi(),r=JSON.stringify(Xm(n));return P.useMemo(()=>Ym(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function iM(t,e,n,i){Gt(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=P.useContext(Js),{matches:s}=P.useContext(Ps),l=s[s.length-1],d=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let B=y&&y.path||"";rA(f,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=gi(),S;S=_;let A=S.pathname||"/",T=A;if(p!=="/"){let B=p.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let O=El(t,{pathname:T});return ri(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ri(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lM(O&&O.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Oa([p,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Oa([p,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),s,n,i)}function rM(){let t=hM(),e=nh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:r},n):null,l)}var sM=P.createElement(rM,null),aM=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(Ps.Provider,{value:this.props.routeContext},P.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oM({routeContext:t,match:e,children:n}){let i=P.useContext(Zc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ps.Provider,{value:t},n)}function lM(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let f=r.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);Gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:_}=n,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){l=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,p,y)=>{let _,S=!1,A=null,T=null;n&&(_=s&&p.route.id?s[p.route.id]:void 0,A=p.route.errorElement||sM,l&&(d<0&&y===0?(rA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===y&&(S=!0,T=p.route.hydrateFallbackElement||null)));let O=e.concat(r.slice(0,y+1)),R=()=>{let B;return _?B=A:S?B=T:p.route.Component?B=P.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=f,P.createElement(oM,{match:p,routeContext:{outlet:f,matches:O,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?P.createElement(aM,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):R()},null)}function yb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cM(t){let e=P.useContext(Zc);return Gt(e,yb(t)),e}function uM(t){let e=P.useContext(yh);return Gt(e,yb(t)),e}function dM(t){let e=P.useContext(Ps);return Gt(e,yb(t)),e}function bb(t){let e=dM(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fM(){return bb("useRouteId")}function hM(){var i;let t=P.useContext(xb),e=uM("useRouteError"),n=bb("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function pM(){let{router:t}=cM("useNavigate"),e=bb("useNavigate"),n=P.useRef(!1);return iA(()=>{n.current=!0}),P.useCallback(async(r,s={})=>{ri(n.current,nA),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var i3={};function rA(t,e,n){!e&&!i3[t]&&(i3[t]=!0,ri(!1,n))}var r3={};function s3(t,e){!t&&!r3[e]&&(r3[e]=!0,console.warn(e))}function mM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ri(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ri(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ri(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var gM=["HydrateFallback","hydrateFallbackElement"],xM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function yM({router:t,flushSync:e}){let[n,i]=P.useState(t.state),[r,s]=P.useState(),[l,d]=P.useState({isTransitioning:!1}),[f,p]=P.useState(),[y,_]=P.useState(),[S,A]=P.useState(),T=P.useRef(new Map),O=P.useCallback((j,{deletedFetchers:k,flushSync:D,viewTransitionOpts:L})=>{j.fetchers.forEach((V,X)=>{V.data!==void 0&&T.current.set(X,V.data)}),k.forEach(V=>T.current.delete(V)),s3(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(s3(L==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!z){e&&D?e(()=>i(j)):P.startTransition(()=>i(j));return}if(e&&D){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let V=t.window.document.startViewTransition(()=>{e(()=>i(j))});V.finished.finally(()=>{e(()=>{p(void 0),_(void 0),s(void 0),d({isTransitioning:!1})})}),e(()=>_(V));return}y?(f&&f.resolve(),y.skipTransition(),A({state:j,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(s(j),d({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,y,f]);P.useLayoutEffect(()=>t.subscribe(O),[t,O]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new xM)},[l]),P.useEffect(()=>{if(f&&r&&t.window){let j=r,k=f.promise,D=t.window.document.startViewTransition(async()=>{P.startTransition(()=>i(j)),await k});D.finished.finally(()=>{p(void 0),_(void 0),s(void 0),d({isTransitioning:!1})}),_(D)}},[r,f,t.window]),P.useEffect(()=>{f&&r&&n.location.key===r.location.key&&f.resolve()},[f,y,n.location,r]),P.useEffect(()=>{!l.isTransitioning&&S&&(s(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),A(void 0))},[l.isTransitioning,S]);let R=P.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,k,D)=>t.navigate(j,{state:k,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(j,k,D)=>t.navigate(j,{replace:!0,state:k,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),B=t.basename||"/",G=P.useMemo(()=>({router:t,navigator:R,static:!1,basename:B}),[t,R,B]);return P.createElement(P.Fragment,null,P.createElement(Zc.Provider,{value:G},P.createElement(yh.Provider,{value:n},P.createElement(tA.Provider,{value:T.current},P.createElement(gb.Provider,{value:l},P.createElement(_M,{basename:B,location:n.location,navigationType:n.historyAction,navigator:R},P.createElement(bM,{routes:t.routes,future:t.future,state:n})))))),null)}var bM=P.memo(vM);function vM({routes:t,future:e,state:n}){return iM(t,void 0,n,e)}function wM({to:t,replace:e,state:n,relative:i}){Gt(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=P.useContext(Js);ri(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(Ps),{pathname:l}=gi(),d=Jt(),f=Ym(t,Xm(s),l,i==="path"),p=JSON.stringify(f);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function vb(t){return nM(t.context)}function _M({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Gt(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof n=="string"&&(n=Gl(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:S="default"}=n,A=P.useMemo(()=>{let T=js(f,l);return T==null?null:{location:{pathname:T,search:p,hash:y,state:_,key:S},navigationType:i}},[l,f,p,y,_,S,i]);return ri(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:P.createElement(Js.Provider,{value:d},P.createElement(Km.Provider,{children:e,value:A}))}var _1="get",C1="application/x-www-form-urlencoded";function Zm(t){return t!=null&&typeof t.tagName=="string"}function CM(t){return Zm(t)&&t.tagName.toLowerCase()==="button"}function SM(t){return Zm(t)&&t.tagName.toLowerCase()==="form"}function EM(t){return Zm(t)&&t.tagName.toLowerCase()==="input"}function AM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TM(t,e){return t.button===0&&(!e||e==="_self")&&!AM(t)}function h2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function NM(t,e){let n=h2(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}var Vp=null;function IM(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch{Vp=!0}return Vp}var kM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ox(t){return t!=null&&!kM.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C1}"`),null):t}function MM(t,e){let n,i,r,s,l;if(SM(t)){let d=t.getAttribute("action");i=d?js(d,e):null,n=t.getAttribute("method")||_1,r=Ox(t.getAttribute("enctype"))||C1,s=new FormData(t)}else if(CM(t)||EM(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?js(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||_1,r=Ox(t.getAttribute("formenctype"))||Ox(d.getAttribute("enctype"))||C1,s=new FormData(d,t),!IM()){let{name:p,type:y,value:_}=t;if(y==="image"){let S=p?`${p}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else p&&s.append(p,_)}}else{if(Zm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_1,i=null,r=C1,l=t}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:l}}function wb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function OM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DM(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await OM(s,n);return l.links?l.links():[]}return[]}));return PM(i.flat(1).filter(RM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function a3(t,e,n,i,r,s){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var y;return n[p].pathname!==f.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,p)=>l(f,p)||d(f,p)):s==="data"?e.filter((f,p)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let S=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function BM(t,e,{includeHydrateFallback:n}={}){return LM(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function LM(t){return[...new Set(t)]}function jM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function PM(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(jM(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FM=new Set([100,101,204,205]);function zM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&js(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sA(){let t=P.useContext(Zc);return wb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HM(){let t=P.useContext(yh);return wb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _b=P.createContext(void 0);_b.displayName="FrameworkContext";function aA(){let t=P.useContext(_b);return wb(t,"You must render this element inside a <HydratedRouter> element"),t}function UM(t,e){let n=P.useContext(_b),[i,r]=P.useState(!1),[s,l]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,S=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let O=B=>{B.forEach(G=>{l(G.isIntersecting)})},R=new IntersectionObserver(O,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[t]),P.useEffect(()=>{if(i){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[i]);let A=()=>{r(!0)},T=()=>{r(!1),l(!1)};return n?t!=="intent"?[s,S,{}]:[s,S,{onFocus:Cf(d,A),onBlur:Cf(f,T),onMouseEnter:Cf(p,A),onMouseLeave:Cf(y,T),onTouchStart:Cf(_,A)}]:[!1,S,{}]}function Cf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $M({page:t,...e}){let{router:n}=sA(),i=P.useMemo(()=>El(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(GM,{page:t,matches:i,...e}):null}function VM(t){let{manifest:e,routeModules:n}=aA(),[i,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return DM(t,e,n).then(l=>{s||r(l)}),()=>{s=!0}},[t,e,n]),i}function GM({page:t,matches:e,...n}){let i=gi(),{manifest:r,routeModules:s}=aA(),{basename:l}=sA(),{loaderData:d,matches:f}=HM(),p=P.useMemo(()=>a3(t,e,f,r,i,"data"),[t,e,f,r,i]),y=P.useMemo(()=>a3(t,e,f,r,i,"assets"),[t,e,f,r,i]),_=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let T=new Set,O=!1;if(e.forEach(B=>{var j;let G=r.routes[B.route.id];!G||!G.hasLoader||(!p.some(k=>k.route.id===B.route.id)&&B.route.id in d&&((j=s[B.route.id])!=null&&j.shouldRevalidate)||G.hasClientLoader?O=!0:T.add(B.route.id))}),T.size===0)return[];let R=zM(t,l);return O&&T.size>0&&R.searchParams.set("_routes",e.filter(B=>T.has(B.route.id)).map(B=>B.route.id).join(",")),[R.pathname+R.search]},[l,d,i,r,p,e,t,s]),S=P.useMemo(()=>BM(y,r),[y,r]),A=VM(y);return P.createElement(P.Fragment,null,_.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),A.map(({key:T,link:O})=>P.createElement("link",{key:T,...O})))}function qM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oA&&(window.__reactRouterVersion="7.6.1")}catch{}function WM(t,e){return Rk({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:ek({window:e==null?void 0:e.window}),hydrationData:XM(),routes:t,mapRouteProperties:mM,hydrationRouteProperties:gM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function XM(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:YM(t.errors)}),t}function YM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new j1(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let l=new s(r.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}var lA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:d,target:f,to:p,preventScrollReset:y,viewTransition:_,...S},A){let{basename:T}=P.useContext(Js),O=typeof p=="string"&&lA.test(p),R,B=!1;if(typeof p=="string"&&O&&(R=p,oA))try{let X=new URL(window.location.href),ie=p.startsWith("//")?new URL(X.protocol+p):new URL(p),ae=js(ie.pathname,T);ie.origin===X.origin&&ae!=null?p=ae+ie.search+ie.hash:B=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Jk(p,{relative:r}),[j,k,D]=UM(i,S),L=QM(p,{replace:l,state:d,target:f,preventScrollReset:y,relative:r,viewTransition:_});function z(X){e&&e(X),X.defaultPrevented||L(X)}let V=P.createElement("a",{...S,...D,href:R||G,onClick:B||s?e:z,ref:qM(A,k),target:f,"data-discover":!O&&n==="render"?"true":void 0});return j&&!O?P.createElement(P.Fragment,null,V,P.createElement($M,{page:G})):V});Rn.displayName="Link";var cA=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:d,children:f,...p},y){let _=bh(l,{relative:p.relative}),S=gi(),A=P.useContext(yh),{navigator:T,basename:O}=P.useContext(Js),R=A!=null&&rO(_)&&d===!0,B=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,G=S.pathname,j=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(G=G.toLowerCase(),j=j?j.toLowerCase():null,B=B.toLowerCase()),j&&O&&(j=js(j,O)||j);const k=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let D=G===B||!r&&G.startsWith(B)&&G.charAt(k)==="/",L=j!=null&&(j===B||!r&&j.startsWith(B)&&j.charAt(B.length)==="/"),z={isActive:D,isPending:L,isTransitioning:R},V=D?e:void 0,X;typeof i=="function"?X=i(z):X=[i,D?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof s=="function"?s(z):s;return P.createElement(Rn,{...p,"aria-current":V,className:X,ref:y,style:ie,to:l,viewTransition:d},typeof f=="function"?f(z):f)});cA.displayName="NavLink";var KM=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:l=_1,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...S},A)=>{let T=nO(),O=iO(d,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&lA.test(d),G=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,D=(k==null?void 0:k.getAttribute("formmethod"))||l;T(k||j.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:s,relative:p,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:A,method:R,action:O,onSubmit:i?f:G,...S,"data-discover":!B&&t==="render"?"true":void 0})});KM.displayName="Form";function ZM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uA(t){let e=P.useContext(Zc);return Gt(e,ZM(t)),e}function QM(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:l}={}){let d=Jt(),f=gi(),p=bh(t,{relative:s});return P.useCallback(y=>{if(TM(y,e)){y.preventDefault();let _=n!==void 0?n:Fl(f)===Fl(p);d(t,{replace:_,state:i,preventScrollReset:r,relative:s,viewTransition:l})}},[f,d,p,n,i,e,t,r,s,l])}function JM(t){ri(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(h2(t)),n=P.useRef(!1),i=gi(),r=P.useMemo(()=>NM(i.search,n.current?null:e.current),[i.search]),s=Jt(),l=P.useCallback((d,f)=>{const p=h2(typeof d=="function"?d(r):d);n.current=!0,s("?"+p,f)},[s,r]);return[r,l]}var eO=0,tO=()=>`__${String(++eO)}__`;function nO(){let{router:t}=uA("useSubmit"),{basename:e}=P.useContext(Js),n=fM();return P.useCallback(async(i,r={})=>{let{action:s,method:l,encType:d,formData:f,body:p}=MM(i,e);if(r.navigate===!1){let y=r.fetcherKey||tO();await t.fetch(y,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function iO(t,{relative:e}={}){let{basename:n}=P.useContext(Js),i=P.useContext(Ps);Gt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...bh(t||".",{relative:e})},l=gi();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();s.search=y?`?${y}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Oa([n,s.pathname])),Fl(s)}function rO(t,e={}){let n=P.useContext(gb);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uA("useViewTransitionState"),r=bh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=js(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=js(n.nextLocation.pathname,i)||n.nextLocation.pathname;return L1(r.pathname,l)!=null||L1(r.pathname,s)!=null}[...FM];var dA=P4();const sO=Do(dA);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aO(t){return P.createElement(yM,{flushSync:dA.flushSync,...t})}function fA(){const{pathname:t}=gi();return P.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const oO="_headerLayout_jfqe8_1",lO="_logoSpan_jfqe8_37",cO="_rightSection_jfqe8_75",Gp={headerLayout:oO,logoSpan:lO,rightSection:cO};var qp={},o3;function uO(){if(o3)return qp;o3=1,qp.match=s,qp.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/;function s(y,_){return l(y).some(function(S){var A=S.inverse,T=S.type==="all"||_.type===S.type;if(T&&A||!(T||A))return!1;var O=S.expressions.every(function(R){var B=R.feature,G=R.modifier,j=R.value,k=_[B];if(!k)return!1;switch(B){case"orientation":case"scan":return k.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=p(j),k=p(k);break;case"resolution":j=f(j),k=f(k);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=d(j),k=d(k);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,k=parseInt(k,10)||0;break}switch(G){case"min":return k>=j;case"max":return k<=j;default:return k===j}});return O&&!A||!O&&A})}function l(y){return y.split(",").map(function(_){_=_.trim();var S=_.match(t),A=S[1],T=S[2],O=S[3]||"",R={};return R.inverse=!!A&&A.toLowerCase()==="not",R.type=T?T.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],R.expressions=O.map(function(B){var G=B.match(e),j=G[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:G[2]}}),R})}function d(y){var _=Number(y),S;return _||(S=y.match(/^(\d+)\s*\/\s*(\d+)$/),_=S[1]/S[2]),_}function f(y){var _=parseFloat(y),S=String(y).match(r)[1];switch(S){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function p(y){var _=parseFloat(y),S=String(y).match(i)[1];switch(S){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return qp}var Rx,l3;function dO(){if(l3)return Rx;l3=1;var t=uO().match,e=typeof window<"u"?window.matchMedia:null;function n(r,s,l){var d=this,f;e&&!l&&(f=e.call(window,r)),f?(this.matches=f.matches,this.media=f.media,f.addListener(_)):(this.matches=t(r,s),this.media=r),this.addListener=p,this.removeListener=y,this.dispose=S;function p(A){f&&f.addListener(A)}function y(A){f&&f.removeListener(A)}function _(A){d.matches=A.matches,d.media=A.media}function S(){f&&f.removeListener(_)}}function i(r,s,l){return new n(r,s,l)}return Rx=i,Rx}var fO=dO();const hO=Do(fO);var pO=/[A-Z]/g,mO=/^ms-/,Dx={};function gO(t){return"-"+t.toLowerCase()}function hA(t){if(Dx.hasOwnProperty(t))return Dx[t];var e=t.replace(pO,gO);return Dx[t]=mO.test(e)?"-"+e:e}function xO(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),i=Object.keys(e),r=n.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const l=n[s];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var Bx={exports:{}},Lx,c3;function yO(){if(c3)return Lx;c3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lx=t,Lx}var jx,u3;function bO(){if(u3)return jx;u3=1;var t=yO();function e(){}function n(){}return n.resetWarningCache=e,jx=function(){function i(l,d,f,p,y,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},jx}var d3;function Cb(){return d3||(d3=1,Bx.exports=bO()()),Bx.exports}var vO=Cb();const ot=Do(vO),_r=ot.oneOfType([ot.string,ot.number]),pA={all:ot.bool,grid:ot.bool,aural:ot.bool,braille:ot.bool,handheld:ot.bool,print:ot.bool,projection:ot.bool,screen:ot.bool,tty:ot.bool,tv:ot.bool,embossed:ot.bool},wO={orientation:ot.oneOf(["portrait","landscape"]),scan:ot.oneOf(["progressive","interlace"]),aspectRatio:ot.string,deviceAspectRatio:ot.string,height:_r,deviceHeight:_r,width:_r,deviceWidth:_r,color:ot.bool,colorIndex:ot.bool,monochrome:ot.bool,resolution:_r,type:Object.keys(pA)},{type:Ahe,..._O}=wO,CO={minAspectRatio:ot.string,maxAspectRatio:ot.string,minDeviceAspectRatio:ot.string,maxDeviceAspectRatio:ot.string,minHeight:_r,maxHeight:_r,minDeviceHeight:_r,maxDeviceHeight:_r,minWidth:_r,maxWidth:_r,minDeviceWidth:_r,maxDeviceWidth:_r,minColor:ot.number,maxColor:ot.number,minColorIndex:ot.number,maxColorIndex:ot.number,minMonochrome:ot.number,maxMonochrome:ot.number,minResolution:_r,maxResolution:_r,..._O},SO={...pA,...CO};var EO={all:SO};const AO=t=>`not ${t}`,TO=(t,e)=>{const n=hA(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?AO(n):`(${n}: ${e})`},NO=t=>t.join(" and "),IO=t=>{const e=[];return Object.keys(EO.all).forEach(n=>{const i=t[n];i!=null&&e.push(TO(n,i))}),NO(e)},kO=P.createContext(void 0),MO=t=>t.query||IO(t),f3=t=>t?Object.keys(t).reduce((n,i)=>(n[hA(i)]=t[i],n),{}):void 0,mA=()=>{const t=P.useRef(!1);return P.useEffect(()=>{t.current=!0},[]),t.current},OO=t=>{const e=P.useContext(kO),n=()=>f3(t)||f3(e),[i,r]=P.useState(n);return P.useEffect(()=>{const s=n();xO(i,s)||r(s)},[t,e]),i},RO=t=>{const e=()=>MO(t),[n,i]=P.useState(e);return P.useEffect(()=>{const r=e();n!==r&&i(r)},[t]),n},DO=(t,e)=>{const n=()=>hO(t,e||{},!!e),[i,r]=P.useState(n),s=mA();return P.useEffect(()=>{if(s){const l=n();return r(l),()=>{l&&l.dispose()}}},[t,e]),i},BO=t=>{const[e,n]=P.useState(t.matches);return P.useEffect(()=>{const i=r=>{n(r.matches)};return t.addListener(i),n(t.matches),()=>{t.removeListener(i)}},[t]),e},Px=(t,e,n)=>{const i=OO(e),r=RO(t);if(!r)throw new Error("Invalid or missing MediaQuery!");const s=DO(r,i),l=BO(s);return mA(),P.useEffect(()=>{},[l]),P.useEffect(()=>()=>{s&&s.dispose()},[]),l},gA=()=>{const t=Px({maxWidth:767}),e=Px({minWidth:768,maxWidth:1024}),n=Px({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},LO="_overlay_ry9nc_1",jO="_menuLayout_ry9nc_33",PO="_menuVisible_ry9nc_75",FO="_menuHidden_ry9nc_83",zO="_closeContainer_ry9nc_91",HO="_closeButton_ry9nc_125",UO="_menuSection_ry9nc_183",$O="_userNickname_ry9nc_199",VO="_menuSpan_ry9nc_215",GO="_divider_ry9nc_247",Hn={overlay:LO,menuLayout:jO,menuVisible:PO,menuHidden:FO,closeContainer:zO,closeButton:HO,menuSection:UO,userNickname:$O,menuSpan:VO,divider:GO};function xA(t,e){return function(){return t.apply(e,arguments)}}const{toString:qO}=Object.prototype,{getPrototypeOf:Sb}=Object,{iterator:Qm,toStringTag:yA}=Symbol,Jm=(t=>e=>{const n=qO.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ea=t=>(t=t.toLowerCase(),e=>Jm(e)===t),e0=t=>e=>typeof e===t,{isArray:Cd}=Array,pd=e0("undefined");function vh(t){return t!==null&&!pd(t)&&t.constructor!==null&&!pd(t.constructor)&&zr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bA=ea("ArrayBuffer");function WO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bA(t.buffer),e}const XO=e0("string"),zr=e0("function"),vA=e0("number"),wh=t=>t!==null&&typeof t=="object",YO=t=>t===!0||t===!1,S1=t=>{if(Jm(t)!=="object")return!1;const e=Sb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(yA in t)&&!(Qm in t)},KO=t=>{if(!wh(t)||vh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ZO=ea("Date"),QO=ea("File"),JO=ea("Blob"),eR=ea("FileList"),tR=t=>wh(t)&&zr(t.pipe),nR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zr(t.append)&&((e=Jm(t))==="formdata"||e==="object"&&zr(t.toString)&&t.toString()==="[object FormData]"))},iR=ea("URLSearchParams"),[rR,sR,aR,oR]=["ReadableStream","Request","Response","Headers"].map(ea),lR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _h(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Cd(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(vh(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let d;for(i=0;i<l;i++)d=s[i],e.call(null,t[d],d,t)}}function wA(t,e){if(vh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Ic=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_A=t=>!pd(t)&&t!==Ic;function p2(){const{caseless:t,skipUndefined:e}=_A(this)&&this||{},n={},i=(r,s)=>{const l=t&&wA(n,s)||s;S1(n[l])&&S1(r)?n[l]=p2(n[l],r):S1(r)?n[l]=p2({},r):Cd(r)?n[l]=r.slice():(!e||!pd(r))&&(n[l]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_h(arguments[r],i);return n}const cR=(t,e,n,{allOwnKeys:i}={})=>(_h(e,(r,s)=>{n&&zr(r)?t[s]=xA(r,n):t[s]=r},{allOwnKeys:i}),t),uR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},fR=(t,e,n,i)=>{let r,s,l;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)l=r[s],(!i||i(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=n!==!1&&Sb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},pR=t=>{if(!t)return null;if(Cd(t))return t;let e=t.length;if(!vA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Sb(Uint8Array)),gR=(t,e)=>{const i=(t&&t[Qm]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},xR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},yR=ea("HTMLFormElement"),bR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),h3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vR=ea("RegExp"),CA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};_h(n,(r,s)=>{let l;(l=e(r,s,t))!==!1&&(i[s]=l||r)}),Object.defineProperties(t,i)},wR=t=>{CA(t,(e,n)=>{if(zr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(zr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_R=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Cd(t)?i(t):i(String(t).split(e)),n},CR=()=>{},SR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ER(t){return!!(t&&zr(t.append)&&t[yA]==="FormData"&&t[Qm])}const AR=t=>{const e=new Array(10),n=(i,r)=>{if(wh(i)){if(e.indexOf(i)>=0)return;if(vh(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Cd(i)?[]:{};return _h(i,(l,d)=>{const f=n(l,r+1);!pd(f)&&(s[d]=f)}),e[r]=void 0,s}}return i};return n(t,0)},TR=ea("AsyncFunction"),NR=t=>t&&(wh(t)||zr(t))&&zr(t.then)&&zr(t.catch),SA=((t,e)=>t?setImmediate:e?((n,i)=>(Ic.addEventListener("message",({source:r,data:s})=>{r===Ic&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Ic.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zr(Ic.postMessage)),IR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ic):typeof process<"u"&&process.nextTick||SA,kR=t=>t!=null&&zr(t[Qm]),_e={isArray:Cd,isArrayBuffer:bA,isBuffer:vh,isFormData:nR,isArrayBufferView:WO,isString:XO,isNumber:vA,isBoolean:YO,isObject:wh,isPlainObject:S1,isEmptyObject:KO,isReadableStream:rR,isRequest:sR,isResponse:aR,isHeaders:oR,isUndefined:pd,isDate:ZO,isFile:QO,isBlob:JO,isRegExp:vR,isFunction:zr,isStream:tR,isURLSearchParams:iR,isTypedArray:mR,isFileList:eR,forEach:_h,merge:p2,extend:cR,trim:lR,stripBOM:uR,inherits:dR,toFlatObject:fR,kindOf:Jm,kindOfTest:ea,endsWith:hR,toArray:pR,forEachEntry:gR,matchAll:xR,isHTMLForm:yR,hasOwnProperty:h3,hasOwnProp:h3,reduceDescriptors:CA,freezeMethods:wR,toObjectSet:_R,toCamelCase:bR,noop:CR,toFiniteNumber:SR,findKey:wA,global:Ic,isContextDefined:_A,isSpecCompliantForm:ER,toJSONObject:AR,isAsyncFn:TR,isThenable:NR,setImmediate:SA,asap:IR,isIterable:kR};function It(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}_e.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const EA=It.prototype,AA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AA[t]={value:t}});Object.defineProperties(It,AA);Object.defineProperty(EA,"isAxiosError",{value:!0});It.from=(t,e,n,i,r,s)=>{const l=Object.create(EA);_e.toFlatObject(t,l,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const d=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return It.call(l,d,f,n,i,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",s&&Object.assign(l,s),l};const MR=null;function m2(t){return _e.isPlainObject(t)||_e.isArray(t)}function TA(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function p3(t,e,n){return t?t.concat(e).map(function(r,s){return r=TA(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function OR(t){return _e.isArray(t)&&!t.some(m2)}const RR=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function t0(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,R){return!_e.isUndefined(R[O])});const i=n.metaTokens,r=n.visitor||y,s=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(r))throw new TypeError("visitor must be a function");function p(T){if(T===null)return"";if(_e.isDate(T))return T.toISOString();if(_e.isBoolean(T))return T.toString();if(!f&&_e.isBlob(T))throw new It("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(T)||_e.isTypedArray(T)?f&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function y(T,O,R){let B=T;if(T&&!R&&typeof T=="object"){if(_e.endsWith(O,"{}"))O=i?O:O.slice(0,-2),T=JSON.stringify(T);else if(_e.isArray(T)&&OR(T)||(_e.isFileList(T)||_e.endsWith(O,"[]"))&&(B=_e.toArray(T)))return O=TA(O),B.forEach(function(j,k){!(_e.isUndefined(j)||j===null)&&e.append(l===!0?p3([O],k,s):l===null?O:O+"[]",p(j))}),!1}return m2(T)?!0:(e.append(p3(R,O,s),p(T)),!1)}const _=[],S=Object.assign(RR,{defaultVisitor:y,convertValue:p,isVisitable:m2});function A(T,O){if(!_e.isUndefined(T)){if(_.indexOf(T)!==-1)throw Error("Circular reference detected in "+O.join("."));_.push(T),_e.forEach(T,function(B,G){(!(_e.isUndefined(B)||B===null)&&r.call(e,B,_e.isString(G)?G.trim():G,O,S))===!0&&A(B,O?O.concat(G):[G])}),_.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return A(t),e}function m3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Eb(t,e){this._pairs=[],t&&t0(t,this,e)}const NA=Eb.prototype;NA.append=function(e,n){this._pairs.push([e,n])};NA.toString=function(e){const n=e?function(i){return e.call(this,i,m3)}:m3;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function DR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function IA(t,e,n){if(!e)return t;const i=n&&n.encode||DR;_e.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=_e.isURLSearchParams(e)?e.toString():new Eb(e,n).toString(i),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class g3{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(i){i!==null&&e(i)})}}const kA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BR=typeof URLSearchParams<"u"?URLSearchParams:Eb,LR=typeof FormData<"u"?FormData:null,jR=typeof Blob<"u"?Blob:null,PR={isBrowser:!0,classes:{URLSearchParams:BR,FormData:LR,Blob:jR},protocols:["http","https","file","blob","url","data"]},Ab=typeof window<"u"&&typeof document<"u",g2=typeof navigator=="object"&&navigator||void 0,FR=Ab&&(!g2||["ReactNative","NativeScript","NS"].indexOf(g2.product)<0),zR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HR=Ab&&window.location.href||"http://localhost",UR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ab,hasStandardBrowserEnv:FR,hasStandardBrowserWebWorkerEnv:zR,navigator:g2,origin:HR},Symbol.toStringTag,{value:"Module"})),dr={...UR,...PR};function $R(t,e){return t0(t,new dr.classes.URLSearchParams,{visitor:function(n,i,r,s){return dr.isNode&&_e.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function VR(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GR(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function MA(t){function e(n,i,r,s){let l=n[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=s>=n.length;return l=!l&&_e.isArray(r)?r.length:l,f?(_e.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!d):((!r[l]||!_e.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],s)&&_e.isArray(r[l])&&(r[l]=GR(r[l])),!d)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(i,r)=>{e(VR(i),r,n,0)}),n}return null}function qR(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ch={transitional:kA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=_e.isObject(e);if(s&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return r?JSON.stringify(MA(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return $R(e,this.formSerializer).toString();if((d=_e.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return t0(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),qR(e)):e}],transformResponse:[function(e){const n=this.transitional||Ch.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?It.from(d,It.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{Ch.headers[t]={}});const WR=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XR=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&WR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},x3=Symbol("internals");function Sf(t){return t&&String(t).trim().toLowerCase()}function E1(t){return t===!1||t==null?t:_e.isArray(t)?t.map(E1):String(t)}function YR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const KR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fx(t,e,n,i,r){if(_e.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!_e.isString(e)){if(_e.isString(i))return e.indexOf(i)!==-1;if(_e.isRegExp(i))return i.test(e)}}function ZR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function QR(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,l){return this[i].call(this,e,r,s,l)},configurable:!0})})}let Hr=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(d,f,p){const y=Sf(f);if(!y)throw new Error("header name must be a non-empty string");const _=_e.findKey(r,y);(!_||r[_]===void 0||p===!0||p===void 0&&r[_]!==!1)&&(r[_||f]=E1(d))}const l=(d,f)=>_e.forEach(d,(p,y)=>s(p,y,f));if(_e.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(_e.isString(e)&&(e=e.trim())&&!KR(e))l(XR(e),n);else if(_e.isObject(e)&&_e.isIterable(e)){let d={},f,p;for(const y of e){if(!_e.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[p=y[0]]=(f=d[p])?_e.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}l(d,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=Sf(e),e){const i=_e.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return YR(r);if(_e.isFunction(n))return n.call(this,r,i);if(_e.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Sf(e),e){const i=_e.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Fx(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(l){if(l=Sf(l),l){const d=_e.findKey(i,l);d&&(!n||Fx(i,i[d],d,n))&&(delete i[d],r=!0)}}return _e.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Fx(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return _e.forEach(this,(r,s)=>{const l=_e.findKey(i,s);if(l){n[l]=E1(r),delete n[s];return}const d=e?ZR(s):String(s).trim();d!==s&&delete n[s],n[d]=E1(r),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&_e.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[x3]=this[x3]={accessors:{}}).accessors,r=this.prototype;function s(l){const d=Sf(l);i[d]||(QR(r,l),i[d]=!0)}return _e.isArray(e)?e.forEach(s):s(e),this}};Hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Hr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});_e.freezeMethods(Hr);function zx(t,e){const n=this||Ch,i=e||n,r=Hr.from(i.headers);let s=i.data;return _e.forEach(t,function(d){s=d.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function OA(t){return!!(t&&t.__CANCEL__)}function Sd(t,e,n){It.call(this,t??"canceled",It.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Sd,It,{__CANCEL__:!0});function RA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e7(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),y=i[s];l||(l=p),n[r]=f,i[r]=p;let _=s,S=0;for(;_!==r;)S+=n[_++],_=_%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),p-l<e)return;const A=y&&p-y;return A?Math.round(S*1e3/A):void 0}}function t7(t,e){let n=0,i=1e3/e,r,s;const l=(p,y=Date.now())=>{n=y,r=null,s&&(clearTimeout(s),s=null),t(...p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=i?l(p,y):(r=p,s||(s=setTimeout(()=>{s=null,l(r)},i-_)))},()=>r&&l(r)]}const F1=(t,e,n=3)=>{let i=0;const r=e7(50,250);return t7(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,f=l-i,p=r(f),y=l<=d;i=l;const _={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&y?(d-l)/p:void 0,event:s,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},n)},y3=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},b3=t=>(...e)=>_e.asap(()=>t(...e)),n7=dr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,dr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,i7=dr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const l=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),_e.isString(i)&&l.push("path="+i),_e.isString(r)&&l.push("domain="+r),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function r7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function s7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function DA(t,e,n){let i=!r7(e);return t&&(i||n==!1)?s7(t,e):e}const v3=t=>t instanceof Hr?{...t}:t;function Hc(t,e){e=e||{};const n={};function i(p,y,_,S){return _e.isPlainObject(p)&&_e.isPlainObject(y)?_e.merge.call({caseless:S},p,y):_e.isPlainObject(y)?_e.merge({},y):_e.isArray(y)?y.slice():y}function r(p,y,_,S){if(_e.isUndefined(y)){if(!_e.isUndefined(p))return i(void 0,p,_,S)}else return i(p,y,_,S)}function s(p,y){if(!_e.isUndefined(y))return i(void 0,y)}function l(p,y){if(_e.isUndefined(y)){if(!_e.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function d(p,y,_){if(_ in e)return i(p,y);if(_ in t)return i(void 0,p)}const f={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(p,y,_)=>r(v3(p),v3(y),_,!0)};return _e.forEach(Object.keys({...t,...e}),function(y){const _=f[y]||r,S=_(t[y],e[y],y);_e.isUndefined(S)&&_!==d||(n[y]=S)}),n}const BA=t=>{const e=Hc({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:l,auth:d}=e;if(e.headers=l=Hr.from(l),e.url=IA(DA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),_e.isFormData(n)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_e.isFunction(n.getHeaders)){const f=n.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([y,_])=>{p.includes(y.toLowerCase())&&l.set(y,_)})}}if(dr.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(e)),i||i!==!1&&n7(e.url))){const f=r&&s&&i7.read(s);f&&l.set(r,f)}return e},a7=typeof XMLHttpRequest<"u",o7=a7&&function(t){return new Promise(function(n,i){const r=BA(t);let s=r.data;const l=Hr.from(r.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r,y,_,S,A,T;function O(){A&&A(),T&&T(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(r.method.toUpperCase(),r.url,!0),R.timeout=r.timeout;function B(){if(!R)return;const j=Hr.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!d||d==="text"||d==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:j,config:t,request:R};RA(function(z){n(z),O()},function(z){i(z),O()},D),R=null}"onloadend"in R?R.onloadend=B:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(B)},R.onabort=function(){R&&(i(new It("Request aborted",It.ECONNABORTED,t,R)),R=null)},R.onerror=function(k){const D=k&&k.message?k.message:"Network Error",L=new It(D,It.ERR_NETWORK,t,R);L.event=k||null,i(L),R=null},R.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||kA;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new It(k,D.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,R)),R=null},s===void 0&&l.setContentType(null),"setRequestHeader"in R&&_e.forEach(l.toJSON(),function(k,D){R.setRequestHeader(D,k)}),_e.isUndefined(r.withCredentials)||(R.withCredentials=!!r.withCredentials),d&&d!=="json"&&(R.responseType=r.responseType),p&&([S,T]=F1(p,!0),R.addEventListener("progress",S)),f&&R.upload&&([_,A]=F1(f),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(y=j=>{R&&(i(!j||j.type?new Sd(null,t,R):j),R.abort(),R=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const G=JR(r.url);if(G&&dr.protocols.indexOf(G)===-1){i(new It("Unsupported protocol "+G+":",It.ERR_BAD_REQUEST,t));return}R.send(s||null)})},l7=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(p){if(!r){r=!0,d();const y=p instanceof Error?p:this.reason;i.abort(y instanceof It?y:new Sd(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,s(new It(`timeout ${e} of ms exceeded`,It.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),t=null)};t.forEach(p=>p.addEventListener("abort",s));const{signal:f}=i;return f.unsubscribe=()=>_e.asap(d),f}},c7=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},u7=async function*(t,e){for await(const n of d7(t))yield*c7(n,e)},d7=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},w3=(t,e,n,i)=>{const r=u7(t,e);let s=0,l,d=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:y}=await r.next();if(p){d(),f.close();return}let _=y.byteLength;if(n){let S=s+=_;n(S)}f.enqueue(new Uint8Array(y))}catch(p){throw d(p),p}},cancel(f){return d(f),r.return()}},{highWaterMark:2})},_3=64*1024,{isFunction:Wp}=_e,f7=(({Request:t,Response:e})=>({Request:t,Response:e}))(_e.global),{ReadableStream:C3,TextEncoder:S3}=_e.global,E3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},h7=t=>{t=_e.merge.call({skipUndefined:!0},f7,t);const{fetch:e,Request:n,Response:i}=t,r=e?Wp(e):typeof fetch=="function",s=Wp(n),l=Wp(i);if(!r)return!1;const d=r&&Wp(C3),f=r&&(typeof S3=="function"?(T=>O=>T.encode(O))(new S3):async T=>new Uint8Array(await new n(T).arrayBuffer())),p=s&&d&&E3(()=>{let T=!1;const O=new n(dr.origin,{body:new C3,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!O}),y=l&&d&&E3(()=>_e.isReadableStream(new i("").body)),_={stream:y&&(T=>T.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!_[T]&&(_[T]=(O,R)=>{let B=O&&O[T];if(B)return B.call(O);throw new It(`Response type '${T}' is not supported`,It.ERR_NOT_SUPPORT,R)})});const S=async T=>{if(T==null)return 0;if(_e.isBlob(T))return T.size;if(_e.isSpecCompliantForm(T))return(await new n(dr.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(T)||_e.isArrayBuffer(T))return T.byteLength;if(_e.isURLSearchParams(T)&&(T=T+""),_e.isString(T))return(await f(T)).byteLength},A=async(T,O)=>{const R=_e.toFiniteNumber(T.getContentLength());return R??S(O)};return async T=>{let{url:O,method:R,data:B,signal:G,cancelToken:j,timeout:k,onDownloadProgress:D,onUploadProgress:L,responseType:z,headers:V,withCredentials:X="same-origin",fetchOptions:ie}=BA(T),ae=e||fetch;z=z?(z+"").toLowerCase():"text";let ue=l7([G,j&&j.toAbortSignal()],k),Ie=null;const Se=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let te;try{if(L&&p&&R!=="get"&&R!=="head"&&(te=await A(V,B))!==0){let fe=new n(O,{method:"POST",body:B,duplex:"half"}),Ee;if(_e.isFormData(B)&&(Ee=fe.headers.get("content-type"))&&V.setContentType(Ee),fe.body){const[Re,He]=y3(te,F1(b3(L)));B=w3(fe.body,_3,Re,He)}}_e.isString(X)||(X=X?"include":"omit");const Z=s&&"credentials"in n.prototype,le={...ie,signal:ue,method:R.toUpperCase(),headers:V.normalize().toJSON(),body:B,duplex:"half",credentials:Z?X:void 0};Ie=s&&new n(O,le);let xe=await(s?ae(Ie,ie):ae(O,le));const Ce=y&&(z==="stream"||z==="response");if(y&&(D||Ce&&Se)){const fe={};["status","statusText","headers"].forEach(qe=>{fe[qe]=xe[qe]});const Ee=_e.toFiniteNumber(xe.headers.get("content-length")),[Re,He]=D&&y3(Ee,F1(b3(D),!0))||[];xe=new i(w3(xe.body,_3,Re,()=>{He&&He(),Se&&Se()}),fe)}z=z||"text";let Q=await _[_e.findKey(_,z)||"text"](xe,T);return!Ce&&Se&&Se(),await new Promise((fe,Ee)=>{RA(fe,Ee,{data:Q,headers:Hr.from(xe.headers),status:xe.status,statusText:xe.statusText,config:T,request:Ie})})}catch(Z){throw Se&&Se(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,T,Ie),{cause:Z.cause||Z}):It.from(Z,Z&&Z.code,T,Ie)}}},p7=new Map,LA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let l=s.length,d=l,f,p,y=p7;for(;d--;)f=s[d],p=y.get(f),p===void 0&&y.set(f,p=d?new Map:h7(e)),y=p;return p};LA();const x2={http:MR,xhr:o7,fetch:{get:LA}};_e.forEach(x2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const A3=t=>`- ${t}`,m7=t=>_e.isFunction(t)||t===null||t===!1,jA={getAdapter:(t,e)=>{t=_e.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let l=0;l<n;l++){i=t[l];let d;if(r=i,!m7(i)&&(r=x2[(d=String(i)).toLowerCase()],r===void 0))throw new It(`Unknown adapter '${d}'`);if(r&&(_e.isFunction(r)||(r=r.get(e))))break;s[d||"#"+l]=r}if(!r){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(A3).join(`
`):" "+A3(l[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:x2};function Hx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sd(null,t)}function T3(t){return Hx(t),t.headers=Hr.from(t.headers),t.data=zx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jA.getAdapter(t.adapter||Ch.adapter,t)(t).then(function(i){return Hx(t),i.data=zx.call(t,t.transformResponse,i),i.headers=Hr.from(i.headers),i},function(i){return OA(i)||(Hx(t),i&&i.response&&(i.response.data=zx.call(t,t.transformResponse,i.response),i.response.headers=Hr.from(i.response.headers))),Promise.reject(i)})}const PA="1.12.2",n0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n0[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const N3={};n0.transitional=function(e,n,i){function r(s,l){return"[Axios v"+PA+"] Transitional option '"+s+"'"+l+(i?". "+i:"")}return(s,l,d)=>{if(e===!1)throw new It(r(l," has been removed"+(n?" in "+n:"")),It.ERR_DEPRECATED);return n&&!N3[l]&&(N3[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,l,d):!0}};n0.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function g7(t,e,n){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],l=e[s];if(l){const d=t[s],f=d===void 0||l(d,s,t);if(f!==!0)throw new It("option "+s+" must be "+f,It.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const A1={assertOptions:g7,validators:n0},va=A1.validators;let Bc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new g3,response:new g3}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hc(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&A1.assertOptions(i,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),r!=null&&(_e.isFunction(r)?n.paramsSerializer={serialize:r}:A1.assertOptions(r,{encode:va.function,serialize:va.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),A1.assertOptions(n,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),n.headers=Hr.concat(l,s);const d=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(f=f&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const p=[];this.interceptors.response.forEach(function(O){p.push(O.fulfilled,O.rejected)});let y,_=0,S;if(!f){const T=[T3.bind(this),void 0];for(T.unshift(...d),T.push(...p),S=T.length,y=Promise.resolve(n);_<S;)y=y.then(T[_++],T[_++]);return y}S=d.length;let A=n;for(;_<S;){const T=d[_++],O=d[_++];try{A=T(A)}catch(R){O.call(this,R);break}}try{y=T3.call(this,A)}catch(T){return Promise.reject(T)}for(_=0,S=p.length;_<S;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=Hc(this.defaults,e);const n=DA(e.baseURL,e.url,e.allowAbsoluteUrls);return IA(n,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){Bc.prototype[e]=function(n,i){return this.request(Hc(i||{},{method:e,url:n,data:(i||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(i){return function(s,l,d){return this.request(Hc(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Bc.prototype[e]=n(),Bc.prototype[e+"Form"]=n(!0)});let x7=class FA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const l=new Promise(d=>{i.subscribe(d),s=d}).then(r);return l.cancel=function(){i.unsubscribe(s)},l},e(function(s,l,d){i.reason||(i.reason=new Sd(s,l,d),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new FA(function(r){e=r}),cancel:e}}};function y7(t){return function(n){return t.apply(null,n)}}function b7(t){return _e.isObject(t)&&t.isAxiosError===!0}const y2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(y2).forEach(([t,e])=>{y2[e]=t});function zA(t){const e=new Bc(t),n=xA(Bc.prototype.request,e);return _e.extend(n,Bc.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return zA(Hc(t,r))},n}const Kn=zA(Ch);Kn.Axios=Bc;Kn.CanceledError=Sd;Kn.CancelToken=x7;Kn.isCancel=OA;Kn.VERSION=PA;Kn.toFormData=t0;Kn.AxiosError=It;Kn.Cancel=Kn.CanceledError;Kn.all=function(e){return Promise.all(e)};Kn.spread=y7;Kn.isAxiosError=b7;Kn.mergeConfig=Hc;Kn.AxiosHeaders=Hr;Kn.formToJSON=t=>MA(_e.isHTMLForm(t)?new FormData(t):t);Kn.getAdapter=jA.getAdapter;Kn.HttpStatusCode=y2;Kn.default=Kn;const{Axios:Ihe,AxiosError:khe,CanceledError:Mhe,isCancel:Ohe,CancelToken:Rhe,VERSION:Dhe,all:Bhe,Cancel:Lhe,isAxiosError:jhe,spread:Phe,toFormData:Fhe,AxiosHeaders:zhe,HttpStatusCode:Hhe,formToJSON:Uhe,getAdapter:$he,mergeConfig:Vhe}=Kn;/*! js-cookie v3.0.5 | MIT */function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var v7={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function b2(t,e){function n(r,s,l){if(!(typeof document>"u")){l=Xp({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var f in l)l[f]&&(d+="; "+f,l[f]!==!0&&(d+="="+l[f].split(";")[0]));return document.cookie=r+"="+t.write(s,r)+d}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],l={},d=0;d<s.length;d++){var f=s[d].split("="),p=f.slice(1).join("=");try{var y=decodeURIComponent(f[0]);if(l[y]=t.read(p,y),r===y)break}catch{}}return r?l[r]:l}}return Object.create({set:n,get:i,remove:function(r,s){n(r,"",Xp({},s,{expires:-1}))},withAttributes:function(r){return b2(this.converter,Xp({},this.attributes,r))},withConverter:function(r){return b2(Xp({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ad=b2(v7,{path:"/"});const w7="ACCESS_TOKEN",pi=Kn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),_7=Kn.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),mt=Kn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});mt.interceptors.request.use(t=>{const e=ad.get(w7);return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Qc=P.createContext(),Yp="ACCESS_TOKEN";function C7({children:t}){const[e,n]=P.useState(null),[i,r]=P.useState(null),[s,l]=P.useState(!0);P.useEffect(()=>{(async()=>{const _=ad.get(Yp);if(_){r(_);try{const S=await mt.get("/api/users/me");n(S.data)}catch{ad.remove(Yp,{path:"/"}),r(null),n(null)}}l(!1)})()},[]);const p={user:e,setUser:n,token:i,login:(y,_)=>{n(y),r(_),ad.set(Yp,_,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{n(null),r(null),ad.remove(Yp,{path:"/"})},isLoading:s};return b.jsx(Qc.Provider,{value:p,children:t})}const ta=()=>P.useContext(Qc),HA=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}];function S7({onOpen:t,isOpen:e}){const n=Jt(),{user:i,logout:r}=P.useContext(Qc),s=()=>{r(),t(),n("/")},l=d=>{t(),n(d)};return console.log(i),b.jsx("div",{className:Hn.overlay,onClick:t,children:b.jsxs("div",{className:`${Hn.menuLayout} ${e?Hn.menuVisible:Hn.menuHidden}`,onClick:d=>d.stopPropagation(),children:[b.jsx("div",{className:Hn.closeContainer,children:b.jsx("button",{className:Hn.closeButton,onClick:t})}),b.jsxs("section",{className:Hn.menuSection,children:[b.jsx("h3",{className:Hn.userNickname,children:i?`${i.user_name} `:" "}),i&&i.admin_flag==="1"&&b.jsx("div",{className:Hn.sidebarMenu,children:b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/console/main"),children:" "})})]}),b.jsx("hr",{className:Hn.divider}),b.jsx("section",{className:Hn.menuSection,children:HA.map(({name:d,label:f,path:p})=>b.jsx("span",{className:Hn.menuSpan,onClick:()=>l(p),children:f},d))}),b.jsx("hr",{className:Hn.divider}),b.jsxs("section",{className:Hn.menuSection,children:[b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/scan"),children:" "}),b.jsx("span",{className:Hn.menuSpan,onClick:()=>{localStorage.setItem("showMyCatalogTab","true"),l("/mypage")},children:" "}),b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/nearby-galleries"),children:" "})]}),b.jsx("hr",{className:Hn.divider}),b.jsxs("section",{className:Hn.menuSection,children:[b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/mypage"),children:""}),b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/announcement"),children:" & FAQ"}),i?b.jsx("span",{className:Hn.menuSpan,onClick:s,children:""}):b.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/login"),children:""})]})]})})}const E7="_navbarNavigation_12t0r_1",A7="_menuList_12t0r_39",T7="_menuItem_12t0r_61",N7="_defaultLink_12t0r_81",I7="_activeLink_12t0r_83",zu={navbarNavigation:E7,menuList:A7,menuItem:T7,defaultLink:N7,activeLink:I7};function k7(){const{pathname:t}=gi();return b.jsx("nav",{className:zu.navbarNavigation,children:b.jsx("ul",{className:zu.menuList,children:HA.map(({label:e,path:n,index:i})=>b.jsx("li",{className:`${zu.menuItem} ${t===n&&zu.currentMenu}`,children:b.jsx(cA,{to:n,className:({isActive:r})=>r?zu.activeLink:zu.defaultLink,children:e})},`${e}-${i}`))})})}const M7=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[b.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),b.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),b.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),O7=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:b.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function UA(){const[t,e]=P.useState(!1),{isDesktop:n}=gA(),i=Jt(),r=()=>{e(!0),document.body.style.overflow="hidden"},s=()=>{e(!1),document.body.style.overflow="unset"},l=()=>{s(),i("/")},d=()=>{s(),i("/notifications")};return b.jsxs("header",{className:Gp.headerLayout,children:[b.jsx("span",{className:Gp.logoSpan,onClick:l,children:"ARTLY"}),n&&b.jsx(k7,{}),b.jsxs("div",{className:Gp.rightSection,children:[b.jsx("button",{className:Gp.notificationButton,onClick:d,"aria-label":"",children:b.jsx(O7,{})}),b.jsx("button",{onClick:t?s:r,children:b.jsx(M7,{})})]}),t&&b.jsx(S7,{onOpen:s,isOpen:t})]})}const R7="_chatbotContainer_9wobd_1",D7="_chatbotOverlay_9wobd_15",B7="_chatbotButton_9wobd_37",L7="_popupContainer_9wobd_71",j7="_headerContainer_9wobd_133",P7="_headerTitle_9wobd_153",F7="_closeButton_9wobd_163",z7="_chatContainer_9wobd_181",H7="_botMessageContainer_9wobd_201",U7="_userMessageContainer_9wobd_219",$7="_botContent_9wobd_235",V7="_botName_9wobd_247",G7="_botProfile_9wobd_263",q7="_botBubble_9wobd_299",W7="_userBubble_9wobd_301",X7="_inputContainer_9wobd_355",Y7="_input_9wobd_355",K7="_sendButton_9wobd_399",Un={chatbotContainer:R7,chatbotOverlay:D7,chatbotButton:B7,popupContainer:L7,headerContainer:j7,headerTitle:P7,closeButton:F7,chatContainer:z7,botMessageContainer:H7,userMessageContainer:U7,botContent:$7,botName:V7,botProfile:G7,botBubble:q7,userBubble:W7,inputContainer:X7,input:Y7,sendButton:K7};var $A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I3=Ht.createContext&&Ht.createContext($A),Z7=["attr","size","title"];function Q7(t,e){if(t==null)return{};var n=J7(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function J7(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z1.apply(this,arguments)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(i){eD(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eD(t,e,n){return e=tD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t){var e=nD(t,"string");return typeof e=="symbol"?e:e+""}function nD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VA(t){return t&&t.map((e,n)=>Ht.createElement(e.tag,H1({key:n},e.attr),VA(e.child)))}function mn(t){return e=>Ht.createElement(iD,z1({attr:H1({},t.attr)},e),VA(t.child))}function iD(t){var e=n=>{var{attr:i,size:r,title:s}=t,l=Q7(t,Z7),d=r||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ht.createElement("svg",z1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:f,style:H1(H1({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&Ht.createElement("title",null,s),t.children)};return I3!==void 0?Ht.createElement(I3.Consumer,null,n=>e(n)):e($A)}function rD(t){return mn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function sD(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function aD(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(t)}const oD=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[b.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),b.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function lD(){const{user:t}=ta(),[e,n]=P.useState(!1),[i,r]=P.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[s,l]=P.useState(""),[d,f]=P.useState(!1),p=P.useRef(null),y=t?mt:pi;P.useRef(null);const _=()=>i[i.length-1].id+1;P.useEffect(()=>{p.current!==null&&p.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[p.current,i]);const S=()=>{n(j=>!j),e?document.body.style.overflow="unset":document.body.style.overflow="hidden"},A=j=>{l(j.target.value)},T=async j=>{const k={id:_(),sender:"user",text:j};r(z=>[...z,k]),console.log(`messages:
`,i);const D={text:j},L={id:_(),sender:"bot",text:"An error occured. Please report this to the service team."};try{f(!0);const z=await y.post("/api/chats",D);let V=z.data;console.log(`GPT Response:
`,z.data),L.text=V}catch(z){console.error("Error occurred while querying GPT:",z)}finally{f(!1)}r(z=>[...z,L]),console.log(`Updated messages:
`,i)},O=j=>j.split(/(\*\*[^\*]+\*\*)/g).map((D,L)=>D.startsWith("**")&&D.endsWith("**")?b.jsx("b",{children:D.slice(2,-2)},L):D),R=j=>{j.key==="Enter"&&B()},B=()=>{const j=s.trim();if(!j)return alert(" !");T(j),l("")},G=j=>{setTimeout(()=>{j.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:Un.chatbotContainer,children:b.jsx("button",{className:Un.chatbotButton,onClick:S,children:b.jsx(rD,{})})}),e&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:Un.chatbotOverlay}),b.jsxs("div",{className:Un.popupContainer,children:[b.jsxs("div",{className:Un.headerContainer,children:[b.jsx("h3",{className:Un.headerTitle,children:"Artly "}),b.jsx("button",{className:Un.closeButton,onClick:S,children:b.jsx(sD,{})})]}),b.jsxs("div",{className:Un.chatContainer,children:[i.map(j=>b.jsx("div",{className:j.sender==="bot"?Un.botMessageContainer:Un.userMessageContainer,ref:p,children:j.sender==="bot"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:Un.botProfile,children:"A"}),b.jsxs("div",{className:Un.botContent,children:[b.jsx("p",{className:Un.botName,children:" "}),b.jsx("div",{className:Un.botBubble,children:b.jsx("p",{children:O(j.text)})})]})]}):b.jsx("div",{className:Un.userMessageContainer,children:b.jsx("div",{className:Un.userBubble,children:b.jsx("p",{children:j.text})})})},j.id)),d&&b.jsxs("div",{className:Un.botMessageContainer,ref:p,children:[b.jsx("div",{className:Un.botProfile,children:"A"}),b.jsxs("div",{className:Un.botContent,children:[b.jsx("p",{className:Un.botName,children:" "}),b.jsx("div",{className:Un.botBubble,children:b.jsx("p",{children:"   .  "})})]})]})]}),b.jsxs("div",{className:Un.inputContainer,children:[b.jsx("input",{className:Un.input,type:"text",value:s,onChange:A,onKeyPress:R,onFocus:G,placeholder:"  "}),b.jsx("button",{className:Un.sendButton,onClick:B,children:b.jsx(oD,{})})]})]})]})]})}function cD(){const t=gi(),n=!["/login","/register","/mypage","/mypage/edit"].some(i=>t.pathname.startsWith(i));return b.jsxs(b.Fragment,{children:[b.jsx(fA,{}),b.jsx(UA,{}),b.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(vb,{})}),n&&b.jsx(lD,{})]})}const uD="_footerLayout_16zxr_1",dD="_linkContainer_16zxr_27",fD="_link_16zxr_27",hD="_divideSpan_16zxr_61",pD="_infoContainer_16zxr_71",Hu={footerLayout:uD,linkContainer:dD,link:fD,divideSpan:hD,infoContainer:pD};function GA(){return b.jsxs("footer",{className:Hu.footerLayout,children:[b.jsxs("div",{className:Hu.linkContainer,children:[b.jsx(Rn,{to:"/announcement",className:Hu.link,children:"&FAQ"}),b.jsx("span",{className:Hu.divideSpan,children:"|"}),b.jsx(Rn,{to:"/termspolicy",className:Hu.link,children:"  "})]}),b.jsxs("div",{className:Hu.infoContainer,children:[b.jsx("p",{children:"()"}),b.jsx("p",{children:" : 477-88-01191"}),b.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),b.jsxs("p",{children:[" All rights reserved by"," ",b.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function mD(){const{user:t}=P.useContext(Qc),e=gi();if(!t||!t.id)return b.jsx(wM,{to:"/login",replace:!0});const n=e.pathname!=="/notifications";return b.jsxs(b.Fragment,{children:[b.jsx(vb,{}),n&&b.jsx(GA,{})]})}const gD="_mainLayout_yo4qg_1",xD="_carouselContainer_yo4qg_25",M3={mainLayout:gD,carouselContainer:xD},yD="_carouselContainer_1avyq_1",bD="_sliderWrapper_1avyq_19",vD="_slider_1avyq_19",wD="_carouselItem_1avyq_43",_D="_carouselImage_1avyq_55",CD="_captionBox_1avyq_71",SD="_title_1avyq_89",ED="_location_1avyq_99",AD="_detailButton_1avyq_111",TD="_arrowButton_1avyq_141",ND="_left_1avyq_177",ID="_right_1avyq_185",kD="_dots_1avyq_193",MD="_dot_1avyq_193",OD="_active_1avyq_235",or={carouselContainer:yD,sliderWrapper:bD,slider:vD,carouselItem:wD,carouselImage:_D,captionBox:CD,title:SD,location:ED,detailButton:AD,arrowButton:TD,left:ND,right:ID,dots:kD,dot:MD,active:OD};function RD(){const[t,e]=P.useState(0),[n,i]=P.useState([]),r=P.useRef(null),s=Jt();P.useEffect(()=>(l(),()=>clearTimeout(r.current)),[t,n]);const l=()=>{clearTimeout(r.current),!(!n||n.length<=1)&&(r.current=setTimeout(()=>{e(y=>(y+1)%n.length)},5e3))},d=()=>{e(y=>(y-1+n.length)%n.length)},f=()=>{e(y=>(y+1)%n.length)},p=y=>e(y);return P.useEffect(()=>{(async()=>{try{const S=(await pi.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:A,exhibition_poster:T,exhibition_title:O,exhibition_category:R,exhibition_status:B,exhibition_start_date:G,exhibition_end_date:j,exhibition_organization:k})=>({id:A,image:T,title:O,category:R,status:B,startDate:G,endDate:j,organization:k}));i(S)}catch(_){console.error("     :",_)}})()},[]),b.jsxs("div",{className:or.carouselContainer,children:[b.jsx("button",{className:`${or.arrowButton} ${or.left}`,onClick:d,children:""}),b.jsx("div",{className:or.sliderWrapper,children:b.jsx("div",{className:or.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(y=>b.jsxs("div",{className:or.carouselItem,children:[b.jsx("img",{src:y==null?void 0:y.image,alt:(y==null?void 0:y.title)||(y==null?void 0:y.name),className:or.carouselImage,onClick:()=>{s(`/exhibitions/${y==null?void 0:y.id}`)}}),b.jsxs("div",{className:or.captionBox,children:[b.jsx("h3",{className:or.title,children:y==null?void 0:y.title}),b.jsxs("p",{className:or.location,children:[y==null?void 0:y.organization.name,""," ",(y==null?void 0:y.period)||`${y==null?void 0:y.startDate} ~ ${y==null?void 0:y.endDate}`]}),b.jsx("button",{className:or.detailButton,onClick:()=>{s(`/exhibitions/${y==null?void 0:y.id}`)},children:" "})]})]},y==null?void 0:y.id))})}),b.jsx("button",{className:`${or.arrowButton} ${or.right}`,onClick:f,children:""}),b.jsx("div",{className:or.dots,children:n.map((y,_)=>b.jsx("button",{onClick:()=>p(_),className:`${or.dot} ${_===t?or.active:""}`},y==null?void 0:y.id))})]})}const DD="_carouselWrapper_dgj9x_1",BD="_titleContainer_dgj9x_19",LD="_carouselTitle_dgj9x_35",jD="_moreButton_dgj9x_47",PD="_carouselViewport_dgj9x_85",FD="_carouselTrack_dgj9x_97",zD="_carouselSlide_dgj9x_117",HD="_artistImage_dgj9x_149",UD="_artistText_dgj9x_165",$D="_name_dgj9x_175",VD="_field_dgj9x_185",GD="_prevButton_dgj9x_195",qD="_nextButton_dgj9x_197",ns={carouselWrapper:DD,titleContainer:BD,carouselTitle:LD,moreButton:jD,carouselViewport:PD,carouselTrack:FD,carouselSlide:zD,artistImage:HD,artistText:UD,name:$D,field:VD,prevButton:GD,nextButton:qD};function WD({title:t}){const[e,n]=P.useState([]),[i,r]=P.useState(1),[s,l]=P.useState(1),[d,f]=P.useState(!1),p=P.useRef(null),y=P.useRef(0),_=P.useRef(0),S=()=>{l(4)};P.useEffect(()=>{(async()=>{try{const D=(await pi.get("/api/artist",{params:{}})).data.map(({id:L,artist_name:z,artist_category:V,artist_image:X})=>({id:L,artist_name:z,artist_category:V,artist_image:X})).slice(0,10);n(D)}catch(k){console.error("     :",k)}})(),S()},[]);const A=j=>{if(d)return;f(!0);const k=p.current.offsetWidth/s;p.current.style.transition="transform 0.4s ease-in-out",p.current.style.transform=`translateX(-${k*j}px)`,r(j)},T=()=>A(i+1),O=()=>A(i-1);P.useEffect(()=>{const j=p.current.offsetWidth/s;p.current.style.transition="none",p.current.style.transform=`translateX(-${j}px)`},[s]),P.useEffect(()=>{const j=()=>{const D=p.current.offsetWidth/s;if(p.current.style.transition="none",i>=e.length-s)p.current.style.transform=`translateX(-${D}px)`,r(1);else if(i===0){const L=e.length-s-1;p.current.style.transform=`translateX(-${D*L}px)`,r(L)}f(!1)},k=p.current;return k.addEventListener("transitionend",j),()=>k.removeEventListener("transitionend",j)},[i,e.length,s]);const R=j=>{y.current=j.touches[0].clientX},B=j=>{_.current=j.touches[0].clientX},G=()=>{const j=y.current-_.current;Math.abs(j)>50&&(j>0?T():O())};return b.jsxs("div",{className:ns.carouselWrapper,children:[b.jsxs("div",{className:ns.titleContainer,children:[b.jsx("h2",{className:ns.carouselTitle,children:t}),b.jsx(Rn,{to:"/artists",className:ns.moreButton,children:""})]}),b.jsx("div",{className:ns.carouselViewport,onTouchStart:R,onTouchMove:B,onTouchEnd:G,children:b.jsx("div",{className:ns.carouselTrack,ref:p,children:e.map(j=>b.jsxs(Rn,{to:`/artists/${j==null?void 0:j.id}`,className:ns.carouselSlide,children:[b.jsx("img",{src:(j==null?void 0:j.artist_image)||"/default.jpg",alt:j!=null&&j.artist_name?`${j.artist_name} `:" ",className:ns.artistImage}),b.jsxs("div",{className:ns.artistText,children:[b.jsx("h3",{className:ns.name,children:j!=null&&j.artist_name&&j.artist_name.trim()!==""?j.artist_name:" "}),b.jsx("p",{className:ns.field,children:j!=null&&j.artist_category&&j.artist_category.trim()!==""?j.artist_category:" "})]})]},`${j==null?void 0:j.artist_name}-${j==null?void 0:j.id}`))})}),b.jsx("button",{className:ns.prevButton,onClick:()=>!d&&O(),children:""}),b.jsx("button",{className:ns.nextButton,onClick:()=>!d&&T(),children:""})]})}function O3(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Tb(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:O3(e[i])&&O3(t[i])&&Object.keys(e[i]).length>0&&Tb(t[i],e[i])})}const qA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jc(){const t=typeof document<"u"?document:{};return Tb(t,qA),t}const XD={document:qA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ir(){const t=typeof window<"u"?window:{};return Tb(t,XD),t}function YD(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function KD(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function WA(t,e=0){return setTimeout(t,e)}function U1(){return Date.now()}function ZD(t){const e=Ir();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function QD(t,e="x"){const n=Ir();let i,r,s;const l=ZD(t);return n.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Kp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function JD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ds(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!JD(r)){const s=Object.keys(Object(r)).filter(l=>n.indexOf(l)<0);for(let l=0,d=s.length;l<d;l+=1){const f=s[l],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(Kp(e[f])&&Kp(r[f])?r[f].__swiper__?e[f]=r[f]:ds(e[f],r[f]):!Kp(e[f])&&Kp(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:ds(e[f],r[f])):e[f]=r[f])}}}return e}function Zp(t,e,n){t.style.setProperty(e,n)}function XA({swiper:t,targetPosition:e,side:n}){const i=Ir(),r=-t.translate;let s=null,l;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const f=e>r?"next":"prev",p=(_,S)=>f==="next"&&_>=S||f==="prev"&&_<=S,y=()=>{l=new Date().getTime(),s===null&&(s=l);const _=Math.max(Math.min((l-s)/d,1),0),S=.5-Math.cos(_*Math.PI)/2;let A=r+S*(e-r);if(p(A,e)&&(A=e),t.wrapperEl.scrollTo({[n]:A}),p(A,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:A})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(y)};y()}function Ia(t,e=""){const n=Ir(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function e9(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function t9(t,e){const n=Ir();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=e9(t,e))),i}function $1(t){try{console.warn(t);return}catch{}}function V1(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:YD(e)),n}function n9(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function i9(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Il(t,e){return Ir().getComputedStyle(t,null).getPropertyValue(e)}function R3(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function r9(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function D3(t,e,n){const i=Ir();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ro(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function v2(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Ux;function s9(){const t=Ir(),e=Jc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function YA(){return Ux||(Ux=s9()),Ux}let $x;function a9({userAgent:t}={}){const e=YA(),n=Ir(),i=n.navigator.platform,r=t||n.navigator.userAgent,s={ios:!1,android:!1},l=n.screen.width,d=n.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const y=r.match(/(iPod)(.*OS\s([\d_]+))?/),_=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=i==="Win32";let A=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&A&&e.touch&&T.indexOf(`${l}x${d}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),A=!1),f&&!S&&(s.os="android",s.android=!0),(p||_||y)&&(s.os="ios",s.ios=!0),s}function KA(t={}){return $x||($x=a9(t)),$x}let Vx;function o9(){const t=Ir(),e=KA();let n=!1;function i(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(i()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));n=f<16||f===16&&p<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),l=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:l,isWebView:r}}function ZA(){return Vx||(Vx=o9()),Vx}function l9({swiper:t,on:e,emit:n}){const i=Ir();let r=null,s=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(y=>{s=i.requestAnimationFrame(()=>{const{width:_,height:S}=t;let A=_,T=S;y.forEach(({contentBoxSize:O,contentRect:R,target:B})=>{B&&B!==t.el||(A=R?R.width:(O[0]||O).inlineSize,T=R?R.height:(O[0]||O).blockSize)}),(A!==_||T!==S)&&l()})}),r.observe(t.el))},f=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},p=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),e("destroy",()=>{f(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function c9({swiper:t,extendParams:e,on:n,emit:i}){const r=[],s=Ir(),l=(p,y={})=>{const _=s.MutationObserver||s.WebkitMutationObserver,S=new _(A=>{if(t.__preventObserver__)return;if(A.length===1){i("observerUpdate",A[0]);return}const T=function(){i("observerUpdate",A[0])};s.requestAnimationFrame?s.requestAnimationFrame(T):s.setTimeout(T,0)});S.observe(p,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:t.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),r.push(S)},d=()=>{if(t.params.observer){if(t.params.observeParents){const p=r9(t.hostEl);for(let y=0;y<p.length;y+=1)l(p[y])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",f)}var u9={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[l,...i])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(d=>{d.apply(r,i)})}),e}};function d9(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Il(i,"padding-left")||0,10)-parseInt(Il(i,"padding-right")||0,10),n=n-parseInt(Il(i,"padding-top")||0,10)-parseInt(Il(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function f9(){const t=this;function e(ie,ae){return parseFloat(ie.getPropertyValue(t.getDirectionLabel(ae))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,rtlTranslate:s,wrongRTL:l}=t,d=t.virtual&&n.virtual.enabled,f=d?t.virtual.slides.length:t.slides.length,p=Ia(r,`.${t.params.slideClass}, swiper-slide`),y=d?t.virtual.slides.length:p.length;let _=[];const S=[],A=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let O=n.slidesOffsetAfter;typeof O=="function"&&(O=n.slidesOffsetAfter.call(t));const R=t.snapGrid.length,B=t.slidesGrid.length,G=t.size-T-O;let j=n.spaceBetween,k=-T,D=0,L=0;if(typeof G>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*G:typeof j=="string"&&(j=parseFloat(j)),t.virtualSize=-j-T-O,p.forEach(ie=>{s?ie.style.marginLeft="":ie.style.marginRight="",ie.style.marginBottom="",ie.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Zp(i,"--swiper-centered-offset-before",""),Zp(i,"--swiper-centered-offset-after",""));const z=n.grid&&n.grid.rows>1&&t.grid;z?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let V;const X=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(ie=>typeof n.breakpoints[ie].slidesPerView<"u").length>0;for(let ie=0;ie<y;ie+=1){V=0;const ae=p[ie];if(!(ae&&(z&&t.grid.updateSlide(ie,ae,p),Il(ae,"display")==="none"))){if(d&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(V=n.virtual.slidesPerViewAutoSlideSize),V&&ae&&(n.roundLengths&&(V=Math.floor(V)),ae.style[t.getDirectionLabel("width")]=`${V}px`);else if(n.slidesPerView==="auto"){X&&(ae.style[t.getDirectionLabel("width")]="");const ue=getComputedStyle(ae),Ie=ae.style.transform,Se=ae.style.webkitTransform;if(Ie&&(ae.style.transform="none"),Se&&(ae.style.webkitTransform="none"),n.roundLengths)V=t.isHorizontal()?D3(ae,"width"):D3(ae,"height");else{const te=e(ue,"width"),Z=e(ue,"padding-left"),le=e(ue,"padding-right"),xe=e(ue,"margin-left"),Ce=e(ue,"margin-right"),Q=ue.getPropertyValue("box-sizing");if(Q&&Q==="border-box")V=te+xe+Ce;else{const{clientWidth:fe,offsetWidth:Ee}=ae;V=te+Z+le+xe+Ce+(Ee-fe)}}Ie&&(ae.style.transform=Ie),Se&&(ae.style.webkitTransform=Se),n.roundLengths&&(V=Math.floor(V))}else V=(G-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(V=Math.floor(V)),ae&&(ae.style[t.getDirectionLabel("width")]=`${V}px`);ae&&(ae.swiperSlideSize=V),A.push(V),n.centeredSlides?(k=k+V/2+D/2+j,D===0&&ie!==0&&(k=k-G/2-j),ie===0&&(k=k-G/2-j),Math.abs(k)<1/1e3&&(k=0),n.roundLengths&&(k=Math.floor(k)),L%n.slidesPerGroup===0&&_.push(k),S.push(k)):(n.roundLengths&&(k=Math.floor(k)),(L-Math.min(t.params.slidesPerGroupSkip,L))%t.params.slidesPerGroup===0&&_.push(k),S.push(k),k=k+V+j),t.virtualSize+=V+j,D=V,L+=1}}if(t.virtualSize=Math.max(t.virtualSize,G)+O,s&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+j}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+j}px`),z&&t.grid.updateWrapperSize(V,_),!n.centeredSlides){const ie=[];for(let ae=0;ae<_.length;ae+=1){let ue=_[ae];n.roundLengths&&(ue=Math.floor(ue)),_[ae]<=t.virtualSize-G&&ie.push(ue)}_=ie,Math.floor(t.virtualSize-G)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-G)}if(d&&n.loop){const ie=A[0]+j;if(n.slidesPerGroup>1){const ae=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),ue=ie*n.slidesPerGroup;for(let Ie=0;Ie<ae;Ie+=1)_.push(_[_.length-1]+ue)}for(let ae=0;ae<t.virtual.slidesBefore+t.virtual.slidesAfter;ae+=1)n.slidesPerGroup===1&&_.push(_[_.length-1]+ie),S.push(S[S.length-1]+ie),t.virtualSize+=ie}if(_.length===0&&(_=[0]),j!==0){const ie=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");p.filter((ae,ue)=>!n.cssMode||n.loop?!0:ue!==p.length-1).forEach(ae=>{ae.style[ie]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let ie=0;A.forEach(ue=>{ie+=ue+(j||0)}),ie-=j;const ae=ie>G?ie-G:0;_=_.map(ue=>ue<=0?-T:ue>ae?ae+O:ue)}if(n.centerInsufficientSlides){let ie=0;A.forEach(ue=>{ie+=ue+(j||0)}),ie-=j;const ae=(T||0)+(O||0);if(ie+ae<G){const ue=(G-ie-ae)/2;_.forEach((Ie,Se)=>{_[Se]=Ie-ue}),S.forEach((Ie,Se)=>{S[Se]=Ie+ue})}}if(Object.assign(t,{slides:p,snapGrid:_,slidesGrid:S,slidesSizesGrid:A}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Zp(i,"--swiper-centered-offset-before",`${-_[0]}px`),Zp(i,"--swiper-centered-offset-after",`${t.size/2-A[A.length-1]/2}px`);const ie=-t.snapGrid[0],ae=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(ue=>ue+ie),t.slidesGrid=t.slidesGrid.map(ue=>ue+ae)}if(y!==f&&t.emit("slidesLengthChange"),_.length!==R&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==B&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const ie=`${n.containerModifierClass}backface-hidden`,ae=t.el.classList.contains(ie);y<=n.maxBackfaceHiddenSlides?ae||t.el.classList.add(ie):ae&&t.el.classList.remove(ie)}}function h9(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=d=>i?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{n.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;n.push(l(d))}else n.push(l(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const d=n[s].offsetHeight;r=d>r?d:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function p9(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const B3=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function m9(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;r&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<i.length;f+=1){const p=i[f];let y=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(y-=i[0].swiperSlideOffset);const _=(l+(n.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),S=(l-s[0]+(n.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),A=-(l-y),T=A+e.slidesSizesGrid[f],O=A>=0&&A<=e.size-e.slidesSizesGrid[f],R=A>=0&&A<e.size-1||T>1&&T<=e.size||A<=0&&T>=e.size;R&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),B3(p,R,n.slideVisibleClass),B3(p,O,n.slideFullyVisibleClass),p.progress=r?-_:_,p.originalProgress=r?-S:S}}function g9(t){const e=this;if(typeof t>"u"){const y=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*y||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:l,progressLoop:d}=e;const f=s,p=l;if(i===0)r=0,s=!0,l=!0;else{r=(t-e.minTranslate())/i;const y=Math.abs(t-e.minTranslate())<1,_=Math.abs(t-e.maxTranslate())<1;s=y||r<=0,l=_||r>=1,y&&(r=0),_&&(r=1)}if(n.loop){const y=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),S=e.slidesGrid[y],A=e.slidesGrid[_],T=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(t);O>=S?d=(O-S)/T:d=(O+T-A)/T,d>1&&(d-=1)}Object.assign(e,{progress:r,progressLoop:d,isBeginning:s,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!f&&e.emit("reachBeginning toEdge"),l&&!p&&e.emit("reachEnd toEdge"),(f&&!s||p&&!l)&&e.emit("fromEdge"),e.emit("progress",r)}const Gx=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function x9(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,d=_=>Ia(i,`.${n.slideClass}${_}, swiper-slide${_}`)[0];let f,p,y;if(s)if(n.loop){let _=r-t.virtual.slidesBefore;_<0&&(_=t.virtual.slides.length+_),_>=t.virtual.slides.length&&(_-=t.virtual.slides.length),f=d(`[data-swiper-slide-index="${_}"]`)}else f=d(`[data-swiper-slide-index="${r}"]`);else l?(f=e.find(_=>_.column===r),y=e.find(_=>_.column===r+1),p=e.find(_=>_.column===r-1)):f=e[r];f&&(l||(y=i9(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!y&&(y=e[0]),p=n9(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{Gx(_,_===f,n.slideActiveClass),Gx(_,_===y,n.slideNextClass),Gx(_,_===p,n.slidePrevClass)}),t.emitSlidesClasses()}const T1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},qx=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},w2=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=r,d=[l-e];d.push(...Array.from({length:e}).map((f,p)=>l+i+p)),t.slides.forEach((f,p)=>{d.includes(f.column)&&qx(t,p)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let l=r-e;l<=s+e;l+=1){const d=(l%n+n)%n;(d<r||d>s)&&qx(t,d)}else for(let l=Math.max(r-e,0);l<=Math.min(s+e,n-1);l+=1)l!==r&&(l>s||l<r)&&qx(t,l)};function y9(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function b9(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:l,snapIndex:d}=e;let f=t,p;const y=A=>{let T=A-e.virtual.slidesBefore;return T<0&&(T=e.virtual.slides.length+T),T>=e.virtual.slides.length&&(T-=e.virtual.slides.length),T};if(typeof f>"u"&&(f=y9(e)),i.indexOf(n)>=0)p=i.indexOf(n);else{const A=Math.min(r.slidesPerGroupSkip,f);p=A+Math.floor((f-A)/r.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),f===s&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const _=e.grid&&r.grid&&r.grid.rows>1;let S;if(e.virtual&&r.virtual.enabled&&r.loop)S=y(f);else if(_){const A=e.slides.find(O=>O.column===f);let T=parseInt(A.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(e.slides.indexOf(A),0)),S=Math.floor(T/r.grid.rows)}else if(e.slides[f]){const A=e.slides[f].getAttribute("data-swiper-slide-index");A?S=parseInt(A,10):S=f}else S=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:l,realIndex:S,previousIndex:s,activeIndex:f}),e.initialized&&w2(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==S&&e.emit("realIndexChange"),e.emit("slideChange"))}function v9(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(d=>{!r&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(r=d)});let s=!1,l;if(r){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===r){s=!0,l=d;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var w9={updateSize:d9,updateSlides:f9,updateAutoHeight:h9,updateSlidesOffset:p9,updateSlidesProgress:m9,updateProgress:g9,updateSlidesClasses:x9,updateActiveIndex:b9,updateClickedSlide:v9};function _9(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let l=QD(s,t);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function C9(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:l}=n;let d=0,f=0;const p=0;n.isHorizontal()?d=i?-t:t:f=t,r.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:f,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-f:r.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():f-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let y;const _=n.maxTranslate()-n.minTranslate();_===0?y=0:y=(t-n.minTranslate())/_,y!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function S9(){return-this.snapGrid[0]}function E9(){return-this.snapGrid[this.snapGrid.length-1]}function A9(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:l,wrapperEl:d}=s;if(s.animating&&l.preventInteractionOnTransition)return!1;const f=s.minTranslate(),p=s.maxTranslate();let y;if(i&&t>f?y=f:i&&t<p?y=p:y=t,s.updateProgress(y),l.cssMode){const _=s.isHorizontal();if(e===0)d[_?"scrollLeft":"scrollTop"]=-y;else{if(!s.support.smoothScroll)return XA({swiper:s,targetPosition:-y,side:_?"left":"top"}),!0;d.scrollTo({[_?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(y),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(y),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var T9={getTranslate:_9,setTranslate:C9,minTranslate:S9,maxTranslate:E9,translateTo:A9};function N9(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function QA({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=t;let l=n;l||(r>s?l="next":r<s?l="prev":l="reset"),t.emit(`transition${i}`),e&&l==="reset"?t.emit(`slideResetTransition${i}`):e&&r!==s&&(t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function I9(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),QA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function k9(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),QA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var M9={setTransition:N9,transitionStart:I9,transitionEnd:k9};function O9(t=0,e,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;let l=t;l<0&&(l=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:_,rtlTranslate:S,wrapperEl:A,enabled:T}=s;if(!T&&!i&&!r||s.destroyed||s.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const O=Math.min(s.params.slidesPerGroupSkip,l);let R=O+Math.floor((l-O)/s.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const B=-f[R];if(d.normalizeSlideIndex)for(let z=0;z<p.length;z+=1){const V=-Math.floor(B*100),X=Math.floor(p[z]*100),ie=Math.floor(p[z+1]*100);typeof p[z+1]<"u"?V>=X&&V<ie-(ie-X)/2?l=z:V>=X&&V<ie&&(l=z+1):V>=X&&(l=z)}if(s.initialized&&l!==_&&(!s.allowSlideNext&&(S?B>s.translate&&B>s.minTranslate():B<s.translate&&B<s.minTranslate())||!s.allowSlidePrev&&B>s.translate&&B>s.maxTranslate()&&(_||0)!==l))return!1;l!==(y||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(B);let G;l>_?G="next":l<_?G="prev":G="reset";const j=s.virtual&&s.params.virtual.enabled;if(!(j&&r)&&(S&&-B===s.translate||!S&&B===s.translate))return s.updateActiveIndex(l),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),d.effect!=="slide"&&s.setTranslate(B),G!=="reset"&&(s.transitionStart(n,G),s.transitionEnd(n,G)),!1;if(d.cssMode){const z=s.isHorizontal(),V=S?B:-B;if(e===0)j&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),j&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{A[z?"scrollLeft":"scrollTop"]=V})):A[z?"scrollLeft":"scrollTop"]=V,j&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return XA({swiper:s,targetPosition:V,side:z?"left":"top"}),!0;A.scrollTo({[z?"left":"top"]:V,behavior:"smooth"})}return!0}const L=ZA().isSafari;return j&&!r&&L&&s.isElement&&s.virtual.update(!1,!1,l),s.setTransition(e),s.setTranslate(B),s.updateActiveIndex(l),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,G),e===0?s.transitionEnd(n,G):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(V){!s||s.destroyed||V.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,G))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function R9(t=0,e,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let l=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)l=l+r.virtual.slidesBefore;else{let d;if(s){const O=l*r.params.grid.rows;d=r.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===O).column}else d=r.getSlideIndexByData(l);const f=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:p,slidesOffsetBefore:y,slidesOffsetAfter:_}=r.params,S=p||!!y||!!_;let A=r.params.slidesPerView;A==="auto"?A=r.slidesPerViewDynamic():(A=Math.ceil(parseFloat(r.params.slidesPerView,10)),S&&A%2===0&&(A=A+1));let T=f-d<A;if(S&&(T=T||d<Math.ceil(A/2)),i&&S&&r.params.slidesPerView!=="auto"&&!s&&(T=!1),T){const O=S?d<r.activeIndex?"prev":"next":d-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:O,slideTo:!0,activeSlideIndex:O==="next"?d+1:d-f+1,slideRealIndex:O==="next"?r.realIndex:void 0})}if(s){const O=l*r.params.grid.rows;l=r.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===O).column}else l=r.getSlideIndexByData(l)}return requestAnimationFrame(()=>{r.slideTo(l,e,n,i)}),r}function D9(t,e=!0,n){const i=this,{enabled:r,params:s,animating:l}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let d=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<s.slidesPerGroupSkip?1:d,p=i.virtual&&s.virtual.enabled;if(s.loop){if(l&&!p&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+f,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+f,t,e,n)}function B9(t,e=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:l,rtlTranslate:d,enabled:f,animating:p}=i;if(!f||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const y=i.virtual&&r.virtual.enabled;if(r.loop){if(p&&!y&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const _=d?i.translate:-i.translate;function S(G){return G<0?-Math.floor(Math.abs(G)):Math.floor(G)}const A=S(_),T=s.map(G=>S(G)),O=r.freeMode&&r.freeMode.enabled;let R=s[T.indexOf(A)-1];if(typeof R>"u"&&(r.cssMode||O)){let G;s.forEach((j,k)=>{A>=j&&(G=k)}),typeof G<"u"&&(R=O?s[G]:s[G>0?G-1:G])}let B=0;if(typeof R<"u"&&(B=l.indexOf(R),B<0&&(B=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(B=B-i.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),r.rewind&&i.isBeginning){const G=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(G,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(B,t,e,n)}),!0;return i.slideTo(B,t,e,n)}function L9(t,e=!0,n){const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function j9(t,e=!0,n,i=.5){const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const l=Math.min(r.params.slidesPerGroupSkip,s),d=l+Math.floor((s-l)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const p=r.snapGrid[d],y=r.snapGrid[d+1];f-p>(y-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[d-1],y=r.snapGrid[d];f-p<=(y-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function P9(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),s;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):r>(d?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(Ia(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),WA(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var F9={slideTo:O9,slideToLoop:R9,slideNext:D9,slidePrev:B9,slideReset:L9,slideToClosest:j9,slideToClickedSlide:P9};function z9(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ia(r,`.${i.slideClass}, swiper-slide`).forEach((T,O)=>{T.setAttribute("data-swiper-slide-index",O)})},l=()=>{const A=Ia(r,`.${i.slideBlankClass}`);A.forEach(T=>{T.remove()}),A.length>0&&(n.recalcSlides(),n.updateSlides())},d=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||d)&&l();const f=i.slidesPerGroup*(d?i.grid.rows:1),p=n.slides.length%f!==0,y=d&&n.slides.length%i.grid.rows!==0,_=A=>{for(let T=0;T<A;T+=1){const O=n.isElement?V1("swiper-slide",[i.slideBlankClass]):V1("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(O)}};if(p){if(i.loopAddBlankSlides){const A=f-n.slides.length%f;_(A),n.recalcSlides(),n.updateSlides()}else $1("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(y){if(i.loopAddBlankSlides){const A=i.grid.rows-n.slides.length%i.grid.rows;_(A),n.recalcSlides(),n.updateSlides()}else $1("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const S=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:S?void 0:"next",initial:e})}function H9({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:s,byController:l,byMousewheel:d}={}){const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:y,allowSlideNext:_,slidesEl:S,params:A}=f,{centeredSlides:T,slidesOffsetBefore:O,slidesOffsetAfter:R,initialSlide:B}=A,G=T||!!O||!!R;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&A.virtual.enabled){e&&(!G&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):G&&f.snapIndex<A.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=y,f.allowSlideNext=_,f.emit("loopFix");return}let j=A.slidesPerView;j==="auto"?j=f.slidesPerViewDynamic():(j=Math.ceil(parseFloat(A.slidesPerView,10)),G&&j%2===0&&(j=j+1));const k=A.slidesPerGroupAuto?j:A.slidesPerGroup;let D=G?Math.max(k,Math.ceil(j/2)):k;D%k!==0&&(D+=k-D%k),D+=A.loopAdditionalSlides,f.loopedSlides=D;const L=f.grid&&A.grid&&A.grid.rows>1;p.length<j+D||f.params.effect==="cards"&&p.length<j+D*2?$1("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&A.grid.fill==="row"&&$1("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],V=[],X=L?Math.ceil(p.length/A.grid.rows):p.length,ie=s&&X-B<j&&!G;let ae=ie?B:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(p.find(xe=>xe.classList.contains(A.slideActiveClass))):ae=r;const ue=n==="next"||!n,Ie=n==="prev"||!n;let Se=0,te=0;const le=(L?p[r].column:r)+(G&&typeof i>"u"?-j/2+.5:0);if(le<D){Se=Math.max(D-le,k);for(let xe=0;xe<D-le;xe+=1){const Ce=xe-Math.floor(xe/X)*X;if(L){const Q=X-Ce-1;for(let fe=p.length-1;fe>=0;fe-=1)p[fe].column===Q&&z.push(fe)}else z.push(X-Ce-1)}}else if(le+j>X-D){te=Math.max(le-(X-D*2),k),ie&&(te=Math.max(te,j-X+B+1));for(let xe=0;xe<te;xe+=1){const Ce=xe-Math.floor(xe/X)*X;L?p.forEach((Q,fe)=>{Q.column===Ce&&V.push(fe)}):V.push(Ce)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&p.length<j+D*2&&(V.includes(r)&&V.splice(V.indexOf(r),1),z.includes(r)&&z.splice(z.indexOf(r),1)),Ie&&z.forEach(xe=>{p[xe].swiperLoopMoveDOM=!0,S.prepend(p[xe]),p[xe].swiperLoopMoveDOM=!1}),ue&&V.forEach(xe=>{p[xe].swiperLoopMoveDOM=!0,S.append(p[xe]),p[xe].swiperLoopMoveDOM=!1}),f.recalcSlides(),A.slidesPerView==="auto"?f.updateSlides():L&&(z.length>0&&Ie||V.length>0&&ue)&&f.slides.forEach((xe,Ce)=>{f.grid.updateSlide(Ce,xe,f.slides)}),A.watchSlidesProgress&&f.updateSlidesOffset(),e){if(z.length>0&&Ie){if(typeof t>"u"){const xe=f.slidesGrid[ae],Q=f.slidesGrid[ae+Se]-xe;d?f.setTranslate(f.translate-Q):(f.slideTo(ae+Math.ceil(Se),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Q,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Q))}else if(i){const xe=L?z.length/A.grid.rows:z.length;f.slideTo(f.activeIndex+xe,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(V.length>0&&ue)if(typeof t>"u"){const xe=f.slidesGrid[ae],Q=f.slidesGrid[ae-te]-xe;d?f.setTranslate(f.translate-Q):(f.slideTo(ae-te,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Q,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Q))}else{const xe=L?V.length/A.grid.rows:V.length;f.slideTo(f.activeIndex-xe,0,!1,!0)}}if(f.allowSlidePrev=y,f.allowSlideNext=_,f.controller&&f.controller.control&&!l){const xe={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(Ce=>{!Ce.destroyed&&Ce.params.loop&&Ce.loopFix({...xe,slideTo:Ce.params.slidesPerView===A.slidesPerView?e:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...xe,slideTo:f.controller.control.params.slidesPerView===A.slidesPerView?e:!1})}f.emit("loopFix")}function U9(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var $9={loopCreate:z9,loopFix:H9,loopDestroy:U9};function V9(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function G9(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var q9={setGrabCursor:V9,unsetGrabCursor:G9};function W9(t,e=this){function n(i){if(!i||i===Jc()||i===Ir())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function L3(t,e,n){const i=Ir(),{params:r}=t,s=r.edgeSwipeDetection,l=r.edgeSwipeThreshold;return s&&(n<=l||n>=i.innerWidth-l)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function X9(t){const e=this,n=Jc();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){L3(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:l,enabled:d}=e;if(!d||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let f=i.target;if(s.touchEventsTarget==="wrapper"&&!t9(f,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",y=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&y&&(f=y[0]);const _=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,S=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(S?W9(_,f):f.closest(_))){e.allowClick=!0;return}if(s.swipeHandler&&!f.closest(s.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const A=l.currentX,T=l.currentY;if(!L3(e,i,A))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=A,l.startY=T,r.touchStartTime=U1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let O=!0;f.matches(r.focusableElements)&&(O=!1,f.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==f&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!f.matches(r.focusableElements))&&n.activeElement.blur();const R=O&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||R)&&!f.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Y9(t){const e=Jc(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:l,enabled:d}=n;if(!d||!r.simulateTouch&&t.pointerType==="mouse")return;let f=t;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(i.touchId!==null||f.pointerId!==i.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(D=>D.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=f;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",f);return}const y=p.pageX,_=p.pageY;if(f.preventedByNestedSwiper){s.startX=y,s.startY=_;return}if(!n.allowTouchMove){f.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:y,startY:_,currentX:y,currentY:_}),i.touchStartTime=U1());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(_<s.startY&&n.translate<=n.maxTranslate()||_>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(l&&(y>s.startX&&-n.translate<=n.maxTranslate()||y<s.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(y<s.startX&&n.translate<=n.maxTranslate()||y>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",f),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=y,s.currentY=_;const S=s.currentX-s.startX,A=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(S**2+A**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let D;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:S*S+A*A>=25&&(D=Math.atan2(Math.abs(A),Math.abs(S))*180/Math.PI,i.isScrolling=n.isHorizontal()?D>r.touchAngle:90-D>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||f.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation();let T=n.isHorizontal()?S:A,O=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(T=Math.abs(T)*(l?1:-1),O=Math.abs(O)*(l?1:-1)),s.diff=T,T*=r.touchRatio,l&&(T=-T,O=-O);const R=n.touchesDirection;n.swipeDirection=T>0?"prev":"next",n.touchesDirection=O>0?"prev":"next";const B=n.params.loop&&!r.cssMode,G=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(B&&G&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const D=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(D)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&R!==n.touchesDirection&&B&&G&&Math.abs(T)>=1){Object.assign(s,{startX:y,startY:_,currentX:y,currentY:_,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",f),i.isMoved=!0,i.currentTranslate=T+i.startTranslate;let j=!0,k=r.resistanceRatio;if(r.touchReleaseOnEdges&&(k=0),T>0?(B&&G&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(j=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+T)**k))):T<0&&(B&&G&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(j=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-T)**k))),j&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(T)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function K9(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(D=>D.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:d,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!l.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=U1(),S=_-n.touchStartTime;if(e.allowClick){const D=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(D&&D[0]||i.target,D),e.emit("tap click",i),S<300&&_-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=U1(),WA(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||d.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let A;if(l.followFinger?A=f?e.translate:-e.translate:A=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:A});return}const T=A>=-e.maxTranslate()&&!e.params.loop;let O=0,R=e.slidesSizesGrid[0];for(let D=0;D<p.length;D+=D<l.slidesPerGroupSkip?1:l.slidesPerGroup){const L=D<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof p[D+L]<"u"?(T||A>=p[D]&&A<p[D+L])&&(O=D,R=p[D+L]-p[D]):(T||A>=p[D])&&(O=D,R=p[p.length-1]-p[p.length-2])}let B=null,G=null;l.rewind&&(e.isBeginning?G=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));const j=(A-p[O])/R,k=O<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(S>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(j>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?B:O+k):e.slideTo(O)),e.swipeDirection==="prev"&&(j>1-l.longSwipesRatio?e.slideTo(O+k):G!==null&&j<0&&Math.abs(j)>l.longSwipesRatio?e.slideTo(G):e.slideTo(O))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(O+k):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(B!==null?B:O+k),e.swipeDirection==="prev"&&e.slideTo(G!==null?G:O))}}function j3(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Z9(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Q9(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function J9(t){const e=this;T1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function eB(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const JA=(t,e)=>{const n=Jc(),{params:i,el:r,wrapperEl:s,device:l}=t,d=!!i.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!r||typeof r=="string"||(n[f]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),r[f]("touchstart",t.onTouchStart,{passive:!1}),r[f]("pointerdown",t.onTouchStart,{passive:!1}),n[f]("touchmove",t.onTouchMove,{passive:!1,capture:d}),n[f]("pointermove",t.onTouchMove,{passive:!1,capture:d}),n[f]("touchend",t.onTouchEnd,{passive:!0}),n[f]("pointerup",t.onTouchEnd,{passive:!0}),n[f]("pointercancel",t.onTouchEnd,{passive:!0}),n[f]("touchcancel",t.onTouchEnd,{passive:!0}),n[f]("pointerout",t.onTouchEnd,{passive:!0}),n[f]("pointerleave",t.onTouchEnd,{passive:!0}),n[f]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[f]("click",t.onClick,!0),i.cssMode&&s[f]("scroll",t.onScroll),i.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",j3,!0):t[p]("observerUpdate",j3,!0),r[f]("load",t.onLoad,{capture:!0}))};function tB(){const t=this,{params:e}=t;t.onTouchStart=X9.bind(t),t.onTouchMove=Y9.bind(t),t.onTouchEnd=K9.bind(t),t.onDocumentTouchStart=eB.bind(t),e.cssMode&&(t.onScroll=Q9.bind(t)),t.onClick=Z9.bind(t),t.onLoad=J9.bind(t),JA(t,"on")}function nB(){JA(this,"off")}var iB={attachEvents:tB,detachEvents:nB};const P3=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function rB(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const l=Jc(),d=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",f=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:l.querySelector(i.breakpointsBase),p=t.getBreakpoint(s,d,f);if(!p||t.currentBreakpoint===p)return;const _=(p in s?s[p]:void 0)||t.originalParams,S=P3(t,i),A=P3(t,_),T=t.params.grabCursor,O=_.grabCursor,R=i.enabled;S&&!A?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!S&&A&&(r.classList.add(`${i.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),T&&!O?t.unsetGrabCursor():!T&&O&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof _[L]>"u")return;const z=i[L]&&i[L].enabled,V=_[L]&&_[L].enabled;z&&!V&&t[L].disable(),!z&&V&&t[L].enable()});const B=_.direction&&_.direction!==i.direction,G=i.loop&&(_.slidesPerView!==i.slidesPerView||B),j=i.loop;B&&n&&t.changeDirection(),ds(t.params,_);const k=t.params.enabled,D=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),R&&!k?t.disable():!R&&k&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",_),n&&(G?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!j&&D?(t.loopCreate(e),t.updateSlides()):j&&!D&&t.loopDestroy()),t.emit("breakpoint",_)}function sB(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=Ir(),s=e==="window"?r.innerHeight:n.clientHeight,l=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:s*f,point:d}}return{value:d,point:d}});l.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<l.length;d+=1){const{point:f,value:p}=l[d];e==="window"?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=f):p<=n.clientWidth&&(i=f)}return i||"max"}var aB={setBreakpoint:rB,getBreakpoint:sB};function oB(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function lB(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,l=oB(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),r.classList.add(...e),t.emitContainerClasses()}function cB(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var uB={addClasses:lB,removeClasses:cB};function dB(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var fB={checkOverflow:dB},_2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function hB(t,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){ds(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){ds(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),ds(e,i)}}const Wx={eventsEmitter:u9,update:w9,translate:T9,transition:M9,slide:F9,loop:$9,grabCursor:q9,events:iB,breakpoints:aB,checkOverflow:fB,classes:uB},Xx={};let Nb=class wo{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=ds({},i),n&&!i.el&&(i.el=n);const r=Jc();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const f=[];return r.querySelectorAll(i.el).forEach(p=>{const y=ds({},i,{el:p});f.push(new wo(y))}),f}const s=this;s.__swiper__=!0,s.support=YA(),s.device=KA({userAgent:i.userAgent}),s.browser=ZA(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const l={};s.modules.forEach(f=>{f({params:i,swiper:s,extendParams:hB(i,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const d=ds({},_2,l);return s.params=ds({},d,Xx,i),s.originalParams=ds({},s.params),s.passedParams=ds({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(f=>{s.on(f,s.params.on[f])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Ia(n,`.${i.slideClass}, swiper-slide`),s=R3(r[0]);return R3(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ia(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),l=(i.maxTranslate()-r)*e+r;i.translateTo(l,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:l,slidesSizesGrid:d,size:f,activeIndex:p}=i;let y=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let _=s[p]?Math.ceil(s[p].swiperSlideSize):0,S;for(let A=p+1;A<s.length;A+=1)s[A]&&!S&&(_+=Math.ceil(s[A].swiperSlideSize),y+=1,_>f&&(S=!0));for(let A=p-1;A>=0;A-=1)s[A]&&!S&&(_+=s[A].swiperSlideSize,y+=1,_>f&&(S=!0))}else if(e==="current")for(let _=p+1;_<s.length;_+=1)(n?l[_]+d[_]-l[p]<f:l[_]-l[p]<f)&&(y+=1);else for(let _=p-1;_>=0;_-=1)l[p]-l[_]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&T1(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const l=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(l.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ia(i,r())[0];return!l&&n.params.createElements&&(l=V1("div",n.params.wrapperClass),i.append(l),Ia(i,`.${n.params.slideClass}`).forEach(d=>{l.append(d)})),Object.assign(n,{el:i,wrapperEl:l,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Il(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Il(i,"direction")==="rtl"),wrongRTL:Il(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?T1(n,s):s.addEventListener("load",l=>{T1(n,l.target)})}),w2(n),n.initialized=!0,w2(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:l,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),l&&l.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),KD(i)),i.destroyed=!0),null}static extendDefaults(e){ds(Xx,e)}static get extendedDefaults(){return Xx}static get defaults(){return _2}static installModule(e){wo.prototype.__modules__||(wo.prototype.__modules__=[]);const n=wo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>wo.installModule(n)),wo):(wo.installModule(e),wo)}};Object.keys(Wx).forEach(t=>{Object.keys(Wx[t]).forEach(e=>{Nb.prototype[e]=Wx[t][e]})});Nb.use([l9,c9]);const eT=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Uc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ud(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Uc(e[i])&&Uc(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:ud(t[i],e[i]):t[i]=e[i]})}function tT(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function nT(t={}){return t.pagination&&typeof t.pagination.el>"u"}function iT(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function rT(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function pB(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function mB({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:s,scrollbarEl:l,paginationEl:d}){const f=i.filter(V=>V!=="children"&&V!=="direction"&&V!=="wrapperClass"),{params:p,pagination:y,navigation:_,scrollbar:S,virtual:A,thumbs:T}=t;let O,R,B,G,j,k,D,L;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(O=!0),i.includes("controller")&&n.controller&&n.controller.control&&p.controller&&!p.controller.control&&(R=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(p.pagination||p.pagination===!1)&&y&&!y.el&&(B=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(G=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||r)&&(p.navigation||p.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(j=!0);const z=V=>{t[V]&&(t[V].destroy(),V==="navigation"?(t.isElement&&(t[V].prevEl.remove(),t[V].nextEl.remove()),p[V].prevEl=void 0,p[V].nextEl=void 0,t[V].prevEl=void 0,t[V].nextEl=void 0):(t.isElement&&t[V].el.remove(),p[V].el=void 0,t[V].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!n.loop?k=!0:!p.loop&&n.loop?D=!0:L=!0),f.forEach(V=>{if(Uc(p[V])&&Uc(n[V]))Object.assign(p[V],n[V]),(V==="navigation"||V==="pagination"||V==="scrollbar")&&"enabled"in n[V]&&!n[V].enabled&&z(V);else{const X=n[V];(X===!0||X===!1)&&(V==="navigation"||V==="pagination"||V==="scrollbar")?X===!1&&z(V):p[V]=n[V]}}),f.includes("controller")&&!R&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&e&&A&&p.virtual.enabled?(A.slides=e,A.update(!0)):i.includes("virtual")&&A&&p.virtual.enabled&&(e&&(A.slides=e),A.update(!0)),i.includes("children")&&e&&p.loop&&(L=!0),O&&T.init()&&T.update(!0),R&&(t.controller.control=p.controller.control),B&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(p.pagination.el=d),y.init(),y.render(),y.update()),G&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),S.init(),S.updateSize(),S.setTranslate()),j&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),v2(r,t.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),t.el.appendChild(r)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),v2(s,t.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),t.el.appendChild(s))),r&&(p.navigation.nextEl=r),s&&(p.navigation.prevEl=s),_.init(),_.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(k||L)&&t.loopDestroy(),(D||L)&&t.loopCreate(),t.update()}function gB(t={},e=!0){const n={on:{}},i={},r={};ud(n,_2),n._emitClasses=!0,n.init=!1;const s={},l=eT.map(f=>f.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(f=>{typeof t[f]>"u"||(l.indexOf(f)>=0?Uc(t[f])?(n[f]={},r[f]={},ud(n[f],t[f]),ud(r[f],t[f])):(n[f]=t[f],r[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?i[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:s[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:r,rest:s,events:i}}function xB({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:s},l){tT(l)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),nT(l)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),iT(l)&&r&&(s.params.scrollbar.el=r,s.originalParams.scrollbar.el=r),s.init(t)}function yB(t,e,n,i,r){const s=[];if(!e)return s;const l=f=>{s.indexOf(f)<0&&s.push(f)};if(n&&i){const f=i.map(r),p=n.map(r);f.join("")!==p.join("")&&l("children"),i.length!==n.length&&l("children")}return eT.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(Uc(t[f])&&Uc(e[f])){const p=Object.keys(t[f]),y=Object.keys(e[f]);p.length!==y.length?l(f):(p.forEach(_=>{t[f][_]!==e[f][_]&&l(f)}),y.forEach(_=>{t[f][_]!==e[f][_]&&l(f)}))}else t[f]!==e[f]&&l(f)}),s}const bB=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G1.apply(this,arguments)}function sT(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function aT(t){const e=[];return Ht.Children.toArray(t).forEach(n=>{sT(n)?e.push(n):n.props&&n.props.children&&aT(n.props.children).forEach(i=>e.push(i))}),e}function vB(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ht.Children.toArray(t).forEach(i=>{if(sT(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=aT(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function wB(t,e,n){if(!n)return null;const i=y=>{let _=y;return y<0?_=e.length+y:_>=e.length&&(_=_-e.length),_},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,d=t.params.loop?-e.length:0,f=t.params.loop?e.length*2:e.length,p=[];for(let y=d;y<f;y+=1)y>=s&&y<=l&&p.push(e[i(y)]);return p.map((y,_)=>Ht.cloneElement(y,{swiper:t,style:r,key:y.props.virtualIndex||y.key||`slide-${_}`}))}function Gf(t,e){return typeof window>"u"?P.useEffect(t,e):P.useLayoutEffect(t,e)}const F3=P.createContext(null),_B=P.createContext(null),oT=P.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:i,onSwiper:r,...s}={},l)=>{let d=!1;const[f,p]=P.useState("swiper"),[y,_]=P.useState(null),[S,A]=P.useState(!1),T=P.useRef(!1),O=P.useRef(null),R=P.useRef(null),B=P.useRef(null),G=P.useRef(null),j=P.useRef(null),k=P.useRef(null),D=P.useRef(null),L=P.useRef(null),{params:z,passedParams:V,rest:X,events:ie}=gB(s),{slides:ae,slots:ue}=vB(i),Ie=()=>{A(!S)};Object.assign(z.on,{_containerClasses(xe,Ce){p(Ce)}});const Se=()=>{Object.assign(z.on,ie),d=!0;const xe={...z};if(delete xe.wrapperClass,R.current=new Nb(xe),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=ae;const Ce={cache:!1,slides:ae,renderExternal:_,renderExternalUpdate:!1};ud(R.current.params.virtual,Ce),ud(R.current.originalParams.virtual,Ce)}};O.current||Se(),R.current&&R.current.on("_beforeBreakpoint",Ie);const te=()=>{d||!ie||!R.current||Object.keys(ie).forEach(xe=>{R.current.on(xe,ie[xe])})},Z=()=>{!ie||!R.current||Object.keys(ie).forEach(xe=>{R.current.off(xe,ie[xe])})};P.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",Ie)}),P.useEffect(()=>{!T.current&&R.current&&(R.current.emitSlidesClasses(),T.current=!0)}),Gf(()=>{if(l&&(l.current=O.current),!!O.current)return R.current.destroyed&&Se(),xB({el:O.current,nextEl:j.current,prevEl:k.current,paginationEl:D.current,scrollbarEl:L.current,swiper:R.current},z),r&&!R.current.destroyed&&r(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),Gf(()=>{te();const xe=yB(V,B.current,ae,G.current,Ce=>Ce.key);return B.current=V,G.current=ae,xe.length&&R.current&&!R.current.destroyed&&mB({swiper:R.current,slides:ae,passedParams:V,changedParams:xe,nextEl:j.current,prevEl:k.current,scrollbarEl:L.current,paginationEl:D.current}),()=>{Z()}}),Gf(()=>{bB(R.current)},[y]);function le(){return z.virtual?wB(R.current,ae,y):ae.map((xe,Ce)=>Ht.cloneElement(xe,{swiper:R.current,swiperSlideIndex:Ce}))}return Ht.createElement(e,G1({ref:O,className:rT(`${f}${t?` ${t}`:""}`)},X),Ht.createElement(_B.Provider,{value:R.current},ue["container-start"],Ht.createElement(n,{className:pB(z.wrapperClass)},ue["wrapper-start"],le(),ue["wrapper-end"]),tT(z)&&Ht.createElement(Ht.Fragment,null,Ht.createElement("div",{ref:k,className:"swiper-button-prev"}),Ht.createElement("div",{ref:j,className:"swiper-button-next"})),iT(z)&&Ht.createElement("div",{ref:L,className:"swiper-scrollbar"}),nT(z)&&Ht.createElement("div",{ref:D,className:"swiper-pagination"}),ue["container-end"]))});oT.displayName="Swiper";const lT=P.forwardRef(({tag:t="div",children:e,className:n="",swiper:i,zoom:r,lazy:s,virtualIndex:l,swiperSlideIndex:d,...f}={},p)=>{const y=P.useRef(null),[_,S]=P.useState("swiper-slide"),[A,T]=P.useState(!1);function O(j,k,D){k===y.current&&S(D)}Gf(()=>{if(typeof d<"u"&&(y.current.swiperSlideIndex=d),p&&(p.current=y.current),!(!y.current||!i)){if(i.destroyed){_!=="swiper-slide"&&S("swiper-slide");return}return i.on("_slideClass",O),()=>{i&&i.off("_slideClass",O)}}}),Gf(()=>{i&&y.current&&!i.destroyed&&S(i.getSlideClasses(y.current))},[i]);const R={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},B=()=>typeof e=="function"?e(R):e,G=()=>{T(!0)};return Ht.createElement(t,G1({ref:y,className:rT(`${_}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:G},f),r&&Ht.createElement(F3.Provider,{value:R},Ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof r=="number"?r:void 0},B(),s&&!A&&Ht.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&Ht.createElement(F3.Provider,{value:R},B(),s&&!A&&Ht.createElement("div",{className:"swiper-lazy-preloader"})))});lT.displayName="SwiperSlide";function CB(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Ia(t.el,`.${i[r]}`)[0];s||(s=V1("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}const SB='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function EB({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function r(A){let T;return A&&typeof A=="string"&&t.isElement&&(T=t.el.querySelector(A)||t.hostEl.querySelector(A),T)?T:(A&&(typeof A=="string"&&(T=[...document.querySelectorAll(A)]),t.params.uniqueNavElements&&typeof A=="string"&&T&&T.length>1&&t.el.querySelectorAll(A).length===1?T=t.el.querySelector(A):T&&T.length===1&&(T=T[0])),A&&!T?A:T)}function s(A,T){const O=t.params.navigation;A=ro(A),A.forEach(R=>{R&&(R.classList[T?"add":"remove"](...O.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=T),t.params.watchOverflow&&t.enabled&&R.classList[t.isLocked?"add":"remove"](O.lockClass))})}function l(){const{nextEl:A,prevEl:T}=t.navigation;if(t.params.loop){s(T,!1),s(A,!1);return}s(T,t.isBeginning&&!t.params.rewind),s(A,t.isEnd&&!t.params.rewind)}function d(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function f(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const A=t.params.navigation;if(t.params.navigation=CB(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let T=r(A.nextEl),O=r(A.prevEl);Object.assign(t.navigation,{nextEl:T,prevEl:O}),T=ro(T),O=ro(O);const R=(B,G)=>{if(B){if(A.addIcons&&B.matches(".swiper-button-next,.swiper-button-prev")&&!B.querySelector("svg")){const j=document.createElement("div");v2(j,SB),B.appendChild(j.querySelector("svg")),j.remove()}B.addEventListener("click",G==="next"?f:d)}!t.enabled&&B&&B.classList.add(...A.lockClass.split(" "))};T.forEach(B=>R(B,"next")),O.forEach(B=>R(B,"prev"))}function y(){let{nextEl:A,prevEl:T}=t.navigation;A=ro(A),T=ro(T);const O=(R,B)=>{R.removeEventListener("click",B==="next"?f:d),R.classList.remove(...t.params.navigation.disabledClass.split(" "))};A.forEach(R=>O(R,"next")),T.forEach(R=>O(R,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?S():(p(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{y()}),n("enable disable",()=>{let{nextEl:A,prevEl:T}=t.navigation;if(A=ro(A),T=ro(T),t.enabled){l();return}[...A,...T].filter(O=>!!O).forEach(O=>O.classList.add(t.params.navigation.lockClass))}),n("click",(A,T)=>{let{nextEl:O,prevEl:R}=t.navigation;O=ro(O),R=ro(R);const B=T.target;let G=R.includes(B)||O.includes(B);if(t.isElement&&!G){const j=T.path||T.composedPath&&T.composedPath();j&&(G=j.find(k=>O.includes(k)||R.includes(k)))}if(t.params.navigation.hideOnClick&&!G){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===B||t.pagination.el.contains(B)))return;let j;O.length?j=O[0].classList.contains(t.params.navigation.hiddenClass):R.length&&(j=R[0].classList.contains(t.params.navigation.hiddenClass)),i(j===!0?"navigationShow":"navigationHide"),[...O,...R].filter(k=>!!k).forEach(k=>k.classList.toggle(t.params.navigation.hiddenClass))}});const _=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},S=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),y()};Object.assign(t.navigation,{enable:_,disable:S,update:l,init:p,destroy:y})}const AB="_carouselWrapper_olv4s_1",TB="_carouselHeader_olv4s_13",NB="_carouselTitle_olv4s_29",IB="_moreButton_olv4s_41",kB="_carouselViewport_olv4s_79",MB="_carouselSlide_olv4s_89",OB="_slideCard_olv4s_113",RB="_carouselImage_olv4s_135",DB="_cardText_olv4s_149",BB="_prevButton_olv4s_203",LB="_nextButton_olv4s_205",jB="_emptyBox_olv4s_235",As={carouselWrapper:AB,carouselHeader:TB,carouselTitle:NB,moreButton:IB,carouselViewport:kB,carouselSlide:MB,slideCard:OB,carouselImage:RB,cardText:DB,prevButton:BB,nextButton:LB,emptyBox:jB};function z3({title:t,category:e,value:n}){const[i,r]=P.useState([]),s=P.useRef(null),l=P.useRef(null),d=P.useRef(null);return P.useEffect(()=>{var f;d.current&&s.current&&l.current&&((f=d.current.params)!=null&&f.navigation)&&(d.current.params.navigation.prevEl=s.current,d.current.params.navigation.nextEl=l.current,d.current.navigation.destroy(),d.current.navigation.init(),d.current.navigation.update())},[]),P.useEffect(()=>{(async()=>{try{const y=(await pi.get("/api/exhibitions",{params:{status:"exhibited",[e]:n}})).data.map(({id:_,exhibition_poster:S,exhibition_title:A,exhibition_category:T,exhibition_status:O,exhibition_start_date:R,exhibition_end_date:B,exhibition_organization:G})=>({id:_,image:S,title:A,category:T,status:O,startDate:R,endDate:B,organization:G}));r(y)}catch(p){console.error("     :",p)}})()},[]),b.jsxs("div",{className:As.carouselWrapper,children:[b.jsxs("div",{className:As.carouselHeader,children:[b.jsx("h2",{className:As.carouselTitle,children:t}),b.jsx(Rn,{to:"/exhibitions",className:As.moreButton,children:""})]}),i.length>0?b.jsx(oT,{modules:[EB],onSwiper:f=>d.current=f,slidesPerView:"auto",centeredSlides:!0,loop:i.length>2,spaceBetween:20,navigation:{prevEl:s.current,nextEl:l.current},className:As.carouselViewport,children:i.map(f=>b.jsx(lT,{className:As.carouselSlide,children:b.jsxs(Rn,{to:`/exhibitions/${f.id}`,className:As.slideCard,children:[b.jsx("img",{src:f.image,alt:f.title,className:As.carouselImage}),b.jsxs("div",{className:As.cardText,children:[b.jsxs("h3",{children:["",f.title,""]}),b.jsx("p",{children:f.organization.name}),b.jsxs("p",{children:[f.startDate," ~ ",f.endDate]})]})]})},f.id))}):b.jsx("div",{className:As.emptyBox,children:"  ."}),b.jsx("button",{ref:s,className:As.prevButton,children:""}),b.jsx("button",{ref:l,className:As.nextButton,children:""})]})}function PB(){return b.jsxs("div",{className:M3.mainLayout,children:[b.jsx(RD,{}),b.jsxs("div",{className:M3.carouselContainer,children:[b.jsx(z3,{title:"   "}),b.jsx(z3,{title:" ",category:"sort",value:"popular"}),b.jsx(WD,{title:"  "})]})]})}const FB="_layout_wmgxj_1",zB="_gridContainer_wmgxj_19",HB="_nonDataText_wmgxj_31",Yx={layout:FB,gridContainer:zB,nonDataText:HB},UB="_layout_l5cfi_1",$B="_titleContainer_l5cfi_13",VB="_listTitle_l5cfi_29",GB="_clickedFavButton_l5cfi_49",qB="_favButton_l5cfi_51",WB="_clickedIcon_l5cfi_99",XB="_searchForm_l5cfi_107",YB="_searchInput_l5cfi_121",KB="_formButton_l5cfi_149",so={layout:UB,titleContainer:$B,listTitle:VB,clickedFavButton:GB,favButton:qB,clickedIcon:WB,searchForm:XB,searchInput:YB,formButton:KB};function Ib(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function ZB(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function QB(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function JB(t){return mn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function cT(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function eL(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function tL(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function nL(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function iL(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function rL(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function sL(t){return mn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function aL(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function uT(t){return mn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function oL(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const lL=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:b.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function Sh({title:t,isFav:e,onEvent:n,onFav:i,onSearch:r,value:s,isNews:l=!1,isArtworks:d=!1}){return b.jsxs("div",{className:so.layout,children:[b.jsxs("div",{className:so.titleContainer,children:[b.jsx("h1",{className:so.listTitle,children:t}),!l&&!d&&b.jsxs("button",{className:`${so.favButton} ${e&&so.clickedFavButton}`,onClick:i,children:[b.jsx(cT,{className:`${e&&so.clickedIcon}`}),""]})]}),!d&&b.jsxs("form",{className:so.searchForm,action:n,children:[b.jsx("input",{className:so.searchInput,placeholder:"...",onChange:r,value:s}),b.jsx("button",{className:so.formButton,children:b.jsx(lL,{})})]})]})}const cL="_layout_11xsl_1",uL={layout:cL},dL="_layout_1hm1o_1",fL="_clickedLabel_1hm1o_11",hL="_dropdownButton_1hm1o_19",pL="_clickedButton_1hm1o_63",mL="_undisplay_1hm1o_85",gL="_clickedDropdownList_1hm1o_93",xL="_clickedItem_1hm1o_129",yL="_dropdownItem_1hm1o_131",bL="_rectButton_1hm1o_173",ao={layout:dL,clickedLabel:fL,dropdownButton:hL,clickedButton:pL,undisplay:mL,clickedDropdownList:gL,clickedItem:xL,dropdownItem:yL,rectButton:bL};function vL({title:t,dropdownItems:e,isOpen:n,filterKey:i,onOpen:r,onSetFilter:s,shape:l="round"}){const[d,f]=P.useState(e[0].label),{isMobile:p}=gA(),y=_=>{f(_.label),s(S=>({...S,[i]:_.value})),r()};return b.jsxs("div",{className:ao.layout,children:[b.jsxs("button",{className:`${ao.dropdownButton} ${n&&ao.clickedButton} ${l==="rect"?ao.rectButton:""}`,onClick:r,children:[!p&&`${t} - `,b.jsx("span",{className:`${d!==e[0].label&&ao.clickedLabel}`,children:d})]}),b.jsx("ul",{className:`${n&&ao.clickedDropdownList} ${n&&ao.undisplay}`,children:n&&e.map(_=>b.jsx("li",{className:`${ao.dropdownItem} ${_.label===d&&ao.clickedItem}`,onClick:()=>{y(_)},children:_.label},_.label))})]})}function Eh({labels:t,filterList:e,onSetFilter:n,shape:i="round"}){const[r,s]=P.useState(null),l=d=>{s(r===d?null:d)};return b.jsx("div",{className:uL.layout,children:e.map((d,f)=>b.jsx(vL,{title:d.label,dropdownItems:d.options,filterKey:d.key,isOpen:f===r,onOpen:()=>{l(f)},onSetFilter:n,shape:i},d.key))})}const wL=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],_L="_countParagraph_1ppwl_1",CL="_counts_1ppwl_11",H3={countParagraph:_L,counts:CL};function Ah({num:t,label:e}){return b.jsxs("p",{className:H3.countParagraph,children:[" ",b.jsx("strong",{className:H3.counts,children:t})," ",e,"  "]})}const SL="_paginationContainer_7tpp6_1",EL="_sideButtonContainer_7tpp6_11",AL="_pageNumbersContainer_7tpp6_19",TL="_pageButton_7tpp6_33",NL="_active_7tpp6_57",pl={paginationContainer:SL,sideButtonContainer:EL,pageNumbersContainer:AL,pageButton:TL,active:NL};function Ed({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:i=10}){const r=Math.ceil(n/i),s=IL(t,r,5);return b.jsxs("div",{className:pl.paginationContainer,children:[b.jsx("div",{className:pl.sideButtonContainer,children:b.jsx("button",{onClick:()=>e(t-1),className:pl.pageButton,disabled:t===1,children:"<"})}),b.jsx("div",{className:pl.pageNumbersContainer,children:s.map(l=>b.jsx("button",{onClick:()=>e(l),className:`${pl.pageButton} ${t===l?pl.active:""}`,children:l},l))}),b.jsx("div",{className:pl.sideButtonContainer,children:b.jsx("button",{onClick:()=>e(t+1),className:pl.pageButton,disabled:t===r,children:">"})})]})}const IL=(t,e,n)=>{const i=Math.floor(n/2);let r=Math.max(t-i,1),s=Math.min(r+n-1,e);return s-r+1<n&&(r=Math.max(s-n+1,1)),Array.from({length:s-r+1},(l,d)=>r+d)},Ad=(t=10,e)=>{const[n,i]=P.useState(1),r=Array.isArray(e)?e:[],s=(n-1)*t,l=r.slice(s,s+t);return{currentPage:n,setCurrentPage:i,pageItems:l}},kL="_exhibitionCardLayout_kt7rf_1",ML="_statusContainer_kt7rf_37",OL="_ongoing_kt7rf_73",RL="_imageBox_kt7rf_81",DL="_exhibitionImage_kt7rf_89",BL="_favButton_kt7rf_105",LL="_locButton_kt7rf_127",jL="_exhibitionTitle_kt7rf_183",PL="_infoContainer_kt7rf_201",FL="_subParagraph_kt7rf_209",Ts={exhibitionCardLayout:kL,statusContainer:ML,ongoing:OL,imageBox:RL,exhibitionImage:DL,favButton:BL,locButton:LL,exhibitionTitle:jL,infoContainer:PL,subParagraph:FL},zL=(t,e)=>{const n=new Date,i=new Date(t),r=new Date(e);return n<i?"upcoming":n>r?"ended":"ongoing"},HL="_layout_cdrx9_1",UL="_container_cdrx9_33",$L="_header_cdrx9_53",VL="_map_cdrx9_69",GL="_title_cdrx9_79",qL="_closeButton_cdrx9_93",WL="_icon_cdrx9_103",XL="_infoContainer_cdrx9_117",YL="_infoSpan_cdrx9_133",KL="_infoParagraph_cdrx9_147",ZL="_buttonField_cdrx9_157",QL="_locateButton_cdrx9_173",JL="_button_cdrx9_157",is={layout:HL,container:UL,header:$L,map:VL,title:GL,closeButton:qL,icon:WL,infoContainer:XL,infoSpan:YL,infoParagraph:KL,buttonField:ZL,locateButton:QL,button:JL};function ej(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function tj(t){return mn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function nj(t){return mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function ij(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function rj(t){return mn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function sj(t){return mn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function dT(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function kb(t){return mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function Th(t){return mn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function fT(t){return mn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const aj="_container_zry8e_1",oj="_infoBox_zry8e_17",U3={container:aj,infoBox:oj},lj="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cj="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function uj({title:t,isLike:e=!1}){return b.jsxs("div",{className:U3.container,children:[b.jsx("img",{src:e?cj:lj}),b.jsx("div",{className:U3.infoBox,children:t})]})}const $3=(t,e=!1)=>{const n=document.createElement("div");return WI.createRoot(n).render(b.jsx(uj,{title:t,isLike:e})),n},i0=({lat:t,lng:e,id:n,results:i,zoomLevel:r=15,title:s,location:l})=>{const d=P.useRef(null),f=Jt(),p=P.useRef([]);return P.useEffect(()=>{var S;const y=document.getElementById(n);if(!((S=window.naver)!=null&&S.maps)||!y||t===null||e===null)return;const _=new naver.maps.Map(y,{center:new naver.maps.LatLng(t,e),zoom:r});if(d.current=_,p.current.forEach(A=>A.setMap(null)),p.current=[],s&&l){const A=$3(s,!1);new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:_,title:s,icon:{content:A}})}else{const A=new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:d.current,title:" "});p.current.push(A)}return i&&i.length>0&&i.map(({gallery_name:A,gallery_latitude:T,gallery_longitude:O,gallery_address:R,is_liked:B,id:G})=>{const j=$3(A,B),k=new naver.maps.LatLng(T,O),D=new naver.maps.Marker({position:k,map:d.current,title:A,icon:{content:j}});naver.maps.Event.addListener(D,"click",()=>{f(`/galleries/${G}`)}),p.current.push(D)}),()=>{const A=d.current;A&&A.getElement()&&A.destroy(),d.current=null}},[n,t,e,i,f,r,s,l]),d};function dj({item:t,onClose:e}){const{id:n,exhibition_title:i,exhibition_location:r,exhibition_start_date:s,exhibition_end_date:l,exhibition_start_time:d,exhibition_end_time:f,exhibition_organization:p,exhibition_price:y}=t,_=[{key:"location",label:"",content:r},{key:"date",label:"",content:`${s} ~ ${l}`},{key:"time",label:"",content:`${d} ~ ${f}`},{key:"closedDay",label:"",content:p.closed_day},{key:"price",label:"",content:y}];return i0({lat:p.latitude,lng:p.longitude,id:`exhibition-${n}-map`,title:i,location:r}),b.jsx("div",{className:is.layout,children:b.jsxs("div",{className:is.container,children:[b.jsxs("div",{className:is.header,children:[b.jsx("h4",{className:is.title,children:i}),b.jsx("button",{className:is.closeButton,onClick:e,children:b.jsx(fT,{className:is.icon})})]}),b.jsx("div",{className:is.map,id:`exhibition-${n}-map`}),b.jsx("div",{className:is.infoContainer,children:_.map(({key:S,label:A,content:T})=>b.jsxs("div",{children:[b.jsx("span",{className:is.infoSpan,children:A}),b.jsx("p",{className:is.infoParagraph,children:T})]},S))}),b.jsxs("div",{className:is.buttonField,children:[b.jsx("button",{className:is.locateButton,onClick:()=>{alert("  .")},children:""}),b.jsx("button",{className:is.button,onClick:e,children:""})]})]})})}const hT=({color:t="#376AED"})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[b.jsx("g",{filter:"url(#filter0_d_26_772)",children:b.jsx("path",{d:"M22.3108 11.6219C20.3417 13.591 20.3417 16.7835 22.3108 18.7526L29.9481 26.3899L30.0006 26.3374L30.0532 26.39L37.6906 18.7526C39.6596 16.7835 39.6596 13.5911 37.6906 11.622C35.7215 9.65294 32.529 9.65294 30.56 11.622L30.3543 11.8277C30.159 12.023 29.8424 12.023 29.6472 11.8277L29.4414 11.6219C27.4723 9.65288 24.2798 9.65288 22.3108 11.6219Z",fill:t})}),b.jsx("defs",{children:b.jsxs("filter",{id:"filter0_d_26_772",x:"0.833984",y:"0.145142",width:"58.334",height:"56.2449",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[b.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),b.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b.jsx("feOffset",{dy:"10"}),b.jsx("feGaussianBlur",{stdDeviation:"10"}),b.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),b.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),b.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_772"}),b.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_772",result:"shape"})]})})]}),pT=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[b.jsx("g",{filter:"url(#filter0_d_26_1175)",children:b.jsx("path",{d:"M22.3108 12.6219C20.3417 14.591 20.3417 17.7835 22.3108 19.7526L29.9481 27.3899L30.0006 27.3374L30.0532 27.39L37.6906 19.7526C39.6596 17.7835 39.6596 14.5911 37.6906 12.622C35.7215 10.6529 32.529 10.6529 30.56 12.622L30.3543 12.8277C30.159 13.023 29.8424 13.023 29.6472 12.8277L29.4414 12.6219C27.4723 10.6529 24.2798 10.6529 22.3108 12.6219Z",stroke:"#222",strokeWidth:"1.5",shapeRendering:"crispEdges"})}),b.jsx("defs",{children:b.jsxs("filter",{id:"filter0_d_26_1175",x:"0.0839844",y:"0.395142",width:"59.834",height:"58.0555",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[b.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),b.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b.jsx("feOffset",{dy:"10"}),b.jsx("feGaussianBlur",{stdDeviation:"10"}),b.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),b.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),b.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_1175"}),b.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_1175",result:"shape"})]})})]}),fj=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[b.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),b.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function mT({exhibitionItem:t,onEvent:e}){const{user:n}=ta(),{id:i,exhibition_title:r,exhibition_category:s,exhibition_poster:l,exhibition_location:d,exhibition_start_date:f,exhibition_end_date:p,is_liked:y}=t,[_,S]=P.useState(!1),A=Jt(),T=zL(f,p),O=T==="ongoing"?" ":T==="upcoming"?" ":" ",R=()=>{S(j=>!j),document.body.style.overflow="hidden"},B=()=>{S(j=>!j),document.body.style.overflow="unset"},G=async()=>{!n&&A("/login");try{y===!0?await mt.delete("/api/likes",{data:{liked_id:i,liked_type:"exhibition"}}):await mt.post("/api/likes",{liked_id:i,liked_type:"exhibition"}),await e()}catch(j){console.error(j)}};return b.jsxs("div",{className:Ts.exhibitionCardLayout,children:[_&&b.jsx(dj,{item:t,onClose:B}),b.jsxs(Rn,{className:Ts.layout,to:`/exhibitions/${i}`,children:[b.jsx("div",{className:`${Ts.statusContainer} ${T==="ongoing"&&Ts.ongoing}`,children:O}),b.jsx("div",{className:Ts.imageBox,children:b.jsx("img",{className:Ts.exhibitionImage,src:l||"/placeholder.jpg",alt:"  "})}),b.jsx("button",{className:Ts.favButton,onClick:j=>{j.preventDefault(),j.stopPropagation(),G()},children:y?b.jsx(hT,{}):b.jsx(pT,{})}),b.jsx("button",{className:Ts.locButton,onClick:j=>{j.preventDefault(),j.stopPropagation(),R()},children:b.jsx(fj,{})}),b.jsxs("div",{className:Ts.infoContainer,children:[b.jsx("h3",{className:Ts.exhibitionTitle,children:r}),b.jsxs("p",{className:Ts.subParagraph,children:[s," | ",d||" "]}),b.jsxs("p",{className:Ts.subParagraph,children:[f," ~ ",p]})]})]})]})}function hj(){const{user:t}=ta(),[e,n]=P.useState([]),[i,r]=P.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Ad(12,e),[f,p]=P.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),y=Jt(),[_,S]=P.useState(""),A=B=>{S(B.target.value)},T=()=>{!t&&y("/login"),p(B=>({...B,liked_only:!B.liked_only}))},O=async()=>{try{r(!0);const B={...f,search:_},G=await mt.get("/api/exhibitions",{params:B});n(G.data)}catch(B){console.error("   :",B)}finally{r(!1)}};P.useEffect(()=>{O()},[f]);const R=["","","",""];return b.jsxs("div",{className:Yx.layout,children:[b.jsx(Sh,{title:"",isFav:f.liked_only,onEvent:O,onFav:T,onSearch:A,value:_}),b.jsx(Eh,{labels:R,filterList:wL,onSetFilter:p}),b.jsx(Ah,{num:e.length,label:""}),e.length===0&&b.jsx("div",{className:Yx.nonDataText,children:"  ."}),b.jsx("div",{className:Yx.gridContainer,children:d.map(B=>b.jsx(mT,{exhibitionItem:B,onEvent:O},B.id))}),e.length>0&&b.jsx(Ed,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const pj="_layout_z091w_1",mj="_gridContainer_z091w_19",gj="_nonDataText_z091w_31",Kx={layout:pj,gridContainer:mj,nonDataText:gj},xj=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],yj="_layout_u6xg8_1",bj="_artistImage_u6xg8_39",vj="_artistNameTitle_u6xg8_57",wj="_statusContainer_u6xg8_75",_j="_subParagraph_u6xg8_111",Cj="_favButton_u6xg8_125",bc={layout:yj,artistImage:bj,artistNameTitle:vj,statusContainer:wj,subParagraph:_j,favButton:Cj};function gT({artistItem:t,onEvent:e}){const{id:n,artist_name:i,artist_category:r,artist_image:s,artist_nation:l,is_on_exhibition:d,is_liked:f}=t,p=Jt(),y=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&p("/login");try{f===!0?await mt.delete("/api/likes",{data:{liked_id:n,liked_type:"artist"}}):await mt.post("/api/likes",{liked_id:n,liked_type:"artist"}),await e()}catch(_){console.error(_)}};return b.jsxs(Rn,{className:bc.layout,to:`/artists/${n}`,children:[b.jsx("img",{className:bc.artistImage,src:s,alt:"  "}),b.jsx("h3",{className:bc.artistNameTitle,children:i}),d==="1"&&b.jsx("div",{className:bc.statusContainer,children:""}),b.jsx("button",{className:bc.favButton,onClick:_=>{_.preventDefault(),_.stopPropagation(),y()},children:f==="1"?b.jsx(hT,{}):b.jsx(pT,{})}),b.jsx("p",{className:bc.subParagraph,children:r}),b.jsx("p",{className:bc.subParagraph,children:l})]})}function Sj(){const{user:t}=ta(),[e,n]=P.useState([]),[i,r]=P.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Ad(12,e),[f,p]=P.useState({category:"",nation:"",birthDecade:"",liked_only:0}),y=Jt(),[_,S]=P.useState(""),A=()=>{!t&&y("/login"),p(R=>({...R,liked_only:!R.liked_only}))},T=R=>{S(R.target.value)},O=async()=>{const R={...f,search:_};try{r(!0);const B=await pi.get("/api/artist",{params:R});n(B.data)}catch(B){throw new Error(B)}finally{r(!1)}};return P.useEffect(()=>{O()},[f]),b.jsxs("div",{className:Kx.layout,children:[b.jsx(Sh,{title:"",isFav:f.liked_only,onEvent:O,onFav:A,onSearch:T,value:_}),b.jsx(Eh,{filterList:xj,onSetFilter:p}),b.jsx(Ah,{num:e.length,label:""}),e.length===0&&b.jsx("div",{className:Kx.nonDataText,children:"  ."}),b.jsx("div",{className:Kx.gridContainer,children:d.map(R=>b.jsx(gT,{artistItem:R,onEvent:O},R.id))}),e.length>0&&b.jsx(Ed,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const Ej="_layout_1tohs_1",Aj="_dropboxContainer_1tohs_19",Tj="_gridContainer_1tohs_31",Nj="_mapButton_1tohs_43",Ij="_nonDataText_1tohs_69",Ef={layout:Ej,dropboxContainer:Aj,gridContainer:Tj,mapButton:Nj,nonDataText:Ij},kj=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],Mj="_layout_1y35u_1",Oj="_linkContainer_1y35u_31",Rj="_galleryImage_1y35u_41",Dj="_infoContainer_1y35u_65",Bj="_favButton_1y35u_73",Lj="_icon_1y35u_95",jj="_likedIcon_1y35u_105",Pj="_galleryTitle_1y35u_115",Fj="_addressParagraph_1y35u_135",wa={layout:Mj,linkContainer:Oj,galleryImage:Rj,infoContainer:Dj,favButton:Bj,icon:Lj,likedIcon:jj,galleryTitle:Pj,addressParagraph:Fj};function Mb({galleryItem:t,onEvent:e}){const{user:n}=ta(),{id:i,gallery_name:r,gallery_image:s,gallery_address:l,gallery_start_time:d,gallery_end_time:f,is_liked:p}=t,y=A=>{if(A)return A.slice(0,5)},_=Jt(),S=async()=>{!n&&_("/login");try{p===!0?await mt.delete("/api/likes",{data:{liked_id:i,liked_type:"gallery"}}):await mt.post("/api/likes",{liked_id:i,liked_type:"gallery"}),await e()}catch(A){console.error(A)}};return console.log(p),b.jsx("div",{className:wa.layout,children:b.jsxs(Rn,{className:wa.linkContainer,to:`/galleries/${i}`,children:[b.jsx("img",{className:wa.galleryImage,src:s,alt:`${r}  `}),b.jsx("button",{className:wa.favButton,onClick:A=>{A.preventDefault(),A.stopPropagation(),S()},children:b.jsx(Th,{className:p===!0?wa.likedIcon:wa.icon})}),b.jsxs("div",{className:wa.infoContainer,children:[b.jsx("h3",{className:wa.galleryTitle,children:r}),b.jsx("p",{className:wa.addressParagraph,children:l}),b.jsxs("p",{className:wa.addressParagraph,children:[y(d)," ~ ",y(f)]})]})]})})}const xT=()=>{const[t,e]=P.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(i=>!i)}}},zj="_modalOverlay_tzg9o_1",Hj="_modalContainer_tzg9o_21",Uj="_modalHeader_tzg9o_45",$j="_modalTitle_tzg9o_59",Vj="_favButton_tzg9o_71",Gj="_clickedFavButton_tzg9o_109",qj="_clickedIcon_tzg9o_121",Wj="_loadingText_tzg9o_129",Xj="_modalMap_tzg9o_143",Yj="_closeButton_tzg9o_159",_a={modalOverlay:zj,modalContainer:Hj,modalHeader:Uj,modalTitle:$j,favButton:Vj,clickedFavButton:Gj,clickedIcon:qj,loadingText:Wj,modalMap:Xj,closeButton:Yj},yT=()=>{const[t,e]=P.useState({lat:37.3595704,lng:127.105399}),n=r=>{const s=r.coords.latitude,l=r.coords.longitude;e({lat:s,lng:l})},i=r=>{alert(`(${r.code}): ${r.message}`)};return P.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n,i):alert("    !")},[]),{coords:t,setCoords:e}};function Kj({onOpen:t}){const{coords:e}=yT(),{lat:n,lng:i}=e,[r,s]=P.useState([]),[l,d]=P.useState(!1),[f,p]=P.useState(!1),y=Jt(),_=i0({lat:n,lng:i,id:"gallery-map",results:r,zoomLevel:16});P.useEffect(()=>{var R;const A=_.current;if(!A||!((R=window.naver)!=null&&R.maps))return;const T=async()=>{try{d(!0);const B=A.getBounds(),G=B.getSW(),j=B.getNE(),k={latitude:j.lat(),longitude:j.lng()};f&&(k.liked_only=1);const D=await mt.get("/api/galleries",{params:k});s(D.data)}catch(B){console.error("  :",B)}finally{d(!1)}},O=naver.maps.Event.addListener(A,"idle",T);return T(),()=>{O&&naver.maps.Event.removeListener(O)}},[_,f]);const S=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){y("/login");return}p(A=>!A)};return P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),b.jsx("div",{className:_a.modalOverlay,children:b.jsxs("div",{className:_a.modalContainer,children:[b.jsxs("div",{className:_a.modalHeader,children:[b.jsx("div",{className:_a.modalTitle,children:"  "}),b.jsxs("button",{className:`${_a.favButton} ${f&&_a.clickedFavButton}`,onClick:S,children:[b.jsx(sL,{className:`${f&&_a.clickedIcon}`})," "]})]}),l&&b.jsx("div",{className:_a.loadingText,children:"   ..."}),b.jsx("div",{className:_a.modalMap,id:"gallery-map"}),b.jsx("button",{className:_a.closeButton,onClick:t,children:""})]})})}function Zj(){const{user:t}=ta(),[e,n]=P.useState([]),[i,r]=P.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Ad(12,e),[f,p]=P.useState({status:"",regions:"",type:"",liked_only:0}),y=Jt(),[_,S]=P.useState(""),{isOpen:A,handleOpenModal:T}=xT(),O=G=>{S(G.target.value)},R=()=>{!t&&y("/login"),p(G=>({...G,liked_only:!G.liked_only}))},B=async()=>{try{r(!0);const G={...f,regions:f.regions.replace(/\s+/g,","),search:_},j=await mt.get("/api/galleries",{params:G});n(j.data)}catch(G){throw new Error(G)}finally{r(!1)}};return P.useEffect(()=>{B()},[f]),b.jsxs("div",{className:Ef.layout,children:[A&&b.jsx(Kj,{onOpen:T}),b.jsx(Sh,{title:"",isFav:f.liked_only,onEvent:B,onFav:R,onSearch:O,value:_}),b.jsxs("div",{className:Ef.dropboxContainer,children:[b.jsx(Eh,{filterList:kj,onSetFilter:p}),b.jsx("button",{className:Ef.mapButton,onClick:T,children:""})]}),b.jsx(Ah,{num:e.length,label:""}),e.length===0&&b.jsx("div",{className:Ef.nonDataText,children:"  ."}),b.jsx("div",{className:Ef.gridContainer,children:d.map(G=>b.jsx(Mb,{galleryItem:G,onEvent:B},G.id))}),e.length>0&&b.jsx(Ed,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const Qj="_layout_5tlax_1",Jj="_registerTitle_5tlax_13",eP="_subParagraph_5tlax_25",tP="_form_5tlax_35",nP="_submitButton_5tlax_53",Af={layout:Qj,registerTitle:Jj,subParagraph:eP,form:tP,submitButton:nP},q1=t=>{const[e,n]=P.useState(t);return{data:e,handleChange:r=>{n(s=>({...s,[r.target.name]:r.target.value}))},setData:n}},iP="_input_vwmpv_13",rP={input:iP};function ka({type:t="text",name:e,placeholder:n,value:i,onChange:r}){return b.jsx("input",{className:rP.input,name:e,type:t,placeholder:n,value:i,onChange:r})}const sP="_layout_13jvg_1",aP="_radioLabel_13jvg_11",oP="_radioInput_13jvg_21",Zx={layout:sP,radioLabel:aP,radioInput:oP};function V3({name:t,value:e,label:n,onChange:i}){return b.jsxs("div",{className:Zx.layout,children:[b.jsx("label",{className:Zx.radioLabel,children:n}),b.jsx("input",{className:Zx.radioInput,type:"radio",name:t,value:e,onChange:i})]})}const lP="_layout_3526f_1",cP="_inputTitle_3526f_13",uP="_inputContainer_3526f_25",dP="_errorParagraph_3526f_35",Qp={layout:lP,inputTitle:cP,inputContainer:uP,errorParagraph:dP};function Tf({children:t,title:e,isValid:n,errorText:i}){return b.jsxs("div",{className:Qp.layout,children:[b.jsx("h3",{className:Qp.inputTitle,children:e}),b.jsx("div",{className:Qp.inputContainer,children:t}),!n&&b.jsx("div",{className:Qp.errorParagraph,children:i})]})}function fP(){const{data:t,handleChange:e}=q1({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),n=Jt(),i=gi(),r=p=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(p),s=p=>/^[A-Za-z0-9]{6,20}$/.test(p),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(p),d=()=>{const{login_id:p,login_pwd:y,user_email:_,user_name:S,admin_flag:A}=t;return s(p)&&r(y)&&l(_)&&S.trim()!==""&&A!==""},f=async p=>{p.preventDefault();try{await pi.post("/api/auth/register",t),alert(" "),n("/login",{state:{from:i.pathname}})}catch(y){throw new Error(y)}};return b.jsxs("div",{className:Af.layout,children:[b.jsx("h1",{className:Af.registerTitle,children:""}),b.jsx("p",{className:Af.subParagraph,children:"  "}),b.jsxs("form",{className:Af.form,onSubmit:f,children:[b.jsx(Tf,{title:"",isValid:t.login_id===""?!0:s(t.login_id),errorText:" 6~20     ",children:b.jsx(ka,{name:"login_id",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),b.jsx(Tf,{title:"",isValid:t.login_pwd===""?!0:r(t.login_pwd),errorText:"8~20 , ,     ",children:b.jsx(ka,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),b.jsx(Tf,{title:"",children:b.jsx(ka,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),b.jsx(Tf,{title:"",isValid:t.user_email===""?!0:l(t.user_email),errorText:"   ",children:b.jsx(ka,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),b.jsxs(Tf,{title:" ?",children:[b.jsx(V3,{label:"",name:"admin_flag",value:1,onChange:e}),b.jsx(V3,{label:"",name:"admin_flag",value:0,onChange:e})]}),b.jsx("button",{className:Af.submitButton,disabled:!d(),children:""})]})]})}const hP="_layout_1wihj_1",pP="_mainTab_1wihj_31",mP="_tabButton_1wihj_49",gP="_active_1wihj_85",Jp={layout:hP,mainTab:pP,tabButton:mP,active:gP},xP="_layout_1sugu_1",yP="_pageTitle_1sugu_15",bP="_editLink_1sugu_33",Qx={layout:xP,pageTitle:yP,editLink:bP};function vP(){const{user:t}=P.useContext(Qc);return t?b.jsxs("div",{className:Qx.layout,children:[b.jsx("h1",{className:Qx.pageTitle,children:""}),b.jsxs(Rn,{className:Qx.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):b.jsx("div",{children:"  "})}const wP="_header_en5wv_1",_P="_countText_en5wv_9",CP="_count_en5wv_9",SP="_tabButtonContainer_en5wv_45",EP="_tabButton_en5wv_45",AP="_active_en5wv_77",TP="_cardListSection_en5wv_87",NP="_cardList_en5wv_87",IP="_emptyText_en5wv_107",oo={header:wP,countText:_P,count:CP,tabButtonContainer:SP,tabButton:EP,active:AP,cardListSection:TP,cardList:NP,emptyText:IP},Jx=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}];function kP(){var s,l;const[t,e]=P.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[n,i]=P.useState("exhibition");P.useEffect(()=>{(async()=>{try{const f=await mt.get("/api/users/me/likes"),{data:p}=f;e({exhibition:p.like_exhibitions||[],gallery:p.like_galleries||[],artist:p.like_artists||[],artwork:[]})}catch(f){console.log("like fetch err : ",f),e({exhibition:[],gallery:[],artwork:[],artist:[]})}})()},[]);const r=t[n]||[];return b.jsxs("div",{children:[b.jsxs("div",{className:oo.header,children:[b.jsxs("p",{className:oo.countText,children:["",b.jsx("span",{className:oo.count,children:r.length}),""," ",(s=Jx.find(d=>d.key===n))==null?void 0:s.label," ."]}),b.jsx("div",{className:oo.tabButtonContainer,children:Jx.map(d=>b.jsx("button",{className:`${oo.tabButton} ${n===d.key?oo.active:""}`,onClick:()=>i(d.key),children:d.label},d.key))})]}),b.jsx("section",{className:oo.cardListSection,children:b.jsx("div",{className:oo.cardList,children:r.length>0?n==="exhibition"?r.map((d,f)=>b.jsx(mT,{exhibitionItem:d},`exhibition-${d.id}-${f}`)):n==="gallery"?r.map((d,f)=>b.jsx(Mb,{galleryItem:d},`gallery-${d.id}-${f}`)):n==="artist"?r.map((d,f)=>b.jsx(gT,{artistItem:d},`artist-${d.id}-${f}`)):null:b.jsxs("p",{className:oo.emptyText,children:[" ",(l=Jx.find(d=>d.key===n))==null?void 0:l.label," ."]})})})]})}const MP="_cardContainer_18zcp_1",OP="_imgContainer_18zcp_33",RP="_image_18zcp_41",DP="_artistImage_18zcp_53",BP="_contents_18zcp_69",LP="_title_18zcp_83",jP="_info_18zcp_95",PP="_statusContainer_18zcp_109",FP="_statusCompleted_18zcp_123",zP="_statusReserved_18zcp_137",HP="_statusCanceled_18zcp_153",UP="_cancel_18zcp_173",$P="_action_18zcp_205",VP="_btn_18zcp_215",GP="_catalogRegisteredDate_18zcp_247",vn={cardContainer:MP,imgContainer:OP,image:RP,artistImage:DP,contents:BP,title:LP,info:jP,statusContainer:PP,statusCompleted:FP,statusReserved:zP,statusCanceled:HP,cancel:UP,action:$P,btn:VP,catalogRegisteredDate:GP};function bT({item:t,onQR:e,onCancel:n,onGoDetail:i,onReservation:r,type:s}){if(!t)return null;const l=()=>{const{likeType:p}=t;let y="",_="",S="",A=vn.image;if(p==="exhibition")y=t.exhibition_poster,_=t.exhibition_title,S=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(p==="gallery")y=t.gallery_image,_=t.gallery_name,S=t.gallery_address;else if(p==="artist")y=t.artist_image,_=t.artist_name,S=`${t.artist_category} / ${t.artist_nation}`,A=vn.artistImage;else return null;return b.jsxs("div",{onClick:i,className:vn.cardContainer,children:[b.jsx("div",{className:vn.imgContainer,children:b.jsx("img",{src:y,alt:_,className:`${vn.image} ${A}`})}),b.jsxs("div",{className:vn.contents,children:[b.jsx("h3",{className:vn.title,children:_}),b.jsx("p",{className:vn.info,dangerouslySetInnerHTML:{__html:S}})]})]})},d=()=>{var G,j;const{exhibition_poster:p,exhibition_title:y="  ",exhibition_location:_="  ",reservation_status:S="",id:A=" ",reservation_datetime:T}=t,O={reserved:{label:"",className:vn.statusReserved},used:{label:"",className:vn.statusCompleted},canceled:{label:"",className:vn.statusCanceled}},R=((G=O[S])==null?void 0:G.label)||"  ",B=((j=O[S])==null?void 0:j.className)||"";return b.jsxs("div",{className:vn.cardContainer,onClick:r,children:[b.jsx("div",{className:vn.imgContainer,children:b.jsx("img",{src:p,alt:y,className:vn.image})}),b.jsxs("div",{className:vn.contents,children:[b.jsx("h3",{className:vn.title,children:y}),b.jsxs("p",{className:vn.info,children:[_,b.jsx("br",{}),T.split(" ")[0],b.jsx("br",{}),": ",A]}),b.jsxs("div",{className:vn.statusContainer,children:[b.jsx("span",{className:B,children:R}),b.jsxs("div",{className:vn.action,children:[b.jsxs("button",{className:vn.btn,onClick:k=>{k.stopPropagation(),i()},children:[" ",""]}),S==="reserved"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:vn.btn,onClick:k=>{k.stopPropagation(),e(t.exhibition_id)},children:""}),b.jsx("button",{className:vn.cancel,onClick:k=>{k.stopPropagation(),n()},children:""})]})]})]})]})]})},f=()=>{const{bookDetail:p,book_poster:y,create_dtm:_=""}=t,{book:{book_title:S="  "}={},exhibition:{exhibition_location:A="   "}={},gallery:{gallery_name:T="  "}={},exhibition:{exhibition_start_date:O=""}={},exhibition:{exhibition_end_date:R=""}={}}=(p==null?void 0:p.book)||{},B=O&&R?`${O} ~ ${R}`:"",G=_?new Date(_).toISOString().slice(0,10):"";return b.jsxs("div",{onClick:i,className:vn.cardContainer,children:[b.jsx("div",{className:vn.imgContainer,children:b.jsx("img",{src:y,alt:S,className:vn.image})}),b.jsxs("div",{className:vn.contents,children:[b.jsx("h3",{className:vn.title,children:S}),b.jsxs("p",{className:vn.info,children:[T," / ",A,b.jsx("br",{}),B]}),b.jsxs("p",{className:vn.catalogRegisteredDate,children:[": ",G]})]})]})};switch(s){case"like":return l();case"reservation":return d();case"catalog":return f();default:return null}}const qP="_header_1tuse_1",WP="_countText_1tuse_15",XP="_count_1tuse_15",YP="_registerCatalogBtn_1tuse_41",KP="_cardList_1tuse_71",ZP="_emptyText_1tuse_83",vc={header:qP,countText:WP,count:XP,registerCatalogBtn:YP,cardList:KP,emptyText:ZP};function QP(){const[t,e]=P.useState([]),n=Jt(),i=()=>{n("/scan")},r=l=>{n(`/catalog/${l}`)},s=()=>{console.log("QR  or ")};return P.useEffect(()=>{async function l(){try{const f=(await mt.get("/api/users/me/purchases")).data,p=await Promise.all(f.map(async y=>{try{const _=await mt.get(`/api/books/${y.book_id}`);return{...y,bookDetail:_.data}}catch(_){return console.error(`Book ${y.book_id}    : `,_),{...y,bookDetail:null}}}));console.log(p),e(p)}catch(d){console.error("   : ",d),e([])}}l()},[]),b.jsxs("div",{className:vc.myCatalog,children:[b.jsxs("div",{className:vc.header,children:[b.jsx("div",{children:b.jsxs("p",{className:vc.countText,children:["  ",b.jsx("span",{className:vc.count,children:t.length})]})}),b.jsx("button",{className:vc.registerCatalogBtn,onClick:i,children:"  "})]}),b.jsx("section",{children:b.jsx("div",{className:vc.cardList,children:t.length>0?t.map(l=>b.jsx(bT,{item:l,onGoDetail:()=>r(l.id),onQR:s,onCancel:null,type:"catalog"},l.id)):b.jsxs("p",{className:vc.emptyText,children:["   .",b.jsx("br",{})," QR "]})})})]})}const JP="_cardList_12369_1",eF="_header_12369_13",tF="_countText_12369_27",nF="_count_12369_27",iF="_emptyText_12369_53",Uu={cardList:JP,header:eF,countText:tF,count:nF,emptyText:iF},rF=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],sF="_modalOverlay_1kfbz_1",aF="_modalContainer_1kfbz_27",oF="_modalHeader_1kfbz_53",lF="_closeButton_1kfbz_71",cF="_imageContainer_1kfbz_95",uF="_checkIconContainer_1kfbz_127",dF="_confirmText_1kfbz_161",fF="_visitDate_1kfbz_177",hF="_infoButton_1kfbz_191",lo={modalOverlay:sF,modalContainer:aF,modalHeader:oF,closeButton:lF,imageContainer:cF,checkIconContainer:uF,confirmText:dF,visitDate:fF,infoButton:hF},pF=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:i,visitDate:r,onViewExhibition:s})=>t?b.jsx("div",{className:lo.modalOverlay,children:b.jsxs("div",{className:lo.modalContainer,children:[b.jsxs("div",{className:lo.modalHeader,children:[b.jsx("button",{className:lo.closeButton,onClick:e,children:b.jsx(uT,{})}),b.jsx("div",{children:n})]}),b.jsx("div",{className:lo.imageContainer,children:b.jsx("img",{src:i,alt:n})}),b.jsx("div",{className:lo.checkIconContainer,children:b.jsx(Ib,{})}),b.jsx("div",{className:lo.confirmText,children:"  "}),b.jsxs("div",{className:lo.visitDate,children:[" : ",r]}),b.jsx("button",{className:lo.infoButton,onClick:s,children:"  "})]})}):null;function mF(){const[t,e]=P.useState([]),[n,i]=P.useState({dateSort:"latest",statusFilter:"all"}),r=Jt(),[s,l]=P.useState(!1),[d,f]=P.useState({id:"",title:"",imageUrl:""});P.useEffect(()=>{if(localStorage.getItem("showAttendanceModal")==="true"){const O=localStorage.getItem("exhibitionInfo");if(O){try{const R=JSON.parse(O);f(R),l(!0)}catch(R){console.error("   :",R),f({id:"",title:" ",imageUrl:"  URL"}),l(!1)}localStorage.removeItem("showAttendanceModal")}else l(!1)}},[]),P.useEffect(()=>{(async()=>{try{const O=await mt.get("/api/users/me/exhibitions"),{data:R}=O;e(R)}catch(O){console.error("  :",O)}})()},[]);const p=P.useMemo(()=>{let T=t;return n.statusFilter!=="all"&&(T=T.filter(O=>O.reservation_status===n.statusFilter)),T.sort((O,R)=>{const B=new Date(O.reservation_datetime),G=new Date(R.reservation_datetime);return n.dateSort==="latest"?G-B:B-G}),T},[t,n]);console.log(p);const y=()=>{l(!1),localStorage.removeItem("exhibitionInfo")},_=async T=>{if(window.confirm(" ?"))try{await mt.delete(`/api/reservations/${T}`),e(R=>R.map(B=>B.id===T?{...B,reservation_status:"canceled"}:B))}catch(R){console.error("  :",R)}},S=T=>{r(`/exhibitions/${T}`),localStorage.removeItem("exhibitionInfo")},A=T=>{const O={id:T.exhibition_id,title:T.exhibition_title,imageUrl:T.exhibition_poster};localStorage.setItem("exhibitionInfo",JSON.stringify(O)),localStorage.setItem("showAttendanceModal","true"),console.log("   : "),r(`/scan?itemId=${T.id}`)};return b.jsxs("div",{children:[b.jsxs("div",{className:Uu.header,children:[b.jsxs("p",{className:Uu.countText,children:[" "," ",b.jsx("span",{className:Uu.count,children:p.length})]}),b.jsx("div",{className:Uu.filterSection,children:b.jsx(Eh,{filterList:rF,onSetFilter:i,shape:"rect"})})]}),b.jsx("section",{children:b.jsx("div",{className:Uu.cardList,children:p.length>0?p.map(T=>b.jsx(bT,{item:T,status:T.reservation_status==="reserved",onReservation:()=>{r(`/reservationconfirm/${T.id}`)},onGoDetail:()=>S(T.exhibition_id),onCancel:()=>_(T.id),onQR:()=>A(T),type:"reservation"},T.id)):b.jsx("p",{className:Uu.emptyText,children:"  ."})})}),s&&b.jsx(pF,{isOpen:s,onClose:y,exhibitionTitle:d.title,imageUrl:d.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>S(d.id)})]})}function gF(){const[t,e]=P.useState(""),n=["","MY","MY"];P.useEffect(()=>{const r=localStorage.getItem("showAttendanceModal"),s=localStorage.getItem("fromReservationModal");localStorage.getItem("showMyCatalogTab")==="true"?(e("MY"),localStorage.removeItem("showMyCatalogTab")):(r==="true"||s==="true")&&(e("MY"),localStorage.removeItem("fromReservationModal"))},[]);const i=()=>{switch(t){case"":return b.jsx(kP,{});case"MY":return b.jsx(mF,{});case"MY":return b.jsx(QP,{});default:return null}};return b.jsxs("div",{className:Jp.layout,children:[b.jsx(vP,{}),b.jsx("nav",{className:Jp.mainTab,children:n.map(r=>b.jsx("button",{className:`${Jp.tabButton} ${t===r?Jp.active:""}`,onClick:()=>e(r),children:r},r))}),i()]})}const xF="_container_14wg3_1",yF="_pageTitle_14wg3_17",bF="_profileCard_14wg3_29",vF="_infoRow_14wg3_173",wF="_infoLabel_14wg3_193",_F="_infoValue_14wg3_205",CF="_input_14wg3_215",SF="_changeButton_14wg3_231",EF="_profileStatsCard_14wg3_259",AF="_sectionTitle_14wg3_277",TF="_statsRow_14wg3_289",NF="_statsItem_14wg3_305",IF="_profileDetailsCard_14wg3_313",kF="_detailsRow_14wg3_329",MF="_detailsLabel_14wg3_351",OF="_detailsValue_14wg3_359",RF="_changeButtonSmall_14wg3_369",DF="_buttonField_14wg3_397",BF="_backBtn_14wg3_409",Kt={container:xF,pageTitle:yF,profileCard:bF,infoRow:vF,infoLabel:wF,infoValue:_F,input:CF,changeButton:SF,profileStatsCard:EF,sectionTitle:AF,statsRow:TF,statsItem:NF,profileDetailsCard:IF,detailsRow:kF,detailsLabel:MF,detailsValue:OF,changeButtonSmall:RF,buttonField:DF,backBtn:BF},LF="_modalOverlay_iiyfy_1",jF="_modalContainer_iiyfy_27",PF="_modalHeader_iiyfy_51",FF="_closeButton_iiyfy_67",zF="_modalTitle_iiyfy_87",HF="_modalContent_iiyfy_105",UF="_passwordSection_iiyfy_121",$F="_sectionTitle_iiyfy_129",VF="_sectionDescription_iiyfy_141",GF="_form_iiyfy_155",qF="_formGroup_iiyfy_167",WF="_input_iiyfy_175",XF="_submitButton_iiyfy_209",yr={modalOverlay:LF,modalContainer:jF,modalHeader:PF,closeButton:FF,modalTitle:zF,modalContent:HF,passwordSection:UF,sectionTitle:$F,sectionDescription:VF,form:GF,formGroup:qF,input:WF,submitButton:XF},YF=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:i})=>{const[r,s]=P.useState(""),[l,d]=P.useState(""),f=p=>{p.preventDefault()};return t?b.jsx("div",{className:yr.modalOverlay,children:b.jsxs("div",{className:yr.modalContainer,children:[b.jsxs("div",{className:yr.modalHeader,children:[b.jsx("button",{className:yr.closeButton,onClick:e,children:b.jsx(uT,{})}),b.jsx("div",{className:yr.modalTitle,children:" "})]}),b.jsx("div",{className:yr.modalContent,children:b.jsxs("div",{className:yr.passwordSection,children:[b.jsx("h3",{className:yr.sectionTitle,children:" "}),b.jsxs("p",{className:yr.sectionDescription,children:["    ",b.jsx("br",{}),"  ."]}),b.jsxs("form",{className:yr.form,onSubmit:f,children:[b.jsx("div",{className:yr.formGroup,children:b.jsx("input",{type:"password",placeholder:" ",className:yr.input,value:r,onChange:p=>s(p.target.value),required:!0})}),b.jsx("div",{className:yr.formGroup,children:b.jsx("input",{type:"password",placeholder:" ",className:yr.input,value:l,onChange:p=>d(p.target.value),required:!0})}),b.jsx("button",{className:yr.submitButton,type:"submit",children:" "})]})]})})]})}):null},KF=()=>{const{user:t,setUser:e}=P.useContext(Qc),[n,i]=P.useState(!1),[r,s]=P.useState(!1),[l,d]=P.useState(!1),[f,p]=P.useState(""),[y,_]=P.useState(""),S=Jt();if(!t)return b.jsx("div",{children:"  "});const A=()=>{i(!0)},T=()=>{i(!1)},O=()=>{s(!0),p(t.user_name)},R=()=>{d(!0),_(t.user_email)},B=D=>{p(D.target.value)},G=D=>{_(D.target.value)},j=async()=>{try{await pi.put("/api/users/me",{...t,user_name:f}),e({...t,user_name:f}),s(!1)}catch(D){console.error("  .",D)}},k=async()=>{try{await pi.put("/api/users/me",{...t,user_email:y}),e({...t,user_email:y}),d(!1)}catch(D){console.error("  .",D)}};return b.jsxs("div",{className:Kt.container,children:[b.jsx("h2",{className:Kt.pageTitle,children:""}),b.jsx("div",{className:Kt.profileCard,children:b.jsxs("div",{className:Kt.profileInfoDetails,children:[b.jsxs("div",{className:Kt.infoRow,children:[b.jsx("span",{className:Kt.infoLabel,children:""}),b.jsx("span",{className:Kt.infoValue,children:t.login_id||""}),b.jsx("button",{className:Kt.changeButtonSmall,onClick:A,children:" "})]}),b.jsxs("div",{className:Kt.infoRow,children:[b.jsx("span",{className:Kt.infoLabel,children:""}),r?b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",className:Kt.input,value:f,onChange:B}),b.jsx("button",{className:Kt.changeButton,onClick:j,children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:Kt.infoValue,children:t.user_name||""}),b.jsx("button",{className:Kt.changeButton,onClick:O,children:""})]})]}),b.jsxs("div",{className:Kt.infoRow,children:[b.jsx("span",{className:Kt.infoLabel,children:""}),l?b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"email",className:Kt.input,value:y,onChange:G}),b.jsx("button",{className:Kt.changeButton,onClick:k,children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:Kt.infoValue,children:t.user_email||"email@email.com"}),b.jsx("button",{className:Kt.changeButton,onClick:R,children:""})]})]})]})}),b.jsxs("div",{className:Kt.profileStatsCard,children:[b.jsx("h3",{className:Kt.sectionTitle,children:""}),b.jsx("div",{className:Kt.statsRow,children:b.jsx("span",{className:Kt.statsItem,children:"1:1 "})}),b.jsx("div",{className:Kt.statsRow,children:b.jsx("span",{className:Kt.statsItem,children:" "})})]}),b.jsxs("div",{className:Kt.profileDetailsCard,children:[b.jsx("h3",{className:Kt.sectionTitle,children:""}),b.jsx("div",{className:Kt.detailsRow,children:b.jsx("span",{className:Kt.detailsLabel,children:""})}),b.jsxs("div",{className:Kt.detailsRow,children:[b.jsx("span",{className:Kt.detailsLabel,children:" "}),b.jsx("span",{className:Kt.detailsValue,children:"1.10.24"})]}),b.jsx("div",{className:Kt.detailsRow,children:b.jsx("span",{className:Kt.detailsLabel,children:" "})})]}),b.jsx("div",{className:Kt.buttonField,children:b.jsx("button",{className:Kt.backBtn,onClick:()=>S("/mypage"),children:" "})}),b.jsx(YF,{isOpen:n,onClose:T,userInfo:t})]})},ZF="_layout_11t2z_1",QF="_summaryTitle_11t2z_15",JF="_queryStringSpan_11t2z_25",ez="_resultSection_11t2z_33",e1={layout:ZF,summaryTitle:QF,queryStringSpan:JF,resultSection:ez},t1=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},tz="_layout_uizu7_1",nz="_titleContainer_uizu7_13",iz="_categoryTitle_uizu7_25",rz="_extraLink_uizu7_33",sz="_resultList_uizu7_45",az="_emptyBox_uizu7_63",$u={layout:tz,titleContainer:nz,categoryTitle:iz,extraLink:rz,resultList:sz,emptyBox:az},ey=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},oz="_layout_i3rj4_1",lz="_itemImage_i3rj4_13",cz="_itemSpan_i3rj4_27",ty={layout:oz,itemImage:lz,itemSpan:cz};function uz({link:t,thumbnail:e,title:n}){return b.jsxs(Rn,{className:ty.layout,to:t,children:[b.jsx("img",{className:ty.itemImage,src:e}),b.jsx("span",{className:ty.itemSpan,children:n})]})}function n1({category:t,results:e}){return b.jsxs("section",{className:$u.layout,children:[b.jsxs("div",{className:$u.titleContainer,children:[b.jsx("h2",{className:$u.categoryTitle,children:ey(t).label}),(e==null?void 0:e.length)===10&&b.jsx(Rn,{className:$u.extraLink,to:`/${ey(t).link}`,children:""})]}),b.jsx("hr",{}),b.jsx("div",{className:$u.resultList,children:!e||e.length===0?b.jsx("div",{className:$u.emptyBox,children:"  "}):e.map(({id:n,thumbnail:i,title:r})=>b.jsx(uz,{link:`/${ey(t).link}/${n}`,thumbnail:i,title:r},n))})]})}function dz(){const t=gi(),n=new URLSearchParams(t.search).get("query"),[i,r]=P.useState({});console.log(n);const s=async()=>{try{const l=await pi.get("/api/search",{params:{search:n}});r(l.data)}catch(l){throw new Error(l)}};return P.useEffect(()=>{s()},[n]),b.jsxs("div",{className:e1.layout,children:[b.jsxs("h1",{className:e1.summaryTitle,children:[b.jsx("span",{className:e1.queryStringSpan,children:`'${n}'`}),"   "]}),b.jsxs("section",{className:e1.resultSection,children:[b.jsx(n1,{category:"exhibition",results:t1(i.exhibitions,"exhibition")}),b.jsx(n1,{category:"gallery",results:t1(i.galleries,"gallery")}),b.jsx(n1,{category:"artist",results:t1(i.artists,"artist")}),b.jsx(n1,{category:"notice",results:t1(i.announcements,"notice")})]})]})}const fz="_layout_1jxus_1",hz="_header_1jxus_11",pz="_backBtn_1jxus_37",mz="_orderSection_1jxus_47",gz="_userInfo_1jxus_61",xz="_productBox_1jxus_71",yz="_productImage_1jxus_81",bz="_productInfo_1jxus_95",vz="_paymentInfo_1jxus_109",wz="_discountInfo_1jxus_111",_z="_paymentMethod_1jxus_113",Cz="_total_1jxus_129",Sz="_kakao_1jxus_169",Ez="_naver_1jxus_177",Az="_basic_1jxus_183",Tz="_paymentButton_1jxus_191",br={layout:fz,header:hz,backBtn:pz,orderSection:mz,userInfo:gz,productBox:xz,productImage:yz,productInfo:bz,paymentInfo:vz,discountInfo:wz,paymentMethod:_z,total:Cz,kakao:Sz,naver:Ez,basic:Az,paymentButton:Tz};function Nz(){const{reservationId:t}=Fs(),{state:e}=gi(),n=Jt(),[i,r]=P.useState(""),{exhibition:s={},date:l="",time:d="",people:{adults:f=0,teens:p=0,children:y=0}={},total:_=0,email:S="test@test.com",phone:A="010-1234-5678",name:T=""}=e||{},O=()=>n(`/reservation/${s.id}`),R=()=>{if(!i){alert("  .");return}alert(`${i}  .`);const L={...e,payment:i};n(`/reservation/complete/${t}`,{state:L})},B=()=>b.jsxs("div",{className:br.userInfo,children:[b.jsx("h3",{children:" "}),b.jsxs("p",{children:[T," "]}),b.jsx("p",{children:S}),b.jsx("p",{children:A})]}),G=()=>b.jsxs("div",{className:br.productBox,children:[b.jsx("img",{src:s.imageUrl,alt:" ",className:br.productImage}),b.jsxs("div",{className:br.productInfo,children:[b.jsx("h3",{children:s.title}),b.jsxs("p",{children:["-  : ",l]}),b.jsxs("p",{children:["-   : ",d]}),b.jsxs("p",{children:["-  :  ",f,",  ",p,",  ",y]}),b.jsxs("p",{children:["-  : ",_.toLocaleString(),""]})]})]}),j=()=>b.jsxs("div",{className:br.discountInfo,children:[b.jsx("h3",{children:"   "}),b.jsx("p",{children:"1,000point "}),b.jsx("p",{children:" : 0"})]}),k=()=>b.jsxs("div",{className:br.paymentInfo,children:[b.jsx("h3",{children:" "}),b.jsxs("p",{children:[" : ",_.toLocaleString(),""]}),b.jsx("p",{children:" : -1,000"}),b.jsxs("p",{className:br.total,children:["  : ",(_-1e3).toLocaleString(),""]})]}),D=()=>{const L={:"kakao",:"naver"," ":"basic"};return b.jsxs("div",{className:br.paymentMethod,children:[b.jsx("h3",{children:" "}),Object.entries(L).map(([z,V])=>b.jsxs("label",{children:[b.jsx("input",{type:"radio",name:"payment",value:z,onChange:X=>r(X.target.value)}),b.jsxs("span",{className:br[V],children:[" ",z]})]},z))]})};return b.jsxs("div",{className:br.layout,children:[b.jsxs("header",{className:br.header,children:[b.jsx("button",{className:br.backBtn,onClick:O,children:""}),b.jsx("span",{className:br.title,children:"   "})]}),b.jsxs("div",{className:br.orderSection,children:[B(),G()]}),j(),k(),D(),b.jsx("button",{className:br.paymentButton,onClick:R,children:""})]})}const Iz="_layout_1czrs_1",kz="_newsListSection_1czrs_61",G3={layout:Iz,newsListSection:kz},Mz=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],Oz="_card_iircg_1",Rz="_header_iircg_31",Dz="_badge_iircg_45",Bz="_title_iircg_99",Lz="_info_iircg_121",jz="_period_iircg_131",Pz="_organizer_iircg_133",co={card:Oz,header:Rz,badge:Dz,:"__iircg_81",:"__iircg_91",title:Bz,info:Lz,period:jz,organizer:Pz};function Fz({newsItem:t}){const e=Jt(),{id:n,announcement_title:i,announcement_start_datetime:r,announcement_end_datetime:s,announcement_organizer:l,announcement_category:d,announcement_status:f}=t,p=S=>S==null?void 0:S.split(" ")[0].replace(/-/g,"."),y=S=>{switch(S){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},_=()=>{e(`/notices/${n}`)};return b.jsxs("div",{className:co.card,onClick:_,role:"button",tabIndex:0,children:[b.jsxs("div",{className:co.header,children:[b.jsx("span",{className:`${co.badge}`,children:d}),b.jsx("span",{className:`${co.badge} ${co[y(f)]}`,children:y(f)})]}),b.jsx("h3",{className:co.title,children:i}),b.jsxs("div",{className:co.info,children:[b.jsx("p",{className:co.period,children:`${p(r)} ~ ${p(s)}`}),b.jsx("p",{className:co.organizer,children:l})]})]})}function zz(){const[t,e]=P.useState([]),[n,i]=P.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ad(10,t),[d,f]=P.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[p,y]=P.useState(""),_=A=>{y(A.target.value)},S=async()=>{try{i(!0);const A={...d,search:p},T=await pi.get("/api/announcements",{params:A});e(T.data)}catch(A){console.error("   :",A)}finally{i(!1)}};return P.useEffect(()=>{S()},[d]),b.jsxs("div",{className:G3.layout,children:[b.jsx(Sh,{title:"",placeholder:" ",onEvent:S,onSearch:_,value:p,isNews:!0}),b.jsx(Eh,{filterList:Mz,onSetFilter:f}),b.jsx(Ah,{num:t.length,label:""}),n&&b.jsx("div",{children:"   .."}),t.length===0&&b.jsx("div",{children:"  ."}),b.jsx("section",{className:G3.newsListSection,children:l.map(A=>b.jsx(Fz,{newsItem:A},A.id))}),b.jsx(Ed,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const Hz="_noticeLayout_p2ihj_1",Uz="_categorySpan_p2ihj_25",$z="_newsTitle_p2ihj_33",Vz="_newsImage_p2ihj_41",Gz="_contentsContainer_p2ihj_55",qz="_divider_p2ihj_73",Wz="_contentParagraph_p2ihj_87",Xz="_noticeText_p2ihj_99",Yz="_backButton_p2ihj_115",Ca={noticeLayout:Hz,categorySpan:Uz,newsTitle:$z,newsImage:Vz,contentsContainer:Gz,divider:qz,contentParagraph:Wz,noticeText:Xz,backButton:Yz},Kz="_info_pjhlh_1",Zz="_label_pjhlh_41",Vu={info:Kz,label:Zz};function Qz({startDate:t,host:e,contact:n,apply:i,attachment:r,site:s}){return b.jsxs("div",{className:Vu.info,children:[b.jsxs("p",{children:[b.jsx("strong",{className:Vu.label,children:" "})," ",t]}),b.jsxs("p",{children:[b.jsx("strong",{className:Vu.label,children:" "})," ",e]}),b.jsxs("p",{children:[b.jsx("strong",{className:Vu.label,children:" "})," ",n]}),b.jsxs("p",{children:[b.jsx("strong",{className:Vu.label,children:" "})," ",i]}),s&&b.jsxs("p",{children:[b.jsx("strong",{className:Vu.label,children:" "})," ",b.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),r&&b.jsxs("p",{children:[b.jsx("strong",{children:":"})," ",b.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",children:r.name})]})]})}function Jz(){const{noticeId:t}=Fs(),[e,n]=P.useState({}),i=async()=>{try{const G=await pi.get(`/api/announcements/${t}`);n(G.data)}catch(G){throw new Error(G)}};if(P.useEffect(()=>{i()},[]),!e)return b.jsx("p",{children:"   ."});const{announcement_title:r,announcement_poster:s,announcement_start_datetime:l,announcement_end_datetime:d,announcement_organizer:f,announcement_contact:p,announcement_support_detail:y,announcement_attachment_url:_,announcement_site_url:S,announcement_content:A,announcement_category:T,created_at:O,views:R}=e,B=(G,j)=>{const k=D=>D==null?void 0:D.split(" ")[0];return`${k(G)} ~ ${k(j)}`};return b.jsxs("section",{className:Ca.noticeLayout,children:[b.jsx("span",{className:Ca.categorySpan,children:T}),b.jsx("h1",{className:Ca.newsTitle,children:r}),b.jsx("hr",{className:Ca.divider}),b.jsxs("div",{className:Ca.contentsContainer,children:[b.jsx("img",{className:Ca.newsImage,src:s,alt:`${r}  `}),b.jsx(Qz,{startDate:B(l,d),host:f,contact:p,apply:y,attachment:_,site:S,createdAt:O,views:R}),b.jsx("p",{className:Ca.contentParagraph,children:A}),b.jsx("hr",{className:Ca.divider}),b.jsx("p",{className:Ca.noticeText,children:"*         ."}),b.jsx(Rn,{className:Ca.backButton,to:"/notices",children:" "})]})]})}const eH="_layout_18xb9_1",tH="_mainContent_18xb9_17",nH="_title_18xb9_45",iH="_infoImage_18xb9_65",rH="_textContainer_18xb9_77",sH="_textBox_18xb9_87",wc={layout:eH,mainContent:tH,title:nH,infoImage:iH,textContainer:rH,textBox:sH},aH="_sectionContainer_yp0fd_1",oH="_controlsContainer_yp0fd_13",lH="_speedContainer_yp0fd_33",cH="_speedButton_yp0fd_67",uH="_clickedSpeedButton_yp0fd_93",dH="_buttonField_yp0fd_103",fH="_optionSpan_yp0fd_113",hH="_optionButton_yp0fd_123",Ws={sectionContainer:aH,controlsContainer:oH,speedContainer:lH,speedButton:cH,clickedSpeedButton:uH,buttonField:dH,optionSpan:fH,optionButton:hH},pH="_audioPlayerWrapper_13cxf_1",mH="_audioButton_13cxf_17",ny={audioPlayerWrapper:pH,audioButton:mH};function gH({script:t,playbackRate:e}){const[n,i]=P.useState(!1),[r,s]=P.useState(!1),[l,d]=P.useState(e),f=P.useRef(null);P.useEffect(()=>{let S=!0;return s(!1),(async()=>{console.log("Fetching audio for script:",`${t.substr(0,50)}...`);const T=await p();if(T&&S){console.log("Audio content fetched successfully");const O=new Audio(`data:audio/mp3;base64,${T}`);O.playbackRate=e,O.onended=()=>i(!1),O.playbackRate=l,f.current=O,s(!0)}})(),()=>{S=!1,f.current&&(f.current.pause(),f.current.currentTime=0)}},[t]),P.useEffect(()=>{d(e),f.current&&(f.current.playbackRate=e)},[e]);const p=async()=>{const A=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:t},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:T}=A;if(T)return T},y=()=>{r&&(n?(f.current.pause(),i(!1)):(f.current.play(),i(!0)))},_=()=>{f.current&&(f.current.pause(),f.current.currentTime=0,i(!1))};return b.jsxs("div",{className:ny.audioPlayerWrapper,children:[b.jsx("button",{className:ny.audioButton,onClick:y,disabled:!r,children:r?n?b.jsx(eL,{}):b.jsx(tL,{}):" ..."}),b.jsx("button",{className:ny.audioButton,onClick:_,disabled:!r,"aria-label":"",children:r?b.jsx(aL,{}):""})]})}function xH({script:t}){const[e,n]=P.useState(1),{isOpen:i,handleOpenModal:r}=xT(),s=[.5,1,1.25,1.5,2];return console.log(i),b.jsxs("section",{className:Ws.sectionContainer,children:[b.jsx(gH,{script:t,playbackRate:e}),b.jsxs("div",{className:Ws.controlsContainer,children:[i&&b.jsx("div",{className:Ws.speedContainer,children:s.map(l=>b.jsxs("button",{className:`${Ws.speedButton} ${l===e&&Ws.clickedSpeedButton}`,onClick:()=>{n(l),r()},children:[l,"x"]},l))}),b.jsxs("div",{className:Ws.buttonField,children:[b.jsx("span",{className:Ws.optionSpan,children:""}),b.jsxs("button",{className:Ws.optionButton,onClick:r,children:[e,"x"]})]}),b.jsxs("div",{className:Ws.buttonField,children:[b.jsx("span",{className:Ws.optionSpan,children:" "}),b.jsx("button",{className:Ws.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const yH=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,i)=>t.slice(i*e,(i+1)*e));function bH(){const[t,e]=P.useState([]),{art_image:n,art_title:i,art_description:r,art_docent:s,artist_name:l}=t,{artId:d}=Fs();return yH(s),P.useEffect(()=>{(async()=>{try{const p=await pi.get(`/api/arts/${d}`);e(p.data)}catch(p){console.error(p),alert("    .")}})()},[]),b.jsxs("main",{className:wc.layout,children:[b.jsx("h2",{className:wc.title,children:i}),b.jsxs("section",{className:wc.mainContent,children:[b.jsx("img",{src:n,alt:`${i} `,className:wc.infoImage}),b.jsx("div",{className:wc.textContainer,children:b.jsxs("div",{className:wc.textBox,children:[b.jsx("strong",{children:""}),b.jsx("span",{className:wc.text,children:l})]})}),b.jsx(xH,{script:s})]})]})}const vH="_layout_16fwn_1",wH="_gridContainer_16fwn_17",_H="_nonDataText_16fwn_41",iy={layout:vH,gridContainer:wH,nonDataText:_H},CH="_layout_1njda_1",SH="_artworkImage_1njda_27",EH="_artworkTitle_1njda_43",AH="_subParagraph_1njda_63",i1={layout:CH,artworkImage:SH,artworkTitle:EH,subParagraph:AH};function TH({artworkItems:t}){const{id:e,art_image:n,art_title:i,art_description:r}=t;return b.jsxs(Rn,{className:i1.layout,to:`/artworks/${e}`,children:[b.jsx("img",{className:i1.artworkImage,src:n,alt:" "}),b.jsx("h3",{className:i1.artworkTitle,children:i}),b.jsx("p",{className:i1.subParagraph,children:r})]})}function NH(){const[t,e]=P.useState([]),[n,i]=P.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ad(10,t),[d,f]=P.useState({type:""});return P.useEffect(()=>{(async()=>{try{i(!0);const y=await pi.get("/api/arts");e(y.data)}catch(y){throw new Error(y)}finally{i(!1)}})()},[d]),b.jsxs("div",{className:iy.layout,children:[b.jsx(Sh,{title:"",isArtworks:!0}),b.jsx(Ah,{num:t.length,label:""}),t.length===0&&b.jsx("div",{className:iy.nonDataText,children:"  ."}),b.jsx("div",{className:iy.gridContainer,children:l.map(p=>b.jsx(TH,{artworkItems:p},p.id))}),t.length>0&&b.jsx(Ed,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const IH="_catalogLayout_1rr2f_1",kH="_bodyContainer_1rr2f_19",MH="_overlay_1rr2f_33",ry={catalogLayout:IH,bodyContainer:kH,overlay:MH},OH="_titleBar_1jvc1_1",RH="_leftButtons_1jvc1_23",DH="_rightButtons_1jvc1_25",BH="_title_1jvc1_1",LH="_button_1jvc1_45",Gu={titleBar:OH,leftButtons:RH,rightButtons:DH,title:BH,button:LH};function jH({onToggleIndex:t}){const e=Jt(),n=()=>{e("/mypage")};return b.jsxs("div",{className:Gu.titleBar,children:[b.jsx("div",{className:Gu.leftButtons,children:b.jsx("button",{className:Gu.button,onClick:t,children:" "})}),b.jsx("h1",{className:Gu.title,children:""}),b.jsx("div",{className:Gu.rightButtons,children:b.jsx("button",{className:Gu.button,onClick:n,children:" "})})]})}const PH="_indexContainer_zrf7c_1",FH="_menuList_zrf7c_37",zH="_active_zrf7c_71",HH="_closeButton_zrf7c_81",r1={indexContainer:PH,menuList:FH,active:zH,closeButton:HH},q3="/assets/mockCatalog-DwV1yhn-.png",vT=[{id:"cover",title:"",image:q3,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:q3,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function UH({onSelect:t,currentIndex:e,sectionStarts:n,onClose:i}){const r=P.useRef();return P.useEffect(()=>{const s=d=>{r.current&&!r.current.contains(d.target)&&i()},l=d=>{d.key==="Escape"&&i()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",l)}},[i]),b.jsxs("aside",{className:r1.indexContainer,ref:r,children:[b.jsx("button",{className:r1.closeButton,onClick:i,children:""}),b.jsx("ul",{className:r1.menuList,children:vT.map((s,l)=>b.jsx("li",{className:l===e?r1.active:"",onClick:()=>t(n[l]),tabIndex:0,children:s.title},s.id))})]})}const $H="_container_c1nh1_1",VH="_page_c1nh1_23",GH="_image_c1nh1_41",qH="_title_c1nh1_55",WH="_meta_c1nh1_67",XH="_script_c1nh1_79",YH="_arrowLeft_c1nh1_89",KH="_arrowRight_c1nh1_91",ZH="_pageCount_c1nh1_155",uo={container:$H,page:VH,image:GH,title:qH,meta:WH,script:XH,arrowLeft:YH,arrowRight:KH,pageCount:ZH};function QH({data:t,pageIndex:e,totalPages:n,onPrev:i,onNext:r,isFirst:s,isLast:l}){return b.jsxs("div",{className:uo.container,children:[!s&&b.jsx("button",{onClick:i,className:uo.arrowLeft,children:""}),!l&&b.jsx("button",{onClick:r,className:uo.arrowRight,children:""}),b.jsxs("div",{className:uo.page,children:[t.image&&b.jsx("img",{src:t.image,alt:t.title,className:uo.image}),b.jsx("h2",{className:uo.title,children:t.title}),b.jsxs("p",{className:uo.meta,children:[t.artist,"  ",t.info]}),b.jsx("p",{className:uo.script,children:t.script}),b.jsxs("p",{className:uo.pageCount,children:[" ",e+1," / ",n]})]})]})}const JH=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(i,r)=>n.slice(r*e,(r+1)*e))};function eU(){const[t,e]=P.useState(!1),[n,i]=P.useState(0),{allPages:r,sectionStarts:s}=P.useMemo(()=>{const p=[],y=[];return vT.forEach(_=>{const S=JH(_.script);y.push(p.length),S.forEach(A=>{p.push({..._,script:A})})}),{allPages:p,sectionStarts:y}},[]),l=()=>{i(p=>Math.max(0,p-1))},d=()=>{i(p=>Math.min(r.length-1,p+1))},f=P.useMemo(()=>s.reduce((p,y,_)=>n>=y?_:p,0),[n,s]);return b.jsxs("div",{className:ry.catalogLayout,children:[b.jsx(jH,{onToggleIndex:()=>e(p=>!p)}),b.jsxs("div",{className:ry.bodyContainer,children:[t&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:ry.overlay}),b.jsx(UH,{onSelect:p=>i(p),onClose:()=>e(!1),currentIndex:f,sectionStarts:s})]}),b.jsx(QH,{data:r[n],pageIndex:n,totalPages:r.length,onPrev:l,onNext:d,isFirst:n===0,isLast:n===r.length-1})]})]})}var Ke;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ke||(Ke={}));var W3=new Map([[Ke.QR_CODE,"QR_CODE"],[Ke.AZTEC,"AZTEC"],[Ke.CODABAR,"CODABAR"],[Ke.CODE_39,"CODE_39"],[Ke.CODE_93,"CODE_93"],[Ke.CODE_128,"CODE_128"],[Ke.DATA_MATRIX,"DATA_MATRIX"],[Ke.MAXICODE,"MAXICODE"],[Ke.ITF,"ITF"],[Ke.EAN_13,"EAN_13"],[Ke.EAN_8,"EAN_8"],[Ke.PDF_417,"PDF_417"],[Ke.RSS_14,"RSS_14"],[Ke.RSS_EXPANDED,"RSS_EXPANDED"],[Ke.UPC_A,"UPC_A"],[Ke.UPC_E,"UPC_E"],[Ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),X3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(X3||(X3={}));function tU(t){return Object.values(Ke).includes(t)}var W1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(W1||(W1={}));var nU=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[W1.SCAN_TYPE_CAMERA,W1.SCAN_TYPE_FILE],t}(),wT=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!W3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,W3.get(e))},t}(),Y3=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),C2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(C2||(C2={}));var iU=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:C2.UNKWOWN_ERROR}},t}(),rU=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function _o(t){return typeof t>"u"||t===null}var od=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),_T=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var i=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(r),l=Object.keys(e),d=0,f=l;d<f.length;d++){var p=f[d];if(s.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),Pf={exports:{}},sU=Pf.exports,K3;function aU(){return K3||(K3=1,function(t,e){(function(n,i){i(e)})(sU,function(n){function i(U){return U==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,o){U.__proto__=o}||function(U,o){for(var u in o)o.hasOwnProperty(u)&&(U[u]=o[u])};function s(U,o){r(U,o);function u(){this.constructor=U}U.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l(U,o){var u=Object.setPrototypeOf;u?u(U,o):U.__proto__=o}function d(U,o){o===void 0&&(o=U.constructor);var u=Error.captureStackTrace;u&&u(U,o)}var f=function(U){s(o,U);function o(u){var h=this.constructor,g=U.call(this,u)||this;return Object.defineProperty(g,"name",{value:h.name,enumerable:!1}),l(g,h.prototype),d(g),g}return o}(Error);class p extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class _ extends p{}_.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,h,g){const x=this.binarizer.getLuminanceSource().crop(o,u,h,g);return new S(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends p{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class T{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(o,u,h,g,x){for(;x--;)h[g++]=o[u++]}static currentTimeMillis(){return Date.now()}}class R extends p{}R.kind="IndexOutOfBoundsException";class B extends R{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}B.kind="ArrayIndexOutOfBoundsException";class G{static fill(o,u){for(let h=0,g=o.length;h<g;h++)o[h]=u}static fillWithin(o,u,h,g){G.rangeCheck(o.length,u,h);for(let x=u;x<h;x++)o[x]=g}static rangeCheck(o,u,h){if(u>h)throw new _("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new B(u);if(h>o)throw new B(h)}static asList(...o){return o}static create(o,u,h){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(h))}static createInt32Array(o,u,h){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(h))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let h=0,g=o.length;h<g;h++)if(o[h]!==u[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const h of o)u=31*u+h;return u}static fillUint8Array(o,u){for(let h=0;h!==o.length;h++)o[h]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const h=new Uint8Array(u);return h.set(o),h}return o.slice(0,u)}static copyOfRange(o,u,h){const g=h-u,x=new Int32Array(g);return O.arraycopy(o,u,x,0,g),x}static binarySearch(o,u,h){h===void 0&&(h=G.numberComparator);let g=0,x=o.length-1;for(;g<=x;){const w=x+g>>1,C=h(u,o[w]);if(C>0)g=w+1;else if(C<0)x=w-1;else return w}return-g-1}static numberComparator(o,u){return o-u}}class j{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let h=31;return u=o<<16,u!==0&&(h-=16,o=u),u=o<<8,u!==0&&(h-=8,o=u),u=o<<4,u!==0&&(h-=4,o=u),u=o<<2,u!==0&&(h-=2,o=u),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=k.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=k.makeArray(o);O.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),x=h[g];x&=~((1<<(o&31))-1);const w=h.length;for(;x===0;){if(++g===w)return u;x=h[g]}const C=g*32+j.numberOfTrailingZeros(x);return C>u?u:C}getNextUnset(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),x=~h[g];x&=~((1<<(o&31))-1);const w=h.length;for(;x===0;){if(++g===w)return u;x=~h[g]}const C=g*32+j.numberOfTrailingZeros(x);return C>u?u:C}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new _;if(u===o)return;u--;const h=Math.floor(o/32),g=Math.floor(u/32),x=this.bits;for(let w=h;w<=g;w++){const C=w>h?0:o&31,M=(2<<(w<g?31:u&31))-(1<<C);x[w]|=M}}clear(){const o=this.bits.length,u=this.bits;for(let h=0;h<o;h++)u[h]=0}isRange(o,u,h){if(u<o||o<0||u>this.size)throw new _;if(u===o)return!0;u--;const g=Math.floor(o/32),x=Math.floor(u/32),w=this.bits;for(let C=g;C<=x;C++){const N=C>g?0:o&31,F=(2<<(C<x?31:u&31))-(1<<N)&4294967295;if((w[C]&F)!==(h?F:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new _("Sizes don't match");const u=this.bits;for(let h=0,g=u.length;h<g;h++)u[h]^=o.bits[h]}toBytes(o,u,h,g){for(let x=0;x<g;x++){let w=0;for(let C=0;C<8;C++)this.get(o)&&(w|=1<<7-C),o++;u[h+x]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,g=this.bits;for(let x=0;x<h;x++){let w=g[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[u-x]=w}if(this.size!==h*32){const x=h*32-this.size;let w=o[0]>>>x;for(let C=1;C<h;C++){const N=o[C];w|=N<<32-x,o[C-1]=w,w=N>>>x}o[h-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof k))return!1;const u=o;return this.size===u.size&&G.equals(this.bits,u.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let o="";for(let u=0,h=this.size;u<h;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new k(this.size,this.bits.slice())}}var D;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var L=D;class z extends p{static getFormatInstance(){return new z}}z.kind="FormatException";var V;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(V||(V={}));class X{constructor(o,u,h,...g){this.valueIdentifier=o,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=g,X.VALUE_IDENTIFIER_TO_ECI.set(o,this),X.NAME_TO_ECI.set(h,this);const x=this.values;for(let w=0,C=x.length;w!==C;w++){const N=x[w];X.VALUES_TO_ECI.set(N,this)}for(const w of g)X.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new z("incorect value");const u=X.VALUES_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}static getCharacterSetECIByName(o){const u=X.NAME_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}equals(o){if(!(o instanceof X))return!1;const u=o;return this.getName()===u.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(V.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(V.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(V.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(V.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(V.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(V.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(V.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(V.Big5,28,"Big5"),X.GB18030=new X(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(V.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends p{}ie.kind="UnsupportedOperationException";class ae{static decode(o,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!ae.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof X?o:X.getCharacterSetECIByName(o)}static decodeFallback(o,u){const h=this.encodingCharacterSet(u);if(ae.isDecodeFallbackSupported(h)){let g="";for(let x=0,w=o.length;x<w;x++){let C=o[x].toString(16);C.length<2&&(C="0"+C),g+="%"+C}return decodeURIComponent(g)}if(h.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ie(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(X.UTF8)||o.equals(X.ISO8859_1)||o.equals(X.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let x=0;x<h.length;x++)g.push(h[x].charCodeAt(0));return new Uint8Array(g)}}class ue{static castAsNonUtf8Char(o,u=null){const h=u?u.getName():this.ISO88591;return ae.decode(new Uint8Array([o]),h)}static guessEncoding(o,u){if(u!=null&&u.get(L.CHARACTER_SET)!==void 0)return u.get(L.CHARACTER_SET).toString();const h=o.length;let g=!0,x=!0,w=!0,C=0,N=0,M=0,F=0,$=0,q=0,K=0,ee=0,re=0,de=0,be=0;const Pe=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ze=0;ze<h&&(g||x||w);ze++){const Le=o[ze]&255;w&&(C>0?(Le&128)===0?w=!1:C--:(Le&128)!==0&&((Le&64)===0?w=!1:(C++,(Le&32)===0?N++:(C++,(Le&16)===0?M++:(C++,(Le&8)===0?F++:w=!1))))),g&&(Le>127&&Le<160?g=!1:Le>159&&(Le<192||Le===215||Le===247)&&be++),x&&($>0?Le<64||Le===127||Le>252?x=!1:$--:Le===128||Le===160||Le>239?x=!1:Le>160&&Le<224?(q++,ee=0,K++,K>re&&(re=K)):Le>127?($++,K=0,ee++,ee>de&&(de=ee)):(K=0,ee=0))}return w&&C>0&&(w=!1),x&&$>0&&(x=!1),w&&(Pe||N+M+F>0)?ue.UTF8:x&&(ue.ASSUME_SHIFT_JIS||re>=3||de>=3)?ue.SHIFT_JIS:g&&x?re===2&&q===2||be*10>=h?ue.SHIFT_JIS:ue.ISO88591:g?ue.ISO88591:x?ue.SHIFT_JIS:w?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let h=-1;function g(w,C,N,M,F,$){if(w==="%%")return"%";if(u[++h]===void 0)return;w=M?parseInt(M.substr(1)):void 0;let q=F?parseInt(F.substr(1)):void 0,K;switch($){case"s":K=u[h];break;case"c":K=u[h][0];break;case"f":K=parseFloat(u[h]).toFixed(w);break;case"p":K=parseFloat(u[h]).toPrecision(w);break;case"e":K=parseFloat(u[h]).toExponential(w);break;case"x":K=parseInt(u[h]).toString(q||16);break;case"d":K=parseFloat(parseInt(u[h],q||10).toPrecision(w)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(q);let ee=parseInt(N),re=N&&N[0]+""=="0"?"0":" ";for(;K.length<ee;)K=C!==void 0?K+re:re+K;return K}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}static getBytes(o,u){return ae.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}ue.SHIFT_JIS=X.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=X.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=X.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Ie{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,h){for(let g=u;u<u+h;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Se{constructor(o,u,h,g){if(this.width=o,this.height=u,this.rowSize=h,this.bits=g,u==null&&(u=o),this.height=u,o<1||u<1)throw new _("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,h=o[0].length,g=new Se(h,u);for(let x=0;x<u;x++){const w=o[x];for(let C=0;C<h;C++)w[C]&&g.set(C,x)}return g}static parseFromString(o,u,h){if(o===null)throw new _("stringRepresentation cannot be null");const g=new Array(o.length);let x=0,w=0,C=-1,N=0,M=0;for(;M<o.length;)if(o.charAt(M)===`
`||o.charAt(M)==="\r"){if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new _("row lengths do not match");w=x,N++}M++}else if(o.substring(M,M+u.length)===u)M+=u.length,g[x]=!0,x++;else if(o.substring(M,M+h.length)===h)M+=h.length,g[x]=!1,x++;else throw new _("illegal character encountered: "+o.substring(M));if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new _("row lengths do not match");N++}const F=new Se(C,N);for(let $=0;$<x;$++)g[$]&&F.set(Math.floor($%C),Math.floor($/C));return F}get(o,u){const h=u*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new _("input matrix dimensions do not match");const u=new k(Math.floor(this.width/32)+1),h=this.rowSize,g=this.bits;for(let x=0,w=this.height;x<w;x++){const C=x*h,N=o.getRow(x,u).getBitArray();for(let M=0;M<h;M++)g[C+M]^=N[M]}}clear(){const o=this.bits,u=o.length;for(let h=0;h<u;h++)o[h]=0}setRegion(o,u,h,g){if(u<0||o<0)throw new _("Left and top must be nonnegative");if(g<1||h<1)throw new _("Height and width must be at least 1");const x=o+h,w=u+g;if(w>this.height||x>this.width)throw new _("The region must fit inside the matrix");const C=this.rowSize,N=this.bits;for(let M=u;M<w;M++){const F=M*C;for(let $=o;$<x;$++)N[F+Math.floor($/32)]|=1<<($&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new k(this.width):u.clear();const h=this.rowSize,g=this.bits,x=o*h;for(let w=0;w<h;w++)u.setBulk(w*32,g[x+w]);return u}setRow(o,u){O.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let h=new k(o),g=new k(o);for(let x=0,w=Math.floor((u+1)/2);x<w;x++)h=this.getRow(x,h),g=this.getRow(u-1-x,g),h.reverse(),g.reverse(),this.setRow(x,g),this.setRow(u-1-x,h)}getEnclosingRectangle(){const o=this.width,u=this.height,h=this.rowSize,g=this.bits;let x=o,w=u,C=-1,N=-1;for(let M=0;M<u;M++)for(let F=0;F<h;F++){const $=g[M*h+F];if($!==0){if(M<w&&(w=M),M>N&&(N=M),F*32<x){let q=0;for(;($<<31-q&4294967295)===0;)q++;F*32+q<x&&(x=F*32+q)}if(F*32+31>C){let q=31;for(;!($>>>q);)q--;F*32+q>C&&(C=F*32+q)}}}return C<x||N<w?null:Int32Array.from([x,w,C-x+1,N-w+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const g=h/o;let x=h%o*32;const w=u[h];let C=0;for(;(w<<31-C&4294967295)===0;)C++;return x+=C,Int32Array.from([x,g])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const g=Math.floor(h/o);let x=Math.floor(h%o)*32;const w=u[h];let C=31;for(;!(w>>>C);)C--;return x+=C,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Se))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&G.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+G.hashCode(this.bits),o}toString(o="X ",u="  ",h=`
`){return this.buildToString(o,u,h)}buildToString(o,u,h){let g=new Ie;for(let x=0,w=this.height;x<w;x++){for(let C=0,N=this.width;C<N;C++)g.append(this.get(C,x)?o:u);g.append(h)}return g.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Z extends T{constructor(o){super(o),this.luminances=Z.EMPTY,this.buckets=new Int32Array(Z.LUMINANCE_BUCKETS)}getBlackRow(o,u){const h=this.getLuminanceSource(),g=h.getWidth();u==null||u.getSize()<g?u=new k(g):u.clear(),this.initArrays(g);const x=h.getRow(o,this.luminances),w=this.buckets;for(let N=0;N<g;N++)w[(x[N]&255)>>Z.LUMINANCE_SHIFT]++;const C=Z.estimateBlackPoint(w);if(g<3)for(let N=0;N<g;N++)(x[N]&255)<C&&u.set(N);else{let N=x[0]&255,M=x[1]&255;for(let F=1;F<g-1;F++){const $=x[F+1]&255;(M*4-N-$)/2<C&&u.set(F),N=M,M=$}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight(),g=new Se(u,h);this.initArrays(u);const x=this.buckets;for(let N=1;N<5;N++){const M=Math.floor(h*N/5),F=o.getRow(M,this.luminances),$=Math.floor(u*4/5);for(let q=Math.floor(u/5);q<$;q++){const K=F[q]&255;x[K>>Z.LUMINANCE_SHIFT]++}}const w=Z.estimateBlackPoint(x),C=o.getMatrix();for(let N=0;N<h;N++){const M=N*u;for(let F=0;F<u;F++)(C[M+F]&255)<w&&g.set(F,N)}return g}createBinarizer(o){return new Z(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let h=0;h<Z.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(o){const u=o.length;let h=0,g=0,x=0;for(let F=0;F<u;F++)o[F]>x&&(g=F,x=o[F]),o[F]>h&&(h=o[F]);let w=0,C=0;for(let F=0;F<u;F++){const $=F-g,q=o[F]*$*$;q>C&&(w=F,C=q)}if(g>w){const F=g;g=w,w=F}if(w-g<=u/16)throw new te;let N=w-1,M=-1;for(let F=w-1;F>g;F--){const $=F-g,q=$*$*(w-F)*(h-o[F]);q>M&&(N=F,M=q)}return N<<Z.LUMINANCE_SHIFT}}Z.LUMINANCE_BITS=5,Z.LUMINANCE_SHIFT=8-Z.LUMINANCE_BITS,Z.LUMINANCE_BUCKETS=1<<Z.LUMINANCE_BITS,Z.EMPTY=Uint8ClampedArray.from([0]);class le extends Z{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight();if(u>=le.MINIMUM_DIMENSION&&h>=le.MINIMUM_DIMENSION){const g=o.getMatrix();let x=u>>le.BLOCK_SIZE_POWER;(u&le.BLOCK_SIZE_MASK)!==0&&x++;let w=h>>le.BLOCK_SIZE_POWER;(h&le.BLOCK_SIZE_MASK)!==0&&w++;const C=le.calculateBlackPoints(g,x,w,u,h),N=new Se(u,h);le.calculateThresholdForBlock(g,x,w,u,h,C,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new le(o)}static calculateThresholdForBlock(o,u,h,g,x,w,C){const N=x-le.BLOCK_SIZE,M=g-le.BLOCK_SIZE;for(let F=0;F<h;F++){let $=F<<le.BLOCK_SIZE_POWER;$>N&&($=N);const q=le.cap(F,2,h-3);for(let K=0;K<u;K++){let ee=K<<le.BLOCK_SIZE_POWER;ee>M&&(ee=M);const re=le.cap(K,2,u-3);let de=0;for(let Pe=-2;Pe<=2;Pe++){const ze=w[q+Pe];de+=ze[re-2]+ze[re-1]+ze[re]+ze[re+1]+ze[re+2]}const be=de/25;le.thresholdBlock(o,ee,$,be,g,C)}}}static cap(o,u,h){return o<u?u:o>h?h:o}static thresholdBlock(o,u,h,g,x,w){for(let C=0,N=h*x+u;C<le.BLOCK_SIZE;C++,N+=x)for(let M=0;M<le.BLOCK_SIZE;M++)(o[N+M]&255)<=g&&w.set(u+M,h+C)}static calculateBlackPoints(o,u,h,g,x){const w=x-le.BLOCK_SIZE,C=g-le.BLOCK_SIZE,N=new Array(h);for(let M=0;M<h;M++){N[M]=new Int32Array(u);let F=M<<le.BLOCK_SIZE_POWER;F>w&&(F=w);for(let $=0;$<u;$++){let q=$<<le.BLOCK_SIZE_POWER;q>C&&(q=C);let K=0,ee=255,re=0;for(let be=0,Pe=F*g+q;be<le.BLOCK_SIZE;be++,Pe+=g){for(let ze=0;ze<le.BLOCK_SIZE;ze++){const Le=o[Pe+ze]&255;K+=Le,Le<ee&&(ee=Le),Le>re&&(re=Le)}if(re-ee>le.MIN_DYNAMIC_RANGE)for(be++,Pe+=g;be<le.BLOCK_SIZE;be++,Pe+=g)for(let ze=0;ze<le.BLOCK_SIZE;ze++)K+=o[Pe+ze]&255}let de=K>>le.BLOCK_SIZE_POWER*2;if(re-ee<=le.MIN_DYNAMIC_RANGE&&(de=ee/2,M>0&&$>0)){const be=(N[M-1][$]+2*N[M][$-1]+N[M-1][$-1])/4;ee<be&&(de=be)}N[M][$]=de}}return N}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class xe{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,h,g){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new Ie;for(let h=0;h<this.height;h++){const g=this.getRow(h,o);for(let x=0;x<this.width;x++){const w=g[x]&255;let C;w<64?C="#":w<128?C="+":w<192?C=".":C=" ",u.append(C)}u.append(`
`)}return u.toString()}}class Ce extends xe{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const h=this.delegate.getRow(o,u),g=this.getWidth();for(let x=0;x<g;x++)h[x]=255-(h[x]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let g=0;g<u;g++)h[g]=255-(o[g]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,h,g){return new Ce(this.delegate.crop(o,u,h,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class Q extends xe{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Q.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return Q.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,h){const g=new Uint8ClampedArray(u*h);for(let x=0,w=0,C=o.length;x<C;x+=4,w++){let N;if(o[x+3]===0)N=255;else{const F=o[x],$=o[x+1],q=o[x+2];N=306*F+601*$+117*q+512>>10}g[w]=N}return g}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth(),g=o*h;return u===null?u=this.buffer.slice(g,g+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(g,g+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,h,g){return super.crop(o,u,h,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),h=u.getContext("2d"),g=o*Q.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*w),N=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*w);return u.width=C,u.height=N,h.translate(C/2,N/2),h.rotate(g),h.drawImage(this.canvas,x/-2,w/-2),this.buffer=Q.makeBufferFromCanvasImageData(u),this}invert(){return new Ce(this)}}Q.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(o,u,h){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||Up||self||window||void 0)&&(globalThis||Up||self||window||void 0).__awaiter||function(U,o,u,h){function g(x){return x instanceof u?x:new u(function(w){w(x)})}return new(u||(u=Promise))(function(x,w){function C(F){try{M(h.next(F))}catch($){w($)}}function N(F){try{M(h.throw(F))}catch($){w($)}}function M(F){F.done?x(F.value):g(F.value).then(C,N)}M((h=h.apply(U,o||[])).next())})};class Re{constructor(o,u=500,h){this.reader=o,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of o){const g=h.kind==="video"?"videoinput":h.kind;if(g!=="videoinput")continue;const x=h.deviceId||h.id,w=h.label||`Video device ${u.length+1}`,C=h.groupId,N={deviceId:x,label:w,kind:g,groupId:C};u.push(N)}return u})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new fe(u.deviceId,u.label))})}findDeviceById(o){return Ee(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Ee(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeOnceFromConstraints(g,u)})}decodeOnceFromConstraints(o,u){return Ee(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(o,u){return Ee(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,u,h){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,h)})}decodeFromVideoDevice(o,u,h){return Ee(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,u,h)})}decodeFromConstraints(o,u,h){return Ee(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,u,h)})}decodeFromStream(o,u,h){return Ee(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(g,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Ee(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((u,h)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const h=document.getElementById(o);if(!h)throw new y(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new y(`element with id '${o}' must be an ${u} element`);return h}decodeFromImage(o,u){if(!o&&!u)throw new y("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,h){if(o===void 0&&u===void 0)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new y("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(o){if(!o)throw new y("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=o,h}decodeFromVideoUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=o,h}decodeFromVideoUrlContinuously(o,u){if(!o)throw new y("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(h,u);return h.src=o,g}_decodeOnLoadImage(o){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,h=!0){this._stopAsyncDecode=!1;const g=(x,w)=>{if(this._stopAsyncDecode){w(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);x(C)}catch(C){const N=u&&C instanceof te,F=(C instanceof A||C instanceof z)&&h;if(N||F)return setTimeout(g,this._timeBetweenDecodingAttempts,x,w);w(C)}};return new Promise((x,w)=>g(x,w))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);u(g,null),setTimeout(h,this.timeBetweenScansMillis)}catch(g){u(null,g);const x=g instanceof A||g instanceof z,w=g instanceof te;(x||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,h){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),h=new Q(u),g=new le(h);return new S(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),u.style.width=h+"px",u.style.height=g+"px",u.width=h,u.height=g,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class He{constructor(o,u,h=u==null?0:8*u.length,g,x,w=O.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=h,this.resultPoints=g,this.format=x,this.timestamp=w,this.text=o,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=g,this.format=x,this.resultMetadata=null,w==null?this.timestamp=O.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(u.length+o.length);O.arraycopy(u,0,h,0,u.length),O.arraycopy(o,0,h,u.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var Ae=qe,en;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(en||(en={}));var gt=en;class ai{constructor(o,u,h,g,x=-1,w=-1){this.rawBytes=o,this.text=u,this.byteSegments=h,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dn{exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class cn{constructor(o,u){if(u.length===0)throw new _;this.field=o;const h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-g),O.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(o===1){h=0;for(let w=0,C=u.length;w!==C;w++){const N=u[w];h=dn.addOrSubtract(h,N)}return h}h=u[0];const g=u.length,x=this.field;for(let w=1;w<g;w++)h=dn.addOrSubtract(x.multiply(o,h),u[w]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){const w=u;u=h,h=w}let g=new Int32Array(h.length);const x=h.length-u.length;O.arraycopy(h,0,g,0,x);for(let w=x;w<h.length;w++)g[w]=dn.addOrSubtract(u[w-x],h[w]);return new cn(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,g=o.coefficients,x=g.length,w=new Int32Array(h+x-1),C=this.field;for(let N=0;N<h;N++){const M=u[N];for(let F=0;F<x;F++)w[N+F]=dn.addOrSubtract(w[N+F],C.multiply(M,g[F]))}return new cn(C,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,h=this.field,g=new Int32Array(u),x=this.coefficients;for(let w=0;w<u;w++)g[w]=h.multiply(x[w],o);return new cn(h,g)}multiplyByMonomial(o,u){if(o<0)throw new _;if(u===0)return this.field.getZero();const h=this.coefficients,g=h.length,x=new Int32Array(g+o),w=this.field;for(let C=0;C<g;C++)x[C]=w.multiply(h[C],u);return new cn(w,x)}divide(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new _("Divide by 0");const u=this.field;let h=u.getZero(),g=this;const x=o.getCoefficient(o.getDegree()),w=u.inverse(x);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const C=g.getDegree()-o.getDegree(),N=u.multiply(g.getCoefficient(g.getDegree()),w),M=o.multiplyByMonomial(C,N),F=u.buildMonomial(C,N);h=h.addOrSubtract(F),g=g.addOrSubtract(M)}return[h,g]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),u===0||h!==1){const g=this.field.log(h);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class Di extends p{}Di.kind="ArithmeticException";class Ot extends dn{constructor(o,u,h){super(),this.primitive=o,this.size=u,this.generatorBase=h;const g=new Int32Array(u);let x=1;for(let C=0;C<u;C++)g[C]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=g;const w=new Int32Array(u);for(let C=0;C<u-1;C++)w[g[C]]=C;this.logTable=w,this.zero=new cn(this,Int32Array.from([0])),this.one=new cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new _;if(u===0)return this.zero;const h=new Int32Array(o+1);return h[0]=u,new cn(this,h)}inverse(o){if(o===0)throw new Di;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Ot.AZTEC_DATA_12=new Ot(4201,4096,1),Ot.AZTEC_DATA_10=new Ot(1033,1024,1),Ot.AZTEC_DATA_6=new Ot(67,64,1),Ot.AZTEC_PARAM=new Ot(19,16,1),Ot.QR_CODE_FIELD_256=new Ot(285,256,0),Ot.DATA_MATRIX_FIELD_256=new Ot(301,256,1),Ot.AZTEC_DATA_8=Ot.DATA_MATRIX_FIELD_256,Ot.MAXICODE_FIELD_64=Ot.AZTEC_DATA_6;class oi extends p{}oi.kind="ReedSolomonException";class Gi extends p{}Gi.kind="IllegalStateException";class ms{constructor(o){this.field=o}decode(o,u){const h=this.field,g=new cn(h,o),x=new Int32Array(u);let w=!0;for(let K=0;K<u;K++){const ee=g.evaluateAt(h.exp(K+h.getGeneratorBase()));x[x.length-1-K]=ee,ee!==0&&(w=!1)}if(w)return;const C=new cn(h,x),N=this.runEuclideanAlgorithm(h.buildMonomial(u,1),C,u),M=N[0],F=N[1],$=this.findErrorLocations(M),q=this.findErrorMagnitudes(F,$);for(let K=0;K<$.length;K++){const ee=o.length-1-h.log($[K]);if(ee<0)throw new oi("Bad error location");o[ee]=Ot.addOrSubtract(o[ee],q[K])}}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){const K=o;o=u,u=K}const g=this.field;let x=o,w=u,C=g.getZero(),N=g.getOne();for(;w.getDegree()>=(h/2|0);){let K=x,ee=C;if(x=w,C=N,x.isZero())throw new oi("r_{i-1} was zero");w=K;let re=g.getZero();const de=x.getCoefficient(x.getDegree()),be=g.inverse(de);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const Pe=w.getDegree()-x.getDegree(),ze=g.multiply(w.getCoefficient(w.getDegree()),be);re=re.addOrSubtract(g.buildMonomial(Pe,ze)),w=w.addOrSubtract(x.multiplyByMonomial(Pe,ze))}if(N=re.multiply(C).addOrSubtract(ee),w.getDegree()>=x.getDegree())throw new Gi("Division algorithm failed to reduce polynomial?")}const M=N.getCoefficient(0);if(M===0)throw new oi("sigmaTilde(0) was zero");const F=g.inverse(M),$=N.multiplyScalar(F),q=w.multiplyScalar(F);return[$,q]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(u);let g=0;const x=this.field;for(let w=1;w<x.getSize()&&g<u;w++)o.evaluateAt(w)===0&&(h[g]=x.inverse(w),g++);if(g!==u)throw new oi("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,u){const h=u.length,g=new Int32Array(h),x=this.field;for(let w=0;w<h;w++){const C=x.inverse(u[w]);let N=1;for(let M=0;M<h;M++)if(w!==M){const F=x.multiply(u[M],C),$=(F&1)===0?F|1:F&-2;N=x.multiply(N,$)}g[w]=x.multiply(o.evaluateAt(C),x.inverse(N)),x.getGeneratorBase()!==0&&(g[w]=x.multiply(g[w],C))}return g}}var Ut;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})(Ut||(Ut={}));class tn{decode(o){this.ddata=o;let u=o.getBits(),h=this.extractBits(u),g=this.correctBits(h),x=tn.convertBoolArrayToByteArray(g),w=tn.getEncodedData(g),C=new ai(x,w,null,null);return C.setNumBits(g.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,h=Ut.UPPER,g=Ut.UPPER,x="",w=0;for(;w<u;)if(g===Ut.BINARY){if(u-w<5)break;let C=tn.readCode(o,w,5);if(w+=5,C===0){if(u-w<11)break;C=tn.readCode(o,w,11)+31,w+=11}for(let N=0;N<C;N++){if(u-w<8){w=u;break}const M=tn.readCode(o,w,8);x+=ue.castAsNonUtf8Char(M),w+=8}g=h}else{let C=g===Ut.DIGIT?4:5;if(u-w<C)break;let N=tn.readCode(o,w,C);w+=C;let M=tn.getCharacter(g,N);M.startsWith("CTRL_")?(h=g,g=tn.getTable(M.charAt(5)),M.charAt(6)==="L"&&(h=g)):(x+=M,g=h)}return x}static getTable(o){switch(o){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;case"U":default:return Ut.UPPER}}static getCharacter(o,u){switch(o){case Ut.UPPER:return tn.UPPER_TABLE[u];case Ut.LOWER:return tn.LOWER_TABLE[u];case Ut.MIXED:return tn.MIXED_TABLE[u];case Ut.PUNCT:return tn.PUNCT_TABLE[u];case Ut.DIGIT:return tn.DIGIT_TABLE[u];default:throw new Gi("Bad table")}}correctBits(o){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=Ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=Ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=Ot.AZTEC_DATA_10):(h=12,u=Ot.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=o.length/h;if(x<g)throw new z;let w=o.length%h,C=new Int32Array(x);for(let q=0;q<x;q++,w+=h)C[q]=tn.readCode(o,w,h);try{new ms(u).decode(C,x-g)}catch(q){throw new z(q)}let N=(1<<h)-1,M=0;for(let q=0;q<g;q++){let K=C[q];if(K===0||K===N)throw new z;(K===1||K===N-1)&&M++}let F=new Array(g*h-M),$=0;for(let q=0;q<g;q++){let K=C[q];if(K===1||K===N-1)F.fill(K>1,$,$+h-1),$+=h-1;else for(let ee=h-1;ee>=0;--ee)F[$++]=(K&1<<ee)!==0}return F}extractBits(o){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),g=(u?11:14)+h*4,x=new Int32Array(g),w=new Array(this.totalBitsInLayer(h,u));if(u)for(let C=0;C<x.length;C++)x[C]=C;else{let C=g+1+2*j.truncDivision(j.truncDivision(g,2)-1,15),N=g/2,M=j.truncDivision(C,2);for(let F=0;F<N;F++){let $=F+j.truncDivision(F,15);x[N-F-1]=M-$-1,x[N+F]=M+$+1}}for(let C=0,N=0;C<h;C++){let M=(h-C)*4+(u?9:12),F=C*2,$=g-1-F;for(let q=0;q<M;q++){let K=q*2;for(let ee=0;ee<2;ee++)w[N+K+ee]=o.get(x[F+ee],x[F+q]),w[N+2*M+K+ee]=o.get(x[F+q],x[$-ee]),w[N+4*M+K+ee]=o.get(x[$-ee],x[$-q]),w[N+6*M+K+ee]=o.get(x[$-q],x[F+ee])}N+=M*8}return w}static readCode(o,u,h){let g=0;for(let x=u;x<u+h;x++)g<<=1,o[x]&&(g|=1);return g}static readByte(o,u){let h=o.length-u;return h>=8?tn.readCode(o,u,8):tn.readCode(o,u,h)<<8-h}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let h=0;h<u.length;h++)u[h]=tn.readByte(o,8*h);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}tn.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tn.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tn.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tn.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tn.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,h,g){const x=o-h,w=u-g;return Math.sqrt(x*x+w*w)}static sum(o){let u=0;for(let h=0,g=o.length;h!==g;h++){const x=o[h];u+=x}return u}}class kr{static floatToIntBits(o){return o}}kr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class We{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof We){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*kr.floatToIntBits(this.x)+kr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let x,w,C;if(h>=u&&h>=g?(w=o[0],x=o[1],C=o[2]):g>=h&&g>=u?(w=o[1],x=o[0],C=o[2]):(w=o[2],x=o[0],C=o[1]),this.crossProductZ(x,w,C)<0){const N=x;x=C,C=N}o[0]=x,o[1]=w,o[2]=C}static distance(o,u){return At.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,h){const g=u.x,x=u.y;return(h.x-g)*(o.y-x)-(h.y-x)*(o.x-g)}}class er{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Gr extends er{constructor(o,u,h,g,x){super(o,u),this.compact=h,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ve{constructor(o,u,h,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Ve.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=h-x,this.rightInit=h+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let o=this.leftInit,u=this.rightInit,h=this.upInit,g=this.downInit,x=!1,w=!0,C=!1,N=!1,M=!1,F=!1,$=!1;const q=this.width,K=this.height;for(;w;){w=!1;let ee=!0;for(;(ee||!N)&&u<q;)ee=this.containsBlackPoint(h,g,u,!1),ee?(u++,w=!0,N=!0):N||u++;if(u>=q){x=!0;break}let re=!0;for(;(re||!M)&&g<K;)re=this.containsBlackPoint(o,u,g,!0),re?(g++,w=!0,M=!0):M||g++;if(g>=K){x=!0;break}let de=!0;for(;(de||!F)&&o>=0;)de=this.containsBlackPoint(h,g,o,!1),de?(o--,w=!0,F=!0):F||o--;if(o<0){x=!0;break}let be=!0;for(;(be||!$)&&h>=0;)be=this.containsBlackPoint(o,u,h,!0),be?(h--,w=!0,$=!0):$||h--;if(h<0){x=!0;break}w&&(C=!0)}if(!x&&C){const ee=u-o;let re=null;for(let ze=1;re===null&&ze<ee;ze++)re=this.getBlackPointOnSegment(o,g-ze,o+ze,g);if(re==null)throw new te;let de=null;for(let ze=1;de===null&&ze<ee;ze++)de=this.getBlackPointOnSegment(o,h+ze,o+ze,h);if(de==null)throw new te;let be=null;for(let ze=1;be===null&&ze<ee;ze++)be=this.getBlackPointOnSegment(u,h+ze,u-ze,h);if(be==null)throw new te;let Pe=null;for(let ze=1;Pe===null&&ze<ee;ze++)Pe=this.getBlackPointOnSegment(u,g-ze,u-ze,g);if(Pe==null)throw new te;return this.centerEdges(Pe,re,be,de)}else throw new te}getBlackPointOnSegment(o,u,h,g){const x=At.round(At.distance(o,u,h,g)),w=(h-o)/x,C=(g-u)/x,N=this.image;for(let M=0;M<x;M++){const F=At.round(o+M*w),$=At.round(u+M*C);if(N.get(F,$))return new We(F,$)}return null}centerEdges(o,u,h,g){const x=o.getX(),w=o.getY(),C=u.getX(),N=u.getY(),M=h.getX(),F=h.getY(),$=g.getX(),q=g.getY(),K=Ve.CORR;return x<this.width/2?[new We($-K,q+K),new We(C+K,N+K),new We(M-K,F-K),new We(x+K,w-K)]:[new We($+K,q+K),new We(C+K,N-K),new We(M-K,F+K),new We(x-K,w-K)]}containsBlackPoint(o,u,h,g){const x=this.image;if(g){for(let w=o;w<=u;w++)if(x.get(w,h))return!0}else for(let w=o;w<=u;w++)if(x.get(h,w))return!0;return!1}}Ve.INIT_SIZE=10,Ve.CORR=1;class at{static checkAndNudgePoints(o,u){const h=o.getWidth(),g=o.getHeight();let x=!0;for(let w=0;w<u.length&&x;w+=2){const C=Math.floor(u[w]),N=Math.floor(u[w+1]);if(C<-1||C>h||N<-1||N>g)throw new te;x=!1,C===-1?(u[w]=0,x=!0):C===h&&(u[w]=h-1,x=!0),N===-1?(u[w+1]=0,x=!0):N===g&&(u[w+1]=g-1,x=!0)}x=!0;for(let w=u.length-2;w>=0&&x;w-=2){const C=Math.floor(u[w]),N=Math.floor(u[w+1]);if(C<-1||C>h||N<-1||N>g)throw new te;x=!1,C===-1?(u[w]=0,x=!0):C===h&&(u[w]=h-1,x=!0),N===-1?(u[w+1]=0,x=!0):N===g&&(u[w+1]=g-1,x=!0)}}}class vt{constructor(o,u,h,g,x,w,C,N,M){this.a11=o,this.a21=u,this.a31=h,this.a12=g,this.a22=x,this.a32=w,this.a13=C,this.a23=N,this.a33=M}static quadrilateralToQuadrilateral(o,u,h,g,x,w,C,N,M,F,$,q,K,ee,re,de){const be=vt.quadrilateralToSquare(o,u,h,g,x,w,C,N);return vt.squareToQuadrilateral(M,F,$,q,K,ee,re,de).times(be)}transformPoints(o){const u=o.length,h=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,N=this.a23,M=this.a31,F=this.a32,$=this.a33;for(let q=0;q<u;q+=2){const K=o[q],ee=o[q+1],re=x*K+N*ee+$;o[q]=(h*K+w*ee+M)/re,o[q+1]=(g*K+C*ee+F)/re}}transformPointsWithValues(o,u){const h=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,N=this.a23,M=this.a31,F=this.a32,$=this.a33,q=o.length;for(let K=0;K<q;K++){const ee=o[K],re=u[K],de=x*ee+N*re+$;o[K]=(h*ee+w*re+M)/de,u[K]=(g*ee+C*re+F)/de}}static squareToQuadrilateral(o,u,h,g,x,w,C,N){const M=o-h+x-C,F=u-g+w-N;if(M===0&&F===0)return new vt(h-o,x-h,o,g-u,w-g,u,0,0,1);{const $=h-x,q=C-x,K=g-w,ee=N-w,re=$*ee-q*K,de=(M*ee-q*F)/re,be=($*F-M*K)/re;return new vt(h-o+de*h,C-o+be*C,o,g-u+de*g,N-u+be*N,u,de,be,1)}}static quadrilateralToSquare(o,u,h,g,x,w,C,N){return vt.squareToQuadrilateral(o,u,h,g,x,w,C,N).buildAdjoint()}buildAdjoint(){return new vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new vt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class _t extends at{sampleGrid(o,u,h,g,x,w,C,N,M,F,$,q,K,ee,re,de,be,Pe,ze){const Le=vt.quadrilateralToQuadrilateral(g,x,w,C,N,M,F,$,q,K,ee,re,de,be,Pe,ze);return this.sampleGridWithTransform(o,u,h,Le)}sampleGridWithTransform(o,u,h,g){if(u<=0||h<=0)throw new te;const x=new Se(u,h),w=new Float32Array(2*u);for(let C=0;C<h;C++){const N=w.length,M=C+.5;for(let F=0;F<N;F+=2)w[F]=F/2+.5,w[F+1]=M;g.transformPoints(w),at.checkAndNudgePoints(o,w);try{for(let F=0;F<N;F+=2)o.get(Math.floor(w[F]),Math.floor(w[F+1]))&&x.set(F/2,C)}catch{throw new te}}return x}}class nn{static setGridSampler(o){nn.gridSampler=o}static getInstance(){return nn.gridSampler}}nn.gridSampler=new _t;class Lt{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new We(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qr{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(o){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let g=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),x=this.getMatrixCornerPoints(h);return new Gr(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new te;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(h,u);let g=0;for(let w=0;w<4;w++){let C=h[(this.shift+w)%4];this.compact?(g<<=7,g+=C>>1&127):(g<<=10,g+=(C>>2&992)+(C>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let h=0;o.forEach((g,x,w)=>{let C=(g>>u-2<<1)+(g&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let g=0;g<4;g++)if(j.bitCount(h^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new te}getCorrectedParameterData(o,u){let h,g;u?(h=7,g=2):(h=10,g=4);let x=h-g,w=new Int32Array(h);for(let N=h-1;N>=0;--N)w[N]=o&15,o>>=4;try{new ms(Ot.AZTEC_PARAM).decode(w,x)}catch{throw new te}let C=0;for(let N=0;N<g;N++)C=(C<<4)+w[N];return C}getBullsEyeCorners(o){let u=o,h=o,g=o,x=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let $=this.getFirstDifferent(u,w,1,-1),q=this.getFirstDifferent(h,w,1,1),K=this.getFirstDifferent(g,w,-1,1),ee=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let re=this.distancePoint(ee,$)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(re<.75||re>1.25||!this.isWhiteOrBlackRectangle($,q,K,ee))break}u=$,h=q,g=K,x=ee,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let C=new We(u.getX()+.5,u.getY()-.5),N=new We(h.getX()+.5,h.getY()+.5),M=new We(g.getX()-.5,g.getY()+.5),F=new We(x.getX()-.5,x.getY()-.5);return this.expandSquare([C,N,M,F],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,h,g;try{let C=new Ve(this.image).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{let N=this.image.getWidth()/2,M=this.image.getHeight()/2;o=this.getFirstDifferent(new Lt(N+7,M-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Lt(N+7,M+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Lt(N-7,M+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Lt(N-7,M-7),!1,-1,-1).toResultPoint()}let x=At.round((o.getX()+g.getX()+u.getX()+h.getX())/4),w=At.round((o.getY()+g.getY()+u.getY()+h.getY())/4);try{let C=new Ve(this.image,15,x,w).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{o=this.getFirstDifferent(new Lt(x+7,w-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Lt(x+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Lt(x-7,w+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Lt(x-7,w-7),!1,-1,-1).toResultPoint()}return x=At.round((o.getX()+g.getX()+u.getX()+h.getX())/4),w=At.round((o.getY()+g.getY()+u.getY()+h.getY())/4),new Lt(x,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,h,g,x){let w=nn.getInstance(),C=this.getDimension(),N=C/2-this.nbCenterLayers,M=C/2+this.nbCenterLayers;return w.sampleGrid(o,C,C,N,N,M,N,M,M,N,M,u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(o,u,h){let g=0,x=this.distanceResultPoint(o,u),w=x/h,C=o.getX(),N=o.getY(),M=w*(u.getX()-o.getX())/x,F=w*(u.getY()-o.getY())/x;for(let $=0;$<h;$++)this.image.get(At.round(C+$*M),At.round(N+$*F))&&(g|=1<<h-$-1);return g}isWhiteOrBlackRectangle(o,u,h,g){let x=3;o=new Lt(o.getX()-x,o.getY()+x),u=new Lt(u.getX()-x,u.getY()-x),h=new Lt(h.getX()+x,h.getY()-x),g=new Lt(g.getX()+x,g.getY()+x);let w=this.getColor(g,o);if(w===0)return!1;let C=this.getColor(o,u);return C!==w||(C=this.getColor(u,h),C!==w)?!1:(C=this.getColor(h,g),C===w)}getColor(o,u){let h=this.distancePoint(o,u),g=(u.getX()-o.getX())/h,x=(u.getY()-o.getY())/h,w=0,C=o.getX(),N=o.getY(),M=this.image.get(o.getX(),o.getY()),F=Math.ceil(h);for(let q=0;q<F;q++)C+=g,N+=x,this.image.get(At.round(C),At.round(N))!==M&&w++;let $=w/h;return $>.1&&$<.9?0:$<=.1===M?1:-1}getFirstDifferent(o,u,h,g){let x=o.getX()+h,w=o.getY()+g;for(;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h,w+=g;for(x-=h,w-=g;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h;for(x-=h;this.isValid(x,w)&&this.image.get(x,w)===u;)w+=g;return w-=g,new Lt(x,w)}expandSquare(o,u,h){let g=h/(2*u),x=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,N=(o[0].getY()+o[2].getY())/2,M=new We(C+g*x,N+g*w),F=new We(C-g*x,N-g*w);x=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,N=(o[1].getY()+o[3].getY())/2;let $=new We(C+g*x,N+g*w),q=new We(C-g*x,N-g*w);return[M,$,F,q]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=At.round(o.getX()),h=At.round(o.getY());return this.isValid(u,h)}distancePoint(o,u){return At.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return At.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class Ci{decode(o,u=null){let h=null,g=new qr(o.getBlackMatrix()),x=null,w=null;try{let F=g.detectMirror(!1);x=F.getPoints(),this.reportFoundResultPoints(u,x),w=new tn().decode(F)}catch(F){h=F}if(w==null)try{let F=g.detectMirror(!0);x=F.getPoints(),this.reportFoundResultPoints(u,x),w=new tn().decode(F)}catch(F){throw h??F}let C=new He(w.getText(),w.getRawBytes(),w.getNumBits(),x,Ae.AZTEC,O.currentTimeMillis()),N=w.getByteSegments();N!=null&&C.putMetadata(gt.BYTE_SEGMENTS,N);let M=w.getECLevel();return M!=null&&C.putMetadata(gt.ERROR_CORRECTION_LEVEL,M),C}reportFoundResultPoints(o,u){if(o!=null){let h=o.get(L.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((g,x,w)=>{h.foundPossibleResultPoint(g)})}}reset(){}}class na extends Re{constructor(o=500){super(new Ci,o)}}class on{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(L.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),w=this.doDecode(x,u),C=w.getResultMetadata();let N=270;C!==null&&C.get(gt.ORIENTATION)===!0&&(N=N+C.get(gt.ORIENTATION)%360),w.putMetadata(gt.ORIENTATION,N);const M=w.getResultPoints();if(M!==null){const F=x.getHeight();for(let $=0;$<M.length;$++)M[$]=new We(F-M[$].getY()-1,M[$].getX())}return w}else throw new te}}reset(){}doDecode(o,u){const h=o.getWidth(),g=o.getHeight();let x=new k(h);const w=u&&u.get(L.TRY_HARDER)===!0,C=Math.max(1,g>>(w?8:5));let N;w?N=g:N=15;const M=Math.trunc(g/2);for(let F=0;F<N;F++){const $=Math.trunc((F+1)/2),q=(F&1)===0,K=M+C*(q?$:-$);if(K<0||K>=g)break;try{x=o.getBlackRow(K,x)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(x.reverse(),u&&u.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const re=new Map;u.forEach((de,be)=>re.set(be,de)),re.delete(L.NEED_RESULT_POINT_CALLBACK),u=re}try{const re=this.decodeRow(K,x,u);if(ee===1){re.putMetadata(gt.ORIENTATION,180);const de=re.getResultPoints();de!==null&&(de[0]=new We(h-de[0].getX()-1,de[0].getY()),de[1]=new We(h-de[1].getX()-1,de[1].getY()))}return re}catch{}}}throw new te}static recordPattern(o,u,h){const g=h.length;for(let M=0;M<g;M++)h[M]=0;const x=o.getSize();if(u>=x)throw new te;let w=!o.get(u),C=0,N=u;for(;N<x;){if(o.get(N)!==w)h[C]++;else{if(++C===g)break;h[C]=1,w=!w}N++}if(!(C===g||C===g-1&&N===x))throw new te}static recordPatternInReverse(o,u,h){let g=h.length,x=o.get(u);for(;u>0&&g>=0;)o.get(--u)!==x&&(g--,x=!x);if(g>=0)throw new te;on.recordPattern(o,u+1,h)}static patternMatchVariance(o,u,h){const g=o.length;let x=0,w=0;for(let M=0;M<g;M++)x+=o[M],w+=u[M];if(x<w)return Number.POSITIVE_INFINITY;const C=x/w;h*=C;let N=0;for(let M=0;M<g;M++){const F=o[M],$=u[M]*C,q=F>$?F-$:$-F;if(q>h)return Number.POSITIVE_INFINITY;N+=q}return N/x}}class Ue extends on{static findStartPattern(o){const u=o.getSize(),h=o.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),w=h,C=!1;const N=6;for(let M=h;M<u;M++)if(o.get(M)!==C)x[g]++;else{if(g===N-1){let F=Ue.MAX_AVG_VARIANCE,$=-1;for(let q=Ue.CODE_START_A;q<=Ue.CODE_START_C;q++){const K=on.patternMatchVariance(x,Ue.CODE_PATTERNS[q],Ue.MAX_INDIVIDUAL_VARIANCE);K<F&&(F=K,$=q)}if($>=0&&o.isRange(Math.max(0,w-(M-w)/2),w,!1))return Int32Array.from([w,M,$]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,C=!C}throw new te}static decodeCode(o,u,h){on.recordPattern(o,h,u);let g=Ue.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<Ue.CODE_PATTERNS.length;w++){const C=Ue.CODE_PATTERNS[w],N=this.patternMatchVariance(u,C,Ue.MAX_INDIVIDUAL_VARIANCE);N<g&&(g=N,x=w)}if(x>=0)return x;throw new te}decodeRow(o,u,h){const g=h&&h.get(L.ASSUME_GS1)===!0,x=Ue.findStartPattern(u),w=x[2];let C=0;const N=new Uint8Array(20);N[C++]=w;let M;switch(w){case Ue.CODE_START_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:M=Ue.CODE_CODE_C;break;default:throw new z}let F=!1,$=!1,q="",K=x[0],ee=x[1];const re=Int32Array.from([0,0,0,0,0,0]);let de=0,be=0,Pe=w,ze=0,Le=!0,Et=!1,Ct=!1;for(;!F;){const pa=$;switch($=!1,de=be,be=Ue.decodeCode(u,re,ee),N[C++]=be,be!==Ue.CODE_STOP&&(Le=!0),be!==Ue.CODE_STOP&&(ze++,Pe+=ze*be),K=ee,ee+=re.reduce((Yr,Uh)=>Yr+Uh,0),be){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new z}switch(M){case Ue.CODE_CODE_A:if(be<64)Ct===Et?q+=String.fromCharCode(32+be):q+=String.fromCharCode(32+be+128),Ct=!1;else if(be<96)Ct===Et?q+=String.fromCharCode(be-64):q+=String.fromCharCode(be+64),Ct=!1;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:$=!0,M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:F=!0;break}break;case Ue.CODE_CODE_B:if(be<96)Ct===Et?q+=String.fromCharCode(32+be):q+=String.fromCharCode(32+be+128),Ct=!1;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:$=!0,M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:F=!0;break}break;case Ue.CODE_CODE_C:if(be<100)be<10&&(q+="0"),q+=be;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:F=!0;break}break}pa&&(M=M===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Wi=ee-K;if(ee=u.getNextUnset(ee),!u.isRange(ee,Math.min(u.getSize(),ee+(ee-K)/2),!1))throw new te;if(Pe-=ze*de,Pe%103!==de)throw new A;const Rr=q.length;if(Rr===0)throw new te;Rr>0&&Le&&(M===Ue.CODE_CODE_C?q=q.substring(0,Rr-2):q=q.substring(0,Rr-1));const ir=(x[1]+x[0])/2,xn=K+Wi/2,Ii=N.length,rr=new Uint8Array(Ii);for(let pa=0;pa<Ii;pa++)rr[pa]=N[pa];const Va=[new We(ir,o),new We(xn,o)];return new He(q,rr,0,Va,Ae.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class an extends on{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,h){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=an.findAsteriskPattern(u,g),w=u.getNextSet(x[1]),C=u.getSize(),N,M;do{an.recordPattern(u,w,g);let re=an.toNarrowWidePattern(g);if(re<0)throw new te;N=an.patternToChar(re),this.decodeRowResult+=N,M=w;for(let de of g)w+=de;w=u.getNextSet(w)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let F=0;for(let re of g)F+=re;let $=w-M-F;if(w!==C&&$*2<F)throw new te;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,de=0;for(let be=0;be<re;be++)de+=an.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(be));if(this.decodeRowResult.charAt(re)!==an.ALPHABET_STRING.charAt(de%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new te;let q;this.extendedMode?q=an.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;let K=(x[1]+x[0])/2,ee=M+F/2;return new He(q,null,0,[new We(K,o),new We(ee,o)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let h=o.getSize(),g=o.getNextSet(0),x=0,w=g,C=!1,N=u.length;for(let M=g;M<h;M++)if(o.get(M)!==C)u[x]++;else{if(x===N-1){if(this.toNarrowWidePattern(u)===an.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((M-w)/2)),w,!1))return[w,M];w+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,C=!C}throw new te}static toNarrowWidePattern(o){let u=o.length,h=0,g;do{let x=2147483647;for(let N of o)N<x&&N>h&&(x=N);h=x,g=0;let w=0,C=0;for(let N=0;N<u;N++){let M=o[N];M>h&&(C|=1<<u-1-N,g++,w+=M)}if(g===3){for(let N=0;N<u&&g>0;N++){let M=o[N];if(M>h&&(g--,M*2>=w))return-1}return C}}while(g>3);return-1}static patternToChar(o){for(let u=0;u<an.CHARACTER_ENCODINGS.length;u++)if(an.CHARACTER_ENCODINGS[u]===o)return an.ALPHABET_STRING.charAt(u);if(o===an.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(o){let u=o.length,h="";for(let g=0;g<u;g++){let x=o.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=o.charAt(g+1),C="\0";switch(x){case"+":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)+32);else throw new z;break;case"$":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)-64);else throw new z;break;case"%":if(w>="A"&&w<="E")C=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")C=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")C=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")C="\0";else if(w==="V")C="@";else if(w==="W")C="`";else if(w==="X"||w==="Y"||w==="Z")C="";else throw new z;break;case"/":if(w>="A"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")C=":";else throw new z;break}h+=C,g++}else h+=x}return h}}an.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",an.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],an.ASTERISK_ENCODING=148;class jt extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,h){let g=this.decodeStart(u),x=this.decodeEnd(u),w=new Ie;jt.decodeMiddle(u,g[1],x[0],w);let C=w.toString(),N=null;h!=null&&(N=h.get(L.ALLOWED_LENGTHS)),N==null&&(N=jt.DEFAULT_ALLOWED_LENGTHS);let M=C.length,F=!1,$=0;for(let ee of N){if(M===ee){F=!0;break}ee>$&&($=ee)}if(!F&&M>$&&(F=!0),!F)throw new z;const q=[new We(g[1],o),new We(x[0],o)];return new He(C,null,0,q,Ae.ITF,new Date().getTime())}static decodeMiddle(o,u,h,g){let x=new Int32Array(10),w=new Int32Array(5),C=new Int32Array(5);for(x.fill(0),w.fill(0),C.fill(0);u<h;){on.recordPattern(o,u,x);for(let M=0;M<5;M++){let F=2*M;w[M]=x[F],C[M]=x[F+1]}let N=jt.decodeDigit(w);g.append(N.toString()),N=this.decodeDigit(C),g.append(N.toString()),x.forEach(function(M){u+=M})}}decodeStart(o){let u=jt.skipWhiteSpace(o),h=jt.findGuardPattern(o,u,jt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let g=u-1;h>0&&g>=0&&!o.get(g);g--)h--;if(h!==0)throw new te}static skipWhiteSpace(o){const u=o.getSize(),h=o.getNextSet(0);if(h===u)throw new te;return h}decodeEnd(o){o.reverse();try{let u=jt.skipWhiteSpace(o),h;try{h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[0])}catch(x){x instanceof te&&(h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let g=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-g,h}finally{o.reverse()}}static findGuardPattern(o,u,h){let g=h.length,x=new Int32Array(g),w=o.getSize(),C=!1,N=0,M=u;x.fill(0);for(let F=u;F<w;F++)if(o.get(F)!==C)x[N]++;else{if(N===g-1){if(on.patternMatchVariance(x,h,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[M,F];M+=x[0]+x[1],O.arraycopy(x,2,x,0,N-1),x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,C=!C}throw new te}static decodeDigit(o){let u=jt.MAX_AVG_VARIANCE,h=-1,g=jt.PATTERNS.length;for(let x=0;x<g;x++){let w=jt.PATTERNS[x],C=on.patternMatchVariance(o,w,jt.MAX_INDIVIDUAL_VARIANCE);C<u?(u=C,h=x):C===u&&(h=-1)}if(h>=0)return h%10;throw new te}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qt extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,h,g=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),h=qt.findGuardPattern(o,g,!1,this.START_END_PATTERN,x);let w=h[0];g=h[1];let C=w-(g-w);C>=0&&(u=o.isRange(C,w,!1))}return h}static checkChecksum(o){return qt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return qt.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}h*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}return(1e3-h)%10}static decodeEnd(o,u){return qt.findGuardPattern(o,u,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,h,g){return this.findGuardPattern(o,u,h,g,new Int32Array(g.length))}static findGuardPattern(o,u,h,g,x){let w=o.getSize();u=h?o.getNextUnset(u):o.getNextSet(u);let C=0,N=u,M=g.length,F=h;for(let $=u;$<w;$++)if(o.get($)!==F)x[C]++;else{if(C===M-1){if(on.patternMatchVariance(x,g,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return Int32Array.from([N,$]);N+=x[0]+x[1];let q=x.slice(2,x.length-1);for(let K=0;K<C-1;K++)x[K]=q[K];x[C-1]=0,x[C]=0,C--}else C++;x[C]=1,F=!F}throw new te}static decodeDigit(o,u,h,g){this.recordPattern(o,h,u);let x=this.MAX_AVG_VARIANCE,w=-1,C=g.length;for(let N=0;N<C;N++){let M=g[N],F=on.patternMatchVariance(u,M,qt.MAX_INDIVIDUAL_VARIANCE);F<x&&(x=F,w=N)}if(w>=0)return w;throw new te}}qt.MAX_AVG_VARIANCE=.48,qt.MAX_INDIVIDUAL_VARIANCE=.7,qt.START_END_PATTERN=Int32Array.from([1,1,1]),qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,g),w=g.toString(),C=Mr.parseExtensionString(w),N=[new We((h[0]+h[1])/2,o),new We(x,o)],M=new He(w,null,0,N,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let M=0;M<5&&w<x;M++){let F=qt.decodeDigit(o,g,w,qt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let $ of g)w+=$;F>=10&&(C|=1<<4-M),M!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==5)throw new te;let N=this.determineCheckDigit(C);if(Mr.extensionChecksum(h.toString())!==N)throw new te;return w}static extensionChecksum(o){let u=o.length,h=0;for(let g=u-2;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;h*=3;for(let g=u-1;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new te}static parseExtensionString(o){if(o.length!==5)return null;let u=Mr.parseExtension5String(o);return u==null?null:new Map([[gt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(o.substring(1)),g=(h/100).toString(),x=h%100,w=x<10?"0"+x:x.toString();return u+g+"."+w}}class gs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,g),w=g.toString(),C=gs.parseExtensionString(w),N=[new We((h[0]+h[1])/2,o),new We(x,o)],M=new He(w,null,0,N,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let N=0;N<2&&w<x;N++){let M=qt.decodeDigit(o,g,w,qt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+M%10);for(let F of g)w+=F;M>=10&&(C|=1<<1-N),N!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==2)throw new te;if(parseInt(h.toString())%4!==C)throw new te;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(o)]])}}class Yl{static decodeRow(o,u,h){let g=qt.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mr().decodeRow(o,u,g)}catch{return new gs().decodeRow(o,u,g)}}}Yl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $t extends qt{constructor(){super(),this.decodeRowStringBuffer="",$t.L_AND_G_PATTERNS=$t.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=$t.L_PATTERNS[o-10],h=new Int32Array(u.length);for(let g=0;g<u.length;g++)h[g]=u[u.length-g-1];$t.L_AND_G_PATTERNS[o]=h}}decodeRow(o,u,h){let g=$t.findStartGuardPattern(u),x=h==null?null:h.get(L.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Le=new We((g[0]+g[1])/2,o);x.foundPossibleResultPoint(Le)}let w=this.decodeMiddle(u,g,this.decodeRowStringBuffer),C=w.rowOffset,N=w.resultString;if(x!=null){const Le=new We(C,o);x.foundPossibleResultPoint(Le)}let M=this.decodeEnd(u,C);if(x!=null){const Le=new We((M[0]+M[1])/2,o);x.foundPossibleResultPoint(Le)}let F=M[1],$=F+(F-M[0]);if($>=u.getSize()||!u.isRange(F,$,!1))throw new te;let q=N.toString();if(q.length<8)throw new z;if(!$t.checkChecksum(q))throw new A;let K=(g[1]+g[0])/2,ee=(M[1]+M[0])/2,re=this.getBarcodeFormat(),de=[new We(K,o),new We(ee,o)],be=new He(q,null,0,de,re,new Date().getTime()),Pe=0;try{let Le=Yl.decodeRow(o,u,M[1]);be.putMetadata(gt.UPC_EAN_EXTENSION,Le.getText()),be.putAllMetadata(Le.getResultMetadata()),be.addResultPoints(Le.getResultPoints()),Pe=Le.getText().length}catch{}let ze=h==null?null:h.get(L.ALLOWED_EAN_EXTENSIONS);if(ze!=null){let Le=!1;for(let Et in ze)if(Pe.toString()===Et){Le=!0;break}if(!Le)throw new te}return be}decodeEnd(o,u){return $t.findGuardPattern(o,u,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return $t.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return $t.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}h*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}return(1e3-h)%10}}class pr extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let M=0;M<6&&w<x;M++){let F=$t.decodeDigit(o,g,w,$t.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let $ of g)w+=$;F>=10&&(C|=1<<5-M)}h=pr.determineFirstDigit(h,C),w=$t.findGuardPattern(o,w,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<6&&w<x;M++){let F=$t.decodeDigit(o,g,w,$t.L_PATTERNS);h+=String.fromCharCode(48+F);for(let $ of g)w+=$}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(o,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new te}}pr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kl extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1];for(let N=0;N<4&&w<x;N++){let M=$t.decodeDigit(o,g,w,$t.L_PATTERNS);h+=String.fromCharCode(48+M);for(let F of g)w+=F}w=$t.findGuardPattern(o,w,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&w<x;N++){let M=$t.decodeDigit(o,g,w,$t.L_PATTERNS);h+=String.fromCharCode(48+M);for(let F of g)w+=F}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ae.EAN_8}}class ia extends $t{constructor(){super(...arguments),this.ean13Reader=new pr}getBarcodeFormat(){return Ae.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,h))}decodeMiddle(o,u,h){return this.ean13Reader.decodeMiddle(o,u,h)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let h=new He(u.substring(1),null,null,o.getResultPoints(),Ae.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new te}reset(){this.ean13Reader.reset()}}class Si extends $t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters.map(M=>M);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=o.getSize();let w=u[1],C=0;for(let M=0;M<6&&w<x;M++){const F=Si.decodeDigit(o,g,w,Si.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let $ of g)w+=$;F>=10&&(C|=1<<5-M)}let N=Si.determineNumSysAndCheckDigit(h,C);return{rowOffset:w,resultString:N}}decodeEnd(o,u){return Si.findGuardPatternWithoutCounters(o,u,!0,Si.MIDDLE_END_PATTERN)}checkChecksum(o){return $t.checkChecksum(Si.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let h=0;h<=1;h++)for(let g=0;g<10;g++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][g]){let x=String.fromCharCode(48+h),w=String.fromCharCode(48+g);return x+o+w}throw te.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),h=new Ie;h.append(o.charAt(0));let g=u[5];switch(g){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(g),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(g);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Si.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Si.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ja extends on{constructor(o){super();let u=o==null?null:o.get(L.POSSIBLE_FORMATS),h=[];i(u)?(h.push(new pr),h.push(new ia),h.push(new Kl),h.push(new Si)):(u.indexOf(Ae.EAN_13)>-1&&h.push(new pr),u.indexOf(Ae.UPC_A)>-1&&h.push(new ia),u.indexOf(Ae.EAN_8)>-1&&h.push(new Kl),u.indexOf(Ae.UPC_E)>-1&&h.push(new Si)),this.readers=h}decodeRow(o,u,h){for(let g of this.readers)try{const x=g.decodeRow(o,u,h),w=x.getBarcodeFormat()===Ae.EAN_13&&x.getText().charAt(0)==="0",C=h==null?null:h.get(L.POSSIBLE_FORMATS),N=C==null||C.includes(Ae.UPC_A);if(w&&N){const M=x.getRawBytes(),F=new He(x.getText().substring(1),M,M?M.length:null,x.getResultPoints(),Ae.UPC_A);return F.putAllMetadata(x.getResultMetadata()),F}return x}catch{}throw new te}reset(){for(let o of this.readers)o.reset()}}class Zn extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let h=0;h<u.length;h++)if(on.patternMatchVariance(o,u[h],Zn.MAX_INDIVIDUAL_VARIANCE)<Zn.MAX_AVG_VARIANCE)return h;throw new te}static count(o){return At.sum(new Int32Array(o))}static increment(o,u){let h=0,g=u[0];for(let x=1;x<o.length;x++)u[x]>g&&(g=u[x],h=x);o[h]++}static decrement(o,u){let h=0,g=u[0];for(let x=1;x<o.length;x++)u[x]<g&&(g=u[x],h=x);o[h]--}static isFinderPattern(o){let u=o[0]+o[1],h=u+o[2]+o[3],g=u/h;if(g>=Zn.MIN_FINDER_PATTERN_RATIO&&g<=Zn.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let C of o)C>w&&(w=C),C<x&&(x=C);return w<10*x}return!1}}Zn.MAX_AVG_VARIANCE=.2,Zn.MAX_INDIVIDUAL_VARIANCE=.45,Zn.MIN_FINDER_PATTERN_RATIO=9.5/12,Zn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ne{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof ne))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ce{constructor(o,u,h,g,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new We(h,x)),this.resultPoints.push(new We(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof ce))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class ge{constructor(){}static getRSSvalue(o,u,h){let g=0;for(let N of o)g+=N;let x=0,w=0,C=o.length;for(let N=0;N<C-1;N++){let M;for(M=1,w|=1<<N;M<o[N];M++,w&=~(1<<N)){let F=ge.combins(g-M-1,C-N-2);if(h&&w===0&&g-M-(C-N-1)>=C-N-1&&(F-=ge.combins(g-M-(C-N),C-N-2)),C-N-1>1){let $=0;for(let q=g-M-(C-N-2);q>u;q--)$+=ge.combins(g-M-q-1,C-N-3);F-=$*(C-1-N)}else g-M>u&&F--;x+=F}g-=M}return x}static combins(o,u){let h,g;o-u>u?(g=u,h=o-u):(g=o-u,h=u);let x=1,w=1;for(let C=o;C>h;C--)x*=C,w<=g&&(x/=w,w++);for(;w<=g;)x/=w,w++;return x}}class De{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let h=12*u,g=new k(h),x=0,C=o[0].getRightChar().getValue();for(let N=11;N>=0;--N)(C&1<<N)!=0&&g.set(x),x++;for(let N=1;N<o.length;++N){let M=o[N],F=M.getLeftChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&g.set(x),x++;if(M.getRightChar()!=null){let $=M.getRightChar().getValue();for(let q=11;q>=0;--q)($&1<<q)!=0&&g.set(x),x++}}return g}}class Fe{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ze{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Qe extends Ze{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Qe.FNC1}}Qe.FNC1="$";class Ge extends Ze{constructor(o,u,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ye extends Ze{constructor(o,u,h){if(super(o),u<0||u>10||h<0||h>10)throw new z;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ye.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ye.FNC1}isAnyFNC1(){return this.firstDigit===Ye.FNC1||this.secondDigit===Ye.FNC1}}Ye.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new te;let u=o.substring(0,2);for(let x of Te.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,x[2],o):Te.processFixedAI(2,x[1],o);if(o.length<3)throw new te;let h=o.substring(0,3);for(let x of Te.THREE_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,x[2],o):Te.processFixedAI(3,x[1],o);for(let x of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,x[2],o):Te.processFixedAI(4,x[1],o);if(o.length<4)throw new te;let g=o.substring(0,4);for(let x of Te.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,x[2],o):Te.processFixedAI(4,x[1],o);throw new te}static processFixedAI(o,u,h){if(h.length<o)throw new te;let g=h.substring(0,o);if(h.length<o+u)throw new te;let x=h.substring(o,o+u),w=h.substring(o+u),C="("+g+")"+x,N=Te.parseFieldsInGeneralPurpose(w);return N==null?C:C+N}static processVariableAI(o,u,h){let g=h.substring(0,o),x;h.length<o+u?x=h.length:x=o+u;let w=h.substring(o,x),C=h.substring(x),N="("+g+")"+w,M=Te.parseFieldsInGeneralPurpose(C);return M==null?N:N+M}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class ut{constructor(o){this.buffer=new Ie,this.information=o}decodeAllCodes(o,u){let h=u,g=null;do{let x=this.decodeGeneralPurposeField(h,g),w=Te.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&o.append(w),x.isRemaining()?g=""+x.getRemainingValue():g=null,h===x.getNewPosition())break;h=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new Ye(this.information.getSize(),Ye.FNC1,Ye.FNC1):new Ye(this.information.getSize(),x-1,Ye.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),h=(u-8)/11,g=(u-8)%11;return new Ye(o+7,h,g)}extractNumericValueFromBitArray(o,u){return ut.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,h){let g=0;for(let x=0;x<h;++x)o.get(u+x)&&(g|=1<<h-x-1);return g}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Ge(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Ge(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ge(this.current.getPosition(),this.buffer.toString()):u=new Ge(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Fe(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fe(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Qe(o+5,Qe.FNC1);if(u>=5&&u<15)return new Qe(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Qe(o+7,""+(h+1));if(h>=90&&h<116)return new Qe(o+7,""+(h+7));let g=this.extractNumericValueFromBitArray(o,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new z}return new Qe(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Qe(o+5,Qe.FNC1);if(u>=5&&u<15)return new Qe(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Qe(o+6,""+(h+33));let g;switch(h){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new Gi("Decoding invalid alphanumeric value: "+h)}return new Qe(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class nt{constructor(o){this.information=o,this.generalDecoder=new ut(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tt extends nt{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,h)}encodeCompressedGtinWithoutAI(o,u,h){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*g,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}tt.appendCheckDigit(o,h)}static appendCheckDigit(o,u){let h=0;for(let g=0;g<13;g++){let x=o.charAt(g+u).charCodeAt(0)-48;h+=(g&1)===0?3*x:x}h=10-h%10,h===10&&(h=0),o.append(h)}}tt.GTIN_SIZE=40;class Rt extends tt{constructor(o){super(o)}parseInformation(){let o=new Ie;o.append("(01)");let u=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Rt.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,Rt.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,Rt.HEADER_SIZE+44)}}Rt.HEADER_SIZE=4;class fn extends nt{constructor(o){super(o)}parseInformation(){let o=new Ie;return this.getGeneralDecoder().decodeAllCodes(o,fn.HEADER_SIZE)}}fn.HEADER_SIZE=5;class _n extends tt{constructor(o){super(o)}encodeCompressedWeight(o,u,h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(o,g);let x=this.checkWeight(g),w=1e5;for(let C=0;C<5;++C)x/w===0&&o.append("0"),w/=10;o.append(x)}}class Tt extends _n{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+_n.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new te;let o=new Ie;return this.encodeCompressedGtin(o,Tt.HEADER_SIZE),this.encodeCompressedWeight(o,Tt.HEADER_SIZE+_n.GTIN_SIZE,Tt.WEIGHT_SIZE),o.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class Wt extends Tt{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class ra extends Tt{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Mn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+tt.GTIN_SIZE)throw new te;let o=new Ie;this.encodeCompressedGtin(o,Mn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+tt.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+tt.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2;class Cn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Cn.HEADER_SIZE+tt.GTIN_SIZE)throw new te;let o=new Ie;this.encodeCompressedGtin(o,Cn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+tt.GTIN_SIZE,Cn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+tt.GTIN_SIZE+Cn.LAST_DIGIT_SIZE,Cn.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let g=this.getGeneralDecoder().decodeGeneralPurposeField(Cn.HEADER_SIZE+tt.GTIN_SIZE+Cn.LAST_DIGIT_SIZE+Cn.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}Cn.HEADER_SIZE=8,Cn.LAST_DIGIT_SIZE=2,Cn.FIRST_THREE_DIGITS_SIZE=10;class Pt extends _n{constructor(o,u,h){super(o),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE+Pt.DATE_SIZE)throw new te;let o=new Ie;return this.encodeCompressedGtin(o,Pt.HEADER_SIZE),this.encodeCompressedWeight(o,Pt.HEADER_SIZE+Pt.GTIN_SIZE,Pt.WEIGHT_SIZE),this.encodeCompressedDate(o,Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Pt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=h%32;h/=32;let x=h%12+1;h/=12;let w=h;w/10==0&&o.append("0"),o.append(w),x/10==0&&o.append("0"),o.append(x),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Pt.HEADER_SIZE=8,Pt.WEIGHT_SIZE=20,Pt.DATE_SIZE=16;function zs(U){try{if(U.get(1))return new Rt(U);if(!U.get(2))return new fn(U);switch(ut.extractNumericValueFromBitArray(U,1,4)){case 4:return new Wt(U);case 5:return new ra(U)}switch(ut.extractNumericValueFromBitArray(U,1,5)){case 12:return new Mn(U);case 13:return new Cn(U)}switch(ut.extractNumericValueFromBitArray(U,1,7)){case 56:return new Pt(U,"310","11");case 57:return new Pt(U,"320","11");case 58:return new Pt(U,"310","13");case 59:return new Pt(U,"320","13");case 60:return new Pt(U,"310","15");case 61:return new Pt(U,"320","15");case 62:return new Pt(U,"310","17");case 63:return new Pt(U,"320","17")}}catch(o){throw console.log(o),new Gi("unknown decoder: "+U)}}class qi{constructor(o,u,h,g){this.leftchar=o,this.rightchar=u,this.finderpattern=h,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof qi?qi.equalsOrNull(o.leftchar,u.leftchar)&&qi.equalsOrNull(o.rightchar,u.rightchar)&&qi.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:qi.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pa{constructor(o,u,h){this.pairs=o,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof Pa?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let h;return o.forEach((g,x)=>{u.forEach(w=>{g.getLeftChar().getValue()===w.getLeftChar().getValue()&&g.getRightChar().getValue()===w.getRightChar().getValue()&&g.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class ke extends Zn{constructor(o){super(...arguments),this.pairs=new Array(ke.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,h){this.pairs.length=0,this.startFromEven=!1;try{return ke.constructResult(this.decodeRow2pairs(o,u))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,ke.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof te){if(!this.pairs.length)throw new te;h=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new te}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let h=u;h<this.rows.length;h++){let g=this.rows[h];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(g.getPairs()),!ke.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(g);try{return this.checkRows(x,h+1)}catch(w){this.verbose&&console.log(w)}}throw new te}static isValidSequence(o){for(let u of ke.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let h=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=u[g]){h=!1;break}if(h)return!0}return!1}storeRow(o,u){let h=0,g=!1,x=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>o){x=w.isEquivalent(this.pairs);break}g=w.isEquivalent(this.pairs),h++}x||g||ke.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Pa(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let h of u)if(h.getPairs().length!==o.length){for(let g of h.getPairs())for(let x of o)if(qi.equals(g,x))break}}static isPartialRow(o,u){for(let h of u){let g=!0;for(let x of o){let w=!1;for(let C of h.getPairs())if(x.equals(C)){w=!0;break}if(!w){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=De.buildBitArray(o),g=zs(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),C=[x[0],x[1],w[0],w[1]];return new He(g,null,null,C,Ae.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let g=h.getChecksumPortion(),x=2;for(let C=1;C<this.pairs.size();++C){let N=this.pairs.get(C);g+=N.getLeftChar().getChecksumPortion(),x++;let M=N.getRightChar();M!=null&&(g+=M.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==u.getValue()}static getNextSecondBar(o,u){let h;return o.get(u)?(h=o.getNextUnset(u),h=o.getNextSet(h)):(h=o.getNextSet(u),h=o.getNextUnset(h)),h}retrieveNextPair(o,u,h){let g=u.length%2==0;this.startFromEven&&(g=!g);let x,w=!0,C=-1;do this.findNextPair(o,u,C),x=this.parseFoundFinderPattern(o,h,g),x==null?C=ke.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let N=this.decodeDataCharacter(o,x,g,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new te;let M;try{M=this.decodeDataCharacter(o,x,g,!1)}catch(F){M=null,this.verbose&&console.log(F)}return new qi(N,M,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,h){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w;h>=0?w=h:this.isEmptyPair(u)?w=0:w=u[u.length-1].getFinderPattern().getStartEnd()[1];let C=u.length%2!=0;this.startFromEven&&(C=!C);let N=!1;for(;w<x&&(N=!o.get(w),!!N);)w++;let M=0,F=w;for(let $=w;$<x;$++)if(o.get($)!=N)g[M]++;else{if(M==3){if(C&&ke.reverseCounters(g),ke.isFinderPattern(g)){this.startEnd[0]=F,this.startEnd[1]=$;return}C&&ke.reverseCounters(g),F+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,M--}else M++;g[M]=1,N=!N}throw new te}static reverseCounters(o){let u=o.length;for(let h=0;h<u/2;++h){let g=o[h];o[h]=o[u-h-1],o[u-h-1]=g}}parseFoundFinderPattern(o,u,h){let g,x,w;if(h){let M=this.startEnd[0]-1;for(;M>=0&&!o.get(M);)M--;M++,g=this.startEnd[0]-M,x=M,w=this.startEnd[1]}else x=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),g=w-this.startEnd[1];let C=this.getDecodeFinderCounters();O.arraycopy(C,0,C,1,C.length-1),C[0]=g;let N;try{N=this.parseFinderValue(C,ke.FINDER_PATTERNS)}catch{return null}return new ce(N,[x,w],x,w,u)}decodeDataCharacter(o,u,h,g){let x=this.getDataCharacterCounters();for(let xn=0;xn<x.length;xn++)x[xn]=0;if(g)ke.recordPatternInReverse(o,u.getStartEnd()[0],x);else{ke.recordPattern(o,u.getStartEnd()[1],x);for(let xn=0,Ii=x.length-1;xn<Ii;xn++,Ii--){let rr=x[xn];x[xn]=x[Ii],x[Ii]=rr}}let w=17,C=At.sum(new Int32Array(x))/w,N=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(C-N)/N>.3)throw new te;let M=this.getOddCounts(),F=this.getEvenCounts(),$=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let xn=0;xn<x.length;xn++){let Ii=1*x[xn]/C,rr=Ii+.5;if(rr<1){if(Ii<.3)throw new te;rr=1}else if(rr>8){if(Ii>8.7)throw new te;rr=8}let Va=xn/2;(xn&1)==0?(M[Va]=rr,$[Va]=Ii-rr):(F[Va]=rr,q[Va]=Ii-rr)}this.adjustOddEvenCounts(w);let K=4*u.getValue()+(h?0:2)+(g?0:1)-1,ee=0,re=0;for(let xn=M.length-1;xn>=0;xn--){if(ke.isNotA1left(u,h,g)){let Ii=ke.WEIGHTS[K][2*xn];re+=M[xn]*Ii}ee+=M[xn]}let de=0;for(let xn=F.length-1;xn>=0;xn--)if(ke.isNotA1left(u,h,g)){let Ii=ke.WEIGHTS[K][2*xn+1];de+=F[xn]*Ii}let be=re+de;if((ee&1)!=0||ee>13||ee<4)throw new te;let Pe=(13-ee)/2,ze=ke.SYMBOL_WIDEST[Pe],Le=9-ze,Et=ge.getRSSvalue(M,ze,!0),Ct=ge.getRSSvalue(F,Le,!1),Wi=ke.EVEN_TOTAL_SUBSET[Pe],Rr=ke.GSUM[Pe],ir=Et*Wi+Ct+Rr;return new ne(ir,be)}static isNotA1left(o,u,h){return!(o.getValue()==0&&u&&h)}adjustOddEvenCounts(o){let u=At.sum(new Int32Array(this.getOddCounts())),h=At.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;u>13?x=!0:u<4&&(g=!0);let w=!1,C=!1;h>13?C=!0:h<4&&(w=!0);let N=u+h-o,M=(u&1)==1,F=(h&1)==0;if(N==1)if(M){if(F)throw new te;x=!0}else{if(!F)throw new te;C=!0}else if(N==-1)if(M){if(F)throw new te;g=!0}else{if(!F)throw new te;w=!0}else if(N==0){if(M){if(!F)throw new te;u<h?(g=!0,C=!0):(x=!0,w=!0)}else if(F)throw new te}else throw new te;if(g){if(x)throw new te;ke.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&ke.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new te;ke.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&ke.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ke.SYMBOL_WIDEST=[7,5,4,3,1],ke.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ke.GSUM=[0,348,1388,2948,3988],ke.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ke.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ke.FINDER_PAT_A=0,ke.FINDER_PAT_B=1,ke.FINDER_PAT_C=2,ke.FINDER_PAT_D=3,ke.FINDER_PAT_E=4,ke.FINDER_PAT_F=5,ke.FINDER_PATTERN_SEQUENCES=[[ke.FINDER_PAT_A,ke.FINDER_PAT_A],[ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B],[ke.FINDER_PAT_A,ke.FINDER_PAT_C,ke.FINDER_PAT_B,ke.FINDER_PAT_D],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_C],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_D,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_D],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_E],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F]],ke.MAX_PAIRS=11;class Hs extends ne{constructor(o,u,h){super(o,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Zn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,h){const g=this.decodePair(u,!1,o,h);it.addOrTally(this.possibleLeftPairs,g),u.reverse();let x=this.decodePair(u,!0,o,h);it.addOrTally(this.possibleRightPairs,x),u.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&it.checkChecksum(w,C))return it.constructResult(w,C)}throw new te}static addOrTally(o,u){if(u==null)return;let h=!1;for(let g of o)if(g.getValue()===u.getValue()){g.incrementCount(),h=!0;break}h||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let h=4537077*o.getValue()+u.getValue(),g=new String(h).toString(),x=new Ie;for(let M=13-g.length;M>0;M--)x.append("0");x.append(g);let w=0;for(let M=0;M<13;M++){let F=x.charAt(M).charCodeAt(0)-48;w+=(M&1)===0?3*F:F}w=10-w%10,w===10&&(w=0),x.append(w.toString());let C=o.getFinderPattern().getResultPoints(),N=u.getFinderPattern().getResultPoints();return new He(x.toString(),null,0,[C[0],C[1],N[0],N[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(o,u){let h=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,h===g}decodePair(o,u,h,g){try{let x=this.findFinderPattern(o,u),w=this.parseFoundFinderPattern(o,h,u,x),C=g==null?null:g.get(L.NEED_RESULT_POINT_CALLBACK);if(C!=null){let F=(x[0]+x[1])/2;u&&(F=o.getSize()-1-F),C.foundPossibleResultPoint(new We(F,h))}let N=this.decodeDataCharacter(o,w,!0),M=this.decodeDataCharacter(o,w,!1);return new Hs(1597*N.getValue()+M.getValue(),N.getChecksumPortion()+4*M.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,u,h){let g=this.getDataCharacterCounters();for(let de=0;de<g.length;de++)g[de]=0;if(h)on.recordPatternInReverse(o,u.getStartEnd()[0],g);else{on.recordPattern(o,u.getStartEnd()[1]+1,g);for(let de=0,be=g.length-1;de<be;de++,be--){let Pe=g[de];g[de]=g[be],g[be]=Pe}}let x=h?16:15,w=At.sum(new Int32Array(g))/x,C=this.getOddCounts(),N=this.getEvenCounts(),M=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let de=0;de<g.length;de++){let be=g[de]/w,Pe=Math.floor(be+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let ze=Math.floor(de/2);(de&1)===0?(C[ze]=Pe,M[ze]=be-Pe):(N[ze]=Pe,F[ze]=be-Pe)}this.adjustOddEvenCounts(h,x);let $=0,q=0;for(let de=C.length-1;de>=0;de--)q*=9,q+=C[de],$+=C[de];let K=0,ee=0;for(let de=N.length-1;de>=0;de--)K*=9,K+=N[de],ee+=N[de];let re=q+3*K;if(h){if(($&1)!==0||$>12||$<4)throw new te;let de=(12-$)/2,be=it.OUTSIDE_ODD_WIDEST[de],Pe=9-be,ze=ge.getRSSvalue(C,be,!1),Le=ge.getRSSvalue(N,Pe,!0),Et=it.OUTSIDE_EVEN_TOTAL_SUBSET[de],Ct=it.OUTSIDE_GSUM[de];return new ne(ze*Et+Le+Ct,re)}else{if((ee&1)!==0||ee>10||ee<4)throw new te;let de=(10-ee)/2,be=it.INSIDE_ODD_WIDEST[de],Pe=9-be,ze=ge.getRSSvalue(C,be,!0),Le=ge.getRSSvalue(N,Pe,!1),Et=it.INSIDE_ODD_TOTAL_SUBSET[de],Ct=it.INSIDE_GSUM[de];return new ne(Le*Et+ze+Ct,re)}}findFinderPattern(o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=o.getSize(),x=!1,w=0;for(;w<g&&(x=!o.get(w),u!==x);)w++;let C=0,N=w;for(let M=w;M<g;M++)if(o.get(M)!==x)h[C]++;else{if(C===3){if(Zn.isFinderPattern(h))return[N,M];N+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,x=!x}throw new te}parseFoundFinderPattern(o,u,h,g){let x=o.get(g[0]),w=g[0]-1;for(;w>=0&&x!==o.get(w);)w--;w++;const C=g[0]-w,N=this.getDecodeFinderCounters(),M=new Int32Array(N.length);O.arraycopy(N,0,M,1,N.length-1),M[0]=C;const F=this.parseFinderValue(M,it.FINDER_PATTERNS);let $=w,q=g[1];return h&&($=o.getSize()-1-$,q=o.getSize()-1-q),new ce(F,[w,g[1]],$,q,u)}adjustOddEvenCounts(o,u){let h=At.sum(new Int32Array(this.getOddCounts())),g=At.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,C=!1,N=!1;o?(h>12?w=!0:h<4&&(x=!0),g>12?N=!0:g<4&&(C=!0)):(h>11?w=!0:h<5&&(x=!0),g>10?N=!0:g<4&&(C=!0));let M=h+g-u,F=(h&1)===(o?1:0),$=(g&1)===1;if(M===1)if(F){if($)throw new te;w=!0}else{if(!$)throw new te;N=!0}else if(M===-1)if(F){if($)throw new te;x=!0}else{if(!$)throw new te;C=!0}else if(M===0){if(F){if(!$)throw new te;h<g?(x=!0,N=!0):(w=!0,C=!0)}else if($)throw new te}else throw new te;if(x){if(w)throw new te;Zn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Zn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(N)throw new te;Zn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Zn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class $n extends on{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const h=o?o.get(L.POSSIBLE_FORMATS):null,g=o&&o.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Ae.EAN_13)||h.includes(Ae.UPC_A)||h.includes(Ae.EAN_8)||h.includes(Ae.UPC_E))&&this.readers.push(new ja(o)),h.includes(Ae.CODE_39)&&this.readers.push(new an(g)),h.includes(Ae.CODE_128)&&this.readers.push(new Ue),h.includes(Ae.ITF)&&this.readers.push(new jt),h.includes(Ae.RSS_14)&&this.readers.push(new it),h.includes(Ae.RSS_EXPANDED)&&this.readers.push(new ke(this.verbose))):(this.readers.push(new ja(o)),this.readers.push(new an),this.readers.push(new ja(o)),this.readers.push(new Ue),this.readers.push(new jt),this.readers.push(new it),this.readers.push(new ke(this.verbose)))}decodeRow(o,u,h){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,u,h)}catch{}throw new te}reset(){this.readers.forEach(o=>o.reset())}}class Wr extends Re{constructor(o=500,u){super(new $n(u),o,u)}}class Nt{constructor(o,u,h){this.ecCodewords=o,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ft{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(o,u,h,g,x,w){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=w;let C=0;const N=w.getECCodewords(),M=w.getECBlocks();for(let F of M)C+=F.getCount()*(F.getDataCodewords()+N);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new z;for(let h of rt.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===u)return h;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new Nt(5,new Ft(1,3))),new rt(2,12,12,10,10,new Nt(7,new Ft(1,5))),new rt(3,14,14,12,12,new Nt(10,new Ft(1,8))),new rt(4,16,16,14,14,new Nt(12,new Ft(1,12))),new rt(5,18,18,16,16,new Nt(14,new Ft(1,18))),new rt(6,20,20,18,18,new Nt(18,new Ft(1,22))),new rt(7,22,22,20,20,new Nt(20,new Ft(1,30))),new rt(8,24,24,22,22,new Nt(24,new Ft(1,36))),new rt(9,26,26,24,24,new Nt(28,new Ft(1,44))),new rt(10,32,32,14,14,new Nt(36,new Ft(1,62))),new rt(11,36,36,16,16,new Nt(42,new Ft(1,86))),new rt(12,40,40,18,18,new Nt(48,new Ft(1,114))),new rt(13,44,44,20,20,new Nt(56,new Ft(1,144))),new rt(14,48,48,22,22,new Nt(68,new Ft(1,174))),new rt(15,52,52,24,24,new Nt(42,new Ft(2,102))),new rt(16,64,64,14,14,new Nt(56,new Ft(2,140))),new rt(17,72,72,16,16,new Nt(36,new Ft(4,92))),new rt(18,80,80,18,18,new Nt(48,new Ft(4,114))),new rt(19,88,88,20,20,new Nt(56,new Ft(4,144))),new rt(20,96,96,22,22,new Nt(68,new Ft(4,174))),new rt(21,104,104,24,24,new Nt(56,new Ft(6,136))),new rt(22,120,120,18,18,new Nt(68,new Ft(6,175))),new rt(23,132,132,20,20,new Nt(62,new Ft(8,163))),new rt(24,144,144,22,22,new Nt(62,new Ft(8,156),new Ft(2,155))),new rt(25,8,18,6,16,new Nt(7,new Ft(1,5))),new rt(26,8,32,6,14,new Nt(11,new Ft(1,10))),new rt(27,12,26,10,24,new Nt(14,new Ft(1,16))),new rt(28,12,36,10,16,new Nt(18,new Ft(1,22))),new rt(29,16,36,14,16,new Nt(24,new Ft(1,32))),new rt(30,16,48,14,22,new Nt(28,new Ft(1,49)))]}}rt.VERSIONS=rt.buildVersions();class xs{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new z;this.version=xs.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),h=o.getWidth();return rt.getVersionForDimensions(u,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,g=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let C=!1,N=!1,M=!1,F=!1;do if(h===x&&g===0&&!C)o[u++]=this.readCorner1(x,w)&255,h-=2,g+=2,C=!0;else if(h===x-2&&g===0&&(w&3)!==0&&!N)o[u++]=this.readCorner2(x,w)&255,h-=2,g+=2,N=!0;else if(h===x+4&&g===2&&(w&7)===0&&!M)o[u++]=this.readCorner3(x,w)&255,h-=2,g+=2,M=!0;else if(h===x-2&&g===0&&(w&7)===4&&!F)o[u++]=this.readCorner4(x,w)&255,h-=2,g+=2,F=!0;else{do h<x&&g>=0&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,x,w)&255),h-=2,g+=2;while(h>=0&&g<w);h+=1,g+=3;do h>=0&&g<w&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,x,w)&255),h+=2,g-=2;while(h<x&&g>=0);h+=3,g+=1}while(h<x||g<w);if(u!==this.version.getTotalCodewords())throw new z;return o}readModule(o,u,h,g){return o<0&&(o+=h,u+=4-(h+4&7)),u<0&&(u+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,h,g){let x=0;return this.readModule(o-2,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o-2,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u,h,g)&&(x|=1),x<<=1,this.readModule(o,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o,u,h,g)&&(x|=1),x}readCorner1(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,1,o,u)&&(h|=1),h<<=1,this.readModule(o-1,2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}readCorner2(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-4,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner3(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-3,o,u)&&(h|=1),h<<=1,this.readModule(1,u-2,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner4(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new _("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=u/g|0,C=h/x|0,N=w*g,M=C*x,F=new Se(M,N);for(let $=0;$<w;++$){const q=$*g;for(let K=0;K<C;++K){const ee=K*x;for(let re=0;re<g;++re){const de=$*(g+2)+1+re,be=q+re;for(let Pe=0;Pe<x;++Pe){const ze=K*(x+2)+1+Pe;if(o.get(ze,de)){const Le=ee+Pe;F.set(Le,be)}}}}}return F}}class Fa{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const h=u.getECBlocks();let g=0;const x=h.getECBlocks();for(let re of x)g+=re.getCount();const w=new Array(g);let C=0;for(let re of x)for(let de=0;de<re.getCount();de++){const be=re.getDataCodewords(),Pe=h.getECCodewords()+be;w[C++]=new Fa(be,new Uint8Array(Pe))}const M=w[0].codewords.length-h.getECCodewords(),F=M-1;let $=0;for(let re=0;re<F;re++)for(let de=0;de<C;de++)w[de].codewords[re]=o[$++];const q=u.getVersionNumber()===24,K=q?8:C;for(let re=0;re<K;re++)w[re].codewords[M-1]=o[$++];const ee=w[0].codewords.length;for(let re=M;re<ee;re++)for(let de=0;de<C;de++){const be=q?(de+8)%C:de,Pe=q&&be>7?re-1:re;w[be].codewords[Pe]=o[$++]}if($!==o.length)throw new _;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bi{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new _(""+o);let u=0,h=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(h>0){const w=8-h,C=o<w?o:w,N=w-C,M=255>>8-C<<N;u=(x[g]&M)>>N,o-=C,h+=C,h===8&&(h=0,g++)}if(o>0){for(;o>=8;)u=u<<8|x[g]&255,g++,o-=8;if(o>0){const w=8-o,C=255>>w<<w;u=u<<o|(x[g]&C)>>w,h+=o}}return this.bitOffset=h,this.byteOffset=g,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qn;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qn||(Qn={}));class sa{static decode(o){const u=new Bi(o),h=new Ie,g=new Ie,x=new Array;let w=Qn.ASCII_ENCODE;do if(w===Qn.ASCII_ENCODE)w=this.decodeAsciiSegment(u,h,g);else{switch(w){case Qn.C40_ENCODE:this.decodeC40Segment(u,h);break;case Qn.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Qn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Qn.BASE256_ENCODE:this.decodeBase256Segment(u,h,x);break;default:throw new z}w=Qn.ASCII_ENCODE}while(w!==Qn.PAD_ENCODE&&u.available()>0);return g.length()>0&&h.append(g.toString()),new ai(o,h.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,h){let g=!1;do{let x=o.readBits(8);if(x===0)throw new z;if(x<=128)return g&&(x+=128),u.append(String.fromCharCode(x-1)),Qn.ASCII_ENCODE;if(x===129)return Qn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&u.append("0"),u.append(""+w)}else switch(x){case 230:return Qn.C40_ENCODE;case 231:return Qn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Qn.ANSIX12_ENCODE;case 239:return Qn.TEXT_ENCODE;case 240:return Qn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new z;break}}while(o.available()>0);return Qn.ASCII_ENCODE}static decodeC40Segment(o,u){let h=!1;const g=[];let x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(x){case 0:if(N<3)x=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const M=this.C40_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):u.append(M)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const M=this.C40_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):u.append(M)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}x=0;break;case 3:h?(u.append(String.fromCharCode(N+224)),h=!1):u.append(String.fromCharCode(N+96)),x=0;break;default:throw new z}}}while(o.available()>0)}static decodeTextSegment(o,u){let h=!1,g=[],x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(x){case 0:if(N<3)x=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const M=this.TEXT_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):u.append(M)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const M=this.TEXT_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):u.append(M)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}x=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const M=this.TEXT_SHIFT3_SET_CHARS[N];h?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):u.append(M),x=0}else throw new z;break;default:throw new z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const h=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),h);for(let x=0;x<3;x++){const w=h[x];switch(w){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(w<14)u.append(String.fromCharCode(w+44));else if(w<40)u.append(String.fromCharCode(w+51));else throw new z;break}}}while(o.available()>0)}static parseTwoBytes(o,u,h){let g=(o<<8)+u-1,x=Math.floor(g/1600);h[0]=x,g-=x*1600,x=Math.floor(g/40),h[1]=x,h[2]=g-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let g=o.readBits(6);if(g===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(g&32)===0&&(g|=64),u.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,u,h){let g=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),g++);let w;if(x===0?w=o.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(o.readBits(8),g++),w<0)throw new z;const C=new Uint8Array(w);for(let N=0;N<w;N++){if(o.available()<8)throw new z;C[N]=this.unrandomize255State(o.readBits(8),g++)}h.push(C);try{u.append(ae.decode(C,ue.ISO88591))}catch(N){throw new Gi("Platform does not support required encoding: "+N.message)}}static unrandomize255State(o,u){const h=149*u%255+1,g=o-h;return g>=0?g:g+256}}sa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],sa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],sa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],sa.TEXT_SHIFT2_SET_CHARS=sa.C40_SHIFT2_SET_CHARS,sa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ru{constructor(){this.rsDecoder=new ms(Ot.DATA_MATRIX_FIELD_256)}decode(o){const u=new xs(o),h=u.getVersion(),g=u.readCodewords(),x=Fa.getDataBlocks(g,h);let w=0;for(let M of x)w+=M.getNumDataCodewords();const C=new Uint8Array(w),N=x.length;for(let M=0;M<N;M++){const F=x[M],$=F.getCodewords(),q=F.getNumDataCodewords();this.correctErrors($,q);for(let K=0;K<q;K++)C[K*N+M]=$[K]}return sa.decode(C)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new A}for(let g=0;g<u;g++)o[g]=h[g]}}class Pn{constructor(o){this.image=o,this.rectangleDetector=new Ve(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new te;u=this.shiftToModuleCenter(u);const h=u[0],g=u[1],x=u[2],w=u[3];let C=this.transitionsBetween(h,w)+1,N=this.transitionsBetween(x,w)+1;(C&1)===1&&(C+=1),(N&1)===1&&(N+=1),4*C<7*N&&4*N<7*C&&(C=N=Math.max(C,N));let M=Pn.sampleGrid(this.image,h,g,x,w,C,N);return new er(M,[h,g,x,w])}static shiftPoint(o,u,h){let g=(u.getX()-o.getX())/(h+1),x=(u.getY()-o.getY())/(h+1);return new We(o.getX()+g,o.getY()+x)}static moveAway(o,u,h){let g=o.getX(),x=o.getY();return g<u?g-=1:g+=1,x<h?x-=1:x+=1,new We(g,x)}detectSolid1(o){let u=o[0],h=o[1],g=o[3],x=o[2],w=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),N=this.transitionsBetween(g,x),M=this.transitionsBetween(x,u),F=w,$=[x,u,h,g];return F>C&&(F=C,$[0]=u,$[1]=h,$[2]=g,$[3]=x),F>N&&(F=N,$[0]=h,$[1]=g,$[2]=x,$[3]=u),F>M&&($[0]=g,$[1]=x,$[2]=u,$[3]=h),$}detectSolid2(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=Pn.shiftPoint(h,g,(w+1)*4),N=Pn.shiftPoint(g,h,(w+1)*4),M=this.transitionsBetween(C,u),F=this.transitionsBetween(N,x);return M<F?(o[0]=u,o[1]=h,o[2]=g,o[3]=x):(o[0]=h,o[1]=g,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=this.transitionsBetween(h,x),N=Pn.shiftPoint(u,h,(C+1)*4),M=Pn.shiftPoint(g,h,(w+1)*4);w=this.transitionsBetween(N,x),C=this.transitionsBetween(M,x);let F=new We(x.getX()+(g.getX()-h.getX())/(w+1),x.getY()+(g.getY()-h.getY())/(w+1)),$=new We(x.getX()+(u.getX()-h.getX())/(C+1),x.getY()+(u.getY()-h.getY())/(C+1));if(!this.isValid(F))return this.isValid($)?$:null;if(!this.isValid($))return F;let q=this.transitionsBetween(N,F)+this.transitionsBetween(M,F),K=this.transitionsBetween(N,$)+this.transitionsBetween(M,$);return q>K?F:$}shiftToModuleCenter(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x)+1,C=this.transitionsBetween(g,x)+1,N=Pn.shiftPoint(u,h,C*4),M=Pn.shiftPoint(g,h,w*4);w=this.transitionsBetween(N,x)+1,C=this.transitionsBetween(M,x)+1,(w&1)===1&&(w+=1),(C&1)===1&&(C+=1);let F=(u.getX()+h.getX()+g.getX()+x.getX())/4,$=(u.getY()+h.getY()+g.getY()+x.getY())/4;u=Pn.moveAway(u,F,$),h=Pn.moveAway(h,F,$),g=Pn.moveAway(g,F,$),x=Pn.moveAway(x,F,$);let q,K;return N=Pn.shiftPoint(u,h,C*4),N=Pn.shiftPoint(N,x,w*4),q=Pn.shiftPoint(h,u,C*4),q=Pn.shiftPoint(q,g,w*4),M=Pn.shiftPoint(g,x,C*4),M=Pn.shiftPoint(M,h,w*4),K=Pn.shiftPoint(x,g,C*4),K=Pn.shiftPoint(K,u,w*4),[N,q,M,K]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,h,g,x,w,C){return nn.getInstance().sampleGrid(o,w,C,.5,.5,w-.5,.5,w-.5,C-.5,.5,C-.5,u.getX(),u.getY(),x.getX(),x.getY(),g.getX(),g.getY(),h.getX(),h.getY())}transitionsBetween(o,u){let h=Math.trunc(o.getX()),g=Math.trunc(o.getY()),x=Math.trunc(u.getX()),w=Math.trunc(u.getY()),C=Math.abs(w-g)>Math.abs(x-h);if(C){let re=h;h=g,g=re,re=x,x=w,w=re}let N=Math.abs(x-h),M=Math.abs(w-g),F=-N/2,$=g<w?1:-1,q=h<x?1:-1,K=0,ee=this.image.get(C?g:h,C?h:g);for(let re=h,de=g;re!==x;re+=q){let be=this.image.get(C?de:re,C?re:de);if(be!==ee&&(K++,ee=be),F+=M,F>0){if(de===w)break;de+=$,F-=N}}return K}}class Xr{constructor(){this.decoder=new ru}decode(o,u=null){let h,g;if(u!=null&&u.has(L.PURE_BARCODE)){const M=Xr.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(M),g=Xr.NO_POINTS}else{const M=new Pn(o.getBlackMatrix()).detect();h=this.decoder.decode(M.getBits()),g=M.getPoints()}const x=h.getRawBytes(),w=new He(h.getText(),x,8*x.length,g,Ae.DATA_MATRIX,O.currentTimeMillis()),C=h.getByteSegments();C!=null&&w.putMetadata(gt.BYTE_SEGMENTS,C);const N=h.getECLevel();return N!=null&&w.putMetadata(gt.ERROR_CORRECTION_LEVEL,N),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u==null||h==null)throw new te;const g=this.moduleSize(u,o);let x=u[1];const w=h[1];let C=u[0];const M=(h[0]-C+1)/g,F=(w-x+1)/g;if(M<=0||F<=0)throw new te;const $=g/2;x+=$,C+=$;const q=new Se(M,F);for(let K=0;K<F;K++){const ee=x+K*g;for(let re=0;re<M;re++)o.get(C+re*g,ee)&&q.set(re,K)}return q}static moduleSize(o,u){const h=u.getWidth();let g=o[0];const x=o[1];for(;g<h&&u.get(g,x);)g++;if(g===h)throw new te;const w=g-o[0];if(w===0)throw new te;return w}}Xr.NO_POINTS=[];class T0 extends Re{constructor(o=500){super(new Xr,o)}}var Ei;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(Ei||(Ei={}));class hn{constructor(o,u,h){this.value=o,this.stringValue=u,this.bits=h,hn.FOR_BITS.set(h,this),hn.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return hn.L;case"M":return hn.M;case"Q":return hn.Q;case"H":return hn.H;default:throw new y(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof hn))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=hn.FOR_BITS.size)throw new _;return hn.FOR_BITS.get(o)}}hn.FOR_BITS=new Map,hn.FOR_VALUE=new Map,hn.L=new hn(Ei.L,"L",1),hn.M=new hn(Ei.M,"M",0),hn.Q=new hn(Ei.Q,"Q",3),hn.H=new hn(Ei.H,"H",2);class Ai{constructor(o){this.errorCorrectionLevel=hn.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return j.bitCount(o^u)}static decodeFormatInformation(o,u){const h=Ai.doDecodeFormatInformation(o,u);return h!==null?h:Ai.doDecodeFormatInformation(o^Ai.FORMAT_INFO_MASK_QR,u^Ai.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let h=Number.MAX_SAFE_INTEGER,g=0;for(const x of Ai.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===o||w===u)return new Ai(x[1]);let C=Ai.numBitsDiffering(o,w);C<h&&(g=x[1],h=C),o!==u&&(C=Ai.numBitsDiffering(u,w),C<h&&(g=x[1],h=C))}return h<=3?new Ai(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Ai))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Ai.FORMAT_INFO_MASK_QR=21522,Ai.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class he{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const h of u)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Y{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(o,u,...h){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=h;let g=0;const x=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const C of w)g+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new z}}static getVersionForNumber(o){if(o<1||o>40)throw new _;return st.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,h=0;for(let g=0;g<st.VERSION_DECODE_INFO.length;g++){const x=st.VERSION_DECODE_INFO[g];if(x===o)return st.getVersionForNumber(g+7);const w=Ai.numBitsDiffering(o,x);w<u&&(h=g+7,u=w)}return u<=3?st.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Se(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let g=0;g<h;g++){const x=this.alignmentPatternCenters[g]-2;for(let w=0;w<h;w++)g===0&&(w===0||w===h-1)||g===h-1&&w===0||u.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}st.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),st.VERSIONS=[new st(1,new Int32Array(0),new he(7,new Y(1,19)),new he(10,new Y(1,16)),new he(13,new Y(1,13)),new he(17,new Y(1,9))),new st(2,Int32Array.from([6,18]),new he(10,new Y(1,34)),new he(16,new Y(1,28)),new he(22,new Y(1,22)),new he(28,new Y(1,16))),new st(3,Int32Array.from([6,22]),new he(15,new Y(1,55)),new he(26,new Y(1,44)),new he(18,new Y(2,17)),new he(22,new Y(2,13))),new st(4,Int32Array.from([6,26]),new he(20,new Y(1,80)),new he(18,new Y(2,32)),new he(26,new Y(2,24)),new he(16,new Y(4,9))),new st(5,Int32Array.from([6,30]),new he(26,new Y(1,108)),new he(24,new Y(2,43)),new he(18,new Y(2,15),new Y(2,16)),new he(22,new Y(2,11),new Y(2,12))),new st(6,Int32Array.from([6,34]),new he(18,new Y(2,68)),new he(16,new Y(4,27)),new he(24,new Y(4,19)),new he(28,new Y(4,15))),new st(7,Int32Array.from([6,22,38]),new he(20,new Y(2,78)),new he(18,new Y(4,31)),new he(18,new Y(2,14),new Y(4,15)),new he(26,new Y(4,13),new Y(1,14))),new st(8,Int32Array.from([6,24,42]),new he(24,new Y(2,97)),new he(22,new Y(2,38),new Y(2,39)),new he(22,new Y(4,18),new Y(2,19)),new he(26,new Y(4,14),new Y(2,15))),new st(9,Int32Array.from([6,26,46]),new he(30,new Y(2,116)),new he(22,new Y(3,36),new Y(2,37)),new he(20,new Y(4,16),new Y(4,17)),new he(24,new Y(4,12),new Y(4,13))),new st(10,Int32Array.from([6,28,50]),new he(18,new Y(2,68),new Y(2,69)),new he(26,new Y(4,43),new Y(1,44)),new he(24,new Y(6,19),new Y(2,20)),new he(28,new Y(6,15),new Y(2,16))),new st(11,Int32Array.from([6,30,54]),new he(20,new Y(4,81)),new he(30,new Y(1,50),new Y(4,51)),new he(28,new Y(4,22),new Y(4,23)),new he(24,new Y(3,12),new Y(8,13))),new st(12,Int32Array.from([6,32,58]),new he(24,new Y(2,92),new Y(2,93)),new he(22,new Y(6,36),new Y(2,37)),new he(26,new Y(4,20),new Y(6,21)),new he(28,new Y(7,14),new Y(4,15))),new st(13,Int32Array.from([6,34,62]),new he(26,new Y(4,107)),new he(22,new Y(8,37),new Y(1,38)),new he(24,new Y(8,20),new Y(4,21)),new he(22,new Y(12,11),new Y(4,12))),new st(14,Int32Array.from([6,26,46,66]),new he(30,new Y(3,115),new Y(1,116)),new he(24,new Y(4,40),new Y(5,41)),new he(20,new Y(11,16),new Y(5,17)),new he(24,new Y(11,12),new Y(5,13))),new st(15,Int32Array.from([6,26,48,70]),new he(22,new Y(5,87),new Y(1,88)),new he(24,new Y(5,41),new Y(5,42)),new he(30,new Y(5,24),new Y(7,25)),new he(24,new Y(11,12),new Y(7,13))),new st(16,Int32Array.from([6,26,50,74]),new he(24,new Y(5,98),new Y(1,99)),new he(28,new Y(7,45),new Y(3,46)),new he(24,new Y(15,19),new Y(2,20)),new he(30,new Y(3,15),new Y(13,16))),new st(17,Int32Array.from([6,30,54,78]),new he(28,new Y(1,107),new Y(5,108)),new he(28,new Y(10,46),new Y(1,47)),new he(28,new Y(1,22),new Y(15,23)),new he(28,new Y(2,14),new Y(17,15))),new st(18,Int32Array.from([6,30,56,82]),new he(30,new Y(5,120),new Y(1,121)),new he(26,new Y(9,43),new Y(4,44)),new he(28,new Y(17,22),new Y(1,23)),new he(28,new Y(2,14),new Y(19,15))),new st(19,Int32Array.from([6,30,58,86]),new he(28,new Y(3,113),new Y(4,114)),new he(26,new Y(3,44),new Y(11,45)),new he(26,new Y(17,21),new Y(4,22)),new he(26,new Y(9,13),new Y(16,14))),new st(20,Int32Array.from([6,34,62,90]),new he(28,new Y(3,107),new Y(5,108)),new he(26,new Y(3,41),new Y(13,42)),new he(30,new Y(15,24),new Y(5,25)),new he(28,new Y(15,15),new Y(10,16))),new st(21,Int32Array.from([6,28,50,72,94]),new he(28,new Y(4,116),new Y(4,117)),new he(26,new Y(17,42)),new he(28,new Y(17,22),new Y(6,23)),new he(30,new Y(19,16),new Y(6,17))),new st(22,Int32Array.from([6,26,50,74,98]),new he(28,new Y(2,111),new Y(7,112)),new he(28,new Y(17,46)),new he(30,new Y(7,24),new Y(16,25)),new he(24,new Y(34,13))),new st(23,Int32Array.from([6,30,54,78,102]),new he(30,new Y(4,121),new Y(5,122)),new he(28,new Y(4,47),new Y(14,48)),new he(30,new Y(11,24),new Y(14,25)),new he(30,new Y(16,15),new Y(14,16))),new st(24,Int32Array.from([6,28,54,80,106]),new he(30,new Y(6,117),new Y(4,118)),new he(28,new Y(6,45),new Y(14,46)),new he(30,new Y(11,24),new Y(16,25)),new he(30,new Y(30,16),new Y(2,17))),new st(25,Int32Array.from([6,32,58,84,110]),new he(26,new Y(8,106),new Y(4,107)),new he(28,new Y(8,47),new Y(13,48)),new he(30,new Y(7,24),new Y(22,25)),new he(30,new Y(22,15),new Y(13,16))),new st(26,Int32Array.from([6,30,58,86,114]),new he(28,new Y(10,114),new Y(2,115)),new he(28,new Y(19,46),new Y(4,47)),new he(28,new Y(28,22),new Y(6,23)),new he(30,new Y(33,16),new Y(4,17))),new st(27,Int32Array.from([6,34,62,90,118]),new he(30,new Y(8,122),new Y(4,123)),new he(28,new Y(22,45),new Y(3,46)),new he(30,new Y(8,23),new Y(26,24)),new he(30,new Y(12,15),new Y(28,16))),new st(28,Int32Array.from([6,26,50,74,98,122]),new he(30,new Y(3,117),new Y(10,118)),new he(28,new Y(3,45),new Y(23,46)),new he(30,new Y(4,24),new Y(31,25)),new he(30,new Y(11,15),new Y(31,16))),new st(29,Int32Array.from([6,30,54,78,102,126]),new he(30,new Y(7,116),new Y(7,117)),new he(28,new Y(21,45),new Y(7,46)),new he(30,new Y(1,23),new Y(37,24)),new he(30,new Y(19,15),new Y(26,16))),new st(30,Int32Array.from([6,26,52,78,104,130]),new he(30,new Y(5,115),new Y(10,116)),new he(28,new Y(19,47),new Y(10,48)),new he(30,new Y(15,24),new Y(25,25)),new he(30,new Y(23,15),new Y(25,16))),new st(31,Int32Array.from([6,30,56,82,108,134]),new he(30,new Y(13,115),new Y(3,116)),new he(28,new Y(2,46),new Y(29,47)),new he(30,new Y(42,24),new Y(1,25)),new he(30,new Y(23,15),new Y(28,16))),new st(32,Int32Array.from([6,34,60,86,112,138]),new he(30,new Y(17,115)),new he(28,new Y(10,46),new Y(23,47)),new he(30,new Y(10,24),new Y(35,25)),new he(30,new Y(19,15),new Y(35,16))),new st(33,Int32Array.from([6,30,58,86,114,142]),new he(30,new Y(17,115),new Y(1,116)),new he(28,new Y(14,46),new Y(21,47)),new he(30,new Y(29,24),new Y(19,25)),new he(30,new Y(11,15),new Y(46,16))),new st(34,Int32Array.from([6,34,62,90,118,146]),new he(30,new Y(13,115),new Y(6,116)),new he(28,new Y(14,46),new Y(23,47)),new he(30,new Y(44,24),new Y(7,25)),new he(30,new Y(59,16),new Y(1,17))),new st(35,Int32Array.from([6,30,54,78,102,126,150]),new he(30,new Y(12,121),new Y(7,122)),new he(28,new Y(12,47),new Y(26,48)),new he(30,new Y(39,24),new Y(14,25)),new he(30,new Y(22,15),new Y(41,16))),new st(36,Int32Array.from([6,24,50,76,102,128,154]),new he(30,new Y(6,121),new Y(14,122)),new he(28,new Y(6,47),new Y(34,48)),new he(30,new Y(46,24),new Y(10,25)),new he(30,new Y(2,15),new Y(64,16))),new st(37,Int32Array.from([6,28,54,80,106,132,158]),new he(30,new Y(17,122),new Y(4,123)),new he(28,new Y(29,46),new Y(14,47)),new he(30,new Y(49,24),new Y(10,25)),new he(30,new Y(24,15),new Y(46,16))),new st(38,Int32Array.from([6,32,58,84,110,136,162]),new he(30,new Y(4,122),new Y(18,123)),new he(28,new Y(13,46),new Y(32,47)),new he(30,new Y(48,24),new Y(14,25)),new he(30,new Y(42,15),new Y(32,16))),new st(39,Int32Array.from([6,26,54,82,110,138,166]),new he(30,new Y(20,117),new Y(4,118)),new he(28,new Y(40,47),new Y(7,48)),new he(30,new Y(43,24),new Y(22,25)),new he(30,new Y(10,15),new Y(67,16))),new st(40,Int32Array.from([6,30,58,86,114,142,170]),new he(30,new Y(19,118),new Y(6,119)),new he(28,new Y(18,47),new Y(31,48)),new he(30,new Y(34,24),new Y(34,25)),new he(30,new Y(20,15),new Y(61,16)))];var li;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(li||(li={}));class Ti{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let h=0;h<u;h++)for(let g=0;g<u;g++)this.isMasked(h,g)&&o.flip(g,h)}}Ti.values=new Map([[li.DATA_MASK_000,new Ti(li.DATA_MASK_000,(U,o)=>(U+o&1)===0)],[li.DATA_MASK_001,new Ti(li.DATA_MASK_001,(U,o)=>(U&1)===0)],[li.DATA_MASK_010,new Ti(li.DATA_MASK_010,(U,o)=>o%3===0)],[li.DATA_MASK_011,new Ti(li.DATA_MASK_011,(U,o)=>(U+o)%3===0)],[li.DATA_MASK_100,new Ti(li.DATA_MASK_100,(U,o)=>(Math.floor(U/2)+Math.floor(o/3)&1)===0)],[li.DATA_MASK_101,new Ti(li.DATA_MASK_101,(U,o)=>U*o%6===0)],[li.DATA_MASK_110,new Ti(li.DATA_MASK_110,(U,o)=>U*o%6<3)],[li.DATA_MASK_111,new Ti(li.DATA_MASK_111,(U,o)=>(U+o+U*o%3&1)===0)]]);class N0{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new z;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let h=0;const g=u-7;for(let x=u-1;x>=g;x--)h=this.copyBit(8,x,h);for(let x=u-8;x<u;x++)h=this.copyBit(x,8,h);if(this.parsedFormatInfo=Ai.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return st.getVersionForNumber(u);let h=0;const g=o-11;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)h=this.copyBit(C,w,h);let x=st.decodeVersionInformation(h);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;h=0;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)h=this.copyBit(w,C,h);if(x=st.decodeVersionInformation(h),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new z}copyBit(o,u,h){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),h=Ti.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,g);const x=u.buildFunctionPattern();let w=!0;const C=new Uint8Array(u.getTotalCodewords());let N=0,M=0,F=0;for(let $=g-1;$>0;$-=2){$===6&&$--;for(let q=0;q<g;q++){const K=w?g-1-q:q;for(let ee=0;ee<2;ee++)x.get($-ee,K)||(F++,M<<=1,this.bitMatrix.get($-ee,K)&&(M|=1),F===8&&(C[N++]=M,F=0,M=0))}w=!w}if(N!==u.getTotalCodewords())throw new z;return C}remask(){if(this.parsedFormatInfo===null)return;const o=Ti.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,h=o.getWidth();u<h;u++)for(let g=u+1,x=o.getHeight();g<x;g++)o.get(u,g)!==o.get(g,u)&&(o.flip(g,u),o.flip(u,g))}}class su{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,h){if(o.length!==u.getTotalCodewords())throw new _;const g=u.getECBlocksForLevel(h);let x=0;const w=g.getECBlocks();for(const ee of w)x+=ee.getCount();const C=new Array(x);let N=0;for(const ee of w)for(let re=0;re<ee.getCount();re++){const de=ee.getDataCodewords(),be=g.getECCodewordsPerBlock()+de;C[N++]=new su(de,new Uint8Array(be))}const M=C[0].codewords.length;let F=C.length-1;for(;F>=0&&C[F].codewords.length!==M;)F--;F++;const $=M-g.getECCodewordsPerBlock();let q=0;for(let ee=0;ee<$;ee++)for(let re=0;re<N;re++)C[re].codewords[ee]=o[q++];for(let ee=F;ee<N;ee++)C[ee].codewords[$]=o[q++];const K=C[0].codewords.length;for(let ee=$;ee<K;ee++)for(let re=0;re<N;re++){const de=re<F?ee:ee+1;C[re].codewords[de]=o[q++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var mr;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(mr||(mr={}));class lt{constructor(o,u,h,g){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=g,lt.FOR_BITS.set(g,this),lt.FOR_VALUE.set(o,this)}static forBits(o){const u=lt.FOR_BITS.get(o);if(u===void 0)throw new _;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof lt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.TERMINATOR=new lt(mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),lt.NUMERIC=new lt(mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),lt.ALPHANUMERIC=new lt(mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),lt.STRUCTURED_APPEND=new lt(mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),lt.BYTE=new lt(mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),lt.ECI=new lt(mr.ECI,"ECI",Int32Array.from([0,0,0]),7),lt.KANJI=new lt(mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),lt.FNC1_FIRST_POSITION=new lt(mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),lt.FNC1_SECOND_POSITION=new lt(mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),lt.HANZI=new lt(mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dn{static decode(o,u,h,g){const x=new Bi(o);let w=new Ie;const C=new Array;let N=-1,M=-1;try{let F=null,$=!1,q;do{if(x.available()<4)q=lt.TERMINATOR;else{const K=x.readBits(4);q=lt.forBits(K)}switch(q){case lt.TERMINATOR:break;case lt.FNC1_FIRST_POSITION:case lt.FNC1_SECOND_POSITION:$=!0;break;case lt.STRUCTURED_APPEND:if(x.available()<16)throw new z;N=x.readBits(8),M=x.readBits(8);break;case lt.ECI:const K=Dn.parseECIValue(x);if(F=X.getCharacterSetECIByValue(K),F===null)throw new z;break;case lt.HANZI:const ee=x.readBits(4),re=x.readBits(q.getCharacterCountBits(u));ee===Dn.GB2312_SUBSET&&Dn.decodeHanziSegment(x,w,re);break;default:const de=x.readBits(q.getCharacterCountBits(u));switch(q){case lt.NUMERIC:Dn.decodeNumericSegment(x,w,de);break;case lt.ALPHANUMERIC:Dn.decodeAlphanumericSegment(x,w,de,$);break;case lt.BYTE:Dn.decodeByteSegment(x,w,de,F,C,g);break;case lt.KANJI:Dn.decodeKanjiSegment(x,w,de);break;default:throw new z}break}}while(q!==lt.TERMINATOR)}catch{throw new z}return new ai(o,w.toString(),C.length===0?null:C,h===null?null:h.toString(),N,M)}static decodeHanziSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let x=0;for(;h>0;){const w=o.readBits(13);let C=w/96<<8&4294967295|w%96;C<959?C+=41377:C+=42657,g[x]=C>>8&255,g[x+1]=C&255,x+=2,h--}try{u.append(ae.decode(g,ue.GB2312))}catch(w){throw new z(w)}}static decodeKanjiSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let x=0;for(;h>0;){const w=o.readBits(13);let C=w/192<<8&4294967295|w%192;C<7936?C+=33088:C+=49472,g[x]=C>>8,g[x+1]=C,x+=2,h--}try{u.append(ae.decode(g,ue.SHIFT_JIS))}catch(w){throw new z(w)}}static decodeByteSegment(o,u,h,g,x,w){if(8*h>o.available())throw new z;const C=new Uint8Array(h);for(let M=0;M<h;M++)C[M]=o.readBits(8);let N;g===null?N=ue.guessEncoding(C,w):N=g.getName();try{u.append(ae.decode(C,N))}catch(M){throw new z(M)}x.push(C)}static toAlphaNumericChar(o){if(o>=Dn.ALPHANUMERIC_CHARS.length)throw new z;return Dn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,h,g){const x=u.length();for(;h>1;){if(o.available()<11)throw new z;const w=o.readBits(11);u.append(Dn.toAlphaNumericChar(Math.floor(w/45))),u.append(Dn.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(o.available()<6)throw new z;u.append(Dn.toAlphaNumericChar(o.readBits(6)))}if(g)for(let w=x;w<u.length();w++)u.charAt(w)==="%"&&(w<u.length()-1&&u.charAt(w+1)==="%"?u.deleteCharAt(w+1):u.setCharAt(w,""))}static decodeNumericSegment(o,u,h){for(;h>=3;){if(o.available()<10)throw new z;const g=o.readBits(10);if(g>=1e3)throw new z;u.append(Dn.toAlphaNumericChar(Math.floor(g/100))),u.append(Dn.toAlphaNumericChar(Math.floor(g/10)%10)),u.append(Dn.toAlphaNumericChar(g%10)),h-=3}if(h===2){if(o.available()<7)throw new z;const g=o.readBits(7);if(g>=100)throw new z;u.append(Dn.toAlphaNumericChar(Math.floor(g/10))),u.append(Dn.toAlphaNumericChar(g%10))}else if(h===1){if(o.available()<4)throw new z;const g=o.readBits(4);if(g>=10)throw new z;u.append(Dn.toAlphaNumericChar(g))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const h=o.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=o.readBits(16);return(u&31)<<16&4294967295|h}throw new z}}Dn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dn.GB2312_SUBSET=1;class Lh{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class au{constructor(){this.rsDecoder=new ms(Ot.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Se.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const h=new N0(o);let g=null;try{return this.decodeBitMatrixParser(h,u)}catch(x){g=x}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const x=this.decodeBitMatrixParser(h,u);return x.setOther(new Lh(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(o,u){const h=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),w=su.getDataBlocks(x,h,g);let C=0;for(const F of w)C+=F.getNumDataCodewords();const N=new Uint8Array(C);let M=0;for(const F of w){const $=F.getCodewords(),q=F.getNumDataCodewords();this.correctErrors($,q);for(let K=0;K<q;K++)N[M++]=$[K]}return Dn.decode(N,h,g,u)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new A}for(let g=0;g<u;g++)o[g]=h[g]}}class Zl extends We{constructor(o,u,h){super(o,u),this.estimatedModuleSize=h}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=(this.getX()+u)/2,x=(this.getY()+o)/2,w=(this.estimatedModuleSize+h)/2;return new Zl(g,x,w)}}class Lo{constructor(o,u,h,g,x,w,C){this.image=o,this.startX=u,this.startY=h,this.width=g,this.height=x,this.moduleSize=w,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,h=this.width,g=o+h,x=this.startY+u/2,w=new Int32Array(3),C=this.image;for(let N=0;N<u;N++){const M=x+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));w[0]=0,w[1]=0,w[2]=0;let F=o;for(;F<g&&!C.get(F,M);)F++;let $=0;for(;F<g;){if(C.get(F,M))if($===1)w[1]++;else if($===2){if(this.foundPatternCross(w)){const q=this.handlePossibleCenter(w,M,F);if(q!==null)return q}w[0]=w[2],w[1]=1,w[2]=0,$=1}else w[++$]++;else $===1&&$++,w[$]++;F++}if(this.foundPatternCross(w)){const q=this.handlePossibleCenter(w,M,g);if(q!==null)return q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,h=u/2;for(let g=0;g<3;g++)if(Math.abs(u-o[g])>=h)return!1;return!0}crossCheckVertical(o,u,h,g){const x=this.image,w=x.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let N=o;for(;N>=0&&x.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&!x.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(u,N)&&C[1]<=h;)C[1]++,N++;if(N===w||C[1]>h)return NaN;for(;N<w&&!x.get(u,N)&&C[2]<=h;)C[2]++,N++;if(C[2]>h)return NaN;const M=C[0]+C[1]+C[2];return 5*Math.abs(M-g)>=2*g?NaN:this.foundPatternCross(C)?Lo.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h){const g=o[0]+o[1]+o[2],x=Lo.centerFromEnd(o,h),w=this.crossCheckVertical(u,x,2*o[1],g);if(!isNaN(w)){const C=(o[0]+o[1]+o[2])/3;for(const M of this.possibleCenters)if(M.aboutEquals(C,w,x))return M.combineEstimate(w,x,C);const N=new Zl(x,w,C);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class aa extends We{constructor(o,u,h,g){super(o,u),this.estimatedModuleSize=h,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=this.count+1,x=(this.count*this.getX()+u)/g,w=(this.count*this.getY()+o)/g,C=(this.count*this.estimatedModuleSize+h)/g;return new aa(x,w,C,g)}}class jo{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ci{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(L.TRY_HARDER)!==void 0,h=o!=null&&o.get(L.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),w=g.getWidth();let C=Math.floor(3*x/(4*ci.MAX_MODULES));(C<ci.MIN_SKIP||u)&&(C=ci.MIN_SKIP);let N=!1;const M=new Int32Array(5);for(let $=C-1;$<x&&!N;$+=C){M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0;let q=0;for(let K=0;K<w;K++)if(g.get(K,$))(q&1)===1&&q++,M[q]++;else if((q&1)===0)if(q===4)if(ci.foundPatternCross(M)){if(this.handlePossibleCenter(M,$,K,h)===!0)if(C=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>M[2]&&($+=re-M[2]-C,K=w-1)}else{M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,q=3;continue}q=0,M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0}else M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,q=3;else M[++q]++;else M[q]++;ci.foundPatternCross(M)&&this.handlePossibleCenter(M,$,w,h)===!0&&(C=M[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const F=this.selectBestPatterns();return We.orderBestPatterns(F),new jo(F)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const w=o[x];if(w===0)return!1;u+=w}if(u<7)return!1;const h=u/7,g=h/2;return Math.abs(h-o[0])<g&&Math.abs(h-o[1])<g&&Math.abs(3*h-o[2])<3*g&&Math.abs(h-o[3])<g&&Math.abs(h-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,h,g){const x=this.getCrossCheckStateCount();let w=0;const C=this.image;for(;o>=w&&u>=w&&C.get(u-w,o-w);)x[2]++,w++;if(o<w||u<w)return!1;for(;o>=w&&u>=w&&!C.get(u-w,o-w)&&x[1]<=h;)x[1]++,w++;if(o<w||u<w||x[1]>h)return!1;for(;o>=w&&u>=w&&C.get(u-w,o-w)&&x[0]<=h;)x[0]++,w++;if(x[0]>h)return!1;const N=C.getHeight(),M=C.getWidth();for(w=1;o+w<N&&u+w<M&&C.get(u+w,o+w);)x[2]++,w++;if(o+w>=N||u+w>=M)return!1;for(;o+w<N&&u+w<M&&!C.get(u+w,o+w)&&x[3]<h;)x[3]++,w++;if(o+w>=N||u+w>=M||x[3]>=h)return!1;for(;o+w<N&&u+w<M&&C.get(u+w,o+w)&&x[4]<h;)x[4]++,w++;if(x[4]>=h)return!1;const F=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(F-g)<2*g&&ci.foundPatternCross(x)}crossCheckVertical(o,u,h,g){const x=this.image,w=x.getHeight(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(u,N);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&x.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(u,N);)C[2]++,N++;if(N===w)return NaN;for(;N<w&&!x.get(u,N)&&C[3]<h;)C[3]++,N++;if(N===w||C[3]>=h)return NaN;for(;N<w&&x.get(u,N)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-g)>=2*g?NaN:ci.foundPatternCross(C)?ci.centerFromEnd(C,N):NaN}crossCheckHorizontal(o,u,h,g){const x=this.image,w=x.getWidth(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(N,u);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(N,u)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&x.get(N,u)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(N,u);)C[2]++,N++;if(N===w)return NaN;for(;N<w&&!x.get(N,u)&&C[3]<h;)C[3]++,N++;if(N===w||C[3]>=h)return NaN;for(;N<w&&x.get(N,u)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-g)>=g?NaN:ci.foundPatternCross(C)?ci.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h,g){const x=o[0]+o[1]+o[2]+o[3]+o[4];let w=ci.centerFromEnd(o,h),C=this.crossCheckVertical(u,Math.floor(w),o[2],x);if(!isNaN(C)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(C),o[2],x),!isNaN(w)&&(!g||this.crossCheckDiagonal(Math.floor(C),Math.floor(w),o[2],x)))){const N=x/7;let M=!1;const F=this.possibleCenters;for(let $=0,q=F.length;$<q;$++){const K=F[$];if(K.aboutEquals(N,C,w)){F[$]=K.combineEstimate(C,w,N),M=!0;break}}if(!M){const $=new aa(w,C,N);F.push($),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint($)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=ci.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=ci.CENTER_QUORUM&&(o++,u+=w.getEstimatedModuleSize());if(o<3)return!1;const g=u/h;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-g);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new te;const u=this.possibleCenters;let h;if(o>3){let g=0,x=0;for(const N of this.possibleCenters){const M=N.getEstimatedModuleSize();g+=M,x+=M*M}h=g/o;let w=Math.sqrt(x/o-h*h);u.sort((N,M)=>{const F=Math.abs(M.getEstimatedModuleSize()-h),$=Math.abs(N.getEstimatedModuleSize()-h);return F<$?-1:F>$?1:0});const C=Math.max(.2*h,w);for(let N=0;N<u.length&&u.length>3;N++){const M=u[N];Math.abs(M.getEstimatedModuleSize()-h)>C&&(u.splice(N,1),N--)}}if(u.length>3){let g=0;for(const x of u)g+=x.getEstimatedModuleSize();h=g/u.length,u.sort((x,w)=>{if(w.getCount()===x.getCount()){const C=Math.abs(w.getEstimatedModuleSize()-h),N=Math.abs(x.getEstimatedModuleSize()-h);return C<N?1:C>N?-1:0}else return w.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}ci.CENTER_QUORUM=2,ci.MIN_SKIP=3,ci.MAX_MODULES=57;class za{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(L.NEED_RESULT_POINT_CALLBACK);const h=new ci(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const u=o.getTopLeft(),h=o.getTopRight(),g=o.getBottomLeft(),x=this.calculateModuleSize(u,h,g);if(x<1)throw new te("No pattern found in proccess finder.");const w=za.computeDimension(u,h,g,x),C=st.getProvisionalVersionForDimension(w),N=C.getDimensionForVersion()-7;let M=null;if(C.getAlignmentPatternCenters().length>0){const K=h.getX()-u.getX()+g.getX(),ee=h.getY()-u.getY()+g.getY(),re=1-3/N,de=Math.floor(u.getX()+re*(K-u.getX())),be=Math.floor(u.getY()+re*(ee-u.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{M=this.findAlignmentInRegion(x,de,be,Pe);break}catch(ze){if(!(ze instanceof te))throw ze}}const F=za.createTransform(u,h,g,M,w),$=za.sampleGrid(this.image,F,w);let q;return M===null?q=[g,u,h]:q=[g,u,h,M],new er($,q)}static createTransform(o,u,h,g,x){const w=x-3.5;let C,N,M,F;return g!==null?(C=g.getX(),N=g.getY(),M=w-3,F=M):(C=u.getX()-o.getX()+h.getX(),N=u.getY()-o.getY()+h.getY(),M=w,F=w),vt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,M,F,3.5,w,o.getX(),o.getY(),u.getX(),u.getY(),C,N,h.getX(),h.getY())}static sampleGrid(o,u,h){return nn.getInstance().sampleGridWithTransform(o,h,h,u)}static computeDimension(o,u,h,g){const x=At.round(We.distance(o,u)/g),w=At.round(We.distance(o,h)/g);let C=Math.floor((x+w)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new te("Dimensions could be not found.")}return C}calculateModuleSize(o,u,h){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?g/7:isNaN(g)?h/7:(h+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,h,g){let x=this.sizeOfBlackWhiteBlackRun(o,u,h,g),w=1,C=o-(h-o);C<0?(w=o/(o-C),C=0):C>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let N=Math.floor(u-(g-u)*w);return w=1,N<0?(w=u/(u-N),N=0):N>=this.image.getHeight()&&(w=(this.image.getHeight()-1-u)/(N-u),N=this.image.getHeight()-1),C=Math.floor(o+(C-o)*w),x+=this.sizeOfBlackWhiteBlackRun(o,u,C,N),x-1}sizeOfBlackWhiteBlackRun(o,u,h,g){const x=Math.abs(g-u)>Math.abs(h-o);if(x){let K=o;o=u,u=K,K=h,h=g,g=K}const w=Math.abs(h-o),C=Math.abs(g-u);let N=-w/2;const M=o<h?1:-1,F=u<g?1:-1;let $=0;const q=h+M;for(let K=o,ee=u;K!==q;K+=M){const re=x?ee:K,de=x?K:ee;if($===1===this.image.get(re,de)){if($===2)return At.distance(K,ee,o,u);$++}if(N+=C,N>0){if(ee===g)break;ee+=F,N-=w}}return $===2?At.distance(h+M,g,o,u):NaN}findAlignmentInRegion(o,u,h,g){const x=Math.floor(g*o),w=Math.max(0,u-x),C=Math.min(this.image.getWidth()-1,u+x);if(C-w<o*3)throw new te("Alignment top exceeds estimated module size.");const N=Math.max(0,h-x),M=Math.min(this.image.getHeight()-1,h+x);if(M-N<o*3)throw new te("Alignment bottom exceeds estimated module size.");return new Lo(this.image,w,N,C-w,M-N,o,this.resultPointCallback).find()}}class Us{constructor(){this.decoder=new au}getDecoder(){return this.decoder}decode(o,u){let h,g;if(u!=null&&u.get(L.PURE_BARCODE)!==void 0){const N=Us.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(N,u),g=Us.NO_POINTS}else{const N=new za(o.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(N.getBits(),u),g=N.getPoints()}h.getOther()instanceof Lh&&h.getOther().applyMirroredCorrection(g);const x=new He(h.getText(),h.getRawBytes(),void 0,g,Ae.QR_CODE,void 0),w=h.getByteSegments();w!==null&&x.putMetadata(gt.BYTE_SEGMENTS,w);const C=h.getECLevel();return C!==null&&x.putMetadata(gt.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(x.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),x.putMetadata(gt.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u===null||h===null)throw new te;const g=this.moduleSize(u,o);let x=u[1],w=h[1],C=u[0],N=h[0];if(C>=N||x>=w)throw new te;if(w-x!==N-C&&(N=C+(w-x),N>=o.getWidth()))throw new te;const M=Math.round((N-C+1)/g),F=Math.round((w-x+1)/g);if(M<=0||F<=0)throw new te;if(F!==M)throw new te;const $=Math.floor(g/2);x+=$,C+=$;const q=C+Math.floor((M-1)*g)-N;if(q>0){if(q>$)throw new te;C-=q}const K=x+Math.floor((F-1)*g)-w;if(K>0){if(K>$)throw new te;x-=K}const ee=new Se(M,F);for(let re=0;re<F;re++){const de=x+Math.floor(re*g);for(let be=0;be<M;be++)o.get(C+Math.floor(be*g),de)&&ee.set(be,re)}return ee}static moduleSize(o,u){const h=u.getHeight(),g=u.getWidth();let x=o[0],w=o[1],C=!0,N=0;for(;x<g&&w<h;){if(C!==u.get(x,w)){if(++N===5)break;C=!C}x++,w++}if(x===g||w===h)throw new te;return(x-o[0])/7}}Us.NO_POINTS=new Array;class dt{PDF417Common(){}static getBitCountSum(o){return At.sum(o)}static toIntArray(o){if(o==null||!o.length)return dt.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let h=0;for(const g of o)u[h++]=g;return u}static getCodeword(o){const u=G.binarySearch(dt.SYMBOL_TABLE,o&262143);return u<0?-1:(dt.CODEWORD_TABLE[u]-1)%dt.NUMBER_OF_CODEWORDS}}dt.NUMBER_OF_CODEWORDS=929,dt.MAX_CODEWORDS_IN_BARCODE=dt.NUMBER_OF_CODEWORDS-1,dt.MIN_ROWS_IN_BARCODE=3,dt.MAX_ROWS_IN_BARCODE=90,dt.MODULES_IN_CODEWORD=17,dt.MODULES_IN_STOP_PATTERN=18,dt.BARS_IN_MODULE=8,dt.EMPTY_INT_ARRAY=new Int32Array([]),dt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),dt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $s{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class St{static detectMultiple(o,u,h){let g=o.getBlackMatrix(),x=St.detect(h,g);return x.length||(g=g.clone(),g.rotate180(),x=St.detect(h,g)),new $s(g,x)}static detect(o,u){const h=new Array;let g=0,x=0,w=!1;for(;g<u.getHeight();){const C=St.findVertices(u,g,x);if(C[0]==null&&C[3]==null){if(!w)break;w=!1,x=0;for(const N of h)N[1]!=null&&(g=Math.trunc(Math.max(g,N[1].getY()))),N[3]!=null&&(g=Math.max(g,Math.trunc(N[3].getY())));g+=St.ROW_STEP;continue}if(w=!0,h.push(C),!o)break;C[2]!=null?(x=Math.trunc(C[2].getX()),g=Math.trunc(C[2].getY())):(x=Math.trunc(C[4].getX()),g=Math.trunc(C[4].getY()))}return h}static findVertices(o,u,h){const g=o.getHeight(),x=o.getWidth(),w=new Array(8);return St.copyToResult(w,St.findRowsWithPattern(o,g,x,u,h,St.START_PATTERN),St.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),u=Math.trunc(w[4].getY())),St.copyToResult(w,St.findRowsWithPattern(o,g,x,u,h,St.STOP_PATTERN),St.INDEXES_STOP_PATTERN),w}static copyToResult(o,u,h){for(let g=0;g<h.length;g++)o[h[g]]=u[g]}static findRowsWithPattern(o,u,h,g,x,w){const C=new Array(4);let N=!1;const M=new Int32Array(w.length);for(;g<u;g+=St.ROW_STEP){let $=St.findGuardPattern(o,x,g,h,!1,w,M);if($!=null){for(;g>0;){const q=St.findGuardPattern(o,x,--g,h,!1,w,M);if(q!=null)$=q;else{g++;break}}C[0]=new We($[0],g),C[1]=new We($[1],g),N=!0;break}}let F=g+1;if(N){let $=0,q=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;F<u;F++){const K=St.findGuardPattern(o,q[0],F,h,!1,w,M);if(K!=null&&Math.abs(q[0]-K[0])<St.MAX_PATTERN_DRIFT&&Math.abs(q[1]-K[1])<St.MAX_PATTERN_DRIFT)q=K,$=0;else{if($>St.SKIPPED_ROW_COUNT_MAX)break;$++}}F-=$+1,C[2]=new We(q[0],F),C[3]=new We(q[1],F)}return F-g<St.BARCODE_MIN_HEIGHT&&G.fill(C,null),C}static findGuardPattern(o,u,h,g,x,w,C){G.fillWithin(C,0,C.length,0);let N=u,M=0;for(;o.get(N,h)&&N>0&&M++<St.MAX_PIXEL_DRIFT;)N--;let F=N,$=0,q=w.length;for(let K=x;F<g;F++)if(o.get(F,h)!==K)C[$]++;else{if($===q-1){if(St.patternMatchVariance(C,w,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return new Int32Array([N,F]);N+=C[0]+C[1],O.arraycopy(C,2,C,0,$-1),C[$-1]=0,C[$]=0,$--}else $++;C[$]=1,K=!K}return $===q-1&&St.patternMatchVariance(C,w,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE?new Int32Array([N,F-1]):null}static patternMatchVariance(o,u,h){let g=o.length,x=0,w=0;for(let M=0;M<g;M++)x+=o[M],w+=u[M];if(x<w)return 1/0;let C=x/w;h*=C;let N=0;for(let M=0;M<g;M++){let F=o[M],$=u[M]*C,q=F>$?F-$:$-F;if(q>h)return 1/0;N+=q}return N/x}}St.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),St.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),St.MAX_AVG_VARIANCE=.42,St.MAX_INDIVIDUAL_VARIANCE=.8,St.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),St.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),St.MAX_PIXEL_DRIFT=3,St.MAX_PATTERN_DRIFT=5,St.SKIPPED_ROW_COUNT_MAX=25,St.ROW_STEP=5,St.BARCODE_MIN_HEIGHT=10;class Vn{constructor(o,u){if(u.length===0)throw new _;this.field=o;let h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-g),O.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let u=this.coefficients[0],h=this.coefficients.length;for(let g=1;g<h;g++)u=this.field.add(this.field.multiply(o,u),this.coefficients[g]);return u}add(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){let w=u;u=h,h=w}let g=new Int32Array(h.length),x=h.length-u.length;O.arraycopy(h,0,g,0,x);for(let w=x;w<h.length;w++)g[w]=this.field.add(u[w-x],h[w]);return new Vn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Vn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Vn(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,g=o.coefficients,x=g.length,w=new Int32Array(h+x-1);for(let C=0;C<h;C++){let N=u[C];for(let M=0;M<x;M++)w[C+M]=this.field.add(w[C+M],this.field.multiply(N,g[M]))}return new Vn(this.field,w)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new Vn(this.field,u)}multiplyScalar(o){if(o===0)return new Vn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],o);return new Vn(this.field,h)}multiplyByMonomial(o,u){if(o<0)throw new _;if(u===0)return new Vn(this.field,new Int32Array([0]));let h=this.coefficients.length,g=new Int32Array(h+o);for(let x=0;x<h;x++)g[x]=this.field.multiply(this.coefficients[x],u);return new Vn(this.field,g)}toString(){let o=new Ie;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(u===0||h!==1)&&o.append(h),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class oa{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}inverse(o){if(o===0)throw new Di;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Ql extends oa{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let g=0;g<o;g++)this.expTable[g]=h,h=h*u%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Vn(this,new Int32Array([0])),this.one=new Vn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new _;if(u===0)return this.zero;let h=new Int32Array(o+1);return h[0]=u,new Vn(this,h)}}Ql.PDF417_GF=new Ql(dt.NUMBER_OF_CODEWORDS,3);class Jl{constructor(){this.field=Ql.PDF417_GF}decode(o,u,h){let g=new Vn(this.field,o),x=new Int32Array(u),w=!1;for(let ee=u;ee>0;ee--){let re=g.evaluateAt(this.field.exp(ee));x[u-ee]=re,re!==0&&(w=!0)}if(!w)return 0;let C=this.field.getOne();if(h!=null)for(const ee of h){let re=this.field.exp(o.length-1-ee),de=new Vn(this.field,new Int32Array([this.field.subtract(0,re),1]));C=C.multiply(de)}let N=new Vn(this.field,x),M=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),N,u),F=M[0],$=M[1],q=this.findErrorLocations(F),K=this.findErrorMagnitudes($,F,q);for(let ee=0;ee<q.length;ee++){let re=o.length-1-this.field.log(q[ee]);if(re<0)throw A.getChecksumInstance();o[re]=this.field.subtract(o[re],K[ee])}return q.length}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){let q=o;o=u,u=q}let g=o,x=u,w=this.field.getZero(),C=this.field.getOne();for(;x.getDegree()>=Math.round(h/2);){let q=g,K=w;if(g=x,w=C,g.isZero())throw A.getChecksumInstance();x=q;let ee=this.field.getZero(),re=g.getCoefficient(g.getDegree()),de=this.field.inverse(re);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let be=x.getDegree()-g.getDegree(),Pe=this.field.multiply(x.getCoefficient(x.getDegree()),de);ee=ee.add(this.field.buildMonomial(be,Pe)),x=x.subtract(g.multiplyByMonomial(be,Pe))}C=ee.multiply(w).subtract(K).negative()}let N=C.getCoefficient(0);if(N===0)throw A.getChecksumInstance();let M=this.field.inverse(N),F=C.multiply(M),$=x.multiply(M);return[F,$]}findErrorLocations(o){let u=o.getDegree(),h=new Int32Array(u),g=0;for(let x=1;x<this.field.getSize()&&g<u;x++)o.evaluateAt(x)===0&&(h[g]=this.field.inverse(x),g++);if(g!==u)throw A.getChecksumInstance();return h}findErrorMagnitudes(o,u,h){let g=u.getDegree(),x=new Int32Array(g);for(let M=1;M<=g;M++)x[g-M]=this.field.multiply(M,u.getCoefficient(M));let w=new Vn(this.field,x),C=h.length,N=new Int32Array(C);for(let M=0;M<C;M++){let F=this.field.inverse(h[M]),$=this.field.subtract(0,o.evaluateAt(F)),q=this.field.inverse(w.evaluateAt(F));N[M]=this.field.multiply($,q)}return N}}class la{constructor(o,u,h,g,x){o instanceof la?this.constructor_2(o):this.constructor_1(o,u,h,g,x)}constructor_1(o,u,h,g,x){const w=u==null||h==null,C=g==null||x==null;if(w&&C)throw new te;w?(u=new We(0,g.getY()),h=new We(0,x.getY())):C&&(g=new We(o.getWidth()-1,u.getY()),x=new We(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=u,this.bottomLeft=h,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),g.getY())),this.maxY=Math.trunc(Math.max(h.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new la(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,h){let g=this.topLeft,x=this.bottomLeft,w=this.topRight,C=this.bottomRight;if(o>0){let N=h?this.topLeft:this.topRight,M=Math.trunc(N.getY()-o);M<0&&(M=0);let F=new We(N.getX(),M);h?g=F:w=F}if(u>0){let N=h?this.bottomLeft:this.bottomRight,M=Math.trunc(N.getY()+u);M>=this.image.getHeight()&&(M=this.image.getHeight()-1);let F=new We(N.getX(),M);h?x=F:C=F}return new la(this.image,g,x,w,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ou{constructor(o,u,h,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ca{constructor(){this.buffer=""}static form(o,u){let h=-1;function g(w,C,N,M,F,$){if(w==="%%")return"%";if(u[++h]===void 0)return;w=M?parseInt(M.substr(1)):void 0;let q=F?parseInt(F.substr(1)):void 0,K;switch($){case"s":K=u[h];break;case"c":K=u[h][0];break;case"f":K=parseFloat(u[h]).toFixed(w);break;case"p":K=parseFloat(u[h]).toPrecision(w);break;case"e":K=parseFloat(u[h]).toExponential(w);break;case"x":K=parseInt(u[h]).toString(q||16);break;case"d":K=parseFloat(parseInt(u[h],q||10).toPrecision(w)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(q);let ee=parseInt(N),re=N&&N[0]+""=="0"?"0":" ";for(;K.length<ee;)K=C!==void 0?K+re:re+K;return K}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}format(o,...u){this.buffer+=ca.form(o,u)}toString(){return this.buffer}}class Po{constructor(o){this.boundingBox=new la(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let h=1;h<Po.MAX_NEARBY_DISTANCE;h++){let g=this.imageRowToCodewordIndex(o)-h;if(g>=0&&(u=this.codewords[g],u!=null)||(g=this.imageRowToCodewordIndex(o)+h,g<this.codewords.length&&(u=this.codewords[g],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new ca;let u=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return o.toString()}}Po.MAX_NEARBY_DISTANCE=5;class xi{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[h,g]of this.values.entries()){const x={getKey:()=>h,getValue:()=>g};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return dt.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class ua extends Po{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let h=this.getBoundingBox(),g=this._isLeft?h.getTopLeft():h.getTopRight(),x=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.imageRowToCodewordIndex(Math.trunc(x.getY())),N=-1,M=1,F=0;for(let $=w;$<C;$++){if(u[$]==null)continue;let q=u[$],K=q.getRowNumber()-N;if(K===0)F++;else if(K===1)M=Math.max(M,F),F=1,N=q.getRowNumber();else if(K<0||q.getRowNumber()>=o.getRowCount()||K>$)u[$]=null;else{let ee;M>2?ee=(M-2)*K:ee=K;let re=ee>=$;for(let de=1;de<=ee&&!re;de++)re=u[$-de]!=null;re?u[$]=null:(N=q.getRowNumber(),F=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=u.length)continue;u[g]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.getCodewords(),N=-1;for(let M=x;M<w;M++){if(C[M]==null)continue;let F=C[M];F.setRowNumberAsRowIndicatorColumn();let $=F.getRowNumber()-N;$===0||($===1?N=F.getRowNumber():F.getRowNumber()>=o.getRowCount()?C[M]=null:N=F.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new xi,h=new xi,g=new xi,x=new xi;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let N=C.getValue()%30,M=C.getRowNumber();switch(this._isLeft||(M+=2),M%3){case 0:h.setValue(N*3+1);break;case 1:x.setValue(N/3),g.setValue(N%3);break;case 2:u.setValue(N+1);break}}if(u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+g.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+g.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;let w=new ou(u.getValue()[0],h.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,u){for(let h=0;h<o.length;h++){let g=o[h];if(o[h]==null)continue;let x=g.getValue()%30,w=g.getRowNumber();if(w>u.getRowCount()){o[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[h]=null);break;case 2:x+1!==u.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class da{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=dt.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let g=0;g<h.length;g++)h[g]!=null&&(h[g].hasValidRowNumber()||this.adjustRowNumbers(u,g,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&u[h]!=null&&o[h].getRowNumber()===u[h].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[h];x!=null&&(x.setRowNumber(o[h].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(x=da.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(x=da.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,h){if(!this.detectionResultColumns[o-1])return;let g=h[u],x=this.detectionResultColumns[o-1].getCodewords(),w=x;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=x[u],C[3]=w[u],u>0&&(C[0]=h[u-1],C[4]=x[u-1],C[5]=w[u-1]),u>1&&(C[8]=h[u-2],C[10]=x[u-2],C[11]=w[u-2]),u<h.length-1&&(C[1]=h[u+1],C[6]=x[u+1],C[7]=w[u+1]),u<h.length-2&&(C[9]=h[u+2],C[12]=x[u+2],C[13]=w[u+2]);for(let N of C)if(da.adjustRowNumber(g,N))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new ca;for(let h=0;h<o.getCodewords().length;h++){u.format("CW %3d:",h);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[h];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class Vs{constructor(o,u,h,g){this.rowNumber=Vs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Vs.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Vs.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let o=0;o<dt.SYMBOL_TABLE.length;o++){let u=dt.SYMBOL_TABLE[o],h=u&1;for(let g=0;g<dt.BARS_IN_MODULE;g++){let x=0;for(;(u&1)===h;)x+=1,u>>=1;h=u&1,tr.RATIOS_TABLE[o]||(tr.RATIOS_TABLE[o]=new Array(dt.BARS_IN_MODULE)),tr.RATIOS_TABLE[o][dt.BARS_IN_MODULE-g-1]=Math.fround(x/dt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=tr.getDecodedCodewordValue(tr.sampleBitCounts(o));return u!==-1?u:tr.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=At.sum(o),h=new Int32Array(dt.BARS_IN_MODULE),g=0,x=0;for(let w=0;w<dt.MODULES_IN_CODEWORD;w++){let C=u/(2*dt.MODULES_IN_CODEWORD)+w*u/dt.MODULES_IN_CODEWORD;x+o[g]<=C&&(x+=o[g],g++),h[g]++}return h}static getDecodedCodewordValue(o){let u=tr.getBitValue(o);return dt.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let h=0;h<o.length;h++)for(let g=0;g<o[h];g++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=At.sum(o),h=new Array(dt.BARS_IN_MODULE);if(u>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(o[w]/u);let g=kr.MAX_VALUE,x=-1;this.bSymbolTableReady||tr.initialize();for(let w=0;w<tr.RATIOS_TABLE.length;w++){let C=0,N=tr.RATIOS_TABLE[w];for(let M=0;M<dt.BARS_IN_MODULE;M++){let F=Math.fround(N[M]-h[M]);if(C+=Math.fround(F*F),C>=g)break}C<g&&(g=C,x=dt.SYMBOL_TABLE[w])}return x}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(U=>new Array(dt.BARS_IN_MODULE));class lu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class cu{static parseLong(o,u=void 0){return parseInt(o,u)}}class Fo extends p{}Fo.kind="NullPointerException";class uu{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,h){if(o==null)throw new Fo;if(u<0||u>o.length||h<0||u+h>o.length||u+h<0)throw new R;if(h===0)return;for(let g=0;g<h;g++)this.write(o[u+g])}flush(){}close(){}}class jh extends p{}class I0 extends uu{constructor(o=32){if(super(),this.count=0,o<0)throw new _("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new jh;h=j.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,h){if(u<0||u>o.length||h<0||u+h-o.length>0)throw new R;this.ensureCapacity(this.count+h),O.arraycopy(o,u,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pn;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pn||(pn={}));function Ph(){if(typeof window<"u")return window.BigInt||null;if(typeof Up<"u")return Up.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zo;function fa(U){if(typeof zo>"u"&&(zo=Ph()),zo===null)throw new Error("BigInt is not supported!");return zo(U)}function k0(){let U=[];U[0]=fa(1);let o=fa(900);U[1]=o;for(let u=2;u<16;u++)U[u]=U[u-1]*o;return U}class we{static decode(o,u){let h=new Ie(""),g=X.ISO8859_1;h.enableDecoding(g);let x=1,w=o[x++],C=new lu;for(;x<o[0];){switch(w){case we.TEXT_COMPACTION_MODE_LATCH:x=we.textCompaction(o,x,h);break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:x=we.byteCompaction(w,o,g,x,h);break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x++]);break;case we.NUMERIC_COMPACTION_MODE_LATCH:x=we.numericCompaction(o,x,h);break;case we.ECI_CHARSET:X.getCharacterSetECIByValue(o[x++]);break;case we.ECI_GENERAL_PURPOSE:x+=2;break;case we.ECI_USER_DEFINED:x++;break;case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=we.decodeMacroBlock(o,x,C);break;case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:throw new z;default:x--,x=we.textCompaction(o,x,h);break}if(x<o.length)w=o[x++];else throw z.getFormatInstance()}if(h.length()===0)throw z.getFormatInstance();let N=new ai(null,h.toString(),null,u);return N.setOther(C),N}static decodeMacroBlock(o,u,h){if(u+we.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw z.getFormatInstance();let g=new Int32Array(we.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<we.NUMBER_OF_SEQUENCE_CODEWORDS;C++,u++)g[C]=o[u];h.setSegmentIndex(j.parseInt(we.decodeBase900toBase10(g,we.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Ie;u=we.textCompaction(o,u,x),h.setFileId(x.toString());let w=-1;for(o[u]===we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=u+1);u<o[0];)switch(o[u]){case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new Ie;u=we.textCompaction(o,u+1,C),h.setFileName(C.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Ie;u=we.textCompaction(o,u+1,N),h.setSender(N.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let M=new Ie;u=we.textCompaction(o,u+1,M),h.setAddressee(M.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let F=new Ie;u=we.numericCompaction(o,u+1,F),h.setSegmentCount(j.parseInt(F.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let $=new Ie;u=we.numericCompaction(o,u+1,$),h.setTimestamp(cu.parseLong($.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let q=new Ie;u=we.numericCompaction(o,u+1,q),h.setChecksum(j.parseInt(q.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let K=new Ie;u=we.numericCompaction(o,u+1,K),h.setFileSize(cu.parseLong(K.toString()));break;default:throw z.getFormatInstance()}break;case we.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(w!==-1){let C=u-w;h.isLastSegment()&&C--,h.setOptionalData(G.copyOfRange(o,w,w+C))}return u}static textCompaction(o,u,h){let g=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),w=0,C=!1;for(;u<o[0]&&!C;){let N=o[u++];if(N<we.TEXT_COMPACTION_MODE_LATCH)g[w]=N/30,g[w+1]=N%30,w+=2;else switch(N){case we.TEXT_COMPACTION_MODE_LATCH:g[w++]=we.TEXT_COMPACTION_MODE_LATCH;break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,C=!0;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[w]=we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=o[u++],x[w]=N,w++;break}}return we.decodeTextCompaction(g,x,w,h),u}static decodeTextCompaction(o,u,h,g){let x=pn.ALPHA,w=pn.ALPHA,C=0;for(;C<h;){let N=o[C],M="";switch(x){case pn.ALPHA:if(N<26)M=String.fromCharCode(65+N);else switch(N){case 26:M=" ";break;case we.LL:x=pn.LOWER;break;case we.ML:x=pn.MIXED;break;case we.PS:w=x,x=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break;case pn.LOWER:if(N<26)M=String.fromCharCode(97+N);else switch(N){case 26:M=" ";break;case we.AS:w=x,x=pn.ALPHA_SHIFT;break;case we.ML:x=pn.MIXED;break;case we.PS:w=x,x=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break;case pn.MIXED:if(N<we.PL)M=we.MIXED_CHARS[N];else switch(N){case we.PL:x=pn.PUNCT;break;case 26:M=" ";break;case we.LL:x=pn.LOWER;break;case we.AL:x=pn.ALPHA;break;case we.PS:w=x,x=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break;case pn.PUNCT:if(N<we.PAL)M=we.PUNCT_CHARS[N];else switch(N){case we.PAL:x=pn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break;case pn.ALPHA_SHIFT:if(x=w,N<26)M=String.fromCharCode(65+N);else switch(N){case 26:M=" ";break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break;case pn.PUNCT_SHIFT:if(x=w,N<we.PAL)M=we.PUNCT_CHARS[N];else switch(N){case we.PAL:x=pn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=pn.ALPHA;break}break}M!==""&&g.append(M),C++}}static byteCompaction(o,u,h,g,x){let w=new I0,C=0,N=0,M=!1;switch(o){case we.BYTE_COMPACTION_MODE_LATCH:let F=new Int32Array(6),$=u[g++];for(;g<u[0]&&!M;)switch(F[C++]=$,N=900*N+$,$=u[g++],$){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,M=!0;break;default:if(C%5===0&&C>0){for(let q=0;q<6;++q)w.write(Number(fa(N)>>fa(8*(5-q))));N=0,C=0}break}g===u[0]&&$<we.TEXT_COMPACTION_MODE_LATCH&&(F[C++]=$);for(let q=0;q<C;q++)w.write(F[q]);break;case we.BYTE_COMPACTION_MODE_LATCH_6:for(;g<u[0]&&!M;){let q=u[g++];if(q<we.TEXT_COMPACTION_MODE_LATCH)C++,N=900*N+q;else switch(q){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,M=!0;break}if(C%5===0&&C>0){for(let K=0;K<6;++K)w.write(Number(fa(N)>>fa(8*(5-K))));N=0,C=0}}break}return x.append(ae.decode(w.toByteArray(),h)),g}static numericCompaction(o,u,h){let g=0,x=!1,w=new Int32Array(we.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let C=o[u++];if(u===o[0]&&(x=!0),C<we.TEXT_COMPACTION_MODE_LATCH)w[g]=C,g++;else switch(C){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(g%we.MAX_NUMERIC_CODEWORDS===0||C===we.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(h.append(we.decodeBase900toBase10(w,g)),g=0)}return u}static decodeBase900toBase10(o,u){let h=fa(0);for(let x=0;x<u;x++)h+=we.EXP900[u-x-1]*fa(o[x]);let g=h.toString();if(g.charAt(0)!=="1")throw new z;return g.substring(1)}}we.TEXT_COMPACTION_MODE_LATCH=900,we.BYTE_COMPACTION_MODE_LATCH=901,we.NUMERIC_COMPACTION_MODE_LATCH=902,we.BYTE_COMPACTION_MODE_LATCH_6=924,we.ECI_USER_DEFINED=925,we.ECI_GENERAL_PURPOSE=926,we.ECI_CHARSET=927,we.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,we.MACRO_PDF417_TERMINATOR=922,we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,we.MAX_NUMERIC_CODEWORDS=15,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,we.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,we.PL=25,we.LL=27,we.AS=27,we.ML=28,we.AL=28,we.PS=29,we.PAL=29,we.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,we.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",we.EXP900=Ph()?k0():[],we.NUMBER_OF_SEQUENCE_CODEWORDS=2;class kt{constructor(){}static decode(o,u,h,g,x,w,C){let N=new la(o,u,h,g,x),M=null,F=null,$;for(let ee=!0;;ee=!1){if(u!=null&&(M=kt.getRowIndicatorColumn(o,N,u,!0,w,C)),g!=null&&(F=kt.getRowIndicatorColumn(o,N,g,!1,w,C)),$=kt.merge(M,F),$==null)throw te.getNotFoundInstance();let re=$.getBoundingBox();if(ee&&re!=null&&(re.getMinY()<N.getMinY()||re.getMaxY()>N.getMaxY()))N=re;else break}$.setBoundingBox(N);let q=$.getBarcodeColumnCount()+1;$.setDetectionResultColumn(0,M),$.setDetectionResultColumn(q,F);let K=M!=null;for(let ee=1;ee<=q;ee++){let re=K?ee:q-ee;if($.getDetectionResultColumn(re)!==void 0)continue;let de;re===0||re===q?de=new ua(N,re===0):de=new Po(N),$.setDetectionResultColumn(re,de);let be=-1,Pe=be;for(let ze=N.getMinY();ze<=N.getMaxY();ze++){if(be=kt.getStartColumn($,re,ze,K),be<0||be>N.getMaxX()){if(Pe===-1)continue;be=Pe}let Le=kt.detectCodeword(o,N.getMinX(),N.getMaxX(),K,be,ze,w,C);Le!=null&&(de.setCodeword(ze,Le),Pe=be,w=Math.min(w,Le.getWidth()),C=Math.max(C,Le.getWidth()))}}return kt.createDecoderResult($)}static merge(o,u){if(o==null&&u==null)return null;let h=kt.getBarcodeMetadata(o,u);if(h==null)return null;let g=la.merge(kt.adjustBoundingBox(o),kt.adjustBoundingBox(u));return new da(h,g)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let h=kt.getMax(u),g=0;for(let C of u)if(g+=h-C,C>0)break;let x=o.getCodewords();for(let C=0;g>0&&x[C]==null;C++)g--;let w=0;for(let C=u.length-1;C>=0&&(w+=h-u[C],!(u[C]>0));C--);for(let C=x.length-1;w>0&&x[C]==null;C--)w--;return o.getBoundingBox().addMissingRows(g,w,o.isLeft())}static getMax(o){let u=-1;for(let h of o)u=Math.max(u,h);return u}static getBarcodeMetadata(o,u){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let g;return u==null||(g=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==g.getColumnCount()&&h.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&h.getRowCount()!==g.getRowCount()?null:h}static getRowIndicatorColumn(o,u,h,g,x,w){let C=new ua(u,g);for(let N=0;N<2;N++){let M=N===0?1:-1,F=Math.trunc(Math.trunc(h.getX()));for(let $=Math.trunc(Math.trunc(h.getY()));$<=u.getMaxY()&&$>=u.getMinY();$+=M){let q=kt.detectCodeword(o,0,o.getWidth(),g,F,$,x,w);q!=null&&(C.setCodeword($,q),g?F=q.getStartX():F=q.getEndX())}}return C}static adjustCodewordCount(o,u){let h=u[0][1],g=h.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-kt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(x<1||x>dt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();h.setValue(x)}else g[0]!==x&&h.setValue(x)}static createDecoderResult(o){let u=kt.createBarcodeMatrix(o);kt.adjustCodewordCount(o,u);let h=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],w=new Array;for(let N=0;N<o.getBarcodeRowCount();N++)for(let M=0;M<o.getBarcodeColumnCount();M++){let F=u[N][M+1].getValue(),$=N*o.getBarcodeColumnCount()+M;F.length===0?h.push($):F.length===1?g[$]=F[0]:(w.push($),x.push(F))}let C=new Array(x.length);for(let N=0;N<C.length;N++)C[N]=x[N];return kt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,dt.toIntArray(h),dt.toIntArray(w),C)}static createDecoderResultFromAmbiguousValues(o,u,h,g,x){let w=new Int32Array(g.length),C=100;for(;C-- >0;){for(let N=0;N<w.length;N++)u[g[N]]=x[N][w[N]];try{return kt.decodeCodewords(u,o,h)}catch(N){if(!(N instanceof A))throw N}if(w.length===0)throw A.getChecksumInstance();for(let N=0;N<w.length;N++)if(w[N]<x[N].length-1){w[N]++;break}else if(w[N]=0,N===w.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<u.length;g++)for(let x=0;x<u[g].length;x++)u[g][x]=new xi;let h=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=u.length)continue;u[w][h].setValue(x.getValue())}}}h++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,h,g){let x=g?1:-1,w=null;if(kt.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodeword(h)),w!=null)return g?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(u).getCodewordNearby(h),w!=null)return g?w.getStartX():w.getEndX();if(kt.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodewordNearby(h)),w!=null)return g?w.getEndX():w.getStartX();let C=0;for(;kt.isValidBarcodeColumn(o,u-x);){u-=x;for(let N of o.getDetectionResultColumn(u).getCodewords())if(N!=null)return(g?N.getEndX():N.getStartX())+x*C*(N.getEndX()-N.getStartX());C++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,h,g,x,w,C,N){x=kt.adjustCodewordStartColumn(o,u,h,g,x,w);let M=kt.getModuleBitCount(o,u,h,g,x,w);if(M==null)return null;let F,$=At.sum(M);if(g)F=x+$;else{for(let ee=0;ee<M.length/2;ee++){let re=M[ee];M[ee]=M[M.length-1-ee],M[M.length-1-ee]=re}F=x,x=F-$}if(!kt.checkCodewordSkew($,C,N))return null;let q=tr.getDecodedValue(M),K=dt.getCodeword(q);return K===-1?null:new Vs(x,F,kt.getCodewordBucketNumber(q),K)}static getModuleBitCount(o,u,h,g,x,w){let C=x,N=new Int32Array(8),M=0,F=g?1:-1,$=g;for(;(g?C<h:C>=u)&&M<N.length;)o.get(C,w)===$?(N[M]++,C+=F):(M++,$=!$);return M===N.length||C===(g?h:u)&&M===N.length-1?N:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,h,g,x,w){let C=x,N=g?-1:1;for(let M=0;M<2;M++){for(;(g?C>=u:C<h)&&g===o.get(C,w);){if(Math.abs(x-C)>kt.CODEWORD_SKEW_SIZE)return x;C+=N}N=-N,g=!g}return C}static checkCodewordSkew(o,u,h){return u-kt.CODEWORD_SKEW_SIZE<=o&&o<=h+kt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,h){if(o.length===0)throw z.getFormatInstance();let g=1<<u+1,x=kt.correctErrors(o,h,g);kt.verifyCodewordCount(o,g);let w=we.decode(o,""+u);return w.setErrorsCorrected(x),w.setErasures(h.length),w}static correctErrors(o,u,h){if(u!=null&&u.length>h/2+kt.MAX_ERRORS||h<0||h>kt.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return kt.errorCorrection.decode(o,h,u)}static verifyCodewordCount(o,u){if(o.length<4)throw z.getFormatInstance();let h=o[0];if(h>o.length)throw z.getFormatInstance();if(h===0)if(u<o.length)o[0]=o.length-u;else throw z.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),h=0,g=u.length-1;for(;!((o&1)!==h&&(h=o&1,g--,g<0));)u[g]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return kt.getCodewordBucketNumber(kt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new ca;for(let h=0;h<o.length;h++){u.format("Row %2d: ",h);for(let g=0;g<o[h].length;g++){let x=o[h][g];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}kt.CODEWORD_SKEW_SIZE=2,kt.MAX_ERRORS=3,kt.MAX_EC_CODEWORDS=512,kt.errorCorrection=new Jl;class Ni{decode(o,u=null){let h=Ni.decode(o,u,!1);if(h==null||h.length===0||h[0]==null)throw te.getNotFoundInstance();return h[0]}decodeMultiple(o,u=null){try{return Ni.decode(o,u,!0)}catch(h){throw h instanceof z||h instanceof A?te.getNotFoundInstance():h}}static decode(o,u,h){const g=new Array,x=St.detectMultiple(o,u,h);for(const w of x.getPoints()){const C=kt.decode(x.getBits(),w[4],w[5],w[6],w[7],Ni.getMinCodewordWidth(w),Ni.getMaxCodewordWidth(w)),N=new He(C.getText(),C.getRawBytes(),void 0,w,Ae.PDF_417);N.putMetadata(gt.ERROR_CORRECTION_LEVEL,C.getECLevel());const M=C.getOther();M!=null&&N.putMetadata(gt.PDF417_EXTRA_METADATA,M),g.push(N)}return g.map(w=>w)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?j.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ni.getMaxWidth(o[0],o[4]),Ni.getMaxWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(Ni.getMaxWidth(o[1],o[5]),Ni.getMaxWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ni.getMinWidth(o[0],o[4]),Ni.getMinWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(Ni.getMinWidth(o[1],o[5]),Ni.getMinWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ec extends p{}ec.kind="ReaderException";class Fh{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!i(o)&&o.get(L.TRY_HARDER)===!0,h=i(o)?null:o.get(L.POSSIBLE_FORMATS),g=new Array;if(!i(h)){const x=h.some(w=>w===Ae.UPC_A||w===Ae.UPC_E||w===Ae.EAN_13||w===Ae.EAN_8||w===Ae.CODABAR||w===Ae.CODE_39||w===Ae.CODE_93||w===Ae.CODE_128||w===Ae.ITF||w===Ae.RSS_14||w===Ae.RSS_EXPANDED);x&&!u&&g.push(new $n(o,this.verbose)),h.includes(Ae.QR_CODE)&&g.push(new Us),h.includes(Ae.DATA_MATRIX)&&g.push(new Xr),h.includes(Ae.AZTEC)&&g.push(new Ci),h.includes(Ae.PDF_417)&&g.push(new Ni),x&&u&&g.push(new $n(o,this.verbose))}g.length===0&&(u||g.push(new $n(o,this.verbose)),g.push(new Us),g.push(new Xr),g.push(new Ci),g.push(new Ni),u&&g.push(new $n(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new ec("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(h){if(h instanceof ec)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class M0 extends Re{constructor(o=null,u=500){const h=new Fh;h.setHints(o),super(h,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class O0 extends Re{constructor(o=500){super(new Ni,o)}}class R0 extends Re{constructor(o=500){super(new Us,o)}}var tc;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(tc||(tc={}));var ui=tc;class Nd{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new cn(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let h=u[u.length-1];const g=this.field;for(let x=u.length;x<=o;x++){const w=h.multiply(new cn(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));u.push(w),h=w}}return u[o]}encode(o,u){if(u===0)throw new _("No error correction bytes");const h=o.length-u;if(h<=0)throw new _("No data bytes provided");const g=this.buildGenerator(u),x=new Int32Array(h);O.arraycopy(o,0,x,0,h);let w=new cn(this.field,x);w=w.multiplyByMonomial(u,1);const N=w.divide(g)[1].getCoefficients(),M=u-N.length;for(let F=0;F<M;F++)o[h+F]=0;O.arraycopy(N,0,o,h+M,N.length)}}class Fn{constructor(){}static applyMaskPenaltyRule1(o){return Fn.applyMaskPenaltyRule1Internal(o,!0)+Fn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x-1;w++){const C=h[w];for(let N=0;N<g-1;N++){const M=C[N];M===C[N+1]&&M===h[w+1][N]&&M===h[w+1][N+1]&&u++}}return Fn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x;w++)for(let C=0;C<g;C++){const N=h[w];C+6<g&&N[C]===1&&N[C+1]===0&&N[C+2]===1&&N[C+3]===1&&N[C+4]===1&&N[C+5]===0&&N[C+6]===1&&(Fn.isWhiteHorizontal(N,C-4,C)||Fn.isWhiteHorizontal(N,C+7,C+11))&&u++,w+6<x&&h[w][C]===1&&h[w+1][C]===0&&h[w+2][C]===1&&h[w+3][C]===1&&h[w+4][C]===1&&h[w+5][C]===0&&h[w+6][C]===1&&(Fn.isWhiteVertical(h,C,w-4,w)||Fn.isWhiteVertical(h,C,w+7,w+11))&&u++}return u*Fn.N3}static isWhiteHorizontal(o,u,h){u=Math.max(u,0),h=Math.min(h,o.length);for(let g=u;g<h;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,u,h,g){h=Math.max(h,0),g=Math.min(g,o.length);for(let x=h;x<g;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let N=0;N<x;N++){const M=h[N];for(let F=0;F<g;F++)M[F]===1&&u++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-w)*10/w)*Fn.N4}static getDataMaskBit(o,u,h){let g,x;switch(o){case 0:g=h+u&1;break;case 1:g=h&1;break;case 2:g=u%3;break;case 3:g=(h+u)%3;break;case 4:g=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:x=h*u,g=(x&1)+x%3;break;case 6:x=h*u,g=(x&1)+x%3&1;break;case 7:x=h*u,g=x%3+(h+u&1)&1;break;default:throw new _("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,u){let h=0;const g=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),w=o.getArray();for(let C=0;C<g;C++){let N=0,M=-1;for(let F=0;F<x;F++){const $=u?w[C][F]:w[F][C];$===M?N++:(N>=5&&(h+=Fn.N1+(N-5)),N=1,M=$)}N>=5&&(h+=Fn.N1+(N-5))}return h}}Fn.N1=3,Fn.N2=3,Fn.N3=40,Fn.N4=10;class nc{constructor(o,u){this.width=o,this.height=u;const h=new Array(u);for(let g=0;g!==u;g++)h[g]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,h){this.bytes[u][o]=h}setBoolean(o,u,h){this.bytes[u][o]=h?1:0}clear(o){for(const u of this.bytes)G.fill(u,o)}equals(o){if(!(o instanceof nc))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,g=this.height;h<g;++h){const x=this.bytes[h],w=u.bytes[h];for(let C=0,N=this.width;C<N;++C)if(x[C]!==w[C])return!1}return!0}toString(){const o=new Ie;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u];for(let x=0,w=this.width;x<w;++x)switch(g[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ha{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Ie;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ha.NUM_MASK_PATTERNS}}Ha.NUM_MASK_PATTERNS=8;class gn extends p{}gn.kind="WriterException";class pt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,h,g,x){pt.clearMatrix(x),pt.embedBasicPatterns(h,x),pt.embedTypeInfo(u,g,x),pt.maybeEmbedVersionInfo(h,x),pt.embedDataBits(o,g,x)}static embedBasicPatterns(o,u){pt.embedPositionDetectionPatternsAndSeparators(u),pt.embedDarkDotAtLeftBottomCorner(u),pt.maybeEmbedPositionAdjustmentPatterns(o,u),pt.embedTimingPatterns(u)}static embedTypeInfo(o,u,h){const g=new k;pt.makeTypeInfoBits(o,u,g);for(let x=0,w=g.getSize();x<w;++x){const C=g.get(g.getSize()-1-x),N=pt.TYPE_INFO_COORDINATES[x],M=N[0],F=N[1];if(h.setBoolean(M,F,C),x<8){const $=h.getWidth()-x-1;h.setBoolean($,8,C)}else{const q=h.getHeight()-7+(x-8);h.setBoolean(8,q,C)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const h=new k;pt.makeVersionInfoBits(o,h);let g=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const C=h.get(g);g--,u.setBoolean(x,u.getHeight()-11+w,C),u.setBoolean(u.getHeight()-11+w,x,C)}}static embedDataBits(o,u,h){let g=0,x=-1,w=h.getWidth()-1,C=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);C>=0&&C<h.getHeight();){for(let N=0;N<2;++N){const M=w-N;if(!pt.isEmpty(h.get(M,C)))continue;let F;g<o.getSize()?(F=o.get(g),++g):F=!1,u!==255&&Fn.getDataMaskBit(u,M,C)&&(F=!F),h.setBoolean(M,C,F)}C+=x}x=-x,C+=x,w-=2}if(g!==o.getSize())throw new gn("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-j.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new _("0 polynomial");const h=pt.findMSBSet(u);for(o<<=h-1;pt.findMSBSet(o)>=h;)o^=u<<pt.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,u,h){if(!Ha.isValidMaskPattern(u))throw new gn("Invalid mask pattern");const g=o.getBits()<<3|u;h.appendBits(g,5);const x=pt.calculateBCHCode(g,pt.TYPE_INFO_POLY);h.appendBits(x,10);const w=new k;if(w.appendBits(pt.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new gn("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const h=pt.calculateBCHCode(o.getVersionNumber(),pt.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new gn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const h=(u+1)%2;pt.isEmpty(o.get(u,6))&&o.setNumber(u,6,h),pt.isEmpty(o.get(6,u))&&o.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new gn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,h){for(let g=0;g<8;++g){if(!pt.isEmpty(h.get(o+g,u)))throw new gn;h.setNumber(o+g,u,0)}}static embedVerticalSeparationPattern(o,u,h){for(let g=0;g<7;++g){if(!pt.isEmpty(h.get(o,u+g)))throw new gn;h.setNumber(o,u+g,0)}}static embedPositionAdjustmentPattern(o,u,h){for(let g=0;g<5;++g){const x=pt.POSITION_ADJUSTMENT_PATTERN[g];for(let w=0;w<5;++w)h.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPattern(o,u,h){for(let g=0;g<7;++g){const x=pt.POSITION_DETECTION_PATTERN[g];for(let w=0;w<7;++w)h.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPatternsAndSeparators(o){const u=pt.POSITION_DETECTION_PATTERN[0].length;pt.embedPositionDetectionPattern(0,0,o),pt.embedPositionDetectionPattern(o.getWidth()-u,0,o),pt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const h=8;pt.embedHorizontalSeparationPattern(0,h-1,o),pt.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),pt.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const g=7;pt.embedVerticalSeparationPattern(g,0,o),pt.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),pt.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,g=pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let x=0,w=g.length;x!==w;x++){const C=g[x];if(C>=0)for(let N=0;N!==w;N++){const M=g[N];M>=0&&pt.isEmpty(u.get(M,C))&&pt.embedPositionAdjustmentPattern(M-2,C-2,u)}}}}pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pt.VERSION_INFO_POLY=7973,pt.TYPE_INFO_POLY=1335,pt.TYPE_INFO_MASK_PATTERN=21522;class D0{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nn{constructor(){}static calculateMaskPenalty(o){return Fn.applyMaskPenaltyRule1(o)+Fn.applyMaskPenaltyRule2(o)+Fn.applyMaskPenaltyRule3(o)+Fn.applyMaskPenaltyRule4(o)}static encode(o,u,h=null){let g=Nn.DEFAULT_BYTE_MODE_ENCODING;const x=h!==null&&h.get(ui.CHARACTER_SET)!==void 0;x&&(g=h.get(ui.CHARACTER_SET).toString());const w=this.chooseMode(o,g),C=new k;if(w===lt.BYTE&&(x||Nn.DEFAULT_BYTE_MODE_ENCODING!==g)){const ze=X.getCharacterSetECIByName(g);ze!==void 0&&this.appendECI(ze,C)}this.appendModeInfo(w,C);const N=new k;this.appendBytes(o,w,N,g);let M;if(h!==null&&h.get(ui.QR_VERSION)!==void 0){const ze=Number.parseInt(h.get(ui.QR_VERSION).toString(),10);M=st.getVersionForNumber(ze);const Le=this.calculateBitsNeeded(w,C,N,M);if(!this.willFit(Le,M,u))throw new gn("Data too big for requested version")}else M=this.recommendVersion(u,w,C,N);const F=new k;F.appendBitArray(C);const $=w===lt.BYTE?N.getSizeInBytes():o.length;this.appendLengthInfo($,M,w,F),F.appendBitArray(N);const q=M.getECBlocksForLevel(u),K=M.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(K,F);const ee=this.interleaveWithECBytes(F,M.getTotalCodewords(),K,q.getNumBlocks()),re=new Ha;re.setECLevel(u),re.setMode(w),re.setVersion(M);const de=M.getDimensionForVersion(),be=new nc(de,de),Pe=this.chooseMaskPattern(ee,u,M,be);return re.setMaskPattern(Pe),pt.buildMatrix(ee,u,M,Pe,be),re.setMatrix(be),re}static recommendVersion(o,u,h,g){const x=this.calculateBitsNeeded(u,h,g,st.getVersionForNumber(1)),w=this.chooseVersion(x,o),C=this.calculateBitsNeeded(u,h,g,w);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,u,h,g){return u.getSize()+o.getCharacterCountBits(g)+h.getSize()}static getAlphanumericCode(o){return o<Nn.ALPHANUMERIC_TABLE.length?Nn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(X.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return lt.KANJI;let h=!1,g=!1;for(let x=0,w=o.length;x<w;++x){const C=o.charAt(x);if(Nn.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)g=!0;else return lt.BYTE}return g?lt.ALPHANUMERIC:h?lt.NUMERIC:lt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=ae.encode(o,X.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let g=0;g<h;g+=2){const x=u[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,h,g){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let C=0;C<Ha.NUM_MASK_PATTERNS;C++){pt.buildMatrix(o,u,h,C,g);let N=this.calculateMaskPenalty(g);N<x&&(x=N,w=C)}return w}static chooseVersion(o,u){for(let h=1;h<=40;h++){const g=st.getVersionForNumber(h);if(Nn.willFit(o,g,u))return g}throw new gn("Data too big")}static willFit(o,u,h){const g=u.getTotalCodewords(),w=u.getECBlocksForLevel(h).getTotalECCodewords(),C=g-w,N=(o+7)/8;return C>=N}static terminateBits(o,u){const h=o*8;if(u.getSize()>h)throw new gn("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let w=0;w<4&&u.getSize()<h;++w)u.appendBit(!1);const g=u.getSize()&7;if(g>0)for(let w=g;w<8;w++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let w=0;w<x;++w)u.appendBits((w&1)===0?236:17,8);if(u.getSize()!==h)throw new gn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,h,g,x,w){if(g>=h)throw new gn("Block ID too large");const C=o%h,N=h-C,M=Math.floor(o/h),F=M+1,$=Math.floor(u/h),q=$+1,K=M-$,ee=F-q;if(K!==ee)throw new gn("EC bytes mismatch");if(h!==N+C)throw new gn("RS blocks mismatch");if(o!==($+K)*N+(q+ee)*C)throw new gn("Total bytes mismatch");g<N?(x[0]=$,w[0]=K):(x[0]=q,w[0]=ee)}static interleaveWithECBytes(o,u,h,g){if(o.getSizeInBytes()!==h)throw new gn("Number of bits and data bytes does not match");let x=0,w=0,C=0;const N=new Array;for(let F=0;F<g;++F){const $=new Int32Array(1),q=new Int32Array(1);Nn.getNumDataBytesAndNumECBytesForBlockID(u,h,g,F,$,q);const K=$[0],ee=new Uint8Array(K);o.toBytes(8*x,ee,0,K);const re=Nn.generateECBytes(ee,q[0]);N.push(new D0(ee,re)),w=Math.max(w,K),C=Math.max(C,re.length),x+=$[0]}if(h!==x)throw new gn("Data bytes does not match offset");const M=new k;for(let F=0;F<w;++F)for(const $ of N){const q=$.getDataBytes();F<q.length&&M.appendBits(q[F],8)}for(let F=0;F<C;++F)for(const $ of N){const q=$.getErrorCorrectionBytes();F<q.length&&M.appendBits(q[F],8)}if(u!==M.getSizeInBytes())throw new gn("Interleaving error: "+u+" and "+M.getSizeInBytes()+" differ.");return M}static generateECBytes(o,u){const h=o.length,g=new Int32Array(h+u);for(let w=0;w<h;w++)g[w]=o[w]&255;new Nd(Ot.QR_CODE_FIELD_256).encode(g,u);const x=new Uint8Array(u);for(let w=0;w<u;w++)x[w]=g[h+w];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,h,g){const x=h.getCharacterCountBits(u);if(o>=1<<x)throw new gn(o+" is bigger than "+((1<<x)-1));g.appendBits(o,x)}static appendBytes(o,u,h,g){switch(u){case lt.NUMERIC:Nn.appendNumericBytes(o,h);break;case lt.ALPHANUMERIC:Nn.appendAlphanumericBytes(o,h);break;case lt.BYTE:Nn.append8BitBytes(o,h,g);break;case lt.KANJI:Nn.appendKanjiBytes(o,h);break;default:throw new gn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=Nn.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const x=Nn.getDigit(o.charAt(g));if(g+2<h){const w=Nn.getDigit(o.charAt(g+1)),C=Nn.getDigit(o.charAt(g+2));u.appendBits(x*100+w*10+C,10),g+=3}else if(g+1<h){const w=Nn.getDigit(o.charAt(g+1));u.appendBits(x*10+w,7),g+=2}else u.appendBits(x,4),g++}}static appendAlphanumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const x=Nn.getAlphanumericCode(o.charCodeAt(g));if(x===-1)throw new gn;if(g+1<h){const w=Nn.getAlphanumericCode(o.charCodeAt(g+1));if(w===-1)throw new gn;u.appendBits(x*45+w,11),g+=2}else u.appendBits(x,6),g++}}static append8BitBytes(o,u,h){let g;try{g=ae.encode(o,h)}catch(x){throw new gn(x)}for(let x=0,w=g.length;x!==w;x++){const C=g[x];u.appendBits(C,8)}}static appendKanjiBytes(o,u){let h;try{h=ae.encode(o,X.SJIS)}catch(x){throw new gn(x)}const g=h.length;for(let x=0;x<g;x+=2){const w=h[x]&255,C=h[x+1]&255,N=w<<8&4294967295|C;let M=-1;if(N>=33088&&N<=40956?M=N-33088:N>=57408&&N<=60351&&(M=N-49472),M===-1)throw new gn("Invalid byte sequence");const F=(M>>8)*192+(M&255);u.appendBits(F,13)}}static appendECI(o,u){u.appendBits(lt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}Nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nn.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Ua{write(o,u,h,g=null){if(o.length===0)throw new _("Found empty contents");if(u<0||h<0)throw new _("Requested dimensions are too small: "+u+"x"+h);let x=hn.L,w=Ua.QUIET_ZONE_SIZE;g!==null&&(g.get(ui.ERROR_CORRECTION)!==void 0&&(x=hn.fromString(g.get(ui.ERROR_CORRECTION).toString())),g.get(ui.MARGIN)!==void 0&&(w=Number.parseInt(g.get(ui.MARGIN).toString(),10)));const C=Nn.encode(o,x,g);return this.renderResult(C,u,h,w)}writeToDom(o,u,h,g,x=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(u,h,g,x);o&&o.appendChild(w)}renderResult(o,u,h,g){const x=o.getMatrix();if(x===null)throw new Gi;const w=x.getWidth(),C=x.getHeight(),N=w+g*2,M=C+g*2,F=Math.max(u,N),$=Math.max(h,M),q=Math.min(Math.floor(F/N),Math.floor($/M)),K=Math.floor((F-w*q)/2),ee=Math.floor(($-C*q)/2),re=this.createSVGElement(F,$);for(let de=0,be=ee;de<C;de++,be+=q)for(let Pe=0,ze=K;Pe<w;Pe++,ze+=q)if(x.get(Pe,de)===1){const Le=this.createSvgRectElement(ze,be,q,q);re.appendChild(Le)}return re}createSVGElement(o,u){const h=document.createElementNS(Ua.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(o,u,h,g){const x=document.createElementNS(Ua.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",h.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ua.QUIET_ZONE_SIZE=4,Ua.SVG_NS="http://www.w3.org/2000/svg";class Ho{encode(o,u,h,g,x){if(o.length===0)throw new _("Found empty contents");if(u!==Ae.QR_CODE)throw new _("Can only encode QR_CODE, but got "+u);if(h<0||g<0)throw new _(`Requested dimensions are too small: ${h}x${g}`);let w=hn.L,C=Ho.QUIET_ZONE_SIZE;x!==null&&(x.get(ui.ERROR_CORRECTION)!==void 0&&(w=hn.fromString(x.get(ui.ERROR_CORRECTION).toString())),x.get(ui.MARGIN)!==void 0&&(C=Number.parseInt(x.get(ui.MARGIN).toString(),10)));const N=Nn.encode(o,w,x);return Ho.renderResult(N,h,g,C)}static renderResult(o,u,h,g){const x=o.getMatrix();if(x===null)throw new Gi;const w=x.getWidth(),C=x.getHeight(),N=w+g*2,M=C+g*2,F=Math.max(u,N),$=Math.max(h,M),q=Math.min(Math.floor(F/N),Math.floor($/M)),K=Math.floor((F-w*q)/2),ee=Math.floor(($-C*q)/2),re=new Se(F,$);for(let de=0,be=ee;de<C;de++,be+=q)for(let Pe=0,ze=K;Pe<w;Pe++,ze+=q)x.get(Pe,de)===1&&re.setRegion(ze,be,q,q);return re}}Ho.QUIET_ZONE_SIZE=4;class B0{encode(o,u,h,g,x){let w;switch(u){case Ae.QR_CODE:w=new Ho;break;default:throw new _("No encoder available for format "+u)}return w.encode(o,u,h,g,x)}}class ys extends xe{constructor(o,u,h,g,x,w,C,N){if(super(w,C),this.yuvData=o,this.dataWidth=u,this.dataHeight=h,this.left=g,this.top=x,g+w>u||x+C>h)throw new _("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(w,C)}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=o*u,g=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return O.arraycopy(this.yuvData,x,g,0,h),g;for(let w=0;w<u;w++){const C=w*o;O.arraycopy(this.yuvData,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new ys(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,h,g,!1)}renderThumbnail(){const o=this.getWidth()/ys.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/ys.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*u),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<u;w++){const C=w*o;for(let N=0;N<o;N++){const M=g[x+N*ys.THUMBNAIL_SCALE_FACTOR]&255;h[C+N]=4278190080|M*65793}x+=this.dataWidth*ys.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/ys.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ys.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const h=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<u;g++,x+=this.dataWidth){const w=x+o/2;for(let C=x,N=x+o-1;C<w;C++,N--){const M=h[C];h[C]=h[N],h[N]=M}}}invert(){return new Ce(this)}}ys.THUMBNAIL_SCALE_FACTOR=2;class ic extends xe{constructor(o,u,h,g,x,w,C){if(super(u,h),this.dataWidth=g,this.dataHeight=x,this.left=w,this.top=C,o.BYTES_PER_ELEMENT===4){const N=u*h,M=new Uint8ClampedArray(N);for(let F=0;F<N;F++){const $=o[F],q=$>>16&255,K=$>>7&510,ee=$&255;M[F]=(q+K+ee)/4&255}this.luminances=M}else this.luminances=o;if(g===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=o*u,g=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return O.arraycopy(this.luminances,x,g,0,h),g;for(let w=0;w<u;w++){const C=w*o;O.arraycopy(this.luminances,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new ic(this.luminances,h,g,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Ce(this)}}class Uo extends X{static forName(o){return this.getCharacterSetECIByName(o)}}class Id{}Id.ISO_8859_1=X.ISO8859_1;class kd{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Md{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class zh{constructor(o){this.previous=o}getPrevious(){return this.previous}}class $a extends zh{constructor(o,u,h){super(o),this.value=u,this.bitCount=h}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new $a(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new $a(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+j.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class du extends $a{constructor(o,u,h){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(o,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(o,u){return new du(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $o(U,o,u){return new du(U,o,u)}function rc(U,o,u){return new $a(U,o,u)}const L0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ha=0,sc=1,gr=2,Vo=3,nr=4,j0=new $a(null,0,0),Go=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hh(U){for(let o of U)G.fill(o,-1);return U[ha][nr]=0,U[sc][nr]=0,U[sc][ha]=28,U[Vo][nr]=0,U[gr][nr]=0,U[gr][ha]=15,U}const Od=Hh(G.createInt32Array(6,6));class Or{constructor(o,u,h,g){this.token=o,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let h=this.bitCount,g=this.token;if(o!==this.mode){let w=Go[this.mode][o];g=rc(g,w&65535,w>>16),h+=w>>16}let x=o===gr?4:5;return g=rc(g,u,x),new Or(g,o,0,h+x)}shiftAndAppend(o,u){let h=this.token,g=this.mode===gr?4:5;return h=rc(h,Od[this.mode][o],g),h=rc(h,u,5),new Or(h,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let u=this.token,h=this.mode,g=this.bitCount;if(this.mode===nr||this.mode===gr){let C=Go[h][ha];u=rc(u,C&65535,C>>16),g+=C>>16,h=ha}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Or(u,h,this.binaryShiftByteCount+1,g+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=$o(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Or(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(Go[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=Or.calculateBinaryShiftCost(o)-Or.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())u.unshift(g);let h=new k;for(const g of u)g.appendTo(h,o);return h}toString(){return ue.format("%s bits=%d bytes=%d",L0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Or.INITIAL_STATE=new Or(j0,ha,0,0);function Rd(U){const o=ue.getCharCode(" "),u=ue.getCharCode("."),h=ue.getCharCode(",");U[ha][o]=1;const g=ue.getCharCode("Z"),x=ue.getCharCode("A");for(let q=x;q<=g;q++)U[ha][q]=q-x+2;U[sc][o]=1;const w=ue.getCharCode("z"),C=ue.getCharCode("a");for(let q=C;q<=w;q++)U[sc][q]=q-C+2;U[gr][o]=1;const N=ue.getCharCode("9"),M=ue.getCharCode("0");for(let q=M;q<=N;q++)U[gr][q]=q-M+2;U[gr][h]=12,U[gr][u]=13;const F=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let q=0;q<F.length;q++)U[Vo][ue.getCharCode(F[q])]=q;const $=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let q=0;q<$.length;q++)ue.getCharCode($[q])>0&&(U[nr][ue.getCharCode($[q])]=q);return U}const fu=Rd(G.createInt32Array(5,256));class qo{constructor(o){this.text=o}encode(){const o=ue.getCharCode(" "),u=ue.getCharCode(`
`);let h=Md.singletonList(Or.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,C=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case ue.getCharCode("\r"):w=C===u?2:0;break;case ue.getCharCode("."):w=C===o?3:0;break;case ue.getCharCode(","):w=C===o?4:0;break;case ue.getCharCode(":"):w=C===o?5:0;break;default:w=0}w>0?(h=qo.updateStateListForPair(h,x,w),x++):h=this.updateStateListForChar(h,x)}return Md.min(h,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const h=[];for(let g of o)this.updateStateForChar(g,u,h);return qo.simplifyStates(h)}updateStateForChar(o,u,h){let g=this.text[u]&255,x=fu[o.getMode()][g]>0,w=null;for(let C=0;C<=nr;C++){let N=fu[C][g];if(N>0){if(w==null&&(w=o.endBinaryShift(u)),!x||C===o.getMode()||C===gr){const M=w.latchAndAppend(C,N);h.push(M)}if(!x&&Od[o.getMode()][C]>=0){const M=w.shiftAndAppend(C,N);h.push(M)}}}if(o.getBinaryShiftByteCount()>0||fu[o.getMode()][g]===0){let C=o.addBinaryShiftChar(u);h.push(C)}}static updateStateListForPair(o,u,h){const g=[];for(let x of o)this.updateStateForPair(x,u,h,g);return this.simplifyStates(g)}static updateStateForPair(o,u,h,g){let x=o.endBinaryShift(u);if(g.push(x.latchAndAppend(nr,h)),o.getMode()!==nr&&g.push(x.shiftAndAppend(nr,h)),h===3||h===4){let w=x.latchAndAppend(gr,16-h).latchAndAppend(gr,1);g.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);g.push(w)}}static simplifyStates(o){let u=[];for(const h of o){let g=!0;for(const x of u){if(x.isBetterThanOrEqualTo(h)){g=!1;break}h.isBetterThanOrEqualTo(x)&&(u=u.filter(w=>w!==x))}g&&u.push(h)}return u}}class Qt{constructor(){}static encodeBytes(o){return Qt.encode(o,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(o,u,h){let g=new qo(o).encode(),x=j.truncDivision(g.getSize()*u,100)+11,w=g.getSize()+x,C,N,M,F,$;if(h!==Qt.DEFAULT_AZTEC_LAYERS){if(C=h<0,N=Math.abs(h),N>(C?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new _(ue.format("Illegal value %s for layers",h));M=Qt.totalBitsInLayer(N,C),F=Qt.WORD_SIZE[N];let Le=M-M%F;if($=Qt.stuffBits(g,F),$.getSize()+x>Le)throw new _("Data to large for user specified layer");if(C&&$.getSize()>F*64)throw new _("Data to large for user specified layer")}else{F=0,$=null;for(let Le=0;;Le++){if(Le>Qt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(C=Le<=3,N=C?Le+1:Le,M=Qt.totalBitsInLayer(N,C),w>M)continue;($==null||F!==Qt.WORD_SIZE[N])&&(F=Qt.WORD_SIZE[N],$=Qt.stuffBits(g,F));let Et=M-M%F;if(!(C&&$.getSize()>F*64)&&$.getSize()+x<=Et)break}}let q=Qt.generateCheckWords($,M,F),K=$.getSize()/F,ee=Qt.generateModeMessage(C,N,K),re=(C?11:14)+N*4,de=new Int32Array(re),be;if(C){be=re;for(let Le=0;Le<de.length;Le++)de[Le]=Le}else{be=re+1+2*j.truncDivision(j.truncDivision(re,2)-1,15);let Le=j.truncDivision(re,2),Et=j.truncDivision(be,2);for(let Ct=0;Ct<Le;Ct++){let Wi=Ct+j.truncDivision(Ct,15);de[Le-Ct-1]=Et-Wi-1,de[Le+Ct]=Et+Wi+1}}let Pe=new Se(be);for(let Le=0,Et=0;Le<N;Le++){let Ct=(N-Le)*4+(C?9:12);for(let Wi=0;Wi<Ct;Wi++){let Rr=Wi*2;for(let ir=0;ir<2;ir++)q.get(Et+Rr+ir)&&Pe.set(de[Le*2+ir],de[Le*2+Wi]),q.get(Et+Ct*2+Rr+ir)&&Pe.set(de[Le*2+Wi],de[re-1-Le*2-ir]),q.get(Et+Ct*4+Rr+ir)&&Pe.set(de[re-1-Le*2-ir],de[re-1-Le*2-Wi]),q.get(Et+Ct*6+Rr+ir)&&Pe.set(de[re-1-Le*2-Wi],de[Le*2+ir])}Et+=Ct*8}if(Qt.drawModeMessage(Pe,C,be,ee),C)Qt.drawBullsEye(Pe,j.truncDivision(be,2),5);else{Qt.drawBullsEye(Pe,j.truncDivision(be,2),7);for(let Le=0,Et=0;Le<j.truncDivision(re,2)-1;Le+=15,Et+=16)for(let Ct=j.truncDivision(be,2)&1;Ct<be;Ct+=2)Pe.set(j.truncDivision(be,2)-Et,Ct),Pe.set(j.truncDivision(be,2)+Et,Ct),Pe.set(Ct,j.truncDivision(be,2)-Et),Pe.set(Ct,j.truncDivision(be,2)+Et)}let ze=new kd;return ze.setCompact(C),ze.setSize(be),ze.setLayers(N),ze.setCodeWords(K),ze.setMatrix(Pe),ze}static drawBullsEye(o,u,h){for(let g=0;g<h;g+=2)for(let x=u-g;x<=u+g;x++)o.set(x,u-g),o.set(x,u+g),o.set(u-g,x),o.set(u+g,x);o.set(u-h,u-h),o.set(u-h+1,u-h),o.set(u-h,u-h+1),o.set(u+h,u-h),o.set(u+h,u-h+1),o.set(u+h,u+h-1)}static generateModeMessage(o,u,h){let g=new k;return o?(g.appendBits(u-1,2),g.appendBits(h-1,6),g=Qt.generateCheckWords(g,28,4)):(g.appendBits(u-1,5),g.appendBits(h-1,11),g=Qt.generateCheckWords(g,40,4)),g}static drawModeMessage(o,u,h,g){let x=j.truncDivision(h,2);if(u)for(let w=0;w<7;w++){let C=x-3+w;g.get(w)&&o.set(C,x-5),g.get(w+7)&&o.set(x+5,C),g.get(20-w)&&o.set(C,x+5),g.get(27-w)&&o.set(x-5,C)}else for(let w=0;w<10;w++){let C=x-5+w+j.truncDivision(w,5);g.get(w)&&o.set(C,x-7),g.get(w+10)&&o.set(x+7,C),g.get(29-w)&&o.set(C,x+7),g.get(39-w)&&o.set(x-7,C)}}static generateCheckWords(o,u,h){let g=o.getSize()/h,x=new Nd(Qt.getGF(h)),w=j.truncDivision(u,h),C=Qt.bitsToWords(o,h,w);x.encode(C,w-g);let N=u%h,M=new k;M.appendBits(0,N);for(const F of Array.from(C))M.appendBits(F,h);return M}static bitsToWords(o,u,h){let g=new Int32Array(h),x,w;for(x=0,w=o.getSize()/u;x<w;x++){let C=0;for(let N=0;N<u;N++)C|=o.get(x*u+N)?1<<u-N-1:0;g[x]=C}return g}static getGF(o){switch(o){case 4:return Ot.AZTEC_PARAM;case 6:return Ot.AZTEC_DATA_6;case 8:return Ot.AZTEC_DATA_8;case 10:return Ot.AZTEC_DATA_10;case 12:return Ot.AZTEC_DATA_12;default:throw new _("Unsupported word size "+o)}}static stuffBits(o,u){let h=new k,g=o.getSize(),x=(1<<u)-2;for(let w=0;w<g;w+=u){let C=0;for(let N=0;N<u;N++)(w+N>=g||o.get(w+N))&&(C|=1<<u-1-N);(C&x)===x?(h.appendBits(C&x,u),w--):(C&x)===0?(h.appendBits(C|1,u),w--):h.appendBits(C,u)}return h}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hu{encode(o,u,h,g){return this.encodeWithHints(o,u,h,g,null)}encodeWithHints(o,u,h,g,x){let w=Id.ISO_8859_1,C=Qt.DEFAULT_EC_PERCENT,N=Qt.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(ui.CHARACTER_SET)&&(w=Uo.forName(x.get(ui.CHARACTER_SET).toString())),x.has(ui.ERROR_CORRECTION)&&(C=j.parseInt(x.get(ui.ERROR_CORRECTION).toString())),x.has(ui.AZTEC_LAYERS)&&(N=j.parseInt(x.get(ui.AZTEC_LAYERS).toString()))),hu.encodeLayers(o,u,h,g,w,C,N)}static encodeLayers(o,u,h,g,x,w,C){if(u!==Ae.AZTEC)throw new _("Can only encode AZTEC, but got "+u);let N=Qt.encode(ue.getBytes(o,x),w,C);return hu.renderResult(N,h,g)}static renderResult(o,u,h){let g=o.getMatrix();if(g==null)throw new Gi;let x=g.getWidth(),w=g.getHeight(),C=Math.max(u,x),N=Math.max(h,w),M=Math.min(C/x,N/w),F=(C-x*M)/2,$=(N-w*M)/2,q=new Se(C,N);for(let K=0,ee=$;K<w;K++,ee+=M)for(let re=0,de=F;re<x;re++,de+=M)g.get(re,K)&&q.setRegion(de,ee,M,M);return q}}n.AbstractExpandedDecoder=nt,n.ArgumentException=y,n.ArithmeticException=Di,n.AztecCode=kd,n.AztecCodeReader=Ci,n.AztecCodeWriter=hu,n.AztecDecoder=tn,n.AztecDetector=qr,n.AztecDetectorResult=Gr,n.AztecEncoder=Qt,n.AztecHighLevelEncoder=qo,n.AztecPoint=Lt,n.BarcodeFormat=Ae,n.Binarizer=T,n.BinaryBitmap=S,n.BitArray=k,n.BitMatrix=Se,n.BitSource=Bi,n.BrowserAztecCodeReader=na,n.BrowserBarcodeReader=Wr,n.BrowserCodeReader=Re,n.BrowserDatamatrixCodeReader=T0,n.BrowserMultiFormatReader=M0,n.BrowserPDF417Reader=O0,n.BrowserQRCodeReader=R0,n.BrowserQRCodeSvgWriter=Ua,n.CharacterSetECI=X,n.ChecksumException=A,n.Code128Reader=Ue,n.Code39Reader=an,n.DataMatrixDecodedBitStreamParser=sa,n.DataMatrixReader=Xr,n.DecodeHintType=L,n.DecoderResult=ai,n.DefaultGridSampler=_t,n.DetectorResult=er,n.EAN13Reader=pr,n.EncodeHintType=ui,n.Exception=p,n.FormatException=z,n.GenericGF=Ot,n.GenericGFPoly=cn,n.GlobalHistogramBinarizer=Z,n.GridSampler=at,n.GridSamplerInstance=nn,n.HTMLCanvasElementLuminanceSource=Q,n.HybridBinarizer=le,n.ITFReader=jt,n.IllegalArgumentException=_,n.IllegalStateException=Gi,n.InvertedLuminanceSource=Ce,n.LuminanceSource=xe,n.MathUtils=At,n.MultiFormatOneDReader=$n,n.MultiFormatReader=Fh,n.MultiFormatWriter=B0,n.NotFoundException=te,n.OneDReader=on,n.PDF417DecodedBitStreamParser=we,n.PDF417DecoderErrorCorrection=Jl,n.PDF417Reader=Ni,n.PDF417ResultMetadata=lu,n.PerspectiveTransform=vt,n.PlanarYUVLuminanceSource=ys,n.QRCodeByteMatrix=nc,n.QRCodeDataMask=Ti,n.QRCodeDecodedBitStreamParser=Dn,n.QRCodeDecoderErrorCorrectionLevel=hn,n.QRCodeDecoderFormatInformation=Ai,n.QRCodeEncoder=Nn,n.QRCodeEncoderQRCode=Ha,n.QRCodeMaskUtil=Fn,n.QRCodeMatrixUtil=pt,n.QRCodeMode=lt,n.QRCodeReader=Us,n.QRCodeVersion=st,n.QRCodeWriter=Ho,n.RGBLuminanceSource=ic,n.RSS14Reader=it,n.RSSExpandedReader=ke,n.ReaderException=ec,n.ReedSolomonDecoder=ms,n.ReedSolomonEncoder=Nd,n.ReedSolomonException=oi,n.Result=He,n.ResultMetadataType=gt,n.ResultPoint=We,n.StringUtils=ue,n.UnsupportedOperationException=ie,n.VideoInputDevice=fe,n.WhiteRectangleDetector=Ve,n.WriterException=gn,n.ZXingArrays=G,n.ZXingCharset=Uo,n.ZXingInteger=j,n.ZXingStandardCharsets=Id,n.ZXingStringBuilder=Ie,n.ZXingStringEncoding=ae,n.ZXingSystem=O,n.createAbstractExpandedDecoder=zs,Object.defineProperty(n,"__esModule",{value:!0})})}(Pf,Pf.exports)),Pf.exports}var Bn=aU();const oU=Do(Bn),lU=PI({__proto__:null,default:oU},[Bn]);var Z3=function(){function t(e,n,i){if(this.formatMap=new Map([[Ke.QR_CODE,Bn.BarcodeFormat.QR_CODE],[Ke.AZTEC,Bn.BarcodeFormat.AZTEC],[Ke.CODABAR,Bn.BarcodeFormat.CODABAR],[Ke.CODE_39,Bn.BarcodeFormat.CODE_39],[Ke.CODE_93,Bn.BarcodeFormat.CODE_93],[Ke.CODE_128,Bn.BarcodeFormat.CODE_128],[Ke.DATA_MATRIX,Bn.BarcodeFormat.DATA_MATRIX],[Ke.MAXICODE,Bn.BarcodeFormat.MAXICODE],[Ke.ITF,Bn.BarcodeFormat.ITF],[Ke.EAN_13,Bn.BarcodeFormat.EAN_13],[Ke.EAN_8,Bn.BarcodeFormat.EAN_8],[Ke.PDF_417,Bn.BarcodeFormat.PDF_417],[Ke.RSS_14,Bn.BarcodeFormat.RSS_14],[Ke.RSS_EXPANDED,Bn.BarcodeFormat.RSS_EXPANDED],[Ke.UPC_A,Bn.BarcodeFormat.UPC_A],[Ke.UPC_E,Bn.BarcodeFormat.UPC_E],[Ke.UPC_EAN_EXTENSION,Bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!lU)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var r=this.createZXingFormats(e),s=new Map;s.set(Bn.DecodeHintType.POSSIBLE_FORMATS,r),s.set(Bn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(i,r){try{i(n.decode(e))}catch(s){r(s)}})},t.prototype.decode=function(e){var n=new Bn.MultiFormatReader(this.verbose,this.hints),i=new Bn.HTMLCanvasElementLuminanceSource(e),r=new Bn.BinaryBitmap(new Bn.HybridBinarizer(i)),s=n.decode(r);return{text:s.text,format:wT.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),cU=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},uU=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Q3=function(){function t(e,n,i){if(this.formatMap=new Map([[Ke.QR_CODE,"qr_code"],[Ke.AZTEC,"aztec"],[Ke.CODABAR,"codabar"],[Ke.CODE_39,"code_39"],[Ke.CODE_93,"code_93"],[Ke.CODE_128,"code_128"],[Ke.DATA_MATRIX,"data_matrix"],[Ke.ITF,"itf"],[Ke.EAN_13,"ean_13"],[Ke.EAN_8,"ean_8"],[Ke.PDF_417,"pdf417"],[Ke.UPC_A,"upc_a"],[Ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var r=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return cU(this,void 0,void 0,function(){var n,i;return uU(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:wT.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,i=0,r=0,s=e;r<s.length;r++){var l=s[r],d=l.boundingBox.width*l.boundingBox.height;d>i&&(i=d,n=l)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),J3=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},eS=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},dU=function(){function t(e,n,i,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Q3.isSupported()?(this.primaryDecoder=new Q3(e,i,r),this.secondaryDecoder=new Z3(e,i,r)):this.primaryDecoder=new Z3(e,i,r)}return t.prototype.decodeAsync=function(e){return J3(this,void 0,void 0,function(){var n;return eS(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return J3(this,void 0,void 0,function(){var n,i;return eS(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(i=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,i=this.executionResults;n<i.length;n++){var r=i[n];e+=r}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Ob=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),X1=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},Y1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},CT=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),fU=function(t){Ob(e,t);function e(n,i){return t.call(this,n,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var i={};i[this.name]=n;var r={advanced:[i]};return this.track.applyConstraints(r)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(CT),hU=function(t){Ob(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(fU),pU=function(t){Ob(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(CT),mU=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new hU(this.track)},t.prototype.torchFeature=function(){return new pU(this.track)},t}(),gU=function(){function t(e,n,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,r),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,i,r){return X1(this,void 0,void 0,function(){var s,l;return Y1(this,function(d){switch(d.label){case 0:return s=new t(e,n,r),i.aspectRatio?(l={aspectRatio:i.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,i=function(){setTimeout(e,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return X1(this,void 0,void 0,function(){return Y1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,i){var r=e.mediaStream.getVideoTracks(),s=r.length,l=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new mU(this.getFirstTrackOrFail())},t}(),xU=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,i){return X1(this,void 0,void 0,function(){return Y1(this,function(r){return[2,gU.create(e,this.mediaStream,n,i)]})})},t.create=function(e){return X1(this,void 0,void 0,function(){var n,i;return Y1(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=r.sent(),[2,new t(i)]}})})},t}(),tS=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},nS=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yU=function(){function t(){}return t.failIfNotSupported=function(){return tS(this,void 0,void 0,function(){return nS(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return tS(this,void 0,void 0,function(){return nS(this,function(n){return[2,xU.create(e)]})})},t}(),bU=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},vU=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wU=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=od.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=od.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return bU(this,void 0,void 0,function(){var e,n,i,r,s,l,d;return vU(this,function(f){switch(f.label){case 0:return e=function(p){for(var y=p.getVideoTracks(),_=0,S=y;_<S.length;_++){var A=S[_];A.enabled=!1,A.stop(),p.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=f.sent(),r=[],s=0,l=i;s<l.length;s++)d=l[s],d.kind==="videoinput"&&r.push({id:d.deviceId,label:d.label});return e(n),[2,r]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var i=function(s){for(var l=[],d=0,f=s;d<f.length;d++){var p=f[d];p.kind==="video"&&l.push({id:p.id,label:p.label})}e(l)},r=MediaStreamTrack;r.getSources(i)})},t}(),ni;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ni||(ni={}));var _U=function(){function t(){this.state=ni.NOT_STARTED,this.onGoingTransactionNewState=ni.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ni.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ni.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ni.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ni.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ni.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ni.UNKNOWN:throw"Transition from unknown is not allowed";case ni.NOT_STARTED:this.failIfNewStateIs(e,[ni.PAUSED]);break;case ni.SCANNING:break;case ni.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),CU=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ni.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ni.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ni.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ni.PAUSED},t}(),SU=function(){function t(){}return t.create=function(){return new CU(new _U)},t}(),EU=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ls=function(t){EU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(nU),AU=function(){function t(e,n){this.logger=n,this.fps=ls.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ls.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?_T.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!_o(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),TU=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new rU(this.verbose),this.qrcode=new dU(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=SU.create()}return t.prototype.start=function(e,n,i,r){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;r?l=r:l=this.verbose?this.logger.log:function(){};var d=AU.create(n,this.logger);this.clearElement();var f=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=f,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:ls.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var _=this,S=this.stateManagerProxy.startTransition(ni.SCANNING);return new Promise(function(A,T){var O=p?d.videoConstraints:_.createVideoConstraints(e);if(!O){S.cancel(),T("videoConstraints should be defined");return}var R={};(!p||d.aspectRatio)&&(R.aspectRatio=d.aspectRatio);var B={onRenderSurfaceReady:function(G,j){_.setupUi(G,j,d),_.isScanning=!0,_.foreverScan(d,i,l)}};yU.failIfNotSupported().then(function(G){G.create(O).then(function(j){return j.render(s.element,R,B).then(function(k){_.renderedCamera=k,S.execute(),A(null)}).catch(function(k){S.cancel(),T(k)})}).catch(function(j){S.cancel(),T(od.errorGettingUserMedia(j))})}).catch(function(G){S.cancel(),T(od.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ni.PAUSED),this.showPausedState(),(_o(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(ni.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ni.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var s=document.getElementById(ls.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),i(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,n){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(_o(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,s){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var d=l.width,f=l.height,p=document.getElementById(i.elementId),y=p.clientWidth?p.clientWidth:ls.DEFAULT_WIDTH,_=Math.max(p.clientHeight?p.clientHeight:f,ls.FILE_SCAN_MIN_HEIGHT),S=i.computeCanvasDrawConfig(d,f,y,_);if(n){var A=i.createCanvasElement(y,_,"qr-canvas-visible");A.style.display="inline-block",p.appendChild(A);var T=A.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=y,T.canvas.height=_,T.drawImage(l,0,0,d,f,S.x,S.y,S.width,S.height)}var O=ls.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(l.width,S.width),B=Math.max(l.height,S.height),G=R+2*O,j=B+2*O,k=i.createCanvasElement(G,j);p.appendChild(k);var D=k.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=G,D.canvas.height=j,D.drawImage(l,0,0,d,f,O,O,R,B);try{i.qrcode.decodeRobustlyAsync(k).then(function(L){r(Y3.createFromQrcodeResult(L))}).catch(s)}catch(L){s("QR code parse error, error = ".concat(L))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return wU.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!_T.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ke.QR_CODE,Ke.AZTEC,Ke.CODABAR,Ke.CODE_39,Ke.CODE_93,Ke.CODE_128,Ke.DATA_MATRIX,Ke.MAXICODE,Ke.ITF,Ke.EAN_13,Ke.EAN_8,Ke.PDF_417,Ke.RSS_14,Ke.RSS_EXPANDED,Ke.UPC_A,Ke.UPC_E,Ke.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,s=e.formatsToSupport;r<s.length;r++){var l=s[r];tU(l)?i.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(_o(e))return!0;if(!_o(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(_o(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return _o(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,i){var r=this,s=i.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,n,s),d=function(p){if(p<ls.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ls.MIN_QR_BOX_SIZE,"px.")},f=function(p){return p>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};d(l.width),d(l.height),l.width=f(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return i},t.prototype.setupUi=function(e,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,i);var r=_o(i.qrbox)?{width:e,height:n}:i.qrbox;this.validateQrboxConfig(r);var s=this.toQrdimensions(e,n,r);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=i.isShadedBoxEnabled()&&s.height<=n,d={x:0,y:0,width:e,height:n},f=l?this.getShadedRegionBounds(e,n,s):d,p=this.createCanvasElement(f.width,f.height),y={willReadFrequently:!0},_=p.getContext("2d",y);_.canvas.width=f.width,_.canvas.height=f.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=_,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=od.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return e(r.text,Y3.createFromQrcodeResult(r)),i.possiblyUpdateShaders(!0),!0}).catch(function(r){i.possiblyUpdateShaders(!1);var s=od.codeParseError(r);return n(s,iU.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,i){var r=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,d=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*l,p=this.qrRegion.height*d,y=this.qrRegion.x*l,_=this.qrRegion.y*d;this.context.drawImage(s,y,_,f,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,n,i)},r.getTimeoutFps(e.fps))};this.scanContext(n,i).then(function(A){!A&&e.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,i).finally(function(){S()})):S()}).catch(function(A){r.logger.logError("Error happend while scanning context",A),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",i="deviceId",r={user:!0,environment:!0},s="exact",l=function(T){if(T in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var f=Object.keys(e)[0];if(f!==n&&f!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(f===n){var p=e.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(s in p){if(l(p["".concat(s)]))return{facingMode:{exact:p["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(s in _)return{deviceId:{exact:_["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof _;throw"Invalid type of 'deviceId' = ".concat(S)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,i,r){if(e<=i&&n<=r){var s=(i-e)/2,l=(r-n)/2;return{x:s,y:l,width:e,height:n}}else{var d=e,f=n;return e>i&&(n=i/e*n,e=i),n>r&&(e=r/n*e,n=r),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(f)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,i,r)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?ls.BORDER_SHADER_MATCH_COLOR:ls.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,i){var r=e,s=n,l=document.createElement("canvas");return l.style.width="".concat(r,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=_o(i)?"qr-canvas":i,l},t.prototype.getShadedRegionBounds=function(e,n,i){if(i.width>e||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,n,i,r){if(!(n-r.width<1||i-r.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(n-r.width)/2,d=(i-r.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(ls.SHADED_REGION_ELEMENT_ID),n-r.width<11||i-r.height<11)this.hasBorderShaders=!1;else{var f=5,p=40;this.insertShaderBorders(s,p,f,-f,null,0,!0),this.insertShaderBorders(s,p,f,-f,null,0,!1),this.insertShaderBorders(s,p,f,null,-f,0,!0),this.insertShaderBorders(s,p,f,null,-f,0,!1),this.insertShaderBorders(s,f,p+f,-f,null,-f,!0),this.insertShaderBorders(s,f,p+f,null,-f,-f,!0),this.insertShaderBorders(s,f,p+f,-f,null,-f,!1),this.insertShaderBorders(s,f,p+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,i,r,s,l,d){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=ls.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(n,"px"),f.style.height="".concat(i,"px"),r!==null&&(f.style.top="".concat(r,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),d?f.style.left="".concat(l,"px"):f.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),iS;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(iS||(iS={}));const NU="_scannerContainer_yftsj_1",IU="_header_yftsj_25",kU="_closeButton_yftsj_37",MU="_title_yftsj_59",OU="_scannerArea_yftsj_79",RU="_qrScannerWrapper_yftsj_91",DU="_scannerOverlay_yftsj_135",BU="_corner_yftsj_153",LU="_topLeft_yftsj_167",jU="_topRight_yftsj_183",PU="_bottomLeft_yftsj_199",FU="_bottomRight_yftsj_215",zU="_instructionBox_yftsj_229",HU="_qrIconButton_yftsj_253",UU="_errorMessage_yftsj_293",$U="_test_yftsj_319",Oi={scannerContainer:NU,header:IU,closeButton:kU,title:MU,scannerArea:OU,qrScannerWrapper:RU,scannerOverlay:DU,corner:BU,topLeft:LU,topRight:jU,bottomLeft:PU,bottomRight:FU,instructionBox:zU,qrIconButton:HU,errorMessage:UU,test:$U};function VU(){const t=Jt(),e="html5qr-code-full-region",n=P.useRef(null),[i,r]=P.useState(null),[s,l]=P.useState(!1),d=gi(),f=async()=>{const y=new URLSearchParams(d.search).get("itemId");if(y)try{await pi.patch(`/api/reservations/${y}`,{reservation_status:"used"}),localStorage.setItem("showAttendanceModal","true"),t("/mypage")}catch(_){console.error("  :",_),alert("     .")}};P.useEffect(()=>{const y={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return n.current=new TU(e),n.current.start({facingMode:"environment"},y,_=>{n.current.stop().then(()=>{t(`/art/${_}`)}).catch(S=>{console.error("Failed to stop scanner:",S)})},()=>{}).catch(_=>{r("   ."),console.error("QR  :",_)}),async()=>{const _=n.current;if(_)try{_.isScanning&&await _.stop(),_.clear()}catch(S){console.error("Cleanup :",S)}}},[t]);const p=()=>{localStorage.removeItem("showAttendanceModal"),localStorage.removeItem("exhibitionInfo"),t(-1)};return P.useEffect(()=>{new URLSearchParams(d.search).get("itemId")&&l(!0)},[d]),b.jsxs("div",{className:Oi.scannerContainer,children:[b.jsxs("div",{className:Oi.header,children:[b.jsx("button",{className:Oi.closeButton,onClick:p,children:""}),b.jsx("h2",{className:Oi.title,children:"Artly QR Reader"})]}),b.jsxs("div",{className:Oi.scannerArea,children:[b.jsx("div",{id:e,className:Oi.qrScannerWrapper}),b.jsxs("div",{className:Oi.scannerOverlay,children:[b.jsx("div",{className:`${Oi.corner} ${Oi.topLeft}`}),b.jsx("div",{className:`${Oi.corner} ${Oi.topRight}`}),b.jsx("div",{className:`${Oi.corner} ${Oi.bottomLeft}`}),b.jsx("div",{className:`${Oi.corner} ${Oi.bottomRight}`})]}),i&&b.jsx("div",{className:Oi.errorMessage,children:i})]}),b.jsx("button",{className:Oi.qrIconButton,children:b.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),b.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),b.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),b.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),b.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),b.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),b.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),b.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),b.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),b.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),b.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),b.jsxs("div",{className:Oi.instructionBox,children:[b.jsx("p",{children:"QR   ."}),s&&b.jsx("button",{onClick:f,className:Oi.test,children:"  QR "})]})]})}const GU="_layout_jvhsh_1",qU="_title_jvhsh_23",WU="_galleryWrapper_jvhsh_33",XU="_searchForm_jvhsh_45",YU="_searchInput_jvhsh_59",Nf={layout:GU,title:qU,galleryWrapper:WU,searchForm:XU,searchInput:YU},KU="_layout_1log3_1",ZU="_searchTitle_1log3_15",QU="_resultNumParagraph_1log3_25",JU="_highlightSpan_1log3_33",e$="_paginationRow_1log3_53",If={layout:KU,searchTitle:ZU,resultNumParagraph:QU,highlightSpan:JU,paginationRow:e$};function t$({results:t}){const{currentPage:e,setCurrentPage:n,pageItems:i}=Ad(10,t);return b.jsxs("section",{className:If.layout,children:[b.jsxs("div",{children:[b.jsx("h2",{className:If.searchTitle,children:"   "}),b.jsxs("p",{className:If.resultNumParagraph,children:[" ",b.jsx("span",{className:If.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&b.jsx("div",{children:"  ."}),i.map(r=>b.jsx(Mb,{galleryItem:r},r.id)),b.jsx("div",{className:If.paginationRow,children:b.jsx(Ed,{currentPage:e,onPageChange:n,totalItems:t.length})})]})}function n$(){const{coords:t,setCoords:e}=yT(),[n,i]=P.useState([]),[r,s]=P.useState(!1),{lat:l,lng:d}=t,[f,p]=P.useState(""),y=S=>{p(S.target.value)};i0({lat:l,lng:d,id:"nearby-map",results:n,zoomLevel:12});const _=async S=>{S.preventDefault();try{const A=await _7.get("/v2/geocode",{params:{query:f}}),T=A.data.addresses[0].x,O=A.data.addresses[0].y;e({lat:O,lng:T})}catch(A){console.error(A),alert("  ")}};return P.useEffect(()=>{(async()=>{try{s(!0);const A=await pi.get("/api/galleries",{params:{latitude:l,longitude:d,distance:5e3}});i(A.data)}catch(A){console.error(A),alert("   ")}finally{s(!1)}})()},[l,d]),b.jsxs("div",{className:Nf.layout,children:[b.jsx("h1",{className:Nf.title,children:"  "}),b.jsx("form",{className:Nf.searchForm,onSubmit:_,children:b.jsx("input",{className:Nf.searchInput,value:f,onChange:y,placeholder:" "})}),b.jsx("div",{id:"nearby-map",className:Nf.galleryWrapper}),r&&b.jsx("div",{children:"   .."}),b.jsx(t$,{results:n})]})}const i$="_layout_1lvqi_1",r$="_breadcrumb_1lvqi_21",s$="_breadcrumbBack_1lvqi_33",a$="_card_1lvqi_43",o$="_mainImage_1lvqi_61",l$="_titleSection_1lvqi_81",c$="_artworkTitle_1lvqi_89",u$="_artworkMaterial_1lvqi_101",d$="_btnLayout_1lvqi_113",f$="_divider_1lvqi_127",h$="_actionButton_1lvqi_141",p$="_icon_1lvqi_163",m$="_likedIcon_1lvqi_169",g$="_artistSection_1lvqi_179",x$="_artistImage_1lvqi_191",y$="_artistName_1lvqi_205",b$="_infoList_1lvqi_217",v$="_infoRow_1lvqi_229",w$="_infoLabel_1lvqi_237",_$="_infoContent_1lvqi_249",C$="_descriptionParagraph_1lvqi_257",S$="_docentBox_1lvqi_273",E$="_docentLabel_1lvqi_287",A$="_recommendSection_1lvqi_313",T$="_sectionTitle_1lvqi_319",N$="_relatedGrid_1lvqi_331",I$="_relatedCard_1lvqi_341",k$="_relatedImage_1lvqi_363",M$="_relatedInfo_1lvqi_373",O$="_relatedTitle_1lvqi_379",R$="_emptyContent_1lvqi_393",D$="_emptyInfo_1lvqi_405",B$="_backButton_1lvqi_415",Zt={layout:i$,breadcrumb:r$,breadcrumbBack:s$,card:a$,mainImage:o$,titleSection:l$,artworkTitle:c$,artworkMaterial:u$,btnLayout:d$,divider:f$,actionButton:h$,icon:p$,likedIcon:m$,artistSection:g$,artistImage:x$,artistName:y$,infoList:b$,infoRow:v$,infoLabel:w$,infoContent:_$,descriptionParagraph:C$,docentBox:S$,docentLabel:E$,recommendSection:A$,sectionTitle:T$,relatedGrid:N$,relatedCard:I$,relatedImage:k$,relatedInfo:M$,relatedTitle:O$,emptyContent:R$,emptyInfo:D$,backButton:B$},L$="_modalOverlay_1ae8l_1",j$="_likeModalBox_1ae8l_21",P$="_likeModalStar_1ae8l_63",F$="_likeModalTitle_1ae8l_75",z$="_likeModalSub_1ae8l_85",H$="_likeModalButton_1ae8l_99",qu={modalOverlay:L$,likeModalBox:j$,likeModalStar:P$,likeModalTitle:F$,likeModalSub:z$,likeModalButton:H$};function Rb({onClose:t,type:e}){const i={galleries:"",exhibitions:"",artworks:""}[e]||"";return b.jsx("div",{className:qu.modalOverlay,children:b.jsxs("div",{className:qu.likeModalBox,children:[b.jsx(Th,{className:qu.likeModalStar}),b.jsxs("h3",{className:qu.likeModalTitle,children:[" ",i,"  !"]}),b.jsx("p",{className:qu.likeModalSub,children:"      ."}),b.jsx("button",{className:qu.likeModalButton,onClick:t,children:""})]})})}function U$(t,e){const n=P.useRef(null),[i,r]=P.useState(!1),s=P.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{r(!0)},e)},[e]),l=P.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=null},[]),d=P.useCallback(()=>{t()},[t]);return{start:s,clear:l,done:d,isExiting:i}}const $$="_toastContainer_wle1e_1",V$="_toast_wle1e_1",G$="_exiting_wle1e_45",q$="_title_wle1e_53",W$="_message_wle1e_65",Ff={toastContainer:$$,toast:V$,exiting:G$,title:q$,message:W$};function X$({id:t,title:e,message:n,duration:i,removeToast:r}){const{start:s,clear:l,done:d,isExiting:f}=U$(()=>{r(t)},i),p=()=>l(),y=()=>s();P.useEffect(()=>{s()},[s]);const _=`${Ff.toast} ${f?Ff.exiting:""}`,S=()=>{f&&d()};return b.jsxs("div",{className:_,onMouseEnter:p,onMouseLeave:y,onAnimationEnd:S,children:[b.jsx("div",{className:Ff.title,children:e}),n&&b.jsx("div",{className:Ff.message,children:n})]})}const ST=P.createContext(),Y$=()=>P.useContext(ST);function K$({children:t}){const[e,n]=P.useState(null),i=P.useCallback((s,l=1e3)=>{let d,f;typeof s=="string"?(d=s,f=null):(d=s.title,f=s.message);const p=Date.now();n({id:p,title:d,message:f,duration:l})},[]),r=P.useCallback(s=>{n(l=>l&&l.id===s?null:l)},[]);return b.jsxs(ST.Provider,{value:{addToast:i},children:[t,b.jsx("div",{className:Ff.toastContainer,children:e&&b.jsx(X$,{id:e.id,title:e.title,message:e.message,duration:e.duration,removeToast:r},e.id)})]})}const Z$="_modalOverlay_18m8e_1",Q$="_modalBox_18m8e_27",J$="_closeButton_18m8e_73",eV="_modalIconBox_18m8e_103",tV="_modalIcon_18m8e_103",nV="_modalTitle_18m8e_135",iV="_modalDesc_18m8e_149",rV="_phoneInfo_18m8e_163",sV="_phoneNumber_18m8e_175",aV="_callButton_18m8e_191",oV="_pcInfo_18m8e_225",lV="_errorText_18m8e_237",rs={modalOverlay:Z$,modalBox:Q$,closeButton:J$,modalIconBox:eV,modalIcon:tV,modalTitle:nV,modalDesc:iV,phoneInfo:rV,phoneNumber:sV,callButton:aV,pcInfo:oV,errorText:lV};function cV({phoneNumber:t,onClose:e}){const n=()=>{t&&(window.location.href=`tel:${t}`)};return b.jsx("div",{className:rs.modalOverlay,onClick:e,children:b.jsxs("div",{className:rs.modalBox,onClick:i=>i.stopPropagation(),children:[b.jsx("button",{className:rs.closeButton,onClick:e,children:b.jsx(fT,{})}),b.jsxs("div",{className:rs.modalContent,children:[b.jsx("div",{className:rs.modalIconBox,children:b.jsx(dT,{className:rs.modalIcon})}),b.jsx("h3",{className:rs.modalTitle,children:" "}),b.jsxs("p",{className:rs.modalDesc,children:["   ?",b.jsx("br",{}),"     ."]}),t?b.jsxs("div",{className:rs.phoneInfo,children:[b.jsx("span",{className:rs.phoneNumber,children:t}),b.jsx("button",{className:rs.callButton,onClick:n,children:" "}),b.jsx("p",{className:rs.pcInfo,children:"*     ."})]}):b.jsx("p",{className:rs.errorText,children:"   ."})]})]})})}function ET({showUserActions:t=!0,id:e,actionButtons:n}){const{artworkId:i}=Fs(),r=e||i,s=Jt(),{addToast:l}=Y$(),[d,f]=P.useState(null),[p,y]=P.useState(!1),[_,S]=P.useState(!1),[A,T]=P.useState(!1),O=async()=>{if(r)try{const Ce=await mt.get(`/api/arts/${r}`),{data:Q}=Ce;f(Q),typeof Q.is_liked=="boolean"&&y(Q.is_liked)}catch(Ce){console.error("   :",Ce)}};P.useEffect(()=>{O()},[r]);const R=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){s("/login");return}try{const Ce={liked_id:r,liked_type:"art"};p?(await mt.delete("/api/likes",{data:Ce}),y(!1)):(await mt.post("/api/likes",Ce),y(!0),S(!0))}catch(Ce){console.error("  :",Ce),l({title:"",message:"  .",type:"error"})}},B=()=>{T(!0)},G=()=>{const Ce=d==null?void 0:d.art_title,Q=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${Ce}`,text:`${Ce}  `,url:Q}).catch(console.error):navigator.clipboard.writeText(Q).then(()=>alert(" ."))};if(!d)return b.jsx("div",{children:" ..."});const{art_title:j,art_description:k,art_image:D,art_year:L,art_material:z,art_size:V,art_docent:X,gallery_phone:ie,artist:ae={},artist_name:ue}=d,Ie=ae.artist_name||ue||"Unknown Artist",Se=ae.artist_image||"/images/default_profile.png",Z=(ae.artworks||[]).filter(Ce=>String(Ce.id)!==String(r)),le=[{label:"",content:L?`${L} `:" "},{label:"",content:z||" "},{label:"",content:V||" "}],xe=[{label:"",icon:b.jsx(Th,{className:p?Zt.likedIcon:Zt.icon}),action:R},{label:"",icon:b.jsx(dT,{className:Zt.icon}),action:B},{label:"",icon:b.jsx(kb,{className:Zt.icon}),action:G}];return b.jsxs("div",{className:Zt.layout,children:[t&&b.jsxs("div",{className:Zt.breadcrumb,children:[b.jsx("span",{className:Zt.breadcrumbBack,onClick:()=>s("/artworks"),children:""})," ","> ",j]}),b.jsxs("div",{className:Zt.card,children:[b.jsx("img",{src:D,alt:j,className:Zt.mainImage}),b.jsxs("section",{className:Zt.titleSection,children:[b.jsx("h1",{className:Zt.artworkTitle,children:j}),b.jsx("p",{className:Zt.artworkMaterial,children:z||"Mixed Media"})]}),t&&b.jsx("div",{className:Zt.btnLayout,children:xe.map(({label:Ce,icon:Q,action:fe})=>b.jsxs("button",{className:Zt.actionButton,onClick:fe,children:[Q,Ce]},Ce))}),b.jsx("hr",{className:Zt.divider}),b.jsxs("div",{className:Zt.artistSection,children:[b.jsx("img",{src:Se,alt:Ie,className:Zt.artistImage,onError:Ce=>Ce.target.src="https://via.placeholder.com/100?text=Artist"}),b.jsx("span",{className:Zt.artistName,children:Ie})]}),b.jsx("div",{className:Zt.infoList,children:le.map(({label:Ce,content:Q})=>b.jsxs("div",{className:Zt.infoRow,children:[b.jsx("span",{className:Zt.infoLabel,children:Ce}),b.jsx("div",{className:Zt.infoContent,children:Q})]},Ce))}),b.jsxs("div",{className:Zt.descriptionSection,children:[k?b.jsx("div",{className:Zt.descriptionParagraph,dangerouslySetInnerHTML:{__html:k}}):b.jsx("p",{className:Zt.emptyInfo,children:"  ."}),X&&b.jsxs("div",{className:Zt.docentBox,children:[b.jsx("span",{className:Zt.docentLabel,children:"AI Docent"}),b.jsx("p",{children:X})]})]}),n==null?void 0:n.info]}),t&&b.jsxs("div",{className:Zt.recommendSection,children:[b.jsx("h3",{className:Zt.sectionTitle,children:"  "}),Z.length>0?b.jsx("div",{className:Zt.relatedGrid,children:Z.map(Ce=>b.jsxs("div",{className:Zt.relatedCard,onClick:()=>{s(`/artworks/${Ce.id}`),window.scrollTo(0,0)},children:[b.jsx("img",{src:Ce.art_image,alt:Ce.art_title,className:Zt.relatedImage}),b.jsx("div",{className:Zt.relatedInfo,children:b.jsx("h4",{className:Zt.relatedTitle,children:Ce.art_title})})]},Ce.id))}):b.jsx("div",{className:Zt.card,children:b.jsx("p",{className:Zt.emptyContent,children:"   ."})}),b.jsx("button",{className:Zt.backButton,onClick:()=>s("/artworks"),children:""})]}),_&&b.jsx(Rb,{onClose:()=>S(!1),type:"artworks"}),A&&b.jsx(cV,{phoneNumber:ie,onClose:()=>T(!1)})]})}const uV="_layout_ezrs8_1",dV="_findForm_ezrs8_15",fV="_formTitle_ezrs8_33",hV="_submitButton_ezrs8_43",_c={layout:uV,findForm:dV,formTitle:fV,submitButton:hV};function pV(){const{data:t,handleChange:e}=q1({userName:"",userEmail:""}),{data:n,handleChange:i}=q1({userId:"",userEmail:""}),r=l=>{l.preventDefault(),alert("  ")},s=l=>{l.preventDefault(),alert("  ")};return b.jsxs("div",{className:_c.layout,children:[b.jsxs("form",{className:_c.findForm,onSubmit:r,children:[b.jsx("h2",{className:_c.formTitle,children:" "}),b.jsx(ka,{name:"userName",placeholder:"",onChange:e,value:t.userName}),b.jsx(ka,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),b.jsx("button",{className:_c.submitButton,children:" "})]}),b.jsxs("form",{className:_c.findForm,onSubmit:s,children:[b.jsx("h2",{className:_c.formTitle,children:" "}),b.jsx(ka,{name:"userId",placeholder:"",onChange:i,value:n.userId}),b.jsx(ka,{name:"userEmail",placeholder:"@     ",onChange:i,value:n.userEmail}),b.jsx("button",{className:_c.submitButton,children:"  "})]})]})}const mV="_announcementLayout_om46f_1",gV="_heading_om46f_19",xV="_tabWrapper_om46f_31",yV="_tab_om46f_31",bV="_active_om46f_71",vV="_listItem_om46f_99",wV="_buttonField_om46f_107",_V="_contentContainer_om46f_129",ml={announcementLayout:mV,heading:gV,tabWrapper:xV,tab:yV,active:bV,listItem:vV,buttonField:wV,contentContainer:_V},CV=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],SV=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],EV=["","FAQ"];function AV(){const[t,e]=P.useState(""),[n,i]=P.useState({}),r=t===""?CV:SV,s=d=>{if(n[d]){i(p=>({...p,[d]:!1}));return}i(p=>({...p,[d]:!0}))},l=d=>{e(d),i({})};return b.jsxs("div",{className:ml.announcementLayout,children:[b.jsx("h1",{className:ml.heading,children:"&FAQ"}),b.jsx("div",{className:ml.tabWrapper,children:EV.map(d=>b.jsx("button",{className:`${ml.tab} ${t===d?ml.active:""}`,onClick:()=>l(d),children:d},d))}),b.jsx("ul",{children:r.map((d,f)=>b.jsxs("li",{className:ml.listItem,onClick:()=>{s(f)},children:[b.jsxs("div",{className:ml.buttonField,children:[d.title,b.jsx("span",{children:n[f]?b.jsx(QB,{}):b.jsx(ZB,{})})]}),n[f]&&b.jsx("div",{className:ml.contentContainer,children:d.content})]},d.id))})]})}const TV="_termsLayout_135gr_1",NV="_mainTitle_135gr_19",IV="_tabWrapper_135gr_43",kV="_tab_135gr_43",MV="_active_135gr_83",OV="_contentContainer_135gr_99",Wu={termsLayout:TV,mainTitle:NV,tabWrapper:IV,tab:kV,active:MV,contentContainer:OV},RV={content:`   

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},DV={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function BV(){const t=["",""],[e,n]=P.useState(""),i=e===""?RV:DV,r=s=>{n(s)};return b.jsxs("section",{className:Wu.termsLayout,children:[b.jsx("h1",{className:Wu.mainTitle,children:""}),b.jsx("div",{className:Wu.tabWrapper,children:t.map(s=>b.jsx("button",{className:`${Wu.tab} ${e===s?Wu.active:""}`,onClick:()=>r(s),children:s},s))}),b.jsx("div",{className:Wu.contentContainer,children:i.content})]})}const LV="_layout_3y7o4_1",jV="_title_3y7o4_19",PV="_posterImage_3y7o4_31",FV="_completionIcon_3y7o4_43",zV="_completionTitle_3y7o4_67",HV="_reservationSummary_3y7o4_81",UV="_summaryRow_3y7o4_95",$V="_summaryLabel_3y7o4_115",VV="_summaryValue_3y7o4_125",GV="_buttonField_3y7o4_155",qV="_exhibitionLink_3y7o4_165",WV="_mypageLink_3y7o4_167",Ns={layout:LV,title:jV,posterImage:PV,completionIcon:FV,completionTitle:zV,reservationSummary:HV,summaryRow:UV,summaryLabel:$V,summaryValue:VV,buttonField:GV,exhibitionLink:qV,mypageLink:WV};function XV(){const{reservationId:t}=Fs(),[e,n]=P.useState([]),{exhibition_location:i,exhibition_title:r,exhibition_poster:s,exhibition_id:l,reservation_total_price:d,reservation_number_of_tickets:f,reservation_datetime:p}=e,_=[{label:"",value:e?r:""},{label:"",value:e?i:""},{label:"",value:(S=>{if(S)return S.split(" ")[0]})(p)},{label:"",value:`${f}`},{label:"",value:`${d}`}];return P.useEffect(()=>{(async()=>{try{const A=await mt.get("/api/users/me/exhibitions");n(A.data.find(T=>T.id===t))}catch(A){console.error(A)}})()},[]),b.jsxs("div",{className:Ns.layout,children:[b.jsx("h1",{className:Ns.title,children:"  "}),b.jsx("img",{className:Ns.posterImage,src:s,alt:"  "}),b.jsx("div",{className:Ns.completionIcon,children:b.jsx(Ib,{})}),b.jsx("div",{className:Ns.completionTitle,children:"   "}),b.jsx("div",{className:Ns.reservationSummary,children:_.map(S=>b.jsxs("div",{className:Ns.summaryRow,children:[b.jsx("span",{className:Ns.summaryLabel,children:S.label}),b.jsx("span",{className:Ns.summaryValue,children:S.value})]},S.label))}),b.jsxs("div",{className:Ns.buttonField,children:[b.jsx(Rn,{className:Ns.mypageLink,to:"/mypage",children:""}),b.jsx(Rn,{className:Ns.exhibitionLink,to:`/exhibitions/${l}`,children:" "})]})]})}const YV="_container_d64jk_1",KV="_breadcrumb_d64jk_37",ZV="_breadcrumbBack_d64jk_51",QV="_loading_d64jk_63",JV="_error_d64jk_65",eG="_empty_d64jk_67",tG="_exhibitionInfo_d64jk_93",nG="_calendarContainer_d64jk_175",iG="_calendarHeader_d64jk_191",rG="_monthNavigator_d64jk_205",sG="_currentMonth_d64jk_217",aG="_monthButton_d64jk_233",oG="_weekdaysRow_d64jk_275",lG="_weekdayCell_d64jk_291",cG="_weekend_d64jk_305",uG="_calendarGrid_d64jk_313",dG="_dateCell_d64jk_325",fG="_disabled_d64jk_355",hG="_selected_d64jk_355",pG="_today_d64jk_393",mG="_visitorCount_d64jk_425",gG="_countLabel_d64jk_447",xG="_countControls_d64jk_459",yG="_countButton_d64jk_471",bG="_countDisplay_d64jk_513",vG="_reservationInfo_d64jk_531",wG="_infoRow_d64jk_545",_G="_infoLabel_d64jk_573",CG="_infoValue_d64jk_583",SG="_reservationForm_d64jk_597",EG="_formTitle_d64jk_605",AG="_formGroup_d64jk_619",TG="_formLabel_d64jk_627",NG="_formInput_d64jk_643",IG="_reservationSummary_d64jk_685",kG="_summaryTitle_d64jk_703",MG="_summaryImage_d64jk_721",OG="_summaryRow_d64jk_735",RG="_summaryLabel_d64jk_757",DG="_summaryValue_d64jk_773",BG="_completionScreen_d64jk_791",LG="_completionIcon_d64jk_825",jG="_completionTitle_d64jk_851",PG="_completionMessage_d64jk_865",FG="_buttonsContainer_d64jk_879",zG="_actionButton_d64jk_895",HG="_backButton_d64jk_897",et={container:YV,breadcrumb:KV,breadcrumbBack:ZV,loading:QV,error:JV,empty:eG,exhibitionInfo:tG,calendarContainer:nG,calendarHeader:iG,monthNavigator:rG,currentMonth:sG,monthButton:aG,weekdaysRow:oG,weekdayCell:lG,weekend:cG,calendarGrid:uG,dateCell:dG,disabled:fG,selected:hG,today:pG,visitorCount:mG,countLabel:gG,countControls:xG,countButton:yG,countDisplay:bG,reservationInfo:vG,infoRow:wG,infoLabel:_G,infoValue:CG,reservationForm:SG,formTitle:EG,formGroup:AG,formLabel:TG,formInput:NG,reservationSummary:IG,summaryTitle:kG,summaryImage:MG,summaryRow:OG,summaryLabel:RG,summaryValue:DG,completionScreen:BG,completionIcon:LG,completionTitle:jG,completionMessage:PG,buttonsContainer:FG,actionButton:zG,backButton:HG};function UG(){const{exhibitionId:t}=Fs(),e=Jt(),[n,i]=P.useState(null),[r,s]=P.useState(!0),[l,d]=P.useState(null),[f,p]=P.useState(1),[y,_]=P.useState(""),[S,A]=P.useState(1),[T,O]=P.useState({name:"",phone:"",email:"",date:"",gallery:"",state:""}),R=new Date,[B,G]=P.useState(R.getMonth()),[j,k]=P.useState(R.getFullYear());P.useEffect(()=>{t&&(async()=>{try{const le=await pi.get(`/api/exhibitions/${t}`);i(le.data)}catch{d("     .")}finally{s(!1)}})()},[t]),P.useEffect(()=>{n&&O(Z=>({...Z,gallery:n.exhibition_location}))},[n]),P.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[f]);const D=()=>{const Z=new Date(j,B+1,0).getDate(),le=new Date(j,B,1).getDay(),xe=[];return Array.from({length:le}).forEach(()=>{xe.push({day:"",disabled:!0})}),Array.from({length:Z}).forEach((Ce,Q)=>{const fe=Q+1,Ee=new Date(j,B,fe),Re=Ee.toDateString()===new Date().toDateString(),He=Ee<new Date(new Date().setHours(0,0,0,0));xe.push({day:fe,date:Ee,disabled:He,isToday:Re})}),xe},L=()=>{G(Z=>Z===11?0:Z+1),B===11&&k(Z=>Z+1)},z=()=>{G(Z=>Z===0?11:Z-1),B===0&&k(Z=>Z-1)},V=Z=>{if(Z.disabled)return;const le=`${j}.${String(B+1).padStart(2,"0")}.${String(Z.day).padStart(2,"0")}`;_(le),O(xe=>({...xe,date:le}))},X=Z=>{const le=S+Z;le>=1&&le<=10&&A(le)},ie=Z=>{const{name:le,value:xe}=Z.target;O(Ce=>({...Ce,[le]:xe}))},ae=async()=>{if(f===1&&!y){alert(" .");return}if(f===2&&(!T.name||!T.phone||!T.email)){alert("   .");return}if(f===2)try{const Z=await pi.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:S,reservation_datetime:y,visitor_name:T.name,visitor_phone:T.phone,visitor_email:T.email,payment_method:"",total_price:0});console.log(" :",Z.data)}catch(Z){console.error(" :",Z),alert("    .");return}p(f+1)},ue=()=>{p(f-1)},Ie=()=>{localStorage.setItem("fromReservationModal","true"),e("/mypage")};if(r)return b.jsx("div",{className:et.loading,children:" ..."});if(l)return b.jsx("div",{className:et.error,children:l});if(!n)return b.jsx("div",{className:et.empty,children:"    ."});const Se=["","","","","","",""],te=[{label:"",value:n?n.exhibition_title:""},{label:"",value:y},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:T.name},{label:"",value:T.phone},{label:"",value:T.email}];return console.log(n.exhibition_poster),b.jsxs("div",{className:et.container,children:[b.jsxs("div",{className:et.breadcrumb,children:[b.jsx("span",{className:et.breadcrumbBack,onClick:()=>e(`/exhibitions/${t}`),children:""})," ","> "]}),f===1&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:et.exhibitionInfo,children:[b.jsx("strong",{children:n.exhibition_title}),b.jsx("p",{children:n.exhibition_organization})]}),b.jsxs("div",{className:et.calendarContainer,children:[b.jsx("div",{className:et.calendarHeader,children:b.jsxs("div",{className:et.monthNavigator,children:[b.jsx("button",{className:et.monthButton,onClick:z,children:"<"}),b.jsx("span",{className:et.currentMonth,children:`${j}.${String(B+1).padStart(2,"0")}`}),b.jsx("button",{className:et.monthButton,onClick:L,children:">"})]})}),b.jsx("div",{className:et.weekdaysRow,children:Se.map((Z,le)=>b.jsx("div",{className:`${et.weekdayCell} ${le===0||le===6?et.weekend:""}`,children:Z},Z))}),b.jsx("div",{className:et.calendarGrid,children:D().map((Z,le)=>{const xe=Z.day?`${j}-${B}-${Z.day}`:`empty-${le}`;return b.jsx("div",{className:`${et.dateCell} ${Z.disabled?et.disabled:""} ${Z.isToday?et.today:""} ${y&&Z.day&&y===`${j}.${String(B+1).padStart(2,"0")}.${String(Z.day).padStart(2,"0")}`?et.selected:""}`,onClick:()=>V(Z),children:Z.day},xe)})})]}),b.jsxs("div",{className:et.visitorCount,children:[b.jsx("span",{className:et.countLabel,children:""}),b.jsxs("div",{className:et.countControls,children:[b.jsx("button",{className:et.countButton,onClick:()=>X(-1),children:"-"}),b.jsxs("span",{className:et.countDisplay,children:[S,""]}),b.jsx("button",{className:et.countButton,onClick:()=>X(1),children:"+"})]})]}),b.jsxs("div",{className:et.reservationInfo,children:[b.jsxs("div",{className:et.infoRow,children:[b.jsx("span",{className:et.infoLabel,children:""}),b.jsx("span",{className:et.infoValue,children:y||""})]}),b.jsxs("div",{className:et.infoRow,children:[b.jsx("span",{className:et.infoLabel,children:""}),b.jsxs("span",{className:et.infoLabel,children:[S,""]})]}),b.jsxs("div",{className:et.infoRow,children:[b.jsx("span",{className:et.infoLabel,children:""}),b.jsx("span",{className:et.infoValue,children:n.exhibition_location})]})]})]}),f===2&&b.jsxs("div",{className:et.reservationForm,children:[b.jsx("h3",{className:et.formTitle,children:"  "}),["name","phone","email"].map(Z=>b.jsxs("div",{className:et.formGroup,children:[b.jsx("label",{className:et.formLabel,children:Z==="name"?"":Z==="phone"?"":""}),b.jsx("input",{className:et.formInput,type:Z==="email"?"email":Z==="phone"?"tel":"text",name:Z,value:T[Z],onChange:ie,placeholder:Z==="name"?" ":Z==="phone"?"010-0000-0000":"example@email.com"})]},Z)),b.jsxs("div",{className:et.reservationSummary,children:[b.jsx("div",{className:et.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:y},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:" "}].map(Z=>b.jsxs("div",{className:et.summaryRow,children:[b.jsx("span",{className:et.summaryLabel,children:Z.label}),b.jsx("span",{className:et.summaryValue,children:Z.value})]},Z.label))]})]}),f===3&&b.jsxs("div",{className:et.completionScreen,children:[b.jsx("div",{className:et.completionIcon,children:b.jsx(Ib,{})}),b.jsx("div",{className:et.completionTitle,children:"   "}),b.jsxs("div",{className:et.completionMessage,children:[T.name,"   ."]}),b.jsxs("div",{className:et.reservationSummary,children:[b.jsx("img",{className:et.summaryImage,src:n.exhibition_poster}),te.map(Z=>b.jsx("div",{className:et.summaryRow,children:Z.label===""?b.jsx("h2",{className:et.summaryTitle,children:Z.value}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:et.summaryLabel,children:Z.label}),b.jsx("span",{className:et.summaryValue,children:Z.value})]})},Z.label))]})]}),b.jsx("div",{className:et.buttonsContainer,children:f===1?b.jsx("button",{className:et.actionButton,onClick:ae,children:""}):f===2?b.jsxs(b.Fragment,{children:[b.jsx("button",{className:et.backButton,onClick:ue,children:""}),b.jsx("button",{className:et.actionButton,onClick:ae,children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{className:et.backButton,onClick:()=>e("/exhibitions"),children:""}),b.jsx("button",{className:et.actionButton,onClick:Ie,children:" "})]})})]})}const $G="_actionContainer_1c1fc_1",VG="_actionButton_1c1fc_19",GG="_actionButtonActive_1c1fc_131",qG="_actionButtonInactive_1c1fc_141",s1={actionContainer:$G,actionButton:VG,actionButtonActive:GG,actionButtonInactive:qG};function WG({tabList:t,activeTab:e,onTabChange:n}){return b.jsx("nav",{className:s1.actionContainer,children:t.map(i=>b.jsx("button",{onClick:()=>n(i),className:`${s1.actionButton} ${e===i?s1.actionButtonActive:s1.actionButtonInactive}`,children:i},i))})}function XG(t){return mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Db(t){return mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function YG(t){return mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function KG(t="",e=""){const[n,i]=P.useState(!1),[r,s]=P.useState(t||e),l=P.useRef(null);return P.useEffect(()=>{const _=S=>{l.current&&!l.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),{isOpen:n,selectedValue:r,dropdownRef:l,handleOptionClick:(_,S)=>{s(_.name),S(_.value),i(!1)},toggleDropdown:()=>{i(!n)},closeDropdown:()=>{i(!1)},openDropdown:()=>{i(!0)},setSelectedValue:s}}const ZG="_dropdownWrapper_1dzyt_3",QG="_inputContainer_1dzyt_13",JG="_dropdownTrigger_1dzyt_37",eq="_dropdownList_1dzyt_51",tq="_dropdownItem_1dzyt_81",nq="_dropdownItemActive_1dzyt_121",iq="_inputField_1dzyt_161",rq="_chevron_1dzyt_223",sq="_chevronOpen_1dzyt_275",Xs={dropdownWrapper:ZG,inputContainer:QG,dropdownTrigger:JG,dropdownList:eq,dropdownItem:tq,dropdownItemActive:nq,inputField:iq,chevron:rq,chevronOpen:sq};function zl({value:t,onChange:e,placeholder:n=" ",isInput:i=!1,options:r=[],title:s=" "}){var _;const{isOpen:l,dropdownRef:d,handleOptionClick:f,toggleDropdown:p}=KG(t,n),y=((_=r.find(S=>S.value===t))==null?void 0:_.name)||t||n;return i?b.jsx("div",{className:Xs.inputContainer,children:b.jsx("input",{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:n,className:Xs.inputField})}):b.jsx("div",{className:Xs.dropdownWrapper,children:b.jsxs("div",{className:Xs.inputContainer,ref:d,children:[b.jsxs("div",{className:Xs.dropdownTrigger,onClick:p,children:[b.jsx("span",{className:Xs.inputField,children:y}),b.jsx(XG,{className:`${Xs.chevron} ${l?Xs.chevronOpen:""}`})]}),l&&b.jsx("div",{className:Xs.dropdownList,children:r.map(S=>b.jsx("div",{className:`${Xs.dropdownItem} ${t===S.value?Xs.dropdownItemActive:""}`,onClick:()=>f(S,e),children:S.name},S.id))})]})})}const aq="_countText_1ceqk_3",oq={countText:aq};function Hl({count:t}){return b.jsxs("span",{className:oq.countText,children:[" ",t,""]})}const lq="_registerButton_1esip_3",cq={registerButton:lq};function Ul({buttonText:t,onButtonClick:e}){return b.jsx("button",{onClick:e,className:cq.registerButton,children:t})}const uq="_container_1oiix_3",dq="_message_1oiix_33",fq="_buttonText_1oiix_57",hq="_instruction_1oiix_67",kf={container:uq,message:dq,buttonText:fq,instruction:hq};function r0({message:t,buttonText:e}){return b.jsxs("div",{className:kf.container,children:[b.jsx("p",{className:kf.message,children:t}),b.jsx("p",{className:kf.buttonText,children:e}),b.jsx("p",{className:kf.instruction,children:" "}),b.jsx("p",{className:kf.instruction,children:"  ."})]})}const pq="_spinnerContainer_1uyaq_3",mq="_spinner_1uyaq_3",rS={spinnerContainer:pq,spinner:mq};function s0(){return b.jsx("div",{className:rS.spinnerContainer,children:b.jsx("div",{className:rS.spinner})})}function AT({onSearch:t,onEmptySearch:e,onSearchValueChange:n,onClearSearch:i,minLength:r=2,delay:s=500}){const[l,d]=P.useState(""),f=P.useRef(null),p=_=>{if(d(_),n&&n(_),f.current&&clearTimeout(f.current),!_.trim()){e&&e();return}_.trim().length<r||(f.current=setTimeout(()=>{t(_)},s))},y=()=>{p(""),i&&i()};return P.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),{searchValue:l,handleSearchChange:p,clearSearch:y}}const gq="_contentContainer_10wsc_3",xq="_emptyStateContainer_10wsc_15",yq="_searchContainer_10wsc_23",bq="_galleryCard_10wsc_31",vq="_cardContent_10wsc_41",wq="_cardInfo_10wsc_51",_q="_cardHeader_10wsc_63",Cq="_cardFooter_10wsc_75",Sq="_countAndButtonContainer_10wsc_121",Eq="_errorMessage_10wsc_137",Aq="_galleryImage_10wsc_161",Tq="_deleteButton_10wsc_183",Nq="_galleryAddress_10wsc_193",Iq="_galleryTitle_10wsc_259",kq="_galleryClosedDay_10wsc_295",Mq="_galleryTime_10wsc_305",Oq="_separator_10wsc_325",hi={contentContainer:gq,emptyStateContainer:xq,searchContainer:yq,galleryCard:bq,cardContent:vq,cardInfo:wq,cardHeader:_q,cardFooter:Cq,countAndButtonContainer:Sq,errorMessage:Eq,galleryImage:Aq,deleteButton:Tq,galleryAddress:Nq,galleryTitle:Iq,galleryClosedDay:kq,galleryTime:Mq,separator:Oq};function Rq({galleryList:t,onDelete:e,loadGalleries:n,isLoading:i,isSearching:r,error:s}){const l=Jt(),{searchValue:d,handleSearchChange:f}=AT({onSearch:n,onEmptySearch:()=>n(""),minLength:2,delay:500}),p=Array.isArray(t)?t:[],y=_=>{window.confirm("   ?")&&e(_,"gallery")};return i?b.jsx("div",{className:hi.contentContainer,children:b.jsx(s0,{})}):s?b.jsx("div",{className:hi.contentContainer,children:b.jsxs("div",{className:hi.errorMessage,children:[" : ",s]})}):p.length>0?b.jsxs("div",{className:hi.contentContainer,children:[b.jsx(zl,{value:d,onChange:f,placeholder:" ",isInput:!0}),b.jsxs("div",{className:hi.countAndButtonContainer,children:[b.jsx(Hl,{count:p.length}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:hi.contentContainer,children:p.map(_=>b.jsxs("div",{className:hi.galleryCard,onClick:()=>l(`/console/galleries/${_.id}`),children:[b.jsxs("div",{className:hi.cardContent,children:[b.jsx("img",{src:_.image,alt:_.name,className:hi.galleryImage}),b.jsxs("div",{className:hi.cardInfo,children:[b.jsxs("div",{className:hi.cardHeader,children:[b.jsx("h3",{className:hi.galleryTitle,children:_.name}),b.jsx("button",{onClick:()=>y(_.id),className:hi.deleteButton,children:b.jsx(Db,{size:18})})]}),b.jsx("p",{className:hi.galleryAddress,children:_.address}),b.jsxs("p",{className:hi.galleryClosedDay,children:[" | ",_.closedDay]}),b.jsx("p",{className:hi.galleryTime,children:_.time})]})]}),b.jsxs("div",{className:hi.cardFooter,children:[b.jsxs("span",{children:["  ",_.registered,""]}),b.jsx("span",{className:hi.separator,children:"|"}),b.jsxs("span",{children:[" ",_.liked,""]})]})]},_.id))})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:hi.searchContainer,children:b.jsx(zl,{value:d,onChange:f,placeholder:" ",isInput:!0})}),b.jsxs("div",{className:hi.countAndButtonContainer,children:[b.jsx(Hl,{count:0}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:hi.emptyStateContainer,children:b.jsx(r0,{message:"  .",buttonText:"+ "})})]})}const Dq="_contentContainer_saw3c_3",Bq="_emptyStateContainer_saw3c_15",Lq="_searchContainer_saw3c_23",jq="_galleryCard_saw3c_31",Pq="_cardContent_saw3c_39",Fq="_cardInfo_saw3c_49",zq="_cardHeader_saw3c_61",Hq="_galleryImage_saw3c_121",Uq="_deleteButton_saw3c_143",$q="_galleryAddress_saw3c_153",Vq="_galleryFloor_saw3c_161",Gq="_galleryTitle_saw3c_197",qq="_countAndButtonContainer_saw3c_339",Wq="_errorMessage_saw3c_365",Fi={contentContainer:Dq,emptyStateContainer:Bq,searchContainer:Lq,galleryCard:jq,cardContent:Pq,cardInfo:Fq,cardHeader:zq,galleryImage:Hq,deleteButton:Uq,galleryAddress:$q,galleryFloor:Vq,galleryTitle:Gq,countAndButtonContainer:qq,errorMessage:Wq};function Xq({exhibitionList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadExhibitions:r,isLoading:s,error:l,galleryList:d}){const f=Jt(),p=T=>{window.confirm("   ?")&&i(T,"exhibition")},y=P.useCallback(T=>{if(T===" ")return" ";const O=d.find(R=>R.name===T);return O?O.id:" "},[d]);P.useEffect(()=>{if(d.length>0&&e){const T=y(e);r(T)}else d.length>0&&r(" ")},[e,d]);const _=P.useMemo(()=>y(e),[e,d,y]),S=t.filter(T=>e===" "?!0:T.gallery_id&&_?String(T.gallery_id)===String(_):T.gallery_name===e),A=P.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],O=new Set(t.map(B=>B.gallery_id).filter(Boolean)),R=new Set(t.map(B=>B.gallery_name).filter(Boolean));return d.forEach(B=>{(O.has(B.id)||R.has(B.name))&&T.push({id:B.id,name:B.name,value:B.name})}),T},[d,t]);return s?b.jsx("div",{className:Fi.contentContainer,children:b.jsx(s0,{})}):l?b.jsx("div",{className:Fi.contentContainer,children:b.jsxs("div",{className:Fi.errorMessage,children:[" : ",l]})}):S.length>0?b.jsxs("section",{className:Fi.contentContainer,children:[b.jsx(zl,{value:e,onChange:n,options:A}),b.jsxs("div",{className:Fi.countAndButtonContainer,children:[b.jsx(Hl,{count:S.length}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:Fi.contentContainer,children:S.map(T=>b.jsx("div",{className:Fi.galleryCard,onClick:()=>f(`/console/exhibitions/${T.id}`),children:b.jsxs("div",{className:Fi.cardContent,children:[b.jsx("img",{src:T.image,alt:T.title,className:Fi.galleryImage}),b.jsxs("div",{className:Fi.cardInfo,children:[b.jsxs("div",{className:Fi.cardHeader,children:[b.jsx("h3",{className:Fi.galleryTitle,children:T.title}),b.jsx("button",{onClick:()=>p(T.id),className:Fi.deleteButton,children:b.jsx(Db,{size:18})})]}),b.jsx("p",{className:Fi.galleryAddress,children:T.period}),b.jsx("p",{className:Fi.galleryFloor,children:T.gallery_name})]})]})},T.id))})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:Fi.searchContainer,children:b.jsx(zl,{value:e,onChange:n,options:A})}),b.jsxs("div",{className:Fi.countAndButtonContainer,children:[b.jsx(Hl,{count:0}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:Fi.emptyStateContainer,children:b.jsx(r0,{message:"  .",buttonText:"+ "})})]})}const Yq="_contentContainer_1tvi0_3",Kq="_emptyStateContainer_1tvi0_15",Zq="_searchContainer_1tvi0_23",Qq="_artworkCard_1tvi0_31",Jq="_artworkContent_1tvi0_39",eW="_artworkInfo_1tvi0_51",tW="_artworkImage_1tvi0_111",nW="_deleteButton_1tvi0_123",iW="_artworkTitle_1tvi0_161",rW="_artworkArtist_1tvi0_171",sW="_countAndButtonContainer_1tvi0_283",aW="_errorMessage_1tvi0_325",lr={contentContainer:Yq,emptyStateContainer:Kq,searchContainer:Zq,artworkCard:Qq,artworkContent:Jq,artworkInfo:eW,artworkImage:tW,deleteButton:nW,artworkTitle:iW,artworkArtist:rW,countAndButtonContainer:sW,errorMessage:aW};function oW({artworkList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadArtworks:r,isLoading:s,error:l,galleryList:d}){const f=Jt(),p=T=>{window.confirm("   ?")&&i(T,"artwork")},y=P.useCallback(T=>{if(T===" ")return" ";const O=d.find(R=>R.name===T);return O?O.id:" "},[d]);P.useEffect(()=>{if(d.length>0&&e){const T=y(e);r(T)}else d.length>0&&r(" ")},[e,d]);const _=P.useMemo(()=>y(e),[e,d,y]),S=t.filter(T=>e===" "?!0:T.gallery_id&&_?String(T.gallery_id)===String(_):T.gallery_name===e),A=P.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],O=new Set(t.map(B=>B.gallery_id).filter(Boolean)),R=new Set(t.map(B=>B.gallery_name).filter(Boolean));return d.forEach(B=>{(O.has(B.id)||R.has(B.name))&&T.push({id:B.id,name:B.name,value:B.name})}),T},[d,t]);return s?b.jsx("div",{className:lr.contentContainer,children:b.jsx(s0,{})}):l?b.jsx("div",{className:lr.contentContainer,children:b.jsxs("div",{className:lr.errorMessage,children:[" : ",l]})}):S.length>0?b.jsxs("section",{className:lr.contentContainer,children:[b.jsx(zl,{value:e,onChange:n,options:A}),b.jsxs("div",{className:lr.countAndButtonContainer,children:[b.jsx(Hl,{count:S.length}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:lr.contentContainer,children:S.map(T=>b.jsx("div",{className:lr.artworkCard,onClick:()=>f(`/console/artworks/${T.id}`),children:b.jsxs("div",{className:lr.artworkContent,children:[b.jsx("img",{src:T.image,alt:T.title,className:lr.artworkImage}),b.jsxs("div",{className:lr.artworkInfo,children:[b.jsxs("div",{children:[b.jsx("h3",{className:lr.artworkTitle,children:T.title}),b.jsx("p",{className:lr.artworkArtist,children:T.artist})]}),b.jsx("button",{onClick:()=>p(T.id),className:lr.deleteButton,children:b.jsx(Db,{size:18})})]})]})},T.id))})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:lr.searchContainer,children:b.jsx(zl,{value:e,onChange:n,options:A})}),b.jsxs("div",{className:lr.countAndButtonContainer,children:[b.jsx(Hl,{count:0}),b.jsx(Ul,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:lr.emptyStateContainer,children:b.jsx(r0,{message:"  .",buttonText:"+ "})})]})}const lW="_overlay_1vrfn_3",cW="_modal_1vrfn_15",uW="_header_1vrfn_23",dW="_countBadge_1vrfn_35",fW="_label_1vrfn_43",hW="_buttonContainer_1vrfn_51",pW="_closeButton_1vrfn_113",mW="_headerSpacer_1vrfn_121",gW="_formGroup_1vrfn_137",xW="_input_1vrfn_153",yW="_textarea_1vrfn_177",bW="_sendButton_1vrfn_205",vW="_title_1vrfn_285",vr={overlay:lW,modal:cW,header:uW,countBadge:dW,label:fW,buttonContainer:hW,closeButton:pW,headerSpacer:mW,formGroup:gW,input:xW,textarea:yW,sendButton:bW,title:vW};function sS({isOpen:t,onClose:e,selectedUsersCount:n,onSendAlarm:i}){const[r,s]=P.useState(""),[l,d]=P.useState(""),f=()=>{s(""),d(""),e()};if(!t)return null;const p=()=>{if(!r.trim()){alert(" .");return}if(!l.trim()){alert("  .");return}if(n===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(i(),s(""),d(""))};return b.jsx("div",{className:vr.overlay,children:b.jsxs("div",{className:vr.modal,children:[b.jsxs("header",{className:vr.header,children:[b.jsx("button",{onClick:f,className:vr.closeButton,children:b.jsx(YG,{size:24})}),b.jsx("h2",{className:vr.title,children:" "}),b.jsx("div",{className:vr.headerSpacer})]}),b.jsx("div",{className:vr.countBadge,children:b.jsxs("span",{children:["  :  ",n,""]})}),b.jsxs("div",{className:vr.formGroup,children:[b.jsx("label",{className:vr.label,children:""}),b.jsx("input",{type:"text",className:vr.input,placeholder:" ",value:r,onChange:y=>s(y.target.value)})]}),b.jsxs("div",{className:vr.formGroup,children:[b.jsx("label",{className:vr.label,children:" ( 80)"}),b.jsx("textarea",{className:vr.textarea,placeholder:"  ",maxLength:80,value:l,onChange:y=>d(y.target.value)})]}),b.jsx("div",{className:vr.buttonContainer,children:b.jsx("button",{onClick:p,className:vr.sendButton,children:""})})]})})}const wW="_tableContainer_4szxc_3",_W="_tableFilters_4szxc_19",CW="_table_4szxc_3",SW="_tableHeader_4szxc_55",EW="_tableRow_4szxc_63",AW="_tableCell_4szxc_71",TW="_filterButton_4szxc_121",NW="_tableHeaderCell_4szxc_159",IW="_tableHeaderCellCheckbox_4szxc_171",kW="_filterButtonActive_4szxc_249",MW="_tableCellGray_4szxc_319",qn={tableContainer:wW,tableFilters:_W,table:CW,tableHeader:SW,tableRow:EW,tableCell:AW,filterButton:TW,tableHeaderCell:NW,tableHeaderCellCheckbox:IW,filterButtonActive:kW,tableCellGray:MW};function OW({interestedUserList:t,selectedUserList:e,onUserSelect:n,onSelectAll:i,isAllSelected:r,activeTab:s,onTabChange:l}){const d=p=>{l(p)},f=()=>{i(t)};return b.jsxs("div",{className:qn.tableContainer,children:[b.jsxs("div",{className:qn.tableFilters,children:[b.jsx("button",{className:`${qn.filterButton} ${s==="all"?qn.filterButtonActive:""}`,onClick:()=>d("all"),children:""}),b.jsx("button",{className:`${qn.filterButton} ${s==="gallery"?qn.filterButtonActive:""}`,onClick:()=>d("gallery"),children:""}),b.jsx("button",{className:`${qn.filterButton} ${s==="exhibition"?qn.filterButtonActive:""}`,onClick:()=>d("exhibition"),children:""}),b.jsx("button",{className:`${qn.filterButton} ${s==="art"?qn.filterButtonActive:""}`,onClick:()=>d("art"),children:""})]}),b.jsxs("table",{className:qn.table,children:[b.jsx("thead",{className:qn.tableHeader,children:b.jsxs("tr",{children:[b.jsx("th",{className:`${qn.tableHeaderCell} ${qn.tableHeaderCellCheckbox}`,children:b.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:r(t),onChange:f})}),b.jsx("th",{className:qn.tableHeaderCell,children:""}),b.jsx("th",{className:qn.tableHeaderCell,children:""}),b.jsx("th",{className:qn.tableHeaderCell,children:""})]})}),b.jsx("tbody",{children:t.map(p=>b.jsxs("tr",{className:qn.tableRow,children:[b.jsx("td",{className:qn.tableCell,children:b.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:e.includes(p.id),onChange:()=>n(p.id)})}),b.jsx("td",{className:qn.tableCell,children:p.category}),b.jsx("td",{className:qn.tableCell,children:p.name}),b.jsx("td",{className:`${qn.tableCell} ${qn.tableCellGray}`,children:p.date})]},p.id))})]})]})}function RW(){const[t,e]=P.useState([]);return{selectedUserList:t,handleUserSelect:l=>{e(d=>d.includes(l)?d.filter(f=>f!==l):[...d,l])},handleSelectAll:l=>{if(l.length>0&&l.every(f=>t.includes(f.id))){const f=t.filter(p=>!l.some(y=>y.id===p));e(f)}else{const p=l.filter(y=>!t.includes(y.id)).map(y=>y.id);e(y=>[...y,...p])}},clearSelection:()=>{e([])},isAllSelected:l=>l.length>0&&l.every(d=>t.includes(d.id))}}function DW(){const{user:t}=ta(),[e,n]=P.useState([]),[i,r]=P.useState(!1),[s,l]=P.useState(!1),[d,f]=P.useState(null),[p,y]=P.useState("all"),_=async(B="gallery",G="")=>{var j,k;try{r(!0);const D=t,L=await mt.get(`/api/users/console/likes?liked_type=${B}${G?`&search=${G}`:""}`,{headers:{Authorization:`Bearer ${D}`}});console.log(" API :",L.data);const z=Array.isArray(L.data)?L.data.map(V=>{var X,ie,ae,ue,Ie,Se,te,Z;return{id:V.id,name:((X=V.user)==null?void 0:X.user_name)||"  ",category:((ie=V.gallery)==null?void 0:ie.gallery_name)||((ae=V.exhibition)==null?void 0:ae.exhibition_title)||((ue=V.art)==null?void 0:ue.art_title)||" ",date:V.create_dtm?new Date(V.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Ie=V.user)==null?void 0:Ie.user_name)||"  ",galleryName:((Se=V.gallery)==null?void 0:Se.gallery_name)||"  ",exhibitionName:((te=V.exhibition)==null?void 0:te.exhibition_title)||"  ",artworkName:((Z=V.art)==null?void 0:Z.art_title)||"  ",type:B}}):[];console.log("  :",z),n(z)}catch(D){f(D.message),console.error("   :",D),console.error(" :",(j=D.response)==null?void 0:j.data),console.error(" :",(k=D.response)==null?void 0:k.status),n([])}finally{r(!1)}};[...e].sort((B,G)=>{const j=new Date(B.date.replace(/\./g,"-"));return new Date(G.date.replace(/\./g,"-"))-j});const S=async B=>{if(y(B),B==="all")try{r(!0);const[G,j,k]=await Promise.all([mt.get("/api/users/console/likes?liked_type=gallery"),mt.get("/api/users/console/likes?liked_type=exhibition"),mt.get("/api/users/console/likes?liked_type=art")]),D=[...Array.isArray(G.data)?G.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.gallery)==null?void 0:V.gallery_name)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:((ie=L.gallery)==null?void 0:ie.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(j.data)?j.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.exhibition)==null?void 0:V.exhibition_title)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:"  ",exhibitionName:((ie=L.exhibition)==null?void 0:ie.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(k.data)?k.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.art)==null?void 0:V.art_title)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((ie=L.art)==null?void 0:ie.art_title)||"  ",type:"art"}}):[]];n(D)}catch(G){f(G.message),console.error("    :",G),n([])}finally{r(!1)}else await _(B)},A=async B=>{if(l(!0),p==="all")try{r(!0);const[G,j,k]=await Promise.all([mt.get(`/api/users/console/likes?liked_type=gallery&search=${B}`),mt.get(`/api/users/console/likes?liked_type=exhibition&search=${B}`),mt.get(`/api/users/console/likes?liked_type=art&search=${B}`)]),D=[...Array.isArray(G.data)?G.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.gallery)==null?void 0:V.gallery_name)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:((ie=L.gallery)==null?void 0:ie.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(j.data)?j.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.exhibition)==null?void 0:V.exhibition_title)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:"  ",exhibitionName:((ie=L.exhibition)==null?void 0:ie.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(k.data)?k.data.map(L=>{var z,V,X,ie;return{id:L.id,name:((z=L.user)==null?void 0:z.user_name)||"  ",category:((V=L.art)==null?void 0:V.art_title)||" ",date:L.create_dtm?new Date(L.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((X=L.user)==null?void 0:X.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((ie=L.art)==null?void 0:ie.art_title)||"  ",type:"art"}}):[]];n(D)}catch(G){f(G.message),console.error(" :",G),n([])}finally{r(!1),l(!1)}else try{r(!0),await _(p,B)}finally{l(!1)}},{searchValue:T,handleSearchChange:O,clearSearch:R}=AT({onSearch:A,onEmptySearch:()=>S(p),onClearSearch:async()=>{p==="all"?await S("all"):await _(p,"")},minLength:2,delay:500});return P.useEffect(()=>{S("all")},[]),{interestedUserList:e,setInterestedUserList:n,searchQuery:T,isLoading:i,isSearching:s,error:d,activeTab:p,loadInterestedUsers:_,handleSearchChange:O,clearSearch:R,handleTabChange:S}}const BW="_contentContainer_1mn9m_3",LW="_emptyStateContainer_1mn9m_29",jW="_searchContainer_1mn9m_63",PW="_countAndButtonContainer_1mn9m_73",FW="_errorMessage_1mn9m_113",gl={contentContainer:BW,emptyStateContainer:LW,searchContainer:jW,countAndButtonContainer:PW,errorMessage:FW};function zW(){const[t,e]=P.useState(!1),{selectedUserList:n,handleUserSelect:i,handleSelectAll:r,clearSelection:s,isAllSelected:l}=RW(),{interestedUserList:d,searchQuery:f,isLoading:p,error:y,activeTab:_,handleSearchChange:S,handleTabChange:A}=DW(),T=()=>{n.length!==0&&(alert(`${n.length}    .`),e(!1),s())};return p?b.jsx("div",{className:gl.contentContainer,children:b.jsx(s0,{})}):y?b.jsx("div",{className:gl.contentContainer,children:b.jsxs("div",{className:gl.errorMessage,children:[" : ",y]})}):d.length>0?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:gl.contentContainer,children:[b.jsx(zl,{value:f,onChange:S,placeholder:", , ,  ",isInput:!0}),b.jsxs("div",{className:gl.countAndButtonContainer,children:[b.jsx(Hl,{count:d.length}),b.jsx(Ul,{buttonText:" ",onButtonClick:()=>e(!0)})]}),b.jsx(OW,{interestedUserList:d,selectedUserList:n,onUserSelect:i,onSelectAll:r,isAllSelected:l,activeTab:_,onTabChange:A})]}),b.jsx(sS,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:T})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:gl.searchContainer,children:b.jsx(zl,{value:f,onChange:S,placeholder:", , ,  ",isInput:!0})}),b.jsxs("div",{className:gl.countAndButtonContainer,children:[b.jsx(Hl,{count:0}),b.jsx(Ul,{buttonText:" ",onButtonClick:()=>alert(" ")})]}),b.jsx("section",{className:gl.emptyStateContainer,children:b.jsx(r0,{message:" .",buttonText:" "})}),b.jsx(sS,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:T})]})}function HW(){const[t,e]=P.useState([]),[n,i]=P.useState([]),[r,s]=P.useState([]),[l,d]=P.useState(!1),[f,p]=P.useState(!1),[y,_]=P.useState(null),S=P.useCallback(async(R="")=>{var B,G,j;try{d(!0),R.trim()&&p(!0);const k=new URLSearchParams;R&&k.append("search",R);const D=`/api/galleries${k.toString()?`?${k.toString()}`:""}`,L=await mt.get(D),z=Array.isArray(L.data)?L.data.map(V=>({id:V.id,name:V.gallery_name,address:V.gallery_address,closedDay:V.gallery_closed_day,time:`${V.gallery_start_time} - ${V.gallery_end_time}`,registered:V.exhibitions?V.exhibitions.length:0,liked:V.like_count,image:V.gallery_image})):[];e(z)}catch(k){_(k.message),console.error("   :",k),console.error(" :",(B=k.response)==null?void 0:B.data),console.error(" :",(G=k.response)==null?void 0:G.status),console.error(" :",(j=k.response)==null?void 0:j.headers),e([])}finally{d(!1),p(!1)}},[]),A=P.useCallback(async(R="")=>{try{d(!0);let G="/api/exhibitions";R&&R!==" "&&(G+=`?gallery_id=${R}`);const j=await mt.get(G),k=Array.isArray(j.data)?j.data.map(D=>{var L,z;return{id:D.id,title:D.exhibition_title,period:`${D.exhibition_start_date} - ${D.exhibition_end_date}`,image:D.exhibition_poster||null,gallery_name:((L=D.exhibition_organization)==null?void 0:L.name)||"  ",gallery_id:D.gallery_id||null,value:((z=D.exhibition_organization)==null?void 0:z.name)||"  "}}):[];i(k)}catch(B){_(B.message),console.error("   :",B),i([])}finally{d(!1)}},[]),T=P.useCallback(async(R="")=>{try{d(!0);const B=new URLSearchParams;R&&R!==" "&&B.append("gallery_id",R);const G=`/api/arts${B.toString()?`?${B.toString()}`:""}`,j=await mt.get(G),k=Array.isArray(j.data)?j.data.map(D=>{var X,ie,ae;const L=D.exhibitions&&D.exhibitions.length>0?D.exhibitions[0]:null,z=((X=L==null?void 0:L.gallery)==null?void 0:X.gallery_name)||"  ",V=(L==null?void 0:L.gallery_id)||((ie=L==null?void 0:L.gallery)==null?void 0:ie.id)||null;return{id:D.id,title:D.art_title,artist:((ae=D.artist)==null?void 0:ae.artist_name)||"  ",image:D.art_image||null,gallery_name:z,gallery_id:V,value:z}}):[];s(k)}catch(B){_(B.message),console.error("   :",B),s([])}finally{d(!1)}},[]);return P.useEffect(()=>{S()},[]),{galleryList:t,exhibitionList:n,artworkList:r,handleDelete:async(R,B)=>{try{B==="gallery"?(await mt.delete(`/api/galleries/${R}`),e(G=>G.filter(j=>j.id!==R))):B==="exhibition"?(await mt.delete(`/api/exhibitions/${R}`),i(G=>G.filter(j=>j.id!==R))):B==="artwork"&&(await mt.delete(`/api/arts/${R}`),s(G=>G.filter(j=>j.id!==R)))}catch(G){_(G.message),console.error(" :",G),alert(" .  .")}},loadGalleries:S,loadExhibitions:A,loadArtworks:T,isLoading:l,isSearching:f,error:y}}const UW="_layout_11ovy_3",$W="_tabSection_11ovy_17",VW="_content_11ovy_35",sy={layout:UW,tabSection:$W,content:VW};function GW(){const t=gi(),[e,n]=P.useState(""),[i,r]=P.useState(" ");P.useEffect(()=>{var B;(B=t.state)!=null&&B.activeTab&&n(t.state.activeTab)},[t.state]);const s=B=>{n(B),r(" ")},l=["","","",""],{galleryList:d,exhibitionList:f,artworkList:p,handleDelete:y,loadGalleries:_,loadExhibitions:S,loadArtworks:A,isLoading:T,isSearching:O,error:R}=HW();return b.jsxs("div",{className:sy.layout,children:[b.jsx("div",{className:sy.tabSection,children:b.jsx(WG,{tabList:l,activeTab:e,onTabChange:s})}),b.jsxs("div",{className:sy.content,children:[e===""&&b.jsx(Rq,{galleryList:d,onDelete:y,loadGalleries:_,isLoading:T,isSearching:O,error:R}),e===""&&b.jsx(Xq,{exhibitionList:f,selectedGallery:i,onGalleryChange:r,onDelete:y,loadExhibitions:S,isLoading:T,error:R,galleryList:d}),e===""&&b.jsx(oW,{artworkList:p,selectedGallery:i,onGalleryChange:r,onDelete:y,loadArtworks:A,isLoading:T,error:R,galleryList:d}),e===""&&b.jsx(zW,{})]})]})}function qW(){return b.jsxs(b.Fragment,{children:[b.jsx(fA,{}),b.jsx(UA,{}),b.jsx("div",{style:{flex:1},children:b.jsx(vb,{})}),b.jsx(GA,{})]})}const WW="_layout_gwo49_1",XW="_header_gwo49_9",YW="_title_gwo49_35",KW="_backButton_gwo49_45",ZW="_content_gwo49_63",QW="_adminTabNav_gwo49_77",JW="_adminTabButton_gwo49_103",eX="_addButton_gwo49_193",fo={layout:WW,header:XW,title:YW,backButton:KW,content:ZW,adminTabNav:QW,adminTabButton:JW,addButton:eX};var Xu={},ay,aS;function TT(){return aS||(aS=1,ay={L:1,M:0,Q:3,H:2}),ay}var oy,oS;function NT(){return oS||(oS=1,oy={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),oy}var ly,lS;function tX(){if(lS)return ly;lS=1;var t=NT();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},ly=e,ly}var cy,cS;function nX(){if(cS)return cy;cS=1;var t=TT();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var r=e.getRsBlockTable(n,i);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=r.length/3,l=new Array,d=0;d<s;d++)for(var f=r[d*3+0],p=r[d*3+1],y=r[d*3+2],_=0;_<f;_++)l.push(new e(p,y));return l},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},cy=e,cy}var uy,uS;function iX(){if(uS)return uy;uS=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},uy=t,uy}var dy,dS;function IT(){if(dS)return dy;dS=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return dy=t,dy}var fy,fS;function kT(){if(fS)return fy;fS=1;var t=IT();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var r=0;r<n.length&&n[r]==0;)r++;this.num=new Array(n.length-r+i);for(var s=0;s<n.length-r;s++)this.num[s]=n[s+r]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<n.getLength();s++)i[r+s]^=t.gexp(t.glog(this.get(r))+t.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<n.getLength();s++)r[s]^=t.gexp(t.glog(n.get(s))+i);return new e(r,0).mod(n)}},fy=e,fy}var hy,hS;function rX(){if(hS)return hy;hS=1;var t=NT(),e=kT(),n=IT(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;r.getBCHDigit(l)-r.getBCHDigit(r.G15)>=0;)l^=r.G15<<r.getBCHDigit(l)-r.getBCHDigit(r.G15);return(s<<10|l)^r.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;r.getBCHDigit(l)-r.getBCHDigit(r.G18)>=0;)l^=r.G18<<r.getBCHDigit(l)-r.getBCHDigit(r.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;s!=0;)l++,s>>>=1;return l},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,d){switch(s){case i.PATTERN000:return(l+d)%2==0;case i.PATTERN001:return l%2==0;case i.PATTERN010:return d%3==0;case i.PATTERN011:return(l+d)%3==0;case i.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case i.PATTERN101:return l*d%2+l*d%3==0;case i.PATTERN110:return(l*d%2+l*d%3)%2==0;case i.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new e([1],0),d=0;d<s;d++)l=l.multiply(new e([1,n.gexp(d)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(l<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+l)},getLostPoint:function(s){for(var l=s.getModuleCount(),d=0,f=0;f<l;f++)for(var p=0;p<l;p++){for(var y=0,_=s.isDark(f,p),S=-1;S<=1;S++)if(!(f+S<0||l<=f+S))for(var A=-1;A<=1;A++)p+A<0||l<=p+A||S==0&&A==0||_==s.isDark(f+S,p+A)&&y++;y>5&&(d+=3+y-5)}for(var f=0;f<l-1;f++)for(var p=0;p<l-1;p++){var T=0;s.isDark(f,p)&&T++,s.isDark(f+1,p)&&T++,s.isDark(f,p+1)&&T++,s.isDark(f+1,p+1)&&T++,(T==0||T==4)&&(d+=3)}for(var f=0;f<l;f++)for(var p=0;p<l-6;p++)s.isDark(f,p)&&!s.isDark(f,p+1)&&s.isDark(f,p+2)&&s.isDark(f,p+3)&&s.isDark(f,p+4)&&!s.isDark(f,p+5)&&s.isDark(f,p+6)&&(d+=40);for(var p=0;p<l;p++)for(var f=0;f<l-6;f++)s.isDark(f,p)&&!s.isDark(f+1,p)&&s.isDark(f+2,p)&&s.isDark(f+3,p)&&s.isDark(f+4,p)&&!s.isDark(f+5,p)&&s.isDark(f+6,p)&&(d+=40);for(var O=0,p=0;p<l;p++)for(var f=0;f<l;f++)s.isDark(f,p)&&O++;var R=Math.abs(100*O/l/l-50)/5;return d+=R*10,d}};return hy=r,hy}var py,pS;function sX(){if(pS)return py;pS=1;var t=tX(),e=nX(),n=iX(),i=rX(),r=kT();function s(d,f){this.typeNumber=d,this.errorCorrectLevel=f,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=s.prototype;return l.addData=function(d){var f=new t(d);this.dataList.push(f),this.dataCache=null},l.isDark=function(d,f){if(d<0||this.moduleCount<=d||f<0||this.moduleCount<=f)throw new Error(d+","+f);return this.modules[d][f]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var f=e.getRSBlocks(d,this.errorCorrectLevel),p=new n,y=0,_=0;_<f.length;_++)y+=f[_].dataCount;for(var _=0;_<this.dataList.length;_++){var S=this.dataList[_];p.put(S.mode,4),p.put(S.getLength(),i.getLengthInBits(S.mode,d)),S.write(p)}if(p.getLengthInBits()<=y*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(d,f){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++){this.modules[p]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[p][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,f),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,f)},l.setupPositionProbePattern=function(d,f){for(var p=-1;p<=7;p++)if(!(d+p<=-1||this.moduleCount<=d+p))for(var y=-1;y<=7;y++)f+y<=-1||this.moduleCount<=f+y||(0<=p&&p<=6&&(y==0||y==6)||0<=y&&y<=6&&(p==0||p==6)||2<=p&&p<=4&&2<=y&&y<=4?this.modules[d+p][f+y]=!0:this.modules[d+p][f+y]=!1)},l.getBestMaskPattern=function(){for(var d=0,f=0,p=0;p<8;p++){this.makeImpl(!0,p);var y=i.getLostPoint(this);(p==0||d>y)&&(d=y,f=p)}return f},l.createMovieClip=function(d,f,p){var y=d.createEmptyMovieClip(f,p),_=1;this.make();for(var S=0;S<this.modules.length;S++)for(var A=S*_,T=0;T<this.modules[S].length;T++){var O=T*_,R=this.modules[S][T];R&&(y.beginFill(0,100),y.moveTo(O,A),y.lineTo(O+_,A),y.lineTo(O+_,A+_),y.lineTo(O,A+_),y.endFill())}return y},l.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var f=8;f<this.moduleCount-8;f++)this.modules[6][f]==null&&(this.modules[6][f]=f%2==0)},l.setupPositionAdjustPattern=function(){for(var d=i.getPatternPosition(this.typeNumber),f=0;f<d.length;f++)for(var p=0;p<d.length;p++){var y=d[f],_=d[p];if(this.modules[y][_]==null)for(var S=-2;S<=2;S++)for(var A=-2;A<=2;A++)S==-2||S==2||A==-2||A==2||S==0&&A==0?this.modules[y+S][_+A]=!0:this.modules[y+S][_+A]=!1}},l.setupTypeNumber=function(d){for(var f=i.getBCHTypeNumber(this.typeNumber),p=0;p<18;p++){var y=!d&&(f>>p&1)==1;this.modules[Math.floor(p/3)][p%3+this.moduleCount-8-3]=y}for(var p=0;p<18;p++){var y=!d&&(f>>p&1)==1;this.modules[p%3+this.moduleCount-8-3][Math.floor(p/3)]=y}},l.setupTypeInfo=function(d,f){for(var p=this.errorCorrectLevel<<3|f,y=i.getBCHTypeInfo(p),_=0;_<15;_++){var S=!d&&(y>>_&1)==1;_<6?this.modules[_][8]=S:_<8?this.modules[_+1][8]=S:this.modules[this.moduleCount-15+_][8]=S}for(var _=0;_<15;_++){var S=!d&&(y>>_&1)==1;_<8?this.modules[8][this.moduleCount-_-1]=S:_<9?this.modules[8][15-_-1+1]=S:this.modules[8][15-_-1]=S}this.modules[this.moduleCount-8][8]=!d},l.mapData=function(d,f){for(var p=-1,y=this.moduleCount-1,_=7,S=0,A=this.moduleCount-1;A>0;A-=2)for(A==6&&A--;;){for(var T=0;T<2;T++)if(this.modules[y][A-T]==null){var O=!1;S<d.length&&(O=(d[S]>>>_&1)==1);var R=i.getMask(f,y,A-T);R&&(O=!O),this.modules[y][A-T]=O,_--,_==-1&&(S++,_=7)}if(y+=p,y<0||this.moduleCount<=y){y-=p,p=-p;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(d,f,p){for(var y=e.getRSBlocks(d,f),_=new n,S=0;S<p.length;S++){var A=p[S];_.put(A.mode,4),_.put(A.getLength(),i.getLengthInBits(A.mode,d)),A.write(_)}for(var T=0,S=0;S<y.length;S++)T+=y[S].dataCount;if(_.getLengthInBits()>T*8)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+T*8+")");for(_.getLengthInBits()+4<=T*8&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=T*8||(_.put(s.PAD0,8),_.getLengthInBits()>=T*8));)_.put(s.PAD1,8);return s.createBytes(_,y)},s.createBytes=function(d,f){for(var p=0,y=0,_=0,S=new Array(f.length),A=new Array(f.length),T=0;T<f.length;T++){var O=f[T].dataCount,R=f[T].totalCount-O;y=Math.max(y,O),_=Math.max(_,R),S[T]=new Array(O);for(var B=0;B<S[T].length;B++)S[T][B]=255&d.buffer[B+p];p+=O;var G=i.getErrorCorrectPolynomial(R),j=new r(S[T],G.getLength()-1),k=j.mod(G);A[T]=new Array(G.getLength()-1);for(var B=0;B<A[T].length;B++){var D=B+k.getLength()-A[T].length;A[T][B]=D>=0?k.get(D):0}}for(var L=0,B=0;B<f.length;B++)L+=f[B].totalCount;for(var z=new Array(L),V=0,B=0;B<y;B++)for(var T=0;T<f.length;T++)B<S[T].length&&(z[V++]=S[T][B]);for(var B=0;B<_;B++)for(var T=0;T<f.length;T++)B<A[T].length&&(z[V++]=A[T][B]);return z},py=s,py}var a1={},mS;function aX(){if(mS)return a1;mS=1,Object.defineProperty(a1,"__esModule",{value:!0});var t=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(p[S]=_[S])}return p},e=Cb(),n=s(e),i=Kc(),r=s(i);function s(p){return p&&p.__esModule?p:{default:p}}function l(p,y){var _={};for(var S in p)y.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(p,S)&&(_[S]=p[S]);return _}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},f=(0,i.forwardRef)(function(p,y){var _=p.bgColor,S=p.bgD,A=p.fgD,T=p.fgColor,O=p.size,R=p.title,B=p.viewBoxSize,G=p.xmlns,j=G===void 0?"http://www.w3.org/2000/svg":G,k=l(p,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",t({},k,{height:O,ref:y,viewBox:"0 0 "+B+" "+B,width:O,xmlns:j}),R?r.default.createElement("title",null,R):null,r.default.createElement("path",{d:S,fill:_}),r.default.createElement("path",{d:A,fill:T}))});return f.displayName="QRCodeSvg",f.propTypes=d,a1.default=f,a1}var gS;function oX(){if(gS)return Xu;gS=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.QRCode=void 0;var t=Object.assign||function(O){for(var R=1;R<arguments.length;R++){var B=arguments[R];for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(O[G]=B[G])}return O},e=Cb(),n=_(e),i=TT(),r=_(i),s=sX(),l=_(s),d=Kc(),f=_(d),p=aX(),y=_(p);function _(O){return O&&O.__esModule?O:{default:O}}function S(O,R){var B={};for(var G in O)R.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(O,G)&&(B[G]=O[G]);return B}var A={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},T=(0,d.forwardRef)(function(O,R){var B=O.bgColor,G=B===void 0?"#FFFFFF":B,j=O.fgColor,k=j===void 0?"#000000":j,D=O.level,L=D===void 0?"L":D,z=O.size,V=z===void 0?256:z,X=O.value,ie=S(O,["bgColor","fgColor","level","size","value"]),ae=new l.default(-1,r.default[L]);ae.addData(X),ae.make();var ue=ae.modules;return f.default.createElement(y.default,t({},ie,{bgColor:G,bgD:ue.map(function(Ie,Se){return Ie.map(function(te,Z){return te?"":"M "+Z+" "+Se+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:k,fgD:ue.map(function(Ie,Se){return Ie.map(function(te,Z){return te?"M "+Z+" "+Se+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:R,size:V,viewBoxSize:ue.length}))});return Xu.QRCode=T,T.displayName="QRCode",T.propTypes=A,Xu.default=T,Xu}var lX=oX();const cX=Do(lX);function uX(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),e&&(i.href=e),r.href=t,r.href}const dX=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Rl(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}let Yu=null;function MT(t={}){return Yu||(t.includeStyleProperties?(Yu=t.includeStyleProperties,Yu):(Yu=Rl(window.getComputedStyle(document.documentElement)),Yu))}function K1(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function fX(t){const e=K1(t,"border-left-width"),n=K1(t,"border-right-width");return t.clientWidth+e+n}function hX(t){const e=K1(t,"border-top-width"),n=K1(t,"border-bottom-width");return t.clientHeight+e+n}function OT(t,e={}){const n=e.width||fX(t),i=e.height||hX(t);return{width:n,height:i}}function pX(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const ss=16384;function mX(t){(t.width>ss||t.height>ss)&&(t.width>ss&&t.height>ss?t.width>t.height?(t.height*=ss/t.width,t.width=ss):(t.width*=ss/t.height,t.height=ss):t.width>ss?(t.height*=ss/t.width,t.width=ss):(t.width*=ss/t.height,t.height=ss))}function Z1(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function gX(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function xX(t,e,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(t),gX(r)}const Ur=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Ur(n,e)};function yX(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function bX(t,e){return MT(e).map(n=>{const i=t.getPropertyValue(n),r=t.getPropertyPriority(n);return`${n}: ${i}${r?" !important":""};`}).join(" ")}function vX(t,e,n,i){const r=`.${t}:${e}`,s=n.cssText?yX(n):bX(n,i);return document.createTextNode(`${r}{${s}}`)}function xS(t,e,n,i){const r=window.getComputedStyle(t,n),s=r.getPropertyValue("content");if(s===""||s==="none")return;const l=dX();try{e.className=`${e.className} ${l}`}catch{return}const d=document.createElement("style");d.appendChild(vX(l,n,r,i)),e.appendChild(d)}function wX(t,e,n){xS(t,e,":before",n),xS(t,e,":after",n)}const yS="application/font-woff",bS="image/jpeg",_X={woff:yS,woff2:yS,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:bS,jpeg:bS,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function CX(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Bb(t){const e=CX(t).toLowerCase();return _X[e]||""}function SX(t){return t.split(/,/)[1]}function S2(t){return t.search(/^(data:)/)!==-1}function EX(t,e){return`data:${e};base64,${t}`}async function RT(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((s,l)=>{const d=new FileReader;d.onerror=l,d.onloadend=()=>{try{s(n({res:i,result:d.result}))}catch(f){l(f)}},d.readAsDataURL(r)})}const my={};function AX(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function Lb(t,e,n){const i=AX(t,e,n.includeQueryParams);if(my[i]!=null)return my[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let r;try{const s=await RT(t,n.fetchRequestInit,({res:l,result:d})=>(e||(e=l.headers.get("Content-Type")||""),SX(d)));r=EX(s,e)}catch(s){r=n.imagePlaceholder||"";let l=`Failed to fetch resource: ${t}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return my[i]=r,r}async function TX(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):Z1(e)}async function NX(t,e){if(t.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,l==null||l.drawImage(t,0,0,s.width,s.height);const d=s.toDataURL();return Z1(d)}const n=t.poster,i=Bb(n),r=await Lb(n,i,e);return Z1(r)}async function IX(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await a0(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function kX(t,e){return Ur(t,HTMLCanvasElement)?TX(t):Ur(t,HTMLVideoElement)?NX(t,e):Ur(t,HTMLIFrameElement)?IX(t,e):t.cloneNode(DT(t))}const MX=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",DT=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function OX(t,e,n){var i,r;if(DT(e))return e;let s=[];return MX(t)&&t.assignedNodes?s=Rl(t.assignedNodes()):Ur(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?s=Rl(t.contentDocument.body.childNodes):s=Rl(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes),s.length===0||Ur(t,HTMLVideoElement)||await s.reduce((l,d)=>l.then(()=>a0(d,n)).then(f=>{f&&e.appendChild(f)}),Promise.resolve()),e}function RX(t,e,n){const i=e.style;if(!i)return;const r=window.getComputedStyle(t);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):MT(n).forEach(s=>{let l=r.getPropertyValue(s);s==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),Ur(t,HTMLIFrameElement)&&s==="display"&&l==="inline"&&(l="block"),s==="d"&&e.getAttribute("d")&&(l=`path(${e.getAttribute("d")})`),i.setProperty(s,l,r.getPropertyPriority(s))})}function DX(t,e){Ur(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Ur(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function BX(t,e){if(Ur(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function LX(t,e,n){return Ur(e,Element)&&(RX(t,e,n),wX(t,e,n),DX(t,e),BX(t,e)),e}async function jX(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let s=0;s<n.length;s++){const d=n[s].getAttribute("xlink:href");if(d){const f=t.querySelector(d),p=document.querySelector(d);!f&&p&&!i[d]&&(i[d]=await a0(p,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const d=document.createElementNS(s,"defs");l.appendChild(d);for(let f=0;f<r.length;f++)d.appendChild(r[f]);t.appendChild(l)}return t}async function a0(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>kX(i,e)).then(i=>OX(t,i,e)).then(i=>LX(t,i,e)).then(i=>jX(i,e))}const BT=/url\((['"]?)([^'"]+?)\1\)/g,PX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zX(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function HX(t){const e=[];return t.replace(BT,(n,i,r)=>(e.push(r),n)),e.filter(n=>!S2(n))}async function UX(t,e,n,i,r){try{const s=n?uX(e,n):e,l=Bb(e);let d;return r||(d=await Lb(s,l,i)),t.replace(zX(e),`$1${d}$3`)}catch{}return t}function $X(t,{preferredFontFormat:e}){return e?t.replace(FX,n=>{for(;;){const[i,,r]=PX.exec(n)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):t}function LT(t){return t.search(BT)!==-1}async function jT(t,e,n){if(!LT(t))return t;const i=$X(t,n);return HX(i).reduce((s,l)=>s.then(d=>UX(d,l,e,n)),Promise.resolve(i))}async function Ku(t,e,n){var i;const r=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(r){const s=await jT(r,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function VX(t,e){await Ku("background",t,e)||await Ku("background-image",t,e),await Ku("mask",t,e)||await Ku("-webkit-mask",t,e)||await Ku("mask-image",t,e)||await Ku("-webkit-mask-image",t,e)}async function GX(t,e){const n=Ur(t,HTMLImageElement);if(!(n&&!S2(t.src))&&!(Ur(t,SVGImageElement)&&!S2(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,r=await Lb(i,Bb(i),e);await new Promise((s,l)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...f)=>{try{s(e.onImageErrorHandler(...f))}catch(p){l(p)}}:l;const d=t;d.decode&&(d.decode=s),d.loading==="lazy"&&(d.loading="eager"),n?(t.srcset="",t.src=r):t.href.baseVal=r})}async function qX(t,e){const i=Rl(t.childNodes).map(r=>PT(r,e));await Promise.all(i).then(()=>t)}async function PT(t,e){Ur(t,Element)&&(await VX(t,e),await GX(t,e),await qX(t,e))}function WX(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),t}const vS={};async function wS(t){let e=vS[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},vS[t]=e,e}async function _S(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async l=>{let d=l.replace(i,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),RT(d,e.fetchRequestInit,({result:f})=>(n=n.replace(l,`url(${f})`),[l,f]))});return Promise.all(s).then(()=>n)}function CS(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const f=r.exec(i);if(f===null)break;e.push(f[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(l,"gi");for(;;){let f=s.exec(i);if(f===null){if(f=d.exec(i),f===null)break;s.lastIndex=d.lastIndex}else d.lastIndex=s.lastIndex;e.push(f[0])}return e}async function XX(t,e){const n=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{Rl(r.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let d=l+1;const f=s.href,p=wS(f).then(y=>_S(y,e)).then(y=>CS(y).forEach(_=>{try{r.insertRule(_,_.startsWith("@import")?d+=1:r.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:_,error:S})}})).catch(y=>{console.error("Error loading remote css",y.toString())});i.push(p)}})}catch(s){const l=t.find(d=>d.href==null)||document.styleSheets[0];r.href!=null&&i.push(wS(r.href).then(d=>_S(d,e)).then(d=>CS(d).forEach(f=>{l.insertRule(f,l.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{Rl(r.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),n))}function YX(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>LT(e.style.getPropertyValue("src")))}async function KX(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Rl(t.ownerDocument.styleSheets),i=await XX(n,e);return YX(i)}function FT(t){return t.trim().replace(/["']/g,"")}function ZX(t){const e=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{e.add(FT(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function QX(t,e){const n=await KX(t,e),i=ZX(t);return(await Promise.all(n.filter(s=>i.has(FT(s.style.fontFamily))).map(s=>{const l=s.parentStyleSheet?s.parentStyleSheet.href:null;return jT(s.cssText,l,e)}))).join(`
`)}async function JX(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await QX(t,e);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function eY(t,e={}){const{width:n,height:i}=OT(t,e),r=await a0(t,e,!0);return await JX(r,e),await PT(r,e),WX(r,e),await xX(r,n,i)}async function tY(t,e={}){const{width:n,height:i}=OT(t,e),r=await eY(t,e),s=await Z1(r),l=document.createElement("canvas"),d=l.getContext("2d"),f=e.pixelRatio||pX(),p=e.canvasWidth||n,y=e.canvasHeight||i;return l.width=p*f,l.height=y*f,e.skipAutoScale||mX(l),l.style.width=`${p}`,l.style.height=`${y}`,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,l.width,l.height)),d.drawImage(s,0,0,l.width,l.height),l}async function nY(t,e={}){return(await tY(t,e)).toDataURL()}const iY="_modalOverlay_ujdot_1",rY="_modalContent_ujdot_27",sY="_header_ujdot_43",aY="_title_ujdot_59",oY="_closeButton_ujdot_71",lY="_body_ujdot_87",cY="_qrDownloadArea_ujdot_103",uY="_galleryInfo_ujdot_115",dY="_galleryName_ujdot_131",fY="_galleryNameEn_ujdot_141",hY="_qrCodeWrapper_ujdot_151",pY="_downloadButton_ujdot_163",mY="_noLeaflet_ujdot_193",gY="_noLeafletMessage_ujdot_201",cr={modalOverlay:iY,modalContent:rY,header:sY,title:aY,closeButton:oY,body:lY,qrDownloadArea:cY,galleryInfo:uY,galleryName:dY,galleryNameEn:fY,qrCodeWrapper:hY,downloadButton:pY,noLeaflet:mY,noLeafletMessage:gY};function xY({data:t,onClose:e,type:n}){var _;const i=t||{},r=i.leafletUrl,s=P.useRef(null),l=n==="exhibitions",d=l?i.exhibition_title:i.gallery_name,f=l?((_=i.gallery)==null?void 0:_.gallery_name)||i.gallery_name||"":i.gallery_eng_name||"",p=l?i.exhibition_title||"exhibition":i.gallery_name||"gallery",y=()=>{s.current!==null&&nY(s.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(S=>{const A=document.createElement("a");A.download=`${p}-qr-code.png`,A.href=S,A.click()}).catch(S=>{console.error("  .",S),alert("  .  .")})};return b.jsx("div",{className:cr.modalOverlay,onClick:e,children:b.jsxs("div",{className:cr.modalContent,onClick:S=>S.stopPropagation(),children:[b.jsxs("header",{className:cr.header,children:[b.jsx("h2",{className:cr.title,children:"QR : /"}),b.jsx("button",{className:cr.closeButton,onClick:e,children:""})]}),b.jsx("div",{className:cr.body,children:r?b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:s,className:cr.qrDownloadArea,children:[b.jsxs("div",{className:cr.galleryInfo,children:[b.jsx("p",{className:cr.galleryName,children:d||"  "}),b.jsx("p",{className:cr.galleryNameEn,children:f})]}),b.jsx("div",{className:cr.qrCodeWrapper,children:b.jsx(cX,{value:i.leafletUrl,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),b.jsx("button",{className:cr.downloadButton,onClick:y,children:""})]}):b.jsxs("div",{className:cr.noLeaflet,children:[b.jsx("p",{className:cr.galleryName,children:d||"  "}),b.jsx("p",{className:cr.galleryNameEn,children:f}),b.jsx("p",{className:cr.noLeafletMessage,children:"   ."})]})})]})})}const yY="_layout_zq7j1_1",bY="_breadcrumb_zq7j1_21",vY="_breadcrumbBack_zq7j1_35",wY="_card_zq7j1_45",_Y="_titleSection_zq7j1_63",CY="_galleryTitle_zq7j1_73",SY="_gallerySubTitle_zq7j1_87",EY="_galleryImage_zq7j1_99",AY="_btnLayout_zq7j1_117",TY="_likeButton_zq7j1_131",NY="_icon_zq7j1_155",IY="_likedIcon_zq7j1_163",kY="_containerLayout_zq7j1_173",MY="_tagContainer_zq7j1_185",OY="_tag_zq7j1_185",RY="_infoList_zq7j1_221",DY="_infoRow_zq7j1_235",BY="_infoLabel_zq7j1_245",LY="_infoContent_zq7j1_257",jY="_homepageButton_zq7j1_277",PY="_descriptionParagraph_zq7j1_335",FY="_inlineSns_zq7j1_381",zY="_snsLink_zq7j1_395",HY="_snsIcon_zq7j1_405",UY="_instagram_zq7j1_429",$Y="_youtube_zq7j1_437",VY="_defaultLink_zq7j1_445",GY="_emptyContent_zq7j1_453",qY="_sectionTitle_zq7j1_467",WY="_backButton_zq7j1_479",XY="_emptyInfo_zq7j1_513",sn={layout:yY,breadcrumb:bY,breadcrumbBack:vY,card:wY,titleSection:_Y,galleryTitle:CY,gallerySubTitle:SY,galleryImage:EY,btnLayout:AY,likeButton:TY,icon:NY,likedIcon:IY,containerLayout:kY,tagContainer:MY,tag:OY,infoList:RY,infoRow:DY,infoLabel:BY,infoContent:LY,homepageButton:jY,descriptionParagraph:PY,inlineSns:FY,snsLink:zY,snsIcon:HY,instagram:UY,youtube:$Y,defaultLink:VY,emptyContent:GY,sectionTitle:qY,backButton:WY,emptyInfo:XY},YY="_tabsLayout_1o5b4_1",KY="_tabNav_1o5b4_13",ZY="_tabContent_1o5b4_39",QY="_tabButton_1o5b4_63",JY="_activeTab_1o5b4_93",Mf={tabsLayout:YY,tabNav:KY,tabContent:ZY,tabButton:QY,activeTab:JY};function zT({tabs:t,activeTab:e,setActiveTab:n,children:i}){return b.jsxs("div",{className:Mf.tabsLayout,children:[b.jsx("nav",{className:Mf.tabNav,children:t.map(({key:r,label:s})=>b.jsx("button",{className:`${Mf.tabButton} ${e===r?Mf.activeTab:""}`,onClick:()=>n(r),children:s},r))}),b.jsx("section",{className:Mf.tabContent,children:i})]})}const eK="_exhibitionList_i0wxs_1",tK="_exhibitionCard_i0wxs_17",nK="_imageContainer_i0wxs_49",iK="_exhibitionImage_i0wxs_63",rK="_statusTag_i0wxs_77",sK="_statusOn_i0wxs_101",aK="_statusScheduled_i0wxs_107",oK="_statusDone_i0wxs_113",lK="_statusDefault_i0wxs_119",cK="_infoContainer_i0wxs_127",uK="_title_i0wxs_147",dK="_location_i0wxs_165",fK="_date_i0wxs_175",hK="_emptyContent_i0wxs_185",Pr={exhibitionList:eK,exhibitionCard:tK,imageContainer:nK,exhibitionImage:iK,statusTag:rK,statusOn:sK,statusScheduled:aK,statusDone:oK,statusDefault:lK,infoContainer:cK,title:uK,location:dK,date:fK,emptyContent:hK},SS={exhibited:{text:"",className:Pr.statusOn},scheduled:{text:"",className:Pr.statusScheduled},ended:{text:"",className:Pr.statusDone},default:{text:"",className:Pr.statusDefault}};function pK({exhibitions:t}){const n=gi().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?b.jsx("p",{className:Pr.emptyContent,children:"   ."}):b.jsx("section",{className:Pr.exhibitionList,children:t.map(({exhibition_id:i,exhibition_poster:r,exhibition_title:s,exhibition_status:l,exhibition_location:d,exhibition_start_date:f,exhibition_end_date:p})=>{const y=SS[l]||SS.default,_=n?`/console/exhibitions/${i}`:`/exhibitions/${i}`;return b.jsxs(Rn,{className:Pr.exhibitionCard,to:_,children:[b.jsxs("div",{className:Pr.imageContainer,children:[b.jsx("img",{className:Pr.exhibitionImage,src:r,alt:"  "}),b.jsx("span",{className:`${Pr.statusTag} ${y.className}`,children:y.text})]}),b.jsxs("div",{className:Pr.infoContainer,children:[b.jsx("h4",{className:Pr.title,children:s}),b.jsx("p",{className:Pr.location,children:d}),b.jsx("p",{className:Pr.date,children:`${f} ~ ${p}`})]})]},i)})})}const mK="_artworkGrid_1kwuv_1",gK="_artworkCard_1kwuv_45",xK="_artworkImage_1kwuv_83",yK="_artworkInfo_1kwuv_97",bK="_title_1kwuv_111",vK="_materials_1kwuv_123",wK="_details_1kwuv_133",_K="_emptyContent_1kwuv_145",xl={artworkGrid:mK,artworkCard:gK,artworkImage:xK,artworkInfo:yK,title:bK,materials:vK,details:wK,emptyContent:_K};function HT({artworks:t}){const n=gi().pathname.includes("/console");return console.log(t),!t||t.length===0?b.jsx("p",{className:xl.emptyContent,children:"   ."}):b.jsx("section",{className:xl.artworkGrid,children:t.map(({id:i,image_url:r,title:s,materials:l,size:d,year:f})=>{const p=n?`/console/artworks/${i}`:`/artworks/${i}`;return b.jsxs(Rn,{className:xl.artworkCard,to:p,children:[b.jsx("img",{className:xl.artworkImage,src:r,alt:s}),b.jsxs("div",{className:xl.artworkInfo,children:[b.jsx("h4",{className:xl.title,children:s}),b.jsx("p",{className:xl.materials,children:l}),b.jsx("p",{className:xl.details,children:`${d}, ${f}`})]})]},i)})})}const CK="_modalOverlay_1ug3w_1",SK="_mapModalBox_1ug3w_21",EK="_mapModalTitle_1ug3w_61",AK="_mapModalSubTitle_1ug3w_73",TK="_mapModalMap_1ug3w_87",NK="_mapModalClose_1ug3w_101",Zu={modalOverlay:CK,mapModalBox:SK,mapModalTitle:EK,mapModalSubTitle:AK,mapModalMap:TK,mapModalClose:NK};function IK({lat:t,lng:e,title:n,address:i,mapId:r,onClose:s}){return i0({lat:t,lng:e,id:r,title:n,location:i}),console.log("MapModalSimple !",r),P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),b.jsx("div",{className:Zu.modalOverlay,children:b.jsxs("div",{className:Zu.mapModalBox,children:[b.jsx("h3",{className:Zu.mapModalTitle,children:n}),b.jsx("p",{className:Zu.mapModalSubTitle,children:i}),b.jsx("div",{id:r,className:Zu.mapModalMap}),b.jsx("button",{className:Zu.mapModalClose,onClick:s,children:""})]})})}function UT({showUserActions:t=!0,id:e,actionButtons:n}){const{galleryId:i}=Fs(),r=e||i,s=Jt(),{user:l}=ta(),[d,f]=P.useState(null),[p,y]=P.useState(!1),[_,S]=P.useState(!1),[A,T]=P.useState("info"),[O,R]=P.useState(!1),B=async()=>{if(r)try{const qe=await mt.get(`/api/galleries/${r}`),{data:Ae}=qe;f(Ae),typeof Ae.is_liked=="boolean"&&y(Ae.is_liked)}catch(qe){console.error("   :",qe)}};if(P.useEffect(()=>{B()},[r]),P.useEffect(()=>{d&&typeof d.is_liked=="boolean"&&y(d.is_liked)},[d]),!d)return b.jsx("div",{children:" ..."});const G=async()=>{if(!l){s("/login");return}try{const qe={liked_id:r,liked_type:"gallery"};if(p){await mt.delete("/api/likes",{data:qe}),y(!1);return}else await mt.post("/api/likes",{liked_id:r,liked_type:"gallery"});await mt.post("/api/likes",qe),y(!0),S(!0)}catch(qe){console.error("  :",qe)}},j=()=>{const qe=d.gallery_name,Ae=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${qe}`,text:`${qe}   !`,url:Ae}).catch(en=>console.error(" :",en));else{const en=document.createElement("textarea");en.value=Ae,document.body.appendChild(en),en.select();try{document.execCommand("copy"),alert("  .")}catch(gt){console.error("  :",gt),alert("  .")}finally{document.body.removeChild(en)}}},k={instagram:ej,youtube:tj,default:rj},{exhibitions:D=[],artworks:L=[],gallery_address:z="",gallery_category:V="",gallery_closed_day:X="",gallery_description:ie="",gallery_end_time:ae="",gallery_start_time:ue="",gallery_image:Ie="",gallery_name:Se="",gallery_eng_name:te="",gallery_phone:Z="",gallery_email:le="",gallery_homepage:xe="",gallery_sns:Ce,gallery_longitude:Q}=d;let fe=[];try{Array.isArray(Ce)?fe=Ce:typeof Ce=="string"&&(fe=JSON.parse(Ce))}catch(qe){console.error("SNS   :",qe),fe=[]}const Ee=[{label:"",content:ue&&ae?`${ue.slice(0,5)} - ${ae.slice(0,5)}`:" "},{label:"",content:X||" "},{label:"",content:Z||" "},{label:"",content:z||" "},{label:"",content:le?b.jsx("a",{href:`mailto:${le}`,children:le}):" "},{label:"SNS",content:Array.isArray(fe)&&fe.length>0?b.jsx("div",{className:sn.inlineSns,children:fe.map(({type:qe,url:Ae})=>{const en=qe==null?void 0:qe.toLowerCase(),gt=k[en]||k.default,ai=sn[en]||sn.defaultLink;return b.jsx("a",{href:Ae||"#",target:"_blank",rel:"noopener noreferrer",className:sn.snsLink,children:b.jsx(gt,{className:`${sn.snsIcon} ${ai}`})},`${qe}-${Ae}`)})}):" "}];console.log(fe);const Re=[{key:"info",label:""},{key:"artworks",label:`(${L.length||0})`},{key:"exhibitions",label:`(${D.length||0})`}],He=`gallery-${r}-map`;return b.jsxs("div",{className:sn.layout,children:[t&&b.jsxs("div",{className:sn.breadcrumb,children:[b.jsx("span",{className:sn.breadcrumbBack,onClick:()=>s("/galleries"),children:""})," ","> ",Se]}),b.jsxs("section",{className:sn.titleSection,children:[b.jsx("h1",{className:sn.galleryTitle,children:Se}),b.jsx("p",{className:sn.gallerySubTitle,children:te||"Gallery"})]}),b.jsxs("div",{className:sn.card,children:[b.jsx("img",{className:sn.galleryImage,src:Ie,alt:"  "}),t&&b.jsxs("div",{className:sn.btnLayout,children:[b.jsxs("button",{className:sn.likeButton,onClick:G,children:[b.jsx(Th,{className:p?sn.likedIcon:sn.icon}),""]}),b.jsxs("button",{className:sn.likeButton,onClick:()=>R(!0),children:[b.jsx(sj,{className:sn.icon}),""]}),b.jsxs("button",{className:sn.likeButton,onClick:j,children:[b.jsx(kb,{className:sn.icon}),""]})]}),b.jsx("div",{className:sn.tagContainer,children:V&&V.split(",").map(qe=>b.jsx("span",{className:sn.tag,children:qe.trim()},qe))}),b.jsxs("section",{className:sn.infoList,children:[Ee.map(({label:qe,content:Ae})=>{const en=!Ae||typeof Ae=="string"&&Ae.trim()===" ";return b.jsxs("div",{className:sn.infoRow,children:[b.jsx("span",{className:sn.infoLabel,children:qe}),b.jsx("div",{className:`${sn.infoContent} ${en?sn.emptyInfo:""}`,children:Ae})]},qe)}),b.jsx("button",{disabled:!xe,className:sn.homepageButton,onClick:()=>window.open(xe,"_blank"),children:xe?"":"  "})]})]}),b.jsxs(zT,{tabs:Re,activeTab:A,setActiveTab:T,children:[A==="info"&&(ie?b.jsx("div",{className:sn.descriptionParagraph,dangerouslySetInnerHTML:{__html:ie}}):b.jsx("p",{className:sn.emptyContent,children:"   ."})),A==="artworks"&&b.jsxs(b.Fragment,{children:[L.length>0?b.jsx(HT,{artworks:L}):b.jsx("p",{className:sn.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),A==="exhibitions"&&b.jsxs(b.Fragment,{children:[D.length>0?b.jsx(pK,{exhibitions:D}):b.jsx("p",{className:sn.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),t&&b.jsx("button",{className:sn.backButton,onClick:()=>s("/galleries"),children:" "}),O&&b.jsx(IK,{lat,lng:Q,title:Se,address:z,mapId:He,onClose:()=>R(!1)}),_&&b.jsx(Rb,{onClose:()=>S(!1)})]})}const kK="_layout_d8p37_1",MK="_breadcrumb_d8p37_21",OK="_breadcrumbBack_d8p37_35",RK="_card_d8p37_45",DK="_titleSection_d8p37_63",BK="_exhibitionTitle_d8p37_73",LK="_posterImage_d8p37_87",jK="_btnLayout_d8p37_111",PK="_likeButton_d8p37_125",FK="_icon_d8p37_149",zK="_likedIcon_d8p37_157",HK="_infoList_d8p37_165",UK="_infoRow_d8p37_181",$K="_infoLabel_d8p37_191",VK="_infoContent_d8p37_203",GK="_homepageButton_d8p37_223",qK="_descriptionParagraph_d8p37_281",WK="_emptyContent_d8p37_317",XK="_emptyInfo_d8p37_331",YK="_backButton_d8p37_339",Tn={layout:kK,breadcrumb:MK,breadcrumbBack:OK,card:RK,titleSection:DK,exhibitionTitle:BK,posterImage:LK,btnLayout:jK,likeButton:PK,icon:FK,likedIcon:zK,infoList:HK,infoRow:UK,infoLabel:$K,infoContent:VK,homepageButton:GK,descriptionParagraph:qK,emptyContent:WK,emptyInfo:XK,backButton:YK},KK="_relatedSection_1t574_1",ZK="_list_1t574_17",QK="_card_1t574_31",JK="_imageWrapper_1t574_59",eZ="_image_1t574_59",tZ="_info_1t574_97",nZ="_title_1t574_111",iZ="_meta_1t574_123",rZ="_date_1t574_133",ho={relatedSection:KK,list:ZK,card:QK,imageWrapper:JK,image:eZ,info:tZ,title:nZ,meta:iZ,date:rZ};function sZ({exhibitions:t}){const e=Jt();return b.jsx("section",{className:ho.relatedSection,children:b.jsx("div",{className:ho.list,children:t.map(({id:n,title:i,poster:r,start_date:s,end_date:l,location:d})=>b.jsxs("div",{className:ho.card,onClick:()=>e(`/exhibitions/${n}`),children:[b.jsx("div",{className:ho.imageWrapper,children:b.jsx("img",{src:r,alt:i,className:ho.image})}),b.jsxs("div",{className:ho.info,children:[b.jsx("h4",{className:ho.title,children:i}),b.jsxs("p",{className:ho.meta,children:[t.organization||""," | ",d||""]}),b.jsxs("p",{className:ho.date,children:[s," ~ ",l]})]})]},n))})})}function $T({showUserActions:t=!0,id:e,actionButtons:n}){const{exhibitionId:i}=Fs(),r=e||i,{user:s}=ta(),l=Jt(),[d,f]=P.useState(null),[p,y]=P.useState(!1),[_,S]=P.useState(!1),[A,T]=P.useState("info"),O=async()=>{if(r)try{const fe=await mt.get(`/api/exhibitions/${r}`),{data:Ee}=fe;f(Ee),typeof Ee.is_liked=="boolean"&&y(Ee.is_liked)}catch(fe){console.error("   :",fe)}};P.useEffect(()=>{O()},[r]);const R=async()=>{if(!s){l("/login");return}try{const fe={liked_id:r,liked_type:"exhibition"};p?(await mt.delete("/api/likes",{data:fe}),y(!1)):(await mt.post("/api/likes",fe),y(!0),S(!0))}catch(fe){console.error("  :",fe)}},B=()=>{const fe=d==null?void 0:d.exhibition_title,Ee=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${fe}`,text:`${fe}   !`,url:Ee}).catch(Re=>console.error(" :",Re));else{const Re=document.createElement("textarea");Re.value=Ee,document.body.appendChild(Re),Re.select();try{document.execCommand("copy"),alert("  .")}catch(He){console.error("  :",He),alert("  .")}finally{document.body.removeChild(Re)}}},G=()=>{l("/scan")};if(console.log("",d),!d)return b.jsx("div",{children:" ..."});const{exhibition_title:j,exhibition_poster:k,exhibition_start_date:D,exhibition_end_date:L,exhibition_start_time:z,exhibition_end_time:V,exhibition_organization:X,exhibition_location:ie,exhibition_price:ae,exhibition_closed_day:ue,exhibition_description:Ie,related_exhibitions:Se=[],artworks:te=[],exhibition_phone:Z,artists:le=[],exhibition_homepage:xe}=d,Ce=[{label:"",content:`${D} ~ ${L}`},{label:"",content:X},{label:"",content:z&&V?`${z.slice(0,5)} - ${V.slice(0,5)}`:" "},{label:"",content:ue||" "},{label:"",content:ae?`${ae.toLocaleString()}`:""},{label:"",content:Z||" "},{label:"",content:ie||" "},{label:"",content:le.join(", ")||" "}],Q=[{key:"info",label:""},{key:"artworks",label:`(${te.length||0})`},{key:"exhibitions",label:`(${Se.length||0})`}];return b.jsxs("div",{className:Tn.layout,children:[t&&b.jsxs("div",{className:Tn.breadcrumb,children:[b.jsx("span",{className:Tn.breadcrumbBack,onClick:()=>l("/exhibitions"),children:""})," ","> ",j]}),b.jsxs("div",{className:Tn.card,children:[b.jsx("img",{className:Tn.posterImage,src:k,alt:" "}),b.jsx("section",{className:Tn.titleSection,children:b.jsx("h1",{className:Tn.exhibitionTitle,children:j})}),t&&b.jsxs("div",{className:Tn.btnLayout,children:[b.jsxs("button",{className:Tn.likeButton,onClick:R,children:[b.jsx(Th,{className:p?Tn.likedIcon:Tn.icon}),""]}),b.jsxs("button",{className:Tn.likeButton,onClick:()=>l(`/reservation/${r}`),children:[b.jsx(nj,{className:Tn.icon}),""]}),b.jsxs("button",{className:Tn.likeButton,onClick:G,children:[b.jsx(ij,{className:Tn.icon}),""]}),b.jsxs("button",{className:Tn.likeButton,onClick:B,children:[b.jsx(kb,{className:Tn.icon}),""]})]}),b.jsxs("section",{className:Tn.infoList,children:[Ce.map(({label:fe,content:Ee})=>{const Re=!Ee||typeof Ee=="string"&&Ee.trim()===" ";return b.jsxs("div",{className:Tn.infoRow,children:[b.jsx("span",{className:Tn.infoLabel,children:fe}),b.jsx("div",{className:`${Tn.infoContent} ${Re?Tn.emptyInfo:""}`,children:Ee})]},fe)}),b.jsx("button",{disabled:!xe,className:Tn.homepageButton,onClick:()=>window.open(xe,"_blank"),children:xe?"  ":"  "})]})]}),b.jsxs(zT,{tabs:Q,activeTab:A,setActiveTab:T,children:[A==="info"&&(Ie?b.jsx("div",{className:Tn.descriptionParagraph,dangerouslySetInnerHTML:{__html:Ie}}):b.jsx("p",{className:Tn.emptyContent,children:"    ."})),A==="artworks"&&b.jsxs(b.Fragment,{children:[te.length>0?b.jsx(HT,{artworks:te}):b.jsx("p",{className:Tn.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),A==="exhibitions"&&b.jsxs(b.Fragment,{children:[Se.length>0?b.jsx(sZ,{exhibitions:Se}):b.jsx("p",{className:Tn.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),t&&b.jsx("button",{className:Tn.backButton,onClick:()=>l("/exhibitions"),children:" "}),_&&b.jsx(Rb,{onClose:()=>S(!1)})]})}const aZ={galleries:{title:"",Component:UT,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/galleries/${t}`},exhibitions:{title:"",Component:$T,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","/"]},artworks:{title:"",Component:ET,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function o1({type:t}){const{id:e}=Fs(),n=Jt(),[i,r]=P.useState(null),[s,l]=P.useState(!1),d=aZ[t],{title:f,Component:p,fetchUrl:y,tabs:_}=d||{};P.useEffect(()=>{if(!y||!e)return;(async()=>{try{const O=await mt.get(y(e));r(O.data)}catch(O){console.error("  :",O)}})()},[e,t,y]);const S=T=>{switch(T){case"":n(`/console/${t}/edit/${e}`);break;case"QR":l(!0);break;default:n(`/console/leaflet/${e}`);break}},A={artworks:b.jsx("button",{className:fo.addButton,onClick:()=>n(`/console/artworks/edit/new?exhibition_id=${e}`),children:"+  "}),exhibitions:b.jsx("button",{className:fo.addButton,onClick:()=>n(`/console/exhibitions/edit/new?gallery_id=${e}`),children:"+  "})};return i?b.jsxs("div",{className:fo.layout,children:[b.jsxs("header",{className:fo.header,children:[b.jsx("button",{className:fo.backButton,onClick:()=>n(`/console/${t}`),children:"<"}),b.jsx("h1",{className:fo.title,children:f})]}),b.jsx("nav",{className:fo.adminTabNav,children:_.map(T=>b.jsx("button",{className:fo.adminTabButton,onClick:()=>S(T),children:T},T))}),b.jsx("main",{className:fo.content,children:b.jsx(p,{showUserActions:!1,id:e,actionButtons:A})}),s&&b.jsx(xY,{data:i,onClose:()=>l(!1),type:t})]}):b.jsx("div",{children:"  ..."})}const oZ="_layout_meb6i_1",lZ="_infoSection_meb6i_19",cZ="_artistImage_meb6i_37",uZ="_artistTitle_meb6i_53",dZ="_subSpan_meb6i_65",fZ="_icon_meb6i_75",hZ="_icHeart_meb6i_85",pZ="_buttonContainer_meb6i_93",mZ="_subButton_meb6i_103",gZ="_backButton_meb6i_117",Is={layout:oZ,infoSection:lZ,artistImage:cZ,artistTitle:uZ,subSpan:dZ,icon:fZ,icHeart:hZ,buttonContainer:pZ,subButton:mZ,backButton:gZ},xZ="_activitySection_9ev0z_1",yZ="_activityTypeContainer_9ev0z_17",bZ="_activedActivityTypeBox_9ev0z_25",vZ="_activityTypeBox_9ev0z_27",wZ="_artworkImage_9ev0z_55",_Z="_activityItemList_9ev0z_65",CZ="_activityImage_9ev0z_83",SZ="_activityItemInfoBox_9ev0z_97",EZ="_descriptionParagraph_9ev0z_105",AZ="_activityItemTitle_9ev0z_115",TZ="_activityItemSpan_9ev0z_127",zi={activitySection:xZ,activityTypeContainer:yZ,activedActivityTypeBox:bZ,activityTypeBox:vZ,artworkImage:wZ,activityItemList:_Z,activityImage:CZ,activityItemInfoBox:SZ,descriptionParagraph:EZ,activityItemTitle:AZ,activityItemSpan:TZ};function NZ({description:t,artworks:e,exhibitions:n}){const[i,r]=P.useState("profile"),s=l=>{r(l)};return b.jsxs("section",{className:zi.activitySection,children:[b.jsxs("div",{className:zi.activityTypeContainer,children:[b.jsx("button",{className:i==="profile"?zi.activedActivityTypeBox:zi.activityTypeBox,onClick:()=>{s("profile")},children:""}),b.jsx("button",{className:i==="exhibitions"?zi.activedActivityTypeBox:zi.activityTypeBox,onClick:()=>{s("exhibitions")},children:""}),b.jsx("button",{className:i==="artworks"?zi.activedActivityTypeBox:zi.activityTypeBox,onClick:()=>{s("artworks")},children:""})]}),b.jsx("div",{className:zi.activityItemList,children:i==="profile"?b.jsx("div",{children:b.jsx("p",{className:zi.descriptionParagraph,children:t})}):i==="artworks"?e&&e.length===0?b.jsx("div",{children:"  "}):e==null?void 0:e.map(({id:l,imageUrl:d,title:f})=>b.jsxs("div",{className:zi.activityItemContainer,children:[b.jsx("img",{className:zi.artworkImage,src:d}),b.jsx("h3",{className:zi.activityItemTitle,children:f})]},l)):n&&n.length===0?b.jsx("div",{children:"   "}):n==null?void 0:n.map(({id:l,exhibition_poster:d,exhibition_title:f,exhibition_start_date:p,exhibition_end_date:y})=>b.jsxs(Rn,{className:zi.activityItemContainer,to:`/exhibitions/${l}`,children:[b.jsx("img",{className:zi.activityImage,src:d,alt:" "}),b.jsxs("div",{className:zi.activityItemInfoBox,children:[b.jsx("h3",{className:zi.activityItemTitle,children:f}),b.jsxs("span",{className:zi.activityItemSpan,children:["| ",p," ~ ",y]})]})]},l))})]})}function IZ(){const{user:t}=ta(),{artistId:e}=Fs(),[n,i]=P.useState([]),r=Jt(),s=async()=>{try{const f=await pi.get(`/api/artists/${e}`);i(f.data)}catch(f){throw new Error(f)}};P.useEffect(()=>{s()},[]);const l=async()=>{!t&&r("/login");try{n.is_liked===!0?await mt.delete("/api/likes",{data:{liked_id:e,liked_type:"artist"}}):await mt.post("/api/likes",{liked_id:e,liked_type:"artist"}),await s()}catch(f){console.error(f)}},d=[{label:" ",icon:b.jsx(cT,{className:`${Is.icon} ${n.is_liked===!0&&Is.icHeart}`}),action:l},{label:"",icon:b.jsx(JB,{className:Is.icon}),action:()=>{alert("  .")}},{label:"",icon:b.jsx(rL,{className:Is.icon}),action:()=>{alert("  .")}}];return b.jsxs("div",{className:Is.layout,children:[b.jsxs("section",{className:Is.infoSection,children:[b.jsx("img",{className:Is.artistImage,src:n.artist_image,alt:"  "}),b.jsx("h3",{className:Is.artistTitle,children:n.artist_name}),b.jsxs("span",{className:Is.subSpan,children:[n.artist_nation," | ",n.artist_category]})]}),b.jsx("div",{className:Is.buttonContainer,children:d.map(({label:f,icon:p,action:y})=>b.jsxs("button",{className:Is.subButton,onClick:y,children:[p,b.jsx("span",{children:f})]},f))}),b.jsx(NZ,{description:n.artist_description,artworks:n==null?void 0:n.artworks,exhibitions:n==null?void 0:n.exhibitions}),b.jsx(Rn,{className:Is.backButton,to:"/artists",children:" "})]})}const kZ="_layout_12g56_1",MZ="_loginTitle_12g56_15",OZ="_subParagraph_12g56_27",RZ="_contentContainer_12g56_37",DZ="_submitButton_12g56_55",BZ="_loginForm_12g56_105",Qu={layout:kZ,loginTitle:MZ,subParagraph:OZ,contentContainer:RZ,submitButton:DZ,loginForm:BZ},LZ="_layout_1os45_1",jZ="_navigateLink_1os45_19",PZ="_termParagraph_1os45_59",FZ="_termLink_1os45_77",zZ="_registerButton_1os45_85",Of={layout:LZ,navigateLink:jZ,termParagraph:PZ,termLink:FZ,registerButton:zZ};function HZ(){return b.jsxs("section",{className:Of.layout,children:[b.jsx(Rn,{className:Of.navigateLink,to:"/find",children:" /  "}),b.jsxs("p",{className:Of.termParagraph,children:["    ,",b.jsx("br",{})," "," ",b.jsx(Rn,{className:Of.termLink,children:"  "}),"",b.jsx("br",{}),"  ."]}),b.jsx(Rn,{className:Of.registerButton,to:"/register",children:" "})]})}const UZ=()=>{};var ES={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},$Z=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],l=t[n++],d=t[n++],f=((r&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],l=r+1<t.length,d=l?t[r+1]:0,f=r+2<t.length,p=f?t[r+2]:0,y=s>>2,_=(s&3)<<4|d>>4;let S=(d&15)<<2|p>>6,A=p&63;f||(A=64,l||(S=64)),i.push(n[y],n[_],n[S],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$Z(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||d==null||p==null||_==null)throw new VZ;const S=s<<2|d>>4;if(i.push(S),p!==64){const A=d<<4&240|p>>2;if(i.push(A),_!==64){const T=p<<6&192|_;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GZ=function(t){const e=VT(t);return GT.encodeByteArray(e,!0)},qT=function(t){return GZ(t).replace(/\./g,"")},qZ=function(t){try{return GT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=()=>WZ().__FIREBASE_DEFAULTS__,YZ=()=>{if(typeof process>"u"||typeof ES>"u")return;const t=ES.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qZ(t[1]);return e&&JSON.parse(e)},ZZ=()=>{try{return UZ()||XZ()||YZ()||KZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=()=>{var t;return(t=ZZ())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function JZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Pb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function XT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="FirebaseError";class eu extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eQ,Object.setPrototypeOf(this,eu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?tQ(s,i):"Error",d=`${this.serviceName}: ${l} (${r}).`;return new eu(r,d,i)}}function tQ(t,e){return t.replace(nQ,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const nQ=/\{\$([^}]+)}/g;function Q1(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],l=e[r];if(AS(s)&&AS(l)){if(!Q1(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function AS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ=1e3,rQ=2,sQ=4*60*60*1e3,aQ=.5;function TS(t,e=iQ,n=rQ){const i=e*Math.pow(n,t),r=Math.round(aQ*i*(Math.random()-.5)*2);return Math.min(sQ,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QZ;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cQ(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);i===d&&l.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lQ(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lQ(t){return t===Sc?void 0:t}function cQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jn||(jn={}));const dQ={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},fQ=jn.INFO,hQ={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},pQ=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=hQ[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YT{constructor(e){this.name=e,this._logLevel=fQ,this._logHandler=pQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}const mQ=(t,e)=>e.some(n=>t instanceof n);let NS,IS;function gQ(){return NS||(NS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xQ(){return IS||(IS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,E2=new WeakMap,ZT=new WeakMap,gy=new WeakMap,Fb=new WeakMap;function yQ(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(No(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&KT.set(n,t)}).catch(()=>{}),Fb.set(e,t),e}function bQ(t){if(E2.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});E2.set(t,e)}let A2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vQ(t){A2=t(A2)}function wQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(xy(this),e,...n);return ZT.set(i,e.sort?e.sort():[e]),No(i)}:xQ().includes(t)?function(...e){return t.apply(xy(this),e),No(KT.get(this))}:function(...e){return No(t.apply(xy(this),e))}}function _Q(t){return typeof t=="function"?wQ(t):(t instanceof IDBTransaction&&bQ(t),mQ(t,gQ())?new Proxy(t,A2):t)}function No(t){if(t instanceof IDBRequest)return yQ(t);if(gy.has(t))return gy.get(t);const e=_Q(t);return e!==t&&(gy.set(t,e),Fb.set(e,t)),e}const xy=t=>Fb.get(t);function o0(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(t,e),d=No(l);return i&&l.addEventListener("upgradeneeded",f=>{i(No(l.result),f.oldVersion,f.newVersion,No(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),r&&f.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}function yy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),No(n).then(()=>{})}const CQ=["get","getKey","getAll","getAllKeys","count"],SQ=["put","add","delete","clear"],by=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=SQ.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CQ.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,r?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),r&&f.done]))[0]};return by.set(e,s),s}vQ(t=>({...t,get:(e,n,i)=>kS(e,n)||t.get(e,n,i),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AQ(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function AQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T2="@firebase/app",MS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new YT("@firebase/app"),TQ="@firebase/app-compat",NQ="@firebase/analytics-compat",IQ="@firebase/analytics",kQ="@firebase/app-check-compat",MQ="@firebase/app-check",OQ="@firebase/auth",RQ="@firebase/auth-compat",DQ="@firebase/database",BQ="@firebase/data-connect",LQ="@firebase/database-compat",jQ="@firebase/functions",PQ="@firebase/functions-compat",FQ="@firebase/installations",zQ="@firebase/installations-compat",HQ="@firebase/messaging",UQ="@firebase/messaging-compat",$Q="@firebase/performance",VQ="@firebase/performance-compat",GQ="@firebase/remote-config",qQ="@firebase/remote-config-compat",WQ="@firebase/storage",XQ="@firebase/storage-compat",YQ="@firebase/firestore",KQ="@firebase/ai",ZQ="@firebase/firestore-compat",QQ="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="[DEFAULT]",JQ={[T2]:"fire-core",[TQ]:"fire-core-compat",[IQ]:"fire-analytics",[NQ]:"fire-analytics-compat",[MQ]:"fire-app-check",[kQ]:"fire-app-check-compat",[OQ]:"fire-auth",[RQ]:"fire-auth-compat",[DQ]:"fire-rtdb",[BQ]:"fire-data-connect",[LQ]:"fire-rtdb-compat",[jQ]:"fire-fn",[PQ]:"fire-fn-compat",[FQ]:"fire-iid",[zQ]:"fire-iid-compat",[HQ]:"fire-fcm",[UQ]:"fire-fcm-compat",[$Q]:"fire-perf",[VQ]:"fire-perf-compat",[GQ]:"fire-rc",[qQ]:"fire-rc-compat",[WQ]:"fire-gcs",[XQ]:"fire-gcs-compat",[YQ]:"fire-fst",[ZQ]:"fire-fst-compat",[KQ]:"fire-vertex","fire-js":"fire-js",[QQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map,eJ=new Map,I2=new Map;function OS(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oo(t){const e=t.name;if(I2.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;I2.set(e,t);for(const n of J1.values())OS(n,t);for(const n of eJ.values())OS(n,t);return!0}function kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dl=new Nh("app","Firebase",tJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create("app-deleted",{appName:this._name})}}function QT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:N2,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Dl.create("bad-app-name",{appName:String(r)});if(n||(n=WT()),!n)throw Dl.create("no-options");const s=J1.get(r);if(s){if(Q1(n,s.options)&&Q1(i,s.config))return s;throw Dl.create("duplicate-app",{appName:r})}const l=new uQ(r);for(const f of I2.values())l.addComponent(f);const d=new nJ(n,i,l);return J1.set(r,d),d}function JT(t=N2){const e=J1.get(t);if(!e&&t===N2&&WT())return QT();if(!e)throw Dl.create("no-app",{appName:t});return e}function Ra(t,e,n){let i=JQ[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(l.join(" "));return}Oo(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ="firebase-heartbeat-database",rJ=1,ih="firebase-heartbeat-store";let vy=null;function eN(){return vy||(vy=o0(iJ,rJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dl.create("idb-open",{originalErrorMessage:t.message})})),vy}async function sJ(t){try{const n=(await eN()).transaction(ih),i=await n.objectStore(ih).get(tN(t));return await n.done,i}catch(e){if(e instanceof eu)Mo.warn(e.message);else{const n=Dl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(n.message)}}}async function RS(t,e){try{const i=(await eN()).transaction(ih,"readwrite");await i.objectStore(ih).put(e,tN(t)),await i.done}catch(n){if(n instanceof eu)Mo.warn(n.message);else{const i=Dl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mo.warn(i.message)}}}function tN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=1024,oJ=30;class lJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uJ(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>oJ){const l=dJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DS(),{heartbeatsToSend:i,unsentEntries:r}=cJ(this._heartbeatsCache.heartbeats),s=qT(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mo.warn(n),""}}}function DS(){return new Date().toISOString().substring(0,10)}function cJ(t,e=aJ){const n=[];let i=t.slice();for(const r of t){const s=n.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),BS(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),BS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class uJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jb()?Pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BS(t){return qT(JSON.stringify({version:2,heartbeats:t})).length}function dJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(t){Oo(new Da("platform-logger",e=>new EQ(e),"PRIVATE")),Oo(new Da("heartbeat",e=>new lJ(e),"PRIVATE")),Ra(T2,MS,t),Ra(T2,MS,"esm2020"),Ra("fire-js","")}fJ("");const nN="@firebase/installations",zb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e4,rN=`w:${zb}`,sN="FIS_v2",hJ="https://firebaseinstallations.googleapis.com/v1",pJ=60*60*1e3,mJ="installations",gJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$c=new Nh(mJ,gJ,xJ);function aN(t){return t instanceof eu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN({projectId:t}){return`${hJ}/projects/${t}/installations`}function lN(t){return{token:t.token,requestStatus:2,expiresIn:bJ(t.expiresIn),creationTime:Date.now()}}async function cN(t,e){const i=(await e.json()).error;return $c.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function uN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yJ(t,{refreshToken:e}){const n=uN(t);return n.append("Authorization",vJ(e)),n}async function dN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bJ(t){return Number(t.replace("s","000"))}function vJ(t){return`${sN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=oN(t),r=uN(t),s=e.getImmediate({optional:!0});if(s){const p=await s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const l={fid:n,authVersion:sN,appId:t.appId,sdkVersion:rN},d={method:"POST",headers:r,body:JSON.stringify(l)},f=await dN(()=>fetch(i,d));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:lN(p.authToken)}}else throw await cN("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=/^[cdef][\w-]{21}$/,k2="";function SJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=EJ(t);return CJ.test(n)?n:k2}catch{return k2}}function EJ(t){return _J(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Map;function pN(t,e){const n=l0(t);mN(n,e),AJ(n,e)}function mN(t,e){const n=hN.get(t);if(n)for(const i of n)i(e)}function AJ(t,e){const n=TJ();n&&n.postMessage({key:t,fid:e}),NJ()}let kc=null;function TJ(){return!kc&&"BroadcastChannel"in self&&(kc=new BroadcastChannel("[Firebase] FID Change"),kc.onmessage=t=>{mN(t.data.key,t.data.fid)}),kc}function NJ(){hN.size===0&&kc&&(kc.close(),kc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="firebase-installations-database",kJ=1,Vc="firebase-installations-store";let wy=null;function Hb(){return wy||(wy=o0(IJ,kJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vc)}}})),wy}async function em(t,e){const n=l0(t),r=(await Hb()).transaction(Vc,"readwrite"),s=r.objectStore(Vc),l=await s.get(n);return await s.put(e,n),await r.done,(!l||l.fid!==e.fid)&&pN(t,e.fid),e}async function gN(t){const e=l0(t),i=(await Hb()).transaction(Vc,"readwrite");await i.objectStore(Vc).delete(e),await i.done}async function c0(t,e){const n=l0(t),r=(await Hb()).transaction(Vc,"readwrite"),s=r.objectStore(Vc),l=await s.get(n),d=e(l);return d===void 0?await s.delete(n):await s.put(d,n),await r.done,d&&(!l||l.fid!==d.fid)&&pN(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t){let e;const n=await c0(t.appConfig,i=>{const r=MJ(i),s=OJ(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===k2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MJ(t){const e=t||{fid:SJ(),registrationStatus:0};return xN(e)}function OJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject($c.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=RJ(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DJ(t)}:{installationEntry:e}}async function RJ(t,e){try{const n=await wJ(t,e);return em(t.appConfig,n)}catch(n){throw aN(n)&&n.customData.serverCode===409?await gN(t.appConfig):await em(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function DJ(t){let e=await LS(t.appConfig);for(;e.registrationStatus===1;)await fN(100),e=await LS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ub(t);return i||n}return e}function LS(t){return c0(t,e=>{if(!e)throw $c.create("installation-not-found");return xN(e)})}function xN(t){return BJ(t)?{fid:t.fid,registrationStatus:0}:t}function BJ(t){return t.registrationStatus===1&&t.registrationTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LJ({appConfig:t,heartbeatServiceProvider:e},n){const i=jJ(t,n),r=yJ(t,n),s=e.getImmediate({optional:!0});if(s){const p=await s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const l={installation:{sdkVersion:rN,appId:t.appId}},d={method:"POST",headers:r,body:JSON.stringify(l)},f=await dN(()=>fetch(i,d));if(f.ok){const p=await f.json();return lN(p)}else throw await cN("Generate Auth Token",f)}function jJ(t,{fid:e}){return`${oN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e=!1){let n;const i=await c0(t.appConfig,s=>{if(!yN(s))throw $c.create("not-registered");const l=s.authToken;if(!e&&zJ(l))return s;if(l.requestStatus===1)return n=PJ(t,e),s;{if(!navigator.onLine)throw $c.create("app-offline");const d=UJ(s);return n=FJ(t,d),d}});return n?await n:i.authToken}async function PJ(t,e){let n=await jS(t.appConfig);for(;n.authToken.requestStatus===1;)await fN(100),n=await jS(t.appConfig);const i=n.authToken;return i.requestStatus===0?$b(t,e):i}function jS(t){return c0(t,e=>{if(!yN(e))throw $c.create("not-registered");const n=e.authToken;return $J(n)?{...e,authToken:{requestStatus:0}}:e})}async function FJ(t,e){try{const n=await LJ(t,e),i={...e,authToken:n};return await em(t.appConfig,i),n}catch(n){if(aN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gN(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await em(t.appConfig,i)}throw n}}function yN(t){return t!==void 0&&t.registrationStatus===2}function zJ(t){return t.requestStatus===2&&!HJ(t)}function HJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pJ}function UJ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function $J(t){return t.requestStatus===1&&t.requestTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ub(e);return i?i.catch(console.error):$b(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(t,e=!1){const n=t;return await qJ(n),(await $b(n,e)).token}async function qJ(t){const{registrationPromise:e}=await Ub(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(t){if(!t||!t.options)throw _y("App Configuration");if(!t.name)throw _y("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _y(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _y(t){return $c.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="installations",XJ="installations-internal",YJ=t=>{const e=t.getProvider("app").getImmediate(),n=WJ(e),i=kh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},KJ=t=>{const e=t.getProvider("app").getImmediate(),n=kh(e,bN).getImmediate();return{getId:()=>VJ(n),getToken:r=>GJ(n,r)}};function ZJ(){Oo(new Da(bN,YJ,"PUBLIC")),Oo(new Da(XJ,KJ,"PRIVATE"))}ZJ();Ra(nN,zb);Ra(nN,zb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ="/firebase-messaging-sw.js",JJ="/firebase-cloud-messaging-push-scope",vN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eee="https://fcmregistrations.googleapis.com/v1",wN="google.c.a.c_id",tee="google.c.a.c_l",nee="google.c.a.ts",iee="google.c.a.e",PS=1e4;var FS;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(FS||(FS={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(rh||(rh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ree(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="fcm_token_details_db",see=5,zS="fcm_token_object_Store";async function aee(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Cy))return null;let e=null;return(await o0(Cy,see,{upgrade:async(i,r,s,l)=>{if(r<2||!i.objectStoreNames.contains(zS))return;const d=l.objectStore(zS),f=await d.index("fcmSenderId").get(t);if(await d.clear(),!!f){if(r===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:So(p.vapidKey)}}}else if(r===3){const p=f;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:So(p.auth),p256dh:So(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:So(p.vapidKey)}}}else if(r===4){const p=f;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:So(p.auth),p256dh:So(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:So(p.vapidKey)}}}}}})).close(),await yy(Cy),await yy("fcm_vapid_details_db"),await yy("undefined"),oee(e)?e:null}function oee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee="firebase-messaging-database",cee=1,sh="firebase-messaging-store";let Sy=null;function _N(){return Sy||(Sy=o0(lee,cee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sh)}}})),Sy}async function uee(t){const e=CN(t),i=await(await _N()).transaction(sh).objectStore(sh).get(e);if(i)return i;{const r=await aee(t.appConfig.senderId);if(r)return await Vb(t,r),r}}async function Vb(t,e){const n=CN(t),r=(await _N()).transaction(sh,"readwrite");return await r.objectStore(sh).put(e,n),await r.done,e}function CN({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Sr=new Nh("messaging","Messaging",dee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fee(t,e){const n=await qb(t),i=SN(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Gb(t.appConfig),r)).json()}catch(l){throw Sr.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(s.error){const l=s.error.message;throw Sr.create("token-subscribe-failed",{errorInfo:l})}if(!s.token)throw Sr.create("token-subscribe-no-token");return s.token}async function hee(t,e){const n=await qb(t),i=SN(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Gb(t.appConfig)}/${e.token}`,r)).json()}catch(l){throw Sr.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(s.error){const l=s.error.message;throw Sr.create("token-update-failed",{errorInfo:l})}if(!s.token)throw Sr.create("token-update-no-token");return s.token}async function pee(t,e){const i={method:"DELETE",headers:await qb(t)};try{const s=await(await fetch(`${Gb(t.appConfig)}/${e}`,i)).json();if(s.error){const l=s.error.message;throw Sr.create("token-unsubscribe-failed",{errorInfo:l})}}catch(r){throw Sr.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function Gb({projectId:t}){return`${eee}/projects/${t}/registrations`}async function qb({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function SN({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==vN&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=7*24*60*60*1e3;async function gee(t){const e=await yee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:So(e.getKey("auth")),p256dh:So(e.getKey("p256dh"))},i=await uee(t.firebaseDependencies);if(i){if(bee(i.subscriptionOptions,n))return Date.now()>=i.createTime+mee?xee(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await pee(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return HS(t.firebaseDependencies,n)}else return HS(t.firebaseDependencies,n)}async function xee(t,e){try{const n=await hee(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await Vb(t.firebaseDependencies,i),n}catch(n){throw n}}async function HS(t,e){const i={token:await fee(t,e),createTime:Date.now(),subscriptionOptions:e};return await Vb(t,i),i.token}async function yee(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ree(e)})}function bee(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return vee(e,t),wee(e,t),_ee(e,t),e}function vee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}function wee(t,e){e.data&&(t.data=e.data)}function _ee(t,e){var r,s,l,d;if(!e.fcmOptions&&!((r=e.notification)!=null&&r.click_action))return;t.fcmOptions={};const n=((s=e.fcmOptions)==null?void 0:s.link)??((l=e.notification)==null?void 0:l.click_action);n&&(t.fcmOptions.link=n);const i=(d=e.fcmOptions)==null?void 0:d.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return typeof t=="object"&&!!t&&wN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t){if(!t||!t.options)throw Ey("App Configuration Object");if(!t.name)throw Ey("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Ey(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ey(t){return Sr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=See(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aee(t){try{t.swRegistration=await navigator.serviceWorker.register(QJ,{scope:JJ}),t.swRegistration.update().catch(()=>{}),await Tee(t.swRegistration)}catch(e){throw Sr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Tee(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${PS} ms`)),PS),r=t.installing||t.waiting;t.active?(clearTimeout(i),e()):r?r.onstatechange=s=>{var l;((l=s.target)==null?void 0:l.state)==="activated"&&(r.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e){if(!e&&!t.swRegistration&&await Aee(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Sr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iee(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=vN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){if(!navigator)throw Sr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Sr.create("permission-blocked");return await Iee(t,e==null?void 0:e.vapidKey),await Nee(t,e==null?void 0:e.serviceWorkerRegistration),gee(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e,n){const i=Mee(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[wN],message_name:n[tee],message_time:n[nee],message_device_time:Math.floor(Date.now()/1e3)})}function Mee(t){switch(t){case rh.NOTIFICATION_CLICKED:return"notification_open";case rh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oee(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===rh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(US(n)):t.onMessageHandler.next(US(n)));const i=n.data;Cee(i)&&i[iee]==="1"&&await kee(t,n.messageType,i)}const $S="@firebase/messaging",VS="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=t=>{const e=new Eee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Oee(e,n)),e},Dee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>EN(e,i)}};function Bee(){Oo(new Da("messaging",Ree,"PUBLIC")),Oo(new Da("messaging-internal",Dee,"PRIVATE")),Ra($S,VS),Ra($S,VS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(){try{await Pb()}catch{return!1}return typeof window<"u"&&jb()&&XT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(t=JT()){return Lee().then(e=>{if(!e)throw Sr.create("unsupported-browser")},e=>{throw Sr.create("indexed-db-unsupported")}),kh(Ih(t),"messaging").getImmediate()}async function Pee(t,e){return t=Ih(t),EN(t,e)}Bee();var Fee="firebase",zee="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(Fee,zee,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="analytics",Hee="firebase_id",Uee="origin",$ee=60*1e3,Vee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new YT("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hs=new Nh("analytics","Analytics",Gee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(t){if(!t.startsWith(Wb)){const e=hs.create("invalid-gtag-resource",{gtagURL:t});return Er.warn(e.message),""}return t}function AN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Wee(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Xee(t,e){const n=Wee("firebase-js-sdk-policy",{createScriptURL:qee}),i=document.createElement("script"),r=`${Wb}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Yee(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Kee(t,e,n,i,r,s){const l=i[r];try{if(l)await e[l];else{const f=(await AN(n)).find(p=>p.measurementId===r);f&&await e[f.appId]}}catch(d){Er.error(d)}t("config",r,s)}async function Zee(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const d=await AN(n);for(const f of l){const p=d.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)s.push(y);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Er.error(s)}}function Qee(t,e,n,i){async function r(s,...l){try{if(s==="event"){const[d,f]=l;await Zee(t,e,n,d,f)}else if(s==="config"){const[d,f]=l;await Kee(t,e,n,i,d,f)}else if(s==="consent"){const[d,f]=l;t("consent",d,f)}else if(s==="get"){const[d,f,p]=l;t("get",d,f,p)}else if(s==="set"){const[d]=l;t("set",d)}else t(s,...l)}catch(d){Er.error(d)}}return r}function Jee(t,e,n,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Qee(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function ete(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=30,nte=1e3;class ite{constructor(e={},n=nte){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TN=new ite;function rte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ste(t){var l;const{appId:e,apiKey:n}=t,i={method:"GET",headers:rte(n)},r=Vee.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(l=f.error)!=null&&l.message&&(d=f.error.message)}catch{}throw hs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function ate(t,e=TN,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw hs.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw hs.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cte;return setTimeout(async()=>{d.abort()},$ee),NN({appId:i,apiKey:r,measurementId:s},l,d,e)}async function NN(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=TN){var d;const{appId:s,measurementId:l}=t;try{await ote(i,e)}catch(f){if(l)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:l};throw f}try{const f=await ste(t);return r.deleteThrottleMetadata(s),f}catch(f){const p=f;if(!lte(p)){if(r.deleteThrottleMetadata(s),l)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:s,measurementId:l};throw f}const y=Number((d=p==null?void 0:p.customData)==null?void 0:d.httpStatus)===503?TS(n,r.intervalMillis,tte):TS(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return r.setThrottleMetadata(s,_),Er.debug(`Calling attemptFetch again in ${y} millis`),NN(t,_,i,r)}}function ote(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lte(t){if(!(t instanceof eu)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ute(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,l={...i,send_to:s};t("event",n,l)}}async function dte(t,e,n,i){if(i&&i.global){const r={};for(const s of Object.keys(n))r[`user_properties.${s}`]=n[s];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fte(){if(jb())try{await Pb()}catch(t){return Er.warn(hs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Er.warn(hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hte(t,e,n,i,r,s,l){const d=ate(t);d.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Er.error(S)),e.push(d);const f=fte().then(S=>{if(S)return i.getId()}),[p,y]=await Promise.all([d,f]);ete(s)||Xee(s,p.measurementId),r("js",new Date);const _=(l==null?void 0:l.config)??{};return _[Uee]="firebase",_.update=!0,y!=null&&(_[Hee]=y),r("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e){this.app=e}_delete(){return delete dd[this.app.options.appId],Promise.resolve()}}let dd={},GS=[];const qS={};let Ay="dataLayer",mte="gtag",WS,Xb,XS=!1;function gte(){const t=[];if(JZ()&&t.push("This is a browser extension environment."),XT()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=hs.create("invalid-analytics-context",{errorInfo:e});Er.warn(n.message)}}function xte(t,e,n){gte();const i=t.options.appId;if(!i)throw hs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hs.create("no-api-key");if(dd[i]!=null)throw hs.create("already-exists",{id:i});if(!XS){Yee(Ay);const{wrappedGtag:s,gtagCore:l}=Jee(dd,GS,qS,Ay,mte);Xb=s,WS=l,XS=!0}return dd[i]=hte(t,GS,qS,e,WS,Ay,n),new pte(t)}function yte(t=JT()){t=Ih(t);const e=kh(t,tm);return e.isInitialized()?e.getImmediate():bte(t)}function bte(t,e={}){const n=kh(t,tm);if(n.isInitialized()){const r=n.getImmediate();if(Q1(e,n.getOptions()))return r;throw hs.create("already-initialized")}return n.initialize({options:e})}function vte(t,e,n){t=Ih(t),dte(Xb,dd[t.app.options.appId],e,n).catch(i=>Er.error(i))}function wte(t,e,n,i){t=Ih(t),ute(Xb,dd[t.app.options.appId],e,n,i).catch(r=>Er.error(r))}const YS="@firebase/analytics",KS="0.10.19";function _te(){Oo(new Da(tm,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return xte(i,r,n)},"PUBLIC")),Oo(new Da("analytics-internal",t,"PRIVATE")),Ra(YS,KS),Ra(YS,KS,"esm2020");function t(e){try{const n=e.getProvider(tm).getImmediate();return{logEvent:(i,r,s)=>wte(n,i,r,s),setUserProperties:(i,r)=>vte(n,i,r)}}catch(n){throw hs.create("interop-component-reg-failed",{reason:n})}}}_te();const Cte={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},IN=QT(Cte);yte(IN);const Ste=jee(IN),Ete="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",Ate="fcm_token",Tte=async t=>{if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${t}`);const e=window.Android.getFcmToken();return e?(console.log(` FCM Token: ${e}`),window.Android.setUserId(t),e):(console.warn("Android Fcm   ."),window.Android.setUserId(t),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const n=await Pee(Ste,{vapidKey:Ete});return n?(console.log("FCM  :",n),ad.set(Ate,n,{path:"/"}),await Nte(t,n),n):(console.warn("   ."),null)}else return console.warn("  "),null}catch(e){throw e}},Nte=async(t,e)=>{try{const n=await pi.post("/api/notification/registerToken",{user_id:t,fcm_token:e});return console.log("  ",n.data),n.data}catch(n){throw console.error("   ",n),n}};function Ite(){var d,f;const{data:t,handleChange:e}=q1({login_id:"",login_pwd:""}),n=Jt(),i=gi(),r=((f=(d=i.state)==null?void 0:d.from)==null?void 0:f.pathname)||"/",{login:s}=P.useContext(Qc),l=async()=>{try{const p=await pi.post("/api/auth/login",t),y=p.data.data,_=p.data.jwt;s(y,_),y&&y.id&&await Tte(y.id),r==="/register"?n("/",{replace:!0}):r&&r!=="/login"&&r!==i.pathname?n(r,{replace:!0}):n("/",{replace:!0})}catch(p){p.status===401?alert("   "):alert("  .    .")}};return b.jsxs("div",{className:Qu.layout,children:[b.jsx("h1",{className:Qu.loginTitle,children:""}),b.jsx("p",{className:Qu.subParagraph,children:"  "}),b.jsxs("div",{className:Qu.contentContainer,children:[b.jsxs("form",{className:Qu.loginForm,onSubmit:p=>{p.preventDefault(),l()},children:[b.jsx(ka,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),b.jsx(ka,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",onChange:e,value:t.login_pwd}),b.jsx("button",{type:"submit",className:Qu.submitButton,children:" "})]}),b.jsx(HZ,{})]})]})}const kte="_layout_tzlh3_1",Mte="_logo_tzlh3_19",Ote="_loginParagraph_tzlh3_43",Rte="_loginButton_tzlh3_63",Dte="_registerLink_tzlh3_101",Rf={layout:kte,logo:Mte,loginParagraph:Ote,loginButton:Rte,registerLink:Dte},Bte="/assets/kakaobutton-Cwa8W2QI.svg";function Lte(){const t=Jt(),e=()=>{t("/login-detail")};return b.jsxs("div",{className:Rf.layout,children:[b.jsx("h1",{className:Rf.logo,children:"ARTLY"}),b.jsx("p",{className:Rf.loginParagraph,children:"  "}),b.jsx("button",{children:b.jsx("img",{src:Bte})}),b.jsx("button",{className:Rf.loginButton,onClick:e,children:"  "}),b.jsx(Rn,{className:Rf.registerLink,to:"/register",children:" "})]})}let jte={data:""},Pte=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||jte},Fte=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zte=/\/\*[^]*?\*\/|  +/g,ZS=/\n+/g,Al=(t,e)=>{let n="",i="",r="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":i+=s[1]=="f"?Al(l,s):s+"{"+Al(l,s[1]=="k"?"":e)+"}":typeof l=="object"?i+=Al(l,e?e.replace(/([^,])+/g,d=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Al.p?Al.p(s,l):s+":"+l+";")}return n+(e&&r?e+"{"+r+"}":r)+i},po={},kN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+kN(t[n]);return e}return t},Hte=(t,e,n,i,r)=>{let s=kN(t),l=po[s]||(po[s]=(f=>{let p=0,y=11;for(;p<f.length;)y=101*y+f.charCodeAt(p++)>>>0;return"go"+y})(s));if(!po[l]){let f=s!==t?t:(p=>{let y,_,S=[{}];for(;y=Fte.exec(p.replace(zte,""));)y[4]?S.shift():y[3]?(_=y[3].replace(ZS," ").trim(),S.unshift(S[0][_]=S[0][_]||{})):S[0][y[1]]=y[2].replace(ZS," ").trim();return S[0]})(t);po[l]=Al(r?{["@keyframes "+l]:f}:f,n?"":"."+l)}let d=n&&po.g?po.g:null;return n&&(po.g=po[l]),((f,p,y,_)=>{_?p.data=p.data.replace(_,f):p.data.indexOf(f)===-1&&(p.data=y?f+p.data:p.data+f)})(po[l],e,i,d),l},Ute=(t,e,n)=>t.reduce((i,r,s)=>{let l=e[s];if(l&&l.call){let d=l(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":Al(d,""):d===!1?"":d}return i+r+(l??"")},"");function u0(t){let e=this||{},n=t.call?t(e.p):t;return Hte(n.unshift?n.raw?Ute(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,Pte(e.target),e.g,e.o,e.k)}let MN,M2,O2;u0.bind({g:1});let Ro=u0.bind({k:1});function $te(t,e,n,i){Al.p=e,MN=t,M2=n,O2=i}function ql(t,e){let n=this||{};return function(){let i=arguments;function r(s,l){let d=Object.assign({},s),f=d.className||r.className;n.p=Object.assign({theme:M2&&M2()},d),n.o=/ *go\d+/.test(f),d.className=u0.apply(n,i)+(f?" "+f:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),O2&&p[0]&&O2(d),MN(p,d)}return r}}var Vte=t=>typeof t=="function",nm=(t,e)=>Vte(t)?t(e):t,Gte=(()=>{let t=0;return()=>(++t).toString()})(),ON=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),qte=20,Yb="default",RN=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return RN(t,{type:t.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},N1=[],DN={toasts:[],pausedAt:void 0,settings:{toastLimit:qte}},Ma={},BN=(t,e=Yb)=>{Ma[e]=RN(Ma[e]||DN,t),N1.forEach(([n,i])=>{n===e&&i(Ma[e])})},LN=t=>Object.keys(Ma).forEach(e=>BN(t,e)),Wte=t=>Object.keys(Ma).find(e=>Ma[e].toasts.some(n=>n.id===t)),d0=(t=Yb)=>e=>{BN(e,t)},Xte={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yte=(t={},e=Yb)=>{let[n,i]=P.useState(Ma[e]||DN),r=P.useRef(Ma[e]);P.useEffect(()=>(r.current!==Ma[e]&&i(Ma[e]),N1.push([e,i]),()=>{let l=N1.findIndex(([d])=>d===e);l>-1&&N1.splice(l,1)}),[e]);let s=n.toasts.map(l=>{var d,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((d=t[l.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||Xte[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...n,toasts:s}},Kte=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Gte()}),Mh=t=>(e,n)=>{let i=Kte(e,t,n);return d0(i.toasterId||Wte(i.id))({type:2,toast:i}),i.id},Ri=(t,e)=>Mh("blank")(t,e);Ri.error=Mh("error");Ri.success=Mh("success");Ri.loading=Mh("loading");Ri.custom=Mh("custom");Ri.dismiss=(t,e)=>{let n={type:3,toastId:t};e?d0(e)(n):LN(n)};Ri.dismissAll=t=>Ri.dismiss(void 0,t);Ri.remove=(t,e)=>{let n={type:4,toastId:t};e?d0(e)(n):LN(n)};Ri.removeAll=t=>Ri.remove(void 0,t);Ri.promise=(t,e,n)=>{let i=Ri.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let s=e.success?nm(e.success,r):void 0;return s?Ri.success(s,{id:i,...n,...n==null?void 0:n.success}):Ri.dismiss(i),r}).catch(r=>{let s=e.error?nm(e.error,r):void 0;s?Ri.error(s,{id:i,...n,...n==null?void 0:n.error}):Ri.dismiss(i)}),t};var Zte=1e3,Qte=(t,e="default")=>{let{toasts:n,pausedAt:i}=Yte(t,e),r=P.useRef(new Map).current,s=P.useCallback((_,S=Zte)=>{if(r.has(_))return;let A=setTimeout(()=>{r.delete(_),l({type:4,toastId:_})},S);r.set(_,A)},[]);P.useEffect(()=>{if(i)return;let _=Date.now(),S=n.map(A=>{if(A.duration===1/0)return;let T=(A.duration||0)+A.pauseDuration-(_-A.createdAt);if(T<0){A.visible&&Ri.dismiss(A.id);return}return setTimeout(()=>Ri.dismiss(A.id,e),T)});return()=>{S.forEach(A=>A&&clearTimeout(A))}},[n,i,e]);let l=P.useCallback(d0(e),[e]),d=P.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=P.useCallback((_,S)=>{l({type:1,toast:{id:_,height:S}})},[l]),p=P.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),y=P.useCallback((_,S)=>{let{reverseOrder:A=!1,gutter:T=8,defaultPosition:O}=S||{},R=n.filter(j=>(j.position||O)===(_.position||O)&&j.height),B=R.findIndex(j=>j.id===_.id),G=R.filter((j,k)=>k<B&&j.visible).length;return R.filter(j=>j.visible).slice(...A?[G+1]:[0,G]).reduce((j,k)=>j+(k.height||0)+T,0)},[n]);return P.useEffect(()=>{n.forEach(_=>{if(_.dismissed)s(_.id,_.removeDelay);else{let S=r.get(_.id);S&&(clearTimeout(S),r.delete(_.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:p,calculateOffset:y}}},Jte=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ene=Ro`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tne=Ro`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nne=ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jte} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ene} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tne} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ine=Ro`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rne=ql("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ine} 1s linear infinite;
`,sne=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ane=Ro`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,one=ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sne} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ane} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,lne=ql("div")`
  position: absolute;
`,cne=ql("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,une=Ro`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dne=ql("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${une} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fne=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?P.createElement(dne,null,e):e:n==="blank"?null:P.createElement(cne,null,P.createElement(rne,{...i}),n!=="loading"&&P.createElement(lne,null,n==="error"?P.createElement(nne,{...i}):P.createElement(one,{...i})))},hne=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pne=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mne="0%{opacity:0;} 100%{opacity:1;}",gne="0%{opacity:1;} 100%{opacity:0;}",xne=ql("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yne=ql("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bne=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=ON()?[mne,gne]:[hne(n),pne(n)];return{animation:e?`${Ro(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ro(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vne=P.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?bne(t.position||e||"top-center",t.visible):{opacity:0},s=P.createElement(fne,{toast:t}),l=P.createElement(yne,{...t.ariaProps},nm(t.message,t));return P.createElement(xne,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:l}):P.createElement(P.Fragment,null,s,l))});$te(P.createElement);var wne=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=P.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;i(t,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return P.createElement("div",{ref:s,className:e,style:n},r)},_ne=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ON()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},Cne=u0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,l1=16,Sne=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:s,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:p}=Qte(n,s);return P.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:l1,left:l1,right:l1,bottom:l1,pointerEvents:"none",...l},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(y=>{let _=y.position||e,S=p.calculateOffset(y,{reverseOrder:t,gutter:i,defaultPosition:e}),A=_ne(_,S);return P.createElement(wne,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?Cne:"",style:A},y.type==="custom"?nm(y.message,y):r?r(y):P.createElement(vne,{toast:y,position:_}))}))};const Ene="_layout_10u0v_3",Ane="_mainContentContainer_10u0v_35",Tne="_panelHeaderBox_10u0v_73",Nne="_panelHeaderParagraph_10u0v_81",Ine="_combinedButtonBox_10u0v_617",kne="_leftButton_10u0v_657",Mne="_rightButton_10u0v_659",One="_dividerBox_10u0v_733",yl={layout:Ene,mainContentContainer:Ane,panelHeaderBox:Tne,panelHeaderParagraph:Nne,combinedButtonBox:Ine,leftButton:kne,rightButton:Mne,dividerBox:One},Rne="_coverSectionBox_1nnz6_3",Dne="_coverLabelSpan_1nnz6_11",Bne="_coverAreaBox_1nnz6_25",Lne="_coverPlaceholderBox_1nnz6_61",jne="_plusIconSpan_1nnz6_81",Pne="_coverImageContainerBox_1nnz6_93",Fne="_coverImage_1nnz6_93",zne="_removeCoverButton_1nnz6_119",Hne="_dragActive_1nnz6_259",mo={coverSectionBox:Rne,coverLabelSpan:Dne,coverAreaBox:Bne,coverPlaceholderBox:Lne,plusIconSpan:jne,coverImageContainerBox:Pne,coverImage:Fne,removeCoverButton:zne,dragActive:Hne};function Une({coverImage:t,setCoverImage:e,openFileDialogForCover:n,coverDropzone:i}){return b.jsxs("div",{className:mo.coverSectionBox,children:[b.jsx("div",{className:mo.coverLabelSpan,children:""}),b.jsx("div",{className:mo.coverAreaBox,children:t?b.jsxs("div",{className:mo.coverImageContainerBox,children:[b.jsx("img",{src:t.url,alt:"",className:mo.coverImage}),b.jsx("button",{className:mo.removeCoverButton,onClick:()=>e(null),children:""})]}):b.jsxs("div",{...i.getRootProps(),className:`${mo.coverPlaceholderBox} ${i.isDragActive?mo.dragActive:""}`,onClick:r=>{r.stopPropagation(),n()},children:[b.jsx("input",{...i.getInputProps()}),b.jsx("span",{className:mo.plusIconSpan,children:"+"})]})})]})}const $ne="_innerPagesSectionBox_1htly_3",Vne="_innerPagesLabelSpan_1htly_11",Gne="_innerPagesGridContainer_1htly_25",qne="_innerPageItemBox_1htly_39",Wne="_innerPageImage_1htly_59",Xne="_removeInnerPageButton_1htly_71",Yne="_addInnerPageButton_1htly_107",Kne="_plusIconSpan_1htly_143",Zne="_dragActive_1htly_281",go={innerPagesSectionBox:$ne,innerPagesLabelSpan:Vne,innerPagesGridContainer:Gne,innerPageItemBox:qne,innerPageImage:Wne,removeInnerPageButton:Xne,addInnerPageButton:Yne,plusIconSpan:Kne,dragActive:Zne};function Qne({imageList:t,setImageList:e,handleImageChange:n,handleRemoveImage:i,openFileDialogForInner:r,innerDropzone:s}){return b.jsxs("div",{className:go.innerPagesSectionBox,children:[b.jsxs("div",{className:go.innerPagesLabelSpan,children:["  ",t.length,""]}),b.jsxs("div",{...s.getRootProps(),className:`${go.innerPagesGridContainer} ${s.isDragActive?go.dragActive:""}`,children:[b.jsx("input",{...s.getInputProps()}),t.map((l,d)=>b.jsxs("div",{className:go.innerPageItemBox,children:[b.jsx("img",{src:l.url,alt:l.name,className:go.innerPageImage}),b.jsx("button",{className:go.removeInnerPageButton,onClick:f=>{f.stopPropagation(),i(d)},children:""})]},d)),b.jsx("div",{className:go.addInnerPageButton,onClick:l=>{l.stopPropagation(),r()},children:b.jsx("span",{className:go.plusIconSpan,children:"+"})})]})]})}var zf={exports:{}},Jne=zf.exports,QS;function eie(){return QS||(QS=1,function(t,e){(function(n,i){i(e)})(Jne,function(n){class i{constructor(k,D){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=D,this.nowDrawingDensity=this.createdDensity,this.render=k}setDensity(k){this.createdDensity=k,this.nowDrawingDensity=k}setDrawingDensity(k){this.nowDrawingDensity=k}setPosition(k){this.state.position=k}setAngle(k){this.state.angle=k}setArea(k){this.state.area=k}setHardDrawingAngle(k){this.state.hardDrawingAngle=k}setHardAngle(k){this.state.hardAngle=k,this.state.hardDrawingAngle=k}setOrientation(k){this.orientation=k}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class r extends i{constructor(k,D,L){super(k,L),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=D}draw(k){const D=this.render.getContext(),L=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,V=this.render.getRect().height;D.save(),D.translate(L.x,L.y),D.beginPath();for(let X of this.state.area)X!==null&&(X=this.render.convertToGlobal(X),D.lineTo(X.x-L.x,X.y-L.y));D.rotate(this.state.angle),D.clip(),this.isLoad?D.drawImage(this.image,0,0,z,V):this.drawLoader(D,{x:0,y:0},z,V),D.restore()}simpleDraw(k){const D=this.render.getRect(),L=this.render.getContext(),z=D.pageWidth,V=D.height,X=k===1?D.left+D.pageWidth:D.left,ie=D.top;this.isLoad?L.drawImage(this.image,X,ie,z,V):this.drawLoader(L,{x:X,y:ie},z,V)}drawLoader(k,D,L,z){k.beginPath(),k.strokeStyle="rgb(200, 200, 200)",k.fillStyle="rgb(255, 255, 255)",k.lineWidth=1,k.rect(D.x+1,D.y+1,L-1,z-1),k.stroke(),k.fill();const V={x:D.x+L/2,y:D.y+z/2};k.beginPath(),k.lineWidth=10,k.arc(V.x,V.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),k.stroke(),k.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(k,D){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=D,this.app=k,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let D=0;D<this.pages.length;D++)this.portraitSpread.push([D]);let k=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([k]),k++);for(let D=k;D<this.pages.length;D+=2)D<this.pages.length-1?this.landscapeSpread.push([D,D+1]):(this.landscapeSpread.push([D]),this.pages[D].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(k){const D=this.getSpread();for(let L=0;L<D.length;L++)if(k===D[L][0]||k===D[L][1])return L;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(k){if(k>=0&&k<this.pages.length)return this.pages[k];throw new Error("Invalid page number")}nextBy(k){const D=this.pages.indexOf(k);return D<this.pages.length-1?this.pages[D+1]:null}prevBy(k){const D=this.pages.indexOf(k);return D>0?this.pages[D-1]:null}getFlippingPage(k){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return k===0?this.pages[D].newTemporaryCopy():this.pages[D-1];{const L=k===0?this.getSpread()[D+1]:this.getSpread()[D-1];return L.length===1||k===0?this.pages[L[0]]:this.pages[L[1]]}}getBottomPage(k){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return k===0?this.pages[D+1]:this.pages[D-1];{const L=k===0?this.getSpread()[D+1]:this.getSpread()[D-1];return L.length===1?this.pages[L[0]]:k===0?this.pages[L[1]]:this.pages[L[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(k=null){if(k===null&&(k=this.currentPageIndex),k<0||k>=this.pages.length)return;const D=this.getSpreadIndexByPage(k);D!==null&&(this.currentSpreadIndex=D,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(k){if(!(k>=0&&k<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=k}showSpread(){const k=this.getSpread()[this.currentSpreadIndex];k.length===2?(this.render.setLeftPage(this.pages[k[0]]),this.render.setRightPage(this.pages[k[1]])):this.render.getOrientation()==="landscape"&&k[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[k[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[k[0]])),this.currentPageIndex=k[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends s{constructor(k,D,L){super(k,D),this.imagesHref=L}load(){for(const k of this.imagesHref){const D=new r(this.render,k,"soft");D.load(),this.pages.push(D)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(k,D){return k===null||D===null?1/0:Math.sqrt(Math.pow(D.x-k.x,2)+Math.pow(D.y-k.y,2))}static GetSegmentLength(k){return d.GetDistanceBetweenTwoPoint(k[0],k[1])}static GetAngleBetweenTwoLine(k,D){const L=k[0].y-k[1].y,z=D[0].y-D[1].y,V=k[1].x-k[0].x,X=D[1].x-D[0].x;return Math.acos((L*z+V*X)/(Math.sqrt(L*L+V*V)*Math.sqrt(z*z+X*X)))}static PointInRect(k,D){return D===null?null:D.x>=k.left&&D.x<=k.width+k.left&&D.y>=k.top&&D.y<=k.top+k.height?D:null}static GetRotatedPoint(k,D,L){return{x:k.x*Math.cos(L)+k.y*Math.sin(L)+D.x,y:k.y*Math.cos(L)-k.x*Math.sin(L)+D.y}}static LimitPointToCircle(k,D,L){if(d.GetDistanceBetweenTwoPoint(k,L)<=D)return L;const z=k.x,V=k.y,X=L.x,ie=L.y;let ae=Math.sqrt(Math.pow(D,2)*Math.pow(z-X,2)/(Math.pow(z-X,2)+Math.pow(V-ie,2)))+z;L.x<0&&(ae*=-1);let ue=(ae-z)*(V-ie)/(z-X)+V;return z-X+V===0&&(ue=D),{x:ae,y:ue}}static GetIntersectBetweenTwoSegment(k,D,L){return d.PointInRect(k,d.GetIntersectBeetwenTwoLine(D,L))}static GetIntersectBeetwenTwoLine(k,D){const L=k[0].y-k[1].y,z=D[0].y-D[1].y,V=k[1].x-k[0].x,X=D[1].x-D[0].x,ie=k[0].x*k[1].y-k[1].x*k[0].y,ae=D[0].x*D[1].y-D[1].x*D[0].y,ue=L*ae-z*ie,Ie=V*ae-X*ie,Se=-(ie*X-ae*V)/(L*X-z*V),te=-(L*ae-z*ie)/(L*X-z*V);if(isFinite(Se)&&isFinite(te))return{x:Se,y:te};if(Math.abs(ue-Ie)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(k,D){const L=Math.abs(k.x-D.x),z=Math.abs(k.y-D.y),V=Math.max(L,z),X=[k];function ie(ae,ue,Ie,Se,te){return ue>ae?ae+te*(Ie/Se):ue<ae?ae-te*(Ie/Se):ae}for(let ae=1;ae<=V;ae+=1)X.push({x:ie(k.x,D.x,L,V,ae),y:ie(k.y,D.y,z,V,ae)});return X}}class f extends i{constructor(k,D,L){super(k,L),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=D,this.element.classList.add("stf__item"),this.element.classList.add("--"+L)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new f(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(k){const D=k||this.nowDrawingDensity,L=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,V=this.render.getRect().height;this.element.classList.remove("--simple");const X=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${z}px;
            height: ${V}px;
        `;D==="hard"?this.drawHard(X):this.drawSoft(L,X)}drawHard(k=""){const D=this.render.getRect().left+this.render.getRect().width/2,L=this.state.hardDrawingAngle,z=k+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${L}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${D}px, 0, 0) rotateY(${L}deg);`);this.element.style.cssText=z}drawSoft(k,D=""){let L="polygon( ";for(const V of this.state.area)if(V!==null){let X=this.render.getDirection()===1?{x:-V.x+this.state.position.x,y:V.y-this.state.position.y}:{x:V.x-this.state.position.x,y:V.y-this.state.position.y};X=d.GetRotatedPoint(X,{x:0,y:0},this.state.angle),L+=X.x+"px "+X.y+"px, "}L=L.slice(0,-2),L+=")";const z=D+`transform-origin: 0 0; clip-path: ${L}; -webkit-clip-path: ${L};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${k.x}px, ${k.y}px);`:`transform: translate3d(${k.x}px, ${k.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=z}simpleDraw(k){const D=this.render.getRect(),L=D.pageWidth,z=D.height,V=k===1?D.left+D.pageWidth:D.left,X=D.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${z}px; 
            left: ${V}px; 
            top: ${X}px; 
            width: ${L}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(k){super.setOrientation(k),this.element.classList.remove("--left","--right"),this.element.classList.add(k===1?"--right":"--left")}setDrawingDensity(k){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+k),super.setDrawingDensity(k)}}class p extends s{constructor(k,D,L,z){super(k,D),this.element=L,this.pagesElement=z}load(){for(const k of this.pagesElement){const D=new f(this.render,k,k.dataset.density==="hard"?"hard":"soft");D.load(),this.pages.push(D)}this.createSpread()}}class y{constructor(k,D,L,z){this.direction=k,this.corner=D,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(L,10),this.pageHeight=parseInt(z,10)}calc(k){try{return this.position=this.calcAngleAndPosition(k),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const k=[];let D=!1;return k.push(this.rect.topLeft),k.push(this.topIntersectPoint),this.sideIntersectPoint===null?D=!0:(k.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(D=!1)),k.push(this.bottomIntersectPoint),(D||this.corner==="bottom")&&k.push(this.rect.bottomLeft),k}getBottomClipArea(){const k=[];return k.push(this.topIntersectPoint),this.corner==="top"?k.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&k.push({x:this.pageWidth,y:0}),k.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&k.push(this.sideIntersectPoint):this.corner==="top"&&k.push({x:this.pageWidth,y:this.pageHeight}),k.push(this.bottomIntersectPoint),k.push(this.topIntersectPoint),k}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const k=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?k:Math.PI-k}calcAngleAndPosition(k){let D=k;if(this.updateAngleAndGeometry(D),D=this.corner==="top"?this.checkPositionAtCenterLine(D,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(D,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(D.x-this.pageWidth)<1&&Math.abs(D.y)<1)throw new Error("Point is too small");return D}updateAngleAndGeometry(k){this.angle=this.calculateAngle(k),this.rect=this.getPageRect(k)}calculateAngle(k){const D=this.pageWidth-k.x+1,L=this.corner==="bottom"?this.pageHeight-k.y:k.y;let z=2*Math.acos(D/Math.sqrt(L*L+D*D));L<0&&(z=-z);const V=Math.PI-z;if(!isFinite(z)||V>=0&&V<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(z=-z),z}getPageRect(k){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],k):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],k)}getRectFromBasePoint(k,D){return{topLeft:this.getRotatedPoint(k[0],D),topRight:this.getRotatedPoint(k[1],D),bottomLeft:this.getRotatedPoint(k[2],D),bottomRight:this.getRotatedPoint(k[3],D)}}getRotatedPoint(k,D){return{x:k.x*Math.cos(this.angle)+k.y*Math.sin(this.angle)+D.x,y:k.y*Math.cos(this.angle)-k.x*Math.sin(this.angle)+D.y}}calculateIntersectPoint(k){const D={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(k,D,L){let z=k;const V=d.LimitPointToCircle(D,this.pageWidth,z);z!==V&&(z=V,this.updateAngleAndGeometry(z));const X=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let ie=this.rect.bottomRight,ae=this.rect.topLeft;if(this.corner==="bottom"&&(ie=this.rect.topRight,ae=this.rect.bottomLeft),ie.x<=0){const ue=d.LimitPointToCircle(L,X,ae);ue!==z&&(z=ue,this.updateAngleAndGeometry(z))}return z}getSegmentToShadowLine(){const k=this.getShadowStartPoint();return[k,k!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class _{constructor(k,D){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=k,this.app=D}fold(k){this.setState("user_fold"),this.calc===null&&this.start(k),this.do(this.render.convertToPage(k))}flip(k){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(k)||(this.calc!==null&&this.render.finishAnimation(),!this.start(k)))return;const D=this.getBoundsRect();this.setState("flipping");const L=D.height/10,z=this.calc.getCorner()==="bottom"?D.height-L:L,V=this.calc.getCorner()==="bottom"?D.height:0;this.calc.calc({x:D.pageWidth-L,y:z}),this.animateFlippingTo({x:D.pageWidth-L,y:z},{x:-D.pageWidth,y:V},!0)}start(k){this.reset();const D=this.render.convertToBook(k),L=this.getBoundsRect(),z=this.getDirectionByPoint(D),V=D.y>=L.height/2?"bottom":"top";if(!this.checkDirection(z))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(z),this.bottomPage=this.app.getPageCollection().getBottomPage(z),this.render.getOrientation()==="landscape")if(z===1){const X=this.app.getPageCollection().nextBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}else{const X=this.app.getPageCollection().prevBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}return this.render.setDirection(z),this.calc=new y(z,V,L.pageWidth.toString(10),L.height.toString(10)),!0}catch{return!1}}do(k){if(this.calc!==null&&this.calc.calc(k)){const D=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*D)/100):this.flippingPage.setHardAngle(-90*(200-2*D)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),D,this.calc.getDirection())}}flipToPage(k,D){const L=this.app.getPageCollection().getCurrentSpreadIndex(),z=this.app.getPageCollection().getSpreadIndexByPage(k);try{z>L&&(this.app.getPageCollection().setCurrentSpreadIndex(z-1),this.flipNext(D)),z<L&&(this.app.getPageCollection().setCurrentSpreadIndex(z+1),this.flipPrev(D))}catch{}}flipNext(k){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:k==="top"?1:this.render.getRect().height-2})}flipPrev(k){this.flip({x:10,y:k==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const k=this.calc.getPosition(),D=this.getBoundsRect(),L=this.calc.getCorner()==="bottom"?D.height:0;k.x<=0?this.animateFlippingTo(k,{x:-D.pageWidth,y:L},!0):this.animateFlippingTo(k,{x:D.pageWidth,y:L},!1)}showCorner(k){if(!this.checkState("read","fold_corner"))return;const D=this.getBoundsRect(),L=D.pageWidth;if(this.isPointOnCorners(k))if(this.calc===null){if(!this.start(k))return;this.setState("fold_corner"),this.calc.calc({x:L-1,y:1});const z=50,V=this.calc.getCorner()==="bottom"?D.height-1:1,X=this.calc.getCorner()==="bottom"?D.height-z:z;this.animateFlippingTo({x:L-1,y:V},{x:L-z,y:X},!1,!1)}else this.do(this.render.convertToPage(k));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(k,D,L,z=!0){const V=d.GetCordsFromTwoPoint(k,D),X=[];for(const ae of V)X.push(()=>this.do(ae));const ie=this.getAnimationDuration(V.length);this.render.startAnimation(X,ie,()=>{this.calc&&(L&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),z&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(k){this.state!==k&&(this.app.updateState(k),this.state=k)}getDirectionByPoint(k){const D=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(k.x-D.pageWidth<=D.width/5)return 1}else if(k.x<D.width/2)return 1;return 0}getAnimationDuration(k){const D=this.app.getSettings().flippingTime;return k>=1e3?D:k/1e3*D}checkDirection(k){return k===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...k){for(const D of k)if(this.state===D)return!0;return!1}isPointOnCorners(k){const D=this.getBoundsRect(),L=D.pageWidth,z=Math.sqrt(Math.pow(L,2)+Math.pow(D.height,2))/5,V=this.render.convertToBook(k);return V.x>0&&V.y>0&&V.x<D.width&&V.y<D.height&&(V.x<z||V.x>D.width-z)&&(V.y<z||V.y>D.height-z)}}class S{constructor(k,D){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=D,this.app=k;const L=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=L.exec(window.navigator.userAgent)!==null}render(k){if(this.animation!==null){const D=Math.round((k-this.animation.startedAt)/this.animation.durationFrame);D<this.animation.frames.length?this.animation.frames[D]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=k,this.drawFrame()}start(){this.update();const k=D=>{this.render(D),requestAnimationFrame(k)};requestAnimationFrame(k)}startAnimation(k,D,L){this.finishAnimation(),this.animation={frames:k,duration:D,durationFrame:D/k.length,onAnimateEnd:L,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const k=this.calculateBoundsRect();this.orientation!==k&&(this.orientation=k,this.app.updateOrientation(k))}calculateBoundsRect(){let k="landscape";const D=this.getBlockWidth(),L=D/2,z=this.getBlockHeight()/2,V=this.setting.width/this.setting.height;let X=this.setting.width,ie=this.setting.height,ae=L-X;return this.setting.size==="stretch"?(D<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(k="portrait"),X=k==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,X>this.setting.maxWidth&&(X=this.setting.maxWidth),ie=X/V,ie>this.getBlockHeight()&&(ie=this.getBlockHeight(),X=ie*V),ae=k==="portrait"?L-X/2-X:L-X):D<2*X&&this.app.getSettings().usePortrait&&(k="portrait",ae=L-X/2-X),this.boundsRect={left:ae,top:z-ie/2,width:2*X,height:ie,pageWidth:X},k}setShadowData(k,D,L,z){if(!this.app.getSettings().drawShadow)return;const V=100*this.getSettings().maxShadowOpacity;this.shadow={pos:k,angle:D,width:3*this.getRect().pageWidth/4*L/100,opacity:(100-L)*V/100/100,direction:z,progress:2*L}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(k){this.pageRect=k}setDirection(k){this.direction=k}setRightPage(k){k!==null&&k.setOrientation(1),this.rightPage=k}setLeftPage(k){k!==null&&k.setOrientation(0),this.leftPage=k}setBottomPage(k){k!==null&&k.setOrientation(this.direction===1?0:1),this.bottomPage=k}setFlippingPage(k){k!==null&&k.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=k}convertToBook(k){const D=this.getRect();return{x:k.x-D.left,y:k.y-D.top}}isSafari(){return this.safari}convertToPage(k,D){D||(D=this.direction);const L=this.getRect();return{x:D===0?k.x-L.left-L.width/2:L.width/2-k.x+L.left,y:k.y-L.top}}convertToGlobal(k,D){if(D||(D=this.direction),k==null)return null;const L=this.getRect();return{x:D===0?k.x+L.left+L.width/2:L.width/2-k.x+L.left,y:k.y+L.top}}convertRectToGlobal(k,D){return D||(D=this.direction),{topLeft:this.convertToGlobal(k.topLeft,D),topRight:this.convertToGlobal(k.topRight,D),bottomLeft:this.convertToGlobal(k.bottomLeft,D),bottomRight:this.convertToGlobal(k.bottomRight,D)}}}class A extends S{constructor(k,D,L){super(k,D),this.canvas=L,this.ctx=L.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const k=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(k.left+k.pageWidth,k.top,k.width,k.height),this.ctx.clip())}drawBookShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=k.width/20;this.ctx.rect(k.left,k.top,k.width,k.height);const L={x:k.left+k.width/2-D/2,y:0};this.ctx.translate(L.x,L.y);const z=this.ctx.createLinearGradient(0,0,D,0);z.addColorStop(0,"rgba(0, 0, 0, 0)"),z.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),z.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),z.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),z.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),z.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=z,this.ctx.fillRect(0,0,D,2*k.height),this.ctx.restore()}drawOuterShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(k.left,k.top,k.width,k.height);const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const L=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),L.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),L.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),L.addColorStop(0,"rgba(0, 0, 0, 0)"),L.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=L,this.ctx.fillRect(0,0,this.shadow.width,2*k.height),this.ctx.restore()}drawInnerShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(L.topLeft.x,L.topLeft.y),this.ctx.lineTo(L.topRight.x,L.topRight.y),this.ctx.lineTo(L.bottomRight.x,L.bottomRight.y),this.ctx.lineTo(L.bottomLeft.x,L.bottomLeft.y),this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const z=3*this.shadow.width/4,V=this.ctx.createLinearGradient(0,0,z,0);this.shadow.direction===0?(this.ctx.translate(-z,-100),V.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),V.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),V.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),V.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=V,this.ctx.fillRect(0,0,z,2*k.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class T{constructor(k,D,L){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=V=>{if(this.checkTarget(V.target)){const X=this.getMousePos(V.clientX,V.clientY);this.app.startUserTouch(X),V.preventDefault()}},this.onTouchStart=V=>{if(this.checkTarget(V.target)&&V.changedTouches.length>0){const X=V.changedTouches[0],ie=this.getMousePos(X.clientX,X.clientY);this.touchPoint={point:ie,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(ie)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||V.preventDefault()}},this.onMouseUp=V=>{const X=this.getMousePos(V.clientX,V.clientY);this.app.userStop(X)},this.onMouseMove=V=>{const X=this.getMousePos(V.clientX,V.clientY);this.app.userMove(X,!1)},this.onTouchMove=V=>{if(V.changedTouches.length>0){const X=V.changedTouches[0],ie=this.getMousePos(X.clientX,X.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-ie.x)>10||this.app.getState()!=="read")&&V.cancelable&&this.app.userMove(ie,!0),this.app.getState()!=="read"&&V.preventDefault()):this.app.userMove(ie,!0)}},this.onTouchEnd=V=>{if(V.changedTouches.length>0){const X=V.changedTouches[0],ie=this.getMousePos(X.clientX,X.clientY);let ae=!1;if(this.touchPoint!==null){const ue=ie.x-this.touchPoint.point.x,Ie=Math.abs(ie.y-this.touchPoint.point.y);Math.abs(ue)>this.swipeDistance&&Ie<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ue>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ae=!0),this.touchPoint=null}this.app.userStop(ie,ae)}},this.parentElement=k,k.classList.add("stf__parent"),k.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=k.querySelector(".stf__wrapper"),this.app=D;const z=this.app.getSettings().usePortrait?1:2;k.style.minWidth=L.minWidth*z+"px",k.style.minHeight=L.minHeight+"px",L.size==="fixed"&&(k.style.minWidth=L.width*z+"px",k.style.minHeight=L.height+"px"),L.autoSize&&(k.style.width="100%",k.style.maxWidth=2*L.maxWidth+"px"),k.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=L.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(k){this.wrapper.classList.remove("--portrait","--landscape"),k==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(k,D){const L=this.distElement.getBoundingClientRect();return{x:k-L.left,y:D-L.top}}checkTarget(k){return!this.app.getSettings().clickEventForward||!["a","button"].includes(k.tagName.toLowerCase())}}class O extends T{constructor(k,D,L,z){super(k,D,L),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=k.querySelector(".stf__block"),this.items=z;for(const V of z)this.distElement.appendChild(V);this.setHandlers()}clear(){for(const k of this.items)this.parentElement.appendChild(k)}updateItems(k){this.removeHandlers(),this.distElement.innerHTML="";for(const D of k)this.distElement.appendChild(D);this.items=k,this.setHandlers()}update(){this.app.getRender().update()}}class R extends T{constructor(k,D,L){super(k,D,L),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=k.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const k=getComputedStyle(this.canvas),D=parseInt(k.getPropertyValue("width"),10),L=parseInt(k.getPropertyValue("height"),10);this.canvas.width=D,this.canvas.height=L}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends S{constructor(k,D,L){super(k,D),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=L,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const k=this.getRect(),D=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let L=(100-D)*(2.5*k.pageWidth)/100+20;L>k.pageWidth&&(L=k.pageWidth);let z=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${L}px;
            height: ${k.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*D/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${k.left+k.width/2}px;
            transform-origin: 0 0;
        `;z+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=z}drawHardOuterShadow(){const k=this.getRect();let D=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*k.pageWidth)/100+20;D>k.pageWidth&&(D=k.pageWidth);let L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${D}px;
            height: ${k.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${k.left+k.width/2}px;
            transform-origin: 0 0;
        `;L+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=L}drawInnerShadow(){const k=this.getRect(),D=3*this.shadow.width/4,L=this.getDirection()===0?D:0,z=this.getDirection()===0?"to left":"to right",V=this.convertToGlobal(this.shadow.pos),X=this.shadow.angle+3*Math.PI/2,ie=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ae="polygon( ";for(const Ie of ie){let Se=this.getDirection()===1?{x:-Ie.x+this.shadow.pos.x,y:Ie.y-this.shadow.pos.y}:{x:Ie.x-this.shadow.pos.x,y:Ie.y-this.shadow.pos.y};Se=d.GetRotatedPoint(Se,{x:L,y:100},X),ae+=Se.x+"px "+Se.y+"px, "}ae=ae.slice(0,-2),ae+=")";const ue=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${D}px;
            height: ${2*k.height}px;
            background: linear-gradient(${z},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${L}px 100px;
            transform: translate3d(${V.x-L}px, ${V.y-100}px, 0) rotate(${X}rad);
            clip-path: ${ae};
            -webkit-clip-path: ${ae};
        `;this.innerShadow.style.cssText=ue}drawOuterShadow(){const k=this.getRect(),D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.shadow.angle+3*Math.PI/2,z=this.getDirection()===1?this.shadow.width:0,V=this.getDirection()===0?"to right":"to left",X=[{x:0,y:0},{x:k.pageWidth,y:0},{x:k.pageWidth,y:k.height},{x:0,y:k.height}];let ie="polygon( ";for(const ue of X)if(ue!==null){let Ie=this.getDirection()===1?{x:-ue.x+this.shadow.pos.x,y:ue.y-this.shadow.pos.y}:{x:ue.x-this.shadow.pos.x,y:ue.y-this.shadow.pos.y};Ie=d.GetRotatedPoint(Ie,{x:z,y:100},L),ie+=Ie.x+"px "+Ie.y+"px, "}ie=ie.slice(0,-2),ie+=")";const ae=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*k.height}px;
            background: linear-gradient(${V}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${z}px 100px;
            transform: translate3d(${D.x-z}px, ${D.y-100}px, 0) rotate(${L}rad);
            clip-path: ${ie};
            -webkit-clip-path: ${ie};
        `;this.outerShadow.style.cssText=ae}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const k=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(k))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const k of this.app.getPageCollection().getPages())k!==this.leftPage&&k!==this.rightPage&&k!==this.flippingPage&&k!==this.bottomPage&&(k.getElement().style.cssText="display: none"),k.getTemporaryCopy()!==this.flippingPage&&k.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class G{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(k){const D=this._default;if(Object.assign(D,k),D.size!=="stretch"&&D.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(D.width<=0||D.height<=0)throw new Error("Invalid width or height");if(D.flippingTime<=0)throw new Error("Invalid flipping time");return D.size==="stretch"?(D.minWidth<=0&&(D.minWidth=100),D.maxWidth<D.minWidth&&(D.maxWidth=2e3),D.minHeight<=0&&(D.minHeight=100),D.maxHeight<D.minHeight&&(D.maxHeight=2e3)):(D.minWidth=D.width,D.maxWidth=D.width,D.minHeight=D.height,D.maxHeight=D.height),D}}(function(j,k){k===void 0&&(k={});var D=k.insertAt;if(typeof document<"u"){var L=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css",D==="top"&&L.firstChild?L.insertBefore(z,L.firstChild):L.appendChild(z),z.styleSheet?z.styleSheet.cssText=j:z.appendChild(document.createTextNode(j))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(j,k){return this.events.has(j)?this.events.get(j).push(k):this.events.set(j,[k]),this}off(j){this.events.delete(j)}trigger(j,k,D=null){if(this.events.has(j))for(const L of this.events.get(j))L({data:D,object:k})}}{constructor(j,k){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new G().getSettings(k),this.block=j}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(j){this.ui=new R(this.block,this,this.setting);const k=this.ui.getCanvas();this.render=new A(this,this.setting,k),this.flipController=new _(this.render,this),this.pages=new l(this,this.render,j),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(j){this.ui=new O(this.block,this,this.setting,j),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new _(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),j),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(j){const k=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,j),this.pages.load(),this.pages.show(k),this.trigger("update",this,{page:k,mode:this.render.getOrientation()})}updateFromHtml(j){const k=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),j),this.pages.load(),this.ui.updateItems(j),this.render.reload(),this.pages.show(k),this.trigger("update",this,{page:k,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(j){this.pages.show(j)}flipNext(j="top"){this.flipController.flipNext(j)}flipPrev(j="top"){this.flipController.flipPrev(j)}flip(j,k="top"){this.flipController.flipToPage(j,k)}updateState(j){this.trigger("changeState",this,j)}updatePageIndex(j){this.trigger("flip",this,j)}updateOrientation(j){this.ui.setOrientationStyle(j),this.update(),this.trigger("changeOrientation",this,j)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(j){return this.pages.getPage(j)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(j){this.mousePosition=j,this.isUserTouch=!0,this.isUserMove=!1}userMove(j,k){this.isUserTouch||k||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,j)>5&&(this.isUserMove=!0,this.flipController.fold(j)):this.flipController.showCorner(j)}userStop(j,k=!1){this.isUserTouch&&(this.isUserTouch=!1,k||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(j)))}},Object.defineProperty(n,"__esModule",{value:!0})})}(zf,zf.exports)),zf.exports}var tie=eie();const nie=Ht.forwardRef((t,e)=>{const n=P.useRef(null),i=P.useRef([]),r=P.useRef(),[s,l]=P.useState([]);P.useImperativeHandle(e,()=>({pageFlip:()=>r.current}));const d=P.useCallback(()=>{r.current&&r.current.clear()},[]),f=P.useCallback(()=>{const p=r.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return P.useEffect(()=>{if(i.current=[],t.children){const p=Ht.Children.map(t.children,y=>Ht.cloneElement(y,{ref:_=>{_&&i.current.push(_)}}));(!t.renderOnlyPageLengthChange||s.length!==p.length)&&(p.length<s.length&&d(),l(p))}},[t.children]),P.useEffect(()=>{const p=()=>{const y=r.current;y&&(t.onFlip&&y.on("flip",_=>t.onFlip(_)),t.onChangeOrientation&&y.on("changeOrientation",_=>t.onChangeOrientation(_)),t.onChangeState&&y.on("changeState",_=>t.onChangeState(_)),t.onInit&&y.on("init",_=>t.onInit(_)),t.onUpdate&&y.on("update",_=>t.onUpdate(_)))};s.length>0&&i.current.length>0&&(f(),n.current&&!r.current&&(r.current=new tie.PageFlip(n.current,t)),r.current.getFlipController()?r.current.updateFromHtml(i.current):r.current.loadFromHTML(i.current),p())},[s]),Ht.createElement("div",{ref:n,className:t.className,style:t.style},s)}),iie=Ht.memo(nie),rie="_overlayBox_19ufe_3",sie="_bookletContainerBox_19ufe_33",aie="_closeButton_19ufe_67",oie="_flipBook_19ufe_177",lie="_pageBox_19ufe_189",cie="_pageImage_19ufe_209",uie="_pageNumberSpan_19ufe_229",xo={overlayBox:rie,bookletContainerBox:sie,closeButton:aie,flipBook:oie,pageBox:lie,pageImage:cie,pageNumberSpan:uie},Ty=1.414;function die({isOpen:t,onClose:e,coverImage:n,imageList:i}){const r=P.useRef(null),[s,l]=P.useState(0),[d,f]=P.useState(!1);P.useEffect(()=>{const T=()=>{f(window.innerWidth>767)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const p=(n?1:0)+i.length;P.useEffect(()=>{t&&l(0)},[t]),P.useEffect(()=>{p>0&&s>=p&&l(Math.max(0,p-1))},[p,s]);const y={desktop:{width:500},mobile:{width:300}},S=(d?y.desktop:y.mobile).width,A=Math.round(S*Ty);return P.useEffect(()=>{const T=O=>{if(!(!t||!r.current))switch(O.key){case"ArrowLeft":r.current.pageFlip().flipPrev();break;case"ArrowRight":r.current.pageFlip().flipNext();break;case"Escape":e();break}};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[t,e]),!t||p===0?null:b.jsxs("div",{className:xo.overlayBox,onClick:e,children:[b.jsxs("div",{className:xo.bookletContainerBox,onClick:T=>T.stopPropagation(),children:[b.jsx("button",{className:xo.closeButton,onClick:e,children:""}),b.jsxs(iie,{ref:r,width:S,height:A,minWidth:280,maxWidth:d?600:350,minHeight:Math.round(280*Ty),maxHeight:Math.round((d?600:350)*Ty),size:"fixed",showCover:!0,mobileScrollSupport:!0,className:xo.flipBook,onFlip:T=>{const O=T.data;O>=0&&O<p&&l(O)},showPageCorners:!0,usePortrait:!d,useMouseEvents:!0,swipeDistance:50,clickEventForward:!0,disableFlipByClick:!1,startPage:0,drawShadow:!0,flippingTime:800,usePageShadow:!0,autoSize:!1,maxShadowOpacity:.3,startZIndex:1,children:[n&&b.jsx("div",{className:xo.pageBox,children:b.jsx("img",{src:n.url,alt:"",className:xo.pageImage})}),i.map((T,O)=>b.jsx("div",{className:xo.pageBox,children:b.jsx("img",{src:T.url,alt:` ${O+1}`,className:xo.pageImage})},O))]})]}),b.jsxs("div",{className:xo.pageNumberSpan,children:[s+1," / ",p]})]})}function tu(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})}const fie=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function md(t,e,n){const i=hie(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&JS(i,"path",s),JS(i,"relativePath",s),i}function hie(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=fie.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function JS(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const pie=[".DS_Store","Thumbs.db"];function mie(t){return tu(this,void 0,void 0,function*(){return im(t)&&gie(t.dataTransfer)?vie(t.dataTransfer,t.type):xie(t)?yie(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?bie(t):[]})}function gie(t){return im(t)}function xie(t){return im(t)&&im(t.target)}function im(t){return typeof t=="object"&&t!==null}function yie(t){return R2(t.target.files).map(e=>md(e))}function bie(t){return tu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>md(n))})}function vie(t,e){return tu(this,void 0,void 0,function*(){if(t.items){const n=R2(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(wie));return eE(jN(i))}return eE(R2(t.files).map(n=>md(n)))})}function eE(t){return t.filter(e=>pie.indexOf(e.name)===-1)}function R2(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function wie(t){if(typeof t.webkitGetAsEntry!="function")return tE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?PN(e):tE(t,e)}function jN(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?jN(n):[n]],[])}function tE(t,e){return tu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const l=yield s.getFile();return l.handle=s,md(l)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return md(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function _ie(t){return tu(this,void 0,void 0,function*(){return t.isDirectory?PN(t):Cie(t)})}function PN(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(l=>tu(this,void 0,void 0,function*(){if(l.length){const d=Promise.all(l.map(_ie));r.push(d),s()}else try{const d=yield Promise.all(r);n(d)}catch(d){i(d)}}),l=>{i(l)})}s()})}function Cie(t){return tu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=md(i,t.fullPath);e(r)},i=>{n(i)})})})}var c1={},nE;function Sie(){return nE||(nE=1,c1.__esModule=!0,c1.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(l){var d=l.trim().toLowerCase();return d.charAt(0)==="."?i.toLowerCase().endsWith(d):d.endsWith("/*")?s===d.replace(/\/.*$/,""):r===d})}return!0}),c1}var Eie=Sie();const Ny=Do(Eie);function iE(t){return Nie(t)||Tie(t)||zN(t)||Aie()}function Aie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nie(t){if(Array.isArray(t))return D2(t)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(i){FN(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ah(t,e){return Mie(t)||kie(t,e)||zN(t,e)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zN(t,e){if(t){if(typeof t=="string")return D2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D2(t,e)}}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function Mie(t){if(Array.isArray(t))return t}var Oie=typeof Ny=="function"?Ny:Ny.default,Rie="file-invalid-type",Die="file-too-large",Bie="file-too-small",Lie="too-many-files",jie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Rie,message:"File type must be ".concat(i)}},aE=function(e){return{code:Die,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},oE=function(e){return{code:Bie,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Pie={code:Lie,message:"Too many files"};function HN(t,e){var n=t.type==="application/x-moz-file"||Oie(t,e);return[n,n?null:jie(e)]}function UN(t,e,n){if(Ac(t.size))if(Ac(e)&&Ac(n)){if(t.size>n)return[!1,aE(n)];if(t.size<e)return[!1,oE(e)]}else{if(Ac(e)&&t.size<e)return[!1,oE(e)];if(Ac(n)&&t.size>n)return[!1,aE(n)]}return[!0,null]}function Ac(t){return t!=null}function Fie(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,l=t.maxFiles,d=t.validator;return!s&&e.length>1||s&&l>=1&&e.length>l?!1:e.every(function(f){var p=HN(f,n),y=ah(p,1),_=y[0],S=UN(f,i,r),A=ah(S,1),T=A[0],O=d?d(f):null;return _&&T&&!O})}function rm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function u1(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function lE(t){t.preventDefault()}function zie(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Hie(t){return t.indexOf("Edge/")!==-1}function Uie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zie(t)||Hie(t)}function Sa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return e.some(function(d){return!rm(i)&&d&&d.apply(void 0,[i].concat(s)),rm(i)})}}function $ie(){return"showOpenFilePicker"in window}function Vie(t){if(Ac(t)){var e=Object.entries(t).filter(function(n){var i=ah(n,2),r=i[0],s=i[1],l=!0;return $N(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(s)||!s.every(VN))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,i){var r=ah(i,2),s=r[0],l=r[1];return sE(sE({},n),{},FN({},s,l))},{});return[{description:"Files",accept:e}]}return t}function Gie(t){if(Ac(t))return Object.entries(t).reduce(function(e,n){var i=ah(n,2),r=i[0],s=i[1];return[].concat(iE(e),[r],iE(s))},[]).filter(function(e){return $N(e)||VN(e)}).join(",")}function qie(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Wie(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function $N(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function VN(t){return/^.*\.[\w]+$/.test(t)}var Xie=["children"],Yie=["open"],Kie=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Zie=["refKey","onChange","onClick"];function Qie(t){return tre(t)||ere(t)||GN(t)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tre(t){if(Array.isArray(t))return B2(t)}function Iy(t,e){return rre(t)||ire(t,e)||GN(t,e)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GN(t,e){if(t){if(typeof t=="string")return B2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B2(t,e)}}function B2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function rre(t){if(Array.isArray(t))return t}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(i){L2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function L2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sm(t,e){if(t==null)return{};var n=sre(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function sre(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Kb=P.forwardRef(function(t,e){var n=t.children,i=sm(t,Xie),r=P2(i),s=r.open,l=sm(r,Yie);return P.useImperativeHandle(e,function(){return{open:s}},[s]),Ht.createElement(P.Fragment,null,n(Xn(Xn({},l),{},{open:s})))});Kb.displayName="Dropzone";var qN={disabled:!1,getFilesFromEvent:mie,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Kb.defaultProps=qN;Kb.propTypes={children:ot.func,accept:ot.objectOf(ot.arrayOf(ot.string)),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,autoFocus:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,onError:ot.func,validator:ot.func};var j2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function P2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Xn(Xn({},qN),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,l=e.minSize,d=e.multiple,f=e.maxFiles,p=e.onDragEnter,y=e.onDragLeave,_=e.onDragOver,S=e.onDrop,A=e.onDropAccepted,T=e.onDropRejected,O=e.onFileDialogCancel,R=e.onFileDialogOpen,B=e.useFsAccessApi,G=e.autoFocus,j=e.preventDropOnDocument,k=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,V=e.onError,X=e.validator,ie=P.useMemo(function(){return Gie(n)},[n]),ae=P.useMemo(function(){return Vie(n)},[n]),ue=P.useMemo(function(){return typeof R=="function"?R:uE},[R]),Ie=P.useMemo(function(){return typeof O=="function"?O:uE},[O]),Se=P.useRef(null),te=P.useRef(null),Z=P.useReducer(are,j2),le=Iy(Z,2),xe=le[0],Ce=le[1],Q=xe.isFocused,fe=xe.isFileDialogActive,Ee=P.useRef(typeof window<"u"&&window.isSecureContext&&B&&$ie()),Re=function(){!Ee.current&&fe&&setTimeout(function(){if(te.current){var at=te.current.files;at.length||(Ce({type:"closeDialog"}),Ie())}},300)};P.useEffect(function(){return window.addEventListener("focus",Re,!1),function(){window.removeEventListener("focus",Re,!1)}},[te,fe,Ie,Ee]);var He=P.useRef([]),qe=function(at){Se.current&&Se.current.contains(at.target)||(at.preventDefault(),He.current=[])};P.useEffect(function(){return j&&(document.addEventListener("dragover",lE,!1),document.addEventListener("drop",qe,!1)),function(){j&&(document.removeEventListener("dragover",lE),document.removeEventListener("drop",qe))}},[Se,j]),P.useEffect(function(){return!i&&G&&Se.current&&Se.current.focus(),function(){}},[Se,G,i]);var Ae=P.useCallback(function(Ve){V?V(Ve):console.error(Ve)},[V]),en=P.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),kr(Ve),He.current=[].concat(Qie(He.current),[Ve.target]),u1(Ve)&&Promise.resolve(r(Ve)).then(function(at){if(!(rm(Ve)&&!z)){var vt=at.length,_t=vt>0&&Fie({files:at,accept:ie,minSize:l,maxSize:s,multiple:d,maxFiles:f,validator:X}),nn=vt>0&&!_t;Ce({isDragAccept:_t,isDragReject:nn,isDragActive:!0,type:"setDraggedFiles"}),p&&p(Ve)}}).catch(function(at){return Ae(at)})},[r,p,Ae,z,ie,l,s,d,f,X]),gt=P.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),kr(Ve);var at=u1(Ve);if(at&&Ve.dataTransfer)try{Ve.dataTransfer.dropEffect="copy"}catch{}return at&&_&&_(Ve),!1},[_,z]),ai=P.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),kr(Ve);var at=He.current.filter(function(_t){return Se.current&&Se.current.contains(_t)}),vt=at.indexOf(Ve.target);vt!==-1&&at.splice(vt,1),He.current=at,!(at.length>0)&&(Ce({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),u1(Ve)&&y&&y(Ve))},[Se,y,z]),dn=P.useCallback(function(Ve,at){var vt=[],_t=[];Ve.forEach(function(nn){var Lt=HN(nn,ie),qr=Iy(Lt,2),Ci=qr[0],na=qr[1],on=UN(nn,l,s),Ue=Iy(on,2),an=Ue[0],jt=Ue[1],qt=X?X(nn):null;if(Ci&&an&&!qt)vt.push(nn);else{var Mr=[na,jt];qt&&(Mr=Mr.concat(qt)),_t.push({file:nn,errors:Mr.filter(function(gs){return gs})})}}),(!d&&vt.length>1||d&&f>=1&&vt.length>f)&&(vt.forEach(function(nn){_t.push({file:nn,errors:[Pie]})}),vt.splice(0)),Ce({acceptedFiles:vt,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),S&&S(vt,_t,at),_t.length>0&&T&&T(_t,at),vt.length>0&&A&&A(vt,at)},[Ce,d,ie,l,s,f,S,A,T,X]),cn=P.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),kr(Ve),He.current=[],u1(Ve)&&Promise.resolve(r(Ve)).then(function(at){rm(Ve)&&!z||dn(at,Ve)}).catch(function(at){return Ae(at)}),Ce({type:"reset"})},[r,dn,Ae,z]),Di=P.useCallback(function(){if(Ee.current){Ce({type:"openDialog"}),ue();var Ve={multiple:d,types:ae};window.showOpenFilePicker(Ve).then(function(at){return r(at)}).then(function(at){dn(at,null),Ce({type:"closeDialog"})}).catch(function(at){qie(at)?(Ie(at),Ce({type:"closeDialog"})):Wie(at)?(Ee.current=!1,te.current?(te.current.value=null,te.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(at)});return}te.current&&(Ce({type:"openDialog"}),ue(),te.current.value=null,te.current.click())},[Ce,ue,Ie,B,dn,Ae,ae,d]),Ot=P.useCallback(function(Ve){!Se.current||!Se.current.isEqualNode(Ve.target)||(Ve.key===" "||Ve.key==="Enter"||Ve.keyCode===32||Ve.keyCode===13)&&(Ve.preventDefault(),Di())},[Se,Di]),oi=P.useCallback(function(){Ce({type:"focus"})},[]),Gi=P.useCallback(function(){Ce({type:"blur"})},[]),ms=P.useCallback(function(){k||(Uie()?setTimeout(Di,0):Di())},[k,Di]),Ut=function(at){return i?null:at},tn=function(at){return D?null:Ut(at)},At=function(at){return L?null:Ut(at)},kr=function(at){z&&at.stopPropagation()},We=P.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=Ve.refKey,vt=at===void 0?"ref":at,_t=Ve.role,nn=Ve.onKeyDown,Lt=Ve.onFocus,qr=Ve.onBlur,Ci=Ve.onClick,na=Ve.onDragEnter,on=Ve.onDragOver,Ue=Ve.onDragLeave,an=Ve.onDrop,jt=sm(Ve,Kie);return Xn(Xn(L2({onKeyDown:tn(Sa(nn,Ot)),onFocus:tn(Sa(Lt,oi)),onBlur:tn(Sa(qr,Gi)),onClick:Ut(Sa(Ci,ms)),onDragEnter:At(Sa(na,en)),onDragOver:At(Sa(on,gt)),onDragLeave:At(Sa(Ue,ai)),onDrop:At(Sa(an,cn)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},vt,Se),!i&&!D?{tabIndex:0}:{}),jt)}},[Se,Ot,oi,Gi,ms,en,gt,ai,cn,D,L,i]),er=P.useCallback(function(Ve){Ve.stopPropagation()},[]),Gr=P.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=Ve.refKey,vt=at===void 0?"ref":at,_t=Ve.onChange,nn=Ve.onClick,Lt=sm(Ve,Zie),qr=L2({accept:ie,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ut(Sa(_t,cn)),onClick:Ut(Sa(nn,er)),tabIndex:-1},vt,te);return Xn(Xn({},qr),Lt)}},[te,n,d,cn,i]);return Xn(Xn({},xe),{},{isFocused:Q&&!i,getRootProps:We,getInputProps:Gr,rootRef:Se,inputRef:te,open:Ut(Di)})}function are(t,e){switch(e.type){case"focus":return Xn(Xn({},t),{},{isFocused:!0});case"blur":return Xn(Xn({},t),{},{isFocused:!1});case"openDialog":return Xn(Xn({},j2),{},{isFileDialogActive:!0});case"closeDialog":return Xn(Xn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xn(Xn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Xn(Xn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Xn({},j2);default:return t}}function uE(){}function ore(){const[t,e]=P.useState([]),[n,i]=P.useState(null),r=S=>{const T=Array.from(S.target.files).map(O=>new Promise(R=>{const B=new FileReader;B.onload=G=>{R({file:O,url:G.target.result,name:O.name})},B.readAsDataURL(O)}));Promise.all(T).then(O=>{e(R=>[...R,...O]),S.target.value=""})},s=S=>{e(A=>A.filter((T,O)=>O!==S))},l=S=>{const A=new FileReader;A.onload=T=>{i({file:S,url:T.target.result,name:S.name})},A.readAsDataURL(S)},d=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.onchange=A=>{const T=A.target.files[0];T&&l(T)},S.click()},f=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.multiple=!0,S.onchange=r,S.click()},p=(S,A="inner")=>{const T=S.map(O=>new Promise(R=>{const B=new FileReader;B.onload=G=>{R({file:O,url:G.target.result,name:O.name})},B.readAsDataURL(O)}));Promise.all(T).then(O=>{A==="cover"?O.length>0&&i(O[0]):e(R=>[...R,...O])})},y=P2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:S=>p(S,"cover"),onDropRejected:S=>{console.log("   :",S)}}),_=P2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:S=>p(S,"inner"),onDropRejected:S=>{console.log("   :",S)}});return{imageList:t,setImageList:e,coverImage:n,setCoverImage:i,handleImageChange:r,handleRemoveImage:s,openFileDialogForCover:d,openFileDialogForInner:f,coverDropzone:y,innerDropzone:_,handleDrop:p}}function lre(){const[t,e]=P.useState(!1),{imageList:n,setImageList:i,coverImage:r,setCoverImage:s,handleImageChange:l,handleRemoveImage:d,openFileDialogForCover:f,openFileDialogForInner:p,coverDropzone:y,innerDropzone:_}=ore(),S=()=>{if(!r){Ri.error("   !",{position:"top-center",duration:3e3});return}e(!0)};return b.jsxs("div",{className:yl.layout,children:[b.jsx(Sne,{}),b.jsxs("div",{className:yl.mainContentContainer,children:[b.jsx("div",{className:yl.panelHeaderBox,children:b.jsxs("p",{className:yl.panelHeaderParagraph,children:["/   .",b.jsx("br",{}),"     ."]})}),b.jsx(Une,{coverImage:r,setCoverImage:s,openFileDialogForCover:f,coverDropzone:y}),b.jsx(Qne,{imageList:n,setImageList:i,handleImageChange:l,handleRemoveImage:d,openFileDialogForInner:p,innerDropzone:_}),b.jsxs("div",{className:yl.combinedButtonBox,children:[b.jsx("button",{className:yl.leftButton,onClick:S,disabled:!r&&n.length===0,children:""}),b.jsx("div",{className:yl.dividerBox}),b.jsx("button",{className:yl.rightButton,children:"QR"})]})]}),b.jsx(die,{isOpen:t,onClose:()=>e(!1),coverImage:r,imageList:n})]})}const cre="_page_1qmmv_1",ure="_title_1qmmv_15",dre="_formArea_1qmmv_31",fre="_label_1qmmv_47",hre="_input_1qmmv_61",pre="_textarea_1qmmv_63",mre="_tagContainer_1qmmv_107",gre="_tagButton_1qmmv_119",xre="_submitButton_1qmmv_151",yre="_resultArea_1qmmv_197",bre="_resultCard_1qmmv_211",vre="_cardHeader_1qmmv_231",wre="_refineButton_1qmmv_257",_re="_placeholder_1qmmv_291",wr={page:cre,title:ure,formArea:dre,label:fre,input:hre,textarea:pre,tagContainer:mre,tagButton:gre,submitButton:xre,resultArea:yre,resultCard:bre,cardHeader:vre,refineButton:wre,placeholder:_re};function Cre(){const[t,e]=P.useState(""),[n,i]=P.useState(""),[r,s]=P.useState([]),[l,d]=P.useState(!1);new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const f=async()=>{var y,_;if(s([]),d(!0),!t.trim()){s(["  ."]),d(!1);return}try{const A=(await mt.post("/api/console/invitation/create",{eventTopic:t,userRequirements:n||""})).data;A&&typeof A=="string"?s([A]):Array.isArray(A)?s(A):A.invitations&&Array.isArray(A.invitations)?s(A.invitations):s([" ."])}catch(S){console.error("API  :",S),((y=S.response)==null?void 0:y.status)===401?s([" .  ."]):((_=S.response)==null?void 0:_.status)===403?s([" ."]):s([`API  : ${S.message}`])}finally{d(!1)}},p=async(y,_)=>{var S,A;if(y.trim())try{const O=(await mt.post("/api/console/invitation/refine",{selectedInvitation:y,eventTopic:t,userRequirements:"   "})).data;s(R=>R.map((B,G)=>G===_&&typeof O=="string"?O:B))}catch(T){console.error(" API  :",T),((S=T.response)==null?void 0:S.status)===401?alert(" .  ."):((A=T.response)==null?void 0:A.status)===403?alert(" ."):alert("  .")}};return b.jsxs("div",{className:wr.page,children:[b.jsx("h1",{className:wr.title,children:"  "}),b.jsxs("div",{className:wr.formArea,children:[b.jsx("label",{className:wr.label,children:" "}),b.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:":  ,  ",className:wr.input}),b.jsx("label",{className:wr.label,children:""}),b.jsx("textarea",{value:n,onChange:y=>i(y.target.value),placeholder:":   ,   ",className:wr.textarea}),b.jsx("div",{className:wr.tagContainer,children:["#","#","#","#","#","#"].map(y=>b.jsx("button",{type:"button",className:wr.tagButton,onClick:()=>i(_=>_.includes(y)?_:_?`${_}, ${y}`:y),children:y},y))}),b.jsx("button",{onClick:f,className:wr.submitButton,disabled:l,children:l?" ...":" "})]}),b.jsx("div",{className:wr.resultArea,children:r.length>0?r.map((y,_)=>b.jsxs("div",{className:wr.resultCard,children:[b.jsxs("div",{className:wr.cardHeader,children:[b.jsxs("h3",{children:[" ",_+1]}),b.jsx("button",{className:wr.refineButton,onClick:()=>p(y,_),children:""})]}),b.jsx("p",{children:y})]},_)):b.jsx("div",{className:wr.placeholder,children:"    ."})})]})}const Sre="_container_244h0_3",Ere="_image_244h0_27",Are="_info_244h0_41",Tre="_productName_244h0_49",Nre="_artist_244h0_59",Ire="_guide_244h0_71",kre="_textArea_244h0_87",Mre="_buttonRow_244h0_113",Ore="_saveBtn_244h0_127",Rre="_cancelBtn_244h0_129",as={container:Sre,image:Ere,info:Are,productName:Tre,artist:Nre,guide:Ire,textArea:kre,buttonRow:Mre,saveBtn:Ore,cancelBtn:Rre};function Dre({autoGenerate:t=!1}){var G;const{id:e}=Fs(),[n,i]=P.useState(null),[r,s]=P.useState(""),[l,d]=P.useState(!1),[f,p]=P.useState(!1),[y,_]=P.useState(""),S=(n==null?void 0:n.art_title)||"",A=(n==null?void 0:n.artist_name)||((G=n==null?void 0:n.artist)==null?void 0:G.artist_name)||"",T=(n==null?void 0:n.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",O=async j=>{var k,D,L;d(!0),_("");try{const z=await mt.get(`/api/arts/${j}`),V=((k=z.data)==null?void 0:k.data)??z.data;if(!V){_("    ."),i(null),s("");return}i(V),s((V==null?void 0:V.art_docent)||"")}catch(z){_(((L=(D=z.response)==null?void 0:D.data)==null?void 0:L.message)||"     ."),i(null),s("")}finally{d(!1)}};P.useEffect(()=>{e&&O(e)},[e]);const R=async()=>{var j,k,D;if(!e)return alert("  ID .");if(!r.trim())return alert("  .");if(!n)return alert("   .    .");try{p(!0);const L=new FormData;L.append("_method","PATCH"),n.art_title&&L.append("art_title",n.art_title),n.art_description&&L.append("art_description",n.art_description),n.artist_id&&L.append("artist_id",n.artist_id),n.artist_name&&L.append("artist_name",n.artist_name),n.art_material&&L.append("art_material",n.art_material),n.art_size&&L.append("art_size",n.art_size),n.art_year&&L.append("art_year",n.art_year),n.art_price&&L.append("art_price",n.art_price),L.append("art_docent",r),n.art_image&&typeof n.art_image=="string"&&L.append("art_image",n.art_image),n.art_images&&L.append("art_images",n.art_images),n.art_image_mime&&L.append("art_image_mime",n.art_image_mime),n.art_image_name&&L.append("art_image_name",n.art_image_name),n.art_image_size&&L.append("art_image_size",n.art_image_size);const z=await mt.post(`/api/arts/${e}`,L,{headers:{"Content-Type":void 0}});alert(((j=z.data)==null?void 0:j.message)||" ."),await O(e)}catch(L){alert(((D=(k=L.response)==null?void 0:k.data)==null?void 0:D.message)||"    .")}finally{p(!1)}},B=()=>s((n==null?void 0:n.art_docent)||"");return e?b.jsx("div",{className:as.container,children:l?b.jsx("div",{className:as.guide,children:"   ..."}):b.jsxs(b.Fragment,{children:[b.jsx("img",{src:T,alt:S,className:as.image}),b.jsxs("div",{className:as.info,children:[b.jsx("div",{className:as.productName,children:S}),b.jsx("div",{className:as.artist,children:A})]}),y&&b.jsx("div",{className:as.guide,style:{color:"#ef4444"},children:y}),b.jsx("p",{className:as.guide,children:"    ."}),b.jsx("textarea",{className:as.textArea,value:r,onChange:j=>s(j.target.value),placeholder:"  .",disabled:l}),b.jsxs("div",{className:as.buttonRow,children:[b.jsx("button",{className:as.saveBtn,onClick:R,disabled:f||!!y||l,children:f?" ...":""}),b.jsx("button",{className:as.cancelBtn,onClick:B,disabled:f||l,children:""})]})]})}):b.jsx("div",{className:as.container,children:"  ID ."})}function Bre(){return null}const Lre="_layout_1el1w_1",jre="_header_1el1w_15",Pre="_title_1el1w_41",Fre="_backButton_1el1w_51",zre="_formContainer_1el1w_69",Hre="_bottomButtonContainer_1el1w_83",Ure="_button_1el1w_105",$re="_cancelButton_1el1w_125",Vre="_saveButton_1el1w_135",Ea={layout:Lre,header:jre,title:Pre,backButton:Fre,formContainer:zre,bottomButtonContainer:Hre,button:Ure,cancelButton:$re,saveButton:Vre},Gre="_card_choiv_1",qre="_input_choiv_17",Wre="_tagInputField_choiv_19",Xre="_timeInput_choiv_21",Yre="_galleryNameInput_choiv_53",Kre="_gallerySubNameInput_choiv_69",Zre="_imageUploadBox_choiv_93",Qre="_previewImage_choiv_123",Jre="_previewImageDesc_choiv_135",ese="_imageDelBtn_choiv_143",tse="_inputGroup_choiv_179",nse="_label_choiv_193",ise="_tagInputContainer_choiv_205",rse="_tagItem_choiv_225",sse="_removeTagBtn_choiv_245",ase="_timeInputContainer_choiv_285",ose="_checkboxGroup_choiv_305",lse="_snsCard_choiv_329",cse="_snsInputGroup_choiv_337",use="_tiptap_choiv_351",dse="_artistSelectRow_choiv_411",fse="_selectButton_choiv_423",hse="_inputDocent_choiv_491",pse="_docent_choiv_503",mse="_textarea_choiv_515",Me={card:Gre,input:qre,tagInputField:Wre,timeInput:Xre,galleryNameInput:Yre,gallerySubNameInput:Kre,imageUploadBox:Zre,previewImage:Qre,previewImageDesc:Jre,imageDelBtn:ese,inputGroup:tse,label:nse,tagInputContainer:ise,tagItem:rse,removeTagBtn:sse,timeInputContainer:ase,checkboxGroup:ose,snsCard:lse,snsInputGroup:cse,tiptap:use,artistSelectRow:dse,selectButton:fse,inputDocent:hse,docent:pse,textarea:mse};var ky={exports:{}},My={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function gse(){if(dE)return My;dE=1;var t=Kc();function e(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(_,S){var A=S(),T=i({inst:{value:A,getSnapshot:S}}),O=T[0].inst,R=T[1];return s(function(){O.value=A,O.getSnapshot=S,f(O)&&R({inst:O})},[_,A,S]),r(function(){return f(O)&&R({inst:O}),_(function(){f(O)&&R({inst:O})})},[_]),l(A),A}function f(_){var S=_.getSnapshot;_=_.value;try{var A=S();return!n(_,A)}catch{return!0}}function p(_,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return My.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,My}var fE;function WN(){return fE||(fE=1,ky.exports=gse()),ky.exports}var XN=WN();function Zi(t){this.content=t}Zi.prototype={constructor:Zi,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new Zi(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Zi(n)},addToStart:function(t,e){return new Zi([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Zi(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(s==-1?r.length:s,0,e,n),new Zi(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Zi.from(t),t.size?new Zi(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Zi.from(t),t.size?new Zi(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Zi.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Zi.from=function(t){if(t instanceof Zi)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Zi(e)};function YN(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),s=e.child(i);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let l=0;r.text[l]==s.text[l];l++)n++;return n}if(r.content.size||s.content.size){let l=YN(r.content,s.content,n+1);if(l!=null)return l}n+=r.nodeSize}}function KN(t,e,n,i){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:i};let l=t.child(--r),d=e.child(--s),f=l.nodeSize;if(l==d){n-=f,i-=f;continue}if(!l.sameMarkup(d))return{a:n,b:i};if(l.isText&&l.text!=d.text){let p=0,y=Math.min(l.text.length,d.text.length);for(;p<y&&l.text[l.text.length-p-1]==d.text[d.text.length-p-1];)p++,n--,i--;return{a:n,b:i}}if(l.content.size||d.content.size){let p=KN(l.content,d.content,n-1,i-1);if(p)return p}n-=f,i-=f}}class je{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,s){for(let l=0,d=0;d<n;l++){let f=this.content[l],p=d+f.nodeSize;if(p>e&&i(f,r+d,s||null,l)!==!1&&f.content.size){let y=d+1;f.nodesBetween(Math.max(0,e-y),Math.min(f.content.size,n-y),i,r+y)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let s="",l=!0;return this.nodesBetween(e,n,(d,f)=>{let p=d.isText?d.text.slice(Math.max(e,f)-f,n-f):d.isLeaf?r?typeof r=="function"?r(d):r:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&i&&(l?l=!1:s+=i),s+=p},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new je(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let s=0,l=0;l<n;s++){let d=this.content[s],f=l+d.nodeSize;f>e&&((l<e||f>n)&&(d.isText?d=d.cut(Math.max(0,e-l),Math.min(d.text.length,n-l)):d=d.cut(Math.max(0,e-l-1),Math.min(d.content.size,n-l-1))),i.push(d),r+=d.nodeSize),l=f}return new je(i,r)}cutByIndex(e,n){return e==n?je.empty:e==0&&n==this.content.length?this:new je(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new je(r,s)}addToStart(e){return new je([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new je(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return YN(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return KN(this,e,n,i)}findIndex(e){if(e==0)return d1(0,e);if(e==this.size)return d1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let r=this.child(n),s=i+r.nodeSize;if(s>=e)return s==e?d1(n+1,s):d1(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return je.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new je(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return je.empty;let n,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new je(n||e,i)}static from(e){if(!e)return je.empty;if(e instanceof je)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new je([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}je.empty=new je([],0);const Oy={index:0,offset:0};function d1(t,e){return Oy.index=t,Oy.offset=e,Oy}function am(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!am(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!am(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let kn=class F2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&am(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return F2.none;if(e instanceof F2)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};kn.none=[];class om extends Error{}class Xe{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=QN(this.content,e+this.openStart,n);return i&&new Xe(i,this.openStart,this.openEnd)}removeBetween(e,n){return new Xe(ZN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Xe.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Xe(je.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new Xe(e,i,r)}}Xe.empty=new Xe(je.empty,0,0);function ZN(t,e,n){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i),{index:l,offset:d}=t.findIndex(n);if(r==e||s.isText){if(d!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(ZN(s.content,e-r-1,n-r-1)))}function QN(t,e,n,i){let{index:r,offset:s}=t.findIndex(e),l=t.maybeChild(r);if(s==e||l.isText)return i&&!i.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=QN(l.content,e-s-1,n,l);return d&&t.replaceChild(r,l.copy(d))}function xse(t,e,n){if(n.openStart>t.depth)throw new om("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new om("Inconsistent open depths");return JN(t,e,n,0)}function JN(t,e,n,i){let r=t.index(i),s=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let l=JN(t,e,n,i+1);return s.copy(s.content.replaceChild(r,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let l=t.parent,d=l.content;return jc(l,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:l,end:d}=yse(n,t);return jc(s,t8(t,l,d,e,i))}else return jc(s,lm(t,e,i))}function e8(t,e){if(!e.type.compatibleContent(t.type))throw new om("Cannot join "+e.type.name+" onto "+t.type.name)}function z2(t,e,n){let i=t.node(n);return e8(i,e.node(n)),i}function Lc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function qf(t,e,n,i){let r=(e||t).node(n),s=0,l=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Lc(t.nodeAfter,i),s++));for(let d=s;d<l;d++)Lc(r.child(d),i);e&&e.depth==n&&e.textOffset&&Lc(e.nodeBefore,i)}function jc(t,e){return t.type.checkContent(e),t.copy(e)}function t8(t,e,n,i,r){let s=t.depth>r&&z2(t,e,r+1),l=i.depth>r&&z2(n,i,r+1),d=[];return qf(null,t,r,d),s&&l&&e.index(r)==n.index(r)?(e8(s,l),Lc(jc(s,t8(t,e,n,i,r+1)),d)):(s&&Lc(jc(s,lm(t,e,r+1)),d),qf(e,n,r,d),l&&Lc(jc(l,lm(n,i,r+1)),d)),qf(i,null,r,d),new je(d)}function lm(t,e,n){let i=[];if(qf(null,t,n,i),t.depth>n){let r=z2(t,e,n+1);Lc(jc(r,lm(t,e,n+1)),i)}return qf(e,null,n,i),new je(i)}function yse(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(je.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class oh{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return kn.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let d=i;i=r,r=d}let s=i.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!r||!s[l].isInSet(r.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new cm(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,s=n;for(let l=e;;){let{index:d,offset:f}=l.content.findIndex(s),p=s-f;if(i.push(l,d,r+f),!p||(l=l.child(d),l.isText))break;s=p-1,r+=f+1}return new oh(n,i,s)}static resolveCached(e,n){let i=hE.get(e);if(i)for(let s=0;s<i.elts.length;s++){let l=i.elts[s];if(l.pos==n)return l}else hE.set(e,i=new bse);let r=i.elts[i.i]=oh.resolve(e,n);return i.i=(i.i+1)%vse,r}}class bse{constructor(){this.elts=[],this.i=0}}const vse=12,hE=new WeakMap;class cm{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wse=Object.create(null);class Qs{constructor(e,n,i,r=kn.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||je.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&am(this.attrs,n||e.defaultAttrs||wse)&&kn.sameSet(this.marks,i||kn.none)}copy(e=null){return e==this.content?this:new Qs(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Qs(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return Xe.empty;let r=this.resolve(e),s=this.resolve(n),l=i?0:r.sharedDepth(n),d=r.start(l),p=r.node(l).content.cut(r.pos-d,s.pos-d);return new Xe(p,r.depth-l,s.depth-l)}replace(e,n,i){return xse(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return oh.resolveCached(this,e)}resolveNoCache(e){return oh.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),n8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=je.empty,r=0,s=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,r,s),d=l&&l.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let f=r;f<s;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=kn.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!kn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=je.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,i);return s.type.checkAttrs(s.attrs),s}}Qs.prototype.text=void 0;class um extends Qs{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):n8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new um(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new um(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function n8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Gc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new _se(e,n);if(i.next==null)return Gc.empty;let r=i8(i);i.next&&i.err("Unexpected trailing text");let s=Ise(Nse(r));return kse(s,i),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let s=n;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function s(l,d){let f=l.matchFragment(e,i);if(f&&(!n||f.validEnd))return je.from(d.map(p=>p.createAndFill()));for(let p=0;p<l.next.length;p++){let{type:y,next:_}=l.next[p];if(!(y.isText||y.hasRequiredAttrs())&&r.indexOf(_)==-1){r.push(_);let S=s(_,d.concat(y));if(S)return S}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let l=[];for(let d=r;d.type;d=d.via)l.push(d.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:d,next:f}=s.next[l];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!r.type||f.validEnd)&&(i.push({match:d.contentMatch,type:d,via:r}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)s+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return s}).join(`
`)}}Gc.empty=new Gc(!0);class _se{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function i8(t){let e=[];do e.push(Cse(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Cse(t){let e=[];do e.push(Sse(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Sse(t){let e=Tse(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Ese(t,e);else break;return e}function pE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Ese(t,e){let n=pE(t),i=n;return t.eat(",")&&(t.next!="}"?i=pE(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Ase(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let s in n){let l=n[s];l.isInGroup(e)&&r.push(l)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function Tse(t){if(t.eat("(")){let e=i8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Ase(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Nse(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function i(l,d,f){let p={term:f,to:d};return e[l].push(p),p}function r(l,d){l.forEach(f=>f.to=d)}function s(l,d){if(l.type=="choice")return l.exprs.reduce((f,p)=>f.concat(s(p,d)),[]);if(l.type=="seq")for(let f=0;;f++){let p=s(l.exprs[f],d);if(f==l.exprs.length-1)return p;r(p,d=n())}else if(l.type=="star"){let f=n();return i(d,f),r(s(l.expr,f),f),[i(f)]}else if(l.type=="plus"){let f=n();return r(s(l.expr,d),f),r(s(l.expr,f),f),[i(f)]}else{if(l.type=="opt")return[i(d)].concat(s(l.expr,d));if(l.type=="range"){let f=d;for(let p=0;p<l.min;p++){let y=n();r(s(l.expr,f),y),f=y}if(l.max==-1)r(s(l.expr,f),f);else for(let p=l.min;p<l.max;p++){let y=n();i(f,y),r(s(l.expr,f),y),f=y}return[i(f)]}else{if(l.type=="name")return[i(d,void 0,l.value)];throw new Error("Unknown expr type")}}}}function r8(t,e){return e-t}function mE(t,e){let n=[];return i(e),n.sort(r8);function i(r){let s=t[r];if(s.length==1&&!s[0].term)return i(s[0].to);n.push(r);for(let l=0;l<s.length;l++){let{term:d,to:f}=s[l];!d&&n.indexOf(f)==-1&&i(f)}}}function Ise(t){let e=Object.create(null);return n(mE(t,0));function n(i){let r=[];i.forEach(l=>{t[l].forEach(({term:d,to:f})=>{if(!d)return;let p;for(let y=0;y<r.length;y++)r[y][0]==d&&(p=r[y][1]);mE(t,f).forEach(y=>{p||r.push([d,p=[]]),p.indexOf(y)==-1&&p.push(y)})})});let s=e[i.join(",")]=new Gc(i.indexOf(t.length-1)>-1);for(let l=0;l<r.length;l++){let d=r[l][1].sort(r8);s.next.push({type:r[l][0],next:e[d.join(",")]||n(d)})}return s}}function kse(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],s=!r.validEnd,l=[];for(let d=0;d<r.next.length;d++){let{type:f,next:p}=r.next[d];l.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),i.indexOf(p)==-1&&i.push(p)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function s8(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function a8(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let s=t[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function o8(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function l8(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new Ose(t,i,e[i]);return n}let gE=class c8{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=l8(e,i.attrs),this.defaultAttrs=s8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Gc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:a8(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qs(this,this.computeAttrs(e),je.from(n),kn.setFrom(i))}createChecked(e=null,n,i){return n=je.from(n),this.checkContent(n),new Qs(this,this.computeAttrs(e),n,kn.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=je.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(je.empty,!0);return s?new Qs(this,e,n.append(s),kn.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){o8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:kn.none:e}static compile(e,n){let i=Object.create(null);e.forEach((s,l)=>i[s]=new c8(s,n,l));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function Mse(t,e,n){let i=n.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}class Ose{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?Mse(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class f0{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=l8(e,r.attrs),this.excluded=null;let s=s8(this.attrs);this.instance=s?new kn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new kn(this,a8(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((s,l)=>i[s]=new f0(s,r++,n,l)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){o8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class u8{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Zi.from(e.nodes),n.marks=Zi.from(e.marks||{}),this.nodes=gE.compile(this.spec.nodes,this),this.marks=f0.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],l=s.spec.content||"",d=s.spec.marks;if(s.contentMatch=i[l]||(i[l]=Gc.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=d=="_"?null:d?xE(this,d.split(" ")):d==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:xE(this,l.split(" "))}this.nodeFromJSON=r=>Qs.fromJSON(this,r),this.markFromJSON=r=>kn.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof gE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new um(i,i.defaultAttrs,e,kn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function xE(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],s=t.marks[r],l=s;if(s)n.push(s);else for(let d in t.marks){let f=t.marks[d];(r=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(r)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function Rse(t){return t.tag!=null}function Dse(t){return t.style!=null}class Bl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(Rse(r))this.tags.push(r);else if(Dse(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let i=new bE(this,n,!1);return i.addAll(e,kn.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new bE(this,n,!0);return i.addAll(e,kn.none,n.from,n.to),Xe.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(jse(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let l=this.styles[s],d=l.style;if(!(d.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function i(r){let s=r.priority==null?50:r.priority,l=0;for(;l<n.length;l++){let d=n[l];if((d.priority==null?50:d.priority)<s)break}n.splice(l,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(l=>{i(l=vE(l)),l.mark||l.ignore||l.clearMark||(l.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(l=>{i(l=vE(l)),l.node||l.ignore||l.mark||(l.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bl(e,Bl.schemaRules(e)))}}const d8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Bse={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},f8={ol:!0,ul:!0},lh=1,H2=2,I1=4;function yE(t,e,n){return e!=null?(e?lh:0)|(e==="full"?H2:0):t&&t.whitespace=="pre"?lh|H2:n&-5}class f1{constructor(e,n,i,r,s,l){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=l,this.content=[],this.activeMarks=kn.none,this.match=s||(l&I1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(je.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&lh)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=je.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(je.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!d8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class bE{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,l=yE(null,n.preserveWhitespace,0)|(i?I1:0);r?s=new f1(r.type,r.attrs,kn.none,!0,n.topMatch||r.type.contentMatch,l):i?s=new f1(null,null,kn.none,!0,null,l):s=new f1(e.schema.topNodeType,null,kn.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,s=r.options&H2?"full":this.localPreserveWS||(r.options&lh)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),d;f8.hasOwnProperty(l)&&this.parser.normalizeLists&&Lse(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,i));e:if(f?f.ignore:Bse.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,y=this.needsBlock;if(d8.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),p=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let _=f&&f.skip?n:this.readStyles(e,n);_&&this.addAll(e,_),p&&this.sync(s),this.needsBlock=y}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,f,p,f.consuming===!1?d:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],l=i.getPropertyValue(s);if(l)for(let d=void 0;;){let f=this.parser.matchStyle(s,l,this,d);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(p=>!f.clearMark(p)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)d=f;else break}}return n}addElementByRule(e,n,i,r){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(l,n.attrs||null,i,n.preserveWhitespace);f&&(s=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let d=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}s&&this.sync(d)&&this.open--}addAll(e,n,i,r){let s=i||0;for(let l=i?e.childNodes[i]:e.firstChild,d=r==null?null:e.childNodes[r];l!=d;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,i){let r,s;for(let l=this.open,d=0;l>=0;l--){let f=this.nodes[l],p=f.findWrapping(e);if(p&&(!r||r.length>p.length+d)&&(r=p,s=f,!p.length))break;if(f.solid){if(i)break;d+=2}}if(!r)return null;this.sync(s);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n,i);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=kn.none;for(let d of r.concat(e.marks))(s.type?s.type.allowsMarkType(d.type):wE(d.type,e.type))&&(l=d.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,i,r){let s=this.findPlace(e.create(n),i,!1);return s&&(s=this.enterInner(e,n,i,!0,r)),s}enterInner(e,n,i,r=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let d=yE(e,s,l.options);l.options&I1&&l.content.length==0&&(d|=I1);let f=kn.none;return i=i.filter(p=>(l.type?l.type.allowsMarkType(p.type):wE(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new f1(e,n,f,r,null,d)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=lh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),l=(d,f)=>{for(;d>=0;d--){let p=n[d];if(p==""){if(d==n.length-1||d==0)continue;for(;f>=s;f--)if(l(d-1,f))return!0;return!1}else{let y=f>0||f==0&&r?this.nodes[f].type:i&&f>=s?i.node(f-s).type:null;if(!y||y.name!=p&&!y.isInGroup(p))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function Lse(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&f8.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function jse(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function vE(t){let e={};for(let n in t)e[n]=t[n];return e}function wE(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let s=[],l=d=>{s.push(d);for(let f=0;f<d.edgeCount;f++){let{type:p,next:y}=d.edge(f);if(p==e||s.indexOf(y)<0&&l(y))return!0}};if(l(r.contentMatch))return!0}}class nu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Ry(n).createDocumentFragment());let r=i,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let d=0,f=0;for(;d<s.length&&f<l.marks.length;){let p=l.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(s[d][0])||p.type.spec.spanning===!1)break;d++,f++}for(;d<s.length;)r=s.pop()[1];for(;f<l.marks.length;){let p=l.marks[f++],y=this.serializeMark(p,l.isInline,n);y&&(s.push([p,r]),r.appendChild(y.dom),r=y.contentDOM||y.dom)}}r.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=k1(Ry(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&k1(Ry(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return k1(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=_E(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return _E(e.marks)}}function _E(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Ry(t){return t.document||window.document}const CE=new WeakMap;function Pse(t){let e=CE.get(t);return e===void 0&&CE.set(t,e=Fse(t)),e}function Fse(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function k1(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=Pse(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=r.indexOf(" ");l>0&&(n=r.slice(0,l),r=r.slice(l+1));let d,f=n?t.createElementNS(n,r):t.createElement(r),p=e[1],y=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){y=2;for(let _ in p)if(p[_]!=null){let S=_.indexOf(" ");S>0?f.setAttributeNS(_.slice(0,S),_.slice(S+1),p[_]):_=="style"&&f.style?f.style.cssText=p[_]:f.setAttribute(_,p[_])}}for(let _=y;_<e.length;_++){let S=e[_];if(S===0){if(_<e.length-1||_>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:A,contentDOM:T}=k1(t,S,n,i);if(f.appendChild(A),T){if(d)throw new RangeError("Multiple content holes");d=T}}}return{dom:f,contentDOM:d}}const h8=65535,p8=Math.pow(2,16);function zse(t,e){return t+e*p8}function SE(t){return t&h8}function Hse(t){return(t-(t&h8))/p8}const m8=1,g8=2,M1=4,x8=8;class U2{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&x8)>0}get deletedBefore(){return(this.delInfo&(m8|M1))>0}get deletedAfter(){return(this.delInfo&(g8|M1))>0}get deletedAcross(){return(this.delInfo&M1)>0}}class fs{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&fs.empty)return fs.empty}recover(e){let n=0,i=SE(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+Hse(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[d+s],y=this.ranges[d+l],_=f+p;if(e<=_){let S=p?e==f?-1:e==_?1:n:n,A=f+r+(S<0?0:y);if(i)return A;let T=e==(n<0?f:_)?null:zse(d/3,e-f),O=e==f?g8:e==_?m8:M1;return(n<0?e!=f:e!=_)&&(O|=x8),new U2(A,O,T)}r+=y-p}return i?e+r:new U2(e+r,0,null)}touches(e,n){let i=0,r=SE(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[d+s],y=f+p;if(e<=y&&d==r*3)return!0;i+=this.ranges[d+l]-p}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let l=this.ranges[r],d=l-(this.inverted?s:0),f=l+(this.inverted?0:s),p=this.ranges[r+n],y=this.ranges[r+i];e(d,d+p,f,f+y),s+=y-p}}invert(){return new fs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?fs.empty:new fs(e<0?[0,-e,0]:[0,0,e])}}fs.empty=new fs([]);class ch{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ch(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new ch;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],d=l.mapResult(e,n);if(d.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(d.recover);continue}}r|=d.delInfo,e=d.pos}return i?e:new U2(e,r,null)}}const Dy=Object.create(null);class hr{getMap(){return fs.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Dy[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Dy)throw new RangeError("Duplicate use of step JSON ID "+e);return Dy[e]=n,n.prototype.jsonID=e,n}}class vi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new vi(e,null)}static fail(e){return new vi(null,e)}static fromReplace(e,n,i,r){try{return vi.ok(e.replace(n,i,r))}catch(s){if(s instanceof om)return vi.fail(s.message);throw s}}}function Zb(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(Zb(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return je.fromArray(i)}class kl extends hr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new Xe(Zb(n.content,(l,d)=>!l.isAtom||!d.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),r),n.openStart,n.openEnd);return vi.fromReplace(e,this.from,this.to,s)}invert(){return new Zs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new kl(n.pos,i.pos,this.mark)}merge(e){return e instanceof kl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new kl(n.from,n.to,e.markFromJSON(n.mark))}}hr.jsonID("addMark",kl);class Zs extends hr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new Xe(Zb(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return vi.fromReplace(e,this.from,this.to,i)}invert(){return new kl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Zs(n.pos,i.pos,this.mark)}merge(e){return e instanceof Zs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zs(n.from,n.to,e.markFromJSON(n.mark))}}hr.jsonID("removeMark",Zs);class Ml extends hr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vi.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return vi.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Ml(this.pos,n.marks[r]);return new Ml(this.pos,this.mark)}}return new qc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ml(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ml(n.pos,e.markFromJSON(n.mark))}}hr.jsonID("addNodeMark",Ml);class qc extends hr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vi.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return vi.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ml(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qc(n.pos,e.markFromJSON(n.mark))}}hr.jsonID("removeNodeMark",qc);class Hi extends hr{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&$2(e,this.from,this.to)?vi.fail("Structure replace would overwrite content"):vi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fs([this.from,this.to-this.from,this.slice.size])}invert(e){return new Hi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Hi(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Hi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Xe.empty:new Xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Hi(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Xe.empty:new Xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Hi(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Hi(n.from,n.to,Xe.fromJSON(e,n.slice),!!n.structure)}}hr.jsonID("replace",Hi);class Ui extends hr{constructor(e,n,i,r,s,l,d=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=l,this.structure=d}apply(e){if(this.structure&&($2(e,this.from,this.gapFrom)||$2(e,this.gapTo,this.to)))return vi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return vi.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?vi.fromReplace(e,this.from,this.to,i):vi.fail("Content does not fit in gap")}getMap(){return new fs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ui(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||s>i.pos?null:new Ui(n.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ui(n.from,n.to,n.gapFrom,n.gapTo,Xe.fromJSON(e,n.slice),n.insert,!!n.structure)}}hr.jsonID("replaceAround",Ui);function $2(t,e,n){let i=t.resolve(e),r=n-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let l=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,r--}}return!1}function Use(t,e,n,i){let r=[],s=[],l,d;t.doc.nodesBetween(e,n,(f,p,y)=>{if(!f.isInline)return;let _=f.marks;if(!i.isInSet(_)&&y.type.allowsMarkType(i.type)){let S=Math.max(p,e),A=Math.min(p+f.nodeSize,n),T=i.addToSet(_);for(let O=0;O<_.length;O++)_[O].isInSet(T)||(l&&l.to==S&&l.mark.eq(_[O])?l.to=A:r.push(l=new Zs(S,A,_[O])));d&&d.to==S?d.to=A:s.push(d=new kl(S,A,i))}}),r.forEach(f=>t.step(f)),s.forEach(f=>t.step(f))}function $se(t,e,n,i){let r=[],s=0;t.doc.nodesBetween(e,n,(l,d)=>{if(!l.isInline)return;s++;let f=null;if(i instanceof f0){let p=l.marks,y;for(;y=i.isInSet(p);)(f||(f=[])).push(y),p=y.removeFromSet(p)}else i?i.isInSet(l.marks)&&(f=[i]):f=l.marks;if(f&&f.length){let p=Math.min(d+l.nodeSize,n);for(let y=0;y<f.length;y++){let _=f[y],S;for(let A=0;A<r.length;A++){let T=r[A];T.step==s-1&&_.eq(r[A].style)&&(S=T)}S?(S.to=p,S.step=s):r.push({style:_,from:Math.max(d,e),to:p,step:s})}}}),r.forEach(l=>t.step(new Zs(l.from,l.to,l.style)))}function Qb(t,e,n,i=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),l=[],d=e+1;for(let f=0;f<s.childCount;f++){let p=s.child(f),y=d+p.nodeSize,_=i.matchType(p.type);if(!_)l.push(new Hi(d,y,Xe.empty));else{i=_;for(let S=0;S<p.marks.length;S++)n.allowsMarkType(p.marks[S].type)||t.step(new Zs(d,y,p.marks[S]));if(r&&p.isText&&n.whitespace!="pre"){let S,A=/\r?\n|\r/g,T;for(;S=A.exec(p.text);)T||(T=new Xe(je.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),l.push(new Hi(d+S.index,d+S.index+S[0].length,T))}}d=y}if(!i.validEnd){let f=i.fillBefore(je.empty,!0);t.replace(d,d,new Xe(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function Vse(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Td(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),s=t.$from.index(i),l=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(s,l,n))return i;if(i==0||r.type.spec.isolating||!Vse(r,s,l))break}return null}function Gse(t,e,n){let{$from:i,$to:r,depth:s}=e,l=i.before(s+1),d=r.after(s+1),f=l,p=d,y=je.empty,_=0;for(let T=s,O=!1;T>n;T--)O||i.index(T)>0?(O=!0,y=je.from(i.node(T).copy(y)),_++):f--;let S=je.empty,A=0;for(let T=s,O=!1;T>n;T--)O||r.after(T+1)<r.end(T)?(O=!0,S=je.from(r.node(T).copy(S)),A++):p++;t.step(new Ui(f,p,l,d,new Xe(y.append(S),_,A),y.size-_,!0))}function Jb(t,e,n=null,i=t){let r=qse(t,e),s=r&&Wse(i,e);return s?r.map(EE).concat({type:e,attrs:n}).concat(s.map(EE)):null}function EE(t){return{type:t,attrs:null}}function qse(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.contentMatchAt(i).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(i,r,l)?s:null}function Wse(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.child(i),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let p=i;f&&p<r;p++)f=f.matchType(n.child(p).type);return!f||!f.validEnd?null:l}function Xse(t,e,n){let i=je.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let d=n[l].type.contentMatch.matchFragment(i);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=je.from(n[l].type.create(n[l].attrs,i))}let r=e.start,s=e.end;t.step(new Ui(r,s,r,s,new Xe(i,0,0),n.length,!0))}function Yse(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,d)=>{let f=typeof r=="function"?r(l):r;if(l.isTextblock&&!l.hasMarkup(i,f)&&Kse(t.doc,t.mapping.slice(s).map(d),i)){let p=null;if(i.schema.linebreakReplacement){let A=i.whitespace=="pre",T=!!i.contentMatch.matchType(i.schema.linebreakReplacement);A&&!T?p=!1:!A&&T&&(p=!0)}p===!1&&b8(t,l,d,s),Qb(t,t.mapping.slice(s).map(d,1),i,void 0,p===null);let y=t.mapping.slice(s),_=y.map(d,1),S=y.map(d+l.nodeSize,1);return t.step(new Ui(_,S,_+1,S-1,new Xe(je.from(i.create(f,null,l.marks)),0,0),1,!0)),p===!0&&y8(t,l,d,s),!1}})}function y8(t,e,n,i){e.forEach((r,s)=>{if(r.isText){let l,d=/\r?\n|\r/g;for(;l=d.exec(r.text);){let f=t.mapping.slice(i).map(n+1+s+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function b8(t,e,n,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let l=t.mapping.slice(i).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function Kse(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function Zse(t,e,n,i,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(i,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ui(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Xe(je.from(l),0,0),1,!0))}function Io(t,e,n=1,i){let r=t.resolve(e),s=r.depth-n,l=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!l.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let p=r.depth-1,y=n-2;p>s;p--,y--){let _=r.node(p),S=r.index(p);if(_.type.spec.isolating)return!1;let A=_.content.cutByIndex(S,_.childCount),T=i&&i[y+1];T&&(A=A.replaceChild(0,T.type.create(T.attrs)));let O=i&&i[y]||_;if(!_.canReplace(S+1,_.childCount)||!O.type.validContent(A))return!1}let d=r.indexAfter(s),f=i&&i[0];return r.node(s).canReplaceWith(d,d,f?f.type:r.node(s+1).type)}function Qse(t,e,n=1,i){let r=t.doc.resolve(e),s=je.empty,l=je.empty;for(let d=r.depth,f=r.depth-n,p=n-1;d>f;d--,p--){s=je.from(r.node(d).copy(s));let y=i&&i[p];l=je.from(y?y.type.create(y.attrs,l):r.node(d).copy(l))}t.step(new Hi(e,e,new Xe(s.append(l),n,n),!0))}function Wl(t,e){let n=t.resolve(e),i=n.index();return v8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Jse(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),l=s.type==i?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function v8(t,e){return!!(t&&e&&!t.isLeaf&&Jse(t,e))}function h0(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let s,l,d=i.index(r);if(r==i.depth?(s=i.nodeBefore,l=i.nodeAfter):n>0?(s=i.node(r+1),d++,l=i.node(r).maybeChild(d)):(s=i.node(r).maybeChild(d-1),l=i.node(r+1)),s&&!s.isTextblock&&v8(s,l)&&i.node(r).canReplace(d,d+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function eae(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(r&&l.inlineContent){let y=l.whitespace=="pre",_=!!l.contentMatch.matchType(r);y&&!_?i=!1:!y&&_&&(i=!0)}let d=t.steps.length;if(i===!1){let y=t.doc.resolve(e+n);b8(t,y.node(),y.before(),d)}l.inlineContent&&Qb(t,e+n-1,l,s.node().contentMatchAt(s.index()),i==null);let f=t.mapping.slice(d),p=f.map(e-n);if(t.step(new Hi(p,f.map(e+n,-1),Xe.empty,!0)),i===!0){let y=t.doc.resolve(p);y8(t,y.node(),y.before(),t.steps.length)}return t}function tae(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,n))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,n))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function w8(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=i.depth;l>=0;l--){let d=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,f=i.index(l)+(d>0?1:0),p=i.node(l),y=!1;if(s==1)y=p.canReplace(f,f,r);else{let _=p.contentMatchAt(f).findWrapping(r.firstChild.type);y=_&&p.canReplaceWith(f,f,_[0])}if(y)return d==0?i.pos:d<0?i.before(l+1):i.after(l+1)}return null}function p0(t,e,n=e,i=Xe.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),s=t.resolve(n);return _8(r,s,i)?new Hi(e,n,i):new nae(r,s,i).fit()}function _8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class nae{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=je.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=je.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,l=i.depth,d=r.depth;for(;l&&d&&s.childCount==1;)s=s.firstChild.content,l--,d--;let f=new Xe(s,l,d);return e>-1?new Ui(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new Hi(i.pos,r.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}n=s.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=By(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let l=r.firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:p}=this.frontier[d],y,_=null;if(n==1&&(l?p.matchType(l.type)||(_=p.fillBefore(je.from(l),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:d,parent:s,inject:_};if(n==2&&l&&(y=p.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:d,parent:s,wrap:y};if(s&&p.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=By(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Xe(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=By(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new Xe(Hf(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new Xe(Hf(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let O=0;O<s.length;O++)this.openFrontierNode(s[O]);let l=this.unplaced,d=i?i.content:l.content,f=l.openStart-e,p=0,y=[],{match:_,type:S}=this.frontier[n];if(r){for(let O=0;O<r.childCount;O++)y.push(r.child(O));_=_.matchFragment(r)}let A=d.size+e-(l.content.size-l.openEnd);for(;p<d.childCount;){let O=d.child(p),R=_.matchType(O.type);if(!R)break;p++,(p>1||f==0||O.content.size)&&(_=R,y.push(C8(O.mark(S.allowedMarks(O.marks)),p==1?f:0,p==d.childCount?A:-1)))}let T=p==d.childCount;T||(A=-1),this.placed=Uf(this.placed,n,je.from(y)),this.frontier[n].match=_,T&&A<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let O=0,R=d;O<A;O++){let B=R.lastChild;this.frontier.push({type:B.type,match:B.contentMatchAt(B.childCount)}),R=B.content}this.unplaced=T?e==0?Xe.empty:new Xe(Hf(l.content,e-1,1),e-1,A<0?l.openEnd:e-1):new Xe(Hf(l.content,e,p),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ly(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Ly(e,n,r,i,s);if(l){for(let d=n-1;d>=0;d--){let{match:f,type:p}=this.frontier[d],y=Ly(e,d,p,f,!0);if(!y||y.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Uf(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Uf(this.placed,this.depth,je.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(je.empty,!0);n.childCount&&(this.placed=Uf(this.placed,this.frontier.length,n))}}function Hf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Hf(t.firstChild.content,e-1,n)))}function Uf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Uf(t.lastChild.content,e-1,n)))}function By(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function C8(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,C8(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(je.empty,!0)))),t.copy(i)}function Ly(t,e,n,i,r){let s=t.node(e),l=r?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let d=i.fillBefore(s.content,!0,l);return d&&!iae(n,s.content,l)?d:null}function iae(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function rae(t){return t.spec.defining||t.spec.definingForContent}function sae(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(_8(r,s,i))return t.step(new Hi(e,n,i));let l=E8(r,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let d=-(r.depth+1);l.unshift(d);for(let S=r.depth,A=r.pos-1;S>0;S--,A--){let T=r.node(S).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;l.indexOf(S)>-1?d=S:r.before(S)==A&&l.splice(1,0,-S)}let f=l.indexOf(d),p=[],y=i.openStart;for(let S=i.content,A=0;;A++){let T=S.firstChild;if(p.push(T),A==i.openStart)break;S=T.content}for(let S=y-1;S>=0;S--){let A=p[S],T=rae(A.type);if(T&&!A.sameMarkup(r.node(Math.abs(d)-1)))y=S;else if(T||!A.type.isTextblock)break}for(let S=i.openStart;S>=0;S--){let A=(S+y+1)%(i.openStart+1),T=p[A];if(T)for(let O=0;O<l.length;O++){let R=l[(O+f)%l.length],B=!0;R<0&&(B=!1,R=-R);let G=r.node(R-1),j=r.index(R-1);if(G.canReplaceWith(j,j,T.type,T.marks))return t.replace(r.before(R),B?s.after(R):n,new Xe(S8(i.content,0,i.openStart,A),A,i.openEnd))}}let _=t.steps.length;for(let S=l.length-1;S>=0&&(t.replace(e,n,i),!(t.steps.length>_));S--){let A=l[S];A<0||(e=r.before(A),n=s.after(A))}}function S8(t,e,n,i,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(S8(s.content,e+1,n,i,s)))}if(e>i){let s=r.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(je.empty,!0))}return t}function aae(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=tae(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new Xe(je.from(i),0,0))}function oae(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),s=E8(i,r);for(let l=0;l<s.length;l++){let d=s[l],f=l==s.length-1;if(f&&d==0||i.node(d).type.contentMatch.validEnd)return t.delete(i.start(d),r.end(d));if(d>0&&(f||i.node(d-1).canReplace(i.index(d-1),r.indexAfter(d-1))))return t.delete(i.before(d),r.after(d))}for(let l=1;l<=i.depth&&l<=r.depth;l++)if(e-i.start(l)==i.depth-l&&n>i.end(l)&&r.end(l)-n!=r.depth-l&&i.start(l-1)==r.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),r.index(l-1)))return t.delete(i.before(l),n);t.delete(e,n)}function E8(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class fd extends hr{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return vi.fail("No node at attribute step's position");let i=Object.create(null);for(let s in n.attrs)i[s]=n.attrs[s];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return vi.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(r),0,n.isLeaf?0:1))}getMap(){return fs.empty}invert(e){return new fd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fd(n.pos,n.attr,n.value)}}hr.jsonID("attr",fd);class uh extends hr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return vi.ok(i)}getMap(){return fs.empty}invert(e){return new uh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new uh(n.attr,n.value)}}hr.jsonID("docAttr",uh);let gd=class extends Error{};gd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};gd.prototype=Object.create(Error.prototype);gd.prototype.constructor=gd;gd.prototype.name="TransformError";class A8{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ch}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new gd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=Xe.empty){let r=p0(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new Xe(je.from(i),0,0))}delete(e,n){return this.replace(e,n,Xe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return sae(this,e,n,i),this}replaceRangeWith(e,n,i){return aae(this,e,n,i),this}deleteRange(e,n){return oae(this,e,n),this}lift(e,n){return Gse(this,e,n),this}join(e,n=1){return eae(this,e,n),this}wrap(e,n){return Xse(this,e,n),this}setBlockType(e,n=e,i,r=null){return Yse(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return Zse(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new fd(e,n,i)),this}setDocAttribute(e,n){return this.step(new uh(e,n)),this}addNodeMark(e,n){return this.step(new Ml(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof kn)n.isInSet(i.marks)&&this.step(new qc(e,n));else{let r=i.marks,s,l=[];for(;s=n.isInSet(r);)l.push(new qc(e,s)),r=s.removeFromSet(r);for(let d=l.length-1;d>=0;d--)this.step(l[d])}return this}split(e,n=1,i){return Qse(this,e,n,i),this}addMark(e,n,i){return Use(this,e,n,i),this}removeMark(e,n,i){return $se(this,e,n,i),this}clearIncompatible(e,n,i){return Qb(this,e,n,i),this}}const jy=Object.create(null);class Bt{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new lae(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Xe.empty){let i=n.content.lastChild,r=null;for(let d=0;d<n.openEnd;d++)r=i,i=i.lastChild;let s=e.steps.length,l=this.ranges;for(let d=0;d<l.length;d++){let{$from:f,$to:p}=l[d],y=e.mapping.slice(s);e.replaceRange(y.map(f.pos),y.map(p.pos),d?Xe.empty:n),d==0&&NE(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:l,$to:d}=r[s],f=e.mapping.slice(i),p=f.map(l.pos),y=f.map(d.pos);s?e.deleteRange(p,y):(e.replaceRangeWith(p,y,n),NE(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new wt(e):nd(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let l=n<0?nd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,i):nd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,i);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ps(e.node(0))}static atStart(e){return nd(e,e,0,0,1)||new ps(e)}static atEnd(e){return nd(e,e,e.content.size,e.childCount,-1)||new ps(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=jy[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in jy)throw new RangeError("Duplicate use of selection JSON ID "+e);return jy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return wt.between(this.$anchor,this.$head).getBookmark()}}Bt.prototype.visible=!0;class lae{constructor(e,n){this.$from=e,this.$to=n}}let AE=!1;function TE(t){!AE&&!t.parent.inlineContent&&(AE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class wt extends Bt{constructor(e,n=e){TE(e),TE(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Bt.near(i);let r=e.resolve(n.map(this.anchor));return new wt(r.parent.inlineContent?r:i,i)}replace(e,n=Xe.empty){if(super.replace(e,n),n==Xe.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof wt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new m0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new wt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let s=Bt.findFrom(n,i,!0)||Bt.findFrom(n,-i,!0);if(s)n=s.$head;else return Bt.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(Bt.findFrom(e,-i,!0)||Bt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new wt(e,n)}}Bt.jsonID("text",wt);class m0{constructor(e,n){this.anchor=e,this.head=n}map(e){return new m0(e.map(this.anchor),e.map(this.head))}resolve(e){return wt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ht extends Bt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return i?Bt.near(s):new ht(s)}content(){return new Xe(je.from(this.node),0,0)}eq(e){return e instanceof ht&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ev(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ht(e.resolve(n.anchor))}static create(e,n){return new ht(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ht.prototype.visible=!1;Bt.jsonID("node",ht);class ev{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new m0(i,i):new ev(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&ht.isSelectable(i)?new ht(n):Bt.near(n)}}class ps extends Bt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Xe.empty){if(n==Xe.empty){e.delete(0,e.doc.content.size);let i=Bt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ps(e)}map(e){return new ps(e)}eq(e){return e instanceof ps}getBookmark(){return cae}}Bt.jsonID("all",ps);const cae={map(){return this},resolve(t){return new ps(t)}};function nd(t,e,n,i,r,s=!1){if(e.inlineContent)return wt.create(t,n);for(let l=i-(r>0?0:1);r>0?l<e.childCount:l>=0;l+=r){let d=e.child(l);if(d.isAtom){if(!s&&ht.isSelectable(d))return ht.create(t,n-(r<0?d.nodeSize:0))}else{let f=nd(t,d,n+r,r<0?d.childCount:0,r,s);if(f)return f}n+=d.nodeSize*r}return null}function NE(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof Hi||r instanceof Ui))return;let s=t.mapping.maps[i],l;s.forEach((d,f,p,y)=>{l==null&&(l=y)}),t.setSelection(Bt.near(t.doc.resolve(l),n))}const IE=1,kE=2,ME=4;class uae extends A8{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|IE)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&IE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kE,this}ensureMarks(e){return kn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kE)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||kn.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,s)),this.selection.empty||this.setSelection(Bt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ME,this}get scrolledIntoView(){return(this.updated&ME)>0}}function OE(t,e){return!e||!t?t:t.bind(e)}class $f{constructor(e,n,i){this.name=e,this.init=OE(n.init,i),this.apply=OE(n.apply,i)}}const dae=[new $f("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $f("selection",{init(t,e){return t.selection||Bt.atStart(e.doc)},apply(t){return t.selection}}),new $f("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new $f("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Py{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dae.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new $f(i.key,i.spec.state,i))})}}class ld{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let d=this.config.plugins[l];if(d.spec.appendTransaction){let f=r?r[l].n:0,p=r?r[l].state:this,y=f<n.length&&d.spec.appendTransaction.call(d,f?n.slice(f):n,p,i);if(y&&i.filterTransaction(y,l)){if(y.setMeta("appendedTransaction",e),!r){r=[];for(let _=0;_<this.config.plugins.length;_++)r.push(_<l?{state:i,n:n.length}:{state:this,n:0})}n.push(y),i=i.applyInner(y),s=!0}r&&(r[l]={state:i,n:n.length})}}if(!s)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ld(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new uae(this)}static create(e){let n=new Py(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ld(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new Py(this.schema,e.plugins),i=n.fields,r=new ld(n);for(let s=0;s<i.length;s++){let l=i[s].name;r[l]=this.hasOwnProperty(l)?this[l]:i[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(n[i]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Py(e.schema,e.plugins),s=new ld(r);return r.fields.forEach(l=>{if(l.name=="doc")s.doc=Qs.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Bt.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let d in i){let f=i[d],p=f.spec.state;if(f.key==l.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){s[l.name]=p.fromJSON.call(f,e,n[d],s);return}}s[l.name]=l.init(e,s)}}),s}}function T8(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=T8(r,e,{})),n[i]=r}return n}class si{constructor(e){this.spec=e,this.props={},e.props&&T8(e.props,this,this.props),this.key=e.key?e.key.key:N8("plugin")}getState(e){return e[this.key]}}const Fy=Object.create(null);function N8(t){return t in Fy?t+"$"+ ++Fy[t]:(Fy[t]=0,t+"$")}class Vi{constructor(e="key"){this.key=N8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},xd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let V2=null;const Eo=function(t,e,n){let i=V2||(V2=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},fae=function(){V2=null},Wc=function(t,e,n,i){return n&&(RE(t,e,n,i,-1)||RE(t,e,n,i,1))},hae=/^(img|br|input|textarea|hr)$/i;function RE(t,e,n,i,r){for(var s;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Ds(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Oh(t)||hae.test(t.nodeName)||t.contentEditable=="false")return!1;e=Qi(t)+(r<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(r<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else t=l,e=r<0?Ds(t):0}else return!1}}function Ds(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pae(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ds(t)}else if(t.parentNode&&!Oh(t))e=Qi(t),t=t.parentNode;else return null}}function mae(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Oh(t))e=Qi(t)+1,t=t.parentNode;else return null}}function gae(t,e,n){for(let i=e==0,r=e==Ds(t);i||r;){if(t==n)return!0;let s=Qi(t);if(t=t.parentNode,!t)return!1;i=i&&s==0,r=r&&s==Ds(t)}}function Oh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const g0=function(t){return t.focusNode&&Wc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Tc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function xae(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function yae(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Ds(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Ds(i.startContainer),i.startOffset)}}}const Ba=typeof navigator<"u"?navigator:null,DE=typeof document<"u"?document:null,Xl=Ba&&Ba.userAgent||"",G2=/Edge\/(\d+)/.exec(Xl),I8=/MSIE \d/.exec(Xl),q2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xl),$r=!!(I8||q2||G2),Ll=I8?document.documentMode:q2?+q2[1]:G2?+G2[1]:0,Bs=!$r&&/gecko\/(\d+)/i.test(Xl);Bs&&+(/Firefox\/(\d+)/.exec(Xl)||[0,0])[1];const W2=!$r&&/Chrome\/(\d+)/.exec(Xl),fr=!!W2,k8=W2?+W2[1]:0,Ar=!$r&&!!Ba&&/Apple Computer/.test(Ba.vendor),yd=Ar&&(/Mobile\/\w+/.test(Xl)||!!Ba&&Ba.maxTouchPoints>2),Rs=yd||(Ba?/Mac/.test(Ba.platform):!1),bae=Ba?/Win/.test(Ba.platform):!1,To=/Android \d/.test(Xl),Rh=!!DE&&"webkitFontSmoothing"in DE.documentElement.style,vae=Rh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wae(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function yo(t,e){return typeof t=="number"?t:t[e]}function _ae(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function BE(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=xd(l);continue}let d=l,f=d==s.body,p=f?wae(s):_ae(d),y=0,_=0;if(e.top<p.top+yo(i,"top")?_=-(p.top-e.top+yo(r,"top")):e.bottom>p.bottom-yo(i,"bottom")&&(_=e.bottom-e.top>p.bottom-p.top?e.top+yo(r,"top")-p.top:e.bottom-p.bottom+yo(r,"bottom")),e.left<p.left+yo(i,"left")?y=-(p.left-e.left+yo(r,"left")):e.right>p.right-yo(i,"right")&&(y=e.right-p.right+yo(r,"right")),y||_)if(f)s.defaultView.scrollBy(y,_);else{let A=d.scrollLeft,T=d.scrollTop;_&&(d.scrollTop+=_),y&&(d.scrollLeft+=y);let O=d.scrollLeft-A,R=d.scrollTop-T;e={left:e.left-O,top:e.top-R,right:e.right-O,bottom:e.bottom-R}}let S=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(S))break;l=S=="absolute"?l.offsetParent:xd(l)}}function Cae(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let d=t.root.elementFromPoint(s,l);if(!d||d==t.dom||!t.dom.contains(d))continue;let f=d.getBoundingClientRect();if(f.top>=n-20){i=d,r=f.top;break}}return{refDOM:i,refTop:r,stack:M8(t.dom)}}function M8(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=xd(i));return e}function Sae({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;O8(n,i==0?0:i-e)}function O8(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:s}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let Ju=null;function Eae(t){if(t.setActive)return t.setActive();if(Ju)return t.focus(Ju);let e=M8(t);t.focus(Ju==null?{get preventScroll(){return Ju={preventScroll:!0},!0}}:void 0),Ju||(Ju=!1,O8(e,0))}function R8(t,e){let n,i=2e8,r,s=0,l=e.top,d=e.top,f,p;for(let y=t.firstChild,_=0;y;y=y.nextSibling,_++){let S;if(y.nodeType==1)S=y.getClientRects();else if(y.nodeType==3)S=Eo(y).getClientRects();else continue;for(let A=0;A<S.length;A++){let T=S[A];if(T.top<=l&&T.bottom>=d){l=Math.max(T.bottom,l),d=Math.min(T.top,d);let O=T.left>e.left?T.left-e.left:T.right<e.left?e.left-T.right:0;if(O<i){n=y,i=O,r=O&&n.nodeType==3?{left:T.right<e.left?T.right:T.left,top:e.top}:e,y.nodeType==1&&O&&(s=_+(e.left>=(T.left+T.right)/2?1:0));continue}}else T.top>e.top&&!f&&T.left<=e.left&&T.right>=e.left&&(f=y,p={left:Math.max(T.left,Math.min(T.right,e.left)),top:T.top});!n&&(e.left>=T.right&&e.top>=T.top||e.left>=T.left&&e.top>=T.bottom)&&(s=_+1)}}return!n&&f&&(n=f,r=p,i=0),n&&n.nodeType==3?Aae(n,r):!n||i&&n.nodeType==1?{node:t,offset:s}:R8(n,r)}function Aae(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let s=wl(i,1);if(s.top!=s.bottom&&tv(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function tv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Tae(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Nae(t,e,n){let{node:i,offset:r}=R8(e,n),s=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}function Iae(t,e,n,i){let r=-1;for(let s=e,l=!1;s!=t.dom;){let d=t.docView.nearestDesc(s,!0),f;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((f=d.dom.getBoundingClientRect()).width||f.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!l&&f.left>i.left||f.top>i.top?r=d.posBefore:(!l&&f.right<i.left||f.bottom<i.top)&&(r=d.posAfter),l=!0),!d.contentDOM&&r<0&&!d.node.isText))return(d.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?d.posBefore:d.posAfter;s=d.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function D8(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let l=t.childNodes[s];if(l.nodeType==1){let d=l.getClientRects();for(let f=0;f<d.length;f++){let p=d[f];if(tv(e,p))return D8(l,e,p)}}if((s=(s+1)%i)==r)break}return t}function kae(t,e){let n=t.dom.ownerDocument,i,r=0,s=yae(n,e.left,e.top);s&&({node:i,offset:r}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let p=t.dom.getBoundingClientRect();if(!tv(e,p)||(l=D8(t.dom,e,p),!l))return null}if(Ar)for(let p=l;i&&p;p=xd(p))p.draggable&&(i=void 0);if(l=Tae(l,e),i){if(Bs&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let y=i.childNodes[r],_;y.nodeName=="IMG"&&(_=y.getBoundingClientRect()).right<=e.left&&_.bottom>e.top&&r++}let p;Rh&&r&&i.nodeType==1&&(p=i.childNodes[r-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(d=Iae(t,i,r,e))}d==null&&(d=Nae(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function LE(t){return t.top<t.bottom||t.left<t.right}function wl(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(LE(i))return i}return Array.prototype.find.call(n,LE)||t.getBoundingClientRect()}const Mae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function B8(t,e,n){let{node:i,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=Rh||Bs;if(i.nodeType==3)if(l&&(Mae.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let f=wl(Eo(i,r,r),n);if(Bs&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let p=wl(Eo(i,r-1,r-1),-1);if(p.top==f.top){let y=wl(Eo(i,r,r+1),-1);if(y.top!=f.top)return Df(y,y.left<p.left)}}return f}else{let f=r,p=r,y=n<0?1:-1;return n<0&&!r?(p++,y=-1):n>=0&&r==i.nodeValue.length?(f--,y=1):n<0?f--:p++,Df(wl(Eo(i,f,p),y),y<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ds(i))){let f=i.childNodes[r-1];if(f.nodeType==1)return zy(f.getBoundingClientRect(),!1)}if(s==null&&r<Ds(i)){let f=i.childNodes[r];if(f.nodeType==1)return zy(f.getBoundingClientRect(),!0)}return zy(i.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ds(i))){let f=i.childNodes[r-1],p=f.nodeType==3?Eo(f,Ds(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return Df(wl(p,1),!1)}if(s==null&&r<Ds(i)){let f=i.childNodes[r];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?Eo(f,0,l?0:1):f.nodeType==1?f:null:null;if(p)return Df(wl(p,-1),!0)}return Df(wl(i.nodeType==3?Eo(i):i,-n),n>=0)}function Df(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function zy(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function L8(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function Oae(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return L8(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(s,!0);if(!d)break;if(d.node.isBlock){s=d.contentDOM||d.dom;break}s=d.dom.parentNode}let l=B8(t,r.pos,1);for(let d=s.firstChild;d;d=d.nextSibling){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=Eo(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let y=f[p];if(y.bottom>y.top+1&&(n=="up"?l.top-y.top>(y.bottom-l.top)*2:y.bottom-l.bottom>(l.bottom-y.top)*2))return!1}}return!0})}const Rae=/[\u0590-\u08ac]/;function Dae(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,l=r==i.parent.content.size,d=t.domSelection();return d?!Rae.test(i.parent.textContent)||!d.modify?n=="left"||n=="backward"?s:l:L8(t,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:y,anchorOffset:_}=t.domSelectionRange(),S=d.caretBidiLevel;d.modify("move",n,"character");let A=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:T,focusOffset:O}=t.domSelectionRange(),R=T&&!A.contains(T.nodeType==1?T:T.parentNode)||f==T&&p==O;try{d.collapse(y,_),f&&(f!=y||p!=_)&&d.extend&&d.extend(f,p)}catch{}return S!=null&&(d.caretBidiLevel=S),R}):i.pos==i.start()||i.pos==i.end()}let jE=null,PE=null,FE=!1;function Bae(t,e,n){return jE==e&&PE==n?FE:(jE=e,PE=n,FE=n=="up"||n=="down"?Oae(t,e,n):Dae(t,e,n))}const Ls=0,zE=1,Mc=2,La=3;class Dh{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=Ls,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Qi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),l;if(s&&(!n||s.node))if(i&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let l=0;l<r.children.length;l++){let d=r.children[l];if(d.size){r=d;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let l=this.children[i],d=s+l.size;if(d>e||l instanceof P8){r=e-s;break}s=d}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof j8&&s.side>=0;i--);if(n<=0){let s,l=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Qi(s.dom)+1:0}}else{let s,l=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Qi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let l=i,d=0;;d++){let f=this.children[d],p=l+f.size;if(r==-1&&e<=p){let y=l+f.border;if(e>=y&&n<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,y);e=l;for(let _=d;_>0;_--){let S=this.children[_-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){r=Qi(S.dom)+1;break}e-=S.size}r==-1&&(r=0)}if(r>-1&&(p>n||d==this.children.length-1)){n=p;for(let y=d+1;y<this.children.length;y++){let _=this.children[y];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){s=Qi(_.dom);break}n+=_.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=p}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let A=0,T=0;A<this.children.length;A++){let O=this.children[A],R=T+O.size;if(s>T&&l<R)return O.setSelection(e-T-O.border,n-T-O.border,i,r);T=R}let d=this.domFromPos(e,e?-1:1),f=n==e?d:this.domFromPos(n,n?-1:1),p=i.root.getSelection(),y=i.domSelectionRange(),_=!1;if((Bs||Ar)&&e==n){let{node:A,offset:T}=d;if(A.nodeType==3){if(_=!!(T&&A.nodeValue[T-1]==`
`),_&&T==A.nodeValue.length)for(let O=A,R;O;O=O.parentNode){if(R=O.nextSibling){R.nodeName=="BR"&&(d=f={node:R.parentNode,offset:Qi(R)+1});break}let B=O.pmViewDesc;if(B&&B.node&&B.node.isBlock)break}}else{let O=A.childNodes[T-1];_=O&&(O.nodeName=="BR"||O.contentEditable=="false")}}if(Bs&&y.focusNode&&y.focusNode!=f.node&&y.focusNode.nodeType==1){let A=y.focusNode.childNodes[y.focusOffset];A&&A.contentEditable=="false"&&(r=!0)}if(!(r||_&&Ar)&&Wc(d.node,d.offset,y.anchorNode,y.anchorOffset)&&Wc(f.node,f.offset,y.focusNode,y.focusOffset))return;let S=!1;if((p.extend||e==n)&&!(_&&Bs)){p.collapse(d.node,d.offset);try{e!=n&&p.extend(f.node,f.offset),S=!0}catch{}}if(!S){if(e>n){let T=d;d=f,f=T}let A=document.createRange();A.setEnd(f.node,f.offset),A.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(A)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(i==l?e<=l&&n>=i:e<l&&n>i){let d=i+s.border,f=l-s.border;if(e>=d&&n<=f){this.dirty=e==i||n==l?Mc:zE,e==d&&n==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=La:s.markDirty(e-d,n-d);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Mc:La}i=l}this.dirty=Mc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Mc:zE;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class j8 extends Dh{constructor(e,n,i,r){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let d=document.createElement("span");d.appendChild(l),l=d}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ls&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Lae extends Dh{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Xc extends Dh{constructor(e,n,i,r,s){super(e,[],i,r),this.mark=n,this.spec=s}static create(e,n,i,r){let s=r.nodeViews[n.type.name],l=s&&s(n,r,i);return(!l||!l.dom)&&(l=nu.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Xc(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&La||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=La&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ls){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Ls}}slice(e,n,i){let r=Xc.create(this.parent,this.mark,!0,i),s=this.children,l=this.size;n<l&&(s=Y2(s,n,l,i)),e>0&&(s=Y2(s,0,e,i));for(let d=0;d<s.length;d++)s[d].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class jl extends Dh{constructor(e,n,i,r,s,l,d,f,p){super(e,[],s,l),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=d}static create(e,n,i,r,s,l){let d=s.nodeViews[n.type.name],f,p=d&&d(n,s,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},i,r),y=p&&p.dom,_=p&&p.contentDOM;if(n.isText){if(!y)y=document.createTextNode(n.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:_}=nu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!_&&!n.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),n.type.spec.draggable&&(y.draggable=!0));let S=y;return y=H8(y,i,n),p?f=new jae(e,n,i,r,y,_||null,S,p,s,l+1):n.isText?new x0(e,n,i,r,y,S,s):new jl(e,n,i,r,y,_||null,S,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>je.empty)}return e}matchesNode(e,n,i){return this.dirty==Ls&&e.eq(this.node)&&dm(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,d=s&&s.pos<0,f=new Fae(this,l&&l.node,e);Uae(this.node,this.innerDeco,(p,y,_)=>{p.spec.marks?f.syncToMarks(p.spec.marks,i,e):p.type.side>=0&&!_&&f.syncToMarks(y==this.node.childCount?kn.none:this.node.child(y).marks,i,e),f.placeWidget(p,e,r)},(p,y,_,S)=>{f.syncToMarks(p.marks,i,e);let A;f.findNodeMatch(p,y,_,S)||d&&e.state.selection.from>r&&e.state.selection.to<r+p.nodeSize&&(A=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(p,y,_,A,e)||f.updateNextNode(p,y,_,e,S,r)||f.addNode(p,y,_,e,r),r+=p.nodeSize}),f.syncToMarks([],i,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Mc)&&(l&&this.protectLocalComposition(e,l),F8(this.contentDOM,this.children,e),yd&&$ae(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof wt)||i<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,d=Vae(this.node.content,l,i-n,r-n);return d<0?null:{node:s,pos:d,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new Lae(this,s,n,r);e.input.compositionNodes.push(l),this.children=Y2(this.children,i,i+r.length,e,l)}update(e,n,i,r){return this.dirty==La||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ls}updateOuterDeco(e){if(dm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=z8(this.dom,this.nodeDOM,X2(this.outerDeco,this.node,n),X2(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function HE(t,e,n,i,r){H8(i,e,t);let s=new jl(void 0,t,e,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class x0 extends jl{constructor(e,n,i,r,s,l,d){super(e,n,i,r,s,null,l,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==La||this.dirty!=Ls&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ls||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Ls,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new x0(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=La)}get domAtom(){return!1}isText(e){return this.node.text==e}}class P8 extends Dh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ls&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jae extends jl{constructor(e,n,i,r,s,l,d,f,p,y){super(e,n,i,r,s,l,d,p,y),this.spec=f}update(e,n,i,r){if(this.dirty==La)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,i);return s&&this.updateInner(e,n,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function F8(t,e,n){let i=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let l=e[s],d=l.dom;if(d.parentNode==t){for(;d!=i;)i=UE(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(d,i);if(l instanceof Xc){let f=i?i.previousSibling:t.lastChild;F8(l.contentDOM,l.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=UE(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Wf=function(t){t&&(this.nodeName=t)};Wf.prototype=Object.create(null);const Oc=[new Wf];function X2(t,e,n){if(t.length==0)return Oc;let i=n?Oc[0]:new Wf,r=[i];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&r.push(i=new Wf(l.nodeName));for(let d in l){let f=l[d];f!=null&&(n&&r.length==1&&r.push(i=new Wf(e.isInline?"span":"div")),d=="class"?i.class=(i.class?i.class+" ":"")+f:d=="style"?i.style=(i.style?i.style+";":"")+f:d!="nodeName"&&(i[d]=f))}}}return r}function z8(t,e,n,i){if(n==Oc&&i==Oc)return e;let r=e;for(let s=0;s<i.length;s++){let l=i[s],d=n[s];if(s){let f;d&&d.nodeName==l.nodeName&&r!=t&&(f=r.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(r),d=Oc[0]),r=f}Pae(r,d||Oc[0],l)}return r}function Pae(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function H8(t,e,n){return z8(t,t,Oc,X2(e,n,t.nodeType!=1))}function dm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function UE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Fae{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zae(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;r<l&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Ls,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[s])&&!this.isLocked(p.dom)){d=f;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let f=Xc.create(this.top,e[s],n,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,i,r){let s=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,i))s=this.top.children.indexOf(l,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let p=this.top.children[d];if(p.matchesNode(e,n,i)&&!this.preMatch.matched.has(p)){s=d;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,i,r,s){let l=this.top.children[r];return l.dirty==La&&l.dom==l.contentDOM&&(l.dirty=Mc),l.update(e,n,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,s,l){for(let d=this.index;d<this.top.children.length;d++){let f=this.top.children[d];if(f instanceof jl){let p=this.preMatch.matched.get(f);if(p!=null&&p!=s)return!1;let y=f.dom,_,S=this.isLocked(y)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=La&&dm(n,f.outerDeco));if(!S&&f.update(e,n,i,r))return this.destroyBetween(this.index,d),f.dom!=y&&(this.changed=!0),this.index++,!0;if(!S&&(_=this.recreateWrapper(f,e,n,i,r,l)))return this.destroyBetween(this.index,d),this.top.children[this.index]=_,_.contentDOM&&(_.dirty=Mc,_.updateChildren(r,l+1),_.dirty=Ls),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!dm(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let d=jl.create(this.top,n,i,r,s,l);if(d.contentDOM){d.children=e.children,e.children=[];for(let f of d.children)f.parent=d}return e.destroy(),d}addNode(e,n,i,r,s){let l=jl.create(this.top,e,n,i,r,s);l.contentDOM&&l.updateChildren(r,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new j8(this.top,e,n,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Xc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof x0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ar||fr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new P8(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zae(t,e){let n=e,i=n.children.length,r=t.childCount,s=new Map,l=[];e:for(;r>0;){let d;for(;;)if(i){let p=n.children[i-1];if(p instanceof Xc)n=p,i=p.children.length;else{d=p,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=d.node;if(f){if(f!=t.child(r-1))break;--r,s.set(d,r),l.push(d)}}return{index:r,matched:s,matches:l.reverse()}}function Hae(t,e){return t.type.side-e.type.side}function Uae(t,e,n,i){let r=e.locals(t),s=0;if(r.length==0){for(let p=0;p<t.childCount;p++){let y=t.child(p);i(y,r,e.forChild(s,y),p),s+=y.nodeSize}return}let l=0,d=[],f=null;for(let p=0;;){let y,_;for(;l<r.length&&r[l].to==s;){let R=r[l++];R.widget&&(y?(_||(_=[y])).push(R):y=R)}if(y)if(_){_.sort(Hae);for(let R=0;R<_.length;R++)n(_[R],p,!!f)}else n(y,p,!!f);let S,A;if(f)A=-1,S=f,f=null;else if(p<t.childCount)A=p,S=t.child(p++);else break;for(let R=0;R<d.length;R++)d[R].to<=s&&d.splice(R--,1);for(;l<r.length&&r[l].from<=s&&r[l].to>s;)d.push(r[l++]);let T=s+S.nodeSize;if(S.isText){let R=T;l<r.length&&r[l].from<R&&(R=r[l].from);for(let B=0;B<d.length;B++)d[B].to<R&&(R=d[B].to);R<T&&(f=S.cut(R-s),S=S.cut(0,R-s),T=R,A=-1)}else for(;l<r.length&&r[l].to<T;)l++;let O=S.isInline&&!S.isLeaf?d.filter(R=>!R.inline):d.slice();i(S,O,e.forChild(s,S),A),s=T}}function $ae(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Vae(t,e,n,i){for(let r=0,s=0;r<t.childCount&&s<=i;){let l=t.child(r++),d=s;if(s+=l.nodeSize,!l.isText)continue;let f=l.text;for(;r<t.childCount;){let p=t.child(r++);if(s+=p.nodeSize,!p.isText)break;f+=p.text}if(s>=n){if(s>=i&&f.slice(i-e.length-d,i-d)==e)return i-e.length;let p=d<i?f.lastIndexOf(e,i-d-1):-1;if(p>=0&&p+e.length+d>=n)return d+p;if(n==i&&f.length>=i+e.length-d&&f.slice(i-d,i-d+e.length)==e)return i}}return-1}function Y2(t,e,n,i,r){let s=[];for(let l=0,d=0;l<t.length;l++){let f=t[l],p=d,y=d+=f.size;p>=n||y<=e?s.push(f):(p<e&&s.push(f.slice(0,e-p,i)),r&&(s.push(r),r=void 0),y>n&&s.push(f.slice(n-p,f.size,i)))}return s}function nv(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let d=i.resolve(l),f,p;if(g0(n)){for(f=l;r&&!r.node;)r=r.parent;let _=r.node;if(r&&_.isAtom&&ht.isSelectable(_)&&r.parent&&!(_.isInline&&gae(n.focusNode,n.focusOffset,r.dom))){let S=r.posBefore;p=new ht(l==S?d:i.resolve(S))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let _=l,S=l;for(let A=0;A<n.rangeCount;A++){let T=n.getRangeAt(A);_=Math.min(_,t.docView.posFromDOM(T.startContainer,T.startOffset,1)),S=Math.max(S,t.docView.posFromDOM(T.endContainer,T.endOffset,-1))}if(_<0)return null;[f,l]=S==t.state.selection.anchor?[S,_]:[_,S],d=i.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let y=i.resolve(f);if(!p){let _=e=="pointer"||t.state.selection.head<d.pos&&!s?1:-1;p=iv(t,y,d,_)}return p}function U8(t){return t.editable?t.hasFocus():V8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ko(t,e=!1){let n=t.state.selection;if($8(t,n),!!U8(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&fr){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Wc(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)qae(t);else{let{anchor:i,head:r}=n,s,l;$E&&!(n instanceof wt)&&(n.$from.parent.inlineContent||(s=VE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=VE(t,n.to))),t.docView.setSelection(i,r,t,e),$E&&(s&&GE(s),l&&GE(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gae(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const $E=Ar||fr&&k8<63;function VE(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(Ar&&r&&r.contentEditable=="false")return Hy(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Hy(r);if(s)return Hy(s)}}function Hy(t){return t.contentEditable="true",Ar&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function GE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Gae(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!U8(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function qae(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Qi(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&$r&&Ll<=11&&(n.disabled=!0,n.disabled=!1)}function $8(t,e){if(e instanceof ht){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(qE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else qE(t)}function qE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function iv(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||wt.between(e,n,i)}function WE(t){return t.editable&&!t.hasFocus()?!1:V8(t)}function V8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Wae(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Wc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function K2(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&Bt.findFrom(s,e)}function _l(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function XE(t,e,n){let i=t.state.selection;if(i instanceof wt)if(n.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return _l(t,new wt(i.$anchor,l))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=K2(t.state,e);return r&&r instanceof ht?_l(t,r):!1}else if(!(Rs&&n.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,l;if(!s||s.isText)return!1;let d=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(l=t.docView.descAt(d))&&!l.contentDOM?ht.isSelectable(s)?_l(t,new ht(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):Rh?_l(t,new wt(t.state.doc.resolve(e<0?d:d+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ht&&i.node.isInline)return _l(t,new wt(e>0?i.$to:i.$from));{let r=K2(t.state,e);return r?_l(t,r):!1}}}function fm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Xf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ed(t,e){return e<0?Xae(t):Yae(t)}function Xae(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,s,l=!1;for(Bs&&n.nodeType==1&&i<fm(n)&&Xf(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let d=n.childNodes[i-1];if(Xf(d,-1))r=n,s=--i;else if(d.nodeType==3)n=d,i=n.nodeValue.length;else break}}else{if(G8(n))break;{let d=n.previousSibling;for(;d&&Xf(d,-1);)r=n.parentNode,s=Qi(d),d=d.previousSibling;if(d)n=d,i=fm(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}l?Z2(t,n,i):r&&Z2(t,r,s)}function Yae(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=fm(n),s,l;for(;;)if(i<r){if(n.nodeType!=1)break;let d=n.childNodes[i];if(Xf(d,1))s=n,l=++i;else break}else{if(G8(n))break;{let d=n.nextSibling;for(;d&&Xf(d,1);)s=d.parentNode,l=Qi(d)+1,d=d.nextSibling;if(d)n=d,i=0,r=fm(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}s&&Z2(t,s,l)}function G8(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Kae(t,e){for(;t&&e==t.childNodes.length&&!Oh(t);)e=Qi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Zae(t,e){for(;t&&!e&&!Oh(t);)e=Qi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Z2(t,e,n){if(e.nodeType!=3){let s,l;(l=Kae(e,n))?(e=l,n=0):(s=Zae(e,n))&&(e=s,n=s.nodeValue.length)}let i=t.domSelection();if(!i)return;if(g0(i)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&ko(t)},50)}function YE(t,e){let n=t.state.doc.resolve(e);if(!(fr||bae)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function KE(t,e,n){let i=t.state.selection;if(i instanceof wt&&!i.empty||n.indexOf("s")>-1||Rs&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=K2(t.state,e);if(l&&l instanceof ht)return _l(t,l)}if(!r.parent.inlineContent){let l=e<0?r:s,d=i instanceof ps?Bt.near(l,e):Bt.findFrom(l,e);return d?_l(t,d):!1}return!1}function ZE(t,e){if(!(t.state.selection instanceof wt))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function QE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Qae(t){if(!Ar||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;QE(t,i,"true"),setTimeout(()=>QE(t,i,"false"),20)}return!1}function Jae(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function eoe(t,e){let n=e.keyCode,i=Jae(e);if(n==8||Rs&&n==72&&i=="c")return ZE(t,-1)||ed(t,-1);if(n==46&&!e.shiftKey||Rs&&n==68&&i=="c")return ZE(t,1)||ed(t,1);if(n==13||n==27)return!0;if(n==37||Rs&&n==66&&i=="c"){let r=n==37?YE(t,t.state.selection.from)=="ltr"?-1:1:-1;return XE(t,r,i)||ed(t,r)}else if(n==39||Rs&&n==70&&i=="c"){let r=n==39?YE(t,t.state.selection.from)=="ltr"?1:-1:1;return XE(t,r,i)||ed(t,r)}else{if(n==38||Rs&&n==80&&i=="c")return KE(t,-1,i)||ed(t,-1);if(n==40||Rs&&n==78&&i=="c")return Qae(t)||KE(t,1,i)||ed(t,1);if(i==(Rs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function rv(t,e){t.someProp("transformCopied",A=>{e=A(e,t)});let n=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let A=i.firstChild;n.push(A.type.name,A.attrs!=A.type.defaultAttrs?A.attrs:null),i=A.content}let l=t.someProp("clipboardSerializer")||nu.fromSchema(t.state.schema),d=Z8(),f=d.createElement("div");f.appendChild(l.serializeFragment(i,{document:d}));let p=f.firstChild,y,_=0;for(;p&&p.nodeType==1&&(y=K8[p.nodeName.toLowerCase()]);){for(let A=y.length-1;A>=0;A--){let T=d.createElement(y[A]);for(;f.firstChild;)T.appendChild(f.firstChild);f.appendChild(T),_++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${r} ${s}${_?` -${_}`:""} ${JSON.stringify(n)}`);let S=t.someProp("clipboardTextSerializer",A=>A(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:S,slice:e}}function q8(t,e,n,i,r){let s=r.parent.type.spec.code,l,d;if(!n&&!e)return null;let f=!!e&&(i||s||!n);if(f){if(t.someProp("transformPastedText",S=>{e=S(e,s||i,t)}),s)return d=new Xe(je.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",S=>{d=S(d,t,!0)}),d;let _=t.someProp("clipboardTextParser",S=>S(e,r,i,t));if(_)d=_;else{let S=r.marks(),{schema:A}=t.state,T=nu.fromSchema(A);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(O=>{let R=l.appendChild(document.createElement("p"));O&&R.appendChild(T.serializeNode(A.text(O,S)))})}}else t.someProp("transformPastedHTML",_=>{n=_(n,t)}),l=roe(n),Rh&&soe(l);let p=l&&l.querySelector("[data-pm-slice]"),y=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let _=+y[3];_>0;_--){let S=l.firstChild;for(;S&&S.nodeType!=1;)S=S.nextSibling;if(!S)break;l=S}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||Bl.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||y),context:r,ruleFromNode(S){return S.nodeName=="BR"&&!S.nextSibling&&S.parentNode&&!toe.test(S.parentNode.nodeName)?{ignore:!0}:null}})),y)d=aoe(JE(d,+y[1],+y[2]),y[4]);else if(d=Xe.maxOpen(noe(d.content,r),!0),d.openStart||d.openEnd){let _=0,S=0;for(let A=d.content.firstChild;_<d.openStart&&!A.type.spec.isolating;_++,A=A.firstChild);for(let A=d.content.lastChild;S<d.openEnd&&!A.type.spec.isolating;S++,A=A.lastChild);d=JE(d,_,S)}return t.someProp("transformPasted",_=>{d=_(d,t,f)}),d}const toe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function noe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(d=>{if(!l)return;let f=r.findWrapping(d.type),p;if(!f)return l=null;if(p=l.length&&s.length&&X8(f,s,d,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=Y8(l[l.length-1],s.length));let y=W8(d,f);l.push(y),r=r.matchType(y.type),s=f}}),l)return je.from(l)}return t}function W8(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,je.from(t));return t}function X8(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=X8(t,e,n,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(je.from(W8(n,t,r+1))))}}function Y8(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Y8(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(je.empty,!0);return t.copy(n.append(i))}function Q2(t,e,n,i,r,s){let l=e<0?t.firstChild:t.lastChild,d=l.content;return t.childCount>1&&(s=0),r<i-1&&(d=Q2(d,e,n,i,r+1,s)),r>=n&&(d=e<0?l.contentMatchAt(0).fillBefore(d,s<=r).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(je.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(d))}function JE(t,e,n){return e<t.openStart&&(t=new Xe(Q2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Xe(Q2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const K8={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let e4=null;function Z8(){return e4||(e4=document.implementation.createHTMLDocument("title"))}let Uy=null;function ioe(t){let e=window.trustedTypes;return e?(Uy||(Uy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Uy.createHTML(t)):t}function roe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Z8().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&K8[i[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=ioe(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function soe(t){let e=t.querySelectorAll(fr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function aoe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:l}=t;for(let d=i.length-2;d>=0;d-=2){let f=n.nodes[i[d]];if(!f||f.hasRequiredAttrs())break;r=je.from(f.create(i[d+1],r)),s++,l++}return new Xe(r,s,l)}const Tr={},Nr={},ooe={touchstart:!0,touchmove:!0};class loe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function coe(t){for(let e in Tr){let n=Tr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{doe(t,i)&&!sv(t,i)&&(t.editable||!(i.type in Nr))&&n(t,i)},ooe[e]?{passive:!0}:void 0)}Ar&&t.dom.addEventListener("input",()=>null),J2(t)}function Ol(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function uoe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function J2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>sv(t,i))})}function sv(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function doe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function foe(t,e){!sv(t,e)&&Tr[e.type]&&(t.editable||!(e.type in Nr))&&Tr[e.type](t,e)}Nr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!J8(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(To&&fr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),yd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,Tc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||eoe(t,n)?n.preventDefault():Ol(t,"key")};Nr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Nr.keypress=(t,e)=>{let n=e;if(J8(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Rs&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof wt)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",l=>l(t,i.$from.pos,i.$to.pos,r,s))&&t.dispatch(s()),n.preventDefault()}};function y0(t){return{left:t.clientX,top:t.clientY}}function hoe(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function av(t,e,n,i,r){if(i==-1)return!1;let s=t.state.doc.resolve(i);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,d=>l>s.depth?d(t,n,s.nodeAfter,s.before(l),r,!0):d(t,n,s.node(l),s.before(l),r,!1)))return!0;return!1}function hd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function poe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&ht.isSelectable(i)?(hd(t,new ht(n)),!0):!1}function moe(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof ht&&(i=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let d=l>s.depth?s.nodeAfter:s.node(l);if(ht.isSelectable(d)){i&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(l);break}}return r!=null?(hd(t,ht.create(t.state.doc,r)),!0):!1}function goe(t,e,n,i,r){return av(t,"handleClickOn",e,n,i)||t.someProp("handleClick",s=>s(t,e,i))||(r?moe(t,n):poe(t,n))}function xoe(t,e,n,i){return av(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function yoe(t,e,n,i){return av(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||boe(t,n,i)}function boe(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(hd(t,wt.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let l=s>r.depth?r.nodeAfter:r.node(s),d=r.before(s);if(l.inlineContent)hd(t,wt.create(i,d+1,d+1+l.content.size));else if(ht.isSelectable(l))hd(t,ht.create(i,d));else continue;return!0}}function ov(t){return hm(t)}const Q8=Rs?"metaKey":"ctrlKey";Tr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=ov(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&hoe(n,t.input.lastClick)&&!n[Q8]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(y0(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new voe(t,l,n,!!i)):(s=="doubleClick"?xoe:yoe)(t,l.pos,l.inside,n)?n.preventDefault():Ol(t,"pointer"))};class voe{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[Q8],this.allowDefault=i.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let y=e.state.doc.resolve(n.pos);s=y.parent,l=y.depth?y.before():0}const d=r?null:i.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:p}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof ht&&p.from<=l&&p.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Bs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ol(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ko(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(y0(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ol(this.view,"pointer"):goe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ar&&this.mightDrag&&!this.mightDrag.node.isAtom||fr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(hd(this.view,Bt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ol(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ol(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Tr.touchstart=t=>{t.input.lastTouch=Date.now(),ov(t),Ol(t,"pointer")};Tr.touchmove=t=>{t.input.lastTouch=Date.now(),Ol(t,"pointer")};Tr.contextmenu=t=>ov(t);function J8(t,e){return t.composing?!0:Ar&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const woe=To?5e3:-1;Nr.compositionstart=Nr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof wt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),hm(t,!0),t.markCursor=null;else if(hm(t,!e.selection.empty),Bs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let l=s<0?r.lastChild:r.childNodes[s-1];if(!l)break;if(l.nodeType==3){let d=t.domSelection();d&&d.collapse(l,l.nodeValue.length);break}else r=l,s=-1}}t.input.composing=!0}e6(t,woe)};Nr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,e6(t,20))};function e6(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>hm(t),e))}function t6(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Coe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _oe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=pae(e.focusNode,e.focusOffset),i=mae(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function Coe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function hm(t,e=!1){if(!(To&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),t6(t),e||t.docView&&t.docView.dirty){let n=nv(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Soe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const dh=$r&&Ll<15||yd&&vae<604;Tr.copy=Nr.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let s=dh?null:n.clipboardData,l=i.content(),{dom:d,text:f}=rv(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",d.innerHTML),s.setData("text/plain",f)):Soe(t,d),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Eoe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Aoe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?fh(t,i.value,null,r,e):fh(t,i.textContent,i.innerHTML,r,e)},50)}function fh(t,e,n,i,r){let s=q8(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,r,s||Xe.empty)))return!0;if(!s)return!1;let l=Eoe(s),d=l?t.state.tr.replaceSelectionWith(l,i):t.state.tr.replaceSelection(s);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function n6(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Nr.paste=(t,e)=>{let n=e;if(t.composing&&!To)return;let i=dh?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&fh(t,n6(i),i.getData("text/html"),r,n)?n.preventDefault():Aoe(t,n)};class i6{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const Toe=Rs?"altKey":"ctrlKey";function r6(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[Toe]}Tr.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(y0(n)),l;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof ht?r.to-1:r.to))){if(i&&i.mightDrag)l=ht.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let _=t.docView.nearestDesc(n.target,!0);_&&_.node.type.spec.draggable&&_!=t.docView&&(l=ht.create(t.state.doc,_.posBefore))}}let d=(l||t.state.selection).content(),{dom:f,text:p,slice:y}=rv(t,d);(!n.dataTransfer.files.length||!fr||k8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(dh?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",dh||n.dataTransfer.setData("text/plain",p),t.dragging=new i6(y,r6(t,n),l)};Tr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Nr.dragover=Nr.dragenter=(t,e)=>e.preventDefault();Nr.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(y0(n));if(!r)return;let s=t.state.doc.resolve(r.pos),l=i&&i.slice;l?t.someProp("transformPasted",T=>{l=T(l,t,!1)}):l=q8(t,n6(n.dataTransfer),dh?null:n.dataTransfer.getData("text/html"),!1,s);let d=!!(i&&r6(t,n));if(t.someProp("handleDrop",T=>T(t,n,l||Xe.empty,d))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?w8(t.state.doc,s.pos,l):s.pos;f==null&&(f=s.pos);let p=t.state.tr;if(d){let{node:T}=i;T?T.replace(p):p.deleteSelection()}let y=p.mapping.map(f),_=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,S=p.doc;if(_?p.replaceRangeWith(y,y,l.content.firstChild):p.replaceRange(y,y,l),p.doc.eq(S))return;let A=p.doc.resolve(y);if(_&&ht.isSelectable(l.content.firstChild)&&A.nodeAfter&&A.nodeAfter.sameMarkup(l.content.firstChild))p.setSelection(new ht(A));else{let T=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((O,R,B,G)=>T=G),p.setSelection(iv(t,A,p.doc.resolve(T)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))};Tr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ko(t)},20))};Tr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Tr.beforeinput=(t,e)=>{if(fr&&To&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Tc(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Nr)Tr[t]=Nr[t];function hh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class pm{constructor(e,n){this.toDOM=e,this.spec=n||Pc,this.side=this.spec.side||0}map(e,n,i,r){let{pos:s,deleted:l}=e.mapResult(n.from+r,this.side<0?-1:1);return l?null:new Cr(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof pm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&hh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Pl{constructor(e,n){this.attrs=e,this.spec=n||Pc}map(e,n,i,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,l=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=l?null:new Cr(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Pl&&hh(this.attrs,e.attrs)&&hh(this.spec,e.spec)}static is(e){return e.type instanceof Pl}destroy(){}}class lv{constructor(e,n){this.attrs=e,this.spec=n||Pc}map(e,n,i,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let l=e.mapResult(n.to+r,-1);return l.deleted||l.pos<=s.pos?null:new Cr(s.pos-i,l.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(i)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof lv&&hh(this.attrs,e.attrs)&&hh(this.spec,e.spec)}destroy(){}}class Cr{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Cr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Cr(e,e,new pm(n,i))}static inline(e,n,i,r){return new Cr(e,n,new Pl(i,r))}static node(e,n,i,r){return new Cr(e,n,new lv(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Pl}get widget(){return this.type instanceof pm}}const id=[],Pc={};class Yn{constructor(e,n){this.local=e.length?e:id,this.children=n.length?n:id}static create(e,n){return n.length?mm(n,e,0,Pc):ur}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,s){for(let l=0;l<this.local.length;l++){let d=this.local[l];d.from<=n&&d.to>=e&&(!s||s(d.spec))&&i.push(d.copy(d.from+r,d.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let d=this.children[l]+1;this.children[l+2].findInner(e-d,n-d,i,r+d,s)}}map(e,n,i){return this==ur||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Pc)}mapInner(e,n,i,r,s){let l;for(let d=0;d<this.local.length;d++){let f=this.local[d].map(e,i,r);f&&f.type.valid(n,f)?(l||(l=[])).push(f):s.onRemove&&s.onRemove(this.local[d].spec)}return this.children.length?Noe(this.children,l||[],e,n,i,r,s):l?new Yn(l.sort(Fc),id):ur}add(e,n){return n.length?this==ur?Yn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,s=0;e.forEach((d,f)=>{let p=f+i,y;if(y=a6(n,d,p)){for(r||(r=this.children.slice());s<r.length&&r[s]<f;)s+=3;r[s]==f?r[s+2]=r[s+2].addInner(d,y,p+1):r.splice(s,0,f,f+d.nodeSize,mm(y,d,p+1,Pc)),s+=3}});let l=s6(s?o6(n):n,-i);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||l.splice(d--,1);return new Yn(l.length?this.local.concat(l).sort(Fc):this.local,r||this.children)}remove(e){return e.length==0||this==ur?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let l,d=i[s]+n,f=i[s+1]+n;for(let y=0,_;y<e.length;y++)(_=e[y])&&_.from>d&&_.to<f&&(e[y]=null,(l||(l=[])).push(_));if(!l)continue;i==this.children&&(i=this.children.slice());let p=i[s+2].removeInner(l,d+1);p!=ur?i[s+2]=p:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let d=0;d<r.length;d++)r[d].eq(l,n)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Yn(r,i):ur}forChild(e,n){if(this==ur)return this;if(n.isLeaf)return Yn.empty;let i,r;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(i=this.children[d+2]);break}let s=e+1,l=s+n.content.size;for(let d=0;d<this.local.length;d++){let f=this.local[d];if(f.from<l&&f.to>s&&f.type instanceof Pl){let p=Math.max(s,f.from)-s,y=Math.min(l,f.to)-s;p<y&&(r||(r=[])).push(f.copy(p,y))}}if(r){let d=new Yn(r.sort(Fc),id);return i?new Tl([d,i]):d}return i||ur}eq(e){if(this==e)return!0;if(!(e instanceof Yn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return cv(this.localsInner(e))}localsInner(e){if(this==ur)return id;if(e.inlineContent||!this.local.some(Pl.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Pl||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Yn.empty=new Yn([],[]);Yn.removeOverlap=cv;const ur=Yn.empty;class Tl{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,Pc));return Tl.from(i)}forChild(e,n){if(n.isLeaf)return Yn.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=ur&&(s instanceof Tl?i=i.concat(s.members):i.push(s))}return Tl.from(i)}eq(e){if(!(e instanceof Tl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{i&&(n=n.slice(),i=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?cv(i?n:n.sort(Fc)):id}static from(e){switch(e.length){case 0:return ur;case 1:return e[0];default:return new Tl(e.every(n=>n instanceof Yn)?e:e.reduce((n,i)=>n.concat(i instanceof Yn?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Noe(t,e,n,i,r,s,l){let d=t.slice();for(let p=0,y=s;p<n.maps.length;p++){let _=0;n.maps[p].forEach((S,A,T,O)=>{let R=O-T-(A-S);for(let B=0;B<d.length;B+=3){let G=d[B+1];if(G<0||S>G+y-_)continue;let j=d[B]+y-_;A>=j?d[B+1]=S<=j?-2:-1:S>=y&&R&&(d[B]+=R,d[B+1]+=R)}_+=R}),y=n.maps[p].map(y,-1)}let f=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){f=!0,d[p+1]=-1;continue}let y=n.map(t[p]+s),_=y-r;if(_<0||_>=i.content.size){f=!0;continue}let S=n.map(t[p+1]+s,-1),A=S-r,{index:T,offset:O}=i.content.findIndex(_),R=i.maybeChild(T);if(R&&O==_&&O+R.nodeSize==A){let B=d[p+2].mapInner(n,R,y+1,t[p]+s+1,l);B!=ur?(d[p]=_,d[p+1]=A,d[p+2]=B):(d[p+1]=-2,f=!0)}else f=!0}if(f){let p=Ioe(d,t,e,n,r,s,l),y=mm(p,i,0,l);e=y.local;for(let _=0;_<d.length;_+=3)d[_+1]<0&&(d.splice(_,3),_-=3);for(let _=0,S=0;_<y.children.length;_+=3){let A=y.children[_];for(;S<d.length&&d[S]<A;)S+=3;d.splice(S,0,y.children[_],y.children[_+1],y.children[_+2])}}return new Yn(e.sort(Fc),d)}function s6(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new Cr(r.from+e,r.to+e,r.type))}return n}function Ioe(t,e,n,i,r,s,l){function d(f,p){for(let y=0;y<f.local.length;y++){let _=f.local[y].map(i,r,p);_?n.push(_):l.onRemove&&l.onRemove(f.local[y].spec)}for(let y=0;y<f.children.length;y+=3)d(f.children[y+2],f.children[y]+p+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&d(t[f+2],e[f]+s+1);return n}function a6(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<i&&((r||(r=[])).push(l),t[s]=null);return r}function o6(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function mm(t,e,n,i){let r=[],s=!1;e.forEach((d,f)=>{let p=a6(t,d,f+n);if(p){s=!0;let y=mm(p,d,n+f+1,i);y!=ur&&r.push(f,f+d.nodeSize,y)}});let l=s6(s?o6(t):t,-n).sort(Fc);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||(i.onRemove&&i.onRemove(l[d].spec),l.splice(d--,1));return l.length||r.length?new Yn(l,r):ur}function Fc(t,e){return t.from-e.from||t.to-e.to}function cv(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,i.to),t4(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,s.from),t4(e,r,i.copy(s.from,i.to)));break}}}return e}function t4(t,e,n){for(;e<t.length&&Fc(n,t[e])>0;)e++;t.splice(e,0,n)}function $y(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=ur&&e.push(i)}),t.cursorWrapper&&e.push(Yn.create(t.state.doc,[t.cursorWrapper.deco])),Tl.from(e)}const koe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Moe=$r&&Ll<=11;class Ooe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Roe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ooe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);$r&&Ll<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Moe&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,koe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(WE(this.view)){if(this.suppressingSelectionUpdates)return ko(this.view);if($r&&Ll<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let s=e.focusNode;s;s=xd(s))n.add(s);for(let s=e.anchorNode;s;s=xd(s))if(n.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&WE(e)&&!this.ignoreSelectionChange(i),s=-1,l=-1,d=!1,f=[];if(e.editable)for(let y=0;y<n.length;y++){let _=this.registerMutation(n[y],f);_&&(s=s<0?_.from:Math.min(_.from,s),l=l<0?_.to:Math.max(_.to,l),_.typeOver&&(d=!0))}if(Bs&&f.length){let y=f.filter(_=>_.nodeName=="BR");if(y.length==2){let[_,S]=y;_.parentNode&&_.parentNode.parentNode==S.parentNode?S.remove():_.remove()}else{let{focusNode:_}=this.currentSelection;for(let S of y){let A=S.parentNode;A&&A.nodeName=="LI"&&(!_||Loe(e,_)!=A)&&S.remove()}}}let p=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&g0(i)&&(p=nv(e))&&p.eq(Bt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ko(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,l),Doe(e)),this.handleDOMChange(s,l,d,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ko(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let _=e.addedNodes[y];n.push(_),_.nodeType==3&&(this.lastChangedTextNode=_)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if($r&&Ll<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:_,nextSibling:S}=e.addedNodes[y];(!_||Array.prototype.indexOf.call(e.addedNodes,_)<0)&&(r=_),(!S||Array.prototype.indexOf.call(e.addedNodes,S)<0)&&(s=S)}let l=r&&r.parentNode==e.target?Qi(r)+1:0,d=i.localPosFromDOM(e.target,l,-1),f=s&&s.parentNode==e.target?Qi(s):e.target.childNodes.length,p=i.localPosFromDOM(e.target,f,1);return{from:d,to:p}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let n4=new WeakMap,i4=!1;function Doe(t){if(!n4.has(t)&&(n4.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Bs,i4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),i4=!0}}function r4(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Wc(l.node,l.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function Boe(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return r4(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?r4(t,n):null}function Loe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function joe(t,e,n){let{node:i,fromOffset:r,toOffset:s,from:l,to:d}=t.docView.parseRange(e,n),f=t.domSelectionRange(),p,y=f.anchorNode;if(y&&t.dom.contains(y.nodeType==1?y:y.parentNode)&&(p=[{node:y,offset:f.anchorOffset}],g0(f)||p.push({node:f.focusNode,offset:f.focusOffset})),fr&&t.input.lastKeyCode===8)for(let R=s;R>r;R--){let B=i.childNodes[R-1],G=B.pmViewDesc;if(B.nodeName=="BR"&&!G){s=R;break}if(!G||G.size)break}let _=t.state.doc,S=t.someProp("domParser")||Bl.fromSchema(t.state.schema),A=_.resolve(l),T=null,O=S.parse(i,{topNode:A.parent,topMatch:A.parent.contentMatchAt(A.index()),topOpen:!0,from:r,to:s,preserveWhitespace:A.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Poe,context:A});if(p&&p[0].pos!=null){let R=p[0].pos,B=p[1]&&p[1].pos;B==null&&(B=R),T={anchor:R+l,head:B+l}}return{doc:O,sel:T,from:l,to:d}}function Poe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ar&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ar&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Foe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zoe(t,e,n,i,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,V=nv(t,z);if(V&&!t.state.selection.eq(V)){if(fr&&To&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ie=>ie(t,Tc(13,"Enter"))))return;let X=t.state.tr.setSelection(V);z=="pointer"?X.setMeta("pointer",!0):z=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),t.dispatch(X)}return}let l=t.state.doc.resolve(e),d=l.sharedDepth(n);e=l.before(d+1),n=t.state.doc.resolve(n).after(d+1);let f=t.state.selection,p=joe(t,e,n),y=t.state.doc,_=y.slice(p.from,p.to),S,A;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(S=t.state.selection.to,A="end"):(S=t.state.selection.from,A="start"),t.input.lastKeyCode=null;let T=$oe(_.content,p.doc.content,p.from,S,A);if(T&&t.input.domChangeCount++,(yd&&t.input.lastIOSEnter>Date.now()-225||To)&&r.some(z=>z.nodeType==1&&!Foe.test(z.nodeName))&&(!T||T.endA>=T.endB)&&t.someProp("handleKeyDown",z=>z(t,Tc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!T)if(i&&f instanceof wt&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))T={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let z=s4(t,t.state.doc,p.sel);if(z&&!z.eq(t.state.selection)){let V=t.state.tr.setSelection(z);s&&V.setMeta("composition",s),t.dispatch(V)}}return}t.state.selection.from<t.state.selection.to&&T.start==T.endB&&t.state.selection instanceof wt&&(T.start>t.state.selection.from&&T.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?T.start=t.state.selection.from:T.endA<t.state.selection.to&&T.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(T.endB+=t.state.selection.to-T.endA,T.endA=t.state.selection.to)),$r&&Ll<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>p.from&&p.doc.textBetween(T.start-p.from-1,T.start-p.from+1)==" "&&(T.start--,T.endA--,T.endB--);let O=p.doc.resolveNoCache(T.start-p.from),R=p.doc.resolveNoCache(T.endB-p.from),B=y.resolve(T.start),G=O.sameParent(R)&&O.parent.inlineContent&&B.end()>=T.endA;if((yd&&t.input.lastIOSEnter>Date.now()-225&&(!G||r.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!G&&O.pos<p.doc.content.size&&(!O.sameParent(R)||!O.parent.inlineContent)&&O.pos<R.pos&&!/\S/.test(p.doc.textBetween(O.pos,R.pos,"","")))&&t.someProp("handleKeyDown",z=>z(t,Tc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>T.start&&Uoe(y,T.start,T.endA,O,R)&&t.someProp("handleKeyDown",z=>z(t,Tc(8,"Backspace")))){To&&fr&&t.domObserver.suppressSelectionUpdates();return}fr&&T.endB==T.start&&(t.input.lastChromeDelete=Date.now()),To&&!G&&O.start()!=R.start()&&R.parentOffset==0&&O.depth==R.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==T.endA&&(T.endB-=2,R=p.doc.resolveNoCache(T.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(z){return z(t,Tc(13,"Enter"))})},20));let j=T.start,k=T.endA,D=z=>{let V=z||t.state.tr.replace(j,k,p.doc.slice(T.start-p.from,T.endB-p.from));if(p.sel){let X=s4(t,V.doc,p.sel);X&&!(fr&&t.composing&&X.empty&&(T.start!=T.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==j||X.head==V.mapping.map(k)-1)||$r&&X.empty&&X.head==j)&&V.setSelection(X)}return s&&V.setMeta("composition",s),V.scrollIntoView()},L;if(G){if(O.pos==R.pos){$r&&Ll<=11&&O.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ko(t),20));let z=D(t.state.tr.delete(j,k)),V=y.resolve(T.start).marksAcross(y.resolve(T.endA));V&&z.ensureMarks(V),t.dispatch(z)}else if(T.endA==T.endB&&(L=Hoe(O.parent.content.cut(O.parentOffset,R.parentOffset),B.parent.content.cut(B.parentOffset,T.endA-B.start())))){let z=D(t.state.tr);L.type=="add"?z.addMark(j,k,L.mark):z.removeMark(j,k,L.mark),t.dispatch(z)}else if(O.parent.child(O.index()).isText&&O.index()==R.index()-(R.textOffset?0:1)){let z=O.parent.textBetween(O.parentOffset,R.parentOffset),V=()=>D(t.state.tr.insertText(z,j,k));t.someProp("handleTextInput",X=>X(t,j,k,z,V))||t.dispatch(V())}}else t.dispatch(D())}function s4(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:iv(t,e.resolve(n.anchor),e.resolve(n.head))}function Hoe(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,s=i,l,d,f;for(let y=0;y<i.length;y++)r=i[y].removeFromSet(r);for(let y=0;y<n.length;y++)s=n[y].removeFromSet(s);if(r.length==1&&s.length==0)d=r[0],l="add",f=y=>y.mark(d.addToSet(y.marks));else if(r.length==0&&s.length==1)d=s[0],l="remove",f=y=>y.mark(d.removeFromSet(y.marks));else return null;let p=[];for(let y=0;y<e.childCount;y++)p.push(f(e.child(y)));if(je.from(p).eq(t))return{mark:d,type:l}}function Uoe(t,e,n,i,r){if(n-e<=r.pos-i.pos||Vy(i,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!i.parent.isTextblock){let d=s.nodeAfter;return d!=null&&n==e+d.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(Vy(s,!0,!0));return!l.parent.isTextblock||l.pos>n||Vy(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Vy(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let s=t.node(i).maybeChild(t.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function $oe(t,e,n,i,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let f=Math.max(0,s-Math.min(l,d));i-=l+f-s}if(l<s&&t.size<e.size){let f=i<=s&&i>=l?s-i:0;s-=f,s&&s<e.size&&a4(e.textBetween(s-1,s+1))&&(s+=f?1:-1),d=s+(d-l),l=s}else if(d<s){let f=i<=s&&i>=d?s-i:0;s-=f,s&&s<t.size&&a4(t.textBetween(s-1,s+1))&&(s+=f?1:-1),l=s+(l-d),d=s}return{start:s,endA:l,endB:d}}function a4(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class l6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new loe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(d4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=c4(this),l4(this),this.nodeViews=u4(this),this.docView=HE(this.state.doc,o4(this),$y(this),this.dom,this),this.domObserver=new Roe(this,(i,r,s,l)=>zoe(this,i,r,s,l)),this.domObserver.start(),coe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&J2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(d4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(t6(this),l=!0),this.state=e;let d=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let A=u4(this);Goe(A,this.nodeViews)&&(this.nodeViews=A,s=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&J2(this),this.editable=c4(this),l4(this);let f=$y(this),p=o4(this),y=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",_=s||!this.docView.matchesNode(e.doc,p,f);(_||!e.selection.eq(r.selection))&&(l=!0);let S=y=="preserve"&&l&&this.dom.style.overflowAnchor==null&&Cae(this);if(l){this.domObserver.stop();let A=_&&($r||fr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Voe(r.selection,e.selection);if(_){let T=fr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_oe(this)),(s||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=HE(e.doc,p,f,this.dom,this)),T&&!this.trackWrites&&(A=!0)}A||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Wae(this))?ko(this,A):($8(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():S&&Sae(S)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ht){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&BE(this,n.getBoundingClientRect(),e)}else BE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new i6(e.slice,e.move,r<0?void 0:ht.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let l=0;l<this.directPlugins.length;l++){let d=this.directPlugins[l].props[e];if(d!=null&&(r=n?n(d):d))return r}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let d=s[l].props[e];if(d!=null&&(r=n?n(d):d))return r}}hasFocus(){if($r){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Eae(this.dom),ko(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return kae(this,e)}coordsAtPos(e,n=1){return B8(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return Bae(this,n||this.state,e)}pasteHTML(e,n){return fh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return fh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return rv(this,e)}destroy(){this.docView&&(uoe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$y(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fae())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return foe(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ar&&this.root.nodeType===11&&xae(this.dom.ownerDocument)==this.dom&&Boe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}l6.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function o4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Cr.node(0,t.state.doc.content.size,e)]}function l4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function c4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Voe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function u4(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Goe(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function d4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var $l={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qoe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Woe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ji=0;Ji<10;Ji++)$l[48+Ji]=$l[96+Ji]=String(Ji);for(var Ji=1;Ji<=24;Ji++)$l[Ji+111]="F"+Ji;for(var Ji=65;Ji<=90;Ji++)$l[Ji]=String.fromCharCode(Ji+32),gm[Ji]=String.fromCharCode(Ji);for(var Gy in $l)gm.hasOwnProperty(Gy)||(gm[Gy]=$l[Gy]);function Xoe(t){var e=qoe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Woe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?gm:$l)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Yoe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Koe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Zoe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d++){let f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Yoe?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Qoe(t){let e=Object.create(null);for(let n in t)e[Zoe(n)]=t[n];return e}function qy(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Joe(t){return new si({props:{handleKeyDown:c6(t)}})}function c6(t){let e=Qoe(t);return function(n,i){let r=Xoe(i),s,l=e[qy(r,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let d=e[qy(r,i,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(Koe&&i.ctrlKey&&i.altKey)&&(s=$l[i.keyCode])&&s!=r){let d=e[qy(s,i)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}const uv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function u6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const d6=(t,e,n)=>{let i=u6(t,n);if(!i)return!1;let r=dv(i);if(!r){let l=i.blockRange(),d=l&&Td(l);return d==null?!1:(e&&e(t.tr.lift(l,d).scrollIntoView()),!0)}let s=r.nodeBefore;if(v6(t,r,e,-1))return!0;if(i.parent.content.size==0&&(bd(s,"end")||ht.isSelectable(s)))for(let l=i.depth;;l--){let d=p0(t.doc,i.before(l),i.after(l),Xe.empty);if(d&&d.slice.size<d.to-d.from){if(e){let f=t.tr.step(d);f.setSelection(bd(s,"end")?Bt.findFrom(f.doc.resolve(f.mapping.map(r.pos,-1)),-1):ht.create(f.doc,r.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},ele=(t,e,n)=>{let i=u6(t,n);if(!i)return!1;let r=dv(i);return r?f6(t,r,e):!1},tle=(t,e,n)=>{let i=p6(t,n);if(!i)return!1;let r=fv(i);return r?f6(t,r,e):!1};function f6(t,e,n){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let y=r.lastChild;if(!y)return!1;r=y}let l=e.nodeAfter,d=l,f=e.pos+1;for(;!d.isTextblock;f++){if(d.type.spec.isolating)return!1;let y=d.firstChild;if(!y)return!1;d=y}let p=p0(t.doc,s,f,Xe.empty);if(!p||p.from!=s||p instanceof Hi&&p.slice.size>=f-s)return!1;if(n){let y=t.tr.step(p);y.setSelection(wt.create(y.doc,s)),n(y.scrollIntoView())}return!0}function bd(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const h6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=dv(i)}let l=s&&s.nodeBefore;return!l||!ht.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function dv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function p6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const m6=(t,e,n)=>{let i=p6(t,n);if(!i)return!1;let r=fv(i);if(!r)return!1;let s=r.nodeAfter;if(v6(t,r,e,1))return!0;if(i.parent.content.size==0&&(bd(s,"start")||ht.isSelectable(s))){let l=p0(t.doc,i.before(),i.after(),Xe.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(bd(s,"start")?Bt.findFrom(d.doc.resolve(d.mapping.map(r.pos)),1):ht.create(d.doc,d.mapping.map(r.pos))),e(d.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},g6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=fv(i)}let l=s&&s.nodeAfter;return!l||!ht.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos)).scrollIntoView()),!0)};function fv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const nle=(t,e)=>{let n=t.selection,i=n instanceof ht,r;if(i){if(n.node.isTextblock||!Wl(t.doc,n.from))return!1;r=n.from}else if(r=h0(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);i&&s.setSelection(ht.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},ile=(t,e)=>{let n=t.selection,i;if(n instanceof ht){if(n.node.isTextblock||!Wl(t.doc,n.to))return!1;i=n.to}else if(i=h0(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},rle=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),s=r&&Td(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},x6=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function hv(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const sle=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),s=n.indexAfter(-1),l=hv(r.contentMatchAt(s));if(!l||!r.canReplaceWith(s,s,l))return!1;if(e){let d=n.after(),f=t.tr.replaceWith(d,d,l.createAndFill());f.setSelection(Bt.near(f.doc.resolve(d),1)),e(f.scrollIntoView())}return!0},y6=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof ps||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=hv(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,d=t.tr.insert(l,s.createAndFill());d.setSelection(wt.create(d.doc,l+1)),e(d.scrollIntoView())}return!0},b6=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Io(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let i=n.blockRange(),r=i&&Td(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function ale(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof ht&&e.selection.node.isBlock)return!i.parentOffset||!Io(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],l,d,f=!1,p=!1;for(let A=i.depth;;A--)if(i.node(A).isBlock){f=i.end(A)==i.pos+(i.depth-A),p=i.start(A)==i.pos-(i.depth-A),d=hv(i.node(A-1).contentMatchAt(i.indexAfter(A-1))),s.unshift(f&&d?{type:d}:null),l=A;break}else{if(A==1)return!1;s.unshift(null)}let y=e.tr;(e.selection instanceof wt||e.selection instanceof ps)&&y.deleteSelection();let _=y.mapping.map(i.pos),S=Io(y.doc,_,s.length,s);if(S||(s[0]=d?{type:d}:null,S=Io(y.doc,_,s.length,s)),!S)return!1;if(y.split(_,s.length,s),!f&&p&&i.node(l).type!=d){let A=y.mapping.map(i.before(l)),T=y.doc.resolve(A);d&&i.node(l-1).canReplaceWith(T.index(),T.index()+1,d)&&y.setNodeMarkup(y.mapping.map(i.before(l)),d)}return n&&n(y.scrollIntoView()),!0}}const ole=ale(),lle=(t,e)=>{let{$from:n,to:i}=t.selection,r,s=n.sharedDepth(i);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(ht.create(t.doc,r))),!0)};function cle(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Wl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function v6(t,e,n,i){let r=e.nodeBefore,s=e.nodeAfter,l,d,f=r.type.spec.isolating||s.type.spec.isolating;if(!f&&cle(t,e,n))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(d=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&d.matchType(l[0]||s.type).validEnd){if(n){let A=e.pos+s.nodeSize,T=je.empty;for(let B=l.length-1;B>=0;B--)T=je.from(l[B].create(null,T));T=je.from(r.copy(T));let O=t.tr.step(new Ui(e.pos-1,A,e.pos,A,new Xe(T,1,0),l.length,!0)),R=O.doc.resolve(A+2*l.length);R.nodeAfter&&R.nodeAfter.type==r.type&&Wl(O.doc,R.pos)&&O.join(R.pos),n(O.scrollIntoView())}return!0}let y=s.type.spec.isolating||i>0&&f?null:Bt.findFrom(e,1),_=y&&y.$from.blockRange(y.$to),S=_&&Td(_);if(S!=null&&S>=e.depth)return n&&n(t.tr.lift(_,S).scrollIntoView()),!0;if(p&&bd(s,"start",!0)&&bd(r,"end")){let A=r,T=[];for(;T.push(A),!A.isTextblock;)A=A.lastChild;let O=s,R=1;for(;!O.isTextblock;O=O.firstChild)R++;if(A.canReplace(A.childCount,A.childCount,O.content)){if(n){let B=je.empty;for(let j=T.length-1;j>=0;j--)B=je.from(T[j].copy(B));let G=t.tr.step(new Ui(e.pos-T.length,e.pos+s.nodeSize,e.pos+R,e.pos+s.nodeSize-R,new Xe(B,T.length,0),0,!0));n(G.scrollIntoView())}return!0}}return!1}function w6(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(wt.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const ule=w6(-1),dle=w6(1);function fle(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s),d=l&&Jb(l,t,e);return d?(i&&i(n.tr.wrap(l,d).scrollIntoView()),!0):!1}}function f4(t,e=null){return function(n,i){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[s];n.doc.nodesBetween(l,d,(f,p)=>{if(r)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)r=!0;else{let y=n.doc.resolve(p),_=y.index();r=y.parent.canReplaceWith(_,_+1,t)}})}if(!r)return!1;if(i){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:d},$to:{pos:f}}=n.selection.ranges[l];s.setBlockType(d,f,t,e)}i(s.scrollIntoView())}return!0}}function pv(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}pv(uv,d6,h6);pv(uv,m6,g6);pv(x6,y6,b6,ole);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hle(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s);if(!l)return!1;let d=i?n.tr:null;return ple(d,l,t,e)?(i&&i(d.scrollIntoView()),!0):!1}}function ple(t,e,n,i=null){let r=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);s=new cm(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new cm(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let d=Jb(s,n,i,e);return d?(t&&mle(t,e,d,r,n),!0):!1}function mle(t,e,n,i,r){let s=je.empty;for(let y=n.length-1;y>=0;y--)s=je.from(n[y].type.create(n[y].attrs,s));t.step(new Ui(e.start-(i?2:0),e.end,e.start,e.end,new Xe(s,0,0),n.length,!0));let l=0;for(let y=0;y<n.length;y++)n[y].type==r&&(l=y+1);let d=n.length-l,f=e.start+n.length-(i?2:0),p=e.parent;for(let y=e.startIndex,_=e.endIndex,S=!0;y<_;y++,S=!1)!S&&Io(t.doc,f,d)&&(t.split(f,d),f+=2*d),f+=p.child(y).nodeSize;return t}function gle(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,l=>l.childCount>0&&l.firstChild.type==t);return s?n?i.node(s.depth-1).type==t?xle(e,n,t,s):yle(e,n,s):!0:!1}}function xle(t,e,n,i){let r=t.tr,s=i.end,l=i.$to.end(i.depth);s<l&&(r.step(new Ui(s-1,l,s,l,new Xe(je.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new cm(r.doc.resolve(i.$from.pos),r.doc.resolve(l),i.depth));const d=Td(i);if(d==null)return!1;r.lift(i,d);let f=r.doc.resolve(r.mapping.map(s,-1)-1);return Wl(r.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&r.join(f.pos),e(r.scrollIntoView()),!0}function yle(t,e,n){let i=t.tr,r=n.parent;for(let A=n.end,T=n.endIndex-1,O=n.startIndex;T>O;T--)A-=r.child(T).nodeSize,i.delete(A-1,A+1);let s=i.doc.resolve(n.start),l=s.nodeAfter;if(i.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,f=n.endIndex==r.childCount,p=s.node(-1),y=s.index(-1);if(!p.canReplace(y+(d?0:1),y+1,l.content.append(f?je.empty:je.from(r))))return!1;let _=s.pos,S=_+l.nodeSize;return i.step(new Ui(_-(d?1:0),S+(f?1:0),_+1,S-1,new Xe((d?je.empty:je.from(r.copy(je.empty))).append(f?je.empty:je.from(r.copy(je.empty))),d?0:1,f?0:1),d?0:1)),e(i.scrollIntoView()),!0}function ble(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,p=>p.childCount>0&&p.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let d=s.parent,f=d.child(l-1);if(f.type!=t)return!1;if(n){let p=f.lastChild&&f.lastChild.type==d.type,y=je.from(p?t.create():null),_=new Xe(je.from(t.create(null,je.from(d.type.create(null,y)))),p?3:1,0),S=s.start,A=s.end;n(e.tr.step(new Ui(S-(p?3:1),A,S,A,_,1,!0)).scrollIntoView())}return!0}}var vle=Object.defineProperty,_6=(t,e)=>{for(var n in e)vle(t,n,{get:e[n],enumerable:!0})};function b0(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}var v0=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:r}=n,s=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([l,d])=>[l,(...p)=>{const y=d(...p)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l=[],d=!!t,f=t||r.tr,p=()=>(!d&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(_=>_===!0)),y={...Object.fromEntries(Object.entries(n).map(([_,S])=>[_,(...T)=>{const O=this.buildProps(f,e),R=S(...T)(O);return l.push(R),y}])),run:p};return y}createCan(t){const{rawCommands:e,state:n}=this,i=!1,r=t||n.tr,s=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(e).map(([d,f])=>[d,(...p)=>f(...p)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l={tr:t,editor:i,view:s,state:b0({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)(l)]))}};return l}},wle=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function C6(t,e){const n=new A8(t);return e.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}var S6=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&S6(i)}return t};function h1(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return S6(n)}function ph(t,e,n){if(t instanceof Qs||t instanceof je)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return je.fromArray(t.map(d=>e.nodeFromJSON(d)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),ph("",e,n)}if(r){if(n.errorOnInvalidContent){let l=!1,d="";const f=new u8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(l=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?Bl.fromSchema(f).parseSlice(h1(t),n.parseOptions):Bl.fromSchema(f).parse(h1(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const s=Bl.fromSchema(e);return n.slice?s.parseSlice(h1(t),n.parseOptions).content:s.parse(h1(t),n.parseOptions)}return ph("",e,n)}function eb(t,e,n={},i={}){return ph(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function _le(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Cle(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(r,s)=>{n(r)&&i.push({node:r,pos:s})}),i}function Sle(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function w0(t){return e=>Sle(e.$from,t)}function ft(t,e,n){return t.config[e]===void 0&&t.parent?ft(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ft(t.parent,e,n):null}):t.config[e]}function mv(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=ft(e,"addExtensions",n);return i?[e,...mv(i())]:e}).flat(10)}function gv(t,e){const n=nu.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function E6(t){return typeof t=="function"}function wn(t,e=void 0,...n){return E6(t)?e?t.bind(e)(...n):t(...n):t}function Ele(t={}){return Object.keys(t).length===0&&t.constructor===Object}function mh(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function A6(t){const e=[],{nodeExtensions:n,markExtensions:i}=mh(t),r=[...n,...i],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage,extensions:r},f=ft(l,"addGlobalAttributes",d);if(!f)return;f().forEach(y=>{y.types.forEach(_=>{Object.entries(y.attributes).forEach(([S,A])=>{e.push({type:_,name:S,attribute:{...s,...A}})})})})}),r.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage},f=ft(l,"addAttributes",d);if(!f)return;const p=f();Object.entries(p).forEach(([y,_])=>{const S={...s,..._};typeof(S==null?void 0:S.default)=="function"&&(S.default=S.default()),S!=null&&S.isRequired&&(S==null?void 0:S.default)===void 0&&delete S.default,e.push({type:l.name,name:y,attribute:S})})}),e}function mi(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const d=s?String(s).split(" "):[],f=i[r]?i[r].split(" "):[],p=d.filter(y=>!f.includes(y));i[r]=[...f,...p].join(" ")}else if(r==="style"){const d=s?s.split(";").map(y=>y.trim()).filter(Boolean):[],f=i[r]?i[r].split(";").map(y=>y.trim()).filter(Boolean):[],p=new Map;f.forEach(y=>{const[_,S]=y.split(":").map(A=>A.trim());p.set(_,S)}),d.forEach(y=>{const[_,S]=y.split(":").map(A=>A.trim());p.set(_,S)}),i[r]=Array.from(p.entries()).map(([y,_])=>`${y}: ${_}`).join("; ")}else i[r]=s}),i},{})}function xm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>mi(n,i),{})}function Ale(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function h4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((s,l)=>{const d=l.attribute.parseHTML?l.attribute.parseHTML(n):Ale(n.getAttribute(l.name));return d==null?s:{...s,[l.name]:d}},{});return{...i,...r}}}}function p4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Ele(n)?!1:n!=null))}function Tle(t,e){var n;const i=A6(t),{nodeExtensions:r,markExtensions:s}=mh(t),l=(n=r.find(p=>ft(p,"topNode")))==null?void 0:n.name,d=Object.fromEntries(r.map(p=>{const y=i.filter(B=>B.type===p.name),_={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((B,G)=>{const j=ft(G,"extendNodeSchema",_);return{...B,...j?j(p):{}}},{}),A=p4({...S,content:wn(ft(p,"content",_)),marks:wn(ft(p,"marks",_)),group:wn(ft(p,"group",_)),inline:wn(ft(p,"inline",_)),atom:wn(ft(p,"atom",_)),selectable:wn(ft(p,"selectable",_)),draggable:wn(ft(p,"draggable",_)),code:wn(ft(p,"code",_)),whitespace:wn(ft(p,"whitespace",_)),linebreakReplacement:wn(ft(p,"linebreakReplacement",_)),defining:wn(ft(p,"defining",_)),isolating:wn(ft(p,"isolating",_)),attrs:Object.fromEntries(y.map(B=>{var G,j;return[B.name,{default:(G=B==null?void 0:B.attribute)==null?void 0:G.default,validate:(j=B==null?void 0:B.attribute)==null?void 0:j.validate}]}))}),T=wn(ft(p,"parseHTML",_));T&&(A.parseDOM=T.map(B=>h4(B,y)));const O=ft(p,"renderHTML",_);O&&(A.toDOM=B=>O({node:B,HTMLAttributes:xm(B,y)}));const R=ft(p,"renderText",_);return R&&(A.toText=R),[p.name,A]})),f=Object.fromEntries(s.map(p=>{const y=i.filter(R=>R.type===p.name),_={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((R,B)=>{const G=ft(B,"extendMarkSchema",_);return{...R,...G?G(p):{}}},{}),A=p4({...S,inclusive:wn(ft(p,"inclusive",_)),excludes:wn(ft(p,"excludes",_)),group:wn(ft(p,"group",_)),spanning:wn(ft(p,"spanning",_)),code:wn(ft(p,"code",_)),attrs:Object.fromEntries(y.map(R=>{var B,G;return[R.name,{default:(B=R==null?void 0:R.attribute)==null?void 0:B.default,validate:(G=R==null?void 0:R.attribute)==null?void 0:G.validate}]}))}),T=wn(ft(p,"parseHTML",_));T&&(A.parseDOM=T.map(R=>h4(R,y)));const O=ft(p,"renderHTML",_);return O&&(A.toDOM=R=>O({mark:R,HTMLAttributes:xm(R,y)})),[p.name,A]}));return new u8({topNode:l,nodes:d,marks:f})}function Nle(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function xv(t){return t.sort((n,i)=>{const r=ft(n,"priority")||100,s=ft(i,"priority")||100;return r>s?-1:r<s?1:0})}function T6(t){const e=xv(mv(t)),n=Nle(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function N6(t,e,n){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let d="";return t.nodesBetween(i,r,(f,p,y,_)=>{var S;f.isBlock&&p>i&&(d+=s);const A=l==null?void 0:l[f.type.name];if(A)return y&&(d+=A({node:f,pos:p,parent:y,index:_,range:e})),!1;f.isText&&(d+=(S=f==null?void 0:f.text)==null?void 0:S.slice(Math.max(i,p)-p,r-p))}),d}function Ile(t,e){const n={from:0,to:t.content.size};return N6(t,n,e)}function I6(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Bo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function k6(t,e){const n=Bo(e,t.schema),{from:i,to:r,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,f=>{l.push(...f.marks)});const d=l.find(f=>f.type.name===n.name);return d?{...d.attrs}:{}}function wi(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function kle(t,e){const n=wi(e,t.schema),{from:i,to:r}=t.selection,s=[];t.doc.nodesBetween(i,r,d=>{s.push(d)});const l=s.reverse().find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function _0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function M6(t,e){const n=_0(typeof e=="string"?e:e.name,t.schema);return n==="node"?kle(t,e):n==="mark"?k6(t,e):{}}function Mle(t,e=JSON.stringify){const n={};return t.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function Ole(t){const e=Mle(t);return e.length===1?e:e.filter((n,i)=>!e.filter((s,l)=>l!==i).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function O6(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((r,s)=>{const l=[];if(r.ranges.length)r.forEach((d,f)=>{l.push({from:d,to:f})});else{const{from:d,to:f}=n[s];if(d===void 0||f===void 0)return;l.push({from:d,to:f})}l.forEach(({from:d,to:f})=>{const p=e.slice(s).map(d,-1),y=e.slice(s).map(f),_=e.invert().map(p,-1),S=e.invert().map(y);i.push({oldRange:{from:_,to:S},newRange:{from:p,to:y}})})}),Ole(i)}function yv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function ym(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:yv(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function R6(t,e,n={}){return t.find(i=>i.type===e&&ym(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function m4(t,e,n={}){return!!R6(t,e,n)}function bv(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(y=>y.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(y=>y.type===e)||(n=n||((i=r.node.marks[0])==null?void 0:i.attrs),!R6([...r.node.marks],e,n)))return;let l=r.index,d=t.start()+r.offset,f=l+1,p=d+r.node.nodeSize;for(;l>0&&m4([...t.parent.child(l-1).marks],e,n);)l-=1,d-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&m4([...t.parent.child(f).marks],e,n);)p+=t.parent.child(f).nodeSize,f+=1;return{from:d,to:p}}function vv(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),l=bv(s,r.type);l&&i.push({mark:r,...l})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(l=>({from:s,to:s+r.nodeSize,mark:l})))}),i}var Rle=(t,e,n,i=20)=>{const r=t.doc.resolve(n);let s=i,l=null;for(;s>0&&l===null;){const d=r.node(s);(d==null?void 0:d.type.name)===e?l=d:s-=1}return[l,s]};function Wy(t,e){return e.nodes[t]||e.marks[t]||null}function O1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}var Dle=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,s,l,d)=>{var f,p;const y=((p=(f=r.type.spec).toText)==null?void 0:p.call(f,{node:r,pos:s,parent:l,index:d}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?y:y.slice(0,Math.max(0,i-s))}),n};function tb(t,e,n={}){const{empty:i,ranges:r}=t.selection,s=e?Bo(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(_=>s?s.name===_.type.name:!0).find(_=>ym(_.attrs,n,{strict:!1}));let l=0;const d=[];if(r.forEach(({$from:_,$to:S})=>{const A=_.pos,T=S.pos;t.doc.nodesBetween(A,T,(O,R)=>{if(!O.isText&&!O.marks.length)return;const B=Math.max(A,R),G=Math.min(T,R+O.nodeSize),j=G-B;l+=j,d.push(...O.marks.map(k=>({mark:k,from:B,to:G})))})}),l===0)return!1;const f=d.filter(_=>s?s.name===_.mark.type.name:!0).filter(_=>ym(_.mark.attrs,n,{strict:!1})).reduce((_,S)=>_+S.to-S.from,0),p=d.filter(_=>s?_.mark.type!==s&&_.mark.type.excludes(s):!0).reduce((_,S)=>_+S.to-S.from,0);return(f>0?f+p:f)>=l}function Vl(t,e,n={}){const{from:i,to:r,empty:s}=t.selection,l=e?wi(e,t.schema):null,d=[];t.doc.nodesBetween(i,r,(_,S)=>{if(_.isText)return;const A=Math.max(i,S),T=Math.min(r,S+_.nodeSize);d.push({node:_,from:A,to:T})});const f=r-i,p=d.filter(_=>l?l.name===_.node.type.name:!0).filter(_=>ym(_.node.attrs,n,{strict:!1}));return s?!!p.length:p.reduce((_,S)=>_+S.to-S.from,0)>=f}function Ble(t,e,n={}){if(!e)return Vl(t,null,n)||tb(t,null,n);const i=_0(e,t.schema);return i==="node"?Vl(t,e,n):i==="mark"?tb(t,e,n):!1}var Lle=(t,e)=>{const{$from:n,$to:i,$anchor:r}=t.selection;if(e){const s=w0(d=>d.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return r.pos+1===l.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},jle=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function g4(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function x4(t,e){const{nodeExtensions:n}=mh(e),i=n.find(l=>l.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=wn(ft(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function C0(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(C0(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function D6(t){return t instanceof ht}function B6(t){return t instanceof wt}function Rc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function L6(t,e=null){if(!e)return null;const n=Bt.atStart(t),i=Bt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,s=i.to;return e==="all"?wt.create(t,Rc(0,r,s),Rc(t.content.size,r,s)):wt.create(t,Rc(e,r,s),Rc(e,r,s))}function Ple(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof Hi||r instanceof Ui))return;const s=t.mapping.maps[i];let l=0;s.forEach((d,f,p,y)=>{l===0&&(l=y)}),t.setSelection(Bt.near(t.doc.resolve(l),n))}var S0=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Fle=(t,e)=>{if(yv(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function p1(t){var e;const{editor:n,from:i,to:r,text:s,rules:l,plugin:d}=t,{view:f}=n;if(f.composing)return!1;const p=f.state.doc.resolve(i);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(S=>S.type.spec.code))return!1;let y=!1;const _=Dle(p)+s;return l.forEach(S=>{if(y)return;const A=Fle(_,S.find);if(!A)return;const T=f.state.tr,O=b0({state:f.state,transaction:T}),R={from:i-(A[0].length-s.length),to:r},{commands:B,chain:G,can:j}=new v0({editor:n,state:O});S.handler({state:O,range:R,match:A,commands:B,chain:G,can:j})===null||!T.steps.length||(S.undoable&&T.setMeta(d,{transform:T,from:i,to:r,text:s}),f.dispatch(T),y=!0)}),y}function zle(t){const{editor:e,rules:n}=t,i=new si({state:{init(){return null},apply(r,s,l){const d=r.getMeta(i);if(d)return d;const f=r.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:y}=f;typeof y=="string"?y=y:y=gv(je.from(y),l.schema);const{from:_}=f,S=_+y.length;p1({editor:e,from:_,to:S,text:y,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,l,d){return p1({editor:e,from:s,to:l,text:d,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&p1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:l}=r.state.selection;return l?p1({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function Hle(t){return Object.prototype.toString.call(t).slice(8,-1)}function m1(t){return Hle(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function j6(t,e){const n={...t};return m1(t)&&m1(e)&&Object.keys(e).forEach(i=>{m1(e[i])&&m1(t[i])?n[i]=j6(t[i],e[i]):n[i]=e[i]}),n}var wv=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...wn(ft(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...wn(ft(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>j6(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},iu=class P6 extends wv{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new P6(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const l=r.marks();if(!!!l.find(p=>(p==null?void 0:p.type.name)===n.name))return!1;const f=l.find(p=>(p==null?void 0:p.type.name)===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ule(t){return typeof t=="number"}var $le=class{constructor(t){this.find=t.find,this.handler=t.handler}},Vle=(t,e,n)=>{if(yv(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function Gle(t){const{editor:e,state:n,from:i,to:r,rule:s,pasteEvent:l,dropEvent:d}=t,{commands:f,chain:p,can:y}=new v0({editor:e,state:n}),_=[];return n.doc.nodesBetween(i,r,(A,T)=>{var O,R,B,G,j;if((R=(O=A.type)==null?void 0:O.spec)!=null&&R.code||!(A.isText||A.isTextblock||A.isInline))return;const k=(j=(G=(B=A.content)==null?void 0:B.size)!=null?G:A.nodeSize)!=null?j:0,D=Math.max(i,T),L=Math.min(r,T+k);if(D>=L)return;const z=A.isText?A.text||"":A.textBetween(D-T,L-T,void 0,"");Vle(z,s.find,l).forEach(X=>{if(X.index===void 0)return;const ie=D+X.index+1,ae=ie+X[0].length,ue={from:n.tr.mapping.map(ie),to:n.tr.mapping.map(ae)},Ie=s.handler({state:n,range:ue,match:X,commands:f,chain:p,can:y,pasteEvent:l,dropEvent:d});_.push(Ie)})}),_.every(A=>A!==null)}var g1=null,qle=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Wle(t){const{editor:e,rules:n}=t;let i=null,r=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const f=({state:y,from:_,to:S,rule:A,pasteEvt:T})=>{const O=y.tr,R=b0({state:y,transaction:O});if(!(!Gle({editor:e,state:R,from:Math.max(_-1,0),to:S.b-1,rule:A,pasteEvent:T,dropEvent:d})||!O.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,O}};return n.map(y=>new si({view(_){const S=T=>{var O;i=(O=_.dom.parentElement)!=null&&O.contains(T.target)?_.dom.parentElement:null,i&&(g1=e)},A=()=>{g1&&(g1=null)};return window.addEventListener("dragstart",S),window.addEventListener("dragend",A),{destroy(){window.removeEventListener("dragstart",S),window.removeEventListener("dragend",A)}}},props:{handleDOMEvents:{drop:(_,S)=>{if(s=i===_.dom.parentElement,d=S,!s){const A=g1;A!=null&&A.isEditable&&setTimeout(()=>{const T=A.state.selection;T&&A.commands.deleteRange({from:T.from,to:T.to})},10)}return!1},paste:(_,S)=>{var A;const T=(A=S.clipboardData)==null?void 0:A.getData("text/html");return l=S,r=!!(T!=null&&T.includes("data-pm-slice")),!1}}},appendTransaction:(_,S,A)=>{const T=_[0],O=T.getMeta("uiEvent")==="paste"&&!r,R=T.getMeta("uiEvent")==="drop"&&!s,B=T.getMeta("applyPasteRules"),G=!!B;if(!O&&!R&&!G)return;if(G){let{text:D}=B;typeof D=="string"?D=D:D=gv(je.from(D),A.schema);const{from:L}=B,z=L+D.length,V=qle(D);return f({rule:y,state:A,from:L,to:{b:z},pasteEvt:V})}const j=S.doc.content.findDiffStart(A.doc.content),k=S.doc.content.findDiffEnd(A.doc.content);if(!(!Ule(j)||!k||j===k.b))return f({rule:y,state:A,from:j,to:k,pasteEvt:l})}}))}var E0=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=T6(t),this.schema=Tle(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wy(e.name,this.schema)},i=ft(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return xv([...this.extensions].reverse()).flatMap(i=>{const r={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Wy(i.name,this.schema)},s=[],l=ft(i,"addKeyboardShortcuts",r);let d={};if(i.type==="mark"&&ft(i,"exitable",r)&&(d.ArrowRight=()=>iu.handleExit({editor:t,mark:i})),l){const S=Object.fromEntries(Object.entries(l()).map(([A,T])=>[A,()=>T({editor:t})]));d={...d,...S}}const f=Joe(d);s.push(f);const p=ft(i,"addInputRules",r);if(g4(i,t.options.enableInputRules)&&p){const S=p();if(S&&S.length){const A=zle({editor:t,rules:S}),T=Array.isArray(A)?A:[A];s.push(...T)}}const y=ft(i,"addPasteRules",r);if(g4(i,t.options.enablePasteRules)&&y){const S=y();if(S&&S.length){const A=Wle({editor:t,rules:S});s.push(...A)}}const _=ft(i,"addProseMirrorPlugins",r);if(_){const S=_();s.push(...S)}return s})}get attributes(){return A6(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=mh(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:wi(n.name,this.schema)},s=ft(n,"addNodeView",r);if(!s)return[];const l=(d,f,p,y,_)=>{const S=xm(d,i);return s()({node:d,view:f,getPos:p,decorations:y,innerDecorations:_,editor:t,extension:n,HTMLAttributes:S})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=mh(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addMarkView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Bo(n.name,this.schema)},s=ft(n,"addMarkView",r);if(!s)return[];const l=(d,f,p)=>{const y=xm(d,i);return s()({mark:d,view:f,inline:p,editor:t,extension:n,HTMLAttributes:y,updateAttributes:_=>{lue(d,t,_)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wy(e.name,this.schema)};e.type==="mark"&&((n=wn(ft(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const r=ft(e,"onBeforeCreate",i),s=ft(e,"onCreate",i),l=ft(e,"onUpdate",i),d=ft(e,"onSelectionUpdate",i),f=ft(e,"onTransaction",i),p=ft(e,"onFocus",i),y=ft(e,"onBlur",i),_=ft(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),l&&this.editor.on("update",l),d&&this.editor.on("selectionUpdate",d),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),y&&this.editor.on("blur",y),_&&this.editor.on("destroy",_)})}};E0.resolve=T6;E0.sort=xv;E0.flatten=mv;var Xle={};_6(Xle,{ClipboardTextSerializer:()=>z6,Commands:()=>$6,Delete:()=>V6,Drop:()=>G6,Editable:()=>q6,FocusEvents:()=>X6,Keymap:()=>Y6,Paste:()=>K6,Tabindex:()=>Z6,focusEventsPluginKey:()=>W6});var _i=class F6 extends wv{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new F6(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},z6=_i.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new si({key:new Vi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:s}=r,l=Math.min(...s.map(y=>y.$from.pos)),d=Math.max(...s.map(y=>y.$to.pos)),f=I6(n);return N6(i,{from:l,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),H6={};_6(H6,{blur:()=>Yle,clearContent:()=>Kle,clearNodes:()=>Zle,command:()=>Qle,createParagraphNear:()=>Jle,cut:()=>ece,deleteCurrentNode:()=>tce,deleteNode:()=>nce,deleteRange:()=>ice,deleteSelection:()=>rce,enter:()=>sce,exitCode:()=>ace,extendMarkRange:()=>oce,first:()=>lce,focus:()=>uce,forEach:()=>dce,insertContent:()=>fce,insertContentAt:()=>pce,joinBackward:()=>xce,joinDown:()=>gce,joinForward:()=>yce,joinItemBackward:()=>bce,joinItemForward:()=>vce,joinTextblockBackward:()=>wce,joinTextblockForward:()=>_ce,joinUp:()=>mce,keyboardShortcut:()=>Sce,lift:()=>Ece,liftEmptyBlock:()=>Ace,liftListItem:()=>Tce,newlineInCode:()=>Nce,resetAttributes:()=>Ice,scrollIntoView:()=>kce,selectAll:()=>Mce,selectNodeBackward:()=>Oce,selectNodeForward:()=>Rce,selectParentNode:()=>Dce,selectTextblockEnd:()=>Bce,selectTextblockStart:()=>Lce,setContent:()=>jce,setMark:()=>Fce,setMeta:()=>zce,setNode:()=>Hce,setNodeSelection:()=>Uce,setTextSelection:()=>$ce,sinkListItem:()=>Vce,splitBlock:()=>Gce,splitListItem:()=>qce,toggleList:()=>Wce,toggleMark:()=>Xce,toggleNode:()=>Yce,toggleWrap:()=>Kce,undoInputRule:()=>Zce,unsetAllMarks:()=>Qce,unsetMark:()=>Jce,updateAttributes:()=>eue,wrapIn:()=>tue,wrapInList:()=>nue});var Yle=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),Kle=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Zle=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(d,f)=>{if(d.type.isText)return;const{doc:p,mapping:y}=e,_=p.resolve(y.map(f)),S=p.resolve(y.map(f+d.nodeSize)),A=_.blockRange(S);if(!A)return;const T=Td(A);if(d.type.isTextblock){const{defaultType:O}=_.parent.contentMatchAt(_.index());e.setNodeMarkup(A.start,O)}(T||T===0)&&e.lift(A,T)})}),!0},Qle=t=>e=>t(e),Jle=()=>({state:t,dispatch:e})=>y6(t,e),ece=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,s.content),i.setSelection(new wt(i.doc.resolve(Math.max(l-1,0)))),!0},tce=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const d=r.before(s),f=r.after(s);t.delete(d,f).scrollIntoView()}return!0}return!1},nce=t=>({tr:e,state:n,dispatch:i})=>{const r=wi(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r){if(i){const f=s.before(l),p=s.after(l);e.delete(f,p).scrollIntoView()}return!0}return!1},ice=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},rce=()=>({state:t,dispatch:e})=>uv(t,e),sce=()=>({commands:t})=>t.keyboardShortcut("Enter"),ace=()=>({state:t,dispatch:e})=>sle(t,e),oce=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const s=Bo(t,i.schema),{doc:l,selection:d}=n,{$from:f,from:p,to:y}=d;if(r){const _=bv(f,s,e);if(_&&_.from<=p&&_.to>=y){const S=wt.create(l,_.from,_.to);n.setSelection(S)}}return!0},lce=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function cce(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _v(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var uce=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(_v()||cce())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!B6(n.state.selection))return l(),!0;const d=L6(r.doc,t)||n.state.selection,f=n.state.selection.eq(d);return s&&(f||r.setSelection(d),f&&r.storedMarks&&r.setStoredMarks(r.storedMarks),l()),!0},dce=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),fce=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),hce=t=>!("type"in t),pce=(t,e,n)=>({tr:i,dispatch:r,editor:s})=>{var l;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const f=R=>{s.emit("contentError",{editor:s,error:R,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{ph(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(R){f(R)}try{d=ph(e,s.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(R){return f(R),!1}let{from:y,to:_}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},S=!0,A=!0;if((hce(d)?d:[d]).forEach(R=>{R.check(),S=S?R.isText&&R.marks.length===0:!1,A=A?R.isBlock:!1}),y===_&&A){const{parent:R}=i.doc.resolve(y);R.isTextblock&&!R.type.spec.code&&!R.childCount&&(y-=1,_+=1)}let O;if(S){if(Array.isArray(e))O=e.map(R=>R.text||"").join("");else if(e instanceof je){let R="";e.forEach(B=>{B.text&&(R+=B.text)}),O=R}else typeof e=="object"&&e&&e.text?O=e.text:O=e;i.insertText(O,y,_)}else{O=d;const R=i.doc.resolve(y),B=R.node(),G=R.parentOffset===0,j=B.isText||B.isTextblock,k=B.content.size>0;G&&j&&k&&(y=Math.max(0,y-1)),i.replaceWith(y,_,O)}n.updateSelection&&Ple(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:y,text:O}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:y,text:O})}return!0},mce=()=>({state:t,dispatch:e})=>nle(t,e),gce=()=>({state:t,dispatch:e})=>ile(t,e),xce=()=>({state:t,dispatch:e})=>d6(t,e),yce=()=>({state:t,dispatch:e})=>m6(t,e),bce=()=>({state:t,dispatch:e,tr:n})=>{try{const i=h0(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},vce=()=>({state:t,dispatch:e,tr:n})=>{try{const i=h0(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},wce=()=>({state:t,dispatch:e})=>ele(t,e),_ce=()=>({state:t,dispatch:e})=>tle(t,e);function U6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Cce(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d+=1){const f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))_v()||U6()?l=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Sce=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const s=Cce(t).split(/-(?!$)/),l=s.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,d))});return f==null||f.steps.forEach(p=>{const y=p.map(i.mapping);y&&r&&i.maybeStep(y)}),!0},Ece=(t,e={})=>({state:n,dispatch:i})=>{const r=wi(t,n.schema);return Vl(n,r,e)?rle(n,i):!1},Ace=()=>({state:t,dispatch:e})=>b6(t,e),Tce=t=>({state:e,dispatch:n})=>{const i=wi(t,e.schema);return gle(i)(e,n)},Nce=()=>({state:t,dispatch:e})=>x6(t,e);function y4(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}var Ice=(t,e)=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=_0(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=wi(t,i.schema)),d==="mark"&&(l=Bo(t,i.schema)),r&&n.selection.ranges.forEach(f=>{i.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,y)=>{s&&s===p.type&&n.setNodeMarkup(y,void 0,y4(p.attrs,e)),l&&p.marks.length&&p.marks.forEach(_=>{l===_.type&&n.addMark(y,y+p.nodeSize,l.create(y4(_.attrs,e)))})})}),!0):!1},kce=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Mce=()=>({tr:t,dispatch:e})=>{if(e){const n=new ps(t.doc);t.setSelection(n)}return!0},Oce=()=>({state:t,dispatch:e})=>h6(t,e),Rce=()=>({state:t,dispatch:e})=>g6(t,e),Dce=()=>({state:t,dispatch:e})=>lle(t,e),Bce=()=>({state:t,dispatch:e})=>dle(t,e),Lce=()=>({state:t,dispatch:e})=>ule(t,e),jce=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:r,tr:s,dispatch:l,commands:d})=>{const{doc:f}=s;if(i.preserveWhitespace!=="full"){const p=eb(t,r.schema,i,{errorOnInvalidContent:e??r.options.enableContentCheck});return l&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??r.options.enableContentCheck})};function Pce(t,e,n){var i;const{selection:r}=e;let s=null;if(B6(r)&&(s=r.$cursor),s){const d=(i=t.storedMarks)!=null?i:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(p=>p.type.excludes(n)))}const{ranges:l}=r;return l.some(({$from:d,$to:f})=>{let p=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,f.pos,(y,_,S)=>{if(p)return!1;if(y.isInline){const A=!S||S.type.allowsMarkType(n),T=!!n.isInSet(y.marks)||!y.marks.some(O=>O.type.excludes(n));p=A&&T}return!p}),p})}var Fce=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:s}=n,{empty:l,ranges:d}=s,f=Bo(t,i.schema);if(r)if(l){const p=k6(i,f);n.addStoredMark(f.create({...p,...e}))}else d.forEach(p=>{const y=p.$from.pos,_=p.$to.pos;i.doc.nodesBetween(y,_,(S,A)=>{const T=Math.max(A,y),O=Math.min(A+S.nodeSize,_);S.marks.find(B=>B.type===f)?S.marks.forEach(B=>{f===B.type&&n.addMark(T,O,f.create({...B.attrs,...e}))}):n.addMark(T,O,f.create(e))})});return Pce(i,n,f)},zce=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Hce=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const s=wi(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:d})=>f4(s,{...l,...e})(n)?!0:d.clearNodes()).command(({state:d})=>f4(s,{...l,...e})(d,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Uce=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=Rc(t,0,i.content.size),s=ht.create(i,r);e.setSelection(s)}return!0},$ce=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,l=wt.atStart(i).from,d=wt.atEnd(i).to,f=Rc(r,l,d),p=Rc(s,l,d),y=wt.create(i,f,p);e.setSelection(y)}return!0},Vce=t=>({state:e,dispatch:n})=>{const i=wi(t,e.schema);return ble(i)(e,n)};function b4(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}var Gce=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:s,doc:l}=e,{$from:d,$to:f}=s,p=r.extensionManager.attributes,y=O1(p,d.node().type.name,d.node().attrs);if(s instanceof ht&&s.node.isBlock)return!d.parentOffset||!Io(l,d.pos)?!1:(i&&(t&&b4(n,r.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const _=f.parentOffset===f.parent.content.size,S=d.depth===0?void 0:_le(d.node(-1).contentMatchAt(d.indexAfter(-1)));let A=_&&S?[{type:S,attrs:y}]:void 0,T=Io(e.doc,e.mapping.map(d.pos),1,A);if(!A&&!T&&Io(e.doc,e.mapping.map(d.pos),1,S?[{type:S}]:void 0)&&(T=!0,A=S?[{type:S,attrs:y}]:void 0),i){if(T&&(s instanceof wt&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,A),S&&!_&&!d.parentOffset&&d.parent.type!==S)){const O=e.mapping.map(d.before()),R=e.doc.resolve(O);d.node(-1).canReplaceWith(R.index(),R.index()+1,S)&&e.setNodeMarkup(e.mapping.map(d.before()),S)}t&&b4(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return T},qce=(t,e={})=>({tr:n,state:i,dispatch:r,editor:s})=>{var l;const d=wi(t,i.schema),{$from:f,$to:p}=i.selection,y=i.selection.node;if(y&&y.isBlock||f.depth<2||!f.sameParent(p))return!1;const _=f.node(-1);if(_.type!==d)return!1;const S=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==d||f.index(-2)!==f.node(-2).childCount-1)return!1;if(r){let B=je.empty;const G=f.index(-1)?1:f.index(-2)?2:3;for(let V=f.depth-G;V>=f.depth-3;V-=1)B=je.from(f.node(V).copy(B));const j=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,k={...O1(S,f.node().type.name,f.node().attrs),...e},D=((l=d.contentMatch.defaultType)==null?void 0:l.createAndFill(k))||void 0;B=B.append(je.from(d.createAndFill(null,D)||void 0));const L=f.before(f.depth-(G-1));n.replace(L,f.after(-j),new Xe(B,4-G,0));let z=-1;n.doc.nodesBetween(L,n.doc.content.size,(V,X)=>{if(z>-1)return!1;V.isTextblock&&V.content.size===0&&(z=X+1)}),z>-1&&n.setSelection(wt.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const A=p.pos===f.end()?_.contentMatchAt(0).defaultType:null,T={...O1(S,_.type.name,_.attrs),...e},O={...O1(S,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,p.pos);const R=A?[{type:d,attrs:T},{type:A,attrs:O}]:[{type:d,attrs:T}];if(!Io(n.doc,f.pos,2))return!1;if(r){const{selection:B,storedMarks:G}=i,{splittableMarks:j}=s.extensionManager,k=G||B.$to.parentOffset&&B.$from.marks();if(n.split(f.pos,2,R).scrollIntoView(),!k||!r)return!0;const D=k.filter(L=>j.includes(L.type.name));n.ensureMarks(D)}return!0},Xy=(t,e)=>{const n=w0(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Wl(t.doc,n.pos)&&t.join(n.pos),!0},Yy=(t,e)=>{const n=w0(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Wl(t.doc,i)&&t.join(i),!0},Wce=(t,e,n,i={})=>({editor:r,tr:s,state:l,dispatch:d,chain:f,commands:p,can:y})=>{const{extensions:_,splittableMarks:S}=r.extensionManager,A=wi(t,l.schema),T=wi(e,l.schema),{selection:O,storedMarks:R}=l,{$from:B,$to:G}=O,j=B.blockRange(G),k=R||O.$to.parentOffset&&O.$from.marks();if(!j)return!1;const D=w0(L=>x4(L.type.name,_))(O);if(j.depth>=1&&D&&j.depth-D.depth<=1){if(D.node.type===A)return p.liftListItem(T);if(x4(D.node.type.name,_)&&A.validContent(D.node.content)&&d)return f().command(()=>(s.setNodeMarkup(D.pos,A),!0)).command(()=>Xy(s,A)).command(()=>Yy(s,A)).run()}return!n||!k||!d?f().command(()=>y().wrapInList(A,i)?!0:p.clearNodes()).wrapInList(A,i).command(()=>Xy(s,A)).command(()=>Yy(s,A)).run():f().command(()=>{const L=y().wrapInList(A,i),z=k.filter(V=>S.includes(V.type.name));return s.ensureMarks(z),L?!0:p.clearNodes()}).wrapInList(A,i).command(()=>Xy(s,A)).command(()=>Yy(s,A)).run()},Xce=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,l=Bo(t,i.schema);return tb(i,l,e)?r.unsetMark(l,{extendEmptyMarkRange:s}):r.setMark(l,e)},Yce=(t,e,n={})=>({state:i,commands:r})=>{const s=wi(t,i.schema),l=wi(e,i.schema),d=Vl(i,s,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),d?r.setNode(l,f):r.setNode(s,{...f,...n})},Kce=(t,e={})=>({state:n,commands:i})=>{const r=wi(t,n.schema);return Vl(n,r,e)?i.lift(r):i.wrapIn(r,e)},Zce=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const l=t.tr,d=s.transform;for(let f=d.steps.length-1;f>=0;f-=1)l.step(d.steps[f].invert(d.docs[f]));if(s.text){const f=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,f))}else l.delete(s.from,s.to)}return!0}}return!1},Qce=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Jce=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:d}=n,f=Bo(t,i.schema),{$from:p,empty:y,ranges:_}=d;if(!r)return!0;if(y&&l){let{from:S,to:A}=d;const T=(s=p.marks().find(R=>R.type===f))==null?void 0:s.attrs,O=bv(p,f,T);O&&(S=O.from,A=O.to),n.removeMark(S,A,f)}else _.forEach(S=>{n.removeMark(S.$from.pos,S.$to.pos,f)});return n.removeStoredMark(f),!0},eue=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=_0(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=wi(t,i.schema)),d==="mark"&&(l=Bo(t,i.schema)),r&&n.selection.ranges.forEach(f=>{const p=f.$from.pos,y=f.$to.pos;let _,S,A,T;n.selection.empty?i.doc.nodesBetween(p,y,(O,R)=>{s&&s===O.type&&(A=Math.max(R,p),T=Math.min(R+O.nodeSize,y),_=R,S=O)}):i.doc.nodesBetween(p,y,(O,R)=>{R<p&&s&&s===O.type&&(A=Math.max(R,p),T=Math.min(R+O.nodeSize,y),_=R,S=O),R>=p&&R<=y&&(s&&s===O.type&&n.setNodeMarkup(R,void 0,{...O.attrs,...e}),l&&O.marks.length&&O.marks.forEach(B=>{if(l===B.type){const G=Math.max(R,p),j=Math.min(R+O.nodeSize,y);n.addMark(G,j,l.create({...B.attrs,...e}))}}))}),S&&(_!==void 0&&n.setNodeMarkup(_,void 0,{...S.attrs,...e}),l&&S.marks.length&&S.marks.forEach(O=>{l===O.type&&n.addMark(A,T,l.create({...O.attrs,...e}))}))}),!0):!1},tue=(t,e={})=>({state:n,dispatch:i})=>{const r=wi(t,n.schema);return fle(r,e)(n,i)},nue=(t,e={})=>({state:n,dispatch:i})=>{const r=wi(t,n.schema);return hle(r,e)(n,i)},$6=_i.create({name:"commands",addCommands(){return{...H6}}}),V6=_i.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,r;const s=()=>{var l,d,f,p;if((p=(f=(d=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:d.filterTransaction)==null?void 0:f.call(d,t))!=null?p:t.getMeta("y-sync$"))return;const y=C6(t.before,[t,...e]);O6(y).forEach(A=>{y.mapping.mapResult(A.oldRange.from).deletedAfter&&y.mapping.mapResult(A.oldRange.to).deletedBefore&&y.before.nodesBetween(A.oldRange.from,A.oldRange.to,(T,O)=>{const R=O+T.nodeSize-2,B=A.oldRange.from<=O&&R<=A.oldRange.to;this.editor.emit("delete",{type:"node",node:T,from:O,to:R,newFrom:y.mapping.map(O),newTo:y.mapping.map(R),deletedRange:A.oldRange,newRange:A.newRange,partial:!B,editor:this.editor,transaction:t,combinedTransform:y})})});const S=y.mapping;y.steps.forEach((A,T)=>{var O,R;if(A instanceof Zs){const B=S.slice(T).map(A.from,-1),G=S.slice(T).map(A.to),j=S.invert().map(B,-1),k=S.invert().map(G),D=(O=y.doc.nodeAt(B-1))==null?void 0:O.marks.some(z=>z.eq(A.mark)),L=(R=y.doc.nodeAt(G))==null?void 0:R.marks.some(z=>z.eq(A.mark));this.editor.emit("delete",{type:"mark",mark:A.mark,from:A.from,to:A.to,deletedRange:{from:j,to:k},newRange:{from:B,to:G},partial:!!(L||D),editor:this.editor,transaction:t,combinedTransform:y})}})};(r=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||r?setTimeout(s,0):s()}}),G6=_i.create({name:"drop",addProseMirrorPlugins(){return[new si({key:new Vi("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),q6=_i.create({name:"editable",addProseMirrorPlugins(){return[new si({key:new Vi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),W6=new Vi("focusEvents"),X6=_i.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new si({key:W6,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),Y6=_i.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:d})=>{const{selection:f,doc:p}=d,{empty:y,$anchor:_}=f,{pos:S,parent:A}=_,T=_.parent.isTextblock&&S>0?d.doc.resolve(S-1):_,O=T.parent.type.spec.isolating,R=_.pos-_.parentOffset,B=O&&T.parent.childCount===1?R===_.pos:Bt.atStart(p).from===S;return!y||!A.type.isTextblock||A.textContent.length||!B||B&&_.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _v()||U6()?s:r},addProseMirrorPlugins(){return[new si({key:new Vi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(O=>O.getMeta("composition")))return;const i=t.some(O=>O.docChanged)&&!e.doc.eq(n.doc),r=t.some(O=>O.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:l,to:d}=e.selection,f=Bt.atStart(e.doc).from,p=Bt.atEnd(e.doc).to;if(s||!(l===f&&d===p)||!C0(n.doc))return;const S=n.tr,A=b0({state:n,transaction:S}),{commands:T}=new v0({editor:this.editor,state:A});if(T.clearNodes(),!!S.steps.length)return S}})]}}),K6=_i.create({name:"paste",addProseMirrorPlugins(){return[new si({key:new Vi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Z6=_i.create({name:"tabindex",addProseMirrorPlugins(){return[new si({key:new Vi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),iue=class rd{constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new rd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new rd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new rd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+i+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(l);if(!r&&d.depth<=this.depth)return;const f=new rd(d,this.editor,r,r?n:null);r&&(f.actualDepth=this.depth+1),e.push(new rd(d,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,l=Object.keys(n);for(let d=0;d<l.length;d+=1){const f=l[d];if(s[f]!==n[f])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(l=>{i&&r.length>0||(l.node.type.name===e&&s.every(f=>n[f]===l.node.attrs[f])&&r.push(l),!(i&&r.length>0)&&(r=r.concat(l.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},rue=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function sue(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var aue=class extends wle{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:s})=>this.options.onDrop(i,r,s)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=L6(e,this.options.autofocus);this.editorState=ld.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=sue(rue,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=E6(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;n=n.filter(l=>!l.key.startsWith(s))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[q6,z6.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),$6,X6,Y6,Z6,G6,K6,V6].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new E0(i,this)}createCommandManager(){this.commandManager=new v0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=eb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=eb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new l6(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),r=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=l==null?void 0:l.getMeta("focus"),f=l==null?void 0:l.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return M6(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return Ble(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gv(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Ile(this.state.doc,{blockSeparator:e,textSerializers:{...I6(this.schema),...n}})}get isEmpty(){return C0(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new iue(e,this)}get $doc(){return this.$pos(0)}};function vd(t){return new S0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=wn(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,l=i[i.length-1],d=i[0];if(l){const f=d.search(/\S/),p=n.from+d.indexOf(l),y=p+l.length;if(vv(n.from,n.to,e.doc).filter(A=>A.mark.type.excluded.find(O=>O===t.type&&O!==A.mark.type)).filter(A=>A.to>p).length)return null;y<n.to&&s.delete(y,n.to),p>n.from&&s.delete(n.from+f,p);const S=n.from+f+l.length;s.addMark(n.from+f,S,t.type.create(r||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function Q6(t){return new S0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=wn(t.getAttributes,void 0,i)||{},{tr:s}=e,l=n.from;let d=n.to;const f=t.type.create(r);if(i[1]){const p=i[0].lastIndexOf(i[1]);let y=l+p;y>d?y=d:d=y+i[1].length;const _=i[0][i[0].length-1];s.insertText(_,l+i[0].length-1),s.replaceWith(y,d,f)}else if(i[0]){const p=t.type.isInline?l:l-1;s.insert(p,t.type.create(r)).delete(s.mapping.map(l),s.mapping.map(d))}s.scrollIntoView()},undoable:t.undoable})}function nb(t){return new S0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),s=wn(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function wd(t){return new S0({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const s=wn(t.getAttributes,void 0,i)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),p=f&&Jb(f,t.type,s);if(!p)return null;if(l.wrap(f,p),t.keepMarks&&t.editor){const{selection:_,storedMarks:S}=e,{splittableMarks:A}=t.editor.extensionManager,T=S||_.$to.parentOffset&&_.$from.marks();if(T){const O=T.filter(R=>A.includes(R.type.name));l.ensureMarks(O)}}if(t.keepAttributes){const _=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(_,s).run()}const y=l.doc.resolve(n.from-1).nodeBefore;y&&y.type===t.type&&Wl(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,y))&&l.join(n.from-1)},undoable:t.undoable})}function oue(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof ht){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let r=i.depth;for(;r>=0;){const s=i.index(r);if(i.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}function lue(t,e,n={}){const{state:i}=e,{doc:r,tr:s}=i,l=t;r.descendants((d,f)=>{const p=s.mapping.map(f),y=s.mapping.map(f)+d.nodeSize;let _=null;if(d.marks.forEach(A=>{if(A!==l)return!1;_=A}),!_)return;let S=!1;if(Object.keys(n).forEach(A=>{n[A]!==_.attrs[A]&&(S=!0)}),S){const A=t.type.create({...t.attrs,...n});s.removeMark(p,y,t.type),s.addMark(p,y,A)}}),s.docChanged&&e.view.dispatch(s)}var Vr=class J6 extends wv{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new J6(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Yc(t){return new $le({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const s=wn(t.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:l}=e,d=i[i.length-1],f=i[0];let p=n.to;if(d){const y=f.search(/\S/),_=n.from+f.indexOf(d),S=_+d.length;if(vv(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(R=>R===t.type&&R!==T.mark.type)).filter(T=>T.to>_).length)return null;S<n.to&&l.delete(S,n.to),_>n.from&&l.delete(n.from+y,_),p=n.from+y+d.length,l.addMark(n.from+y,p,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var Ky,v4;function cue(){return v4||(v4=1,Ky=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var l=s[r];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Ky}var uue=cue();const due=Do(uue);var Zy={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function fue(){if(w4)return Qy;w4=1;var t=Kc(),e=WN();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Qy.useSyncExternalStoreWithSelector=function(p,y,_,S,A){var T=s(null);if(T.current===null){var O={hasValue:!1,value:null};T.current=O}else O=T.current;T=d(function(){function B(L){if(!G){if(G=!0,j=L,L=S(L),A!==void 0&&O.hasValue){var z=O.value;if(A(z,L))return k=z}return k=L}if(z=k,i(j,L))return z;var V=S(L);return A!==void 0&&A(z,V)?(j=L,z):(j=L,k=V)}var G=!1,j,k,D=_===void 0?null:_;return[function(){return B(y())},D===null?void 0:function(){return B(D())}]},[y,_,S,A]);var R=r(p,T[0],T[1]);return l(function(){O.hasValue=!0,O.value=R},[R]),f(R),R},Qy}var _4;function hue(){return _4||(_4=1,Zy.exports=fue()),Zy.exports}var pue=hue(),mue=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},gue=({contentComponent:t})=>{const e=XN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function xue(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:sO.createPortal(i.reactElement,i.element,n)},t.forEach(r=>r())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(r=>r())}}}var yue=class extends Ht.Component{constructor(t){var e;super(t),this.editorContentRef=Ht.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=xue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:mue(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&b.jsx(gue,{contentComponent:t.contentComponent})]})}},bue=P.forwardRef((t,e)=>{const n=Ht.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ht.createElement(yue,{key:n,innerRef:e,...t})}),vue=Ht.memo(bue),wue=typeof window<"u"?P.useLayoutEffect:P.useEffect,_ue=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Cue(t){var e;const[n]=P.useState(()=>new _ue(t.editor)),i=pue.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:due);return wue(()=>n.watch(t.editor),[t.editor,n]),P.useDebugValue(i),i}var Sue=!1,ib=typeof window>"u",Eue=ib||!!(typeof window<"u"&&window.next),Aue=class e5{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ib||Eue?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onBeforeCreate)==null?void 0:s.call(r,...i)},onBlur:(...i)=>{var r,s;return(s=(r=this.options.current).onBlur)==null?void 0:s.call(r,...i)},onCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onCreate)==null?void 0:s.call(r,...i)},onDestroy:(...i)=>{var r,s;return(s=(r=this.options.current).onDestroy)==null?void 0:s.call(r,...i)},onFocus:(...i)=>{var r,s;return(s=(r=this.options.current).onFocus)==null?void 0:s.call(r,...i)},onSelectionUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onSelectionUpdate)==null?void 0:s.call(r,...i)},onTransaction:(...i)=>{var r,s;return(s=(r=this.options.current).onTransaction)==null?void 0:s.call(r,...i)},onUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onUpdate)==null?void 0:s.call(r,...i)},onContentError:(...i)=>{var r,s;return(s=(r=this.options.current).onContentError)==null?void 0:s.call(r,...i)},onDrop:(...i)=>{var r,s;return(s=(r=this.options.current).onDrop)==null?void 0:s.call(r,...i)},onPaste:(...i)=>{var r,s;return(s=(r=this.options.current).onPaste)==null?void 0:s.call(r,...i)},onDelete:(...i)=>{var r,s;return(s=(r=this.options.current).onDelete)==null?void 0:s.call(r,...i)}};return new aue(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,s)=>{var l;return r===((l=n.extensions)==null?void 0:l[s])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?e5.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Tue(t={},e=[]){const n=P.useRef(t);n.current=t;const[i]=P.useState(()=>new Aue(n)),r=XN.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return P.useDebugValue(r),P.useEffect(i.onRender(e)),Cue({editor:r,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),r}var Nue=P.createContext({editor:null});Nue.Consumer;var Iue=P.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),kue=()=>P.useContext(Iue);Ht.forwardRef((t,e)=>{const{onDragStart:n}=kue(),i=t.as||"div";return b.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ht.createContext({markViewContentRef:()=>{}});var bm=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},Mue=/^\s*>\s$/,Oue=Vr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return bm("blockquote",{...mi(this.options.HTMLAttributes,t),children:bm("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wd({find:Mue,type:this.type})]}}),Rue=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Due=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Bue=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Lue=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,jue=iu.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return bm("strong",{...mi(this.options.HTMLAttributes,t),children:bm("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[vd({find:Rue,type:this.type}),vd({find:Bue,type:this.type})]},addPasteRules(){return[Yc({find:Due,type:this.type}),Yc({find:Lue,type:this.type})]}}),Pue=/(^|[^`])`([^`]+)`(?!`)$/,Fue=/(^|[^`])`([^`]+)`(?!`)/g,zue=iu.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[vd({find:Pue,type:this.type})]},addPasteRules(){return[Yc({find:Fue,type:this.type})]}}),Jy=4,Hue=/^```([a-z]+)?[\s\n]$/,Uue=/^~~~([a-z]+)?[\s\n]$/,$ue=Vr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Jy,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mi(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jy,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;if(s.parent.type!==this.type)return!1;const d=" ".repeat(n);return l?t.commands.insertContent(d):t.commands.command(({tr:f})=>{const{from:p,to:y}=r,A=i.doc.textBetween(p,y,`
`,`
`).split(`
`).map(T=>d+T).join(`
`);return f.replaceWith(p,y,i.schema.text(A)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jy,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;return s.parent.type!==this.type?!1:l?t.commands.command(({tr:d})=>{var f;const{pos:p}=s,y=s.start(),_=s.end(),A=i.doc.textBetween(y,_,`
`,`
`).split(`
`);let T=0,O=0;const R=p-y;for(let L=0;L<A.length;L+=1){if(O+A[L].length>=R){T=L;break}O+=A[L].length+1}const G=((f=A[T].match(/^ */))==null?void 0:f[0])||"",j=Math.min(G.length,n);if(j===0)return!0;let k=y;for(let L=0;L<T;L+=1)k+=A[L].length+1;return d.delete(k,k+j),p-k<=j&&d.setSelection(wt.create(d.doc,k)),!0}):t.commands.command(({tr:d})=>{const{from:f,to:p}=r,S=i.doc.textBetween(f,p,`
`,`
`).split(`
`).map(A=>{var T;const O=((T=A.match(/^ */))==null?void 0:T[0])||"",R=Math.min(O.length,n);return A.slice(R)}).join(`
`);return d.replaceWith(f,p,i.schema.text(S)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:d})=>(d.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const d=r.after();return d===void 0?!1:i.nodeAt(d)?t.commands.command(({tr:p})=>(p.setSelection(Bt.near(i.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[nb({find:Hue,type:this.type,getAttributes:t=>({language:t[1]})}),nb({find:Uue,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new si({key:new Vi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:l,schema:d}=t.state,f=d.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(wt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),Vue=Vr.create({name:"doc",topNode:!0,content:"block+"}),Gue=Vr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mi(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:d}=i.extensionManager,f=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:y})=>{if(y&&f&&l){const _=f.filter(S=>d.includes(S.type.name));p.ensureMarks(_)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),que=Vr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mi(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>nb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Wue=Vr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mi(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!oue(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,r=t();return D6(n)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:s,tr:l,dispatch:d})=>{if(d){const{$to:f}=l.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(wt.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(ht.create(l.doc,f.pos)):l.setSelection(wt.create(l.doc,f.pos));else{const y=s.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,_=y==null?void 0:y.create();_&&(l.insert(p,_),l.setSelection(wt.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Q6({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Xue=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Yue=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Kue=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Zue=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Que=iu.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[vd({find:Xue,type:this.type}),vd({find:Kue,type:this.type})]},addPasteRules(){return[Yc({find:Yue,type:this.type}),Yc({find:Zue,type:this.type})]}});const Jue="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ede="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",rb="numeric",sb="ascii",ab="alpha",Yf="asciinumeric",Vf="alphanumeric",ob="domain",t5="emoji",tde="scheme",nde="slashscheme",e2="whitespace";function ide(t,e){return t in e||(e[t]=[]),e[t]}function Dc(t,e,n){e[rb]&&(e[Yf]=!0,e[Vf]=!0),e[sb]&&(e[Yf]=!0,e[ab]=!0),e[Yf]&&(e[Vf]=!0),e[ab]&&(e[Vf]=!0),e[Vf]&&(e[ob]=!0),e[t5]&&(e[ob]=!0);for(const i in e){const r=ide(i,n);r.indexOf(t)<0&&r.push(t)}}function rde(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Fr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Fr.groups={};Fr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Fr.groups;let r;return e&&e.j?r=e:(r=new Fr(e),n&&i&&Dc(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let l=0;l<s-1;l++)r=r.tt(t[l]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Fr.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let l,d=r.go(t);if(d?(l=new Fr,Object.assign(l.j,d.j),l.jr.push.apply(l.jr,d.jr),l.jd=d.jd,l.t=d.t):l=new Fr,s){if(i)if(l.t&&typeof l.t=="string"){const f=Object.assign(rde(l.t,i),n);Dc(s,f,i)}else n&&Dc(s,n,i);l.t=s}return r.j[t]=l,l}};const Dt=(t,e,n,i,r)=>t.ta(e,n,i,r),ti=(t,e,n,i,r)=>t.tr(e,n,i,r),C4=(t,e,n,i,r)=>t.ts(e,n,i,r),$e=(t,e,n,i,r)=>t.tt(e,n,i,r),Co="WORD",lb="UWORD",n5="ASCIINUMERICAL",i5="ALPHANUMERICAL",gh="LOCALHOST",cb="TLD",ub="UTLD",R1="SCHEME",sd="SLASH_SCHEME",Cv="NUM",db="WS",Sv="NL",Kf="OPENBRACE",Zf="CLOSEBRACE",vm="OPENBRACKET",wm="CLOSEBRACKET",_m="OPENPAREN",Cm="CLOSEPAREN",Sm="OPENANGLEBRACKET",Em="CLOSEANGLEBRACKET",Am="FULLWIDTHLEFTPAREN",Tm="FULLWIDTHRIGHTPAREN",Nm="LEFTCORNERBRACKET",Im="RIGHTCORNERBRACKET",km="LEFTWHITECORNERBRACKET",Mm="RIGHTWHITECORNERBRACKET",Om="FULLWIDTHLESSTHAN",Rm="FULLWIDTHGREATERTHAN",Dm="AMPERSAND",Bm="APOSTROPHE",Lm="ASTERISK",Cl="AT",jm="BACKSLASH",Pm="BACKTICK",Fm="CARET",Nl="COLON",Ev="COMMA",zm="DOLLAR",Aa="DOT",Hm="EQUALS",Av="EXCLAMATION",Ms="HYPHEN",Qf="PERCENT",Um="PIPE",$m="PLUS",Vm="POUND",Jf="QUERY",Tv="QUOTE",r5="FULLWIDTHMIDDLEDOT",Nv="SEMI",Ta="SLASH",eh="TILDE",Gm="UNDERSCORE",s5="EMOJI",qm="SYM";var a5=Object.freeze({__proto__:null,ALPHANUMERICAL:i5,AMPERSAND:Dm,APOSTROPHE:Bm,ASCIINUMERICAL:n5,ASTERISK:Lm,AT:Cl,BACKSLASH:jm,BACKTICK:Pm,CARET:Fm,CLOSEANGLEBRACKET:Em,CLOSEBRACE:Zf,CLOSEBRACKET:wm,CLOSEPAREN:Cm,COLON:Nl,COMMA:Ev,DOLLAR:zm,DOT:Aa,EMOJI:s5,EQUALS:Hm,EXCLAMATION:Av,FULLWIDTHGREATERTHAN:Rm,FULLWIDTHLEFTPAREN:Am,FULLWIDTHLESSTHAN:Om,FULLWIDTHMIDDLEDOT:r5,FULLWIDTHRIGHTPAREN:Tm,HYPHEN:Ms,LEFTCORNERBRACKET:Nm,LEFTWHITECORNERBRACKET:km,LOCALHOST:gh,NL:Sv,NUM:Cv,OPENANGLEBRACKET:Sm,OPENBRACE:Kf,OPENBRACKET:vm,OPENPAREN:_m,PERCENT:Qf,PIPE:Um,PLUS:$m,POUND:Vm,QUERY:Jf,QUOTE:Tv,RIGHTCORNERBRACKET:Im,RIGHTWHITECORNERBRACKET:Mm,SCHEME:R1,SEMI:Nv,SLASH:Ta,SLASH_SCHEME:sd,SYM:qm,TILDE:eh,TLD:cb,UNDERSCORE:Gm,UTLD:ub,UWORD:lb,WORD:Co,WS:db});const bo=/[a-z]/,Bf=new RegExp("\\p{L}","u"),t2=new RegExp("\\p{Emoji}","u"),vo=/\d/,n2=/\s/,S4="\r",i2=`
`,sde="",ade="",r2="";let x1=null,y1=null;function ode(t=[]){const e={};Fr.groups=e;const n=new Fr;x1==null&&(x1=E4(Jue)),y1==null&&(y1=E4(ede)),$e(n,"'",Bm),$e(n,"{",Kf),$e(n,"}",Zf),$e(n,"[",vm),$e(n,"]",wm),$e(n,"(",_m),$e(n,")",Cm),$e(n,"<",Sm),$e(n,">",Em),$e(n,"",Am),$e(n,"",Tm),$e(n,"",Nm),$e(n,"",Im),$e(n,"",km),$e(n,"",Mm),$e(n,"",Om),$e(n,"",Rm),$e(n,"&",Dm),$e(n,"*",Lm),$e(n,"@",Cl),$e(n,"`",Pm),$e(n,"^",Fm),$e(n,":",Nl),$e(n,",",Ev),$e(n,"$",zm),$e(n,".",Aa),$e(n,"=",Hm),$e(n,"!",Av),$e(n,"-",Ms),$e(n,"%",Qf),$e(n,"|",Um),$e(n,"+",$m),$e(n,"#",Vm),$e(n,"?",Jf),$e(n,'"',Tv),$e(n,"/",Ta),$e(n,";",Nv),$e(n,"~",eh),$e(n,"_",Gm),$e(n,"\\",jm),$e(n,"",r5);const i=ti(n,vo,Cv,{[rb]:!0});ti(i,vo,i);const r=ti(i,bo,n5,{[Yf]:!0}),s=ti(i,Bf,i5,{[Vf]:!0}),l=ti(n,bo,Co,{[sb]:!0});ti(l,vo,r),ti(l,bo,l),ti(r,vo,r),ti(r,bo,r);const d=ti(n,Bf,lb,{[ab]:!0});ti(d,bo),ti(d,vo,s),ti(d,Bf,d),ti(s,vo,s),ti(s,bo),ti(s,Bf,s);const f=$e(n,i2,Sv,{[e2]:!0}),p=$e(n,S4,db,{[e2]:!0}),y=ti(n,n2,db,{[e2]:!0});$e(n,r2,y),$e(p,i2,f),$e(p,r2,y),ti(p,n2,y),$e(y,S4),$e(y,i2),ti(y,n2,y),$e(y,r2,y);const _=ti(n,t2,s5,{[t5]:!0});$e(_,"#"),ti(_,t2,_),$e(_,sde,_);const S=$e(_,ade);$e(S,"#"),ti(S,t2,_);const A=[[bo,l],[vo,r]],T=[[bo,null],[Bf,d],[vo,s]];for(let O=0;O<x1.length;O++)bl(n,x1[O],cb,Co,A);for(let O=0;O<y1.length;O++)bl(n,y1[O],ub,lb,T);Dc(cb,{tld:!0,ascii:!0},e),Dc(ub,{utld:!0,alpha:!0},e),bl(n,"file",R1,Co,A),bl(n,"mailto",R1,Co,A),bl(n,"http",sd,Co,A),bl(n,"https",sd,Co,A),bl(n,"ftp",sd,Co,A),bl(n,"ftps",sd,Co,A),Dc(R1,{scheme:!0,ascii:!0},e),Dc(sd,{slashscheme:!0,ascii:!0},e),t=t.sort((O,R)=>O[0]>R[0]?1:-1);for(let O=0;O<t.length;O++){const R=t[O][0],G=t[O][1]?{[tde]:!0}:{[nde]:!0};R.indexOf("-")>=0?G[ob]=!0:bo.test(R)?vo.test(R)?G[Yf]=!0:G[sb]=!0:G[rb]=!0,C4(n,R,R,G)}return C4(n,"localhost",gh,{ascii:!0}),n.jd=new Fr(qm),{start:n,tokens:Object.assign({groups:e},a5)}}function o5(t,e){const n=lde(e.replace(/[A-Z]/g,d=>d.toLowerCase())),i=n.length,r=[];let s=0,l=0;for(;l<i;){let d=t,f=null,p=0,y=null,_=-1,S=-1;for(;l<i&&(f=d.go(n[l]));)d=f,d.accepts()?(_=0,S=0,y=d):_>=0&&(_+=n[l].length,S++),p+=n[l].length,s+=n[l].length,l++;s-=_,l-=S,p-=_,r.push({t:y.t,v:e.slice(s-p,s),s:s-p,e:s})}return r}function lde(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,l=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(l),i+=l.length}return e}function bl(t,e,n,i,r){let s;const l=e.length;for(let d=0;d<l-1;d++){const f=e[d];t.j[f]?s=t.j[f]:(s=new Fr(i),s.jr=r.slice(),t.j[f]=s),t=s}return s=new Fr(n),s.jr=r.slice(),t.j[e[l-1]]=s,s}function E4(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(i,i+s),10);l>0;l--)n.pop();i+=s}else n.push(t[i]),i++}return e}const xh={defaultProtocol:"http",events:null,format:A4,formatHref:A4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Iv(t,e=null){let n=Object.assign({},xh);t&&(n=Object.assign(n,t instanceof Iv?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}Iv.prototype={o:xh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:xh[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function A4(t){return t}function l5(t,e){this.t="token",this.v=t,this.tk=e}l5.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=xh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),l={},d=t.get("className",n,e),f=t.get("target",n,e),p=t.get("rel",n,e),y=t.getObj("attributes",n,e),_=t.getObj("events",n,e);return l.href=i,d&&(l.class=d),f&&(l.target=f),p&&(l.rel=p),y&&Object.assign(l,y),{tagName:r,attributes:l,content:s,eventListeners:_}}};function A0(t,e){class n extends l5{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const T4=A0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),N4=A0("text"),cde=A0("nl"),b1=A0("url",{isLink:!0,toHref(t=xh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==gh&&t[1].t===Nl}}),ks=t=>new Fr(t);function ude({groups:t}){const e=t.domain.concat([Dm,Lm,Cl,jm,Pm,Fm,zm,Hm,Ms,Cv,Qf,Um,$m,Vm,Ta,qm,eh,Gm]),n=[Bm,Nl,Ev,Aa,Av,Qf,Jf,Tv,Nv,Sm,Em,Kf,Zf,wm,vm,_m,Cm,Am,Tm,Nm,Im,km,Mm,Om,Rm],i=[Dm,Bm,Lm,jm,Pm,Fm,zm,Hm,Ms,Kf,Zf,Qf,Um,$m,Vm,Jf,Ta,qm,eh,Gm],r=ks(),s=$e(r,eh);Dt(s,i,s),Dt(s,t.domain,s);const l=ks(),d=ks(),f=ks();Dt(r,t.domain,l),Dt(r,t.scheme,d),Dt(r,t.slashscheme,f),Dt(l,i,s),Dt(l,t.domain,l);const p=$e(l,Cl);$e(s,Cl,p),$e(d,Cl,p),$e(f,Cl,p);const y=$e(s,Aa);Dt(y,i,s),Dt(y,t.domain,s);const _=ks();Dt(p,t.domain,_),Dt(_,t.domain,_);const S=$e(_,Aa);Dt(S,t.domain,_);const A=ks(T4);Dt(S,t.tld,A),Dt(S,t.utld,A),$e(p,gh,A);const T=$e(_,Ms);$e(T,Ms,T),Dt(T,t.domain,_),Dt(A,t.domain,_),$e(A,Aa,S),$e(A,Ms,T);const O=$e(A,Nl);Dt(O,t.numeric,T4);const R=$e(l,Ms),B=$e(l,Aa);$e(R,Ms,R),Dt(R,t.domain,l),Dt(B,i,s),Dt(B,t.domain,l);const G=ks(b1);Dt(B,t.tld,G),Dt(B,t.utld,G),Dt(G,t.domain,l),Dt(G,i,s),$e(G,Aa,B),$e(G,Ms,R),$e(G,Cl,p);const j=$e(G,Nl),k=ks(b1);Dt(j,t.numeric,k);const D=ks(b1),L=ks();Dt(D,e,D),Dt(D,n,L),Dt(L,e,D),Dt(L,n,L),$e(G,Ta,D),$e(k,Ta,D);const z=$e(d,Nl),V=$e(f,Nl),X=$e(V,Ta),ie=$e(X,Ta);Dt(d,t.domain,l),$e(d,Aa,B),$e(d,Ms,R),Dt(f,t.domain,l),$e(f,Aa,B),$e(f,Ms,R),Dt(z,t.domain,D),$e(z,Ta,D),$e(z,Jf,D),Dt(ie,t.domain,D),Dt(ie,e,D),$e(ie,Ta,D);const ae=[[Kf,Zf],[vm,wm],[_m,Cm],[Sm,Em],[Am,Tm],[Nm,Im],[km,Mm],[Om,Rm]];for(let ue=0;ue<ae.length;ue++){const[Ie,Se]=ae[ue],te=$e(D,Ie);$e(L,Ie,te),$e(te,Se,D);const Z=ks(b1);Dt(te,e,Z);const le=ks();Dt(te,n),Dt(Z,e,Z),Dt(Z,n,le),Dt(le,e,Z),Dt(le,n,le),$e(Z,Se,D),$e(le,Se,D)}return $e(r,gh,G),$e(r,Sv,cde),{start:r,tokens:a5}}function dde(t,e,n){let i=n.length,r=0,s=[],l=[];for(;r<i;){let d=t,f=null,p=null,y=0,_=null,S=-1;for(;r<i&&!(f=d.go(n[r].t));)l.push(n[r++]);for(;r<i&&(p=f||d.go(n[r].t));)f=null,d=p,d.accepts()?(S=0,_=d):S>=0&&S++,r++,y++;if(S<0)r-=y,r<i&&(l.push(n[r]),r++);else{l.length>0&&(s.push(s2(N4,e,l)),l=[]),r-=S,y-=S;const A=_.t,T=n.slice(r-y,r);s.push(s2(A,e,T))}}return l.length>0&&s.push(s2(N4,e,l)),s}function s2(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const fde=typeof console<"u"&&console&&console.warn||(()=>{}),hde="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pde(){return Fr.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function I4(t,e=!1){if(Ln.initialized&&fde(`linkifyjs: already initialized - will not register custom scheme "${t}" ${hde}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([t,e])}function mde(){Ln.scanner=ode(Ln.customSchemes);for(let t=0;t<Ln.tokenQueue.length;t++)Ln.tokenQueue[t][1]({scanner:Ln.scanner});Ln.parser=ude(Ln.scanner.tokens);for(let t=0;t<Ln.pluginQueue.length;t++)Ln.pluginQueue[t][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function kv(t){return Ln.initialized||mde(),dde(Ln.parser.start,t,o5(Ln.scanner.start,t))}kv.scan=o5;function c5(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new Iv(n),r=kv(t),s=[];for(let l=0;l<r.length;l++){const d=r[l];d.isLink&&(!e||d.t===e)&&i.check(d)&&s.push(d.toFormattedObject(i))}return s}var Mv="[\0- -\u2029]",gde=new RegExp(Mv),xde=new RegExp(`${Mv}$`),yde=new RegExp(Mv,"g");function bde(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function vde(t){return new si({key:new Vi("autolink"),appendTransaction:(e,n,i)=>{const r=e.some(p=>p.docChanged)&&!n.doc.eq(i.doc),s=e.some(p=>p.getMeta("preventAutolink"));if(!r||s)return;const{tr:l}=i,d=C6(n.doc,[...e]);if(O6(d).forEach(({newRange:p})=>{const y=Cle(i.doc,p,A=>A.isTextblock);let _,S;if(y.length>1)_=y[0],S=i.doc.textBetween(_.pos,_.pos+_.node.nodeSize,void 0," ");else if(y.length){const A=i.doc.textBetween(p.from,p.to," "," ");if(!xde.test(A))return;_=y[0],S=i.doc.textBetween(_.pos,p.to,void 0," ")}if(_&&S){const A=S.split(gde).filter(Boolean);if(A.length<=0)return!1;const T=A[A.length-1],O=_.pos+S.lastIndexOf(T);if(!T)return!1;const R=kv(T).map(B=>B.toObject(t.defaultProtocol));if(!bde(R))return!1;R.filter(B=>B.isLink).map(B=>({...B,from:O+B.start+1,to:O+B.end+1})).filter(B=>i.schema.marks.code?!i.doc.rangeHasMark(B.from,B.to,i.schema.marks.code):!0).filter(B=>t.validate(B.value)).filter(B=>t.shouldAutoLink(B.value)).forEach(B=>{vv(B.from,B.to,i.doc).some(G=>G.mark.type===t.type)||l.addMark(B.from,B.to,t.type.create({href:B.href}))})}}),!!l.steps.length)return l}})}function wde(t){return new si({key:new Vi("handleClickLink"),props:{handleClick:(e,n,i)=>{var r,s;if(i.button!==0||!e.editable)return!1;let l=null;if(i.target instanceof HTMLAnchorElement)l=i.target;else{let y=i.target;const _=[];for(;y.nodeName!=="DIV";)_.push(y),y=y.parentNode;l=_.find(S=>S.nodeName==="A")}if(!l)return!1;const d=M6(e.state,t.type.name),f=(r=l==null?void 0:l.href)!=null?r:d.href,p=(s=l==null?void 0:l.target)!=null?s:d.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,p),!0):!1}}})}function _de(t){return new si({key:new Vi("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:r}=e,{selection:s}=r,{empty:l}=s;if(l)return!1;let d="";i.content.forEach(p=>{d+=p.textContent});const f=c5(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Cc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&n.push(r)}),!t||t.replace(yde,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Cde=iu.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){I4(t);return}I4(t.scheme,t.optionalSlashes)})},onDestroy(){pde()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Cc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Cc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Cc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mi(this.options.HTMLAttributes,t),0]:["a",mi(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!Cc(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!Cc(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Yc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,r=c5(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Cc(l,n),protocols:n,defaultProtocol:i}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(vde({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:r=>!!Cc(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(wde({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(_de({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Sde=Object.defineProperty,Ede=(t,e)=>{for(var n in e)Sde(t,n,{get:e[n],enumerable:!0})},Ade="listItem",k4="textStyle",M4=/^\s*([-+*])\s$/,u5=Vr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ade,this.editor.getAttributes(k4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wd({find:M4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wd({find:M4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(k4),editor:this.editor})),[t]}}),d5=Vr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mi(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Tde={};Ede(Tde,{findListItemPos:()=>Bh,getNextListDepth:()=>Ov,handleBackspace:()=>fb,handleDelete:()=>hb,hasListBefore:()=>f5,hasListItemAfter:()=>Nde,hasListItemBefore:()=>h5,listItemHasSubList:()=>p5,nextListIsDeeper:()=>m5,nextListIsHigher:()=>g5});var Bh=(t,e)=>{const{$from:n}=e.selection,i=wi(t,e.schema);let r=null,s=n.depth,l=n.pos,d=null;for(;s>0&&d===null;)r=n.node(s),r.type===i?d=s:(s-=1,l-=1);return d===null?null:{$pos:e.doc.resolve(l),depth:d}},Ov=(t,e)=>{const n=Bh(t,e);if(!n)return!1;const[,i]=Rle(e,t,n.$pos.pos+4);return i},f5=(t,e,n)=>{const{$anchor:i}=t.selection,r=Math.max(0,i.pos-2),s=t.doc.resolve(r).node();return!(!s||!n.includes(s.type.name))},h5=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},p5=(t,e,n)=>{if(!n)return!1;const i=wi(t,e.schema);let r=!1;return n.descendants(s=>{s.type===i&&(r=!0)}),r},fb=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Vl(t.state,e)&&f5(t.state,e,n)){const{$anchor:d}=t.state.selection,f=t.state.doc.resolve(d.before()-1),p=[];f.node().descendants((S,A)=>{S.type.name===e&&p.push({node:S,pos:A})});const y=p.at(-1);if(!y)return!1;const _=t.state.doc.resolve(f.start()+y.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},_.end()).joinForward().run()}if(!Vl(t.state,e)||!jle(t.state))return!1;const i=Bh(e,t.state);if(!i)return!1;const s=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),l=p5(e,t.state,s);return h5(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},m5=(t,e)=>{const n=Ov(t,e),i=Bh(t,e);return!i||!n?!1:n>i.depth},g5=(t,e)=>{const n=Ov(t,e),i=Bh(t,e);return!i||!n?!1:n<i.depth},hb=(t,e)=>{if(!Vl(t.state,e)||!Lle(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:r}=n;return!n.empty&&i.sameParent(r)?!1:m5(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():g5(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Nde=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-i.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},x5=_i.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hb(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hb(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&fb(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&fb(t,n,i)&&(e=!0)}),e}}}}),Ide="listItem",O4="textStyle",R4=/^(\d+)\.\s$/,y5=Vr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",mi(this.options.HTMLAttributes,n),0]:["ol",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ide,this.editor.getAttributes(O4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wd({find:R4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wd({find:R4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(O4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),kde=/^\s*(\[([( |x])?\])\s$/,Mde=Vr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",mi(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const r=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),d=document.createElement("input"),f=document.createElement("div"),p=y=>{var _,S;d.ariaLabel=((S=(_=this.options.a11y)==null?void 0:_.checkboxLabel)==null?void 0:S.call(_,y,d.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};return p(t),s.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",y=>y.preventDefault()),d.addEventListener("change",y=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:_}=y.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:S})=>{const A=n();if(typeof A!="number")return!1;const T=S.doc.nodeAt(A);return S.setNodeMarkup(A,void 0,{...T==null?void 0:T.attrs,checked:_}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,_)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,_])=>{r.setAttribute(y,_)}),r.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,s.append(d,l),r.append(s,f),Object.entries(e).forEach(([y,_])=>{r.setAttribute(y,_)}),{dom:r,contentDOM:f,update:y=>y.type!==this.type?!1:(r.dataset.checked=y.attrs.checked,d.checked=y.attrs.checked,p(y),!0)}}},addInputRules(){return[wd({find:kde,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Ode=Vr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",mi(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});_i.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(u5.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(d5.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(x5.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(y5.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Mde.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Ode.configure(this.options.taskList)),t}});var Rde=Vr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Dde=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Bde=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Lde=iu.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[vd({find:Dde,type:this.type})]},addPasteRules(){return[Yc({find:Bde,type:this.type})]}}),jde=Vr.create({name:"text",group:"inline"}),Pde=iu.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",mi(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Fde(t={}){return new si({view(e){return new zde(e,t)}})}class zde{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=l=>{this[r](l)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,r=this.editorView.dom,s=r.getBoundingClientRect(),l=s.width/r.offsetWidth,d=s.height/r.offsetHeight;if(n){let _=e.nodeBefore,S=e.nodeAfter;if(_||S){let A=this.editorView.nodeDOM(this.cursorPos-(_?_.nodeSize:0));if(A){let T=A.getBoundingClientRect(),O=_?T.bottom:T.top;_&&S&&(O=(O+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let R=this.width/2*d;i={left:T.left,right:T.right,top:O-R,bottom:O+R}}}}if(!i){let _=this.editorView.coordsAtPos(this.cursorPos),S=this.width/2*l;i={left:_.left-S,right:_.left+S,top:_.top,bottom:_.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,y;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,y=-pageYOffset;else{let _=f.getBoundingClientRect(),S=_.width/f.offsetWidth,A=_.height/f.offsetHeight;p=_.left-f.scrollLeft*S,y=_.top-f.scrollTop*A}this.element.style.left=(i.left-p)/l+"px",this.element.style.top=(i.top-y)/d+"px",this.element.style.width=(i.right-i.left)/l+"px",this.element.style.height=(i.bottom-i.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=w8(this.editorView.state.doc,l,this.editorView.dragging.slice);d!=null&&(l=d)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ii extends Bt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ii.valid(i)?new ii(i):Bt.near(i)}content(){return Xe.empty}eq(e){return e instanceof ii&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ii(e.resolve(n.pos))}getBookmark(){return new Rv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Hde(e)||!Ude(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ii.valid(e))return e;let r=e.pos,s=null;for(let l=e.depth;;l--){let d=e.node(l);if(n>0?e.indexAfter(l)<d.childCount:e.index(l)>0){s=d.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;r+=n;let f=e.doc.resolve(r);if(ii.valid(f))return f}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!ht.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),i=!1;continue e}break}s=l,r+=n;let d=e.doc.resolve(r);if(ii.valid(d))return d}return null}}}ii.prototype.visible=!1;ii.findFrom=ii.findGapCursorFrom;Bt.jsonID("gapcursor",ii);class Rv{constructor(e){this.pos=e}map(e){return new Rv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ii.valid(n)?new ii(n):Bt.near(n)}}function Hde(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Ude(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function $de(){return new si({props:{decorations:Wde,createSelectionBetween(t,e,n){return e.pos==n.pos&&ii.valid(n)?new ii(n):null},handleClick:Gde,handleKeyDown:Vde,handleDOMEvents:{beforeinput:qde}}})}const Vde=c6({ArrowLeft:v1("horiz",-1),ArrowRight:v1("horiz",1),ArrowUp:v1("vert",-1),ArrowDown:v1("vert",1)});function v1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let l=i.selection,d=e>0?l.$to:l.$from,f=l.empty;if(l instanceof wt){if(!s.endOfTextblock(n)||d.depth==0)return!1;f=!1,d=i.doc.resolve(e>0?d.after():d.before())}let p=ii.findGapCursorFrom(d,e,f);return p?(r&&r(i.tr.setSelection(new ii(p))),!0):!1}}function Gde(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ii.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&ht.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ii(i))),!0)}function qde(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ii))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=je.empty;for(let l=i.length-1;l>=0;l--)r=je.from(i[l].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Xe(r,0,0));return s.setSelection(wt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Wde(t){if(!(t.selection instanceof ii))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Yn.create(t.doc,[Cr.widget(t.selection.head,e,{key:"gapcursor"})])}var Wm=200,$i=function(){};$i.prototype.append=function(e){return e.length?(e=$i.from(e),!this.length&&e||e.length<Wm&&this.leafAppend(e)||this.length<Wm&&e.leafPrepend(this)||this.appendInner(e)):this};$i.prototype.prepend=function(e){return e.length?$i.from(e).append(this):this};$i.prototype.appendInner=function(e){return new Xde(this,e)};$i.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?$i.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};$i.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};$i.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};$i.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,l){return r.push(e(s,l))},n,i),r};$i.from=function(e){return e instanceof $i?e:e&&e.length?new b5(e):$i.empty};var b5=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,l,d){for(var f=s;f<l;f++)if(r(this.values[f],d+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,l,d){for(var f=s-1;f>=l;f--)if(r(this.values[f],d+f)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Wm)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Wm)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}($i);$i.empty=new b5([]);var Xde=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,l){var d=this.left.length;if(r<d&&this.left.forEachInner(i,r,Math.min(s,d),l)===!1||s>d&&this.right.forEachInner(i,Math.max(r-d,0),Math.min(this.length,s)-d,l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,l){var d=this.left.length;if(r>d&&this.right.forEachInvertedInner(i,r-d,Math.max(s,d)-d,l+d)===!1||s<d&&this.left.forEachInvertedInner(i,Math.min(r,d),s,l)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}($i);const Yde=500;class Ks{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;n&&(r=this.remapping(i,this.items.length),s=r.maps.length);let l=e.tr,d,f,p=[],y=[];return this.items.forEach((_,S)=>{if(!_.step){r||(r=this.remapping(i,S+1),s=r.maps.length),s--,y.push(_);return}if(r){y.push(new Na(_.map));let A=_.step.map(r.slice(s)),T;A&&l.maybeStep(A).doc&&(T=l.mapping.maps[l.mapping.maps.length-1],p.push(new Na(T,void 0,void 0,p.length+y.length))),s--,T&&r.appendMap(T,s)}else l.maybeStep(_.step);if(_.selection)return d=r?_.selection.map(r.slice(s)):_.selection,f=new Ks(this.items.slice(0,i).append(y.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:d}}addTransform(e,n,i,r){let s=[],l=this.eventCount,d=this.items,f=!r&&d.length?d.get(d.length-1):null;for(let y=0;y<e.steps.length;y++){let _=e.steps[y].invert(e.docs[y]),S=new Na(e.mapping.maps[y],_,n),A;(A=f&&f.merge(S))&&(S=A,y?s.pop():d=d.slice(0,d.length-1)),s.push(S),n&&(l++,n=void 0),r||(f=S)}let p=l-i.depth;return p>Zde&&(d=Kde(d,p),l-=p),new Ks(d.append(s),l)}remapping(e,n){let i=new ch;return this.items.forEach((r,s)=>{let l=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,l)},e,n),i}addMaps(e){return this.eventCount==0?this:new Ks(this.items.append(e.map(n=>new Na(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,d=this.eventCount;this.items.forEach(S=>{S.selection&&d--},r);let f=n;this.items.forEach(S=>{let A=s.getMirror(--f);if(A==null)return;l=Math.min(l,A);let T=s.maps[A];if(S.step){let O=e.steps[A].invert(e.docs[A]),R=S.selection&&S.selection.map(s.slice(f+1,A));R&&d++,i.push(new Na(T,O,R))}else i.push(new Na(T))},r);let p=[];for(let S=n;S<l;S++)p.push(new Na(s.maps[S]));let y=this.items.slice(0,r).append(p).append(i),_=new Ks(y,d);return _.emptyItemCount()>Yde&&(_=_.compress(this.items.length-i.length)),_}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],s=0;return this.items.forEach((l,d)=>{if(d>=e)r.push(l),l.selection&&s++;else if(l.step){let f=l.step.map(n.slice(i)),p=f&&f.getMap();if(i--,p&&n.appendMap(p,i),f){let y=l.selection&&l.selection.map(n.slice(i));y&&s++;let _=new Na(p.invert(),f,y),S,A=r.length-1;(S=r.length&&r[A].merge(_))?r[A]=S:r.push(_)}}else l.map&&i--},this.items.length,0),new Ks($i.from(r.reverse()),s)}}Ks.empty=new Ks($i.empty,0);function Kde(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}class Na{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Na(n.getMap().invert(),n,this.selection)}}}class Sl{constructor(e,n,i,r,s){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const Zde=20;function Qde(t,e,n,i){let r=n.getMeta(zc),s;if(r)return r.historyState;n.getMeta(tfe)&&(t=new Sl(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(zc))return l.getMeta(zc).redo?new Sl(t.done.addTransform(n,void 0,i,D1(e)),t.undone,D4(n.mapping.maps),t.prevTime,t.prevComposition):new Sl(t.done,t.undone.addTransform(n,void 0,i,D1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Jde(n,t.prevRanges)),p=l?a2(t.prevRanges,n.mapping):D4(n.mapping.maps);return new Sl(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,D1(e)),Ks.empty,p,n.time,d??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Sl(t.done.rebased(n,s),t.undone.rebased(n,s),a2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Sl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),a2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Jde(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function D4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,s,l)=>e.push(s,l));return e}function a2(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),s=e.map(t[i+1],-1);r<=s&&n.push(r,s)}return n}function efe(t,e,n){let i=D1(e),r=zc.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(!s)return null;let l=s.selection.resolve(s.transform.doc),d=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),f=new Sl(n?d:s.remaining,n?s.remaining:d,null,0,-1);return s.transform.setSelection(l).setMeta(zc,{redo:n,historyState:f})}let o2=!1,B4=null;function D1(t){let e=t.plugins;if(B4!=e){o2=!1,B4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){o2=!0;break}}return o2}const zc=new Vi("history"),tfe=new Vi("closeHistory");function nfe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new si({key:zc,state:{init(){return new Sl(Ks.empty,Ks.empty,null,0,-1)},apply(e,n,i){return Qde(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?w5:i=="historyRedo"?_5:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function v5(t,e){return(n,i)=>{let r=zc.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let s=efe(r,n,t);s&&i(e?s.scrollIntoView():s)}return!0}}const w5=v5(!1,!0),_5=v5(!0,!0);_i.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new si({key:new Vi("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const s=this.storage.characters({node:i.doc});if(s>r){const l=s-r,d=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const p=i.tr.deleteRange(d,f);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=i||r>i&&s>i&&s<=r)return!0;if(r>i&&s>i&&s>r||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,f=s-i,p=d-f,y=d;return e.deleteRange(p,y),!(this.storage.characters({node:e.doc})>i)}})]}});var ife=_i.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Fde(this.options)]}});_i.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new si({key:new Vi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:r}=e,s=[];if(!n||!i)return Yn.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,p)=>{if(f.isText)return;if(!(r>=p&&r<=p+f.nodeSize-1))return!1;l+=1});let d=0;return t.descendants((f,p)=>{if(f.isText||!(r>=p&&r<=p+f.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&l-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";s.push(Cr.node(p,p+f.nodeSize,{class:this.options.className}))}),Yn.create(t,s)}}})]}});var rfe=_i.create({name:"gapCursor",addProseMirrorPlugins(){return[$de()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=wn(ft(t,"allowGapCursor",n)))!=null?e:null}}});_i.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new si({key:new Vi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,d)=>{const f=i>=d&&i<=d+l.nodeSize,p=!l.isLeaf&&C0(l);if((f||!this.options.showOnlyCurrent)&&p){const y=[this.options.emptyNodeClass];s&&y.push(this.options.emptyEditorClass);const _=Cr.node(d,d+l.nodeSize,{class:y.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:d,hasAnchor:f}):this.options.placeholder});r.push(_)}return this.options.includeChildren}),Yn.create(t,r)}}})]}});_i.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new si({key:new Vi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||D6(n.selection)||t.view.dragging?null:Yn.create(n.doc,[Cr.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function L4({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var sfe=_i.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Vi(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new si({key:t,appendTransaction:(n,i,r)=>{const{doc:s,tr:l,schema:d}=r,f=t.getState(r),p=s.content.size,y=d.nodes[this.options.node];if(f)return l.insert(p,y.create())},state:{init:(n,i)=>{const r=i.tr.doc.lastChild;return!L4({node:r,types:e})},apply:(n,i)=>{if(!n.docChanged)return i;const r=n.doc.lastChild;return!L4({node:r,types:e})}}})]}}),afe=_i.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>w5(t,e),redo:()=>({state:t,dispatch:e})=>_5(t,e)}},addProseMirrorPlugins(){return[nfe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ofe=_i.create({name:"starterKit",addExtensions(){var t,e,n,i;const r=[];return this.options.bold!==!1&&r.push(jue.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(Oue.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(u5.configure(this.options.bulletList)),this.options.code!==!1&&r.push(zue.configure(this.options.code)),this.options.codeBlock!==!1&&r.push($ue.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(Vue.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(ife.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(rfe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(Gue.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(que.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(afe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(Wue.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(Que.configure(this.options.italic)),this.options.listItem!==!1&&r.push(d5.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(x5.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(Cde.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(y5.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(Rde.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(Lde.configure(this.options.strike)),this.options.text!==!1&&r.push(jde.configure(this.options.text)),this.options.underline!==!1&&r.push(Pde.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(sfe.configure((i=this.options)==null?void 0:i.trailingNode)),r}}),lfe=ofe,cfe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ufe=Vr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",mi(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Q6({find:cfe,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),dfe=ufe;const ffe="_editorWrapper_1qbzy_1",hfe="_menuBar_1qbzy_15",pfe="_isActive_1qbzy_67",mfe="_divider_1qbzy_77",gfe="_editorContent_1qbzy_91",Ao={editorWrapper:ffe,menuBar:hfe,isActive:pfe,divider:mfe,editorContent:gfe};async function xfe(t){try{const e=new FormData;return e.append("image",t),(await mt.post("/api/upload/image",e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(e){return console.error("  :",e),alert("    ."),null}}function yfe({editor:t}){const e=P.useRef(null);if(!t)return null;const n=async i=>{const r=Array.from(i.target.files);if(r.length!==0){i.target.value="",t.chain().focus();for(const s of r){const l=await xfe(s);l&&t.chain().setImage({src:l}).run()}}};return b.jsxs("div",{className:Ao.menuBar,children:[b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?Ao.isActive:"",children:b.jsx("b",{children:"B"})}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?Ao.isActive:"",children:b.jsx("i",{children:"I"})}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?Ao.isActive:"",children:b.jsx("s",{children:"S"})}),b.jsx("div",{className:Ao.divider}),[1,2,3].map(i=>b.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:i}).run(),className:t.isActive("heading",{level:i})?Ao.isActive:"",children:["H",i]},i)),b.jsx("div",{className:Ao.divider}),b.jsx("button",{type:"button",onClick:()=>e.current.click(),children:" "}),b.jsx("input",{type:"file",ref:e,onChange:n,style:{display:"none"},accept:"image/*",multiple:!0})]})}function Dv({content:t,onChange:e}){const n=P.useRef(!0),i=Tue({extensions:[lfe.configure({heading:{levels:[1,2,3]}}),dfe.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:r})=>{n.current||e(r.getHTML())},editorProps:{attributes:{class:Ao.editorContent}}});return P.useEffect(()=>{i&&(n.current&&(n.current=!1),!(!t||i.getHTML()===t)&&i.commands.setContent(t,{emitUpdate:!1}))},[t,i]),b.jsxs("div",{className:Ao.editorWrapper,children:[b.jsx(yfe,{editor:i}),b.jsx(vue,{editor:i})]})}function bfe({data:t,setData:e,onFileChange:n}){var D,L;const[i,r]=P.useState(""),[s,l]=P.useState(!1),[d,f]=P.useState(null),p=P.useRef(null);P.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&f(t.gallery_image)},[t.gallery_image]),P.useEffect(()=>{if(typeof t.gallery_sns=="string")try{const z=JSON.parse(t.gallery_sns);e(V=>({...V,gallery_sns:z}))}catch(z){console.error("SNS   :",z),e(V=>({...V,gallery_sns:[]}))}},[t.gallery_sns,e]);const y=z=>{z.type==="compositionstart"&&l(!0),z.type==="compositionend"&&l(!1)},_=z=>{if(!s&&z.key==="Enter"&&i.trim()!==""){z.preventDefault();const V=i.trim(),X=t.gallery_category?t.gallery_category.split(",").map(ie=>ie.trim()):[];if(!X.includes(V)){const ie=[...X,V].join(", ");e(ae=>({...ae,gallery_category:ie}))}r("")}},S=z=>{const X=t.gallery_category.split(",").map(ie=>ie.trim()).filter(ie=>ie!==z).join(", ");e(ie=>({...ie,gallery_category:X}))},A=z=>{const{name:V,value:X}=z.target;e(ie=>({...ie,[V]:X}))},T=["","","","","","",""],O=z=>{const{value:V,checked:X}=z.target,ie=t.gallery_closed_day?t.gallery_closed_day.split(",").map(Ie=>Ie.trim()):[];let ae;X?ae=[...new Set([...ie,V])]:ae=ie.filter(Ie=>Ie!==V);const ue=T;ae.sort((Ie,Se)=>ue.indexOf(Ie)-ue.indexOf(Se)),e(Ie=>({...Ie,gallery_closed_day:ae.join(", ")}))},R=(z,V)=>{e(X=>{let ie=Array.isArray(X.gallery_sns)?[...X.gallery_sns]:[];const ae=ie.findIndex(ue=>ue.type===z);return ae!==-1?ie[ae].url=V:ie.push({type:z,url:V}),{...X,gallery_sns:ie}})},B=z=>{e(V=>({...V,gallery_description:z}))},G=t.gallery_category?t.gallery_category.split(",").map(z=>z.trim()):[],j=z=>{const V=z.target.files[0];if(V){n(V);const X=URL.createObjectURL(V);f(X)}z.target.value=""},k=z=>{z.stopPropagation(),f(null),n(null),p.current&&(p.current.value="")};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:Me.card,children:[b.jsx("input",{className:`${Me.input} ${Me.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:A,placeholder:" "}),b.jsx("input",{className:`${Me.input} ${Me.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:A,placeholder:" "}),b.jsx("input",{type:"file",ref:p,onChange:j,accept:"image/*",style:{display:"none"}}),b.jsx("div",{className:Me.imageUploadBox,onClick:()=>p.current.click(),children:d?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:d,alt:"  ",className:Me.previewImage}),b.jsx("button",{type:"button",onClick:k,className:Me.imageDelBtn,title:" ",children:""})]}):b.jsx("p",{className:Me.previewImageDesc,children:"+    "})}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("div",{className:Me.tagInputContainer,children:[G.map(z=>b.jsxs("div",{className:Me.tagItem,children:[z,b.jsx("button",{type:"button",className:Me.removeTagBtn,onClick:()=>S(z),children:""})]},z)),b.jsx("input",{type:"text",className:Me.tagInputField,value:i,onChange:z=>r(z.target.value),onKeyDown:_,onCompositionStart:y,onCompositionEnd:y,placeholder:" "})]})]}),b.jsxs("div",{className:Me.formGrid,children:[b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("div",{className:Me.timeInputContainer,children:[b.jsx("input",{type:"time",className:Me.timeInput,name:"gallery_start_time",value:((D=t.gallery_start_time)==null?void 0:D.slice(0,5))||"",onChange:A}),b.jsx("span",{children:"~"}),b.jsx("input",{type:"time",className:Me.timeInput,name:"gallery_end_time",value:((L=t.gallery_end_time)==null?void 0:L.slice(0,5))||"",onChange:A})]})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("div",{className:Me.checkboxGroup,children:T.map(z=>{var V;return b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",name:"closedDays",value:z,checked:(V=t.gallery_closed_day)==null?void 0:V.includes(z),onChange:O})," ",z]},z)})})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:A})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"gallery_address",value:t.gallery_address||"",onChange:A})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:A})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:A})]})]})]}),b.jsxs("div",{className:`${Me.card} ${Me.snsCard}`,children:[b.jsx("label",{className:Me.label,children:"SNS"}),b.jsx("div",{className:Me.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"facebook",placeholder:"Facebook "},{type:"twitter",placeholder:"Twitter "}].map(({type:z,placeholder:V})=>{var ie;const X=Array.isArray(t.gallery_sns)&&((ie=t.gallery_sns.find(ae=>ae.type===z))==null?void 0:ie.url)||"";return b.jsx("input",{className:Me.input,placeholder:V,value:X,onChange:ae=>R(z,ae.target.value)},z)})})]}),b.jsxs("div",{className:`${Me.card} ${Me.tiptap}`,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx(Dv,{content:t.gallery_description||"",onChange:B})]})]})}function vfe({data:t,setData:e,onFileChange:n}){var S,A;const[i,r]=P.useState(null),s=P.useRef(null);P.useEffect(()=>{t.exhibition_poster&&typeof t.exhibition_poster=="string"&&r(t.exhibition_poster)},[t.exhibition_poster]);const l=T=>{T.stopPropagation(),r(null),n(null),s.current&&(s.current.value="")},d=T=>{const{name:O,value:R}=T.target;e(B=>({...B,[O]:R}))},f=T=>{e(O=>({...O,exhibition_description:T}))},p=T=>{const O=T.target.files[0];if(O){n(O);const R=URL.createObjectURL(O);r(R)}T.target.value=""},y=["","","","","","",""],_=T=>{const{value:O,checked:R}=T.target,B=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(k=>k.trim()):[];let G;R?G=[...new Set([...B,O])]:G=B.filter(k=>k!==O);const j=y;G.sort((k,D)=>j.indexOf(k)-j.indexOf(D)),e(k=>({...k,exhibition_closed_day:G.join(", ")}))};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:Me.card,children:[b.jsx("input",{className:`${Me.input} ${Me.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:d,placeholder:" "}),b.jsx("input",{type:"file",ref:s,onChange:p,accept:"image/*",style:{display:"none"}}),b.jsx("div",{className:Me.imageUploadBox,onClick:()=>s.current.click(),children:i?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:i,alt:"  ",className:Me.previewImage}),b.jsx("button",{type:"button",onClick:l,className:Me.imageDelBtn,title:" ",children:""})]}):b.jsx("p",{className:Me.previewImageDesc,children:"+    "})}),b.jsxs("div",{className:Me.formGrid,children:[b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("div",{className:Me.timeInputContainer,children:[b.jsx("input",{type:"date",className:Me.timeInput,name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:d}),b.jsx("span",{children:"~"}),b.jsx("input",{type:"date",className:Me.timeInput,name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:d})]})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("div",{className:Me.timeInputContainer,children:[b.jsx("input",{type:"time",className:Me.timeInput,name:"exhibition_start_time",value:((S=t.exhibition_start_time)==null?void 0:S.slice(0,5))||"",onChange:d}),b.jsx("span",{children:"~"}),b.jsx("input",{type:"time",className:Me.timeInput,name:"exhibition_end_time",value:((A=t.exhibition_end_time)==null?void 0:A.slice(0,5))||"",onChange:d})]})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("div",{className:Me.checkboxGroup,children:y.map(T=>{var O;return b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",name:"closedDays",value:T,checked:(O=t.exhibition_closed_day)==null?void 0:O.includes(T),onChange:_})," ",T]},T)})})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:`exhibition_organization\r
`,value:t.exhibition_organization||"",onChange:d})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:d})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:d})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:d})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,type:"url",name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:d})]})]})]}),b.jsxs("div",{className:`${Me.card} ${Me.tiptap}`,children:[b.jsx("label",{className:Me.label,children:" "}),b.jsx(Dv,{content:t.exhibition_description||"",onChange:f})]})]})}const wfe="_overlay_11p9c_1",_fe="_modalBox_11p9c_27",Cfe="_header_11p9c_49",Sfe="_closeBtn_11p9c_73",Efe="_body_11p9c_87",Afe="_searchBar_11p9c_97",Tfe="_listContainer_11p9c_139",Nfe="_artistRow_11p9c_151",Ife="_artistImg_11p9c_169",kfe="_artistInfo_11p9c_185",Mfe="_name_11p9c_195",Ofe="_category_11p9c_205",Rfe="_selectBtn_11p9c_215",Dfe="_emptyState_11p9c_243",Bfe="_addNewBtn_11p9c_257",Lfe="_addFormContainer_11p9c_293",jfe="_addTitle_11p9c_305",Pfe="_imageUploadCircle_11p9c_317",Ffe="_placeholder_11p9c_353",zfe="_addInput_11p9c_375",Hfe="_formActions_11p9c_393",Ufe="_cancelBtn_11p9c_403",$fe="_confirmBtn_11p9c_405",Wn={overlay:wfe,modalBox:_fe,header:Cfe,closeBtn:Sfe,body:Efe,searchBar:Afe,listContainer:Tfe,artistRow:Nfe,artistImg:Ife,artistInfo:kfe,name:Mfe,category:Ofe,selectBtn:Rfe,emptyState:Dfe,addNewBtn:Bfe,addFormContainer:Lfe,addTitle:jfe,imageUploadCircle:Pfe,placeholder:Ffe,addInput:zfe,formActions:Hfe,cancelBtn:Ufe,confirmBtn:$fe};function Vfe({onClose:t,onSelect:e}){const[n,i]=P.useState(""),[r,s]=P.useState([]),[l,d]=P.useState(!1),[f,p]=P.useState(""),[y,_]=P.useState(null),[S,A]=P.useState(null),T=P.useRef(null),O=async(j="")=>{try{const k=await mt.get("/api/artist",{params:{search:j}});s(k.data||[])}catch(k){console.error("  :",k)}};P.useEffect(()=>{O()},[]);const R=j=>{j.key==="Enter"&&O(n)},B=j=>{const k=j.target.files[0];k&&(_(k),A(URL.createObjectURL(k)))},G=async()=>{if(!f.trim()){alert("  .");return}alert(" .")};return b.jsx("div",{className:Wn.overlay,onClick:t,children:b.jsxs("div",{className:Wn.modalBox,onClick:j=>j.stopPropagation(),children:[b.jsxs("div",{className:Wn.header,children:[b.jsx("h3",{children:" "}),b.jsx("button",{className:Wn.closeBtn,onClick:t,children:""})]}),b.jsxs("div",{className:Wn.body,children:[b.jsxs("div",{className:Wn.searchBar,children:[b.jsx("input",{value:n,onChange:j=>i(j.target.value),onKeyDown:R,placeholder:"  "}),b.jsx("button",{onClick:()=>O(n),children:b.jsx(iL,{})})]}),l?b.jsxs("div",{className:Wn.addFormContainer,children:[b.jsx("p",{className:Wn.addTitle,children:"  "}),b.jsxs("div",{className:Wn.imageUploadCircle,onClick:()=>T.current.click(),children:[S?b.jsx("img",{src:S,alt:"Preview"}):b.jsxs("div",{className:Wn.placeholder,children:[b.jsx(oL,{}),b.jsx("span",{children:" "})]}),b.jsx("input",{type:"file",ref:T,onChange:B,hidden:!0})]}),b.jsx("input",{className:Wn.addInput,placeholder:"  ",value:f,onChange:j=>p(j.target.value)}),b.jsxs("div",{className:Wn.formActions,children:[b.jsx("button",{className:Wn.cancelBtn,onClick:()=>d(!1),children:""}),b.jsx("button",{className:Wn.confirmBtn,onClick:G,children:" "})]})]}):b.jsx("div",{className:Wn.listContainer,children:r.length>0?r.map(j=>b.jsxs("div",{className:Wn.artistRow,children:[b.jsx("img",{src:j.artist_image||"/images/default_profile.png",alt:j.artist_name,className:Wn.artistImg,onError:k=>k.target.src="https://via.placeholder.com/50"}),b.jsxs("div",{className:Wn.artistInfo,children:[b.jsx("span",{className:Wn.name,children:j.artist_name}),b.jsx("span",{className:Wn.category,children:j.artist_category||"Category"})]}),b.jsx("button",{className:Wn.selectBtn,onClick:()=>e(j),children:""})]},j.id)):b.jsxs("div",{className:Wn.emptyState,children:[b.jsx("p",{children:"  ."}),b.jsxs("button",{className:Wn.addNewBtn,onClick:()=>d(!0),children:[b.jsx(nL,{}),"   "]})]})})]})]})})}function Gfe({data:t,setData:e,onFileChange:n}){var A;const[i,r]=P.useState(null),[s,l]=P.useState(!1),d=P.useRef(null),f=T=>{const O=T.target.files[0];O&&(n(O),r(URL.createObjectURL(O))),T.target.value=""},p=T=>{T.stopPropagation(),r(null),n(null),d.current&&(d.current.value="")},y=T=>{const{name:O,value:R}=T.target;e(B=>({...B,[O]:R}))},_=T=>{e(O=>({...O,art_description:T}))},S=T=>{e(O=>({...O,artist_name:T.artist_name,artist_id:T.id})),l(!1)};return P.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&r(t.art_image)},[t.art_image]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:Me.card,children:[b.jsx("input",{className:`${Me.input} ${Me.galleryNameInput}`,name:"art_title",value:t.art_title||"",onChange:y,placeholder:" "}),b.jsxs("div",{className:Me.imageSection,children:[b.jsx("input",{type:"file",ref:d,onChange:f,accept:"image/*",style:{display:"none"}}),b.jsx("div",{className:Me.imageUploadBox,onClick:()=>d.current.click(),style:{position:"relative"},children:i?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:i,alt:" ",className:Me.previewImage}),b.jsx("button",{className:Me.imageDelBtn,type:"button",onClick:p,children:""})]}):b.jsx("p",{className:Me.previewImageDesc,children:"+   "})})]}),b.jsxs("div",{className:Me.formGrid,children:[b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("select",{className:Me.input,name:"exhibition_id",value:t.exhibition_id||"",onChange:y,children:[b.jsx("option",{value:"",children:" "}),(A=t.exhibitions)==null?void 0:A.map(T=>b.jsx("option",{value:T.id,children:T.exhibition_title},T.id))]})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsxs("div",{className:Me.artistSelectRow,children:[b.jsx("input",{className:Me.input,value:t.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>l(!0),style:{cursor:"pointer"}}),b.jsx("button",{type:"button",className:Me.selectButton,onClick:()=>l(!0),children:" "})]})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{type:"number",className:Me.input,name:"art_year",value:t.art_year||"",onChange:y,placeholder:": 2025"})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"art_material",value:t.art_material||"",onChange:y,placeholder:": Oil on canvas"})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:""}),b.jsx("input",{className:Me.input,name:"art_size",value:t.art_size||"",onChange:y,placeholder:": 100x150cm"})]}),b.jsxs("div",{className:Me.inputGroup,children:[b.jsx("label",{className:Me.label,children:" "}),b.jsx("input",{className:Me.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:y,placeholder:": 02-1234-5678"})]})]})]}),b.jsxs("div",{className:`${Me.card} ${Me.tiptap}`,children:[b.jsx("label",{className:Me.label,children:" "}),b.jsx(Dv,{content:t.art_description||"",onChange:_})]}),b.jsx("div",{className:Me.card,children:b.jsxs("div",{className:Me.inputDocent,children:[b.jsx("label",{className:Me.docent,children:"AI  "}),b.jsx("textarea",{className:Me.textarea,name:"art_docent",value:t.art_docent||"",onChange:y,placeholder:"AI    ."})]})}),s&&b.jsx(Vfe,{onClose:()=>l(!1),onSelect:S})]})}const qfe={galleries:{title:" ",apiUrl:t=>t==="new"?"/api/galleries":`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" ",apiUrl:t=>t==="new"?"/api/exhibitions":`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" ",apiUrl:t=>t==="new"?"/api/arts":`/api/arts/${t}`,formImageField:"image"}},Wfe={galleries:bfe,exhibitions:vfe,artworks:Gfe};function l2({type:t}){const{id:e}=Fs(),n=Jt(),[i]=JM(),[r,s]=P.useState(null),[l,d]=P.useState(null),[f,p]=P.useState(!1),y=e==="new",_=qfe[t],S=Wfe[t];P.useEffect(()=>{_&&(async()=>{if(y){const B={},G=i.get("exhibition_id"),j=i.get("gallery_id");G&&(B.exhibition_id=G),j&&(B.gallery_id=j),s(B)}else try{const B=await mt.get(_.apiUrl(e)),G=typeof B.data=="string"?JSON.parse(B.data):B.data;s(G)}catch(B){console.error("  :",B),alert("  ."),n(`/console/${t}/${e}`)}})()},[e,_,y,i,n]);const A=()=>{window.confirm(" ?")&&n(`/console/${t}/${e}`)},T=async()=>{if(f||!r)return;if(t==="artworks"&&y){if(!r.artist_id){alert(" .");return}if(!r.art_title){alert(" .");return}if(!l){alert("  .");return}}p(!0);const R=new FormData;y||R.append("_method","PATCH");const B=["id","created_at","updated_at","user_id","artworks","exhibitions","reviews","is_liked","gallery","artist_users","artists","artist"];Object.entries(r).forEach(([G,j])=>{B.includes(G)||j!=null&&(typeof j=="object"&&!(j instanceof File)?R.append(G,JSON.stringify(j)):R.append(G,j))}),l&&R.append(_.formImageField,l);try{const G=_.apiUrl(e),j=await mt.post(G,R,{headers:{"Content-Type":"multipart/form-data"}});console.log(" :",j.data),alert(y?".":"."),n(`/console/${t}/${e}`)}catch(G){if(console.error(" :",G),G.response){console.log("  :",G.response.data);const j=typeof G.response.data=="object"?G.response.data.message||JSON.stringify(G.response.data):"  .";alert(` : ${j}`)}else alert("    .")}finally{p(!1)}},O=R=>{d(R)};return r?b.jsxs("div",{className:Ea.layout,children:[b.jsxs("header",{className:Ea.header,children:[b.jsx("button",{className:Ea.backButton,onClick:A,children:"<"}),b.jsx("h1",{className:Ea.title,children:_.title})]}),b.jsx("main",{className:Ea.formContainer,children:S&&b.jsx(S,{data:r,setData:s,onFileChange:O})}),b.jsxs("div",{className:Ea.bottomButtonContainer,children:[b.jsx("button",{className:`${Ea.button} ${Ea.saveButton}`,onClick:T,children:f?" ...":""}),b.jsx("button",{className:`${Ea.button} ${Ea.cancelButton}`,onClick:A,disabled:f,children:""})]})]}):b.jsx("div",{children:"  ..."})}const Xfe="_layout_19w3s_1",Yfe="_backButton_19w3s_17",j4={layout:Xfe,backButton:Yfe},Kfe="_container_awgxr_1",Zfe="_title_awgxr_17",Qfe="_contentBox_awgxr_29",Jfe="_inputSection_awgxr_53",ehe="_label_awgxr_65",the="_textarea_awgxr_75",nhe="_generateButton_awgxr_95",ihe="_resultSection_awgxr_123",rhe="_generatedImage_awgxr_141",she="_downloadButton_awgxr_157",ahe="_imagePlaceholder_awgxr_187",Ys={container:Kfe,title:Zfe,contentBox:Qfe,inputSection:Jfe,label:ehe,textarea:the,generateButton:nhe,resultSection:ihe,generatedImage:rhe,downloadButton:she,imagePlaceholder:ahe};function ohe(){const[t,e]=P.useState(""),[n,i]=P.useState(null),[r,s]=P.useState(!1),l=async()=>{try{const d=await pi.post("/api/console/images/generate",{text:t});console.log(d)}catch(d){console.error(d)}};return b.jsxs("div",{className:Ys.container,children:[b.jsx("h1",{className:Ys.title,children:"   "}),b.jsxs("div",{className:Ys.contentBox,children:[b.jsxs("div",{className:Ys.inputSection,children:[b.jsx("label",{className:Ys.label,children:"  "}),b.jsx("textarea",{value:t,onChange:d=>e(d.target.value),placeholder:":        ",className:Ys.textarea}),b.jsx("button",{onClick:l,className:Ys.generateButton,disabled:r,children:r?"  ...":" "})]}),b.jsx("div",{className:Ys.resultSection,children:n?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:n,alt:" ",className:Ys.generatedImage}),b.jsx("button",{className:Ys.downloadButton,onClick:()=>{const d=document.createElement("a");d.href=n,d.download="generated-image.png",document.body.appendChild(d),d.click(),document.body.removeChild(d)},children:" "})]}):b.jsx("div",{className:Ys.imagePlaceholder,children:r?"  ...":"   ."})})]})]})}function lhe(){const t=Jt(),e=()=>{t(-1)};return b.jsxs("div",{className:j4.layout,children:[b.jsx(ohe,{}),b.jsx("button",{className:j4.backButton,onClick:e,children:" "})]})}const che="_layout_4eom6_1",uhe="_notificationList_4eom6_45",dhe="_notificationItem_4eom6_61",fhe="_iconContainer_4eom6_91",hhe="_contentArea_4eom6_113",phe="_header_4eom6_121",mhe="_title_4eom6_135",ghe="_timestamp_4eom6_149",xhe="_content_4eom6_113",yhe="_errorText_4eom6_177",jr={layout:che,notificationList:uhe,notificationItem:dhe,iconContainer:fhe,contentArea:hhe,header:phe,title:mhe,timestamp:ghe,content:xhe,errorText:yhe},bhe=()=>b.jsx(aD,{size:20,className:jr.iconNotice}),vhe=t=>{const e=new Date(t),i=new Date().getTime()-e.getTime(),r=Math.floor(i/(1e3*60)),s=Math.floor(i/(1e3*60*60)),l=Math.floor(i/(1e3*60*60*24));return r<1?" ":r<60?`${r} `:s<24?`${s} `:l<7?`${l} `:e.toLocaleDateString("ko-KR")};function whe(){const{user:t,isLoading:e}=ta(),[n,i]=P.useState([]),[r,s]=P.useState(!0),[l,d]=P.useState(null),f=P.useCallback(async p=>{if(!p){d("      ."),s(!1);return}try{s(!0),d(null);const _=(await mt.get("/api/notification/user")).data.data;if(!Array.isArray(_)){i([]);return}const S=_.map(A=>({id:A.notification_id,title:A.title,content:A.body,timestamp:A.create_dtm,read:A.is_checked==="1"})).sort((A,T)=>new Date(T.timestamp).getTime()-new Date(A.timestamp).getTime());i(S)}catch(y){d(`    . (${y.message})`)}finally{s(!1)}},[]);return P.useEffect(()=>{!e&&(t!=null&&t.id)?f(t.id):!e&&!t&&s(!1)},[e,t==null?void 0:t.id,f]),r?b.jsx("div",{className:jr.layout,children:"  ..."}):l?b.jsx("div",{className:jr.layout,children:b.jsx("div",{className:jr.errorText,children:l})}):n.length===0?b.jsx("div",{className:jr.layout,children:b.jsx("h1",{children:" ."})}):b.jsx("div",{className:jr.layout,children:b.jsx("div",{className:jr.notificationList,children:n.map(p=>b.jsxs("div",{className:jr.notificationItem,children:[b.jsx("div",{className:jr.iconContainer,children:bhe()}),b.jsxs("div",{className:jr.contentArea,children:[b.jsxs("div",{className:jr.header,children:[b.jsx("span",{className:jr.title,children:p.title}),b.jsx("span",{className:jr.timestamp,children:vhe(p.timestamp)})]}),b.jsx("p",{className:jr.content,children:p.content})]})]},p.id))})})}const _he=WM([{path:"/",element:b.jsx(cD,{}),children:[{path:"/",element:b.jsx(PB,{})},{path:"/exhibitions",element:b.jsx(hj,{})},{path:"/galleries",element:b.jsx(Zj,{})},{path:"/artists",element:b.jsx(Sj,{})},{path:"/artworks",element:b.jsx(NH,{})},{path:"/search",element:b.jsx(dz,{})},{path:"/notices",element:b.jsx(zz,{})},{path:"/exhibitions/:exhibitionId",element:b.jsx($T,{})},{path:"/galleries/:galleryId",element:b.jsx(UT,{})},{path:"/artists/:artistId",element:b.jsx(IZ,{})},{path:"/notices/:noticeId",element:b.jsx(Jz,{})},{path:"/artworks/:artworkId",element:b.jsx(ET,{})},{path:"/art/:artId",element:b.jsx(bH,{})},{path:"/catalog/:catalogId",element:b.jsx(eU,{})},{path:"/nearby-galleries",element:b.jsx(n$,{})},{path:"/login",element:b.jsx(Lte,{})},{path:"/login-detail",element:b.jsx(Ite,{})},{path:"/register",element:b.jsx(fP,{})},{path:"/find",element:b.jsx(pV,{})},{path:"/announcement",element:b.jsx(AV,{})},{path:"/termspolicy",element:b.jsx(BV,{})},{path:"/reservation/:exhibitionId",element:b.jsx(UG,{})},{path:"/invitation",element:b.jsx(Cre,{})},{path:"/reservationconfirm/:reservationId",element:b.jsx(XV,{})},{element:b.jsx(mD,{}),children:[{path:"/notifications",element:b.jsx(whe,{})},{path:"/mypage",element:b.jsx(gF,{})},{path:"/mypage/edit",element:b.jsx(KF,{})},{path:"/purchase/:reservationId",element:b.jsx(Nz,{})}]},{path:"*",element:b.jsx(Bre,{})}]},{path:"/console",element:b.jsx(qW,{}),children:[{path:"/console/main",element:b.jsx(GW,{})},{path:"/console/detail",element:b.jsx(o1,{})},{path:"/console/exhibitions/:id",element:b.jsx(o1,{type:"exhibitions"})},{path:"/console/galleries/:id",element:b.jsx(o1,{type:"galleries"})},{path:"/console/artworks/:id",element:b.jsx(o1,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:b.jsx(l2,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:b.jsx(l2,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:b.jsx(l2,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:b.jsx(Dre,{})},{path:"/console/leaflet",element:b.jsx(lre,{})},{path:"/console/poster",element:b.jsx(lhe,{})}]},{path:"/scan/:id?",element:b.jsx(VU,{})}]);function Che(){return b.jsx("div",{children:b.jsx("div",{children:""})})}function She(){return b.jsx(YI,{fallback:b.jsx("div",{children:" ."}),children:b.jsx(P.Suspense,{fallback:b.jsx(Che,{}),children:b.jsx(C7,{children:b.jsx(K$,{children:b.jsx(aO,{router:_he})})})})})}F4.createRoot(document.getElementById("root")).render(b.jsx(She,{}));
