function _mergeNamespaces(t,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return reactJsxRuntime_production.Fragment=n,reactJsxRuntime_production.jsx=r,reactJsxRuntime_production.jsxs=r,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function n(ae,ue){var re=ae.length;ae.push(ue);e:for(;0<re;){var oe=re-1>>>1,Ce=ae[oe];if(0<o(Ce,ue))ae[oe]=ue,ae[re]=Ce,re=oe;else break e}}function r(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ue=ae[0],re=ae.pop();if(re!==ue){ae[0]=re;e:for(var oe=0,Ce=ae.length,Ae=Ce>>>1;oe<Ae;){var we=2*(oe+1)-1,Re=ae[we],Be=we+1,We=ae[Be];if(0>o(Re,re))Be<Ce&&0>o(We,Re)?(ae[oe]=We,ae[Be]=re,oe=Be):(ae[oe]=Re,ae[we]=re,oe=we);else if(Be<Ce&&0>o(We,re))ae[oe]=We,ae[Be]=re,oe=Be;else break e}}return ue}function o(ae,ue){var re=ae.sortIndex-ue.sortIndex;return re!==0?re:ae.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var m=[],x=[],b=1,_=null,R=3,k=!1,M=!1,P=!1,K=!1,$=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function j(ae){for(var ue=r(x);ue!==null;){if(ue.callback===null)s(x);else if(ue.startTime<=ae)s(x),ue.sortIndex=ue.expirationTime,n(m,ue);else break;ue=r(x)}}function W(ae){if(P=!1,j(ae),!M)if(r(m)!==null)M=!0,Y||(Y=!0,me());else{var ue=r(x);ue!==null&&de(W,ue.startTime-ae)}}var Y=!1,X=-1,te=5,se=-1;function pe(){return K?!0:!(t.unstable_now()-se<te)}function ge(){if(K=!1,Y){var ae=t.unstable_now();se=ae;var ue=!0;try{e:{M=!1,P&&(P=!1,G(X),X=-1),k=!0;var re=R;try{t:{for(j(ae),_=r(m);_!==null&&!(_.expirationTime>ae&&pe());){var oe=_.callback;if(typeof oe=="function"){_.callback=null,R=_.priorityLevel;var Ce=oe(_.expirationTime<=ae);if(ae=t.unstable_now(),typeof Ce=="function"){_.callback=Ce,j(ae),ue=!0;break t}_===r(m)&&s(m),j(ae)}else s(m);_=r(m)}if(_!==null)ue=!0;else{var Ae=r(x);Ae!==null&&de(W,Ae.startTime-ae),ue=!1}}break e}finally{_=null,R=re,k=!1}ue=void 0}}finally{ue?me():Y=!1}}}var me;if(typeof H=="function")me=function(){H(ge)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ve=Ee.port2;Ee.port1.onmessage=ge,me=function(){ve.postMessage(null)}}else me=function(){$(ge,0)};function de(ae,ue){X=$(function(){ae(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var ue=3;break;default:ue=R}var re=R;R=ue;try{return ae()}finally{R=re}},t.unstable_requestPaint=function(){K=!0},t.unstable_runWithPriority=function(ae,ue){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var re=R;R=ae;try{return ue()}finally{R=re}},t.unstable_scheduleCallback=function(ae,ue,re){var oe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,ae){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=re+Ce,ae={id:b++,callback:ue,priorityLevel:ae,startTime:re,expirationTime:Ce,sortIndex:-1},re>oe?(ae.sortIndex=re,n(x,ae),r(m)===null&&ae===r(x)&&(P?(G(X),X=-1):P=!0,de(W,re-oe))):(ae.sortIndex=Ce,n(m,ae),M||k||(M=!0,Y||(Y=!0,me()))),ae},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(ae){var ue=R;return function(){var re=R;R=ue;try{return ae.apply(this,arguments)}finally{R=re}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react$1={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),R=Symbol.iterator;function k(Ae){return Ae===null||typeof Ae!="object"?null:(Ae=R&&Ae[R]||Ae["@@iterator"],typeof Ae=="function"?Ae:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,K={};function $(Ae,we,Re){this.props=Ae,this.context=we,this.refs=K,this.updater=Re||M}$.prototype.isReactComponent={},$.prototype.setState=function(Ae,we){if(typeof Ae!="object"&&typeof Ae!="function"&&Ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ae,we,"setState")},$.prototype.forceUpdate=function(Ae){this.updater.enqueueForceUpdate(this,Ae,"forceUpdate")};function G(){}G.prototype=$.prototype;function H(Ae,we,Re){this.props=Ae,this.context=we,this.refs=K,this.updater=Re||M}var j=H.prototype=new G;j.constructor=H,P(j,$.prototype),j.isPureReactComponent=!0;var W=Array.isArray;function Y(){}var X={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function se(Ae,we,Re){var Be=Re.ref;return{$$typeof:t,type:Ae,key:we,ref:Be!==void 0?Be:null,props:Re}}function pe(Ae,we){return se(Ae.type,we,Ae.props)}function ge(Ae){return typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===t}function me(Ae){var we={"=":"=0",":":"=2"};return"$"+Ae.replace(/[=:]/g,function(Re){return we[Re]})}var Ee=/\/+/g;function ve(Ae,we){return typeof Ae=="object"&&Ae!==null&&Ae.key!=null?me(""+Ae.key):we.toString(36)}function de(Ae){switch(Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason;default:switch(typeof Ae.status=="string"?Ae.then(Y,Y):(Ae.status="pending",Ae.then(function(we){Ae.status==="pending"&&(Ae.status="fulfilled",Ae.value=we)},function(we){Ae.status==="pending"&&(Ae.status="rejected",Ae.reason=we)})),Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason}}throw Ae}function ae(Ae,we,Re,Be,We){var De=typeof Ae;(De==="undefined"||De==="boolean")&&(Ae=null);var ct=!1;if(Ae===null)ct=!0;else switch(De){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(Ae.$$typeof){case t:case n:ct=!0;break;case b:return ct=Ae._init,ae(ct(Ae._payload),we,Re,Be,We)}}if(ct)return We=We(Ae),ct=Be===""?"."+ve(Ae,0):Be,W(We)?(Re="",ct!=null&&(Re=ct.replace(Ee,"$&/")+"/"),ae(We,we,Re,"",function(It){return It})):We!=null&&(ge(We)&&(We=pe(We,Re+(We.key==null||Ae&&Ae.key===We.key?"":(""+We.key).replace(Ee,"$&/")+"/")+ct)),we.push(We)),1;ct=0;var at=Be===""?".":Be+":";if(W(Ae))for(var Ct=0;Ct<Ae.length;Ct++)Be=Ae[Ct],De=at+ve(Be,Ct),ct+=ae(Be,we,Re,De,We);else if(Ct=k(Ae),typeof Ct=="function")for(Ae=Ct.call(Ae),Ct=0;!(Be=Ae.next()).done;)Be=Be.value,De=at+ve(Be,Ct++),ct+=ae(Be,we,Re,De,We);else if(De==="object"){if(typeof Ae.then=="function")return ae(de(Ae),we,Re,Be,We);throw we=String(Ae),Error("Objects are not valid as a React child (found: "+(we==="[object Object]"?"object with keys {"+Object.keys(Ae).join(", ")+"}":we)+"). If you meant to render a collection of children, use an array instead.")}return ct}function ue(Ae,we,Re){if(Ae==null)return Ae;var Be=[],We=0;return ae(Ae,Be,"","",function(De){return we.call(Re,De,We++)}),Be}function re(Ae){if(Ae._status===-1){var we=Ae._result;we=we(),we.then(function(Re){(Ae._status===0||Ae._status===-1)&&(Ae._status=1,Ae._result=Re)},function(Re){(Ae._status===0||Ae._status===-1)&&(Ae._status=2,Ae._result=Re)}),Ae._status===-1&&(Ae._status=0,Ae._result=we)}if(Ae._status===1)return Ae._result.default;throw Ae._result}var oe=typeof reportError=="function"?reportError:function(Ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var we=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ae=="object"&&Ae!==null&&typeof Ae.message=="string"?String(Ae.message):String(Ae),error:Ae});if(!window.dispatchEvent(we))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ae);return}console.error(Ae)},Ce={map:ue,forEach:function(Ae,we,Re){ue(Ae,function(){we.apply(this,arguments)},Re)},count:function(Ae){var we=0;return ue(Ae,function(){we++}),we},toArray:function(Ae){return ue(Ae,function(we){return we})||[]},only:function(Ae){if(!ge(Ae))throw Error("React.Children.only expected to receive a single React element child.");return Ae}};return react_production.Activity=_,react_production.Children=Ce,react_production.Component=$,react_production.Fragment=r,react_production.Profiler=o,react_production.PureComponent=H,react_production.StrictMode=s,react_production.Suspense=m,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Ae){return X.H.useMemoCache(Ae)}},react_production.cache=function(Ae){return function(){return Ae.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Ae,we,Re){if(Ae==null)throw Error("The argument must be a React element, but you passed "+Ae+".");var Be=P({},Ae.props),We=Ae.key;if(we!=null)for(De in we.key!==void 0&&(We=""+we.key),we)!te.call(we,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&we.ref===void 0||(Be[De]=we[De]);var De=arguments.length-2;if(De===1)Be.children=Re;else if(1<De){for(var ct=Array(De),at=0;at<De;at++)ct[at]=arguments[at+2];Be.children=ct}return se(Ae.type,We,Be)},react_production.createContext=function(Ae){return Ae={$$typeof:c,_currentValue:Ae,_currentValue2:Ae,_threadCount:0,Provider:null,Consumer:null},Ae.Provider=Ae,Ae.Consumer={$$typeof:l,_context:Ae},Ae},react_production.createElement=function(Ae,we,Re){var Be,We={},De=null;if(we!=null)for(Be in we.key!==void 0&&(De=""+we.key),we)te.call(we,Be)&&Be!=="key"&&Be!=="__self"&&Be!=="__source"&&(We[Be]=we[Be]);var ct=arguments.length-2;if(ct===1)We.children=Re;else if(1<ct){for(var at=Array(ct),Ct=0;Ct<ct;Ct++)at[Ct]=arguments[Ct+2];We.children=at}if(Ae&&Ae.defaultProps)for(Be in ct=Ae.defaultProps,ct)We[Be]===void 0&&(We[Be]=ct[Be]);return se(Ae,De,We)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Ae){return{$$typeof:p,render:Ae}},react_production.isValidElement=ge,react_production.lazy=function(Ae){return{$$typeof:b,_payload:{_status:-1,_result:Ae},_init:re}},react_production.memo=function(Ae,we){return{$$typeof:x,type:Ae,compare:we===void 0?null:we}},react_production.startTransition=function(Ae){var we=X.T,Re={};X.T=Re;try{var Be=Ae(),We=X.S;We!==null&&We(Re,Be),typeof Be=="object"&&Be!==null&&typeof Be.then=="function"&&Be.then(Y,oe)}catch(De){oe(De)}finally{we!==null&&Re.types!==null&&(we.types=Re.types),X.T=we}},react_production.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},react_production.use=function(Ae){return X.H.use(Ae)},react_production.useActionState=function(Ae,we,Re){return X.H.useActionState(Ae,we,Re)},react_production.useCallback=function(Ae,we){return X.H.useCallback(Ae,we)},react_production.useContext=function(Ae){return X.H.useContext(Ae)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Ae,we){return X.H.useDeferredValue(Ae,we)},react_production.useEffect=function(Ae,we){return X.H.useEffect(Ae,we)},react_production.useEffectEvent=function(Ae){return X.H.useEffectEvent(Ae)},react_production.useId=function(){return X.H.useId()},react_production.useImperativeHandle=function(Ae,we,Re){return X.H.useImperativeHandle(Ae,we,Re)},react_production.useInsertionEffect=function(Ae,we){return X.H.useInsertionEffect(Ae,we)},react_production.useLayoutEffect=function(Ae,we){return X.H.useLayoutEffect(Ae,we)},react_production.useMemo=function(Ae,we){return X.H.useMemo(Ae,we)},react_production.useOptimistic=function(Ae,we){return X.H.useOptimistic(Ae,we)},react_production.useReducer=function(Ae,we,Re){return X.H.useReducer(Ae,we,Re)},react_production.useRef=function(Ae){return X.H.useRef(Ae)},react_production.useState=function(Ae){return X.H.useState(Ae)},react_production.useSyncExternalStore=function(Ae,we,Re){return X.H.useSyncExternalStore(Ae,we,Re)},react_production.useTransition=function(){return X.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact$1;function requireReact$1(){return hasRequiredReact$1||(hasRequiredReact$1=1,react$1.exports=requireReact_production()),react$1.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact$1();function n(m){var x="https://react.dev/errors/"+m;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,x,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:x,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,x){if(m==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(m,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return l(m,x,null,b)},reactDom_production.flushSync=function(m){var x=c.T,b=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=x,s.p=b,s.d.f()}},reactDom_production.preconnect=function(m,x){typeof m=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(m,x))},reactDom_production.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},reactDom_production.preinit=function(m,x){if(typeof m=="string"&&x&&typeof x.as=="string"){var b=x.as,_=p(b,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,k=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?s.d.S(m,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:_,integrity:R,fetchPriority:k}):b==="script"&&s.d.X(m,{crossOrigin:_,integrity:R,fetchPriority:k,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},reactDom_production.preinitModule=function(m,x){if(typeof m=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=p(x.as,x.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(m)},reactDom_production.preload=function(m,x){if(typeof m=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,_=p(b,x.crossOrigin);s.d.L(m,b,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},reactDom_production.preloadModule=function(m,x){if(typeof m=="string")if(x){var b=p(x.as,x.crossOrigin);s.d.m(m,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(m)},reactDom_production.requestFormReset=function(m){s.d.r(m)},reactDom_production.unstable_batchedUpdates=function(m,x){return m(x)},reactDom_production.useFormState=function(m,x,b){return c.H.useFormState(m,x,b)},reactDom_production.useFormStatus=function(){return c.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),n=requireReact$1(),r=requireReactDom();function s(d){var y="https://react.dev/errors/"+d;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)y+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+d+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function l(d){var y=d,B=d;if(d.alternate)for(;y.return;)y=y.return;else{d=y;do y=d,(y.flags&4098)!==0&&(B=y.return),d=y.return;while(d)}return y.tag===3?B:null}function c(d){if(d.tag===13){var y=d.memoizedState;if(y===null&&(d=d.alternate,d!==null&&(y=d.memoizedState)),y!==null)return y.dehydrated}return null}function p(d){if(d.tag===31){var y=d.memoizedState;if(y===null&&(d=d.alternate,d!==null&&(y=d.memoizedState)),y!==null)return y.dehydrated}return null}function m(d){if(l(d)!==d)throw Error(s(188))}function x(d){var y=d.alternate;if(!y){if(y=l(d),y===null)throw Error(s(188));return y!==d?null:d}for(var B=d,O=y;;){var q=B.return;if(q===null)break;var ee=q.alternate;if(ee===null){if(O=q.return,O!==null){B=O;continue}break}if(q.child===ee.child){for(ee=q.child;ee;){if(ee===B)return m(q),d;if(ee===O)return m(q),y;ee=ee.sibling}throw Error(s(188))}if(B.return!==O.return)B=q,O=ee;else{for(var ce=!1,ye=q.child;ye;){if(ye===B){ce=!0,B=q,O=ee;break}if(ye===O){ce=!0,O=q,B=ee;break}ye=ye.sibling}if(!ce){for(ye=ee.child;ye;){if(ye===B){ce=!0,B=ee,O=q;break}if(ye===O){ce=!0,O=ee,B=q;break}ye=ye.sibling}if(!ce)throw Error(s(189))}}if(B.alternate!==O)throw Error(s(190))}if(B.tag!==3)throw Error(s(188));return B.stateNode.current===B?d:y}function b(d){var y=d.tag;if(y===5||y===26||y===27||y===6)return d;for(d=d.child;d!==null;){if(y=b(d),y!==null)return y;d=d.sibling}return null}var _=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function me(d){return d===null||typeof d!="object"?null:(d=ge&&d[ge]||d["@@iterator"],typeof d=="function"?d:null)}var Ee=Symbol.for("react.client.reference");function ve(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Ee?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case P:return"Fragment";case $:return"Profiler";case K:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList";case se:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case M:return"Portal";case H:return d.displayName||"Context";case G:return(d._context.displayName||"Context")+".Consumer";case j:var y=d.render;return d=d.displayName,d||(d=y.displayName||y.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case X:return y=d.displayName||null,y!==null?y:ve(d.type)||"Memo";case te:y=d._payload,d=d._init;try{return ve(d(y))}catch{}}return null}var de=Array.isArray,ae=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},oe=[],Ce=-1;function Ae(d){return{current:d}}function we(d){0>Ce||(d.current=oe[Ce],oe[Ce]=null,Ce--)}function Re(d,y){Ce++,oe[Ce]=d.current,d.current=y}var Be=Ae(null),We=Ae(null),De=Ae(null),ct=Ae(null);function at(d,y){switch(Re(De,y),Re(We,d),Re(Be,null),y.nodeType){case 9:case 11:d=(d=y.documentElement)&&(d=d.namespaceURI)?lf(d):0;break;default:if(d=y.tagName,y=y.namespaceURI)y=lf(y),d=cf(y,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}we(Be),Re(Be,d)}function Ct(){we(Be),we(We),we(De)}function It(d){d.memoizedState!==null&&Re(ct,d);var y=Be.current,B=cf(y,d.type);y!==B&&(Re(We,d),Re(Be,B))}function mt(d){We.current===d&&(we(Be),we(We)),ct.current===d&&(we(ct),vo._currentValue=re)}var Ut,gt;function xt(d){if(Ut===void 0)try{throw Error()}catch(B){var y=B.stack.trim().match(/\n( *(at )?)/);Ut=y&&y[1]||"",gt=-1<B.stack.indexOf(`
    at`)?" (<anonymous>)":-1<B.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+d+gt}var an=!1;function Un(d,y){if(!d||an)return"";an=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(y){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(qe){var Qe=qe}Reflect.construct(d,[],rt)}else{try{rt.call()}catch(qe){Qe=qe}d.call(rt.prototype)}}else{try{throw Error()}catch(qe){Qe=qe}(rt=d())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(qe){if(qe&&Qe&&typeof qe.stack=="string")return[qe.stack,Qe.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var q=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");q&&q.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ee=O.DetermineComponentFrameRoot(),ce=ee[0],ye=ee[1];if(ce&&ye){var Te=ce.split(`
`),He=ye.split(`
`);for(q=O=0;O<Te.length&&!Te[O].includes("DetermineComponentFrameRoot");)O++;for(;q<He.length&&!He[q].includes("DetermineComponentFrameRoot");)q++;if(O===Te.length||q===He.length)for(O=Te.length-1,q=He.length-1;1<=O&&0<=q&&Te[O]!==He[q];)q--;for(;1<=O&&0<=q;O--,q--)if(Te[O]!==He[q]){if(O!==1||q!==1)do if(O--,q--,0>q||Te[O]!==He[q]){var et=`
`+Te[O].replace(" at new "," at ");return d.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",d.displayName)),et}while(1<=O&&0<=q);break}}}finally{an=!1,Error.prepareStackTrace=B}return(B=d?d.displayName||d.name:"")?xt(B):""}function Zt(d,y){switch(d.tag){case 26:case 27:case 5:return xt(d.type);case 16:return xt("Lazy");case 13:return d.child!==y&&y!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Un(d.type,!1);case 11:return Un(d.type.render,!1);case 1:return Un(d.type,!0);case 31:return xt("Activity");default:return""}}function $t(d){try{var y="",B=null;do y+=Zt(d,B),B=d,d=d.return;while(d);return y}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var Ot=Object.prototype.hasOwnProperty,In=t.unstable_scheduleCallback,pt=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,On=t.unstable_requestPaint,st=t.unstable_now,Pe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ye=t.unstable_UserBlockingPriority,Je=t.unstable_NormalPriority,bt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Wt=t.log,Xe=t.unstable_setDisableYieldValue,Ve=null,je=null;function ut(d){if(typeof Wt=="function"&&Xe(d),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ve,d)}catch{}}var ot=Math.clz32?Math.clz32:un,St=Math.log,on=Math.LN2;function un(d){return d>>>=0,d===0?32:31-(St(d)/on|0)|0}var dn=256,kt=262144,mn=4194304;function Sn(d){var y=d&42;if(y!==0)return y;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Sr(d,y,B){var O=d.pendingLanes;if(O===0)return 0;var q=0,ee=d.suspendedLanes,ce=d.pingedLanes;d=d.warmLanes;var ye=O&134217727;return ye!==0?(O=ye&~ee,O!==0?q=Sn(O):(ce&=ye,ce!==0?q=Sn(ce):B||(B=ye&~d,B!==0&&(q=Sn(B))))):(ye=O&~ee,ye!==0?q=Sn(ye):ce!==0?q=Sn(ce):B||(B=O&~d,B!==0&&(q=Sn(B)))),q===0?0:y!==0&&y!==q&&(y&ee)===0&&(ee=q&-q,B=y&-y,ee>=B||ee===32&&(B&4194048)!==0)?y:q}function Nn(d,y){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&y)===0}function Tr(d,y){switch(d){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var d=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),d}function Br(d){for(var y=[],B=0;31>B;B++)y.push(d);return y}function Zr(d,y){d.pendingLanes|=y,y!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function kr(d,y,B,O,q,ee){var ce=d.pendingLanes;d.pendingLanes=B,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=B,d.entangledLanes&=B,d.errorRecoveryDisabledLanes&=B,d.shellSuspendCounter=0;var ye=d.entanglements,Te=d.expirationTimes,He=d.hiddenUpdates;for(B=ce&~B;0<B;){var et=31-ot(B),rt=1<<et;ye[et]=0,Te[et]=-1;var Qe=He[et];if(Qe!==null)for(He[et]=null,et=0;et<Qe.length;et++){var qe=Qe[et];qe!==null&&(qe.lane&=-536870913)}B&=~rt}O!==0&&_e(d,O,0),ee!==0&&q===0&&d.tag!==0&&(d.suspendedLanes|=ee&~(ce&~y))}function _e(d,y,B){d.pendingLanes|=y,d.suspendedLanes&=~y;var O=31-ot(y);d.entangledLanes|=y,d.entanglements[O]=d.entanglements[O]|1073741824|B&261930}function Me(d,y){var B=d.entangledLanes|=y;for(d=d.entanglements;B;){var O=31-ot(B),q=1<<O;q&y|d[O]&y&&(d[O]|=y),B&=~q}}function ze(d,y){var B=y&-y;return B=(B&42)!==0?1:it(B),(B&(d.suspendedLanes|y))!==0?0:B}function it(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function ht(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function wt(){var d=ue.p;return d!==0?d:(d=window.event,d===void 0?32:Ff(d.type))}function Ze(d,y){var B=ue.p;try{return ue.p=d,y()}finally{ue.p=B}}var Et=Math.random().toString(36).slice(2),vt="__reactFiber$"+Et,yt="__reactProps$"+Et,Nt="__reactContainer$"+Et,Tt="__reactEvents$"+Et,Vt="__reactListeners$"+Et,nn="__reactHandles$"+Et,Wn="__reactResources$"+Et,Hn="__reactMarker$"+Et;function en(d){delete d[vt],delete d[yt],delete d[Tt],delete d[Vt],delete d[nn]}function zt(d){var y=d[vt];if(y)return y;for(var B=d.parentNode;B;){if(y=B[Nt]||B[vt]){if(B=y.alternate,y.child!==null||B!==null&&B.child!==null)for(d=mf(d);d!==null;){if(B=d[vt])return B;d=mf(d)}return y}d=B,B=d.parentNode}return null}function rn(d){if(d=d[vt]||d[Nt]){var y=d.tag;if(y===5||y===6||y===13||y===31||y===26||y===27||y===3)return d}return null}function Mr(d){var y=d.tag;if(y===5||y===26||y===27||y===6)return d.stateNode;throw Error(s(33))}function qn(d){var y=d[Wn];return y||(y=d[Wn]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function yn(d){d[Hn]=!0}var lt=new Set,vs={};function ln(d,y){gr(d,y),gr(d+"Capture",y)}function gr(d,y){for(vs[d]=y,d=0;d<y.length;d++)lt.add(y[d])}var Js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},Ht={};function qt(d){return Ot.call(Ht,d)?!0:Ot.call(Bt,d)?!1:Js.test(d)?Ht[d]=!0:(Bt[d]=!0,!1)}function _r(d,y,B){if(qt(y))if(B===null)d.removeAttribute(y);else{switch(typeof B){case"undefined":case"function":case"symbol":d.removeAttribute(y);return;case"boolean":var O=y.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){d.removeAttribute(y);return}}d.setAttribute(y,""+B)}}function Cn(d,y,B){if(B===null)d.removeAttribute(y);else{switch(typeof B){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(y);return}d.setAttribute(y,""+B)}}function xr(d,y,B,O){if(O===null)d.removeAttribute(B);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(B);return}d.setAttributeNS(y,B,""+O)}}function gn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Qr(d){var y=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function jl(d,y,B){var O=Object.getOwnPropertyDescriptor(d.constructor.prototype,y);if(!d.hasOwnProperty(y)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var q=O.get,ee=O.set;return Object.defineProperty(d,y,{configurable:!0,get:function(){return q.call(this)},set:function(ce){B=""+ce,ee.call(this,ce)}}),Object.defineProperty(d,y,{enumerable:O.enumerable}),{getValue:function(){return B},setValue:function(ce){B=""+ce},stopTracking:function(){d._valueTracker=null,delete d[y]}}}}function Qn(d){if(!d._valueTracker){var y=Qr(d)?"checked":"value";d._valueTracker=jl(d,y,""+d[y])}}function fs(d){if(!d)return!1;var y=d._valueTracker;if(!y)return!0;var B=y.getValue(),O="";return d&&(O=Qr(d)?d.checked?"true":"false":d.value),d=O,d!==B?(y.setValue(d),!0):!1}function Ji(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Zs=/[\n"\\]/g;function sn(d){return d.replace(Zs,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function ar(d,y,B,O,q,ee,ce,ye){d.name="",ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?d.type=ce:d.removeAttribute("type"),y!=null?ce==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+gn(y)):d.value!==""+gn(y)&&(d.value=""+gn(y)):ce!=="submit"&&ce!=="reset"||d.removeAttribute("value"),y!=null?be(d,ce,gn(y)):B!=null?be(d,ce,gn(B)):O!=null&&d.removeAttribute("value"),q==null&&ee!=null&&(d.defaultChecked=!!ee),q!=null&&(d.checked=q&&typeof q!="function"&&typeof q!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?d.name=""+gn(ye):d.removeAttribute("name")}function $e(d,y,B,O,q,ee,ce,ye){if(ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(d.type=ee),y!=null||B!=null){if(!(ee!=="submit"&&ee!=="reset"||y!=null)){Qn(d);return}B=B!=null?""+gn(B):"",y=y!=null?""+gn(y):B,ye||y===d.value||(d.value=y),d.defaultValue=y}O=O??q,O=typeof O!="function"&&typeof O!="symbol"&&!!O,d.checked=ye?d.checked:!!O,d.defaultChecked=!!O,ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"&&(d.name=ce),Qn(d)}function be(d,y,B){y==="number"&&Ji(d.ownerDocument)===d||d.defaultValue===""+B||(d.defaultValue=""+B)}function Rt(d,y,B,O){if(d=d.options,y){y={};for(var q=0;q<B.length;q++)y["$"+B[q]]=!0;for(B=0;B<d.length;B++)q=y.hasOwnProperty("$"+d[B].value),d[B].selected!==q&&(d[B].selected=q),q&&O&&(d[B].defaultSelected=!0)}else{for(B=""+gn(B),y=null,q=0;q<d.length;q++){if(d[q].value===B){d[q].selected=!0,O&&(d[q].defaultSelected=!0);return}y!==null||d[q].disabled||(y=d[q])}y!==null&&(y.selected=!0)}}function nr(d,y,B){if(y!=null&&(y=""+gn(y),y!==d.value&&(d.value=y),B==null)){d.defaultValue!==y&&(d.defaultValue=y);return}d.defaultValue=B!=null?""+gn(B):""}function Rr(d,y,B,O){if(y==null){if(O!=null){if(B!=null)throw Error(s(92));if(de(O)){if(1<O.length)throw Error(s(93));O=O[0]}B=O}B==null&&(B=""),y=B}B=gn(y),d.defaultValue=B,O=d.textContent,O===B&&O!==""&&O!==null&&(d.value=O),Qn(d)}function ei(d,y){if(y){var B=d.firstChild;if(B&&B===d.lastChild&&B.nodeType===3){B.nodeValue=y;return}}d.textContent=y}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ir(d,y,B){var O=y.indexOf("--")===0;B==null||typeof B=="boolean"||B===""?O?d.setProperty(y,""):y==="float"?d.cssFloat="":d[y]="":O?d.setProperty(y,B):typeof B!="number"||B===0||Oa.has(y)?y==="float"?d.cssFloat=B:d[y]=(""+B).trim():d[y]=B+"px"}function Dt(d,y,B){if(y!=null&&typeof y!="object")throw Error(s(62));if(d=d.style,B!=null){for(var O in B)!B.hasOwnProperty(O)||y!=null&&y.hasOwnProperty(O)||(O.indexOf("--")===0?d.setProperty(O,""):O==="float"?d.cssFloat="":d[O]="");for(var q in y)O=y[q],y.hasOwnProperty(q)&&B[q]!==O&&Ir(d,q,O)}else for(var ee in y)y.hasOwnProperty(ee)&&Ir(d,ee,y[ee])}function Ln(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(d){return $l.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Or(){}var Ni=null;function Da(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Vn=null,ns=null;function hs(d){var y=rn(d);if(y&&(d=y.stateNode)){var B=d[yt]||null;e:switch(d=y.stateNode,y.type){case"input":if(ar(d,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name),y=B.name,B.type==="radio"&&y!=null){for(B=d;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll('input[name="'+sn(""+y)+'"][type="radio"]'),y=0;y<B.length;y++){var O=B[y];if(O!==d&&O.form===d.form){var q=O[yt]||null;if(!q)throw Error(s(90));ar(O,q.value,q.defaultValue,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name)}}for(y=0;y<B.length;y++)O=B[y],O.form===d.form&&fs(O)}break e;case"textarea":nr(d,B.value,B.defaultValue);break e;case"select":y=B.value,y!=null&&Rt(d,!!B.multiple,y,!1)}}}var Pt=!1;function So(d,y,B){if(Pt)return d(y,B);Pt=!0;try{var O=d(y);return O}finally{if(Pt=!1,(Vn!==null||ns!==null)&&(ml(),Vn&&(y=Vn,d=ns,ns=Vn=null,hs(y),d)))for(y=0;y<d.length;y++)hs(d[y])}}function Gt(d,y){var B=d.stateNode;if(B===null)return null;var O=B[yt]||null;if(O===null)return null;B=O[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(B&&typeof B!="function")throw Error(s(231,y,typeof B));return B}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(Pn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){La=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{La=!1}var ps=null,ms=null,Zi=null;function ni(){if(Zi)return Zi;var d,y=ms,B=y.length,O,q="value"in ps?ps.value:ps.textContent,ee=q.length;for(d=0;d<B&&y[d]===q[d];d++);var ce=B-d;for(O=1;O<=ce&&y[B-O]===q[ee-O];O++);return Zi=q.slice(d,1<O?1-O:void 0)}function Es(d){var y=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&y===13&&(d=13)):d=y,d===10&&(d=13),32<=d||d===13?d:0}function Cs(){return!0}function Pa(){return!1}function or(d){function y(B,O,q,ee,ce){this._reactName=B,this._targetInst=q,this.type=O,this.nativeEvent=ee,this.target=ce,this.currentTarget=null;for(var ye in d)d.hasOwnProperty(ye)&&(B=d[ye],this[ye]=B?B(ee):ee[ye]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?Cs:Pa,this.isPropagationStopped=Pa,this}return _(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),y}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=or(Vr),ri=_({},Vr,{view:0,detail:0}),Bo=or(ri),ea,ja,Fi,na=_({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Fi&&(Fi&&d.type==="mousemove"?(ea=d.screenX-Fi.screenX,ja=d.screenY-Fi.screenY):ja=ea=0,Fi=d),ea)},movementY:function(d){return"movementY"in d?d.movementY:ja}}),wn=or(na),_o=_({},na,{dataTransfer:0}),ra=or(_o),ws=_({},ri,{relatedTarget:0}),$a=or(ws),Ke=_({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yt=or(Ke),hr=_({},Vr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),sa=or(hr),To=_({},Vr,{data:0}),Ro=or(To),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rr(d){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(d):(d=Ua[d])?!!y[d]:!1}function ki(){return rr}var Xn=_({},ri,{key:function(d){if(d.key){var y=Ul[d.key]||d.key;if(y!=="Unidentified")return y}return d.type==="keypress"?(d=Es(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Hl[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(d){return d.type==="keypress"?Es(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Es(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ia=or(Xn),Is=_({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bn=or(Is),jt=_({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Ql=or(jt),jn=_({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ns=or(jn),si=_({},na,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=or(si),rs=_({},Vr,{newState:0,oldState:0}),Ha=or(rs),Io=[9,13,27,32],Mi=Pn&&"CompositionEvent"in window,ii=null;Pn&&"documentMode"in document&&(ii=document.documentMode);var No=Pn&&"TextEvent"in window&&!ii,Fo=Pn&&(!Mi||ii&&8<ii&&11>=ii),Fs=" ",aa=!1;function ko(d,y){switch(d){case"keyup":return Io.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ai(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var oi=!1;function bs(d,y){switch(d){case"compositionend":return ai(y);case"keypress":return y.which!==32?null:(aa=!0,Fs);case"textInput":return d=y.data,d===Fs&&aa?null:d;default:return null}}function oa(d,y){if(oi)return d==="compositionend"||!Mi&&ko(d,y)?(d=ni(),Zi=ms=ps=null,oi=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Fo&&y.locale!=="ko"?null:y.data;default:return null}}var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(d){var y=d&&d.nodeName&&d.nodeName.toLowerCase();return y==="input"?!!Dr[d.type]:y==="textarea"}function zr(d,y,B,O){Vn?ns?ns.push(O):ns=[O]:Vn=O,y=wl(y,"onChange"),0<y.length&&(B=new dr("onChange","change",null,B,O),d.push({event:B,listeners:y}))}var Oi=null,ks=null;function zl(d){tf(d,0)}function Di(d){var y=Mr(d);if(fs(y))return d}function Gr(d,y){if(d==="change")return y}var Mo=!1;if(Pn){var Li;if(Pn){var Ms="oninput"in document;if(!Ms){var fn=document.createElement("div");fn.setAttribute("oninput","return;"),Ms=typeof fn.oninput=="function"}Li=Ms}else Li=!1;Mo=Li&&(!document.documentMode||9<document.documentMode)}function Pi(){Oi&&(Oi.detachEvent("onpropertychange",fe),ks=Oi=null)}function fe(d){if(d.propertyName==="value"&&Di(ks)){var y=[];zr(y,ks,d,Da(d)),So(zl,y)}}function g(d,y,B){d==="focusin"?(Pi(),Oi=y,ks=B,Oi.attachEvent("onpropertychange",fe)):d==="focusout"&&Pi()}function C(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Di(ks)}function S(d,y){if(d==="click")return Di(y)}function I(d,y){if(d==="input"||d==="change")return Di(y)}function N(d,y){return d===y&&(d!==0||1/d===1/y)||d!==d&&y!==y}var D=typeof Object.is=="function"?Object.is:N;function Q(d,y){if(D(d,y))return!0;if(typeof d!="object"||d===null||typeof y!="object"||y===null)return!1;var B=Object.keys(d),O=Object.keys(y);if(B.length!==O.length)return!1;for(O=0;O<B.length;O++){var q=B[O];if(!Ot.call(y,q)||!D(d[q],y[q]))return!1}return!0}function J(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ne(d,y){var B=J(d);d=0;for(var O;B;){if(B.nodeType===3){if(O=d+B.textContent.length,d<=y&&O>=y)return{node:B,offset:y-d};d=O}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=J(B)}}function le(d,y){return d&&y?d===y?!0:d&&d.nodeType===3?!1:y&&y.nodeType===3?le(d,y.parentNode):"contains"in d?d.contains(y):d.compareDocumentPosition?!!(d.compareDocumentPosition(y)&16):!1:!1}function he(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var y=Ji(d.document);y instanceof d.HTMLIFrameElement;){try{var B=typeof y.contentWindow.location.href=="string"}catch{B=!1}if(B)d=y.contentWindow;else break;y=Ji(d.document)}return y}function xe(d){var y=d&&d.nodeName&&d.nodeName.toLowerCase();return y&&(y==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||y==="textarea"||d.contentEditable==="true")}var Se=Pn&&"documentMode"in document&&11>=document.documentMode,Ie=null,Ne=null,Le=null,Ge=!1;function ft(d,y,B){var O=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;Ge||Ie==null||Ie!==Ji(O)||(O=Ie,"selectionStart"in O&&xe(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Le&&Q(Le,O)||(Le=O,O=wl(Ne,"onSelect"),0<O.length&&(y=new dr("onSelect","select",null,y,B),d.push({event:y,listeners:O}),y.target=Ie)))}function dt(d,y){var B={};return B[d.toLowerCase()]=y.toLowerCase(),B["Webkit"+d]="webkit"+y,B["Moz"+d]="moz"+y,B}var At={animationend:dt("Animation","AnimationEnd"),animationiteration:dt("Animation","AnimationIteration"),animationstart:dt("Animation","AnimationStart"),transitionrun:dt("Transition","TransitionRun"),transitionstart:dt("Transition","TransitionStart"),transitioncancel:dt("Transition","TransitionCancel"),transitionend:dt("Transition","TransitionEnd")},tn={},Kt={};Pn&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function Jn(d){if(tn[d])return tn[d];if(!At[d])return d;var y=At[d],B;for(B in y)if(y.hasOwnProperty(B)&&B in Kt)return tn[d]=y[B];return d}var Lr=Jn("animationend"),vr=Jn("animationiteration"),_n=Jn("animationstart"),pr=Jn("transitionrun"),Nr=Jn("transitionstart"),li=Jn("transitioncancel"),Os=Jn("transitionend"),Oo=new Map,Va="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Va.push("scrollEnd");function gs(d,y){Oo.set(d,y),ln(y,[d])}var Do=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},ss=[],la=0,Gl=0;function Lo(){for(var d=la,y=Gl=la=0;y<d;){var B=ss[y];ss[y++]=null;var O=ss[y];ss[y++]=null;var q=ss[y];ss[y++]=null;var ee=ss[y];if(ss[y++]=null,O!==null&&q!==null){var ce=O.pending;ce===null?q.next=q:(q.next=ce.next,ce.next=q),O.pending=q}ee!==0&&DA(B,q,ee)}}function Po(d,y,B,O){ss[la++]=d,ss[la++]=y,ss[la++]=B,ss[la++]=O,Gl|=O,d.lanes|=O,d=d.alternate,d!==null&&(d.lanes|=O)}function Kl(d,y,B,O){return Po(d,y,B,O),jo(d)}function ji(d,y){return Po(d,null,null,y),jo(d)}function DA(d,y,B){d.lanes|=B;var O=d.alternate;O!==null&&(O.lanes|=B);for(var q=!1,ee=d.return;ee!==null;)ee.childLanes|=B,O=ee.alternate,O!==null&&(O.childLanes|=B),ee.tag===22&&(d=ee.stateNode,d===null||d._visibility&1||(q=!0)),d=ee,ee=ee.return;return d.tag===3?(ee=d.stateNode,q&&y!==null&&(q=31-ot(B),d=ee.hiddenUpdates,O=d[q],O===null?d[q]=[y]:O.push(y),y.lane=B|536870912),ee):null}function jo(d){if(50<fo)throw fo=0,nA=null,Error(s(185));for(var y=d.return;y!==null;)d=y,y=d.return;return d.tag===3?d.stateNode:null}var ca={};function zf(d,y,B,O){this.tag=d,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(d,y,B,O){return new zf(d,y,B,O)}function Wl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ds(d,y){var B=d.alternate;return B===null?(B=Kr(d.tag,y,d.key,d.mode),B.elementType=d.elementType,B.type=d.type,B.stateNode=d.stateNode,B.alternate=d,d.alternate=B):(B.pendingProps=y,B.type=d.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=d.flags&65011712,B.childLanes=d.childLanes,B.lanes=d.lanes,B.child=d.child,B.memoizedProps=d.memoizedProps,B.memoizedState=d.memoizedState,B.updateQueue=d.updateQueue,y=d.dependencies,B.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},B.sibling=d.sibling,B.index=d.index,B.ref=d.ref,B.refCleanup=d.refCleanup,B}function LA(d,y){d.flags&=65011714;var B=d.alternate;return B===null?(d.childLanes=0,d.lanes=y,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=B.childLanes,d.lanes=B.lanes,d.child=B.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=B.memoizedProps,d.memoizedState=B.memoizedState,d.updateQueue=B.updateQueue,d.type=B.type,y=B.dependencies,d.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d}function $o(d,y,B,O,q,ee){var ce=0;if(O=d,typeof d=="function")Wl(d)&&(ce=1);else if(typeof d=="string")ce=Xh(d,B,Be.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case se:return d=Kr(31,B,y,q),d.elementType=se,d.lanes=ee,d;case P:return $i(B.children,q,ee,y);case K:ce=8,q|=24;break;case $:return d=Kr(12,B,y,q|2),d.elementType=$,d.lanes=ee,d;case W:return d=Kr(13,B,y,q),d.elementType=W,d.lanes=ee,d;case Y:return d=Kr(19,B,y,q),d.elementType=Y,d.lanes=ee,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case H:ce=10;break e;case G:ce=9;break e;case j:ce=11;break e;case X:ce=14;break e;case te:ce=16,O=null;break e}ce=29,B=Error(s(130,d===null?"null":typeof d,"")),O=null}return y=Kr(ce,B,y,q),y.elementType=d,y.type=O,y.lanes=ee,y}function $i(d,y,B,O){return d=Kr(7,d,O,y),d.lanes=B,d}function ql(d,y,B){return d=Kr(6,d,null,y),d.lanes=B,d}function PA(d){var y=Kr(18,null,null,0);return y.stateNode=d,y}function Xl(d,y,B){return y=Kr(4,d.children!==null?d.children:[],d.key,y),y.lanes=B,y.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},y}var jA=new WeakMap;function is(d,y){if(typeof d=="object"&&d!==null){var B=jA.get(d);return B!==void 0?B:(y={value:d,source:y,stack:$t(y)},jA.set(d,y),y)}return{value:d,source:y,stack:$t(y)}}var Aa=[],ua=0,Uo=null,za=0,as=[],ls=0,ci=null,Ss=1,Bs="";function Ls(d,y){Aa[ua++]=za,Aa[ua++]=Uo,Uo=d,za=y}function $A(d,y,B){as[ls++]=Ss,as[ls++]=Bs,as[ls++]=ci,ci=d;var O=Ss;d=Bs;var q=32-ot(O)-1;O&=~(1<<q),B+=1;var ee=32-ot(y)+q;if(30<ee){var ce=q-q%5;ee=(O&(1<<ce)-1).toString(32),O>>=ce,q-=ce,Ss=1<<32-ot(y)+q|B<<q|O,Bs=ee+d}else Ss=1<<ee|B<<q|O,Bs=d}function Yl(d){d.return!==null&&(Ls(d,1),$A(d,1,0))}function Jl(d){for(;d===Uo;)Uo=Aa[--ua],Aa[ua]=null,za=Aa[--ua],Aa[ua]=null;for(;d===ci;)ci=as[--ls],as[ls]=null,Bs=as[--ls],as[ls]=null,Ss=as[--ls],as[ls]=null}function UA(d,y){as[ls++]=Ss,as[ls++]=Bs,as[ls++]=ci,Ss=y.id,Bs=y.overflow,ci=d}var Er=null,zn=null,xn=!1,Ai=null,cs=!1,Zl=Error(s(519));function ui(d){var y=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ga(is(y,d)),Zl}function HA(d){var y=d.stateNode,B=d.type,O=d.memoizedProps;switch(y[vt]=d,y[yt]=O,B){case"dialog":An("cancel",y),An("close",y);break;case"iframe":case"object":case"embed":An("load",y);break;case"video":case"audio":for(B=0;B<po.length;B++)An(po[B],y);break;case"source":An("error",y);break;case"img":case"image":case"link":An("error",y),An("load",y);break;case"details":An("toggle",y);break;case"input":An("invalid",y),$e(y,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":An("invalid",y);break;case"textarea":An("invalid",y),Rr(y,O.value,O.defaultValue,O.children)}B=O.children,typeof B!="string"&&typeof B!="number"&&typeof B!="bigint"||y.textContent===""+B||O.suppressHydrationWarning===!0||af(y.textContent,B)?(O.popover!=null&&(An("beforetoggle",y),An("toggle",y)),O.onScroll!=null&&An("scroll",y),O.onScrollEnd!=null&&An("scrollend",y),O.onClick!=null&&(y.onclick=Or),y=!0):y=!1,y||ui(d,!0)}function QA(d){for(Er=d.return;Er;)switch(Er.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:Er=Er.return}}function da(d){if(d!==Er)return!1;if(!xn)return QA(d),xn=!0,!1;var y=d.tag,B;if((B=y!==3&&y!==27)&&((B=y===5)&&(B=d.type,B=!(B!=="form"&&B!=="button")||gA(d.type,d.memoizedProps)),B=!B),B&&zn&&ui(d),QA(d),y===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));zn=pf(d)}else if(y===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));zn=pf(d)}else y===27?(y=zn,Si(d.type)?(d=CA,CA=null,zn=d):zn=y):zn=Er?us(d.stateNode.nextSibling):null;return!0}function Ui(){zn=Er=null,xn=!1}function ec(){var d=Ai;return d!==null&&(Ur===null?Ur=d:Ur.push.apply(Ur,d),Ai=null),d}function Ga(d){Ai===null?Ai=[d]:Ai.push(d)}var tc=Ae(null),Hi=null,Ps=null;function di(d,y,B){Re(tc,y._currentValue),y._currentValue=B}function js(d){d._currentValue=tc.current,we(tc)}function nc(d,y,B){for(;d!==null;){var O=d.alternate;if((d.childLanes&y)!==y?(d.childLanes|=y,O!==null&&(O.childLanes|=y)):O!==null&&(O.childLanes&y)!==y&&(O.childLanes|=y),d===B)break;d=d.return}}function rc(d,y,B,O){var q=d.child;for(q!==null&&(q.return=d);q!==null;){var ee=q.dependencies;if(ee!==null){var ce=q.child;ee=ee.firstContext;e:for(;ee!==null;){var ye=ee;ee=q;for(var Te=0;Te<y.length;Te++)if(ye.context===y[Te]){ee.lanes|=B,ye=ee.alternate,ye!==null&&(ye.lanes|=B),nc(ee.return,B,d),O||(ce=null);break e}ee=ye.next}}else if(q.tag===18){if(ce=q.return,ce===null)throw Error(s(341));ce.lanes|=B,ee=ce.alternate,ee!==null&&(ee.lanes|=B),nc(ce,B,d),ce=null}else ce=q.child;if(ce!==null)ce.return=q;else for(ce=q;ce!==null;){if(ce===d){ce=null;break}if(q=ce.sibling,q!==null){q.return=ce.return,ce=q;break}ce=ce.return}q=ce}}function fa(d,y,B,O){d=null;for(var q=y,ee=!1;q!==null;){if(!ee){if((q.flags&524288)!==0)ee=!0;else if((q.flags&262144)!==0)break}if(q.tag===10){var ce=q.alternate;if(ce===null)throw Error(s(387));if(ce=ce.memoizedProps,ce!==null){var ye=q.type;D(q.pendingProps.value,ce.value)||(d!==null?d.push(ye):d=[ye])}}else if(q===ct.current){if(ce=q.alternate,ce===null)throw Error(s(387));ce.memoizedState.memoizedState!==q.memoizedState.memoizedState&&(d!==null?d.push(vo):d=[vo])}q=q.return}d!==null&&rc(y,d,B,O),y.flags|=262144}function Ho(d){for(d=d.firstContext;d!==null;){if(!D(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Qi(d){Hi=d,Ps=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Cr(d){return VA(Hi,d)}function Qo(d,y){return Hi===null&&Qi(d),VA(d,y)}function VA(d,y){var B=y._currentValue;if(y={context:y,memoizedValue:B,next:null},Ps===null){if(d===null)throw Error(s(308));Ps=y,d.dependencies={lanes:0,firstContext:y},d.flags|=524288}else Ps=Ps.next=y;return B}var Gf=typeof AbortController<"u"?AbortController:function(){var d=[],y=this.signal={aborted:!1,addEventListener:function(B,O){d.push(O)}};this.abort=function(){y.aborted=!0,d.forEach(function(B){return B()})}},Kf=t.unstable_scheduleCallback,Wf=t.unstable_NormalPriority,lr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new Gf,data:new Map,refCount:0}}function Ka(d){d.refCount--,d.refCount===0&&Kf(Wf,function(){d.controller.abort()})}var Wa=null,ic=0,ha=0,pa=null;function qf(d,y){if(Wa===null){var B=Wa=[];ic=0,ha=lA(),pa={status:"pending",value:void 0,then:function(O){B.push(O)}}}return ic++,y.then(zA,zA),y}function zA(){if(--ic===0&&Wa!==null){pa!==null&&(pa.status="fulfilled");var d=Wa;Wa=null,ha=0,pa=null;for(var y=0;y<d.length;y++)(0,d[y])()}}function Xf(d,y){var B=[],O={status:"pending",value:null,reason:null,then:function(q){B.push(q)}};return d.then(function(){O.status="fulfilled",O.value=y;for(var q=0;q<B.length;q++)(0,B[q])(y)},function(q){for(O.status="rejected",O.reason=q,q=0;q<B.length;q++)(0,B[q])(void 0)}),O}var GA=ae.S;ae.S=function(d,y){Rd=st(),typeof y=="object"&&y!==null&&typeof y.then=="function"&&qf(d,y),GA!==null&&GA(d,y)};var Vi=Ae(null);function ac(){var d=Vi.current;return d!==null?d:$n.pooledCache}function Vo(d,y){y===null?Re(Vi,Vi.current):Re(Vi,y.pool)}function KA(){var d=ac();return d===null?null:{parent:lr._currentValue,pool:d}}var ma=Error(s(460)),oc=Error(s(474)),zo=Error(s(542)),Go={then:function(){}};function WA(d){return d=d.status,d==="fulfilled"||d==="rejected"}function qA(d,y,B){switch(B=d[B],B===void 0?d.push(y):B!==y&&(y.then(Or,Or),y=B),y.status){case"fulfilled":return y.value;case"rejected":throw d=y.reason,YA(d),d;default:if(typeof y.status=="string")y.then(Or,Or);else{if(d=$n,d!==null&&100<d.shellSuspendCounter)throw Error(s(482));d=y,d.status="pending",d.then(function(O){if(y.status==="pending"){var q=y;q.status="fulfilled",q.value=O}},function(O){if(y.status==="pending"){var q=y;q.status="rejected",q.reason=O}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw d=y.reason,YA(d),d}throw Gi=y,ma}}function zi(d){try{var y=d._init;return y(d._payload)}catch(B){throw B!==null&&typeof B=="object"&&typeof B.then=="function"?(Gi=B,ma):B}}var Gi=null;function XA(){if(Gi===null)throw Error(s(459));var d=Gi;return Gi=null,d}function YA(d){if(d===ma||d===zo)throw Error(s(483))}var ga=null,qa=0;function Ko(d){var y=qa;return qa+=1,ga===null&&(ga=[]),qA(ga,d,y)}function Xa(d,y){y=y.props.ref,d.ref=y!==void 0?y:null}function Wo(d,y){throw y.$$typeof===R?Error(s(525)):(d=Object.prototype.toString.call(y),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":d)))}function JA(d){function y(Oe,ke){if(d){var Ue=Oe.deletions;Ue===null?(Oe.deletions=[ke],Oe.flags|=16):Ue.push(ke)}}function B(Oe,ke){if(!d)return null;for(;ke!==null;)y(Oe,ke),ke=ke.sibling;return null}function O(Oe){for(var ke=new Map;Oe!==null;)Oe.key!==null?ke.set(Oe.key,Oe):ke.set(Oe.index,Oe),Oe=Oe.sibling;return ke}function q(Oe,ke){return Oe=Ds(Oe,ke),Oe.index=0,Oe.sibling=null,Oe}function ee(Oe,ke,Ue){return Oe.index=Ue,d?(Ue=Oe.alternate,Ue!==null?(Ue=Ue.index,Ue<ke?(Oe.flags|=67108866,ke):Ue):(Oe.flags|=67108866,ke)):(Oe.flags|=1048576,ke)}function ce(Oe){return d&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function ye(Oe,ke,Ue,nt){return ke===null||ke.tag!==6?(ke=ql(Ue,Oe.mode,nt),ke.return=Oe,ke):(ke=q(ke,Ue),ke.return=Oe,ke)}function Te(Oe,ke,Ue,nt){var Lt=Ue.type;return Lt===P?et(Oe,ke,Ue.props.children,nt,Ue.key):ke!==null&&(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===te&&zi(Lt)===ke.type)?(ke=q(ke,Ue.props),Xa(ke,Ue),ke.return=Oe,ke):(ke=$o(Ue.type,Ue.key,Ue.props,null,Oe.mode,nt),Xa(ke,Ue),ke.return=Oe,ke)}function He(Oe,ke,Ue,nt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ue.containerInfo||ke.stateNode.implementation!==Ue.implementation?(ke=Xl(Ue,Oe.mode,nt),ke.return=Oe,ke):(ke=q(ke,Ue.children||[]),ke.return=Oe,ke)}function et(Oe,ke,Ue,nt,Lt){return ke===null||ke.tag!==7?(ke=$i(Ue,Oe.mode,nt,Lt),ke.return=Oe,ke):(ke=q(ke,Ue),ke.return=Oe,ke)}function rt(Oe,ke,Ue){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=ql(""+ke,Oe.mode,Ue),ke.return=Oe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case k:return Ue=$o(ke.type,ke.key,ke.props,null,Oe.mode,Ue),Xa(Ue,ke),Ue.return=Oe,Ue;case M:return ke=Xl(ke,Oe.mode,Ue),ke.return=Oe,ke;case te:return ke=zi(ke),rt(Oe,ke,Ue)}if(de(ke)||me(ke))return ke=$i(ke,Oe.mode,Ue,null),ke.return=Oe,ke;if(typeof ke.then=="function")return rt(Oe,Ko(ke),Ue);if(ke.$$typeof===H)return rt(Oe,Qo(Oe,ke),Ue);Wo(Oe,ke)}return null}function Qe(Oe,ke,Ue,nt){var Lt=ke!==null?ke.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Lt!==null?null:ye(Oe,ke,""+Ue,nt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case k:return Ue.key===Lt?Te(Oe,ke,Ue,nt):null;case M:return Ue.key===Lt?He(Oe,ke,Ue,nt):null;case te:return Ue=zi(Ue),Qe(Oe,ke,Ue,nt)}if(de(Ue)||me(Ue))return Lt!==null?null:et(Oe,ke,Ue,nt,null);if(typeof Ue.then=="function")return Qe(Oe,ke,Ko(Ue),nt);if(Ue.$$typeof===H)return Qe(Oe,ke,Qo(Oe,Ue),nt);Wo(Oe,Ue)}return null}function qe(Oe,ke,Ue,nt,Lt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Oe=Oe.get(Ue)||null,ye(ke,Oe,""+nt,Lt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case k:return Oe=Oe.get(nt.key===null?Ue:nt.key)||null,Te(ke,Oe,nt,Lt);case M:return Oe=Oe.get(nt.key===null?Ue:nt.key)||null,He(ke,Oe,nt,Lt);case te:return nt=zi(nt),qe(Oe,ke,Ue,nt,Lt)}if(de(nt)||me(nt))return Oe=Oe.get(Ue)||null,et(ke,Oe,nt,Lt,null);if(typeof nt.then=="function")return qe(Oe,ke,Ue,Ko(nt),Lt);if(nt.$$typeof===H)return qe(Oe,ke,Ue,Qo(ke,nt),Lt);Wo(ke,nt)}return null}function _t(Oe,ke,Ue,nt){for(var Lt=null,vn=null,Ft=ke,Jt=ke=0,pn=null;Ft!==null&&Jt<Ue.length;Jt++){Ft.index>Jt?(pn=Ft,Ft=null):pn=Ft.sibling;var En=Qe(Oe,Ft,Ue[Jt],nt);if(En===null){Ft===null&&(Ft=pn);break}d&&Ft&&En.alternate===null&&y(Oe,Ft),ke=ee(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En,Ft=pn}if(Jt===Ue.length)return B(Oe,Ft),xn&&Ls(Oe,Jt),Lt;if(Ft===null){for(;Jt<Ue.length;Jt++)Ft=rt(Oe,Ue[Jt],nt),Ft!==null&&(ke=ee(Ft,ke,Jt),vn===null?Lt=Ft:vn.sibling=Ft,vn=Ft);return xn&&Ls(Oe,Jt),Lt}for(Ft=O(Ft);Jt<Ue.length;Jt++)pn=qe(Ft,Oe,Jt,Ue[Jt],nt),pn!==null&&(d&&pn.alternate!==null&&Ft.delete(pn.key===null?Jt:pn.key),ke=ee(pn,ke,Jt),vn===null?Lt=pn:vn.sibling=pn,vn=pn);return d&&Ft.forEach(function(Ii){return y(Oe,Ii)}),xn&&Ls(Oe,Jt),Lt}function Qt(Oe,ke,Ue,nt){if(Ue==null)throw Error(s(151));for(var Lt=null,vn=null,Ft=ke,Jt=ke=0,pn=null,En=Ue.next();Ft!==null&&!En.done;Jt++,En=Ue.next()){Ft.index>Jt?(pn=Ft,Ft=null):pn=Ft.sibling;var Ii=Qe(Oe,Ft,En.value,nt);if(Ii===null){Ft===null&&(Ft=pn);break}d&&Ft&&Ii.alternate===null&&y(Oe,Ft),ke=ee(Ii,ke,Jt),vn===null?Lt=Ii:vn.sibling=Ii,vn=Ii,Ft=pn}if(En.done)return B(Oe,Ft),xn&&Ls(Oe,Jt),Lt;if(Ft===null){for(;!En.done;Jt++,En=Ue.next())En=rt(Oe,En.value,nt),En!==null&&(ke=ee(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En);return xn&&Ls(Oe,Jt),Lt}for(Ft=O(Ft);!En.done;Jt++,En=Ue.next())En=qe(Ft,Oe,Jt,En.value,nt),En!==null&&(d&&En.alternate!==null&&Ft.delete(En.key===null?Jt:En.key),ke=ee(En,ke,Jt),vn===null?Lt=En:vn.sibling=En,vn=En);return d&&Ft.forEach(function(cp){return y(Oe,cp)}),xn&&Ls(Oe,Jt),Lt}function Mn(Oe,ke,Ue,nt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===P&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case k:e:{for(var Lt=Ue.key;ke!==null;){if(ke.key===Lt){if(Lt=Ue.type,Lt===P){if(ke.tag===7){B(Oe,ke.sibling),nt=q(ke,Ue.props.children),nt.return=Oe,Oe=nt;break e}}else if(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===te&&zi(Lt)===ke.type){B(Oe,ke.sibling),nt=q(ke,Ue.props),Xa(nt,Ue),nt.return=Oe,Oe=nt;break e}B(Oe,ke);break}else y(Oe,ke);ke=ke.sibling}Ue.type===P?(nt=$i(Ue.props.children,Oe.mode,nt,Ue.key),nt.return=Oe,Oe=nt):(nt=$o(Ue.type,Ue.key,Ue.props,null,Oe.mode,nt),Xa(nt,Ue),nt.return=Oe,Oe=nt)}return ce(Oe);case M:e:{for(Lt=Ue.key;ke!==null;){if(ke.key===Lt)if(ke.tag===4&&ke.stateNode.containerInfo===Ue.containerInfo&&ke.stateNode.implementation===Ue.implementation){B(Oe,ke.sibling),nt=q(ke,Ue.children||[]),nt.return=Oe,Oe=nt;break e}else{B(Oe,ke);break}else y(Oe,ke);ke=ke.sibling}nt=Xl(Ue,Oe.mode,nt),nt.return=Oe,Oe=nt}return ce(Oe);case te:return Ue=zi(Ue),Mn(Oe,ke,Ue,nt)}if(de(Ue))return _t(Oe,ke,Ue,nt);if(me(Ue)){if(Lt=me(Ue),typeof Lt!="function")throw Error(s(150));return Ue=Lt.call(Ue),Qt(Oe,ke,Ue,nt)}if(typeof Ue.then=="function")return Mn(Oe,ke,Ko(Ue),nt);if(Ue.$$typeof===H)return Mn(Oe,ke,Qo(Oe,Ue),nt);Wo(Oe,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,ke!==null&&ke.tag===6?(B(Oe,ke.sibling),nt=q(ke,Ue),nt.return=Oe,Oe=nt):(B(Oe,ke),nt=ql(Ue,Oe.mode,nt),nt.return=Oe,Oe=nt),ce(Oe)):B(Oe,ke)}return function(Oe,ke,Ue,nt){try{qa=0;var Lt=Mn(Oe,ke,Ue,nt);return ga=null,Lt}catch(Ft){if(Ft===ma||Ft===zo)throw Ft;var vn=Kr(29,Ft,null,Oe.mode);return vn.lanes=nt,vn.return=Oe,vn}finally{}}}var Ki=JA(!0),ZA=JA(!1),fi=!1;function lc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(d,y){d=d.updateQueue,y.updateQueue===d&&(y.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function hi(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function pi(d,y,B){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(bn&2)!==0){var q=O.pending;return q===null?y.next=y:(y.next=q.next,q.next=y),O.pending=y,y=jo(d),DA(d,null,B),y}return Po(d,O,y,B),jo(d)}function Ya(d,y,B){if(y=y.updateQueue,y!==null&&(y=y.shared,(B&4194048)!==0)){var O=y.lanes;O&=d.pendingLanes,B|=O,y.lanes=B,Me(d,B)}}function Ac(d,y){var B=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,B===O)){var q=null,ee=null;if(B=B.firstBaseUpdate,B!==null){do{var ce={lane:B.lane,tag:B.tag,payload:B.payload,callback:null,next:null};ee===null?q=ee=ce:ee=ee.next=ce,B=B.next}while(B!==null);ee===null?q=ee=y:ee=ee.next=y}else q=ee=y;B={baseState:O.baseState,firstBaseUpdate:q,lastBaseUpdate:ee,shared:O.shared,callbacks:O.callbacks},d.updateQueue=B;return}d=B.lastBaseUpdate,d===null?B.firstBaseUpdate=y:d.next=y,B.lastBaseUpdate=y}var uc=!1;function Ja(){if(uc){var d=pa;if(d!==null)throw d}}function Za(d,y,B,O){uc=!1;var q=d.updateQueue;fi=!1;var ee=q.firstBaseUpdate,ce=q.lastBaseUpdate,ye=q.shared.pending;if(ye!==null){q.shared.pending=null;var Te=ye,He=Te.next;Te.next=null,ce===null?ee=He:ce.next=He,ce=Te;var et=d.alternate;et!==null&&(et=et.updateQueue,ye=et.lastBaseUpdate,ye!==ce&&(ye===null?et.firstBaseUpdate=He:ye.next=He,et.lastBaseUpdate=Te))}if(ee!==null){var rt=q.baseState;ce=0,et=He=Te=null,ye=ee;do{var Qe=ye.lane&-536870913,qe=Qe!==ye.lane;if(qe?(hn&Qe)===Qe:(O&Qe)===Qe){Qe!==0&&Qe===ha&&(uc=!0),et!==null&&(et=et.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var _t=d,Qt=ye;Qe=y;var Mn=B;switch(Qt.tag){case 1:if(_t=Qt.payload,typeof _t=="function"){rt=_t.call(Mn,rt,Qe);break e}rt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Qt.payload,Qe=typeof _t=="function"?_t.call(Mn,rt,Qe):_t,Qe==null)break e;rt=_({},rt,Qe);break e;case 2:fi=!0}}Qe=ye.callback,Qe!==null&&(d.flags|=64,qe&&(d.flags|=8192),qe=q.callbacks,qe===null?q.callbacks=[Qe]:qe.push(Qe))}else qe={lane:Qe,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},et===null?(He=et=qe,Te=rt):et=et.next=qe,ce|=Qe;if(ye=ye.next,ye===null){if(ye=q.shared.pending,ye===null)break;qe=ye,ye=qe.next,qe.next=null,q.lastBaseUpdate=qe,q.shared.pending=null}}while(!0);et===null&&(Te=rt),q.baseState=Te,q.firstBaseUpdate=He,q.lastBaseUpdate=et,ee===null&&(q.shared.lanes=0),vi|=ce,d.lanes=ce,d.memoizedState=rt}}function eu(d,y){if(typeof d!="function")throw Error(s(191,d));d.call(y)}function tu(d,y){var B=d.callbacks;if(B!==null)for(d.callbacks=null,d=0;d<B.length;d++)eu(B[d],y)}var xa=Ae(null),qo=Ae(0);function nu(d,y){d=Ws,Re(qo,d),Re(xa,y),Ws=d|y.baseLanes}function dc(){Re(qo,Ws),Re(xa,xa.current)}function fc(){Ws=qo.current,we(xa),we(qo)}var Wr=Ae(null),As=null;function mi(d){var y=d.alternate;Re(sr,sr.current&1),Re(Wr,d),As===null&&(y===null||xa.current!==null||y.memoizedState!==null)&&(As=d)}function hc(d){Re(sr,sr.current),Re(Wr,d),As===null&&(As=d)}function ru(d){d.tag===22?(Re(sr,sr.current),Re(Wr,d),As===null&&(As=d)):gi()}function gi(){Re(sr,sr.current),Re(Wr,Wr.current)}function qr(d){we(Wr),As===d&&(As=null),we(sr)}var sr=Ae(0);function Xo(d){for(var y=d;y!==null;){if(y.tag===13){var B=y.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||vA(B)||EA(B)))return y}else if(y.tag===19&&(y.memoizedProps.revealOrder==="forwards"||y.memoizedProps.revealOrder==="backwards"||y.memoizedProps.revealOrder==="unstable_legacy-backwards"||y.memoizedProps.revealOrder==="together")){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var $s=0,Xt=null,Fn=null,cr=null,Yo=!1,ya=!1,Wi=!1,Jo=0,eo=0,va=null,Yf=0;function Zn(){throw Error(s(321))}function pc(d,y){if(y===null)return!1;for(var B=0;B<y.length&&B<d.length;B++)if(!D(d[B],y[B]))return!1;return!0}function mc(d,y,B,O,q,ee){return $s=ee,Xt=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,ae.H=d===null||d.memoizedState===null?$u:Nc,Wi=!1,ee=B(O,q),Wi=!1,ya&&(ee=iu(y,B,O,q)),su(d),ee}function su(d){ae.H=ro;var y=Fn!==null&&Fn.next!==null;if($s=0,cr=Fn=Xt=null,Yo=!1,eo=0,va=null,y)throw Error(s(300));d===null||Ar||(d=d.dependencies,d!==null&&Ho(d)&&(Ar=!0))}function iu(d,y,B,O){Xt=d;var q=0;do{if(ya&&(va=null),eo=0,ya=!1,25<=q)throw Error(s(301));if(q+=1,cr=Fn=null,d.updateQueue!=null){var ee=d.updateQueue;ee.lastEffect=null,ee.events=null,ee.stores=null,ee.memoCache!=null&&(ee.memoCache.index=0)}ae.H=Uu,ee=y(B,O)}while(ya);return ee}function Jf(){var d=ae.H,y=d.useState()[0];return y=typeof y.then=="function"?to(y):y,d=d.useState()[0],(Fn!==null?Fn.memoizedState:null)!==d&&(Xt.flags|=1024),y}function gc(){var d=Jo!==0;return Jo=0,d}function xc(d,y,B){y.updateQueue=d.updateQueue,y.flags&=-2053,d.lanes&=~B}function yc(d){if(Yo){for(d=d.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}Yo=!1}$s=0,cr=Fn=Xt=null,ya=!1,eo=Jo=0,va=null}function Fr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Xt.memoizedState=cr=d:cr=cr.next=d,cr}function ir(){if(Fn===null){var d=Xt.alternate;d=d!==null?d.memoizedState:null}else d=Fn.next;var y=cr===null?Xt.memoizedState:cr.next;if(y!==null)cr=y,Fn=d;else{if(d===null)throw Xt.alternate===null?Error(s(467)):Error(s(310));Fn=d,d={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},cr===null?Xt.memoizedState=cr=d:cr=cr.next=d}return cr}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(d){var y=eo;return eo+=1,va===null&&(va=[]),d=qA(va,d,y),y=Xt,(cr===null?y.memoizedState:cr.next)===null&&(y=y.alternate,ae.H=y===null||y.memoizedState===null?$u:Nc),d}function el(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return to(d);if(d.$$typeof===H)return Cr(d)}throw Error(s(438,String(d)))}function vc(d){var y=null,B=Xt.updateQueue;if(B!==null&&(y=B.memoCache),y==null){var O=Xt.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(y={data:O.data.map(function(q){return q.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),B===null&&(B=Zo(),Xt.updateQueue=B),B.memoCache=y,B=y.data[y.index],B===void 0)for(B=y.data[y.index]=Array(d),O=0;O<d;O++)B[O]=pe;return y.index++,B}function Us(d,y){return typeof y=="function"?y(d):y}function tl(d){var y=ir();return Ec(y,Fn,d)}function Ec(d,y,B){var O=d.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=B;var q=d.baseQueue,ee=O.pending;if(ee!==null){if(q!==null){var ce=q.next;q.next=ee.next,ee.next=ce}y.baseQueue=q=ee,O.pending=null}if(ee=d.baseState,q===null)d.memoizedState=ee;else{y=q.next;var ye=ce=null,Te=null,He=y,et=!1;do{var rt=He.lane&-536870913;if(rt!==He.lane?(hn&rt)===rt:($s&rt)===rt){var Qe=He.revertLane;if(Qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),rt===ha&&(et=!0);else if(($s&Qe)===Qe){He=He.next,Qe===ha&&(et=!0);continue}else rt={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Te===null?(ye=Te=rt,ce=ee):Te=Te.next=rt,Xt.lanes|=Qe,vi|=Qe;rt=He.action,Wi&&B(ee,rt),ee=He.hasEagerState?He.eagerState:B(ee,rt)}else Qe={lane:rt,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Te===null?(ye=Te=Qe,ce=ee):Te=Te.next=Qe,Xt.lanes|=rt,vi|=rt;He=He.next}while(He!==null&&He!==y);if(Te===null?ce=ee:Te.next=ye,!D(ee,d.memoizedState)&&(Ar=!0,et&&(B=pa,B!==null)))throw B;d.memoizedState=ee,d.baseState=ce,d.baseQueue=Te,O.lastRenderedState=ee}return q===null&&(O.lanes=0),[d.memoizedState,O.dispatch]}function Cc(d){var y=ir(),B=y.queue;if(B===null)throw Error(s(311));B.lastRenderedReducer=d;var O=B.dispatch,q=B.pending,ee=y.memoizedState;if(q!==null){B.pending=null;var ce=q=q.next;do ee=d(ee,ce.action),ce=ce.next;while(ce!==q);D(ee,y.memoizedState)||(Ar=!0),y.memoizedState=ee,y.baseQueue===null&&(y.baseState=ee),B.lastRenderedState=ee}return[ee,O]}function au(d,y,B){var O=Xt,q=ir(),ee=xn;if(ee){if(B===void 0)throw Error(s(407));B=B()}else B=y();var ce=!D((Fn||q).memoizedState,B);if(ce&&(q.memoizedState=B,Ar=!0),q=q.queue,Sc(cu.bind(null,O,q,d),[d]),q.getSnapshot!==y||ce||cr!==null&&cr.memoizedState.tag&1){if(O.flags|=2048,Ea(9,{destroy:void 0},lu.bind(null,O,q,B,y),null),$n===null)throw Error(s(349));ee||($s&127)!==0||ou(O,y,B)}return B}function ou(d,y,B){d.flags|=16384,d={getSnapshot:y,value:B},y=Xt.updateQueue,y===null?(y=Zo(),Xt.updateQueue=y,y.stores=[d]):(B=y.stores,B===null?y.stores=[d]:B.push(d))}function lu(d,y,B,O){y.value=B,y.getSnapshot=O,Au(y)&&uu(d)}function cu(d,y,B){return B(function(){Au(y)&&uu(d)})}function Au(d){var y=d.getSnapshot;d=d.value;try{var B=y();return!D(d,B)}catch{return!0}}function uu(d){var y=ji(d,2);y!==null&&Hr(y,d,2)}function wc(d){var y=Fr();if(typeof d=="function"){var B=d;if(d=B(),Wi){ut(!0);try{B()}finally{ut(!1)}}}return y.memoizedState=y.baseState=d,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:d},y}function du(d,y,B,O){return d.baseState=B,Ec(d,Fn,typeof O=="function"?O:Us)}function Zf(d,y,B,O,q){if(sl(d))throw Error(s(485));if(d=y.action,d!==null){var ee={payload:q,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){ee.listeners.push(ce)}};ae.T!==null?B(!0):ee.isTransition=!1,O(ee),B=y.pending,B===null?(ee.next=y.pending=ee,fu(y,ee)):(ee.next=B.next,y.pending=B.next=ee)}}function fu(d,y){var B=y.action,O=y.payload,q=d.state;if(y.isTransition){var ee=ae.T,ce={};ae.T=ce;try{var ye=B(q,O),Te=ae.S;Te!==null&&Te(ce,ye),hu(d,y,ye)}catch(He){bc(d,y,He)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),ae.T=ee}}else try{ee=B(q,O),hu(d,y,ee)}catch(He){bc(d,y,He)}}function hu(d,y,B){B!==null&&typeof B=="object"&&typeof B.then=="function"?B.then(function(O){pu(d,y,O)},function(O){return bc(d,y,O)}):pu(d,y,B)}function pu(d,y,B){y.status="fulfilled",y.value=B,mu(y),d.state=B,y=d.pending,y!==null&&(B=y.next,B===y?d.pending=null:(B=B.next,y.next=B,fu(d,B)))}function bc(d,y,B){var O=d.pending;if(d.pending=null,O!==null){O=O.next;do y.status="rejected",y.reason=B,mu(y),y=y.next;while(y!==O)}d.action=null}function mu(d){d=d.listeners;for(var y=0;y<d.length;y++)(0,d[y])()}function gu(d,y){return y}function xu(d,y){if(xn){var B=$n.formState;if(B!==null){e:{var O=Xt;if(xn){if(zn){t:{for(var q=zn,ee=cs;q.nodeType!==8;){if(!ee){q=null;break t}if(q=us(q.nextSibling),q===null){q=null;break t}}ee=q.data,q=ee==="F!"||ee==="F"?q:null}if(q){zn=us(q.nextSibling),O=q.data==="F!";break e}}ui(O)}O=!1}O&&(y=B[0])}}return B=Fr(),B.memoizedState=B.baseState=y,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:y},B.queue=O,B=Lu.bind(null,Xt,O),O.dispatch=B,O=wc(!1),ee=Ic.bind(null,Xt,!1,O.queue),O=Fr(),q={state:y,dispatch:null,action:d,pending:null},O.queue=q,B=Zf.bind(null,Xt,q,ee,B),q.dispatch=B,O.memoizedState=d,[y,B,!1]}function yu(d){var y=ir();return vu(y,Fn,d)}function vu(d,y,B){if(y=Ec(d,y,gu)[0],d=tl(Us)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var O=to(y)}catch(ce){throw ce===ma?zo:ce}else O=y;y=ir();var q=y.queue,ee=q.dispatch;return B!==y.memoizedState&&(Xt.flags|=2048,Ea(9,{destroy:void 0},eh.bind(null,q,B),null)),[O,ee,d]}function eh(d,y){d.action=y}function Eu(d){var y=ir(),B=Fn;if(B!==null)return vu(y,B,d);ir(),y=y.memoizedState,B=ir();var O=B.queue.dispatch;return B.memoizedState=d,[y,O,!1]}function Ea(d,y,B,O){return d={tag:d,create:B,deps:O,inst:y,next:null},y=Xt.updateQueue,y===null&&(y=Zo(),Xt.updateQueue=y),B=y.lastEffect,B===null?y.lastEffect=d.next=d:(O=B.next,B.next=d,d.next=O,y.lastEffect=d),d}function Cu(){return ir().memoizedState}function nl(d,y,B,O){var q=Fr();Xt.flags|=d,q.memoizedState=Ea(1|y,{destroy:void 0},B,O===void 0?null:O)}function rl(d,y,B,O){var q=ir();O=O===void 0?null:O;var ee=q.memoizedState.inst;Fn!==null&&O!==null&&pc(O,Fn.memoizedState.deps)?q.memoizedState=Ea(y,ee,B,O):(Xt.flags|=d,q.memoizedState=Ea(1|y,ee,B,O))}function wu(d,y){nl(8390656,8,d,y)}function Sc(d,y){rl(2048,8,d,y)}function th(d){Xt.flags|=4;var y=Xt.updateQueue;if(y===null)y=Zo(),Xt.updateQueue=y,y.events=[d];else{var B=y.events;B===null?y.events=[d]:B.push(d)}}function bu(d){var y=ir().memoizedState;return th({ref:y,nextImpl:d}),function(){if((bn&2)!==0)throw Error(s(440));return y.impl.apply(void 0,arguments)}}function Su(d,y){return rl(4,2,d,y)}function Bu(d,y){return rl(4,4,d,y)}function _u(d,y){if(typeof y=="function"){d=d();var B=y(d);return function(){typeof B=="function"?B():y(null)}}if(y!=null)return d=d(),y.current=d,function(){y.current=null}}function Tu(d,y,B){B=B!=null?B.concat([d]):null,rl(4,4,_u.bind(null,y,d),B)}function Bc(){}function Ru(d,y){var B=ir();y=y===void 0?null:y;var O=B.memoizedState;return y!==null&&pc(y,O[1])?O[0]:(B.memoizedState=[d,y],d)}function Iu(d,y){var B=ir();y=y===void 0?null:y;var O=B.memoizedState;if(y!==null&&pc(y,O[1]))return O[0];if(O=d(),Wi){ut(!0);try{d()}finally{ut(!1)}}return B.memoizedState=[O,y],O}function _c(d,y,B){return B===void 0||($s&1073741824)!==0&&(hn&261930)===0?d.memoizedState=y:(d.memoizedState=B,d=Nd(),Xt.lanes|=d,vi|=d,B)}function Nu(d,y,B,O){return D(B,y)?B:xa.current!==null?(d=_c(d,B,O),D(d,y)||(Ar=!0),d):($s&42)===0||($s&1073741824)!==0&&(hn&261930)===0?(Ar=!0,d.memoizedState=B):(d=Nd(),Xt.lanes|=d,vi|=d,y)}function Fu(d,y,B,O,q){var ee=ue.p;ue.p=ee!==0&&8>ee?ee:8;var ce=ae.T,ye={};ae.T=ye,Ic(d,!1,y,B);try{var Te=q(),He=ae.S;if(He!==null&&He(ye,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var et=Xf(Te,O);no(d,y,et,Jr(d))}else no(d,y,O,Jr(d))}catch(rt){no(d,y,{then:function(){},status:"rejected",reason:rt},Jr())}finally{ue.p=ee,ce!==null&&ye.types!==null&&(ce.types=ye.types),ae.T=ce}}function nh(){}function Tc(d,y,B,O){if(d.tag!==5)throw Error(s(476));var q=ku(d).queue;Fu(d,q,y,re,B===null?nh:function(){return Mu(d),B(O)})}function ku(d){var y=d.memoizedState;if(y!==null)return y;y={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:re},next:null};var B={};return y.next={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:B},next:null},d.memoizedState=y,d=d.alternate,d!==null&&(d.memoizedState=y),y}function Mu(d){var y=ku(d);y.next===null&&(y=d.alternate.memoizedState),no(d,y.next.queue,{},Jr())}function Rc(){return Cr(vo)}function Ou(){return ir().memoizedState}function Du(){return ir().memoizedState}function rh(d){for(var y=d.return;y!==null;){switch(y.tag){case 24:case 3:var B=Jr();d=hi(B);var O=pi(y,d,B);O!==null&&(Hr(O,y,B),Ya(O,y,B)),y={cache:sc()},d.payload=y;return}y=y.return}}function sh(d,y,B){var O=Jr();B={lane:O,revertLane:0,gesture:null,action:B,hasEagerState:!1,eagerState:null,next:null},sl(d)?Pu(y,B):(B=Kl(d,y,B,O),B!==null&&(Hr(B,d,O),ju(B,y,O)))}function Lu(d,y,B){var O=Jr();no(d,y,B,O)}function no(d,y,B,O){var q={lane:O,revertLane:0,gesture:null,action:B,hasEagerState:!1,eagerState:null,next:null};if(sl(d))Pu(y,q);else{var ee=d.alternate;if(d.lanes===0&&(ee===null||ee.lanes===0)&&(ee=y.lastRenderedReducer,ee!==null))try{var ce=y.lastRenderedState,ye=ee(ce,B);if(q.hasEagerState=!0,q.eagerState=ye,D(ye,ce))return Po(d,y,q,0),$n===null&&Lo(),!1}catch{}finally{}if(B=Kl(d,y,q,O),B!==null)return Hr(B,d,O),ju(B,y,O),!0}return!1}function Ic(d,y,B,O){if(O={lane:2,revertLane:lA(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},sl(d)){if(y)throw Error(s(479))}else y=Kl(d,B,O,2),y!==null&&Hr(y,d,2)}function sl(d){var y=d.alternate;return d===Xt||y!==null&&y===Xt}function Pu(d,y){ya=Yo=!0;var B=d.pending;B===null?y.next=y:(y.next=B.next,B.next=y),d.pending=y}function ju(d,y,B){if((B&4194048)!==0){var O=y.lanes;O&=d.pendingLanes,B|=O,y.lanes=B,Me(d,B)}}var ro={readContext:Cr,use:el,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};ro.useEffectEvent=Zn;var $u={readContext:Cr,use:el,useCallback:function(d,y){return Fr().memoizedState=[d,y===void 0?null:y],d},useContext:Cr,useEffect:wu,useImperativeHandle:function(d,y,B){B=B!=null?B.concat([d]):null,nl(4194308,4,_u.bind(null,y,d),B)},useLayoutEffect:function(d,y){return nl(4194308,4,d,y)},useInsertionEffect:function(d,y){nl(4,2,d,y)},useMemo:function(d,y){var B=Fr();y=y===void 0?null:y;var O=d();if(Wi){ut(!0);try{d()}finally{ut(!1)}}return B.memoizedState=[O,y],O},useReducer:function(d,y,B){var O=Fr();if(B!==void 0){var q=B(y);if(Wi){ut(!0);try{B(y)}finally{ut(!1)}}}else q=y;return O.memoizedState=O.baseState=q,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:q},O.queue=d,d=d.dispatch=sh.bind(null,Xt,d),[O.memoizedState,d]},useRef:function(d){var y=Fr();return d={current:d},y.memoizedState=d},useState:function(d){d=wc(d);var y=d.queue,B=Lu.bind(null,Xt,y);return y.dispatch=B,[d.memoizedState,B]},useDebugValue:Bc,useDeferredValue:function(d,y){var B=Fr();return _c(B,d,y)},useTransition:function(){var d=wc(!1);return d=Fu.bind(null,Xt,d.queue,!0,!1),Fr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,y,B){var O=Xt,q=Fr();if(xn){if(B===void 0)throw Error(s(407));B=B()}else{if(B=y(),$n===null)throw Error(s(349));(hn&127)!==0||ou(O,y,B)}q.memoizedState=B;var ee={value:B,getSnapshot:y};return q.queue=ee,wu(cu.bind(null,O,ee,d),[d]),O.flags|=2048,Ea(9,{destroy:void 0},lu.bind(null,O,ee,B,y),null),B},useId:function(){var d=Fr(),y=$n.identifierPrefix;if(xn){var B=Bs,O=Ss;B=(O&~(1<<32-ot(O)-1)).toString(32)+B,y="_"+y+"R_"+B,B=Jo++,0<B&&(y+="H"+B.toString(32)),y+="_"}else B=Yf++,y="_"+y+"r_"+B.toString(32)+"_";return d.memoizedState=y},useHostTransitionStatus:Rc,useFormState:xu,useActionState:xu,useOptimistic:function(d){var y=Fr();y.memoizedState=y.baseState=d;var B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=B,y=Ic.bind(null,Xt,!0,B),B.dispatch=y,[d,y]},useMemoCache:vc,useCacheRefresh:function(){return Fr().memoizedState=rh.bind(null,Xt)},useEffectEvent:function(d){var y=Fr(),B={impl:d};return y.memoizedState=B,function(){if((bn&2)!==0)throw Error(s(440));return B.impl.apply(void 0,arguments)}}},Nc={readContext:Cr,use:el,useCallback:Ru,useContext:Cr,useEffect:Sc,useImperativeHandle:Tu,useInsertionEffect:Su,useLayoutEffect:Bu,useMemo:Iu,useReducer:tl,useRef:Cu,useState:function(){return tl(Us)},useDebugValue:Bc,useDeferredValue:function(d,y){var B=ir();return Nu(B,Fn.memoizedState,d,y)},useTransition:function(){var d=tl(Us)[0],y=ir().memoizedState;return[typeof d=="boolean"?d:to(d),y]},useSyncExternalStore:au,useId:Ou,useHostTransitionStatus:Rc,useFormState:yu,useActionState:yu,useOptimistic:function(d,y){var B=ir();return du(B,Fn,d,y)},useMemoCache:vc,useCacheRefresh:Du};Nc.useEffectEvent=bu;var Uu={readContext:Cr,use:el,useCallback:Ru,useContext:Cr,useEffect:Sc,useImperativeHandle:Tu,useInsertionEffect:Su,useLayoutEffect:Bu,useMemo:Iu,useReducer:Cc,useRef:Cu,useState:function(){return Cc(Us)},useDebugValue:Bc,useDeferredValue:function(d,y){var B=ir();return Fn===null?_c(B,d,y):Nu(B,Fn.memoizedState,d,y)},useTransition:function(){var d=Cc(Us)[0],y=ir().memoizedState;return[typeof d=="boolean"?d:to(d),y]},useSyncExternalStore:au,useId:Ou,useHostTransitionStatus:Rc,useFormState:Eu,useActionState:Eu,useOptimistic:function(d,y){var B=ir();return Fn!==null?du(B,Fn,d,y):(B.baseState=d,[d,B.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Du};Uu.useEffectEvent=bu;function Fc(d,y,B,O){y=d.memoizedState,B=B(O,y),B=B==null?y:_({},y,B),d.memoizedState=B,d.lanes===0&&(d.updateQueue.baseState=B)}var kc={enqueueSetState:function(d,y,B){d=d._reactInternals;var O=Jr(),q=hi(O);q.payload=y,B!=null&&(q.callback=B),y=pi(d,q,O),y!==null&&(Hr(y,d,O),Ya(y,d,O))},enqueueReplaceState:function(d,y,B){d=d._reactInternals;var O=Jr(),q=hi(O);q.tag=1,q.payload=y,B!=null&&(q.callback=B),y=pi(d,q,O),y!==null&&(Hr(y,d,O),Ya(y,d,O))},enqueueForceUpdate:function(d,y){d=d._reactInternals;var B=Jr(),O=hi(B);O.tag=2,y!=null&&(O.callback=y),y=pi(d,O,B),y!==null&&(Hr(y,d,B),Ya(y,d,B))}};function Hu(d,y,B,O,q,ee,ce){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,ee,ce):y.prototype&&y.prototype.isPureReactComponent?!Q(B,O)||!Q(q,ee):!0}function Qu(d,y,B,O){d=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(B,O),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(B,O),y.state!==d&&kc.enqueueReplaceState(y,y.state,null)}function qi(d,y){var B=y;if("ref"in y){B={};for(var O in y)O!=="ref"&&(B[O]=y[O])}if(d=d.defaultProps){B===y&&(B=_({},B));for(var q in d)B[q]===void 0&&(B[q]=d[q])}return B}function Vu(d){Do(d)}function zu(d){console.error(d)}function Gu(d){Do(d)}function il(d,y){try{var B=d.onUncaughtError;B(y.value,{componentStack:y.stack})}catch(O){setTimeout(function(){throw O})}}function Ku(d,y,B){try{var O=d.onCaughtError;O(B.value,{componentStack:B.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(q){setTimeout(function(){throw q})}}function Mc(d,y,B){return B=hi(B),B.tag=3,B.payload={element:null},B.callback=function(){il(d,y)},B}function Wu(d){return d=hi(d),d.tag=3,d}function qu(d,y,B,O){var q=B.type.getDerivedStateFromError;if(typeof q=="function"){var ee=O.value;d.payload=function(){return q(ee)},d.callback=function(){Ku(y,B,O)}}var ce=B.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(d.callback=function(){Ku(y,B,O),typeof q!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var ye=O.stack;this.componentDidCatch(O.value,{componentStack:ye!==null?ye:""})})}function ih(d,y,B,O,q){if(B.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(y=B.alternate,y!==null&&fa(y,B,q,!0),B=Wr.current,B!==null){switch(B.tag){case 31:case 13:return As===null?gl():B.alternate===null&&er===0&&(er=3),B.flags&=-257,B.flags|=65536,B.lanes=q,O===Go?B.flags|=16384:(y=B.updateQueue,y===null?B.updateQueue=new Set([O]):y.add(O),iA(d,O,q)),!1;case 22:return B.flags|=65536,O===Go?B.flags|=16384:(y=B.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([O])},B.updateQueue=y):(B=y.retryQueue,B===null?y.retryQueue=new Set([O]):B.add(O)),iA(d,O,q)),!1}throw Error(s(435,B.tag))}return iA(d,O,q),gl(),!1}if(xn)return y=Wr.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=q,O!==Zl&&(d=Error(s(422),{cause:O}),Ga(is(d,B)))):(O!==Zl&&(y=Error(s(423),{cause:O}),Ga(is(y,B))),d=d.current.alternate,d.flags|=65536,q&=-q,d.lanes|=q,O=is(O,B),q=Mc(d.stateNode,O,q),Ac(d,q),er!==4&&(er=2)),!1;var ee=Error(s(520),{cause:O});if(ee=is(ee,B),uo===null?uo=[ee]:uo.push(ee),er!==4&&(er=2),y===null)return!0;O=is(O,B),B=y;do{switch(B.tag){case 3:return B.flags|=65536,d=q&-q,B.lanes|=d,d=Mc(B.stateNode,O,d),Ac(B,d),!1;case 1:if(y=B.type,ee=B.stateNode,(B.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ei===null||!Ei.has(ee))))return B.flags|=65536,q&=-q,B.lanes|=q,q=Wu(q),qu(q,d,B,O),Ac(B,q),!1}B=B.return}while(B!==null);return!1}var Oc=Error(s(461)),Ar=!1;function wr(d,y,B,O){y.child=d===null?ZA(y,null,B,O):Ki(y,d.child,B,O)}function Xu(d,y,B,O,q){B=B.render;var ee=y.ref;if("ref"in O){var ce={};for(var ye in O)ye!=="ref"&&(ce[ye]=O[ye])}else ce=O;return Qi(y),O=mc(d,y,B,ce,ee,q),ye=gc(),d!==null&&!Ar?(xc(d,y,q),Hs(d,y,q)):(xn&&ye&&Yl(y),y.flags|=1,wr(d,y,O,q),y.child)}function Yu(d,y,B,O,q){if(d===null){var ee=B.type;return typeof ee=="function"&&!Wl(ee)&&ee.defaultProps===void 0&&B.compare===null?(y.tag=15,y.type=ee,Ju(d,y,ee,O,q)):(d=$o(B.type,null,O,y,y.mode,q),d.ref=y.ref,d.return=y,y.child=d)}if(ee=d.child,!Qc(d,q)){var ce=ee.memoizedProps;if(B=B.compare,B=B!==null?B:Q,B(ce,O)&&d.ref===y.ref)return Hs(d,y,q)}return y.flags|=1,d=Ds(ee,O),d.ref=y.ref,d.return=y,y.child=d}function Ju(d,y,B,O,q){if(d!==null){var ee=d.memoizedProps;if(Q(ee,O)&&d.ref===y.ref)if(Ar=!1,y.pendingProps=O=ee,Qc(d,q))(d.flags&131072)!==0&&(Ar=!0);else return y.lanes=d.lanes,Hs(d,y,q)}return Dc(d,y,B,O,q)}function Zu(d,y,B,O){var q=O.children,ee=d!==null?d.memoizedState:null;if(d===null&&y.stateNode===null&&(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((y.flags&128)!==0){if(ee=ee!==null?ee.baseLanes|B:B,d!==null){for(O=y.child=d.child,q=0;O!==null;)q=q|O.lanes|O.childLanes,O=O.sibling;O=q&~ee}else O=0,y.child=null;return ed(d,y,ee,B,O)}if((B&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},d!==null&&Vo(y,ee!==null?ee.cachePool:null),ee!==null?nu(y,ee):dc(),ru(y);else return O=y.lanes=536870912,ed(d,y,ee!==null?ee.baseLanes|B:B,B,O)}else ee!==null?(Vo(y,ee.cachePool),nu(y,ee),gi(),y.memoizedState=null):(d!==null&&Vo(y,null),dc(),gi());return wr(d,y,q,B),y.child}function so(d,y){return d!==null&&d.tag===22||y.stateNode!==null||(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.sibling}function ed(d,y,B,O,q){var ee=ac();return ee=ee===null?null:{parent:lr._currentValue,pool:ee},y.memoizedState={baseLanes:B,cachePool:ee},d!==null&&Vo(y,null),dc(),ru(y),d!==null&&fa(d,y,O,!0),y.childLanes=q,null}function al(d,y){return y=ll({mode:y.mode,children:y.children},d.mode),y.ref=d.ref,d.child=y,y.return=d,y}function td(d,y,B){return Ki(y,d.child,null,B),d=al(y,y.pendingProps),d.flags|=2,qr(y),y.memoizedState=null,d}function ah(d,y,B){var O=y.pendingProps,q=(y.flags&128)!==0;if(y.flags&=-129,d===null){if(xn){if(O.mode==="hidden")return d=al(y,O),y.lanes=536870912,so(null,d);if(hc(y),(d=zn)?(d=hf(d,cs),d=d!==null&&d.data==="&"?d:null,d!==null&&(y.memoizedState={dehydrated:d,treeContext:ci!==null?{id:Ss,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},B=PA(d),B.return=y,y.child=B,Er=y,zn=null)):d=null,d===null)throw ui(y);return y.lanes=536870912,null}return al(y,O)}var ee=d.memoizedState;if(ee!==null){var ce=ee.dehydrated;if(hc(y),q)if(y.flags&256)y.flags&=-257,y=td(d,y,B);else if(y.memoizedState!==null)y.child=d.child,y.flags|=128,y=null;else throw Error(s(558));else if(Ar||fa(d,y,B,!1),q=(B&d.childLanes)!==0,Ar||q){if(O=$n,O!==null&&(ce=ze(O,B),ce!==0&&ce!==ee.retryLane))throw ee.retryLane=ce,ji(d,ce),Hr(O,d,ce),Oc;gl(),y=td(d,y,B)}else d=ee.treeContext,zn=us(ce.nextSibling),Er=y,xn=!0,Ai=null,cs=!1,d!==null&&UA(y,d),y=al(y,O),y.flags|=4096;return y}return d=Ds(d.child,{mode:O.mode,children:O.children}),d.ref=y.ref,y.child=d,d.return=y,d}function ol(d,y){var B=y.ref;if(B===null)d!==null&&d.ref!==null&&(y.flags|=4194816);else{if(typeof B!="function"&&typeof B!="object")throw Error(s(284));(d===null||d.ref!==B)&&(y.flags|=4194816)}}function Dc(d,y,B,O,q){return Qi(y),B=mc(d,y,B,O,void 0,q),O=gc(),d!==null&&!Ar?(xc(d,y,q),Hs(d,y,q)):(xn&&O&&Yl(y),y.flags|=1,wr(d,y,B,q),y.child)}function nd(d,y,B,O,q,ee){return Qi(y),y.updateQueue=null,B=iu(y,O,B,q),su(d),O=gc(),d!==null&&!Ar?(xc(d,y,ee),Hs(d,y,ee)):(xn&&O&&Yl(y),y.flags|=1,wr(d,y,B,ee),y.child)}function rd(d,y,B,O,q){if(Qi(y),y.stateNode===null){var ee=ca,ce=B.contextType;typeof ce=="object"&&ce!==null&&(ee=Cr(ce)),ee=new B(O,ee),y.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,ee.updater=kc,y.stateNode=ee,ee._reactInternals=y,ee=y.stateNode,ee.props=O,ee.state=y.memoizedState,ee.refs={},lc(y),ce=B.contextType,ee.context=typeof ce=="object"&&ce!==null?Cr(ce):ca,ee.state=y.memoizedState,ce=B.getDerivedStateFromProps,typeof ce=="function"&&(Fc(y,B,ce,O),ee.state=y.memoizedState),typeof B.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(ce=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),ce!==ee.state&&kc.enqueueReplaceState(ee,ee.state,null),Za(y,O,ee,q),Ja(),ee.state=y.memoizedState),typeof ee.componentDidMount=="function"&&(y.flags|=4194308),O=!0}else if(d===null){ee=y.stateNode;var ye=y.memoizedProps,Te=qi(B,ye);ee.props=Te;var He=ee.context,et=B.contextType;ce=ca,typeof et=="object"&&et!==null&&(ce=Cr(et));var rt=B.getDerivedStateFromProps;et=typeof rt=="function"||typeof ee.getSnapshotBeforeUpdate=="function",ye=y.pendingProps!==ye,et||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ye||He!==ce)&&Qu(y,ee,O,ce),fi=!1;var Qe=y.memoizedState;ee.state=Qe,Za(y,O,ee,q),Ja(),He=y.memoizedState,ye||Qe!==He||fi?(typeof rt=="function"&&(Fc(y,B,rt,O),He=y.memoizedState),(Te=fi||Hu(y,B,Te,O,Qe,He,ce))?(et||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=O,y.memoizedState=He),ee.props=O,ee.state=He,ee.context=ce,O=Te):(typeof ee.componentDidMount=="function"&&(y.flags|=4194308),O=!1)}else{ee=y.stateNode,cc(d,y),ce=y.memoizedProps,et=qi(B,ce),ee.props=et,rt=y.pendingProps,Qe=ee.context,He=B.contextType,Te=ca,typeof He=="object"&&He!==null&&(Te=Cr(He)),ye=B.getDerivedStateFromProps,(He=typeof ye=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ce!==rt||Qe!==Te)&&Qu(y,ee,O,Te),fi=!1,Qe=y.memoizedState,ee.state=Qe,Za(y,O,ee,q),Ja();var qe=y.memoizedState;ce!==rt||Qe!==qe||fi||d!==null&&d.dependencies!==null&&Ho(d.dependencies)?(typeof ye=="function"&&(Fc(y,B,ye,O),qe=y.memoizedState),(et=fi||Hu(y,B,et,O,Qe,qe,Te)||d!==null&&d.dependencies!==null&&Ho(d.dependencies))?(He||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(O,qe,Te),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(O,qe,Te)),typeof ee.componentDidUpdate=="function"&&(y.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ee.componentDidUpdate!="function"||ce===d.memoizedProps&&Qe===d.memoizedState||(y.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Qe===d.memoizedState||(y.flags|=1024),y.memoizedProps=O,y.memoizedState=qe),ee.props=O,ee.state=qe,ee.context=Te,O=et):(typeof ee.componentDidUpdate!="function"||ce===d.memoizedProps&&Qe===d.memoizedState||(y.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Qe===d.memoizedState||(y.flags|=1024),O=!1)}return ee=O,ol(d,y),O=(y.flags&128)!==0,ee||O?(ee=y.stateNode,B=O&&typeof B.getDerivedStateFromError!="function"?null:ee.render(),y.flags|=1,d!==null&&O?(y.child=Ki(y,d.child,null,q),y.child=Ki(y,null,B,q)):wr(d,y,B,q),y.memoizedState=ee.state,d=y.child):d=Hs(d,y,q),d}function sd(d,y,B,O){return Ui(),y.flags|=256,wr(d,y,B,O),y.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pc(d){return{baseLanes:d,cachePool:KA()}}function jc(d,y,B){return d=d!==null?d.childLanes&~B:0,y&&(d|=Yr),d}function id(d,y,B){var O=y.pendingProps,q=!1,ee=(y.flags&128)!==0,ce;if((ce=ee)||(ce=d!==null&&d.memoizedState===null?!1:(sr.current&2)!==0),ce&&(q=!0,y.flags&=-129),ce=(y.flags&32)!==0,y.flags&=-33,d===null){if(xn){if(q?mi(y):gi(),(d=zn)?(d=hf(d,cs),d=d!==null&&d.data!=="&"?d:null,d!==null&&(y.memoizedState={dehydrated:d,treeContext:ci!==null?{id:Ss,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},B=PA(d),B.return=y,y.child=B,Er=y,zn=null)):d=null,d===null)throw ui(y);return EA(d)?y.lanes=32:y.lanes=536870912,null}var ye=O.children;return O=O.fallback,q?(gi(),q=y.mode,ye=ll({mode:"hidden",children:ye},q),O=$i(O,q,B,null),ye.return=y,O.return=y,ye.sibling=O,y.child=ye,O=y.child,O.memoizedState=Pc(B),O.childLanes=jc(d,ce,B),y.memoizedState=Lc,so(null,O)):(mi(y),$c(y,ye))}var Te=d.memoizedState;if(Te!==null&&(ye=Te.dehydrated,ye!==null)){if(ee)y.flags&256?(mi(y),y.flags&=-257,y=Uc(d,y,B)):y.memoizedState!==null?(gi(),y.child=d.child,y.flags|=128,y=null):(gi(),ye=O.fallback,q=y.mode,O=ll({mode:"visible",children:O.children},q),ye=$i(ye,q,B,null),ye.flags|=2,O.return=y,ye.return=y,O.sibling=ye,y.child=O,Ki(y,d.child,null,B),O=y.child,O.memoizedState=Pc(B),O.childLanes=jc(d,ce,B),y.memoizedState=Lc,y=so(null,O));else if(mi(y),EA(ye)){if(ce=ye.nextSibling&&ye.nextSibling.dataset,ce)var He=ce.dgst;ce=He,O=Error(s(419)),O.stack="",O.digest=ce,Ga({value:O,source:null,stack:null}),y=Uc(d,y,B)}else if(Ar||fa(d,y,B,!1),ce=(B&d.childLanes)!==0,Ar||ce){if(ce=$n,ce!==null&&(O=ze(ce,B),O!==0&&O!==Te.retryLane))throw Te.retryLane=O,ji(d,O),Hr(ce,d,O),Oc;vA(ye)||gl(),y=Uc(d,y,B)}else vA(ye)?(y.flags|=192,y.child=d.child,y=null):(d=Te.treeContext,zn=us(ye.nextSibling),Er=y,xn=!0,Ai=null,cs=!1,d!==null&&UA(y,d),y=$c(y,O.children),y.flags|=4096);return y}return q?(gi(),ye=O.fallback,q=y.mode,Te=d.child,He=Te.sibling,O=Ds(Te,{mode:"hidden",children:O.children}),O.subtreeFlags=Te.subtreeFlags&65011712,He!==null?ye=Ds(He,ye):(ye=$i(ye,q,B,null),ye.flags|=2),ye.return=y,O.return=y,O.sibling=ye,y.child=O,so(null,O),O=y.child,ye=d.child.memoizedState,ye===null?ye=Pc(B):(q=ye.cachePool,q!==null?(Te=lr._currentValue,q=q.parent!==Te?{parent:Te,pool:Te}:q):q=KA(),ye={baseLanes:ye.baseLanes|B,cachePool:q}),O.memoizedState=ye,O.childLanes=jc(d,ce,B),y.memoizedState=Lc,so(d.child,O)):(mi(y),B=d.child,d=B.sibling,B=Ds(B,{mode:"visible",children:O.children}),B.return=y,B.sibling=null,d!==null&&(ce=y.deletions,ce===null?(y.deletions=[d],y.flags|=16):ce.push(d)),y.child=B,y.memoizedState=null,B)}function $c(d,y){return y=ll({mode:"visible",children:y},d.mode),y.return=d,d.child=y}function ll(d,y){return d=Kr(22,d,null,y),d.lanes=0,d}function Uc(d,y,B){return Ki(y,d.child,null,B),d=$c(y,y.pendingProps.children),d.flags|=2,y.memoizedState=null,d}function ad(d,y,B){d.lanes|=y;var O=d.alternate;O!==null&&(O.lanes|=y),nc(d.return,y,B)}function Hc(d,y,B,O,q,ee){var ce=d.memoizedState;ce===null?d.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:O,tail:B,tailMode:q,treeForkCount:ee}:(ce.isBackwards=y,ce.rendering=null,ce.renderingStartTime=0,ce.last=O,ce.tail=B,ce.tailMode=q,ce.treeForkCount=ee)}function od(d,y,B){var O=y.pendingProps,q=O.revealOrder,ee=O.tail;O=O.children;var ce=sr.current,ye=(ce&2)!==0;if(ye?(ce=ce&1|2,y.flags|=128):ce&=1,Re(sr,ce),wr(d,y,O,B),O=xn?za:0,!ye&&d!==null&&(d.flags&128)!==0)e:for(d=y.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ad(d,B,y);else if(d.tag===19)ad(d,B,y);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===y)break e;for(;d.sibling===null;){if(d.return===null||d.return===y)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(q){case"forwards":for(B=y.child,q=null;B!==null;)d=B.alternate,d!==null&&Xo(d)===null&&(q=B),B=B.sibling;B=q,B===null?(q=y.child,y.child=null):(q=B.sibling,B.sibling=null),Hc(y,!1,q,B,ee,O);break;case"backwards":case"unstable_legacy-backwards":for(B=null,q=y.child,y.child=null;q!==null;){if(d=q.alternate,d!==null&&Xo(d)===null){y.child=q;break}d=q.sibling,q.sibling=B,B=q,q=d}Hc(y,!0,B,null,ee,O);break;case"together":Hc(y,!1,null,null,void 0,O);break;default:y.memoizedState=null}return y.child}function Hs(d,y,B){if(d!==null&&(y.dependencies=d.dependencies),vi|=y.lanes,(B&y.childLanes)===0)if(d!==null){if(fa(d,y,B,!1),(B&y.childLanes)===0)return null}else return null;if(d!==null&&y.child!==d.child)throw Error(s(153));if(y.child!==null){for(d=y.child,B=Ds(d,d.pendingProps),y.child=B,B.return=y;d.sibling!==null;)d=d.sibling,B=B.sibling=Ds(d,d.pendingProps),B.return=y;B.sibling=null}return y.child}function Qc(d,y){return(d.lanes&y)!==0?!0:(d=d.dependencies,!!(d!==null&&Ho(d)))}function oh(d,y,B){switch(y.tag){case 3:at(y,y.stateNode.containerInfo),di(y,lr,d.memoizedState.cache),Ui();break;case 27:case 5:It(y);break;case 4:at(y,y.stateNode.containerInfo);break;case 10:di(y,y.type,y.memoizedProps.value);break;case 31:if(y.memoizedState!==null)return y.flags|=128,hc(y),null;break;case 13:var O=y.memoizedState;if(O!==null)return O.dehydrated!==null?(mi(y),y.flags|=128,null):(B&y.child.childLanes)!==0?id(d,y,B):(mi(y),d=Hs(d,y,B),d!==null?d.sibling:null);mi(y);break;case 19:var q=(d.flags&128)!==0;if(O=(B&y.childLanes)!==0,O||(fa(d,y,B,!1),O=(B&y.childLanes)!==0),q){if(O)return od(d,y,B);y.flags|=128}if(q=y.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),Re(sr,sr.current),O)break;return null;case 22:return y.lanes=0,Zu(d,y,B,y.pendingProps);case 24:di(y,lr,d.memoizedState.cache)}return Hs(d,y,B)}function ld(d,y,B){if(d!==null)if(d.memoizedProps!==y.pendingProps)Ar=!0;else{if(!Qc(d,B)&&(y.flags&128)===0)return Ar=!1,oh(d,y,B);Ar=(d.flags&131072)!==0}else Ar=!1,xn&&(y.flags&1048576)!==0&&$A(y,za,y.index);switch(y.lanes=0,y.tag){case 16:e:{var O=y.pendingProps;if(d=zi(y.elementType),y.type=d,typeof d=="function")Wl(d)?(O=qi(d,O),y.tag=1,y=rd(null,y,d,O,B)):(y.tag=0,y=Dc(null,y,d,O,B));else{if(d!=null){var q=d.$$typeof;if(q===j){y.tag=11,y=Xu(null,y,d,O,B);break e}else if(q===X){y.tag=14,y=Yu(null,y,d,O,B);break e}}throw y=ve(d)||d,Error(s(306,y,""))}}return y;case 0:return Dc(d,y,y.type,y.pendingProps,B);case 1:return O=y.type,q=qi(O,y.pendingProps),rd(d,y,O,q,B);case 3:e:{if(at(y,y.stateNode.containerInfo),d===null)throw Error(s(387));O=y.pendingProps;var ee=y.memoizedState;q=ee.element,cc(d,y),Za(y,O,null,B);var ce=y.memoizedState;if(O=ce.cache,di(y,lr,O),O!==ee.cache&&rc(y,[lr],B,!0),Ja(),O=ce.element,ee.isDehydrated)if(ee={element:O,isDehydrated:!1,cache:ce.cache},y.updateQueue.baseState=ee,y.memoizedState=ee,y.flags&256){y=sd(d,y,O,B);break e}else if(O!==q){q=is(Error(s(424)),y),Ga(q),y=sd(d,y,O,B);break e}else{switch(d=y.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(zn=us(d.firstChild),Er=y,xn=!0,Ai=null,cs=!0,B=ZA(y,null,O,B),y.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling}else{if(Ui(),O===q){y=Hs(d,y,B);break e}wr(d,y,O,B)}y=y.child}return y;case 26:return ol(d,y),d===null?(B=vf(y.type,null,y.pendingProps,null))?y.memoizedState=B:xn||(B=y.type,d=y.pendingProps,O=bl(De.current).createElement(B),O[vt]=y,O[yt]=d,br(O,B,d),yn(O),y.stateNode=O):y.memoizedState=vf(y.type,d.memoizedProps,y.pendingProps,d.memoizedState),null;case 27:return It(y),d===null&&xn&&(O=y.stateNode=gf(y.type,y.pendingProps,De.current),Er=y,cs=!0,q=zn,Si(y.type)?(CA=q,zn=us(O.firstChild)):zn=q),wr(d,y,y.pendingProps.children,B),ol(d,y),d===null&&(y.flags|=4194304),y.child;case 5:return d===null&&xn&&((q=O=zn)&&(O=Lh(O,y.type,y.pendingProps,cs),O!==null?(y.stateNode=O,Er=y,zn=us(O.firstChild),cs=!1,q=!0):q=!1),q||ui(y)),It(y),q=y.type,ee=y.pendingProps,ce=d!==null?d.memoizedProps:null,O=ee.children,gA(q,ee)?O=null:ce!==null&&gA(q,ce)&&(y.flags|=32),y.memoizedState!==null&&(q=mc(d,y,Jf,null,null,B),vo._currentValue=q),ol(d,y),wr(d,y,O,B),y.child;case 6:return d===null&&xn&&((d=B=zn)&&(B=Ph(B,y.pendingProps,cs),B!==null?(y.stateNode=B,Er=y,zn=null,d=!0):d=!1),d||ui(y)),null;case 13:return id(d,y,B);case 4:return at(y,y.stateNode.containerInfo),O=y.pendingProps,d===null?y.child=Ki(y,null,O,B):wr(d,y,O,B),y.child;case 11:return Xu(d,y,y.type,y.pendingProps,B);case 7:return wr(d,y,y.pendingProps,B),y.child;case 8:return wr(d,y,y.pendingProps.children,B),y.child;case 12:return wr(d,y,y.pendingProps.children,B),y.child;case 10:return O=y.pendingProps,di(y,y.type,O.value),wr(d,y,O.children,B),y.child;case 9:return q=y.type._context,O=y.pendingProps.children,Qi(y),q=Cr(q),O=O(q),y.flags|=1,wr(d,y,O,B),y.child;case 14:return Yu(d,y,y.type,y.pendingProps,B);case 15:return Ju(d,y,y.type,y.pendingProps,B);case 19:return od(d,y,B);case 31:return ah(d,y,B);case 22:return Zu(d,y,B,y.pendingProps);case 24:return Qi(y),O=Cr(lr),d===null?(q=ac(),q===null&&(q=$n,ee=sc(),q.pooledCache=ee,ee.refCount++,ee!==null&&(q.pooledCacheLanes|=B),q=ee),y.memoizedState={parent:O,cache:q},lc(y),di(y,lr,q)):((d.lanes&B)!==0&&(cc(d,y),Za(y,null,null,B),Ja()),q=d.memoizedState,ee=y.memoizedState,q.parent!==O?(q={parent:O,cache:O},y.memoizedState=q,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=q),di(y,lr,O)):(O=ee.cache,di(y,lr,O),O!==q.cache&&rc(y,[lr],B,!0))),wr(d,y,y.pendingProps.children,B),y.child;case 29:throw y.pendingProps}throw Error(s(156,y.tag))}function Qs(d){d.flags|=4}function Vc(d,y,B,O,q){if((y=(d.mode&32)!==0)&&(y=!1),y){if(d.flags|=16777216,(q&335544128)===q)if(d.stateNode.complete)d.flags|=8192;else if(Od())d.flags|=8192;else throw Gi=Go,oc}else d.flags&=-16777217}function cd(d,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!Sf(y))if(Od())d.flags|=8192;else throw Gi=Go,oc}function cl(d,y){y!==null&&(d.flags|=4),d.flags&16384&&(y=d.tag!==22?Dn():536870912,d.lanes|=y,Sa|=y)}function io(d,y){if(!xn)switch(d.tailMode){case"hidden":y=d.tail;for(var B=null;y!==null;)y.alternate!==null&&(B=y),y=y.sibling;B===null?d.tail=null:B.sibling=null;break;case"collapsed":B=d.tail;for(var O=null;B!==null;)B.alternate!==null&&(O=B),B=B.sibling;O===null?y||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Gn(d){var y=d.alternate!==null&&d.alternate.child===d.child,B=0,O=0;if(y)for(var q=d.child;q!==null;)B|=q.lanes|q.childLanes,O|=q.subtreeFlags&65011712,O|=q.flags&65011712,q.return=d,q=q.sibling;else for(q=d.child;q!==null;)B|=q.lanes|q.childLanes,O|=q.subtreeFlags,O|=q.flags,q.return=d,q=q.sibling;return d.subtreeFlags|=O,d.childLanes=B,y}function lh(d,y,B){var O=y.pendingProps;switch(Jl(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(y),null;case 1:return Gn(y),null;case 3:return B=y.stateNode,O=null,d!==null&&(O=d.memoizedState.cache),y.memoizedState.cache!==O&&(y.flags|=2048),js(lr),Ct(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(d===null||d.child===null)&&(da(y)?Qs(y):d===null||d.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,ec())),Gn(y),null;case 26:var q=y.type,ee=y.memoizedState;return d===null?(Qs(y),ee!==null?(Gn(y),cd(y,ee)):(Gn(y),Vc(y,q,null,O,B))):ee?ee!==d.memoizedState?(Qs(y),Gn(y),cd(y,ee)):(Gn(y),y.flags&=-16777217):(d=d.memoizedProps,d!==O&&Qs(y),Gn(y),Vc(y,q,d,O,B)),null;case 27:if(mt(y),B=De.current,q=y.type,d!==null&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(!O){if(y.stateNode===null)throw Error(s(166));return Gn(y),null}d=Be.current,da(y)?HA(y):(d=gf(q,O,B),y.stateNode=d,Qs(y))}return Gn(y),null;case 5:if(mt(y),q=y.type,d!==null&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(!O){if(y.stateNode===null)throw Error(s(166));return Gn(y),null}if(ee=Be.current,da(y))HA(y);else{var ce=bl(De.current);switch(ee){case 1:ee=ce.createElementNS("http://www.w3.org/2000/svg",q);break;case 2:ee=ce.createElementNS("http://www.w3.org/1998/Math/MathML",q);break;default:switch(q){case"svg":ee=ce.createElementNS("http://www.w3.org/2000/svg",q);break;case"math":ee=ce.createElementNS("http://www.w3.org/1998/Math/MathML",q);break;case"script":ee=ce.createElement("div"),ee.innerHTML="<script><\/script>",ee=ee.removeChild(ee.firstChild);break;case"select":ee=typeof O.is=="string"?ce.createElement("select",{is:O.is}):ce.createElement("select"),O.multiple?ee.multiple=!0:O.size&&(ee.size=O.size);break;default:ee=typeof O.is=="string"?ce.createElement(q,{is:O.is}):ce.createElement(q)}}ee[vt]=y,ee[yt]=O;e:for(ce=y.child;ce!==null;){if(ce.tag===5||ce.tag===6)ee.appendChild(ce.stateNode);else if(ce.tag!==4&&ce.tag!==27&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===y)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===y)break e;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}y.stateNode=ee;e:switch(br(ee,q,O),q){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&Qs(y)}}return Gn(y),Vc(y,y.type,d===null?null:d.memoizedProps,y.pendingProps,B),null;case 6:if(d&&y.stateNode!=null)d.memoizedProps!==O&&Qs(y);else{if(typeof O!="string"&&y.stateNode===null)throw Error(s(166));if(d=De.current,da(y)){if(d=y.stateNode,B=y.memoizedProps,O=null,q=Er,q!==null)switch(q.tag){case 27:case 5:O=q.memoizedProps}d[vt]=y,d=!!(d.nodeValue===B||O!==null&&O.suppressHydrationWarning===!0||af(d.nodeValue,B)),d||ui(y,!0)}else d=bl(d).createTextNode(O),d[vt]=y,y.stateNode=d}return Gn(y),null;case 31:if(B=y.memoizedState,d===null||d.memoizedState!==null){if(O=da(y),B!==null){if(d===null){if(!O)throw Error(s(318));if(d=y.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(557));d[vt]=y}else Ui(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Gn(y),d=!1}else B=ec(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=B),d=!0;if(!d)return y.flags&256?(qr(y),y):(qr(y),null);if((y.flags&128)!==0)throw Error(s(558))}return Gn(y),null;case 13:if(O=y.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(q=da(y),O!==null&&O.dehydrated!==null){if(d===null){if(!q)throw Error(s(318));if(q=y.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(s(317));q[vt]=y}else Ui(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Gn(y),q=!1}else q=ec(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=q),q=!0;if(!q)return y.flags&256?(qr(y),y):(qr(y),null)}return qr(y),(y.flags&128)!==0?(y.lanes=B,y):(B=O!==null,d=d!==null&&d.memoizedState!==null,B&&(O=y.child,q=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(q=O.alternate.memoizedState.cachePool.pool),ee=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(ee=O.memoizedState.cachePool.pool),ee!==q&&(O.flags|=2048)),B!==d&&B&&(y.child.flags|=8192),cl(y,y.updateQueue),Gn(y),null);case 4:return Ct(),d===null&&dA(y.stateNode.containerInfo),Gn(y),null;case 10:return js(y.type),Gn(y),null;case 19:if(we(sr),O=y.memoizedState,O===null)return Gn(y),null;if(q=(y.flags&128)!==0,ee=O.rendering,ee===null)if(q)io(O,!1);else{if(er!==0||d!==null&&(d.flags&128)!==0)for(d=y.child;d!==null;){if(ee=Xo(d),ee!==null){for(y.flags|=128,io(O,!1),d=ee.updateQueue,y.updateQueue=d,cl(y,d),y.subtreeFlags=0,d=B,B=y.child;B!==null;)LA(B,d),B=B.sibling;return Re(sr,sr.current&1|2),xn&&Ls(y,O.treeForkCount),y.child}d=d.sibling}O.tail!==null&&st()>hl&&(y.flags|=128,q=!0,io(O,!1),y.lanes=4194304)}else{if(!q)if(d=Xo(ee),d!==null){if(y.flags|=128,q=!0,d=d.updateQueue,y.updateQueue=d,cl(y,d),io(O,!0),O.tail===null&&O.tailMode==="hidden"&&!ee.alternate&&!xn)return Gn(y),null}else 2*st()-O.renderingStartTime>hl&&B!==536870912&&(y.flags|=128,q=!0,io(O,!1),y.lanes=4194304);O.isBackwards?(ee.sibling=y.child,y.child=ee):(d=O.last,d!==null?d.sibling=ee:y.child=ee,O.last=ee)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=st(),d.sibling=null,B=sr.current,Re(sr,q?B&1|2:B&1),xn&&Ls(y,O.treeForkCount),d):(Gn(y),null);case 22:case 23:return qr(y),fc(),O=y.memoizedState!==null,d!==null?d.memoizedState!==null!==O&&(y.flags|=8192):O&&(y.flags|=8192),O?(B&536870912)!==0&&(y.flags&128)===0&&(Gn(y),y.subtreeFlags&6&&(y.flags|=8192)):Gn(y),B=y.updateQueue,B!==null&&cl(y,B.retryQueue),B=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(B=d.memoizedState.cachePool.pool),O=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==B&&(y.flags|=2048),d!==null&&we(Vi),null;case 24:return B=null,d!==null&&(B=d.memoizedState.cache),y.memoizedState.cache!==B&&(y.flags|=2048),js(lr),Gn(y),null;case 25:return null;case 30:return null}throw Error(s(156,y.tag))}function ch(d,y){switch(Jl(y),y.tag){case 1:return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 3:return js(lr),Ct(),d=y.flags,(d&65536)!==0&&(d&128)===0?(y.flags=d&-65537|128,y):null;case 26:case 27:case 5:return mt(y),null;case 31:if(y.memoizedState!==null){if(qr(y),y.alternate===null)throw Error(s(340));Ui()}return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 13:if(qr(y),d=y.memoizedState,d!==null&&d.dehydrated!==null){if(y.alternate===null)throw Error(s(340));Ui()}return d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 19:return we(sr),null;case 4:return Ct(),null;case 10:return js(y.type),null;case 22:case 23:return qr(y),fc(),d!==null&&we(Vi),d=y.flags,d&65536?(y.flags=d&-65537|128,y):null;case 24:return js(lr),null;case 25:return null;default:return null}}function Ad(d,y){switch(Jl(y),y.tag){case 3:js(lr),Ct();break;case 26:case 27:case 5:mt(y);break;case 4:Ct();break;case 31:y.memoizedState!==null&&qr(y);break;case 13:qr(y);break;case 19:we(sr);break;case 10:js(y.type);break;case 22:case 23:qr(y),fc(),d!==null&&we(Vi);break;case 24:js(lr)}}function ao(d,y){try{var B=y.updateQueue,O=B!==null?B.lastEffect:null;if(O!==null){var q=O.next;B=q;do{if((B.tag&d)===d){O=void 0;var ee=B.create,ce=B.inst;O=ee(),ce.destroy=O}B=B.next}while(B!==q)}}catch(ye){Rn(y,y.return,ye)}}function xi(d,y,B){try{var O=y.updateQueue,q=O!==null?O.lastEffect:null;if(q!==null){var ee=q.next;O=ee;do{if((O.tag&d)===d){var ce=O.inst,ye=ce.destroy;if(ye!==void 0){ce.destroy=void 0,q=y;var Te=B,He=ye;try{He()}catch(et){Rn(q,Te,et)}}}O=O.next}while(O!==ee)}}catch(et){Rn(y,y.return,et)}}function ud(d){var y=d.updateQueue;if(y!==null){var B=d.stateNode;try{tu(y,B)}catch(O){Rn(d,d.return,O)}}}function dd(d,y,B){B.props=qi(d.type,d.memoizedProps),B.state=d.memoizedState;try{B.componentWillUnmount()}catch(O){Rn(d,y,O)}}function oo(d,y){try{var B=d.ref;if(B!==null){switch(d.tag){case 26:case 27:case 5:var O=d.stateNode;break;case 30:O=d.stateNode;break;default:O=d.stateNode}typeof B=="function"?d.refCleanup=B(O):B.current=O}}catch(q){Rn(d,y,q)}}function _s(d,y){var B=d.ref,O=d.refCleanup;if(B!==null)if(typeof O=="function")try{O()}catch(q){Rn(d,y,q)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof B=="function")try{B(null)}catch(q){Rn(d,y,q)}else B.current=null}function fd(d){var y=d.type,B=d.memoizedProps,O=d.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":B.autoFocus&&O.focus();break e;case"img":B.src?O.src=B.src:B.srcSet&&(O.srcset=B.srcSet)}}catch(q){Rn(d,d.return,q)}}function zc(d,y,B){try{var O=d.stateNode;Nh(O,d.type,B,y),O[yt]=y}catch(q){Rn(d,d.return,q)}}function hd(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Si(d.type)||d.tag===4}function Gc(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||hd(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Si(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Kc(d,y,B){var O=d.tag;if(O===5||O===6)d=d.stateNode,y?(B.nodeType===9?B.body:B.nodeName==="HTML"?B.ownerDocument.body:B).insertBefore(d,y):(y=B.nodeType===9?B.body:B.nodeName==="HTML"?B.ownerDocument.body:B,y.appendChild(d),B=B._reactRootContainer,B!=null||y.onclick!==null||(y.onclick=Or));else if(O!==4&&(O===27&&Si(d.type)&&(B=d.stateNode,y=null),d=d.child,d!==null))for(Kc(d,y,B),d=d.sibling;d!==null;)Kc(d,y,B),d=d.sibling}function Al(d,y,B){var O=d.tag;if(O===5||O===6)d=d.stateNode,y?B.insertBefore(d,y):B.appendChild(d);else if(O!==4&&(O===27&&Si(d.type)&&(B=d.stateNode),d=d.child,d!==null))for(Al(d,y,B),d=d.sibling;d!==null;)Al(d,y,B),d=d.sibling}function pd(d){var y=d.stateNode,B=d.memoizedProps;try{for(var O=d.type,q=y.attributes;q.length;)y.removeAttributeNode(q[0]);br(y,O,B),y[vt]=d,y[yt]=B}catch(ee){Rn(d,d.return,ee)}}var Vs=!1,ur=!1,Wc=!1,md=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Ah(d,y){if(d=d.containerInfo,pA=Fl,d=he(d),xe(d)){if("selectionStart"in d)var B={start:d.selectionStart,end:d.selectionEnd};else e:{B=(B=d.ownerDocument)&&B.defaultView||window;var O=B.getSelection&&B.getSelection();if(O&&O.rangeCount!==0){B=O.anchorNode;var q=O.anchorOffset,ee=O.focusNode;O=O.focusOffset;try{B.nodeType,ee.nodeType}catch{B=null;break e}var ce=0,ye=-1,Te=-1,He=0,et=0,rt=d,Qe=null;t:for(;;){for(var qe;rt!==B||q!==0&&rt.nodeType!==3||(ye=ce+q),rt!==ee||O!==0&&rt.nodeType!==3||(Te=ce+O),rt.nodeType===3&&(ce+=rt.nodeValue.length),(qe=rt.firstChild)!==null;)Qe=rt,rt=qe;for(;;){if(rt===d)break t;if(Qe===B&&++He===q&&(ye=ce),Qe===ee&&++et===O&&(Te=ce),(qe=rt.nextSibling)!==null)break;rt=Qe,Qe=rt.parentNode}rt=qe}B=ye===-1||Te===-1?null:{start:ye,end:Te}}else B=null}B=B||{start:0,end:0}}else B=null;for(mA={focusedElem:d,selectionRange:B},Fl=!1,yr=y;yr!==null;)if(y=yr,d=y.child,(y.subtreeFlags&1028)!==0&&d!==null)d.return=y,yr=d;else for(;yr!==null;){switch(y=yr,ee=y.alternate,d=y.flags,y.tag){case 0:if((d&4)!==0&&(d=y.updateQueue,d=d!==null?d.events:null,d!==null))for(B=0;B<d.length;B++)q=d[B],q.ref.impl=q.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&ee!==null){d=void 0,B=y,q=ee.memoizedProps,ee=ee.memoizedState,O=B.stateNode;try{var _t=qi(B.type,q);d=O.getSnapshotBeforeUpdate(_t,ee),O.__reactInternalSnapshotBeforeUpdate=d}catch(Qt){Rn(B,B.return,Qt)}}break;case 3:if((d&1024)!==0){if(d=y.stateNode.containerInfo,B=d.nodeType,B===9)yA(d);else if(B===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":yA(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=y.sibling,d!==null){d.return=y.return,yr=d;break}yr=y.return}}function gd(d,y,B){var O=B.flags;switch(B.tag){case 0:case 11:case 15:Gs(d,B),O&4&&ao(5,B);break;case 1:if(Gs(d,B),O&4)if(d=B.stateNode,y===null)try{d.componentDidMount()}catch(ce){Rn(B,B.return,ce)}else{var q=qi(B.type,y.memoizedProps);y=y.memoizedState;try{d.componentDidUpdate(q,y,d.__reactInternalSnapshotBeforeUpdate)}catch(ce){Rn(B,B.return,ce)}}O&64&&ud(B),O&512&&oo(B,B.return);break;case 3:if(Gs(d,B),O&64&&(d=B.updateQueue,d!==null)){if(y=null,B.child!==null)switch(B.child.tag){case 27:case 5:y=B.child.stateNode;break;case 1:y=B.child.stateNode}try{tu(d,y)}catch(ce){Rn(B,B.return,ce)}}break;case 27:y===null&&O&4&&pd(B);case 26:case 5:Gs(d,B),y===null&&O&4&&fd(B),O&512&&oo(B,B.return);break;case 12:Gs(d,B);break;case 31:Gs(d,B),O&4&&vd(d,B);break;case 13:Gs(d,B),O&4&&Ed(d,B),O&64&&(d=B.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(B=yh.bind(null,B),jh(d,B))));break;case 22:if(O=B.memoizedState!==null||Vs,!O){y=y!==null&&y.memoizedState!==null||ur,q=Vs;var ee=ur;Vs=O,(ur=y)&&!ee?Ks(d,B,(B.subtreeFlags&8772)!==0):Gs(d,B),Vs=q,ur=ee}break;case 30:break;default:Gs(d,B)}}function xd(d){var y=d.alternate;y!==null&&(d.alternate=null,xd(y)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(y=d.stateNode,y!==null&&en(y)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Yn=null,Pr=!1;function zs(d,y,B){for(B=B.child;B!==null;)yd(d,y,B),B=B.sibling}function yd(d,y,B){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ve,B)}catch{}switch(B.tag){case 26:ur||_s(B,y),zs(d,y,B),B.memoizedState?B.memoizedState.count--:B.stateNode&&(B=B.stateNode,B.parentNode.removeChild(B));break;case 27:ur||_s(B,y);var O=Yn,q=Pr;Si(B.type)&&(Yn=B.stateNode,Pr=!1),zs(d,y,B),go(B.stateNode),Yn=O,Pr=q;break;case 5:ur||_s(B,y);case 6:if(O=Yn,q=Pr,Yn=null,zs(d,y,B),Yn=O,Pr=q,Yn!==null)if(Pr)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(B.stateNode)}catch(ee){Rn(B,y,ee)}else try{Yn.removeChild(B.stateNode)}catch(ee){Rn(B,y,ee)}break;case 18:Yn!==null&&(Pr?(d=Yn,df(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,B.stateNode),ka(d)):df(Yn,B.stateNode));break;case 4:O=Yn,q=Pr,Yn=B.stateNode.containerInfo,Pr=!0,zs(d,y,B),Yn=O,Pr=q;break;case 0:case 11:case 14:case 15:xi(2,B,y),ur||xi(4,B,y),zs(d,y,B);break;case 1:ur||(_s(B,y),O=B.stateNode,typeof O.componentWillUnmount=="function"&&dd(B,y,O)),zs(d,y,B);break;case 21:zs(d,y,B);break;case 22:ur=(O=ur)||B.memoizedState!==null,zs(d,y,B),ur=O;break;default:zs(d,y,B)}}function vd(d,y){if(y.memoizedState===null&&(d=y.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{ka(d)}catch(B){Rn(y,y.return,B)}}}function Ed(d,y){if(y.memoizedState===null&&(d=y.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{ka(d)}catch(B){Rn(y,y.return,B)}}function uh(d){switch(d.tag){case 31:case 13:case 19:var y=d.stateNode;return y===null&&(y=d.stateNode=new md),y;case 22:return d=d.stateNode,y=d._retryCache,y===null&&(y=d._retryCache=new md),y;default:throw Error(s(435,d.tag))}}function ul(d,y){var B=uh(d);y.forEach(function(O){if(!B.has(O)){B.add(O);var q=vh.bind(null,d,O);O.then(q,q)}})}function jr(d,y){var B=y.deletions;if(B!==null)for(var O=0;O<B.length;O++){var q=B[O],ee=d,ce=y,ye=ce;e:for(;ye!==null;){switch(ye.tag){case 27:if(Si(ye.type)){Yn=ye.stateNode,Pr=!1;break e}break;case 5:Yn=ye.stateNode,Pr=!1;break e;case 3:case 4:Yn=ye.stateNode.containerInfo,Pr=!0;break e}ye=ye.return}if(Yn===null)throw Error(s(160));yd(ee,ce,q),Yn=null,Pr=!1,ee=q.alternate,ee!==null&&(ee.return=null),q.return=null}if(y.subtreeFlags&13886)for(y=y.child;y!==null;)Cd(y,d),y=y.sibling}var xs=null;function Cd(d,y){var B=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:jr(y,d),$r(d),O&4&&(xi(3,d,d.return),ao(3,d),xi(5,d,d.return));break;case 1:jr(y,d),$r(d),O&512&&(ur||B===null||_s(B,B.return)),O&64&&Vs&&(d=d.updateQueue,d!==null&&(O=d.callbacks,O!==null&&(B=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=B===null?O:B.concat(O))));break;case 26:var q=xs;if(jr(y,d),$r(d),O&512&&(ur||B===null||_s(B,B.return)),O&4){var ee=B!==null?B.memoizedState:null;if(O=d.memoizedState,B===null)if(O===null)if(d.stateNode===null){e:{O=d.type,B=d.memoizedProps,q=q.ownerDocument||q;t:switch(O){case"title":ee=q.getElementsByTagName("title")[0],(!ee||ee[Hn]||ee[vt]||ee.namespaceURI==="http://www.w3.org/2000/svg"||ee.hasAttribute("itemprop"))&&(ee=q.createElement(O),q.head.insertBefore(ee,q.querySelector("head > title"))),br(ee,O,B),ee[vt]=d,yn(ee),O=ee;break e;case"link":var ce=wf("link","href",q).get(O+(B.href||""));if(ce){for(var ye=0;ye<ce.length;ye++)if(ee=ce[ye],ee.getAttribute("href")===(B.href==null||B.href===""?null:B.href)&&ee.getAttribute("rel")===(B.rel==null?null:B.rel)&&ee.getAttribute("title")===(B.title==null?null:B.title)&&ee.getAttribute("crossorigin")===(B.crossOrigin==null?null:B.crossOrigin)){ce.splice(ye,1);break t}}ee=q.createElement(O),br(ee,O,B),q.head.appendChild(ee);break;case"meta":if(ce=wf("meta","content",q).get(O+(B.content||""))){for(ye=0;ye<ce.length;ye++)if(ee=ce[ye],ee.getAttribute("content")===(B.content==null?null:""+B.content)&&ee.getAttribute("name")===(B.name==null?null:B.name)&&ee.getAttribute("property")===(B.property==null?null:B.property)&&ee.getAttribute("http-equiv")===(B.httpEquiv==null?null:B.httpEquiv)&&ee.getAttribute("charset")===(B.charSet==null?null:B.charSet)){ce.splice(ye,1);break t}}ee=q.createElement(O),br(ee,O,B),q.head.appendChild(ee);break;default:throw Error(s(468,O))}ee[vt]=d,yn(ee),O=ee}d.stateNode=O}else bf(q,d.type,d.stateNode);else d.stateNode=Cf(q,O,d.memoizedProps);else ee!==O?(ee===null?B.stateNode!==null&&(B=B.stateNode,B.parentNode.removeChild(B)):ee.count--,O===null?bf(q,d.type,d.stateNode):Cf(q,O,d.memoizedProps)):O===null&&d.stateNode!==null&&zc(d,d.memoizedProps,B.memoizedProps)}break;case 27:jr(y,d),$r(d),O&512&&(ur||B===null||_s(B,B.return)),B!==null&&O&4&&zc(d,d.memoizedProps,B.memoizedProps);break;case 5:if(jr(y,d),$r(d),O&512&&(ur||B===null||_s(B,B.return)),d.flags&32){q=d.stateNode;try{ei(q,"")}catch(_t){Rn(d,d.return,_t)}}O&4&&d.stateNode!=null&&(q=d.memoizedProps,zc(d,q,B!==null?B.memoizedProps:q)),O&1024&&(Wc=!0);break;case 6:if(jr(y,d),$r(d),O&4){if(d.stateNode===null)throw Error(s(162));O=d.memoizedProps,B=d.stateNode;try{B.nodeValue=O}catch(_t){Rn(d,d.return,_t)}}break;case 3:if(_l=null,q=xs,xs=Sl(y.containerInfo),jr(y,d),xs=q,$r(d),O&4&&B!==null&&B.memoizedState.isDehydrated)try{ka(y.containerInfo)}catch(_t){Rn(d,d.return,_t)}Wc&&(Wc=!1,wd(d));break;case 4:O=xs,xs=Sl(d.stateNode.containerInfo),jr(y,d),$r(d),xs=O;break;case 12:jr(y,d),$r(d);break;case 31:jr(y,d),$r(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 13:jr(y,d),$r(d),d.child.flags&8192&&d.memoizedState!==null!=(B!==null&&B.memoizedState!==null)&&(fl=st()),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 22:q=d.memoizedState!==null;var Te=B!==null&&B.memoizedState!==null,He=Vs,et=ur;if(Vs=He||q,ur=et||Te,jr(y,d),ur=et,Vs=He,$r(d),O&8192)e:for(y=d.stateNode,y._visibility=q?y._visibility&-2:y._visibility|1,q&&(B===null||Te||Vs||ur||Xi(d)),B=null,y=d;;){if(y.tag===5||y.tag===26){if(B===null){Te=B=y;try{if(ee=Te.stateNode,q)ce=ee.style,typeof ce.setProperty=="function"?ce.setProperty("display","none","important"):ce.display="none";else{ye=Te.stateNode;var rt=Te.memoizedProps.style,Qe=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;ye.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(_t){Rn(Te,Te.return,_t)}}}else if(y.tag===6){if(B===null){Te=y;try{Te.stateNode.nodeValue=q?"":Te.memoizedProps}catch(_t){Rn(Te,Te.return,_t)}}}else if(y.tag===18){if(B===null){Te=y;try{var qe=Te.stateNode;q?ff(qe,!0):ff(Te.stateNode,!1)}catch(_t){Rn(Te,Te.return,_t)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===d)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break e;for(;y.sibling===null;){if(y.return===null||y.return===d)break e;B===y&&(B=null),y=y.return}B===y&&(B=null),y.sibling.return=y.return,y=y.sibling}O&4&&(O=d.updateQueue,O!==null&&(B=O.retryQueue,B!==null&&(O.retryQueue=null,ul(d,B))));break;case 19:jr(y,d),$r(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ul(d,O)));break;case 30:break;case 21:break;default:jr(y,d),$r(d)}}function $r(d){var y=d.flags;if(y&2){try{for(var B,O=d.return;O!==null;){if(hd(O)){B=O;break}O=O.return}if(B==null)throw Error(s(160));switch(B.tag){case 27:var q=B.stateNode,ee=Gc(d);Al(d,ee,q);break;case 5:var ce=B.stateNode;B.flags&32&&(ei(ce,""),B.flags&=-33);var ye=Gc(d);Al(d,ye,ce);break;case 3:case 4:var Te=B.stateNode.containerInfo,He=Gc(d);Kc(d,He,Te);break;default:throw Error(s(161))}}catch(et){Rn(d,d.return,et)}d.flags&=-3}y&4096&&(d.flags&=-4097)}function wd(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var y=d;wd(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),d=d.sibling}}function Gs(d,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)gd(d,y.alternate,y),y=y.sibling}function Xi(d){for(d=d.child;d!==null;){var y=d;switch(y.tag){case 0:case 11:case 14:case 15:xi(4,y,y.return),Xi(y);break;case 1:_s(y,y.return);var B=y.stateNode;typeof B.componentWillUnmount=="function"&&dd(y,y.return,B),Xi(y);break;case 27:go(y.stateNode);case 26:case 5:_s(y,y.return),Xi(y);break;case 22:y.memoizedState===null&&Xi(y);break;case 30:Xi(y);break;default:Xi(y)}d=d.sibling}}function Ks(d,y,B){for(B=B&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var O=y.alternate,q=d,ee=y,ce=ee.flags;switch(ee.tag){case 0:case 11:case 15:Ks(q,ee,B),ao(4,ee);break;case 1:if(Ks(q,ee,B),O=ee,q=O.stateNode,typeof q.componentDidMount=="function")try{q.componentDidMount()}catch(He){Rn(O,O.return,He)}if(O=ee,q=O.updateQueue,q!==null){var ye=O.stateNode;try{var Te=q.shared.hiddenCallbacks;if(Te!==null)for(q.shared.hiddenCallbacks=null,q=0;q<Te.length;q++)eu(Te[q],ye)}catch(He){Rn(O,O.return,He)}}B&&ce&64&&ud(ee),oo(ee,ee.return);break;case 27:pd(ee);case 26:case 5:Ks(q,ee,B),B&&O===null&&ce&4&&fd(ee),oo(ee,ee.return);break;case 12:Ks(q,ee,B);break;case 31:Ks(q,ee,B),B&&ce&4&&vd(q,ee);break;case 13:Ks(q,ee,B),B&&ce&4&&Ed(q,ee);break;case 22:ee.memoizedState===null&&Ks(q,ee,B),oo(ee,ee.return);break;case 30:break;default:Ks(q,ee,B)}y=y.sibling}}function qc(d,y){var B=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(B=d.memoizedState.cachePool.pool),d=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(d=y.memoizedState.cachePool.pool),d!==B&&(d!=null&&d.refCount++,B!=null&&Ka(B))}function Xc(d,y){d=null,y.alternate!==null&&(d=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==d&&(y.refCount++,d!=null&&Ka(d))}function ys(d,y,B,O){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)bd(d,y,B,O),y=y.sibling}function bd(d,y,B,O){var q=y.flags;switch(y.tag){case 0:case 11:case 15:ys(d,y,B,O),q&2048&&ao(9,y);break;case 1:ys(d,y,B,O);break;case 3:ys(d,y,B,O),q&2048&&(d=null,y.alternate!==null&&(d=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==d&&(y.refCount++,d!=null&&Ka(d)));break;case 12:if(q&2048){ys(d,y,B,O),d=y.stateNode;try{var ee=y.memoizedProps,ce=ee.id,ye=ee.onPostCommit;typeof ye=="function"&&ye(ce,y.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Te){Rn(y,y.return,Te)}}else ys(d,y,B,O);break;case 31:ys(d,y,B,O);break;case 13:ys(d,y,B,O);break;case 23:break;case 22:ee=y.stateNode,ce=y.alternate,y.memoizedState!==null?ee._visibility&2?ys(d,y,B,O):lo(d,y):ee._visibility&2?ys(d,y,B,O):(ee._visibility|=2,Ca(d,y,B,O,(y.subtreeFlags&10256)!==0||!1)),q&2048&&qc(ce,y);break;case 24:ys(d,y,B,O),q&2048&&Xc(y.alternate,y);break;default:ys(d,y,B,O)}}function Ca(d,y,B,O,q){for(q=q&&((y.subtreeFlags&10256)!==0||!1),y=y.child;y!==null;){var ee=d,ce=y,ye=B,Te=O,He=ce.flags;switch(ce.tag){case 0:case 11:case 15:Ca(ee,ce,ye,Te,q),ao(8,ce);break;case 23:break;case 22:var et=ce.stateNode;ce.memoizedState!==null?et._visibility&2?Ca(ee,ce,ye,Te,q):lo(ee,ce):(et._visibility|=2,Ca(ee,ce,ye,Te,q)),q&&He&2048&&qc(ce.alternate,ce);break;case 24:Ca(ee,ce,ye,Te,q),q&&He&2048&&Xc(ce.alternate,ce);break;default:Ca(ee,ce,ye,Te,q)}y=y.sibling}}function lo(d,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var B=d,O=y,q=O.flags;switch(O.tag){case 22:lo(B,O),q&2048&&qc(O.alternate,O);break;case 24:lo(B,O),q&2048&&Xc(O.alternate,O);break;default:lo(B,O)}y=y.sibling}}var co=8192;function wa(d,y,B){if(d.subtreeFlags&co)for(d=d.child;d!==null;)Sd(d,y,B),d=d.sibling}function Sd(d,y,B){switch(d.tag){case 26:wa(d,y,B),d.flags&co&&d.memoizedState!==null&&Yh(B,xs,d.memoizedState,d.memoizedProps);break;case 5:wa(d,y,B);break;case 3:case 4:var O=xs;xs=Sl(d.stateNode.containerInfo),wa(d,y,B),xs=O;break;case 22:d.memoizedState===null&&(O=d.alternate,O!==null&&O.memoizedState!==null?(O=co,co=16777216,wa(d,y,B),co=O):wa(d,y,B));break;default:wa(d,y,B)}}function Bd(d){var y=d.alternate;if(y!==null&&(d=y.child,d!==null)){y.child=null;do y=d.sibling,d.sibling=null,d=y;while(d!==null)}}function Ao(d){var y=d.deletions;if((d.flags&16)!==0){if(y!==null)for(var B=0;B<y.length;B++){var O=y[B];yr=O,Td(O,d)}Bd(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)_d(d),d=d.sibling}function _d(d){switch(d.tag){case 0:case 11:case 15:Ao(d),d.flags&2048&&xi(9,d,d.return);break;case 3:Ao(d);break;case 12:Ao(d);break;case 22:var y=d.stateNode;d.memoizedState!==null&&y._visibility&2&&(d.return===null||d.return.tag!==13)?(y._visibility&=-3,dl(d)):Ao(d);break;default:Ao(d)}}function dl(d){var y=d.deletions;if((d.flags&16)!==0){if(y!==null)for(var B=0;B<y.length;B++){var O=y[B];yr=O,Td(O,d)}Bd(d)}for(d=d.child;d!==null;){switch(y=d,y.tag){case 0:case 11:case 15:xi(8,y,y.return),dl(y);break;case 22:B=y.stateNode,B._visibility&2&&(B._visibility&=-3,dl(y));break;default:dl(y)}d=d.sibling}}function Td(d,y){for(;yr!==null;){var B=yr;switch(B.tag){case 0:case 11:case 15:xi(8,B,y);break;case 23:case 22:if(B.memoizedState!==null&&B.memoizedState.cachePool!==null){var O=B.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Ka(B.memoizedState.cache)}if(O=B.child,O!==null)O.return=B,yr=O;else e:for(B=d;yr!==null;){O=yr;var q=O.sibling,ee=O.return;if(xd(O),O===B){yr=null;break e}if(q!==null){q.return=ee,yr=q;break e}yr=ee}}}var dh={getCacheForType:function(d){var y=Cr(lr),B=y.data.get(d);return B===void 0&&(B=d(),y.data.set(d,B)),B},cacheSignal:function(){return Cr(lr).controller.signal}},fh=typeof WeakMap=="function"?WeakMap:Map,bn=0,$n=null,cn=null,hn=0,Tn=0,Xr=null,yi=!1,ba=!1,Yc=!1,Ws=0,er=0,vi=0,Yi=0,Jc=0,Yr=0,Sa=0,uo=null,Ur=null,Zc=!1,fl=0,Rd=0,hl=1/0,pl=null,Ei=null,mr=0,Ci=null,Ba=null,qs=0,eA=0,tA=null,Id=null,fo=0,nA=null;function Jr(){return(bn&2)!==0&&hn!==0?hn&-hn:ae.T!==null?lA():wt()}function Nd(){if(Yr===0)if((hn&536870912)===0||xn){var d=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),Yr=d}else Yr=536870912;return d=Wr.current,d!==null&&(d.flags|=32),Yr}function Hr(d,y,B){(d===$n&&(Tn===2||Tn===9)||d.cancelPendingCommit!==null)&&(_a(d,0),wi(d,hn,Yr,!1)),Zr(d,B),((bn&2)===0||d!==$n)&&(d===$n&&((bn&2)===0&&(Yi|=B),er===4&&wi(d,hn,Yr,!1)),Ts(d))}function Fd(d,y,B){if((bn&6)!==0)throw Error(s(327));var O=!B&&(y&127)===0&&(y&d.expiredLanes)===0||Nn(d,y),q=O?mh(d,y):sA(d,y,!0),ee=O;do{if(q===0){ba&&!O&&wi(d,y,0,!1);break}else{if(B=d.current.alternate,ee&&!hh(B)){q=sA(d,y,!1),ee=!1;continue}if(q===2){if(ee=y,d.errorRecoveryDisabledLanes&ee)var ce=0;else ce=d.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){y=ce;e:{var ye=d;q=uo;var Te=ye.current.memoizedState.isDehydrated;if(Te&&(_a(ye,ce).flags|=256),ce=sA(ye,ce,!1),ce!==2){if(Yc&&!Te){ye.errorRecoveryDisabledLanes|=ee,Yi|=ee,q=4;break e}ee=Ur,Ur=q,ee!==null&&(Ur===null?Ur=ee:Ur.push.apply(Ur,ee))}q=ce}if(ee=!1,q!==2)continue}}if(q===1){_a(d,0),wi(d,y,0,!0);break}e:{switch(O=d,ee=q,ee){case 0:case 1:throw Error(s(345));case 4:if((y&4194048)!==y)break;case 6:wi(O,y,Yr,!yi);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(s(329))}if((y&62914560)===y&&(q=fl+300-st(),10<q)){if(wi(O,y,Yr,!yi),Sr(O,0,!0)!==0)break e;qs=y,O.timeoutHandle=Af(kd.bind(null,O,B,Ur,pl,Zc,y,Yr,Yi,Sa,yi,ee,"Throttled",-0,0),q);break e}kd(O,B,Ur,pl,Zc,y,Yr,Yi,Sa,yi,ee,null,-0,0)}}break}while(!0);Ts(d)}function kd(d,y,B,O,q,ee,ce,ye,Te,He,et,rt,Qe,qe){if(d.timeoutHandle=-1,rt=y.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},Sd(y,ee,rt);var _t=(ee&62914560)===ee?fl-st():(ee&4194048)===ee?Rd-st():0;if(_t=Jh(rt,_t),_t!==null){qs=ee,d.cancelPendingCommit=_t(Ud.bind(null,d,y,ee,B,O,q,ce,ye,Te,et,rt,null,Qe,qe)),wi(d,ee,ce,!He);return}}Ud(d,y,ee,B,O,q,ce,ye,Te)}function hh(d){for(var y=d;;){var B=y.tag;if((B===0||B===11||B===15)&&y.flags&16384&&(B=y.updateQueue,B!==null&&(B=B.stores,B!==null)))for(var O=0;O<B.length;O++){var q=B[O],ee=q.getSnapshot;q=q.value;try{if(!D(ee(),q))return!1}catch{return!1}}if(B=y.child,y.subtreeFlags&16384&&B!==null)B.return=y,y=B;else{if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function wi(d,y,B,O){y&=~Jc,y&=~Yi,d.suspendedLanes|=y,d.pingedLanes&=~y,O&&(d.warmLanes|=y),O=d.expirationTimes;for(var q=y;0<q;){var ee=31-ot(q),ce=1<<ee;O[ee]=-1,q&=~ce}B!==0&&_e(d,B,y)}function ml(){return(bn&6)===0?(ho(0),!1):!0}function rA(){if(cn!==null){if(Tn===0)var d=cn.return;else d=cn,Ps=Hi=null,yc(d),ga=null,qa=0,d=cn;for(;d!==null;)Ad(d.alternate,d),d=d.return;cn=null}}function _a(d,y){var B=d.timeoutHandle;B!==-1&&(d.timeoutHandle=-1,Mh(B)),B=d.cancelPendingCommit,B!==null&&(d.cancelPendingCommit=null,B()),qs=0,rA(),$n=d,cn=B=Ds(d.current,null),hn=y,Tn=0,Xr=null,yi=!1,ba=Nn(d,y),Yc=!1,Sa=Yr=Jc=Yi=vi=er=0,Ur=uo=null,Zc=!1,(y&8)!==0&&(y|=y&32);var O=d.entangledLanes;if(O!==0)for(d=d.entanglements,O&=y;0<O;){var q=31-ot(O),ee=1<<q;y|=d[q],O&=~ee}return Ws=y,Lo(),B}function Md(d,y){Xt=null,ae.H=ro,y===ma||y===zo?(y=XA(),Tn=3):y===oc?(y=XA(),Tn=4):Tn=y===Oc?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Xr=y,cn===null&&(er=1,il(d,is(y,d.current)))}function Od(){var d=Wr.current;return d===null?!0:(hn&4194048)===hn?As===null:(hn&62914560)===hn||(hn&536870912)!==0?d===As:!1}function Dd(){var d=ae.H;return ae.H=ro,d===null?ro:d}function Ld(){var d=ae.A;return ae.A=dh,d}function gl(){er=4,yi||(hn&4194048)!==hn&&Wr.current!==null||(ba=!0),(vi&134217727)===0&&(Yi&134217727)===0||$n===null||wi($n,hn,Yr,!1)}function sA(d,y,B){var O=bn;bn|=2;var q=Dd(),ee=Ld();($n!==d||hn!==y)&&(pl=null,_a(d,y)),y=!1;var ce=er;e:do try{if(Tn!==0&&cn!==null){var ye=cn,Te=Xr;switch(Tn){case 8:rA(),ce=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(y=!0);var He=Tn;if(Tn=0,Xr=null,Ta(d,ye,Te,He),B&&ba){ce=0;break e}break;default:He=Tn,Tn=0,Xr=null,Ta(d,ye,Te,He)}}ph(),ce=er;break}catch(et){Md(d,et)}while(!0);return y&&d.shellSuspendCounter++,Ps=Hi=null,bn=O,ae.H=q,ae.A=ee,cn===null&&($n=null,hn=0,Lo()),ce}function ph(){for(;cn!==null;)Pd(cn)}function mh(d,y){var B=bn;bn|=2;var O=Dd(),q=Ld();$n!==d||hn!==y?(pl=null,hl=st()+500,_a(d,y)):ba=Nn(d,y);e:do try{if(Tn!==0&&cn!==null){y=cn;var ee=Xr;t:switch(Tn){case 1:Tn=0,Xr=null,Ta(d,y,ee,1);break;case 2:case 9:if(WA(ee)){Tn=0,Xr=null,jd(y);break}y=function(){Tn!==2&&Tn!==9||$n!==d||(Tn=7),Ts(d)},ee.then(y,y);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:WA(ee)?(Tn=0,Xr=null,jd(y)):(Tn=0,Xr=null,Ta(d,y,ee,7));break;case 5:var ce=null;switch(cn.tag){case 26:ce=cn.memoizedState;case 5:case 27:var ye=cn;if(ce?Sf(ce):ye.stateNode.complete){Tn=0,Xr=null;var Te=ye.sibling;if(Te!==null)cn=Te;else{var He=ye.return;He!==null?(cn=He,xl(He)):cn=null}break t}}Tn=0,Xr=null,Ta(d,y,ee,5);break;case 6:Tn=0,Xr=null,Ta(d,y,ee,6);break;case 8:rA(),er=6;break e;default:throw Error(s(462))}}gh();break}catch(et){Md(d,et)}while(!0);return Ps=Hi=null,ae.H=O,ae.A=q,bn=B,cn!==null?0:($n=null,hn=0,Lo(),er)}function gh(){for(;cn!==null&&!Kn();)Pd(cn)}function Pd(d){var y=ld(d.alternate,d,Ws);d.memoizedProps=d.pendingProps,y===null?xl(d):cn=y}function jd(d){var y=d,B=y.alternate;switch(y.tag){case 15:case 0:y=nd(B,y,y.pendingProps,y.type,void 0,hn);break;case 11:y=nd(B,y,y.pendingProps,y.type.render,y.ref,hn);break;case 5:yc(y);default:Ad(B,y),y=cn=LA(y,Ws),y=ld(B,y,Ws)}d.memoizedProps=d.pendingProps,y===null?xl(d):cn=y}function Ta(d,y,B,O){Ps=Hi=null,yc(y),ga=null,qa=0;var q=y.return;try{if(ih(d,q,y,B,hn)){er=1,il(d,is(B,d.current)),cn=null;return}}catch(ee){if(q!==null)throw cn=q,ee;er=1,il(d,is(B,d.current)),cn=null;return}y.flags&32768?(xn||O===1?d=!0:ba||(hn&536870912)!==0?d=!1:(yi=d=!0,(O===2||O===9||O===3||O===6)&&(O=Wr.current,O!==null&&O.tag===13&&(O.flags|=16384))),$d(y,d)):xl(y)}function xl(d){var y=d;do{if((y.flags&32768)!==0){$d(y,yi);return}d=y.return;var B=lh(y.alternate,y,Ws);if(B!==null){cn=B;return}if(y=y.sibling,y!==null){cn=y;return}cn=y=d}while(y!==null);er===0&&(er=5)}function $d(d,y){do{var B=ch(d.alternate,d);if(B!==null){B.flags&=32767,cn=B;return}if(B=d.return,B!==null&&(B.flags|=32768,B.subtreeFlags=0,B.deletions=null),!y&&(d=d.sibling,d!==null)){cn=d;return}cn=d=B}while(d!==null);er=6,cn=null}function Ud(d,y,B,O,q,ee,ce,ye,Te){d.cancelPendingCommit=null;do yl();while(mr!==0);if((bn&6)!==0)throw Error(s(327));if(y!==null){if(y===d.current)throw Error(s(177));if(ee=y.lanes|y.childLanes,ee|=Gl,kr(d,B,ee,ce,ye,Te),d===$n&&(cn=$n=null,hn=0),Ba=y,Ci=d,qs=B,eA=ee,tA=q,Id=O,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Eh(Je,function(){return Gd(),null})):(d.callbackNode=null,d.callbackPriority=0),O=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||O){O=ae.T,ae.T=null,q=ue.p,ue.p=2,ce=bn,bn|=4;try{Ah(d,y,B)}finally{bn=ce,ue.p=q,ae.T=O}}mr=1,Hd(),Qd(),Vd()}}function Hd(){if(mr===1){mr=0;var d=Ci,y=Ba,B=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||B){B=ae.T,ae.T=null;var O=ue.p;ue.p=2;var q=bn;bn|=4;try{Cd(y,d);var ee=mA,ce=he(d.containerInfo),ye=ee.focusedElem,Te=ee.selectionRange;if(ce!==ye&&ye&&ye.ownerDocument&&le(ye.ownerDocument.documentElement,ye)){if(Te!==null&&xe(ye)){var He=Te.start,et=Te.end;if(et===void 0&&(et=He),"selectionStart"in ye)ye.selectionStart=He,ye.selectionEnd=Math.min(et,ye.value.length);else{var rt=ye.ownerDocument||document,Qe=rt&&rt.defaultView||window;if(Qe.getSelection){var qe=Qe.getSelection(),_t=ye.textContent.length,Qt=Math.min(Te.start,_t),Mn=Te.end===void 0?Qt:Math.min(Te.end,_t);!qe.extend&&Qt>Mn&&(ce=Mn,Mn=Qt,Qt=ce);var Oe=ne(ye,Qt),ke=ne(ye,Mn);if(Oe&&ke&&(qe.rangeCount!==1||qe.anchorNode!==Oe.node||qe.anchorOffset!==Oe.offset||qe.focusNode!==ke.node||qe.focusOffset!==ke.offset)){var Ue=rt.createRange();Ue.setStart(Oe.node,Oe.offset),qe.removeAllRanges(),Qt>Mn?(qe.addRange(Ue),qe.extend(ke.node,ke.offset)):(Ue.setEnd(ke.node,ke.offset),qe.addRange(Ue))}}}}for(rt=[],qe=ye;qe=qe.parentNode;)qe.nodeType===1&&rt.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<rt.length;ye++){var nt=rt[ye];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Fl=!!pA,mA=pA=null}finally{bn=q,ue.p=O,ae.T=B}}d.current=y,mr=2}}function Qd(){if(mr===2){mr=0;var d=Ci,y=Ba,B=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||B){B=ae.T,ae.T=null;var O=ue.p;ue.p=2;var q=bn;bn|=4;try{gd(d,y.alternate,y)}finally{bn=q,ue.p=O,ae.T=B}}mr=3}}function Vd(){if(mr===4||mr===3){mr=0,On();var d=Ci,y=Ba,B=qs,O=Id;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?mr=5:(mr=0,Ba=Ci=null,zd(d,d.pendingLanes));var q=d.pendingLanes;if(q===0&&(Ei=null),ht(B),y=y.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ve,y,void 0,(y.current.flags&128)===128)}catch{}if(O!==null){y=ae.T,q=ue.p,ue.p=2,ae.T=null;try{for(var ee=d.onRecoverableError,ce=0;ce<O.length;ce++){var ye=O[ce];ee(ye.value,{componentStack:ye.stack})}}finally{ae.T=y,ue.p=q}}(qs&3)!==0&&yl(),Ts(d),q=d.pendingLanes,(B&261930)!==0&&(q&42)!==0?d===nA?fo++:(fo=0,nA=d):fo=0,ho(0)}}function zd(d,y){(d.pooledCacheLanes&=y)===0&&(y=d.pooledCache,y!=null&&(d.pooledCache=null,Ka(y)))}function yl(){return Hd(),Qd(),Vd(),Gd()}function Gd(){if(mr!==5)return!1;var d=Ci,y=eA;eA=0;var B=ht(qs),O=ae.T,q=ue.p;try{ue.p=32>B?32:B,ae.T=null,B=tA,tA=null;var ee=Ci,ce=qs;if(mr=0,Ba=Ci=null,qs=0,(bn&6)!==0)throw Error(s(331));var ye=bn;if(bn|=4,_d(ee.current),bd(ee,ee.current,ce,B),bn=ye,ho(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ve,ee)}catch{}return!0}finally{ue.p=q,ae.T=O,zd(d,y)}}function Kd(d,y,B){y=is(B,y),y=Mc(d.stateNode,y,2),d=pi(d,y,2),d!==null&&(Zr(d,2),Ts(d))}function Rn(d,y,B){if(d.tag===3)Kd(d,d,B);else for(;y!==null;){if(y.tag===3){Kd(y,d,B);break}else if(y.tag===1){var O=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Ei===null||!Ei.has(O))){d=is(B,d),B=Wu(2),O=pi(y,B,2),O!==null&&(qu(B,O,y,d),Zr(O,2),Ts(O));break}}y=y.return}}function iA(d,y,B){var O=d.pingCache;if(O===null){O=d.pingCache=new fh;var q=new Set;O.set(y,q)}else q=O.get(y),q===void 0&&(q=new Set,O.set(y,q));q.has(B)||(Yc=!0,q.add(B),d=xh.bind(null,d,y,B),y.then(d,d))}function xh(d,y,B){var O=d.pingCache;O!==null&&O.delete(y),d.pingedLanes|=d.suspendedLanes&B,d.warmLanes&=~B,$n===d&&(hn&B)===B&&(er===4||er===3&&(hn&62914560)===hn&&300>st()-fl?(bn&2)===0&&_a(d,0):Jc|=B,Sa===hn&&(Sa=0)),Ts(d)}function Wd(d,y){y===0&&(y=Dn()),d=ji(d,y),d!==null&&(Zr(d,y),Ts(d))}function yh(d){var y=d.memoizedState,B=0;y!==null&&(B=y.retryLane),Wd(d,B)}function vh(d,y){var B=0;switch(d.tag){case 31:case 13:var O=d.stateNode,q=d.memoizedState;q!==null&&(B=q.retryLane);break;case 19:O=d.stateNode;break;case 22:O=d.stateNode._retryCache;break;default:throw Error(s(314))}O!==null&&O.delete(y),Wd(d,B)}function Eh(d,y){return In(d,y)}var vl=null,Ra=null,aA=!1,El=!1,oA=!1,bi=0;function Ts(d){d!==Ra&&d.next===null&&(Ra===null?vl=Ra=d:Ra=Ra.next=d),El=!0,aA||(aA=!0,wh())}function ho(d,y){if(!oA&&El){oA=!0;do for(var B=!1,O=vl;O!==null;){if(d!==0){var q=O.pendingLanes;if(q===0)var ee=0;else{var ce=O.suspendedLanes,ye=O.pingedLanes;ee=(1<<31-ot(42|d)+1)-1,ee&=q&~(ce&~ye),ee=ee&201326741?ee&201326741|1:ee?ee|2:0}ee!==0&&(B=!0,Jd(O,ee))}else ee=hn,ee=Sr(O,O===$n?ee:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(ee&3)===0||Nn(O,ee)||(B=!0,Jd(O,ee));O=O.next}while(B);oA=!1}}function Ch(){qd()}function qd(){El=aA=!1;var d=0;bi!==0&&kh()&&(d=bi);for(var y=st(),B=null,O=vl;O!==null;){var q=O.next,ee=Xd(O,y);ee===0?(O.next=null,B===null?vl=q:B.next=q,q===null&&(Ra=B)):(B=O,(d!==0||(ee&3)!==0)&&(El=!0)),O=q}mr!==0&&mr!==5||ho(d),bi!==0&&(bi=0)}function Xd(d,y){for(var B=d.suspendedLanes,O=d.pingedLanes,q=d.expirationTimes,ee=d.pendingLanes&-62914561;0<ee;){var ce=31-ot(ee),ye=1<<ce,Te=q[ce];Te===-1?((ye&B)===0||(ye&O)!==0)&&(q[ce]=Tr(ye,y)):Te<=y&&(d.expiredLanes|=ye),ee&=~ye}if(y=$n,B=hn,B=Sr(d,d===y?B:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),O=d.callbackNode,B===0||d===y&&(Tn===2||Tn===9)||d.cancelPendingCommit!==null)return O!==null&&O!==null&&pt(O),d.callbackNode=null,d.callbackPriority=0;if((B&3)===0||Nn(d,B)){if(y=B&-B,y===d.callbackPriority)return y;switch(O!==null&&pt(O),ht(B)){case 2:case 8:B=Ye;break;case 32:B=Je;break;case 268435456:B=Mt;break;default:B=Je}return O=Yd.bind(null,d),B=In(B,O),d.callbackPriority=y,d.callbackNode=B,y}return O!==null&&O!==null&&pt(O),d.callbackPriority=2,d.callbackNode=null,2}function Yd(d,y){if(mr!==0&&mr!==5)return d.callbackNode=null,d.callbackPriority=0,null;var B=d.callbackNode;if(yl()&&d.callbackNode!==B)return null;var O=hn;return O=Sr(d,d===$n?O:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),O===0?null:(Fd(d,O,y),Xd(d,st()),d.callbackNode!=null&&d.callbackNode===B?Yd.bind(null,d):null)}function Jd(d,y){if(yl())return null;Fd(d,y,!0)}function wh(){Oh(function(){(bn&6)!==0?In(Fe,Ch):qd()})}function lA(){if(bi===0){var d=ha;d===0&&(d=dn,dn<<=1,(dn&261888)===0&&(dn=256)),bi=d}return bi}function Zd(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:ti(""+d)}function ef(d,y){var B=y.ownerDocument.createElement("input");return B.name=y.name,B.value=y.value,d.id&&B.setAttribute("form",d.id),y.parentNode.insertBefore(B,y),d=new FormData(d),B.parentNode.removeChild(B),d}function bh(d,y,B,O,q){if(y==="submit"&&B&&B.stateNode===q){var ee=Zd((q[yt]||null).action),ce=O.submitter;ce&&(y=(y=ce[yt]||null)?Zd(y.formAction):ce.getAttribute("formAction"),y!==null&&(ee=y,ce=null));var ye=new dr("action","action",null,O,q);d.push({event:ye,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(bi!==0){var Te=ce?ef(q,ce):new FormData(q);Tc(B,{pending:!0,data:Te,method:q.method,action:ee},null,Te)}}else typeof ee=="function"&&(ye.preventDefault(),Te=ce?ef(q,ce):new FormData(q),Tc(B,{pending:!0,data:Te,method:q.method,action:ee},ee,Te))},currentTarget:q}]})}}for(var cA=0;cA<Va.length;cA++){var AA=Va[cA],Sh=AA.toLowerCase(),Bh=AA[0].toUpperCase()+AA.slice(1);gs(Sh,"on"+Bh)}gs(Lr,"onAnimationEnd"),gs(vr,"onAnimationIteration"),gs(_n,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(pr,"onTransitionRun"),gs(Nr,"onTransitionStart"),gs(li,"onTransitionCancel"),gs(Os,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function tf(d,y){y=(y&4)!==0;for(var B=0;B<d.length;B++){var O=d[B],q=O.event;O=O.listeners;e:{var ee=void 0;if(y)for(var ce=O.length-1;0<=ce;ce--){var ye=O[ce],Te=ye.instance,He=ye.currentTarget;if(ye=ye.listener,Te!==ee&&q.isPropagationStopped())break e;ee=ye,q.currentTarget=He;try{ee(q)}catch(et){Do(et)}q.currentTarget=null,ee=Te}else for(ce=0;ce<O.length;ce++){if(ye=O[ce],Te=ye.instance,He=ye.currentTarget,ye=ye.listener,Te!==ee&&q.isPropagationStopped())break e;ee=ye,q.currentTarget=He;try{ee(q)}catch(et){Do(et)}q.currentTarget=null,ee=Te}}}}function An(d,y){var B=y[Tt];B===void 0&&(B=y[Tt]=new Set);var O=d+"__bubble";B.has(O)||(nf(y,d,2,!1),B.add(O))}function uA(d,y,B){var O=0;y&&(O|=4),nf(B,d,O,y)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function dA(d){if(!d[Cl]){d[Cl]=!0,lt.forEach(function(B){B!=="selectionchange"&&(_h.has(B)||uA(B,!1,d),uA(B,!0,d))});var y=d.nodeType===9?d:d.ownerDocument;y===null||y[Cl]||(y[Cl]=!0,uA("selectionchange",!1,y))}}function nf(d,y,B,O){switch(Ff(y)){case 2:var q=tp;break;case 8:q=np;break;default:q=RA}B=q.bind(null,y,B,d),q=void 0,!La||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(q=!0),O?q!==void 0?d.addEventListener(y,B,{capture:!0,passive:q}):d.addEventListener(y,B,!0):q!==void 0?d.addEventListener(y,B,{passive:q}):d.addEventListener(y,B,!1)}function fA(d,y,B,O,q){var ee=O;if((y&1)===0&&(y&2)===0&&O!==null)e:for(;;){if(O===null)return;var ce=O.tag;if(ce===3||ce===4){var ye=O.stateNode.containerInfo;if(ye===q)break;if(ce===4)for(ce=O.return;ce!==null;){var Te=ce.tag;if((Te===3||Te===4)&&ce.stateNode.containerInfo===q)return;ce=ce.return}for(;ye!==null;){if(ce=zt(ye),ce===null)return;if(Te=ce.tag,Te===5||Te===6||Te===26||Te===27){O=ee=ce;continue e}ye=ye.parentNode}}O=O.return}So(function(){var He=ee,et=Da(B),rt=[];e:{var Qe=Oo.get(d);if(Qe!==void 0){var qe=dr,_t=d;switch(d){case"keypress":if(Es(B)===0)break e;case"keydown":case"keyup":qe=ia;break;case"focusin":_t="focus",qe=$a;break;case"focusout":_t="blur",qe=$a;break;case"beforeblur":case"afterblur":qe=$a;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=Ql;break;case Lr:case vr:case _n:qe=Yt;break;case Os:qe=Ns;break;case"scroll":case"scrollend":qe=Bo;break;case"wheel":qe=Vl;break;case"copy":case"cut":case"paste":qe=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Bn;break;case"toggle":case"beforetoggle":qe=Ha}var Qt=(y&4)!==0,Mn=!Qt&&(d==="scroll"||d==="scrollend"),Oe=Qt?Qe!==null?Qe+"Capture":null:Qe;Qt=[];for(var ke=He,Ue;ke!==null;){var nt=ke;if(Ue=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Ue===null||Oe===null||(nt=Gt(ke,Oe),nt!=null&&Qt.push(mo(ke,nt,Ue))),Mn)break;ke=ke.return}0<Qt.length&&(Qe=new qe(Qe,_t,null,B,et),rt.push({event:Qe,listeners:Qt}))}}if((y&7)===0){e:{if(Qe=d==="mouseover"||d==="pointerover",qe=d==="mouseout"||d==="pointerout",Qe&&B!==Ni&&(_t=B.relatedTarget||B.fromElement)&&(zt(_t)||_t[Nt]))break e;if((qe||Qe)&&(Qe=et.window===et?et:(Qe=et.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,qe?(_t=B.relatedTarget||B.toElement,qe=He,_t=_t?zt(_t):null,_t!==null&&(Mn=l(_t),Qt=_t.tag,_t!==Mn||Qt!==5&&Qt!==27&&Qt!==6)&&(_t=null)):(qe=null,_t=He),qe!==_t)){if(Qt=wn,nt="onMouseLeave",Oe="onMouseEnter",ke="mouse",(d==="pointerout"||d==="pointerover")&&(Qt=Bn,nt="onPointerLeave",Oe="onPointerEnter",ke="pointer"),Mn=qe==null?Qe:Mr(qe),Ue=_t==null?Qe:Mr(_t),Qe=new Qt(nt,ke+"leave",qe,B,et),Qe.target=Mn,Qe.relatedTarget=Ue,nt=null,zt(et)===He&&(Qt=new Qt(Oe,ke+"enter",_t,B,et),Qt.target=Ue,Qt.relatedTarget=Mn,nt=Qt),Mn=nt,qe&&_t)t:{for(Qt=Th,Oe=qe,ke=_t,Ue=0,nt=Oe;nt;nt=Qt(nt))Ue++;nt=0;for(var Lt=ke;Lt;Lt=Qt(Lt))nt++;for(;0<Ue-nt;)Oe=Qt(Oe),Ue--;for(;0<nt-Ue;)ke=Qt(ke),nt--;for(;Ue--;){if(Oe===ke||ke!==null&&Oe===ke.alternate){Qt=Oe;break t}Oe=Qt(Oe),ke=Qt(ke)}Qt=null}else Qt=null;qe!==null&&rf(rt,Qe,qe,Qt,!1),_t!==null&&Mn!==null&&rf(rt,Mn,_t,Qt,!0)}}e:{if(Qe=He?Mr(He):window,qe=Qe.nodeName&&Qe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Qe.type==="file")var vn=Gr;else if(Qa(Qe))if(Mo)vn=I;else{vn=C;var Ft=g}else qe=Qe.nodeName,!qe||qe.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?He&&Ln(He.elementType)&&(vn=Gr):vn=S;if(vn&&(vn=vn(d,He))){zr(rt,vn,B,et);break e}Ft&&Ft(d,Qe,He),d==="focusout"&&He&&Qe.type==="number"&&He.memoizedProps.value!=null&&be(Qe,"number",Qe.value)}switch(Ft=He?Mr(He):window,d){case"focusin":(Qa(Ft)||Ft.contentEditable==="true")&&(Ie=Ft,Ne=He,Le=null);break;case"focusout":Le=Ne=Ie=null;break;case"mousedown":Ge=!0;break;case"contextmenu":case"mouseup":case"dragend":Ge=!1,ft(rt,B,et);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":ft(rt,B,et)}var Jt;if(Mi)e:{switch(d){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else oi?ko(d,B)&&(pn="onCompositionEnd"):d==="keydown"&&B.keyCode===229&&(pn="onCompositionStart");pn&&(Fo&&B.locale!=="ko"&&(oi||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&oi&&(Jt=ni()):(ps=et,ms="value"in ps?ps.value:ps.textContent,oi=!0)),Ft=wl(He,pn),0<Ft.length&&(pn=new Ro(pn,d,null,B,et),rt.push({event:pn,listeners:Ft}),Jt?pn.data=Jt:(Jt=ai(B),Jt!==null&&(pn.data=Jt)))),(Jt=No?bs(d,B):oa(d,B))&&(pn=wl(He,"onBeforeInput"),0<pn.length&&(Ft=new Ro("onBeforeInput","beforeinput",null,B,et),rt.push({event:Ft,listeners:pn}),Ft.data=Jt)),bh(rt,d,He,B,et)}tf(rt,y)})}function mo(d,y,B){return{instance:d,listener:y,currentTarget:B}}function wl(d,y){for(var B=y+"Capture",O=[];d!==null;){var q=d,ee=q.stateNode;if(q=q.tag,q!==5&&q!==26&&q!==27||ee===null||(q=Gt(d,B),q!=null&&O.unshift(mo(d,q,ee)),q=Gt(d,y),q!=null&&O.push(mo(d,q,ee))),d.tag===3)return O;d=d.return}return[]}function Th(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function rf(d,y,B,O,q){for(var ee=y._reactName,ce=[];B!==null&&B!==O;){var ye=B,Te=ye.alternate,He=ye.stateNode;if(ye=ye.tag,Te!==null&&Te===O)break;ye!==5&&ye!==26&&ye!==27||He===null||(Te=He,q?(He=Gt(B,ee),He!=null&&ce.unshift(mo(B,He,Te))):q||(He=Gt(B,ee),He!=null&&ce.push(mo(B,He,Te)))),B=B.return}ce.length!==0&&d.push({event:y,listeners:ce})}var Rh=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function sf(d){return(typeof d=="string"?d:""+d).replace(Rh,`
`).replace(Ih,"")}function af(d,y){return y=sf(y),sf(d)===y}function kn(d,y,B,O,q,ee){switch(B){case"children":typeof O=="string"?y==="body"||y==="textarea"&&O===""||ei(d,O):(typeof O=="number"||typeof O=="bigint")&&y!=="body"&&ei(d,""+O);break;case"className":Cn(d,"class",O);break;case"tabIndex":Cn(d,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(d,B,O);break;case"style":Dt(d,O,ee);break;case"data":if(y!=="object"){Cn(d,"data",O);break}case"src":case"href":if(O===""&&(y!=="a"||B!=="href")){d.removeAttribute(B);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){d.removeAttribute(B);break}O=ti(""+O),d.setAttribute(B,O);break;case"action":case"formAction":if(typeof O=="function"){d.setAttribute(B,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ee=="function"&&(B==="formAction"?(y!=="input"&&kn(d,y,"name",q.name,q,null),kn(d,y,"formEncType",q.formEncType,q,null),kn(d,y,"formMethod",q.formMethod,q,null),kn(d,y,"formTarget",q.formTarget,q,null)):(kn(d,y,"encType",q.encType,q,null),kn(d,y,"method",q.method,q,null),kn(d,y,"target",q.target,q,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){d.removeAttribute(B);break}O=ti(""+O),d.setAttribute(B,O);break;case"onClick":O!=null&&(d.onclick=Or);break;case"onScroll":O!=null&&An("scroll",d);break;case"onScrollEnd":O!=null&&An("scrollend",d);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(B=O.__html,B!=null){if(q.children!=null)throw Error(s(60));d.innerHTML=B}}break;case"multiple":d.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":d.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){d.removeAttribute("xlink:href");break}B=ti(""+O),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",B);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(B,""+O):d.removeAttribute(B);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(B,""):d.removeAttribute(B);break;case"capture":case"download":O===!0?d.setAttribute(B,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?d.setAttribute(B,O):d.removeAttribute(B);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?d.setAttribute(B,O):d.removeAttribute(B);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?d.removeAttribute(B):d.setAttribute(B,O);break;case"popover":An("beforetoggle",d),An("toggle",d),_r(d,"popover",O);break;case"xlinkActuate":xr(d,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":xr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":xr(d,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":xr(d,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":xr(d,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":xr(d,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":xr(d,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":xr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":xr(d,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":_r(d,"is",O);break;case"innerText":case"textContent":break;default:(!(2<B.length)||B[0]!=="o"&&B[0]!=="O"||B[1]!=="n"&&B[1]!=="N")&&(B=bo.get(B)||B,_r(d,B,O))}}function hA(d,y,B,O,q,ee){switch(B){case"style":Dt(d,O,ee);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(B=O.__html,B!=null){if(q.children!=null)throw Error(s(60));d.innerHTML=B}}break;case"children":typeof O=="string"?ei(d,O):(typeof O=="number"||typeof O=="bigint")&&ei(d,""+O);break;case"onScroll":O!=null&&An("scroll",d);break;case"onScrollEnd":O!=null&&An("scrollend",d);break;case"onClick":O!=null&&(d.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(B))e:{if(B[0]==="o"&&B[1]==="n"&&(q=B.endsWith("Capture"),y=B.slice(2,q?B.length-7:void 0),ee=d[yt]||null,ee=ee!=null?ee[B]:null,typeof ee=="function"&&d.removeEventListener(y,ee,q),typeof O=="function")){typeof ee!="function"&&ee!==null&&(B in d?d[B]=null:d.hasAttribute(B)&&d.removeAttribute(B)),d.addEventListener(y,O,q);break e}B in d?d[B]=O:O===!0?d.setAttribute(B,""):_r(d,B,O)}}}function br(d,y,B){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",d),An("load",d);var O=!1,q=!1,ee;for(ee in B)if(B.hasOwnProperty(ee)){var ce=B[ee];if(ce!=null)switch(ee){case"src":O=!0;break;case"srcSet":q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,y));default:kn(d,y,ee,ce,B,null)}}q&&kn(d,y,"srcSet",B.srcSet,B,null),O&&kn(d,y,"src",B.src,B,null);return;case"input":An("invalid",d);var ye=ee=ce=q=null,Te=null,He=null;for(O in B)if(B.hasOwnProperty(O)){var et=B[O];if(et!=null)switch(O){case"name":q=et;break;case"type":ce=et;break;case"checked":Te=et;break;case"defaultChecked":He=et;break;case"value":ee=et;break;case"defaultValue":ye=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,y));break;default:kn(d,y,O,et,B,null)}}$e(d,ee,ye,Te,He,ce,q,!1);return;case"select":An("invalid",d),O=ce=ee=null;for(q in B)if(B.hasOwnProperty(q)&&(ye=B[q],ye!=null))switch(q){case"value":ee=ye;break;case"defaultValue":ce=ye;break;case"multiple":O=ye;default:kn(d,y,q,ye,B,null)}y=ee,B=ce,d.multiple=!!O,y!=null?Rt(d,!!O,y,!1):B!=null&&Rt(d,!!O,B,!0);return;case"textarea":An("invalid",d),ee=q=O=null;for(ce in B)if(B.hasOwnProperty(ce)&&(ye=B[ce],ye!=null))switch(ce){case"value":O=ye;break;case"defaultValue":q=ye;break;case"children":ee=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(91));break;default:kn(d,y,ce,ye,B,null)}Rr(d,O,q,ee);return;case"option":for(Te in B)if(B.hasOwnProperty(Te)&&(O=B[Te],O!=null))switch(Te){case"selected":d.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:kn(d,y,Te,O,B,null)}return;case"dialog":An("beforetoggle",d),An("toggle",d),An("cancel",d),An("close",d);break;case"iframe":case"object":An("load",d);break;case"video":case"audio":for(O=0;O<po.length;O++)An(po[O],d);break;case"image":An("error",d),An("load",d);break;case"details":An("toggle",d);break;case"embed":case"source":case"link":An("error",d),An("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in B)if(B.hasOwnProperty(He)&&(O=B[He],O!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,y));default:kn(d,y,He,O,B,null)}return;default:if(Ln(y)){for(et in B)B.hasOwnProperty(et)&&(O=B[et],O!==void 0&&hA(d,y,et,O,B,void 0));return}}for(ye in B)B.hasOwnProperty(ye)&&(O=B[ye],O!=null&&kn(d,y,ye,O,B,null))}function Nh(d,y,B,O){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var q=null,ee=null,ce=null,ye=null,Te=null,He=null,et=null;for(qe in B){var rt=B[qe];if(B.hasOwnProperty(qe)&&rt!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":Te=rt;default:O.hasOwnProperty(qe)||kn(d,y,qe,null,O,rt)}}for(var Qe in O){var qe=O[Qe];if(rt=B[Qe],O.hasOwnProperty(Qe)&&(qe!=null||rt!=null))switch(Qe){case"type":ee=qe;break;case"name":q=qe;break;case"checked":He=qe;break;case"defaultChecked":et=qe;break;case"value":ce=qe;break;case"defaultValue":ye=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(s(137,y));break;default:qe!==rt&&kn(d,y,Qe,qe,O,rt)}}ar(d,ce,ye,Te,He,et,ee,q);return;case"select":qe=ce=ye=Qe=null;for(ee in B)if(Te=B[ee],B.hasOwnProperty(ee)&&Te!=null)switch(ee){case"value":break;case"multiple":qe=Te;default:O.hasOwnProperty(ee)||kn(d,y,ee,null,O,Te)}for(q in O)if(ee=O[q],Te=B[q],O.hasOwnProperty(q)&&(ee!=null||Te!=null))switch(q){case"value":Qe=ee;break;case"defaultValue":ye=ee;break;case"multiple":ce=ee;default:ee!==Te&&kn(d,y,q,ee,O,Te)}y=ye,B=ce,O=qe,Qe!=null?Rt(d,!!B,Qe,!1):!!O!=!!B&&(y!=null?Rt(d,!!B,y,!0):Rt(d,!!B,B?[]:"",!1));return;case"textarea":qe=Qe=null;for(ye in B)if(q=B[ye],B.hasOwnProperty(ye)&&q!=null&&!O.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:kn(d,y,ye,null,O,q)}for(ce in O)if(q=O[ce],ee=B[ce],O.hasOwnProperty(ce)&&(q!=null||ee!=null))switch(ce){case"value":Qe=q;break;case"defaultValue":qe=q;break;case"children":break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(91));break;default:q!==ee&&kn(d,y,ce,q,O,ee)}nr(d,Qe,qe);return;case"option":for(var _t in B)if(Qe=B[_t],B.hasOwnProperty(_t)&&Qe!=null&&!O.hasOwnProperty(_t))switch(_t){case"selected":d.selected=!1;break;default:kn(d,y,_t,null,O,Qe)}for(Te in O)if(Qe=O[Te],qe=B[Te],O.hasOwnProperty(Te)&&Qe!==qe&&(Qe!=null||qe!=null))switch(Te){case"selected":d.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:kn(d,y,Te,Qe,O,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in B)Qe=B[Qt],B.hasOwnProperty(Qt)&&Qe!=null&&!O.hasOwnProperty(Qt)&&kn(d,y,Qt,null,O,Qe);for(He in O)if(Qe=O[He],qe=B[He],O.hasOwnProperty(He)&&Qe!==qe&&(Qe!=null||qe!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(s(137,y));break;default:kn(d,y,He,Qe,O,qe)}return;default:if(Ln(y)){for(var Mn in B)Qe=B[Mn],B.hasOwnProperty(Mn)&&Qe!==void 0&&!O.hasOwnProperty(Mn)&&hA(d,y,Mn,void 0,O,Qe);for(et in O)Qe=O[et],qe=B[et],!O.hasOwnProperty(et)||Qe===qe||Qe===void 0&&qe===void 0||hA(d,y,et,Qe,O,qe);return}}for(var Oe in B)Qe=B[Oe],B.hasOwnProperty(Oe)&&Qe!=null&&!O.hasOwnProperty(Oe)&&kn(d,y,Oe,null,O,Qe);for(rt in O)Qe=O[rt],qe=B[rt],!O.hasOwnProperty(rt)||Qe===qe||Qe==null&&qe==null||kn(d,y,rt,Qe,O,qe)}function of(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fh(){if(typeof performance.getEntriesByType=="function"){for(var d=0,y=0,B=performance.getEntriesByType("resource"),O=0;O<B.length;O++){var q=B[O],ee=q.transferSize,ce=q.initiatorType,ye=q.duration;if(ee&&ye&&of(ce)){for(ce=0,ye=q.responseEnd,O+=1;O<B.length;O++){var Te=B[O],He=Te.startTime;if(He>ye)break;var et=Te.transferSize,rt=Te.initiatorType;et&&of(rt)&&(Te=Te.responseEnd,ce+=et*(Te<ye?1:(ye-He)/(Te-He)))}if(--O,y+=8*(ee+ce)/(q.duration/1e3),d++,10<d)break}}if(0<d)return y/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var pA=null,mA=null;function bl(d){return d.nodeType===9?d:d.ownerDocument}function lf(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cf(d,y){if(d===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&y==="foreignObject"?0:d}function gA(d,y){return d==="textarea"||d==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var xA=null;function kh(){var d=window.event;return d&&d.type==="popstate"?d===xA?!1:(xA=d,!0):(xA=null,!1)}var Af=typeof setTimeout=="function"?setTimeout:void 0,Mh=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(d){return uf.resolve(null).then(d).catch(Dh)}:Af;function Dh(d){setTimeout(function(){throw d})}function Si(d){return d==="head"}function df(d,y){var B=y,O=0;do{var q=B.nextSibling;if(d.removeChild(B),q&&q.nodeType===8)if(B=q.data,B==="/$"||B==="/&"){if(O===0){d.removeChild(q),ka(y);return}O--}else if(B==="$"||B==="$?"||B==="$~"||B==="$!"||B==="&")O++;else if(B==="html")go(d.ownerDocument.documentElement);else if(B==="head"){B=d.ownerDocument.head,go(B);for(var ee=B.firstChild;ee;){var ce=ee.nextSibling,ye=ee.nodeName;ee[Hn]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||B.removeChild(ee),ee=ce}}else B==="body"&&go(d.ownerDocument.body);B=q}while(B);ka(y)}function ff(d,y){var B=d;d=0;do{var O=B.nextSibling;if(B.nodeType===1?y?(B._stashedDisplay=B.style.display,B.style.display="none"):(B.style.display=B._stashedDisplay||"",B.getAttribute("style")===""&&B.removeAttribute("style")):B.nodeType===3&&(y?(B._stashedText=B.nodeValue,B.nodeValue=""):B.nodeValue=B._stashedText||""),O&&O.nodeType===8)if(B=O.data,B==="/$"){if(d===0)break;d--}else B!=="$"&&B!=="$?"&&B!=="$~"&&B!=="$!"||d++;B=O}while(B)}function yA(d){var y=d.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var B=y;switch(y=y.nextSibling,B.nodeName){case"HTML":case"HEAD":case"BODY":yA(B),en(B);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(B.rel.toLowerCase()==="stylesheet")continue}d.removeChild(B)}}function Lh(d,y,B,O){for(;d.nodeType===1;){var q=B;if(d.nodeName.toLowerCase()!==y.toLowerCase()){if(!O&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(O){if(!d[Hn])switch(y){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(ee=d.getAttribute("rel"),ee==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(ee!==q.rel||d.getAttribute("href")!==(q.href==null||q.href===""?null:q.href)||d.getAttribute("crossorigin")!==(q.crossOrigin==null?null:q.crossOrigin)||d.getAttribute("title")!==(q.title==null?null:q.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(ee=d.getAttribute("src"),(ee!==(q.src==null?null:q.src)||d.getAttribute("type")!==(q.type==null?null:q.type)||d.getAttribute("crossorigin")!==(q.crossOrigin==null?null:q.crossOrigin))&&ee&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(y==="input"&&d.type==="hidden"){var ee=q.name==null?null:""+q.name;if(q.type==="hidden"&&d.getAttribute("name")===ee)return d}else return d;if(d=us(d.nextSibling),d===null)break}return null}function Ph(d,y,B){if(y==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!B||(d=us(d.nextSibling),d===null))return null;return d}function hf(d,y){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!y||(d=us(d.nextSibling),d===null))return null;return d}function vA(d){return d.data==="$?"||d.data==="$~"}function EA(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function jh(d,y){var B=d.ownerDocument;if(d.data==="$~")d._reactRetry=y;else if(d.data!=="$?"||B.readyState!=="loading")y();else{var O=function(){y(),B.removeEventListener("DOMContentLoaded",O)};B.addEventListener("DOMContentLoaded",O),d._reactRetry=O}}function us(d){for(;d!=null;d=d.nextSibling){var y=d.nodeType;if(y===1||y===3)break;if(y===8){if(y=d.data,y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"||y==="F!"||y==="F")break;if(y==="/$"||y==="/&")return null}}return d}var CA=null;function pf(d){d=d.nextSibling;for(var y=0;d;){if(d.nodeType===8){var B=d.data;if(B==="/$"||B==="/&"){if(y===0)return us(d.nextSibling);y--}else B!=="$"&&B!=="$!"&&B!=="$?"&&B!=="$~"&&B!=="&"||y++}d=d.nextSibling}return null}function mf(d){d=d.previousSibling;for(var y=0;d;){if(d.nodeType===8){var B=d.data;if(B==="$"||B==="$!"||B==="$?"||B==="$~"||B==="&"){if(y===0)return d;y--}else B!=="/$"&&B!=="/&"||y++}d=d.previousSibling}return null}function gf(d,y,B){switch(y=bl(B),d){case"html":if(d=y.documentElement,!d)throw Error(s(452));return d;case"head":if(d=y.head,!d)throw Error(s(453));return d;case"body":if(d=y.body,!d)throw Error(s(454));return d;default:throw Error(s(451))}}function go(d){for(var y=d.attributes;y.length;)d.removeAttributeNode(y[0]);en(d)}var ds=new Map,xf=new Set;function Sl(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Xs=ue.d;ue.d={f:$h,r:Uh,D:Hh,C:Qh,L:Vh,m:zh,X:Kh,S:Gh,M:Wh};function $h(){var d=Xs.f(),y=ml();return d||y}function Uh(d){var y=rn(d);y!==null&&y.tag===5&&y.type==="form"?Mu(y):Xs.r(d)}var Ia=typeof document>"u"?null:document;function yf(d,y,B){var O=Ia;if(O&&typeof y=="string"&&y){var q=sn(y);q='link[rel="'+d+'"][href="'+q+'"]',typeof B=="string"&&(q+='[crossorigin="'+B+'"]'),xf.has(q)||(xf.add(q),d={rel:d,crossOrigin:B,href:y},O.querySelector(q)===null&&(y=O.createElement("link"),br(y,"link",d),yn(y),O.head.appendChild(y)))}}function Hh(d){Xs.D(d),yf("dns-prefetch",d,null)}function Qh(d,y){Xs.C(d,y),yf("preconnect",d,y)}function Vh(d,y,B){Xs.L(d,y,B);var O=Ia;if(O&&d&&y){var q='link[rel="preload"][as="'+sn(y)+'"]';y==="image"&&B&&B.imageSrcSet?(q+='[imagesrcset="'+sn(B.imageSrcSet)+'"]',typeof B.imageSizes=="string"&&(q+='[imagesizes="'+sn(B.imageSizes)+'"]')):q+='[href="'+sn(d)+'"]';var ee=q;switch(y){case"style":ee=Na(d);break;case"script":ee=Fa(d)}ds.has(ee)||(d=_({rel:"preload",href:y==="image"&&B&&B.imageSrcSet?void 0:d,as:y},B),ds.set(ee,d),O.querySelector(q)!==null||y==="style"&&O.querySelector(xo(ee))||y==="script"&&O.querySelector(yo(ee))||(y=O.createElement("link"),br(y,"link",d),yn(y),O.head.appendChild(y)))}}function zh(d,y){Xs.m(d,y);var B=Ia;if(B&&d){var O=y&&typeof y.as=="string"?y.as:"script",q='link[rel="modulepreload"][as="'+sn(O)+'"][href="'+sn(d)+'"]',ee=q;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ee=Fa(d)}if(!ds.has(ee)&&(d=_({rel:"modulepreload",href:d},y),ds.set(ee,d),B.querySelector(q)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(B.querySelector(yo(ee)))return}O=B.createElement("link"),br(O,"link",d),yn(O),B.head.appendChild(O)}}}function Gh(d,y,B){Xs.S(d,y,B);var O=Ia;if(O&&d){var q=qn(O).hoistableStyles,ee=Na(d);y=y||"default";var ce=q.get(ee);if(!ce){var ye={loading:0,preload:null};if(ce=O.querySelector(xo(ee)))ye.loading=5;else{d=_({rel:"stylesheet",href:d,"data-precedence":y},B),(B=ds.get(ee))&&wA(d,B);var Te=ce=O.createElement("link");yn(Te),br(Te,"link",d),Te._p=new Promise(function(He,et){Te.onload=He,Te.onerror=et}),Te.addEventListener("load",function(){ye.loading|=1}),Te.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,Bl(ce,y,O)}ce={type:"stylesheet",instance:ce,count:1,state:ye},q.set(ee,ce)}}}function Kh(d,y){Xs.X(d,y);var B=Ia;if(B&&d){var O=qn(B).hoistableScripts,q=Fa(d),ee=O.get(q);ee||(ee=B.querySelector(yo(q)),ee||(d=_({src:d,async:!0},y),(y=ds.get(q))&&bA(d,y),ee=B.createElement("script"),yn(ee),br(ee,"link",d),B.head.appendChild(ee)),ee={type:"script",instance:ee,count:1,state:null},O.set(q,ee))}}function Wh(d,y){Xs.M(d,y);var B=Ia;if(B&&d){var O=qn(B).hoistableScripts,q=Fa(d),ee=O.get(q);ee||(ee=B.querySelector(yo(q)),ee||(d=_({src:d,async:!0,type:"module"},y),(y=ds.get(q))&&bA(d,y),ee=B.createElement("script"),yn(ee),br(ee,"link",d),B.head.appendChild(ee)),ee={type:"script",instance:ee,count:1,state:null},O.set(q,ee))}}function vf(d,y,B,O){var q=(q=De.current)?Sl(q):null;if(!q)throw Error(s(446));switch(d){case"meta":case"title":return null;case"style":return typeof B.precedence=="string"&&typeof B.href=="string"?(y=Na(B.href),B=qn(q).hoistableStyles,O=B.get(y),O||(O={type:"style",instance:null,count:0,state:null},B.set(y,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(B.rel==="stylesheet"&&typeof B.href=="string"&&typeof B.precedence=="string"){d=Na(B.href);var ee=qn(q).hoistableStyles,ce=ee.get(d);if(ce||(q=q.ownerDocument||q,ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ee.set(d,ce),(ee=q.querySelector(xo(d)))&&!ee._p&&(ce.instance=ee,ce.state.loading=5),ds.has(d)||(B={rel:"preload",as:"style",href:B.href,crossOrigin:B.crossOrigin,integrity:B.integrity,media:B.media,hrefLang:B.hrefLang,referrerPolicy:B.referrerPolicy},ds.set(d,B),ee||qh(q,d,B,ce.state))),y&&O===null)throw Error(s(528,""));return ce}if(y&&O!==null)throw Error(s(529,""));return null;case"script":return y=B.async,B=B.src,typeof B=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=Fa(B),B=qn(q).hoistableScripts,O=B.get(y),O||(O={type:"script",instance:null,count:0,state:null},B.set(y,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,d))}}function Na(d){return'href="'+sn(d)+'"'}function xo(d){return'link[rel="stylesheet"]['+d+"]"}function Ef(d){return _({},d,{"data-precedence":d.precedence,precedence:null})}function qh(d,y,B,O){d.querySelector('link[rel="preload"][as="style"]['+y+"]")?O.loading=1:(y=d.createElement("link"),O.preload=y,y.addEventListener("load",function(){return O.loading|=1}),y.addEventListener("error",function(){return O.loading|=2}),br(y,"link",B),yn(y),d.head.appendChild(y))}function Fa(d){return'[src="'+sn(d)+'"]'}function yo(d){return"script[async]"+d}function Cf(d,y,B){if(y.count++,y.instance===null)switch(y.type){case"style":var O=d.querySelector('style[data-href~="'+sn(B.href)+'"]');if(O)return y.instance=O,yn(O),O;var q=_({},B,{"data-href":B.href,"data-precedence":B.precedence,href:null,precedence:null});return O=(d.ownerDocument||d).createElement("style"),yn(O),br(O,"style",q),Bl(O,B.precedence,d),y.instance=O;case"stylesheet":q=Na(B.href);var ee=d.querySelector(xo(q));if(ee)return y.state.loading|=4,y.instance=ee,yn(ee),ee;O=Ef(B),(q=ds.get(q))&&wA(O,q),ee=(d.ownerDocument||d).createElement("link"),yn(ee);var ce=ee;return ce._p=new Promise(function(ye,Te){ce.onload=ye,ce.onerror=Te}),br(ee,"link",O),y.state.loading|=4,Bl(ee,B.precedence,d),y.instance=ee;case"script":return ee=Fa(B.src),(q=d.querySelector(yo(ee)))?(y.instance=q,yn(q),q):(O=B,(q=ds.get(ee))&&(O=_({},B),bA(O,q)),d=d.ownerDocument||d,q=d.createElement("script"),yn(q),br(q,"link",O),d.head.appendChild(q),y.instance=q);case"void":return null;default:throw Error(s(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(O=y.instance,y.state.loading|=4,Bl(O,B.precedence,d));return y.instance}function Bl(d,y,B){for(var O=B.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),q=O.length?O[O.length-1]:null,ee=q,ce=0;ce<O.length;ce++){var ye=O[ce];if(ye.dataset.precedence===y)ee=ye;else if(ee!==q)break}ee?ee.parentNode.insertBefore(d,ee.nextSibling):(y=B.nodeType===9?B.head:B,y.insertBefore(d,y.firstChild))}function wA(d,y){d.crossOrigin==null&&(d.crossOrigin=y.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=y.referrerPolicy),d.title==null&&(d.title=y.title)}function bA(d,y){d.crossOrigin==null&&(d.crossOrigin=y.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=y.referrerPolicy),d.integrity==null&&(d.integrity=y.integrity)}var _l=null;function wf(d,y,B){if(_l===null){var O=new Map,q=_l=new Map;q.set(B,O)}else q=_l,O=q.get(B),O||(O=new Map,q.set(B,O));if(O.has(d))return O;for(O.set(d,null),B=B.getElementsByTagName(d),q=0;q<B.length;q++){var ee=B[q];if(!(ee[Hn]||ee[vt]||d==="link"&&ee.getAttribute("rel")==="stylesheet")&&ee.namespaceURI!=="http://www.w3.org/2000/svg"){var ce=ee.getAttribute(y)||"";ce=d+ce;var ye=O.get(ce);ye?ye.push(ee):O.set(ce,[ee])}}return O}function bf(d,y,B){d=d.ownerDocument||d,d.head.insertBefore(B,y==="title"?d.querySelector("head > title"):null)}function Xh(d,y,B){if(B===1||y.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return d=y.disabled,typeof y.precedence=="string"&&d==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function Sf(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Yh(d,y,B,O){if(B.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(B.state.loading&4)===0){if(B.instance===null){var q=Na(O.href),ee=y.querySelector(xo(q));if(ee){y=ee._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(d.count++,d=Tl.bind(d),y.then(d,d)),B.state.loading|=4,B.instance=ee,yn(ee);return}ee=y.ownerDocument||y,O=Ef(O),(q=ds.get(q))&&wA(O,q),ee=ee.createElement("link"),yn(ee);var ce=ee;ce._p=new Promise(function(ye,Te){ce.onload=ye,ce.onerror=Te}),br(ee,"link",O),B.instance=ee}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(B,y),(y=B.state.preload)&&(B.state.loading&3)===0&&(d.count++,B=Tl.bind(d),y.addEventListener("load",B),y.addEventListener("error",B))}}var _A=0;function Jh(d,y){return d.stylesheets&&d.count===0&&Il(d,d.stylesheets),0<d.count||0<d.imgCount?function(B){var O=setTimeout(function(){if(d.stylesheets&&Il(d,d.stylesheets),d.unsuspend){var ee=d.unsuspend;d.unsuspend=null,ee()}},6e4+y);0<d.imgBytes&&_A===0&&(_A=62500*Fh());var q=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&Il(d,d.stylesheets),d.unsuspend)){var ee=d.unsuspend;d.unsuspend=null,ee()}},(d.imgBytes>_A?50:800)+y);return d.unsuspend=B,function(){d.unsuspend=null,clearTimeout(O),clearTimeout(q)}}:null}function Tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Il(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Rl=null;function Il(d,y){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Rl=new Map,y.forEach(Zh,d),Rl=null,Tl.call(d))}function Zh(d,y){if(!(y.state.loading&4)){var B=Rl.get(d);if(B)var O=B.get(null);else{B=new Map,Rl.set(d,B);for(var q=d.querySelectorAll("link[data-precedence],style[data-precedence]"),ee=0;ee<q.length;ee++){var ce=q[ee];(ce.nodeName==="LINK"||ce.getAttribute("media")!=="not all")&&(B.set(ce.dataset.precedence,ce),O=ce)}O&&B.set(null,O)}q=y.instance,ce=q.getAttribute("data-precedence"),ee=B.get(ce)||O,ee===O&&B.set(null,q),B.set(ce,q),this.count++,O=Tl.bind(this),q.addEventListener("load",O),q.addEventListener("error",O),ee?ee.parentNode.insertBefore(q,ee.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(q,d.firstChild)),y.state.loading|=4}}var vo={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ep(d,y,B,O,q,ee,ce,ye,Te){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=O,this.onUncaughtError=q,this.onCaughtError=ee,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function Bf(d,y,B,O,q,ee,ce,ye,Te,He,et,rt){return d=new ep(d,y,B,ce,Te,He,et,rt,ye),y=1,ee===!0&&(y|=24),ee=Kr(3,null,null,y),d.current=ee,ee.stateNode=d,y=sc(),y.refCount++,d.pooledCache=y,y.refCount++,ee.memoizedState={element:O,isDehydrated:B,cache:y},lc(ee),d}function _f(d){return d?(d=ca,d):ca}function Tf(d,y,B,O,q,ee){q=_f(q),O.context===null?O.context=q:O.pendingContext=q,O=hi(y),O.payload={element:B},ee=ee===void 0?null:ee,ee!==null&&(O.callback=ee),B=pi(d,O,y),B!==null&&(Hr(B,d,y),Ya(B,d,y))}function Rf(d,y){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var B=d.retryLane;d.retryLane=B!==0&&B<y?B:y}}function TA(d,y){Rf(d,y),(d=d.alternate)&&Rf(d,y)}function If(d){if(d.tag===13||d.tag===31){var y=ji(d,67108864);y!==null&&Hr(y,d,67108864),TA(d,67108864)}}function Nf(d){if(d.tag===13||d.tag===31){var y=Jr();y=it(y);var B=ji(d,y);B!==null&&Hr(B,d,y),TA(d,y)}}var Fl=!0;function tp(d,y,B,O){var q=ae.T;ae.T=null;var ee=ue.p;try{ue.p=2,RA(d,y,B,O)}finally{ue.p=ee,ae.T=q}}function np(d,y,B,O){var q=ae.T;ae.T=null;var ee=ue.p;try{ue.p=8,RA(d,y,B,O)}finally{ue.p=ee,ae.T=q}}function RA(d,y,B,O){if(Fl){var q=IA(O);if(q===null)fA(d,y,O,kl,B),kf(d,O);else if(sp(q,d,y,B,O))O.stopPropagation();else if(kf(d,O),y&4&&-1<rp.indexOf(d)){for(;q!==null;){var ee=rn(q);if(ee!==null)switch(ee.tag){case 3:if(ee=ee.stateNode,ee.current.memoizedState.isDehydrated){var ce=Sn(ee.pendingLanes);if(ce!==0){var ye=ee;for(ye.pendingLanes|=2,ye.entangledLanes|=2;ce;){var Te=1<<31-ot(ce);ye.entanglements[1]|=Te,ce&=~Te}Ts(ee),(bn&6)===0&&(hl=st()+500,ho(0))}}break;case 31:case 13:ye=ji(ee,2),ye!==null&&Hr(ye,ee,2),ml(),TA(ee,2)}if(ee=IA(O),ee===null&&fA(d,y,O,kl,B),ee===q)break;q=ee}q!==null&&O.stopPropagation()}else fA(d,y,O,null,B)}}function IA(d){return d=Da(d),NA(d)}var kl=null;function NA(d){if(kl=null,d=zt(d),d!==null){var y=l(d);if(y===null)d=null;else{var B=y.tag;if(B===13){if(d=c(y),d!==null)return d;d=null}else if(B===31){if(d=p(y),d!==null)return d;d=null}else if(B===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;d=null}else y!==d&&(d=null)}}return kl=d,null}function Ff(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case Fe:return 2;case Ye:return 8;case Je:case bt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var FA=!1,Bi=null,_i=null,Ti=null,Eo=new Map,Co=new Map,Ri=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kf(d,y){switch(d){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Eo.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(y.pointerId)}}function wo(d,y,B,O,q,ee){return d===null||d.nativeEvent!==ee?(d={blockedOn:y,domEventName:B,eventSystemFlags:O,nativeEvent:ee,targetContainers:[q]},y!==null&&(y=rn(y),y!==null&&If(y)),d):(d.eventSystemFlags|=O,y=d.targetContainers,q!==null&&y.indexOf(q)===-1&&y.push(q),d)}function sp(d,y,B,O,q){switch(y){case"focusin":return Bi=wo(Bi,d,y,B,O,q),!0;case"dragenter":return _i=wo(_i,d,y,B,O,q),!0;case"mouseover":return Ti=wo(Ti,d,y,B,O,q),!0;case"pointerover":var ee=q.pointerId;return Eo.set(ee,wo(Eo.get(ee)||null,d,y,B,O,q)),!0;case"gotpointercapture":return ee=q.pointerId,Co.set(ee,wo(Co.get(ee)||null,d,y,B,O,q)),!0}return!1}function Mf(d){var y=zt(d.target);if(y!==null){var B=l(y);if(B!==null){if(y=B.tag,y===13){if(y=c(B),y!==null){d.blockedOn=y,Ze(d.priority,function(){Nf(B)});return}}else if(y===31){if(y=p(B),y!==null){d.blockedOn=y,Ze(d.priority,function(){Nf(B)});return}}else if(y===3&&B.stateNode.current.memoizedState.isDehydrated){d.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ml(d){if(d.blockedOn!==null)return!1;for(var y=d.targetContainers;0<y.length;){var B=IA(d.nativeEvent);if(B===null){B=d.nativeEvent;var O=new B.constructor(B.type,B);Ni=O,B.target.dispatchEvent(O),Ni=null}else return y=rn(B),y!==null&&If(y),d.blockedOn=B,!1;y.shift()}return!0}function Of(d,y,B){Ml(d)&&B.delete(y)}function ap(){FA=!1,Bi!==null&&Ml(Bi)&&(Bi=null),_i!==null&&Ml(_i)&&(_i=null),Ti!==null&&Ml(Ti)&&(Ti=null),Eo.forEach(Of),Co.forEach(Of)}function Ol(d,y){d.blockedOn===y&&(d.blockedOn=null,FA||(FA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ap)))}var Dl=null;function Df(d){Dl!==d&&(Dl=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dl===d&&(Dl=null);for(var y=0;y<d.length;y+=3){var B=d[y],O=d[y+1],q=d[y+2];if(typeof O!="function"){if(NA(O||B)===null)continue;break}var ee=rn(B);ee!==null&&(d.splice(y,3),y-=3,Tc(ee,{pending:!0,data:q,method:B.method,action:O},O,q))}}))}function ka(d){function y(Te){return Ol(Te,d)}Bi!==null&&Ol(Bi,d),_i!==null&&Ol(_i,d),Ti!==null&&Ol(Ti,d),Eo.forEach(y),Co.forEach(y);for(var B=0;B<Ri.length;B++){var O=Ri[B];O.blockedOn===d&&(O.blockedOn=null)}for(;0<Ri.length&&(B=Ri[0],B.blockedOn===null);)Mf(B),B.blockedOn===null&&Ri.shift();if(B=(d.ownerDocument||d).$$reactFormReplay,B!=null)for(O=0;O<B.length;O+=3){var q=B[O],ee=B[O+1],ce=q[yt]||null;if(typeof ee=="function")ce||Df(B);else if(ce){var ye=null;if(ee&&ee.hasAttribute("formAction")){if(q=ee,ce=ee[yt]||null)ye=ce.formAction;else if(NA(q)!==null)continue}else ye=ce.action;typeof ye=="function"?B[O+1]=ye:(B.splice(O,3),O-=3),Df(B)}}}function Lf(){function d(ee){ee.canIntercept&&ee.info==="react-transition"&&ee.intercept({handler:function(){return new Promise(function(ce){return q=ce})},focusReset:"manual",scroll:"manual"})}function y(){q!==null&&(q(),q=null),O||setTimeout(B,20)}function B(){if(!O&&!navigation.transition){var ee=navigation.currentEntry;ee&&ee.url!=null&&navigation.navigate(ee.url,{state:ee.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,q=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",y),navigation.addEventListener("navigateerror",y),setTimeout(B,100),function(){O=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",y),navigation.removeEventListener("navigateerror",y),q!==null&&(q(),q=null)}}}function kA(d){this._internalRoot=d}Ll.prototype.render=kA.prototype.render=function(d){var y=this._internalRoot;if(y===null)throw Error(s(409));var B=y.current,O=Jr();Tf(B,O,d,y,null,null)},Ll.prototype.unmount=kA.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var y=d.containerInfo;Tf(d.current,2,null,d,null,null),ml(),y[Nt]=null}};function Ll(d){this._internalRoot=d}Ll.prototype.unstable_scheduleHydration=function(d){if(d){var y=wt();d={blockedOn:null,target:d,priority:y};for(var B=0;B<Ri.length&&y!==0&&y<Ri[B].priority;B++);Ri.splice(B,0,d),B===0&&Mf(d)}};var Pf=n.version;if(Pf!=="19.2.0")throw Error(s(527,Pf,"19.2.0"));ue.findDOMNode=function(d){var y=d._reactInternals;if(y===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=x(y),d=d!==null?b(d):null,d=d===null?null:d.stateNode,d};var lp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{Ve=Pl.inject(lp),je=Pl}catch{}}return reactDomClient_production.createRoot=function(d,y){if(!o(d))throw Error(s(299));var B=!1,O="",q=Vu,ee=zu,ce=Gu;return y!=null&&(y.unstable_strictMode===!0&&(B=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onUncaughtError!==void 0&&(q=y.onUncaughtError),y.onCaughtError!==void 0&&(ee=y.onCaughtError),y.onRecoverableError!==void 0&&(ce=y.onRecoverableError)),y=Bf(d,1,!1,null,null,B,O,null,q,ee,ce,Lf),d[Nt]=y.current,dA(d),new kA(y)},reactDomClient_production.hydrateRoot=function(d,y,B){if(!o(d))throw Error(s(299));var O=!1,q="",ee=Vu,ce=zu,ye=Gu,Te=null;return B!=null&&(B.unstable_strictMode===!0&&(O=!0),B.identifierPrefix!==void 0&&(q=B.identifierPrefix),B.onUncaughtError!==void 0&&(ee=B.onUncaughtError),B.onCaughtError!==void 0&&(ce=B.onCaughtError),B.onRecoverableError!==void 0&&(ye=B.onRecoverableError),B.formState!==void 0&&(Te=B.formState)),y=Bf(d,1,!0,y,B??null,O,q,Te,ee,ce,ye,Lf),y.context=_f(null),B=y.current,O=Jr(),O=it(O),q=hi(O),q.callback=null,pi(B,q,O),B=O,y.current.lanes=B,Zr(y,B),Ts(y),d[Nt]=y.current,dA(d),new Ll(y)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactExports$1=requireReact$1();const React=getDefaultExportFromCjs(reactExports$1),ErrorBoundaryContext=reactExports$1.createContext(null),initialState$1={didCatch:!1,error:null};class ErrorBoundary extends reactExports$1.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$1}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var r,s,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];(r=(s=this.props).onReset)===null||r===void 0||r.call(s,{args:l,reason:"imperative-api"}),this.setState(initialState$1)}}componentDidCatch(n,r){var s,o;(s=(o=this.props).onError)===null||s===void 0||s.call(o,n,r)}componentDidUpdate(n,r){const{didCatch:s}=this.state,{resetKeys:o}=this.props;if(s&&r.error!==null&&hasArrayChanged(n.resetKeys,o)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:o,prev:n.resetKeys,reason:"keys"}),this.setState(initialState$1)}}render(){const{children:n,fallbackRender:r,FallbackComponent:s,fallback:o}=this.props,{didCatch:l,error:c}=this.state;let p=n;if(l){const m={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")p=r(m);else if(s)p=reactExports$1.createElement(s,m);else if(o!==void 0)p=o;else throw c}return reactExports$1.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},p)}}function hasArrayChanged(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==n.length||t.some((r,s)=>!Object.is(r,n[s]))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __typeError=t=>{throw TypeError(t)},__accessCheck=(t,n,r)=>n.has(t)||__typeError("Cannot "+r),__privateGet=(t,n,r)=>(__accessCheck(t,n,"read from private field"),r?r.call(t):n.get(t)),__privateAdd=(t,n,r)=>n.has(t)?__typeError("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),PopStateEventType="popstate";function createBrowserHistory(t={}){function n(s,o){let{pathname:l,search:c,hash:p}=s.location;return createLocation("",{pathname:l,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(n,r,null,t)}function invariant(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function warning(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function createKey$1(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,n){return{usr:t.state,key:t.key,idx:n}}function createLocation(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?parsePath(n):n,state:r,key:n&&n.key||s||createKey$1()}}function createPath({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function parsePath(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function getUrlBasedHistory(t,n,r,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,p="POP",m=null,x=b();x==null&&(x=0,c.replaceState({...c.state,idx:x},""));function b(){return(c.state||{idx:null}).idx}function _(){p="POP";let K=b(),$=K==null?null:K-x;x=K,m&&m({action:p,location:P.location,delta:$})}function R(K,$){p="PUSH";let G=createLocation(P.location,K,$);x=b()+1;let H=getHistoryState(G,x),j=P.createHref(G);try{c.pushState(H,"",j)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(j)}l&&m&&m({action:p,location:P.location,delta:1})}function k(K,$){p="REPLACE";let G=createLocation(P.location,K,$);x=b();let H=getHistoryState(G,x),j=P.createHref(G);c.replaceState(H,"",j),l&&m&&m({action:p,location:P.location,delta:0})}function M(K){return createBrowserURLImpl(K)}let P={get action(){return p},get location(){return t(o,c)},listen(K){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,_),m=K,()=>{o.removeEventListener(PopStateEventType,_),m=null}},createHref(K){return n(o,K)},createURL:M,encodeLocation(K){let $=M(K);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:k,go(K){return c.go(K)}};return P}function createBrowserURLImpl(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:createPath(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var _map,RouterContextProvider=class{constructor(t){if(__privateAdd(this,_map,new Map),t)for(let[n,r]of t)this.set(n,r)}get(t){if(__privateGet(this,_map).has(t))return __privateGet(this,_map).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,n){__privateGet(this,_map).set(t,n)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(t){return unsupportedLazyRouteObjectKeys.has(t)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function isUnsupportedLazyRouteFunctionKey(t){return unsupportedLazyRouteFunctionKeys.has(t)}function isIndexRoute(t){return t.index===!0}function convertRoutesToDataRoutes(t,n,r=[],s={},o=!1){return t.map((l,c)=>{let p=[...r,String(c)],m=typeof l.id=="string"?l.id:p.join("-");if(invariant(l.index!==!0||!l.children,"Cannot specify children on an index route"),invariant(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(l)){let x={...l,id:m};return s[m]=mergeRouteUpdates(x,n(x)),x}else{let x={...l,id:m,children:void 0};return s[m]=mergeRouteUpdates(x,n(x)),l.children&&(x.children=convertRoutesToDataRoutes(l.children,n,p,s,o)),x}})}function mergeRouteUpdates(t,n){return Object.assign(t,{...n,...typeof n.lazy=="object"&&n.lazy!=null?{lazy:{...t.lazy,...n.lazy}}:{}})}function matchRoutes(t,n,r="/"){return matchRoutesImpl(t,n,r,!1)}function matchRoutesImpl(t,n,r,s){let o=typeof n=="string"?parsePath(n):n,l=stripBasename(o.pathname||"/",r);if(l==null)return null;let c=flattenRoutes(t);rankRouteBranches(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let x=decodePath(l);p=matchRouteBranch(c[m],x,s)}return p}function convertRouteMatchToUiMatch(t,n){let{route:r,pathname:s,params:o}=t;return{id:r.id,pathname:s,params:o,data:n[r.id],loaderData:n[r.id],handle:r.handle}}function flattenRoutes(t,n=[],r=[],s="",o=!1){let l=(c,p,m=o,x)=>{let b={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&m)return;invariant(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let _=joinPaths([s,b.relativePath]),R=r.concat(b);c.children&&c.children.length>0&&(invariant(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),flattenRoutes(c.children,n,R,_,m)),!(c.path==null&&!c.index)&&n.push({path:_,score:computeScore(_,c.index),routesMeta:R})};return t.forEach((c,p)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,p);else for(let x of explodeOptionalSegments(c.path))l(c,p,!0,x)}),n}function explodeOptionalSegments(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=explodeOptionalSegments(s.join("/")),p=[];return p.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&p.push(...c),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function rankRouteBranches(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:compareIndexes(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,n){let r=t.split("/"),s=r.length;return r.some(isSplat)&&(s+=splatPenalty),n&&(s+=indexRouteValue),r.filter(o=>!isSplat(o)).reduce((o,l)=>o+(paramRe.test(l)?dynamicSegmentValue:l===""?emptySegmentValue:staticSegmentValue),s)}function compareIndexes(t,n){return t.length===n.length&&t.slice(0,-1).every((s,o)=>s===n[o])?t[t.length-1]-n[n.length-1]:0}function matchRouteBranch(t,n,r=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let p=0;p<s.length;++p){let m=s[p],x=p===s.length-1,b=l==="/"?n:n.slice(l.length)||"/",_=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:x},b),R=m.route;if(!_&&x&&r&&!s[s.length-1].route.index&&(_=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:joinPaths([l,_.pathname]),pathnameBase:normalizePathname(joinPaths([l,_.pathnameBase])),route:R}),_.pathnameBase!=="/"&&(l=joinPaths([l,_.pathnameBase]))}return c}function matchPath(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=compilePath(t.path,t.caseSensitive,t.end),o=n.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((x,{paramName:b,isOptional:_},R)=>{if(b==="*"){let M=p[R]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const k=p[R];return _&&!k?x[b]=void 0:x[b]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:c,pattern:t}}function compilePath(t,n=!1,r=!0){warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function decodePath(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return warning(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function stripBasename(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function prependBasename({basename:t,pathname:n}){return n==="/"?t:joinPaths([t,n])}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=t=>ABSOLUTE_URL_REGEX.test(t);function resolvePath(t,n="/"){let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?parsePath(t):t,l;if(r)if(isAbsoluteUrl(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=resolvePathname(r.substring(1),"/"):l=resolvePathname(r,n)}else l=n;return{pathname:l,search:normalizeSearch(s),hash:normalizeHash(o)}}function resolvePathname(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function getInvalidPathError(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function getResolveToMatches(t){let n=getPathContributingMatches(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function resolveTo(t,n,r,s=!1){let o;typeof t=="string"?o=parsePath(t):(o={...t},invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,p;if(c==null)p=r;else{let _=n.length-1;if(!s&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),_-=1;o.pathname=R.join("/")}p=_>=0?n[_]:"/"}let m=resolvePath(o,p),x=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(x||b)&&(m.pathname+="/"),m}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ErrorResponseImpl=class{constructor(t,n,r,s=!1){this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function getRoutePattern(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UninstrumentedSymbol=Symbol("Uninstrumented");function getRouteInstrumentationUpdates(t,n){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(o=>o({id:n.id,index:n.index,path:n.path,instrument(l){let c=Object.keys(r);for(let p of c)l[p]&&r[p].push(l[p])}}));let s={};if(typeof n.lazy=="function"&&r.lazy.length>0){let o=wrapImpl(r.lazy,n.lazy,()=>{});o&&(s.lazy=o)}if(typeof n.lazy=="object"){let o=n.lazy;["middleware","loader","action"].forEach(l=>{let c=o[l],p=r[`lazy.${l}`];if(typeof c=="function"&&p.length>0){let m=wrapImpl(p,c,()=>{});m&&(s.lazy=Object.assign(s.lazy||{},{[l]:m}))}})}return["loader","action"].forEach(o=>{let l=n[o];if(typeof l=="function"&&r[o].length>0){let c=l[UninstrumentedSymbol]??l,p=wrapImpl(r[o],c,(...m)=>getHandlerInfo(m[0]));p&&(p[UninstrumentedSymbol]=c,s[o]=p)}}),n.middleware&&n.middleware.length>0&&r.middleware.length>0&&(s.middleware=n.middleware.map(o=>{let l=o[UninstrumentedSymbol]??o,c=wrapImpl(r.middleware,l,(...p)=>getHandlerInfo(p[0]));return c?(c[UninstrumentedSymbol]=l,c):o})),s}function instrumentClientSideRouter(t,n){let r={navigate:[],fetch:[]};if(n.forEach(s=>s({instrument(o){let l=Object.keys(o);for(let c of l)o[c]&&r[c].push(o[c])}})),r.navigate.length>0){let s=t.navigate[UninstrumentedSymbol]??t.navigate,o=wrapImpl(r.navigate,s,(...l)=>{let[c,p]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?createPath(c):".",...getRouterInfo(t,p??{})}});o&&(o[UninstrumentedSymbol]=s,t.navigate=o)}if(r.fetch.length>0){let s=t.fetch[UninstrumentedSymbol]??t.fetch,o=wrapImpl(r.fetch,s,(...l)=>{let[c,,p,m]=l;return{href:p??".",fetcherKey:c,...getRouterInfo(t,m??{})}});o&&(o[UninstrumentedSymbol]=s,t.fetch=o)}return t}function wrapImpl(t,n,r){return t.length===0?null:async(...s)=>{let o=await recurseRight(t,r(...s),()=>n(...s),t.length-1);if(o.type==="error")throw o.value;return o.value}}async function recurseRight(t,n,r,s){let o=t[s],l;if(o){let c,p=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=recurseRight(t,n,r,s-1),l=await c,invariant(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await o(p,n)}catch(m){console.error("An instrumentation function threw an error:",m)}c||await p(),await c}else try{l={type:"success",value:await r()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function getHandlerInfo(t){let{request:n,context:r,params:s,unstable_pattern:o}=t;return{request:getReadonlyRequest(n),params:{...s},unstable_pattern:o,context:getReadonlyContext(r)}}function getRouterInfo(t,n){return{currentUrl:createPath(t.state.location),..."formMethod"in n?{formMethod:n.formMethod}:{},..."formEncType"in n?{formEncType:n.formEncType}:{},..."formData"in n?{formData:n.formData}:{},..."body"in n?{body:n.body}:{}}}function getReadonlyRequest(t){return{method:t.method,url:t.url,headers:{get:(...n)=>t.headers.get(...n)}}}function getReadonlyContext(t){if(isPlainObject$2(t)){let n={...t};return Object.freeze(n),n}else return{get:n=>t.get(n)}}var objectProtoNames=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function isPlainObject$2(t){if(t===null||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);return n===Object.prototype||n===null||Object.getOwnPropertyNames(n).sort().join("\0")===objectProtoNames}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},defaultMapRouteProperties=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(t){const n=t.window?t.window:typeof window<"u"?window:void 0,r=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u";invariant(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||defaultMapRouteProperties,l=o;if(t.unstable_instrumentations){let _e=t.unstable_instrumentations;l=Me=>({...o(Me),...getRouteInstrumentationUpdates(_e.map(ze=>ze.route).filter(Boolean),Me)})}let c={},p=convertRoutesToDataRoutes(t.routes,l,void 0,c),m,x=t.basename||"/";x.startsWith("/")||(x=`/${x}`);let b=t.dataStrategy||defaultDataStrategyWithMiddleware,_={...t.future},R=null,k=new Set,M=null,P=null,K=null,$=t.hydrationData!=null,G=matchRoutes(p,t.history.location,x),H=!1,j=null,W;if(G==null&&!t.patchRoutesOnNavigation){let _e=getInternalRouterError(404,{pathname:t.history.location.pathname}),{matches:Me,route:ze}=getShortCircuitMatches(p);W=!0,G=Me,j={[ze.id]:_e}}else if(G&&!t.hydrationData&&Tr(G,p,t.history.location.pathname).active&&(G=null),G)if(G.some(_e=>_e.route.lazy))W=!1;else if(!G.some(_e=>routeHasLoaderOrMiddleware(_e.route)))W=!0;else{let _e=t.hydrationData?t.hydrationData.loaderData:null,Me=t.hydrationData?t.hydrationData.errors:null;if(Me){let ze=G.findIndex(it=>Me[it.route.id]!==void 0);W=G.slice(0,ze+1).every(it=>!shouldLoadRouteOnHydration(it.route,_e,Me))}else W=G.every(ze=>!shouldLoadRouteOnHydration(ze.route,_e,Me))}else{W=!1,G=[];let _e=Tr(null,p,t.history.location.pathname);_e.active&&_e.matches&&(H=!0,G=_e.matches)}let Y,X={historyAction:t.history.action,location:t.history.location,matches:G,initialized:W,navigation:IDLE_NAVIGATION,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},te="POP",se=!1,pe,ge=!1,me=new Map,Ee=null,ve=!1,de=!1,ae=new Set,ue=new Map,re=0,oe=-1,Ce=new Map,Ae=new Set,we=new Map,Re=new Map,Be=new Set,We=new Map,De,ct=null;function at(){if(R=t.history.listen(({action:_e,location:Me,delta:ze})=>{if(De){De(),De=void 0;return}warning(We.size===0||ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=dn({currentLocation:X.location,nextLocation:Me,historyAction:_e});if(it&&ze!=null){let ht=new Promise(wt=>{De=wt});t.history.go(ze*-1),un(it,{state:"blocked",location:Me,proceed(){un(it,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),ht.then(()=>t.history.go(ze))},reset(){let wt=new Map(X.blockers);wt.set(it,IDLE_BLOCKER),mt({blockers:wt})}});return}return an(_e,Me)}),r){restoreAppliedTransitions(n,me);let _e=()=>persistAppliedTransitions(n,me);n.addEventListener("pagehide",_e),Ee=()=>n.removeEventListener("pagehide",_e)}return X.initialized||an("POP",X.location,{initialHydration:!0}),Y}function Ct(){R&&R(),Ee&&Ee(),k.clear(),pe&&pe.abort(),X.fetchers.forEach((_e,Me)=>Wt(Me)),X.blockers.forEach((_e,Me)=>on(Me))}function It(_e){return k.add(_e),()=>k.delete(_e)}function mt(_e,Me={}){_e.matches&&(_e.matches=_e.matches.map(ht=>{let wt=c[ht.route.id],Ze=ht.route;return Ze.element!==wt.element||Ze.errorElement!==wt.errorElement||Ze.hydrateFallbackElement!==wt.hydrateFallbackElement?{...ht,route:wt}:ht})),X={...X,..._e};let ze=[],it=[];X.fetchers.forEach((ht,wt)=>{ht.state==="idle"&&(Be.has(wt)?ze.push(wt):it.push(wt))}),Be.forEach(ht=>{!X.fetchers.has(ht)&&!ue.has(ht)&&ze.push(ht)}),[...k].forEach(ht=>ht(X,{deletedFetchers:ze,viewTransitionOpts:Me.viewTransitionOpts,flushSync:Me.flushSync===!0})),ze.forEach(ht=>Wt(ht)),it.forEach(ht=>X.fetchers.delete(ht))}function Ut(_e,Me,{flushSync:ze}={}){var Nt,Tt;let it=X.actionData!=null&&X.navigation.formMethod!=null&&isMutationMethod(X.navigation.formMethod)&&X.navigation.state==="loading"&&((Nt=_e.state)==null?void 0:Nt._isRedirect)!==!0,ht;Me.actionData?Object.keys(Me.actionData).length>0?ht=Me.actionData:ht=null:it?ht=X.actionData:ht=null;let wt=Me.loaderData?mergeLoaderData(X.loaderData,Me.loaderData,Me.matches||[],Me.errors):X.loaderData,Ze=X.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((Vt,nn)=>Ze.set(nn,IDLE_BLOCKER)));let Et=ve?!1:Nn(_e,Me.matches||X.matches),vt=se===!0||X.navigation.formMethod!=null&&isMutationMethod(X.navigation.formMethod)&&((Tt=_e.state)==null?void 0:Tt._isRedirect)!==!0;m&&(p=m,m=void 0),ve||te==="POP"||(te==="PUSH"?t.history.push(_e,_e.state):te==="REPLACE"&&t.history.replace(_e,_e.state));let yt;if(te==="POP"){let Vt=me.get(X.location.pathname);Vt&&Vt.has(_e.pathname)?yt={currentLocation:X.location,nextLocation:_e}:me.has(_e.pathname)&&(yt={currentLocation:_e,nextLocation:X.location})}else if(ge){let Vt=me.get(X.location.pathname);Vt?Vt.add(_e.pathname):(Vt=new Set([_e.pathname]),me.set(X.location.pathname,Vt)),yt={currentLocation:X.location,nextLocation:_e}}mt({...Me,actionData:ht,loaderData:wt,historyAction:te,location:_e,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Et,preventScrollReset:vt,blockers:Ze},{viewTransitionOpts:yt,flushSync:ze===!0}),te="POP",se=!1,ge=!1,ve=!1,de=!1,ct==null||ct.resolve(),ct=null}async function gt(_e,Me){if(typeof _e=="number"){t.history.go(_e);return}let ze=normalizeTo(X.location,X.matches,x,_e,Me==null?void 0:Me.fromRouteId,Me==null?void 0:Me.relative),{path:it,submission:ht,error:wt}=normalizeNavigateOptions(!1,ze,Me),Ze=X.location,Et=createLocation(X.location,it,Me&&Me.state);Et={...Et,...t.history.encodeLocation(Et)};let vt=Me&&Me.replace!=null?Me.replace:void 0,yt="PUSH";vt===!0?yt="REPLACE":vt===!1||ht!=null&&isMutationMethod(ht.formMethod)&&ht.formAction===X.location.pathname+X.location.search&&(yt="REPLACE");let Nt=Me&&"preventScrollReset"in Me?Me.preventScrollReset===!0:void 0,Tt=(Me&&Me.flushSync)===!0,Vt=dn({currentLocation:Ze,nextLocation:Et,historyAction:yt});if(Vt){un(Vt,{state:"blocked",location:Et,proceed(){un(Vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Et}),gt(_e,Me)},reset(){let nn=new Map(X.blockers);nn.set(Vt,IDLE_BLOCKER),mt({blockers:nn})}});return}await an(yt,Et,{submission:ht,pendingError:wt,preventScrollReset:Nt,replace:Me&&Me.replace,enableViewTransition:Me&&Me.viewTransition,flushSync:Tt})}function xt(){ct||(ct=createDeferred()),Fe(),mt({revalidation:"loading"});let _e=ct.promise;return X.navigation.state==="submitting"?_e:X.navigation.state==="idle"?(an(X.historyAction,X.location,{startUninterruptedRevalidation:!0}),_e):(an(te||X.historyAction,X.navigation.location,{overrideNavigation:X.navigation,enableViewTransition:ge===!0}),_e)}async function an(_e,Me,ze){pe&&pe.abort(),pe=null,te=_e,ve=(ze&&ze.startUninterruptedRevalidation)===!0,Sr(X.location,X.matches),se=(ze&&ze.preventScrollReset)===!0,ge=(ze&&ze.enableViewTransition)===!0;let it=m||p,ht=ze&&ze.overrideNavigation,wt=ze!=null&&ze.initialHydration&&X.matches&&X.matches.length>0&&!H?X.matches:matchRoutes(it,Me,x),Ze=(ze&&ze.flushSync)===!0;if(wt&&X.initialized&&!de&&isHashChangeOnly(X.location,Me)&&!(ze&&ze.submission&&isMutationMethod(ze.submission.formMethod))){Ut(Me,{matches:wt},{flushSync:Ze});return}let Et=Tr(wt,it,Me.pathname);if(Et.active&&Et.matches&&(wt=Et.matches),!wt){let{error:Hn,notFoundMatches:en,route:zt}=kt(Me.pathname);Ut(Me,{matches:en,loaderData:{},errors:{[zt.id]:Hn}},{flushSync:Ze});return}pe=new AbortController;let vt=createClientSideRequest(t.history,Me,pe.signal,ze&&ze.submission),yt=t.getContext?await t.getContext():new RouterContextProvider,Nt;if(ze&&ze.pendingError)Nt=[findNearestBoundary(wt).route.id,{type:"error",error:ze.pendingError}];else if(ze&&ze.submission&&isMutationMethod(ze.submission.formMethod)){let Hn=await Un(vt,Me,ze.submission,wt,yt,Et.active,ze&&ze.initialHydration===!0,{replace:ze.replace,flushSync:Ze});if(Hn.shortCircuited)return;if(Hn.pendingActionResult){let[en,zt]=Hn.pendingActionResult;if(isErrorResult(zt)&&isRouteErrorResponse(zt.error)&&zt.error.status===404){pe=null,Ut(Me,{matches:Hn.matches,loaderData:{},errors:{[en]:zt.error}});return}}wt=Hn.matches||wt,Nt=Hn.pendingActionResult,ht=getLoadingNavigation(Me,ze.submission),Ze=!1,Et.active=!1,vt=createClientSideRequest(t.history,vt.url,vt.signal)}let{shortCircuited:Tt,matches:Vt,loaderData:nn,errors:Wn}=await Zt(vt,Me,wt,yt,Et.active,ht,ze&&ze.submission,ze&&ze.fetcherSubmission,ze&&ze.replace,ze&&ze.initialHydration===!0,Ze,Nt);Tt||(pe=null,Ut(Me,{matches:Vt||wt,...getActionDataForCommit(Nt),loaderData:nn,errors:Wn}))}async function Un(_e,Me,ze,it,ht,wt,Ze,Et={}){Fe();let vt=getSubmittingNavigation(Me,ze);if(mt({navigation:vt},{flushSync:Et.flushSync===!0}),wt){let Tt=await Dn(it,Me.pathname,_e.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){if(Tt.partialMatches.length===0){let{matches:nn,route:Wn}=getShortCircuitMatches(p);return{matches:nn,pendingActionResult:[Wn.id,{type:"error",error:Tt.error}]}}let Vt=findNearestBoundary(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,pendingActionResult:[Vt,{type:"error",error:Tt.error}]}}else if(Tt.matches)it=Tt.matches;else{let{notFoundMatches:Vt,error:nn,route:Wn}=kt(Me.pathname);return{matches:Vt,pendingActionResult:[Wn.id,{type:"error",error:nn}]}}}let yt,Nt=getTargetMatch(it,Me);if(!Nt.route.action&&!Nt.route.lazy)yt={type:"error",error:getInternalRouterError(405,{method:_e.method,pathname:Me.pathname,routeId:Nt.route.id})};else{let Tt=getTargetedDataStrategyMatches(l,c,_e,it,Nt,Ze?[]:s,ht),Vt=await st(_e,Tt,ht,null);if(yt=Vt[Nt.route.id],!yt){for(let nn of it)if(Vt[nn.route.id]){yt=Vt[nn.route.id];break}}if(_e.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(yt)){let Tt;return Et&&Et.replace!=null?Tt=Et.replace:Tt=normalizeRedirectLocation(yt.response.headers.get("Location"),new URL(_e.url),x)===X.location.pathname+X.location.search,await On(_e,yt,!0,{submission:ze,replace:Tt}),{shortCircuited:!0}}if(isErrorResult(yt)){let Tt=findNearestBoundary(it,Nt.route.id);return(Et&&Et.replace)!==!0&&(te="PUSH"),{matches:it,pendingActionResult:[Tt.route.id,yt,Nt.route.id]}}return{matches:it,pendingActionResult:[Nt.route.id,yt]}}async function Zt(_e,Me,ze,it,ht,wt,Ze,Et,vt,yt,Nt,Tt){let Vt=wt||getLoadingNavigation(Me,Ze),nn=Ze||Et||getSubmissionFromNavigation(Vt),Wn=!ve&&!yt;if(ht){if(Wn){let Ht=$t(Tt);mt({navigation:Vt,...Ht!==void 0?{actionData:Ht}:{}},{flushSync:Nt})}let Bt=await Dn(ze,Me.pathname,_e.signal);if(Bt.type==="aborted")return{shortCircuited:!0};if(Bt.type==="error"){if(Bt.partialMatches.length===0){let{matches:qt,route:_r}=getShortCircuitMatches(p);return{matches:qt,loaderData:{},errors:{[_r.id]:Bt.error}}}let Ht=findNearestBoundary(Bt.partialMatches).route.id;return{matches:Bt.partialMatches,loaderData:{},errors:{[Ht]:Bt.error}}}else if(Bt.matches)ze=Bt.matches;else{let{error:Ht,notFoundMatches:qt,route:_r}=kt(Me.pathname);return{matches:qt,loaderData:{},errors:{[_r.id]:Ht}}}}let Hn=m||p,{dsMatches:en,revalidatingFetchers:zt}=getMatchesToLoad(_e,it,l,c,t.history,X,ze,nn,Me,yt?[]:s,yt===!0,de,ae,Be,we,Ae,Hn,x,t.patchRoutesOnNavigation!=null,Tt);if(oe=++re,!t.dataStrategy&&!en.some(Bt=>Bt.shouldLoad)&&!en.some(Bt=>Bt.route.middleware&&Bt.route.middleware.length>0)&&zt.length===0){let Bt=ut();return Ut(Me,{matches:ze,loaderData:{},errors:Tt&&isErrorResult(Tt[1])?{[Tt[0]]:Tt[1].error}:null,...getActionDataForCommit(Tt),...Bt?{fetchers:new Map(X.fetchers)}:{}},{flushSync:Nt}),{shortCircuited:!0}}if(Wn){let Bt={};if(!ht){Bt.navigation=Vt;let Ht=$t(Tt);Ht!==void 0&&(Bt.actionData=Ht)}zt.length>0&&(Bt.fetchers=Ot(zt)),mt(Bt,{flushSync:Nt})}zt.forEach(Bt=>{Ve(Bt.key),Bt.controller&&ue.set(Bt.key,Bt.controller)});let rn=()=>zt.forEach(Bt=>Ve(Bt.key));pe&&pe.signal.addEventListener("abort",rn);let{loaderResults:Mr,fetcherResults:qn}=await Pe(en,zt,_e,it);if(_e.signal.aborted)return{shortCircuited:!0};pe&&pe.signal.removeEventListener("abort",rn),zt.forEach(Bt=>ue.delete(Bt.key));let yn=findRedirect(Mr);if(yn)return await On(_e,yn.result,!0,{replace:vt}),{shortCircuited:!0};if(yn=findRedirect(qn),yn)return Ae.add(yn.key),await On(_e,yn.result,!0,{replace:vt}),{shortCircuited:!0};let{loaderData:lt,errors:vs}=processLoaderData(X,ze,Mr,Tt,zt,qn);yt&&X.errors&&(vs={...X.errors,...vs});let ln=ut(),gr=ot(oe),Js=ln||gr||zt.length>0;return{matches:ze,loaderData:lt,errors:vs,...Js?{fetchers:new Map(X.fetchers)}:{}}}function $t(_e){if(_e&&!isErrorResult(_e[1]))return{[_e[0]]:_e[1].data};if(X.actionData)return Object.keys(X.actionData).length===0?null:X.actionData}function Ot(_e){return _e.forEach(Me=>{let ze=X.fetchers.get(Me.key),it=getLoadingFetcher(void 0,ze?ze.data:void 0);X.fetchers.set(Me.key,it)}),new Map(X.fetchers)}async function In(_e,Me,ze,it){Ve(_e);let ht=(it&&it.flushSync)===!0,wt=m||p,Ze=normalizeTo(X.location,X.matches,x,ze,Me,it==null?void 0:it.relative),Et=matchRoutes(wt,Ze,x),vt=Tr(Et,wt,Ze);if(vt.active&&vt.matches&&(Et=vt.matches),!Et){Je(_e,Me,getInternalRouterError(404,{pathname:Ze}),{flushSync:ht});return}let{path:yt,submission:Nt,error:Tt}=normalizeNavigateOptions(!0,Ze,it);if(Tt){Je(_e,Me,Tt,{flushSync:ht});return}let Vt=t.getContext?await t.getContext():new RouterContextProvider,nn=(it&&it.preventScrollReset)===!0;if(Nt&&isMutationMethod(Nt.formMethod)){await pt(_e,Me,yt,Et,Vt,vt.active,ht,nn,Nt);return}we.set(_e,{routeId:Me,path:yt}),await Kn(_e,Me,yt,Et,Vt,vt.active,ht,nn,Nt)}async function pt(_e,Me,ze,it,ht,wt,Ze,Et,vt){Fe(),we.delete(_e);let yt=X.fetchers.get(_e);Ye(_e,getSubmittingFetcher(vt,yt),{flushSync:Ze});let Nt=new AbortController,Tt=createClientSideRequest(t.history,ze,Nt.signal,vt);if(wt){let Cn=await Dn(it,new URL(Tt.url).pathname,Tt.signal,_e);if(Cn.type==="aborted")return;if(Cn.type==="error"){Je(_e,Me,Cn.error,{flushSync:Ze});return}else if(Cn.matches)it=Cn.matches;else{Je(_e,Me,getInternalRouterError(404,{pathname:ze}),{flushSync:Ze});return}}let Vt=getTargetMatch(it,ze);if(!Vt.route.action&&!Vt.route.lazy){let Cn=getInternalRouterError(405,{method:vt.formMethod,pathname:ze,routeId:Me});Je(_e,Me,Cn,{flushSync:Ze});return}ue.set(_e,Nt);let nn=re,Wn=getTargetedDataStrategyMatches(l,c,Tt,it,Vt,s,ht),Hn=await st(Tt,Wn,ht,_e),en=Hn[Vt.route.id];if(!en){for(let Cn of Wn)if(Hn[Cn.route.id]){en=Hn[Cn.route.id];break}}if(Tt.signal.aborted){ue.get(_e)===Nt&&ue.delete(_e);return}if(Be.has(_e)){if(isRedirectResult(en)||isErrorResult(en)){Ye(_e,getDoneFetcher(void 0));return}}else{if(isRedirectResult(en))if(ue.delete(_e),oe>nn){Ye(_e,getDoneFetcher(void 0));return}else return Ae.add(_e),Ye(_e,getLoadingFetcher(vt)),On(Tt,en,!1,{fetcherSubmission:vt,preventScrollReset:Et});if(isErrorResult(en)){Je(_e,Me,en.error);return}}let zt=X.navigation.location||X.location,rn=createClientSideRequest(t.history,zt,Nt.signal),Mr=m||p,qn=X.navigation.state!=="idle"?matchRoutes(Mr,X.navigation.location,x):X.matches;invariant(qn,"Didn't find any matches after fetcher action");let yn=++re;Ce.set(_e,yn);let lt=getLoadingFetcher(vt,en.data);X.fetchers.set(_e,lt);let{dsMatches:vs,revalidatingFetchers:ln}=getMatchesToLoad(rn,ht,l,c,t.history,X,qn,vt,zt,s,!1,de,ae,Be,we,Ae,Mr,x,t.patchRoutesOnNavigation!=null,[Vt.route.id,en]);ln.filter(Cn=>Cn.key!==_e).forEach(Cn=>{let xr=Cn.key,gn=X.fetchers.get(xr),Qr=getLoadingFetcher(void 0,gn?gn.data:void 0);X.fetchers.set(xr,Qr),Ve(xr),Cn.controller&&ue.set(xr,Cn.controller)}),mt({fetchers:new Map(X.fetchers)});let gr=()=>ln.forEach(Cn=>Ve(Cn.key));Nt.signal.addEventListener("abort",gr);let{loaderResults:Js,fetcherResults:Bt}=await Pe(vs,ln,rn,ht);if(Nt.signal.aborted)return;if(Nt.signal.removeEventListener("abort",gr),Ce.delete(_e),ue.delete(_e),ln.forEach(Cn=>ue.delete(Cn.key)),X.fetchers.has(_e)){let Cn=getDoneFetcher(en.data);X.fetchers.set(_e,Cn)}let Ht=findRedirect(Js);if(Ht)return On(rn,Ht.result,!1,{preventScrollReset:Et});if(Ht=findRedirect(Bt),Ht)return Ae.add(Ht.key),On(rn,Ht.result,!1,{preventScrollReset:Et});let{loaderData:qt,errors:_r}=processLoaderData(X,qn,Js,void 0,ln,Bt);ot(yn),X.navigation.state==="loading"&&yn>oe?(invariant(te,"Expected pending action"),pe&&pe.abort(),Ut(X.navigation.location,{matches:qn,loaderData:qt,errors:_r,fetchers:new Map(X.fetchers)})):(mt({errors:_r,loaderData:mergeLoaderData(X.loaderData,qt,qn,_r),fetchers:new Map(X.fetchers)}),de=!1)}async function Kn(_e,Me,ze,it,ht,wt,Ze,Et,vt){let yt=X.fetchers.get(_e);Ye(_e,getLoadingFetcher(vt,yt?yt.data:void 0),{flushSync:Ze});let Nt=new AbortController,Tt=createClientSideRequest(t.history,ze,Nt.signal);if(wt){let zt=await Dn(it,new URL(Tt.url).pathname,Tt.signal,_e);if(zt.type==="aborted")return;if(zt.type==="error"){Je(_e,Me,zt.error,{flushSync:Ze});return}else if(zt.matches)it=zt.matches;else{Je(_e,Me,getInternalRouterError(404,{pathname:ze}),{flushSync:Ze});return}}let Vt=getTargetMatch(it,ze);ue.set(_e,Nt);let nn=re,Wn=getTargetedDataStrategyMatches(l,c,Tt,it,Vt,s,ht),en=(await st(Tt,Wn,ht,_e))[Vt.route.id];if(ue.get(_e)===Nt&&ue.delete(_e),!Tt.signal.aborted){if(Be.has(_e)){Ye(_e,getDoneFetcher(void 0));return}if(isRedirectResult(en))if(oe>nn){Ye(_e,getDoneFetcher(void 0));return}else{Ae.add(_e),await On(Tt,en,!1,{preventScrollReset:Et});return}if(isErrorResult(en)){Je(_e,Me,en.error);return}Ye(_e,getDoneFetcher(en.data))}}async function On(_e,Me,ze,{submission:it,fetcherSubmission:ht,preventScrollReset:wt,replace:Ze}={}){Me.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Et=Me.response.headers.get("Location");invariant(Et,"Expected a Location header on the redirect Response"),Et=normalizeRedirectLocation(Et,new URL(_e.url),x);let vt=createLocation(X.location,Et,{_isRedirect:!0});if(r){let Wn=!1;if(Me.response.headers.has("X-Remix-Reload-Document"))Wn=!0;else if(isAbsoluteUrl(Et)){const Hn=createBrowserURLImpl(Et,!0);Wn=Hn.origin!==n.location.origin||stripBasename(Hn.pathname,x)==null}if(Wn){Ze?n.location.replace(Et):n.location.assign(Et);return}}pe=null;let yt=Ze===!0||Me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Nt,formAction:Tt,formEncType:Vt}=X.navigation;!it&&!ht&&Nt&&Tt&&Vt&&(it=getSubmissionFromNavigation(X.navigation));let nn=it||ht;if(redirectPreserveMethodStatusCodes.has(Me.response.status)&&nn&&isMutationMethod(nn.formMethod))await an(yt,vt,{submission:{...nn,formAction:Et},preventScrollReset:wt||se,enableViewTransition:ze?ge:void 0});else{let Wn=getLoadingNavigation(vt,it);await an(yt,vt,{overrideNavigation:Wn,fetcherSubmission:ht,preventScrollReset:wt||se,enableViewTransition:ze?ge:void 0})}}async function st(_e,Me,ze,it){let ht,wt={};try{ht=await callDataStrategyImpl(b,_e,Me,it,ze,!1)}catch(Ze){return Me.filter(Et=>Et.shouldLoad).forEach(Et=>{wt[Et.route.id]={type:"error",error:Ze}}),wt}if(_e.signal.aborted)return wt;for(let[Ze,Et]of Object.entries(ht))if(isRedirectDataStrategyResult(Et)){let vt=Et.result;wt[Ze]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(vt,_e,Ze,Me,x)}}else wt[Ze]=await convertDataStrategyResultToDataResult(Et);return wt}async function Pe(_e,Me,ze,it){let ht=st(ze,_e,it,null),wt=Promise.all(Me.map(async vt=>{if(vt.matches&&vt.match&&vt.request&&vt.controller){let Nt=(await st(vt.request,vt.matches,it,vt.key))[vt.match.route.id];return{[vt.key]:Nt}}else return Promise.resolve({[vt.key]:{type:"error",error:getInternalRouterError(404,{pathname:vt.path})}})})),Ze=await ht,Et=(await wt).reduce((vt,yt)=>Object.assign(vt,yt),{});return{loaderResults:Ze,fetcherResults:Et}}function Fe(){de=!0,we.forEach((_e,Me)=>{ue.has(Me)&&ae.add(Me),Ve(Me)})}function Ye(_e,Me,ze={}){X.fetchers.set(_e,Me),mt({fetchers:new Map(X.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function Je(_e,Me,ze,it={}){let ht=findNearestBoundary(X.matches,Me);Wt(_e),mt({errors:{[ht.route.id]:ze},fetchers:new Map(X.fetchers)},{flushSync:(it&&it.flushSync)===!0})}function bt(_e){return Re.set(_e,(Re.get(_e)||0)+1),Be.has(_e)&&Be.delete(_e),X.fetchers.get(_e)||IDLE_FETCHER}function Mt(_e,Me){Ve(_e,Me==null?void 0:Me.reason),Ye(_e,getDoneFetcher(null))}function Wt(_e){let Me=X.fetchers.get(_e);ue.has(_e)&&!(Me&&Me.state==="loading"&&Ce.has(_e))&&Ve(_e),we.delete(_e),Ce.delete(_e),Ae.delete(_e),Be.delete(_e),ae.delete(_e),X.fetchers.delete(_e)}function Xe(_e){let Me=(Re.get(_e)||0)-1;Me<=0?(Re.delete(_e),Be.add(_e)):Re.set(_e,Me),mt({fetchers:new Map(X.fetchers)})}function Ve(_e,Me){let ze=ue.get(_e);ze&&(ze.abort(Me),ue.delete(_e))}function je(_e){for(let Me of _e){let ze=bt(Me),it=getDoneFetcher(ze.data);X.fetchers.set(Me,it)}}function ut(){let _e=[],Me=!1;for(let ze of Ae){let it=X.fetchers.get(ze);invariant(it,`Expected fetcher: ${ze}`),it.state==="loading"&&(Ae.delete(ze),_e.push(ze),Me=!0)}return je(_e),Me}function ot(_e){let Me=[];for(let[ze,it]of Ce)if(it<_e){let ht=X.fetchers.get(ze);invariant(ht,`Expected fetcher: ${ze}`),ht.state==="loading"&&(Ve(ze),Ce.delete(ze),Me.push(ze))}return je(Me),Me.length>0}function St(_e,Me){let ze=X.blockers.get(_e)||IDLE_BLOCKER;return We.get(_e)!==Me&&We.set(_e,Me),ze}function on(_e){X.blockers.delete(_e),We.delete(_e)}function un(_e,Me){let ze=X.blockers.get(_e)||IDLE_BLOCKER;invariant(ze.state==="unblocked"&&Me.state==="blocked"||ze.state==="blocked"&&Me.state==="blocked"||ze.state==="blocked"&&Me.state==="proceeding"||ze.state==="blocked"&&Me.state==="unblocked"||ze.state==="proceeding"&&Me.state==="unblocked",`Invalid blocker state transition: ${ze.state} -> ${Me.state}`);let it=new Map(X.blockers);it.set(_e,Me),mt({blockers:it})}function dn({currentLocation:_e,nextLocation:Me,historyAction:ze}){if(We.size===0)return;We.size>1&&warning(!1,"A router only supports one blocker at a time");let it=Array.from(We.entries()),[ht,wt]=it[it.length-1],Ze=X.blockers.get(ht);if(!(Ze&&Ze.state==="proceeding")&&wt({currentLocation:_e,nextLocation:Me,historyAction:ze}))return ht}function kt(_e){let Me=getInternalRouterError(404,{pathname:_e}),ze=m||p,{matches:it,route:ht}=getShortCircuitMatches(ze);return{notFoundMatches:it,route:ht,error:Me}}function mn(_e,Me,ze){if(M=_e,K=Me,P=ze||null,!$&&X.navigation===IDLE_NAVIGATION){$=!0;let it=Nn(X.location,X.matches);it!=null&&mt({restoreScrollPosition:it})}return()=>{M=null,K=null,P=null}}function Sn(_e,Me){return P&&P(_e,Me.map(it=>convertRouteMatchToUiMatch(it,X.loaderData)))||_e.key}function Sr(_e,Me){if(M&&K){let ze=Sn(_e,Me);M[ze]=K()}}function Nn(_e,Me){if(M){let ze=Sn(_e,Me),it=M[ze];if(typeof it=="number")return it}return null}function Tr(_e,Me,ze){if(t.patchRoutesOnNavigation)if(_e){if(Object.keys(_e[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Me,ze,x,!0)}}else return{active:!0,matches:matchRoutesImpl(Me,ze,x,!0)||[]};return{active:!1,matches:null}}async function Dn(_e,Me,ze,it){if(!t.patchRoutesOnNavigation)return{type:"success",matches:_e};let ht=_e;for(;;){let wt=m==null,Ze=m||p,Et=c;try{await t.patchRoutesOnNavigation({signal:ze,path:Me,matches:ht,fetcherKey:it,patch:(Nt,Tt)=>{ze.aborted||patchRoutesImpl(Nt,Tt,Ze,Et,l,!1)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:ht}}finally{wt&&!ze.aborted&&(p=[...p])}if(ze.aborted)return{type:"aborted"};let vt=matchRoutes(Ze,Me,x),yt=null;if(vt){if(Object.keys(vt[0].params).length===0)return{type:"success",matches:vt};if(yt=matchRoutesImpl(Ze,Me,x,!0),!(yt&&ht.length<yt.length&&Br(ht,yt.slice(0,ht.length))))return{type:"success",matches:vt}}if(yt||(yt=matchRoutesImpl(Ze,Me,x,!0)),!yt||Br(ht,yt))return{type:"success",matches:null};ht=yt}}function Br(_e,Me){return _e.length===Me.length&&_e.every((ze,it)=>ze.route.id===Me[it].route.id)}function Zr(_e){c={},m=convertRoutesToDataRoutes(_e,l,void 0,c)}function kr(_e,Me,ze=!1){let it=m==null;patchRoutesImpl(_e,Me,m||p,c,l,ze),it&&(p=[...p],mt({}))}return Y={get basename(){return x},get future(){return _},get state(){return X},get routes(){return p},get window(){return n},initialize:at,subscribe:It,enableScrollRestoration:mn,navigate:gt,fetch:In,revalidate:xt,createHref:_e=>t.history.createHref(_e),encodeLocation:_e=>t.history.encodeLocation(_e),getFetcher:bt,resetFetcher:Mt,deleteFetcher:Xe,dispose:Ct,getBlocker:St,deleteBlocker:on,patchRoutes:kr,_internalFetchControllers:ue,_internalSetRoutes:Zr,_internalSetStateDoNotUseOrYouWillBreakYourApp(_e){mt(_e)}},t.unstable_instrumentations&&(Y=instrumentClientSideRouter(Y,t.unstable_instrumentations.map(_e=>_e.router).filter(Boolean))),Y}function isSubmissionNavigation(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function normalizeTo(t,n,r,s,o,l){let c,p;if(o){c=[];for(let x of n)if(c.push(x),x.route.id===o){p=x;break}}else c=n,p=n[n.length-1];let m=resolveTo(s||".",getResolveToMatches(c),stripBasename(t.pathname,r)||t.pathname,l==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&p){let x=hasNakedIndexQuery(m.search);if(p.route.index&&!x)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&x){let b=new URLSearchParams(m.search),_=b.getAll("index");b.delete("index"),_.filter(k=>k).forEach(k=>b.append("index",k));let R=b.toString();m.search=R?`?${R}`:""}}return r!=="/"&&(m.pathname=prependBasename({basename:r,pathname:m.pathname})),createPath(m)}function normalizeNavigateOptions(t,n,r){if(!r||!isSubmissionNavigation(r))return{path:n};if(r.formMethod&&!isValidMethod(r.formMethod))return{path:n,error:getInternalRouterError(405,{method:r.formMethod})};let s=()=>({path:n,error:getInternalRouterError(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),c=stripHashFromPath(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!isMutationMethod(l))return s();let _=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,[k,M])=>`${R}${k}=${M}
`,""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:_}}}else if(r.formEncType==="application/json"){if(!isMutationMethod(l))return s();try{let _=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:_,text:void 0}}}catch{return s()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let p,m;if(r.formData)p=convertFormDataToSearchParams(r.formData),m=r.formData;else if(r.body instanceof FormData)p=convertFormDataToSearchParams(r.body),m=r.body;else if(r.body instanceof URLSearchParams)p=r.body,m=convertSearchParamsToFormData(p);else if(r.body==null)p=new URLSearchParams,m=new FormData;else try{p=new URLSearchParams(r.body),m=convertSearchParamsToFormData(p)}catch{return s()}let x={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(isMutationMethod(x.formMethod))return{path:n,submission:x};let b=parsePath(n);return t&&b.search&&hasNakedIndexQuery(b.search)&&p.append("index",""),b.search=`?${p}`,{path:createPath(b),submission:x}}function getMatchesToLoad(t,n,r,s,o,l,c,p,m,x,b,_,R,k,M,P,K,$,G,H){var ve;let j=H?isErrorResult(H[1])?H[1].error:H[1].data:void 0,W=o.createURL(l.location),Y=o.createURL(m),X;if(b&&l.errors){let de=Object.keys(l.errors)[0];X=c.findIndex(ae=>ae.route.id===de)}else if(H&&isErrorResult(H[1])){let de=H[0];X=c.findIndex(ae=>ae.route.id===de)-1}let te=H?H[1].statusCode:void 0,se=te&&te>=400,pe={currentUrl:W,currentParams:((ve=l.matches[0])==null?void 0:ve.params)||{},nextUrl:Y,nextParams:c[0].params,...p,actionResult:j,actionStatus:te},ge=getRoutePattern(c.map(de=>de.route.path)),me=c.map((de,ae)=>{let{route:ue}=de,re=null;if(X!=null&&ae>X?re=!1:ue.lazy?re=!0:routeHasLoaderOrMiddleware(ue)?b?re=shouldLoadRouteOnHydration(ue,l.loaderData,l.errors):isNewLoader(l.loaderData,l.matches[ae],de)&&(re=!0):re=!1,re!==null)return getDataStrategyMatch(r,s,t,ge,de,x,n,re);let oe=se?!1:_||W.pathname+W.search===Y.pathname+Y.search||W.search!==Y.search||isNewRouteInstance(l.matches[ae],de),Ce={...pe,defaultShouldRevalidate:oe},Ae=shouldRevalidateLoader(de,Ce);return getDataStrategyMatch(r,s,t,ge,de,x,n,Ae,Ce)}),Ee=[];return M.forEach((de,ae)=>{if(b||!c.some(Be=>Be.route.id===de.routeId)||k.has(ae))return;let ue=l.fetchers.get(ae),re=ue&&ue.state!=="idle"&&ue.data===void 0,oe=matchRoutes(K,de.path,$);if(!oe){if(G&&re)return;Ee.push({key:ae,routeId:de.routeId,path:de.path,matches:null,match:null,request:null,controller:null});return}if(P.has(ae))return;let Ce=getTargetMatch(oe,de.path),Ae=new AbortController,we=createClientSideRequest(o,de.path,Ae.signal),Re=null;if(R.has(ae))R.delete(ae),Re=getTargetedDataStrategyMatches(r,s,we,oe,Ce,x,n);else if(re)_&&(Re=getTargetedDataStrategyMatches(r,s,we,oe,Ce,x,n));else{let Be={...pe,defaultShouldRevalidate:se?!1:_};shouldRevalidateLoader(Ce,Be)&&(Re=getTargetedDataStrategyMatches(r,s,we,oe,Ce,x,n,Be))}Re&&Ee.push({key:ae,routeId:de.routeId,path:de.path,matches:Re,match:Ce,request:we,controller:Ae})}),{dsMatches:me,revalidatingFetchers:Ee}}function routeHasLoaderOrMiddleware(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function shouldLoadRouteOnHydration(t,n,r){if(t.lazy)return!0;if(!routeHasLoaderOrMiddleware(t))return!1;let s=n!=null&&t.id in n,o=r!=null&&r[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function isNewLoader(t,n,r){let s=!n||r.route.id!==n.route.id,o=!t.hasOwnProperty(r.route.id);return s||o}function isNewRouteInstance(t,n){let r=t.route.path;return t.pathname!==n.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==n.params["*"]}function shouldRevalidateLoader(t,n){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(n);if(typeof r=="boolean")return r}return n.defaultShouldRevalidate}function patchRoutesImpl(t,n,r,s,o,l){let c;if(t){let x=s[t];invariant(x,`No route found to patch children into: routeId = ${t}`),x.children||(x.children=[]),c=x.children}else c=r;let p=[],m=[];if(n.forEach(x=>{let b=c.find(_=>isSameRoute(x,_));b?m.push({existingRoute:b,newRoute:x}):p.push(x)}),p.length>0){let x=convertRoutesToDataRoutes(p,o,[t||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...x)}if(l&&m.length>0)for(let x=0;x<m.length;x++){let{existingRoute:b,newRoute:_}=m[x],R=b,[k]=convertRoutesToDataRoutes([_],o,[],{},!0);Object.assign(R,{element:k.element?k.element:R.element,errorElement:k.errorElement?k.errorElement:R.errorElement,hydrateFallbackElement:k.hydrateFallbackElement?k.hydrateFallbackElement:R.hydrateFallbackElement})}}function isSameRoute(t,n){return"id"in t&&"id"in n&&t.id===n.id?!0:t.index===n.index&&t.path===n.path&&t.caseSensitive===n.caseSensitive?(!t.children||t.children.length===0)&&(!n.children||n.children.length===0)?!0:t.children.every((r,s)=>{var o;return(o=n.children)==null?void 0:o.some(l=>isSameRoute(r,l))}):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:t,route:n,manifest:r,mapRouteProperties:s})=>{let o=r[n.id];if(invariant(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[t];if(!l)return;let c=lazyRoutePropertyCache.get(o);c||(c={},lazyRoutePropertyCache.set(o,c));let p=c[t];if(p)return p;let m=(async()=>{let x=isUnsupportedLazyRouteObjectKey(t),_=o[t]!==void 0&&t!=="hasErrorBoundary";if(x)warning(!x,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(_)warning(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let R=await l();R!=null&&(Object.assign(o,{[t]:R}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(R=>R===void 0)&&(o.lazy=void 0))})();return c[t]=m,m},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(t,n,r,s,o){let l=r[t.id];if(invariant(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let b=lazyRouteFunctionCache.get(l);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let _=(async()=>{invariant(typeof t.lazy=="function","No lazy route function found");let R=await t.lazy(),k={};for(let M in R){let P=R[M];if(P===void 0)continue;let K=isUnsupportedLazyRouteFunctionKey(M),G=l[M]!==void 0&&M!=="hasErrorBoundary";K?warning(!K,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?warning(!G,`Route "${l.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):k[M]=P}Object.assign(l,k),Object.assign(l,{...s(l),lazy:void 0})})();return lazyRouteFunctionCache.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(t.lazy),p=[],m;for(let b of c){if(o&&o.includes(b))continue;let _=loadLazyRouteProperty({key:b,route:t,manifest:r,mapRouteProperties:s});_&&(p.push(_),b===n&&(m=_))}let x=p.length>0?Promise.all(p).then(()=>{}):void 0;return x==null||x.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:m}}async function defaultDataStrategy(t){let n=t.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(n.map(o=>o.resolve()))).forEach((o,l)=>{r[n[l].route.id]=o}),r}async function defaultDataStrategyWithMiddleware(t){return t.matches.some(n=>n.route.middleware)?runClientMiddlewarePipeline(t,()=>defaultDataStrategy(t)):defaultDataStrategy(t)}function runClientMiddlewarePipeline(t,n){return runMiddlewarePipeline(t,n,s=>s,isDataStrategyResults,r);function r(s,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:s}}));{let{matches:c}=t,p=Math.min(Math.max(c.findIndex(x=>x.route.id===o),0),Math.max(c.findIndex(x=>x.unstable_shouldCallHandler()),0)),m=findNearestBoundary(c,c[p].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:s}})}}}async function runMiddlewarePipeline(t,n,r,s,o){let{matches:l,request:c,params:p,context:m,unstable_pattern:x}=t,b=l.flatMap(R=>R.route.middleware?R.route.middleware.map(k=>[R.route.id,k]):[]);return await callRouteMiddleware({request:c,params:p,context:m,unstable_pattern:x},b,n,r,s,o)}async function callRouteMiddleware(t,n,r,s,o,l,c=0){let{request:p}=t;if(p.signal.aborted)throw p.signal.reason??new Error(`Request aborted: ${p.method} ${p.url}`);let m=n[c];if(!m)return await r();let[x,b]=m,_,R=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await callRouteMiddleware(t,n,r,s,o,l,c+1)},_.value}catch(k){return _={value:await l(k,x,_)},_.value}};try{let k=await b(t,R),M=k!=null?s(k):void 0;return o(M)?M:_?M??_.value:(_={value:await R()},_.value)}catch(k){return await l(k,x,_)}}function getDataStrategyMatchLazyPromises(t,n,r,s,o){let l=loadLazyRouteProperty({key:"middleware",route:s.route,manifest:n,mapRouteProperties:t}),c=loadLazyRoute(s.route,isMutationMethod(r.method)?"action":"loader",n,t,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function getDataStrategyMatch(t,n,r,s,o,l,c,p,m=null){let x=!1,b=getDataStrategyMatchLazyPromises(t,n,r,o,l);return{...o,_lazyPromises:b,shouldLoad:p,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(_){return x=!0,m?typeof _=="boolean"?shouldRevalidateLoader(o,{...m,defaultShouldRevalidate:_}):shouldRevalidateLoader(o,m):p},resolve(_){let{lazy:R,loader:k,middleware:M}=o.route,P=x||p||_&&!isMutationMethod(r.method)&&(R||k),K=M&&M.length>0&&!k&&!R;return P&&(isMutationMethod(r.method)||!K)?callLoaderOrAction({request:r,unstable_pattern:s,match:o,lazyHandlerPromise:b==null?void 0:b.handler,lazyRoutePromise:b==null?void 0:b.route,handlerOverride:_,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(t,n,r,s,o,l,c,p=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(t,n,r,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(t,n,r,getRoutePattern(s.map(x=>x.route.path)),m,l,c,!0,p))}async function callDataStrategyImpl(t,n,r,s,o,l){r.some(x=>{var b;return(b=x._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(r.map(x=>{var b;return(b=x._lazyPromises)==null?void 0:b.middleware}));let c={request:n,unstable_pattern:getRoutePattern(r.map(x=>x.route.path)),params:r[0].params,context:o,matches:r},m=await t({...c,fetcherKey:s,runClientMiddleware:x=>{let b=c;return runClientMiddlewarePipeline(b,()=>x({...b,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(x=>{var b,_;return[(b=x._lazyPromises)==null?void 0:b.handler,(_=x._lazyPromises)==null?void 0:_.route]}))}catch{}return m}async function callLoaderOrAction({request:t,unstable_pattern:n,match:r,lazyHandlerPromise:s,lazyRoutePromise:o,handlerOverride:l,scopedContext:c}){let p,m,x=isMutationMethod(t.method),b=x?"action":"loader",_=R=>{let k,M=new Promise(($,G)=>k=G);m=()=>k(),t.signal.addEventListener("abort",m);let P=$=>typeof R!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${b}" [routeId: ${r.route.id}]`)):R({request:t,unstable_pattern:n,params:r.params,context:c},...$!==void 0?[$]:[]),K=(async()=>{try{return{type:"data",result:await(l?l(G=>P(G)):P())}}catch($){return{type:"error",result:$}}})();return Promise.race([K,M])};try{let R=x?r.route.action:r.route.loader;if(s||o)if(R){let k,[M]=await Promise.all([_(R).catch(P=>{k=P}),s,o]);if(k!==void 0)throw k;p=M}else{await s;let k=x?r.route.action:r.route.loader;if(k)[p]=await Promise.all([_(k),o]);else if(b==="action"){let M=new URL(t.url),P=M.pathname+M.search;throw getInternalRouterError(405,{method:t.method,pathname:P,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(R)p=await _(R);else{let k=new URL(t.url),M=k.pathname+k.search;throw getInternalRouterError(404,{pathname:M})}}catch(R){return{type:"error",result:R}}finally{m&&t.signal.removeEventListener("abort",m)}return p}async function parseResponseBody(t){let n=t.headers.get("Content-Type");return n&&/\bapplication\/json\b/.test(n)?t.body==null?null:t.json():t.text()}async function convertDataStrategyResultToDataResult(t){var s,o,l,c,p,m;let{result:n,type:r}=t;if(isResponse$1(n)){let x;try{x=await parseResponseBody(n)}catch(b){return{type:"error",error:b}}return r==="error"?{type:"error",error:new ErrorResponseImpl(n.status,n.statusText,x),statusCode:n.status,headers:n.headers}:{type:"data",data:x,statusCode:n.status,headers:n.headers}}return r==="error"?isDataWithResponseInit(n)?n.data instanceof Error?{type:"error",error:n.data,statusCode:(s=n.init)==null?void 0:s.status,headers:(o=n.init)!=null&&o.headers?new Headers(n.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(((l=n.init)==null?void 0:l.status)||500,void 0,n.data),statusCode:isRouteErrorResponse(n)?n.status:void 0,headers:(c=n.init)!=null&&c.headers?new Headers(n.init.headers):void 0}:{type:"error",error:n,statusCode:isRouteErrorResponse(n)?n.status:void 0}:isDataWithResponseInit(n)?{type:"data",data:n.data,statusCode:(p=n.init)==null?void 0:p.status,headers:(m=n.init)!=null&&m.headers?new Headers(n.init.headers):void 0}:{type:"data",data:n}}function normalizeRelativeRoutingRedirectResponse(t,n,r,s,o){let l=t.headers.get("Location");if(invariant(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!isAbsoluteUrl(l)){let c=s.slice(0,s.findIndex(p=>p.route.id===r)+1);l=normalizeTo(new URL(n.url),c,o,l),t.headers.set("Location",l)}return t}function normalizeRedirectLocation(t,n,r){if(isAbsoluteUrl(t)){let s=t,o=s.startsWith("//")?new URL(n.protocol+s):new URL(s),l=stripBasename(o.pathname,r)!=null;if(o.origin===n.origin&&l)return o.pathname+o.search+o.hash}return t}function createClientSideRequest(t,n,r,s){let o=t.createURL(stripHashFromPath(n)).toString(),l={signal:r};if(s&&isMutationMethod(s.formMethod)){let{formMethod:c,formEncType:p}=s;l.method=c.toUpperCase(),p==="application/json"?(l.headers=new Headers({"Content-Type":p}),l.body=JSON.stringify(s.json)):p==="text/plain"?l.body=s.text:p==="application/x-www-form-urlencoded"&&s.formData?l.body=convertFormDataToSearchParams(s.formData):l.body=s.formData}return new Request(o,l)}function convertFormDataToSearchParams(t){let n=new URLSearchParams;for(let[r,s]of t.entries())n.append(r,typeof s=="string"?s:s.name);return n}function convertSearchParamsToFormData(t){let n=new FormData;for(let[r,s]of t.entries())n.append(r,s);return n}function processRouteLoaderData(t,n,r,s=!1,o=!1){let l={},c=null,p,m=!1,x={},b=r&&isErrorResult(r[1])?r[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in n))return;let R=_.route.id,k=n[R];if(invariant(!isRedirectResult(k),"Cannot handle redirect results in processLoaderData"),isErrorResult(k)){let M=k.error;if(b!==void 0&&(M=b,b=void 0),c=c||{},o)c[R]=M;else{let P=findNearestBoundary(t,R);c[P.route.id]==null&&(c[P.route.id]=M)}s||(l[R]=ResetLoaderDataSymbol),m||(m=!0,p=isRouteErrorResponse(k.error)?k.error.status:500),k.headers&&(x[R]=k.headers)}else l[R]=k.data,k.statusCode&&k.statusCode!==200&&!m&&(p=k.statusCode),k.headers&&(x[R]=k.headers)}),b!==void 0&&r&&(c={[r[0]]:b},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:c,statusCode:p||200,loaderHeaders:x}}function processLoaderData(t,n,r,s,o,l){let{loaderData:c,errors:p}=processRouteLoaderData(n,r,s);return o.filter(m=>!m.matches||m.matches.some(x=>x.shouldLoad)).forEach(m=>{let{key:x,match:b,controller:_}=m;if(_&&_.signal.aborted)return;let R=l[x];if(invariant(R,"Did not find corresponding fetcher result"),isErrorResult(R)){let k=findNearestBoundary(t.matches,b==null?void 0:b.route.id);p&&p[k.route.id]||(p={...p,[k.route.id]:R.error}),t.fetchers.delete(x)}else if(isRedirectResult(R))invariant(!1,"Unhandled fetcher revalidation redirect");else{let k=getDoneFetcher(R.data);t.fetchers.set(x,k)}}),{loaderData:c,errors:p}}function mergeLoaderData(t,n,r,s){let o=Object.entries(n).filter(([,l])=>l!==ResetLoaderDataSymbol).reduce((l,[c,p])=>(l[c]=p,l),{});for(let l of r){let c=l.route.id;if(!n.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(o[c]=t[c]),s&&s.hasOwnProperty(c))break}return o}function getActionDataForCommit(t){return t?isErrorResult(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function findNearestBoundary(t,n){return(n?t.slice(0,t.findIndex(s=>s.route.id===n)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function getShortCircuitMatches(t){let n=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function getInternalRouterError(t,{pathname:n,routeId:r,method:s,type:o,message:l}={}){let c="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&n&&r?p=`You made a ${s} request to "${n}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(p="Unable to encode submission body")):t===403?(c="Forbidden",p=`Route "${r}" does not match URL "${n}"`):t===404?(c="Not Found",p=`No route matches URL "${n}"`):t===405&&(c="Method Not Allowed",s&&n&&r?p=`You made a ${s.toUpperCase()} request to "${n}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(p=`Invalid request method "${s.toUpperCase()}"`)),new ErrorResponseImpl(t||500,c,new Error(p),!0)}function findRedirect(t){let n=Object.entries(t);for(let r=n.length-1;r>=0;r--){let[s,o]=n[r];if(isRedirectResult(o))return{key:s,result:o}}}function stripHashFromPath(t){let n=typeof t=="string"?parsePath(t):t;return createPath({...n,hash:""})}function isHashChangeOnly(t,n){return t.pathname!==n.pathname||t.search!==n.search?!1:t.hash===""?n.hash!=="":t.hash===n.hash?!0:n.hash!==""}function isDataStrategyResults(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([n,r])=>typeof n=="string"&&isDataStrategyResult(r))}function isDataStrategyResult(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function isRedirectDataStrategyResult(t){return isResponse$1(t.result)&&redirectStatusCodes.has(t.result.status)}function isErrorResult(t){return t.type==="error"}function isRedirectResult(t){return(t&&t.type)==="redirect"}function isDataWithResponseInit(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function isResponse$1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function isValidMethod(t){return validRequestMethods.has(t.toUpperCase())}function isMutationMethod(t){return validMutationMethods.has(t.toUpperCase())}function hasNakedIndexQuery(t){return new URLSearchParams(t).getAll("index").some(n=>n==="")}function getTargetMatch(t,n){let r=typeof n=="string"?parsePath(n).search:n.search;if(t[t.length-1].route.index&&hasNakedIndexQuery(r||""))return t[t.length-1];let s=getPathContributingMatches(t);return s[s.length-1]}function getSubmissionFromNavigation(t){let{formMethod:n,formAction:r,formEncType:s,text:o,formData:l,json:c}=t;if(!(!n||!r||!s)){if(o!=null)return{formMethod:n,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:n,formAction:r,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:n,formAction:r,formEncType:s,formData:void 0,json:c,text:void 0}}}function getLoadingNavigation(t,n){return n?{state:"loading",location:t,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(t,n){return{state:"submitting",location:t,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function getLoadingFetcher(t,n){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function getSubmittingFetcher(t,n){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:n?n.data:void 0}}function getDoneFetcher(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function restoreAppliedTransitions(t,n){try{let r=t.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(r){let s=JSON.parse(r);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&n.set(o,new Set(l||[]))}}catch{}}function persistAppliedTransitions(t,n){if(n.size>0){let r={};for(let[s,o]of n)r[s]=[...o];try{t.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(r))}catch(s){warning(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function createDeferred(){let t,n,r=new Promise((s,o)=>{t=async l=>{s(l);try{await r}catch{}},n=async l=>{o(l);try{await r}catch{}}});return{promise:r,resolve:t,reject:n}}var DataRouterContext=reactExports$1.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports$1.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports$1.createContext(!1);var ViewTransitionContext=reactExports$1.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports$1.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports$1.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports$1.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports$1.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports$1.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports$1.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:n}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=reactExports$1.useContext(NavigationContext),{hash:o,pathname:l,search:c}=useResolvedPath(t,{relative:n}),p=l;return r!=="/"&&(p=l==="/"?r:joinPaths([r,l])),s.createHref({pathname:p,search:c,hash:o})}function useInRouterContext(){return reactExports$1.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports$1.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(t){reactExports$1.useContext(NavigationContext).static||reactExports$1.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports$1.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports$1.useContext(DataRouterContext),{basename:n,navigator:r}=reactExports$1.useContext(NavigationContext),{matches:s}=reactExports$1.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(s)),c=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{c.current=!0}),reactExports$1.useCallback((m,x={})=>{if(warning(c.current,navigateEffectWarning),!c.current)return;if(typeof m=="number"){r.go(m);return}let b=resolveTo(m,JSON.parse(l),o,x.relative==="path");t==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:joinPaths([n,b.pathname])),(x.replace?r.replace:r.push)(b,x.state,x)},[n,r,l,o,t])}var OutletContext=reactExports$1.createContext(null);function useOutlet(t){let n=reactExports$1.useContext(RouteContext).outlet;return reactExports$1.useMemo(()=>n&&reactExports$1.createElement(OutletContext.Provider,{value:t},n),[n,t])}function useParams(){let{matches:t}=reactExports$1.useContext(RouteContext),n=t[t.length-1];return n?n.params:{}}function useResolvedPath(t,{relative:n}={}){let{matches:r}=reactExports$1.useContext(RouteContext),{pathname:s}=useLocation(),o=JSON.stringify(getResolveToMatches(r));return reactExports$1.useMemo(()=>resolveTo(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function useRoutesImpl(t,n,r,s,o){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=reactExports$1.useContext(NavigationContext),{matches:c}=reactExports$1.useContext(RouteContext),p=c[c.length-1],m=p?p.params:{},x=p?p.pathname:"/",b=p?p.pathnameBase:"/",_=p&&p.route;{let G=_&&_.path||"";warningOnce(x,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let R=useLocation(),k;k=R;let M=k.pathname||"/",P=M;if(b!=="/"){let G=b.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let K=matchRoutes(t,{pathname:P});return warning(_||K!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),warning(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches(K&&K.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:joinPaths([b,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?b:joinPaths([b,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,r,s,o)}function DefaultErrorComponent(){let t=useRouteError(),n=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("p",null," Hey developer "),reactExports$1.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports$1.createElement("code",{style:l},"ErrorBoundary")," or"," ",reactExports$1.createElement("code",{style:l},"errorElement")," prop on your route.")),reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("h2",null,"Unexpected Application Error!"),reactExports$1.createElement("h3",{style:{fontStyle:"italic"}},n),r?reactExports$1.createElement("pre",{style:o},r):null,c)}var defaultErrorElement=reactExports$1.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports$1.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?reactExports$1.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports$1.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:n,children:r}){let s=reactExports$1.useContext(DataRouterContext);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports$1.createElement(RouteContext.Provider,{value:t},r)}function _renderMatches(t,n=[],r=null,s=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r==null?void 0:r.errors;if(c!=null){let b=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);invariant(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let p=!1,m=-1;if(r)for(let b=0;b<l.length;b++){let _=l[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=b),_.route.id){let{loaderData:R,errors:k}=r,M=_.route.loader&&!R.hasOwnProperty(_.route.id)&&(!k||k[_.route.id]===void 0);if(_.route.lazy||M){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let x=r&&s?(b,_)=>{var R,k;s(b,{location:r.location,params:((k=(R=r.matches)==null?void 0:R[0])==null?void 0:k.params)??{},errorInfo:_})}:void 0;return l.reduceRight((b,_,R)=>{let k,M=!1,P=null,K=null;r&&(k=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||defaultErrorElement,p&&(m<0&&R===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,K=null):m===R&&(M=!0,K=_.route.hydrateFallbackElement||null)));let $=n.concat(l.slice(0,R+1)),G=()=>{let H;return k?H=P:M?H=K:_.route.Component?H=reactExports$1.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=b,reactExports$1.createElement(RenderedRoute,{match:_,routeContext:{outlet:b,matches:$,isDataRoute:r!=null},children:H})};return r&&(_.route.ErrorBoundary||_.route.errorElement||R===0)?reactExports$1.createElement(RenderErrorBoundary,{location:r.location,revalidation:r.revalidation,component:P,error:k,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:x}):G()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let n=reactExports$1.useContext(DataRouterContext);return invariant(n,getDataRouterConsoleError(t)),n}function useDataRouterState(t){let n=reactExports$1.useContext(DataRouterStateContext);return invariant(n,getDataRouterConsoleError(t)),n}function useRouteContext(t){let n=reactExports$1.useContext(RouteContext);return invariant(n,getDataRouterConsoleError(t)),n}function useCurrentRouteId(t){let n=useRouteContext(t),r=n.matches[n.matches.length-1];return invariant(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var s;let t=reactExports$1.useContext(RouteErrorContext),n=useDataRouterState("useRouteError"),r=useCurrentRouteId("useRouteError");return t!==void 0?t:(s=n.errors)==null?void 0:s[r]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),n=useCurrentRouteId("useNavigate"),r=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{r.current=!0}),reactExports$1.useCallback(async(o,l={})=>{warning(r.current,navigateEffectWarning),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:n,...l}))},[t,n])}var alreadyWarned={};function warningOnce(t,n,r){!n&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning(!1,r))}var alreadyWarned2={};function warnOnce(t,n){!t&&!alreadyWarned2[n]&&(alreadyWarned2[n]=!0,console.warn(n))}function mapRouteProperties(t){let n={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:reactExports$1.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:reactExports$1.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:reactExports$1.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),n}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred$1=class{constructor(){this.status="pending",this.promise=new Promise((n,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",n(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function RouterProvider({router:t,flushSync:n,unstable_onError:r}){let[s,o]=reactExports$1.useState(t.state),[l,c]=reactExports$1.useState(),[p,m]=reactExports$1.useState({isTransitioning:!1}),[x,b]=reactExports$1.useState(),[_,R]=reactExports$1.useState(),[k,M]=reactExports$1.useState(),P=reactExports$1.useRef(new Map),K=reactExports$1.useCallback(W=>{o(Y=>(W.errors&&r&&Object.entries(W.errors).forEach(([X,te])=>{var se,pe;((se=Y.errors)==null?void 0:se[X])!==te&&r(te,{location:W.location,params:((pe=W.matches[0])==null?void 0:pe.params)??{}})}),W))},[r]),$=reactExports$1.useCallback((W,{deletedFetchers:Y,flushSync:X,viewTransitionOpts:te})=>{W.fetchers.forEach((pe,ge)=>{pe.data!==void 0&&P.current.set(ge,pe.data)}),Y.forEach(pe=>P.current.delete(pe)),warnOnce(X===!1||n!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let se=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(warnOnce(te==null||se,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!te||!se){n&&X?n(()=>K(W)):reactExports$1.startTransition(()=>K(W));return}if(n&&X){n(()=>{_&&(x&&x.resolve(),_.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let pe=t.window.document.startViewTransition(()=>{n(()=>K(W))});pe.finished.finally(()=>{n(()=>{b(void 0),R(void 0),c(void 0),m({isTransitioning:!1})})}),n(()=>R(pe));return}_?(x&&x.resolve(),_.skipTransition(),M({state:W,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(c(W),m({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[t.window,n,_,x,K]);reactExports$1.useLayoutEffect(()=>t.subscribe($),[t,$]),reactExports$1.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new Deferred$1)},[p]),reactExports$1.useEffect(()=>{if(x&&l&&t.window){let W=l,Y=x.promise,X=t.window.document.startViewTransition(async()=>{reactExports$1.startTransition(()=>K(W)),await Y});X.finished.finally(()=>{b(void 0),R(void 0),c(void 0),m({isTransitioning:!1})}),R(X)}},[l,x,t.window,K]),reactExports$1.useEffect(()=>{x&&l&&s.location.key===l.location.key&&x.resolve()},[x,_,s.location,l]),reactExports$1.useEffect(()=>{!p.isTransitioning&&k&&(c(k.state),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),M(void 0))},[p.isTransitioning,k]);let G=reactExports$1.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:W=>t.navigate(W),push:(W,Y,X)=>t.navigate(W,{state:Y,preventScrollReset:X==null?void 0:X.preventScrollReset}),replace:(W,Y,X)=>t.navigate(W,{replace:!0,state:Y,preventScrollReset:X==null?void 0:X.preventScrollReset})}),[t]),H=t.basename||"/",j=reactExports$1.useMemo(()=>({router:t,navigator:G,static:!1,basename:H,unstable_onError:r}),[t,G,H,r]);return reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement(DataRouterContext.Provider,{value:j},reactExports$1.createElement(DataRouterStateContext.Provider,{value:s},reactExports$1.createElement(FetchersContext.Provider,{value:P.current},reactExports$1.createElement(ViewTransitionContext.Provider,{value:p},reactExports$1.createElement(Router,{basename:H,location:s.location,navigationType:s.historyAction,navigator:G},reactExports$1.createElement(MemoizedDataRoutes,{routes:t.routes,future:t.future,state:s,unstable_onError:r})))))),null)}var MemoizedDataRoutes=reactExports$1.memo(DataRoutes);function DataRoutes({routes:t,future:n,state:r,unstable_onError:s}){return useRoutesImpl(t,void 0,r,s,n)}function Navigate({to:t,replace:n,state:r,relative:s}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=reactExports$1.useContext(NavigationContext);warning(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=reactExports$1.useContext(RouteContext),{pathname:c}=useLocation(),p=useNavigate(),m=resolveTo(t,getResolveToMatches(l),c,s==="path"),x=JSON.stringify(m);return reactExports$1.useEffect(()=>{p(JSON.parse(x),{replace:n,state:r,relative:s})},[p,x,s,n,r]),null}function Outlet(t){return useOutlet(t.context)}function Router({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:l=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),p=reactExports$1.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=parsePath(r));let{pathname:m="/",search:x="",hash:b="",state:_=null,key:R="default"}=r,k=reactExports$1.useMemo(()=>{let M=stripBasename(m,c);return M==null?null:{location:{pathname:M,search:x,hash:b,state:_,key:R},navigationType:s}},[c,m,x,b,_,R,s]);return warning(k!=null,`<Router basename="${c}"> is not able to match the URL "${m}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:reactExports$1.createElement(NavigationContext.Provider,{value:p},reactExports$1.createElement(LocationContext.Provider,{children:n,value:k}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement$1(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,n){return t.button===0&&(!n||n==="_self")&&!isModifiedEvent(t)}function createSearchParams(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let s=t[r];return n.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function getSearchParamsForLocation(t,n){let r=createSearchParams(t);return n&&n.forEach((s,o)=>{r.has(o)||n.getAll(o).forEach(l=>{r.append(o,l)})}),r}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,n){let r,s,o,l,c;if(isFormElement(t)){let p=t.getAttribute("action");s=p?stripBasename(p,n):null,r=t.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("enctype"))||defaultEncType,l=new FormData(t)}else if(isButtonElement(t)||isInputElement$1(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||p.getAttribute("action");if(s=m?stripBasename(m,n):null,r=t.getAttribute("formmethod")||p.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(p.getAttribute("enctype"))||defaultEncType,l=new FormData(p,t),!isFormDataSubmitterSupported()){let{name:x,type:b,value:_}=t;if(b==="image"){let R=x?`${x}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else x&&l.append(x,_)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=defaultMethod,s=null,o=defaultEncType,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function singleFetchUrl(t,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:n&&stripBasename(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function loadRouteModule(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,n,r){let s=await Promise.all(t.map(async o=>{let l=n.routes[o.route.id];if(l){let c=await loadRouteModule(l,r);return c.links?c.links():[]}return[]}));return dedupeLinkDescriptors(s.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(t,n,r,s,o,l){let c=(m,x)=>r[x]?m.route.id!==r[x].route.id:!0,p=(m,x)=>{var b;return r[x].pathname!==m.pathname||((b=r[x].route.path)==null?void 0:b.endsWith("*"))&&r[x].params["*"]!==m.params["*"]};return l==="assets"?n.filter((m,x)=>c(m,x)||p(m,x)):l==="data"?n.filter((m,x)=>{var _;let b=s.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(c(m,x)||p(m,x))return!0;if(m.route.shouldRevalidate){let R=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=r[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function getModuleLinkHrefs(t,n,{includeHydrateFallback:r}={}){return dedupeHrefs(t.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function dedupeLinkDescriptors(t,n){let r=new Set;return new Set(n),t.reduce((s,o)=>{let l=JSON.stringify(sortKeys(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function useDataRouterContext2(){let t=reactExports$1.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports$1.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports$1.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports$1.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,n){let r=reactExports$1.useContext(FrameworkContext),[s,o]=reactExports$1.useState(!1),[l,c]=reactExports$1.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:x,onMouseLeave:b,onTouchStart:_}=n,R=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=$=>{$.forEach(G=>{c(G.isIntersecting)})},K=new IntersectionObserver(P,{threshold:.5});return R.current&&K.observe(R.current),()=>{K.disconnect()}}},[t]),reactExports$1.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let k=()=>{o(!0)},M=()=>{o(!1),c(!1)};return r?t!=="intent"?[l,R,{}]:[l,R,{onFocus:composeEventHandlers$1(p,k),onBlur:composeEventHandlers$1(m,M),onMouseEnter:composeEventHandlers$1(x,k),onMouseLeave:composeEventHandlers$1(b,M),onTouchStart:composeEventHandlers$1(_,k)}]:[!1,R,{}]}function composeEventHandlers$1(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function PrefetchPageLinks({page:t,...n}){let{router:r}=useDataRouterContext2(),s=reactExports$1.useMemo(()=>matchRoutes(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?reactExports$1.createElement(PrefetchPageLinksImpl,{page:t,matches:s,...n}):null}function useKeyedPrefetchLinks(t){let{manifest:n,routeModules:r}=useFrameworkContext(),[s,o]=reactExports$1.useState([]);return reactExports$1.useEffect(()=>{let l=!1;return getKeyedPrefetchLinks(t,n,r).then(c=>{l||o(c)}),()=>{l=!0}},[t,n,r]),s}function PrefetchPageLinksImpl({page:t,matches:n,...r}){let s=useLocation(),{manifest:o,routeModules:l}=useFrameworkContext(),{basename:c}=useDataRouterContext2(),{loaderData:p,matches:m}=useDataRouterStateContext(),x=reactExports$1.useMemo(()=>getNewMatchesForLinks(t,n,m,o,s,"data"),[t,n,m,o,s]),b=reactExports$1.useMemo(()=>getNewMatchesForLinks(t,n,m,o,s,"assets"),[t,n,m,o,s]),_=reactExports$1.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,P=!1;if(n.forEach($=>{var H;let G=o.routes[$.route.id];!G||!G.hasLoader||(!x.some(j=>j.route.id===$.route.id)&&$.route.id in p&&((H=l[$.route.id])!=null&&H.shouldRevalidate)||G.hasClientLoader?P=!0:M.add($.route.id))}),M.size===0)return[];let K=singleFetchUrl(t,c,"data");return P&&M.size>0&&K.searchParams.set("_routes",n.filter($=>M.has($.route.id)).map($=>$.route.id).join(",")),[K.pathname+K.search]},[c,p,s,o,x,n,t,l]),R=reactExports$1.useMemo(()=>getModuleLinkHrefs(b,o),[b,o]),k=useKeyedPrefetchLinks(b);return reactExports$1.createElement(reactExports$1.Fragment,null,_.map(M=>reactExports$1.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),R.map(M=>reactExports$1.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),k.map(({key:M,link:P})=>reactExports$1.createElement("link",{key:M,nonce:r.nonce,...P})))}function mergeRefs$1(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function createBrowserRouter(t,n){return createRouter({basename:n==null?void 0:n.basename,getContext:n==null?void 0:n.getContext,future:n==null?void 0:n.future,history:createBrowserHistory({window:n==null?void 0:n.window}),hydrationData:parseHydrationData(),routes:t,mapRouteProperties,hydrationRouteProperties,dataStrategy:n==null?void 0:n.dataStrategy,patchRoutesOnNavigation:n==null?void 0:n.patchRoutesOnNavigation,window:n==null?void 0:n.window,unstable_instrumentations:n==null?void 0:n.unstable_instrumentations}).initialize()}function parseHydrationData(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:deserializeErrors(t.errors)}),t}function deserializeErrors(t){if(!t)return null;let n=Object.entries(t),r={};for(let[s,o]of n)if(o&&o.__type==="RouteErrorResponse")r[s]=new ErrorResponseImpl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",r[s]=c}catch{}}if(r[s]==null){let l=new Error(o.message);l.stack="",r[s]=l}}else r[s]=o;return r}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports$1.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:p,target:m,to:x,preventScrollReset:b,viewTransition:_,...R},k){let{basename:M}=reactExports$1.useContext(NavigationContext),P=typeof x=="string"&&ABSOLUTE_URL_REGEX2.test(x),K,$=!1;if(typeof x=="string"&&P&&(K=x,isBrowser))try{let se=new URL(window.location.href),pe=x.startsWith("//")?new URL(se.protocol+x):new URL(x),ge=stripBasename(pe.pathname,M);pe.origin===se.origin&&ge!=null?x=ge+pe.search+pe.hash:$=!0}catch{warning(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=useHref(x,{relative:o}),[H,j,W]=usePrefetchBehavior(s,R),Y=useLinkClickHandler(x,{replace:c,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:_});function X(se){n&&n(se),se.defaultPrevented||Y(se)}let te=reactExports$1.createElement("a",{...R,...W,href:K||G,onClick:$||l?n:X,ref:mergeRefs$1(k,j),target:m,"data-discover":!P&&r==="render"?"true":void 0});return H&&!P?reactExports$1.createElement(reactExports$1.Fragment,null,te,reactExports$1.createElement(PrefetchPageLinks,{page:G})):te});Link$1.displayName="Link";var NavLink=reactExports$1.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:p,children:m,...x},b){let _=useResolvedPath(c,{relative:x.relative}),R=useLocation(),k=reactExports$1.useContext(DataRouterStateContext),{navigator:M,basename:P}=reactExports$1.useContext(NavigationContext),K=k!=null&&useViewTransitionState(_)&&p===!0,$=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,G=R.pathname,H=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;r||(G=G.toLowerCase(),H=H?H.toLowerCase():null,$=$.toLowerCase()),H&&P&&(H=stripBasename(H,P)||H);const j=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let W=G===$||!o&&G.startsWith($)&&G.charAt(j)==="/",Y=H!=null&&(H===$||!o&&H.startsWith($)&&H.charAt($.length)==="/"),X={isActive:W,isPending:Y,isTransitioning:K},te=W?n:void 0,se;typeof s=="function"?se=s(X):se=[s,W?"active":null,Y?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let pe=typeof l=="function"?l(X):l;return reactExports$1.createElement(Link$1,{...x,"aria-current":te,className:se,ref:b,style:pe,to:c,viewTransition:p},typeof m=="function"?m(X):m)});NavLink.displayName="NavLink";var Form=reactExports$1.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:o,state:l,method:c=defaultMethod,action:p,onSubmit:m,relative:x,preventScrollReset:b,viewTransition:_,...R},k)=>{let M=useSubmit(),P=useFormAction(p,{relative:x}),K=c.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&ABSOLUTE_URL_REGEX2.test(p),G=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let j=H.nativeEvent.submitter,W=(j==null?void 0:j.getAttribute("formmethod"))||c;M(j||H.currentTarget,{fetcherKey:n,method:W,navigate:r,replace:o,state:l,relative:x,preventScrollReset:b,viewTransition:_})};return reactExports$1.createElement("form",{ref:k,method:K,action:P,onSubmit:s?m:G,...R,"data-discover":!$&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let n=reactExports$1.useContext(DataRouterContext);return invariant(n,getDataRouterConsoleError2(t)),n}function useLinkClickHandler(t,{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let p=useNavigate(),m=useLocation(),x=useResolvedPath(t,{relative:l});return reactExports$1.useCallback(b=>{if(shouldProcessLinkClick(b,n)){b.preventDefault();let _=r!==void 0?r:createPath(m)===createPath(x);p(t,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,p,x,r,s,n,t,o,l,c])}function useSearchParams(t){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=reactExports$1.useRef(createSearchParams(t)),r=reactExports$1.useRef(!1),s=useLocation(),o=reactExports$1.useMemo(()=>getSearchParamsForLocation(s.search,r.current?null:n.current),[s.search]),l=useNavigate(),c=reactExports$1.useCallback((p,m)=>{const x=createSearchParams(typeof p=="function"?p(new URLSearchParams(o)):p);r.current=!0,l("?"+x,m)},[l,o]);return[o,c]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:n}=reactExports$1.useContext(NavigationContext),r=useRouteId();return reactExports$1.useCallback(async(s,o={})=>{let{action:l,method:c,encType:p,formData:m,body:x}=getFormSubmissionInfo(s,n);if(o.navigate===!1){let b=o.fetcherKey||getUniqueFetcherId();await t.fetch(b,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:x,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:x,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}function useFormAction(t,{relative:n}={}){let{basename:r}=reactExports$1.useContext(NavigationContext),s=reactExports$1.useContext(RouteContext);invariant(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...useResolvedPath(t||".",{relative:n})},c=useLocation();if(t==null){l.search=c.search;let p=new URLSearchParams(l.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(_=>_).forEach(_=>p.append("index",_));let b=p.toString();l.search=b?`?${b}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:joinPaths([r,l.pathname])),createPath(l)}function useViewTransitionState(t,{relative:n}={}){let r=reactExports$1.useContext(ViewTransitionContext);invariant(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(t,{relative:n});if(!r.isTransitioning)return!1;let l=stripBasename(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=stripBasename(r.nextLocation.pathname,s)||r.nextLocation.pathname;return matchPath(o.pathname,c)!=null||matchPath(o.pathname,l)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function RouterProvider2(t){return reactExports$1.createElement(RouterProvider,{flushSync:reactDomExports.flushSync,...t})}function ScrollToTop(){const{pathname:t}=useLocation();return reactExports$1.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const headerLayout="_headerLayout_9ytyz_1",logoButton="_logoButton_9ytyz_35",rightSection="_rightSection_9ytyz_63",notificationButton="_notificationButton_9ytyz_87",styles$1K={headerLayout,logoButton,rightSection,notificationButton};var cssMediaquery={},hasRequiredCssMediaquery;function requireCssMediaquery(){if(hasRequiredCssMediaquery)return cssMediaquery;hasRequiredCssMediaquery=1,cssMediaquery.match=l,cssMediaquery.parse=c;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,n=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(b,_){return c(b).some(function(R){var k=R.inverse,M=R.type==="all"||_.type===R.type;if(M&&k||!(M||k))return!1;var P=R.expressions.every(function(K){var $=K.feature,G=K.modifier,H=K.value,j=_[$];if(!j)return!1;switch($){case"orientation":case"scan":return j.toLowerCase()===H.toLowerCase();case"width":case"height":case"device-width":case"device-height":H=x(H),j=x(j);break;case"resolution":H=m(H),j=m(j);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":H=p(H),j=p(j);break;case"grid":case"color":case"color-index":case"monochrome":H=parseInt(H,10)||1,j=parseInt(j,10)||0;break}switch(G){case"min":return j>=H;case"max":return j<=H;default:return j===H}});return P&&!k||!P&&k})}function c(b){return b.split(",").map(function(_){_=_.trim();var R=_.match(t),k=R[1],M=R[2],P=R[3]||"",K={};return K.inverse=!!k&&k.toLowerCase()==="not",K.type=M?M.toLowerCase():"all",P=P.match(/\([^\)]+\)/g)||[],K.expressions=P.map(function($){var G=$.match(n),H=G[1].toLowerCase().match(r);return{modifier:H[1],feature:H[2],value:G[2]}}),K})}function p(b){var _=Number(b),R;return _||(R=b.match(/^(\d+)\s*\/\s*(\d+)$/),_=R[1]/R[2]),_}function m(b){var _=parseFloat(b),R=String(b).match(o)[1];switch(R){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function x(b){var _=parseFloat(b),R=String(b).match(s)[1];switch(R){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return cssMediaquery}var matchmediaquery,hasRequiredMatchmediaquery;function requireMatchmediaquery(){if(hasRequiredMatchmediaquery)return matchmediaquery;hasRequiredMatchmediaquery=1;var t=requireCssMediaquery().match,n=typeof window<"u"?window.matchMedia:null;function r(o,l,c){var p=this,m;n&&!c&&(m=n.call(window,o)),m?(this.matches=m.matches,this.media=m.media,m.addListener(_)):(this.matches=t(o,l),this.media=o),this.addListener=x,this.removeListener=b,this.dispose=R;function x(k){m&&m.addListener(k)}function b(k){m&&m.removeListener(k)}function _(k){p.matches=k.matches,p.media=k.media}function R(){m&&m.removeListener(_)}}function s(o,l,c){return new r(o,l,c)}return matchmediaquery=s,matchmediaquery}var matchmediaqueryExports=requireMatchmediaquery();const matchMedia$1=getDefaultExportFromCjs(matchmediaqueryExports);var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache$1={};function toHyphenLower(t){return"-"+t.toLowerCase()}function hyphenateStyleName(t){if(cache$1.hasOwnProperty(t))return cache$1[t];var n=t.replace(uppercasePattern,toHyphenLower);return cache$1[t]=msPattern.test(n)?"-"+n:n}function shallowEqualObjects(t,n){if(t===n)return!0;if(!t||!n)return!1;const r=Object.keys(t),s=Object.keys(n),o=r.length;if(s.length!==o)return!1;for(let l=0;l<o;l++){const c=r[l];if(t[c]!==n[c]||!Object.prototype.hasOwnProperty.call(n,c))return!1}return!0}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function n(){}function r(){}return r.resetWarningCache=n,factoryWithThrowingShims=function(){function s(c,p,m,x,b,_){if(_!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:n};return l.PropTypes=l,l},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),stringOrNumber=PropTypes.oneOfType([PropTypes.string,PropTypes.number]),types={all:PropTypes.bool,grid:PropTypes.bool,aural:PropTypes.bool,braille:PropTypes.bool,handheld:PropTypes.bool,print:PropTypes.bool,projection:PropTypes.bool,screen:PropTypes.bool,tty:PropTypes.bool,tv:PropTypes.bool,embossed:PropTypes.bool},matchers={orientation:PropTypes.oneOf(["portrait","landscape"]),scan:PropTypes.oneOf(["progressive","interlace"]),aspectRatio:PropTypes.string,deviceAspectRatio:PropTypes.string,height:stringOrNumber,deviceHeight:stringOrNumber,width:stringOrNumber,deviceWidth:stringOrNumber,color:PropTypes.bool,colorIndex:PropTypes.bool,monochrome:PropTypes.bool,resolution:stringOrNumber,type:Object.keys(types)},{type,...featureMatchers}=matchers,features={minAspectRatio:PropTypes.string,maxAspectRatio:PropTypes.string,minDeviceAspectRatio:PropTypes.string,maxDeviceAspectRatio:PropTypes.string,minHeight:stringOrNumber,maxHeight:stringOrNumber,minDeviceHeight:stringOrNumber,maxDeviceHeight:stringOrNumber,minWidth:stringOrNumber,maxWidth:stringOrNumber,minDeviceWidth:stringOrNumber,maxDeviceWidth:stringOrNumber,minColor:PropTypes.number,maxColor:PropTypes.number,minColorIndex:PropTypes.number,maxColorIndex:PropTypes.number,minMonochrome:PropTypes.number,maxMonochrome:PropTypes.number,minResolution:stringOrNumber,maxResolution:stringOrNumber,...featureMatchers},all$1={...types,...features};var mq={all:all$1};const negate=t=>`not ${t}`,keyVal=(t,n)=>{const r=hyphenateStyleName(t);return typeof n=="number"&&(n=`${n}px`),n===!0?r:n===!1?negate(r):`(${r}: ${n})`},join$1=t=>t.join(" and "),toQuery=t=>{const n=[];return Object.keys(mq.all).forEach(r=>{const s=t[r];s!=null&&n.push(keyVal(r,s))}),join$1(n)},Context$1=reactExports$1.createContext(void 0),makeQuery=t=>t.query||toQuery(t),hyphenateKeys=t=>t?Object.keys(t).reduce((r,s)=>(r[hyphenateStyleName(s)]=t[s],r),{}):void 0,useIsUpdate=()=>{const t=reactExports$1.useRef(!1);return reactExports$1.useEffect(()=>{t.current=!0},[]),t.current},useDevice=t=>{const n=reactExports$1.useContext(Context$1),r=()=>hyphenateKeys(t)||hyphenateKeys(n),[s,o]=reactExports$1.useState(r);return reactExports$1.useEffect(()=>{const l=r();shallowEqualObjects(s,l)||o(l)},[t,n]),s},useQuery=t=>{const n=()=>makeQuery(t),[r,s]=reactExports$1.useState(n);return reactExports$1.useEffect(()=>{const o=n();r!==o&&s(o)},[t]),r},useMatchMedia=(t,n)=>{const r=()=>matchMedia$1(t,n||{},!!n),[s,o]=reactExports$1.useState(r),l=useIsUpdate();return reactExports$1.useEffect(()=>{if(l){const c=r();return o(c),()=>{c&&c.dispose()}}},[t,n]),s},useMatches=t=>{const[n,r]=reactExports$1.useState(t.matches);return reactExports$1.useEffect(()=>{const s=o=>{r(o.matches)};return t.addListener(s),r(t.matches),()=>{t.removeListener(s)}},[t]),n},useMediaQuery=(t,n,r)=>{const s=useDevice(n),o=useQuery(t);if(!o)throw new Error("Invalid or missing MediaQuery!");const l=useMatchMedia(o,s),c=useMatches(l);return useIsUpdate(),reactExports$1.useEffect(()=>{},[c]),reactExports$1.useEffect(()=>()=>{l&&l.dispose()},[]),c},useResponsive=()=>{const t=useMediaQuery({maxWidth:767}),n=useMediaQuery({minWidth:768,maxWidth:1024}),r=useMediaQuery({minWidth:1025});return{isMobile:t,isTablet:n,isDesktop:r}},overlay$6="_overlay_zs741_1",menuLayout="_menuLayout_zs741_33",menuVisible="_menuVisible_zs741_75",menuHidden="_menuHidden_zs741_83",closeContainer="_closeContainer_zs741_91",closeButton$c="_closeButton_zs741_123",menuSection="_menuSection_zs741_179",userNickname="_userNickname_zs741_195",menuSpan="_menuSpan_zs741_211",divider$3="_divider_zs741_243",styles$1J={overlay:overlay$6,menuLayout,menuVisible,menuHidden,closeContainer,closeButton:closeButton$c,menuSection,userNickname,menuSpan,divider:divider$3};function bind$1(t,n){return function(){return t.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>n=>{const r=toString.call(n);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),n=>kindOf(n)===t),typeOfTest=t=>n=>typeof n===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$2(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&isArrayBuffer(t.buffer),n}const isString=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$5=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const n=getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in t)&&!(iterator in t)},isEmptyObject$1=t=>{if(!isObject$5(t)||isBuffer(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$5(t)&&isFunction$2(t.pipe),isFormData=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$2(t.append)&&((n=kindOf(t))==="formdata"||n==="object"&&isFunction$2(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,n,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,o;if(typeof t!="object"&&(t=[t]),isArray(t))for(s=0,o=t.length;s<o;s++)n.call(null,t[s],s,t);else{if(isBuffer(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let p;for(s=0;s<c;s++)p=l[s],n.call(null,t[p],p,t)}}function findKey(t,n){if(isBuffer(t))return null;n=n.toLowerCase();const r=Object.keys(t);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t,skipUndefined:n}=isContextDefined(this)&&this||{},r={},s=(o,l)=>{const c=t&&findKey(r,l)||l;isPlainObject$1(r[c])&&isPlainObject$1(o)?r[c]=merge(r[c],o):isPlainObject$1(o)?r[c]=merge({},o):isArray(o)?r[c]=o.slice():(!n||!isUndefined(o))&&(r[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&forEach$1(arguments[o],s);return r}const extend$3=(t,n,r,{allOwnKeys:s}={})=>(forEach$1(n,(o,l)=>{r&&isFunction$2(o)?t[l]=bind$1(o,r):t[l]=o},{allOwnKeys:s}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,n,r,s)=>{t.prototype=Object.create(n.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject=(t,n,r,s)=>{let o,l,c;const p={};if(n=n||{},t==null)return n;do{for(o=Object.getOwnPropertyNames(t),l=o.length;l-- >0;)c=o[l],(!s||s(c,t,n))&&!p[c]&&(n[c]=t[c],p[c]=!0);t=r!==!1&&getPrototypeOf(t)}while(t&&(!r||r(t,n))&&t!==Object.prototype);return n},endsWith=(t,n,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=n.length;const s=t.indexOf(n,r);return s!==-1&&s===r},toArray$1=t=>{if(!t)return null;if(isArray(t))return t;let n=t.length;if(!isNumber$1(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=t[n];return r},isTypedArray=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,n)=>{const s=(t&&t[iterator]).call(t);let o;for(;(o=s.next())&&!o.done;){const l=o.value;n.call(t,l[0],l[1])}},matchAll=(t,n)=>{let r;const s=[];for(;(r=t.exec(n))!==null;)s.push(r);return s},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),hasOwnProperty=(({hasOwnProperty:t})=>(n,r)=>t.call(n,r))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(t,n)=>{const r=Object.getOwnPropertyDescriptors(t),s={};forEach$1(r,(o,l)=>{let c;(c=n(o,l,t))!==!1&&(s[l]=c||o)}),Object.defineProperties(t,s)},freezeMethods=t=>{reduceDescriptors(t,(n,r)=>{if(isFunction$2(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(isFunction$2(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(t,n)=>{const r={},s=o=>{o.forEach(l=>{r[l]=!0})};return isArray(t)?s(t):s(String(t).split(n)),r},noop$2=()=>{},toFiniteNumber=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function isSpecCompliantForm(t){return!!(t&&isFunction$2(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const n=new Array(10),r=(s,o)=>{if(isObject$5(s)){if(n.indexOf(s)>=0)return;if(isBuffer(s))return s;if(!("toJSON"in s)){n[o]=s;const l=isArray(s)?[]:{};return forEach$1(s,(c,p)=>{const m=r(c,o+1);!isUndefined(m)&&(l[p]=m)}),n[o]=void 0,l}}return s};return r(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$5(t)||isFunction$2(t))&&isFunction$2(t.then)&&isFunction$2(t.catch),_setImmediate=((t,n)=>t?setImmediate:n?((r,s)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===r&&s.length&&s.shift()()},!1),o=>{s.push(o),_global.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$2(t[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean,isObject:isObject$5,isPlainObject:isPlainObject$1,isEmptyObject:isEmptyObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend:extend$3,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,n,r,s,o,l)=>{const c=Object.create(prototype$1);utils$1.toFlatObject(t,c,function(b){return b!==Error.prototype},x=>x!=="isAxiosError");const p=t&&t.message?t.message:"Error",m=n==null&&t?t.code:n;return AxiosError$1.call(c,p,m,r,s,o),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,n,r){return t?t.concat(n).map(function(o,l){return o=removeBrackets(o),!r&&l?"["+o+"]":o}).join(r?".":""):n}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData$1(t,n,r){if(!utils$1.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,K){return!utils$1.isUndefined(K[P])});const s=r.metaTokens,o=r.visitor||b,l=r.dots,c=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function x(M){if(M===null)return"";if(utils$1.isDate(M))return M.toISOString();if(utils$1.isBoolean(M))return M.toString();if(!m&&utils$1.isBlob(M))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(M)||utils$1.isTypedArray(M)?m&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function b(M,P,K){let $=M;if(M&&!K&&typeof M=="object"){if(utils$1.endsWith(P,"{}"))P=s?P:P.slice(0,-2),M=JSON.stringify(M);else if(utils$1.isArray(M)&&isFlatArray(M)||(utils$1.isFileList(M)||utils$1.endsWith(P,"[]"))&&($=utils$1.toArray(M)))return P=removeBrackets(P),$.forEach(function(H,j){!(utils$1.isUndefined(H)||H===null)&&n.append(c===!0?renderKey([P],j,l):c===null?P:P+"[]",x(H))}),!1}return isVisitable(M)?!0:(n.append(renderKey(K,P,l),x(M)),!1)}const _=[],R=Object.assign(predicates,{defaultVisitor:b,convertValue:x,isVisitable});function k(M,P){if(!utils$1.isUndefined(M)){if(_.indexOf(M)!==-1)throw Error("Circular reference detected in "+P.join("."));_.push(M),utils$1.forEach(M,function($,G){(!(utils$1.isUndefined($)||$===null)&&o.call(n,$,utils$1.isString(G)?G.trim():G,P,R))===!0&&k($,P?P.concat(G):[G])}),_.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return k(t),n}function encode$2(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function AxiosURLSearchParams(t,n){this._pairs=[],t&&toFormData$1(t,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,r){this._pairs.push([n,r])};prototype.toString=function(n){const r=n?function(s){return n.call(this,s,encode$2)}:encode$2;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function encode$1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(t,n,r){if(!n)return t;const s=r&&r.encode||encode$1;utils$1.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let l;if(o?l=o(n,r):l=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,r).toString(s),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class InterceptorManager{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(s){s!==null&&n(s)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,n){return toFormData$1(t,new platform.classes.URLSearchParams,{visitor:function(r,s,o,l){return platform.isNode&&utils$1.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...n})}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(t){const n={},r=Object.keys(t);let s;const o=r.length;let l;for(s=0;s<o;s++)l=r[s],n[l]=t[l];return n}function formDataToJSON(t){function n(r,s,o,l){let c=r[l++];if(c==="__proto__")return!0;const p=Number.isFinite(+c),m=l>=r.length;return c=!c&&utils$1.isArray(o)?o.length:c,m?(utils$1.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!p):((!o[c]||!utils$1.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],l)&&utils$1.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!p)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const r={};return utils$1.forEachEntry(t,(s,o)=>{n(parsePropPath(s),o,r,0)}),r}return null}function stringifySafely(t,n,r){if(utils$1.isString(t))try{return(n||JSON.parse)(t),utils$1.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,l=utils$1.isObject(n);if(l&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return o?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let p;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((p=utils$1.isFileList(n))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return toFormData$1(p?{"files[]":n}:n,m&&new m,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const r=this.transitional||defaults$2.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n,this.parseReviver)}catch(p){if(c)throw p.name==="SyntaxError"?AxiosError$1.from(p,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):p}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults$2.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const n={};let r,s,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)n[s[1]]=s[2];return n}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,n,r,s,o){if(utils$1.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!utils$1.isString(n)){if(utils$1.isString(s))return n.indexOf(s)!==-1;if(utils$1.isRegExp(s))return s.test(n)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function buildAccessors(t,n){const r=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(o,l,c){return this[s].call(this,n,o,l,c)},configurable:!0})})}let AxiosHeaders$1=class{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function l(p,m,x){const b=normalizeHeader(m);if(!b)throw new Error("header name must be a non-empty string");const _=utils$1.findKey(o,b);(!_||o[_]===void 0||x===!0||x===void 0&&o[_]!==!1)&&(o[_||m]=normalizeValue(p))}const c=(p,m)=>utils$1.forEach(p,(x,b)=>l(x,b,m));if(utils$1.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))c(parseHeaders(n),r);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let p={},m,x;for(const b of n){if(!utils$1.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[x=b[0]]=(m=p[x])?utils$1.isArray(m)?[...m,b[1]]:[m,b[1]]:b[1]}c(p,r)}else n!=null&&l(r,n,s);return this}get(n,r){if(n=normalizeHeader(n),n){const s=utils$1.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return parseTokens(o);if(utils$1.isFunction(r))return r.call(this,o,s);if(utils$1.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader(n),n){const s=utils$1.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||matchHeaderValue(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function l(c){if(c=normalizeHeader(c),c){const p=utils$1.findKey(s,c);p&&(!r||matchHeaderValue(s,s[p],p,r))&&(delete s[p],o=!0)}}return utils$1.isArray(n)?n.forEach(l):l(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const l=r[s];(!n||matchHeaderValue(this,this[l],l,n,!0))&&(delete this[l],o=!0)}return o}normalize(n){const r=this,s={};return utils$1.forEach(this,(o,l)=>{const c=utils$1.findKey(s,l);if(c){r[c]=normalizeValue(o),delete r[l];return}const p=n?formatHeader(l):String(l).trim();p!==l&&delete r[l],r[p]=normalizeValue(o),s[p]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils$1.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&utils$1.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(c){const p=normalizeHeader(c);s[p]||(buildAccessors(o,c),s[p]=!0)}return utils$1.isArray(n)?n.forEach(l):l(n),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(s){this[r]=s}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,n){const r=this||defaults$2,s=n||r,o=AxiosHeaders$1.from(s.headers);let l=s.data;return utils$1.forEach(t,function(p){l=p.call(r,l,o.normalize(),n?n.status:void 0)}),o.normalize(),l}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,n,r){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,n,r),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):n(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function parseProtocol(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function speedometer(t,n){t=t||10;const r=new Array(t),s=new Array(t);let o=0,l=0,c;return n=n!==void 0?n:1e3,function(m){const x=Date.now(),b=s[l];c||(c=x),r[o]=m,s[o]=x;let _=l,R=0;for(;_!==o;)R+=r[_++],_=_%t;if(o=(o+1)%t,o===l&&(l=(l+1)%t),x-c<n)return;const k=b&&x-b;return k?Math.round(R*1e3/k):void 0}}function throttle(t,n){let r=0,s=1e3/n,o,l;const c=(x,b=Date.now())=>{r=b,o=null,l&&(clearTimeout(l),l=null),t(...x)};return[(...x)=>{const b=Date.now(),_=b-r;_>=s?c(x,b):(o=x,l||(l=setTimeout(()=>{l=null,c(o)},s-_)))},()=>o&&c(o)]}const progressEventReducer=(t,n,r=3)=>{let s=0;const o=speedometer(50,250);return throttle(l=>{const c=l.loaded,p=l.lengthComputable?l.total:void 0,m=c-s,x=o(m),b=c<=p;s=c;const _={loaded:c,total:p,progress:p?c/p:void 0,bytes:m,rate:x||void 0,estimated:x&&p&&b?(p-c)/x:void 0,event:l,lengthComputable:p!=null,[n?"download":"upload"]:!0};t(_)},r)},progressEventDecorator=(t,n)=>{const r=t!=null;return[s=>n[0]({lengthComputable:r,total:t,loaded:s}),n[1]]},asyncDecorator=t=>(...n)=>utils$1.asap(()=>t(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,n)=>r=>(r=new URL(r,platform.origin),t.protocol===r.protocol&&t.host===r.host&&(n||t.port===r.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,n,r,s,o,l,c){if(typeof document>"u")return;const p=[`${t}=${encodeURIComponent(n)}`];utils$1.isNumber(r)&&p.push(`expires=${new Date(r).toUTCString()}`),utils$1.isString(s)&&p.push(`path=${s}`),utils$1.isString(o)&&p.push(`domain=${o}`),l===!0&&p.push("secure"),utils$1.isString(c)&&p.push(`SameSite=${c}`),document.cookie=p.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function buildFullPath(t,n,r){let s=!isAbsoluteURL(n);return t&&(s||r==!1)?combineURLs(t,n):n}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,n){n=n||{};const r={};function s(x,b,_,R){return utils$1.isPlainObject(x)&&utils$1.isPlainObject(b)?utils$1.merge.call({caseless:R},x,b):utils$1.isPlainObject(b)?utils$1.merge({},b):utils$1.isArray(b)?b.slice():b}function o(x,b,_,R){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(x))return s(void 0,x,_,R)}else return s(x,b,_,R)}function l(x,b){if(!utils$1.isUndefined(b))return s(void 0,b)}function c(x,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(x))return s(void 0,x)}else return s(void 0,b)}function p(x,b,_){if(_ in n)return s(x,b);if(_ in t)return s(void 0,x)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p,headers:(x,b,_)=>o(headersToObject(x),headersToObject(b),_,!0)};return utils$1.forEach(Object.keys({...t,...n}),function(b){const _=m[b]||o,R=_(t[b],n[b],b);utils$1.isUndefined(R)&&_!==p||(r[b]=R)}),r}const resolveConfig=t=>{const n=mergeConfig$1({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:p}=n;if(n.headers=c=AxiosHeaders$1.from(c),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&c.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),utils$1.isFormData(r)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(utils$1.isFunction(r.getHeaders)){const m=r.getHeaders(),x=["content-type","content-length"];Object.entries(m).forEach(([b,_])=>{x.includes(b.toLowerCase())&&c.set(b,_)})}}if(platform.hasStandardBrowserEnv&&(s&&utils$1.isFunction(s)&&(s=s(n)),s||s!==!1&&isURLSameOrigin(n.url))){const m=o&&l&&cookies.read(l);m&&c.set(o,m)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(r,s){const o=resolveConfig(t);let l=o.data;const c=AxiosHeaders$1.from(o.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:x}=o,b,_,R,k,M;function P(){k&&k(),M&&M(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let K=new XMLHttpRequest;K.open(o.method.toUpperCase(),o.url,!0),K.timeout=o.timeout;function $(){if(!K)return;const H=AxiosHeaders$1.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),W={data:!p||p==="text"||p==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:H,config:t,request:K};settle(function(X){r(X),P()},function(X){s(X),P()},W),K=null}"onloadend"in K?K.onloadend=$:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout($)},K.onabort=function(){K&&(s(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,K)),K=null)},K.onerror=function(j){const W=j&&j.message?j.message:"Network Error",Y=new AxiosError$1(W,AxiosError$1.ERR_NETWORK,t,K);Y.event=j||null,s(Y),K=null},K.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const W=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),s(new AxiosError$1(j,W.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,K)),K=null},l===void 0&&c.setContentType(null),"setRequestHeader"in K&&utils$1.forEach(c.toJSON(),function(j,W){K.setRequestHeader(W,j)}),utils$1.isUndefined(o.withCredentials)||(K.withCredentials=!!o.withCredentials),p&&p!=="json"&&(K.responseType=o.responseType),x&&([R,M]=progressEventReducer(x,!0),K.addEventListener("progress",R)),m&&K.upload&&([_,k]=progressEventReducer(m),K.upload.addEventListener("progress",_),K.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(b=H=>{K&&(s(!H||H.type?new CanceledError$1(null,t,K):H),K.abort(),K=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const G=parseProtocol(o.url);if(G&&platform.protocols.indexOf(G)===-1){s(new AxiosError$1("Unsupported protocol "+G+":",AxiosError$1.ERR_BAD_REQUEST,t));return}K.send(l||null)})},composeSignals=(t,n)=>{const{length:r}=t=t?t.filter(Boolean):[];if(n||r){let s=new AbortController,o;const l=function(x){if(!o){o=!0,p();const b=x instanceof Error?x:this.reason;s.abort(b instanceof AxiosError$1?b:new CanceledError$1(b instanceof Error?b.message:b))}};let c=n&&setTimeout(()=>{c=null,l(new AxiosError$1(`timeout ${n} of ms exceeded`,AxiosError$1.ETIMEDOUT))},n);const p=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(l):x.removeEventListener("abort",l)}),t=null)};t.forEach(x=>x.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>utils$1.asap(p),m}},streamChunk=function*(t,n){let r=t.byteLength;if(r<n){yield t;return}let s=0,o;for(;s<r;)o=s+n,yield t.slice(s,o),s=o},readBytes=async function*(t,n){for await(const r of readStream(t))yield*streamChunk(r,n)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:r,value:s}=await n.read();if(r)break;yield s}}finally{await n.cancel()}},trackStream=(t,n,r,s)=>{const o=readBytes(t,n);let l=0,c,p=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:x,value:b}=await o.next();if(x){p(),m.close();return}let _=b.byteLength;if(r){let R=l+=_;r(R)}m.enqueue(new Uint8Array(b))}catch(x){throw p(x),x}},cancel(m){return p(m),o.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$1}=utils$1,globalFetchAPI=(({Request:t,Response:n})=>({Request:t,Response:n}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test=(t,...n)=>{try{return!!t(...n)}catch{return!1}},factory$1=t=>{t=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,t);const{fetch:n,Request:r,Response:s}=t,o=n?isFunction$1(n):typeof fetch=="function",l=isFunction$1(r),c=isFunction$1(s);if(!o)return!1;const p=o&&isFunction$1(ReadableStream$1),m=o&&(typeof TextEncoder$1=="function"?(M=>P=>M.encode(P))(new TextEncoder$1):async M=>new Uint8Array(await new r(M).arrayBuffer())),x=l&&p&&test(()=>{let M=!1;const P=new r(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!P}),b=c&&p&&test(()=>utils$1.isReadableStream(new s("").body)),_={stream:b&&(M=>M.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!_[M]&&(_[M]=(P,K)=>{let $=P&&P[M];if($)return $.call(P);throw new AxiosError$1(`Response type '${M}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,K)})});const R=async M=>{if(M==null)return 0;if(utils$1.isBlob(M))return M.size;if(utils$1.isSpecCompliantForm(M))return(await new r(platform.origin,{method:"POST",body:M}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(M)||utils$1.isArrayBuffer(M))return M.byteLength;if(utils$1.isURLSearchParams(M)&&(M=M+""),utils$1.isString(M))return(await m(M)).byteLength},k=async(M,P)=>{const K=utils$1.toFiniteNumber(M.getContentLength());return K??R(P)};return async M=>{let{url:P,method:K,data:$,signal:G,cancelToken:H,timeout:j,onDownloadProgress:W,onUploadProgress:Y,responseType:X,headers:te,withCredentials:se="same-origin",fetchOptions:pe}=resolveConfig(M),ge=n||fetch;X=X?(X+"").toLowerCase():"text";let me=composeSignals([G,H&&H.toAbortSignal()],j),Ee=null;const ve=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let de;try{if(Y&&x&&K!=="get"&&K!=="head"&&(de=await k(te,$))!==0){let Ae=new r(P,{method:"POST",body:$,duplex:"half"}),we;if(utils$1.isFormData($)&&(we=Ae.headers.get("content-type"))&&te.setContentType(we),Ae.body){const[Re,Be]=progressEventDecorator(de,progressEventReducer(asyncDecorator(Y)));$=trackStream(Ae.body,DEFAULT_CHUNK_SIZE,Re,Be)}}utils$1.isString(se)||(se=se?"include":"omit");const ae=l&&"credentials"in r.prototype,ue={...pe,signal:me,method:K.toUpperCase(),headers:te.normalize().toJSON(),body:$,duplex:"half",credentials:ae?se:void 0};Ee=l&&new r(P,ue);let re=await(l?ge(Ee,pe):ge(P,ue));const oe=b&&(X==="stream"||X==="response");if(b&&(W||oe&&ve)){const Ae={};["status","statusText","headers"].forEach(We=>{Ae[We]=re[We]});const we=utils$1.toFiniteNumber(re.headers.get("content-length")),[Re,Be]=W&&progressEventDecorator(we,progressEventReducer(asyncDecorator(W),!0))||[];re=new s(trackStream(re.body,DEFAULT_CHUNK_SIZE,Re,()=>{Be&&Be(),ve&&ve()}),Ae)}X=X||"text";let Ce=await _[utils$1.findKey(_,X)||"text"](re,M);return!oe&&ve&&ve(),await new Promise((Ae,we)=>{settle(Ae,we,{data:Ce,headers:AxiosHeaders$1.from(re.headers),status:re.status,statusText:re.statusText,config:M,request:Ee})})}catch(ae){throw ve&&ve(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,M,Ee),{cause:ae.cause||ae}):AxiosError$1.from(ae,ae&&ae.code,M,Ee)}}},seedCache=new Map,getFetch=t=>{let n=t&&t.env||{};const{fetch:r,Request:s,Response:o}=n,l=[s,o,r];let c=l.length,p=c,m,x,b=seedCache;for(;p--;)m=l[p],x=b.get(m),x===void 0&&b.set(m,x=p?new Map:factory$1(n)),b=x;return x};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1;function getAdapter$1(t,n){t=utils$1.isArray(t)?t:[t];const{length:r}=t;let s,o;const l={};for(let c=0;c<r;c++){s=t[c];let p;if(o=s,!isResolvedHandle(s)&&(o=knownAdapters[(p=String(s)).toLowerCase()],o===void 0))throw new AxiosError$1(`Unknown adapter '${p}'`);if(o&&(utils$1.isFunction(o)||(o=o.get(n))))break;l[p||"#"+c]=o}if(!o){const c=Object.entries(l).map(([m,x])=>`adapter ${m} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=r?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$2.adapter,t)(t).then(function(s){return throwIfCancellationRequested(t),s.data=transformData.call(t,t.transformResponse,s),s.headers=AxiosHeaders$1.from(s.headers),s},function(s){return isCancel$1(s)||(throwIfCancellationRequested(t),s&&s.response&&(s.response.data=transformData.call(t,t.transformResponse,s.response),s.response.headers=AxiosHeaders$1.from(s.response.headers))),Promise.reject(s)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{validators$1[t]=function(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(n,r,s){function o(l,c){return"[Axios v"+VERSION$1+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,p)=>{if(n===!1)throw new AxiosError$1(o(c," has been removed"+(r?" in "+r:"")),AxiosError$1.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(l,c,p):!0}};validators$1.spelling=function(n){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${n}`),!0)};function assertOptions(t,n,r){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let o=s.length;for(;o-- >0;){const l=s[o],c=n[l];if(c){const p=t[l],m=p===void 0||c(p,l,t);if(m!==!0)throw new AxiosError$1("option "+l+" must be "+m,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+l,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig$1(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:l}=r;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?r.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),validator.assertOptions(r,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&utils$1.merge(l.common,l[r.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],M=>{delete l[M]}),r.headers=AxiosHeaders$1.concat(c,l);const p=[];let m=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(r)===!1||(m=m&&P.synchronous,p.unshift(P.fulfilled,P.rejected))});const x=[];this.interceptors.response.forEach(function(P){x.push(P.fulfilled,P.rejected)});let b,_=0,R;if(!m){const M=[dispatchRequest.bind(this),void 0];for(M.unshift(...p),M.push(...x),R=M.length,b=Promise.resolve(r);_<R;)b=b.then(M[_++],M[_++]);return b}R=p.length;let k=r;for(;_<R;){const M=p[_++],P=p[_++];try{k=M(k)}catch(K){P.call(this,K);break}}try{b=dispatchRequest.call(this,k)}catch(M){return Promise.reject(M)}for(_=0,R=x.length;_<R;)b=b.then(x[_++],x[_++]);return b}getUri(n){n=mergeConfig$1(this.defaults,n);const r=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(r,n.params,n.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(n){Axios$1.prototype[n]=function(r,s){return this.request(mergeConfig$1(s||{},{method:n,url:r,data:(s||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function r(s){return function(l,c,p){return this.request(mergeConfig$1(p||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios$1.prototype[n]=r(),Axios$1.prototype[n+"Form"]=r(!0)});let CancelToken$1=class jf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(p=>{s.subscribe(p),l=p}).then(o);return c.cancel=function(){s.unsubscribe(l)},c},n(function(l,c,p){s.reason||(s.reason=new CanceledError$1(l,c,p),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=s=>{n.abort(s)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new jf(function(o){n=o}),cancel:n}}};function spread$1(t){return function(r){return t.apply(null,r)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([t,n])=>{HttpStatusCode$1[n]=t});function createInstance(t){const n=new Axios$1(t),r=bind$1(Axios$1.prototype.request,n);return utils$1.extend(r,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return createInstance(mergeConfig$1(t,o))},r}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;/*! js-cookie v3.0.5 | MIT */function assign(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)t[s]=r[s]}return t}var defaultConverter={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$3(t,n){function r(o,l,c){if(!(typeof document>"u")){c=assign({},n,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var m in c)c[m]&&(p+="; "+m,c[m]!==!0&&(p+="="+c[m].split(";")[0]));return document.cookie=o+"="+t.write(l,o)+p}}function s(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],c={},p=0;p<l.length;p++){var m=l[p].split("="),x=m.slice(1).join("=");try{var b=decodeURIComponent(m[0]);if(c[b]=t.read(x,b),o===b)break}catch{}}return o?c[o]:c}}return Object.create({set:r,get:s,remove:function(o,l){r(o,"",assign({},l,{expires:-1}))},withAttributes:function(o){return init$3(this.converter,assign({},this.attributes,o))},withConverter:function(o){return init$3(assign({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}var api=init$3(defaultConverter,{path:"/"});const JWT_Token$1="ACCESS_TOKEN",instance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),mapInstance=axios.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),userInstance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});userInstance.interceptors.request.use(t=>{const n=api.get(JWT_Token$1);return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));const UserContext=reactExports$1.createContext(),JWT_Token="ACCESS_TOKEN";function UserProvider({children:t}){const[n,r]=reactExports$1.useState(null),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{const _=api.get(JWT_Token);if(_){o(_);try{const R=await userInstance.get("/api/users/me");r(R.data)}catch{api.remove(JWT_Token,{path:"/"}),o(null),r(null)}}c(!1)})()},[]);const x={user:n,setUser:r,token:s,login:(b,_)=>{r(b),o(_),api.set(JWT_Token,_,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{r(null),o(null),api.remove(JWT_Token,{path:"/"})},isLoading:l};return jsxRuntimeExports.jsx(UserContext.Provider,{value:x,children:t})}const useUser=()=>reactExports$1.useContext(UserContext),menuList$2=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}],modalOverlay$a="_modalOverlay_5yzjc_1",modalContainer$5="_modalContainer_5yzjc_39",messageBox="_messageBox_5yzjc_75",title$j="_title_5yzjc_93",desc="_desc_5yzjc_105",closeButton$b="_closeButton_5yzjc_119",styles$1I={modalOverlay:modalOverlay$a,modalContainer:modalContainer$5,messageBox,title:title$j,desc,closeButton:closeButton$b};function LogoutModal({isOpen:t,onClose:n}){return t?jsxRuntimeExports.jsx("div",{className:styles$1I.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$1I.modalContainer,onClick:r=>r.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$1I.messageBox,children:[jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginBottom:"1rem"},children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#E8F3FF"}),jsxRuntimeExports.jsx("path",{d:"M7 12L10.5 15.5L17 9",stroke:"#3665F3",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("h2",{className:styles$1I.title,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$1I.desc,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$1I.closeButton,onClick:n,children:""})]})}):null}function Menu({onOpen:t,isOpen:n}){const r=useNavigate(),{user:s,logout:o}=reactExports$1.useContext(UserContext),[l,c]=reactExports$1.useState(!1),p=()=>{c(!0)},m=()=>{api.remove("ACCESS_TOKEN"),o(),c(!1),t(),r("/")},x=(b,_=!1)=>{t(),_?r(b,{state:{activeTab:"MY"}}):r(b)};return jsxRuntimeExports.jsxs("div",{className:styles$1J.overlay,onClick:t,children:[jsxRuntimeExports.jsx(LogoutModal,{isOpen:l,onClose:m}),jsxRuntimeExports.jsxs("div",{className:`${styles$1J.menuLayout} ${n?styles$1J.menuVisible:styles$1J.menuHidden}`,onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:styles$1J.closeContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1J.closeButton,onClick:t})}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$1J.userNickname,children:s?`${s.user_name} `:" "}),s&&s.admin_flag==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1J.sidebarMenu,children:jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/console/main"),children:" "})})]}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsx("section",{className:styles$1J.menuSection,children:menuList$2.map(({name:b,label:_,path:R})=>jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x(R),children:_},b))}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/scan"),children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>{x("/mypage",!0)},children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/nearby-galleries"),children:" "})]}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/mypage"),children:""}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/announcement"),children:" & FAQ"}),s?jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:p,children:""}):jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>x("/login"),children:""})]})]})]})}const navbarNavigation="_navbarNavigation_1vr4j_1",menuList$1="_menuList_1vr4j_39",menuItem="_menuItem_1vr4j_61",defaultLink="_defaultLink_1vr4j_81",activeLink="_activeLink_1vr4j_83",styles$1H={navbarNavigation,menuList:menuList$1,menuItem,defaultLink,activeLink};function NavBar(){const{pathname:t}=useLocation();return jsxRuntimeExports.jsx("nav",{className:styles$1H.navbarNavigation,children:jsxRuntimeExports.jsx("ul",{className:styles$1H.menuList,children:menuList$2.map(({label:n,path:r,index:s})=>jsxRuntimeExports.jsx("li",{className:`${styles$1H.menuItem} ${t===r&&styles$1H.currentMenu}`,children:jsxRuntimeExports.jsx(NavLink,{to:r,className:({isActive:o})=>o?styles$1H.activeLink:styles$1H.defaultLink,children:n})},`${n}-${s}`))})})}const IcMenu=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M2 12H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 4H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 20H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]}),IcBell=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),IcLogo=({color:t="#fff"})=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"86",height:"17",viewBox:"0 0 86 17",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M9.4792 16.2951L10.4931 16.2014C10.7118 16.1701 10.823 16.0833 10.823 15.941C10.823 15.8611 10.7986 15.7674 10.7535 15.6597L9.19795 12.2153H3.72571L2.31251 15.6597C2.2639 15.7708 2.24306 15.8646 2.24306 15.941C2.24306 16.0833 2.35417 16.1701 2.57292 16.2014L3.58682 16.2951V16.7674H0V16.2951L0.871531 16.2014C1.05903 16.1875 1.19445 16.1389 1.27084 16.059C1.34723 15.9792 1.4375 15.8403 1.53125 15.6354L8.066 0H8.81947L15.7292 15.6354C15.823 15.8403 15.9098 15.9826 15.9896 16.059C16.0695 16.1389 16.2014 16.184 16.3889 16.2014L17.2605 16.2951V16.7674H9.4792V16.2951ZM8.88892 11.5069L6.34377 5.87153L4.01043 11.5069H8.89239H8.88892Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M28.4028 9.70519C28.2362 9.39964 27.9758 9.19477 27.6146 9.09061C27.2535 8.98991 26.6563 8.93783 25.823 8.93783H25.1389V15.5628C25.1389 15.7364 25.1737 15.8545 25.2466 15.917C25.316 15.9795 25.4688 16.0351 25.7049 16.0837L26.7188 16.2955V16.7677H18.8889V16.2955L19.7604 16.108C19.9966 16.0594 20.1493 16.0073 20.2188 15.9413C20.2882 15.8788 20.3264 15.7607 20.3264 15.5871V1.43783C20.3264 1.26421 20.2917 1.14616 20.2188 1.08366C20.1493 1.02116 19.9966 0.965604 19.7604 0.916993L18.8889 0.729492V0.260742H25.823C27.9306 0.260742 29.6042 0.399631 30.8473 0.673937C32.0903 0.948243 32.9931 1.39963 33.5591 2.0281C34.1251 2.65658 34.4098 3.51422 34.4098 4.59755C34.4098 5.80936 34.0487 6.73991 33.3265 7.39269C32.6042 8.04547 31.4306 8.48991 29.8126 8.72602C30.7396 8.78852 31.4827 8.93783 32.0417 9.17394C32.6008 9.41005 33.0348 9.78505 33.3508 10.2955C33.6667 10.8059 33.9098 11.5107 34.0799 12.4066L34.3404 13.8198C34.4654 14.4969 34.5556 14.9517 34.6112 15.1878C34.6667 15.4239 34.7431 15.6045 34.8473 15.7295C34.948 15.8545 35.1112 15.917 35.3299 15.917C35.7223 15.917 36.0522 15.6253 36.3195 15.0455L36.8161 15.4691C36.5973 15.9239 36.2605 16.2955 35.8126 16.5767C35.3647 16.8614 34.6355 17.0003 33.632 17.0003C32.6285 17.0003 31.8334 16.8892 31.2501 16.6705C30.6667 16.4517 30.2119 16.0628 29.882 15.5038C29.5521 14.9448 29.2987 14.1392 29.1285 13.0871L28.8473 11.3198C28.7223 10.5489 28.5764 10.0107 28.4098 9.70519H28.4028ZM25.1389 8.2295H26.0348C26.9445 8.2295 27.6494 8.1045 28.1459 7.85102C28.6424 7.60102 28.9827 7.21561 29.1702 6.69477C29.3577 6.17741 29.4549 5.47602 29.4549 4.59755C29.4549 3.71908 29.3612 3.01769 29.1702 2.50033C28.9827 1.98297 28.6389 1.59755 28.1459 1.34408C27.6494 1.09408 26.948 0.965604 26.0348 0.965604H25.1389V8.2295Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M47.3863 15.9413C47.4557 16.0038 47.612 16.0594 47.8446 16.108L48.7161 16.2955V16.7677H41.0286V16.2955L41.9001 16.108C42.1362 16.0594 42.289 16.0073 42.3585 15.9413C42.4279 15.8788 42.4661 15.7608 42.4661 15.5871V0.920465H41.9244C40.9661 0.920465 40.223 1.07671 39.6953 1.39269C39.1675 1.70866 38.7682 2.11491 38.4939 2.61838C38.2196 3.12185 37.8758 3.92394 37.4661 5.02463H36.9487V0.260742H52.796V5.02463H52.2786C51.8689 3.92394 51.5286 3.12185 51.2543 2.61838C50.98 2.11491 50.5772 1.70519 50.0529 1.39269C49.5252 1.07671 48.7821 0.920465 47.8238 0.920465H47.2821V15.5871C47.2821 15.7608 47.3168 15.8788 47.3897 15.9413H47.3863Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M56.5384 1.08366C56.4689 1.02116 56.3127 0.965604 56.08 0.916993L55.2085 0.729492V0.260742H63.0384V0.732965L62.0245 0.94477C61.7884 0.993382 61.6356 1.04546 61.5662 1.11144C61.4967 1.17394 61.4585 1.29199 61.4585 1.4656V16.0628H64.4307C65.3578 16.0628 66.0801 15.9205 66.6009 15.6392C67.1183 15.3545 67.5245 14.9552 67.8162 14.4378C68.1078 13.9205 68.4342 13.1323 68.7953 12.0802H69.4551V16.7746H55.212V16.3024L56.0835 16.1149C56.3196 16.0663 56.4724 16.0142 56.5418 15.9483C56.6113 15.8858 56.6495 15.7677 56.6495 15.5941V1.43783C56.6495 1.26422 56.6148 1.14616 56.5418 1.08366H56.5384Z",fill:t}),jsxRuntimeExports.jsx("path",{d:"M83.2884 1.20171C83.2884 1.0906 83.2398 1.00033 83.1461 0.930881C83.0523 0.861437 82.9412 0.816298 82.8162 0.802409L81.7086 0.708659V0.260742H85.6218V0.732965L84.8926 0.802409C84.6391 0.81977 84.469 0.868381 84.3752 0.955187C84.2815 1.04199 84.1704 1.18783 84.0454 1.39269L79.5419 9.1288V15.5906C79.5419 15.7642 79.5766 15.8823 79.6495 15.9448C79.719 16.0073 79.8752 16.0628 80.1079 16.1114L80.9794 16.2989V16.7712H73.2919V16.2989L74.1634 16.1114C74.3995 16.0628 74.5523 16.0108 74.6217 15.9448C74.6912 15.8823 74.7294 15.7642 74.7294 15.5906V9.27116L70.3891 1.39616C70.278 1.20866 70.1773 1.06977 70.0835 0.982965C69.9898 0.896159 69.8648 0.844076 69.7051 0.830187L68.7849 0.736437V0.260742H76.4481V0.732965L75.5037 0.826715C75.2849 0.844076 75.1738 0.937826 75.1738 1.11144C75.1738 1.20519 75.2051 1.30935 75.2676 1.41699L79.0419 8.53852L83.2398 1.36838C83.2711 1.27463 83.2884 1.21908 83.2884 1.20171Z",fill:t})]});function Header(){const[t,n]=reactExports$1.useState(!1),{isDesktop:r}=useResponsive(),s=useNavigate(),{user:o}=reactExports$1.useContext(UserContext),l=()=>{n(!0),document.body.style.overflow="hidden"},c=()=>{n(!1),document.body.style.overflow="unset"},p=()=>{c(),s("/")},m=()=>{c(),o&&o.admin_flag==="1"?s("/console/notification"):s("/notifications")};return jsxRuntimeExports.jsxs("header",{className:styles$1K.headerLayout,children:[jsxRuntimeExports.jsx("button",{className:styles$1K.logoButton,onClick:p,children:jsxRuntimeExports.jsx(IcLogo,{})}),r&&jsxRuntimeExports.jsx(NavBar,{}),jsxRuntimeExports.jsxs("div",{className:styles$1K.rightSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1K.notificationButton,onClick:m,"aria-label":"",children:jsxRuntimeExports.jsx(IcBell,{})}),jsxRuntimeExports.jsx("button",{onClick:t?c:l,children:jsxRuntimeExports.jsx(IcMenu,{})})]}),t&&jsxRuntimeExports.jsx(Menu,{onOpen:c,isOpen:t})]})}const chatbotContainer="_chatbotContainer_1sxap_1",chatbotButton="_chatbotButton_1sxap_15",chatbotOverlay="_chatbotOverlay_1sxap_61",popupContainer="_popupContainer_1sxap_85",headerContainer="_headerContainer_1sxap_125",headerTitle="_headerTitle_1sxap_147",closeButton$a="_closeButton_1sxap_161",chatContainer="_chatContainer_1sxap_199",botMessageContainer="_botMessageContainer_1sxap_245",botProfile="_botProfile_1sxap_261",botContent="_botContent_1sxap_289",botName="_botName_1sxap_299",botBubble="_botBubble_1sxap_313",userMessageContainer="_userMessageContainer_1sxap_335",userBubble="_userBubble_1sxap_347",inputContainer$2="_inputContainer_1sxap_373",input$7="_input_1sxap_373",sendButton$1="_sendButton_1sxap_427",styles$1G={chatbotContainer,chatbotButton,chatbotOverlay,popupContainer,headerContainer,headerTitle,closeButton:closeButton$a,chatContainer,botMessageContainer,botProfile,botContent,botName,botBubble,userMessageContainer,userBubble,inputContainer:inputContainer$2,input:input$7,sendButton:sendButton$1};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$3=["attr","size","title"];function _objectWithoutProperties$2(t,n){if(t==null)return{};var r=_objectWithoutPropertiesLoose$2(t,n),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _objectWithoutPropertiesLoose$2(t,n){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(n.indexOf(s)>=0)continue;r[s]=t[s]}return r}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_extends$1.apply(this,arguments)}function ownKeys$3(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread$2(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$3(Object(r),!0).forEach(function(s){_defineProperty$3(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty$3(t,n,r){return n=_toPropertyKey$1(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _toPropertyKey$1(t){var n=_toPrimitive$1(t,"string");return typeof n=="symbol"?n:n+""}function _toPrimitive$1(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Tree2Element(t){return t&&t.map((n,r)=>React.createElement(n.tag,_objectSpread$2({key:r},n.attr),Tree2Element(n.child)))}function GenIcon(t){return n=>React.createElement(IconBase,_extends$1({attr:_objectSpread$2({},t.attr)},n),Tree2Element(t.child))}function IconBase(t){var n=r=>{var{attr:s,size:o,title:l}=t,c=_objectWithoutProperties$2(t,_excluded$3),p=o||r.size||"1em",m;return r.className&&(m=r.className),t.className&&(m=(m?m+" ":"")+t.className),React.createElement("svg",_extends$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:m,style:_objectSpread$2(_objectSpread$2({color:t.color||r.color},r.style),t.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&React.createElement("title",null,l),t.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,r=>n(r)):n(DefaultContext)}function BsChatFill(t){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function IoClose(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function IoMegaphoneOutline(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(t)}function IoSend(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function ChatbotWidget(){const{user:t}=useUser(),[n,r]=reactExports$1.useState(!1),[s,o]=reactExports$1.useState([{id:0,sender:"bot",text:`!   Artlas :)
 ?`}]),[l,c]=reactExports$1.useState(""),[p,m]=reactExports$1.useState(!1),x=reactExports$1.useRef(null),b=t?userInstance:instance,_=()=>s[s.length-1].id+1;reactExports$1.useEffect(()=>{var H;(H=x.current)==null||H.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[s,n]);const R=()=>{r(H=>!H),n?document.body.style.overflow="unset":document.body.style.overflow="hidden"},k=H=>{c(H.target.value)},M=async H=>{const j={id:_(),sender:"user",text:H};o(Y=>[...Y,j]);const W={id:_()+1,sender:"bot",text:"An error occured. Please report this to the service team."};try{m(!0);const Y=await b.post("/api/chats",{text:H});W.text=Y.data}catch(Y){console.error("Error occurred while querying GPT:",Y)}finally{m(!1)}o(Y=>[...Y,W])},P=H=>H.split(/(\*\*[^\*]+\*\*)/g).map(W=>{if(W.startsWith("**")&&W.endsWith("**")){const Y=W.slice(2,-2);return jsxRuntimeExports.jsx("b",{children:Y},Y)}return W}),K=H=>{H.key==="Enter"&&$()},$=()=>{const H=l.trim();H&&(M(H),c(""))},G=H=>{setTimeout(()=>{H.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.chatbotContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1G.chatbotButton,onClick:R,children:jsxRuntimeExports.jsx(BsChatFill,{size:20})})}),n&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.chatbotOverlay,onClick:R}),jsxRuntimeExports.jsxs("div",{className:styles$1G.popupContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1G.headerContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1G.headerTitle,children:"Artly AI"}),jsxRuntimeExports.jsx("button",{className:styles$1G.closeButton,onClick:R,children:jsxRuntimeExports.jsx(IoClose,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$1G.chatContainer,children:[s.map(H=>jsxRuntimeExports.jsx("div",{className:H.sender==="bot"?styles$1G.botMessageContainer:styles$1G.userMessageContainer,ref:x,children:H.sender==="bot"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1G.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1G.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1G.botBubble,children:P(H.text)})]})]}):jsxRuntimeExports.jsx("div",{className:styles$1G.userBubble,children:H.text})},H.id)),p&&jsxRuntimeExports.jsxs("div",{className:styles$1G.botMessageContainer,ref:x,children:[jsxRuntimeExports.jsx("div",{className:styles$1G.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1G.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1G.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1G.botBubble,children:"  ..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1G.inputContainer,children:[jsxRuntimeExports.jsx("input",{className:styles$1G.input,type:"text",value:l,onChange:k,onKeyPress:K,onFocus:G,placeholder:"  ..."}),jsxRuntimeExports.jsx("button",{className:styles$1G.sendButton,onClick:$,children:jsxRuntimeExports.jsx(IoSend,{size:20})})]})]})]})]})}function Layout(){const t=useLocation(),r=!["/login","/register","/mypage","/mypage/edit"].some(s=>t.pathname.startsWith(s));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),r&&jsxRuntimeExports.jsx(ChatbotWidget,{})]})}const footerLayout="_footerLayout_6sik4_1",linkContainer$1="_linkContainer_6sik4_27",link="_link_6sik4_27",divideSpan="_divideSpan_6sik4_61",infoContainer$3="_infoContainer_6sik4_71",styles$1F={footerLayout,linkContainer:linkContainer$1,link,divideSpan,infoContainer:infoContainer$3};function Footer(){return jsxRuntimeExports.jsxs("footer",{className:styles$1F.footerLayout,children:[jsxRuntimeExports.jsxs("div",{className:styles$1F.linkContainer,children:[jsxRuntimeExports.jsx(Link$1,{to:"/announcement",className:styles$1F.link,children:"&FAQ"}),jsxRuntimeExports.jsx("span",{className:styles$1F.divideSpan,children:"|"}),jsxRuntimeExports.jsx(Link$1,{to:"/termspolicy",className:styles$1F.link,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$1F.infoContainer,children:[jsxRuntimeExports.jsx("p",{children:"()"}),jsxRuntimeExports.jsx("p",{children:" : 477-88-01191"}),jsxRuntimeExports.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),jsxRuntimeExports.jsxs("p",{children:[" All rights reserved by"," ",jsxRuntimeExports.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function AuthRoute(){const{user:t,isLoading:n}=reactExports$1.useContext(UserContext),r=useLocation();if(n)return jsxRuntimeExports.jsx("div",{children:" ..."});if(!t||!t.id)return jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0});const s=r.pathname!=="/notifications";return jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{flex:"1"},children:jsxRuntimeExports.jsx(Outlet,{})}),s&&jsxRuntimeExports.jsx(Footer,{})]})}const mainLayout="_mainLayout_114k4_1",tabContainer$1="_tabContainer_114k4_29",userText$1="_userText_114k4_47",itemContainer$1="_itemContainer_114k4_67",itemBox$1="_itemBox_114k4_95",itemIcon$1="_itemIcon_114k4_127",carouselContainer$1="_carouselContainer_114k4_137",styles$1E={mainLayout,tabContainer:tabContainer$1,userText:userText$1,itemContainer:itemContainer$1,itemBox:itemBox$1,itemIcon:itemIcon$1,carouselContainer:carouselContainer$1},carouselContainer="_carouselContainer_1o6e9_1",sliderWrapper="_sliderWrapper_1o6e9_21",slider$1="_slider_1o6e9_21",carouselItem="_carouselItem_1o6e9_47",carouselImage$1="_carouselImage_1o6e9_81",captionBox="_captionBox_1o6e9_105",title$i="_title_1o6e9_129",location$2="_location_1o6e9_145",detailButton="_detailButton_1o6e9_159",arrowButton="_arrowButton_1o6e9_201",left="_left_1o6e9_251",right="_right_1o6e9_257",dots="_dots_1o6e9_265",dot="_dot_1o6e9_265",active$7="_active_1o6e9_303",styles$1D={carouselContainer,sliderWrapper,slider:slider$1,carouselItem,carouselImage:carouselImage$1,captionBox,title:title$i,location:location$2,detailButton,arrowButton,left,right,dots,dot,active:active$7};var build={exports:{}},hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,(()=>{var t={296:(o,l,c)=>{var p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,b=/^0o[0-7]+$/i,_=parseInt,R=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,k=typeof self=="object"&&self&&self.Object===Object&&self,M=R||k||Function("return this")(),P=Object.prototype.toString,K=Math.max,$=Math.min,G=function(){return M.Date.now()};function H(W){var Y=typeof W;return!!W&&(Y=="object"||Y=="function")}function j(W){if(typeof W=="number")return W;if((function(te){return typeof te=="symbol"||(function(se){return!!se&&typeof se=="object"})(te)&&P.call(te)=="[object Symbol]"})(W))return NaN;if(H(W)){var Y=typeof W.valueOf=="function"?W.valueOf():W;W=H(Y)?Y+"":Y}if(typeof W!="string")return W===0?W:+W;W=W.replace(p,"");var X=x.test(W);return X||b.test(W)?_(W.slice(2),X?2:8):m.test(W)?NaN:+W}o.exports=function(W,Y,X){var te,se,pe,ge,me,Ee,ve=0,de=!1,ae=!1,ue=!0;if(typeof W!="function")throw new TypeError("Expected a function");function re(Re){var Be=te,We=se;return te=se=void 0,ve=Re,ge=W.apply(We,Be)}function oe(Re){var Be=Re-Ee;return Ee===void 0||Be>=Y||Be<0||ae&&Re-ve>=pe}function Ce(){var Re=G();if(oe(Re))return Ae(Re);me=setTimeout(Ce,(function(Be){var We=Y-(Be-Ee);return ae?$(We,pe-(Be-ve)):We})(Re))}function Ae(Re){return me=void 0,ue&&te?re(Re):(te=se=void 0,ge)}function we(){var Re=G(),Be=oe(Re);if(te=arguments,se=this,Ee=Re,Be){if(me===void 0)return(function(We){return ve=We,me=setTimeout(Ce,Y),de?re(We):ge})(Ee);if(ae)return me=setTimeout(Ce,Y),re(Ee)}return me===void 0&&(me=setTimeout(Ce,Y)),ge}return Y=j(Y)||0,H(X)&&(de=!!X.leading,pe=(ae="maxWait"in X)?K(j(X.maxWait)||0,Y):pe,ue="trailing"in X?!!X.trailing:ue),we.cancel=function(){me!==void 0&&clearTimeout(me),ve=0,te=Ee=se=me=void 0},we.flush=function(){return me===void 0?ge:Ae(G())},we}},96:(o,l,c)=>{var p="Expected a function",m=NaN,x="[object Symbol]",b=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,k=/^0o[0-7]+$/i,M=parseInt,P=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,K=typeof self=="object"&&self&&self.Object===Object&&self,$=P||K||Function("return this")(),G=Object.prototype.toString,H=Math.max,j=Math.min,W=function(){return $.Date.now()};function Y(te){var se=typeof te;return!!te&&(se=="object"||se=="function")}function X(te){if(typeof te=="number")return te;if((function(ge){return typeof ge=="symbol"||(function(me){return!!me&&typeof me=="object"})(ge)&&G.call(ge)==x})(te))return m;if(Y(te)){var se=typeof te.valueOf=="function"?te.valueOf():te;te=Y(se)?se+"":se}if(typeof te!="string")return te===0?te:+te;te=te.replace(b,"");var pe=R.test(te);return pe||k.test(te)?M(te.slice(2),pe?2:8):_.test(te)?m:+te}o.exports=function(te,se,pe){var ge=!0,me=!0;if(typeof te!="function")throw new TypeError(p);return Y(pe)&&(ge="leading"in pe?!!pe.leading:ge,me="trailing"in pe?!!pe.trailing:me),(function(Ee,ve,de){var ae,ue,re,oe,Ce,Ae,we=0,Re=!1,Be=!1,We=!0;if(typeof Ee!="function")throw new TypeError(p);function De(mt){var Ut=ae,gt=ue;return ae=ue=void 0,we=mt,oe=Ee.apply(gt,Ut)}function ct(mt){var Ut=mt-Ae;return Ae===void 0||Ut>=ve||Ut<0||Be&&mt-we>=re}function at(){var mt=W();if(ct(mt))return Ct(mt);Ce=setTimeout(at,(function(Ut){var gt=ve-(Ut-Ae);return Be?j(gt,re-(Ut-we)):gt})(mt))}function Ct(mt){return Ce=void 0,We&&ae?De(mt):(ae=ue=void 0,oe)}function It(){var mt=W(),Ut=ct(mt);if(ae=arguments,ue=this,Ae=mt,Ut){if(Ce===void 0)return(function(gt){return we=gt,Ce=setTimeout(at,ve),Re?De(gt):oe})(Ae);if(Be)return Ce=setTimeout(at,ve),De(Ae)}return Ce===void 0&&(Ce=setTimeout(at,ve)),oe}return ve=X(ve)||0,Y(de)&&(Re=!!de.leading,re=(Be="maxWait"in de)?H(X(de.maxWait)||0,ve):re,We="trailing"in de?!!de.trailing:We),It.cancel=function(){Ce!==void 0&&clearTimeout(Ce),we=0,ae=Ae=ue=Ce=void 0},It.flush=function(){return Ce===void 0?oe:Ct(W())},It})(te,se,{leading:ge,maxWait:se,trailing:me})}},703:(o,l,c)=>{var p=c(414);function m(){}function x(){}x.resetWarningCache=m,o.exports=function(){function b(k,M,P,K,$,G){if(G!==p){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}}function _(){return b}b.isRequired=b;var R={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:_,element:b,elementType:b,instanceOf:_,node:b,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:x,resetWarningCache:m};return R.PropTypes=R,R}},697:(o,l,c)=>{o.exports=c(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function r(o){var l=n[o];if(l!==void 0)return l.exports;var c=n[o]={exports:{}};return t[o](c,c.exports,r),c.exports}r.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return r.d(l,{a:l}),l},r.d=(o,l)=>{for(var c in l)r.o(l,c)&&!r.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},r.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),r.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{LazyLoadComponent:()=>Ut,LazyLoadImage:()=>st,trackWindowScroll:()=>oe});const o=requireReact$1();var l=r.n(o),c=r(697);function p(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(Pe){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},m(Pe)}function x(Pe,Fe){var Ye=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Pe);Fe&&(Je=Je.filter((function(bt){return Object.getOwnPropertyDescriptor(Pe,bt).enumerable}))),Ye.push.apply(Ye,Je)}return Ye}function b(Pe,Fe,Ye){return(Fe=R(Fe))in Pe?Object.defineProperty(Pe,Fe,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):Pe[Fe]=Ye,Pe}function _(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,R(Je.key),Je)}}function R(Pe){var Fe=(function(Ye,Je){if(m(Ye)!=="object"||Ye===null)return Ye;var bt=Ye[Symbol.toPrimitive];if(bt!==void 0){var Mt=bt.call(Ye,"string");if(m(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ye)})(Pe);return m(Fe)==="symbol"?Fe:String(Fe)}function k(Pe,Fe){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},k(Pe,Fe)}function M(Pe){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},M(Pe)}var P=function(Pe){Pe.forEach((function(Fe){Fe.isIntersecting&&Fe.target.onVisible()}))},K={},$=(function(Pe){(function(Xe,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ve&&k(Xe,Ve)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,Ve=M(Je);if(bt){var je=M(this).constructor;Xe=Reflect.construct(Ve,arguments,je)}else Xe=Ve.apply(this,arguments);return(function(ut,ot){if(ot&&(m(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St})(ut)})(this,Xe)});function Wt(Xe){var Ve;if((function(ut,ot){if(!(ut instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,Wt),(Ve=Mt.call(this,Xe)).supportsObserver=!Xe.scrollPosition&&Xe.useIntersectionObserver&&p(),Ve.supportsObserver){var je=Xe.threshold;Ve.observer=(function(ut){return K[ut]=K[ut]||new IntersectionObserver(P,{rootMargin:ut+"px"}),K[ut]})(je)}return Ve}return Fe=Wt,Ye=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,Ve=this.placeholder.getBoundingClientRect(),je=this.placeholder.style,ut=parseInt(je.getPropertyValue("margin-left"),10)||0,ot=parseInt(je.getPropertyValue("margin-top"),10)||0;return{bottom:Xe.y+Ve.bottom+ot,left:Xe.x+Ve.left+ut,right:Xe.x+Ve.right+ut,top:Xe.y+Ve.top+ot}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Xe=this.props,Ve=Xe.scrollPosition,je=Xe.threshold,ut=this.getPlaceholderBoundingBox(Ve),ot=Ve.y+window.innerHeight,St=Ve.x,on=Ve.x+window.innerWidth,un=Ve.y;return un-je<=ut.bottom&&ot+je>=ut.top&&St-je<=ut.right&&on+je>=ut.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Xe=this,Ve=this.props,je=Ve.className,ut=Ve.height,ot=Ve.placeholder,St=Ve.style,on=Ve.width;if(ot&&typeof ot.type!="function")return l().cloneElement(ot,{ref:function(dn){return Xe.placeholder=dn}});var un=(function(dn){for(var kt=1;kt<arguments.length;kt++){var mn=arguments[kt]!=null?arguments[kt]:{};kt%2?x(Object(mn),!0).forEach((function(Sn){b(dn,Sn,mn[Sn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(mn)):x(Object(mn)).forEach((function(Sn){Object.defineProperty(dn,Sn,Object.getOwnPropertyDescriptor(mn,Sn))}))}return dn})({display:"inline-block"},St);return on!==void 0&&(un.width=on),ut!==void 0&&(un.height=ut),l().createElement("span",{className:je,ref:function(dn){return Xe.placeholder=dn},style:un},ot)}}],Ye&&_(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);$.propTypes={onVisible:c.PropTypes.func.isRequired,className:c.PropTypes.string,height:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),placeholder:c.PropTypes.element,threshold:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool,scrollPosition:c.PropTypes.shape({x:c.PropTypes.number.isRequired,y:c.PropTypes.number.isRequired}),width:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string])},$.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const G=$;var H=r(296),j=r.n(H),W=r(96),Y=r.n(W),X=function(Pe){var Fe=getComputedStyle(Pe,null);return Fe.getPropertyValue("overflow")+Fe.getPropertyValue("overflow-y")+Fe.getPropertyValue("overflow-x")};const te=function(Pe){if(!(Pe instanceof HTMLElement))return window;for(var Fe=Pe;Fe&&Fe instanceof HTMLElement;){if(/(scroll|auto)/.test(X(Fe)))return Fe;Fe=Fe.parentNode}return window};function se(Pe){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},se(Pe)}var pe=["delayMethod","delayTime"];function ge(){return ge=Object.assign?Object.assign.bind():function(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe];for(var Je in Ye)Object.prototype.hasOwnProperty.call(Ye,Je)&&(Pe[Je]=Ye[Je])}return Pe},ge.apply(this,arguments)}function me(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(se(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var Ve=Xe.call(Mt,"string");if(se(Ve)!=="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),se(bt)==="symbol"?bt:String(bt)),Je)}var bt}function Ee(Pe,Fe){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},Ee(Pe,Fe)}function ve(Pe,Fe){if(Fe&&(se(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(Pe)}function de(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function ae(Pe){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},ae(Pe)}var ue=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},re=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const oe=function(Pe){var Fe=(function(Ye){(function(je,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(ut&&ut.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),ut&&Ee(je,ut)})(Ve,Ye);var Je,bt,Mt,Wt,Xe=(Mt=Ve,Wt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var je,ut=ae(Mt);if(Wt){var ot=ae(this).constructor;je=Reflect.construct(ut,arguments,ot)}else je=ut.apply(this,arguments);return ve(this,je)});function Ve(je){var ut;if((function(St,on){if(!(St instanceof on))throw new TypeError("Cannot call a class as a function")})(this,Ve),(ut=Xe.call(this,je)).useIntersectionObserver=je.useIntersectionObserver&&p(),ut.useIntersectionObserver)return ve(ut);var ot=ut.onChangeScroll.bind(de(ut));return je.delayMethod==="debounce"?ut.delayedScroll=j()(ot,je.delayTime):je.delayMethod==="throttle"&&(ut.delayedScroll=Y()(ot,je.delayTime)),ut.state={scrollPosition:{x:ue(),y:re()}},ut.baseComponentRef=l().createRef(),ut}return Je=Ve,(bt=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||te(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=te(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ue(),y:re()}})}},{key:"render",value:function(){var je=this.props,ut=(je.delayMethod,je.delayTime,(function(St,on){if(St==null)return{};var un,dn,kt=(function(Sn,Sr){if(Sn==null)return{};var Nn,Tr,Dn={},Br=Object.keys(Sn);for(Tr=0;Tr<Br.length;Tr++)Nn=Br[Tr],Sr.indexOf(Nn)>=0||(Dn[Nn]=Sn[Nn]);return Dn})(St,on);if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(St);for(dn=0;dn<mn.length;dn++)un=mn[dn],on.indexOf(un)>=0||Object.prototype.propertyIsEnumerable.call(St,un)&&(kt[un]=St[un])}return kt})(je,pe)),ot=this.useIntersectionObserver?null:this.state.scrollPosition;return l().createElement(Pe,ge({forwardRef:this.baseComponentRef,scrollPosition:ot},ut))}}])&&me(Je.prototype,bt),Object.defineProperty(Je,"prototype",{writable:!1}),Ve})(l().Component);return Fe.propTypes={delayMethod:c.PropTypes.oneOf(["debounce","throttle"]),delayTime:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool},Fe.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},Fe};function Ce(Pe){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},Ce(Pe)}function Ae(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(Ce(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var Ve=Xe.call(Mt,"string");if(Ce(Ve)!=="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),Ce(bt)==="symbol"?bt:String(bt)),Je)}var bt}function we(Pe,Fe){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},we(Pe,Fe)}function Re(Pe){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},Re(Pe)}var Be=(function(Pe){(function(Xe,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ve&&we(Xe,Ve)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,Ve=Re(Je);if(bt){var je=Re(this).constructor;Xe=Reflect.construct(Ve,arguments,je)}else Xe=Ve.apply(this,arguments);return(function(ut,ot){if(ot&&(Ce(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St})(ut)})(this,Xe)});function Wt(Xe){return(function(Ve,je){if(!(Ve instanceof je))throw new TypeError("Cannot call a class as a function")})(this,Wt),Mt.call(this,Xe)}return Fe=Wt,(Ye=[{key:"render",value:function(){return l().createElement(G,this.props)}}])&&Ae(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);const We=oe(Be);function De(Pe){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},De(Pe)}function ct(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,(bt=(function(Mt,Wt){if(De(Mt)!=="object"||Mt===null)return Mt;var Xe=Mt[Symbol.toPrimitive];if(Xe!==void 0){var Ve=Xe.call(Mt,"string");if(De(Ve)!=="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Je.key),De(bt)==="symbol"?bt:String(bt)),Je)}var bt}function at(Pe,Fe){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},at(Pe,Fe)}function Ct(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function It(Pe){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},It(Pe)}var mt=(function(Pe){(function(Xe,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ve&&at(Xe,Ve)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,Ve=It(Je);if(bt){var je=It(this).constructor;Xe=Reflect.construct(Ve,arguments,je)}else Xe=Ve.apply(this,arguments);return(function(ut,ot){if(ot&&(De(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ct(ut)})(this,Xe)});function Wt(Xe){var Ve;(function(on,un){if(!(on instanceof un))throw new TypeError("Cannot call a class as a function")})(this,Wt),Ve=Mt.call(this,Xe);var je=Xe.afterLoad,ut=Xe.beforeLoad,ot=Xe.scrollPosition,St=Xe.visibleByDefault;return Ve.state={visible:St},St&&(ut(),je()),Ve.onVisible=Ve.onVisible.bind(Ct(Ve)),Ve.isScrollTracked=!!(ot&&Number.isFinite(ot.x)&&ot.x>=0&&Number.isFinite(ot.y)&&ot.y>=0),Ve}return Fe=Wt,(Ye=[{key:"componentDidUpdate",value:function(Xe,Ve){Ve.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Xe=this.props,Ve=Xe.className,je=Xe.delayMethod,ut=Xe.delayTime,ot=Xe.height,St=Xe.placeholder,on=Xe.scrollPosition,un=Xe.style,dn=Xe.threshold,kt=Xe.useIntersectionObserver,mn=Xe.width;return this.isScrollTracked||kt&&p()?l().createElement(G,{className:Ve,height:ot,onVisible:this.onVisible,placeholder:St,scrollPosition:on,style:un,threshold:dn,useIntersectionObserver:kt,width:mn}):l().createElement(We,{className:Ve,delayMethod:je,delayTime:ut,height:ot,onVisible:this.onVisible,placeholder:St,style:un,threshold:dn,width:mn})}}])&&ct(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);mt.propTypes={afterLoad:c.PropTypes.func,beforeLoad:c.PropTypes.func,useIntersectionObserver:c.PropTypes.bool,visibleByDefault:c.PropTypes.bool},mt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ut=mt;function gt(Pe){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},gt(Pe)}var xt=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function an(Pe,Fe){var Ye=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(Pe);Fe&&(Je=Je.filter((function(bt){return Object.getOwnPropertyDescriptor(Pe,bt).enumerable}))),Ye.push.apply(Ye,Je)}return Ye}function Un(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?an(Object(Ye),!0).forEach((function(Je){Zt(Pe,Je,Ye[Je])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Ye)):an(Object(Ye)).forEach((function(Je){Object.defineProperty(Pe,Je,Object.getOwnPropertyDescriptor(Ye,Je))}))}return Pe}function Zt(Pe,Fe,Ye){return(Fe=In(Fe))in Pe?Object.defineProperty(Pe,Fe,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):Pe[Fe]=Ye,Pe}function $t(){return $t=Object.assign?Object.assign.bind():function(Pe){for(var Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe];for(var Je in Ye)Object.prototype.hasOwnProperty.call(Ye,Je)&&(Pe[Je]=Ye[Je])}return Pe},$t.apply(this,arguments)}function Ot(Pe,Fe){for(var Ye=0;Ye<Fe.length;Ye++){var Je=Fe[Ye];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(Pe,In(Je.key),Je)}}function In(Pe){var Fe=(function(Ye,Je){if(gt(Ye)!=="object"||Ye===null)return Ye;var bt=Ye[Symbol.toPrimitive];if(bt!==void 0){var Mt=bt.call(Ye,"string");if(gt(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ye)})(Pe);return gt(Fe)==="symbol"?Fe:String(Fe)}function pt(Pe,Fe){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Je){return Ye.__proto__=Je,Ye},pt(Pe,Fe)}function Kn(Pe){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},Kn(Pe)}var On=(function(Pe){(function(Xe,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ve&&pt(Xe,Ve)})(Wt,Pe);var Fe,Ye,Je,bt,Mt=(Je=Wt,bt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Xe,Ve=Kn(Je);if(bt){var je=Kn(this).constructor;Xe=Reflect.construct(Ve,arguments,je)}else Xe=Ve.apply(this,arguments);return(function(ut,ot){if(ot&&(gt(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St})(ut)})(this,Xe)});function Wt(Xe){var Ve;return(function(je,ut){if(!(je instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,Wt),(Ve=Mt.call(this,Xe)).state={loaded:!1},Ve}return Fe=Wt,(Ye=[{key:"onImageLoad",value:function(){var Xe=this;return this.state.loaded?null:function(Ve){Xe.props.onLoad(Ve),Xe.props.afterLoad(),Xe.setState({loaded:!0})}}},{key:"getImg",value:function(){var Xe=this.props,Ve=(Xe.afterLoad,Xe.beforeLoad,Xe.delayMethod,Xe.delayTime,Xe.effect,Xe.placeholder,Xe.placeholderSrc,Xe.scrollPosition,Xe.threshold,Xe.useIntersectionObserver,Xe.visibleByDefault,Xe.wrapperClassName,Xe.wrapperProps,(function(je,ut){if(je==null)return{};var ot,St,on=(function(dn,kt){if(dn==null)return{};var mn,Sn,Sr={},Nn=Object.keys(dn);for(Sn=0;Sn<Nn.length;Sn++)mn=Nn[Sn],kt.indexOf(mn)>=0||(Sr[mn]=dn[mn]);return Sr})(je,ut);if(Object.getOwnPropertySymbols){var un=Object.getOwnPropertySymbols(je);for(St=0;St<un.length;St++)ot=un[St],ut.indexOf(ot)>=0||Object.prototype.propertyIsEnumerable.call(je,ot)&&(on[ot]=je[ot])}return on})(Xe,xt));return l().createElement("img",$t({},Ve,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Xe=this.props,Ve=Xe.beforeLoad,je=Xe.className,ut=Xe.delayMethod,ot=Xe.delayTime,St=Xe.height,on=Xe.placeholder,un=Xe.scrollPosition,dn=Xe.style,kt=Xe.threshold,mn=Xe.useIntersectionObserver,Sn=Xe.visibleByDefault,Sr=Xe.width;return l().createElement(Ut,{beforeLoad:Ve,className:je,delayMethod:ut,delayTime:ot,height:St,placeholder:on,scrollPosition:un,style:dn,threshold:kt,useIntersectionObserver:mn,visibleByDefault:Sn,width:Sr},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Xe){var Ve=this.props,je=Ve.effect,ut=Ve.height,ot=Ve.placeholderSrc,St=Ve.width,on=Ve.wrapperClassName,un=Ve.wrapperProps,dn=this.state.loaded,kt=dn?" lazy-load-image-loaded":"",mn=dn||!ot?{}:{backgroundImage:"url(".concat(ot,")"),backgroundSize:"100% 100%"};return l().createElement("span",$t({className:on+" lazy-load-image-background "+je+kt,style:Un(Un({},mn),{},{color:"transparent",display:"inline-block",height:ut,width:St})},un),Xe)}},{key:"render",value:function(){var Xe=this.props,Ve=Xe.effect,je=Xe.placeholderSrc,ut=Xe.visibleByDefault,ot=Xe.wrapperClassName,St=Xe.wrapperProps,on=this.getLazyLoadImage();return(Ve||je)&&!ut||ot||St?this.getWrappedLazyLoadImage(on):on}}])&&Ot(Fe.prototype,Ye),Object.defineProperty(Fe,"prototype",{writable:!1}),Wt})(l().Component);On.propTypes={onLoad:c.PropTypes.func,afterLoad:c.PropTypes.func,beforeLoad:c.PropTypes.func,delayMethod:c.PropTypes.string,delayTime:c.PropTypes.number,effect:c.PropTypes.string,placeholderSrc:c.PropTypes.string,threshold:c.PropTypes.number,useIntersectionObserver:c.PropTypes.bool,visibleByDefault:c.PropTypes.bool,wrapperClassName:c.PropTypes.string,wrapperProps:c.PropTypes.object},On.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const st=On})(),build.exports=s})()),build.exports}var buildExports=requireBuild();const FALLBACK_IMAGE="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 400 400'%3E%3Crect width='400' height='400' fill='%23f3f4f6'/%3E%3Cpath d='M140 240 L180 200 L210 230 L250 190 L320 260 H80 Z' fill='%23d1d5db'/%3E%3Ccircle cx='140' cy='140' r='30' fill='%23d1d5db'/%3E%3C/svg%3E",BASE_URL$2="https://artly.soundgram.co.kr";function Img({src:t,alt:n,className:r,style:s,...o}){const[l,c]=reactExports$1.useState(FALLBACK_IMAGE);reactExports$1.useEffect(()=>{if(!t){c(FALLBACK_IMAGE);return}if(t.startsWith("http")||t.startsWith("data:")||t.startsWith("blob:"))c(t);else{const m=t.startsWith("/")?t:`/${t}`;c(`${BASE_URL$2}${m}`)}},[t]);const p=m=>{m.target.src!==FALLBACK_IMAGE&&(m.target.src=FALLBACK_IMAGE)};return jsxRuntimeExports.jsx(buildExports.LazyLoadImage,{src:l,alt:n,className:r,onError:p,style:{objectFit:"cover"},...o})}function MainCarousel(){const[t,n]=reactExports$1.useState(0),[r,s]=reactExports$1.useState([]),o=reactExports$1.useRef(null),l=useNavigate();reactExports$1.useEffect(()=>(c(),()=>clearTimeout(o.current)),[t,r]);const c=()=>{clearTimeout(o.current),!(!r||r.length<=1)&&(o.current=setTimeout(()=>{n(b=>(b+1)%r.length)},5e3))},p=()=>{n(b=>(b-1+r.length)%r.length)},m=()=>{n(b=>(b+1)%r.length)},x=b=>n(b);return reactExports$1.useEffect(()=>{(async()=>{try{const R=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:k,exhibition_poster:M,exhibition_title:P,exhibition_category:K,exhibition_status:$,exhibition_start_date:G,exhibition_end_date:H,exhibition_organization:j})=>({id:k,image:M,title:P,category:K,status:$,startDate:G,endDate:H,organization:j}));s(R)}catch(_){console.error("     :",_)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1D.carouselContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$1D.arrowButton} ${styles$1D.left}`,onClick:p,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1D.sliderWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$1D.slider,style:{transform:`translateX(-${t*100}%)`},children:r.map(b=>jsxRuntimeExports.jsxs("div",{className:styles$1D.carouselItem,children:[jsxRuntimeExports.jsx(Img,{src:b==null?void 0:b.image,alt:(b==null?void 0:b.title)||(b==null?void 0:b.name),className:styles$1D.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1D.captionBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$1D.title,children:b==null?void 0:b.title}),jsxRuntimeExports.jsxs("p",{className:styles$1D.location,children:[b==null?void 0:b.organization.name,jsxRuntimeExports.jsx("br",{}),(b==null?void 0:b.period)||`${b==null?void 0:b.startDate} ~ ${b==null?void 0:b.endDate}`]}),jsxRuntimeExports.jsx("button",{className:styles$1D.detailButton,onClick:()=>{l(`/exhibitions/${b==null?void 0:b.id}`)},children:" "})]})]},b==null?void 0:b.id))})}),jsxRuntimeExports.jsx("button",{className:`${styles$1D.arrowButton} ${styles$1D.right}`,onClick:m,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1D.dots,children:r.map((b,_)=>jsxRuntimeExports.jsx("button",{onClick:()=>x(_),className:`${styles$1D.dot} ${_===t?styles$1D.active:""}`},b==null?void 0:b.id))})]})}function isObject$4(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function extend$2(t={},n={}){const r=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>r.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=n[s]:isObject$4(n[s])&&isObject$4(t[s])&&Object.keys(n[s]).length>0&&extend$2(t[s],n[s])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const t=typeof document<"u"?document:{};return extend$2(t,ssrDocument),t}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function getWindow(){const t=typeof window<"u"?window:{};return extend$2(t,ssrWindow),t}function classesToTokens(t=""){return t.trim().split(" ").filter(n=>!!n.trim())}function deleteProps$1(t){const n=t;Object.keys(n).forEach(r=>{try{n[r]=null}catch{}try{delete n[r]}catch{}})}function nextTick(t,n=0){return setTimeout(t,n)}function now(){return Date.now()}function getComputedStyle$1(t){const n=getWindow();let r;return n.getComputedStyle&&(r=n.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function getTranslate(t,n="x"){const r=getWindow();let s,o,l;const c=getComputedStyle$1(t);return r.WebKitCSSMatrix?(o=c.transform||c.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(p=>p.replace(",",".")).join(", ")),l=new r.WebKitCSSMatrix(o==="none"?"":o)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=l.toString().split(",")),n==="x"&&(r.WebKitCSSMatrix?o=l.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),n==="y"&&(r.WebKitCSSMatrix?o=l.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function isObject$3(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function isNode(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function extend$1(...t){const n=Object(t[0]),r=["__proto__","constructor","prototype"];for(let s=1;s<t.length;s+=1){const o=t[s];if(o!=null&&!isNode(o)){const l=Object.keys(Object(o)).filter(c=>r.indexOf(c)<0);for(let c=0,p=l.length;c<p;c+=1){const m=l[c],x=Object.getOwnPropertyDescriptor(o,m);x!==void 0&&x.enumerable&&(isObject$3(n[m])&&isObject$3(o[m])?o[m].__swiper__?n[m]=o[m]:extend$1(n[m],o[m]):!isObject$3(n[m])&&isObject$3(o[m])?(n[m]={},o[m].__swiper__?n[m]=o[m]:extend$1(n[m],o[m])):n[m]=o[m])}}}return n}function setCSSProperty(t,n,r){t.style.setProperty(n,r)}function animateCSSModeScroll({swiper:t,targetPosition:n,side:r}){const s=getWindow(),o=-t.translate;let l=null,c;const p=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const m=n>o?"next":"prev",x=(_,R)=>m==="next"&&_>=R||m==="prev"&&_<=R,b=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/p,1),0),R=.5-Math.cos(_*Math.PI)/2;let k=o+R*(n-o);if(x(k,n)&&(k=n),t.wrapperEl.scrollTo({[r]:k}),x(k,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:k})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(b)};b()}function elementChildren(t,n=""){const r=getWindow(),s=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),n?s.filter(o=>o.matches(n)):s}function elementIsChildOfSlot(t,n){const r=[n];for(;r.length>0;){const s=r.shift();if(t===s)return!0;r.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function elementIsChildOf(t,n){const r=getWindow();let s=n.contains(t);return!s&&r.HTMLSlotElement&&n instanceof HTMLSlotElement&&(s=[...n.assignedElements()].includes(t),s||(s=elementIsChildOfSlot(t,n))),s}function showWarning(t){try{console.warn(t);return}catch{}}function createElement(t,n=[]){const r=document.createElement(t);return r.classList.add(...Array.isArray(n)?n:classesToTokens(n)),r}function elementPrevAll(t,n){const r=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;n?s.matches(n)&&r.push(s):r.push(s),t=s}return r}function elementNextAll(t,n){const r=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;n?s.matches(n)&&r.push(s):r.push(s),t=s}return r}function elementStyle(t,n){return getWindow().getComputedStyle(t,null).getPropertyValue(n)}function elementIndex(t){let n=t,r;if(n){for(r=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(r+=1);return r}}function elementParents(t,n){const r=[];let s=t.parentElement;for(;s;)r.push(s),s=s.parentElement;return r}function elementOuterSize(t,n,r){const s=getWindow();return t[n==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(t){return(Array.isArray(t)?t:[t]).filter(n=>!!n)}function setInnerHTML(t,n=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(n):t.innerHTML=n}let support;function calcSupport(){const t=getWindow(),n=getDocument();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:t}={}){const n=getSupport(),r=getWindow(),s=r.navigator.platform,o=t||r.navigator.userAgent,l={ios:!1,android:!1},c=r.screen.width,p=r.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let x=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!x&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),R=s==="Win32";let k=s==="MacIntel";const M=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!x&&k&&n.touch&&M.indexOf(`${c}x${p}`)>=0&&(x=o.match(/(Version)\/([\d.]+)/),x||(x=[0,1,"13_0_0"]),k=!1),m&&!R&&(l.os="android",l.android=!0),(x||_||b)&&(l.os="ios",l.ios=!0),l}function getDevice(t={}){return deviceCached||(deviceCached=calcDevice(t)),deviceCached}let browser$1;function calcBrowser(){const t=getWindow(),n=getDevice();let r=!1;function s(){const p=t.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(s()){const p=String(t.navigator.userAgent);if(p.includes("Version/")){const[m,x]=p.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));r=m<16||m===16&&x<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),l=s(),c=l||o&&n.ios;return{isSafari:r||l,needPerspectiveFix:r,need3dFix:c,isWebView:o}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize({swiper:t,on:n,emit:r}){const s=getWindow();let o=null,l=null;const c=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},p=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(b=>{l=s.requestAnimationFrame(()=>{const{width:_,height:R}=t;let k=_,M=R;b.forEach(({contentBoxSize:P,contentRect:K,target:$})=>{$&&$!==t.el||(k=K?K.width:(P[0]||P).inlineSize,M=K?K.height:(P[0]||P).blockSize)}),(k!==_||M!==R)&&c()})}),o.observe(t.el))},m=()=>{l&&s.cancelAnimationFrame(l),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},x=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){p();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",x)}),n("destroy",()=>{m(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",x)})}function Observer({swiper:t,extendParams:n,on:r,emit:s}){const o=[],l=getWindow(),c=(x,b={})=>{const _=l.MutationObserver||l.WebkitMutationObserver,R=new _(k=>{if(t.__preventObserver__)return;if(k.length===1){s("observerUpdate",k[0]);return}const M=function(){s("observerUpdate",k[0])};l.requestAnimationFrame?l.requestAnimationFrame(M):l.setTimeout(M,0)});R.observe(x,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:t.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(R)},p=()=>{if(t.params.observer){if(t.params.observeParents){const x=elementParents(t.hostEl);for(let b=0;b<x.length;b+=1)c(x[b])}c(t.hostEl,{childList:t.params.observeSlideChildren}),c(t.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(x=>{x.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",p),r("destroy",m)}var eventsEmitter={on(t,n,r){const s=this;if(!s.eventsListeners||s.destroyed||typeof n!="function")return s;const o=r?"unshift":"push";return t.split(" ").forEach(l=>{s.eventsListeners[l]||(s.eventsListeners[l]=[]),s.eventsListeners[l][o](n)}),s},once(t,n,r){const s=this;if(!s.eventsListeners||s.destroyed||typeof n!="function")return s;function o(...l){s.off(t,o),o.__emitterProxy&&delete o.__emitterProxy,n.apply(s,l)}return o.__emitterProxy=n,s.on(t,o,r)},onAny(t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const s=n?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[s](t),r},offAny(t){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;const r=n.eventsAnyListeners.indexOf(t);return r>=0&&n.eventsAnyListeners.splice(r,1),n},off(t,n){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(s=>{typeof n>"u"?r.eventsListeners[s]=[]:r.eventsListeners[s]&&r.eventsListeners[s].forEach((o,l)=>{(o===n||o.__emitterProxy&&o.__emitterProxy===n)&&r.eventsListeners[s].splice(l,1)})}),r},emit(...t){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let r,s,o;return typeof t[0]=="string"||Array.isArray(t[0])?(r=t[0],s=t.slice(1,t.length),o=n):(r=t[0].events,s=t[0].data,o=t[0].context||n),s.unshift(o),(Array.isArray(r)?r:r.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(o,[c,...s])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(p=>{p.apply(o,s)})}),n}};function updateSize(){const t=this;let n,r;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?n=t.params.width:n=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=s.clientHeight,!(n===0&&t.isHorizontal()||r===0&&t.isVertical())&&(n=n-parseInt(elementStyle(s,"padding-left")||0,10)-parseInt(elementStyle(s,"padding-right")||0,10),r=r-parseInt(elementStyle(s,"padding-top")||0,10)-parseInt(elementStyle(s,"padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:n,height:r,size:t.isHorizontal()?n:r}))}function updateSlides(){const t=this;function n(pe,ge){return parseFloat(pe.getPropertyValue(t.getDirectionLabel(ge))||0)}const r=t.params,{wrapperEl:s,slidesEl:o,rtlTranslate:l,wrongRTL:c}=t,p=t.virtual&&r.virtual.enabled,m=p?t.virtual.slides.length:t.slides.length,x=elementChildren(o,`.${t.params.slideClass}, swiper-slide`),b=p?t.virtual.slides.length:x.length;let _=[];const R=[],k=[];let M=r.slidesOffsetBefore;typeof M=="function"&&(M=r.slidesOffsetBefore.call(t));let P=r.slidesOffsetAfter;typeof P=="function"&&(P=r.slidesOffsetAfter.call(t));const K=t.snapGrid.length,$=t.slidesGrid.length,G=t.size-M-P;let H=r.spaceBetween,j=-M,W=0,Y=0;if(typeof G>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*G:typeof H=="string"&&(H=parseFloat(H)),t.virtualSize=-H-M-P,x.forEach(pe=>{l?pe.style.marginLeft="":pe.style.marginRight="",pe.style.marginBottom="",pe.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(setCSSProperty(s,"--swiper-centered-offset-before",""),setCSSProperty(s,"--swiper-centered-offset-after",""));const X=r.grid&&r.grid.rows>1&&t.grid;X?t.grid.initSlides(x):t.grid&&t.grid.unsetSlides();let te;const se=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(pe=>typeof r.breakpoints[pe].slidesPerView<"u").length>0;for(let pe=0;pe<b;pe+=1){te=0;const ge=x[pe];if(!(ge&&(X&&t.grid.updateSlide(pe,ge,x),elementStyle(ge,"display")==="none"))){if(p&&r.slidesPerView==="auto")r.virtual.slidesPerViewAutoSlideSize&&(te=r.virtual.slidesPerViewAutoSlideSize),te&&ge&&(r.roundLengths&&(te=Math.floor(te)),ge.style[t.getDirectionLabel("width")]=`${te}px`);else if(r.slidesPerView==="auto"){se&&(ge.style[t.getDirectionLabel("width")]="");const me=getComputedStyle(ge),Ee=ge.style.transform,ve=ge.style.webkitTransform;if(Ee&&(ge.style.transform="none"),ve&&(ge.style.webkitTransform="none"),r.roundLengths)te=t.isHorizontal()?elementOuterSize(ge,"width"):elementOuterSize(ge,"height");else{const de=n(me,"width"),ae=n(me,"padding-left"),ue=n(me,"padding-right"),re=n(me,"margin-left"),oe=n(me,"margin-right"),Ce=me.getPropertyValue("box-sizing");if(Ce&&Ce==="border-box")te=de+re+oe;else{const{clientWidth:Ae,offsetWidth:we}=ge;te=de+ae+ue+re+oe+(we-Ae)}}Ee&&(ge.style.transform=Ee),ve&&(ge.style.webkitTransform=ve),r.roundLengths&&(te=Math.floor(te))}else te=(G-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&(te=Math.floor(te)),ge&&(ge.style[t.getDirectionLabel("width")]=`${te}px`);ge&&(ge.swiperSlideSize=te),k.push(te),r.centeredSlides?(j=j+te/2+W/2+H,W===0&&pe!==0&&(j=j-G/2-H),pe===0&&(j=j-G/2-H),Math.abs(j)<1/1e3&&(j=0),r.roundLengths&&(j=Math.floor(j)),Y%r.slidesPerGroup===0&&_.push(j),R.push(j)):(r.roundLengths&&(j=Math.floor(j)),(Y-Math.min(t.params.slidesPerGroupSkip,Y))%t.params.slidesPerGroup===0&&_.push(j),R.push(j),j=j+te+H),t.virtualSize+=te+H,W=te,Y+=1}}if(t.virtualSize=Math.max(t.virtualSize,G)+P,l&&c&&(r.effect==="slide"||r.effect==="coverflow")&&(s.style.width=`${t.virtualSize+H}px`),r.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+H}px`),X&&t.grid.updateWrapperSize(te,_),!r.centeredSlides){const pe=[];for(let ge=0;ge<_.length;ge+=1){let me=_[ge];r.roundLengths&&(me=Math.floor(me)),_[ge]<=t.virtualSize-G&&pe.push(me)}_=pe,Math.floor(t.virtualSize-G)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-G)}if(p&&r.loop){const pe=k[0]+H;if(r.slidesPerGroup>1){const ge=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),me=pe*r.slidesPerGroup;for(let Ee=0;Ee<ge;Ee+=1)_.push(_[_.length-1]+me)}for(let ge=0;ge<t.virtual.slidesBefore+t.virtual.slidesAfter;ge+=1)r.slidesPerGroup===1&&_.push(_[_.length-1]+pe),R.push(R[R.length-1]+pe),t.virtualSize+=pe}if(_.length===0&&(_=[0]),H!==0){const pe=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");x.filter((ge,me)=>!r.cssMode||r.loop?!0:me!==x.length-1).forEach(ge=>{ge.style[pe]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let pe=0;k.forEach(me=>{pe+=me+(H||0)}),pe-=H;const ge=pe>G?pe-G:0;_=_.map(me=>me<=0?-M:me>ge?ge+P:me)}if(r.centerInsufficientSlides){let pe=0;k.forEach(me=>{pe+=me+(H||0)}),pe-=H;const ge=(M||0)+(P||0);if(pe+ge<G){const me=(G-pe-ge)/2;_.forEach((Ee,ve)=>{_[ve]=Ee-me}),R.forEach((Ee,ve)=>{R[ve]=Ee+me})}}if(Object.assign(t,{slides:x,snapGrid:_,slidesGrid:R,slidesSizesGrid:k}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){setCSSProperty(s,"--swiper-centered-offset-before",`${-_[0]}px`),setCSSProperty(s,"--swiper-centered-offset-after",`${t.size/2-k[k.length-1]/2}px`);const pe=-t.snapGrid[0],ge=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(me=>me+pe),t.slidesGrid=t.slidesGrid.map(me=>me+ge)}if(b!==m&&t.emit("slidesLengthChange"),_.length!==K&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),R.length!==$&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!p&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const pe=`${r.containerModifierClass}backface-hidden`,ge=t.el.classList.contains(pe);b<=r.maxBackfaceHiddenSlides?ge||t.el.classList.add(pe):ge&&t.el.classList.remove(pe)}}function updateAutoHeight(t){const n=this,r=[],s=n.virtual&&n.params.virtual.enabled;let o=0,l;typeof t=="number"?n.setTransition(t):t===!0&&n.setTransition(n.params.speed);const c=p=>s?n.slides[n.getSlideIndexByData(p)]:n.slides[p];if(n.params.slidesPerView!=="auto"&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach(p=>{r.push(p)});else for(l=0;l<Math.ceil(n.params.slidesPerView);l+=1){const p=n.activeIndex+l;if(p>n.slides.length&&!s)break;r.push(c(p))}else r.push(c(n.activeIndex));for(l=0;l<r.length;l+=1)if(typeof r[l]<"u"){const p=r[l].offsetHeight;o=p>o?p:o}(o||o===0)&&(n.wrapperEl.style.height=`${o}px`)}function updateSlidesOffset(){const t=this,n=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<n.length;s+=1)n[s].swiperSlideOffset=(t.isHorizontal()?n[s].offsetLeft:n[s].offsetTop)-r-t.cssOverflowAdjustment()}const toggleSlideClasses$1=(t,n,r)=>{n&&!t.classList.contains(r)?t.classList.add(r):!n&&t.classList.contains(r)&&t.classList.remove(r)};function updateSlidesProgress(t=this&&this.translate||0){const n=this,r=n.params,{slides:s,rtlTranslate:o,snapGrid:l}=n;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let c=-t;o&&(c=t),n.visibleSlidesIndexes=[],n.visibleSlides=[];let p=r.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*n.size:typeof p=="string"&&(p=parseFloat(p));for(let m=0;m<s.length;m+=1){const x=s[m];let b=x.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(b-=s[0].swiperSlideOffset);const _=(c+(r.centeredSlides?n.minTranslate():0)-b)/(x.swiperSlideSize+p),R=(c-l[0]+(r.centeredSlides?n.minTranslate():0)-b)/(x.swiperSlideSize+p),k=-(c-b),M=k+n.slidesSizesGrid[m],P=k>=0&&k<=n.size-n.slidesSizesGrid[m],K=k>=0&&k<n.size-1||M>1&&M<=n.size||k<=0&&M>=n.size;K&&(n.visibleSlides.push(x),n.visibleSlidesIndexes.push(m)),toggleSlideClasses$1(x,K,r.slideVisibleClass),toggleSlideClasses$1(x,P,r.slideFullyVisibleClass),x.progress=o?-_:_,x.originalProgress=o?-R:R}}function updateProgress(t){const n=this;if(typeof t>"u"){const b=n.rtlTranslate?-1:1;t=n&&n.translate&&n.translate*b||0}const r=n.params,s=n.maxTranslate()-n.minTranslate();let{progress:o,isBeginning:l,isEnd:c,progressLoop:p}=n;const m=l,x=c;if(s===0)o=0,l=!0,c=!0;else{o=(t-n.minTranslate())/s;const b=Math.abs(t-n.minTranslate())<1,_=Math.abs(t-n.maxTranslate())<1;l=b||o<=0,c=_||o>=1,b&&(o=0),_&&(o=1)}if(r.loop){const b=n.getSlideIndexByData(0),_=n.getSlideIndexByData(n.slides.length-1),R=n.slidesGrid[b],k=n.slidesGrid[_],M=n.slidesGrid[n.slidesGrid.length-1],P=Math.abs(t);P>=R?p=(P-R)/M:p=(P+M-k)/M,p>1&&(p-=1)}Object.assign(n,{progress:o,progressLoop:p,isBeginning:l,isEnd:c}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&n.updateSlidesProgress(t),l&&!m&&n.emit("reachBeginning toEdge"),c&&!x&&n.emit("reachEnd toEdge"),(m&&!l||x&&!c)&&n.emit("fromEdge"),n.emit("progress",o)}const toggleSlideClasses=(t,n,r)=>{n&&!t.classList.contains(r)?t.classList.add(r):!n&&t.classList.contains(r)&&t.classList.remove(r)};function updateSlidesClasses(){const t=this,{slides:n,params:r,slidesEl:s,activeIndex:o}=t,l=t.virtual&&r.virtual.enabled,c=t.grid&&r.grid&&r.grid.rows>1,p=_=>elementChildren(s,`.${r.slideClass}${_}, swiper-slide${_}`)[0];let m,x,b;if(l)if(r.loop){let _=o-t.virtual.slidesBefore;_<0&&(_=t.virtual.slides.length+_),_>=t.virtual.slides.length&&(_-=t.virtual.slides.length),m=p(`[data-swiper-slide-index="${_}"]`)}else m=p(`[data-swiper-slide-index="${o}"]`);else c?(m=n.find(_=>_.column===o),b=n.find(_=>_.column===o+1),x=n.find(_=>_.column===o-1)):m=n[o];m&&(c||(b=elementNextAll(m,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!b&&(b=n[0]),x=elementPrevAll(m,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!x===0&&(x=n[n.length-1]))),n.forEach(_=>{toggleSlideClasses(_,_===m,r.slideActiveClass),toggleSlideClasses(_,_===b,r.slideNextClass),toggleSlideClasses(_,_===x,r.slidePrevClass)}),t.emitSlidesClasses()}const processLazyPreloader=(t,n)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=n.closest(r());if(s){let o=s.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},unlazy=(t,n)=>{if(!t.slides[n])return;const r=t.slides[n].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},preload=t=>{if(!t||t.destroyed||!t.params)return;let n=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!n||n<0)return;n=Math.min(n,r);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const c=o,p=[c-n];p.push(...Array.from({length:n}).map((m,x)=>c+s+x)),t.slides.forEach((m,x)=>{p.includes(m.column)&&unlazy(t,x)});return}const l=o+s-1;if(t.params.rewind||t.params.loop)for(let c=o-n;c<=l+n;c+=1){const p=(c%r+r)%r;(p<o||p>l)&&unlazy(t,p)}else for(let c=Math.max(o-n,0);c<=Math.min(l+n,r-1);c+=1)c!==o&&(c>l||c<o)&&unlazy(t,c)};function getActiveIndexByTranslate(t){const{slidesGrid:n,params:r}=t,s=t.rtlTranslate?t.translate:-t.translate;let o;for(let l=0;l<n.length;l+=1)typeof n[l+1]<"u"?s>=n[l]&&s<n[l+1]-(n[l+1]-n[l])/2?o=l:s>=n[l]&&s<n[l+1]&&(o=l+1):s>=n[l]&&(o=l);return r.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function updateActiveIndex(t){const n=this,r=n.rtlTranslate?n.translate:-n.translate,{snapGrid:s,params:o,activeIndex:l,realIndex:c,snapIndex:p}=n;let m=t,x;const b=k=>{let M=k-n.virtual.slidesBefore;return M<0&&(M=n.virtual.slides.length+M),M>=n.virtual.slides.length&&(M-=n.virtual.slides.length),M};if(typeof m>"u"&&(m=getActiveIndexByTranslate(n)),s.indexOf(r)>=0)x=s.indexOf(r);else{const k=Math.min(o.slidesPerGroupSkip,m);x=k+Math.floor((m-k)/o.slidesPerGroup)}if(x>=s.length&&(x=s.length-1),m===l&&!n.params.loop){x!==p&&(n.snapIndex=x,n.emit("snapIndexChange"));return}if(m===l&&n.params.loop&&n.virtual&&n.params.virtual.enabled){n.realIndex=b(m);return}const _=n.grid&&o.grid&&o.grid.rows>1;let R;if(n.virtual&&o.virtual.enabled&&o.loop)R=b(m);else if(_){const k=n.slides.find(P=>P.column===m);let M=parseInt(k.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(n.slides.indexOf(k),0)),R=Math.floor(M/o.grid.rows)}else if(n.slides[m]){const k=n.slides[m].getAttribute("data-swiper-slide-index");k?R=parseInt(k,10):R=m}else R=m;Object.assign(n,{previousSnapIndex:p,snapIndex:x,previousRealIndex:c,realIndex:R,previousIndex:l,activeIndex:m}),n.initialized&&preload(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&(c!==R&&n.emit("realIndexChange"),n.emit("slideChange"))}function updateClickedSlide(t,n){const r=this,s=r.params;let o=t.closest(`.${s.slideClass}, swiper-slide`);!o&&r.isElement&&n&&n.length>1&&n.includes(t)&&[...n.slice(n.indexOf(t)+1,n.length)].forEach(p=>{!o&&p.matches&&p.matches(`.${s.slideClass}, swiper-slide`)&&(o=p)});let l=!1,c;if(o){for(let p=0;p<r.slides.length;p+=1)if(r.slides[p]===o){l=!0,c=p;break}}if(o&&l)r.clickedSlide=o,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=c;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}s.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var update$1={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(t=this.isHorizontal()?"x":"y"){const n=this,{params:r,rtlTranslate:s,translate:o,wrapperEl:l}=n;if(r.virtualTranslate)return s?-o:o;if(r.cssMode)return o;let c=getTranslate(l,t);return c+=n.cssOverflowAdjustment(),s&&(c=-c),c||0}function setTranslate(t,n){const r=this,{rtlTranslate:s,params:o,wrapperEl:l,progress:c}=r;let p=0,m=0;const x=0;r.isHorizontal()?p=s?-t:t:m=t,o.roundLengths&&(p=Math.floor(p),m=Math.floor(m)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?p:m,o.cssMode?l[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-p:-m:o.virtualTranslate||(r.isHorizontal()?p-=r.cssOverflowAdjustment():m-=r.cssOverflowAdjustment(),l.style.transform=`translate3d(${p}px, ${m}px, ${x}px)`);let b;const _=r.maxTranslate()-r.minTranslate();_===0?b=0:b=(t-r.minTranslate())/_,b!==c&&r.updateProgress(t),r.emit("setTranslate",r.translate,n)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(t=0,n=this.params.speed,r=!0,s=!0,o){const l=this,{params:c,wrapperEl:p}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const m=l.minTranslate(),x=l.maxTranslate();let b;if(s&&t>m?b=m:s&&t<x?b=x:b=t,l.updateProgress(b),c.cssMode){const _=l.isHorizontal();if(n===0)p[_?"scrollLeft":"scrollTop"]=-b;else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:-b,side:_?"left":"top"}),!0;p.scrollTo({[_?"left":"top"]:-b,behavior:"smooth"})}return!0}return n===0?(l.setTransition(0),l.setTranslate(b),r&&(l.emit("beforeTransitionStart",n,o),l.emit("transitionEnd"))):(l.setTransition(n),l.setTranslate(b),r&&(l.emit("beforeTransitionStart",n,o),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(R){!l||l.destroyed||R.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,r&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(t,n){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,n)}function transitionEmit({swiper:t,runCallbacks:n,direction:r,step:s}){const{activeIndex:o,previousIndex:l}=t;let c=r;c||(o>l?c="next":o<l?c="prev":c="reset"),t.emit(`transition${s}`),n&&c==="reset"?t.emit(`slideResetTransition${s}`):n&&o!==l&&(t.emit(`slideChangeTransition${s}`),c==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function transitionStart(t=!0,n){const r=this,{params:s}=r;s.cssMode||(s.autoHeight&&r.updateAutoHeight(),transitionEmit({swiper:r,runCallbacks:t,direction:n,step:"Start"}))}function transitionEnd(t=!0,n){const r=this,{params:s}=r;r.animating=!1,!s.cssMode&&(r.setTransition(0),transitionEmit({swiper:r,runCallbacks:t,direction:n,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(t=0,n,r=!0,s,o){typeof t=="string"&&(t=parseInt(t,10));const l=this;let c=t;c<0&&(c=0);const{params:p,snapGrid:m,slidesGrid:x,previousIndex:b,activeIndex:_,rtlTranslate:R,wrapperEl:k,enabled:M}=l;if(!M&&!s&&!o||l.destroyed||l.animating&&p.preventInteractionOnTransition)return!1;typeof n>"u"&&(n=l.params.speed);const P=Math.min(l.params.slidesPerGroupSkip,c);let K=P+Math.floor((c-P)/l.params.slidesPerGroup);K>=m.length&&(K=m.length-1);const $=-m[K];if(p.normalizeSlideIndex)for(let X=0;X<x.length;X+=1){const te=-Math.floor($*100),se=Math.floor(x[X]*100),pe=Math.floor(x[X+1]*100);typeof x[X+1]<"u"?te>=se&&te<pe-(pe-se)/2?c=X:te>=se&&te<pe&&(c=X+1):te>=se&&(c=X)}if(l.initialized&&c!==_&&(!l.allowSlideNext&&(R?$>l.translate&&$>l.minTranslate():$<l.translate&&$<l.minTranslate())||!l.allowSlidePrev&&$>l.translate&&$>l.maxTranslate()&&(_||0)!==c))return!1;c!==(b||0)&&r&&l.emit("beforeSlideChangeStart"),l.updateProgress($);let G;c>_?G="next":c<_?G="prev":G="reset";const H=l.virtual&&l.params.virtual.enabled;if(!(H&&o)&&(R&&-$===l.translate||!R&&$===l.translate))return l.updateActiveIndex(c),p.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),p.effect!=="slide"&&l.setTranslate($),G!=="reset"&&(l.transitionStart(r,G),l.transitionEnd(r,G)),!1;if(p.cssMode){const X=l.isHorizontal(),te=R?$:-$;if(n===0)H&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),H&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{k[X?"scrollLeft":"scrollTop"]=te})):k[X?"scrollLeft":"scrollTop"]=te,H&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:te,side:X?"left":"top"}),!0;k.scrollTo({[X?"left":"top"]:te,behavior:"smooth"})}return!0}const Y=getBrowser().isSafari;return H&&!o&&Y&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(n),l.setTranslate($),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",n,s),l.transitionStart(r,G),n===0?l.transitionEnd(r,G):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(te){!l||l.destroyed||te.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(r,G))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(t=0,n,r=!0,s){typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);const l=o.grid&&o.params.grid&&o.params.grid.rows>1;let c=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)c=c+o.virtual.slidesBefore;else{let p;if(l){const P=c*o.params.grid.rows;p=o.slides.find(K=>K.getAttribute("data-swiper-slide-index")*1===P).column}else p=o.getSlideIndexByData(c);const m=l?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:x,slidesOffsetBefore:b,slidesOffsetAfter:_}=o.params,R=x||!!b||!!_;let k=o.params.slidesPerView;k==="auto"?k=o.slidesPerViewDynamic():(k=Math.ceil(parseFloat(o.params.slidesPerView,10)),R&&k%2===0&&(k=k+1));let M=m-p<k;if(R&&(M=M||p<Math.ceil(k/2)),s&&R&&o.params.slidesPerView!=="auto"&&!l&&(M=!1),M){const P=R?p<o.activeIndex?"prev":"next":p-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:P,slideTo:!0,activeSlideIndex:P==="next"?p+1:p-m+1,slideRealIndex:P==="next"?o.realIndex:void 0})}if(l){const P=c*o.params.grid.rows;c=o.slides.find(K=>K.getAttribute("data-swiper-slide-index")*1===P).column}else c=o.getSlideIndexByData(c)}return requestAnimationFrame(()=>{o.slideTo(c,n,r,s)}),o}function slideNext(t,n=!0,r){const s=this,{enabled:o,params:l,animating:c}=s;if(!o||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let p=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(p=Math.max(s.slidesPerViewDynamic("current",!0),1));const m=s.activeIndex<l.slidesPerGroupSkip?1:p,x=s.virtual&&l.virtual.enabled;if(l.loop){if(c&&!x&&l.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+m,t,n,r)}),!0}return l.rewind&&s.isEnd?s.slideTo(0,t,n,r):s.slideTo(s.activeIndex+m,t,n,r)}function slidePrev(t,n=!0,r){const s=this,{params:o,snapGrid:l,slidesGrid:c,rtlTranslate:p,enabled:m,animating:x}=s;if(!m||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const b=s.virtual&&o.virtual.enabled;if(o.loop){if(x&&!b&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const _=p?s.translate:-s.translate;function R(G){return G<0?-Math.floor(Math.abs(G)):Math.floor(G)}const k=R(_),M=l.map(G=>R(G)),P=o.freeMode&&o.freeMode.enabled;let K=l[M.indexOf(k)-1];if(typeof K>"u"&&(o.cssMode||P)){let G;l.forEach((H,j)=>{k>=H&&(G=j)}),typeof G<"u"&&(K=P?l[G]:l[G>0?G-1:G])}let $=0;if(typeof K<"u"&&($=c.indexOf(K),$<0&&($=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&($=$-s.slidesPerViewDynamic("previous",!0)+1,$=Math.max($,0))),o.rewind&&s.isBeginning){const G=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(G,t,n,r)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo($,t,n,r)}),!0;return s.slideTo($,t,n,r)}function slideReset(t,n=!0,r){const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,n,r)}function slideToClosest(t,n=!0,r,s=.5){const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let l=o.activeIndex;const c=Math.min(o.params.slidesPerGroupSkip,l),p=c+Math.floor((l-c)/o.params.slidesPerGroup),m=o.rtlTranslate?o.translate:-o.translate;if(m>=o.snapGrid[p]){const x=o.snapGrid[p],b=o.snapGrid[p+1];m-x>(b-x)*s&&(l+=o.params.slidesPerGroup)}else{const x=o.snapGrid[p-1],b=o.snapGrid[p];m-x<=(b-x)*s&&(l-=o.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,o.slidesGrid.length-1),o.slideTo(l,t,n,r)}function slideToClickedSlide(){const t=this;if(t.destroyed)return;const{params:n,slidesEl:r}=t,s=n.slidesPerView==="auto"?t.slidesPerViewDynamic():n.slidesPerView;let o=t.getSlideIndexWhenGrid(t.clickedIndex),l;const c=t.isElement?"swiper-slide":`.${n.slideClass}`,p=t.grid&&t.params.grid&&t.params.grid.rows>1;if(n.loop){if(t.animating)return;l=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?t.slideToLoop(l):o>(p?(t.slides.length-s)/2-(t.params.grid.rows-1):t.slides.length-s)?(t.loopFix(),o=t.getSlideIndex(elementChildren(r,`${c}[data-swiper-slide-index="${l}"]`)[0]),nextTick(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var slide$1={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(t,n){const r=this,{params:s,slidesEl:o}=r;if(!s.loop||r.virtual&&r.params.virtual.enabled)return;const l=()=>{elementChildren(o,`.${s.slideClass}, swiper-slide`).forEach((M,P)=>{M.setAttribute("data-swiper-slide-index",P)})},c=()=>{const k=elementChildren(o,`.${s.slideBlankClass}`);k.forEach(M=>{M.remove()}),k.length>0&&(r.recalcSlides(),r.updateSlides())},p=r.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||p)&&c();const m=s.slidesPerGroup*(p?s.grid.rows:1),x=r.slides.length%m!==0,b=p&&r.slides.length%s.grid.rows!==0,_=k=>{for(let M=0;M<k;M+=1){const P=r.isElement?createElement("swiper-slide",[s.slideBlankClass]):createElement("div",[s.slideClass,s.slideBlankClass]);r.slidesEl.append(P)}};if(x){if(s.loopAddBlankSlides){const k=m-r.slides.length%m;_(k),r.recalcSlides(),r.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(b){if(s.loopAddBlankSlides){const k=s.grid.rows-r.slides.length%s.grid.rows;_(k),r.recalcSlides(),r.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();const R=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;r.loopFix({slideRealIndex:t,direction:R?void 0:"next",initial:n})}function loopFix({slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:l,byController:c,byMousewheel:p}={}){const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:x,allowSlidePrev:b,allowSlideNext:_,slidesEl:R,params:k}=m,{centeredSlides:M,slidesOffsetBefore:P,slidesOffsetAfter:K,initialSlide:$}=k,G=M||!!P||!!K;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&k.virtual.enabled){n&&(!G&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):G&&m.snapIndex<k.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=b,m.allowSlideNext=_,m.emit("loopFix");return}let H=k.slidesPerView;H==="auto"?H=m.slidesPerViewDynamic():(H=Math.ceil(parseFloat(k.slidesPerView,10)),G&&H%2===0&&(H=H+1));const j=k.slidesPerGroupAuto?H:k.slidesPerGroup;let W=G?Math.max(j,Math.ceil(H/2)):j;W%j!==0&&(W+=j-W%j),W+=k.loopAdditionalSlides,m.loopedSlides=W;const Y=m.grid&&k.grid&&k.grid.rows>1;x.length<H+W||m.params.effect==="cards"&&x.length<H+W*2?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Y&&k.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const X=[],te=[],se=Y?Math.ceil(x.length/k.grid.rows):x.length,pe=l&&se-$<H&&!G;let ge=pe?$:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(x.find(re=>re.classList.contains(k.slideActiveClass))):ge=o;const me=r==="next"||!r,Ee=r==="prev"||!r;let ve=0,de=0;const ue=(Y?x[o].column:o)+(G&&typeof s>"u"?-H/2+.5:0);if(ue<W){ve=Math.max(W-ue,j);for(let re=0;re<W-ue;re+=1){const oe=re-Math.floor(re/se)*se;if(Y){const Ce=se-oe-1;for(let Ae=x.length-1;Ae>=0;Ae-=1)x[Ae].column===Ce&&X.push(Ae)}else X.push(se-oe-1)}}else if(ue+H>se-W){de=Math.max(ue-(se-W*2),j),pe&&(de=Math.max(de,H-se+$+1));for(let re=0;re<de;re+=1){const oe=re-Math.floor(re/se)*se;Y?x.forEach((Ce,Ae)=>{Ce.column===oe&&te.push(Ae)}):te.push(oe)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&x.length<H+W*2&&(te.includes(o)&&te.splice(te.indexOf(o),1),X.includes(o)&&X.splice(X.indexOf(o),1)),Ee&&X.forEach(re=>{x[re].swiperLoopMoveDOM=!0,R.prepend(x[re]),x[re].swiperLoopMoveDOM=!1}),me&&te.forEach(re=>{x[re].swiperLoopMoveDOM=!0,R.append(x[re]),x[re].swiperLoopMoveDOM=!1}),m.recalcSlides(),k.slidesPerView==="auto"?m.updateSlides():Y&&(X.length>0&&Ee||te.length>0&&me)&&m.slides.forEach((re,oe)=>{m.grid.updateSlide(oe,re,m.slides)}),k.watchSlidesProgress&&m.updateSlidesOffset(),n){if(X.length>0&&Ee){if(typeof t>"u"){const re=m.slidesGrid[ge],Ce=m.slidesGrid[ge+ve]-re;p?m.setTranslate(m.translate-Ce):(m.slideTo(ge+Math.ceil(ve),0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ce))}else if(s){const re=Y?X.length/k.grid.rows:X.length;m.slideTo(m.activeIndex+re,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(te.length>0&&me)if(typeof t>"u"){const re=m.slidesGrid[ge],Ce=m.slidesGrid[ge-de]-re;p?m.setTranslate(m.translate-Ce):(m.slideTo(ge-de,0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ce))}else{const re=Y?te.length/k.grid.rows:te.length;m.slideTo(m.activeIndex-re,0,!1,!0)}}if(m.allowSlidePrev=b,m.allowSlideNext=_,m.controller&&m.controller.control&&!c){const re={slideRealIndex:t,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...re,slideTo:oe.params.slidesPerView===k.slidesPerView?n:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...re,slideTo:m.controller.control.params.slidesPerView===k.slidesPerView?n:!1})}m.emit("loopFix")}function loopDestroy(){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||!r||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(o=>{const l=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[l]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{r.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(t){const n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const r=n.params.touchEventsTarget==="container"?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1})}function unsetGrabCursor(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(t,n=this){function r(s){if(!s||s===getDocument()||s===getWindow())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(t);return!o&&!s.getRootNode?null:o||r(s.getRootNode().host)}return r(n)}function preventEdgeSwipe(t,n,r){const s=getWindow(),{params:o}=t,l=o.edgeSwipeDetection,c=o.edgeSwipeThreshold;return l&&(r<=c||r>=s.innerWidth-c)?l==="prevent"?(n.preventDefault(),!0):!1:!0}function onTouchStart(t){const n=this,r=getDocument();let s=t;s.originalEvent&&(s=s.originalEvent);const o=n.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){preventEdgeSwipe(n,s,s.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:p}=n;if(!p||!l.simulateTouch&&s.pointerType==="mouse"||n.animating&&l.preventInteractionOnTransition)return;!n.animating&&l.cssMode&&l.loop&&n.loopFix();let m=s.target;if(l.touchEventsTarget==="wrapper"&&!elementIsChildOf(m,n.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const x=!!l.noSwipingClass&&l.noSwipingClass!=="",b=s.composedPath?s.composedPath():s.path;x&&s.target&&s.target.shadowRoot&&b&&(m=b[0]);const _=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,R=!!(s.target&&s.target.shadowRoot);if(l.noSwiping&&(R?closestElement(_,m):m.closest(_))){n.allowClick=!0;return}if(l.swipeHandler&&!m.closest(l.swipeHandler))return;c.currentX=s.pageX,c.currentY=s.pageY;const k=c.currentX,M=c.currentY;if(!preventEdgeSwipe(n,s,k))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=k,c.startY=M,o.touchStartTime=now(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,l.threshold>0&&(o.allowThresholdMove=!1);let P=!0;m.matches(o.focusableElements)&&(P=!1,m.nodeName==="SELECT"&&(o.isTouched=!1)),r.activeElement&&r.activeElement.matches(o.focusableElements)&&r.activeElement!==m&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!m.matches(o.focusableElements))&&r.activeElement.blur();const K=P&&n.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||K)&&!m.isContentEditable&&s.preventDefault(),l.freeMode&&l.freeMode.enabled&&n.freeMode&&n.animating&&!l.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",s)}function onTouchMove(t){const n=getDocument(),r=this,s=r.touchEventsData,{params:o,touches:l,rtlTranslate:c,enabled:p}=r;if(!p||!o.simulateTouch&&t.pointerType==="mouse")return;let m=t;if(m.originalEvent&&(m=m.originalEvent),m.type==="pointermove"&&(s.touchId!==null||m.pointerId!==s.pointerId))return;let x;if(m.type==="touchmove"){if(x=[...m.changedTouches].find(W=>W.identifier===s.touchId),!x||x.identifier!==s.touchId)return}else x=m;if(!s.isTouched){s.startMoving&&s.isScrolling&&r.emit("touchMoveOpposite",m);return}const b=x.pageX,_=x.pageY;if(m.preventedByNestedSwiper){l.startX=b,l.startY=_;return}if(!r.allowTouchMove){m.target.matches(s.focusableElements)||(r.allowClick=!1),s.isTouched&&(Object.assign(l,{startX:b,startY:_,currentX:b,currentY:_}),s.touchStartTime=now());return}if(o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(_<l.startY&&r.translate<=r.maxTranslate()||_>l.startY&&r.translate>=r.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(c&&(b>l.startX&&-r.translate<=r.maxTranslate()||b<l.startX&&-r.translate>=r.minTranslate()))return;if(!c&&(b<l.startX&&r.translate<=r.maxTranslate()||b>l.startX&&r.translate>=r.minTranslate()))return}if(n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==m.target&&m.pointerType!=="mouse"&&n.activeElement.blur(),n.activeElement&&m.target===n.activeElement&&m.target.matches(s.focusableElements)){s.isMoved=!0,r.allowClick=!1;return}s.allowTouchCallbacks&&r.emit("touchMove",m),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=b,l.currentY=_;const R=l.currentX-l.startX,k=l.currentY-l.startY;if(r.params.threshold&&Math.sqrt(R**2+k**2)<r.params.threshold)return;if(typeof s.isScrolling>"u"){let W;r.isHorizontal()&&l.currentY===l.startY||r.isVertical()&&l.currentX===l.startX?s.isScrolling=!1:R*R+k*k>=25&&(W=Math.atan2(Math.abs(k),Math.abs(R))*180/Math.PI,s.isScrolling=r.isHorizontal()?W>o.touchAngle:90-W>o.touchAngle)}if(s.isScrolling&&r.emit("touchMoveOpposite",m),typeof s.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(s.startMoving=!0),s.isScrolling||m.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;r.allowClick=!1,!o.cssMode&&m.cancelable&&m.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&m.stopPropagation();let M=r.isHorizontal()?R:k,P=r.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;o.oneWayMovement&&(M=Math.abs(M)*(c?1:-1),P=Math.abs(P)*(c?1:-1)),l.diff=M,M*=o.touchRatio,c&&(M=-M,P=-P);const K=r.touchesDirection;r.swipeDirection=M>0?"prev":"next",r.touchesDirection=P>0?"prev":"next";const $=r.params.loop&&!o.cssMode,G=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!s.isMoved){if($&&G&&r.loopFix({direction:r.swipeDirection}),s.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const W=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(W)}s.allowMomentumBounce=!1,o.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",m)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&K!==r.touchesDirection&&$&&G&&Math.abs(M)>=1){Object.assign(l,{startX:b,startY:_,currentX:b,currentY:_,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}r.emit("sliderMove",m),s.isMoved=!0,s.currentTranslate=M+s.startTranslate;let H=!0,j=o.resistanceRatio;if(o.touchReleaseOnEdges&&(j=0),M>0?($&&G&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(o.slidesPerView!=="auto"&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>r.minTranslate()&&(H=!1,o.resistance&&(s.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+s.startTranslate+M)**j))):M<0&&($&&G&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(o.slidesPerView!=="auto"&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(o.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<r.maxTranslate()&&(H=!1,o.resistance&&(s.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-s.startTranslate-M)**j))),H&&(m.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(M)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,s.currentTranslate=s.startTranslate,l.diff=r.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(s.currentTranslate),r.setTranslate(s.currentTranslate))}function onTouchEnd(t){const n=this,r=n.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(W=>W.identifier===r.touchId),!o||o.identifier!==r.touchId)return}else{if(r.touchId!==null||s.pointerId!==r.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(n.browser.isSafari||n.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:c,touches:p,rtlTranslate:m,slidesGrid:x,enabled:b}=n;if(!b||!c.simulateTouch&&s.pointerType==="mouse")return;if(r.allowTouchCallbacks&&n.emit("touchEnd",s),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&c.grabCursor&&n.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}c.grabCursor&&r.isMoved&&r.isTouched&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!1);const _=now(),R=_-r.touchStartTime;if(n.allowClick){const W=s.path||s.composedPath&&s.composedPath();n.updateClickedSlide(W&&W[0]||s.target,W),n.emit("tap click",s),R<300&&_-r.lastClickTime<300&&n.emit("doubleTap doubleClick",s)}if(r.lastClickTime=now(),nextTick(()=>{n.destroyed||(n.allowClick=!0)}),!r.isTouched||!r.isMoved||!n.swipeDirection||p.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let k;if(c.followFinger?k=m?n.translate:-n.translate:k=-r.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){n.freeMode.onTouchEnd({currentPos:k});return}const M=k>=-n.maxTranslate()&&!n.params.loop;let P=0,K=n.slidesSizesGrid[0];for(let W=0;W<x.length;W+=W<c.slidesPerGroupSkip?1:c.slidesPerGroup){const Y=W<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof x[W+Y]<"u"?(M||k>=x[W]&&k<x[W+Y])&&(P=W,K=x[W+Y]-x[W]):(M||k>=x[W])&&(P=W,K=x[x.length-1]-x[x.length-2])}let $=null,G=null;c.rewind&&(n.isBeginning?G=c.virtual&&c.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&($=0));const H=(k-x[P])/K,j=P<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(R>c.longSwipesMs){if(!c.longSwipes){n.slideTo(n.activeIndex);return}n.swipeDirection==="next"&&(H>=c.longSwipesRatio?n.slideTo(c.rewind&&n.isEnd?$:P+j):n.slideTo(P)),n.swipeDirection==="prev"&&(H>1-c.longSwipesRatio?n.slideTo(P+j):G!==null&&H<0&&Math.abs(H)>c.longSwipesRatio?n.slideTo(G):n.slideTo(P))}else{if(!c.shortSwipes){n.slideTo(n.activeIndex);return}n.navigation&&(s.target===n.navigation.nextEl||s.target===n.navigation.prevEl)?s.target===n.navigation.nextEl?n.slideTo(P+j):n.slideTo(P):(n.swipeDirection==="next"&&n.slideTo($!==null?$:P+j),n.swipeDirection==="prev"&&n.slideTo(G!==null?G:P))}}function onResize(){const t=this,{params:n,el:r}=t;if(r&&r.offsetWidth===0)return;n.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:l}=t,c=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const p=c&&n.loop;(n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!p?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!c?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=s,t.params.watchOverflow&&l!==t.snapGrid&&t.checkOverflow()}function onClick(t){const n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&t.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function onScroll(){const t=this,{wrapperEl:n,rtlTranslate:r,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-n.scrollLeft:t.translate=-n.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const l=t.maxTranslate()-t.minTranslate();l===0?o=0:o=(t.translate-t.minTranslate())/l,o!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function onLoad(t){const n=this;processLazyPreloader(n,t.target),!(n.params.cssMode||n.params.slidesPerView!=="auto"&&!n.params.autoHeight)&&n.update()}function onDocumentTouchStart(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const events=(t,n)=>{const r=getDocument(),{params:s,el:o,wrapperEl:l,device:c}=t,p=!!s.nested,m=n==="on"?"addEventListener":"removeEventListener",x=n;!o||typeof o=="string"||(r[m]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:p}),o[m]("touchstart",t.onTouchStart,{passive:!1}),o[m]("pointerdown",t.onTouchStart,{passive:!1}),r[m]("touchmove",t.onTouchMove,{passive:!1,capture:p}),r[m]("pointermove",t.onTouchMove,{passive:!1,capture:p}),r[m]("touchend",t.onTouchEnd,{passive:!0}),r[m]("pointerup",t.onTouchEnd,{passive:!0}),r[m]("pointercancel",t.onTouchEnd,{passive:!0}),r[m]("touchcancel",t.onTouchEnd,{passive:!0}),r[m]("pointerout",t.onTouchEnd,{passive:!0}),r[m]("pointerleave",t.onTouchEnd,{passive:!0}),r[m]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[m]("click",t.onClick,!0),s.cssMode&&l[m]("scroll",t.onScroll),s.updateOnWindowResize?t[x](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):t[x]("observerUpdate",onResize,!0),o[m]("load",t.onLoad,{capture:!0}))};function attachEvents(){const t=this,{params:n}=t;t.onTouchStart=onTouchStart.bind(t),t.onTouchMove=onTouchMove.bind(t),t.onTouchEnd=onTouchEnd.bind(t),t.onDocumentTouchStart=onDocumentTouchStart.bind(t),n.cssMode&&(t.onScroll=onScroll.bind(t)),t.onClick=onClick.bind(t),t.onLoad=onLoad.bind(t),events(t,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(t,n)=>t.grid&&n.grid&&n.grid.rows>1;function setBreakpoint(){const t=this,{realIndex:n,initialized:r,params:s,el:o}=t,l=s.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=getDocument(),p=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",m=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:c.querySelector(s.breakpointsBase),x=t.getBreakpoint(l,p,m);if(!x||t.currentBreakpoint===x)return;const _=(x in l?l[x]:void 0)||t.originalParams,R=isGridEnabled(t,s),k=isGridEnabled(t,_),M=t.params.grabCursor,P=_.grabCursor,K=s.enabled;R&&!k?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!R&&k&&(o.classList.add(`${s.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),M&&!P?t.unsetGrabCursor():!M&&P&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Y=>{if(typeof _[Y]>"u")return;const X=s[Y]&&s[Y].enabled,te=_[Y]&&_[Y].enabled;X&&!te&&t[Y].disable(),!X&&te&&t[Y].enable()});const $=_.direction&&_.direction!==s.direction,G=s.loop&&(_.slidesPerView!==s.slidesPerView||$),H=s.loop;$&&r&&t.changeDirection(),extend$1(t.params,_);const j=t.params.enabled,W=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),K&&!j?t.disable():!K&&j&&t.enable(),t.currentBreakpoint=x,t.emit("_beforeBreakpoint",_),r&&(G?(t.loopDestroy(),t.loopCreate(n),t.updateSlides()):!H&&W?(t.loopCreate(n),t.updateSlides()):H&&!W&&t.loopDestroy()),t.emit("breakpoint",_)}function getBreakpoint(t,n="window",r){if(!t||n==="container"&&!r)return;let s=!1;const o=getWindow(),l=n==="window"?o.innerHeight:r.clientHeight,c=Object.keys(t).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const m=parseFloat(p.substr(1));return{value:l*m,point:p}}return{value:p,point:p}});c.sort((p,m)=>parseInt(p.value,10)-parseInt(m.value,10));for(let p=0;p<c.length;p+=1){const{point:m,value:x}=c[p];n==="window"?o.matchMedia(`(min-width: ${x}px)`).matches&&(s=m):x<=r.clientWidth&&(s=m)}return s||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(t,n){const r=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&r.push(n+o)}):typeof s=="string"&&r.push(n+s)}),r}function addClasses(){const t=this,{classNames:n,params:r,rtl:s,el:o,device:l}=t,c=prepareClasses(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:s},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);n.push(...c),o.classList.add(...n),t.emitContainerClasses()}function removeClasses(){const t=this,{el:n,classNames:r}=t;!n||typeof n=="string"||(n.classList.remove(...r),t.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const t=this,{isLocked:n,params:r}=t,{slidesOffsetBefore:s}=r;if(s){const o=t.slides.length-1,l=t.slidesGrid[o]+t.slidesSizesGrid[o]+s*2;t.isLocked=t.size>l}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),n&&n!==t.isLocked&&(t.isEnd=!1),n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(t,n){return function(s={}){const o=Object.keys(s)[0],l=s[o];if(typeof l!="object"||l===null){extend$1(n,s);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in l)){extend$1(n,s);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),extend$1(n,s)}}const prototypes={eventsEmitter,update:update$1,translate,transition,slide:slide$1,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Ys{constructor(...n){let r,s;n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?s=n[0]:[r,s]=n,s||(s={}),s=extend$1({},s),r&&!s.el&&(s.el=r);const o=getDocument();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const m=[];return o.querySelectorAll(s.el).forEach(x=>{const b=extend$1({},s,{el:x});m.push(new Ys(b))}),m}const l=this;l.__swiper__=!0,l.support=getSupport(),l.device=getDevice({userAgent:s.userAgent}),l.browser=getBrowser(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],s.modules&&Array.isArray(s.modules)&&l.modules.push(...s.modules);const c={};l.modules.forEach(m=>{m({params:s,swiper:l,extendParams:moduleExtendParams(s,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const p=extend$1({},defaults$1,c);return l.params=extend$1({},p,extendedDefaults,s),l.originalParams=extend$1({},l.params),l.passedParams=extend$1({},s),l.params&&l.params.on&&Object.keys(l.params.on).forEach(m=>{l.on(m,l.params.on[m])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(n){return this.isHorizontal()?n:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[n]}getSlideIndex(n){const{slidesEl:r,params:s}=this,o=elementChildren(r,`.${s.slideClass}, swiper-slide`),l=elementIndex(o[0]);return elementIndex(n)-l}getSlideIndexByData(n){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===n))}getSlideIndexWhenGrid(n){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?n=Math.floor(n/this.params.grid.rows):this.params.grid.fill==="row"&&(n=n%Math.ceil(this.slides.length/this.params.grid.rows))),n}recalcSlides(){const n=this,{slidesEl:r,params:s}=n;n.slides=elementChildren(r,`.${s.slideClass}, swiper-slide`)}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;n.enabled&&(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,r){const s=this;n=Math.min(Math.max(n,0),1);const o=s.minTranslate(),c=(s.maxTranslate()-o)*n+o;s.translateTo(c,typeof r>"u"?0:r),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=n.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(n.params.containerModifierClass)===0);n.emit("_containerClasses",r.join(" "))}getSlideClasses(n){const r=this;return r.destroyed?"":n.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=[];n.slides.forEach(s=>{const o=n.getSlideClasses(s);r.push({slideEl:s,classNames:o}),n.emit("_slideClass",s,o)}),n.emit("_slideClasses",r)}slidesPerViewDynamic(n="current",r=!1){const s=this,{params:o,slides:l,slidesGrid:c,slidesSizesGrid:p,size:m,activeIndex:x}=s;let b=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let _=l[x]?Math.ceil(l[x].swiperSlideSize):0,R;for(let k=x+1;k<l.length;k+=1)l[k]&&!R&&(_+=Math.ceil(l[k].swiperSlideSize),b+=1,_>m&&(R=!0));for(let k=x-1;k>=0;k-=1)l[k]&&!R&&(_+=l[k].swiperSlideSize,b+=1,_>m&&(R=!0))}else if(n==="current")for(let _=x+1;_<l.length;_+=1)(r?c[_]+p[_]-c[x]<m:c[_]-c[x]<m)&&(b+=1);else for(let _=x-1;_>=0;_-=1)c[x]-c[_]<m&&(b+=1);return b}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:r,params:s}=n;s.breakpoints&&n.setBreakpoint(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&processLazyPreloader(n,c)}),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses();function o(){const c=n.rtlTranslate?n.translate*-1:n.translate,p=Math.min(Math.max(c,n.maxTranslate()),n.minTranslate());n.setTranslate(p),n.updateActiveIndex(),n.updateSlidesClasses()}let l;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&n.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&n.isEnd&&!s.centeredSlides){const c=n.virtual&&s.virtual.enabled?n.virtual.slides:n.slides;l=n.slideTo(c.length-1,0,!1,!0)}else l=n.slideTo(n.activeIndex,0,!1,!0);l||o()}s.watchOverflow&&r!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,r=!0){const s=this,o=s.params.direction;return n||(n=o==="horizontal"?"vertical":"horizontal"),n===o||n!=="horizontal"&&n!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${n}`),s.emitContainerClasses(),s.params.direction=n,s.slides.forEach(l=>{n==="vertical"?l.style.width="":l.style.height=""}),s.emit("changeDirection"),r&&s.update()),s}changeLanguageDirection(n){const r=this;r.rtl&&n==="rtl"||!r.rtl&&n==="ltr"||(r.rtl=n==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(n){const r=this;if(r.mounted)return!0;let s=n||r.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=r,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const o=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):elementChildren(s,o())[0];return!c&&r.params.createElements&&(c=createElement("div",r.params.wrapperClass),s.append(c),elementChildren(s,`.${r.params.slideClass}`).forEach(p=>{c.append(p)})),Object.assign(r,{el:s,wrapperEl:c,slidesEl:r.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:c,hostEl:r.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||elementStyle(s,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||elementStyle(s,"direction")==="rtl"),wrongRTL:elementStyle(c,"display")==="-webkit-box"}),!0}init(n){const r=this;if(r.initialized||r.mount(n)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const o=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&o.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(l=>{l.complete?processLazyPreloader(r,l):l.addEventListener("load",c=>{processLazyPreloader(r,c.target)})}),preload(r),r.initialized=!0,preload(r),r.emit("init"),r.emit("afterInit"),r}destroy(n=!0,r=!0){const s=this,{params:o,el:l,wrapperEl:c,slides:p}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),r&&(s.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),p&&p.length&&p.forEach(m=>{m.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),m.removeAttribute("style"),m.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(m=>{s.off(m)}),n!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),deleteProps$1(s)),s.destroyed=!0),null}static extendDefaults(n){extend$1(extendedDefaults,n)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$1}static installModule(n){Ys.prototype.__modules__||(Ys.prototype.__modules__=[]);const r=Ys.prototype.__modules__;typeof n=="function"&&r.indexOf(n)<0&&r.push(n)}static use(n){return Array.isArray(n)?(n.forEach(r=>Ys.installModule(r)),Ys):(Ys.installModule(n),Ys)}};Object.keys(prototypes).forEach(t=>{Object.keys(prototypes[t]).forEach(n=>{Swiper$1.prototype[n]=prototypes[t][n]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$2(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function extend(t,n){const r=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>r.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=n[s]:isObject$2(n[s])&&isObject$2(t[s])&&Object.keys(n[s]).length>0?n[s].__swiper__?t[s]=n[s]:extend(t[s],n[s]):t[s]=n[s]})}function needsNavigation(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function needsPagination(t={}){return t.pagination&&typeof t.pagination.el>"u"}function needsScrollbar(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function uniqueClasses(t=""){const n=t.split(" ").map(s=>s.trim()).filter(s=>!!s),r=[];return n.forEach(s=>{r.indexOf(s)<0&&r.push(s)}),r.join(" ")}function wrapperClass(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function updateSwiper({swiper:t,slides:n,passedParams:r,changedParams:s,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:p}){const m=s.filter(te=>te!=="children"&&te!=="direction"&&te!=="wrapperClass"),{params:x,pagination:b,navigation:_,scrollbar:R,virtual:k,thumbs:M}=t;let P,K,$,G,H,j,W,Y;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&x.thumbs&&(!x.thumbs.swiper||x.thumbs.swiper.destroyed)&&(P=!0),s.includes("controller")&&r.controller&&r.controller.control&&x.controller&&!x.controller.control&&(K=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||p)&&(x.pagination||x.pagination===!1)&&b&&!b.el&&($=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(x.scrollbar||x.scrollbar===!1)&&R&&!R.el&&(G=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||l)&&(r.navigation.nextEl||o)&&(x.navigation||x.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(H=!0);const X=te=>{t[te]&&(t[te].destroy(),te==="navigation"?(t.isElement&&(t[te].prevEl.remove(),t[te].nextEl.remove()),x[te].prevEl=void 0,x[te].nextEl=void 0,t[te].prevEl=void 0,t[te].nextEl=void 0):(t.isElement&&t[te].el.remove(),x[te].el=void 0,t[te].el=void 0))};s.includes("loop")&&t.isElement&&(x.loop&&!r.loop?j=!0:!x.loop&&r.loop?W=!0:Y=!0),m.forEach(te=>{if(isObject$2(x[te])&&isObject$2(r[te]))Object.assign(x[te],r[te]),(te==="navigation"||te==="pagination"||te==="scrollbar")&&"enabled"in r[te]&&!r[te].enabled&&X(te);else{const se=r[te];(se===!0||se===!1)&&(te==="navigation"||te==="pagination"||te==="scrollbar")?se===!1&&X(te):x[te]=r[te]}}),m.includes("controller")&&!K&&t.controller&&t.controller.control&&x.controller&&x.controller.control&&(t.controller.control=x.controller.control),s.includes("children")&&n&&k&&x.virtual.enabled?(k.slides=n,k.update(!0)):s.includes("virtual")&&k&&x.virtual.enabled&&(n&&(k.slides=n),k.update(!0)),s.includes("children")&&n&&x.loop&&(Y=!0),P&&M.init()&&M.update(!0),K&&(t.controller.control=x.controller.control),$&&(t.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),t.el.appendChild(p)),p&&(x.pagination.el=p),b.init(),b.render(),b.update()),G&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),t.el.appendChild(c)),c&&(x.scrollbar.el=c),R.init(),R.updateSize(),R.setTranslate()),H&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),setInnerHTML(o,t.navigation.arrowSvg),o.part.add("button-next"),t.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),setInnerHTML(l,t.navigation.arrowSvg),l.part.add("button-prev"),t.el.appendChild(l))),o&&(x.navigation.nextEl=o),l&&(x.navigation.prevEl=l),_.init(),_.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&t.changeDirection(r.direction,!1),(j||Y)&&t.loopDestroy(),(W||Y)&&t.loopCreate(),t.update()}function getParams(t={},n=!0){const r={on:{}},s={},o={};extend(r,defaults$1),r._emitClasses=!0,r.init=!1;const l={},c=paramsList.map(m=>m.replace(/_/,"")),p=Object.assign({},t);return Object.keys(p).forEach(m=>{typeof t[m]>"u"||(c.indexOf(m)>=0?isObject$2(t[m])?(r[m]={},o[m]={},extend(r[m],t[m]),extend(o[m],t[m])):(r[m]=t[m],o[m]=t[m]):m.search(/on[A-Z]/)===0&&typeof t[m]=="function"?n?s[`${m[2].toLowerCase()}${m.substr(3)}`]=t[m]:r.on[`${m[2].toLowerCase()}${m.substr(3)}`]=t[m]:l[m]=t[m])}),["navigation","pagination","scrollbar"].forEach(m=>{r[m]===!0&&(r[m]={}),r[m]===!1&&delete r[m]}),{params:r,passedParams:o,rest:l,events:s}}function mountSwiper({el:t,nextEl:n,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:l},c){needsNavigation(c)&&n&&r&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=r,l.originalParams.navigation.prevEl=r),needsPagination(c)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),needsScrollbar(c)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(t)}function getChangedParams(t,n,r,s,o){const l=[];if(!n)return l;const c=m=>{l.indexOf(m)<0&&l.push(m)};if(r&&s){const m=s.map(o),x=r.map(o);m.join("")!==x.join("")&&c("children"),s.length!==r.length&&c("children")}return paramsList.filter(m=>m[0]==="_").map(m=>m.replace(/_/,"")).forEach(m=>{if(m in t&&m in n)if(isObject$2(t[m])&&isObject$2(n[m])){const x=Object.keys(t[m]),b=Object.keys(n[m]);x.length!==b.length?c(m):(x.forEach(_=>{t[m][_]!==n[m][_]&&c(m)}),b.forEach(_=>{t[m][_]!==n[m][_]&&c(m)}))}else t[m]!==n[m]&&c(m)}),l}const updateOnVirtualData=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_extends.apply(this,arguments)}function isChildSwiperSlide(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function processChildren(t){const n=[];return React.Children.toArray(t).forEach(r=>{isChildSwiperSlide(r)?n.push(r):r.props&&r.props.children&&processChildren(r.props.children).forEach(s=>n.push(s))}),n}function getChildren(t){const n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(t).forEach(s=>{if(isChildSwiperSlide(s))n.push(s);else if(s.props&&s.props.slot&&r[s.props.slot])r[s.props.slot].push(s);else if(s.props&&s.props.children){const o=processChildren(s.props.children);o.length>0?o.forEach(l=>n.push(l)):r["container-end"].push(s)}else r["container-end"].push(s)}),{slides:n,slots:r}}function renderVirtual(t,n,r){if(!r)return null;const s=b=>{let _=b;return b<0?_=n.length+b:_>=n.length&&(_=_-n.length),_},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:l,to:c}=r,p=t.params.loop?-n.length:0,m=t.params.loop?n.length*2:n.length,x=[];for(let b=p;b<m;b+=1)b>=l&&b<=c&&x.push(n[s(b)]);return x.map((b,_)=>React.cloneElement(b,{swiper:t,style:o,key:b.props.virtualIndex||b.key||`slide-${_}`}))}function useIsomorphicLayoutEffect$1(t,n){return typeof window>"u"?reactExports$1.useEffect(t,n):reactExports$1.useLayoutEffect(t,n)}const SwiperSlideContext=reactExports$1.createContext(null),SwiperContext=reactExports$1.createContext(null),Swiper=reactExports$1.forwardRef(({className:t,tag:n="div",wrapperTag:r="div",children:s,onSwiper:o,...l}={},c)=>{let p=!1;const[m,x]=reactExports$1.useState("swiper"),[b,_]=reactExports$1.useState(null),[R,k]=reactExports$1.useState(!1),M=reactExports$1.useRef(!1),P=reactExports$1.useRef(null),K=reactExports$1.useRef(null),$=reactExports$1.useRef(null),G=reactExports$1.useRef(null),H=reactExports$1.useRef(null),j=reactExports$1.useRef(null),W=reactExports$1.useRef(null),Y=reactExports$1.useRef(null),{params:X,passedParams:te,rest:se,events:pe}=getParams(l),{slides:ge,slots:me}=getChildren(s),Ee=()=>{k(!R)};Object.assign(X.on,{_containerClasses(re,oe){x(oe)}});const ve=()=>{Object.assign(X.on,pe),p=!0;const re={...X};if(delete re.wrapperClass,K.current=new Swiper$1(re),K.current.virtual&&K.current.params.virtual.enabled){K.current.virtual.slides=ge;const oe={cache:!1,slides:ge,renderExternal:_,renderExternalUpdate:!1};extend(K.current.params.virtual,oe),extend(K.current.originalParams.virtual,oe)}};P.current||ve(),K.current&&K.current.on("_beforeBreakpoint",Ee);const de=()=>{p||!pe||!K.current||Object.keys(pe).forEach(re=>{K.current.on(re,pe[re])})},ae=()=>{!pe||!K.current||Object.keys(pe).forEach(re=>{K.current.off(re,pe[re])})};reactExports$1.useEffect(()=>()=>{K.current&&K.current.off("_beforeBreakpoint",Ee)}),reactExports$1.useEffect(()=>{!M.current&&K.current&&(K.current.emitSlidesClasses(),M.current=!0)}),useIsomorphicLayoutEffect$1(()=>{if(c&&(c.current=P.current),!!P.current)return K.current.destroyed&&ve(),mountSwiper({el:P.current,nextEl:H.current,prevEl:j.current,paginationEl:W.current,scrollbarEl:Y.current,swiper:K.current},X),o&&!K.current.destroyed&&o(K.current),()=>{K.current&&!K.current.destroyed&&K.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$1(()=>{de();const re=getChangedParams(te,$.current,ge,G.current,oe=>oe.key);return $.current=te,G.current=ge,re.length&&K.current&&!K.current.destroyed&&updateSwiper({swiper:K.current,slides:ge,passedParams:te,changedParams:re,nextEl:H.current,prevEl:j.current,scrollbarEl:Y.current,paginationEl:W.current}),()=>{ae()}}),useIsomorphicLayoutEffect$1(()=>{updateOnVirtualData(K.current)},[b]);function ue(){return X.virtual?renderVirtual(K.current,ge,b):ge.map((re,oe)=>React.cloneElement(re,{swiper:K.current,swiperSlideIndex:oe}))}return React.createElement(n,_extends({ref:P,className:uniqueClasses(`${m}${t?` ${t}`:""}`)},se),React.createElement(SwiperContext.Provider,{value:K.current},me["container-start"],React.createElement(r,{className:wrapperClass(X.wrapperClass)},me["wrapper-start"],ue(),me["wrapper-end"]),needsNavigation(X)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:j,className:"swiper-button-prev"}),React.createElement("div",{ref:H,className:"swiper-button-next"})),needsScrollbar(X)&&React.createElement("div",{ref:Y,className:"swiper-scrollbar"}),needsPagination(X)&&React.createElement("div",{ref:W,className:"swiper-pagination"}),me["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports$1.forwardRef(({tag:t="div",children:n,className:r="",swiper:s,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:p,...m}={},x)=>{const b=reactExports$1.useRef(null),[_,R]=reactExports$1.useState("swiper-slide"),[k,M]=reactExports$1.useState(!1);function P(H,j,W){j===b.current&&R(W)}useIsomorphicLayoutEffect$1(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),x&&(x.current=b.current),!(!b.current||!s)){if(s.destroyed){_!=="swiper-slide"&&R("swiper-slide");return}return s.on("_slideClass",P),()=>{s&&s.off("_slideClass",P)}}}),useIsomorphicLayoutEffect$1(()=>{s&&b.current&&!s.destroyed&&R(s.getSlideClasses(b.current))},[s]);const K={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},$=()=>typeof n=="function"?n(K):n,G=()=>{M(!0)};return React.createElement(t,_extends({ref:b,className:uniqueClasses(`${_}${r?` ${r}`:""}`),"data-swiper-slide-index":c,onLoad:G},m),o&&React.createElement(SwiperSlideContext.Provider,{value:K},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},$(),l&&!k&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&React.createElement(SwiperSlideContext.Provider,{value:K},$(),l&&!k&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(t,n,r,s){return t.params.createElements&&Object.keys(s).forEach(o=>{if(!r[o]&&r.auto===!0){let l=elementChildren(t.el,`.${s[o]}`)[0];l||(l=createElement("div",s[o]),l.className=s[o],t.el.append(l)),r[o]=l,n[o]=l}}),r}const arrowSvg='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Navigation({swiper:t,extendParams:n,on:r,emit:s}){n({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg};function o(k){let M;return k&&typeof k=="string"&&t.isElement&&(M=t.el.querySelector(k)||t.hostEl.querySelector(k),M)?M:(k&&(typeof k=="string"&&(M=[...document.querySelectorAll(k)]),t.params.uniqueNavElements&&typeof k=="string"&&M&&M.length>1&&t.el.querySelectorAll(k).length===1?M=t.el.querySelector(k):M&&M.length===1&&(M=M[0])),k&&!M?k:M)}function l(k,M){const P=t.params.navigation;k=makeElementsArray(k),k.forEach(K=>{K&&(K.classList[M?"add":"remove"](...P.disabledClass.split(" ")),K.tagName==="BUTTON"&&(K.disabled=M),t.params.watchOverflow&&t.enabled&&K.classList[t.isLocked?"add":"remove"](P.lockClass))})}function c(){const{nextEl:k,prevEl:M}=t.navigation;if(t.params.loop){l(M,!1),l(k,!1);return}l(M,t.isBeginning&&!t.params.rewind),l(k,t.isEnd&&!t.params.rewind)}function p(k){k.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),s("navigationPrev"))}function m(k){k.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),s("navigationNext"))}function x(){const k=t.params.navigation;if(t.params.navigation=createElementIfNotDefined(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(k.nextEl||k.prevEl))return;let M=o(k.nextEl),P=o(k.prevEl);Object.assign(t.navigation,{nextEl:M,prevEl:P}),M=makeElementsArray(M),P=makeElementsArray(P);const K=($,G)=>{if($){if(k.addIcons&&$.matches(".swiper-button-next,.swiper-button-prev")&&!$.querySelector("svg")){const H=document.createElement("div");setInnerHTML(H,arrowSvg),$.appendChild(H.querySelector("svg")),H.remove()}$.addEventListener("click",G==="next"?m:p)}!t.enabled&&$&&$.classList.add(...k.lockClass.split(" "))};M.forEach($=>K($,"next")),P.forEach($=>K($,"prev"))}function b(){let{nextEl:k,prevEl:M}=t.navigation;k=makeElementsArray(k),M=makeElementsArray(M);const P=(K,$)=>{K.removeEventListener("click",$==="next"?m:p),K.classList.remove(...t.params.navigation.disabledClass.split(" "))};k.forEach(K=>P(K,"next")),M.forEach(K=>P(K,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?R():(x(),c())}),r("toEdge fromEdge lock unlock",()=>{c()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:k,prevEl:M}=t.navigation;if(k=makeElementsArray(k),M=makeElementsArray(M),t.enabled){c();return}[...k,...M].filter(P=>!!P).forEach(P=>P.classList.add(t.params.navigation.lockClass))}),r("click",(k,M)=>{let{nextEl:P,prevEl:K}=t.navigation;P=makeElementsArray(P),K=makeElementsArray(K);const $=M.target;let G=K.includes($)||P.includes($);if(t.isElement&&!G){const H=M.path||M.composedPath&&M.composedPath();H&&(G=H.find(j=>P.includes(j)||K.includes(j)))}if(t.params.navigation.hideOnClick&&!G){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===$||t.pagination.el.contains($)))return;let H;P.length?H=P[0].classList.contains(t.params.navigation.hiddenClass):K.length&&(H=K[0].classList.contains(t.params.navigation.hiddenClass)),s(H===!0?"navigationShow":"navigationHide"),[...P,...K].filter(j=>!!j).forEach(j=>j.classList.toggle(t.params.navigation.hiddenClass))}});const _=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),x(),c()},R=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(t.navigation,{enable:_,disable:R,update:c,init:x,destroy:b})}const carouselWrapper$1="_carouselWrapper_1ra8y_1",titleContainer$3="_titleContainer_1ra8y_15",carouselTitle$1="_carouselTitle_1ra8y_31",moreButton$1="_moreButton_1ra8y_45",carouselViewport$1="_carouselViewport_1ra8y_77",slideItem="_slideItem_1ra8y_87",carouselLink="_carouselLink_1ra8y_97",imageContainer$2="_imageContainer_1ra8y_123",artistImage$4="_artistImage_1ra8y_143",artistText="_artistText_1ra8y_165",name$s="_name_1ra8y_175",field="_field_1ra8y_189",prevButton$1="_prevButton_1ra8y_201",nextButton$1="_nextButton_1ra8y_203",styles$1C={carouselWrapper:carouselWrapper$1,titleContainer:titleContainer$3,carouselTitle:carouselTitle$1,moreButton:moreButton$1,carouselViewport:carouselViewport$1,slideItem,carouselLink,imageContainer:imageContainer$2,artistImage:artistImage$4,artistText,name:name$s,field,prevButton:prevButton$1,nextButton:nextButton$1};function ArtistCarousel({title:t}){const[n,r]=reactExports$1.useState([]),s=reactExports$1.useRef(null),o=reactExports$1.useRef(null),l=c=>{c.params.navigation.prevEl=s.current,c.params.navigation.nextEl=o.current,c.navigation.destroy(),c.navigation.init(),c.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const m=(await instance.get("/api/artist",{params:{category:"onExhibition"}})).data.map(({id:x,artist_name:b,artist_category:_,artist_image:R})=>({id:x,artist_name:b,artist_category:_,artist_image:R})).slice(0,10);r(m)}catch(p){console.error("     :",p)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1C.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1C.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$1C.carouselTitle,children:t}),jsxRuntimeExports.jsx(Link$1,{to:"/artists",className:styles$1C.moreButton,children:""})]}),n.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:l,spaceBetween:20,slidesPerView:4,loop:n.length>4,className:styles$1C.carouselViewport,breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}},children:n.map(c=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1C.slideItem,children:jsxRuntimeExports.jsxs(Link$1,{to:`/artists/${c==null?void 0:c.id}`,className:styles$1C.carouselLink,children:[jsxRuntimeExports.jsx("div",{className:styles$1C.imageContainer,children:jsxRuntimeExports.jsx(Img,{src:(c==null?void 0:c.artist_image)||"/default.jpg",alt:(c==null?void 0:c.artist_name)||" ",className:styles$1C.artistImage})}),jsxRuntimeExports.jsxs("div",{className:styles$1C.artistText,children:[jsxRuntimeExports.jsx("h3",{className:styles$1C.name,children:c!=null&&c.artist_name&&c.artist_name.trim()!==""?c.artist_name:" "}),jsxRuntimeExports.jsx("p",{className:styles$1C.field,children:c!=null&&c.artist_category&&c.artist_category.trim()!==""?c.artist_category:" "})]})]})},`${c==null?void 0:c.id}`))}):jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"5rem",color:"#999",fontSize:"1.4rem"},children:"  ."}),jsxRuntimeExports.jsx("button",{ref:s,className:styles$1C.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:o,className:styles$1C.nextButton,children:""})]})}const carouselWrapper="_carouselWrapper_60msd_1",carouselHeader="_carouselHeader_60msd_13",carouselTitle="_carouselTitle_60msd_29",moreButton="_moreButton_60msd_43",carouselViewport="_carouselViewport_60msd_75",carouselSlide="_carouselSlide_60msd_85",slideCard="_slideCard_60msd_107",carouselImage="_carouselImage_60msd_137",cardText="_cardText_60msd_153",prevButton="_prevButton_60msd_205",nextButton="_nextButton_60msd_207",emptyBox$1="_emptyBox_60msd_289",styles$1B={carouselWrapper,carouselHeader,carouselTitle,moreButton,carouselViewport,carouselSlide,slideCard,carouselImage,cardText,prevButton,nextButton,emptyBox:emptyBox$1};function SwipeCarousel({title:t,category:n,value:r}){const[s,o]=reactExports$1.useState([]),l=reactExports$1.useRef(null),c=reactExports$1.useRef(null),p=m=>{m.params.navigation.prevEl=l.current,m.params.navigation.nextEl=c.current,m.navigation.destroy(),m.navigation.init(),m.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const x={status:"exhibited"};n&&r&&(x[n]=r);const _=(await instance.get("/api/exhibitions",{params:x})).data.map(({id:R,exhibition_poster:k,exhibition_title:M,exhibition_category:P,exhibition_status:K,exhibition_start_date:$,exhibition_end_date:G,exhibition_organization:H,exhibition_location:j})=>({id:R,image:k,title:M,category:P,status:K,startDate:$,endDate:G,organizationName:typeof H=="object"?H==null?void 0:H.name:H||j}));o(_)}catch(x){console.error("     :",x)}})()},[n,r]),jsxRuntimeExports.jsxs("div",{className:styles$1B.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.carouselHeader,children:[jsxRuntimeExports.jsx("h2",{className:styles$1B.carouselTitle,children:t}),jsxRuntimeExports.jsx(Link$1,{to:"/exhibitions",className:styles$1B.moreButton,children:""})]}),s.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:p,slidesPerView:"auto",centeredSlides:!1,spaceBetween:20,loop:s.length>3,className:styles$1B.carouselViewport,children:s.map(m=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1B.carouselSlide,children:jsxRuntimeExports.jsxs(Link$1,{to:`/exhibitions/${m.id}`,className:styles$1B.slideCard,children:[jsxRuntimeExports.jsx(Img,{src:m.image,alt:m.title,className:styles$1B.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1B.cardText,children:[jsxRuntimeExports.jsxs("h3",{children:["",m.title,""]}),jsxRuntimeExports.jsx("p",{children:m.organizationName}),jsxRuntimeExports.jsxs("p",{children:[m.startDate," ~ ",m.endDate]})]})]})},m.id))}):jsxRuntimeExports.jsx("div",{className:styles$1B.emptyBox,children:"  ."}),jsxRuntimeExports.jsx("button",{ref:l,className:styles$1B.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:c,className:styles$1B.nextButton,children:""})]})}const mobileMain="_mobileMain_1lnn6_1",carousel="_carousel_1lnn6_19",slider="_slider_1lnn6_33",slide="_slide_1lnn6_33",slideImage="_slideImage_1lnn6_77",tagline="_tagline_1lnn6_97",contentContainer$7="_contentContainer_1lnn6_121",userText="_userText_1lnn6_129",itemContainer="_itemContainer_1lnn6_149",itemBox="_itemBox_1lnn6_177",itemIcon="_itemIcon_1lnn6_209",nonGalleryBox="_nonGalleryBox_1lnn6_219",listSection="_listSection_1lnn6_259",titleSection$4="_titleSection_1lnn6_273",exhibitionList$2="_exhibitionList_1lnn6_295",galleryItemCard="_galleryItemCard_1lnn6_307",imageBox$1="_imageBox_1lnn6_349",exhibitionImage$2="_exhibitionImage_1lnn6_363",statusBadge$3="_statusBadge_1lnn6_377",ongoing$1="_ongoing_1lnn6_415",cardInfo$3="_cardInfo_1lnn6_423",galleryTitle$4="_galleryTitle_1lnn6_437",ellipsisTitle="_ellipsisTitle_1lnn6_463",addressText="_addressText_1lnn6_489",styles$1A={mobileMain,carousel,slider,slide,slideImage,tagline,contentContainer:contentContainer$7,userText,itemContainer,itemBox,itemIcon,nonGalleryBox,listSection,titleSection:titleSection$4,exhibitionList:exhibitionList$2,galleryItemCard,imageBox:imageBox$1,exhibitionImage:exhibitionImage$2,statusBadge:statusBadge$3,ongoing:ongoing$1,cardInfo:cardInfo$3,galleryTitle:galleryTitle$4,ellipsisTitle,addressText};function FaInstagram(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function FaYoutube(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function FaCalendarCheck(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function FaChevronLeft(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"},child:[]}]})(t)}function FaChevronRight$1(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(t)}function FaHeadphones(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function FaLink(t){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function FaLocationDot(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function FaPhone(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function FaShare$1(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function FaStar$1(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function FaX(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"},child:[]}]})(t)}function FaXmark(t){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const IcDocent=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"43",height:"44",viewBox:"0 0 40 31",fill:"none",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7315)",children:[jsxRuntimeExports.jsx("path",{d:"M8.49088 28.1266L6.79921 28.0436C3.74782 28.0436 1.27734 25.4071 1.27734 22.1579V21.5195C1.27734 18.2702 3.74782 15.6338 6.79921 15.6338L8.49088 15.5508C9.35267 15.5508 10.0549 16.2402 10.0549 17.0956V26.5881C10.0549 27.4435 9.35905 28.133 8.49088 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M10.5892 13.4258H10.3222C9.73218 13.4258 9.25391 13.9745 9.25391 14.6514V29.0211C9.25391 29.698 9.73218 30.2467 10.3222 30.2467H10.5892C11.1792 30.2467 11.6575 29.698 11.6575 29.0211V14.6514C11.6575 13.9745 11.1792 13.4258 10.5892 13.4258Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.5034 28.1266L33.1951 28.0436C36.2465 28.0436 38.717 25.4071 38.717 22.1579V21.5195C38.717 18.2702 36.2465 15.6338 33.1951 15.6338L31.5034 15.5508C30.6417 15.5508 29.9395 16.2402 29.9395 17.0956V26.5881C29.9395 27.4435 30.6353 28.133 31.5034 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.5523 13.4258H29.3182C28.8011 13.4258 28.3818 13.9745 28.3818 14.6514V29.0211C28.3818 29.698 28.8011 30.2467 29.3182 30.2467H29.5523C30.0694 30.2467 30.4886 29.698 30.4886 29.0211V14.6514C30.4886 13.9745 30.0694 13.4258 29.5523 13.4258Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M6.25 14.932C6.25 7.3865 12.4038 1.27734 20.0004 1.27734C27.597 1.27734 33.7508 7.3865 33.7508 14.932",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M9.51172 15.1494C9.51172 9.27002 14.2101 4.50781 20.0001 4.50781C25.79 4.50781 30.4884 9.27002 30.4884 15.1494",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M20.0002 23.0073C20.6912 23.0073 21.2514 22.4471 21.2514 21.7561C21.2514 21.0651 20.6912 20.5049 20.0002 20.5049C19.3092 20.5049 18.749 21.0651 18.749 21.7561C18.749 22.4471 19.3092 23.0073 20.0002 23.0073Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M20.0127 26.6843V25.8991C20.0127 25.6182 20.2106 25.382 20.4851 25.3437C20.7916 25.299 21.0916 25.2224 21.3788 25.1012C21.6342 24.9926 21.9342 25.1012 22.0683 25.3437L22.4641 26.0268C22.6364 26.3204 22.5088 26.7035 22.196 26.8375C21.7044 27.0482 21.1873 27.1886 20.6511 27.2524C20.3128 27.2907 20.0064 27.029 20.0064 26.6907L20.0127 26.6843ZM16.7124 26.2055C16.2847 25.8863 15.9017 25.5097 15.5761 25.082C15.3718 24.8075 15.4484 24.4181 15.7421 24.2457L16.4187 23.85C16.6613 23.7095 16.9677 23.7606 17.1401 23.984C17.3316 24.2266 17.555 24.45 17.7976 24.6351C18.021 24.8075 18.0721 25.1139 17.9381 25.3565L17.5487 26.0396C17.3763 26.3332 16.9869 26.4162 16.7124 26.2119V26.2055ZM24.2643 24.2138L23.5812 23.818C23.3386 23.6776 23.2301 23.3839 23.3386 23.1286C23.4599 22.835 23.5365 22.5285 23.5812 22.2157C23.6131 21.9476 23.8429 21.7497 24.1174 21.737L24.909 21.705C25.2537 21.6923 25.5282 21.9859 25.4963 22.3306C25.4708 22.5924 25.4197 22.8796 25.3367 23.1861C25.2601 23.4733 25.1644 23.7287 25.0686 23.9521C24.9345 24.2649 24.5579 24.3862 24.2643 24.2138ZM14.5036 21.1305C14.5611 20.6007 14.7015 20.0836 14.9058 19.5984C15.0399 19.2856 15.4165 19.1516 15.7165 19.3239L16.3996 19.7133C16.6422 19.8538 16.7507 20.1474 16.6422 20.4028C16.5273 20.6837 16.4507 20.9773 16.4124 21.2837C16.3741 21.5582 16.1379 21.7625 15.8634 21.7625C15.6016 21.7625 15.3399 21.7625 15.0782 21.7689C14.7335 21.7689 14.4653 21.4689 14.5036 21.1305ZM22.8343 19.5218C22.6428 19.2793 22.4194 19.0622 22.1704 18.8707C21.947 18.7047 21.8895 18.3919 22.03 18.1494L22.4194 17.4663C22.5854 17.1663 22.9811 17.0897 23.2556 17.2876C23.6897 17.6004 24.0728 17.977 24.3983 18.4047C24.6026 18.6792 24.5324 19.0686 24.2387 19.2473L23.5621 19.6495C23.3195 19.79 23.0131 19.7389 22.8407 19.5218H22.8343ZM17.8998 18.1877L17.4976 17.511C17.3252 17.2173 17.4465 16.8343 17.7657 16.7003C18.2572 16.4832 18.7743 16.3428 19.3042 16.2726C19.6425 16.2279 19.9489 16.4896 19.9489 16.8343V17.6195C19.9617 17.9004 19.7574 18.143 19.4829 18.1813C19.1765 18.226 18.8765 18.3089 18.5892 18.4302C18.3338 18.5388 18.0338 18.4302 17.8934 18.194L17.8998 18.1877Z",fill:"#3c504b"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7315",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"30.2458",fill:"white"})})})]}),IcBook=()=>jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M34.8147 9.71498V35.8671C34.8147 37.2268 33.429 38.3275 31.7132 38.3275H17.3066C15.5907 38.3275 14.2051 37.2268 14.2051 35.8671V9.71498C14.2051 9.00274 14.5871 8.35525 15.2022 7.90849C15.7591 7.50057 16.4907 7.24805 17.3066 7.24805H31.7132C33.429 7.24805 34.8147 8.35525 34.8147 9.71498Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M25.7951 4.0298V6.42551L17.2871 6.52263C16.4713 6.52263 15.7332 6.77515 15.1828 7.18307C14.5677 7.62984 14.1857 8.27733 14.1857 8.98957V32.746L8.28702 32.6488C6.57117 32.6488 5.18555 31.5481 5.18555 30.1819V4.0298C5.18555 2.67007 6.57117 1.56934 8.28702 1.56934H22.6872C24.403 1.56934 25.7951 2.67007 25.7951 4.0298Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M14.7559 7.53373L23.2768 1.51855",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip1_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M19.3828 11.9541H17.9862C17.5947 11.9541 17.2773 12.2715 17.2773 12.6629V14.0595C17.2773 14.451 17.5947 14.7683 17.9862 14.7683H19.3828C19.7742 14.7683 20.0916 14.451 20.0916 14.0595V12.6629C20.0916 12.2715 19.7742 11.9541 19.3828 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 11.9541H23.8114C23.4199 11.9541 23.1025 12.2715 23.1025 12.6629V14.0595C23.1025 14.451 23.4199 14.7683 23.8114 14.7683H25.208C25.5994 14.7683 25.9168 14.451 25.9168 14.0595V12.6629C25.9168 12.2715 25.5994 11.9541 25.208 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 11.9541H29.6356C29.2441 11.9541 28.9268 12.2715 28.9268 12.6629V14.0595C28.9268 14.451 29.2441 14.7683 29.6356 14.7683H31.0322C31.4236 14.7683 31.741 14.451 31.741 14.0595V12.6629C31.741 12.2715 31.4236 11.9541 31.0322 11.9541Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 16.6289H17.9862C17.5947 16.6289 17.2773 16.9463 17.2773 17.3377V18.7343C17.2773 19.1258 17.5947 19.4431 17.9862 19.4431H19.3828C19.7742 19.4431 20.0916 19.1258 20.0916 18.7343V17.3377C20.0916 16.9463 19.7742 16.6289 19.3828 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 16.6289H23.8114C23.4199 16.6289 23.1025 16.9463 23.1025 17.3377V18.7343C23.1025 19.1258 23.4199 19.4431 23.8114 19.4431H25.208C25.5994 19.4431 25.9168 19.1258 25.9168 18.7343V17.3377C25.9168 16.9463 25.5994 16.6289 25.208 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 16.6289H29.6356C29.2441 16.6289 28.9268 16.9463 28.9268 17.3377V18.7343C28.9268 19.1258 29.2441 19.4431 29.6356 19.4431H31.0322C31.4236 19.4431 31.741 19.1258 31.741 18.7343V17.3377C31.741 16.9463 31.4236 16.6289 31.0322 16.6289Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 21.3018H17.9862C17.5947 21.3018 17.2773 21.6191 17.2773 22.0106V23.4072C17.2773 23.7986 17.5947 24.116 17.9862 24.116H19.3828C19.7742 24.116 20.0916 23.7986 20.0916 23.4072V22.0106C20.0916 21.6191 19.7742 21.3018 19.3828 21.3018Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M25.208 21.3018H23.8114C23.4199 21.3018 23.1025 21.6191 23.1025 22.0106V23.4072C23.1025 23.7986 23.4199 24.116 23.8114 24.116H25.208C25.5994 24.116 25.9168 23.7986 25.9168 23.4072V22.0106C25.9168 21.6191 25.5994 21.3018 25.208 21.3018Z",fill:"#3c504b"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 21.3018H29.6356C29.2441 21.3018 28.9268 21.6191 28.9268 22.0106V23.4072C28.9268 23.7986 29.2441 24.116 29.6356 24.116H31.0322C31.4236 24.116 31.741 23.7986 31.741 23.4072V22.0106C31.741 21.6191 31.4236 21.3018 31.0322 21.3018Z",fill:"#3c504b"})]})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"39.8458",fill:"white"})}),jsxRuntimeExports.jsx("clipPath",{id:"clip1_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"14.4642",height:"12.1623",fill:"white",transform:"translate(17.2773 11.9541)"})})]})]}),IcFindGallery=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"41",viewBox:"0 0 39 36",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M33.5268 34.2223H5.24267C3.12862 34.2223 1.41895 32.5127 1.41895 30.3986V15.1037C1.41895 13.7559 2.12836 12.5073 3.29179 11.8192L17.5084 1.95837C18.7215 1.24187 20.2254 1.24187 21.4314 1.96546L35.4919 11.8192C36.6412 12.5073 37.3435 13.7559 37.3435 15.0966V30.3986C37.3435 32.5127 35.6338 34.2223 33.5198 34.2223H33.5268Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M8.8457 33.9734V18.5295C8.8457 18.0755 9.07271 17.6499 9.4558 17.4016L13.996 14.4575C14.897 13.8687 16.0817 14.5143 16.0817 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.9157 33.9734V18.5295C29.9157 18.0755 29.6887 17.6499 29.3056 17.4016L24.7654 14.4575C23.8644 13.8687 22.6797 14.5143 22.6797 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"})]}),SLIDE_INTERVAL=4e3,MAX_SLIDES=3;function MobileMain(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(0),l=useNavigate(),[c,p]=reactExports$1.useState([]),[m,x]=reactExports$1.useState([]),b=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}],_=M=>M?M.startsWith("http")?M:`https://artly.soundgram.co.kr/${M}`:"",R=M=>M==="exhibited"?"":M==="scheduled"?"":"";reactExports$1.useEffect(()=>{(async()=>{try{const K=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:$,exhibition_poster:G,exhibition_title:H})=>({id:$,image:_(G),title:H})).slice(0,MAX_SLIDES);r(K||[]),o(0)}catch(P){console.error("    :",P)}})()},[]),reactExports$1.useEffect(()=>{if(n.length<=1)return;const M=setInterval(()=>{o(P=>(P+1)%n.length)},SLIDE_INTERVAL);return()=>clearInterval(M)},[n]),reactExports$1.useEffect(()=>{(async()=>{try{if(t){const P=await userInstance.get("/api/galleries",{params:{liked_only:1}});p(P.data),x([])}else{const K=(await instance.get("/api/galleries")).data.sort((H,j)=>(j.like_count||0)-(H.like_count||0)).slice(0,10);p(K);const G=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.sort((H,j)=>(j.like_count||0)-(H.like_count||0)).slice(0,10);x(G)}}catch(P){console.error("   :",P)}})()},[t]);const k=t&&c.some(M=>M.exhibitions&&M.exhibitions.some(P=>P.exhibition_status==="exhibited"));return jsxRuntimeExports.jsxs("div",{className:styles$1A.mobileMain,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.carousel,children:jsxRuntimeExports.jsx("div",{className:styles$1A.slider,style:{transform:`translateX(-${s*100}%)`},children:n.map(M=>jsxRuntimeExports.jsx("div",{className:styles$1A.slide,onClick:()=>l(`/exhibitions/${M==null?void 0:M.id}`),children:jsxRuntimeExports.jsx(Img,{src:M==null?void 0:M.image,alt:M==null?void 0:M.title,className:styles$1A.slideImage})},M==null?void 0:M.id))})}),jsxRuntimeExports.jsxs("div",{className:styles$1A.tagline,children:["    ",jsxRuntimeExports.jsx("br",{})," , ARTLY"]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.userText,onClick:t?void 0:()=>l("/login"),style:t?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:t?`${t.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight$1,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1A.itemContainer,children:b.map(({key:M,icon:P,label:K,link:$})=>jsxRuntimeExports.jsxs("div",{className:styles$1A.itemBox,onClick:()=>{M==="book"?l($,{state:{activeTab:"MY"}}):l($)},children:[jsxRuntimeExports.jsx("span",{className:styles$1A.itemIcon,children:P}),jsxRuntimeExports.jsx("span",{className:styles$1A.itemLabel,children:K})]},M))}),t&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|  "}),k?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:c.map(({id:M,gallery_name:P,gallery_address:K,exhibitions:$})=>jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:$==null?void 0:$.filter(G=>G.exhibition_status==="exhibited").map(G=>jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>l(`/exhibitions/${G.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1A.statusBadge} ${styles$1A.ongoing}`,children:R(G.exhibition_status)}),jsxRuntimeExports.jsx(Img,{className:styles$1A.exhibitionImage,src:_(G.exhibition_poster),alt:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.ellipsisTitle,children:[P," ",jsxRuntimeExports.jsx("span",{style:{margin:"0 4px",color:"#ddd"},children:"|"})," ",G.exhibition_title]}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:K})]})]},G.id))},M))}):jsxRuntimeExports.jsxs("div",{className:styles$1A.nonGalleryBox,children:["   , ",jsxRuntimeExports.jsx("br",{}),"   ."]})]}),!t&&jsxRuntimeExports.jsxs("div",{className:styles$1A.listSection,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|   TOP 10"}),m.length>0?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:m.map(M=>{var P;return jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>l(`/exhibitions/${M.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1A.statusBadge} ${styles$1A.ongoing}`,children:R(M.exhibition_status)}),jsxRuntimeExports.jsx(Img,{className:styles$1A.exhibitionImage,src:_(M.exhibition_poster),alt:M.exhibition_title})]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.ellipsisTitle,children:M.exhibition_title}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:typeof M.exhibition_organization=="object"?(P=M.exhibition_organization)==null?void 0:P.name:M.exhibition_organization||M.exhibition_location})]})]},M.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1A.nonGalleryBox,children:"     ."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|   TOP 10"}),c.length>0?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:c.map(M=>{var K,$;const P=M.gallery_image||(($=(K=M.exhibitions)==null?void 0:K[0])==null?void 0:$.exhibition_poster);return jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>l(`/galleries/${M.id}`),children:[jsxRuntimeExports.jsx("div",{className:styles$1A.imageBox,children:jsxRuntimeExports.jsx(Img,{className:styles$1A.exhibitionImage,src:_(P),alt:M.gallery_name})}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.ellipsisTitle,children:M.gallery_name}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:M.gallery_address||"  "})]})]},M.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1A.nonGalleryBox,children:"  ."})]})]})]})]})}function FaCheck(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function FaChevronDown(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function FaChevronRight(t){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function FaChevronUp(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function FaHome(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function FaPause(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function FaPlay(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function FaPlus(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function FaSearch(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function FaShare(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function FaStar(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function FaStop(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function FaTimes(t){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function FaUser(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Main(){const{isMobile:t}=useResponsive(),{user:n}=useUser(),r=useNavigate(),s=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1E.mainLayout,children:t?jsxRuntimeExports.jsx(MobileMain,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MainCarousel,{}),jsxRuntimeExports.jsxs("div",{className:styles$1E.tabContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1E.userText,onClick:n?void 0:()=>r("/login"),style:n?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:n?`${n.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1E.itemContainer,children:s.map(({key:o,icon:l,label:c,link:p})=>jsxRuntimeExports.jsxs("div",{className:styles$1E.itemBox,onClick:()=>{o==="book"?r(p,{state:{activeTab:"MY"}}):r(p)},children:[jsxRuntimeExports.jsx("span",{className:styles$1E.itemIcon,children:l}),jsxRuntimeExports.jsx("span",{className:styles$1E.itemLabel,children:c})]},o))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1E.carouselContainer,children:[jsxRuntimeExports.jsx(SwipeCarousel,{title:"|    "}),jsxRuntimeExports.jsx(SwipeCarousel,{title:"|  ",category:"sort",value:"popular"}),jsxRuntimeExports.jsx(ArtistCarousel,{title:"|   "})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}const layout$B="_layout_s8a5n_1",gridContainer$3="_gridContainer_s8a5n_19",dropboxContainer$2="_dropboxContainer_s8a5n_31",nonDataText$3="_nonDataText_s8a5n_43",styles$1z={layout:layout$B,gridContainer:gridContainer$3,dropboxContainer:dropboxContainer$2,nonDataText:nonDataText$3},layout$A="_layout_1ew8p_1",titleContainer$2="_titleContainer_1ew8p_13",listTitle="_listTitle_1ew8p_29",searchForm$1="_searchForm_1ew8p_107",searchInput$1="_searchInput_1ew8p_121",formButton="_formButton_1ew8p_149",styles$1y={layout:layout$A,titleContainer:titleContainer$2,listTitle,searchForm:searchForm$1,searchInput:searchInput$1,formButton},IcSearch=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function ListHeader({title:t,onEvent:n,onSearch:r,value:s,isArtworks:o=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1y.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$1y.titleContainer,children:jsxRuntimeExports.jsx("h1",{className:styles$1y.listTitle,children:t})}),!o&&jsxRuntimeExports.jsxs("form",{className:styles$1y.searchForm,action:n,children:[jsxRuntimeExports.jsx("input",{className:styles$1y.searchInput,placeholder:"...",onChange:r,value:s}),jsxRuntimeExports.jsx("button",{className:styles$1y.formButton,children:jsxRuntimeExports.jsx(IcSearch,{})})]})]})}const layout$z="_layout_11xsl_1",styles$1x={layout:layout$z},layout$y="_layout_1g516_1",clickedLabel="_clickedLabel_1g516_11",dropdownButton="_dropdownButton_1g516_19",clickedButton="_clickedButton_1g516_63",undisplay="_undisplay_1g516_85",clickedDropdownList="_clickedDropdownList_1g516_93",clickedItem="_clickedItem_1g516_129",dropdownItem$1="_dropdownItem_1g516_131",rectButton="_rectButton_1g516_173",styles$1w={layout:layout$y,clickedLabel,dropdownButton,clickedButton,undisplay,clickedDropdownList,clickedItem,dropdownItem:dropdownItem$1,rectButton};function Dropdown({title:t,dropdownItems:n,isOpen:r,filterKey:s,onOpen:o,onSetFilter:l,shape:c="round",defaultValue:p}){const m=n.find(k=>k.value===p)||n[0],[x,b]=reactExports$1.useState(m.label),{isMobile:_}=useResponsive(),R=k=>{b(k.label),l(M=>({...M,[s]:k.value})),o()};return jsxRuntimeExports.jsxs("div",{className:styles$1w.layout,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$1w.dropdownButton} ${r&&styles$1w.clickedButton} ${c==="rect"?styles$1w.rectButton:""}`,onClick:o,children:[!_&&`${t} - `,jsxRuntimeExports.jsx("span",{className:`${x!==n[0].label&&styles$1w.clickedLabel}`,children:x})]}),jsxRuntimeExports.jsx("ul",{className:`${r&&styles$1w.clickedDropdownList} ${r&&styles$1w.undisplay}`,children:r&&n.map(k=>jsxRuntimeExports.jsx("li",{className:`${styles$1w.dropdownItem} ${k.label===x&&styles$1w.clickedItem}`,onClick:()=>{R(k)},children:k.label},k.label))})]})}function DropdownContainer({labels:t,filterList:n,onSetFilter:r,shape:s="round"}){const[o,l]=reactExports$1.useState(null),c=p=>{l(o===p?null:p)};return jsxRuntimeExports.jsx("div",{className:styles$1x.layout,children:n.map((p,m)=>jsxRuntimeExports.jsx(Dropdown,{title:p.label,dropdownItems:p.options,filterKey:p.key,defaultValue:p.defaultValue,isOpen:m===o,onOpen:()=>{c(m)},onSetFilter:r,shape:s},p.key))})}const exhibitionFilter=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],countParagraph="_countParagraph_1ppwl_1",counts="_counts_1ppwl_11",styles$1v={countParagraph,counts};function TotalCounts({num:t,label:n}){return jsxRuntimeExports.jsxs("p",{className:styles$1v.countParagraph,children:[" ",jsxRuntimeExports.jsx("strong",{className:styles$1v.counts,children:t})," ",n,"  "]})}const paginationContainer="_paginationContainer_vhj2k_1",sideButtonContainer="_sideButtonContainer_vhj2k_11",pageNumbersContainer="_pageNumbersContainer_vhj2k_19",pageButton="_pageButton_vhj2k_33",active$6="_active_vhj2k_57",styles$1u={paginationContainer,sideButtonContainer,pageNumbersContainer,pageButton,active:active$6};function Pagination({currentPage:t,onPageChange:n,totalItems:r,itemsPerPage:s=10}){const o=Math.ceil(r/s),l=getPageNumbers(t,o,5);return jsxRuntimeExports.jsxs("div",{className:styles$1u.paginationContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1u.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>n(t-1),className:styles$1u.pageButton,disabled:t===1,children:"<"})}),jsxRuntimeExports.jsx("div",{className:styles$1u.pageNumbersContainer,children:l.map(c=>jsxRuntimeExports.jsx("button",{onClick:()=>n(c),className:`${styles$1u.pageButton} ${t===c?styles$1u.active:""}`,children:c},c))}),jsxRuntimeExports.jsx("div",{className:styles$1u.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>n(t+1),className:styles$1u.pageButton,disabled:t===o,children:">"})})]})}const getPageNumbers=(t,n,r)=>{const s=Math.floor(r/2);let o=Math.max(t-s,1),l=Math.min(o+r-1,n);return l-o+1<r&&(o=Math.max(l-r+1,1)),Array.from({length:l-o+1},(c,p)=>o+p)},usePagination=(t=10,n)=>{const[r,s]=reactExports$1.useState(1),o=Array.isArray(n)?n:[],l=(r-1)*t,c=o.slice(l,l+t);return{currentPage:r,setCurrentPage:s,pageItems:c}},exhibitionCardLayout="_exhibitionCardLayout_1pkcv_1",statusContainer$2="_statusContainer_1pkcv_37",ongoing="_ongoing_1pkcv_73",imageBox="_imageBox_1pkcv_81",exhibitionImage$1="_exhibitionImage_1pkcv_89",favButton$4="_favButton_1pkcv_105",locButton="_locButton_1pkcv_127",icon$7="_icon_1pkcv_151",likedIcon$6="_likedIcon_1pkcv_167",exhibitionTitle$3="_exhibitionTitle_1pkcv_189",infoContainer$2="_infoContainer_1pkcv_207",subParagraph$4="_subParagraph_1pkcv_215",styles$1t={exhibitionCardLayout,statusContainer:statusContainer$2,ongoing,imageBox,exhibitionImage:exhibitionImage$1,favButton:favButton$4,locButton,icon:icon$7,likedIcon:likedIcon$6,exhibitionTitle:exhibitionTitle$3,infoContainer:infoContainer$2,subParagraph:subParagraph$4},container$9="_container_1qv6y_1",infoBox="_infoBox_1qv6y_25",styles$1s={container:container$9,infoBox},IcGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",IcFavGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function Marker({title:t,isLike:n=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1s.container,children:[jsxRuntimeExports.jsx("img",{src:n?IcFavGallery:IcGallery,alt:"marker",className:styles$1s.markerImage}),jsxRuntimeExports.jsx("div",{className:styles$1s.infoBox,children:t})]})}const createMarkerElement=(t,n=!1)=>{const r=document.createElement("div");return ReactDOM$1.createRoot(r).render(jsxRuntimeExports.jsx(Marker,{title:t,isLike:n})),r},useMap=({lat:t,lng:n,id:r,results:s,zoomLevel:o=15,title:l,location:c})=>{const p=reactExports$1.useRef(null),m=reactExports$1.useRef([]),x=useNavigate();return reactExports$1.useEffect(()=>{var R;const b=document.getElementById(r);if(p.current||!b||!((R=window.naver)!=null&&R.maps)||t===null||n===null)return;const _=new naver.maps.Map(b,{center:new naver.maps.LatLng(t,n),zoom:o});return p.current=_,()=>{p.current&&(p.current.destroy(),p.current=null)}},[r]),reactExports$1.useEffect(()=>{const b=p.current;if(!b||t===null||n===null)return;const _=new naver.maps.LatLng(t,n);b.setCenter(_),m.current.forEach(k=>k.setMap(null)),m.current=[];const R=new naver.maps.Point(0,0);if(l&&c){const k=createMarkerElement(l,!1),M=new naver.maps.Marker({position:_,map:b,title:l,icon:{content:k,anchor:R}});m.current.push(M)}else if(s&&s.length>0)s.forEach(({gallery_name:k,gallery_latitude:M,gallery_longitude:P,is_liked:K,id:$})=>{const G=createMarkerElement(k,K),H=new naver.maps.LatLng(M,P),j=new naver.maps.Marker({position:H,map:b,title:k,icon:{content:G,anchor:R}});naver.maps.Event.addListener(j,"click",()=>{x(`/galleries/${$}`)}),m.current.push(j)});else{const k=new naver.maps.Marker({position:_,map:b,title:" "});m.current.push(k)}},[t,n,s,l,c,o,x]),p},IcLocation=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]}),modalOverlay$9="_modalOverlay_1eiia_1",fadeOutOverlay="_fadeOutOverlay_1eiia_37",modalBox$4="_modalBox_1eiia_45",modalMessage="_modalMessage_1eiia_81",errorMessage$6="_errorMessage_1eiia_105",btnBox="_btnBox_1eiia_115",modalButton="_modalButton_1eiia_137",errorButton="_errorButton_1eiia_177",slideUp="_slideUp_1eiia_253",slideDown="_slideDown_1eiia_261",styles$1r={modalOverlay:modalOverlay$9,fadeOutOverlay,modalBox:modalBox$4,modalMessage,errorMessage:errorMessage$6,btnBox,modalButton,errorButton,slideUp,slideDown};function AlertModal({isOpen:t,message:n,onClose:r,type:s="default"}){const[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(""),m=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{if(t)l(!0),p(styles$1r.slideUp);else if(o){p(styles$1r.slideDown);const R=setTimeout(()=>{l(!1)},300);return()=>clearTimeout(R)}},[t,o]),reactExports$1.useEffect(()=>{t&&o&&m.current&&m.current.focus()},[t,o]),!o)return null;const x=s==="error",b=x?`${styles$1r.modalButton} ${styles$1r.errorButton}`:styles$1r.modalButton,_=x?`${styles$1r.modalMessage} ${styles$1r.errorMessage}`:styles$1r.modalMessage;return jsxRuntimeExports.jsx("div",{className:`${styles$1r.modalOverlay} ${t?"":styles$1r.fadeOutOverlay}`,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:`${styles$1r.modalBox} ${c}`,onClick:R=>R.stopPropagation(),children:[jsxRuntimeExports.jsx("p",{className:_,children:n}),jsxRuntimeExports.jsx("button",{ref:m,className:b,onClick:r,children:""})]})})}const AlertContext=reactExports$1.createContext();function AlertProvider({children:t}){const[n,r]=reactExports$1.useState({isOpen:!1,message:"",type:"default"}),s=reactExports$1.useCallback((l,c="default")=>{r({isOpen:!0,message:l,type:c})},[]),o=reactExports$1.useCallback(()=>{r(l=>({...l,isOpen:!1}))},[]);return jsxRuntimeExports.jsxs(AlertContext.Provider,{value:{showAlert:s},children:[t,jsxRuntimeExports.jsx(AlertModal,{isOpen:n.isOpen,message:n.message,type:n.type,onClose:o})]})}const useAlert=()=>{const t=reactExports$1.useContext(AlertContext);if(!t)throw new Error("useAlert AlertProvider   .");return t},modalOverlay$8="_modalOverlay_ekilh_1",mapModalBox="_mapModalBox_ekilh_21",mapModalTitle="_mapModalTitle_ekilh_61",mapModalSubTitle="_mapModalSubTitle_ekilh_75",mapModalMap="_mapModalMap_ekilh_89",mapModalClose="_mapModalClose_ekilh_103",styles$1q={modalOverlay:modalOverlay$8,mapModalBox,mapModalTitle,mapModalSubTitle,mapModalMap,mapModalClose};function MapModalSimple({lat:t,lng:n,title:r,address:s,mapId:o,onClose:l}){return useMap({lat:t,lng:n,id:o,title:r,location:s}),reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$1q.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1q.mapModalBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$1q.mapModalTitle,children:r}),jsxRuntimeExports.jsx("p",{className:styles$1q.mapModalSubTitle,children:s}),jsxRuntimeExports.jsx("div",{id:o,className:styles$1q.mapModalMap}),jsxRuntimeExports.jsx("button",{className:styles$1q.mapModalClose,onClick:l,children:""})]})})}function ExhibitionCard({exhibitionItem:t,onEvent:n}){const{showAlert:r}=useAlert(),{user:s}=useUser(),{id:o,exhibition_title:l,exhibition_category:c,exhibition_poster:p,exhibition_location:m,exhibition_start_date:x,exhibition_end_date:b,exhibition_status:_,is_liked:R,exhibition_organization:k}=t,[M,P]=reactExports$1.useState(!1),K=useNavigate(),$=`exhibition-${o}-map`,G=_==="exhibited"?" ":_==="upcoming"?" ":" ",H=()=>{if(!m){r("   .");return}P(Y=>!Y),document.body.style.overflow="hidden"},j=()=>{P(Y=>!Y),document.body.style.overflow="unset"},W=async()=>{!s&&K("/login");try{R===!0?await userInstance.delete("/api/likes",{data:{liked_id:o,liked_type:"exhibition"}}):await userInstance.post("/api/likes",{liked_id:o,liked_type:"exhibition"}),await n()}catch(Y){console.error(Y)}};return jsxRuntimeExports.jsxs("div",{className:styles$1t.exhibitionCardLayout,children:[M&&jsxRuntimeExports.jsx(MapModalSimple,{lat:k.latitude,lng:k.longitude,title:l,address:m,mapId:$,onClose:j}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1t.layout,to:`/exhibitions/${o}`,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1t.statusContainer} ${_==="exhibited"&&styles$1t.ongoing}`,children:G}),jsxRuntimeExports.jsx("div",{className:styles$1t.imageBox,children:jsxRuntimeExports.jsx(Img,{className:styles$1t.exhibitionImage,src:p,alt:"  "})}),jsxRuntimeExports.jsx("button",{className:styles$1t.favButton,onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),W()},children:jsxRuntimeExports.jsx(FaStar$1,{className:R===!0?styles$1t.likedIcon:styles$1t.icon})}),jsxRuntimeExports.jsx("button",{className:styles$1t.locButton,onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),H()},children:jsxRuntimeExports.jsx(IcLocation,{})}),jsxRuntimeExports.jsxs("div",{className:styles$1t.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1t.exhibitionTitle,children:l}),jsxRuntimeExports.jsxs("p",{className:styles$1t.subParagraph,children:[c," | ",m||" "]}),jsxRuntimeExports.jsxs("p",{className:styles$1t.subParagraph,children:[x," ~ ",b]})]})]})]})}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(t,n){module.exports=n()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(n){_useWebWorker=!!n},getWebWorker=function(){return _useWebWorker},setLocationHref=function(n){locationHref=n},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,n){var r,s=t.length,o;for(r=0;r<s;r+=1){o=t[r].prototype;for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n.prototype[l]=o[l])}}function getDescriptor(t,n){return Object.getOwnPropertyDescriptor(t,n)}function createProxyFunction(t){function n(){}return n.prototype=t,n}var audioControllerFactory=(function(){function t(n){this.audios=[],this.audioFactory=n,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].pause()},resume:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].resume()},setRate:function(r){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}})(),createTypedArray=(function(){function t(r,s){var o=0,l=[],c;switch(r){case"int16":case"uint8c":c=1;break;default:c=1.1;break}for(o=0;o<s;o+=1)l.push(c);return l}function n(r,s){return r==="float32"?new Float32Array(s):r==="int16"?new Int16Array(s):r==="uint8c"?new Uint8ClampedArray(s):t(r,s)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?n:t})();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n,r=t.length;for(n=0;n<r;n+=1)BMMath[t[n]]=Math[t[n]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var n=_typeof$6(t);if(n==="object"&&t.length){var r=createSizedArray(t.length),s,o=t.length;for(s=0;s<o;s+=1)r[s]=Math.abs(t[s]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,n,r,s){this.type=t,this.currentTime=n,this.totalTime=r,this.direction=s<0?-1:1}function BMCompleteEvent(t,n){this.type=t,this.direction=n<0?-1:1}function BMCompleteLoopEvent(t,n,r,s){this.type=t,this.currentLoop=r,this.totalLoops=n,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,n,r){this.type=t,this.firstFrame=n,this.totalFrames=r}function BMDestroyEvent(t,n){this.type=t,this.target=n}function BMRenderFrameErrorEvent(t,n){this.type="renderFrameError",this.nativeError=t,this.currentTime=n}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}})();function HSVtoRGB(t,n,r){var s,o,l,c,p,m,x,b;switch(c=Math.floor(t*6),p=t*6-c,m=r*(1-n),x=r*(1-p*n),b=r*(1-(1-p)*n),c%6){case 0:s=r,o=b,l=m;break;case 1:s=x,o=r,l=m;break;case 2:s=m,o=r,l=b;break;case 3:s=m,o=x,l=r;break;case 4:s=b,o=m,l=r;break;case 5:s=r,o=m,l=x;break}return[s,o,l]}function RGBtoHSV(t,n,r){var s=Math.max(t,n,r),o=Math.min(t,n,r),l=s-o,c,p=s===0?0:l/s,m=s/255;switch(s){case o:c=0;break;case t:c=n-r+l*(n<r?6:0),c/=6*l;break;case n:c=r-t+l*2,c/=6*l;break;case r:c=t-n+l*4,c/=6*l;break}return[c,p,m]}function addSaturationToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[1]+=n,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[2]+=n,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,n){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[0]+=n/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=(function(){var t=[],n,r;for(n=0;n<256;n+=1)r=n.toString(16),t[n]=r.length===1?"0"+r:r;return function(s,o,l){return s<0&&(s=0),o<0&&(o=0),l<0&&(l=0),"#"+t[s]+t[o]+t[l]}})(),setSubframeEnabled=function(n){subframeEnabled=!!n},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(n){expressionsPlugin=n},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(n){expressionsInterfaces=n},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(n){defaultCurveSegments=n},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(n){idPrefix$1=n};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(t)}var dataManager=(function(){var t=1,n=[],r,s,o={onmessage:function(){},postMessage:function(k){r({data:k})}},l={postMessage:function(k){o.onmessage({data:k})}};function c(R){if(window.Worker&&window.Blob&&getWebWorker()){var k=new Blob(["var _workerSelf = self; self.onmessage = ",R.toString()],{type:"text/javascript"}),M=URL.createObjectURL(k);return new Worker(M)}return r=R,o}function p(){s||(s=c(function(k){function M(){function K(de,ae){var ue,re,oe=de.length,Ce,Ae,we,Re;for(re=0;re<oe;re+=1)if(ue=de[re],"ks"in ue&&!ue.completed){if(ue.completed=!0,ue.hasMask){var Be=ue.masksProperties;for(Ae=Be.length,Ce=0;Ce<Ae;Ce+=1)if(Be[Ce].pt.k.i)W(Be[Ce].pt.k);else for(Re=Be[Ce].pt.k.length,we=0;we<Re;we+=1)Be[Ce].pt.k[we].s&&W(Be[Ce].pt.k[we].s[0]),Be[Ce].pt.k[we].e&&W(Be[Ce].pt.k[we].e[0])}ue.ty===0?(ue.layers=H(ue.refId,ae),K(ue.layers,ae)):ue.ty===4?j(ue.shapes):ue.ty===5&&Ee(ue)}}function $(de,ae){if(de){var ue=0,re=de.length;for(ue=0;ue<re;ue+=1)de[ue].t===1&&(de[ue].data.layers=H(de[ue].data.refId,ae),K(de[ue].data.layers,ae))}}function G(de,ae){for(var ue=0,re=ae.length;ue<re;){if(ae[ue].id===de)return ae[ue];ue+=1}return null}function H(de,ae){var ue=G(de,ae);return ue?ue.layers.__used?JSON.parse(JSON.stringify(ue.layers)):(ue.layers.__used=!0,ue.layers):null}function j(de){var ae,ue=de.length,re,oe;for(ae=ue-1;ae>=0;ae-=1)if(de[ae].ty==="sh")if(de[ae].ks.k.i)W(de[ae].ks.k);else for(oe=de[ae].ks.k.length,re=0;re<oe;re+=1)de[ae].ks.k[re].s&&W(de[ae].ks.k[re].s[0]),de[ae].ks.k[re].e&&W(de[ae].ks.k[re].e[0]);else de[ae].ty==="gr"&&j(de[ae].it)}function W(de){var ae,ue=de.i.length;for(ae=0;ae<ue;ae+=1)de.i[ae][0]+=de.v[ae][0],de.i[ae][1]+=de.v[ae][1],de.o[ae][0]+=de.v[ae][0],de.o[ae][1]+=de.v[ae][1]}function Y(de,ae){var ue=ae?ae.split("."):[100,100,100];return de[0]>ue[0]?!0:ue[0]>de[0]?!1:de[1]>ue[1]?!0:ue[1]>de[1]?!1:de[2]>ue[2]?!0:ue[2]>de[2]?!1:null}var X=(function(){var de=[4,4,14];function ae(re){var oe=re.t.d;re.t.d={k:[{s:oe,t:0}]}}function ue(re){var oe,Ce=re.length;for(oe=0;oe<Ce;oe+=1)re[oe].ty===5&&ae(re[oe])}return function(re){if(Y(de,re.v)&&(ue(re.layers),re.assets)){var oe,Ce=re.assets.length;for(oe=0;oe<Ce;oe+=1)re.assets[oe].layers&&ue(re.assets[oe].layers)}}})(),te=(function(){var de=[4,7,99];return function(ae){if(ae.chars&&!Y(de,ae.v)){var ue,re=ae.chars.length;for(ue=0;ue<re;ue+=1){var oe=ae.chars[ue];oe.data&&oe.data.shapes&&(j(oe.data.shapes),oe.data.ip=0,oe.data.op=99999,oe.data.st=0,oe.data.sr=1,oe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ae.chars[ue].t||(oe.data.shapes.push({ty:"no"}),oe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),se=(function(){var de=[5,7,15];function ae(re){var oe=re.t.p;typeof oe.a=="number"&&(oe.a={a:0,k:oe.a}),typeof oe.p=="number"&&(oe.p={a:0,k:oe.p}),typeof oe.r=="number"&&(oe.r={a:0,k:oe.r})}function ue(re){var oe,Ce=re.length;for(oe=0;oe<Ce;oe+=1)re[oe].ty===5&&ae(re[oe])}return function(re){if(Y(de,re.v)&&(ue(re.layers),re.assets)){var oe,Ce=re.assets.length;for(oe=0;oe<Ce;oe+=1)re.assets[oe].layers&&ue(re.assets[oe].layers)}}})(),pe=(function(){var de=[4,1,9];function ae(re){var oe,Ce=re.length,Ae,we;for(oe=0;oe<Ce;oe+=1)if(re[oe].ty==="gr")ae(re[oe].it);else if(re[oe].ty==="fl"||re[oe].ty==="st")if(re[oe].c.k&&re[oe].c.k[0].i)for(we=re[oe].c.k.length,Ae=0;Ae<we;Ae+=1)re[oe].c.k[Ae].s&&(re[oe].c.k[Ae].s[0]/=255,re[oe].c.k[Ae].s[1]/=255,re[oe].c.k[Ae].s[2]/=255,re[oe].c.k[Ae].s[3]/=255),re[oe].c.k[Ae].e&&(re[oe].c.k[Ae].e[0]/=255,re[oe].c.k[Ae].e[1]/=255,re[oe].c.k[Ae].e[2]/=255,re[oe].c.k[Ae].e[3]/=255);else re[oe].c.k[0]/=255,re[oe].c.k[1]/=255,re[oe].c.k[2]/=255,re[oe].c.k[3]/=255}function ue(re){var oe,Ce=re.length;for(oe=0;oe<Ce;oe+=1)re[oe].ty===4&&ae(re[oe].shapes)}return function(re){if(Y(de,re.v)&&(ue(re.layers),re.assets)){var oe,Ce=re.assets.length;for(oe=0;oe<Ce;oe+=1)re.assets[oe].layers&&ue(re.assets[oe].layers)}}})(),ge=(function(){var de=[4,4,18];function ae(re){var oe,Ce=re.length,Ae,we;for(oe=Ce-1;oe>=0;oe-=1)if(re[oe].ty==="sh")if(re[oe].ks.k.i)re[oe].ks.k.c=re[oe].closed;else for(we=re[oe].ks.k.length,Ae=0;Ae<we;Ae+=1)re[oe].ks.k[Ae].s&&(re[oe].ks.k[Ae].s[0].c=re[oe].closed),re[oe].ks.k[Ae].e&&(re[oe].ks.k[Ae].e[0].c=re[oe].closed);else re[oe].ty==="gr"&&ae(re[oe].it)}function ue(re){var oe,Ce,Ae=re.length,we,Re,Be,We;for(Ce=0;Ce<Ae;Ce+=1){if(oe=re[Ce],oe.hasMask){var De=oe.masksProperties;for(Re=De.length,we=0;we<Re;we+=1)if(De[we].pt.k.i)De[we].pt.k.c=De[we].cl;else for(We=De[we].pt.k.length,Be=0;Be<We;Be+=1)De[we].pt.k[Be].s&&(De[we].pt.k[Be].s[0].c=De[we].cl),De[we].pt.k[Be].e&&(De[we].pt.k[Be].e[0].c=De[we].cl)}oe.ty===4&&ae(oe.shapes)}}return function(re){if(Y(de,re.v)&&(ue(re.layers),re.assets)){var oe,Ce=re.assets.length;for(oe=0;oe<Ce;oe+=1)re.assets[oe].layers&&ue(re.assets[oe].layers)}}})();function me(de){de.__complete||(pe(de),X(de),te(de),se(de),ge(de),K(de.layers,de.assets),$(de.chars,de.assets),de.__complete=!0)}function Ee(de){de.t.a.length===0&&"m"in de.t.p}var ve={};return ve.completeData=me,ve.checkColors=pe,ve.checkChars=te,ve.checkPathProperties=se,ve.checkShapes=ge,ve.completeLayers=K,ve}if(l.dataManager||(l.dataManager=M()),l.assetLoader||(l.assetLoader=(function(){function K(G){var H=G.getResponseHeader("content-type");return H&&G.responseType==="json"&&H.indexOf("json")!==-1||G.response&&_typeof$5(G.response)==="object"?G.response:G.response&&typeof G.response=="string"?JSON.parse(G.response):G.responseText?JSON.parse(G.responseText):null}function $(G,H,j,W){var Y,X=new XMLHttpRequest;try{X.responseType="json"}catch{}X.onreadystatechange=function(){if(X.readyState===4)if(X.status===200)Y=K(X),j(Y);else try{Y=K(X),j(Y)}catch(te){W&&W(te)}};try{X.open(["G","E","T"].join(""),G,!0)}catch{X.open(["G","E","T"].join(""),H+"/"+G,!0)}X.send()}return{load:$}})()),k.data.type==="loadAnimation")l.assetLoader.load(k.data.path,k.data.fullPath,function(K){l.dataManager.completeData(K),l.postMessage({id:k.data.id,payload:K,status:"success"})},function(){l.postMessage({id:k.data.id,status:"error"})});else if(k.data.type==="complete"){var P=k.data.animation;l.dataManager.completeData(P),l.postMessage({id:k.data.id,payload:P,status:"success"})}else k.data.type==="loadData"&&l.assetLoader.load(k.data.path,k.data.fullPath,function(K){l.postMessage({id:k.data.id,payload:K,status:"success"})},function(){l.postMessage({id:k.data.id,status:"error"})})}),s.onmessage=function(R){var k=R.data,M=k.id,P=n[M];n[M]=null,k.status==="success"?P.onComplete(k.payload):P.onError&&P.onError()})}function m(R,k){t+=1;var M="processId_"+t;return n[M]={onComplete:R,onError:k},M}function x(R,k,M){p();var P=m(k,M);s.postMessage({type:"loadAnimation",path:R,fullPath:window.location.origin+window.location.pathname,id:P})}function b(R,k,M){p();var P=m(k,M);s.postMessage({type:"loadData",path:R,fullPath:window.location.origin+window.location.pathname,id:P})}function _(R,k,M){p();var P=m(k,M);s.postMessage({type:"complete",animation:R,id:P})}return{loadAnimation:x,loadData:b,completeAnimation:_}})(),ImagePreloader=(function(){var t=(function(){var $=createTag("canvas");$.width=1,$.height=1;var G=$.getContext("2d");return G.fillStyle="rgba(0,0,0,0)",G.fillRect(0,0,1,1),$})();function n(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s($,G,H){var j="";if($.e)j=$.p;else if(G){var W=$.p;W.indexOf("images/")!==-1&&(W=W.split("/")[1]),j=G+W}else j=H,j+=$.u?$.u:"",j+=$.p;return j}function o($){var G=0,H=setInterval((function(){var j=$.getBBox();(j.width||G>500)&&(this._imageLoaded(),clearInterval(H)),G+=1}).bind(this),50)}function l($){var G=s($,this.assetsPath,this.path),H=createNS("image");isSafari?this.testImageLoaded(H):H.addEventListener("load",this._imageLoaded,!1),H.addEventListener("error",(function(){j.img=t,this._imageLoaded()}).bind(this),!1),H.setAttributeNS("http://www.w3.org/1999/xlink","href",G),this._elementHelper.append?this._elementHelper.append(H):this._elementHelper.appendChild(H);var j={img:H,assetData:$};return j}function c($){var G=s($,this.assetsPath,this.path),H=createTag("img");H.crossOrigin="anonymous",H.addEventListener("load",this._imageLoaded,!1),H.addEventListener("error",(function(){j.img=t,this._imageLoaded()}).bind(this),!1),H.src=G;var j={img:H,assetData:$};return j}function p($){var G={assetData:$},H=s($,this.assetsPath,this.path);return dataManager.loadData(H,(function(j){G.img=j,this._footageLoaded()}).bind(this),(function(){G.img={},this._footageLoaded()}).bind(this)),G}function m($,G){this.imagesLoadedCb=G;var H,j=$.length;for(H=0;H<j;H+=1)$[H].layers||(!$[H].t||$[H].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData($[H]))):$[H].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData($[H]))))}function x($){this.path=$||""}function b($){this.assetsPath=$||""}function _($){for(var G=0,H=this.images.length;G<H;){if(this.images[G].assetData===$)return this.images[G].img;G+=1}return null}function R(){this.imagesLoadedCb=null,this.images.length=0}function k(){return this.totalImages===this.loadedAssets}function M(){return this.totalFootages===this.loadedFootagesCount}function P($,G){$==="svg"?(this._elementHelper=G,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function K(){this._imageLoaded=n.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=p.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return K.prototype={loadAssets:m,setAssetsPath:b,setPath:x,loadedImages:k,loadedFootages:M,destroy:R,getAsset:_,createImgData:c,createImageData:l,imageLoaded:n,footageLoaded:r,setCacheType:P},K})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(n,r){if(this._cbs[n])for(var s=this._cbs[n],o=0;o<s.length;o+=1)s[o](r)},addEventListener:function(n,r){return this._cbs[n]||(this._cbs[n]=[]),this._cbs[n].push(r),(function(){this.removeEventListener(n,r)}).bind(this)},removeEventListener:function(n,r){if(!r)this._cbs[n]=null;else if(this._cbs[n]){for(var s=0,o=this._cbs[n].length;s<o;)this._cbs[n][s]===r&&(this._cbs[n].splice(s,1),s-=1,o-=1),s+=1;this._cbs[n].length||(this._cbs[n]=null)}}};var markerParser=(function(){function t(n){for(var r=n.split(`\r
`),s={},o,l=0,c=0;c<r.length;c+=1)o=r[c].split(":"),o.length===2&&(s[o[0]]=o[1].trim(),l+=1);if(l===0)throw new Error;return s}return function(n){for(var r=[],s=0;s<n.length;s+=1){var o=n[s],l={time:o.tm,duration:o.dr};try{l.payload=JSON.parse(n[s].cm)}catch{try{l.payload=t(n[s].cm)}catch{l.payload={name:n[s].cm}}}r.push(l)}return r}})(),ProjectInterface=(function(){function t(n){this.compositions.push(n)}return function(){function n(r){for(var s=0,o=this.compositions.length;s<o;){if(this.compositions[s].data&&this.compositions[s].data.nm===r)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return n.compositions=[],n.currentFrame=0,n.registerComposition=t,n}})(),renderers={},registerRenderer=function(n,r){renderers[n]=r};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var n="svg";t.animType?n=t.animType:t.renderer&&(n=t.renderer);var r=getRenderer(n);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(n,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=n,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,n){n&&_typeof$4(n)!=="object"&&(n=JSON.parse(n));var r={wrapper:t,animationData:n},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";o==="false"?r.loop=!1:o==="true"?r.loop=!0:o!==""&&(r.loop=parseInt(o,10));var l=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:s.getNamedItem("bm-autoplay")?s.getNamedItem("bm-autoplay").value:!0;r.autoplay=l!=="false",r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"";var c=s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"";c==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var n=this.animationData.layers,r,s=n.length,o=t.layers,l,c=o.length;for(l=0;l<c;l+=1)for(r=0;r<s;){if(n[r].id===o[l].id){n[r]=o[l];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,r=0;r<s;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var n=getExpressionsPlugin();n&&n.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var n=t.shift();this.timeCompleted=n.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(n){this.triggerConfigError(n)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,n){var r=typeof t=="number"?t:void 0,s=typeof n=="number"?n:void 0;this.renderer.updateContainerSize(r,s)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var n,r=0;r<this.markers.length;r+=1)if(n=this.markers[r],n.payload&&n.payload.name===t)return n;return null},AnimationItem.prototype.goToAndStop=function(t,n,r){if(!(r&&this.name!==r)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&this.goToAndStop(o.time,!0)}else n?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,n,r){if(!(r&&this.name!==r)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(s,n,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var n=this.currentRawFrame+t*this.frameModifier,r=!1;n>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(n>this.totalFrames?n%this.totalFrames:0)||(r=!0,n=this.totalFrames-1):n>=this.totalFrames?(this.playCount+=1,this.checkSegments(n%this.totalFrames)||(this.setCurrentRawFrameValue(n%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(n):n<0?this.checkSegments(n%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+n%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,n=0)):this.setCurrentRawFrameValue(n),r&&(this.setCurrentRawFrameValue(n),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,n){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-n)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+n)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,n){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>n&&(r=n-t)),this.firstFrame=t,this.totalFrames=n-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,n){if(n&&(this.segments.length=0),_typeof$4(t[0])==="object"){var r,s=t.length;for(r=0;r<s;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&n&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,n){n&&this.name!==n||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var n="";if(t.e)n=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),n=this.assetsPath+r}else n=this.path,n+=t.u?t.u:"",n+=t.p;return n},AnimationItem.prototype.getAssetData=function(t){for(var n=0,r=this.assets.length;n<r;){if(t===this.assets[n].id)return this.assets[n];n+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,n,r){try{var s=this.renderer.getElementByPath(t);s.updateDocumentData(n,r)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var n=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",n),this.onError&&this.onError.call(this,n)},AnimationItem.prototype.triggerConfigError=function(t){var n=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",n),this.onError&&this.onError.call(this,n)};var animationManager=(function(){var t={},n=[],r=0,s=0,o=0,l=!0,c=!1;function p(ae){for(var ue=0,re=ae.target;ue<s;)n[ue].animation===re&&(n.splice(ue,1),ue-=1,s-=1,re.isPaused||_()),ue+=1}function m(ae,ue){if(!ae)return null;for(var re=0;re<s;){if(n[re].elem===ae&&n[re].elem!==null)return n[re].animation;re+=1}var oe=new AnimationItem;return R(oe,ae),oe.setData(ae,ue),oe}function x(){var ae,ue=n.length,re=[];for(ae=0;ae<ue;ae+=1)re.push(n[ae].animation);return re}function b(){o+=1,pe()}function _(){o-=1}function R(ae,ue){ae.addEventListener("destroy",p),ae.addEventListener("_active",b),ae.addEventListener("_idle",_),n.push({elem:ue,animation:ae}),s+=1}function k(ae){var ue=new AnimationItem;return R(ue,null),ue.setParams(ae),ue}function M(ae,ue){var re;for(re=0;re<s;re+=1)n[re].animation.setSpeed(ae,ue)}function P(ae,ue){var re;for(re=0;re<s;re+=1)n[re].animation.setDirection(ae,ue)}function K(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.play(ae)}function $(ae){var ue=ae-r,re;for(re=0;re<s;re+=1)n[re].animation.advanceTime(ue);r=ae,o&&!c?window.requestAnimationFrame($):l=!0}function G(ae){r=ae,window.requestAnimationFrame($)}function H(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.pause(ae)}function j(ae,ue,re){var oe;for(oe=0;oe<s;oe+=1)n[oe].animation.goToAndStop(ae,ue,re)}function W(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.stop(ae)}function Y(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.togglePause(ae)}function X(ae){var ue;for(ue=s-1;ue>=0;ue-=1)n[ue].animation.destroy(ae)}function te(ae,ue,re){var oe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ce,Ae=oe.length;for(Ce=0;Ce<Ae;Ce+=1)re&&oe[Ce].setAttribute("data-bm-type",re),m(oe[Ce],ae);if(ue&&Ae===0){re||(re="svg");var we=document.getElementsByTagName("body")[0];we.innerText="";var Re=createTag("div");Re.style.width="100%",Re.style.height="100%",Re.setAttribute("data-bm-type",re),we.appendChild(Re),m(Re,ae)}}function se(){var ae;for(ae=0;ae<s;ae+=1)n[ae].animation.resize()}function pe(){!c&&o&&l&&(window.requestAnimationFrame(G),l=!1)}function ge(){c=!0}function me(){c=!1,pe()}function Ee(ae,ue){var re;for(re=0;re<s;re+=1)n[re].animation.setVolume(ae,ue)}function ve(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.mute(ae)}function de(ae){var ue;for(ue=0;ue<s;ue+=1)n[ue].animation.unmute(ae)}return t.registerAnimation=m,t.loadAnimation=k,t.setSpeed=M,t.setDirection=P,t.play=K,t.pause=H,t.stop=W,t.togglePause=Y,t.searchAnimations=te,t.resize=se,t.goToAndStop=j,t.destroy=X,t.freeze=ge,t.unfreeze=me,t.setVolume=Ee,t.mute=ve,t.unmute=de,t.getRegisteredAnimations=x,t})(),BezierFactory=(function(){var t={};t.getBezierEasing=r;var n={};function r(G,H,j,W,Y){var X=Y||("bez_"+G+"_"+H+"_"+j+"_"+W).replace(/\./g,"p");if(n[X])return n[X];var te=new $([G,H,j,W]);return n[X]=te,te}var s=4,o=.001,l=1e-7,c=10,p=11,m=1/(p-1),x=typeof Float32Array=="function";function b(G,H){return 1-3*H+3*G}function _(G,H){return 3*H-6*G}function R(G){return 3*G}function k(G,H,j){return((b(H,j)*G+_(H,j))*G+R(H))*G}function M(G,H,j){return 3*b(H,j)*G*G+2*_(H,j)*G+R(H)}function P(G,H,j,W,Y){var X,te,se=0;do te=H+(j-H)/2,X=k(te,W,Y)-G,X>0?j=te:H=te;while(Math.abs(X)>l&&++se<c);return te}function K(G,H,j,W){for(var Y=0;Y<s;++Y){var X=M(H,j,W);if(X===0)return H;var te=k(H,j,W)-G;H-=te/X}return H}function $(G){this._p=G,this._mSampleValues=x?new Float32Array(p):new Array(p),this._precomputed=!1,this.get=this.get.bind(this)}return $.prototype={get:function(H){var j=this._p[0],W=this._p[1],Y=this._p[2],X=this._p[3];return this._precomputed||this._precompute(),j===W&&Y===X?H:H===0?0:H===1?1:k(this._getTForX(H),W,X)},_precompute:function(){var H=this._p[0],j=this._p[1],W=this._p[2],Y=this._p[3];this._precomputed=!0,(H!==j||W!==Y)&&this._calcSampleValues()},_calcSampleValues:function(){for(var H=this._p[0],j=this._p[2],W=0;W<p;++W)this._mSampleValues[W]=k(W*m,H,j)},_getTForX:function(H){for(var j=this._p[0],W=this._p[2],Y=this._mSampleValues,X=0,te=1,se=p-1;te!==se&&Y[te]<=H;++te)X+=m;--te;var pe=(H-Y[te])/(Y[te+1]-Y[te]),ge=X+pe*m,me=M(ge,j,W);return me>=o?K(H,ge,j,W):me===0?ge:P(H,X,X+m,j,W)}},t})(),pooling=(function(){function t(n){return n.concat(createSizedArray(n.length))}return{double:t}})(),poolFactory=(function(){return function(t,n,r){var s=0,o=t,l=createSizedArray(o),c={newElement:p,release:m};function p(){var x;return s?(s-=1,x=l[s]):x=n(),x}function m(x){s===o&&(l=pooling.double(l),o*=2),r&&r(x),l[s]=x,s+=1}return c}})(),bezierLengthPool=(function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)})(),segmentsLengthPool=(function(){function t(){return{lengths:[],totalLength:0}}function n(r){var s,o=r.lengths.length;for(s=0;s<o;s+=1)bezierLengthPool.release(r.lengths[s]);r.lengths.length=0}return poolFactory(8,t,n)})();function bezFunction(){var t=Math;function n(R,k,M,P,K,$){var G=R*P+k*K+M*$-K*P-$*R-M*k;return G>-.001&&G<.001}function r(R,k,M,P,K,$,G,H,j){if(M===0&&$===0&&j===0)return n(R,k,P,K,G,H);var W=t.sqrt(t.pow(P-R,2)+t.pow(K-k,2)+t.pow($-M,2)),Y=t.sqrt(t.pow(G-R,2)+t.pow(H-k,2)+t.pow(j-M,2)),X=t.sqrt(t.pow(G-P,2)+t.pow(H-K,2)+t.pow(j-$,2)),te;return W>Y?W>X?te=W-Y-X:te=X-Y-W:X>Y?te=X-Y-W:te=Y-W-X,te>-1e-4&&te<1e-4}var s=(function(){return function(R,k,M,P){var K=getDefaultCurveSegments(),$,G,H,j,W,Y=0,X,te=[],se=[],pe=bezierLengthPool.newElement();for(H=M.length,$=0;$<K;$+=1){for(W=$/(K-1),X=0,G=0;G<H;G+=1)j=bmPow(1-W,3)*R[G]+3*bmPow(1-W,2)*W*M[G]+3*(1-W)*bmPow(W,2)*P[G]+bmPow(W,3)*k[G],te[G]=j,se[G]!==null&&(X+=bmPow(te[G]-se[G],2)),se[G]=te[G];X&&(X=bmSqrt(X),Y+=X),pe.percents[$]=W,pe.lengths[$]=Y}return pe.addedLength=Y,pe}})();function o(R){var k=segmentsLengthPool.newElement(),M=R.c,P=R.v,K=R.o,$=R.i,G,H=R._length,j=k.lengths,W=0;for(G=0;G<H-1;G+=1)j[G]=s(P[G],P[G+1],K[G],$[G+1]),W+=j[G].addedLength;return M&&H&&(j[G]=s(P[G],P[0],K[G],$[0]),W+=j[G].addedLength),k.totalLength=W,k}function l(R){this.segmentLength=0,this.points=new Array(R)}function c(R,k){this.partialLength=R,this.point=k}var p=(function(){var R={};return function(k,M,P,K){var $=(k[0]+"_"+k[1]+"_"+M[0]+"_"+M[1]+"_"+P[0]+"_"+P[1]+"_"+K[0]+"_"+K[1]).replace(/\./g,"p");if(!R[$]){var G=getDefaultCurveSegments(),H,j,W,Y,X,te=0,se,pe,ge=null;k.length===2&&(k[0]!==M[0]||k[1]!==M[1])&&n(k[0],k[1],M[0],M[1],k[0]+P[0],k[1]+P[1])&&n(k[0],k[1],M[0],M[1],M[0]+K[0],M[1]+K[1])&&(G=2);var me=new l(G);for(W=P.length,H=0;H<G;H+=1){for(pe=createSizedArray(W),X=H/(G-1),se=0,j=0;j<W;j+=1)Y=bmPow(1-X,3)*k[j]+3*bmPow(1-X,2)*X*(k[j]+P[j])+3*(1-X)*bmPow(X,2)*(M[j]+K[j])+bmPow(X,3)*M[j],pe[j]=Y,ge!==null&&(se+=bmPow(pe[j]-ge[j],2));se=bmSqrt(se),te+=se,me.points[H]=new c(se,pe),ge=pe}me.segmentLength=te,R[$]=me}return R[$]}})();function m(R,k){var M=k.percents,P=k.lengths,K=M.length,$=bmFloor((K-1)*R),G=R*k.addedLength,H=0;if($===K-1||$===0||G===P[$])return M[$];for(var j=P[$]>G?-1:1,W=!0;W;)if(P[$]<=G&&P[$+1]>G?(H=(G-P[$])/(P[$+1]-P[$]),W=!1):$+=j,$<0||$>=K-1){if($===K-1)return M[$];W=!1}return M[$]+(M[$+1]-M[$])*H}function x(R,k,M,P,K,$){var G=m(K,$),H=1-G,j=t.round((H*H*H*R[0]+(G*H*H+H*G*H+H*H*G)*M[0]+(G*G*H+H*G*G+G*H*G)*P[0]+G*G*G*k[0])*1e3)/1e3,W=t.round((H*H*H*R[1]+(G*H*H+H*G*H+H*H*G)*M[1]+(G*G*H+H*G*G+G*H*G)*P[1]+G*G*G*k[1])*1e3)/1e3;return[j,W]}var b=createTypedArray("float32",8);function _(R,k,M,P,K,$,G){K<0?K=0:K>1&&(K=1);var H=m(K,G);$=$>1?1:$;var j=m($,G),W,Y=R.length,X=1-H,te=1-j,se=X*X*X,pe=H*X*X*3,ge=H*H*X*3,me=H*H*H,Ee=X*X*te,ve=H*X*te+X*H*te+X*X*j,de=H*H*te+X*H*j+H*X*j,ae=H*H*j,ue=X*te*te,re=H*te*te+X*j*te+X*te*j,oe=H*j*te+X*j*j+H*te*j,Ce=H*j*j,Ae=te*te*te,we=j*te*te+te*j*te+te*te*j,Re=j*j*te+te*j*j+j*te*j,Be=j*j*j;for(W=0;W<Y;W+=1)b[W*4]=t.round((se*R[W]+pe*M[W]+ge*P[W]+me*k[W])*1e3)/1e3,b[W*4+1]=t.round((Ee*R[W]+ve*M[W]+de*P[W]+ae*k[W])*1e3)/1e3,b[W*4+2]=t.round((ue*R[W]+re*M[W]+oe*P[W]+Ce*k[W])*1e3)/1e3,b[W*4+3]=t.round((Ae*R[W]+we*M[W]+Re*P[W]+Be*k[W])*1e3)/1e3;return b}return{getSegmentsLength:o,getNewSegment:_,getPointInSegment:x,buildBezierData:p,pointOnLine2D:n,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,n){var r=this.offsetTime,s;this.propType==="multidimensional"&&(s=createTypedArray("float32",this.pv.length));for(var o=n.lastIndex,l=o,c=this.keyframes.length-1,p=!0,m,x,b;p;){if(m=this.keyframes[l],x=this.keyframes[l+1],l===c-1&&t>=x.t-r){m.h&&(m=x),o=0;break}if(x.t-r>t){o=l;break}l<c-1?l+=1:(o=0,p=!1)}b=this.keyframesMetadata[l]||{};var _,R,k,M,P,K,$=x.t-r,G=m.t-r,H;if(m.to){b.bezierData||(b.bezierData=bez.buildBezierData(m.s,x.s||m.e,m.to,m.ti));var j=b.bezierData;if(t>=$||t<G){var W=t>=$?j.points.length-1:0;for(R=j.points[W].point.length,_=0;_<R;_+=1)s[_]=j.points[W].point[_]}else{b.__fnct?K=b.__fnct:(K=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y,m.n).get,b.__fnct=K),k=K((t-G)/($-G));var Y=j.segmentLength*k,X,te=n.lastFrame<t&&n._lastKeyframeIndex===l?n._lastAddedLength:0;for(P=n.lastFrame<t&&n._lastKeyframeIndex===l?n._lastPoint:0,p=!0,M=j.points.length;p;){if(te+=j.points[P].partialLength,Y===0||k===0||P===j.points.length-1){for(R=j.points[P].point.length,_=0;_<R;_+=1)s[_]=j.points[P].point[_];break}else if(Y>=te&&Y<te+j.points[P+1].partialLength){for(X=(Y-te)/j.points[P+1].partialLength,R=j.points[P].point.length,_=0;_<R;_+=1)s[_]=j.points[P].point[_]+(j.points[P+1].point[_]-j.points[P].point[_])*X;break}P<M-1?P+=1:p=!1}n._lastPoint=P,n._lastAddedLength=te-j.points[P].partialLength,n._lastKeyframeIndex=l}}else{var se,pe,ge,me,Ee;if(c=m.s.length,H=x.s||m.e,this.sh&&m.h!==1)if(t>=$)s[0]=H[0],s[1]=H[1],s[2]=H[2];else if(t<=G)s[0]=m.s[0],s[1]=m.s[1],s[2]=m.s[2];else{var ve=createQuaternion(m.s),de=createQuaternion(H),ae=(t-G)/($-G);quaternionToEuler(s,slerp(ve,de,ae))}else for(l=0;l<c;l+=1)m.h!==1&&(t>=$?k=1:t<G?k=0:(m.o.x.constructor===Array?(b.__fnct||(b.__fnct=[]),b.__fnct[l]?K=b.__fnct[l]:(se=m.o.x[l]===void 0?m.o.x[0]:m.o.x[l],pe=m.o.y[l]===void 0?m.o.y[0]:m.o.y[l],ge=m.i.x[l]===void 0?m.i.x[0]:m.i.x[l],me=m.i.y[l]===void 0?m.i.y[0]:m.i.y[l],K=BezierFactory.getBezierEasing(se,pe,ge,me).get,b.__fnct[l]=K)):b.__fnct?K=b.__fnct:(se=m.o.x,pe=m.o.y,ge=m.i.x,me=m.i.y,K=BezierFactory.getBezierEasing(se,pe,ge,me).get,m.keyframeMetadata=K),k=K((t-G)/($-G)))),H=x.s||m.e,Ee=m.h===1?m.s[l]:m.s[l]+(H[l]-m.s[l])*k,this.propType==="multidimensional"?s[l]=Ee:s=Ee}return n.lastIndex=o,s}function slerp(t,n,r){var s=[],o=t[0],l=t[1],c=t[2],p=t[3],m=n[0],x=n[1],b=n[2],_=n[3],R,k,M,P,K;return k=o*m+l*x+c*b+p*_,k<0&&(k=-k,m=-m,x=-x,b=-b,_=-_),1-k>1e-6?(R=Math.acos(k),M=Math.sin(R),P=Math.sin((1-r)*R)/M,K=Math.sin(r*R)/M):(P=1-r,K=r),s[0]=P*o+K*m,s[1]=P*l+K*x,s[2]=P*c+K*b,s[3]=P*p+K*_,s}function quaternionToEuler(t,n){var r=n[0],s=n[1],o=n[2],l=n[3],c=Math.atan2(2*s*l-2*r*o,1-2*s*s-2*o*o),p=Math.asin(2*r*s+2*o*l),m=Math.atan2(2*r*l-2*s*o,1-2*r*r-2*o*o);t[0]=c/degToRads,t[1]=p/degToRads,t[2]=m/degToRads}function createQuaternion(t){var n=t[0]*degToRads,r=t[1]*degToRads,s=t[2]*degToRads,o=Math.cos(n/2),l=Math.cos(r/2),c=Math.cos(s/2),p=Math.sin(n/2),m=Math.sin(r/2),x=Math.sin(s/2),b=o*l*c-p*m*x,_=p*m*c+o*l*x,R=p*l*c+o*m*x,k=o*m*c-p*l*x;return[_,R,k,b]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(t,this._caching);this.pv=s}return this._caching.lastFrame=t,this.pv}function setVValue(t){var n;if(this.propType==="unidimensional")n=t*this.mult,mathAbs(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,s=this.v.length;r<s;)n=t[r]*this.mult,mathAbs(this.v[r]-n)>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,n=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<n;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,n,r,s){this.propType="unidimensional",this.mult=r||1,this.data=n,this.v=r?n.k*r:n.k,this.pv=n.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,n,r,s){this.propType="multidimensional",this.mult=r||1,this.data=n,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,l=n.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=n.k[o]*this.mult,this.pv[o]=n.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,n,r,s){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,n,r,s){this.propType="multidimensional";var o,l=n.k.length,c,p,m,x;for(o=0;o<l-1;o+=1)n.k[o].to&&n.k[o].s&&n.k[o+1]&&n.k[o+1].s&&(c=n.k[o].s,p=n.k[o+1].s,m=n.k[o].to,x=n.k[o].ti,(c.length===2&&!(c[0]===p[0]&&c[1]===p[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],c[0]+m[0],c[1]+m[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],p[0]+x[0],p[1]+x[1])||c.length===3&&!(c[0]===p[0]&&c[1]===p[1]&&c[2]===p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],c[0]+m[0],c[1]+m[1],c[2]+m[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],p[0]+x[0],p[1]+x[1],p[2]+x[2]))&&(n.k[o].to=null,n.k[o].ti=null),c[0]===p[0]&&c[1]===p[1]&&m[0]===0&&m[1]===0&&x[0]===0&&x[1]===0&&(c.length===2||c[2]===p[2]&&m[2]===0&&x[2]===0)&&(n.k[o].to=null,n.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var b=n.k[0].s.length;for(this.v=createTypedArray("float32",b),this.pv=createTypedArray("float32",b),o=0;o<b;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",b)},this.addEffect=addEffect}var PropertyFactory=(function(){function t(r,s,o,l,c){s.sid&&(s=r.globalData.slotManager.getProp(s));var p;if(!s.k.length)p=new ValueProperty(r,s,l,c);else if(typeof s.k[0]=="number")p=new MultiDimensionalProperty(r,s,l,c);else switch(o){case 0:p=new KeyframedValueProperty(r,s,l,c);break;case 1:p=new KeyframedMultidimensionalProperty(r,s,l,c);break}return p.effectsSequence.length&&c.addDynamicProperty(p),p}var n={getProp:t};return n})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(n){this.dynamicProperties.indexOf(n)===-1&&(this.dynamicProperties.push(n),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(n){this.container=n,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,n){this.c=t,this.setLength(n);for(var r=0;r<n;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,n,r,s,o){var l;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":l=this.v;break;case"i":l=this.i;break;case"o":l=this.o;break;default:l=[];break}(!l[s]||l[s]&&!o)&&(l[s]=pointPool.newElement()),l[s][0]=t,l[s][1]=n},ShapePath.prototype.setTripleAt=function(t,n,r,s,o,l,c,p){this.setXYAt(t,n,"v",c,p),this.setXYAt(r,s,"o",c,p),this.setXYAt(o,l,"i",c,p)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var n=this.v,r=this.o,s=this.i,o=0;this.c&&(t.setTripleAt(n[0][0],n[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),o=1);var l=this._length-1,c=this._length,p;for(p=o;p<c;p+=1)t.setTripleAt(n[l][0],n[l][1],s[l][0],s[l][1],r[l][0],r[l][1],p,!1),l-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function t(){return new ShapePath}function n(o){var l=o._length,c;for(c=0;c<l;c+=1)pointPool.release(o.v[c]),pointPool.release(o.i[c]),pointPool.release(o.o[c]),o.v[c]=null,o.i[c]=null,o.o[c]=null;o._length=0,o.c=!1}function r(o){var l=s.newElement(),c,p=o._length===void 0?o.v.length:o._length;for(l.setLength(p),l.c=o.c,c=0;c<p;c+=1)l.setTripleAt(o.v[c][0],o.v[c][1],o.o[c][0],o.o[c][1],o.i[c][0],o.i[c][1],c);return l}var s=poolFactory(4,t,n);return s.clone=r,s})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(function(){var t={newShapeCollection:o,release:l},n=0,r=4,s=createSizedArray(r);function o(){var c;return n?(n-=1,c=s[n]):c=new ShapeCollection,c}function l(c){var p,m=c._length;for(p=0;p<m;p+=1)shapePool.release(c.shapes[p]);c._length=0,n===r&&(s=pooling.double(s),r*=2),s[n]=c,n+=1}return t})(),ShapePropertyFactory=(function(){var t=-999999;function n($,G,H){var j=H.lastIndex,W,Y,X,te,se,pe,ge,me,Ee,ve=this.keyframes;if($<ve[0].t-this.offsetTime)W=ve[0].s[0],X=!0,j=0;else if($>=ve[ve.length-1].t-this.offsetTime)W=ve[ve.length-1].s?ve[ve.length-1].s[0]:ve[ve.length-2].e[0],X=!0;else{for(var de=j,ae=ve.length-1,ue=!0,re,oe,Ce;ue&&(re=ve[de],oe=ve[de+1],!(oe.t-this.offsetTime>$));)de<ae-1?de+=1:ue=!1;if(Ce=this.keyframesMetadata[de]||{},X=re.h===1,j=de,!X){if($>=oe.t-this.offsetTime)me=1;else if($<re.t-this.offsetTime)me=0;else{var Ae;Ce.__fnct?Ae=Ce.__fnct:(Ae=BezierFactory.getBezierEasing(re.o.x,re.o.y,re.i.x,re.i.y).get,Ce.__fnct=Ae),me=Ae(($-(re.t-this.offsetTime))/(oe.t-this.offsetTime-(re.t-this.offsetTime)))}Y=oe.s?oe.s[0]:re.e[0]}W=re.s[0]}for(pe=G._length,ge=W.i[0].length,H.lastIndex=j,te=0;te<pe;te+=1)for(se=0;se<ge;se+=1)Ee=X?W.i[te][se]:W.i[te][se]+(Y.i[te][se]-W.i[te][se])*me,G.i[te][se]=Ee,Ee=X?W.o[te][se]:W.o[te][se]+(Y.o[te][se]-W.o[te][se])*me,G.o[te][se]=Ee,Ee=X?W.v[te][se]:W.v[te][se]+(Y.v[te][se]-W.v[te][se])*me,G.v[te][se]=Ee}function r(){var $=this.comp.renderedFrame-this.offsetTime,G=this.keyframes[0].t-this.offsetTime,H=this.keyframes[this.keyframes.length-1].t-this.offsetTime,j=this._caching.lastFrame;return j!==t&&(j<G&&$<G||j>H&&$>H)||(this._caching.lastIndex=j<$?this._caching.lastIndex:0,this.interpolateShape($,this.pv,this._caching)),this._caching.lastFrame=$,this.pv}function s(){this.paths=this.localShapeCollection}function o($,G){if($._length!==G._length||$.c!==G.c)return!1;var H,j=$._length;for(H=0;H<j;H+=1)if($.v[H][0]!==G.v[H][0]||$.v[H][1]!==G.v[H][1]||$.o[H][0]!==G.o[H][0]||$.o[H][1]!==G.o[H][1]||$.i[H][0]!==G.i[H][0]||$.i[H][1]!==G.i[H][1])return!1;return!0}function l($){o(this.v,$)||(this.v=shapePool.clone($),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function c(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var $;this.kf?$=this.pv:this.data.ks?$=this.data.ks.k:$=this.data.pt.k;var G,H=this.effectsSequence.length;for(G=0;G<H;G+=1)$=this.effectsSequence[G]($);this.setVValue($),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function p($,G,H){this.propType="shape",this.comp=$.comp,this.container=$,this.elem=$,this.data=G,this.k=!1,this.kf=!1,this._mdf=!1;var j=H===3?G.pt.k:G.ks.k;this.v=shapePool.clone(j),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function m($){this.effectsSequence.push($),this.container.addDynamicProperty(this)}p.prototype.interpolateShape=n,p.prototype.getValue=c,p.prototype.setVValue=l,p.prototype.addEffect=m;function x($,G,H){this.propType="shape",this.comp=$.comp,this.elem=$,this.container=$,this.offsetTime=$.data.st,this.keyframes=H===3?G.pt.k:G.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var j=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,j),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}x.prototype.getValue=c,x.prototype.interpolateShape=n,x.prototype.setVValue=l,x.prototype.addEffect=m;var b=(function(){var $=roundCorner;function G(H,j){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=j.d,this.elem=H,this.comp=H.comp,this.frameId=-1,this.initDynamicPropertyContainer(H),this.p=PropertyFactory.getProp(H,j.p,1,0,this),this.s=PropertyFactory.getProp(H,j.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return G.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var j=this.p.v[0],W=this.p.v[1],Y=this.s.v[0]/2,X=this.s.v[1]/2,te=this.d!==3,se=this.v;se.v[0][0]=j,se.v[0][1]=W-X,se.v[1][0]=te?j+Y:j-Y,se.v[1][1]=W,se.v[2][0]=j,se.v[2][1]=W+X,se.v[3][0]=te?j-Y:j+Y,se.v[3][1]=W,se.i[0][0]=te?j-Y*$:j+Y*$,se.i[0][1]=W-X,se.i[1][0]=te?j+Y:j-Y,se.i[1][1]=W-X*$,se.i[2][0]=te?j+Y*$:j-Y*$,se.i[2][1]=W+X,se.i[3][0]=te?j-Y:j+Y,se.i[3][1]=W+X*$,se.o[0][0]=te?j+Y*$:j-Y*$,se.o[0][1]=W-X,se.o[1][0]=te?j+Y:j-Y,se.o[1][1]=W+X*$,se.o[2][0]=te?j-Y*$:j+Y*$,se.o[2][1]=W+X,se.o[3][0]=te?j-Y:j+Y,se.o[3][1]=W-X*$}},extendPrototype([DynamicPropertyContainer],G),G})(),_=(function(){function $(G,H){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=G,this.comp=G.comp,this.data=H,this.frameId=-1,this.d=H.d,this.initDynamicPropertyContainer(G),H.sy===1?(this.ir=PropertyFactory.getProp(G,H.ir,0,0,this),this.is=PropertyFactory.getProp(G,H.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(G,H.pt,0,0,this),this.p=PropertyFactory.getProp(G,H.p,1,0,this),this.r=PropertyFactory.getProp(G,H.r,0,degToRads,this),this.or=PropertyFactory.getProp(G,H.or,0,0,this),this.os=PropertyFactory.getProp(G,H.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return $.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var H=Math.floor(this.pt.v)*2,j=Math.PI*2/H,W=!0,Y=this.or.v,X=this.ir.v,te=this.os.v,se=this.is.v,pe=2*Math.PI*Y/(H*2),ge=2*Math.PI*X/(H*2),me,Ee,ve,de,ae=-Math.PI/2;ae+=this.r.v;var ue=this.data.d===3?-1:1;for(this.v._length=0,me=0;me<H;me+=1){Ee=W?Y:X,ve=W?te:se,de=W?pe:ge;var re=Ee*Math.cos(ae),oe=Ee*Math.sin(ae),Ce=re===0&&oe===0?0:oe/Math.sqrt(re*re+oe*oe),Ae=re===0&&oe===0?0:-re/Math.sqrt(re*re+oe*oe);re+=+this.p.v[0],oe+=+this.p.v[1],this.v.setTripleAt(re,oe,re-Ce*de*ve*ue,oe-Ae*de*ve*ue,re+Ce*de*ve*ue,oe+Ae*de*ve*ue,me,!0),W=!W,ae+=j*ue}},convertPolygonToPath:function(){var H=Math.floor(this.pt.v),j=Math.PI*2/H,W=this.or.v,Y=this.os.v,X=2*Math.PI*W/(H*4),te,se=-Math.PI*.5,pe=this.data.d===3?-1:1;for(se+=this.r.v,this.v._length=0,te=0;te<H;te+=1){var ge=W*Math.cos(se),me=W*Math.sin(se),Ee=ge===0&&me===0?0:me/Math.sqrt(ge*ge+me*me),ve=ge===0&&me===0?0:-ge/Math.sqrt(ge*ge+me*me);ge+=+this.p.v[0],me+=+this.p.v[1],this.v.setTripleAt(ge,me,ge-Ee*X*Y*pe,me-ve*X*Y*pe,ge+Ee*X*Y*pe,me+ve*X*Y*pe,te,!0),se+=j*pe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],$),$})(),R=(function(){function $(G,H){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=G,this.comp=G.comp,this.frameId=-1,this.d=H.d,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,H.p,1,0,this),this.s=PropertyFactory.getProp(G,H.s,1,0,this),this.r=PropertyFactory.getProp(G,H.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return $.prototype={convertRectToPath:function(){var H=this.p.v[0],j=this.p.v[1],W=this.s.v[0]/2,Y=this.s.v[1]/2,X=bmMin(W,Y,this.r.v),te=X*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(H+W,j-Y+X,H+W,j-Y+X,H+W,j-Y+te,0,!0),this.v.setTripleAt(H+W,j+Y-X,H+W,j+Y-te,H+W,j+Y-X,1,!0),X!==0?(this.v.setTripleAt(H+W-X,j+Y,H+W-X,j+Y,H+W-te,j+Y,2,!0),this.v.setTripleAt(H-W+X,j+Y,H-W+te,j+Y,H-W+X,j+Y,3,!0),this.v.setTripleAt(H-W,j+Y-X,H-W,j+Y-X,H-W,j+Y-te,4,!0),this.v.setTripleAt(H-W,j-Y+X,H-W,j-Y+te,H-W,j-Y+X,5,!0),this.v.setTripleAt(H-W+X,j-Y,H-W+X,j-Y,H-W+te,j-Y,6,!0),this.v.setTripleAt(H+W-X,j-Y,H+W-te,j-Y,H+W-X,j-Y,7,!0)):(this.v.setTripleAt(H-W,j+Y,H-W+te,j+Y,H-W,j+Y,2),this.v.setTripleAt(H-W,j-Y,H-W,j-Y+te,H-W,j-Y,3))):(this.v.setTripleAt(H+W,j-Y+X,H+W,j-Y+te,H+W,j-Y+X,0,!0),X!==0?(this.v.setTripleAt(H+W-X,j-Y,H+W-X,j-Y,H+W-te,j-Y,1,!0),this.v.setTripleAt(H-W+X,j-Y,H-W+te,j-Y,H-W+X,j-Y,2,!0),this.v.setTripleAt(H-W,j-Y+X,H-W,j-Y+X,H-W,j-Y+te,3,!0),this.v.setTripleAt(H-W,j+Y-X,H-W,j+Y-te,H-W,j+Y-X,4,!0),this.v.setTripleAt(H-W+X,j+Y,H-W+X,j+Y,H-W+te,j+Y,5,!0),this.v.setTripleAt(H+W-X,j+Y,H+W-te,j+Y,H+W-X,j+Y,6,!0),this.v.setTripleAt(H+W,j+Y-X,H+W,j+Y-X,H+W,j+Y-te,7,!0)):(this.v.setTripleAt(H-W,j-Y,H-W+te,j-Y,H-W,j-Y,1,!0),this.v.setTripleAt(H-W,j+Y,H-W,j+Y-te,H-W,j+Y,2,!0),this.v.setTripleAt(H+W,j+Y,H+W-te,j+Y,H+W,j+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],$),$})();function k($,G,H){var j;if(H===3||H===4){var W=H===3?G.pt:G.ks,Y=W.k;Y.length?j=new x($,G,H):j=new p($,G,H)}else H===5?j=new R($,G):H===6?j=new b($,G):H===7&&(j=new _($,G));return j.k&&$.addDynamicProperty(j),j}function M(){return p}function P(){return x}var K={};return K.getShapeProp=k,K.getConstructorFunction=M,K.getKeyframedConstructorFunction=P,K})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var t=Math.cos,n=Math.sin,r=Math.tan,s=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function l(re){if(re===0)return this;var oe=t(re),Ce=n(re);return this._t(oe,-Ce,0,0,Ce,oe,0,0,0,0,1,0,0,0,0,1)}function c(re){if(re===0)return this;var oe=t(re),Ce=n(re);return this._t(1,0,0,0,0,oe,-Ce,0,0,Ce,oe,0,0,0,0,1)}function p(re){if(re===0)return this;var oe=t(re),Ce=n(re);return this._t(oe,0,Ce,0,0,1,0,0,-Ce,0,oe,0,0,0,0,1)}function m(re){if(re===0)return this;var oe=t(re),Ce=n(re);return this._t(oe,-Ce,0,0,Ce,oe,0,0,0,0,1,0,0,0,0,1)}function x(re,oe){return this._t(1,oe,re,1,0,0)}function b(re,oe){return this.shear(r(re),r(oe))}function _(re,oe){var Ce=t(oe),Ae=n(oe);return this._t(Ce,Ae,0,0,-Ae,Ce,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(re),1,0,0,0,0,1,0,0,0,0,1)._t(Ce,-Ae,0,0,Ae,Ce,0,0,0,0,1,0,0,0,0,1)}function R(re,oe,Ce){return!Ce&&Ce!==0&&(Ce=1),re===1&&oe===1&&Ce===1?this:this._t(re,0,0,0,0,oe,0,0,0,0,Ce,0,0,0,0,1)}function k(re,oe,Ce,Ae,we,Re,Be,We,De,ct,at,Ct,It,mt,Ut,gt){return this.props[0]=re,this.props[1]=oe,this.props[2]=Ce,this.props[3]=Ae,this.props[4]=we,this.props[5]=Re,this.props[6]=Be,this.props[7]=We,this.props[8]=De,this.props[9]=ct,this.props[10]=at,this.props[11]=Ct,this.props[12]=It,this.props[13]=mt,this.props[14]=Ut,this.props[15]=gt,this}function M(re,oe,Ce){return Ce=Ce||0,re!==0||oe!==0||Ce!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,re,oe,Ce,1):this}function P(re,oe,Ce,Ae,we,Re,Be,We,De,ct,at,Ct,It,mt,Ut,gt){var xt=this.props;if(re===1&&oe===0&&Ce===0&&Ae===0&&we===0&&Re===1&&Be===0&&We===0&&De===0&&ct===0&&at===1&&Ct===0)return xt[12]=xt[12]*re+xt[15]*It,xt[13]=xt[13]*Re+xt[15]*mt,xt[14]=xt[14]*at+xt[15]*Ut,xt[15]*=gt,this._identityCalculated=!1,this;var an=xt[0],Un=xt[1],Zt=xt[2],$t=xt[3],Ot=xt[4],In=xt[5],pt=xt[6],Kn=xt[7],On=xt[8],st=xt[9],Pe=xt[10],Fe=xt[11],Ye=xt[12],Je=xt[13],bt=xt[14],Mt=xt[15];return xt[0]=an*re+Un*we+Zt*De+$t*It,xt[1]=an*oe+Un*Re+Zt*ct+$t*mt,xt[2]=an*Ce+Un*Be+Zt*at+$t*Ut,xt[3]=an*Ae+Un*We+Zt*Ct+$t*gt,xt[4]=Ot*re+In*we+pt*De+Kn*It,xt[5]=Ot*oe+In*Re+pt*ct+Kn*mt,xt[6]=Ot*Ce+In*Be+pt*at+Kn*Ut,xt[7]=Ot*Ae+In*We+pt*Ct+Kn*gt,xt[8]=On*re+st*we+Pe*De+Fe*It,xt[9]=On*oe+st*Re+Pe*ct+Fe*mt,xt[10]=On*Ce+st*Be+Pe*at+Fe*Ut,xt[11]=On*Ae+st*We+Pe*Ct+Fe*gt,xt[12]=Ye*re+Je*we+bt*De+Mt*It,xt[13]=Ye*oe+Je*Re+bt*ct+Mt*mt,xt[14]=Ye*Ce+Je*Be+bt*at+Mt*Ut,xt[15]=Ye*Ae+Je*We+bt*Ct+Mt*gt,this._identityCalculated=!1,this}function K(re){var oe=re.props;return this.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5],oe[6],oe[7],oe[8],oe[9],oe[10],oe[11],oe[12],oe[13],oe[14],oe[15])}function $(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function G(re){for(var oe=0;oe<16;){if(re.props[oe]!==this.props[oe])return!1;oe+=1}return!0}function H(re){var oe;for(oe=0;oe<16;oe+=1)re.props[oe]=this.props[oe];return re}function j(re){var oe;for(oe=0;oe<16;oe+=1)this.props[oe]=re[oe]}function W(re,oe,Ce){return{x:re*this.props[0]+oe*this.props[4]+Ce*this.props[8]+this.props[12],y:re*this.props[1]+oe*this.props[5]+Ce*this.props[9]+this.props[13],z:re*this.props[2]+oe*this.props[6]+Ce*this.props[10]+this.props[14]}}function Y(re,oe,Ce){return re*this.props[0]+oe*this.props[4]+Ce*this.props[8]+this.props[12]}function X(re,oe,Ce){return re*this.props[1]+oe*this.props[5]+Ce*this.props[9]+this.props[13]}function te(re,oe,Ce){return re*this.props[2]+oe*this.props[6]+Ce*this.props[10]+this.props[14]}function se(){var re=this.props[0]*this.props[5]-this.props[1]*this.props[4],oe=this.props[5]/re,Ce=-this.props[1]/re,Ae=-this.props[4]/re,we=this.props[0]/re,Re=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/re,Be=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/re,We=new Matrix;return We.props[0]=oe,We.props[1]=Ce,We.props[4]=Ae,We.props[5]=we,We.props[12]=Re,We.props[13]=Be,We}function pe(re){var oe=this.getInverseMatrix();return oe.applyToPointArray(re[0],re[1],re[2]||0)}function ge(re){var oe,Ce=re.length,Ae=[];for(oe=0;oe<Ce;oe+=1)Ae[oe]=pe(re[oe]);return Ae}function me(re,oe,Ce){var Ae=createTypedArray("float32",6);if(this.isIdentity())Ae[0]=re[0],Ae[1]=re[1],Ae[2]=oe[0],Ae[3]=oe[1],Ae[4]=Ce[0],Ae[5]=Ce[1];else{var we=this.props[0],Re=this.props[1],Be=this.props[4],We=this.props[5],De=this.props[12],ct=this.props[13];Ae[0]=re[0]*we+re[1]*Be+De,Ae[1]=re[0]*Re+re[1]*We+ct,Ae[2]=oe[0]*we+oe[1]*Be+De,Ae[3]=oe[0]*Re+oe[1]*We+ct,Ae[4]=Ce[0]*we+Ce[1]*Be+De,Ae[5]=Ce[0]*Re+Ce[1]*We+ct}return Ae}function Ee(re,oe,Ce){var Ae;return this.isIdentity()?Ae=[re,oe,Ce]:Ae=[re*this.props[0]+oe*this.props[4]+Ce*this.props[8]+this.props[12],re*this.props[1]+oe*this.props[5]+Ce*this.props[9]+this.props[13],re*this.props[2]+oe*this.props[6]+Ce*this.props[10]+this.props[14]],Ae}function ve(re,oe){if(this.isIdentity())return re+","+oe;var Ce=this.props;return Math.round((re*Ce[0]+oe*Ce[4]+Ce[12])*100)/100+","+Math.round((re*Ce[1]+oe*Ce[5]+Ce[13])*100)/100}function de(){for(var re=0,oe=this.props,Ce="matrix3d(",Ae=1e4;re<16;)Ce+=s(oe[re]*Ae)/Ae,Ce+=re===15?")":",",re+=1;return Ce}function ae(re){var oe=1e4;return re<1e-6&&re>0||re>-1e-6&&re<0?s(re*oe)/oe:re}function ue(){var re=this.props,oe=ae(re[0]),Ce=ae(re[1]),Ae=ae(re[4]),we=ae(re[5]),Re=ae(re[12]),Be=ae(re[13]);return"matrix("+oe+","+Ce+","+Ae+","+we+","+Re+","+Be+")"}return function(){this.reset=o,this.rotate=l,this.rotateX=c,this.rotateY=p,this.rotateZ=m,this.skew=b,this.skewFromAxis=_,this.shear=x,this.scale=R,this.setTransform=k,this.translate=M,this.transform=P,this.multiply=K,this.applyToPoint=W,this.applyToX=Y,this.applyToY=X,this.applyToZ=te,this.applyToPointArray=Ee,this.applyToTriplePoints=me,this.applyToPointStringified=ve,this.toCSS=de,this.to2dCSS=ue,this.clone=H,this.cloneFromProps=j,this.equals=G,this.inversePoints=ge,this.inversePoint=pe,this.getInverseMatrix=se,this._t=this.transform,this.isIdentity=$,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,n){t==="expressions"&&setExpressionsPlugin(n)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var n=queryString.split("&"),r=0;r<n.length;r+=1){var s=n[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=(function(){var t={},n={};t.registerModifier=r,t.getModifier=s;function r(o,l){n[o]||(n[o]=l)}function s(o,l,c){return new n[o](l,c)}return t})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var n={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(n),this.addShapeToModifier(n),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,n){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,n),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,n){this.s=PropertyFactory.getProp(t,n.s,0,.01,this),this.e=PropertyFactory.getProp(t,n.e,0,.01,this),this.o=PropertyFactory.getProp(t,n.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=n.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,n,r,s,o){var l=[];n<=1?l.push({s:t,e:n}):t>=1?l.push({s:t-1,e:n-1}):(l.push({s:t,e:1}),l.push({s:0,e:n-1}));var c=[],p,m=l.length,x;for(p=0;p<m;p+=1)if(x=l[p],!(x.e*o<s||x.s*o>s+r)){var b,_;x.s*o<=s?b=0:b=(x.s*o-s)/r,x.e*o>=s+r?_=1:_=(x.e*o-s)/r,c.push([b,_])}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var n,r=t.length;for(n=0;n<r;n+=1)segmentsLengthPool.release(t[n]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var n,r;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),this.s.v>1?n=1+s:this.s.v<0?n=0+s:n=this.s.v+s,this.e.v>1?r=1+s:this.e.v<0?r=0+s:r=this.e.v+s,n>r){var o=n;n=r,r=o}n=Math.round(n*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=n,this.eValue=r}else n=this.sValue,r=this.eValue;var l,c,p=this.shapes.length,m,x,b,_,R,k=0;if(r===n)for(c=0;c<p;c+=1)this.shapes[c].localShapeCollection.releaseShapes(),this.shapes[c].shape._mdf=!0,this.shapes[c].shape.paths=this.shapes[c].localShapeCollection,this._mdf&&(this.shapes[c].pathsData.length=0);else if(r===1&&n===0||r===0&&n===1){if(this._mdf)for(c=0;c<p;c+=1)this.shapes[c].pathsData.length=0,this.shapes[c].shape._mdf=!0}else{var M=[],P,K;for(c=0;c<p;c+=1)if(P=this.shapes[c],!P.shape._mdf&&!this._mdf&&!t&&this.m!==2)P.shape.paths=P.localShapeCollection;else{if(l=P.shape.paths,x=l._length,R=0,!P.shape._mdf&&P.pathsData.length)R=P.totalShapeLength;else{for(b=this.releasePathsData(P.pathsData),m=0;m<x;m+=1)_=bez.getSegmentsLength(l.shapes[m]),b.push(_),R+=_.totalLength;P.totalShapeLength=R,P.pathsData=b}k+=R,P.shape._mdf=!0}var $=n,G=r,H=0,j;for(c=p-1;c>=0;c-=1)if(P=this.shapes[c],P.shape._mdf){for(K=P.localShapeCollection,K.releaseShapes(),this.m===2&&p>1?(j=this.calculateShapeEdges(n,r,P.totalShapeLength,H,k),H+=P.totalShapeLength):j=[[$,G]],x=j.length,m=0;m<x;m+=1){$=j[m][0],G=j[m][1],M.length=0,G<=1?M.push({s:P.totalShapeLength*$,e:P.totalShapeLength*G}):$>=1?M.push({s:P.totalShapeLength*($-1),e:P.totalShapeLength*(G-1)}):(M.push({s:P.totalShapeLength*$,e:P.totalShapeLength}),M.push({s:0,e:P.totalShapeLength*(G-1)}));var W=this.addShapes(P,M[0]);if(M[0].s!==M[0].e){if(M.length>1){var Y=P.shape.paths.shapes[P.shape.paths._length-1];if(Y.c){var X=W.pop();this.addPaths(W,K),W=this.addShapes(P,M[1],X)}else this.addPaths(W,K),W=this.addShapes(P,M[1])}this.addPaths(W,K)}}P.shape.paths=K}}},TrimModifier.prototype.addPaths=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)n.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,n,r,s,o,l,c){o.setXYAt(n[0],n[1],"o",l),o.setXYAt(r[0],r[1],"i",l+1),c&&o.setXYAt(t[0],t[1],"v",l),o.setXYAt(s[0],s[1],"v",l+1)},TrimModifier.prototype.addSegmentFromArray=function(t,n,r,s){n.setXYAt(t[1],t[5],"o",r),n.setXYAt(t[2],t[6],"i",r+1),s&&n.setXYAt(t[0],t[4],"v",r),n.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,n,r){var s=t.pathsData,o=t.shape.paths.shapes,l,c=t.shape.paths._length,p,m,x=0,b,_,R,k,M=[],P,K=!0;for(r?(_=r._length,P=r._length):(r=shapePool.newElement(),_=0,P=0),M.push(r),l=0;l<c;l+=1){for(R=s[l].lengths,r.c=o[l].c,m=o[l].c?R.length:R.length+1,p=1;p<m;p+=1)if(b=R[p-1],x+b.addedLength<n.s)x+=b.addedLength,r.c=!1;else if(x>n.e){r.c=!1;break}else n.s<=x&&n.e>=x+b.addedLength?(this.addSegment(o[l].v[p-1],o[l].o[p-1],o[l].i[p],o[l].v[p],r,_,K),K=!1):(k=bez.getNewSegment(o[l].v[p-1],o[l].v[p],o[l].o[p-1],o[l].i[p],(n.s-x)/b.addedLength,(n.e-x)/b.addedLength,R[p-1]),this.addSegmentFromArray(k,r,_,K),K=!1,r.c=!1),x+=b.addedLength,_+=1;if(o[l].c&&R.length){if(b=R[p-1],x<=n.e){var $=R[p-1].addedLength;n.s<=x&&n.e>=x+$?(this.addSegment(o[l].v[p-1],o[l].o[p-1],o[l].i[0],o[l].v[0],r,_,K),K=!1):(k=bez.getNewSegment(o[l].v[p-1],o[l].v[0],o[l].o[p-1],o[l].i[0],(n.s-x)/$,(n.e-x)/$,R[p-1]),this.addSegmentFromArray(k,r,_,K),K=!1,r.c=!1)}else r.c=!1;x+=b.addedLength,_+=1}if(r._length&&(r.setXYAt(r.v[P][0],r.v[P][1],"i",P),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),x>n.e)break;l<c-1&&(r=shapePool.newElement(),K=!0,M.push(r),_=0)}return M};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,n.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,n){var r=n/100,s=[0,0],o=t._length,l=0;for(l=0;l<o;l+=1)s[0]+=t.v[l][0],s[1]+=t.v[l][1];s[0]/=o,s[1]/=o;var c=shapePool.newElement();c.c=t.c;var p,m,x,b,_,R;for(l=0;l<o;l+=1)p=t.v[l][0]+(s[0]-t.v[l][0])*r,m=t.v[l][1]+(s[1]-t.v[l][1])*r,x=t.o[l][0]+(s[0]-t.o[l][0])*-r,b=t.o[l][1]+(s[1]-t.o[l][1])*-r,_=t.i[l][0]+(s[0]-t.i[l][0])*-r,R=t.i[l][1]+(s[1]-t.i[l][1])*-r,c.setTripleAt(p,m,x,b,_,R,l);return c},PuckerAndBloatModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amount.v;if(c!==0){var p,m;for(r=0;r<s;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(m.releaseShapes(),p.shape._mdf=!0,n=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)m.addShape(this.processPath(n[o],c));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var t=[0,0];function n(m){var x=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||x,this.a&&m.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&m.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&m.skewFromAxis(-this.sk.v,this.sa.v),this.r?m.rotate(-this.r.v):m.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?m.translate(this.px.v,this.py.v,-this.pz.v):m.translate(this.px.v,this.py.v,0):m.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(m){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||m){var x;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var b,_;if(x=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(b=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/x,0),_=this.p.getValueAtTime(this.p.keyframes[0].t/x,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(b=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/x,0),_=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/x,0)):(b=this.p.pv,_=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/x,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){b=[],_=[];var R=this.px,k=this.py;R._caching.lastFrame+R.offsetTime<=R.keyframes[0].t?(b[0]=R.getValueAtTime((R.keyframes[0].t+.01)/x,0),b[1]=k.getValueAtTime((k.keyframes[0].t+.01)/x,0),_[0]=R.getValueAtTime(R.keyframes[0].t/x,0),_[1]=k.getValueAtTime(k.keyframes[0].t/x,0)):R._caching.lastFrame+R.offsetTime>=R.keyframes[R.keyframes.length-1].t?(b[0]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/x,0),b[1]=k.getValueAtTime(k.keyframes[k.keyframes.length-1].t/x,0),_[0]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/x,0),_[1]=k.getValueAtTime((k.keyframes[k.keyframes.length-1].t-.01)/x,0)):(b=[R.pv,k.pv],_[0]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/x,R.offsetTime),_[1]=k.getValueAtTime((k._caching.lastFrame+k.offsetTime-.01)/x,k.offsetTime))}else _=t,b=_;this.v.rotate(-Math.atan2(b[1]-_[1],b[0]-_[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function s(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function l(m){this._addDynamicProperty(m),this.elem.addDynamicProperty(m),this._isDirty=!0}function c(m,x,b){if(this.elem=m,this.frameId=-1,this.propType="transform",this.data=x,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(b||m),x.p&&x.p.s?(this.px=PropertyFactory.getProp(m,x.p.x,0,0,this),this.py=PropertyFactory.getProp(m,x.p.y,0,0,this),x.p.z&&(this.pz=PropertyFactory.getProp(m,x.p.z,0,0,this))):this.p=PropertyFactory.getProp(m,x.p||{k:[0,0,0]},1,0,this),x.rx){if(this.rx=PropertyFactory.getProp(m,x.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(m,x.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(m,x.rz,0,degToRads,this),x.or.k[0].ti){var _,R=x.or.k.length;for(_=0;_<R;_+=1)x.or.k[_].to=null,x.or.k[_].ti=null}this.or=PropertyFactory.getProp(m,x.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(m,x.r||{k:0},0,degToRads,this);x.sk&&(this.sk=PropertyFactory.getProp(m,x.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(m,x.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(m,x.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(m,x.s||{k:[100,100,100]},1,.01,this),x.o?this.o=PropertyFactory.getProp(m,x.o,0,.01,m):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}c.prototype={applyToMatrix:n,getValue:r,precalculateMatrix:s,autoOrient:o},extendPrototype([DynamicPropertyContainer],c),c.prototype.addDynamicProperty=l,c.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function p(m,x,b){return new c(m,x,b)}return{getTransformProperty:p}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,n.c,0,null,this),this.o=PropertyFactory.getProp(t,n.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,n.tr,this),this.so=PropertyFactory.getProp(t,n.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,n.tr.eo,0,.01,this),this.data=n,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,n,r,s,o,l){var c=l?-1:1,p=s.s.v[0]+(1-s.s.v[0])*(1-o),m=s.s.v[1]+(1-s.s.v[1])*(1-o);t.translate(s.p.v[0]*c*o,s.p.v[1]*c*o,s.p.v[2]),n.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),n.rotate(-s.r.v*c*o),n.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(l?1/p:p,l?1/m:m),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,n,r,s){for(this.elem=t,this.arr=n,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,n[r]);r>0;)r-=1,this._elements.unshift(n[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._processed=!1,t[n].ty==="gr"&&this.resetElements(t[n].it)},RepeaterModifier.prototype.cloneElements=function(t){var n=JSON.parse(JSON.stringify(t));return this.resetElements(n),n},RepeaterModifier.prototype.changeGroupRender=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)t[r]._render=n,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,n)},RepeaterModifier.prototype.processShapes=function(t){var n,r,s,o,l,c=!1;if(this._mdf||t){var p=Math.ceil(this.c.v);if(this._groups.length<p){for(;this._groups.length<p;){var m={it:this.cloneElements(this._elements),ty:"gr"};m.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,m),this._groups.splice(0,0,m),this._currentCopies+=1}this.elem.reloadShapes(),c=!0}l=0;var x;for(s=0;s<=this._groups.length-1;s+=1){if(x=l<p,this._groups[s]._render=x,this.changeGroupRender(this._groups[s].it,x),!x){var b=this.elemsData[s].it,_=b[b.length-1];_.transform.op.v!==0?(_.transform.op._mdf=!0,_.transform.op.v=0):_.transform.op._mdf=!1}l+=1}this._currentCopies=p;var R=this.o.v,k=R%1,M=R>0?Math.floor(R):Math.ceil(R),P=this.pMatrix.props,K=this.rMatrix.props,$=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var G=0;if(R>0){for(;G<M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),G+=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,k,!1),G+=k)}else if(R<0){for(;G>M;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),G-=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-k,!0),G-=k)}s=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,l=this._currentCopies;for(var H,j;l;){if(n=this.elemsData[s].it,r=n[n.length-1].transform.mProps.v.props,j=r.length,n[n.length-1].transform.mProps._mdf=!0,n[n.length-1].transform.op._mdf=!0,n[n.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),G!==0){for((s!==0&&o===1||s!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),this.matrix.transform($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15]),this.matrix.transform(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15]),H=0;H<j;H+=1)r[H]=this.matrix.props[H];this.matrix.reset()}else for(this.matrix.reset(),H=0;H<j;H+=1)r[H]=this.matrix.props[H];G+=1,l-=1,s+=o}}else for(l=this._currentCopies,s=0,o=1;l;)n=this.elemsData[s].it,r=n[n.length-1].transform.mProps.v.props,n[n.length-1].transform.mProps._mdf=!1,n[n.length-1].transform.op._mdf=!1,l-=1,s+=o;return c},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,n.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,n){var r=shapePool.newElement();r.c=t.c;var s,o=t._length,l,c,p,m,x,b,_=0,R,k,M,P,K,$;for(s=0;s<o;s+=1)l=t.v[s],p=t.o[s],c=t.i[s],l[0]===p[0]&&l[1]===p[1]&&l[0]===c[0]&&l[1]===c[1]?(s===0||s===o-1)&&!t.c?(r.setTripleAt(l[0],l[1],p[0],p[1],c[0],c[1],_),_+=1):(s===0?m=t.v[o-1]:m=t.v[s-1],x=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2)),b=x?Math.min(x/2,n)/x:0,K=l[0]+(m[0]-l[0])*b,R=K,$=l[1]-(l[1]-m[1])*b,k=$,M=R-(R-l[0])*roundCorner,P=k-(k-l[1])*roundCorner,r.setTripleAt(R,k,M,P,K,$,_),_+=1,s===o-1?m=t.v[0]:m=t.v[s+1],x=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2)),b=x?Math.min(x/2,n)/x:0,M=l[0]+(m[0]-l[0])*b,R=M,P=l[1]+(m[1]-l[1])*b,k=P,K=R-(R-l[0])*roundCorner,$=k-(k-l[1])*roundCorner,r.setTripleAt(R,k,M,P,K,$,_),_+=1):(r.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],_),_+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.rd.v;if(c!==0){var p,m;for(r=0;r<s;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(m.releaseShapes(),p.shape._mdf=!0,n=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)m.addShape(this.processPath(n[o],c));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,n){return Math.abs(t-n)*1e5<=Math.min(Math.abs(t),Math.abs(n))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,n,r){return t*(1-r)+n*r}function lerpPoint(t,n,r){return[lerp(t[0],n[0],r),lerp(t[1],n[1],r)]}function quadRoots(t,n,r){if(t===0)return[];var s=n*n-4*t*r;if(s<0)return[];var o=-n/(2*t);if(s===0)return[o];var l=Math.sqrt(s)/(2*t);return[o-l,o+l]}function polynomialCoefficients(t,n,r,s){return[-t+3*n-3*r+s,3*t-6*n+3*r,-3*t+3*n,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,n,r,s,o){o&&pointEqual(t,n)&&(n=lerpPoint(t,s,1/3)),o&&pointEqual(r,s)&&(r=lerpPoint(t,s,2/3));var l=polynomialCoefficients(t[0],n[0],r[0],s[0]),c=polynomialCoefficients(t[1],n[1],r[1],s[1]);this.a=[l[0],c[0]],this.b=[l[1],c[1]],this.c=[l[2],c[2]],this.d=[l[3],c[3]],this.points=[t,n,r,s]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var n=this.derivative(t);return Math.atan2(n[1],n[0])},PolynomialBezier.prototype.normalAngle=function(t){var n=this.derivative(t);return Math.atan2(n[0],n[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var n=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=n*n-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var s=Math.sqrt(r);return floatZero(s)?s>0&&s<1?[n]:[]:[n-s,n+s].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var n=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),s=lerpPoint(this.points[2],this.points[3],t),o=lerpPoint(n,r,t),l=lerpPoint(r,s,t),c=lerpPoint(o,l,t);return[new PolynomialBezier(this.points[0],n,o,c,!0),new PolynomialBezier(c,l,s,this.points[3],!0)]};function extrema(t,n){var r=t.points[0][n],s=t.points[t.points.length-1][n];if(r>s){var o=s;s=r,r=o}for(var l=quadRoots(3*t.a[n],2*t.b[n],t.c[n]),c=0;c<l.length;c+=1)if(l[c]>0&&l[c]<1){var p=t.point(l[c])[n];p<r?r=p:p>s&&(s=p)}return{min:r,max:s}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,n,r){var s=t.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:t,t:(n+r)/2,t1:n,t2:r}}function splitData(t){var n=t.bez.split(.5);return[intersectData(n[0],t.t1,t.t),intersectData(n[1],t.t,t.t2)]}function boxIntersect(t,n){return Math.abs(t.cx-n.cx)*2<t.width+n.width&&Math.abs(t.cy-n.cy)*2<t.height+n.height}function intersectsImpl(t,n,r,s,o,l){if(boxIntersect(t,n)){if(r>=l||t.width<=s&&t.height<=s&&n.width<=s&&n.height<=s){o.push([t.t,n.t]);return}var c=splitData(t),p=splitData(n);intersectsImpl(c[0],p[0],r+1,s,o,l),intersectsImpl(c[0],p[1],r+1,s,o,l),intersectsImpl(c[1],p[0],r+1,s,o,l),intersectsImpl(c[1],p[1],r+1,s,o,l)}}PolynomialBezier.prototype.intersections=function(t,n,r){n===void 0&&(n=2),r===void 0&&(r=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,n,s,r),s},PolynomialBezier.shapeSegment=function(t,n){var r=(n+1)%t.length();return new PolynomialBezier(t.v[n],t.o[n],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,n){var r=(n+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[n],t.v[n],!0)};function crossProduct(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function lineIntersection(t,n,r,s){var o=[t[0],t[1],1],l=[n[0],n[1],1],c=[r[0],r[1],1],p=[s[0],s[1],1],m=crossProduct(crossProduct(o,l),crossProduct(c,p));return floatZero(m[2])?null:[m[0]/m[2],m[1]/m[2]]}function polarOffset(t,n,r){return[t[0]+Math.cos(n)*r,t[1]-Math.sin(n)*r]}function pointDistance(t,n){return Math.hypot(t[0]-n[0],t[1]-n[1])}function pointEqual(t,n){return floatEqual(t[0],n[0])&&floatEqual(t[1],n[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,n.s,0,null,this),this.frequency=PropertyFactory.getProp(t,n.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,n.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,n,r,s,o,l,c){var p=r-Math.PI/2,m=r+Math.PI/2,x=n[0]+Math.cos(r)*s*o,b=n[1]-Math.sin(r)*s*o;t.setTripleAt(x,b,x+Math.cos(p)*l,b-Math.sin(p)*l,x+Math.cos(m)*c,b-Math.sin(m)*c,t.length())}function getPerpendicularVector(t,n){var r=[n[0]-t[0],n[1]-t[1]],s=-Math.PI*.5,o=[Math.cos(s)*r[0]-Math.sin(s)*r[1],Math.sin(s)*r[0]+Math.cos(s)*r[1]];return o}function getProjectingAngle(t,n){var r=n===0?t.length()-1:n-1,s=(n+1)%t.length(),o=t.v[r],l=t.v[s],c=getPerpendicularVector(o,l);return Math.atan2(0,1)-Math.atan2(c[1],c[0])}function zigZagCorner(t,n,r,s,o,l,c){var p=getProjectingAngle(n,r),m=n.v[r%n._length],x=n.v[r===0?n._length-1:r-1],b=n.v[(r+1)%n._length],_=l===2?Math.sqrt(Math.pow(m[0]-x[0],2)+Math.pow(m[1]-x[1],2)):0,R=l===2?Math.sqrt(Math.pow(m[0]-b[0],2)+Math.pow(m[1]-b[1],2)):0;setPoint(t,n.v[r%n._length],p,c,s,R/((o+1)*2),_/((o+1)*2))}function zigZagSegment(t,n,r,s,o,l){for(var c=0;c<s;c+=1){var p=(c+1)/(s+1),m=o===2?Math.sqrt(Math.pow(n.points[3][0]-n.points[0][0],2)+Math.pow(n.points[3][1]-n.points[0][1],2)):0,x=n.normalAngle(p),b=n.point(p);setPoint(t,b,x,l,r,m/((s+1)*2),m/((s+1)*2)),l=-l}return l}ZigZagModifier.prototype.processPath=function(t,n,r,s){var o=t._length,l=shapePool.newElement();if(l.c=t.c,t.c||(o-=1),o===0)return l;var c=-1,p=PolynomialBezier.shapeSegment(t,0);zigZagCorner(l,t,0,n,r,s,c);for(var m=0;m<o;m+=1)c=zigZagSegment(l,p,n,r,s,-c),m===o-1&&!t.c?p=null:p=PolynomialBezier.shapeSegment(t,(m+1)%o),zigZagCorner(l,t,m+1,n,r,s,c);return l},ZigZagModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amplitude.v,p=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(c!==0){var x,b;for(r=0;r<s;r+=1){if(x=this.shapes[r],b=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!t))for(b.releaseShapes(),x.shape._mdf=!0,n=x.shape.paths.shapes,l=x.shape.paths._length,o=0;o<l;o+=1)b.addShape(this.processPath(n[o],c,p,m));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,n,r){var s=Math.atan2(n[0]-t[0],n[1]-t[1]);return[polarOffset(t,s,r),polarOffset(n,s,r)]}function offsetSegment(t,n){var r,s,o,l,c,p,m;m=linearOffset(t.points[0],t.points[1],n),r=m[0],s=m[1],m=linearOffset(t.points[1],t.points[2],n),o=m[0],l=m[1],m=linearOffset(t.points[2],t.points[3],n),c=m[0],p=m[1];var x=lineIntersection(r,s,o,l);x===null&&(x=s);var b=lineIntersection(c,p,o,l);return b===null&&(b=c),new PolynomialBezier(r,x,b,p)}function joinLines(t,n,r,s,o){var l=n.points[3],c=r.points[0];if(s===3||pointEqual(l,c))return l;if(s===2){var p=-n.tangentAngle(1),m=-r.tangentAngle(0)+Math.PI,x=lineIntersection(l,polarOffset(l,p+Math.PI/2,100),c,polarOffset(c,p+Math.PI/2,100)),b=x?pointDistance(x,l):pointDistance(l,c)/2,_=polarOffset(l,p,2*b*roundCorner);return t.setXYAt(_[0],_[1],"o",t.length()-1),_=polarOffset(c,m,2*b*roundCorner),t.setTripleAt(c[0],c[1],c[0],c[1],_[0],_[1],t.length()),c}var R=pointEqual(l,n.points[2])?n.points[0]:n.points[2],k=pointEqual(c,r.points[1])?r.points[3]:r.points[1],M=lineIntersection(R,l,c,k);return M&&pointDistance(M,l)<o?(t.setTripleAt(M[0],M[1],M[0],M[1],M[0],M[1],t.length()),M):l}function getIntersection(t,n){var r=t.intersections(n);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,n){var r=t.slice(),s=n.slice(),o=getIntersection(t[t.length-1],n[0]);return o&&(r[t.length-1]=t[t.length-1].split(o[0])[0],s[0]=n[0].split(o[1])[1]),t.length>1&&n.length>1&&(o=getIntersection(t[0],n[n.length-1]),o)?[[t[0].split(o[0])[0]],[n[n.length-1].split(o[1])[1]]]:[r,s]}function pruneIntersections(t){for(var n,r=1;r<t.length;r+=1)n=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=n[0],t[r]=n[1];return t.length>1&&(n=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=n[0],t[0]=n[1]),t}function offsetSegmentSplit(t,n){var r=t.inflectionPoints(),s,o,l,c;if(r.length===0)return[offsetSegment(t,n)];if(r.length===1||floatEqual(r[1],1))return l=t.split(r[0]),s=l[0],o=l[1],[offsetSegment(s,n),offsetSegment(o,n)];l=t.split(r[0]),s=l[0];var p=(r[1]-r[0])/(1-r[0]);return l=l[1].split(p),c=l[0],o=l[1],[offsetSegment(s,n),offsetSegment(c,n),offsetSegment(o,n)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,n){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,n.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,n.ml,0,null,this),this.lineJoin=n.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,n,r,s){var o=shapePool.newElement();o.c=t.c;var l=t.length();t.c||(l-=1);var c,p,m,x=[];for(c=0;c<l;c+=1)m=PolynomialBezier.shapeSegment(t,c),x.push(offsetSegmentSplit(m,n));if(!t.c)for(c=l-1;c>=0;c-=1)m=PolynomialBezier.shapeSegmentInverted(t,c),x.push(offsetSegmentSplit(m,n));x=pruneIntersections(x);var b=null,_=null;for(c=0;c<x.length;c+=1){var R=x[c];for(_&&(b=joinLines(o,_,R[0],r,s)),_=R[R.length-1],p=0;p<R.length;p+=1)m=R[p],b&&pointEqual(m.points[0],b)?o.setXYAt(m.points[1][0],m.points[1][1],"o",o.length()-1):o.setTripleAt(m.points[0][0],m.points[0][1],m.points[1][0],m.points[1][1],m.points[0][0],m.points[0][1],o.length()),o.setTripleAt(m.points[3][0],m.points[3][1],m.points[3][0],m.points[3][1],m.points[2][0],m.points[2][1],o.length()),b=m.points[3]}return x.length&&joinLines(o,_,x[0][0],r,s),o},OffsetPathModifier.prototype.processShapes=function(t){var n,r,s=this.shapes.length,o,l,c=this.amount.v,p=this.miterLimit.v,m=this.lineJoin;if(c!==0){var x,b;for(r=0;r<s;r+=1){if(x=this.shapes[r],b=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!t))for(b.releaseShapes(),x.shape._mdf=!0,n=x.shape.paths.shapes,l=x.shape.paths._length,o=0;o<l;o+=1)b.addShape(this.processPath(n[o],c,m,p));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var n=t.fStyle?t.fStyle.split(" "):[],r="normal",s="normal",o=n.length,l,c=0;c<o;c+=1)switch(l=n[c].toLowerCase(),l){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:s,weight:t.fWeight||r}}var FontManager=(function(){var t=5e3,n={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=127988,o=917631,l=917601,c=917626,p=65039,m=8205,x=127462,b=127487,_=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function R(ae){var ue=ae.split(","),re,oe=ue.length,Ce=[];for(re=0;re<oe;re+=1)ue[re]!=="sans-serif"&&ue[re]!=="monospace"&&Ce.push(ue[re]);return Ce.join(",")}function k(ae,ue){var re=createTag("span");re.setAttribute("aria-hidden",!0),re.style.fontFamily=ue;var oe=createTag("span");oe.innerText="giItT1WQy@!-/#",re.style.position="absolute",re.style.left="-10000px",re.style.top="-10000px",re.style.fontSize="300px",re.style.fontVariant="normal",re.style.fontStyle="normal",re.style.fontWeight="normal",re.style.letterSpacing="0",re.appendChild(oe),document.body.appendChild(re);var Ce=oe.offsetWidth;return oe.style.fontFamily=R(ae)+", "+ue,{node:oe,w:Ce,parent:re}}function M(){var ae,ue=this.fonts.length,re,oe,Ce=ue;for(ae=0;ae<ue;ae+=1)this.fonts[ae].loaded?Ce-=1:this.fonts[ae].fOrigin==="n"||this.fonts[ae].origin===0?this.fonts[ae].loaded=!0:(re=this.fonts[ae].monoCase.node,oe=this.fonts[ae].monoCase.w,re.offsetWidth!==oe?(Ce-=1,this.fonts[ae].loaded=!0):(re=this.fonts[ae].sansCase.node,oe=this.fonts[ae].sansCase.w,re.offsetWidth!==oe&&(Ce-=1,this.fonts[ae].loaded=!0)),this.fonts[ae].loaded&&(this.fonts[ae].sansCase.parent.parentNode.removeChild(this.fonts[ae].sansCase.parent),this.fonts[ae].monoCase.parent.parentNode.removeChild(this.fonts[ae].monoCase.parent)));Ce!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function P(ae,ue){var re=document.body&&ue?"svg":"canvas",oe,Ce=getFontProperties(ae);if(re==="svg"){var Ae=createNS("text");Ae.style.fontSize="100px",Ae.setAttribute("font-family",ae.fFamily),Ae.setAttribute("font-style",Ce.style),Ae.setAttribute("font-weight",Ce.weight),Ae.textContent="1",ae.fClass?(Ae.style.fontFamily="inherit",Ae.setAttribute("class",ae.fClass)):Ae.style.fontFamily=ae.fFamily,ue.appendChild(Ae),oe=Ae}else{var we=new OffscreenCanvas(500,500).getContext("2d");we.font=Ce.style+" "+Ce.weight+" 100px "+ae.fFamily,oe=we}function Re(Be){return re==="svg"?(oe.textContent=Be,oe.getComputedTextLength()):oe.measureText(Be).width}return{measureText:Re}}function K(ae,ue){if(!ae){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ae.list;return}if(!document.body){this.isLoaded=!0,ae.list.forEach(function(at){at.helper=P(at),at.cache={}}),this.fonts=ae.list;return}var re=ae.list,oe,Ce=re.length,Ae=Ce;for(oe=0;oe<Ce;oe+=1){var we=!0,Re,Be;if(re[oe].loaded=!1,re[oe].monoCase=k(re[oe].fFamily,"monospace"),re[oe].sansCase=k(re[oe].fFamily,"sans-serif"),!re[oe].fPath)re[oe].loaded=!0,Ae-=1;else if(re[oe].fOrigin==="p"||re[oe].origin===3){if(Re=document.querySelectorAll('style[f-forigin="p"][f-family="'+re[oe].fFamily+'"], style[f-origin="3"][f-family="'+re[oe].fFamily+'"]'),Re.length>0&&(we=!1),we){var We=createTag("style");We.setAttribute("f-forigin",re[oe].fOrigin),We.setAttribute("f-origin",re[oe].origin),We.setAttribute("f-family",re[oe].fFamily),We.type="text/css",We.innerText="@font-face {font-family: "+re[oe].fFamily+"; font-style: normal; src: url('"+re[oe].fPath+"');}",ue.appendChild(We)}}else if(re[oe].fOrigin==="g"||re[oe].origin===1){for(Re=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Be=0;Be<Re.length;Be+=1)Re[Be].href.indexOf(re[oe].fPath)!==-1&&(we=!1);if(we){var De=createTag("link");De.setAttribute("f-forigin",re[oe].fOrigin),De.setAttribute("f-origin",re[oe].origin),De.type="text/css",De.rel="stylesheet",De.href=re[oe].fPath,document.body.appendChild(De)}}else if(re[oe].fOrigin==="t"||re[oe].origin===2){for(Re=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Be=0;Be<Re.length;Be+=1)re[oe].fPath===Re[Be].src&&(we=!1);if(we){var ct=createTag("link");ct.setAttribute("f-forigin",re[oe].fOrigin),ct.setAttribute("f-origin",re[oe].origin),ct.setAttribute("rel","stylesheet"),ct.setAttribute("href",re[oe].fPath),ue.appendChild(ct)}}re[oe].helper=P(re[oe],ue),re[oe].cache={},this.fonts.push(re[oe])}Ae===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function $(ae){if(ae){this.chars||(this.chars=[]);var ue,re=ae.length,oe,Ce=this.chars.length,Ae;for(ue=0;ue<re;ue+=1){for(oe=0,Ae=!1;oe<Ce;)this.chars[oe].style===ae[ue].style&&this.chars[oe].fFamily===ae[ue].fFamily&&this.chars[oe].ch===ae[ue].ch&&(Ae=!0),oe+=1;Ae||(this.chars.push(ae[ue]),Ce+=1)}}}function G(ae,ue,re){for(var oe=0,Ce=this.chars.length;oe<Ce;){if(this.chars[oe].ch===ae&&this.chars[oe].style===ue&&this.chars[oe].fFamily===re)return this.chars[oe];oe+=1}return(typeof ae=="string"&&ae.charCodeAt(0)!==13||!ae)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ae,ue,re)),n}function H(ae,ue,re){var oe=this.getFontByName(ue),Ce=ae;if(!oe.cache[Ce]){var Ae=oe.helper;if(ae===" "){var we=Ae.measureText("|"+ae+"|"),Re=Ae.measureText("||");oe.cache[Ce]=(we-Re)/100}else oe.cache[Ce]=Ae.measureText(ae)/100}return oe.cache[Ce]*re}function j(ae){for(var ue=0,re=this.fonts.length;ue<re;){if(this.fonts[ue].fName===ae)return this.fonts[ue];ue+=1}return this.fonts[0]}function W(ae){var ue=0,re=ae.charCodeAt(0);if(re>=55296&&re<=56319){var oe=ae.charCodeAt(1);oe>=56320&&oe<=57343&&(ue=(re-55296)*1024+oe-56320+65536)}return ue}function Y(ae,ue){var re=ae.toString(16)+ue.toString(16);return _.indexOf(re)!==-1}function X(ae){return ae===m}function te(ae){return ae===p}function se(ae){var ue=W(ae);return ue>=x&&ue<=b}function pe(ae){return se(ae.substr(0,2))&&se(ae.substr(2,2))}function ge(ae){return r.indexOf(ae)!==-1}function me(ae,ue){var re=W(ae.substr(ue,2));if(re!==s)return!1;var oe=0;for(ue+=2;oe<5;){if(re=W(ae.substr(ue,2)),re<l||re>c)return!1;oe+=1,ue+=2}return W(ae.substr(ue,2))===o}function Ee(){this.isLoaded=!0}var ve=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ve.isModifier=Y,ve.isZeroWidthJoiner=X,ve.isFlagEmoji=pe,ve.isRegionalCode=se,ve.isCombinedCharacter=ge,ve.isRegionalFlag=me,ve.isVariationSelector=te,ve.BLACK_FLAG_CODE_POINT=s;var de={addChars:$,addFonts:K,getCharData:G,getFontByName:j,measureText:H,checkLoadedFonts:M,setIsLoaded:Ee};return ve.prototype=de,ve})();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(n){this.renderableComponents.indexOf(n)===-1&&this.renderableComponents.push(n)},removeRenderableComponent:function(n){this.renderableComponents.indexOf(n)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(n),1)},prepareRenderableFrame:function(n){this.checkLayerLimits(n)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(n){this.data.ip-this.data.st<=n&&this.data.op-this.data.st>n?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var n,r=this.renderableComponents.length;for(n=0;n<r;n+=1)this.renderableComponents[n].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(n){return t[n]||""}})();function SliderEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function AngleEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function ColorEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,1,0,r)}function PointEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,1,0,r)}function LayerIndexEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function MaskIndexEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function CheckboxEffect(t,n,r){this.p=PropertyFactory.getProp(n,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,n){var r=t.ef||[];this.effectElements=[];var s,o=r.length,l;for(s=0;s<o;s+=1)l=new GroupEffect(r[s],n),this.effectElements.push(l)}function GroupEffect(t,n){this.init(t,n)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,n){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(n);var r,s=this.data.ef.length,o,l=this.data.ef;for(r=0;r<s;r+=1){switch(o=null,l[r].ty){case 0:o=new SliderEffect(l[r],n,this);break;case 1:o=new AngleEffect(l[r],n,this);break;case 2:o=new ColorEffect(l[r],n,this);break;case 3:o=new PointEffect(l[r],n,this);break;case 4:case 7:o=new CheckboxEffect(l[r],n,this);break;case 10:o=new LayerIndexEffect(l[r],n,this);break;case 11:o=new MaskIndexEffect(l[r],n,this);break;case 5:o=new EffectsManager(l[r],n);break;default:o=new NoValueEffect(l[r]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var n=0,r=this.data.masksProperties.length;n<r;){if(this.data.masksProperties[n].mode!=="n"&&this.data.masksProperties[n].cl!==!1)return!0;n+=1}return!1},initExpressions:function(){var n=getExpressionInterfaces();if(n){var r=n("layer"),s=n("effects"),o=n("shape"),l=n("text"),c=n("comp");this.layerInterface=r(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var p=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(p),this.data.ty===0||this.data.xt?this.compInterface=c(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var n=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=n},initBaseData:function(n,r,s){this.globalData=r,this.comp=s,this.data=n,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(n,r){var s,o=this.dynamicProperties.length;for(s=0;s<o;s+=1)(r||this._isParent&&this.dynamicProperties[s].propType==="transform")&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(n){this.dynamicProperties.indexOf(n)===-1&&this.dynamicProperties.push(n)}};function FootageElement(t,n,r){this.initFrame(),this.initRenderable(),this.assetData=n.getAssetData(t.refId),this.footageData=n.imageLoader.getAsset(this.assetData),this.initBaseData(t,n,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var n=t("footage");this.layerInterface=n(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,n,r){this.initFrame(),this.initRenderable(),this.assetData=n.getAssetData(t.refId),this.initBaseData(t,n,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var n=this.tm.v;this._currentTime=n}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var n,r=this.layers.length,s;for(this.completeLayers=!0,n=r-1;n>=0;n-=1)this.elements[n]||(s=this.layers[n],s.ip-s.st<=t-this.layers[n].st&&s.op-s.st>t-this.layers[n].st&&this.buildItem(n)),this.completeLayers=this.elements[n]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var n,r=t.length,s,o=this.layers.length;for(n=0;n<r;n+=1)for(s=0;s<o;){if(this.layers[s].id===t[n].id){this.layers[s]=t[n];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,n,r){for(var s=this.elements,o=this.layers,l=0,c=o.length;l<c;)o[l].ind==n&&(!s[l]||s[l]===!0?(this.buildItem(l),this.addPendingElement(t)):(r.push(s[l]),s[l].setAsParent(),o[l].parent!==void 0?this.buildElementParenting(t,o[l].parent,r):t.setHierarchy(r))),l+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var n,r=t.length;for(n=0;n<r;n+=1)if(t[n].xt){var s=this.createComp(t[n]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(t){var n,r=this.elements.length;for(n=0;n<r;n+=1)if(this.elements[n].data.ind===t)return this.elements[n];return null},BaseRenderer.prototype.getElementByPath=function(t){var n=t.shift(),r;if(typeof n=="number")r=this.elements[n];else{var s,o=this.elements.length;for(s=0;s<o;s+=1)if(this.elements[s].data.nm===n){r=this.elements[s];break}}return t.length===0?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,n){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,n),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var n=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:n,localMat:n,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var n,r=this.finalTransform.mat,s=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<o;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(n=this.finalTransform.mProp.v.props,r.cloneFromProps(n),s=0;s<o;s+=1)r.multiply(this.hierarchy[s].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var n=0,r=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;n<r;)this.localTransforms[n]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[n]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),n+=1;if(this.finalTransform._localMatMdf){var s=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(s),n=1;n<r;n+=1){var o=this.localTransforms[n].matrix;s.multiply(o)}s.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(n=0;n<r;n+=1)l*=this.localTransforms[n].opacity*.01;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var n=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(n.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var r=0,s=n.length;for(r=0;r<s;r+=1)this.localTransforms.push(n[r])}}},globalToLocal:function(n){var r=[];r.push(this.finalTransform);for(var s=!0,o=this.comp;s;)o.finalTransform?(o.data.hasMask&&r.splice(0,0,o.finalTransform),o=o.comp):s=!1;var l,c=r.length,p;for(l=0;l<c;l+=1)p=r[l].mat.applyToPointArray(0,0,0),n=[n[0]-p[0],n[1]-p[1],0];return n},mHelper:new Matrix};function MaskElement(t,n,r){this.data=t,this.element=n,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s=this.globalData.defs,o,l=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(l),this.solidPath="";var c,p=this.masksProperties,m=0,x=[],b,_,R=createElementID(),k,M,P,K,$="clipPath",G="clip-path";for(o=0;o<l;o+=1)if((p[o].mode!=="a"&&p[o].mode!=="n"||p[o].inv||p[o].o.k!==100||p[o].o.x)&&($="mask",G="mask"),(p[o].mode==="s"||p[o].mode==="i")&&m===0?(k=createNS("rect"),k.setAttribute("fill","#ffffff"),k.setAttribute("width",this.element.comp.data.w||0),k.setAttribute("height",this.element.comp.data.h||0),x.push(k)):k=null,c=createNS("path"),p[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,p[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[o],3),elem:c,lastPath:""},s.appendChild(c);else{m+=1,c.setAttribute("fill",p[o].mode==="s"?"#000000":"#ffffff"),c.setAttribute("clip-rule","nonzero");var H;if(p[o].x.k!==0?($="mask",G="mask",K=PropertyFactory.getProp(this.element,p[o].x,0,null,this.element),H=createElementID(),M=createNS("filter"),M.setAttribute("id",H),P=createNS("feMorphology"),P.setAttribute("operator","erode"),P.setAttribute("in","SourceGraphic"),P.setAttribute("radius","0"),M.appendChild(P),s.appendChild(M),c.setAttribute("stroke",p[o].mode==="s"?"#000000":"#ffffff")):(P=null,K=null),this.storedData[o]={elem:c,x:K,expan:P,lastPath:"",lastOperator:"",filterId:H,lastRadius:0},p[o].mode==="i"){_=x.length;var j=createNS("g");for(b=0;b<_;b+=1)j.appendChild(x[b]);var W=createNS("mask");W.setAttribute("mask-type","alpha"),W.setAttribute("id",R+"_"+m),W.appendChild(c),s.appendChild(W),j.setAttribute("mask","url("+getLocationHref()+"#"+R+"_"+m+")"),x.length=0,x.push(j)}else x.push(c);p[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:c,lastPath:"",op:PropertyFactory.getProp(this.element,p[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[o],3),invRect:k},this.viewData[o].prop.k||this.drawPath(p[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS($),l=x.length,o=0;o<l;o+=1)this.maskElement.appendChild(x[o]);m>0&&(this.maskElement.setAttribute("id",R),this.element.maskedElement.setAttribute(G,"url("+getLocationHref()+"#"+R+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var n=this.element.finalTransform.mat,r,s=this.masksProperties.length;for(r=0;r<s;r+=1)if((this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))){var o=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),o.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,n,r){var s=" M"+n.v[0][0]+","+n.v[0][1],o,l;for(l=n._length,o=1;o<l;o+=1)s+=" C"+n.o[o-1][0]+","+n.o[o-1][1]+" "+n.i[o][0]+","+n.i[o][1]+" "+n.v[o][0]+","+n.v[o][1];if(n.c&&l>1&&(s+=" C"+n.o[o-1][0]+","+n.o[o-1][1]+" "+n.i[0][0]+","+n.i[0][1]+" "+n.v[0][0]+","+n.v[0][1]),r.lastPath!==s){var c="";r.elem&&(n.c&&(c=t.inv?this.solidPath+s:s),r.elem.setAttribute("d",c)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var t={};t.createFilter=n,t.createAlphaToLuminanceFilter=r;function n(s,o){var l=createNS("filter");return l.setAttribute("id",s),o!==!0&&(l.setAttribute("filterUnits","objectBoundingBox"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%")),l}function r(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}return t})(),featureSupport=(function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var n,r="SourceGraphic",s=t.data.ef?t.data.ef.length:0,o=createElementID(),l=filtersFactory.createFilter(o,!0),c=0;this.filters=[];var p;for(n=0;n<s;n+=1){p=null;var m=t.data.ef[n].ty;if(registeredEffects$1[m]){var x=registeredEffects$1[m].effect;p=new x(l,t.effectsManager.effectElements[n],t,idPrefix+c,r),r=idPrefix+c,registeredEffects$1[m].countsAsEffect&&(c+=1)}p&&this.filters.push(p)}c&&(t.globalData.defs.appendChild(l),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var n,r=this.filters.length;for(n=0;n<r;n+=1)this.filters[n].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var n,r=this.filters.length,s=[];for(n=0;n<r;n+=1)this.filters[n].type===t&&s.push(this.filters[n]);return s};function registerEffect$1(t,n,r){registeredEffects$1[t]={effect:n,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var n=null;if(this.data.td){this.matteMasks={};var r=createNS("g");r.setAttribute("id",this.layerId),r.appendChild(this.layerElement),n=r,this.globalData.defs.appendChild(r)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var s=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(s.setAttribute("id",l),s.appendChild(o),this.globalData.defs.appendChild(s),this.checkMasks()){var c=createNS("g");c.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),c.appendChild(this.layerElement),this.transformedElement=c,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(n){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[n]){var r=this.layerId+"_"+n,s,o,l,c;if(n===1||n===3){var p=createNS("mask");p.setAttribute("id",r),p.setAttribute("mask-type",n===3?"luminance":"alpha"),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),p.appendChild(l),this.globalData.defs.appendChild(p),!featureSupport.maskType&&n===1&&(p.setAttribute("mask-type","luminance"),s=createElementID(),o=filtersFactory.createFilter(s),this.globalData.defs.appendChild(o),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),c.appendChild(l),p.appendChild(c),c.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(n===2){var m=createNS("mask");m.setAttribute("id",r),m.setAttribute("mask-type","alpha");var x=createNS("g");m.appendChild(x),s=createElementID(),o=filtersFactory.createFilter(s);var b=createNS("feComponentTransfer");b.setAttribute("in","SourceGraphic"),o.appendChild(b);var _=createNS("feFuncA");_.setAttribute("type","table"),_.setAttribute("tableValues","1.0 0.0"),b.appendChild(_),this.globalData.defs.appendChild(o);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),x.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),x.appendChild(R),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),x.appendChild(l),featureSupport.maskType||(m.setAttribute("mask-type","luminance"),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),x.appendChild(R),c.appendChild(this.layerElement),x.appendChild(c)),this.globalData.defs.appendChild(m)}this.matteMasks[n]=r}return this.matteMasks[n]},setMatte:function(n){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+n+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(n){this.hierarchy=n},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(r,s,o){this.initFrame(),this.initBaseData(r,s,o),this.initTransform(r,s,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=n.slotManager.getProp(this.assetData)),this.initElement(t,n,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,n){this.elem=t,this.pos=n}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(n){var r,s=this.shapeModifiers.length;for(r=0;r<s;r+=1)this.shapeModifiers[r].addShape(n)},isShapeInAnimatedModifiers:function(n){for(var r=0,s=this.shapeModifiers.length;r<s;)if(this.shapeModifiers[r].isAnimatedWithShape(n))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var n,r=this.shapes.length;for(n=0;n<r;n+=1)this.shapes[n].sh.reset();r=this.shapeModifiers.length;var s;for(n=r-1;n>=0&&(s=this.shapeModifiers[n].processShapes(this._isFirstFrame),!s);n-=1);}},searchProcessedElement:function(n){for(var r=this.processedElements,s=0,o=r.length;s<o;){if(r[s].elem===n)return r[s].pos;s+=1}return 0},addProcessedElement:function(n,r){for(var s=this.processedElements,o=s.length;o;)if(o-=1,s[o].elem===n){s[o].pos=r;return}s.push(new ProcessedElement(n,r))},prepareFrame:function(n){this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,n,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=n,this._isAnimated=!!r.k;for(var s=0,o=t.length;s<o;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,n){this.data=t,this.type=t.ty,this.d="",this.lvl=n,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,n,r,s){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(n.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",n.length?n.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var o,l=n.length||0,c;for(o=0;o<l;o+=1)c=PropertyFactory.getProp(t,n[o].v,0,0,this),this.k=c.k||this.k,this.dataProps[o]={n:n[o].n,p:c};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var n=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),n=0;n<r;n+=1)this.dataProps[n].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[n].p.v:this.dashArray[n]=this.dataProps[n].p.v:this.dashoffset[0]=this.dataProps[n].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.w=PropertyFactory.getProp(t,n.w,0,null,this),this.d=new DashProperty(t,n.d||{},"svg",this),this.c=PropertyFactory.getProp(t,n.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.c=PropertyFactory.getProp(t,n.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,n,r){this.data=n,this.c=createTypedArray("uint8c",n.p*4);var s=n.k.k[0].s?n.k.k[0].s.length-n.p*4:n.k.k.length-n.p*4;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,n.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,n){for(var r=0,s=this.o.length/2,o;r<s;){if(o=Math.abs(t[r*4]-t[n*4+r*2]),o>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,n=this.data.k.k.length;t<n;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var n,r=this.data.p*4,s,o;for(n=0;n<r;n+=1)s=n%4===0?100:255,o=Math.round(this.prop.v[n]*s),this.c[n]!==o&&(this.c[n]=o,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,n=this.data.p*4;n<r;n+=1)s=n%2===0?100:1,o=n%2===0?Math.round(this.prop.v[n]*100):this.prop.v[n],this.o[n-this.data.p*4]!==o&&(this.o[n-this.data.p*4]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,n,r)}SVGGradientFillStyleData.prototype.initGradientData=function(t,n,r){this.o=PropertyFactory.getProp(t,n.o,0,.01,this),this.s=PropertyFactory.getProp(t,n.s,1,null,this),this.e=PropertyFactory.getProp(t,n.e,1,null,this),this.h=PropertyFactory.getProp(t,n.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,n.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,n.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,n),this.setGradientOpacity(n,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,n){var r=createElementID(),s=createNS(n.t===1?"linearGradient":"radialGradient");s.setAttribute("id",r),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var o=[],l,c,p;for(p=n.g.p*4,c=0;c<p;c+=4)l=createNS("stop"),s.appendChild(l),o.push(l);t.setAttribute(n.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=s,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,n){if(this.g._hasOpacity&&!this.g._collapsable){var r,s,o,l=createNS("mask"),c=createNS("path");l.appendChild(c);var p=createElementID(),m=createElementID();l.setAttribute("id",m);var x=createNS(t.t===1?"linearGradient":"radialGradient");x.setAttribute("id",p),x.setAttribute("spreadMethod","pad"),x.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var b=this.stops;for(s=t.g.p*4;s<o;s+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),x.appendChild(r),b.push(r);c.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+p+")"),t.ty==="gs"&&(c.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),c.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&c.setAttribute("stroke-miterlimit",t.ml)),this.of=x,this.ms=l,this.ost=b,this.maskId=m,n.msElem=c}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,n,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,n.w,0,null,this),this.d=new DashProperty(t,n.d||{},"svg",this),this.initGradientData(t,n,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,n,r){this.transform={mProps:t,op:n,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(n,r,s,o){if(r===0)return"";var l=n.o,c=n.i,p=n.v,m,x=" M"+o.applyToPointStringified(p[0][0],p[0][1]);for(m=1;m<r;m+=1)x+=" C"+o.applyToPointStringified(l[m-1][0],l[m-1][1])+" "+o.applyToPointStringified(c[m][0],c[m][1])+" "+o.applyToPointStringified(p[m][0],p[m][1]);return s&&r&&(x+=" C"+o.applyToPointStringified(l[m-1][0],l[m-1][1])+" "+o.applyToPointStringified(c[0][0],c[0][1])+" "+o.applyToPointStringified(p[0][0],p[0][1]),x+="z"),x},SVGElementsRenderer=(function(){var t=new Matrix,n=new Matrix,r={createRenderFunction:s};function s(_){switch(_.ty){case"fl":return p;case"gf":return x;case"gs":return m;case"st":return b;case"sh":case"el":case"rc":case"sr":return c;case"tr":return o;case"no":return l;default:return null}}function o(_,R,k){(k||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(k||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function l(){}function c(_,R,k){var M,P,K,$,G,H,j=R.styles.length,W=R.lvl,Y,X,te,se;for(H=0;H<j;H+=1){if($=R.sh._mdf||k,R.styles[H].lvl<W){for(X=n.reset(),te=W-R.styles[H].lvl,se=R.transformers.length-1;!$&&te>0;)$=R.transformers[se].mProps._mdf||$,te-=1,se-=1;if($)for(te=W-R.styles[H].lvl,se=R.transformers.length-1;te>0;)X.multiply(R.transformers[se].mProps.v),te-=1,se-=1}else X=t;if(Y=R.sh.paths,P=Y._length,$){for(K="",M=0;M<P;M+=1)G=Y.shapes[M],G&&G._length&&(K+=buildShapeString(G,G._length,G.c,X));R.caches[H]=K}else K=R.caches[H];R.styles[H].d+=_.hd===!0?"":K,R.styles[H]._mdf=$||R.styles[H]._mdf}}function p(_,R,k){var M=R.style;(R.c._mdf||k)&&M.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||k)&&M.pElem.setAttribute("fill-opacity",R.o.v)}function m(_,R,k){x(_,R,k),b(_,R,k)}function x(_,R,k){var M=R.gf,P=R.g._hasOpacity,K=R.s.v,$=R.e.v;if(R.o._mdf||k){var G=_.ty==="gf"?"fill-opacity":"stroke-opacity";R.style.pElem.setAttribute(G,R.o.v)}if(R.s._mdf||k){var H=_.t===1?"x1":"cx",j=H==="x1"?"y1":"cy";M.setAttribute(H,K[0]),M.setAttribute(j,K[1]),P&&!R.g._collapsable&&(R.of.setAttribute(H,K[0]),R.of.setAttribute(j,K[1]))}var W,Y,X,te;if(R.g._cmdf||k){W=R.cst;var se=R.g.c;for(X=W.length,Y=0;Y<X;Y+=1)te=W[Y],te.setAttribute("offset",se[Y*4]+"%"),te.setAttribute("stop-color","rgb("+se[Y*4+1]+","+se[Y*4+2]+","+se[Y*4+3]+")")}if(P&&(R.g._omdf||k)){var pe=R.g.o;for(R.g._collapsable?W=R.cst:W=R.ost,X=W.length,Y=0;Y<X;Y+=1)te=W[Y],R.g._collapsable||te.setAttribute("offset",pe[Y*2]+"%"),te.setAttribute("stop-opacity",pe[Y*2+1])}if(_.t===1)(R.e._mdf||k)&&(M.setAttribute("x2",$[0]),M.setAttribute("y2",$[1]),P&&!R.g._collapsable&&(R.of.setAttribute("x2",$[0]),R.of.setAttribute("y2",$[1])));else{var ge;if((R.s._mdf||R.e._mdf||k)&&(ge=Math.sqrt(Math.pow(K[0]-$[0],2)+Math.pow(K[1]-$[1],2)),M.setAttribute("r",ge),P&&!R.g._collapsable&&R.of.setAttribute("r",ge)),R.s._mdf||R.e._mdf||R.h._mdf||R.a._mdf||k){ge||(ge=Math.sqrt(Math.pow(K[0]-$[0],2)+Math.pow(K[1]-$[1],2)));var me=Math.atan2($[1]-K[1],$[0]-K[0]),Ee=R.h.v;Ee>=1?Ee=.99:Ee<=-1&&(Ee=-.99);var ve=ge*Ee,de=Math.cos(me+R.a.v)*ve+K[0],ae=Math.sin(me+R.a.v)*ve+K[1];M.setAttribute("fx",de),M.setAttribute("fy",ae),P&&!R.g._collapsable&&(R.of.setAttribute("fx",de),R.of.setAttribute("fy",ae))}}}function b(_,R,k){var M=R.style,P=R.d;P&&(P._mdf||k)&&P.dashStr&&(M.pElem.setAttribute("stroke-dasharray",P.dashStr),M.pElem.setAttribute("stroke-dashoffset",P.dashoffset[0])),R.c&&(R.c._mdf||k)&&M.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||k)&&M.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||k)&&(M.pElem.setAttribute("stroke-width",R.w.v),M.msElem&&M.msElem.setAttribute("stroke-width",R.w.v))}return r})();function SVGShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,n,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,n=this.shapes.length,r,s,o=this.stylesList.length,l,c=[],p=!1;for(s=0;s<o;s+=1){for(l=this.stylesList[s],p=!1,c.length=0,t=0;t<n;t+=1)r=this.shapes[t],r.styles.indexOf(l)!==-1&&(c.push(r),p=r._isAnimated||p);c.length>1&&p&&this.setShapesAsAnimated(c)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,n){var r,s=new SVGStyleData(t,n),o=s.pElem;if(t.ty==="st")r=new SVGStrokeStyleData(this,t,s);else if(t.ty==="fl")r=new SVGFillStyleData(this,t,s);else if(t.ty==="gf"||t.ty==="gs"){var l=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new l(this,t,s),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else t.ty==="no"&&(r=new SVGNoStyleData(this,t,s));return(t.ty==="st"||t.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),o.setAttribute("fill-opacity","0"),t.lj===1&&o.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&o.setAttribute("fill-rule","evenodd"),t.ln&&o.setAttribute("id",t.ln),t.cl&&o.setAttribute("class",t.cl),t.bm&&(o.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var n=new ShapeGroupData;return t.ln&&n.gr.setAttribute("id",t.ln),t.cl&&n.gr.setAttribute("class",t.cl),t.bm&&(n.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),n},SVGShapeElement.prototype.createTransformElement=function(t,n){var r=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(r,r.o,n);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,n,r){var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7);var o=ShapePropertyFactory.getShapeProp(this,t,s,this),l=new SVGShapeData(n,r,o);return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,n){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===n)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:n,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var n=t.styles,r,s=this.stylesList.length;for(r=0;r<s;r+=1)n.indexOf(this.stylesList[r])===-1&&!this.stylesList[r].closed&&n.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,n=this.itemsData.length;for(t=0;t<n;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),n=this.dynamicProperties.length,t=0;t<n;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,n,r,s,o,l,c){var p=[].concat(l),m,x=t.length-1,b,_,R=[],k=[],M,P,K;for(m=x;m>=0;m-=1){if(K=this.searchProcessedElement(t[m]),K?n[m]=r[K-1]:t[m]._render=c,t[m].ty==="fl"||t[m].ty==="st"||t[m].ty==="gf"||t[m].ty==="gs"||t[m].ty==="no")K?n[m].style.closed=t[m].hd:n[m]=this.createStyleElement(t[m],o),t[m]._render&&n[m].style.pElem.parentNode!==s&&s.appendChild(n[m].style.pElem),R.push(n[m].style);else if(t[m].ty==="gr"){if(!K)n[m]=this.createGroupElement(t[m]);else for(_=n[m].it.length,b=0;b<_;b+=1)n[m].prevViewData[b]=n[m].it[b];this.searchShapes(t[m].it,n[m].it,n[m].prevViewData,n[m].gr,o+1,p,c),t[m]._render&&n[m].gr.parentNode!==s&&s.appendChild(n[m].gr)}else t[m].ty==="tr"?(K||(n[m]=this.createTransformElement(t[m],s)),M=n[m].transform,p.push(M)):t[m].ty==="sh"||t[m].ty==="rc"||t[m].ty==="el"||t[m].ty==="sr"?(K||(n[m]=this.createShapeElement(t[m],p,o)),this.setElementStyles(n[m])):t[m].ty==="tm"||t[m].ty==="rd"||t[m].ty==="ms"||t[m].ty==="pb"||t[m].ty==="zz"||t[m].ty==="op"?(K?(P=n[m],P.closed=!1):(P=ShapeModifiers.getModifier(t[m].ty),P.init(this,t[m]),n[m]=P,this.shapeModifiers.push(P)),k.push(P)):t[m].ty==="rp"&&(K?(P=n[m],P.closed=!0):(P=ShapeModifiers.getModifier(t[m].ty),n[m]=P,P.init(this,t,m,n),this.shapeModifiers.push(P),c=!1),k.push(P));this.addProcessedElement(t[m],m+1)}for(x=R.length,m=0;m<x;m+=1)R[m].closed=!0;for(x=k.length,m=0;m<x;m+=1)k[m].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<n;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,n=this.animatedContents.length,r;for(t=0;t<n;t+=1)r=this.animatedContents[t],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,n,r,s,o,l){this.o=t,this.sw=n,this.sc=r,this.fc=s,this.m=o,this.p=l,this._mdf={o:!0,sw:!!n,sc:!!r,fc:!!s,m:!0,p:!0}}LetterProps.prototype.update=function(t,n,r,s,o,l){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var c=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,c=!0),this.sw!==n&&(this.sw=n,this._mdf.sw=!0,c=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,c=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,c=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,c=!0),l.length&&(this.p[0]!==l[0]||this.p[1]!==l[1]||this.p[4]!==l[4]||this.p[5]!==l[5]||this.p[12]!==l[12]||this.p[13]!==l[13])&&(this.p=l,this._mdf.p=!0,c=!0),c};function TextProperty(t,n){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,n.d&&n.d.sid&&(n.d=t.globalData.slotManager.getProp(n.d)),this.data=n,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var n=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var s,o=this.effectsSequence.length,l=t||this.data.d.k[this.keysIndex].s;for(s=0;s<o;s+=1)r!==this.keysIndex?l=this.effectsSequence[s](l,l.t):l=this.effectsSequence[s](this.currentData,l.t);n!==l&&this.setCurrentData(l),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,n=this.elem.comp.renderedFrame,r=0,s=t.length;r<=s-1&&!(r===s-1||t[r+1].t>n);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var n=[],r=0,s=t.length,o,l,c=!1,p=!1,m="";r<s;)c=p,p=!1,o=t.charCodeAt(r),m=t.charAt(r),FontManager.isCombinedCharacter(o)?c=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(t,r)?m=t.substr(r,14):(l=t.charCodeAt(r+1),l>=56320&&l<=57343&&(FontManager.isModifier(o,l)?(m=t.substr(r,2),c=!0):FontManager.isFlagEmoji(t.substr(r,4))?m=t.substr(r,4):m=t.substr(r,2))):o>56319?(l=t.charCodeAt(r+1),FontManager.isVariationSelector(o)&&(c=!0)):FontManager.isZeroWidthJoiner(o)&&(c=!0,p=!0),c?(n[n.length-1]+=m,c=!1):n.push(m),r+=m.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var n=this.elem.globalData.fontManager,r=this.data,s=[],o,l,c,p=0,m,x=r.m.g,b=0,_=0,R=0,k=[],M=0,P=0,K,$,G=n.getFontByName(t.f),H,j=0,W=getFontProperties(G);t.fWeight=W.weight,t.fStyle=W.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),l=t.finalText.length,t.finalLineHeight=t.lh;var Y=t.tr/1e3*t.finalSize,X;if(t.sz)for(var te=!0,se=t.sz[0],pe=t.sz[1],ge,me;te;){me=this.buildFinalText(t.t),ge=0,M=0,l=me.length,Y=t.tr/1e3*t.finalSize;var Ee=-1;for(o=0;o<l;o+=1)X=me[o].charCodeAt(0),c=!1,me[o]===" "?Ee=o:(X===13||X===3)&&(M=0,c=!0,ge+=t.finalLineHeight||t.finalSize*1.2),n.chars?(H=n.getCharData(me[o],G.fStyle,G.fFamily),j=c?0:H.w*t.finalSize/100):j=n.measureText(me[o],t.f,t.finalSize),M+j>se&&me[o]!==" "?(Ee===-1?l+=1:o=Ee,ge+=t.finalLineHeight||t.finalSize*1.2,me.splice(o,Ee===o?1:0,"\r"),Ee=-1,M=0):(M+=j,M+=Y);ge+=G.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&pe<ge?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=me,l=t.finalText.length,te=!1)}M=-Y,j=0;var ve=0,de;for(o=0;o<l;o+=1)if(c=!1,de=t.finalText[o],X=de.charCodeAt(0),X===13||X===3?(ve=0,k.push(M),P=M>P?M:P,M=-2*Y,m="",c=!0,R+=1):m=de,n.chars?(H=n.getCharData(de,G.fStyle,n.getFontByName(t.f).fFamily),j=c?0:H.w*t.finalSize/100):j=n.measureText(m,t.f,t.finalSize),de===" "?ve+=j+Y:(M+=j+Y+ve,ve=0),s.push({l:j,an:j,add:b,n:c,anIndexes:[],val:m,line:R,animatorJustifyOffset:0}),x==2){if(b+=j,m===""||m===" "||o===l-1){for((m===""||m===" ")&&(b-=j);_<=o;)s[_].an=b,s[_].ind=p,s[_].extra=j,_+=1;p+=1,b=0}}else if(x==3){if(b+=j,m===""||o===l-1){for(m===""&&(b-=j);_<=o;)s[_].an=b,s[_].ind=p,s[_].extra=j,_+=1;b=0,p+=1}}else s[p].ind=p,s[p].extra=0,p+=1;if(t.l=s,P=M>P?M:P,k.push(M),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=P,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=k;var ae=r.a,ue,re;$=ae.length;var oe,Ce,Ae=[];for(K=0;K<$;K+=1){for(ue=ae[K],ue.a.sc&&(t.strokeColorAnim=!0),ue.a.sw&&(t.strokeWidthAnim=!0),(ue.a.fc||ue.a.fh||ue.a.fs||ue.a.fb)&&(t.fillColorAnim=!0),Ce=0,oe=ue.s.b,o=0;o<l;o+=1)re=s[o],re.anIndexes[K]=Ce,(oe==1&&re.val!==""||oe==2&&re.val!==""&&re.val!==" "||oe==3&&(re.n||re.val==" "||o==l-1)||oe==4&&(re.n||o==l-1))&&(ue.s.rn===1&&Ae.push(Ce),Ce+=1);r.a[K].s.totalChars=Ce;var we=-1,Re;if(ue.s.rn===1)for(o=0;o<l;o+=1)re=s[o],we!=re.anIndexes[K]&&(we=re.anIndexes[K],Re=Ae.splice(Math.floor(Math.random()*Ae.length),1)[0]),re.anIndexes[K]=Re}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=G.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,n){n=n===void 0?this.keysIndex:n;var r=this.copyData({},this.data.d.k[n].s);r=this.copyData(r,t),this.data.d.k[n].s=r,this.recalculate(n),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var n=this.data.d.k[t].s;n.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(n)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var t=Math.max,n=Math.min,r=Math.floor;function s(l,c){this._currentTextLength=-1,this.k=!1,this.data=c,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,c.s||{k:0},0,0,this),"e"in c?this.e=PropertyFactory.getProp(l,c.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(l,c.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,c.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,c.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,c.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,c.a,0,.01,this),this.dynamicProperties.length||this.getValue()}s.prototype={getMult:function(c){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var p=0,m=0,x=1,b=1;this.ne.v>0?p=this.ne.v/100:m=-this.ne.v/100,this.xe.v>0?x=1-this.xe.v/100:b=1+this.xe.v/100;var _=BezierFactory.getBezierEasing(p,m,x,b).get,R=0,k=this.finalS,M=this.finalE,P=this.data.sh;if(P===2)M===k?R=c>=M?1:0:R=t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R=_(R);else if(P===3)M===k?R=c>=M?0:1:R=1-t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R=_(R);else if(P===4)M===k?R=0:(R=t(0,n(.5/(M-k)+(c-k)/(M-k),1)),R<.5?R*=2:R=1-2*(R-.5)),R=_(R);else if(P===5){if(M===k)R=0;else{var K=M-k;c=n(t(0,c+.5-k),M-k);var $=-K/2+c,G=K/2;R=Math.sqrt(1-$*$/(G*G))}R=_(R)}else P===6?(M===k?R=0:(c=n(t(0,c+.5-k),M-k),R=(1+Math.cos(Math.PI+Math.PI*2*c/(M-k)))/2),R=_(R)):(c>=r(k)&&(c-k<0?R=t(0,n(n(M,1)-(k-c),1)):R=t(0,n(M-c,1))),R=_(R));if(this.sm.v!==100){var H=this.sm.v*.01;H===0&&(H=1e-8);var j=.5-H*.5;R<j?R=0:(R=(R-j)/H,R>1&&(R=1))}return R*this.a.v},getValue:function(c){this.iterateDynamicProperties(),this._mdf=c||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,c&&this.data.r===2&&(this.e.v=this._currentTextLength);var p=this.data.r===2?1:100/this.data.totalChars,m=this.o.v/p,x=this.s.v/p+m,b=this.e.v/p+m;if(x>b){var _=x;x=b,b=_}this.finalS=x,this.finalE=b}},extendPrototype([DynamicPropertyContainer],s);function o(l,c,p){return new s(l,c)}return{getTextSelectorProp:o}})();function TextAnimatorDataProperty(t,n,r){var s={propType:!1},o=PropertyFactory.getProp,l=n.a;this.a={r:l.r?o(t,l.r,0,degToRads,r):s,rx:l.rx?o(t,l.rx,0,degToRads,r):s,ry:l.ry?o(t,l.ry,0,degToRads,r):s,sk:l.sk?o(t,l.sk,0,degToRads,r):s,sa:l.sa?o(t,l.sa,0,degToRads,r):s,s:l.s?o(t,l.s,1,.01,r):s,a:l.a?o(t,l.a,1,0,r):s,o:l.o?o(t,l.o,0,.01,r):s,p:l.p?o(t,l.p,1,0,r):s,sw:l.sw?o(t,l.sw,0,0,r):s,sc:l.sc?o(t,l.sc,1,0,r):s,fc:l.fc?o(t,l.fc,1,0,r):s,fh:l.fh?o(t,l.fh,0,0,r):s,fs:l.fs?o(t,l.fs,0,.01,r):s,fb:l.fb?o(t,l.fb,0,.01,r):s,t:l.t?o(t,l.t,0,0,r):s},this.s=TextSelectorProp.getTextSelectorProp(t,n.s,r),this.s.t=n.s.t}function TextAnimatorProperty(t,n,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=n,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var t,n=this._textData.a.length,r,s=PropertyFactory.getProp;for(t=0;t<n;t+=1)r=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,n){if(this.lettersChangedFlag=n,!(!this._mdf&&!this._isFirstFrame&&!n&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,s=this._animatorsData,o=this._textData,l=this.mHelper,c=this._renderType,p=this.renderedLetters.length,m,x,b,_,R=t.l,k,M,P,K,$,G,H,j,W,Y,X,te,se,pe,ge;if(this._hasMaskedPath){if(ge=this._pathData.m,!this._pathData.n||this._pathData._mdf){var me=ge.v;this._pathData.r.v&&(me=me.reverse()),k={tLength:0,segments:[]},_=me._length-1;var Ee;for(te=0,b=0;b<_;b+=1)Ee=bez.buildBezierData(me.v[b],me.v[b+1],[me.o[b][0]-me.v[b][0],me.o[b][1]-me.v[b][1]],[me.i[b+1][0]-me.v[b+1][0],me.i[b+1][1]-me.v[b+1][1]]),k.tLength+=Ee.segmentLength,k.segments.push(Ee),te+=Ee.segmentLength;b=_,ge.v.c&&(Ee=bez.buildBezierData(me.v[b],me.v[0],[me.o[b][0]-me.v[b][0],me.o[b][1]-me.v[b][1]],[me.i[0][0]-me.v[0][0],me.i[0][1]-me.v[0][1]]),k.tLength+=Ee.segmentLength,k.segments.push(Ee),te+=Ee.segmentLength),this._pathData.pi=k}if(k=this._pathData.pi,M=this._pathData.f.v,H=0,G=1,K=0,$=!0,Y=k.segments,M<0&&ge.v.c)for(k.tLength<Math.abs(M)&&(M=-Math.abs(M)%k.tLength),H=Y.length-1,W=Y[H].points,G=W.length-1;M<0;)M+=W[G].partialLength,G-=1,G<0&&(H-=1,W=Y[H].points,G=W.length-1);W=Y[H].points,j=W[G-1],P=W[G],X=P.partialLength}_=R.length,m=0,x=0;var ve=t.finalSize*1.2*.714,de=!0,ae,ue,re,oe,Ce;oe=s.length;var Ae,we=-1,Re,Be,We,De=M,ct=H,at=G,Ct=-1,It,mt,Ut,gt,xt,an,Un,Zt,$t="",Ot=this.defaultPropsArray,In;if(t.j===2||t.j===1){var pt=0,Kn=0,On=t.j===2?-.5:-1,st=0,Pe=!0;for(b=0;b<_;b+=1)if(R[b].n){for(pt&&(pt+=Kn);st<b;)R[st].animatorJustifyOffset=pt,st+=1;pt=0,Pe=!0}else{for(re=0;re<oe;re+=1)ae=s[re].a,ae.t.propType&&(Pe&&t.j===2&&(Kn+=ae.t.v*On),ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),Ae.length?pt+=ae.t.v*Ae[0]*On:pt+=ae.t.v*Ae*On);Pe=!1}for(pt&&(pt+=Kn);st<b;)R[st].animatorJustifyOffset=pt,st+=1}for(b=0;b<_;b+=1){if(l.reset(),It=1,R[b].n)m=0,x+=t.yOffset,x+=de?1:0,M=De,de=!1,this._hasMaskedPath&&(H=ct,G=at,W=Y[H].points,j=W[G-1],P=W[G],X=P.partialLength,K=0),$t="",Zt="",an="",In="",Ot=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ct!==R[b].line){switch(t.j){case 1:M+=te-t.lineWidths[R[b].line];break;case 2:M+=(te-t.lineWidths[R[b].line])/2;break}Ct=R[b].line}we!==R[b].ind&&(R[we]&&(M+=R[we].extra),M+=R[b].an/2,we=R[b].ind),M+=r[0]*R[b].an*.005;var Fe=0;for(re=0;re<oe;re+=1)ae=s[re].a,ae.p.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),Ae.length?Fe+=ae.p.v[0]*Ae[0]:Fe+=ae.p.v[0]*Ae),ae.a.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),Ae.length?Fe+=ae.a.v[0]*Ae[0]:Fe+=ae.a.v[0]*Ae);for($=!0,this._pathData.a.v&&(M=R[0].an*.5+(te-this._pathData.f.v-R[0].an*.5-R[R.length-1].an*.5)*we/(_-1),M+=this._pathData.f.v);$;)K+X>=M+Fe||!W?(se=(M+Fe-K)/P.partialLength,Be=j.point[0]+(P.point[0]-j.point[0])*se,We=j.point[1]+(P.point[1]-j.point[1])*se,l.translate(-r[0]*R[b].an*.005,-(r[1]*ve)*.01),$=!1):W&&(K+=P.partialLength,G+=1,G>=W.length&&(G=0,H+=1,Y[H]?W=Y[H].points:ge.v.c?(G=0,H=0,W=Y[H].points):(K-=P.partialLength,W=null)),W&&(j=P,P=W[G],X=P.partialLength));Re=R[b].an/2-R[b].add,l.translate(-Re,0,0)}else Re=R[b].an/2-R[b].add,l.translate(-Re,0,0),l.translate(-r[0]*R[b].an*.005,-r[1]*ve*.01,0);for(re=0;re<oe;re+=1)ae=s[re].a,ae.t.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),(m!==0||t.j!==0)&&(this._hasMaskedPath?Ae.length?M+=ae.t.v*Ae[0]:M+=ae.t.v*Ae:Ae.length?m+=ae.t.v*Ae[0]:m+=ae.t.v*Ae));for(t.strokeWidthAnim&&(Ut=t.sw||0),t.strokeColorAnim&&(t.sc?mt=[t.sc[0],t.sc[1],t.sc[2]]:mt=[0,0,0]),t.fillColorAnim&&t.fc&&(gt=[t.fc[0],t.fc[1],t.fc[2]]),re=0;re<oe;re+=1)ae=s[re].a,ae.a.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),Ae.length?l.translate(-ae.a.v[0]*Ae[0],-ae.a.v[1]*Ae[1],ae.a.v[2]*Ae[2]):l.translate(-ae.a.v[0]*Ae,-ae.a.v[1]*Ae,ae.a.v[2]*Ae));for(re=0;re<oe;re+=1)ae=s[re].a,ae.s.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),Ae.length?l.scale(1+(ae.s.v[0]-1)*Ae[0],1+(ae.s.v[1]-1)*Ae[1],1):l.scale(1+(ae.s.v[0]-1)*Ae,1+(ae.s.v[1]-1)*Ae,1));for(re=0;re<oe;re+=1){if(ae=s[re].a,ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),ae.sk.propType&&(Ae.length?l.skewFromAxis(-ae.sk.v*Ae[0],ae.sa.v*Ae[1]):l.skewFromAxis(-ae.sk.v*Ae,ae.sa.v*Ae)),ae.r.propType&&(Ae.length?l.rotateZ(-ae.r.v*Ae[2]):l.rotateZ(-ae.r.v*Ae)),ae.ry.propType&&(Ae.length?l.rotateY(ae.ry.v*Ae[1]):l.rotateY(ae.ry.v*Ae)),ae.rx.propType&&(Ae.length?l.rotateX(ae.rx.v*Ae[0]):l.rotateX(ae.rx.v*Ae)),ae.o.propType&&(Ae.length?It+=(ae.o.v*Ae[0]-It)*Ae[0]:It+=(ae.o.v*Ae-It)*Ae),t.strokeWidthAnim&&ae.sw.propType&&(Ae.length?Ut+=ae.sw.v*Ae[0]:Ut+=ae.sw.v*Ae),t.strokeColorAnim&&ae.sc.propType)for(xt=0;xt<3;xt+=1)Ae.length?mt[xt]+=(ae.sc.v[xt]-mt[xt])*Ae[0]:mt[xt]+=(ae.sc.v[xt]-mt[xt])*Ae;if(t.fillColorAnim&&t.fc){if(ae.fc.propType)for(xt=0;xt<3;xt+=1)Ae.length?gt[xt]+=(ae.fc.v[xt]-gt[xt])*Ae[0]:gt[xt]+=(ae.fc.v[xt]-gt[xt])*Ae;ae.fh.propType&&(Ae.length?gt=addHueToRGB(gt,ae.fh.v*Ae[0]):gt=addHueToRGB(gt,ae.fh.v*Ae)),ae.fs.propType&&(Ae.length?gt=addSaturationToRGB(gt,ae.fs.v*Ae[0]):gt=addSaturationToRGB(gt,ae.fs.v*Ae)),ae.fb.propType&&(Ae.length?gt=addBrightnessToRGB(gt,ae.fb.v*Ae[0]):gt=addBrightnessToRGB(gt,ae.fb.v*Ae))}}for(re=0;re<oe;re+=1)ae=s[re].a,ae.p.propType&&(ue=s[re].s,Ae=ue.getMult(R[b].anIndexes[re],o.a[re].s.totalChars),this._hasMaskedPath?Ae.length?l.translate(0,ae.p.v[1]*Ae[0],-ae.p.v[2]*Ae[1]):l.translate(0,ae.p.v[1]*Ae,-ae.p.v[2]*Ae):Ae.length?l.translate(ae.p.v[0]*Ae[0],ae.p.v[1]*Ae[1],-ae.p.v[2]*Ae[2]):l.translate(ae.p.v[0]*Ae,ae.p.v[1]*Ae,-ae.p.v[2]*Ae));if(t.strokeWidthAnim&&(an=Ut<0?0:Ut),t.strokeColorAnim&&(Un="rgb("+Math.round(mt[0]*255)+","+Math.round(mt[1]*255)+","+Math.round(mt[2]*255)+")"),t.fillColorAnim&&t.fc&&(Zt="rgb("+Math.round(gt[0]*255)+","+Math.round(gt[1]*255)+","+Math.round(gt[2]*255)+")"),this._hasMaskedPath){if(l.translate(0,-t.ls),l.translate(0,r[1]*ve*.01+x,0),this._pathData.p.v){pe=(P.point[1]-j.point[1])/(P.point[0]-j.point[0]);var Ye=Math.atan(pe)*180/Math.PI;P.point[0]<j.point[0]&&(Ye+=180),l.rotate(-Ye*Math.PI/180)}l.translate(Be,We,0),M-=r[0]*R[b].an*.005,R[b+1]&&we!==R[b+1].ind&&(M+=R[b].an/2,M+=t.tr*.001*t.finalSize)}else{switch(l.translate(m,x,0),t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(R[b].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[R[b].line]),0,0);break;case 2:l.translate(R[b].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[R[b].line])/2,0,0);break}l.translate(0,-t.ls),l.translate(Re,0,0),l.translate(r[0]*R[b].an*.005,r[1]*ve*.01,0),m+=R[b].l+t.tr*.001*t.finalSize}c==="html"?$t=l.toCSS():c==="svg"?$t=l.to2dCSS():Ot=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],In=It}p<=b?(Ce=new LetterProps(In,an,Un,Zt,$t,Ot),this.renderedLetters.push(Ce),p+=1,this.lettersChangedFlag=!0):(Ce=this.renderedLetters[b],this.lettersChangedFlag=Ce.update(In,an,Un,Zt,$t,Ot)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,n,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,n,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,n,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,n){var r,s=n.length,o,l="";for(r=0;r<s;r+=1)n[r].ty==="sh"&&(o=n[r].ks.k,l+=buildShapeString(o,o.i.length,!0,t));return l},ITextElement.prototype.updateDocumentData=function(t,n){this.textProperty.updateDocumentData(t,n)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,n,r,s,o){switch(t.ps&&n.translate(t.ps[0],t.ps[1]+t.ascent,0),n.translate(0,-t.ls,0),t.j){case 1:n.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:n.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0);break}n.translate(s,o,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,n,r){this.textSpans=[],this.renderType="svg",this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var n=0,r=t.length,s=[],o="";n<r;)t[n]==="\r"||t[n]===""?(s.push(o),o=""):o+=t[n],n+=1;return s.push(o),s},SVGTextLottieElement.prototype.buildShapeData=function(t,n){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var s=r.it[r.it.length-1];s.s&&(s.s.k[0]=n,s.s.k[1]=n)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,n,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var o=r.fWeight,l=r.fStyle;this.layerElement.setAttribute("font-style",l),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var c=r.l||[],p=!!this.globalData.fontManager.chars;n=c.length;var m,x=this.mHelper,b="",_=this.data.singleShape,R=0,k=0,M=!0,P=r.tr*.001*r.finalSize;if(_&&!p&&!r.sz){var K=this.textContainer,$="start";switch(r.j){case 1:$="end";break;case 2:$="middle";break;default:$="start";break}K.setAttribute("text-anchor",$),K.setAttribute("letter-spacing",P);var G=this.buildTextContents(r.finalText);for(n=G.length,k=r.ps?r.ps[1]+r.ascent:0,t=0;t<n;t+=1)m=this.textSpans[t].span||createNS("tspan"),m.textContent=G[t],m.setAttribute("x",0),m.setAttribute("y",k),m.style.display="inherit",K.appendChild(m),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=m,k+=r.finalLineHeight;this.layerElement.appendChild(K)}else{var H=this.textSpans.length,j;for(t=0;t<n;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!p||!_||t===0){if(m=H>t?this.textSpans[t].span:createNS(p?"g":"text"),H<=t){if(m.setAttribute("stroke-linecap","butt"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=m,p){var W=createNS("g");m.appendChild(W),this.textSpans[t].childSpan=W}this.textSpans[t].span=m,this.layerElement.appendChild(m)}m.style.display="inherit"}if(x.reset(),_&&(c[t].n&&(R=-P,k+=r.yOffset,k+=M?1:0,M=!1),this.applyTextPropertiesToMatrix(r,x,c[t].line,R,k),R+=c[t].l||0,R+=P),p){j=this.globalData.fontManager.getCharData(r.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var Y;if(j.t===1)Y=new SVGCompElement(j.data,this.globalData,this);else{var X=emptyShapeData;j.data&&j.data.shapes&&(X=this.buildShapeData(j.data,r.finalSize)),Y=new SVGShapeElement(X,this.globalData,this)}if(this.textSpans[t].glyph){var te=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(te.layerElement),te.destroy()}this.textSpans[t].glyph=Y,Y._debug=!0,Y.prepareFrame(0),Y.renderFrame(),this.textSpans[t].childSpan.appendChild(Y.layerElement),j.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else _&&m.setAttribute("transform","translate("+x.props[12]+","+x.props[13]+")"),m.textContent=c[t].val,m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}_&&m&&m.setAttribute("d",b)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,n=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)r=this.textSpans[t].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,n,r=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;n=s.length;var o,l,c;for(t=0;t<n;t+=1)s[t].n||(o=r[t],l=this.textSpans[t].span,c=this.textSpans[t].glyph,c&&c.renderFrame(),o._mdf.m&&l.setAttribute("transform",o.m),o._mdf.o&&l.setAttribute("opacity",o.o),o._mdf.sw&&l.setAttribute("stroke-width",o.sw),o._mdf.sc&&l.setAttribute("stroke",o.sc),o._mdf.fc&&l.setAttribute("fill",o.fc))}};function ISolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initFrame(),this.initTransform(t,n,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var n=this.globalData.defs;this.setupGlobalData(t,n),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),n.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,n=this.layers?this.layers.length:0;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var n=0,r=this.layers.length;for(n=0;n<r;n+=1)if(this.layers[n].ind===t)return n;return-1},SVGRendererBase.prototype.buildItem=function(t){var n=this.elements;if(!(n[t]||this.layers[t].ty===99)){n[t]=!0;var r=this.createItem(this.layers[t]);if(n[t]=r,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var s="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(s===-1)return;if(!this.elements[s]||this.elements[s]===!0)this.buildItem(s),this.addPendingElement(r);else{var o=n[s],l=o.getMatte(this.layers[t].tt);r.setMatte(l)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var n=0,r=this.elements.length;n<r;){if(this.elements[n]===t){var s="tp"in t.data?this.findIndexByInd(t.data.tp):n-1,o=this.elements[s],l=o.getMatte(this.layers[n].tt);t.setMatte(l);break}n+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf)for(n=0;n<r;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,n){var r=t.getBaseElement();if(r){for(var s=0,o;s<n;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement()&&(o=this.elements[s].getBaseElement()),s+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initTransform(t,n,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!n.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var n=this.tm.v;n===this.data.op&&(n=this.data.op-1),this.renderedFrame=n}var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,n=this.layers.length;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,n,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(n&&n.title){var s=createNS("title"),o=createElementID();s.setAttribute("id",o),s.textContent=n.title,this.svgElement.appendChild(s),r+=o}if(n&&n.description){var l=createNS("desc"),c=createElementID();l.setAttribute("id",c),l.textContent=n.description,this.svgElement.appendChild(l),r+=" "+c}r&&this.svgElement.setAttribute("aria-labelledby",r);var p=createNS("defs");this.svgElement.appendChild(p);var m=createNS("g");this.svgElement.appendChild(m),this.layerElement=m,this.renderConfig={preserveAspectRatio:n&&n.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:n&&n.contentVisibility||"visible",progressiveLoad:n&&n.progressiveLoad||!1,hideOnTransparent:!(n&&n.hideOnTransparent===!1),viewBoxOnly:n&&n.viewBoxOnly||!1,viewBoxSize:n&&n.viewBoxSize||!1,className:n&&n.className||"",id:n&&n.id||"",focusable:n&&n.focusable,filterSize:{width:n&&n.filterSize&&n.filterSize.width||"100%",height:n&&n.filterSize&&n.filterSize.height||"100%",x:n&&n.filterSize&&n.filterSize.x||"0%",y:n&&n.filterSize&&n.filterSize.y||"0%"},width:n&&n.width,height:n&&n.height,runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:p,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(n){var r,s=n.length,o="_";for(r=0;r<s;r+=1)o+=n[r].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(n),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(n,r){for(var s=0,o=n.transforms.length,l=r;s<o&&!r;){if(n.transforms[s].transform.mProps._mdf){l=!0;break}s+=1}if(l)for(n.finalTransform.reset(),s=o-1;s>=0;s-=1)n.finalTransform.multiply(n.transforms[s].transform.mProps.v);n._mdf=l},processSequences:function(n){var r,s=this.sequenceList.length;for(r=0;r<s;r+=1)this.processSequence(this.sequenceList[r],n)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var n="__lottie_element_luma_buffer",r=null,s=null,o=null;function l(){var m=createNS("svg"),x=createNS("filter"),b=createNS("feColorMatrix");return x.setAttribute("id",n),b.setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),x.appendChild(b),m.appendChild(x),m.setAttribute("id",n+"_svg"),featureSupport.svgLumaHidden&&(m.style.display="none"),m}function c(){r||(o=l(),document.body.appendChild(o),r=createTag("canvas"),s=r.getContext("2d"),s.filter="url(#"+n+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}function p(m){return r||c(),r.width=m.width,r.height=m.height,s.filter="url(#"+n+")",r}return{load:c,get:p}};function createCanvas(t,n){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,n);var r=createTag("canvas");return r.width=t,r.height=n,r}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(t){var n,r=t.data.ef?t.data.ef.length:0;this.filters=[];var s;for(n=0;n<r;n+=1){s=null;var o=t.data.ef[n].ty;if(registeredEffects[o]){var l=registeredEffects[o].effect;s=new l(t.effectsManager.effectElements[n],t)}s&&this.filters.push(s)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var n,r=this.filters.length;for(n=0;n<r;n+=1)this.filters[n].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var n,r=this.filters.length,s=[];for(n=0;n<r;n+=1)this.filters[n].type===t&&s.push(this.filters[n]);return s};function registerEffect(t,n){registeredEffects[t]={effect:n}}function CVMaskElement(t,n){this.data=t,this.element=n,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,s=this.masksProperties.length,o=!1;for(r=0;r<s;r+=1)this.masksProperties[r].mode!=="n"&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,n=this.element.canvasContext,r,s=this.masksProperties.length,o,l,c;for(n.beginPath(),r=0;r<s;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(n.moveTo(0,0),n.lineTo(this.element.globalData.compSize.w,0),n.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),n.lineTo(0,this.element.globalData.compSize.h),n.lineTo(0,0)),c=this.viewData[r].v,o=t.applyToPointArray(c.v[0][0],c.v[0][1],0),n.moveTo(o[0],o[1]);var p,m=c._length;for(p=1;p<m;p+=1)l=t.applyToTriplePoints(c.o[p-1],c.i[p],c.v[p]),n.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);l=t.applyToTriplePoints(c.o[p-1],c.i[0],c.v[0]),n.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}this.element.globalData.renderer.save(!0),n.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var n=this.globalData.canvasContext,r=assetLoader.createCanvas(n.canvas.width,n.canvas.height);this.buffers.push(r);var s=assetLoader.createCanvas(n.canvas.width,n.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var n=this.globalData;if(n.blendMode!==this.data.bm){n.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);n.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(n){n.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var n=this.buffers[0],r=n.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var n=this.buffers[1],r=n.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var s=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(s.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var o=assetLoader.getLumaCanvas(this.canvasContext.canvas),l=o.getContext("2d");l.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(o,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(n,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(n){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!n)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var r=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(r),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,n,r,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;n.ty==="rc"?o=5:n.ty==="el"?o=6:n.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,n,o,t);var l,c=r.length,p;for(l=0;l<c;l+=1)r[l].closed||(p={transforms:s.addTransformSequence(r[l].transforms),trNodes:[]},this.styledShapes.push(p),r[l].elements.push(p))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,n){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(n),transforms:[],elements:[],closed:t.hd===!0},s={};if(t.ty==="fl"||t.ty==="st"?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(r.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(r.wi=s.w.v),t.d){var o=new DashProperty(this,t.d,"canvas",this);s.d=o,s.d.k||(r.da=s.d.dashArray,r.do=s.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var n={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return n},CVShapeElement.prototype.createShapeElement=function(t){var n=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(n),this.addShapeToModifiers(n),n},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,n=this.itemsData.length;for(t=0;t<n;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),n=this.dynamicProperties.length,t=0;t<n;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var n,r=this.stylesList.length;for(n=0;n<r;n+=1)this.stylesList[n].closed||this.stylesList[n].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var n,r=t.length;for(n=0;n<r;n+=1)t[n].closed=!0},CVShapeElement.prototype.searchShapes=function(t,n,r,s,o){var l,c=t.length-1,p,m,x=[],b=[],_,R,k,M=[].concat(o);for(l=c;l>=0;l-=1){if(_=this.searchProcessedElement(t[l]),_?n[l]=r[_-1]:t[l]._shouldRender=s,t[l].ty==="fl"||t[l].ty==="st"||t[l].ty==="gf"||t[l].ty==="gs")_?n[l].style.closed=!1:n[l]=this.createStyleElement(t[l],M),x.push(n[l].style);else if(t[l].ty==="gr"){if(!_)n[l]=this.createGroupElement(t[l]);else for(m=n[l].it.length,p=0;p<m;p+=1)n[l].prevViewData[p]=n[l].it[p];this.searchShapes(t[l].it,n[l].it,n[l].prevViewData,s,M)}else t[l].ty==="tr"?(_||(k=this.createTransformElement(t[l]),n[l]=k),M.push(n[l]),this.addTransformToStyleList(n[l])):t[l].ty==="sh"||t[l].ty==="rc"||t[l].ty==="el"||t[l].ty==="sr"?_||(n[l]=this.createShapeElement(t[l])):t[l].ty==="tm"||t[l].ty==="rd"||t[l].ty==="pb"||t[l].ty==="zz"||t[l].ty==="op"?(_?(R=n[l],R.closed=!1):(R=ShapeModifiers.getModifier(t[l].ty),R.init(this,t[l]),n[l]=R,this.shapeModifiers.push(R)),b.push(R)):t[l].ty==="rp"&&(_?(R=n[l],R.closed=!0):(R=ShapeModifiers.getModifier(t[l].ty),n[l]=R,R.init(this,t,l,n),this.shapeModifiers.push(R),s=!1),b.push(R));this.addProcessedElement(t[l],l+1)}for(this.removeTransformFromStyleList(),this.closeStyles(x),c=b.length,l=0;l<c;l+=1)b[l].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,n){(t._opMdf||n.op._mdf||this._isFirstFrame)&&(n.opacity=t.opacity,n.opacity*=n.op.v,n._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,n=this.stylesList.length,r,s,o,l,c,p,m=this.globalData.renderer,x=this.globalData.canvasContext,b,_;for(t=0;t<n;t+=1)if(_=this.stylesList[t],b=_.type,!((b==="st"||b==="gs")&&_.wi===0||!_.data._shouldRender||_.coOp===0||this.globalData.currentGlobalAlpha===0)){for(m.save(),c=_.elements,b==="st"||b==="gs"?(m.ctxStrokeStyle(b==="st"?_.co:_.grd),m.ctxLineWidth(_.wi),m.ctxLineCap(_.lc),m.ctxLineJoin(_.lj),m.ctxMiterLimit(_.ml||0)):m.ctxFillStyle(b==="fl"?_.co:_.grd),m.ctxOpacity(_.coOp),b!=="st"&&b!=="gs"&&x.beginPath(),m.ctxTransform(_.preTransforms.finalTransform.props),s=c.length,r=0;r<s;r+=1){for((b==="st"||b==="gs")&&(x.beginPath(),_.da&&(x.setLineDash(_.da),x.lineDashOffset=_.do)),p=c[r].trNodes,l=p.length,o=0;o<l;o+=1)p[o].t==="m"?x.moveTo(p[o].p[0],p[o].p[1]):p[o].t==="c"?x.bezierCurveTo(p[o].pts[0],p[o].pts[1],p[o].pts[2],p[o].pts[3],p[o].pts[4],p[o].pts[5]):x.closePath();(b==="st"||b==="gs")&&(m.ctxStroke(),_.da&&x.setLineDash(this.dashResetter))}b!=="st"&&b!=="gs"&&this.globalData.renderer.ctxFill(_.r),m.restore()}},CVShapeElement.prototype.renderShape=function(t,n,r,s){var o,l=n.length-1,c;for(c=t,o=l;o>=0;o-=1)n[o].ty==="tr"?(c=r[o].transform,this.renderShapeTransform(t,c)):n[o].ty==="sh"||n[o].ty==="el"||n[o].ty==="rc"||n[o].ty==="sr"?this.renderPath(n[o],r[o]):n[o].ty==="fl"?this.renderFill(n[o],r[o],c):n[o].ty==="st"?this.renderStroke(n[o],r[o],c):n[o].ty==="gf"||n[o].ty==="gs"?this.renderGradientFill(n[o],r[o],c):n[o].ty==="gr"?this.renderShape(c,n[o].it,r[o].it):n[o].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,n){if(this._isFirstFrame||n._mdf||t.transforms._mdf){var r=t.trNodes,s=n.paths,o,l,c,p=s._length;r.length=0;var m=t.transforms.finalTransform;for(c=0;c<p;c+=1){var x=s.shapes[c];if(x&&x.v){for(l=x._length,o=1;o<l;o+=1)o===1&&r.push({t:"m",p:m.applyToPointArray(x.v[0][0],x.v[0][1],0)}),r.push({t:"c",pts:m.applyToTriplePoints(x.o[o-1],x.i[o],x.v[o])});l===1&&r.push({t:"m",p:m.applyToPointArray(x.v[0][0],x.v[0][1],0)}),x.c&&l&&(r.push({t:"c",pts:m.applyToTriplePoints(x.o[o-1],x.i[0],x.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,n){if(t.hd!==!0&&t._shouldRender){var r,s=n.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(n.styledShapes[r],n.sh)}},CVShapeElement.prototype.renderFill=function(t,n,r){var s=n.style;(n.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")"),(n.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=n.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,n,r){var s=n.style,o;if(!s.grd||n.g._mdf||n.s._mdf||n.e._mdf||t.t!==1&&(n.h._mdf||n.a._mdf)){var l=this.globalData.canvasContext,c=n.s.v,p=n.e.v;if(t.t===1)o=l.createLinearGradient(c[0],c[1],p[0],p[1]);else{var m=Math.sqrt(Math.pow(c[0]-p[0],2)+Math.pow(c[1]-p[1],2)),x=Math.atan2(p[1]-c[1],p[0]-c[0]),b=n.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var _=m*b,R=Math.cos(x+n.a.v)*_+c[0],k=Math.sin(x+n.a.v)*_+c[1];o=l.createRadialGradient(R,k,0,c[0],c[1],m)}var M,P=t.g.p,K=n.g.c,$=1;for(M=0;M<P;M+=1)n.g._hasOpacity&&n.g._collapsable&&($=n.g.o[M*2+1]),o.addColorStop(K[M*4]/100,"rgba("+K[M*4+1]+","+K[M*4+2]+","+K[M*4+3]+","+$+")");s.grd=o}s.coOp=n.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,n,r){var s=n.style,o=n.d;o&&(o._mdf||this._isFirstFrame)&&(s.da=o.dashArray,s.do=o.dashoffset[0]),(n.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")"),(n.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=n.o.v*r.opacity),(n.w._mdf||this._isFirstFrame)&&(s.wi=n.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,n,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var n=!1;t.fc?(n=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=n;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s=this.globalData.fontManager.getFontByName(t.f),o,l,c=t.l,p=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var m,x,b,_,R,k,M,P,K,$,G=this.data.singleShape,H=t.tr*.001*t.finalSize,j=0,W=0,Y=!0,X=0;for(o=0;o<l;o+=1){m=this.globalData.fontManager.getCharData(t.finalText[o],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),x=m&&m.data||{},p.reset(),G&&c[o].n&&(j=-H,W+=t.yOffset,W+=Y?1:0,Y=!1),R=x.shapes?x.shapes[0].it:[],M=R.length,p.scale(t.finalSize/100,t.finalSize/100),G&&this.applyTextPropertiesToMatrix(t,p,c[o].line,j,W),K=createSizedArray(M-1);var te=0;for(k=0;k<M;k+=1)if(R[k].ty==="sh"){for(_=R[k].ks.k.i.length,P=R[k].ks.k,$=[],b=1;b<_;b+=1)b===1&&$.push(p.applyToX(P.v[0][0],P.v[0][1],0),p.applyToY(P.v[0][0],P.v[0][1],0)),$.push(p.applyToX(P.o[b-1][0],P.o[b-1][1],0),p.applyToY(P.o[b-1][0],P.o[b-1][1],0),p.applyToX(P.i[b][0],P.i[b][1],0),p.applyToY(P.i[b][0],P.i[b][1],0),p.applyToX(P.v[b][0],P.v[b][1],0),p.applyToY(P.v[b][0],P.v[b][1],0));$.push(p.applyToX(P.o[b-1][0],P.o[b-1][1],0),p.applyToY(P.o[b-1][0],P.o[b-1][1],0),p.applyToX(P.i[0][0],P.i[0][1],0),p.applyToY(P.i[0][0],P.i[0][1],0),p.applyToX(P.v[0][0],P.v[0][1],0),p.applyToY(P.v[0][0],P.v[0][1],0)),K[te]=$,te+=1}G&&(j+=c[o].l,j+=H),this.textSpans[X]?this.textSpans[X].elem=K:this.textSpans[X]={elem:K},X+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var n,r,s,o,l,c,p=this.textAnimator.renderedLetters,m=this.textProperty.currentData.l;r=m.length;var x,b=null,_=null,R=null,k,M,P=this.globalData.renderer;for(n=0;n<r;n+=1)if(!m[n].n){if(x=p[n],x&&(P.save(),P.ctxTransform(x.p),P.ctxOpacity(x.o)),this.fill){for(x&&x.fc?b!==x.fc&&(P.ctxFillStyle(x.fc),b=x.fc):b!==this.values.fill&&(b=this.values.fill,P.ctxFillStyle(this.values.fill)),k=this.textSpans[n].elem,o=k.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(M=k[s],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(M[l],M[l+1],M[l+2],M[l+3],M[l+4],M[l+5]);this.globalData.canvasContext.closePath(),P.ctxFill()}if(this.stroke){for(x&&x.sw?R!==x.sw&&(R=x.sw,P.ctxLineWidth(x.sw)):R!==this.values.sWidth&&(R=this.values.sWidth,P.ctxLineWidth(this.values.sWidth)),x&&x.sc?_!==x.sc&&(_=x.sc,P.ctxStrokeStyle(x.sc)):_!==this.values.stroke&&(_=this.values.stroke,P.ctxStrokeStyle(this.values.stroke)),k=this.textSpans[n].elem,o=k.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(M=k[s],c=M.length,this.globalData.canvasContext.moveTo(M[0],M[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(M[l],M[l+1],M[l+2],M[l+3],M[l+4],M[l+5]);this.globalData.canvasContext.closePath(),P.ctxStroke()}x&&this.globalData.renderer.restore()}};function CVImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.img=n.imageLoader.getAsset(this.assetData),this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var n=t.getContext("2d"),r=this.img.width,s=this.img.height,o=r/s,l=this.assetData.w/this.assetData.h,c,p,m=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>l&&m==="xMidYMid slice"||o<l&&m!=="xMidYMid slice"?(p=s,c=p*l):(c=r,p=c/l),n.drawImage(this.img,(r-c)/2,(s-p)/2,c,p,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,n,r,s){this.canvasContext.fillRect(t,n,r,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var n=this.animationItem.container.style;n.width="100%",n.height="100%";var r="0px 0px 0px";n.transformOrigin=r,n.mozTransformOrigin=r,n.webkitTransformOrigin=r,n["-webkit-transform"]=r,n.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,n){this.reset();var r,s;t?(r=t,s=n,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr);var o,l;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var c=this.renderConfig.preserveAspectRatio.split(" "),p=c[1]||"meet",m=c[0]||"xMidYMid",x=m.substr(0,4),b=m.substr(4);o=r/s,l=this.transformCanvas.w/this.transformCanvas.h,l>o&&p==="meet"||l<o&&p==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),x==="xMid"&&(l<o&&p==="meet"||l>o&&p==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:x==="xMax"&&(l<o&&p==="meet"||l>o&&p==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,b==="YMid"&&(l>o&&p==="meet"||l<o&&p==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:b==="YMax"&&(l>o&&p==="meet"||l<o&&p==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,n=this.layers?this.layers.length:0;for(t=n-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,n){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!n||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||n,this.globalData.projectInterface.currentFrame=t;var r,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var n=this.elements;if(!(n[t]||this.layers[t].ty===99)){var r=this.createItem(this.layers[t],this,this.globalData);n[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,n=15;for(t=0;t<n;t+=1){var r=new CanvasContext;this.stack[t]=r}this._length=n,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,n=0;for(n=this._length;n<t;n+=1)this.stack[n]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var n=this.stack[this.cArrPos],r=n.transform,s,o=this.cTr.props;for(s=0;s<16;s+=1)o[s]=r[s];if(t){this.nativeContext.restore();var l=this.stack[this.cArrPos+1];this.appliedFillStyle=l.fillStyle,this.appliedStrokeStyle=l.strokeStyle,this.appliedLineWidth=l.lineWidth,this.appliedLineCap=l.lineCap,this.appliedLineJoin=l.lineJoin,this.appliedMiterLimit=l.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||n.opacity!==-1&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var n=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos],s;for(s=0;s<16;s+=1)r.transform[s]=n[s];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=r.opacity,o.fillStyle=r.fillStyle,o.strokeStyle=r.strokeStyle,o.lineWidth=r.lineWidth,o.lineCap=r.lineCap,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var n=this.cTr;this.transformMat.multiply(n),n.cloneFromProps(this.transformMat.props);var r=n.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var n=this.stack[this.cArrPos].opacity;n*=t<0?0:t,this.stack[this.cArrPos].opacity!==n&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=n)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,n,r,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,n,r,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,n,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var n,r=this.layers.length;for(n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame()},CVCompElement.prototype.destroy=function(){var t,n=this.layers.length;for(t=n-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,n){this.animationItem=t,this.renderConfig={clearCanvas:n&&n.clearCanvas!==void 0?n.clearCanvas:!0,context:n&&n.context||null,progressiveLoad:n&&n.progressiveLoad||!1,preserveAspectRatio:n&&n.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:n&&n.contentVisibility||"visible",className:n&&n.className||"",id:n&&n.id||"",runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.renderConfig.dpr=n&&n.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=n&&n.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var n=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();n.transform=r,n.webkitTransform=r}this.finalTransform._opMdf&&(n.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,n,r){this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,n,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var n=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",n.w),t.setAttribute("height",n.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)n=t[r].mProps.v.applyToPointArray(n[0],n[1],0);return n},HShapeElement.prototype.calculateShapeBoundingBox=function(t,n){var r=t.sh.v,s=t.transformers,o,l=r._length,c,p,m,x;if(!(l<=1)){for(o=0;o<l-1;o+=1)c=this.getTransformedPoint(s,r.v[o]),p=this.getTransformedPoint(s,r.o[o]),m=this.getTransformedPoint(s,r.i[o+1]),x=this.getTransformedPoint(s,r.v[o+1]),this.checkBounds(c,p,m,x,n);r.c&&(c=this.getTransformedPoint(s,r.v[o]),p=this.getTransformedPoint(s,r.o[o]),m=this.getTransformedPoint(s,r.i[0]),x=this.getTransformedPoint(s,r.v[0]),this.checkBounds(c,p,m,x,n))}},HShapeElement.prototype.checkBounds=function(t,n,r,s,o){this.getBoundsOfCurve(t,n,r,s);var l=this.shapeBoundingBox;o.x=bmMin(l.left,o.x),o.xMax=bmMax(l.right,o.xMax),o.y=bmMin(l.top,o.y),o.yMax=bmMax(l.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,n,r,s){for(var o=[[t[0],s[0]],[t[1],s[1]]],l,c,p,m,x,b,_,R=0;R<2;++R)c=6*t[R]-12*n[R]+6*r[R],l=-3*t[R]+9*n[R]-9*r[R]+3*s[R],p=3*n[R]-3*t[R],c|=0,l|=0,p|=0,l===0&&c===0||(l===0?(m=-p/c,m>0&&m<1&&o[R].push(this.calculateF(m,t,n,r,s,R))):(x=c*c-4*p*l,x>=0&&(b=(-c+bmSqrt(x))/(2*l),b>0&&b<1&&o[R].push(this.calculateF(b,t,n,r,s,R)),_=(-c-bmSqrt(x))/(2*l),_>0&&_<1&&o[R].push(this.calculateF(_,t,n,r,s,R)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(t,n,r,s,o,l){return bmPow(1-t,3)*n[l]+3*bmPow(1-t,2)*t*r[l]+3*(1-t)*bmPow(t,2)*s[l]+bmPow(t,3)*o[l]},HShapeElement.prototype.calculateBoundingBox=function(t,n){var r,s=t.length;for(r=0;r<s;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],n):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,n):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,n)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,n){var r=0;if(t.keyframes){for(var s=0;s<t.keyframes.length;s+=1){var o=t.keyframes[s].s;o>r&&(r=o)}r*=t.mult}else r=t.v*t.mult;n.x-=r,n.xMax+=r,n.y-=r,n.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,n=999999;if(t.x=n,t.xMax=-n,t.y=n,t.yMax=-n,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=o,s.webkitTransform=o}}};function HTextElement(t,n,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var n=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";n.fill=r,n.color=r,t.sc&&(n.stroke=this.buildColor(t.sc),n.strokeWidth=t.sw+"px");var s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(n.fontSize=t.finalSize+"px",n.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{n.fontFamily=s.fFamily;var o=t.fWeight,l=t.fStyle;n.fontStyle=l,n.fontWeight=o}var c,p,m=t.l;p=m.length;var x,b,_,R=this.mHelper,k,M="",P=0;for(c=0;c<p;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[P]?x=this.textPaths[P]:(x=createNS("path"),x.setAttribute("stroke-linecap",lineCapEnum[1]),x.setAttribute("stroke-linejoin",lineJoinEnum[2]),x.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[P]?(b=this.textSpans[P],_=b.children[0]):(b=createTag("div"),b.style.lineHeight=0,_=createNS("svg"),_.appendChild(x),styleDiv(b)))):this.isMasked?x=this.textPaths[P]?this.textPaths[P]:createNS("text"):this.textSpans[P]?(b=this.textSpans[P],x=this.textPaths[P]):(b=createTag("span"),styleDiv(b),x=createTag("span"),styleDiv(x),b.appendChild(x)),this.globalData.fontManager.chars){var K=this.globalData.fontManager.getCharData(t.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),$;if(K?$=K.data:$=null,R.reset(),$&&$.shapes&&$.shapes.length&&(k=$.shapes[0].it,R.scale(t.finalSize/100,t.finalSize/100),M=this.createPathShape(R,k),x.setAttribute("d",M)),this.isMasked)this.innerElem.appendChild(x);else{if(this.innerElem.appendChild(b),$&&$.shapes){document.body.appendChild(_);var G=_.getBBox();_.setAttribute("width",G.width+2),_.setAttribute("height",G.height+2),_.setAttribute("viewBox",G.x-1+" "+(G.y-1)+" "+(G.width+2)+" "+(G.height+2));var H=_.style,j="translate("+(G.x-1)+"px,"+(G.y-1)+"px)";H.transform=j,H.webkitTransform=j,m[c].yOffset=G.y-1}else _.setAttribute("width",1),_.setAttribute("height",1);b.appendChild(_)}}else if(x.textContent=m[c].val,x.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(x);else{this.innerElem.appendChild(b);var W=x.style,Y="translate3d(0,"+-t.finalSize/1.2+"px,0)";W.transform=Y,W.webkitTransform=Y}this.isMasked?this.textSpans[P]=x:this.textSpans[P]=b,this.textSpans[P].style.display="block",this.textPaths[P]=x,P+=1}for(;P<this.textSpans.length;)this.textSpans[P].style.display="none",P+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var n="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=n,t.webkitTransform=n}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,s,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;s=c.length;var p,m,x;for(r=0;r<s;r+=1)c[r].n?o+=1:(m=this.textSpans[r],x=this.textPaths[r],p=l[o],o+=1,p._mdf.m&&(this.isMasked?m.setAttribute("transform",p.m):(m.style.webkitTransform=p.m,m.style.transform=p.m)),m.style.opacity=p.o,p.sw&&p._mdf.sw&&x.setAttribute("stroke-width",p.sw),p.sc&&p._mdf.sc&&x.setAttribute("stroke",p.sc),p.fc&&p._mdf.fc&&(x.setAttribute("fill",p.fc),x.style.color=p.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var b=this.innerElem.getBBox();this.currentBBox.w!==b.width&&(this.currentBBox.w=b.width,this.svgElement.setAttribute("width",b.width)),this.currentBBox.h!==b.height&&(this.currentBBox.h=b.height,this.svgElement.setAttribute("height",b.height));var _=1;if(this.currentBBox.w!==b.width+_*2||this.currentBBox.h!==b.height+_*2||this.currentBBox.x!==b.x-_||this.currentBBox.y!==b.y-_){this.currentBBox.w=b.width+_*2,this.currentBBox.h=b.height+_*2,this.currentBBox.x=b.x-_,this.currentBBox.y=b.y-_,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=R,t.webkitTransform=R}}}};function HCameraElement(t,n,r){this.initFrame(),this.initBaseData(t,n,r),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var o,l=t.ks.or.k.length;for(o=0;o<l;o+=1)t.ks.or.k[o].to=null,t.ks.or.k[o].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,n=this.comp.threeDElements.length,r,s,o;for(t=0;t<n;t+=1)if(r=this.comp.threeDElements[t],r.type==="3d"){s=r.perspectiveElem.style,o=r.container.style;var l=this.pe.v+"px",c="0px 0px 0px",p="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.perspective=l,s.webkitPerspective=l,o.transformOrigin=c,o.mozTransformOrigin=c,o.webkitTransformOrigin=c,s.transform=p,s.webkitTransform=p}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,n,r;if(this.hierarchy)for(r=this.hierarchy.length,n=0;n<r;n+=1)t=this.hierarchy[n].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,n=r;n>=0;n-=1){var s=this.hierarchy[n].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var l=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),c=[o[0]/l,o[1]/l,o[2]/l],p=Math.sqrt(c[2]*c[2]+c[0]*c[0]),m=Math.atan2(c[1],p),x=Math.atan2(c[0],-c[2]);this.mat.rotateY(x).rotateX(-m)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var b=!this._prevMat.equals(this.mat);if((b||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var _,R,k;for(n=0;n<r;n+=1)if(_=this.comp.threeDElements[n],_.type==="3d"){if(b){var M=this.mat.toCSS();k=_.container.style,k.transform=M,k.webkitTransform=M}this.pe._mdf&&(R=_.perspectiveElem.style,R.perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,n,r){this.assetData=n.getAssetData(t.refId),this.initElement(t,n,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),n=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(n),n.crossOrigin="anonymous",n.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:n&&n.className||"",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(n&&n.hideOnTransparent===!1),filterSize:{width:n&&n.filterSize&&n.filterSize.width||"400%",height:n&&n.filterSize&&n.filterSize.height||"400%",x:n&&n.filterSize&&n.filterSize.x||"-100%",y:n&&n.filterSize&&n.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,n){var r=t.getBaseElement();if(r){var s=this.layers[n];if(!s.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,n);else{for(var o=0,l,c,p;o<n;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(c=this.elements[o],p=this.layers[o].ddd?this.getThreeDContainerByPos(o):c.getBaseElement(),l=p||l),o+=1;l?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,l):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,n)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var n=0,r=this.threeDElements.length;n<r;){if(this.threeDElements[n].startPos<=t&&this.threeDElements[n].endPos>=t)return this.threeDElements[n].perspectiveElem;n+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,n){var r=createTag("div"),s,o;styleDiv(r);var l=createTag("div");if(styleDiv(l),n==="3d"){s=r.style,s.width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var c="50% 50%";s.webkitTransformOrigin=c,s.mozTransformOrigin=c,s.transformOrigin=c,o=l.style;var p="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=p,o.webkitTransform=p}r.appendChild(l);var m={container:l,perspectiveElem:r,startPos:t,endPos:t,type:n};return this.threeDElements.push(m),m},HybridRendererBase.prototype.build3dContainers=function(){var t,n=this.layers.length,r,s="";for(t=0;t<n;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(s!=="3d"&&(s="3d",r=this.createThreeDContainer(t,"3d")),r.endPos=Math.max(r.endPos,t)):(s!=="2d"&&(s="2d",r=this.createThreeDContainer(t,"2d")),r.endPos=Math.max(r.endPos,t));for(n=this.threeDElements.length,t=n-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,n){for(var r=0,s=this.threeDElements.length;r<s;){if(n<=this.threeDElements[r].endPos){for(var o=this.threeDElements[r].startPos,l;o<n;)this.elements[o]&&this.elements[o].getBaseElement&&(l=this.elements[o].getBaseElement()),o+=1;l?this.threeDElements[r].container.insertBefore(t,l):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var n=createTag("div"),r=this.animationItem.wrapper,s=n.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=n,styleDiv(n),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&n.setAttribute("class",this.renderConfig.className),r.appendChild(n),s.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var l=createNS("defs");o.appendChild(l),this.data=t,this.setupGlobalData(t,o),this.globalData.defs=l,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,n=this.layers?this.layers.length:0;for(t=0;t<n;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight,r=t/n,s=this.globalData.compSize.w/this.globalData.compSize.h,o,l,c,p;s>r?(o=t/this.globalData.compSize.w,l=t/this.globalData.compSize.w,c=0,p=(n-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(o=n/this.globalData.compSize.h,l=n/this.globalData.compSize.h,c=(t-this.globalData.compSize.w*(n/this.globalData.compSize.h))/2,p=0);var m=this.resizerElem.style;m.webkitTransform="matrix3d("+o+",0,0,0,0,"+l+",0,0,0,0,1,0,"+c+","+p+",0,1)",m.transform=m.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,n=this.globalData.compSize.h,r,s=this.threeDElements.length;for(r=0;r<s;r+=1){var o=this.threeDElements[r].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var n,r=t.length,s=createTag("div");for(n=0;n<r;n+=1)if(t[n].xt){var o=this.createComp(t[n],s,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(t,n,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,n,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,n.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,n){for(var r=0,s;r<n;)this.elements[r]&&this.elements[r].getBaseElement&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(t,s):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,n){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:n&&n.className||"",imagePreserveAspectRatio:n&&n.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(n&&n.hideOnTransparent===!1),filterSize:{width:n&&n.filterSize&&n.filterSize.width||"400%",height:n&&n.filterSize&&n.filterSize.height||"400%",x:n&&n.filterSize&&n.filterSize.x||"-100%",y:n&&n.filterSize&&n.filterSize.y||"-100%"},runExpressions:!n||n.runExpressions===void 0||n.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=(function(){return function(t){function n(r){for(var s=0,o=t.layers.length;s<o;){if(t.layers[s].nm===r||t.layers[s].ind===r)return t.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(n,"_name",{value:t.data.nm}),n.layer=n,n.pixelAspect=1,n.height=t.data.h||t.globalData.compSize.h,n.width=t.data.w||t.globalData.compSize.w,n.pixelAspect=1,n.frameDuration=1/t.globalData.frameRate,n.displayStartTime=0,n.numLayers=t.layers.length,n}})();function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(t)}function seedRandom(t,n){var r=this,s=256,o=6,l=52,c="random",p=n.pow(s,o),m=n.pow(2,l),x=m*2,b=s-1,_;function R(H,j,W){var Y=[];j=j===!0?{entropy:!0}:j||{};var X=K(P(j.entropy?[H,G(t)]:H===null?$():H,3),Y),te=new k(Y),se=function(){for(var ge=te.g(o),me=p,Ee=0;ge<m;)ge=(ge+Ee)*s,me*=s,Ee=te.g(1);for(;ge>=x;)ge/=2,me/=2,Ee>>>=1;return(ge+Ee)/me};return se.int32=function(){return te.g(4)|0},se.quick=function(){return te.g(4)/4294967296},se.double=se,K(G(te.S),t),(j.pass||W||function(pe,ge,me,Ee){return Ee&&(Ee.S&&M(Ee,te),pe.state=function(){return M(te,{})}),me?(n[c]=pe,ge):pe})(se,X,"global"in j?j.global:this==n,j.state)}n["seed"+c]=R;function k(H){var j,W=H.length,Y=this,X=0,te=Y.i=Y.j=0,se=Y.S=[];for(W||(H=[W++]);X<s;)se[X]=X++;for(X=0;X<s;X++)se[X]=se[te=b&te+H[X%W]+(j=se[X])],se[te]=j;Y.g=function(pe){for(var ge,me=0,Ee=Y.i,ve=Y.j,de=Y.S;pe--;)ge=de[Ee=b&Ee+1],me=me*s+de[b&(de[Ee]=de[ve=b&ve+ge])+(de[ve]=ge)];return Y.i=Ee,Y.j=ve,me}}function M(H,j){return j.i=H.i,j.j=H.j,j.S=H.S.slice(),j}function P(H,j){var W=[],Y=_typeof$2(H),X;if(j&&Y=="object")for(X in H)try{W.push(P(H[X],j-1))}catch{}return W.length?W:Y=="string"?H:H+"\0"}function K(H,j){for(var W=H+"",Y,X=0;X<W.length;)j[b&X]=b&(Y^=j[b&X]*19)+W.charCodeAt(X++);return G(j)}function $(){try{var H=new Uint8Array(s);return(r.crypto||r.msCrypto).getRandomValues(H),G(H)}catch{var j=r.navigator,W=j&&j.plugins;return[+new Date,r,W,r.screen,G(t)]}}function G(H){return String.fromCharCode.apply(0,H)}K(n.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,n){return t==="number"||n instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var n=_typeof$1(t);if(n==="number"||t instanceof Number||n==="boolean")return-t;if($bm_isInstanceOfArray(t)){var r,s=t.length,o=[];for(r=0;r<s;r+=1)o[r]=-t[r];return o}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,n){var r=_typeof$1(t),s=_typeof$1(n);if(isNumerable(r,t)&&isNumerable(s,n)||r==="string"||s==="string")return t+n;if($bm_isInstanceOfArray(t)&&isNumerable(s,n))return t=t.slice(0),t[0]+=n,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(n))return n=n.slice(0),n[0]=t+n[0],n;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(n)){for(var o=0,l=t.length,c=n.length,p=[];o<l||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof n[o]=="number"||n[o]instanceof Number)?p[o]=t[o]+n[o]:p[o]=n[o]===void 0?t[o]:t[o]||n[o],o+=1;return p}return 0}var add=sum;function sub(t,n){var r=_typeof$1(t),s=_typeof$1(n);if(isNumerable(r,t)&&isNumerable(s,n))return r==="string"&&(t=parseInt(t,10)),s==="string"&&(n=parseInt(n,10)),t-n;if($bm_isInstanceOfArray(t)&&isNumerable(s,n))return t=t.slice(0),t[0]-=n,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(n))return n=n.slice(0),n[0]=t-n[0],n;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(n)){for(var o=0,l=t.length,c=n.length,p=[];o<l||o<c;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof n[o]=="number"||n[o]instanceof Number)?p[o]=t[o]-n[o]:p[o]=n[o]===void 0?t[o]:t[o]||n[o],o+=1;return p}return 0}function mul(t,n){var r=_typeof$1(t),s=_typeof$1(n),o;if(isNumerable(r,t)&&isNumerable(s,n))return t*n;var l,c;if($bm_isInstanceOfArray(t)&&isNumerable(s,n)){for(c=t.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t[l]*n;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(n)){for(c=n.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t*n[l];return o}return 0}function div(t,n){var r=_typeof$1(t),s=_typeof$1(n),o;if(isNumerable(r,t)&&isNumerable(s,n))return t/n;var l,c;if($bm_isInstanceOfArray(t)&&isNumerable(s,n)){for(c=t.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t[l]/n;return o}if(isNumerable(r,t)&&$bm_isInstanceOfArray(n)){for(c=n.length,o=createTypedArray("float32",c),l=0;l<c;l+=1)o[l]=t/n[l];return o}return 0}function mod(t,n){return typeof t=="string"&&(t=parseInt(t,10)),typeof n=="string"&&(n=parseInt(n,10)),t%n}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,n,r){if(n>r){var s=r;r=n,n=s}return Math.min(Math.max(t,n),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,n){if(typeof t=="number"||t instanceof Number)return n=n||0,Math.abs(t-n);n||(n=helperLengthArray);var r,s=Math.min(t.length,n.length),o=0;for(r=0;r<s;r+=1)o+=Math.pow(n[r]-t[r],2);return Math.sqrt(o)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var n=t[0],r=t[1],s=t[2],o=Math.max(n,r,s),l=Math.min(n,r,s),c,p,m=(o+l)/2;if(o===l)c=0,p=0;else{var x=o-l;switch(p=m>.5?x/(2-o-l):x/(o+l),o){case n:c=(r-s)/x+(r<s?6:0);break;case r:c=(s-n)/x+2;break;case s:c=(n-r)/x+4;break}c/=6}return[c,p,m,t[3]]}function hue2rgb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function hslToRgb(t){var n=t[0],r=t[1],s=t[2],o,l,c;if(r===0)o=s,c=s,l=s;else{var p=s<.5?s*(1+r):s+r-s*r,m=2*s-p;o=hue2rgb(m,p,n+1/3),l=hue2rgb(m,p,n),c=hue2rgb(m,p,n-1/3)}return[o,l,c,t[3]]}function linear(t,n,r,s,o){if((s===void 0||o===void 0)&&(s=n,o=r,n=0,r=1),r<n){var l=r;r=n,n=l}if(t<=n)return s;if(t>=r)return o;var c=r===n?0:(t-n)/(r-n);if(!s.length)return s+(o-s)*c;var p,m=s.length,x=createTypedArray("float32",m);for(p=0;p<m;p+=1)x[p]=s[p]+(o[p]-s[p])*c;return x}function random(t,n){if(n===void 0&&(t===void 0?(t=0,n=1):(n=t,t=void 0)),n.length){var r,s=n.length;t||(t=createTypedArray("float32",s));var o=createTypedArray("float32",s),l=BMMath.random();for(r=0;r<s;r+=1)o[r]=t[r]+l*(n[r]-t[r]);return o}t===void 0&&(t=0);var c=BMMath.random();return t+c*(n-t)}function createPath(t,n,r,s){var o,l=t.length,c=shapePool.newElement();c.setPathData(!!s,l);var p=[0,0],m,x;for(o=0;o<l;o+=1)m=n&&n[o]?n[o]:p,x=r&&r[o]?r[o]:p,c.setTripleAt(t[o][0],t[o][1],x[0]+t[o][0],x[1]+t[o][1],m[0]+t[o][0],m[1]+t[o][1],o,!0);return c}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(n,r){var s,o,l=this.pv.length?this.pv.length:1,c=createTypedArray("float32",l);n=5;var p=Math.floor(time*n);for(s=0,o=0;s<p;){for(o=0;o<l;o+=1)c[o]+=-r+r*2*BMMath.random();s+=1}var m=time*n,x=m-Math.floor(m),b=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)b[o]=this.pv[o]+c[o]+(-r+r*2*BMMath.random())*x;return b}return this.pv+c[0]+(-r+r*2*BMMath.random())*x}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,n){return loopIn(t,n,!0)}function loopOutDuration(t,n){return loopOut(t,n,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,n){var r=[n[0]-t[0],n[1]-t[1],n[2]-t[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,o=-Math.atan2(r[1],r[2])/degToRads;return[o,s,0]}function easeOut(t,n,r,s,o){return applyEase(easeOutBez,t,n,r,s,o)}function easeIn(t,n,r,s,o){return applyEase(easeInBez,t,n,r,s,o)}function ease(t,n,r,s,o){return applyEase(easeInOutBez,t,n,r,s,o)}function applyEase(t,n,r,s,o,l){o===void 0?(o=r,l=s):n=(n-r)/(s-r),n>1?n=1:n<0&&(n=0);var c=t(n);if($bm_isInstanceOfArray(o)){var p,m=o.length,x=createTypedArray("float32",m);for(p=0;p<m;p+=1)x[p]=(l[p]-o[p])*c+o[p];return x}return(l-o)*c+o}function nearestKey(t){var n,r=data.k.length,s,o;if(!data.k.length||typeof data.k[0]=="number")s=0,o=0;else if(s=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)s=1,o=data.k[0].t;else{for(n=0;n<r-1;n+=1)if(t===data.k[n].t){s=n+1,o=data.k[n].t;break}else if(t>data.k[n].t&&t<data.k[n+1].t){t-data.k[n].t>data.k[n+1].t-t?(s=n+2,o=data.k[n+1].t):(s=n+1,o=data.k[n].t);break}s===-1&&(s=n+1,o=data.k[n].t)}var l={};return l.index=s,l.time=o/elem.comp.globalData.frameRate,l}function key(t){var n,r,s;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,n={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(s=o.length,r=0;r<s;r+=1)n[r]=o[r],n.value[r]=o[r];return n}function framesToTime(t,n){return n||(n=elem.comp.globalData.frameRate),t/n}function timeToFrames(t,n){return!t&&t!==0&&(t=time),n||(n=elem.comp.globalData.frameRate),t*n}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,n){return typeof value=="string"?n===void 0?value.substring(t):value.substring(t,n):""}function substr(t,n){return typeof value=="string"?n===void 0?value.substr(t):value.substr(t,n):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var t={};t.initExpressions=n,t.resetFrame=ExpressionManager.resetFrame;function n(r){var s=0,o=[];function l(){s+=1}function c(){s-=1,s===0&&m()}function p(x){o.indexOf(x)===-1&&o.push(x)}function m(){var x,b=o.length;for(x=0;x<b;x+=1)o[x].release();o.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=l,r.renderer.globalData.popExpression=c,r.renderer.globalData.registerExpressionProperty=p}return t})(),MaskManagerInterface=(function(){function t(r,s){this._mask=r,this._data=s}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var n=function(s){var o=createSizedArray(s.viewData.length),l,c=s.viewData.length;for(l=0;l<c;l+=1)o[l]=new t(s.viewData[l],s.masksProperties[l]);var p=function(x){for(l=0;l<c;){if(s.masksProperties[l].nm===x)return o[l];l+=1}return null};return p};return n})(),ExpressionPropertyInterface=(function(){var t={pv:0,v:0,mult:1},n={pv:[0,0,0],v:[0,0,0],mult:1};function r(c,p,m){Object.defineProperty(c,"velocity",{get:function(){return p.getVelocityAtTime(p.comp.currentFrame)}}),c.numKeys=p.keyframes?p.keyframes.length:0,c.key=function(x){if(!c.numKeys)return 0;var b="";"s"in p.keyframes[x-1]?b=p.keyframes[x-1].s:"e"in p.keyframes[x-2]?b=p.keyframes[x-2].e:b=p.keyframes[x-2].s;var _=m==="unidimensional"?new Number(b):Object.assign({},b);return _.time=p.keyframes[x-1].t/p.elem.comp.globalData.frameRate,_.value=m==="unidimensional"?b[0]:b,_},c.valueAtTime=p.getValueAtTime,c.speedAtTime=p.getSpeedAtTime,c.velocityAtTime=p.getVelocityAtTime,c.propertyGroup=p.propertyGroup}function s(c){(!c||!("pv"in c))&&(c=t);var p=1/c.mult,m=c.pv*p,x=new Number(m);return x.value=m,r(x,c,"unidimensional"),function(){return c.k&&c.getValue(),m=c.v*p,x.value!==m&&(x=new Number(m),x.value=m,x[0]=m,r(x,c,"unidimensional")),x}}function o(c){(!c||!("pv"in c))&&(c=n);var p=1/c.mult,m=c.data&&c.data.l||c.pv.length,x=createTypedArray("float32",m),b=createTypedArray("float32",m);return x.value=b,r(x,c,"multidimensional"),function(){c.k&&c.getValue();for(var _=0;_<m;_+=1)b[_]=c.v[_]*p,x[_]=b[_];return x}}function l(){return t}return function(c){return c?c.propType==="unidimensional"?s(c):o(c):l}})(),TransformExpressionInterface=(function(){return function(t){function n(c){switch(c){case"scale":case"Scale":case"ADBE Scale":case 6:return n.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return n.rotation;case"ADBE Rotate X":return n.xRotation;case"ADBE Rotate Y":return n.yRotation;case"position":case"Position":case"ADBE Position":case 2:return n.position;case"ADBE Position_0":return n.xPosition;case"ADBE Position_1":return n.yPosition;case"ADBE Position_2":return n.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return n.anchorPoint;case"opacity":case"Opacity":case 11:return n.opacity;default:return null}}Object.defineProperty(n,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(n,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(n,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(n,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(n,"scale",{get:ExpressionPropertyInterface(t.s)});var r,s,o,l;return t.p?l=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py),t.pz&&(o=ExpressionPropertyInterface(t.pz))),Object.defineProperty(n,"position",{get:function(){return t.p?l():[r(),s(),o?o():0]}}),Object.defineProperty(n,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(n,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(n,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(n,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(n,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(n,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(n,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(n,"orientation",{get:ExpressionPropertyInterface(t.or)}),n}})(),LayerExpressionInterface=(function(){function t(x){var b=new Matrix;if(x!==void 0){var _=this._elem.finalTransform.mProp.getValueAtTime(x);_.clone(b)}else{var R=this._elem.finalTransform.mProp;R.applyToMatrix(b)}return b}function n(x,b){var _=this.getMatrix(b);return _.props[12]=0,_.props[13]=0,_.props[14]=0,this.applyPoint(_,x)}function r(x,b){var _=this.getMatrix(b);return this.applyPoint(_,x)}function s(x,b){var _=this.getMatrix(b);return _.props[12]=0,_.props[13]=0,_.props[14]=0,this.invertPoint(_,x)}function o(x,b){var _=this.getMatrix(b);return this.invertPoint(_,x)}function l(x,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _,R=this._elem.hierarchy.length;for(_=0;_<R;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(x)}return x.applyToPointArray(b[0],b[1],b[2]||0)}function c(x,b){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _,R=this._elem.hierarchy.length;for(_=0;_<R;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(x)}return x.inversePoint(b)}function p(x){var b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){var _,R=this._elem.hierarchy.length;for(_=0;_<R;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(b);return b.inversePoint(x)}return b.inversePoint(x)}function m(){return[1,1,1,1]}return function(x){var b;function _(P){k.mask=new MaskManagerInterface(P,x)}function R(P){k.effect=P}function k(P){switch(P){case"ADBE Root Vectors Group":case"Contents":case 2:return k.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return b;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return k.effect;case"ADBE Text Properties":return k.textInterface;default:return null}}k.getMatrix=t,k.invertPoint=c,k.applyPoint=l,k.toWorld=r,k.toWorldVec=n,k.fromWorld=o,k.fromWorldVec=s,k.toComp=r,k.fromComp=p,k.sampleImage=m,k.sourceRectAtTime=x.sourceRectAtTime.bind(x),k._elem=x,b=TransformExpressionInterface(x.finalTransform.mProp);var M=getDescriptor(b,"anchorPoint");return Object.defineProperties(k,{hasParent:{get:function(){return x.hierarchy.length}},parent:{get:function(){return x.hierarchy[0].layerInterface}},rotation:getDescriptor(b,"rotation"),scale:getDescriptor(b,"scale"),position:getDescriptor(b,"position"),opacity:getDescriptor(b,"opacity"),anchorPoint:M,anchor_point:M,transform:{get:function(){return b}},active:{get:function(){return x.isInRange}}}),k.startTime=x.data.st,k.index=x.data.ind,k.source=x.data.refId,k.height=x.data.ty===0?x.data.h:100,k.width=x.data.ty===0?x.data.w:100,k.inPoint=x.data.ip/x.comp.globalData.frameRate,k.outPoint=x.data.op/x.comp.globalData.frameRate,k._name=x.data.nm,k.registerMaskInterface=_,k.registerEffectsInterface=R,k}})(),propertyGroupFactory=(function(){return function(t,n){return function(r){return r=r===void 0?1:r,r<=0?t:n(r-1)}}})(),PropertyInterface=(function(){return function(t,n){var r={_name:t};function s(o){return o=o===void 0?1:o,o<=0?r:n(o-1)}return s}})(),EffectsExpressionInterface=(function(){var t={createEffectsInterface:n};function n(o,l){if(o.effectsManager){var c=[],p=o.data.ef,m,x=o.effectsManager.effectElements.length;for(m=0;m<x;m+=1)c.push(r(p[m],o.effectsManager.effectElements[m],l,o));var b=o.data.ef||[],_=function(k){for(m=0,x=b.length;m<x;){if(k===b[m].nm||k===b[m].mn||k===b[m].ix)return c[m];m+=1}return null};return Object.defineProperty(_,"numProperties",{get:function(){return b.length}}),_}return null}function r(o,l,c,p){function m(k){for(var M=o.ef,P=0,K=M.length;P<K;){if(k===M[P].nm||k===M[P].mn||k===M[P].ix)return M[P].ty===5?b[P]:b[P]();P+=1}throw new Error}var x=propertyGroupFactory(m,c),b=[],_,R=o.ef.length;for(_=0;_<R;_+=1)o.ef[_].ty===5?b.push(r(o.ef[_],l.effectElements[_],l.effectElements[_].propertyGroup,p)):b.push(s(l.effectElements[_],o.ef[_].ty,p,x));return o.mn==="ADBE Color Control"&&Object.defineProperty(m,"color",{get:function(){return b[0]()}}),Object.defineProperties(m,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:x}}),m.enabled=o.en!==0,m.active=m.enabled,m}function s(o,l,c,p){var m=ExpressionPropertyInterface(o.p);function x(){return l===10?c.comp.compInterface(o.p.v):m()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",p)),x}return t})(),ShapePathInterface=(function(){return function(n,r,s){var o=r.sh;function l(p){return p==="Shape"||p==="shape"||p==="Path"||p==="path"||p==="ADBE Vector Shape"||p===2?l.path:null}var c=propertyGroupFactory(l,s);return o.setGroupProperty(PropertyInterface("Path",c)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:n.nm},ix:{value:n.ix},propertyIndex:{value:n.ix},mn:{value:n.mn},propertyGroup:{value:s}}),l}})(),ShapeExpressionInterface=(function(){function t(M,P,K){var $=[],G,H=M?M.length:0;for(G=0;G<H;G+=1)M[G].ty==="gr"?$.push(r(M[G],P[G],K)):M[G].ty==="fl"?$.push(s(M[G],P[G],K)):M[G].ty==="st"?$.push(c(M[G],P[G],K)):M[G].ty==="tm"?$.push(p(M[G],P[G],K)):M[G].ty==="tr"||(M[G].ty==="el"?$.push(x(M[G],P[G],K)):M[G].ty==="sr"?$.push(b(M[G],P[G],K)):M[G].ty==="sh"?$.push(ShapePathInterface(M[G],P[G],K)):M[G].ty==="rc"?$.push(_(M[G],P[G],K)):M[G].ty==="rd"?$.push(R(M[G],P[G],K)):M[G].ty==="rp"?$.push(k(M[G],P[G],K)):M[G].ty==="gf"?$.push(o(M[G],P[G],K)):$.push(l(M[G],P[G])));return $}function n(M,P,K){var $,G=function(W){for(var Y=0,X=$.length;Y<X;){if($[Y]._name===W||$[Y].mn===W||$[Y].propertyIndex===W||$[Y].ix===W||$[Y].ind===W)return $[Y];Y+=1}return typeof W=="number"?$[W-1]:null};G.propertyGroup=propertyGroupFactory(G,K),$=t(M.it,P.it,G.propertyGroup),G.numProperties=$.length;var H=m(M.it[M.it.length-1],P.it[P.it.length-1],G.propertyGroup);return G.transform=H,G.propertyIndex=M.cix,G._name=M.nm,G}function r(M,P,K){var $=function(W){switch(W){case"ADBE Vectors Group":case"Contents":case 2:return $.content;default:return $.transform}};$.propertyGroup=propertyGroupFactory($,K);var G=n(M,P,$.propertyGroup),H=m(M.it[M.it.length-1],P.it[P.it.length-1],$.propertyGroup);return $.content=G,$.transform=H,Object.defineProperty($,"_name",{get:function(){return M.nm}}),$.numProperties=M.np,$.propertyIndex=M.ix,$.nm=M.nm,$.mn=M.mn,$}function s(M,P,K){function $(G){return G==="Color"||G==="color"?$.color:G==="Opacity"||G==="opacity"?$.opacity:null}return Object.defineProperties($,{color:{get:ExpressionPropertyInterface(P.c)},opacity:{get:ExpressionPropertyInterface(P.o)},_name:{value:M.nm},mn:{value:M.mn}}),P.c.setGroupProperty(PropertyInterface("Color",K)),P.o.setGroupProperty(PropertyInterface("Opacity",K)),$}function o(M,P,K){function $(G){return G==="Start Point"||G==="start point"?$.startPoint:G==="End Point"||G==="end point"?$.endPoint:G==="Opacity"||G==="opacity"?$.opacity:null}return Object.defineProperties($,{startPoint:{get:ExpressionPropertyInterface(P.s)},endPoint:{get:ExpressionPropertyInterface(P.e)},opacity:{get:ExpressionPropertyInterface(P.o)},type:{get:function(){return"a"}},_name:{value:M.nm},mn:{value:M.mn}}),P.s.setGroupProperty(PropertyInterface("Start Point",K)),P.e.setGroupProperty(PropertyInterface("End Point",K)),P.o.setGroupProperty(PropertyInterface("Opacity",K)),$}function l(){function M(){return null}return M}function c(M,P,K){var $=propertyGroupFactory(X,K),G=propertyGroupFactory(Y,$);function H(te){Object.defineProperty(Y,M.d[te].nm,{get:ExpressionPropertyInterface(P.d.dataProps[te].p)})}var j,W=M.d?M.d.length:0,Y={};for(j=0;j<W;j+=1)H(j),P.d.dataProps[j].p.setGroupProperty(G);function X(te){return te==="Color"||te==="color"?X.color:te==="Opacity"||te==="opacity"?X.opacity:te==="Stroke Width"||te==="stroke width"?X.strokeWidth:null}return Object.defineProperties(X,{color:{get:ExpressionPropertyInterface(P.c)},opacity:{get:ExpressionPropertyInterface(P.o)},strokeWidth:{get:ExpressionPropertyInterface(P.w)},dash:{get:function(){return Y}},_name:{value:M.nm},mn:{value:M.mn}}),P.c.setGroupProperty(PropertyInterface("Color",$)),P.o.setGroupProperty(PropertyInterface("Opacity",$)),P.w.setGroupProperty(PropertyInterface("Stroke Width",$)),X}function p(M,P,K){function $(H){return H===M.e.ix||H==="End"||H==="end"?$.end:H===M.s.ix?$.start:H===M.o.ix?$.offset:null}var G=propertyGroupFactory($,K);return $.propertyIndex=M.ix,P.s.setGroupProperty(PropertyInterface("Start",G)),P.e.setGroupProperty(PropertyInterface("End",G)),P.o.setGroupProperty(PropertyInterface("Offset",G)),$.propertyIndex=M.ix,$.propertyGroup=K,Object.defineProperties($,{start:{get:ExpressionPropertyInterface(P.s)},end:{get:ExpressionPropertyInterface(P.e)},offset:{get:ExpressionPropertyInterface(P.o)},_name:{value:M.nm}}),$.mn=M.mn,$}function m(M,P,K){function $(H){return M.a.ix===H||H==="Anchor Point"?$.anchorPoint:M.o.ix===H||H==="Opacity"?$.opacity:M.p.ix===H||H==="Position"?$.position:M.r.ix===H||H==="Rotation"||H==="ADBE Vector Rotation"?$.rotation:M.s.ix===H||H==="Scale"?$.scale:M.sk&&M.sk.ix===H||H==="Skew"?$.skew:M.sa&&M.sa.ix===H||H==="Skew Axis"?$.skewAxis:null}var G=propertyGroupFactory($,K);return P.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),P.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),P.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),P.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),P.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),P.transform.mProps.sk&&(P.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),P.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),P.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties($,{opacity:{get:ExpressionPropertyInterface(P.transform.mProps.o)},position:{get:ExpressionPropertyInterface(P.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(P.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(P.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(P.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(P.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(P.transform.mProps.sa)},_name:{value:M.nm}}),$.ty="tr",$.mn=M.mn,$.propertyGroup=K,$}function x(M,P,K){function $(j){return M.p.ix===j?$.position:M.s.ix===j?$.size:null}var G=propertyGroupFactory($,K);$.propertyIndex=M.ix;var H=P.sh.ty==="tm"?P.sh.prop:P.sh;return H.s.setGroupProperty(PropertyInterface("Size",G)),H.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties($,{size:{get:ExpressionPropertyInterface(H.s)},position:{get:ExpressionPropertyInterface(H.p)},_name:{value:M.nm}}),$.mn=M.mn,$}function b(M,P,K){function $(j){return M.p.ix===j?$.position:M.r.ix===j?$.rotation:M.pt.ix===j?$.points:M.or.ix===j||j==="ADBE Vector Star Outer Radius"?$.outerRadius:M.os.ix===j?$.outerRoundness:M.ir&&(M.ir.ix===j||j==="ADBE Vector Star Inner Radius")?$.innerRadius:M.is&&M.is.ix===j?$.innerRoundness:null}var G=propertyGroupFactory($,K),H=P.sh.ty==="tm"?P.sh.prop:P.sh;return $.propertyIndex=M.ix,H.or.setGroupProperty(PropertyInterface("Outer Radius",G)),H.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),H.pt.setGroupProperty(PropertyInterface("Points",G)),H.p.setGroupProperty(PropertyInterface("Position",G)),H.r.setGroupProperty(PropertyInterface("Rotation",G)),M.ir&&(H.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),H.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties($,{position:{get:ExpressionPropertyInterface(H.p)},rotation:{get:ExpressionPropertyInterface(H.r)},points:{get:ExpressionPropertyInterface(H.pt)},outerRadius:{get:ExpressionPropertyInterface(H.or)},outerRoundness:{get:ExpressionPropertyInterface(H.os)},innerRadius:{get:ExpressionPropertyInterface(H.ir)},innerRoundness:{get:ExpressionPropertyInterface(H.is)},_name:{value:M.nm}}),$.mn=M.mn,$}function _(M,P,K){function $(j){return M.p.ix===j?$.position:M.r.ix===j?$.roundness:M.s.ix===j||j==="Size"||j==="ADBE Vector Rect Size"?$.size:null}var G=propertyGroupFactory($,K),H=P.sh.ty==="tm"?P.sh.prop:P.sh;return $.propertyIndex=M.ix,H.p.setGroupProperty(PropertyInterface("Position",G)),H.s.setGroupProperty(PropertyInterface("Size",G)),H.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties($,{position:{get:ExpressionPropertyInterface(H.p)},roundness:{get:ExpressionPropertyInterface(H.r)},size:{get:ExpressionPropertyInterface(H.s)},_name:{value:M.nm}}),$.mn=M.mn,$}function R(M,P,K){function $(j){return M.r.ix===j||j==="Round Corners 1"?$.radius:null}var G=propertyGroupFactory($,K),H=P;return $.propertyIndex=M.ix,H.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties($,{radius:{get:ExpressionPropertyInterface(H.rd)},_name:{value:M.nm}}),$.mn=M.mn,$}function k(M,P,K){function $(j){return M.c.ix===j||j==="Copies"?$.copies:M.o.ix===j||j==="Offset"?$.offset:null}var G=propertyGroupFactory($,K),H=P;return $.propertyIndex=M.ix,H.c.setGroupProperty(PropertyInterface("Copies",G)),H.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties($,{copies:{get:ExpressionPropertyInterface(H.c)},offset:{get:ExpressionPropertyInterface(H.o)},_name:{value:M.nm}}),$.mn=M.mn,$}return function(M,P,K){var $;function G(j){if(typeof j=="number")return j=j===void 0?1:j,j===0?K:$[j-1];for(var W=0,Y=$.length;W<Y;){if($[W]._name===j)return $[W];W+=1}return null}function H(){return K}return G.propertyGroup=propertyGroupFactory(G,H),$=t(M,P,G.propertyGroup),G.numProperties=$.length,G._name="Contents",G}})(),TextExpressionInterface=(function(){return function(t){var n;function r(s){switch(s){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return(!n||o!==n.value)&&(n=new String(o),n.value=o||new String(o),Object.defineProperty(n,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),n}}),r}})();function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}var FootageInterface=(function(){var t=function(s){var o="",l=s.getFootageData();function c(){return o="",l=s.getFootageData(),p}function p(m){if(l[m])return o=m,l=l[m],_typeof(l)==="object"?p:l;var x=m.indexOf(o);if(x!==-1){var b=parseInt(m.substr(x+o.length),10);return l=l[b],_typeof(l)==="object"?p:l}return""}return c},n=function(s){function o(l){return l==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=t(s),o};return function(r){function s(o){return o==="Data"?s.dataInterface:null}return s._name="Data",s.dataInterface=n(r),s}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=(function(){function t(c,p,m){p.x&&(m.k=!0,m.x=!0,m.initiateExpression=ExpressionManager.initiateExpression,m.effectsSequence.push(m.initiateExpression(c,p,m).bind(m)))}function n(c){return c*=this.elem.globalData.frameRate,c-=this.offsetTime,c!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<c?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(c,this._cachingAtTime),this._cachingAtTime.lastFrame=c),this._cachingAtTime.value}function r(c){var p=-.01,m=this.getValueAtTime(c),x=this.getValueAtTime(c+p),b=0;if(m.length){var _;for(_=0;_<m.length;_+=1)b+=Math.pow(x[_]-m[_],2);b=Math.sqrt(b)*100}else b=0;return b}function s(c){if(this.vel!==void 0)return this.vel;var p=-.001,m=this.getValueAtTime(c),x=this.getValueAtTime(c+p),b;if(m.length){b=createTypedArray("float32",m.length);var _;for(_=0;_<m.length;_+=1)b[_]=(x[_]-m[_])/p}else b=(x-m)/p;return b}function o(){return this.pv}function l(c){this.propertyGroup=c}return{searchExpressions:t,getSpeedAtTime:r,getVelocityAtTime:s,getValueAtTime:n,getStaticValueAtTime:o,setGroupProperty:l}})();function addPropertyDecorator(){function t(R,k,M){if(!this.k||!this.keyframes)return this.pv;R=R?R.toLowerCase():"";var P=this.comp.renderedFrame,K=this.keyframes,$=K[K.length-1].t;if(P<=$)return this.pv;var G,H;M?(k?G=Math.abs($-this.elem.comp.globalData.frameRate*k):G=Math.max(0,$-this.elem.data.ip),H=$-G):((!k||k>K.length-1)&&(k=K.length-1),H=K[K.length-1-k].t,G=$-H);var j,W,Y;if(R==="pingpong"){var X=Math.floor((P-H)/G);if(X%2!==0)return this.getValueAtTime((G-(P-H)%G+H)/this.comp.globalData.frameRate,0)}else if(R==="offset"){var te=this.getValueAtTime(H/this.comp.globalData.frameRate,0),se=this.getValueAtTime($/this.comp.globalData.frameRate,0),pe=this.getValueAtTime(((P-H)%G+H)/this.comp.globalData.frameRate,0),ge=Math.floor((P-H)/G);if(this.pv.length){for(Y=new Array(te.length),W=Y.length,j=0;j<W;j+=1)Y[j]=(se[j]-te[j])*ge+pe[j];return Y}return(se-te)*ge+pe}else if(R==="continue"){var me=this.getValueAtTime($/this.comp.globalData.frameRate,0),Ee=this.getValueAtTime(($-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=new Array(me.length),W=Y.length,j=0;j<W;j+=1)Y[j]=me[j]+(me[j]-Ee[j])*((P-$)/this.comp.globalData.frameRate)/5e-4;return Y}return me+(me-Ee)*((P-$)/.001)}return this.getValueAtTime(((P-H)%G+H)/this.comp.globalData.frameRate,0)}function n(R,k,M){if(!this.k)return this.pv;R=R?R.toLowerCase():"";var P=this.comp.renderedFrame,K=this.keyframes,$=K[0].t;if(P>=$)return this.pv;var G,H;M?(k?G=Math.abs(this.elem.comp.globalData.frameRate*k):G=Math.max(0,this.elem.data.op-$),H=$+G):((!k||k>K.length-1)&&(k=K.length-1),H=K[k].t,G=H-$);var j,W,Y;if(R==="pingpong"){var X=Math.floor(($-P)/G);if(X%2===0)return this.getValueAtTime((($-P)%G+$)/this.comp.globalData.frameRate,0)}else if(R==="offset"){var te=this.getValueAtTime($/this.comp.globalData.frameRate,0),se=this.getValueAtTime(H/this.comp.globalData.frameRate,0),pe=this.getValueAtTime((G-($-P)%G+$)/this.comp.globalData.frameRate,0),ge=Math.floor(($-P)/G)+1;if(this.pv.length){for(Y=new Array(te.length),W=Y.length,j=0;j<W;j+=1)Y[j]=pe[j]-(se[j]-te[j])*ge;return Y}return pe-(se-te)*ge}else if(R==="continue"){var me=this.getValueAtTime($/this.comp.globalData.frameRate,0),Ee=this.getValueAtTime(($+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=new Array(me.length),W=Y.length,j=0;j<W;j+=1)Y[j]=me[j]+(me[j]-Ee[j])*($-P)/.001;return Y}return me+(me-Ee)*($-P)/.001}return this.getValueAtTime((G-(($-P)%G+$))/this.comp.globalData.frameRate,0)}function r(R,k){if(!this.k)return this.pv;if(R=(R||.4)*.5,k=Math.floor(k||5),k<=1)return this.pv;var M=this.comp.renderedFrame/this.comp.globalData.frameRate,P=M-R,K=M+R,$=k>1?(K-P)/(k-1):1,G=0,H=0,j;this.pv.length?j=createTypedArray("float32",this.pv.length):j=0;for(var W;G<k;){if(W=this.getValueAtTime(P+G*$),this.pv.length)for(H=0;H<this.pv.length;H+=1)j[H]+=W[H];else j+=W;G+=1}if(this.pv.length)for(H=0;H<this.pv.length;H+=1)j[H]/=k;else j/=k;return j}function s(R){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var k=this._transformCachingAtTime.v;if(k.cloneFromProps(this.pre.props),this.appliedTransformations<1){var M=this.a.getValueAtTime(R);k.translate(-M[0]*this.a.mult,-M[1]*this.a.mult,M[2]*this.a.mult)}if(this.appliedTransformations<2){var P=this.s.getValueAtTime(R);k.scale(P[0]*this.s.mult,P[1]*this.s.mult,P[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var K=this.sk.getValueAtTime(R),$=this.sa.getValueAtTime(R);k.skewFromAxis(-K*this.sk.mult,$*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var G=this.r.getValueAtTime(R);k.rotate(-G*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var H=this.rz.getValueAtTime(R),j=this.ry.getValueAtTime(R),W=this.rx.getValueAtTime(R),Y=this.or.getValueAtTime(R);k.rotateZ(-H*this.rz.mult).rotateY(j*this.ry.mult).rotateX(W*this.rx.mult).rotateZ(-Y[2]*this.or.mult).rotateY(Y[1]*this.or.mult).rotateX(Y[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var X=this.px.getValueAtTime(R),te=this.py.getValueAtTime(R);if(this.data.p.z){var se=this.pz.getValueAtTime(R);k.translate(X*this.px.mult,te*this.py.mult,-se*this.pz.mult)}else k.translate(X*this.px.mult,te*this.py.mult,0)}else{var pe=this.p.getValueAtTime(R);k.translate(pe[0]*this.p.mult,pe[1]*this.p.mult,-pe[2]*this.p.mult)}return k}function o(){return this.v.clone(new Matrix)}var l=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(R,k,M){var P=l(R,k,M);return P.dynamicProperties.length?P.getValueAtTime=s.bind(P):P.getValueAtTime=o.bind(P),P.setGroupProperty=expressionHelpers.setGroupProperty,P};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(R,k,M,P,K){var $=c(R,k,M,P,K);$.kf?$.getValueAtTime=expressionHelpers.getValueAtTime.bind($):$.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind($),$.setGroupProperty=expressionHelpers.setGroupProperty,$.loopOut=t,$.loopIn=n,$.smooth=r,$.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind($),$.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind($),$.numKeys=k.a===1?k.k.length:0,$.propertyIndex=k.ix;var G=0;return M!==0&&(G=createTypedArray("float32",k.a===1?k.k[0].s.length:k.k.length)),$._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:G},expressionHelpers.searchExpressions(R,k,$),$.k&&K.addDynamicProperty($),$};function p(R){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),R*=this.elem.globalData.frameRate,R-=this.offsetTime,R!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<R?this._caching.lastIndex:0,this._cachingAtTime.lastTime=R,this.interpolateShape(R,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var m=ShapePropertyFactory.getConstructorFunction(),x=ShapePropertyFactory.getKeyframedConstructorFunction();function b(){}b.prototype={vertices:function(k,M){this.k&&this.getValue();var P=this.v;M!==void 0&&(P=this.getValueAtTime(M,0));var K,$=P._length,G=P[k],H=P.v,j=createSizedArray($);for(K=0;K<$;K+=1)k==="i"||k==="o"?j[K]=[G[K][0]-H[K][0],G[K][1]-H[K][1]]:j[K]=[G[K][0],G[K][1]];return j},points:function(k){return this.vertices("v",k)},inTangents:function(k){return this.vertices("i",k)},outTangents:function(k){return this.vertices("o",k)},isClosed:function(){return this.v.c},pointOnPath:function(k,M){var P=this.v;M!==void 0&&(P=this.getValueAtTime(M,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(P));for(var K=this._segmentsLength,$=K.lengths,G=K.totalLength*k,H=0,j=$.length,W=0,Y;H<j;){if(W+$[H].addedLength>G){var X=H,te=P.c&&H===j-1?0:H+1,se=(G-W)/$[H].addedLength;Y=bez.getPointInSegment(P.v[X],P.v[te],P.o[X],P.i[te],se,$[H]);break}else W+=$[H].addedLength;H+=1}return Y||(Y=P.c?[P.v[0][0],P.v[0][1]]:[P.v[P._length-1][0],P.v[P._length-1][1]]),Y},vectorOnPath:function(k,M,P){k==1?k=this.v.c:k==0&&(k=.999);var K=this.pointOnPath(k,M),$=this.pointOnPath(k+.001,M),G=$[0]-K[0],H=$[1]-K[1],j=Math.sqrt(Math.pow(G,2)+Math.pow(H,2));if(j===0)return[0,0];var W=P==="tangent"?[G/j,H/j]:[-H/j,G/j];return W},tangentOnPath:function(k,M){return this.vectorOnPath(k,M,"tangent")},normalOnPath:function(k,M){return this.vectorOnPath(k,M,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([b],m),extendPrototype([b],x),x.prototype.getValueAtTime=p,x.prototype.initiateExpression=ExpressionManager.initiateExpression;var _=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(R,k,M,P,K){var $=_(R,k,M,P,K);return $.propertyIndex=k.ix,$.lock=!1,M===3?expressionHelpers.searchExpressions(R,k.pt,$):M===4&&expressionHelpers.searchExpressions(R,k.ks,$),$.k&&R.addDynamicProperty($),$}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(n,r){var s=this.calculateExpression(r);if(n.t!==s){var o={};return this.copyData(o,n),o.t=s.toString(),o.__complete=!1,o}return n},TextProperty.prototype.searchProperty=function(){var n=this.searchKeyframes(),r=this.searchExpressions();return this.kf=n||r,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(n,r){var s=createNS("feMerge");s.setAttribute("result",n);var o,l;for(l=0;l<r.length;l+=1)o=createNS("feMergeNode"),o.setAttribute("in",r[l]),s.appendChild(o),s.appendChild(o);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,n,r,s,o){this.filterManager=n;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=l,l.setAttribute("result",s+"_tint_1"),t.appendChild(l),l=createNS("feColorMatrix"),l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",s+"_tint_2"),t.appendChild(l),this.matrixFilter=l;var c=this.createMergeNode(s,[o,s+"_tint_1",s+"_tint_2"]);t.appendChild(c)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",r[0]-n[0]+" 0 0 0 "+n[0]+" "+(r[1]-n[1])+" 0 0 0 "+n[1]+" "+(r[2]-n[2])+" 0 0 0 "+n[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,n,r,s){this.filterManager=n;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",s),t.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+n[0]+" 0 0 0 0 "+n[1]+" 0 0 0 0 "+n[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(t,n,r){this.initialized=!1,this.filterManager=n,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,n,r,s,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,s=0):(s=this.filterManager.effectElements[0].p.v-1,o=s+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),s;s<o;s+=1)n=createNS("path"),r.appendChild(n),this.paths.push({p:n,m:s});if(this.filterManager.effectElements[10].p.v===3){var l=createNS("mask"),c=createElementID();l.setAttribute("id",c),l.setAttribute("mask-type","alpha"),l.appendChild(r),this.elem.globalData.defs.appendChild(l);var p=createNS("g");for(p.setAttribute("mask","url("+getLocationHref()+"#"+c+")");t[0];)p.appendChild(t[0]);this.elem.layerElement.appendChild(p),this.masker=l,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var n,r=this.paths.length,s,o;for(n=0;n<r;n+=1)if(this.paths[n].m!==-1&&(s=this.elem.maskManager.viewData[this.paths[n].m],o=this.paths[n].p,(t||this.filterManager._mdf||s.prop._mdf)&&o.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var l;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var c=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,p=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,m=o.getTotalLength();l="0 0 0 "+m*c+" ";var x=m*(p-c),b=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,_=Math.floor(x/b),R;for(R=0;R<_;R+=1)l+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+m*10+" 0 0"}else l="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",l)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var k=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(k[0]*255)+","+bmFloor(k[1]*255)+","+bmFloor(k[2]*255)+")")}};function SVGTritoneFilter(t,n,r,s){this.filterManager=n;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(o);var l=createNS("feComponentTransfer");l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",s),this.matrixFilter=l;var c=createNS("feFuncR");c.setAttribute("type","table"),l.appendChild(c),this.feFuncR=c;var p=createNS("feFuncG");p.setAttribute("type","table"),l.appendChild(p),this.feFuncG=p;var m=createNS("feFuncB");m.setAttribute("type","table"),l.appendChild(m),this.feFuncB=m,t.appendChild(l)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,o=s[0]+" "+r[0]+" "+n[0],l=s[1]+" "+r[1]+" "+n[1],c=s[2]+" "+r[2]+" "+n[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",l),this.feFuncB.setAttribute("tableValues",c)}};function SVGProLevelsFilter(t,n,r,s){this.filterManager=n;var o=this.filterManager.effectElements,l=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",l)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",l)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",l)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",l)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(l.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(l)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(l=createNS("feComponentTransfer"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",s),t.appendChild(l),this.feFuncRComposed=this.createFeFunc("feFuncR",l),this.feFuncGComposed=this.createFeFunc("feFuncG",l),this.feFuncBComposed=this.createFeFunc("feFuncB",l))}SVGProLevelsFilter.prototype.createFeFunc=function(t,n){var r=createNS(t);return r.setAttribute("type","table"),n.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,n,r,s,o){for(var l=0,c=256,p,m=Math.min(t,n),x=Math.max(t,n),b=Array.call(null,{length:c}),_,R=0,k=o-s,M=n-t;l<=256;)p=l/256,p<=m?_=M<0?o:s:p>=x?_=M<0?s:o:_=s+k*Math.pow((p-t)/M,1/r),b[R]=_,R+=1,l+=256/(c-1);return b.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(n=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",n),this.feFuncGComposed.setAttribute("tableValues",n),this.feFuncBComposed.setAttribute("tableValues",n)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(n=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",n)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(n=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",n)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(n=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",n)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(n=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",n))}};function SVGDropShadowEffect(t,n,r,s,o){var l=n.container.globalData.renderConfig.filterSize,c=n.data.fs||l;t.setAttribute("x",c.x||l.x),t.setAttribute("y",c.y||l.y),t.setAttribute("width",c.width||l.width),t.setAttribute("height",c.height||l.height),this.filterManager=n;var p=createNS("feGaussianBlur");p.setAttribute("in","SourceAlpha"),p.setAttribute("result",s+"_drop_shadow_1"),p.setAttribute("stdDeviation","0"),this.feGaussianBlur=p,t.appendChild(p);var m=createNS("feOffset");m.setAttribute("dx","25"),m.setAttribute("dy","0"),m.setAttribute("in",s+"_drop_shadow_1"),m.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=m,t.appendChild(m);var x=createNS("feFlood");x.setAttribute("flood-color","#00ff00"),x.setAttribute("flood-opacity","1"),x.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=x,t.appendChild(x);var b=createNS("feComposite");b.setAttribute("in",s+"_drop_shadow_3"),b.setAttribute("in2",s+"_drop_shadow_2"),b.setAttribute("operator","in"),b.setAttribute("result",s+"_drop_shadow_4"),t.appendChild(b);var _=this.createMergeNode(s,[s+"_drop_shadow_4",o]);t.appendChild(_)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var n=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(n[0]*255),Math.round(n[1]*255),Math.round(n[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(s),l=r*Math.sin(s);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",l)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,n,r){this.initialized=!1,this.filterManager=n,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var n=0,r=_svgMatteSymbols.length;n<r;){if(_svgMatteSymbols[n]===t)return _svgMatteSymbols[n];n+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,n){var r=t.layerElement.parentNode;if(r){for(var s=r.children,o=0,l=s.length;o<l&&s[o]!==t.layerElement;)o+=1;var c;o<=l-2&&(c=s[o+1]);var p=createNS("use");p.setAttribute("href","#"+n),c?r.insertBefore(p,c):r.appendChild(p)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,n){if(!this.findSymbol(n)){var r=createElementID(),s=createNS("mask");s.setAttribute("id",n.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(n);var o=t.globalData.defs;o.appendChild(s);var l=createNS("symbol");l.setAttribute("id",r),this.replaceInParent(n,r),l.appendChild(n.layerElement),o.appendChild(l);var c=createNS("use");c.setAttribute("href","#"+r),s.appendChild(c),n.data.hd=!1,n.show()}t.setMatte(n.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,n=this.elem.comp.elements,r=0,s=n.length;r<s;)n[r]&&n[r].data.ind===t&&this.setElementAsMask(this.elem,n[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,n,r,s){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=n;var o=createNS("feGaussianBlur");o.setAttribute("result",s),t.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var n=.3,r=this.filterManager.effectElements[0].p.v*n,s=this.filterManager.effectElements[1].p.v,o=s==3?0:r,l=s==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var c=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",c)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var n=this.effectsManager.effectElements,r=n[0].p.v,s=n[1].p.v,o=n[2].p.v===1,l=n[3].p.v,c=o?l:n[4].p.v,p=n[5].p.v,m=n[6].p.v,x=n[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(c*.01,l*.01,1),this.matrix.rotate(-x*degToRads),this.matrix.skewFromAxis(-p*degToRads,(m+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==n[8].p.v&&(this.opacity=n[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,n){this.init(n)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$2(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=Array(n);r<n;r++)s[r]=t[r];return s}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function _defineProperty$2(t,n,r){return(n=_toPropertyKey(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _iterableToArrayLimit$2(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,o,l,c,p=[],m=!0,x=!1;try{if(l=(r=r.call(t)).next,n!==0)for(;!(m=(s=l.call(r)).done)&&(p.push(s.value),p.length!==n);m=!0);}catch(b){x=!0,o=b}finally{try{if(!m&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(x)throw o}}return p}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$2(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread2(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$2(Object(r),!0).forEach(function(s){_defineProperty$2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _objectWithoutProperties$1(t,n){if(t==null)return{};var r,s,o=_objectWithoutPropertiesLoose$1(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)r=l[s],n.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function _objectWithoutPropertiesLoose$1(t,n){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.includes(s))continue;r[s]=t[s]}return r}function _slicedToArray$2(t,n){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,n)||_unsupportedIterableToArray$2(t,n)||_nonIterableRest$2()}function _toPrimitive(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function _toPropertyKey(t){var n=_toPrimitive(t,"string");return typeof n=="symbol"?n:n+""}function _unsupportedIterableToArray$2(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,n);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(t,n):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function t(n,r){var s=n.animationData,o=n.loop,l=n.autoplay,c=n.initialSegment,p=n.onComplete,m=n.onLoopComplete,x=n.onEnterFrame,b=n.onSegmentStart,_=n.onConfigReady,R=n.onDataReady,k=n.onDataFailed,M=n.onLoadedImages,P=n.onDOMLoaded,K=n.onDestroy;n.lottieRef,n.renderer,n.name,n.assetsPath,n.rendererSettings;var $=_objectWithoutProperties$1(n,_excluded$1),G=reactExports$1.useState(!1),H=_slicedToArray$2(G,2),j=H[0],W=H[1],Y=reactExports$1.useRef(),X=reactExports$1.useRef(null),te=function(){var we;(we=Y.current)===null||we===void 0||we.play()},se=function(){var we;(we=Y.current)===null||we===void 0||we.stop()},pe=function(){var we;(we=Y.current)===null||we===void 0||we.pause()},ge=function(we){var Re;(Re=Y.current)===null||Re===void 0||Re.setSpeed(we)},me=function(we,Re){var Be;(Be=Y.current)===null||Be===void 0||Be.goToAndPlay(we,Re)},Ee=function(we,Re){var Be;(Be=Y.current)===null||Be===void 0||Be.goToAndStop(we,Re)},ve=function(we){var Re;(Re=Y.current)===null||Re===void 0||Re.setDirection(we)},de=function(we,Re){var Be;(Be=Y.current)===null||Be===void 0||Be.playSegments(we,Re)},ae=function(we){var Re;(Re=Y.current)===null||Re===void 0||Re.setSubframe(we)},ue=function(we){var Re;return(Re=Y.current)===null||Re===void 0?void 0:Re.getDuration(we)},re=function(){var we;(we=Y.current)===null||we===void 0||we.destroy(),Y.current=void 0},oe=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re;if(X.current){(Re=Y.current)===null||Re===void 0||Re.destroy();var Be=_objectSpread2(_objectSpread2(_objectSpread2({},n),we),{},{container:X.current});return Y.current=lottie.loadAnimation(Be),W(!!Y.current),function(){var We;(We=Y.current)===null||We===void 0||We.destroy(),Y.current=void 0}}};reactExports$1.useEffect(function(){var Ae=oe();return function(){return Ae==null?void 0:Ae()}},[s,o]),reactExports$1.useEffect(function(){Y.current&&(Y.current.autoplay=!!l)},[l]),reactExports$1.useEffect(function(){if(Y.current){if(!c){Y.current.resetSegments(!0);return}!Array.isArray(c)||!c.length||((Y.current.currentRawFrame<c[0]||Y.current.currentRawFrame>c[1])&&(Y.current.currentRawFrame=c[0]),Y.current.setSegment(c[0],c[1]))}},[c]),reactExports$1.useEffect(function(){var Ae=[{name:"complete",handler:p},{name:"loopComplete",handler:m},{name:"enterFrame",handler:x},{name:"segmentStart",handler:b},{name:"config_ready",handler:_},{name:"data_ready",handler:R},{name:"data_failed",handler:k},{name:"loaded_images",handler:M},{name:"DOMLoaded",handler:P},{name:"destroy",handler:K}],we=Ae.filter(function(Be){return Be.handler!=null});if(we.length){var Re=we.map(function(Be){var We;return(We=Y.current)===null||We===void 0||We.addEventListener(Be.name,Be.handler),function(){var De;(De=Y.current)===null||De===void 0||De.removeEventListener(Be.name,Be.handler)}});return function(){Re.forEach(function(Be){return Be()})}}},[p,m,x,b,_,R,k,M,P,K]);var Ce=React.createElement("div",_objectSpread2({style:r,ref:X},$));return{View:Ce,play:te,stop:se,pause:pe,setSpeed:ge,goToAndStop:Ee,goToAndPlay:me,setDirection:ve,playSegments:de,setSubframe:ae,getDuration:ue,destroy:re,animationContainerRef:X,animationLoaded:j,animationItem:Y.current}};function getContainerVisibility(t){var n=t.getBoundingClientRect(),r=n.top,s=n.height,o=window.innerHeight-r,l=window.innerHeight+s;return o/l}function getContainerCursorPosition(t,n,r){var s=t.getBoundingClientRect(),o=s.top,l=s.left,c=s.width,p=s.height,m=(n-l)/c,x=(r-o)/p;return{x:m,y:x}}var useInitInteractivity=function t(n){var r=n.wrapperRef,s=n.animationItem,o=n.mode,l=n.actions;reactExports$1.useEffect(function(){var c=r.current;if(!(!c||!s||!l.length)){s.stop();var p=function(){var b=null,_=function(){var k=getContainerVisibility(c),M=l.find(function(K){var $=K.visibility;return $&&k>=$[0]&&k<=$[1]});if(M){if(M.type==="seek"&&M.visibility&&M.frames.length===2){var P=M.frames[0]+Math.ceil((k-M.visibility[0])/(M.visibility[1]-M.visibility[0])*M.frames[1]);//! goToAndStop must be relative to the start of the current segment
s.goToAndStop(P-s.firstFrame-1,!0)}M.type==="loop"&&(b===null||b!==M.frames||s.isPaused)&&(s.playSegments(M.frames,!0),b=M.frames),M.type==="play"&&s.isPaused&&(s.resetSegments(!0),s.play()),M.type==="stop"&&s.goToAndStop(M.frames[0]-s.firstFrame-1,!0)}};return document.addEventListener("scroll",_),function(){document.removeEventListener("scroll",_)}},m=function(){var b=function(M,P){var K=M,$=P;if(K!==-1&&$!==-1){var G=getContainerCursorPosition(c,K,$);K=G.x,$=G.y}var H=l.find(function(Y){var X=Y.position;return X&&Array.isArray(X.x)&&Array.isArray(X.y)?K>=X.x[0]&&K<=X.x[1]&&$>=X.y[0]&&$<=X.y[1]:X&&!Number.isNaN(X.x)&&!Number.isNaN(X.y)?K===X.x&&$===X.y:!1});if(H){if(H.type==="seek"&&H.position&&Array.isArray(H.position.x)&&Array.isArray(H.position.y)&&H.frames.length===2){var j=(K-H.position.x[0])/(H.position.x[1]-H.position.x[0]),W=($-H.position.y[0])/(H.position.y[1]-H.position.y[0]);s.playSegments(H.frames,!0),s.goToAndStop(Math.ceil((j+W)/2*(H.frames[1]-H.frames[0])),!0)}H.type==="loop"&&s.playSegments(H.frames,!0),H.type==="play"&&(s.isPaused&&s.resetSegments(!1),s.playSegments(H.frames)),H.type==="stop"&&s.goToAndStop(H.frames[0],!0)}},_=function(M){b(M.clientX,M.clientY)},R=function(){b(-1,-1)};return c.addEventListener("mousemove",_),c.addEventListener("mouseout",R),function(){c.removeEventListener("mousemove",_),c.removeEventListener("mouseout",R)}};switch(o){case"scroll":return p();case"cursor":return m()}}},[o,s])},useLottieInteractivity=function t(n){var r=n.actions,s=n.mode,o=n.lottieObj,l=o.animationItem,c=o.View,p=o.animationContainerRef;return useInitInteractivity({actions:r,animationItem:l,mode:s,wrapperRef:p}),c},_excluded$2=["style","interactivity"],Lottie=function t(n){var r,s,o,l=n.style,c=n.interactivity,p=_objectWithoutProperties$1(n,_excluded$2),m=useLottie(p,l),x=m.View,b=m.play,_=m.stop,R=m.pause,k=m.setSpeed,M=m.goToAndStop,P=m.goToAndPlay,K=m.setDirection,$=m.playSegments,G=m.setSubframe,H=m.getDuration,j=m.destroy,W=m.animationContainerRef,Y=m.animationLoaded,X=m.animationItem;return reactExports$1.useEffect(function(){n.lottieRef&&(n.lottieRef.current={play:b,stop:_,pause:R,setSpeed:k,goToAndPlay:P,goToAndStop:M,setDirection:K,playSegments:$,setSubframe:G,getDuration:H,destroy:j,animationContainerRef:W,animationLoaded:Y,animationItem:X})},[(r=n.lottieRef)===null||r===void 0?void 0:r.current]),useLottieInteractivity({lottieObj:{View:x,play:b,stop:_,pause:R,setSpeed:k,goToAndStop:M,goToAndPlay:P,setDirection:K,playSegments:$,setSubframe:G,getDuration:H,destroy:j,animationContainerRef:W,animationLoaded:Y,animationItem:X},actions:(s=c==null?void 0:c.actions)!==null&&s!==void 0?s:[],mode:(o=c==null?void 0:c.mode)!==null&&o!==void 0?o:"scroll"})};const spinnerWrapper="_spinnerWrapper_1d31w_1",styles$1p={spinnerWrapper},v="5.5.5",fr=25,ip=0,op=79,w=300,h$1=150,nm="Loading-2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"icon 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[-90]},{t:79,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{t:79,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[0]},{t:64,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:39,op:79,st:39,bm:0},{ddd:0,ind:2,ty:4,nm:"icon",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-90]},{t:40,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:12,s:[0]},{t:40,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:25,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:40,st:0,bm:0}],markers=[],loadingAnim={v,fr,ip,op,w,h:h$1,nm,ddd,assets,layers,markers};function LoadingSpinner(){return jsxRuntimeExports.jsx("div",{className:styles$1p.spinnerWrapper,children:jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnim,loop:!0})})}const clickedFavButton$1="_clickedFavButton_ctyf9_1",favButton$3="_favButton_ctyf9_3",clickedIcon$1="_clickedIcon_ctyf9_47",styles$1o={clickedFavButton:clickedFavButton$1,favButton:favButton$3,clickedIcon:clickedIcon$1};function FavButton({onFav:t,isFav:n}){return jsxRuntimeExports.jsx("button",{className:`${styles$1o.favButton} ${n&&styles$1o.clickedFavButton}`,onClick:t,children:jsxRuntimeExports.jsx(FaStar$1,{className:`${n&&styles$1o.clickedIcon}`})})}function Exhibitions(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),b=useNavigate(),[_,R]=reactExports$1.useState(""),k=$=>{R($.target.value)},M=()=>{!t&&b("/login"),x($=>({...$,liked_only:!$.liked_only}))},P=async()=>{try{o(!0);const $={...m,search:_},G=await userInstance.get("/api/exhibitions",{params:$});r(G.data)}catch($){console.error("   :",$)}finally{o(!1)}};reactExports$1.useEffect(()=>{P()},[m]);const K=["","","",""];return jsxRuntimeExports.jsxs("div",{className:styles$1z.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:P,onFav:M,onSearch:k,value:_}),jsxRuntimeExports.jsxs("div",{className:styles$1z.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{labels:K,filterList:exhibitionFilter,onSetFilter:x}),jsxRuntimeExports.jsx(FavButton,{onFav:M,isFav:m.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1z.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1z.gridContainer,children:p.map($=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:$,onEvent:P},$.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$x="_layout_16k0h_1",gridContainer$2="_gridContainer_16k0h_19",dropboxContainer$1="_dropboxContainer_16k0h_31",nonDataText$2="_nonDataText_16k0h_43",styles$1n={layout:layout$x,gridContainer:gridContainer$2,dropboxContainer:dropboxContainer$1,nonDataText:nonDataText$2},artistFilter=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$w="_layout_1tcsu_1",artistImage$3="_artistImage_1tcsu_39",titleContainer$1="_titleContainer_1tcsu_57",artistNameTitle="_artistNameTitle_1tcsu_75",statusContainer$1="_statusContainer_1tcsu_93",subParagraph$3="_subParagraph_1tcsu_129",favButton$2="_favButton_1tcsu_143",icon$6="_icon_1tcsu_165",likedIcon$5="_likedIcon_1tcsu_175",styles$1m={layout:layout$w,artistImage:artistImage$3,titleContainer:titleContainer$1,artistNameTitle,statusContainer:statusContainer$1,subParagraph:subParagraph$3,favButton:favButton$2,icon:icon$6,likedIcon:likedIcon$5};function ArtistCard({artistItem:t,onEvent:n}){const{id:r,artist_name:s,artist_category:o,artist_image:l,artist_nation:c,is_on_exhibition:p,is_liked:m}=t,x=useNavigate(),b=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&x("/login");try{m===!0?await userInstance.delete("/api/likes",{data:{liked_id:r,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:r,liked_type:"artist"}),await n()}catch(_){console.error(_)}};return jsxRuntimeExports.jsxs(Link$1,{className:styles$1m.layout,to:`/artists/${r}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$1m.artistImage,src:l,alt:"  "}),p==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1m.statusContainer,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$1m.titleContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1m.artistNameTitle,children:s}),jsxRuntimeExports.jsx("button",{className:styles$1m.favButton,onClick:_=>{_.preventDefault(),_.stopPropagation(),b()},children:jsxRuntimeExports.jsx(FaStar$1,{className:m==="1"?styles$1m.likedIcon:styles$1m.icon})})]}),jsxRuntimeExports.jsx("p",{className:styles$1m.subParagraph,children:o}),jsxRuntimeExports.jsx("p",{className:styles$1m.subParagraph,children:c})]})}function Artists(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({category:"",nation:"",birthDecade:"",liked_only:0}),b=useNavigate(),[_,R]=reactExports$1.useState(""),k=()=>{!t&&b("/login"),x(K=>({...K,liked_only:!K.liked_only}))},M=K=>{R(K.target.value)},P=async()=>{const K={...m,search:_};try{o(!0);const $=await userInstance.get("/api/artist",{params:K});r($.data)}catch($){throw new Error($)}finally{o(!1)}};return reactExports$1.useEffect(()=>{P()},[m]),jsxRuntimeExports.jsxs("div",{className:styles$1n.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:P,onFav:k,onSearch:M,value:_}),jsxRuntimeExports.jsxs("div",{className:styles$1n.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:artistFilter,onSetFilter:x}),jsxRuntimeExports.jsx(FavButton,{onFav:k,isFav:m.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1n.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1n.gridContainer,children:p.map(K=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:K,onEvent:P},K.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$v="_layout_15yv5_1",dropboxContainer="_dropboxContainer_15yv5_19",dropBoxButtonSection="_dropBoxButtonSection_15yv5_31",gridContainer$1="_gridContainer_15yv5_43",mapButton="_mapButton_15yv5_55",nonDataText$1="_nonDataText_15yv5_81",styles$1l={layout:layout$v,dropboxContainer,dropBoxButtonSection,gridContainer:gridContainer$1,mapButton,nonDataText:nonDataText$1},galleryFilter=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$u="_layout_ii5e7_1",linkContainer="_linkContainer_ii5e7_31",galleryImage$3="_galleryImage_ii5e7_41",infoContainer$1="_infoContainer_ii5e7_65",favButton$1="_favButton_ii5e7_73",icon$5="_icon_ii5e7_97",likedIcon$4="_likedIcon_ii5e7_107",galleryTitle$3="_galleryTitle_ii5e7_117",addressParagraph="_addressParagraph_ii5e7_137",styles$1k={layout:layout$u,linkContainer,galleryImage:galleryImage$3,infoContainer:infoContainer$1,favButton:favButton$1,icon:icon$5,likedIcon:likedIcon$4,galleryTitle:galleryTitle$3,addressParagraph};function GalleryCard({galleryItem:t,onEvent:n}){const{user:r}=useUser(),{id:s,gallery_name:o,gallery_image:l,gallery_address:c,gallery_start_time:p,gallery_end_time:m,is_liked:x}=t,b=k=>{if(k)return k.slice(0,5)},_=useNavigate(),R=async()=>{!r&&_("/login");try{x===!0?await userInstance.delete("/api/likes",{data:{liked_id:s,liked_type:"gallery"}}):await userInstance.post("/api/likes",{liked_id:s,liked_type:"gallery"}),await n()}catch(k){console.error(k)}};return console.log(x),jsxRuntimeExports.jsx("div",{className:styles$1k.layout,children:jsxRuntimeExports.jsxs(Link$1,{className:styles$1k.linkContainer,to:`/galleries/${s}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$1k.galleryImage,src:l,alt:`${o}  `}),jsxRuntimeExports.jsx("button",{className:styles$1k.favButton,onClick:k=>{k.preventDefault(),k.stopPropagation(),R()},children:jsxRuntimeExports.jsx(FaStar$1,{className:x===!0?styles$1k.likedIcon:styles$1k.icon})}),jsxRuntimeExports.jsxs("div",{className:styles$1k.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1k.galleryTitle,children:o}),jsxRuntimeExports.jsx("p",{className:styles$1k.addressParagraph,children:c}),jsxRuntimeExports.jsxs("p",{className:styles$1k.addressParagraph,children:[b(p)," ~ ",b(m)]})]})]})})}const useModal=()=>{const[t,n]=reactExports$1.useState(!1);return{isOpen:t,handleOpenModal:()=>{n(s=>!s)}}},modalOverlay$7="_modalOverlay_lavxu_1",modalContainer$4="_modalContainer_lavxu_21",modalHeader$3="_modalHeader_lavxu_45",modalTitle$3="_modalTitle_lavxu_59",favButton="_favButton_lavxu_71",clickedFavButton="_clickedFavButton_lavxu_109",clickedIcon="_clickedIcon_lavxu_121",modalMap="_modalMap_lavxu_143",closeButton$9="_closeButton_lavxu_159",styles$1j={modalOverlay:modalOverlay$7,modalContainer:modalContainer$4,modalHeader:modalHeader$3,modalTitle:modalTitle$3,favButton,clickedFavButton,clickedIcon,modalMap,closeButton:closeButton$9},useGeoLocation=()=>{const[t,n]=reactExports$1.useState({lat:37.3595704,lng:127.105399}),{showAlert:r}=useAlert(),s=l=>{const c=l.coords.latitude,p=l.coords.longitude;n({lat:c,lng:p})},o=l=>{r(`(${l.code}): ${l.message}`)};return reactExports$1.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s,o):r("    !")},[]),{coords:t,setCoords:n}};function GalleryMapModal({onOpen:t}){const{coords:n}=useGeoLocation(),{lat:r,lng:s}=n,[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),b=useNavigate(),_=useMap({lat:r,lng:s,id:"gallery-map",results:o,zoomLevel:16});reactExports$1.useEffect(()=>{var K;const k=_.current;if(!k||!((K=window.naver)!=null&&K.maps))return;const M=async()=>{try{p(!0);const $=k.getBounds(),G=$.getSW(),H=$.getNE(),j={latitude:H.lat(),longitude:H.lng()};m&&(j.liked_only=1);const W=await userInstance.get("/api/galleries",{params:j});l(W.data)}catch($){console.error("  :",$)}finally{p(!1)}},P=naver.maps.Event.addListener(k,"idle",M);return M(),()=>{P&&naver.maps.Event.removeListener(P)}},[_,m]);const R=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){b("/login");return}x(k=>!k)};return reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$1j.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1j.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1j.modalHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$1j.modalTitle,children:"  "}),jsxRuntimeExports.jsxs("button",{className:`${styles$1j.favButton} ${m&&styles$1j.clickedFavButton}`,onClick:R,children:[jsxRuntimeExports.jsx(FaStar,{className:`${m&&styles$1j.clickedIcon}`})," "]})]}),c&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx("div",{className:styles$1j.modalMap,id:"gallery-map"}),jsxRuntimeExports.jsx("button",{className:styles$1j.closeButton,onClick:t,children:""})]})})}function Galleries(){const{user:t}=useUser(),[n,r]=reactExports$1.useState([]),[s,o]=reactExports$1.useState(!0),{currentPage:l,setCurrentPage:c,pageItems:p}=usePagination(12,n),[m,x]=reactExports$1.useState({status:"",regions:"",type:"",liked_only:0}),b=useNavigate(),[_,R]=reactExports$1.useState(""),{isOpen:k,handleOpenModal:M}=useModal(),P=G=>{R(G.target.value)},K=()=>{!t&&b("/login"),x(G=>({...G,liked_only:!G.liked_only}))},$=async()=>{try{o(!0);const G={...m,regions:m.regions.replace(/\s+/g,","),search:_},H=await userInstance.get("/api/galleries",{params:G});r(H.data)}catch(G){throw new Error(G)}finally{o(!1)}};return reactExports$1.useEffect(()=>{$()},[m]),jsxRuntimeExports.jsxs("div",{className:styles$1l.layout,children:[k&&jsxRuntimeExports.jsx(GalleryMapModal,{onOpen:M}),jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:m.liked_only,onEvent:$,onFav:K,onSearch:P,value:_}),jsxRuntimeExports.jsxs("div",{className:styles$1l.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:galleryFilter,onSetFilter:x}),jsxRuntimeExports.jsxs("div",{className:styles$1l.dropBoxButtonSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1l.mapButton,onClick:M,children:""}),jsxRuntimeExports.jsx(FavButton,{onFav:K,isFav:m.liked_only})]})]}),jsxRuntimeExports.jsx(TotalCounts,{num:n.length,label:""}),s&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!s&&n.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1l.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1l.gridContainer,children:p.map(G=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:G,onEvent:$},G.id))}),n.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:l,onPageChange:c,totalItems:n.length})]})}const layout$t="_layout_1q99i_1",registerTitle="_registerTitle_1q99i_15",subParagraph$2="_subParagraph_1q99i_27",form$2="_form_1q99i_37",radioGroup="_radioGroup_1q99i_55",submitButton$4="_submitButton_1q99i_67",styles$1i={layout:layout$t,registerTitle,subParagraph:subParagraph$2,form:form$2,radioGroup,submitButton:submitButton$4},useInput=t=>{const[n,r]=reactExports$1.useState(t);return{data:n,handleChange:o=>{r(l=>({...l,[o.target.name]:o.target.value}))},setData:r}},input$6="_input_982er_13",styles$1h={input:input$6};function InputText({type:t="text",name:n,placeholder:r,value:s,onChange:o}){return jsxRuntimeExports.jsx("input",{className:styles$1h.input,name:n,type:t,placeholder:r,value:s,onChange:o})}const layout$s="_layout_1s1dl_1",radioLabel="_radioLabel_1s1dl_17",radioInput="_radioInput_1s1dl_31",styles$1g={layout:layout$s,radioLabel,radioInput};function InputRadio({name:t,value:n,label:r,onChange:s,checked:o}){return jsxRuntimeExports.jsxs("label",{className:styles$1g.layout,children:[jsxRuntimeExports.jsx("input",{className:styles$1g.radioInput,type:"radio",name:t,value:n,onChange:s,defaultChecked:o}),jsxRuntimeExports.jsx("span",{className:styles$1g.radioLabel,children:r})]})}const layout$r="_layout_3526f_1",inputTitle="_inputTitle_3526f_13",inputContainer$1="_inputContainer_3526f_25",errorParagraph="_errorParagraph_3526f_35",styles$1f={layout:layout$r,inputTitle,inputContainer:inputContainer$1,errorParagraph};function InputContainer({children:t,title:n,isValid:r,errorText:s}){return jsxRuntimeExports.jsxs("div",{className:styles$1f.layout,children:[jsxRuntimeExports.jsx("h3",{className:styles$1f.inputTitle,children:n}),jsxRuntimeExports.jsx("div",{className:styles$1f.inputContainer,children:t}),!r&&jsxRuntimeExports.jsx("div",{className:styles$1f.errorParagraph,children:s})]})}function Register(){const{data:t,handleChange:n}=useInput({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),[r,s]=reactExports$1.useState({isOpen:!1,message:"",callback:null}),o=useNavigate(),l=useLocation(),c=()=>{s(R=>({...R,isOpen:!1})),r.callback&&r.callback()},p=R=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(R),m=R=>/^[A-Za-z0-9]{6,20}$/.test(R),x=R=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(R),b=()=>{const{login_id:R,login_pwd:k,user_email:M,user_name:P,admin_flag:K}=t;return m(R)&&p(k)&&x(M)&&P.trim()!==""&&K!==""},_=async R=>{R.preventDefault();try{await instance.post("/api/auth/register",t),s({isOpen:!0,message:" .",callback:()=>o("/login",{state:{from:l.pathname}})})}catch(k){let M="    .";k.response&&k.response.status===409&&(M=k.response.data.message||"  ."),s({isOpen:!0,message:M,callback:null})}};return jsxRuntimeExports.jsxs("div",{className:styles$1i.layout,children:[jsxRuntimeExports.jsx(AlertModal,{isOpen:r.isOpen,message:r.message,onClose:c}),jsxRuntimeExports.jsx("h1",{className:styles$1i.registerTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$1i.subParagraph,children:"  "}),jsxRuntimeExports.jsxs("form",{className:styles$1i.form,onSubmit:_,children:[jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.login_id===""?!0:m(t.login_id),errorText:" 6~20     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_id",placeholder:" (6~20 , )",onChange:n,value:t.login_id})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.login_pwd===""?!0:p(t.login_pwd),errorText:"8~20 , ,     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:n,value:t.login_pwd})}),jsxRuntimeExports.jsx(InputContainer,{title:"",children:jsxRuntimeExports.jsx(InputText,{name:"user_name",placeholder:" ",onChange:n,value:t.user_name})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:t.user_email===""?!0:x(t.user_email),errorText:"   ",children:jsxRuntimeExports.jsx(InputText,{name:"user_email",placeholder:" ",onChange:n,value:t.user_email})}),jsxRuntimeExports.jsx(InputContainer,{title:" ?",children:jsxRuntimeExports.jsxs("div",{className:styles$1i.radioGroup,children:[jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:1,onChange:n}),jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:0,onChange:n})]})}),jsxRuntimeExports.jsx("button",{className:styles$1i.submitButton,disabled:!b(),children:""})]})]})}const layout$q="_layout_1fq0l_1",mainTab="_mainTab_1fq0l_23",tabButton$5="_tabButton_1fq0l_39",active$5="_active_1fq0l_77",styles$1e={layout:layout$q,mainTab,tabButton:tabButton$5,active:active$5},layout$p="_layout_e7upq_1",pageTitle$1="_pageTitle_e7upq_15",editLink="_editLink_e7upq_33",styles$1d={layout:layout$p,pageTitle:pageTitle$1,editLink};function ProfileCard(){const{user:t}=reactExports$1.useContext(UserContext);return t?jsxRuntimeExports.jsxs("div",{className:styles$1d.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$1d.pageTitle,children:""}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1d.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):jsxRuntimeExports.jsx("div",{children:"  "})}const header$f="_header_1dx3l_1",countText$3="_countText_1dx3l_9",count$2="_count_1dx3l_9",tabButtonContainer="_tabButtonContainer_1dx3l_45",tabButton$4="_tabButton_1dx3l_45",active$4="_active_1dx3l_77",cardListSection="_cardListSection_1dx3l_87",cardList$2="_cardList_1dx3l_87",emptyText$4="_emptyText_1dx3l_107",styles$1c={header:header$f,countText:countText$3,count:count$2,tabButtonContainer,tabButton:tabButton$4,active:active$4,cardListSection,cardList:cardList$2,emptyText:emptyText$4},TABS=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}],removeDuplicates$1=t=>{const n=new Set;return t.filter(r=>n.has(r.id)?!1:(n.add(r.id),!0))};function TabLike(){var p,m;const[t,n]=reactExports$1.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[r,s]=reactExports$1.useState("exhibition"),[o,l]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{try{const b=await userInstance.get("/api/users/me/likes"),{data:_}=b,R=removeDuplicates$1(_.like_exhibitions||[]),k=removeDuplicates$1(_.like_galleries||[]),M=removeDuplicates$1(_.like_artists||[]);n({exhibition:R,gallery:k,artist:M,artwork:[]})}catch(b){console.log("like fetch err : ",b),n({exhibition:[],gallery:[],artwork:[],artist:[]})}finally{l(!1)}})()},[]);const c=t[r]||[];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$1c.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$1c.countText,children:["",jsxRuntimeExports.jsx("span",{className:styles$1c.count,children:c.length}),""," ",(p=TABS.find(x=>x.key===r))==null?void 0:p.label," ."]}),jsxRuntimeExports.jsx("div",{className:styles$1c.tabButtonContainer,children:TABS.map(x=>jsxRuntimeExports.jsx("button",{className:`${styles$1c.tabButton} ${r===x.key?styles$1c.active:""}`,onClick:()=>s(x.key),children:x.label},x.key))})]}),jsxRuntimeExports.jsx("section",{className:styles$1c.cardListSection,children:jsxRuntimeExports.jsx("div",{className:styles$1c.cardList,children:c.length>0?r==="exhibition"?c.map(x=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:x},`exhibition-${x.id}`)):r==="gallery"?c.map(x=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:x},`gallery-${x.id}`)):r==="artist"?c.map(x=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:x},`artist-${x.id}`)):null:o?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1c.emptyText,children:[" ",(m=TABS.find(x=>x.key===r))==null?void 0:m.label," ."]})})})]})}const cardContainer$2="_cardContainer_18zcp_1",imgContainer="_imgContainer_18zcp_33",image$4="_image_18zcp_41",artistImage$2="_artistImage_18zcp_53",contents="_contents_18zcp_69",title$h="_title_18zcp_83",info$4="_info_18zcp_95",statusContainer="_statusContainer_18zcp_109",statusCompleted="_statusCompleted_18zcp_123",statusReserved="_statusReserved_18zcp_137",statusCanceled="_statusCanceled_18zcp_153",cancel="_cancel_18zcp_173",action="_action_18zcp_205",btn="_btn_18zcp_215",catalogRegisteredDate="_catalogRegisteredDate_18zcp_247",styles$1b={cardContainer:cardContainer$2,imgContainer,image:image$4,artistImage:artistImage$2,contents,title:title$h,info:info$4,statusContainer,statusCompleted,statusReserved,statusCanceled,cancel,action,btn,catalogRegisteredDate};function SectionCard({item:t,onQR:n,onCancel:r,onGoDetail:s,onReservation:o,type:l}){if(!t)return null;const c=()=>{const{likeType:x}=t;let b="",_="",R="",k=styles$1b.image;if(x==="exhibition")b=t.exhibition_poster,_=t.exhibition_title,R=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(x==="gallery")b=t.gallery_image,_=t.gallery_name,R=t.gallery_address;else if(x==="artist")b=t.artist_image,_=t.artist_name,R=`${t.artist_category} / ${t.artist_nation}`,k=styles$1b.artistImage;else return null;return jsxRuntimeExports.jsxs("div",{onClick:s,className:styles$1b.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:b,alt:_,className:`${styles$1b.image} ${k}`})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:_}),jsxRuntimeExports.jsx("p",{className:styles$1b.info,dangerouslySetInnerHTML:{__html:R}})]})]})},p=()=>{var G,H;const{exhibition_poster:x,exhibition_title:b="  ",exhibition_location:_="  ",reservation_status:R="",id:k=" ",reservation_datetime:M}=t,P={reserved:{label:"",className:styles$1b.statusReserved},used:{label:"",className:styles$1b.statusCompleted},canceled:{label:"",className:styles$1b.statusCanceled}},K=((G=P[R])==null?void 0:G.label)||"  ",$=((H=P[R])==null?void 0:H.className)||"";return jsxRuntimeExports.jsxs("div",{className:styles$1b.cardContainer,onClick:o,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:x,alt:b,className:styles$1b.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:b}),jsxRuntimeExports.jsxs("p",{className:styles$1b.info,children:[_,jsxRuntimeExports.jsx("br",{}),M.split(" ")[0],jsxRuntimeExports.jsx("br",{}),": ",k]}),jsxRuntimeExports.jsxs("div",{className:styles$1b.statusContainer,children:[jsxRuntimeExports.jsx("span",{className:$,children:K}),jsxRuntimeExports.jsxs("div",{className:styles$1b.action,children:[jsxRuntimeExports.jsx("button",{className:styles$1b.btn,onClick:j=>{j.stopPropagation(),s()},children:""}),R==="reserved"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$1b.btn,onClick:j=>{j.stopPropagation(),n(t.exhibition_id)},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1b.cancel,onClick:j=>{j.stopPropagation(),r()},children:""})]})]})]})]})]})},m=()=>{const{bookDetail:x,book_poster:b,create_dtm:_=""}=t,{book:{book_title:R="  "}={},exhibition:{exhibition_location:k="   "}={},gallery:{gallery_name:M="  "}={},exhibition:{exhibition_start_date:P=""}={},exhibition:{exhibition_end_date:K=""}={}}=(x==null?void 0:x.book)||{},$=P&&K?`${P} ~ ${K}`:"",G=_?new Date(_).toISOString().slice(0,10):"";return jsxRuntimeExports.jsxs("div",{onClick:s,className:styles$1b.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx(Img,{src:b,alt:R,className:styles$1b.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:R}),jsxRuntimeExports.jsxs("p",{className:styles$1b.info,children:[M," / ",k,jsxRuntimeExports.jsx("br",{}),$]}),jsxRuntimeExports.jsxs("p",{className:styles$1b.catalogRegisteredDate,children:[": ",G]})]})]})};switch(l){case"like":return c();case"reservation":return p();case"catalog":return m();default:return null}}const header$e="_header_mdss1_1",countText$2="_countText_mdss1_15",count$1="_count_mdss1_15",registerCatalogBtn="_registerCatalogBtn_mdss1_41",cardList$1="_cardList_mdss1_71",emptyText$3="_emptyText_mdss1_83",styles$1a={header:header$e,countText:countText$2,count:count$1,registerCatalogBtn,cardList:cardList$1,emptyText:emptyText$3};function TabPurchased(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),o=useNavigate(),l=()=>{o("/scan")},c=m=>{o(`/catalog/${m}`)},p=()=>{console.log("QR  or ")};return reactExports$1.useEffect(()=>{async function m(){try{s(!0);const b=(await userInstance.get("/api/users/me/purchases")).data,_=await Promise.all(b.map(async R=>{try{const k=await userInstance.get(`/api/books/${R.book_id}`);return{...R,bookDetail:k.data}}catch(k){return console.error(`Book ${R.book_id}    : `,k),{...R,bookDetail:null}}}));console.log(_),n(_)}catch(x){console.error("   : ",x),n([])}finally{s(!1)}}m()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1a.myCatalog,children:[jsxRuntimeExports.jsxs("div",{className:styles$1a.header,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:styles$1a.countText,children:["  ",jsxRuntimeExports.jsx("span",{className:styles$1a.count,children:t.length})]})}),jsxRuntimeExports.jsx("button",{className:styles$1a.registerCatalogBtn,onClick:l,children:"  "})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$1a.cardList,children:t.length>0?t.map(m=>jsxRuntimeExports.jsx(SectionCard,{item:m,onGoDetail:()=>c(m.id),onQR:p,onCancel:null,type:"catalog"},m.id)):r?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1a.emptyText,children:["   .",jsxRuntimeExports.jsx("br",{})," QR "]})})})]})}const cardList="_cardList_1h7rh_1",header$d="_header_1h7rh_13",countText$1="_countText_1h7rh_27",count="_count_1h7rh_27",emptyText$2="_emptyText_1h7rh_53",styles$19={cardList,header:header$d,countText:countText$1,count,emptyText:emptyText$2},tabMyViewFilter=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",defaultValue:"reserved",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],modalOverlay$6="_modalOverlay_14003_1",modalContainer$3="_modalContainer_14003_27",modalHeader$2="_modalHeader_14003_55",closeButton$8="_closeButton_14003_73",imageContainer$1="_imageContainer_14003_97",checkIconContainer="_checkIconContainer_14003_129",confirmText="_confirmText_14003_163",visitDate="_visitDate_14003_179",infoButton="_infoButton_14003_193",styles$18={modalOverlay:modalOverlay$6,modalContainer:modalContainer$3,modalHeader:modalHeader$2,closeButton:closeButton$8,imageContainer:imageContainer$1,checkIconContainer,confirmText,visitDate,infoButton},AttendanceModal=({isOpen:t,onClose:n,exhibitionTitle:r,imageUrl:s,visitDate:o,onViewExhibition:l})=>t?jsxRuntimeExports.jsx("div",{className:styles$18.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$18.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$18.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$18.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{children:r})]}),jsxRuntimeExports.jsx("div",{className:styles$18.imageContainer,children:jsxRuntimeExports.jsx(Img,{src:s,alt:r})}),jsxRuntimeExports.jsx("div",{className:styles$18.checkIconContainer,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$18.confirmText,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$18.visitDate,children:" ."}),jsxRuntimeExports.jsxs("div",{className:styles$18.visitDate,children:[" : ",o]}),jsxRuntimeExports.jsx("button",{className:styles$18.infoButton,onClick:l,children:"  "})]})}):null;function ConfirmModal({isOpen:t,message:n,onConfirm:r,onCancel:s,isDanger:o=!1}){const l=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),!t)return null;const c=o?`${styles$1r.modalButton} ${styles$1r.errorButton}`:styles$1r.modalButton;return jsxRuntimeExports.jsx("div",{className:styles$1r.modalOverlay,onClick:s,children:jsxRuntimeExports.jsxs("div",{className:`${styles$1r.modalBox} ${styles$1r.slideUp}`,onClick:p=>p.stopPropagation(),children:[jsxRuntimeExports.jsx("p",{className:styles$1r.modalMessage,children:n}),jsxRuntimeExports.jsxs("div",{className:styles$1r.btnBox,children:[jsxRuntimeExports.jsx("button",{className:styles$1r.modalButton,onClick:s,style:{backgroundColor:"#e9ecef",color:"#333"},children:""}),jsxRuntimeExports.jsx("button",{ref:l,className:c,onClick:r,children:""})]})]})})}const ConfirmContext=reactExports$1.createContext();function ConfirmProvider({children:t}){const[n,r]=reactExports$1.useState({isOpen:!1,message:"",isDanger:!1,resolve:null}),s=reactExports$1.useCallback((c,p=!1)=>new Promise(m=>{r({isOpen:!0,message:c,isDanger:p,resolve:m})}),[]),o=reactExports$1.useCallback(()=>{n.resolve&&n.resolve(!0),r(c=>({...c,isOpen:!1}))},[n]),l=reactExports$1.useCallback(()=>{n.resolve&&n.resolve(!1),r(c=>({...c,isOpen:!1}))},[n]);return jsxRuntimeExports.jsxs(ConfirmContext.Provider,{value:{showConfirm:s},children:[t,jsxRuntimeExports.jsx(ConfirmModal,{isOpen:n.isOpen,message:n.message,isDanger:n.isDanger,onConfirm:o,onCancel:l})]})}const useConfirm=()=>{const t=reactExports$1.useContext(ConfirmContext);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};function TabMyView(){const{showConfirm:t}=useConfirm(),{showAlert:n}=useAlert(),r=useLocation(),[s,o]=reactExports$1.useState([]),[l,c]=reactExports$1.useState({dateSort:"latest",statusFilter:"reserved"}),[p,m]=reactExports$1.useState(!0),x=useNavigate(),[b,_]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState({id:"",title:"",imageUrl:""});reactExports$1.useEffect(()=>{var G,H;(G=r.state)!=null&&G.successModal&&((H=r.state)!=null&&H.exhibitionInfo)&&(k(r.state.exhibitionInfo),_(!0))},[r.state]),reactExports$1.useEffect(()=>{(async()=>{try{m(!0);const H=await userInstance.get("/api/users/me/exhibitions"),{data:j}=H;o(j)}catch(H){console.error("  :",H)}finally{m(!1)}})()},[]);const M=reactExports$1.useMemo(()=>{let G=s;return l.statusFilter!=="all"&&(G=G.filter(H=>H.reservation_status===l.statusFilter)),G.sort((H,j)=>{const W=new Date(H.reservation_datetime),Y=new Date(j.reservation_datetime);return l.dateSort==="latest"?Y-W:W-Y}),G},[s,l]);console.log(M);const P=()=>{_(!1)},K=async G=>{if(await t(" ?",!0))try{await userInstance.delete(`/api/reservations/${G}`),o(j=>j.map(W=>W.id===G?{...W,reservation_status:"canceled"}:W)),n(" .")}catch(j){console.error("  :",j),n("    .","error")}},$=G=>{const H={id:G.exhibition_id,title:G.exhibition_title,imageUrl:G.exhibition_poster};x(`/scan?itemId=${G.id}`,{state:{exhibitionInfo:H}})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$19.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$19.countText,children:[" "," ",jsxRuntimeExports.jsx("span",{className:styles$19.count,children:M.length})]}),jsxRuntimeExports.jsx("div",{className:styles$19.filterSection,children:jsxRuntimeExports.jsx(DropdownContainer,{filterList:tabMyViewFilter,onSetFilter:c,shape:"rect"})})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$19.cardList,children:M.length>0?M.map(G=>jsxRuntimeExports.jsx(SectionCard,{item:G,status:G.reservation_status==="reserved",onReservation:()=>{x(`/reservationconfirm/${G.id}`)},onGoDetail:()=>x(`/exhibitions/${G.exhibition_id}`),onCancel:()=>K(G.id),onQR:()=>$(G),type:"reservation"},G.id)):p?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsx("p",{className:styles$19.emptyText,children:"  ."})})}),b&&jsxRuntimeExports.jsx(AttendanceModal,{isOpen:b,onClose:P,exhibitionTitle:R.title,imageUrl:R.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>x("/exhibitions")})]})}const tabsLayout="_tabsLayout_19iru_1",tabNav="_tabNav_19iru_13",tabContent="_tabContent_19iru_39",tabButton$3="_tabButton_19iru_63",activeTab$1="_activeTab_19iru_93",styles$17={tabsLayout,tabNav,tabContent,tabButton:tabButton$3,activeTab:activeTab$1};function DetailTabs({tabs:t,activeTab:n,setActiveTab:r,children:s}){return jsxRuntimeExports.jsxs("div",{className:styles$17.tabsLayout,children:[jsxRuntimeExports.jsx("nav",{className:styles$17.tabNav,children:t.map(({key:o,label:l})=>jsxRuntimeExports.jsx("button",{className:`${styles$17.tabButton} ${n===o?styles$17.activeTab:""}`,onClick:()=>r(o),children:l},o))}),jsxRuntimeExports.jsx("section",{className:styles$17.tabContent,children:s})]})}function MyPage(){const t=useLocation(),[n,r]=reactExports$1.useState(""),s=["","MY","MY"];reactExports$1.useEffect(()=>{var l,c;(l=t.state)!=null&&l.successModal?r("MY"):(c=t.state)!=null&&c.activeTab&&r(t.state.activeTab)},[t.state]);const o=()=>{switch(n){case"":return jsxRuntimeExports.jsx(TabLike,{});case"MY":return jsxRuntimeExports.jsx(TabMyView,{});case"MY":return jsxRuntimeExports.jsx(TabPurchased,{});default:return null}};return jsxRuntimeExports.jsxs("div",{className:styles$1e.layout,children:[jsxRuntimeExports.jsx(ProfileCard,{}),jsxRuntimeExports.jsx("nav",{className:styles$1e.mainTab,children:s.map(l=>jsxRuntimeExports.jsx("button",{className:`${styles$1e.tabButton} ${n===l?styles$1e.active:""}`,onClick:()=>r(l),children:l},l))}),o()]})}const container$8="_container_123ft_1",pageTitle="_pageTitle_123ft_17",profileCard="_profileCard_123ft_29",infoRow$5="_infoRow_123ft_173",infoLabel$5="_infoLabel_123ft_193",infoValue$1="_infoValue_123ft_205",input$5="_input_123ft_215",changeButton="_changeButton_123ft_231",profileStatsCard="_profileStatsCard_123ft_259",sectionTitle$4="_sectionTitle_123ft_277",statsRow="_statsRow_123ft_289",statsItem="_statsItem_123ft_305",profileDetailsCard="_profileDetailsCard_123ft_313",detailsRow="_detailsRow_123ft_329",detailsLabel="_detailsLabel_123ft_351",detailsValue="_detailsValue_123ft_359",changeButtonSmall="_changeButtonSmall_123ft_369",buttonField$3="_buttonField_123ft_397",backBtn$1="_backBtn_123ft_409",styles$16={container:container$8,pageTitle,profileCard,infoRow:infoRow$5,infoLabel:infoLabel$5,infoValue:infoValue$1,input:input$5,changeButton,profileStatsCard,sectionTitle:sectionTitle$4,statsRow,statsItem,profileDetailsCard,detailsRow,detailsLabel,detailsValue,changeButtonSmall,buttonField:buttonField$3,backBtn:backBtn$1},modalOverlay$5="_modalOverlay_aw249_1",modalContainer$2="_modalContainer_aw249_27",modalHeader$1="_modalHeader_aw249_51",closeButton$7="_closeButton_aw249_67",modalTitle$2="_modalTitle_aw249_87",modalContent$2="_modalContent_aw249_105",passwordSection="_passwordSection_aw249_121",sectionTitle$3="_sectionTitle_aw249_129",sectionDescription$1="_sectionDescription_aw249_141",form$1="_form_aw249_155",formGroup$3="_formGroup_aw249_167",input$4="_input_aw249_175",submitButton$3="_submitButton_aw249_209",errorMessage$5="_errorMessage_aw249_243",styles$15={modalOverlay:modalOverlay$5,modalContainer:modalContainer$2,modalHeader:modalHeader$1,closeButton:closeButton$7,modalTitle:modalTitle$2,modalContent:modalContent$2,passwordSection,sectionTitle:sectionTitle$3,sectionDescription:sectionDescription$1,form:form$1,formGroup:formGroup$3,input:input$4,submitButton:submitButton$3,errorMessage:errorMessage$5},PwModal=({isOpen:t,onClose:n,userInfo:r,onUpdateUserInfo:s})=>{const[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(""),[m,x]=reactExports$1.useState(""),[b,_]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{t&&(l(""),p(""),x(""),_(!1))},[t]);const R=async M=>{if(M.preventDefault(),x(""),!r)return;if(!o||!c){x("  .");return}if(o===c){x("     .");return}const P={...r,login_pwd:c};try{const K=await userInstance.put("/api/users/me",P);s(K.data),_(!0)}catch(K){console.error(K),x("  .   .")}},k=()=>{_(!1),n()};return t?jsxRuntimeExports.jsxs("div",{className:styles$15.modalOverlay,children:[jsxRuntimeExports.jsxs("div",{className:styles$15.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$15.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$15.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$15.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$15.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$15.passwordSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$15.sectionTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$15.sectionDescription,children:["    ",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsxs("form",{className:styles$15.form,onSubmit:R,children:[jsxRuntimeExports.jsx("div",{className:styles$15.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$15.input} ${m?styles$15.inputError:""}`,value:o,onChange:M=>{l(M.target.value),m&&x("")},required:!0})}),jsxRuntimeExports.jsx("div",{className:styles$15.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$15.input} ${m?styles$15.inputError:""}`,value:c,onChange:M=>{p(M.target.value),m&&x("")},required:!0})}),m&&jsxRuntimeExports.jsx("div",{className:styles$15.errorMessage,children:m}),jsxRuntimeExports.jsx("button",{className:styles$15.submitButton,type:"submit",children:" "})]})]})})]}),jsxRuntimeExports.jsx(AlertModal,{isOpen:b,message:"  .",onClose:k})]}):null},modalOverlay$4="_modalOverlay_lcu9a_1",modalContainer$1="_modalContainer_lcu9a_27",modalHeader="_modalHeader_lcu9a_51",closeButton$6="_closeButton_lcu9a_67",modalTitle$1="_modalTitle_lcu9a_89",modalContent$1="_modalContent_lcu9a_107",withdrawSection="_withdrawSection_lcu9a_119",sectionTitle$2="_sectionTitle_lcu9a_129",sectionDescription="_sectionDescription_lcu9a_143",form="_form_lcu9a_173",formGroup$2="_formGroup_lcu9a_185",input$3="_input_lcu9a_193",withdrawButton="_withdrawButton_lcu9a_231",errorMessage$4="_errorMessage_lcu9a_267",inputError="_inputError_lcu9a_285",styles$14={modalOverlay:modalOverlay$4,modalContainer:modalContainer$1,modalHeader,closeButton:closeButton$6,modalTitle:modalTitle$1,modalContent:modalContent$1,withdrawSection,sectionTitle:sectionTitle$2,sectionDescription,form,formGroup:formGroup$2,input:input$3,withdrawButton,errorMessage:errorMessage$4,inputError},WithdrawModal=({isOpen:t,onClose:n,userInfo:r,onWithdrawSuccess:s})=>{const[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(""),m=async b=>{if(b.preventDefault(),p(""),!!r){if(!o){p(" .");return}try{await userInstance.delete("/api/auth/withdraw",{data:{login_id:r.login_id,login_pwd:o}}),s(),l(""),p(""),n()}catch(_){console.error(_),_.response&&_.response.status===400?p("  ."):p("  .   .")}}},x=()=>{p(""),l(""),n()};return t?jsxRuntimeExports.jsx("div",{className:styles$14.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$14.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$14.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$14.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$14.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$14.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$14.withdrawSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$14.sectionTitle,children:" ?"}),jsxRuntimeExports.jsxs("p",{className:styles$14.sectionDescription,children:["    .",jsxRuntimeExports.jsx("br",{}),"  ,    .",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("form",{className:styles$14.form,onSubmit:m,children:[jsxRuntimeExports.jsx("div",{className:styles$14.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$14.input} ${c?styles$14.inputError:""}`,value:o,onChange:b=>{l(b.target.value),c&&p("")},autoComplete:"off"})}),c&&jsxRuntimeExports.jsx("div",{className:styles$14.errorMessage,children:c}),jsxRuntimeExports.jsx("button",{className:styles$14.withdrawButton,type:"submit",children:""})]})]})})]})}):null},EditProfile=()=>{const{user:t,setUser:n}=reactExports$1.useContext(UserContext),[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(""),[b,_]=reactExports$1.useState(""),R=useNavigate(),[k,M]=reactExports$1.useState(!1),[P,K]=reactExports$1.useState(!1);if(!t)return jsxRuntimeExports.jsx("div",{children:"  "});const $=me=>n({...t,...me}),G=()=>s(!0),H=()=>s(!1),j=()=>{p(!0),_(t.user_email)},W=me=>_(me.target.value),Y=async()=>{try{await userInstance.put("/api/users/me",{user_email:b}),n({...t,user_email:b}),p(!1)}catch(me){console.error("  ",me)}},X=()=>{K(!0)},te=()=>{api.remove("ACCESS_TOKEN"),K(!1),n(null),R("/")},se=()=>{api.remove("ACCESS_TOKEN"),n(null),R("/")},pe=()=>{window.location.href="mailto:oddlemon@oddlemon.co.kr"},ge=()=>{R("/termspolicy")};return jsxRuntimeExports.jsxs("div",{className:styles$16.container,children:[jsxRuntimeExports.jsx("h2",{className:styles$16.pageTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.profileCard,children:jsxRuntimeExports.jsxs("div",{className:styles$16.profileInfoDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:t.user_name||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:t.login_id||""}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButtonSmall,onClick:G,children:" "})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoLabel,children:""}),c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"email",className:styles$16.input,value:b,onChange:W}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:Y,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$16.infoValue,children:t.user_email||"email@email.com"}),jsxRuntimeExports.jsx("button",{className:styles$16.changeButton,onClick:j,children:""})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:styles$16.profileStatsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.statsRow,onClick:pe,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$16.statsItem,children:"1:1 "})}),jsxRuntimeExports.jsx("div",{className:styles$16.statsRow,onClick:ge,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$16.statsItem,children:" "})})]}),jsxRuntimeExports.jsxs("div",{className:styles$16.profileDetailsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$16.detailsRow,onClick:X,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:""})}),jsxRuntimeExports.jsxs("div",{className:styles$16.detailsRow,children:[jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$16.detailsValue,children:"1.10.24"})]}),jsxRuntimeExports.jsx("div",{className:styles$16.detailsRow,onClick:()=>M(!0),style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$16.detailsLabel,children:" "})})]}),jsxRuntimeExports.jsx("div",{className:styles$16.buttonField,children:jsxRuntimeExports.jsx("button",{className:styles$16.backBtn,onClick:()=>R("/mypage"),children:" "})}),jsxRuntimeExports.jsx(PwModal,{isOpen:r,onClose:H,userInfo:t,onUpdateUserInfo:$}),jsxRuntimeExports.jsx(LogoutModal,{isOpen:P,onClose:te}),jsxRuntimeExports.jsx(WithdrawModal,{isOpen:k,onClose:()=>M(!1),userInfo:t,onWithdrawSuccess:se})]})},layout$o="_layout_11t2z_1",summaryTitle$1="_summaryTitle_11t2z_15",queryStringSpan="_queryStringSpan_11t2z_25",resultSection$1="_resultSection_11t2z_33",styles$13={layout:layout$o,summaryTitle:summaryTitle$1,queryStringSpan,resultSection:resultSection$1},filterResults=(t,n)=>{switch(n){case"exhibition":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.exhibition_poster,title:r.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.gallery_image,title:r.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.artist_image,title:r.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(r=>({id:r.id,thumbnail:r.announcement_poster,title:r.announcement_title}))}},layout$n="_layout_uizu7_1",titleContainer="_titleContainer_uizu7_13",categoryTitle="_categoryTitle_uizu7_25",extraLink="_extraLink_uizu7_33",resultList="_resultList_uizu7_45",emptyBox="_emptyBox_uizu7_63",styles$12={layout:layout$n,titleContainer,categoryTitle,extraLink,resultList,emptyBox},filterCategory=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},layout$m="_layout_i3rj4_1",itemImage="_itemImage_i3rj4_13",itemSpan="_itemSpan_i3rj4_27",styles$11={layout:layout$m,itemImage,itemSpan};function SearchResultItem({link:t,thumbnail:n,title:r}){return jsxRuntimeExports.jsxs(Link$1,{className:styles$11.layout,to:t,children:[jsxRuntimeExports.jsx(Img,{className:styles$11.itemImage,src:n}),jsxRuntimeExports.jsx("span",{className:styles$11.itemSpan,children:r})]})}function SearchResultSection({category:t,results:n}){return jsxRuntimeExports.jsxs("section",{className:styles$12.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$12.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$12.categoryTitle,children:filterCategory(t).label}),(n==null?void 0:n.length)===10&&jsxRuntimeExports.jsx(Link$1,{className:styles$12.extraLink,to:`/${filterCategory(t).link}`,children:""})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("div",{className:styles$12.resultList,children:!n||n.length===0?jsxRuntimeExports.jsx("div",{className:styles$12.emptyBox,children:"  "}):n.map(({id:r,thumbnail:s,title:o})=>jsxRuntimeExports.jsx(SearchResultItem,{link:`/${filterCategory(t).link}/${r}`,thumbnail:s,title:o},r))})]})}function Search(){const t=useLocation(),r=new URLSearchParams(t.search).get("query"),[s,o]=reactExports$1.useState({});console.log(r);const l=async()=>{try{const c=await instance.get("/api/search",{params:{search:r}});o(c.data)}catch(c){throw new Error(c)}};return reactExports$1.useEffect(()=>{l()},[r]),jsxRuntimeExports.jsxs("div",{className:styles$13.layout,children:[jsxRuntimeExports.jsxs("h1",{className:styles$13.summaryTitle,children:[jsxRuntimeExports.jsx("span",{className:styles$13.queryStringSpan,children:`'${r}'`}),"   "]}),jsxRuntimeExports.jsxs("section",{className:styles$13.resultSection,children:[jsxRuntimeExports.jsx(SearchResultSection,{category:"exhibition",results:filterResults(s.exhibitions,"exhibition")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"gallery",results:filterResults(s.galleries,"gallery")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"artist",results:filterResults(s.artists,"artist")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"notice",results:filterResults(s.announcements,"notice")})]})]})}const layout$l="_layout_1jxus_1",header$c="_header_1jxus_11",backBtn="_backBtn_1jxus_37",orderSection="_orderSection_1jxus_47",userInfo="_userInfo_1jxus_61",productBox="_productBox_1jxus_71",productImage="_productImage_1jxus_81",productInfo="_productInfo_1jxus_95",paymentInfo="_paymentInfo_1jxus_109",discountInfo="_discountInfo_1jxus_111",paymentMethod="_paymentMethod_1jxus_113",total="_total_1jxus_129",kakao="_kakao_1jxus_169",naver$1="_naver_1jxus_177",basic="_basic_1jxus_183",paymentButton="_paymentButton_1jxus_191",styles$10={layout:layout$l,header:header$c,backBtn,orderSection,userInfo,productBox,productImage,productInfo,paymentInfo,discountInfo,paymentMethod,total,kakao,naver:naver$1,basic,paymentButton};function Purchase(){const{reservationId:t}=useParams(),{state:n}=useLocation(),r=useNavigate(),[s,o]=reactExports$1.useState(""),{exhibition:l={},date:c="",time:p="",people:{adults:m=0,teens:x=0,children:b=0}={},total:_=0,email:R="test@test.com",phone:k="010-1234-5678",name:M=""}=n||{},P=()=>r(`/reservation/${l.id}`),K=()=>{if(!s){alert("  .");return}alert(`${s}  .`);const Y={...n,payment:s};r(`/reservation/complete/${t}`,{state:Y})},$=()=>jsxRuntimeExports.jsxs("div",{className:styles$10.userInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[M," "]}),jsxRuntimeExports.jsx("p",{children:R}),jsxRuntimeExports.jsx("p",{children:k})]}),G=()=>jsxRuntimeExports.jsxs("div",{className:styles$10.productBox,children:[jsxRuntimeExports.jsx(Img,{src:l.imageUrl,alt:" ",className:styles$10.productImage}),jsxRuntimeExports.jsxs("div",{className:styles$10.productInfo,children:[jsxRuntimeExports.jsx("h3",{children:l.title}),jsxRuntimeExports.jsxs("p",{children:["-  : ",c]}),jsxRuntimeExports.jsxs("p",{children:["-   : ",p]}),jsxRuntimeExports.jsxs("p",{children:["-  :  ",m,",  ",x,",  ",b]}),jsxRuntimeExports.jsxs("p",{children:["-  : ",_.toLocaleString(),""]})]})]}),H=()=>jsxRuntimeExports.jsxs("div",{className:styles$10.discountInfo,children:[jsxRuntimeExports.jsx("h3",{children:"   "}),jsxRuntimeExports.jsx("p",{children:"1,000point "}),jsxRuntimeExports.jsx("p",{children:" : 0"})]}),j=()=>jsxRuntimeExports.jsxs("div",{className:styles$10.paymentInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[" : ",_.toLocaleString(),""]}),jsxRuntimeExports.jsx("p",{children:" : -1,000"}),jsxRuntimeExports.jsxs("p",{className:styles$10.total,children:["  : ",(_-1e3).toLocaleString(),""]})]}),W=()=>{const Y={:"kakao",:"naver"," ":"basic"};return jsxRuntimeExports.jsxs("div",{className:styles$10.paymentMethod,children:[jsxRuntimeExports.jsx("h3",{children:" "}),Object.entries(Y).map(([X,te])=>jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment",value:X,onChange:se=>o(se.target.value)}),jsxRuntimeExports.jsxs("span",{className:styles$10[te],children:[" ",X]})]},X))]})};return jsxRuntimeExports.jsxs("div",{className:styles$10.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$10.header,children:[jsxRuntimeExports.jsx("button",{className:styles$10.backBtn,onClick:P,children:""}),jsxRuntimeExports.jsx("span",{className:styles$10.title,children:"   "})]}),jsxRuntimeExports.jsxs("div",{className:styles$10.orderSection,children:[$(),G()]}),H(),j(),W(),jsxRuntimeExports.jsx("button",{className:styles$10.paymentButton,onClick:K,children:""})]})}const layout$k="_layout_dz2j9_1",newsListSection="_newsListSection_dz2j9_61",styles$$={layout:layout$k,newsListSection},newsFilter=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],card$6="_card_1ldzd_1",header$b="_header_1ldzd_31",badge$1="_badge_1ldzd_45",title$g="_title_1ldzd_99",info$3="_info_1ldzd_121",period="_period_1ldzd_131",organizer="_organizer_1ldzd_133",styles$_={card:card$6,header:header$b,badge:badge$1,:"__1ldzd_81",:"__1ldzd_91",title:title$g,info:info$3,period,organizer};function NewsCard({newsItem:t}){const n=useNavigate(),{id:r,announcement_title:s,announcement_start_datetime:o,announcement_end_datetime:l,announcement_organizer:c,announcement_category:p,announcement_status:m}=t,x=R=>R==null?void 0:R.split(" ")[0].replace(/-/g,"."),b=R=>{switch(R){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},_=()=>{n(`/notices/${r}`)};return jsxRuntimeExports.jsxs("div",{className:styles$_.card,onClick:_,role:"button",tabIndex:0,children:[jsxRuntimeExports.jsxs("div",{className:styles$_.header,children:[jsxRuntimeExports.jsx("span",{className:`${styles$_.badge}`,children:p}),jsxRuntimeExports.jsx("span",{className:`${styles$_.badge} ${styles$_[b(m)]}`,children:b(m)})]}),jsxRuntimeExports.jsx("h3",{className:styles$_.title,children:s}),jsxRuntimeExports.jsxs("div",{className:styles$_.info,children:[jsxRuntimeExports.jsx("p",{className:styles$_.period,children:`${x(o)} ~ ${x(l)}`}),jsxRuntimeExports.jsx("p",{className:styles$_.organizer,children:c})]})]})}function News(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),{currentPage:o,setCurrentPage:l,pageItems:c}=usePagination(10,t),[p,m]=reactExports$1.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[x,b]=reactExports$1.useState(""),_=k=>{b(k.target.value)},R=async()=>{try{s(!0);const k={...p,search:x},M=await instance.get("/api/announcements",{params:k});n(M.data)}catch(k){console.error("   :",k)}finally{s(!1)}};return reactExports$1.useEffect(()=>{R()},[p]),jsxRuntimeExports.jsxs("div",{className:styles$$.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",placeholder:" ",onEvent:R,onSearch:_,value:x,isNews:!0}),jsxRuntimeExports.jsx(DropdownContainer,{filterList:newsFilter,onSetFilter:m}),jsxRuntimeExports.jsx(TotalCounts,{num:t.length,label:""}),r&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!r&&t.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),jsxRuntimeExports.jsx("section",{className:styles$$.newsListSection,children:c.map(k=>jsxRuntimeExports.jsx(NewsCard,{newsItem:k},k.id))}),jsxRuntimeExports.jsx(Pagination,{currentPage:o,onPageChange:l,totalItems:t.length})]})}const noticeLayout="_noticeLayout_p2ihj_1",categorySpan="_categorySpan_p2ihj_25",newsTitle="_newsTitle_p2ihj_33",newsImage="_newsImage_p2ihj_41",contentsContainer="_contentsContainer_p2ihj_55",divider$2="_divider_p2ihj_73",contentParagraph="_contentParagraph_p2ihj_87",noticeText="_noticeText_p2ihj_99",backButton$a="_backButton_p2ihj_115",styles$Z={noticeLayout,categorySpan,newsTitle,newsImage,contentsContainer,divider:divider$2,contentParagraph,noticeText,backButton:backButton$a},info$2="_info_pjhlh_1",label$5="_label_pjhlh_41",styles$Y={info:info$2,label:label$5};function ContentsInfoSection({startDate:t,host:n,contact:r,apply:s,attachment:o,site:l}){return jsxRuntimeExports.jsxs("div",{className:styles$Y.info,children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Y.label,children:" "})," ",t]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Y.label,children:" "})," ",n]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Y.label,children:" "})," ",r]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Y.label,children:" "})," ",s]}),l&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Y.label,children:" "})," ",jsxRuntimeExports.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:l})]}),o&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",jsxRuntimeExports.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",children:o.name})]})]})}function NewsDetail(){const{noticeId:t}=useParams(),[n,r]=reactExports$1.useState({}),s=async()=>{try{const G=await instance.get(`/api/announcements/${t}`);r(G.data)}catch(G){throw new Error(G)}};if(reactExports$1.useEffect(()=>{s()},[]),!n)return jsxRuntimeExports.jsx("p",{children:"   ."});const{announcement_title:o,announcement_poster:l,announcement_start_datetime:c,announcement_end_datetime:p,announcement_organizer:m,announcement_contact:x,announcement_support_detail:b,announcement_attachment_url:_,announcement_site_url:R,announcement_content:k,announcement_category:M,created_at:P,views:K}=n,$=(G,H)=>{const j=W=>W==null?void 0:W.split(" ")[0];return`${j(G)} ~ ${j(H)}`};return jsxRuntimeExports.jsxs("section",{className:styles$Z.noticeLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$Z.categorySpan,children:M}),jsxRuntimeExports.jsx("h1",{className:styles$Z.newsTitle,children:o}),jsxRuntimeExports.jsx("hr",{className:styles$Z.divider}),jsxRuntimeExports.jsxs("div",{className:styles$Z.contentsContainer,children:[jsxRuntimeExports.jsx(Img,{className:styles$Z.newsImage,src:l,alt:`${o}  `}),jsxRuntimeExports.jsx(ContentsInfoSection,{startDate:$(c,p),host:m,contact:x,apply:b,attachment:_,site:R,createdAt:P,views:K}),jsxRuntimeExports.jsx("p",{className:styles$Z.contentParagraph,children:k}),jsxRuntimeExports.jsx("hr",{className:styles$Z.divider}),jsxRuntimeExports.jsx("p",{className:styles$Z.noticeText,children:"*         ."}),jsxRuntimeExports.jsx(Link$1,{className:styles$Z.backButton,to:"/notices",children:" "})]})]})}const layout$j="_layout_kj9ra_1",mainContent="_mainContent_kj9ra_17",title$f="_title_kj9ra_45",infoImage="_infoImage_kj9ra_65",textContainer="_textContainer_kj9ra_77",textBox="_textBox_kj9ra_89",styles$X={layout:layout$j,mainContent,title:title$f,infoImage,textContainer,textBox},sectionContainer="_sectionContainer_qhws2_1",controlsContainer="_controlsContainer_qhws2_13",speedContainer="_speedContainer_qhws2_33",speedButton="_speedButton_qhws2_67",clickedSpeedButton="_clickedSpeedButton_qhws2_93",buttonField$2="_buttonField_qhws2_103",optionSpan="_optionSpan_qhws2_113",optionButton="_optionButton_qhws2_123",styles$W={sectionContainer,controlsContainer,speedContainer,speedButton,clickedSpeedButton,buttonField:buttonField$2,optionSpan,optionButton},audioPlayerWrapper="_audioPlayerWrapper_xy4n2_1",audioButton="_audioButton_xy4n2_17",videoPlayer="_videoPlayer_xy4n2_27",placeholder$2="_placeholder_xy4n2_59",styles$V={audioPlayerWrapper,audioButton,videoPlayer,placeholder:placeholder$2};function DocentAudioPlayer({artwork:t,playbackRate:n}){const[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(n),m=reactExports$1.useRef(null),x="https://artly.soundgram.co.kr",b=!!(t!=null&&t.docent_audio_path),_=!!(t!=null&&t.docent_video_path),R=b&&!_,k=b||_;reactExports$1.useEffect(()=>(l(!1),R&&(async()=>{const $=new Audio(`${x}/media/${t.docent_audio_path}`);$.playbackRate=n,$.onended=()=>s(!1),$.playbackRate=c,m.current=$,l(!0)})(),()=>{m.current&&(m.current.pause(),m.current.currentTime=0,m.current=null)}),[t]),reactExports$1.useEffect(()=>{p(n),m.current&&(m.current.playbackRate=n)},[n]);const M=()=>{o&&(r?(m.current.pause(),s(!1)):(m.current.play(),s(!0)))},P=()=>{m.current&&(m.current.pause(),m.current.currentTime=0,s(!1))};return jsxRuntimeExports.jsx("div",{className:styles$V.audioPlayerWrapper,children:k?R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$V.audioButton,onClick:M,disabled:!o,children:o?r?jsxRuntimeExports.jsx(FaPause,{}):jsxRuntimeExports.jsx(FaPlay,{}):jsxRuntimeExports.jsx(LoadingSpinner,{})}),jsxRuntimeExports.jsx("button",{className:styles$V.audioButton,onClick:P,disabled:!o,"aria-label":"",children:o?jsxRuntimeExports.jsx(FaStop,{}):""})]}):jsxRuntimeExports.jsx("video",{className:styles$V.videoPlayer,controls:!0,src:`${x}/media/${t.docent_video_path}`}):jsxRuntimeExports.jsx("div",{className:styles$V.placeholder,role:"status",children:"   ."})})}function DocentSection({artwork:t}){const[n,r]=reactExports$1.useState(1),{isOpen:s,handleOpenModal:o}=useModal(),l=[.5,1,1.25,1.5,2],{showAlert:c}=useAlert();return jsxRuntimeExports.jsxs("section",{className:styles$W.sectionContainer,children:[jsxRuntimeExports.jsx(DocentAudioPlayer,{artwork:t,playbackRate:n}),jsxRuntimeExports.jsxs("div",{className:styles$W.controlsContainer,children:[s&&jsxRuntimeExports.jsx("div",{className:styles$W.speedContainer,children:l.map(p=>jsxRuntimeExports.jsxs("button",{className:`${styles$W.speedButton} ${p===n&&styles$W.clickedSpeedButton}`,onClick:()=>{r(p),o()},children:[p,"x"]},p))}),jsxRuntimeExports.jsxs("div",{className:styles$W.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$W.optionSpan,children:""}),jsxRuntimeExports.jsxs("button",{className:styles$W.optionButton,onClick:o,children:[n,"x"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$W.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$W.optionSpan,children:" "}),jsxRuntimeExports.jsx("button",{className:styles$W.optionButton,onClick:()=>{c("     .")},children:""})]})]})]})}const paginateScript$1=(t,n=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/n)},(r,s)=>t.slice(s*n,(s+1)*n));function Artwork(){const[t,n]=reactExports$1.useState({}),{art_image:r,art_title:s,art_description:o,art_docent:l,artist_name:c}=t,{artId:p}=useParams(),{showAlert:m}=useAlert();return paginateScript$1(l),reactExports$1.useEffect(()=>{(async()=>{try{const b=await instance.get(`/api/arts/${p}`);n(b.data)}catch(b){console.error(b),m("    .")}})()},[]),jsxRuntimeExports.jsxs("main",{className:styles$X.layout,children:[jsxRuntimeExports.jsx("h2",{className:styles$X.title,children:s}),jsxRuntimeExports.jsxs("section",{className:styles$X.mainContent,children:[jsxRuntimeExports.jsx(Img,{src:r,alt:`${s} `,className:styles$X.infoImage}),jsxRuntimeExports.jsx("div",{className:styles$X.textContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$X.textBox,children:[jsxRuntimeExports.jsx("strong",{children:""}),jsxRuntimeExports.jsx("span",{className:styles$X.text,children:c})]})}),jsxRuntimeExports.jsx(DocentSection,{artwork:t})]})]})}const layout$i="_layout_1opcn_1",gridContainer="_gridContainer_1opcn_19",nonDataText="_nonDataText_1opcn_43",styles$U={layout:layout$i,gridContainer,nonDataText},layout$h="_layout_l90xy_1",artworkImage$3="_artworkImage_l90xy_27",artworkTitle$4="_artworkTitle_l90xy_43",subParagraph$1="_subParagraph_l90xy_63",styles$T={layout:layout$h,artworkImage:artworkImage$3,artworkTitle:artworkTitle$4,subParagraph:subParagraph$1};function ArtworkList$1({artworkItems:t}){const{id:n,art_image:r,art_title:s,art_description:o}=t,l=o?o.replace(/(<([^>]+)>)/gi,""):" ";return jsxRuntimeExports.jsxs(Link$1,{className:styles$T.layout,to:`/artworks/${n}`,children:[jsxRuntimeExports.jsx(Img,{className:styles$T.artworkImage,src:r,alt:" "}),jsxRuntimeExports.jsx("h3",{className:styles$T.artworkTitle,children:s}),jsxRuntimeExports.jsx("p",{className:styles$T.subParagraph,children:l})]})}function ArtworkList(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!0),{currentPage:o,setCurrentPage:l,pageItems:c}=usePagination(10,t),[p,m]=reactExports$1.useState({type:""});return reactExports$1.useEffect(()=>{(async()=>{try{s(!0);const b=await instance.get("/api/arts");n(b.data)}catch(b){throw new Error(b)}finally{s(!1)}})()},[p]),jsxRuntimeExports.jsxs("div",{className:styles$U.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isArtworks:!0}),jsxRuntimeExports.jsx(TotalCounts,{num:t.length,label:""}),r&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!r&&t.length===0&&jsxRuntimeExports.jsx("div",{className:styles$U.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$U.gridContainer,children:c.map(x=>jsxRuntimeExports.jsx(ArtworkList$1,{artworkItems:x},x.id))}),t.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:o,onPageChange:l,totalItems:t.length})]})}const catalogLayout="_catalogLayout_1rr2f_1",bodyContainer="_bodyContainer_1rr2f_19",overlay$5="_overlay_1rr2f_33",styles$S={catalogLayout,bodyContainer,overlay:overlay$5},titleBar="_titleBar_1jvc1_1",leftButtons="_leftButtons_1jvc1_23",rightButtons="_rightButtons_1jvc1_25",title$e="_title_1jvc1_1",button$1="_button_1jvc1_45",styles$R={titleBar,leftButtons,rightButtons,title:title$e,button:button$1};function CatalogTitle({onToggleIndex:t}){const n=useNavigate(),r=()=>{n("/mypage")};return jsxRuntimeExports.jsxs("div",{className:styles$R.titleBar,children:[jsxRuntimeExports.jsx("div",{className:styles$R.leftButtons,children:jsxRuntimeExports.jsx("button",{className:styles$R.button,onClick:t,children:" "})}),jsxRuntimeExports.jsx("h1",{className:styles$R.title,children:""}),jsxRuntimeExports.jsx("div",{className:styles$R.rightButtons,children:jsxRuntimeExports.jsx("button",{className:styles$R.button,onClick:r,children:" "})})]})}const indexContainer="_indexContainer_zrf7c_1",menuList="_menuList_zrf7c_37",active$3="_active_zrf7c_71",closeButton$5="_closeButton_zrf7c_81",styles$Q={indexContainer,menuList,active:active$3,closeButton:closeButton$5},image2="/assets/mockCatalog-DwV1yhn-.png",mockCatalog=[{id:"cover",title:"",image:image2,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:image2,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function CatalogIndex({onSelect:t,currentIndex:n,sectionStarts:r,onClose:s}){const o=reactExports$1.useRef();return reactExports$1.useEffect(()=>{const l=p=>{o.current&&!o.current.contains(p.target)&&s()},c=p=>{p.key==="Escape"&&s()};return document.addEventListener("mousedown",l),document.addEventListener("keydown",c),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c)}},[s]),jsxRuntimeExports.jsxs("aside",{className:styles$Q.indexContainer,ref:o,children:[jsxRuntimeExports.jsx("button",{className:styles$Q.closeButton,onClick:s,children:""}),jsxRuntimeExports.jsx("ul",{className:styles$Q.menuList,children:mockCatalog.map((l,c)=>jsxRuntimeExports.jsx("li",{className:c===n?styles$Q.active:"",onClick:()=>t(r[c]),tabIndex:0,children:l.title},l.id))})]})}const container$7="_container_c1nh1_1",page$2="_page_c1nh1_23",image$3="_image_c1nh1_41",title$d="_title_c1nh1_55",meta$1="_meta_c1nh1_67",script="_script_c1nh1_79",arrowLeft="_arrowLeft_c1nh1_89",arrowRight="_arrowRight_c1nh1_91",pageCount="_pageCount_c1nh1_155",styles$P={container:container$7,page:page$2,image:image$3,title:title$d,meta:meta$1,script,arrowLeft,arrowRight,pageCount};function CatalogContents({data:t,pageIndex:n,totalPages:r,onPrev:s,onNext:o,isFirst:l,isLast:c}){return jsxRuntimeExports.jsxs("div",{className:styles$P.container,children:[!l&&jsxRuntimeExports.jsx("button",{onClick:s,className:styles$P.arrowLeft,children:""}),!c&&jsxRuntimeExports.jsx("button",{onClick:o,className:styles$P.arrowRight,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$P.page,children:[t.image&&jsxRuntimeExports.jsx(Img,{src:t.image,alt:t.title,className:styles$P.image}),jsxRuntimeExports.jsx("h2",{className:styles$P.title,children:t.title}),jsxRuntimeExports.jsxs("p",{className:styles$P.meta,children:[t.artist,"  ",t.info]}),jsxRuntimeExports.jsx("p",{className:styles$P.script,children:t.script}),jsxRuntimeExports.jsxs("p",{className:styles$P.pageCount,children:[" ",n+1," / ",r]})]})]})}const paginateScript=(t,n=200)=>{const r=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(r.length/n)},(s,o)=>r.slice(o*n,(o+1)*n))};function Catalog(){const[t,n]=reactExports$1.useState(!1),[r,s]=reactExports$1.useState(0),{allPages:o,sectionStarts:l}=reactExports$1.useMemo(()=>{const x=[],b=[];return mockCatalog.forEach(_=>{const R=paginateScript(_.script);b.push(x.length),R.forEach(k=>{x.push({..._,script:k})})}),{allPages:x,sectionStarts:b}},[]),c=()=>{s(x=>Math.max(0,x-1))},p=()=>{s(x=>Math.min(o.length-1,x+1))},m=reactExports$1.useMemo(()=>l.reduce((x,b,_)=>r>=b?_:x,0),[r,l]);return jsxRuntimeExports.jsxs("div",{className:styles$S.catalogLayout,children:[jsxRuntimeExports.jsx(CatalogTitle,{onToggleIndex:()=>n(x=>!x)}),jsxRuntimeExports.jsxs("div",{className:styles$S.bodyContainer,children:[t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$S.overlay}),jsxRuntimeExports.jsx(CatalogIndex,{onSelect:x=>s(x),onClose:()=>n(!1),currentIndex:m,sectionStarts:l})]}),jsxRuntimeExports.jsx(CatalogContents,{data:o[r],pageIndex:r,totalPages:o.length,onPrev:c,onNext:p,isFirst:r===0,isLast:r===o.length-1})]})]})}var Html5QrcodeSupportedFormats;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Html5QrcodeSupportedFormats||(Html5QrcodeSupportedFormats={}));var html5QrcodeSupportedFormatsTextMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"QR_CODE"],[Html5QrcodeSupportedFormats.AZTEC,"AZTEC"],[Html5QrcodeSupportedFormats.CODABAR,"CODABAR"],[Html5QrcodeSupportedFormats.CODE_39,"CODE_39"],[Html5QrcodeSupportedFormats.CODE_93,"CODE_93"],[Html5QrcodeSupportedFormats.CODE_128,"CODE_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"DATA_MATRIX"],[Html5QrcodeSupportedFormats.MAXICODE,"MAXICODE"],[Html5QrcodeSupportedFormats.ITF,"ITF"],[Html5QrcodeSupportedFormats.EAN_13,"EAN_13"],[Html5QrcodeSupportedFormats.EAN_8,"EAN_8"],[Html5QrcodeSupportedFormats.PDF_417,"PDF_417"],[Html5QrcodeSupportedFormats.RSS_14,"RSS_14"],[Html5QrcodeSupportedFormats.RSS_EXPANDED,"RSS_EXPANDED"],[Html5QrcodeSupportedFormats.UPC_A,"UPC_A"],[Html5QrcodeSupportedFormats.UPC_E,"UPC_E"],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DecodedTextType;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(DecodedTextType||(DecodedTextType={}));function isValidHtml5QrcodeSupportedFormats(t){return Object.values(Html5QrcodeSupportedFormats).includes(t)}var Html5QrcodeScanType;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Html5QrcodeScanType||(Html5QrcodeScanType={}));var Html5QrcodeConstants=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Html5QrcodeScanType.SCAN_TYPE_CAMERA,Html5QrcodeScanType.SCAN_TYPE_FILE],t})(),QrcodeResultFormat=(function(){function t(n,r){this.format=n,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!html5QrcodeSupportedFormatsTextMap.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,html5QrcodeSupportedFormatsTextMap.get(n))},t})(),Html5QrcodeResultFactory=(function(){function t(){}return t.createFromText=function(n){var r={text:n};return{decodedText:n,result:r}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t})(),Html5QrcodeErrorTypes;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Html5QrcodeErrorTypes||(Html5QrcodeErrorTypes={}));var Html5QrcodeErrorFactory=(function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:Html5QrcodeErrorTypes.UNKWOWN_ERROR}},t})(),BaseLoggger=(function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,r){(this.verbose||r===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t})();function isNullOrUndefined(t){return typeof t>"u"||t===null}var Html5QrcodeStrings=(function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),VideoConstraintsUtil=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,r){if(typeof n!="object"){var s=typeof n;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),c=Object.keys(n),p=0,m=c;p<m.length;p++){var x=m[p];if(l.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t})(),zxingJs_umd$2={exports:{}},zxingJs_umd$1=zxingJs_umd$2.exports,hasRequiredZxingJs_umd;function requireZxingJs_umd(){return hasRequiredZxingJs_umd||(hasRequiredZxingJs_umd=1,(function(t,n){(function(r,s){s(n)})(zxingJs_umd$1,(function(r){function s(fe){return fe==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,g){fe.__proto__=g}||function(fe,g){for(var C in g)g.hasOwnProperty(C)&&(fe[C]=g[C])};function l(fe,g){o(fe,g);function C(){this.constructor=fe}fe.prototype=g===null?Object.create(g):(C.prototype=g.prototype,new C)}function c(fe,g){var C=Object.setPrototypeOf;C?C(fe,g):fe.__proto__=g}function p(fe,g){g===void 0&&(g=fe.constructor);var C=Error.captureStackTrace;C&&C(fe,g)}var m=(function(fe){l(g,fe);function g(C){var S=this.constructor,I=fe.call(this,C)||this;return Object.defineProperty(I,"name",{value:S.name,enumerable:!1}),c(I,S.prototype),p(I),I}return g})(Error);class x extends m{constructor(g=void 0){super(g),this.message=g}getKind(){return this.constructor.kind}}x.kind="Exception";class b extends x{}b.kind="ArgumentException";class _ extends x{}_.kind="IllegalArgumentException";class R{constructor(g){if(this.binarizer=g,g===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(g,C){return this.binarizer.getBlackRow(g,C)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(g,C,S,I){const N=this.binarizer.getLuminanceSource().crop(g,C,S,I);return new R(this.binarizer.createBinarizer(N))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const g=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(g))}rotateCounterClockwise45(){const g=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(g))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class M{constructor(g){this.source=g}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(g,C,S,I,N){for(;N--;)S[I++]=g[C++]}static currentTimeMillis(){return Date.now()}}class K extends x{}K.kind="IndexOutOfBoundsException";class $ extends K{constructor(g=void 0,C=void 0){super(C),this.index=g,this.message=C}}$.kind="ArrayIndexOutOfBoundsException";class G{static fill(g,C){for(let S=0,I=g.length;S<I;S++)g[S]=C}static fillWithin(g,C,S,I){G.rangeCheck(g.length,C,S);for(let N=C;N<S;N++)g[N]=I}static rangeCheck(g,C,S){if(C>S)throw new _("fromIndex("+C+") > toIndex("+S+")");if(C<0)throw new $(C);if(S>g)throw new $(S)}static asList(...g){return g}static create(g,C,S){return Array.from({length:g}).map(N=>Array.from({length:C}).fill(S))}static createInt32Array(g,C,S){return Array.from({length:g}).map(N=>Int32Array.from({length:C}).fill(S))}static equals(g,C){if(!g||!C||!g.length||!C.length||g.length!==C.length)return!1;for(let S=0,I=g.length;S<I;S++)if(g[S]!==C[S])return!1;return!0}static hashCode(g){if(g===null)return 0;let C=1;for(const S of g)C=31*C+S;return C}static fillUint8Array(g,C){for(let S=0;S!==g.length;S++)g[S]=C}static copyOf(g,C){return g.slice(0,C)}static copyOfUint8Array(g,C){if(g.length<=C){const S=new Uint8Array(C);return S.set(g),S}return g.slice(0,C)}static copyOfRange(g,C,S){const I=S-C,N=new Int32Array(I);return P.arraycopy(g,C,N,0,I),N}static binarySearch(g,C,S){S===void 0&&(S=G.numberComparator);let I=0,N=g.length-1;for(;I<=N;){const D=N+I>>1,Q=S(C,g[D]);if(Q>0)I=D+1;else if(Q<0)N=D-1;else return D}return-I-1}static numberComparator(g,C){return g-C}}class H{static numberOfTrailingZeros(g){let C;if(g===0)return 32;let S=31;return C=g<<16,C!==0&&(S-=16,g=C),C=g<<8,C!==0&&(S-=8,g=C),C=g<<4,C!==0&&(S-=4,g=C),C=g<<2,C!==0&&(S-=2,g=C),S-(g<<1>>>31)}static numberOfLeadingZeros(g){if(g===0)return 32;let C=1;return g>>>16||(C+=16,g<<=16),g>>>24||(C+=8,g<<=8),g>>>28||(C+=4,g<<=4),g>>>30||(C+=2,g<<=2),C-=g>>>31,C}static toHexString(g){return g.toString(16)}static toBinaryString(g){return String(parseInt(String(g),2))}static bitCount(g){return g=g-(g>>>1&1431655765),g=(g&858993459)+(g>>>2&858993459),g=g+(g>>>4)&252645135,g=g+(g>>>8),g=g+(g>>>16),g&63}static truncDivision(g,C){return Math.trunc(g/C)}static parseInt(g,C=void 0){return parseInt(g,C)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(g,C){g===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=g,C==null?this.bits=j.makeArray(g):this.bits=C)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(g){if(g>this.bits.length*32){const C=j.makeArray(g);P.arraycopy(this.bits,0,C,0,this.bits.length),this.bits=C}}get(g){return(this.bits[Math.floor(g/32)]&1<<(g&31))!==0}set(g){this.bits[Math.floor(g/32)]|=1<<(g&31)}flip(g){this.bits[Math.floor(g/32)]^=1<<(g&31)}getNextSet(g){const C=this.size;if(g>=C)return C;const S=this.bits;let I=Math.floor(g/32),N=S[I];N&=~((1<<(g&31))-1);const D=S.length;for(;N===0;){if(++I===D)return C;N=S[I]}const Q=I*32+H.numberOfTrailingZeros(N);return Q>C?C:Q}getNextUnset(g){const C=this.size;if(g>=C)return C;const S=this.bits;let I=Math.floor(g/32),N=~S[I];N&=~((1<<(g&31))-1);const D=S.length;for(;N===0;){if(++I===D)return C;N=~S[I]}const Q=I*32+H.numberOfTrailingZeros(N);return Q>C?C:Q}setBulk(g,C){this.bits[Math.floor(g/32)]=C}setRange(g,C){if(C<g||g<0||C>this.size)throw new _;if(C===g)return;C--;const S=Math.floor(g/32),I=Math.floor(C/32),N=this.bits;for(let D=S;D<=I;D++){const Q=D>S?0:g&31,ne=(2<<(D<I?31:C&31))-(1<<Q);N[D]|=ne}}clear(){const g=this.bits.length,C=this.bits;for(let S=0;S<g;S++)C[S]=0}isRange(g,C,S){if(C<g||g<0||C>this.size)throw new _;if(C===g)return!0;C--;const I=Math.floor(g/32),N=Math.floor(C/32),D=this.bits;for(let Q=I;Q<=N;Q++){const J=Q>I?0:g&31,le=(2<<(Q<N?31:C&31))-(1<<J)&4294967295;if((D[Q]&le)!==(S?le:0))return!1}return!0}appendBit(g){this.ensureCapacity(this.size+1),g&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(g,C){if(C<0||C>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+C);for(let S=C;S>0;S--)this.appendBit((g>>S-1&1)===1)}appendBitArray(g){const C=g.size;this.ensureCapacity(this.size+C);for(let S=0;S<C;S++)this.appendBit(g.get(S))}xor(g){if(this.size!==g.size)throw new _("Sizes don't match");const C=this.bits;for(let S=0,I=C.length;S<I;S++)C[S]^=g.bits[S]}toBytes(g,C,S,I){for(let N=0;N<I;N++){let D=0;for(let Q=0;Q<8;Q++)this.get(g)&&(D|=1<<7-Q),g++;C[S+N]=D}}getBitArray(){return this.bits}reverse(){const g=new Int32Array(this.bits.length),C=Math.floor((this.size-1)/32),S=C+1,I=this.bits;for(let N=0;N<S;N++){let D=I[N];D=D>>1&1431655765|(D&1431655765)<<1,D=D>>2&858993459|(D&858993459)<<2,D=D>>4&252645135|(D&252645135)<<4,D=D>>8&16711935|(D&16711935)<<8,D=D>>16&65535|(D&65535)<<16,g[C-N]=D}if(this.size!==S*32){const N=S*32-this.size;let D=g[0]>>>N;for(let Q=1;Q<S;Q++){const J=g[Q];D|=J<<32-N,g[Q-1]=D,D=J>>>N}g[S-1]=D}this.bits=g}static makeArray(g){return new Int32Array(Math.floor((g+31)/32))}equals(g){if(!(g instanceof j))return!1;const C=g;return this.size===C.size&&G.equals(this.bits,C.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let g="";for(let C=0,S=this.size;C<S;C++)(C&7)===0&&(g+=" "),g+=this.get(C)?"X":".";return g}clone(){return new j(this.size,this.bits.slice())}}var W;(function(fe){fe[fe.OTHER=0]="OTHER",fe[fe.PURE_BARCODE=1]="PURE_BARCODE",fe[fe.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",fe[fe.TRY_HARDER=3]="TRY_HARDER",fe[fe.CHARACTER_SET=4]="CHARACTER_SET",fe[fe.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",fe[fe.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",fe[fe.ASSUME_GS1=7]="ASSUME_GS1",fe[fe.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",fe[fe.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",fe[fe.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var Y=W;class X extends x{static getFormatInstance(){return new X}}X.kind="FormatException";var te;(function(fe){fe[fe.Cp437=0]="Cp437",fe[fe.ISO8859_1=1]="ISO8859_1",fe[fe.ISO8859_2=2]="ISO8859_2",fe[fe.ISO8859_3=3]="ISO8859_3",fe[fe.ISO8859_4=4]="ISO8859_4",fe[fe.ISO8859_5=5]="ISO8859_5",fe[fe.ISO8859_6=6]="ISO8859_6",fe[fe.ISO8859_7=7]="ISO8859_7",fe[fe.ISO8859_8=8]="ISO8859_8",fe[fe.ISO8859_9=9]="ISO8859_9",fe[fe.ISO8859_10=10]="ISO8859_10",fe[fe.ISO8859_11=11]="ISO8859_11",fe[fe.ISO8859_13=12]="ISO8859_13",fe[fe.ISO8859_14=13]="ISO8859_14",fe[fe.ISO8859_15=14]="ISO8859_15",fe[fe.ISO8859_16=15]="ISO8859_16",fe[fe.SJIS=16]="SJIS",fe[fe.Cp1250=17]="Cp1250",fe[fe.Cp1251=18]="Cp1251",fe[fe.Cp1252=19]="Cp1252",fe[fe.Cp1256=20]="Cp1256",fe[fe.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",fe[fe.UTF8=22]="UTF8",fe[fe.ASCII=23]="ASCII",fe[fe.Big5=24]="Big5",fe[fe.GB18030=25]="GB18030",fe[fe.EUC_KR=26]="EUC_KR"})(te||(te={}));class se{constructor(g,C,S,...I){this.valueIdentifier=g,this.name=S,typeof C=="number"?this.values=Int32Array.from([C]):this.values=C,this.otherEncodingNames=I,se.VALUE_IDENTIFIER_TO_ECI.set(g,this),se.NAME_TO_ECI.set(S,this);const N=this.values;for(let D=0,Q=N.length;D!==Q;D++){const J=N[D];se.VALUES_TO_ECI.set(J,this)}for(const D of I)se.NAME_TO_ECI.set(D,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(g){if(g<0||g>=900)throw new X("incorect value");const C=se.VALUES_TO_ECI.get(g);if(C===void 0)throw new X("incorect value");return C}static getCharacterSetECIByName(g){const C=se.NAME_TO_ECI.get(g);if(C===void 0)throw new X("incorect value");return C}equals(g){if(!(g instanceof se))return!1;const C=g;return this.getName()===C.getName()}}se.VALUE_IDENTIFIER_TO_ECI=new Map,se.VALUES_TO_ECI=new Map,se.NAME_TO_ECI=new Map,se.Cp437=new se(te.Cp437,Int32Array.from([0,2]),"Cp437"),se.ISO8859_1=new se(te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),se.ISO8859_2=new se(te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),se.ISO8859_3=new se(te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),se.ISO8859_4=new se(te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),se.ISO8859_5=new se(te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),se.ISO8859_6=new se(te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),se.ISO8859_7=new se(te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),se.ISO8859_8=new se(te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),se.ISO8859_9=new se(te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),se.ISO8859_10=new se(te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),se.ISO8859_11=new se(te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),se.ISO8859_13=new se(te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),se.ISO8859_14=new se(te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),se.ISO8859_15=new se(te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),se.ISO8859_16=new se(te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),se.SJIS=new se(te.SJIS,20,"SJIS","Shift_JIS"),se.Cp1250=new se(te.Cp1250,21,"Cp1250","windows-1250"),se.Cp1251=new se(te.Cp1251,22,"Cp1251","windows-1251"),se.Cp1252=new se(te.Cp1252,23,"Cp1252","windows-1252"),se.Cp1256=new se(te.Cp1256,24,"Cp1256","windows-1256"),se.UnicodeBigUnmarked=new se(te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),se.UTF8=new se(te.UTF8,26,"UTF8","UTF-8"),se.ASCII=new se(te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),se.Big5=new se(te.Big5,28,"Big5"),se.GB18030=new se(te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),se.EUC_KR=new se(te.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends x{}pe.kind="UnsupportedOperationException";class ge{static decode(g,C){const S=this.encodingName(C);return this.customDecoder?this.customDecoder(g,S):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(S)?this.decodeFallback(g,S):new TextDecoder(S).decode(g)}static shouldDecodeOnFallback(g){return!ge.isBrowser()&&g==="ISO-8859-1"}static encode(g,C){const S=this.encodingName(C);return this.customEncoder?this.customEncoder(g,S):typeof TextEncoder>"u"?this.encodeFallback(g):new TextEncoder().encode(g)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(g){return typeof g=="string"?g:g.getName()}static encodingCharacterSet(g){return g instanceof se?g:se.getCharacterSetECIByName(g)}static decodeFallback(g,C){const S=this.encodingCharacterSet(C);if(ge.isDecodeFallbackSupported(S)){let I="";for(let N=0,D=g.length;N<D;N++){let Q=g[N].toString(16);Q.length<2&&(Q="0"+Q),I+="%"+Q}return decodeURIComponent(I)}if(S.equals(se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(g.buffer));throw new pe(`Encoding ${this.encodingName(C)} not supported by fallback.`)}static isDecodeFallbackSupported(g){return g.equals(se.UTF8)||g.equals(se.ISO8859_1)||g.equals(se.ASCII)}static encodeFallback(g){const S=btoa(unescape(encodeURIComponent(g))).split(""),I=[];for(let N=0;N<S.length;N++)I.push(S[N].charCodeAt(0));return new Uint8Array(I)}}class me{static castAsNonUtf8Char(g,C=null){const S=C?C.getName():this.ISO88591;return ge.decode(new Uint8Array([g]),S)}static guessEncoding(g,C){if(C!=null&&C.get(Y.CHARACTER_SET)!==void 0)return C.get(Y.CHARACTER_SET).toString();const S=g.length;let I=!0,N=!0,D=!0,Q=0,J=0,ne=0,le=0,he=0,xe=0,Se=0,Ie=0,Ne=0,Le=0,Ge=0;const ft=g.length>3&&g[0]===239&&g[1]===187&&g[2]===191;for(let dt=0;dt<S&&(I||N||D);dt++){const At=g[dt]&255;D&&(Q>0?(At&128)===0?D=!1:Q--:(At&128)!==0&&((At&64)===0?D=!1:(Q++,(At&32)===0?J++:(Q++,(At&16)===0?ne++:(Q++,(At&8)===0?le++:D=!1))))),I&&(At>127&&At<160?I=!1:At>159&&(At<192||At===215||At===247)&&Ge++),N&&(he>0?At<64||At===127||At>252?N=!1:he--:At===128||At===160||At>239?N=!1:At>160&&At<224?(xe++,Ie=0,Se++,Se>Ne&&(Ne=Se)):At>127?(he++,Se=0,Ie++,Ie>Le&&(Le=Ie)):(Se=0,Ie=0))}return D&&Q>0&&(D=!1),N&&he>0&&(N=!1),D&&(ft||J+ne+le>0)?me.UTF8:N&&(me.ASSUME_SHIFT_JIS||Ne>=3||Le>=3)?me.SHIFT_JIS:I&&N?Ne===2&&xe===2||Ge*10>=S?me.SHIFT_JIS:me.ISO88591:I?me.ISO88591:N?me.SHIFT_JIS:D?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(g,...C){let S=-1;function I(D,Q,J,ne,le,he){if(D==="%%")return"%";if(C[++S]===void 0)return;D=ne?parseInt(ne.substr(1)):void 0;let xe=le?parseInt(le.substr(1)):void 0,Se;switch(he){case"s":Se=C[S];break;case"c":Se=C[S][0];break;case"f":Se=parseFloat(C[S]).toFixed(D);break;case"p":Se=parseFloat(C[S]).toPrecision(D);break;case"e":Se=parseFloat(C[S]).toExponential(D);break;case"x":Se=parseInt(C[S]).toString(xe||16);break;case"d":Se=parseFloat(parseInt(C[S],xe||10).toPrecision(D)).toFixed(0);break}Se=typeof Se=="object"?JSON.stringify(Se):(+Se).toString(xe);let Ie=parseInt(J),Ne=J&&J[0]+""=="0"?"0":" ";for(;Se.length<Ie;)Se=Q!==void 0?Se+Ne:Ne+Se;return Se}let N=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return g.replace(N,I)}static getBytes(g,C){return ge.encode(g,C)}static getCharCode(g,C=0){return g.charCodeAt(C)}static getCharAt(g){return String.fromCharCode(g)}}me.SHIFT_JIS=se.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=se.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=se.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Ee{constructor(g=""){this.value=g}enableDecoding(g){return this.encoding=g,this}append(g){return typeof g=="string"?this.value+=g.toString():this.encoding?this.value+=me.castAsNonUtf8Char(g,this.encoding):this.value+=String.fromCharCode(g),this}appendChars(g,C,S){for(let I=C;C<C+S;I++)this.append(g[I]);return this}length(){return this.value.length}charAt(g){return this.value.charAt(g)}deleteCharAt(g){this.value=this.value.substr(0,g)+this.value.substring(g+1)}setCharAt(g,C){this.value=this.value.substr(0,g)+C+this.value.substr(g+1)}substring(g,C){return this.value.substring(g,C)}setLengthToZero(){this.value=""}toString(){return this.value}insert(g,C){this.value=this.value.substr(0,g)+C+this.value.substr(g+C.length)}}class ve{constructor(g,C,S,I){if(this.width=g,this.height=C,this.rowSize=S,this.bits=I,C==null&&(C=g),this.height=C,g<1||C<1)throw new _("Both dimensions must be greater than 0");S==null&&(S=Math.floor((g+31)/32)),this.rowSize=S,I==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(g){const C=g.length,S=g[0].length,I=new ve(S,C);for(let N=0;N<C;N++){const D=g[N];for(let Q=0;Q<S;Q++)D[Q]&&I.set(Q,N)}return I}static parseFromString(g,C,S){if(g===null)throw new _("stringRepresentation cannot be null");const I=new Array(g.length);let N=0,D=0,Q=-1,J=0,ne=0;for(;ne<g.length;)if(g.charAt(ne)===`
`||g.charAt(ne)==="\r"){if(N>D){if(Q===-1)Q=N-D;else if(N-D!==Q)throw new _("row lengths do not match");D=N,J++}ne++}else if(g.substring(ne,ne+C.length)===C)ne+=C.length,I[N]=!0,N++;else if(g.substring(ne,ne+S.length)===S)ne+=S.length,I[N]=!1,N++;else throw new _("illegal character encountered: "+g.substring(ne));if(N>D){if(Q===-1)Q=N-D;else if(N-D!==Q)throw new _("row lengths do not match");J++}const le=new ve(Q,J);for(let he=0;he<N;he++)I[he]&&le.set(Math.floor(he%Q),Math.floor(he/Q));return le}get(g,C){const S=C*this.rowSize+Math.floor(g/32);return(this.bits[S]>>>(g&31)&1)!==0}set(g,C){const S=C*this.rowSize+Math.floor(g/32);this.bits[S]|=1<<(g&31)&4294967295}unset(g,C){const S=C*this.rowSize+Math.floor(g/32);this.bits[S]&=~(1<<(g&31)&4294967295)}flip(g,C){const S=C*this.rowSize+Math.floor(g/32);this.bits[S]^=1<<(g&31)&4294967295}xor(g){if(this.width!==g.getWidth()||this.height!==g.getHeight()||this.rowSize!==g.getRowSize())throw new _("input matrix dimensions do not match");const C=new j(Math.floor(this.width/32)+1),S=this.rowSize,I=this.bits;for(let N=0,D=this.height;N<D;N++){const Q=N*S,J=g.getRow(N,C).getBitArray();for(let ne=0;ne<S;ne++)I[Q+ne]^=J[ne]}}clear(){const g=this.bits,C=g.length;for(let S=0;S<C;S++)g[S]=0}setRegion(g,C,S,I){if(C<0||g<0)throw new _("Left and top must be nonnegative");if(I<1||S<1)throw new _("Height and width must be at least 1");const N=g+S,D=C+I;if(D>this.height||N>this.width)throw new _("The region must fit inside the matrix");const Q=this.rowSize,J=this.bits;for(let ne=C;ne<D;ne++){const le=ne*Q;for(let he=g;he<N;he++)J[le+Math.floor(he/32)]|=1<<(he&31)&4294967295}}getRow(g,C){C==null||C.getSize()<this.width?C=new j(this.width):C.clear();const S=this.rowSize,I=this.bits,N=g*S;for(let D=0;D<S;D++)C.setBulk(D*32,I[N+D]);return C}setRow(g,C){P.arraycopy(C.getBitArray(),0,this.bits,g*this.rowSize,this.rowSize)}rotate180(){const g=this.getWidth(),C=this.getHeight();let S=new j(g),I=new j(g);for(let N=0,D=Math.floor((C+1)/2);N<D;N++)S=this.getRow(N,S),I=this.getRow(C-1-N,I),S.reverse(),I.reverse(),this.setRow(N,I),this.setRow(C-1-N,S)}getEnclosingRectangle(){const g=this.width,C=this.height,S=this.rowSize,I=this.bits;let N=g,D=C,Q=-1,J=-1;for(let ne=0;ne<C;ne++)for(let le=0;le<S;le++){const he=I[ne*S+le];if(he!==0){if(ne<D&&(D=ne),ne>J&&(J=ne),le*32<N){let xe=0;for(;(he<<31-xe&4294967295)===0;)xe++;le*32+xe<N&&(N=le*32+xe)}if(le*32+31>Q){let xe=31;for(;!(he>>>xe);)xe--;le*32+xe>Q&&(Q=le*32+xe)}}}return Q<N||J<D?null:Int32Array.from([N,D,Q-N+1,J-D+1])}getTopLeftOnBit(){const g=this.rowSize,C=this.bits;let S=0;for(;S<C.length&&C[S]===0;)S++;if(S===C.length)return null;const I=S/g;let N=S%g*32;const D=C[S];let Q=0;for(;(D<<31-Q&4294967295)===0;)Q++;return N+=Q,Int32Array.from([N,I])}getBottomRightOnBit(){const g=this.rowSize,C=this.bits;let S=C.length-1;for(;S>=0&&C[S]===0;)S--;if(S<0)return null;const I=Math.floor(S/g);let N=Math.floor(S%g)*32;const D=C[S];let Q=31;for(;!(D>>>Q);)Q--;return N+=Q,Int32Array.from([N,I])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(g){if(!(g instanceof ve))return!1;const C=g;return this.width===C.width&&this.height===C.height&&this.rowSize===C.rowSize&&G.equals(this.bits,C.bits)}hashCode(){let g=this.width;return g=31*g+this.width,g=31*g+this.height,g=31*g+this.rowSize,g=31*g+G.hashCode(this.bits),g}toString(g="X ",C="  ",S=`
`){return this.buildToString(g,C,S)}buildToString(g,C,S){let I=new Ee;for(let N=0,D=this.height;N<D;N++){for(let Q=0,J=this.width;Q<J;Q++)I.append(this.get(Q,N)?g:C);I.append(S)}return I.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}class de extends x{static getNotFoundInstance(){return new de}}de.kind="NotFoundException";class ae extends M{constructor(g){super(g),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(g,C){const S=this.getLuminanceSource(),I=S.getWidth();C==null||C.getSize()<I?C=new j(I):C.clear(),this.initArrays(I);const N=S.getRow(g,this.luminances),D=this.buckets;for(let J=0;J<I;J++)D[(N[J]&255)>>ae.LUMINANCE_SHIFT]++;const Q=ae.estimateBlackPoint(D);if(I<3)for(let J=0;J<I;J++)(N[J]&255)<Q&&C.set(J);else{let J=N[0]&255,ne=N[1]&255;for(let le=1;le<I-1;le++){const he=N[le+1]&255;(ne*4-J-he)/2<Q&&C.set(le),J=ne,ne=he}}return C}getBlackMatrix(){const g=this.getLuminanceSource(),C=g.getWidth(),S=g.getHeight(),I=new ve(C,S);this.initArrays(C);const N=this.buckets;for(let J=1;J<5;J++){const ne=Math.floor(S*J/5),le=g.getRow(ne,this.luminances),he=Math.floor(C*4/5);for(let xe=Math.floor(C/5);xe<he;xe++){const Se=le[xe]&255;N[Se>>ae.LUMINANCE_SHIFT]++}}const D=ae.estimateBlackPoint(N),Q=g.getMatrix();for(let J=0;J<S;J++){const ne=J*C;for(let le=0;le<C;le++)(Q[ne+le]&255)<D&&I.set(le,J)}return I}createBinarizer(g){return new ae(g)}initArrays(g){this.luminances.length<g&&(this.luminances=new Uint8ClampedArray(g));const C=this.buckets;for(let S=0;S<ae.LUMINANCE_BUCKETS;S++)C[S]=0}static estimateBlackPoint(g){const C=g.length;let S=0,I=0,N=0;for(let le=0;le<C;le++)g[le]>N&&(I=le,N=g[le]),g[le]>S&&(S=g[le]);let D=0,Q=0;for(let le=0;le<C;le++){const he=le-I,xe=g[le]*he*he;xe>Q&&(D=le,Q=xe)}if(I>D){const le=I;I=D,D=le}if(D-I<=C/16)throw new de;let J=D-1,ne=-1;for(let le=D-1;le>I;le--){const he=le-I,xe=he*he*(D-le)*(S-g[le]);xe>ne&&(J=le,ne=xe)}return J<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class ue extends ae{constructor(g){super(g),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const g=this.getLuminanceSource(),C=g.getWidth(),S=g.getHeight();if(C>=ue.MINIMUM_DIMENSION&&S>=ue.MINIMUM_DIMENSION){const I=g.getMatrix();let N=C>>ue.BLOCK_SIZE_POWER;(C&ue.BLOCK_SIZE_MASK)!==0&&N++;let D=S>>ue.BLOCK_SIZE_POWER;(S&ue.BLOCK_SIZE_MASK)!==0&&D++;const Q=ue.calculateBlackPoints(I,N,D,C,S),J=new ve(C,S);ue.calculateThresholdForBlock(I,N,D,C,S,Q,J),this.matrix=J}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(g){return new ue(g)}static calculateThresholdForBlock(g,C,S,I,N,D,Q){const J=N-ue.BLOCK_SIZE,ne=I-ue.BLOCK_SIZE;for(let le=0;le<S;le++){let he=le<<ue.BLOCK_SIZE_POWER;he>J&&(he=J);const xe=ue.cap(le,2,S-3);for(let Se=0;Se<C;Se++){let Ie=Se<<ue.BLOCK_SIZE_POWER;Ie>ne&&(Ie=ne);const Ne=ue.cap(Se,2,C-3);let Le=0;for(let ft=-2;ft<=2;ft++){const dt=D[xe+ft];Le+=dt[Ne-2]+dt[Ne-1]+dt[Ne]+dt[Ne+1]+dt[Ne+2]}const Ge=Le/25;ue.thresholdBlock(g,Ie,he,Ge,I,Q)}}}static cap(g,C,S){return g<C?C:g>S?S:g}static thresholdBlock(g,C,S,I,N,D){for(let Q=0,J=S*N+C;Q<ue.BLOCK_SIZE;Q++,J+=N)for(let ne=0;ne<ue.BLOCK_SIZE;ne++)(g[J+ne]&255)<=I&&D.set(C+ne,S+Q)}static calculateBlackPoints(g,C,S,I,N){const D=N-ue.BLOCK_SIZE,Q=I-ue.BLOCK_SIZE,J=new Array(S);for(let ne=0;ne<S;ne++){J[ne]=new Int32Array(C);let le=ne<<ue.BLOCK_SIZE_POWER;le>D&&(le=D);for(let he=0;he<C;he++){let xe=he<<ue.BLOCK_SIZE_POWER;xe>Q&&(xe=Q);let Se=0,Ie=255,Ne=0;for(let Ge=0,ft=le*I+xe;Ge<ue.BLOCK_SIZE;Ge++,ft+=I){for(let dt=0;dt<ue.BLOCK_SIZE;dt++){const At=g[ft+dt]&255;Se+=At,At<Ie&&(Ie=At),At>Ne&&(Ne=At)}if(Ne-Ie>ue.MIN_DYNAMIC_RANGE)for(Ge++,ft+=I;Ge<ue.BLOCK_SIZE;Ge++,ft+=I)for(let dt=0;dt<ue.BLOCK_SIZE;dt++)Se+=g[ft+dt]&255}let Le=Se>>ue.BLOCK_SIZE_POWER*2;if(Ne-Ie<=ue.MIN_DYNAMIC_RANGE&&(Le=Ie/2,ne>0&&he>0)){const Ge=(J[ne-1][he]+2*J[ne][he-1]+J[ne-1][he-1])/4;Ie<Ge&&(Le=Ge)}J[ne][he]=Le}}return J}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class re{constructor(g,C){this.width=g,this.height=C}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(g,C,S,I){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const g=new Uint8ClampedArray(this.width);let C=new Ee;for(let S=0;S<this.height;S++){const I=this.getRow(S,g);for(let N=0;N<this.width;N++){const D=I[N]&255;let Q;D<64?Q="#":D<128?Q="+":D<192?Q=".":Q=" ",C.append(Q)}C.append(`
`)}return C.toString()}}class oe extends re{constructor(g){super(g.getWidth(),g.getHeight()),this.delegate=g}getRow(g,C){const S=this.delegate.getRow(g,C),I=this.getWidth();for(let N=0;N<I;N++)S[N]=255-(S[N]&255);return S}getMatrix(){const g=this.delegate.getMatrix(),C=this.getWidth()*this.getHeight(),S=new Uint8ClampedArray(C);for(let I=0;I<C;I++)S[I]=255-(g[I]&255);return S}isCropSupported(){return this.delegate.isCropSupported()}crop(g,C,S,I){return new oe(this.delegate.crop(g,C,S,I))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class Ce extends re{constructor(g){super(g.width,g.height),this.canvas=g,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(g)}static makeBufferFromCanvasImageData(g){const C=g.getContext("2d").getImageData(0,0,g.width,g.height);return Ce.toGrayscaleBuffer(C.data,g.width,g.height)}static toGrayscaleBuffer(g,C,S){const I=new Uint8ClampedArray(C*S);for(let N=0,D=0,Q=g.length;N<Q;N+=4,D++){let J;if(g[N+3]===0)J=255;else{const le=g[N],he=g[N+1],xe=g[N+2];J=306*le+601*he+117*xe+512>>10}I[D]=J}return I}getRow(g,C){if(g<0||g>=this.getHeight())throw new _("Requested row is outside the image: "+g);const S=this.getWidth(),I=g*S;return C===null?C=this.buffer.slice(I,I+S):(C.length<S&&(C=new Uint8ClampedArray(S)),C.set(this.buffer.slice(I,I+S))),C}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(g,C,S,I){return super.crop(g,C,S,I),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const g=this.canvas.ownerDocument.createElement("canvas");g.width=this.canvas.width,g.height=this.canvas.height,this.tempCanvasElement=g}return this.tempCanvasElement}rotate(g){const C=this.getTempCanvasElement(),S=C.getContext("2d"),I=g*Ce.DEGREE_TO_RADIANS,N=this.canvas.width,D=this.canvas.height,Q=Math.ceil(Math.abs(Math.cos(I))*N+Math.abs(Math.sin(I))*D),J=Math.ceil(Math.abs(Math.sin(I))*N+Math.abs(Math.cos(I))*D);return C.width=Q,C.height=J,S.translate(Q/2,J/2),S.rotate(I),S.drawImage(this.canvas,N/-2,D/-2),this.buffer=Ce.makeBufferFromCanvasImageData(C),this}invert(){return new oe(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class Ae{constructor(g,C,S){this.deviceId=g,this.label=C,this.kind="videoinput",this.groupId=S||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var we=(globalThis||commonjsGlobal||self||window||void 0)&&(globalThis||commonjsGlobal||self||window||void 0).__awaiter||function(fe,g,C,S){function I(N){return N instanceof C?N:new C(function(D){D(N)})}return new(C||(C=Promise))(function(N,D){function Q(le){try{ne(S.next(le))}catch(he){D(he)}}function J(le){try{ne(S.throw(le))}catch(he){D(he)}}function ne(le){le.done?N(le.value):I(le.value).then(Q,J)}ne((S=S.apply(fe,g||[])).next())})};class Re{constructor(g,C=500,S){this.reader=g,this.timeBetweenScansMillis=C,this._hints=S,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(g){this._timeBetweenDecodingAttempts=g<0?0:g}set hints(g){this._hints=g||null}get hints(){return this._hints}listVideoInputDevices(){return we(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const g=yield navigator.mediaDevices.enumerateDevices(),C=[];for(const S of g){const I=S.kind==="video"?"videoinput":S.kind;if(I!=="videoinput")continue;const N=S.deviceId||S.id,D=S.label||`Video device ${C.length+1}`,Q=S.groupId,J={deviceId:N,label:D,kind:I,groupId:Q};C.push(J)}return C})}getVideoInputDevices(){return we(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(C=>new Ae(C.deviceId,C.label))})}findDeviceById(g){return we(this,void 0,void 0,function*(){const C=yield this.listVideoInputDevices();return C?C.find(S=>S.deviceId===g):null})}decodeFromInputVideoDevice(g,C){return we(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(g,C)})}decodeOnceFromVideoDevice(g,C){return we(this,void 0,void 0,function*(){this.reset();let S;g?S={deviceId:{exact:g}}:S={facingMode:"environment"};const I={video:S};return yield this.decodeOnceFromConstraints(I,C)})}decodeOnceFromConstraints(g,C){return we(this,void 0,void 0,function*(){const S=yield navigator.mediaDevices.getUserMedia(g);return yield this.decodeOnceFromStream(S,C)})}decodeOnceFromStream(g,C){return we(this,void 0,void 0,function*(){this.reset();const S=yield this.attachStreamToVideo(g,C);return yield this.decodeOnce(S)})}decodeFromInputVideoDeviceContinuously(g,C,S){return we(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(g,C,S)})}decodeFromVideoDevice(g,C,S){return we(this,void 0,void 0,function*(){let I;g?I={deviceId:{exact:g}}:I={facingMode:"environment"};const N={video:I};return yield this.decodeFromConstraints(N,C,S)})}decodeFromConstraints(g,C,S){return we(this,void 0,void 0,function*(){const I=yield navigator.mediaDevices.getUserMedia(g);return yield this.decodeFromStream(I,C,S)})}decodeFromStream(g,C,S){return we(this,void 0,void 0,function*(){this.reset();const I=yield this.attachStreamToVideo(g,C);return yield this.decodeContinuously(I,S)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(g,C){return we(this,void 0,void 0,function*(){const S=this.prepareVideoElement(C);return this.addVideoSource(S,g),this.videoElement=S,this.stream=g,yield this.playVideoOnLoadAsync(S),S})}playVideoOnLoadAsync(g){return new Promise((C,S)=>this.playVideoOnLoad(g,()=>C()))}playVideoOnLoad(g,C){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(g),g.addEventListener("ended",this.videoEndedListener),g.addEventListener("canplay",this.videoCanPlayListener),g.addEventListener("playing",C),this.tryPlayVideo(g)}isVideoPlaying(g){return g.currentTime>0&&!g.paused&&!g.ended&&g.readyState>2}tryPlayVideo(g){return we(this,void 0,void 0,function*(){if(this.isVideoPlaying(g)){console.warn("Trying to play video that is already playing.");return}try{yield g.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(g,C){const S=document.getElementById(g);if(!S)throw new b(`element with id '${g}' not found`);if(S.nodeName.toLowerCase()!==C.toLowerCase())throw new b(`element with id '${g}' must be an ${C} element`);return S}decodeFromImage(g,C){if(!g&&!C)throw new b("either imageElement with a src set or an url must be provided");return C&&!g?this.decodeFromImageUrl(C):this.decodeFromImageElement(g)}decodeFromVideo(g,C){if(!g&&!C)throw new b("Either an element with a src set or an URL must be provided");return C&&!g?this.decodeFromVideoUrl(C):this.decodeFromVideoElement(g)}decodeFromVideoContinuously(g,C,S){if(g===void 0&&C===void 0)throw new b("Either an element with a src set or an URL must be provided");return C&&!g?this.decodeFromVideoUrlContinuously(C,S):this.decodeFromVideoElementContinuously(g,S)}decodeFromImageElement(g){if(!g)throw new b("An image element must be provided.");this.reset();const C=this.prepareImageElement(g);this.imageElement=C;let S;return this.isImageLoaded(C)?S=this.decodeOnce(C,!1,!0):S=this._decodeOnLoadImage(C),S}decodeFromVideoElement(g){const C=this._decodeFromVideoElementSetup(g);return this._decodeOnLoadVideo(C)}decodeFromVideoElementContinuously(g,C){const S=this._decodeFromVideoElementSetup(g);return this._decodeOnLoadVideoContinuously(S,C)}_decodeFromVideoElementSetup(g){if(!g)throw new b("A video element must be provided.");this.reset();const C=this.prepareVideoElement(g);return this.videoElement=C,C}decodeFromImageUrl(g){if(!g)throw new b("An URL must be provided.");this.reset();const C=this.prepareImageElement();this.imageElement=C;const S=this._decodeOnLoadImage(C);return C.src=g,S}decodeFromVideoUrl(g){if(!g)throw new b("An URL must be provided.");this.reset();const C=this.prepareVideoElement(),S=this.decodeFromVideoElement(C);return C.src=g,S}decodeFromVideoUrlContinuously(g,C){if(!g)throw new b("An URL must be provided.");this.reset();const S=this.prepareVideoElement(),I=this.decodeFromVideoElementContinuously(S,C);return S.src=g,I}_decodeOnLoadImage(g){return new Promise((C,S)=>{this.imageLoadedListener=()=>this.decodeOnce(g,!1,!0).then(C,S),g.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(g){return we(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(g),yield this.decodeOnce(g)})}_decodeOnLoadVideoContinuously(g,C){return we(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(g),this.decodeContinuously(g,C)})}isImageLoaded(g){return!(!g.complete||g.naturalWidth===0)}prepareImageElement(g){let C;return typeof g>"u"&&(C=document.createElement("img"),C.width=200,C.height=200),typeof g=="string"&&(C=this.getMediaElement(g,"img")),g instanceof HTMLImageElement&&(C=g),C}prepareVideoElement(g){let C;return!g&&typeof document<"u"&&(C=document.createElement("video"),C.width=200,C.height=200),typeof g=="string"&&(C=this.getMediaElement(g,"video")),g instanceof HTMLVideoElement&&(C=g),C.setAttribute("autoplay","true"),C.setAttribute("muted","true"),C.setAttribute("playsinline","true"),C}decodeOnce(g,C=!0,S=!0){this._stopAsyncDecode=!1;const I=(N,D)=>{if(this._stopAsyncDecode){D(new de("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const Q=this.decode(g);N(Q)}catch(Q){const J=C&&Q instanceof de,le=(Q instanceof k||Q instanceof X)&&S;if(J||le)return setTimeout(I,this._timeBetweenDecodingAttempts,N,D);D(Q)}};return new Promise((N,D)=>I(N,D))}decodeContinuously(g,C){this._stopContinuousDecode=!1;const S=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const I=this.decode(g);C(I,null),setTimeout(S,this.timeBetweenScansMillis)}catch(I){C(null,I);const N=I instanceof k||I instanceof X,D=I instanceof de;(N||D)&&setTimeout(S,this._timeBetweenDecodingAttempts)}};S()}decode(g){const C=this.createBinaryBitmap(g);return this.decodeBitmap(C)}_isHTMLVideoElement(g){return g.videoWidth!==0}drawFrameOnCanvas(g,C,S){C||(C={sx:0,sy:0,sWidth:g.videoWidth,sHeight:g.videoHeight,dx:0,dy:0,dWidth:g.videoWidth,dHeight:g.videoHeight}),S||(S=this.captureCanvasContext),S.drawImage(g,C.sx,C.sy,C.sWidth,C.sHeight,C.dx,C.dy,C.dWidth,C.dHeight)}drawImageOnCanvas(g,C,S=this.captureCanvasContext){C||(C={sx:0,sy:0,sWidth:g.naturalWidth,sHeight:g.naturalHeight,dx:0,dy:0,dWidth:g.naturalWidth,dHeight:g.naturalHeight}),S||(S=this.captureCanvasContext),S.drawImage(g,C.sx,C.sy,C.sWidth,C.sHeight,C.dx,C.dy,C.dWidth,C.dHeight)}createBinaryBitmap(g){this.getCaptureCanvasContext(g),this._isHTMLVideoElement(g)?this.drawFrameOnCanvas(g):this.drawImageOnCanvas(g);const C=this.getCaptureCanvas(g),S=new Ce(C),I=new ue(S);return new R(I)}getCaptureCanvasContext(g){if(!this.captureCanvasContext){const S=this.getCaptureCanvas(g).getContext("2d");this.captureCanvasContext=S}return this.captureCanvasContext}getCaptureCanvas(g){if(!this.captureCanvas){const C=this.createCaptureCanvas(g);this.captureCanvas=C}return this.captureCanvas}decodeBitmap(g){return this.reader.decode(g,this._hints)}createCaptureCanvas(g){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const C=document.createElement("canvas");let S,I;return typeof g<"u"&&(g instanceof HTMLVideoElement?(S=g.videoWidth,I=g.videoHeight):g instanceof HTMLImageElement&&(S=g.naturalWidth||g.width,I=g.naturalHeight||g.height)),C.style.width=S+"px",C.style.height=I+"px",C.width=S,C.height=I,C}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(g=>g.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(g,C){try{g.srcObject=C}catch{g.src=URL.createObjectURL(C)}}cleanVideoSource(g){try{g.srcObject=null}catch{g.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(g,C,S=C==null?0:8*C.length,I,N,D=P.currentTimeMillis()){this.text=g,this.rawBytes=C,this.numBits=S,this.resultPoints=I,this.format=N,this.timestamp=D,this.text=g,this.rawBytes=C,S==null?this.numBits=C==null?0:8*C.length:this.numBits=S,this.resultPoints=I,this.format=N,this.resultMetadata=null,D==null?this.timestamp=P.currentTimeMillis():this.timestamp=D}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(g,C){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(g,C)}putAllMetadata(g){g!==null&&(this.resultMetadata===null?this.resultMetadata=g:this.resultMetadata=new Map(g))}addResultPoints(g){const C=this.resultPoints;if(C===null)this.resultPoints=g;else if(g!==null&&g.length>0){const S=new Array(C.length+g.length);P.arraycopy(C,0,S,0,C.length),P.arraycopy(g,0,S,C.length,g.length),this.resultPoints=S}}getTimestamp(){return this.timestamp}toString(){return this.text}}var We;(function(fe){fe[fe.AZTEC=0]="AZTEC",fe[fe.CODABAR=1]="CODABAR",fe[fe.CODE_39=2]="CODE_39",fe[fe.CODE_93=3]="CODE_93",fe[fe.CODE_128=4]="CODE_128",fe[fe.DATA_MATRIX=5]="DATA_MATRIX",fe[fe.EAN_8=6]="EAN_8",fe[fe.EAN_13=7]="EAN_13",fe[fe.ITF=8]="ITF",fe[fe.MAXICODE=9]="MAXICODE",fe[fe.PDF_417=10]="PDF_417",fe[fe.QR_CODE=11]="QR_CODE",fe[fe.RSS_14=12]="RSS_14",fe[fe.RSS_EXPANDED=13]="RSS_EXPANDED",fe[fe.UPC_A=14]="UPC_A",fe[fe.UPC_E=15]="UPC_E",fe[fe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var De=We,ct;(function(fe){fe[fe.OTHER=0]="OTHER",fe[fe.ORIENTATION=1]="ORIENTATION",fe[fe.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",fe[fe.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",fe[fe.ISSUE_NUMBER=4]="ISSUE_NUMBER",fe[fe.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",fe[fe.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",fe[fe.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",fe[fe.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",fe[fe.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",fe[fe.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ct||(ct={}));var at=ct;class Ct{constructor(g,C,S,I,N=-1,D=-1){this.rawBytes=g,this.text=C,this.byteSegments=S,this.ecLevel=I,this.structuredAppendSequenceNumber=N,this.structuredAppendParity=D,this.numBits=g==null?0:8*g.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(g){this.numBits=g}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(g){this.errorsCorrected=g}getErasures(){return this.erasures}setErasures(g){this.erasures=g}getOther(){return this.other}setOther(g){this.other=g}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class It{exp(g){return this.expTable[g]}log(g){if(g===0)throw new _;return this.logTable[g]}static addOrSubtract(g,C){return g^C}}class mt{constructor(g,C){if(C.length===0)throw new _;this.field=g;const S=C.length;if(S>1&&C[0]===0){let I=1;for(;I<S&&C[I]===0;)I++;I===S?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(S-I),P.arraycopy(C,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=C}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(g){return this.coefficients[this.coefficients.length-1-g]}evaluateAt(g){if(g===0)return this.getCoefficient(0);const C=this.coefficients;let S;if(g===1){S=0;for(let D=0,Q=C.length;D!==Q;D++){const J=C[D];S=It.addOrSubtract(S,J)}return S}S=C[0];const I=C.length,N=this.field;for(let D=1;D<I;D++)S=It.addOrSubtract(N.multiply(g,S),C[D]);return S}addOrSubtract(g){if(!this.field.equals(g.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return g;if(g.isZero())return this;let C=this.coefficients,S=g.coefficients;if(C.length>S.length){const D=C;C=S,S=D}let I=new Int32Array(S.length);const N=S.length-C.length;P.arraycopy(S,0,I,0,N);for(let D=N;D<S.length;D++)I[D]=It.addOrSubtract(C[D-N],S[D]);return new mt(this.field,I)}multiply(g){if(!this.field.equals(g.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||g.isZero())return this.field.getZero();const C=this.coefficients,S=C.length,I=g.coefficients,N=I.length,D=new Int32Array(S+N-1),Q=this.field;for(let J=0;J<S;J++){const ne=C[J];for(let le=0;le<N;le++)D[J+le]=It.addOrSubtract(D[J+le],Q.multiply(ne,I[le]))}return new mt(Q,D)}multiplyScalar(g){if(g===0)return this.field.getZero();if(g===1)return this;const C=this.coefficients.length,S=this.field,I=new Int32Array(C),N=this.coefficients;for(let D=0;D<C;D++)I[D]=S.multiply(N[D],g);return new mt(S,I)}multiplyByMonomial(g,C){if(g<0)throw new _;if(C===0)return this.field.getZero();const S=this.coefficients,I=S.length,N=new Int32Array(I+g),D=this.field;for(let Q=0;Q<I;Q++)N[Q]=D.multiply(S[Q],C);return new mt(D,N)}divide(g){if(!this.field.equals(g.field))throw new _("GenericGFPolys do not have same GenericGF field");if(g.isZero())throw new _("Divide by 0");const C=this.field;let S=C.getZero(),I=this;const N=g.getCoefficient(g.getDegree()),D=C.inverse(N);for(;I.getDegree()>=g.getDegree()&&!I.isZero();){const Q=I.getDegree()-g.getDegree(),J=C.multiply(I.getCoefficient(I.getDegree()),D),ne=g.multiplyByMonomial(Q,J),le=C.buildMonomial(Q,J);S=S.addOrSubtract(le),I=I.addOrSubtract(ne)}return[S,I]}toString(){let g="";for(let C=this.getDegree();C>=0;C--){let S=this.getCoefficient(C);if(S!==0){if(S<0?(g+=" - ",S=-S):g.length>0&&(g+=" + "),C===0||S!==1){const I=this.field.log(S);I===0?g+="1":I===1?g+="a":(g+="a^",g+=I)}C!==0&&(C===1?g+="x":(g+="x^",g+=C))}}return g}}class Ut extends x{}Ut.kind="ArithmeticException";class gt extends It{constructor(g,C,S){super(),this.primitive=g,this.size=C,this.generatorBase=S;const I=new Int32Array(C);let N=1;for(let Q=0;Q<C;Q++)I[Q]=N,N*=2,N>=C&&(N^=g,N&=C-1);this.expTable=I;const D=new Int32Array(C);for(let Q=0;Q<C-1;Q++)D[I[Q]]=Q;this.logTable=D,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(g,C){if(g<0)throw new _;if(C===0)return this.zero;const S=new Int32Array(g+1);return S[0]=C,new mt(this,S)}inverse(g){if(g===0)throw new Ut;return this.expTable[this.size-this.logTable[g]-1]}multiply(g,C){return g===0||C===0?0:this.expTable[(this.logTable[g]+this.logTable[C])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(g){return g===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class xt extends x{}xt.kind="ReedSolomonException";class an extends x{}an.kind="IllegalStateException";class Un{constructor(g){this.field=g}decode(g,C){const S=this.field,I=new mt(S,g),N=new Int32Array(C);let D=!0;for(let Se=0;Se<C;Se++){const Ie=I.evaluateAt(S.exp(Se+S.getGeneratorBase()));N[N.length-1-Se]=Ie,Ie!==0&&(D=!1)}if(D)return;const Q=new mt(S,N),J=this.runEuclideanAlgorithm(S.buildMonomial(C,1),Q,C),ne=J[0],le=J[1],he=this.findErrorLocations(ne),xe=this.findErrorMagnitudes(le,he);for(let Se=0;Se<he.length;Se++){const Ie=g.length-1-S.log(he[Se]);if(Ie<0)throw new xt("Bad error location");g[Ie]=gt.addOrSubtract(g[Ie],xe[Se])}}runEuclideanAlgorithm(g,C,S){if(g.getDegree()<C.getDegree()){const Se=g;g=C,C=Se}const I=this.field;let N=g,D=C,Q=I.getZero(),J=I.getOne();for(;D.getDegree()>=(S/2|0);){let Se=N,Ie=Q;if(N=D,Q=J,N.isZero())throw new xt("r_{i-1} was zero");D=Se;let Ne=I.getZero();const Le=N.getCoefficient(N.getDegree()),Ge=I.inverse(Le);for(;D.getDegree()>=N.getDegree()&&!D.isZero();){const ft=D.getDegree()-N.getDegree(),dt=I.multiply(D.getCoefficient(D.getDegree()),Ge);Ne=Ne.addOrSubtract(I.buildMonomial(ft,dt)),D=D.addOrSubtract(N.multiplyByMonomial(ft,dt))}if(J=Ne.multiply(Q).addOrSubtract(Ie),D.getDegree()>=N.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const ne=J.getCoefficient(0);if(ne===0)throw new xt("sigmaTilde(0) was zero");const le=I.inverse(ne),he=J.multiplyScalar(le),xe=D.multiplyScalar(le);return[he,xe]}findErrorLocations(g){const C=g.getDegree();if(C===1)return Int32Array.from([g.getCoefficient(1)]);const S=new Int32Array(C);let I=0;const N=this.field;for(let D=1;D<N.getSize()&&I<C;D++)g.evaluateAt(D)===0&&(S[I]=N.inverse(D),I++);if(I!==C)throw new xt("Error locator degree does not match number of roots");return S}findErrorMagnitudes(g,C){const S=C.length,I=new Int32Array(S),N=this.field;for(let D=0;D<S;D++){const Q=N.inverse(C[D]);let J=1;for(let ne=0;ne<S;ne++)if(D!==ne){const le=N.multiply(C[ne],Q),he=(le&1)===0?le|1:le&-2;J=N.multiply(J,he)}I[D]=N.multiply(g.evaluateAt(Q),N.inverse(J)),N.getGeneratorBase()!==0&&(I[D]=N.multiply(I[D],Q))}return I}}var Zt;(function(fe){fe[fe.UPPER=0]="UPPER",fe[fe.LOWER=1]="LOWER",fe[fe.MIXED=2]="MIXED",fe[fe.DIGIT=3]="DIGIT",fe[fe.PUNCT=4]="PUNCT",fe[fe.BINARY=5]="BINARY"})(Zt||(Zt={}));class $t{decode(g){this.ddata=g;let C=g.getBits(),S=this.extractBits(C),I=this.correctBits(S),N=$t.convertBoolArrayToByteArray(I),D=$t.getEncodedData(I),Q=new Ct(N,D,null,null);return Q.setNumBits(I.length),Q}static highLevelDecode(g){return this.getEncodedData(g)}static getEncodedData(g){let C=g.length,S=Zt.UPPER,I=Zt.UPPER,N="",D=0;for(;D<C;)if(I===Zt.BINARY){if(C-D<5)break;let Q=$t.readCode(g,D,5);if(D+=5,Q===0){if(C-D<11)break;Q=$t.readCode(g,D,11)+31,D+=11}for(let J=0;J<Q;J++){if(C-D<8){D=C;break}const ne=$t.readCode(g,D,8);N+=me.castAsNonUtf8Char(ne),D+=8}I=S}else{let Q=I===Zt.DIGIT?4:5;if(C-D<Q)break;let J=$t.readCode(g,D,Q);D+=Q;let ne=$t.getCharacter(I,J);ne.startsWith("CTRL_")?(S=I,I=$t.getTable(ne.charAt(5)),ne.charAt(6)==="L"&&(S=I)):(N+=ne,I=S)}return N}static getTable(g){switch(g){case"L":return Zt.LOWER;case"P":return Zt.PUNCT;case"M":return Zt.MIXED;case"D":return Zt.DIGIT;case"B":return Zt.BINARY;case"U":default:return Zt.UPPER}}static getCharacter(g,C){switch(g){case Zt.UPPER:return $t.UPPER_TABLE[C];case Zt.LOWER:return $t.LOWER_TABLE[C];case Zt.MIXED:return $t.MIXED_TABLE[C];case Zt.PUNCT:return $t.PUNCT_TABLE[C];case Zt.DIGIT:return $t.DIGIT_TABLE[C];default:throw new an("Bad table")}}correctBits(g){let C,S;this.ddata.getNbLayers()<=2?(S=6,C=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(S=8,C=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(S=10,C=gt.AZTEC_DATA_10):(S=12,C=gt.AZTEC_DATA_12);let I=this.ddata.getNbDatablocks(),N=g.length/S;if(N<I)throw new X;let D=g.length%S,Q=new Int32Array(N);for(let xe=0;xe<N;xe++,D+=S)Q[xe]=$t.readCode(g,D,S);try{new Un(C).decode(Q,N-I)}catch(xe){throw new X(xe)}let J=(1<<S)-1,ne=0;for(let xe=0;xe<I;xe++){let Se=Q[xe];if(Se===0||Se===J)throw new X;(Se===1||Se===J-1)&&ne++}let le=new Array(I*S-ne),he=0;for(let xe=0;xe<I;xe++){let Se=Q[xe];if(Se===1||Se===J-1)le.fill(Se>1,he,he+S-1),he+=S-1;else for(let Ie=S-1;Ie>=0;--Ie)le[he++]=(Se&1<<Ie)!==0}return le}extractBits(g){let C=this.ddata.isCompact(),S=this.ddata.getNbLayers(),I=(C?11:14)+S*4,N=new Int32Array(I),D=new Array(this.totalBitsInLayer(S,C));if(C)for(let Q=0;Q<N.length;Q++)N[Q]=Q;else{let Q=I+1+2*H.truncDivision(H.truncDivision(I,2)-1,15),J=I/2,ne=H.truncDivision(Q,2);for(let le=0;le<J;le++){let he=le+H.truncDivision(le,15);N[J-le-1]=ne-he-1,N[J+le]=ne+he+1}}for(let Q=0,J=0;Q<S;Q++){let ne=(S-Q)*4+(C?9:12),le=Q*2,he=I-1-le;for(let xe=0;xe<ne;xe++){let Se=xe*2;for(let Ie=0;Ie<2;Ie++)D[J+Se+Ie]=g.get(N[le+Ie],N[le+xe]),D[J+2*ne+Se+Ie]=g.get(N[le+xe],N[he-Ie]),D[J+4*ne+Se+Ie]=g.get(N[he-Ie],N[he-xe]),D[J+6*ne+Se+Ie]=g.get(N[he-xe],N[le+Ie])}J+=ne*8}return D}static readCode(g,C,S){let I=0;for(let N=C;N<C+S;N++)I<<=1,g[N]&&(I|=1);return I}static readByte(g,C){let S=g.length-C;return S>=8?$t.readCode(g,C,8):$t.readCode(g,C,S)<<8-S}static convertBoolArrayToByteArray(g){let C=new Uint8Array((g.length+7)/8);for(let S=0;S<C.length;S++)C[S]=$t.readByte(g,8*S);return C}totalBitsInLayer(g,C){return((C?88:112)+16*g)*g}}$t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],$t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],$t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],$t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],$t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ot{constructor(){}static round(g){return g===NaN?0:g<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:g>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:g+(g<0?-.5:.5)|0}static distance(g,C,S,I){const N=g-S,D=C-I;return Math.sqrt(N*N+D*D)}static sum(g){let C=0;for(let S=0,I=g.length;S!==I;S++){const N=g[S];C+=N}return C}}class In{static floatToIntBits(g){return g}}In.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pt{constructor(g,C){this.x=g,this.y=C}getX(){return this.x}getY(){return this.y}equals(g){if(g instanceof pt){const C=g;return this.x===C.x&&this.y===C.y}return!1}hashCode(){return 31*In.floatToIntBits(this.x)+In.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(g){const C=this.distance(g[0],g[1]),S=this.distance(g[1],g[2]),I=this.distance(g[0],g[2]);let N,D,Q;if(S>=C&&S>=I?(D=g[0],N=g[1],Q=g[2]):I>=S&&I>=C?(D=g[1],N=g[0],Q=g[2]):(D=g[2],N=g[0],Q=g[1]),this.crossProductZ(N,D,Q)<0){const J=N;N=Q,Q=J}g[0]=N,g[1]=D,g[2]=Q}static distance(g,C){return Ot.distance(g.x,g.y,C.x,C.y)}static crossProductZ(g,C,S){const I=C.x,N=C.y;return(S.x-I)*(g.y-N)-(S.y-N)*(g.x-I)}}class Kn{constructor(g,C){this.bits=g,this.points=C}getBits(){return this.bits}getPoints(){return this.points}}class On extends Kn{constructor(g,C,S,I,N){super(g,C),this.compact=S,this.nbDatablocks=I,this.nbLayers=N}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class st{constructor(g,C,S,I){this.image=g,this.height=g.getHeight(),this.width=g.getWidth(),C==null&&(C=st.INIT_SIZE),S==null&&(S=g.getWidth()/2|0),I==null&&(I=g.getHeight()/2|0);const N=C/2|0;if(this.leftInit=S-N,this.rightInit=S+N,this.upInit=I-N,this.downInit=I+N,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new de}detect(){let g=this.leftInit,C=this.rightInit,S=this.upInit,I=this.downInit,N=!1,D=!0,Q=!1,J=!1,ne=!1,le=!1,he=!1;const xe=this.width,Se=this.height;for(;D;){D=!1;let Ie=!0;for(;(Ie||!J)&&C<xe;)Ie=this.containsBlackPoint(S,I,C,!1),Ie?(C++,D=!0,J=!0):J||C++;if(C>=xe){N=!0;break}let Ne=!0;for(;(Ne||!ne)&&I<Se;)Ne=this.containsBlackPoint(g,C,I,!0),Ne?(I++,D=!0,ne=!0):ne||I++;if(I>=Se){N=!0;break}let Le=!0;for(;(Le||!le)&&g>=0;)Le=this.containsBlackPoint(S,I,g,!1),Le?(g--,D=!0,le=!0):le||g--;if(g<0){N=!0;break}let Ge=!0;for(;(Ge||!he)&&S>=0;)Ge=this.containsBlackPoint(g,C,S,!0),Ge?(S--,D=!0,he=!0):he||S--;if(S<0){N=!0;break}D&&(Q=!0)}if(!N&&Q){const Ie=C-g;let Ne=null;for(let dt=1;Ne===null&&dt<Ie;dt++)Ne=this.getBlackPointOnSegment(g,I-dt,g+dt,I);if(Ne==null)throw new de;let Le=null;for(let dt=1;Le===null&&dt<Ie;dt++)Le=this.getBlackPointOnSegment(g,S+dt,g+dt,S);if(Le==null)throw new de;let Ge=null;for(let dt=1;Ge===null&&dt<Ie;dt++)Ge=this.getBlackPointOnSegment(C,S+dt,C-dt,S);if(Ge==null)throw new de;let ft=null;for(let dt=1;ft===null&&dt<Ie;dt++)ft=this.getBlackPointOnSegment(C,I-dt,C-dt,I);if(ft==null)throw new de;return this.centerEdges(ft,Ne,Ge,Le)}else throw new de}getBlackPointOnSegment(g,C,S,I){const N=Ot.round(Ot.distance(g,C,S,I)),D=(S-g)/N,Q=(I-C)/N,J=this.image;for(let ne=0;ne<N;ne++){const le=Ot.round(g+ne*D),he=Ot.round(C+ne*Q);if(J.get(le,he))return new pt(le,he)}return null}centerEdges(g,C,S,I){const N=g.getX(),D=g.getY(),Q=C.getX(),J=C.getY(),ne=S.getX(),le=S.getY(),he=I.getX(),xe=I.getY(),Se=st.CORR;return N<this.width/2?[new pt(he-Se,xe+Se),new pt(Q+Se,J+Se),new pt(ne-Se,le-Se),new pt(N+Se,D-Se)]:[new pt(he+Se,xe+Se),new pt(Q+Se,J-Se),new pt(ne-Se,le+Se),new pt(N-Se,D-Se)]}containsBlackPoint(g,C,S,I){const N=this.image;if(I){for(let D=g;D<=C;D++)if(N.get(D,S))return!0}else for(let D=g;D<=C;D++)if(N.get(S,D))return!0;return!1}}st.INIT_SIZE=10,st.CORR=1;class Pe{static checkAndNudgePoints(g,C){const S=g.getWidth(),I=g.getHeight();let N=!0;for(let D=0;D<C.length&&N;D+=2){const Q=Math.floor(C[D]),J=Math.floor(C[D+1]);if(Q<-1||Q>S||J<-1||J>I)throw new de;N=!1,Q===-1?(C[D]=0,N=!0):Q===S&&(C[D]=S-1,N=!0),J===-1?(C[D+1]=0,N=!0):J===I&&(C[D+1]=I-1,N=!0)}N=!0;for(let D=C.length-2;D>=0&&N;D-=2){const Q=Math.floor(C[D]),J=Math.floor(C[D+1]);if(Q<-1||Q>S||J<-1||J>I)throw new de;N=!1,Q===-1?(C[D]=0,N=!0):Q===S&&(C[D]=S-1,N=!0),J===-1?(C[D+1]=0,N=!0):J===I&&(C[D+1]=I-1,N=!0)}}}class Fe{constructor(g,C,S,I,N,D,Q,J,ne){this.a11=g,this.a21=C,this.a31=S,this.a12=I,this.a22=N,this.a32=D,this.a13=Q,this.a23=J,this.a33=ne}static quadrilateralToQuadrilateral(g,C,S,I,N,D,Q,J,ne,le,he,xe,Se,Ie,Ne,Le){const Ge=Fe.quadrilateralToSquare(g,C,S,I,N,D,Q,J);return Fe.squareToQuadrilateral(ne,le,he,xe,Se,Ie,Ne,Le).times(Ge)}transformPoints(g){const C=g.length,S=this.a11,I=this.a12,N=this.a13,D=this.a21,Q=this.a22,J=this.a23,ne=this.a31,le=this.a32,he=this.a33;for(let xe=0;xe<C;xe+=2){const Se=g[xe],Ie=g[xe+1],Ne=N*Se+J*Ie+he;g[xe]=(S*Se+D*Ie+ne)/Ne,g[xe+1]=(I*Se+Q*Ie+le)/Ne}}transformPointsWithValues(g,C){const S=this.a11,I=this.a12,N=this.a13,D=this.a21,Q=this.a22,J=this.a23,ne=this.a31,le=this.a32,he=this.a33,xe=g.length;for(let Se=0;Se<xe;Se++){const Ie=g[Se],Ne=C[Se],Le=N*Ie+J*Ne+he;g[Se]=(S*Ie+D*Ne+ne)/Le,C[Se]=(I*Ie+Q*Ne+le)/Le}}static squareToQuadrilateral(g,C,S,I,N,D,Q,J){const ne=g-S+N-Q,le=C-I+D-J;if(ne===0&&le===0)return new Fe(S-g,N-S,g,I-C,D-I,C,0,0,1);{const he=S-N,xe=Q-N,Se=I-D,Ie=J-D,Ne=he*Ie-xe*Se,Le=(ne*Ie-xe*le)/Ne,Ge=(he*le-ne*Se)/Ne;return new Fe(S-g+Le*S,Q-g+Ge*Q,g,I-C+Le*I,J-C+Ge*J,C,Le,Ge,1)}}static quadrilateralToSquare(g,C,S,I,N,D,Q,J){return Fe.squareToQuadrilateral(g,C,S,I,N,D,Q,J).buildAdjoint()}buildAdjoint(){return new Fe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(g){return new Fe(this.a11*g.a11+this.a21*g.a12+this.a31*g.a13,this.a11*g.a21+this.a21*g.a22+this.a31*g.a23,this.a11*g.a31+this.a21*g.a32+this.a31*g.a33,this.a12*g.a11+this.a22*g.a12+this.a32*g.a13,this.a12*g.a21+this.a22*g.a22+this.a32*g.a23,this.a12*g.a31+this.a22*g.a32+this.a32*g.a33,this.a13*g.a11+this.a23*g.a12+this.a33*g.a13,this.a13*g.a21+this.a23*g.a22+this.a33*g.a23,this.a13*g.a31+this.a23*g.a32+this.a33*g.a33)}}class Ye extends Pe{sampleGrid(g,C,S,I,N,D,Q,J,ne,le,he,xe,Se,Ie,Ne,Le,Ge,ft,dt){const At=Fe.quadrilateralToQuadrilateral(I,N,D,Q,J,ne,le,he,xe,Se,Ie,Ne,Le,Ge,ft,dt);return this.sampleGridWithTransform(g,C,S,At)}sampleGridWithTransform(g,C,S,I){if(C<=0||S<=0)throw new de;const N=new ve(C,S),D=new Float32Array(2*C);for(let Q=0;Q<S;Q++){const J=D.length,ne=Q+.5;for(let le=0;le<J;le+=2)D[le]=le/2+.5,D[le+1]=ne;I.transformPoints(D),Pe.checkAndNudgePoints(g,D);try{for(let le=0;le<J;le+=2)g.get(Math.floor(D[le]),Math.floor(D[le+1]))&&N.set(le/2,Q)}catch{throw new de}}return N}}class Je{static setGridSampler(g){Je.gridSampler=g}static getInstance(){return Je.gridSampler}}Je.gridSampler=new Ye;class bt{constructor(g,C){this.x=g,this.y=C}toResultPoint(){return new pt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(g){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=g}detect(){return this.detectMirror(!1)}detectMirror(g){let C=this.getMatrixCenter(),S=this.getBullsEyeCorners(C);if(g){let D=S[0];S[0]=S[2],S[2]=D}this.extractParameters(S);let I=this.sampleGrid(this.image,S[this.shift%4],S[(this.shift+1)%4],S[(this.shift+2)%4],S[(this.shift+3)%4]),N=this.getMatrixCornerPoints(S);return new On(I,N,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(g){if(!this.isValidPoint(g[0])||!this.isValidPoint(g[1])||!this.isValidPoint(g[2])||!this.isValidPoint(g[3]))throw new de;let C=2*this.nbCenterLayers,S=new Int32Array([this.sampleLine(g[0],g[1],C),this.sampleLine(g[1],g[2],C),this.sampleLine(g[2],g[3],C),this.sampleLine(g[3],g[0],C)]);this.shift=this.getRotation(S,C);let I=0;for(let D=0;D<4;D++){let Q=S[(this.shift+D)%4];this.compact?(I<<=7,I+=Q>>1&127):(I<<=10,I+=(Q>>2&992)+(Q>>1&31))}let N=this.getCorrectedParameterData(I,this.compact);this.compact?(this.nbLayers=(N>>6)+1,this.nbDataBlocks=(N&63)+1):(this.nbLayers=(N>>11)+1,this.nbDataBlocks=(N&2047)+1)}getRotation(g,C){let S=0;g.forEach((I,N,D)=>{let Q=(I>>C-2<<1)+(I&1);S=(S<<3)+Q}),S=((S&1)<<11)+(S>>1);for(let I=0;I<4;I++)if(H.bitCount(S^this.EXPECTED_CORNER_BITS[I])<=2)return I;throw new de}getCorrectedParameterData(g,C){let S,I;C?(S=7,I=2):(S=10,I=4);let N=S-I,D=new Int32Array(S);for(let J=S-1;J>=0;--J)D[J]=g&15,g>>=4;try{new Un(gt.AZTEC_PARAM).decode(D,N)}catch{throw new de}let Q=0;for(let J=0;J<I;J++)Q=(Q<<4)+D[J];return Q}getBullsEyeCorners(g){let C=g,S=g,I=g,N=g,D=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let he=this.getFirstDifferent(C,D,1,-1),xe=this.getFirstDifferent(S,D,1,1),Se=this.getFirstDifferent(I,D,-1,1),Ie=this.getFirstDifferent(N,D,-1,-1);if(this.nbCenterLayers>2){let Ne=this.distancePoint(Ie,he)*this.nbCenterLayers/(this.distancePoint(N,C)*(this.nbCenterLayers+2));if(Ne<.75||Ne>1.25||!this.isWhiteOrBlackRectangle(he,xe,Se,Ie))break}C=he,S=xe,I=Se,N=Ie,D=!D}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new de;this.compact=this.nbCenterLayers===5;let Q=new pt(C.getX()+.5,C.getY()-.5),J=new pt(S.getX()+.5,S.getY()+.5),ne=new pt(I.getX()-.5,I.getY()+.5),le=new pt(N.getX()-.5,N.getY()-.5);return this.expandSquare([Q,J,ne,le],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let g,C,S,I;try{let Q=new st(this.image).detect();g=Q[0],C=Q[1],S=Q[2],I=Q[3]}catch{let J=this.image.getWidth()/2,ne=this.image.getHeight()/2;g=this.getFirstDifferent(new bt(J+7,ne-7),!1,1,-1).toResultPoint(),C=this.getFirstDifferent(new bt(J+7,ne+7),!1,1,1).toResultPoint(),S=this.getFirstDifferent(new bt(J-7,ne+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new bt(J-7,ne-7),!1,-1,-1).toResultPoint()}let N=Ot.round((g.getX()+I.getX()+C.getX()+S.getX())/4),D=Ot.round((g.getY()+I.getY()+C.getY()+S.getY())/4);try{let Q=new st(this.image,15,N,D).detect();g=Q[0],C=Q[1],S=Q[2],I=Q[3]}catch{g=this.getFirstDifferent(new bt(N+7,D-7),!1,1,-1).toResultPoint(),C=this.getFirstDifferent(new bt(N+7,D+7),!1,1,1).toResultPoint(),S=this.getFirstDifferent(new bt(N-7,D+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new bt(N-7,D-7),!1,-1,-1).toResultPoint()}return N=Ot.round((g.getX()+I.getX()+C.getX()+S.getX())/4),D=Ot.round((g.getY()+I.getY()+C.getY()+S.getY())/4),new bt(N,D)}getMatrixCornerPoints(g){return this.expandSquare(g,2*this.nbCenterLayers,this.getDimension())}sampleGrid(g,C,S,I,N){let D=Je.getInstance(),Q=this.getDimension(),J=Q/2-this.nbCenterLayers,ne=Q/2+this.nbCenterLayers;return D.sampleGrid(g,Q,Q,J,J,ne,J,ne,ne,J,ne,C.getX(),C.getY(),S.getX(),S.getY(),I.getX(),I.getY(),N.getX(),N.getY())}sampleLine(g,C,S){let I=0,N=this.distanceResultPoint(g,C),D=N/S,Q=g.getX(),J=g.getY(),ne=D*(C.getX()-g.getX())/N,le=D*(C.getY()-g.getY())/N;for(let he=0;he<S;he++)this.image.get(Ot.round(Q+he*ne),Ot.round(J+he*le))&&(I|=1<<S-he-1);return I}isWhiteOrBlackRectangle(g,C,S,I){let N=3;g=new bt(g.getX()-N,g.getY()+N),C=new bt(C.getX()-N,C.getY()-N),S=new bt(S.getX()+N,S.getY()-N),I=new bt(I.getX()+N,I.getY()+N);let D=this.getColor(I,g);if(D===0)return!1;let Q=this.getColor(g,C);return Q!==D||(Q=this.getColor(C,S),Q!==D)?!1:(Q=this.getColor(S,I),Q===D)}getColor(g,C){let S=this.distancePoint(g,C),I=(C.getX()-g.getX())/S,N=(C.getY()-g.getY())/S,D=0,Q=g.getX(),J=g.getY(),ne=this.image.get(g.getX(),g.getY()),le=Math.ceil(S);for(let xe=0;xe<le;xe++)Q+=I,J+=N,this.image.get(Ot.round(Q),Ot.round(J))!==ne&&D++;let he=D/S;return he>.1&&he<.9?0:he<=.1===ne?1:-1}getFirstDifferent(g,C,S,I){let N=g.getX()+S,D=g.getY()+I;for(;this.isValid(N,D)&&this.image.get(N,D)===C;)N+=S,D+=I;for(N-=S,D-=I;this.isValid(N,D)&&this.image.get(N,D)===C;)N+=S;for(N-=S;this.isValid(N,D)&&this.image.get(N,D)===C;)D+=I;return D-=I,new bt(N,D)}expandSquare(g,C,S){let I=S/(2*C),N=g[0].getX()-g[2].getX(),D=g[0].getY()-g[2].getY(),Q=(g[0].getX()+g[2].getX())/2,J=(g[0].getY()+g[2].getY())/2,ne=new pt(Q+I*N,J+I*D),le=new pt(Q-I*N,J-I*D);N=g[1].getX()-g[3].getX(),D=g[1].getY()-g[3].getY(),Q=(g[1].getX()+g[3].getX())/2,J=(g[1].getY()+g[3].getY())/2;let he=new pt(Q+I*N,J+I*D),xe=new pt(Q-I*N,J-I*D);return[ne,he,le,xe]}isValid(g,C){return g>=0&&g<this.image.getWidth()&&C>0&&C<this.image.getHeight()}isValidPoint(g){let C=Ot.round(g.getX()),S=Ot.round(g.getY());return this.isValid(C,S)}distancePoint(g,C){return Ot.distance(g.getX(),g.getY(),C.getX(),C.getY())}distanceResultPoint(g,C){return Ot.distance(g.getX(),g.getY(),C.getX(),C.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Wt{decode(g,C=null){let S=null,I=new Mt(g.getBlackMatrix()),N=null,D=null;try{let le=I.detectMirror(!1);N=le.getPoints(),this.reportFoundResultPoints(C,N),D=new $t().decode(le)}catch(le){S=le}if(D==null)try{let le=I.detectMirror(!0);N=le.getPoints(),this.reportFoundResultPoints(C,N),D=new $t().decode(le)}catch(le){throw S??le}let Q=new Be(D.getText(),D.getRawBytes(),D.getNumBits(),N,De.AZTEC,P.currentTimeMillis()),J=D.getByteSegments();J!=null&&Q.putMetadata(at.BYTE_SEGMENTS,J);let ne=D.getECLevel();return ne!=null&&Q.putMetadata(at.ERROR_CORRECTION_LEVEL,ne),Q}reportFoundResultPoints(g,C){if(g!=null){let S=g.get(Y.NEED_RESULT_POINT_CALLBACK);S!=null&&C.forEach((I,N,D)=>{S.foundPossibleResultPoint(I)})}}reset(){}}class Xe extends Re{constructor(g=500){super(new Wt,g)}}class Ve{decode(g,C){try{return this.doDecode(g,C)}catch{if(C&&C.get(Y.TRY_HARDER)===!0&&g.isRotateSupported()){const N=g.rotateCounterClockwise(),D=this.doDecode(N,C),Q=D.getResultMetadata();let J=270;Q!==null&&Q.get(at.ORIENTATION)===!0&&(J=J+Q.get(at.ORIENTATION)%360),D.putMetadata(at.ORIENTATION,J);const ne=D.getResultPoints();if(ne!==null){const le=N.getHeight();for(let he=0;he<ne.length;he++)ne[he]=new pt(le-ne[he].getY()-1,ne[he].getX())}return D}else throw new de}}reset(){}doDecode(g,C){const S=g.getWidth(),I=g.getHeight();let N=new j(S);const D=C&&C.get(Y.TRY_HARDER)===!0,Q=Math.max(1,I>>(D?8:5));let J;D?J=I:J=15;const ne=Math.trunc(I/2);for(let le=0;le<J;le++){const he=Math.trunc((le+1)/2),xe=(le&1)===0,Se=ne+Q*(xe?he:-he);if(Se<0||Se>=I)break;try{N=g.getBlackRow(Se,N)}catch{continue}for(let Ie=0;Ie<2;Ie++){if(Ie===1&&(N.reverse(),C&&C.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const Ne=new Map;C.forEach((Le,Ge)=>Ne.set(Ge,Le)),Ne.delete(Y.NEED_RESULT_POINT_CALLBACK),C=Ne}try{const Ne=this.decodeRow(Se,N,C);if(Ie===1){Ne.putMetadata(at.ORIENTATION,180);const Le=Ne.getResultPoints();Le!==null&&(Le[0]=new pt(S-Le[0].getX()-1,Le[0].getY()),Le[1]=new pt(S-Le[1].getX()-1,Le[1].getY()))}return Ne}catch{}}}throw new de}static recordPattern(g,C,S){const I=S.length;for(let ne=0;ne<I;ne++)S[ne]=0;const N=g.getSize();if(C>=N)throw new de;let D=!g.get(C),Q=0,J=C;for(;J<N;){if(g.get(J)!==D)S[Q]++;else{if(++Q===I)break;S[Q]=1,D=!D}J++}if(!(Q===I||Q===I-1&&J===N))throw new de}static recordPatternInReverse(g,C,S){let I=S.length,N=g.get(C);for(;C>0&&I>=0;)g.get(--C)!==N&&(I--,N=!N);if(I>=0)throw new de;Ve.recordPattern(g,C+1,S)}static patternMatchVariance(g,C,S){const I=g.length;let N=0,D=0;for(let ne=0;ne<I;ne++)N+=g[ne],D+=C[ne];if(N<D)return Number.POSITIVE_INFINITY;const Q=N/D;S*=Q;let J=0;for(let ne=0;ne<I;ne++){const le=g[ne],he=C[ne]*Q,xe=le>he?le-he:he-le;if(xe>S)return Number.POSITIVE_INFINITY;J+=xe}return J/N}}class je extends Ve{static findStartPattern(g){const C=g.getSize(),S=g.getNextSet(0);let I=0,N=Int32Array.from([0,0,0,0,0,0]),D=S,Q=!1;const J=6;for(let ne=S;ne<C;ne++)if(g.get(ne)!==Q)N[I]++;else{if(I===J-1){let le=je.MAX_AVG_VARIANCE,he=-1;for(let xe=je.CODE_START_A;xe<=je.CODE_START_C;xe++){const Se=Ve.patternMatchVariance(N,je.CODE_PATTERNS[xe],je.MAX_INDIVIDUAL_VARIANCE);Se<le&&(le=Se,he=xe)}if(he>=0&&g.isRange(Math.max(0,D-(ne-D)/2),D,!1))return Int32Array.from([D,ne,he]);D+=N[0]+N[1],N=N.slice(2,N.length-1),N[I-1]=0,N[I]=0,I--}else I++;N[I]=1,Q=!Q}throw new de}static decodeCode(g,C,S){Ve.recordPattern(g,S,C);let I=je.MAX_AVG_VARIANCE,N=-1;for(let D=0;D<je.CODE_PATTERNS.length;D++){const Q=je.CODE_PATTERNS[D],J=this.patternMatchVariance(C,Q,je.MAX_INDIVIDUAL_VARIANCE);J<I&&(I=J,N=D)}if(N>=0)return N;throw new de}decodeRow(g,C,S){const I=S&&S.get(Y.ASSUME_GS1)===!0,N=je.findStartPattern(C),D=N[2];let Q=0;const J=new Uint8Array(20);J[Q++]=D;let ne;switch(D){case je.CODE_START_A:ne=je.CODE_CODE_A;break;case je.CODE_START_B:ne=je.CODE_CODE_B;break;case je.CODE_START_C:ne=je.CODE_CODE_C;break;default:throw new X}let le=!1,he=!1,xe="",Se=N[0],Ie=N[1];const Ne=Int32Array.from([0,0,0,0,0,0]);let Le=0,Ge=0,ft=D,dt=0,At=!0,tn=!1,Kt=!1;for(;!le;){const Os=he;switch(he=!1,Le=Ge,Ge=je.decodeCode(C,Ne,Ie),J[Q++]=Ge,Ge!==je.CODE_STOP&&(At=!0),Ge!==je.CODE_STOP&&(dt++,ft+=dt*Ge),Se=Ie,Ie+=Ne.reduce((Oo,Va)=>Oo+Va,0),Ge){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new X}switch(ne){case je.CODE_CODE_A:if(Ge<64)Kt===tn?xe+=String.fromCharCode(32+Ge):xe+=String.fromCharCode(32+Ge+128),Kt=!1;else if(Ge<96)Kt===tn?xe+=String.fromCharCode(Ge-64):xe+=String.fromCharCode(Ge+64),Kt=!1;else switch(Ge!==je.CODE_STOP&&(At=!1),Ge){case je.CODE_FNC_1:I&&(xe.length===0?xe+="]C1":xe+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!tn&&Kt?(tn=!0,Kt=!1):tn&&Kt?(tn=!1,Kt=!1):Kt=!0;break;case je.CODE_SHIFT:he=!0,ne=je.CODE_CODE_B;break;case je.CODE_CODE_B:ne=je.CODE_CODE_B;break;case je.CODE_CODE_C:ne=je.CODE_CODE_C;break;case je.CODE_STOP:le=!0;break}break;case je.CODE_CODE_B:if(Ge<96)Kt===tn?xe+=String.fromCharCode(32+Ge):xe+=String.fromCharCode(32+Ge+128),Kt=!1;else switch(Ge!==je.CODE_STOP&&(At=!1),Ge){case je.CODE_FNC_1:I&&(xe.length===0?xe+="]C1":xe+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!tn&&Kt?(tn=!0,Kt=!1):tn&&Kt?(tn=!1,Kt=!1):Kt=!0;break;case je.CODE_SHIFT:he=!0,ne=je.CODE_CODE_A;break;case je.CODE_CODE_A:ne=je.CODE_CODE_A;break;case je.CODE_CODE_C:ne=je.CODE_CODE_C;break;case je.CODE_STOP:le=!0;break}break;case je.CODE_CODE_C:if(Ge<100)Ge<10&&(xe+="0"),xe+=Ge;else switch(Ge!==je.CODE_STOP&&(At=!1),Ge){case je.CODE_FNC_1:I&&(xe.length===0?xe+="]C1":xe+="");break;case je.CODE_CODE_A:ne=je.CODE_CODE_A;break;case je.CODE_CODE_B:ne=je.CODE_CODE_B;break;case je.CODE_STOP:le=!0;break}break}Os&&(ne=ne===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const Jn=Ie-Se;if(Ie=C.getNextUnset(Ie),!C.isRange(Ie,Math.min(C.getSize(),Ie+(Ie-Se)/2),!1))throw new de;if(ft-=dt*Le,ft%103!==Le)throw new k;const Lr=xe.length;if(Lr===0)throw new de;Lr>0&&At&&(ne===je.CODE_CODE_C?xe=xe.substring(0,Lr-2):xe=xe.substring(0,Lr-1));const vr=(N[1]+N[0])/2,_n=Se+Jn/2,pr=J.length,Nr=new Uint8Array(pr);for(let Os=0;Os<pr;Os++)Nr[Os]=J[Os];const li=[new pt(vr,g),new pt(_n,g)];return new Be(xe,Nr,0,li,De.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class ut extends Ve{constructor(g=!1,C=!1){super(),this.usingCheckDigit=g,this.extendedMode=C,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(g,C,S){let I=this.counters;I.fill(0),this.decodeRowResult="";let N=ut.findAsteriskPattern(C,I),D=C.getNextSet(N[1]),Q=C.getSize(),J,ne;do{ut.recordPattern(C,D,I);let Ne=ut.toNarrowWidePattern(I);if(Ne<0)throw new de;J=ut.patternToChar(Ne),this.decodeRowResult+=J,ne=D;for(let Le of I)D+=Le;D=C.getNextSet(D)}while(J!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let le=0;for(let Ne of I)le+=Ne;let he=D-ne-le;if(D!==Q&&he*2<le)throw new de;if(this.usingCheckDigit){let Ne=this.decodeRowResult.length-1,Le=0;for(let Ge=0;Ge<Ne;Ge++)Le+=ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ge));if(this.decodeRowResult.charAt(Ne)!==ut.ALPHABET_STRING.charAt(Le%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,Ne)}if(this.decodeRowResult.length===0)throw new de;let xe;this.extendedMode?xe=ut.decodeExtended(this.decodeRowResult):xe=this.decodeRowResult;let Se=(N[1]+N[0])/2,Ie=ne+le/2;return new Be(xe,null,0,[new pt(Se,g),new pt(Ie,g)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(g,C){let S=g.getSize(),I=g.getNextSet(0),N=0,D=I,Q=!1,J=C.length;for(let ne=I;ne<S;ne++)if(g.get(ne)!==Q)C[N]++;else{if(N===J-1){if(this.toNarrowWidePattern(C)===ut.ASTERISK_ENCODING&&g.isRange(Math.max(0,D-Math.floor((ne-D)/2)),D,!1))return[D,ne];D+=C[0]+C[1],C.copyWithin(0,2,2+N-1),C[N-1]=0,C[N]=0,N--}else N++;C[N]=1,Q=!Q}throw new de}static toNarrowWidePattern(g){let C=g.length,S=0,I;do{let N=2147483647;for(let J of g)J<N&&J>S&&(N=J);S=N,I=0;let D=0,Q=0;for(let J=0;J<C;J++){let ne=g[J];ne>S&&(Q|=1<<C-1-J,I++,D+=ne)}if(I===3){for(let J=0;J<C&&I>0;J++){let ne=g[J];if(ne>S&&(I--,ne*2>=D))return-1}return Q}}while(I>3);return-1}static patternToChar(g){for(let C=0;C<ut.CHARACTER_ENCODINGS.length;C++)if(ut.CHARACTER_ENCODINGS[C]===g)return ut.ALPHABET_STRING.charAt(C);if(g===ut.ASTERISK_ENCODING)return"*";throw new de}static decodeExtended(g){let C=g.length,S="";for(let I=0;I<C;I++){let N=g.charAt(I);if(N==="+"||N==="$"||N==="%"||N==="/"){let D=g.charAt(I+1),Q="\0";switch(N){case"+":if(D>="A"&&D<="Z")Q=String.fromCharCode(D.charCodeAt(0)+32);else throw new X;break;case"$":if(D>="A"&&D<="Z")Q=String.fromCharCode(D.charCodeAt(0)-64);else throw new X;break;case"%":if(D>="A"&&D<="E")Q=String.fromCharCode(D.charCodeAt(0)-38);else if(D>="F"&&D<="J")Q=String.fromCharCode(D.charCodeAt(0)-11);else if(D>="K"&&D<="O")Q=String.fromCharCode(D.charCodeAt(0)+16);else if(D>="P"&&D<="T")Q=String.fromCharCode(D.charCodeAt(0)+43);else if(D==="U")Q="\0";else if(D==="V")Q="@";else if(D==="W")Q="`";else if(D==="X"||D==="Y"||D==="Z")Q="";else throw new X;break;case"/":if(D>="A"&&D<="O")Q=String.fromCharCode(D.charCodeAt(0)-32);else if(D==="Z")Q=":";else throw new X;break}S+=Q,I++}else S+=N}return S}}ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ut.ASTERISK_ENCODING=148;class ot extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(g,C,S){let I=this.decodeStart(C),N=this.decodeEnd(C),D=new Ee;ot.decodeMiddle(C,I[1],N[0],D);let Q=D.toString(),J=null;S!=null&&(J=S.get(Y.ALLOWED_LENGTHS)),J==null&&(J=ot.DEFAULT_ALLOWED_LENGTHS);let ne=Q.length,le=!1,he=0;for(let Ie of J){if(ne===Ie){le=!0;break}Ie>he&&(he=Ie)}if(!le&&ne>he&&(le=!0),!le)throw new X;const xe=[new pt(I[1],g),new pt(N[0],g)];return new Be(Q,null,0,xe,De.ITF,new Date().getTime())}static decodeMiddle(g,C,S,I){let N=new Int32Array(10),D=new Int32Array(5),Q=new Int32Array(5);for(N.fill(0),D.fill(0),Q.fill(0);C<S;){Ve.recordPattern(g,C,N);for(let ne=0;ne<5;ne++){let le=2*ne;D[ne]=N[le],Q[ne]=N[le+1]}let J=ot.decodeDigit(D);I.append(J.toString()),J=this.decodeDigit(Q),I.append(J.toString()),N.forEach(function(ne){C+=ne})}}decodeStart(g){let C=ot.skipWhiteSpace(g),S=ot.findGuardPattern(g,C,ot.START_PATTERN);return this.narrowLineWidth=(S[1]-S[0])/4,this.validateQuietZone(g,S[0]),S}validateQuietZone(g,C){let S=this.narrowLineWidth*10;S=S<C?S:C;for(let I=C-1;S>0&&I>=0&&!g.get(I);I--)S--;if(S!==0)throw new de}static skipWhiteSpace(g){const C=g.getSize(),S=g.getNextSet(0);if(S===C)throw new de;return S}decodeEnd(g){g.reverse();try{let C=ot.skipWhiteSpace(g),S;try{S=ot.findGuardPattern(g,C,ot.END_PATTERN_REVERSED[0])}catch(N){N instanceof de&&(S=ot.findGuardPattern(g,C,ot.END_PATTERN_REVERSED[1]))}this.validateQuietZone(g,S[0]);let I=S[0];return S[0]=g.getSize()-S[1],S[1]=g.getSize()-I,S}finally{g.reverse()}}static findGuardPattern(g,C,S){let I=S.length,N=new Int32Array(I),D=g.getSize(),Q=!1,J=0,ne=C;N.fill(0);for(let le=C;le<D;le++)if(g.get(le)!==Q)N[J]++;else{if(J===I-1){if(Ve.patternMatchVariance(N,S,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE)return[ne,le];ne+=N[0]+N[1],P.arraycopy(N,2,N,0,J-1),N[J-1]=0,N[J]=0,J--}else J++;N[J]=1,Q=!Q}throw new de}static decodeDigit(g){let C=ot.MAX_AVG_VARIANCE,S=-1,I=ot.PATTERNS.length;for(let N=0;N<I;N++){let D=ot.PATTERNS[N],Q=Ve.patternMatchVariance(g,D,ot.MAX_INDIVIDUAL_VARIANCE);Q<C?(C=Q,S=N):Q===C&&(S=-1)}if(S>=0)return S%10;throw new de}}ot.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ot.MAX_AVG_VARIANCE=.38,ot.MAX_INDIVIDUAL_VARIANCE=.5,ot.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ot.START_PATTERN=Int32Array.from([1,1,1,1]),ot.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class St extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(g){let C=!1,S,I=0,N=Int32Array.from([0,0,0]);for(;!C;){N=Int32Array.from([0,0,0]),S=St.findGuardPattern(g,I,!1,this.START_END_PATTERN,N);let D=S[0];I=S[1];let Q=D-(I-D);Q>=0&&(C=g.isRange(Q,D,!1))}return S}static checkChecksum(g){return St.checkStandardUPCEANChecksum(g)}static checkStandardUPCEANChecksum(g){let C=g.length;if(C===0)return!1;let S=parseInt(g.charAt(C-1),10);return St.getStandardUPCEANChecksum(g.substring(0,C-1))===S}static getStandardUPCEANChecksum(g){let C=g.length,S=0;for(let I=C-1;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new X;S+=N}S*=3;for(let I=C-2;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new X;S+=N}return(1e3-S)%10}static decodeEnd(g,C){return St.findGuardPattern(g,C,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(g,C,S,I){return this.findGuardPattern(g,C,S,I,new Int32Array(I.length))}static findGuardPattern(g,C,S,I,N){let D=g.getSize();C=S?g.getNextUnset(C):g.getNextSet(C);let Q=0,J=C,ne=I.length,le=S;for(let he=C;he<D;he++)if(g.get(he)!==le)N[Q]++;else{if(Q===ne-1){if(Ve.patternMatchVariance(N,I,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return Int32Array.from([J,he]);J+=N[0]+N[1];let xe=N.slice(2,N.length-1);for(let Se=0;Se<Q-1;Se++)N[Se]=xe[Se];N[Q-1]=0,N[Q]=0,Q--}else Q++;N[Q]=1,le=!le}throw new de}static decodeDigit(g,C,S,I){this.recordPattern(g,S,C);let N=this.MAX_AVG_VARIANCE,D=-1,Q=I.length;for(let J=0;J<Q;J++){let ne=I[J],le=Ve.patternMatchVariance(C,ne,St.MAX_INDIVIDUAL_VARIANCE);le<N&&(N=le,D=J)}if(D>=0)return D;throw new de}}St.MAX_AVG_VARIANCE=.48,St.MAX_INDIVIDUAL_VARIANCE=.7,St.START_END_PATTERN=Int32Array.from([1,1,1]),St.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),St.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class on{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(g,C,S){let I=this.decodeRowStringBuffer,N=this.decodeMiddle(C,S,I),D=I.toString(),Q=on.parseExtensionString(D),J=[new pt((S[0]+S[1])/2,g),new pt(N,g)],ne=new Be(D,null,0,J,De.UPC_EAN_EXTENSION,new Date().getTime());return Q!=null&&ne.putAllMetadata(Q),ne}decodeMiddle(g,C,S){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],Q=0;for(let ne=0;ne<5&&D<N;ne++){let le=St.decodeDigit(g,I,D,St.L_AND_G_PATTERNS);S+=String.fromCharCode(48+le%10);for(let he of I)D+=he;le>=10&&(Q|=1<<4-ne),ne!==4&&(D=g.getNextSet(D),D=g.getNextUnset(D))}if(S.length!==5)throw new de;let J=this.determineCheckDigit(Q);if(on.extensionChecksum(S.toString())!==J)throw new de;return D}static extensionChecksum(g){let C=g.length,S=0;for(let I=C-2;I>=0;I-=2)S+=g.charAt(I).charCodeAt(0)-48;S*=3;for(let I=C-1;I>=0;I-=2)S+=g.charAt(I).charCodeAt(0)-48;return S*=3,S%10}determineCheckDigit(g){for(let C=0;C<10;C++)if(g===this.CHECK_DIGIT_ENCODINGS[C])return C;throw new de}static parseExtensionString(g){if(g.length!==5)return null;let C=on.parseExtension5String(g);return C==null?null:new Map([[at.SUGGESTED_PRICE,C]])}static parseExtension5String(g){let C;switch(g.charAt(0)){case"0":C="";break;case"5":C="$";break;case"9":switch(g){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}C="";break;default:C="";break}let S=parseInt(g.substring(1)),I=(S/100).toString(),N=S%100,D=N<10?"0"+N:N.toString();return C+I+"."+D}}class un{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(g,C,S){let I=this.decodeRowStringBuffer,N=this.decodeMiddle(C,S,I),D=I.toString(),Q=un.parseExtensionString(D),J=[new pt((S[0]+S[1])/2,g),new pt(N,g)],ne=new Be(D,null,0,J,De.UPC_EAN_EXTENSION,new Date().getTime());return Q!=null&&ne.putAllMetadata(Q),ne}decodeMiddle(g,C,S){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],Q=0;for(let J=0;J<2&&D<N;J++){let ne=St.decodeDigit(g,I,D,St.L_AND_G_PATTERNS);S+=String.fromCharCode(48+ne%10);for(let le of I)D+=le;ne>=10&&(Q|=1<<1-J),J!==1&&(D=g.getNextSet(D),D=g.getNextUnset(D))}if(S.length!==2)throw new de;if(parseInt(S.toString())%4!==Q)throw new de;return D}static parseExtensionString(g){return g.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(g)]])}}class dn{static decodeRow(g,C,S){let I=St.findGuardPattern(C,S,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new on().decodeRow(g,C,I)}catch{return new un().decodeRow(g,C,I)}}}dn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class kt extends St{constructor(){super(),this.decodeRowStringBuffer="",kt.L_AND_G_PATTERNS=kt.L_PATTERNS.map(g=>Int32Array.from(g));for(let g=10;g<20;g++){let C=kt.L_PATTERNS[g-10],S=new Int32Array(C.length);for(let I=0;I<C.length;I++)S[I]=C[C.length-I-1];kt.L_AND_G_PATTERNS[g]=S}}decodeRow(g,C,S){let I=kt.findStartGuardPattern(C),N=S==null?null:S.get(Y.NEED_RESULT_POINT_CALLBACK);if(N!=null){const At=new pt((I[0]+I[1])/2,g);N.foundPossibleResultPoint(At)}let D=this.decodeMiddle(C,I,this.decodeRowStringBuffer),Q=D.rowOffset,J=D.resultString;if(N!=null){const At=new pt(Q,g);N.foundPossibleResultPoint(At)}let ne=this.decodeEnd(C,Q);if(N!=null){const At=new pt((ne[0]+ne[1])/2,g);N.foundPossibleResultPoint(At)}let le=ne[1],he=le+(le-ne[0]);if(he>=C.getSize()||!C.isRange(le,he,!1))throw new de;let xe=J.toString();if(xe.length<8)throw new X;if(!kt.checkChecksum(xe))throw new k;let Se=(I[1]+I[0])/2,Ie=(ne[1]+ne[0])/2,Ne=this.getBarcodeFormat(),Le=[new pt(Se,g),new pt(Ie,g)],Ge=new Be(xe,null,0,Le,Ne,new Date().getTime()),ft=0;try{let At=dn.decodeRow(g,C,ne[1]);Ge.putMetadata(at.UPC_EAN_EXTENSION,At.getText()),Ge.putAllMetadata(At.getResultMetadata()),Ge.addResultPoints(At.getResultPoints()),ft=At.getText().length}catch{}let dt=S==null?null:S.get(Y.ALLOWED_EAN_EXTENSIONS);if(dt!=null){let At=!1;for(let tn in dt)if(ft.toString()===tn){At=!0;break}if(!At)throw new de}return Ge}decodeEnd(g,C){return kt.findGuardPattern(g,C,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static checkChecksum(g){return kt.checkStandardUPCEANChecksum(g)}static checkStandardUPCEANChecksum(g){let C=g.length;if(C===0)return!1;let S=parseInt(g.charAt(C-1),10);return kt.getStandardUPCEANChecksum(g.substring(0,C-1))===S}static getStandardUPCEANChecksum(g){let C=g.length,S=0;for(let I=C-1;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new X;S+=N}S*=3;for(let I=C-2;I>=0;I-=2){let N=g.charAt(I).charCodeAt(0)-48;if(N<0||N>9)throw new X;S+=N}return(1e3-S)%10}}class mn extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(g,C,S){let I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1],Q=0;for(let ne=0;ne<6&&D<N;ne++){let le=kt.decodeDigit(g,I,D,kt.L_AND_G_PATTERNS);S+=String.fromCharCode(48+le%10);for(let he of I)D+=he;le>=10&&(Q|=1<<5-ne)}S=mn.determineFirstDigit(S,Q),D=kt.findGuardPattern(g,D,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let ne=0;ne<6&&D<N;ne++){let le=kt.decodeDigit(g,I,D,kt.L_PATTERNS);S+=String.fromCharCode(48+le);for(let he of I)D+=he}return{rowOffset:D,resultString:S}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(g,C){for(let S=0;S<10;S++)if(C===this.FIRST_DIGIT_ENCODINGS[S])return g=String.fromCharCode(48+S)+g,g;throw new de}}mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Sn extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(g,C,S){const I=this.decodeMiddleCounters;I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D=C[1];for(let J=0;J<4&&D<N;J++){let ne=kt.decodeDigit(g,I,D,kt.L_PATTERNS);S+=String.fromCharCode(48+ne);for(let le of I)D+=le}D=kt.findGuardPattern(g,D,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let J=0;J<4&&D<N;J++){let ne=kt.decodeDigit(g,I,D,kt.L_PATTERNS);S+=String.fromCharCode(48+ne);for(let le of I)D+=le}return{rowOffset:D,resultString:S}}getBarcodeFormat(){return De.EAN_8}}class Sr extends kt{constructor(){super(...arguments),this.ean13Reader=new mn}getBarcodeFormat(){return De.UPC_A}decode(g,C){return this.maybeReturnResult(this.ean13Reader.decode(g))}decodeRow(g,C,S){return this.maybeReturnResult(this.ean13Reader.decodeRow(g,C,S))}decodeMiddle(g,C,S){return this.ean13Reader.decodeMiddle(g,C,S)}maybeReturnResult(g){let C=g.getText();if(C.charAt(0)==="0"){let S=new Be(C.substring(1),null,null,g.getResultPoints(),De.UPC_A);return g.getResultMetadata()!=null&&S.putAllMetadata(g.getResultMetadata()),S}else throw new de}reset(){this.ean13Reader.reset()}}class Nn extends kt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(g,C,S){const I=this.decodeMiddleCounters.map(ne=>ne);I[0]=0,I[1]=0,I[2]=0,I[3]=0;const N=g.getSize();let D=C[1],Q=0;for(let ne=0;ne<6&&D<N;ne++){const le=Nn.decodeDigit(g,I,D,Nn.L_AND_G_PATTERNS);S+=String.fromCharCode(48+le%10);for(let he of I)D+=he;le>=10&&(Q|=1<<5-ne)}let J=Nn.determineNumSysAndCheckDigit(S,Q);return{rowOffset:D,resultString:J}}decodeEnd(g,C){return Nn.findGuardPatternWithoutCounters(g,C,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(g){return kt.checkChecksum(Nn.convertUPCEtoUPCA(g))}static determineNumSysAndCheckDigit(g,C){for(let S=0;S<=1;S++)for(let I=0;I<10;I++)if(C===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[S][I]){let N=String.fromCharCode(48+S),D=String.fromCharCode(48+I);return N+g+D}throw de.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(g){const C=g.slice(1,7).split("").map(N=>N.charCodeAt(0)),S=new Ee;S.append(g.charAt(0));let I=C[5];switch(I){case 0:case 1:case 2:S.appendChars(C,0,2),S.append(I),S.append("0000"),S.appendChars(C,2,3);break;case 3:S.appendChars(C,0,3),S.append("00000"),S.appendChars(C,3,2);break;case 4:S.appendChars(C,0,4),S.append("00000"),S.append(C[4]);break;default:S.appendChars(C,0,5),S.append("0000"),S.append(I);break}return g.length>=8&&S.append(g.charAt(7)),S.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Tr extends Ve{constructor(g){super();let C=g==null?null:g.get(Y.POSSIBLE_FORMATS),S=[];s(C)?(S.push(new mn),S.push(new Sr),S.push(new Sn),S.push(new Nn)):(C.indexOf(De.EAN_13)>-1&&S.push(new mn),C.indexOf(De.UPC_A)>-1&&S.push(new Sr),C.indexOf(De.EAN_8)>-1&&S.push(new Sn),C.indexOf(De.UPC_E)>-1&&S.push(new Nn)),this.readers=S}decodeRow(g,C,S){for(let I of this.readers)try{const N=I.decodeRow(g,C,S),D=N.getBarcodeFormat()===De.EAN_13&&N.getText().charAt(0)==="0",Q=S==null?null:S.get(Y.POSSIBLE_FORMATS),J=Q==null||Q.includes(De.UPC_A);if(D&&J){const ne=N.getRawBytes(),le=new Be(N.getText().substring(1),ne,ne?ne.length:null,N.getResultPoints(),De.UPC_A);return le.putAllMetadata(N.getResultMetadata()),le}return N}catch{}throw new de}reset(){for(let g of this.readers)g.reset()}}class Dn extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(g,C){for(let S=0;S<C.length;S++)if(Ve.patternMatchVariance(g,C[S],Dn.MAX_INDIVIDUAL_VARIANCE)<Dn.MAX_AVG_VARIANCE)return S;throw new de}static count(g){return Ot.sum(new Int32Array(g))}static increment(g,C){let S=0,I=C[0];for(let N=1;N<g.length;N++)C[N]>I&&(I=C[N],S=N);g[S]++}static decrement(g,C){let S=0,I=C[0];for(let N=1;N<g.length;N++)C[N]<I&&(I=C[N],S=N);g[S]--}static isFinderPattern(g){let C=g[0]+g[1],S=C+g[2]+g[3],I=C/S;if(I>=Dn.MIN_FINDER_PATTERN_RATIO&&I<=Dn.MAX_FINDER_PATTERN_RATIO){let N=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;for(let Q of g)Q>D&&(D=Q),Q<N&&(N=Q);return D<10*N}return!1}}Dn.MAX_AVG_VARIANCE=.2,Dn.MAX_INDIVIDUAL_VARIANCE=.45,Dn.MIN_FINDER_PATTERN_RATIO=9.5/12,Dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Br{constructor(g,C){this.value=g,this.checksumPortion=C}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(g){if(!(g instanceof Br))return!1;const C=g;return this.value===C.value&&this.checksumPortion===C.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zr{constructor(g,C,S,I,N){this.value=g,this.startEnd=C,this.value=g,this.startEnd=C,this.resultPoints=new Array,this.resultPoints.push(new pt(S,N)),this.resultPoints.push(new pt(I,N))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(g){if(!(g instanceof Zr))return!1;const C=g;return this.value===C.value}hashCode(){return this.value}}class kr{constructor(){}static getRSSvalue(g,C,S){let I=0;for(let J of g)I+=J;let N=0,D=0,Q=g.length;for(let J=0;J<Q-1;J++){let ne;for(ne=1,D|=1<<J;ne<g[J];ne++,D&=~(1<<J)){let le=kr.combins(I-ne-1,Q-J-2);if(S&&D===0&&I-ne-(Q-J-1)>=Q-J-1&&(le-=kr.combins(I-ne-(Q-J),Q-J-2)),Q-J-1>1){let he=0;for(let xe=I-ne-(Q-J-2);xe>C;xe--)he+=kr.combins(I-ne-xe-1,Q-J-3);le-=he*(Q-1-J)}else I-ne>C&&le--;N+=le}I-=ne}return N}static combins(g,C){let S,I;g-C>C?(I=C,S=g-C):(I=g-C,S=C);let N=1,D=1;for(let Q=g;Q>S;Q--)N*=Q,D<=I&&(N/=D,D++);for(;D<=I;)N/=D,D++;return N}}class _e{static buildBitArray(g){let C=g.length*2-1;g[g.length-1].getRightChar()==null&&(C-=1);let S=12*C,I=new j(S),N=0,Q=g[0].getRightChar().getValue();for(let J=11;J>=0;--J)(Q&1<<J)!=0&&I.set(N),N++;for(let J=1;J<g.length;++J){let ne=g[J],le=ne.getLeftChar().getValue();for(let he=11;he>=0;--he)(le&1<<he)!=0&&I.set(N),N++;if(ne.getRightChar()!=null){let he=ne.getRightChar().getValue();for(let xe=11;xe>=0;--xe)(he&1<<xe)!=0&&I.set(N),N++}}return I}}class Me{constructor(g,C){C?this.decodedInformation=null:(this.finished=g,this.decodedInformation=C)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ze{constructor(g){this.newPosition=g}getNewPosition(){return this.newPosition}}class it extends ze{constructor(g,C){super(g),this.value=C}getValue(){return this.value}isFNC1(){return this.value===it.FNC1}}it.FNC1="$";class ht extends ze{constructor(g,C,S){super(g),S?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=C}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wt extends ze{constructor(g,C,S){if(super(g),C<0||C>10||S<0||S>10)throw new X;this.firstDigit=C,this.secondDigit=S}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===wt.FNC1}isAnyFNC1(){return this.firstDigit===wt.FNC1||this.secondDigit===wt.FNC1}}wt.FNC1=10;class Ze{constructor(){}static parseFieldsInGeneralPurpose(g){if(!g)return null;if(g.length<2)throw new de;let C=g.substring(0,2);for(let N of Ze.TWO_DIGIT_DATA_LENGTH)if(N[0]===C)return N[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(2,N[2],g):Ze.processFixedAI(2,N[1],g);if(g.length<3)throw new de;let S=g.substring(0,3);for(let N of Ze.THREE_DIGIT_DATA_LENGTH)if(N[0]===S)return N[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(3,N[2],g):Ze.processFixedAI(3,N[1],g);for(let N of Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(N[0]===S)return N[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,N[2],g):Ze.processFixedAI(4,N[1],g);if(g.length<4)throw new de;let I=g.substring(0,4);for(let N of Ze.FOUR_DIGIT_DATA_LENGTH)if(N[0]===I)return N[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,N[2],g):Ze.processFixedAI(4,N[1],g);throw new de}static processFixedAI(g,C,S){if(S.length<g)throw new de;let I=S.substring(0,g);if(S.length<g+C)throw new de;let N=S.substring(g,g+C),D=S.substring(g+C),Q="("+I+")"+N,J=Ze.parseFieldsInGeneralPurpose(D);return J==null?Q:Q+J}static processVariableAI(g,C,S){let I=S.substring(0,g),N;S.length<g+C?N=S.length:N=g+C;let D=S.substring(g,N),Q=S.substring(N),J="("+I+")"+D,ne=Ze.parseFieldsInGeneralPurpose(Q);return ne==null?J:J+ne}}Ze.VARIABLE_LENGTH=[],Ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ze.VARIABLE_LENGTH,20],["22",Ze.VARIABLE_LENGTH,29],["30",Ze.VARIABLE_LENGTH,8],["37",Ze.VARIABLE_LENGTH,8],["90",Ze.VARIABLE_LENGTH,30],["91",Ze.VARIABLE_LENGTH,30],["92",Ze.VARIABLE_LENGTH,30],["93",Ze.VARIABLE_LENGTH,30],["94",Ze.VARIABLE_LENGTH,30],["95",Ze.VARIABLE_LENGTH,30],["96",Ze.VARIABLE_LENGTH,30],["97",Ze.VARIABLE_LENGTH,3],["98",Ze.VARIABLE_LENGTH,30],["99",Ze.VARIABLE_LENGTH,30]],Ze.THREE_DIGIT_DATA_LENGTH=[["240",Ze.VARIABLE_LENGTH,30],["241",Ze.VARIABLE_LENGTH,30],["242",Ze.VARIABLE_LENGTH,6],["250",Ze.VARIABLE_LENGTH,30],["251",Ze.VARIABLE_LENGTH,30],["253",Ze.VARIABLE_LENGTH,17],["254",Ze.VARIABLE_LENGTH,20],["400",Ze.VARIABLE_LENGTH,30],["401",Ze.VARIABLE_LENGTH,30],["402",17],["403",Ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ze.VARIABLE_LENGTH,20],["421",Ze.VARIABLE_LENGTH,15],["422",3],["423",Ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ze.VARIABLE_LENGTH,15],["391",Ze.VARIABLE_LENGTH,18],["392",Ze.VARIABLE_LENGTH,15],["393",Ze.VARIABLE_LENGTH,18],["703",Ze.VARIABLE_LENGTH,30]],Ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ze.VARIABLE_LENGTH,20],["8003",Ze.VARIABLE_LENGTH,30],["8004",Ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ze.VARIABLE_LENGTH,30],["8008",Ze.VARIABLE_LENGTH,12],["8018",18],["8020",Ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ze.VARIABLE_LENGTH,70],["8200",Ze.VARIABLE_LENGTH,70]];class Et{constructor(g){this.buffer=new Ee,this.information=g}decodeAllCodes(g,C){let S=C,I=null;do{let N=this.decodeGeneralPurposeField(S,I),D=Ze.parseFieldsInGeneralPurpose(N.getNewString());if(D!=null&&g.append(D),N.isRemaining()?I=""+N.getRemainingValue():I=null,S===N.getNewPosition())break;S=N.getNewPosition()}while(!0);return g.toString()}isStillNumeric(g){if(g+7>this.information.getSize())return g+4<=this.information.getSize();for(let C=g;C<g+3;++C)if(this.information.get(C))return!0;return this.information.get(g+3)}decodeNumeric(g){if(g+7>this.information.getSize()){let N=this.extractNumericValueFromBitArray(g,4);return N===0?new wt(this.information.getSize(),wt.FNC1,wt.FNC1):new wt(this.information.getSize(),N-1,wt.FNC1)}let C=this.extractNumericValueFromBitArray(g,7),S=(C-8)/11,I=(C-8)%11;return new wt(g+7,S,I)}extractNumericValueFromBitArray(g,C){return Et.extractNumericValueFromBitArray(this.information,g,C)}static extractNumericValueFromBitArray(g,C,S){let I=0;for(let N=0;N<S;++N)g.get(C+N)&&(I|=1<<S-N-1);return I}decodeGeneralPurposeField(g,C){this.buffer.setLengthToZero(),C!=null&&this.buffer.append(C),this.current.setPosition(g);let S=this.parseBlocks();return S!=null&&S.isRemaining()?new ht(this.current.getPosition(),this.buffer.toString(),S.getRemainingValue()):new ht(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let g,C;do{let S=this.current.getPosition();if(this.current.isAlpha()?(C=this.parseAlphaBlock(),g=C.isFinished()):this.current.isIsoIec646()?(C=this.parseIsoIec646Block(),g=C.isFinished()):(C=this.parseNumericBlock(),g=C.isFinished()),!(S!==this.current.getPosition())&&!g)break}while(!g);return C.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let g=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFirstDigitFNC1()){let C;return g.isSecondDigitFNC1()?C=new ht(this.current.getPosition(),this.buffer.toString()):C=new ht(this.current.getPosition(),this.buffer.toString(),g.getSecondDigit()),new Me(!0,C)}if(this.buffer.append(g.getFirstDigit()),g.isSecondDigitFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Me(!0,C)}this.buffer.append(g.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Me(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let g=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Me(!0,C)}this.buffer.append(g.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Me(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let g=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(g.getNewPosition()),g.isFNC1()){let C=new ht(this.current.getPosition(),this.buffer.toString());return new Me(!0,C)}this.buffer.append(g.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Me(!1)}isStillIsoIec646(g){if(g+5>this.information.getSize())return!1;let C=this.extractNumericValueFromBitArray(g,5);if(C>=5&&C<16)return!0;if(g+7>this.information.getSize())return!1;let S=this.extractNumericValueFromBitArray(g,7);if(S>=64&&S<116)return!0;if(g+8>this.information.getSize())return!1;let I=this.extractNumericValueFromBitArray(g,8);return I>=232&&I<253}decodeIsoIec646(g){let C=this.extractNumericValueFromBitArray(g,5);if(C===15)return new it(g+5,it.FNC1);if(C>=5&&C<15)return new it(g+5,"0"+(C-5));let S=this.extractNumericValueFromBitArray(g,7);if(S>=64&&S<90)return new it(g+7,""+(S+1));if(S>=90&&S<116)return new it(g+7,""+(S+7));let I=this.extractNumericValueFromBitArray(g,8),N;switch(I){case 232:N="!";break;case 233:N='"';break;case 234:N="%";break;case 235:N="&";break;case 236:N="'";break;case 237:N="(";break;case 238:N=")";break;case 239:N="*";break;case 240:N="+";break;case 241:N=",";break;case 242:N="-";break;case 243:N=".";break;case 244:N="/";break;case 245:N=":";break;case 246:N=";";break;case 247:N="<";break;case 248:N="=";break;case 249:N=">";break;case 250:N="?";break;case 251:N="_";break;case 252:N=" ";break;default:throw new X}return new it(g+8,N)}isStillAlpha(g){if(g+5>this.information.getSize())return!1;let C=this.extractNumericValueFromBitArray(g,5);if(C>=5&&C<16)return!0;if(g+6>this.information.getSize())return!1;let S=this.extractNumericValueFromBitArray(g,6);return S>=16&&S<63}decodeAlphanumeric(g){let C=this.extractNumericValueFromBitArray(g,5);if(C===15)return new it(g+5,it.FNC1);if(C>=5&&C<15)return new it(g+5,"0"+(C-5));let S=this.extractNumericValueFromBitArray(g,6);if(S>=32&&S<58)return new it(g+6,""+(S+33));let I;switch(S){case 58:I="*";break;case 59:I=",";break;case 60:I="-";break;case 61:I=".";break;case 62:I="/";break;default:throw new an("Decoding invalid alphanumeric value: "+S)}return new it(g+6,I)}isAlphaTo646ToAlphaLatch(g){if(g+1>this.information.getSize())return!1;for(let C=0;C<5&&C+g<this.information.getSize();++C)if(C===2){if(!this.information.get(g+2))return!1}else if(this.information.get(g+C))return!1;return!0}isAlphaOr646ToNumericLatch(g){if(g+3>this.information.getSize())return!1;for(let C=g;C<g+3;++C)if(this.information.get(C))return!1;return!0}isNumericToAlphaNumericLatch(g){if(g+1>this.information.getSize())return!1;for(let C=0;C<4&&C+g<this.information.getSize();++C)if(this.information.get(g+C))return!1;return!0}}class vt{constructor(g){this.information=g,this.generalDecoder=new Et(g)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yt extends vt{constructor(g){super(g)}encodeCompressedGtin(g,C){g.append("(01)");let S=g.length();g.append("9"),this.encodeCompressedGtinWithoutAI(g,C,S)}encodeCompressedGtinWithoutAI(g,C,S){for(let I=0;I<4;++I){let N=this.getGeneralDecoder().extractNumericValueFromBitArray(C+10*I,10);N/100===0&&g.append("0"),N/10===0&&g.append("0"),g.append(N)}yt.appendCheckDigit(g,S)}static appendCheckDigit(g,C){let S=0;for(let I=0;I<13;I++){let N=g.charAt(I+C).charCodeAt(0)-48;S+=(I&1)===0?3*N:N}S=10-S%10,S===10&&(S=0),g.append(S)}}yt.GTIN_SIZE=40;class Nt extends yt{constructor(g){super(g)}parseInformation(){let g=new Ee;g.append("(01)");let C=g.length(),S=this.getGeneralDecoder().extractNumericValueFromBitArray(Nt.HEADER_SIZE,4);return g.append(S),this.encodeCompressedGtinWithoutAI(g,Nt.HEADER_SIZE+4,C),this.getGeneralDecoder().decodeAllCodes(g,Nt.HEADER_SIZE+44)}}Nt.HEADER_SIZE=4;class Tt extends vt{constructor(g){super(g)}parseInformation(){let g=new Ee;return this.getGeneralDecoder().decodeAllCodes(g,Tt.HEADER_SIZE)}}Tt.HEADER_SIZE=5;class Vt extends yt{constructor(g){super(g)}encodeCompressedWeight(g,C,S){let I=this.getGeneralDecoder().extractNumericValueFromBitArray(C,S);this.addWeightCode(g,I);let N=this.checkWeight(I),D=1e5;for(let Q=0;Q<5;++Q)N/D===0&&g.append("0"),D/=10;g.append(N)}}class nn extends Vt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()!=nn.HEADER_SIZE+Vt.GTIN_SIZE+nn.WEIGHT_SIZE)throw new de;let g=new Ee;return this.encodeCompressedGtin(g,nn.HEADER_SIZE),this.encodeCompressedWeight(g,nn.HEADER_SIZE+Vt.GTIN_SIZE,nn.WEIGHT_SIZE),g.toString()}}nn.HEADER_SIZE=5,nn.WEIGHT_SIZE=15;class Wn extends nn{constructor(g){super(g)}addWeightCode(g,C){g.append("(3103)")}checkWeight(g){return g}}class Hn extends nn{constructor(g){super(g)}addWeightCode(g,C){C<1e4?g.append("(3202)"):g.append("(3203)")}checkWeight(g){return g<1e4?g:g-1e4}}class en extends yt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+yt.GTIN_SIZE)throw new de;let g=new Ee;this.encodeCompressedGtin(g,en.HEADER_SIZE);let C=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+yt.GTIN_SIZE,en.LAST_DIGIT_SIZE);g.append("(392"),g.append(C),g.append(")");let S=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+yt.GTIN_SIZE+en.LAST_DIGIT_SIZE,null);return g.append(S.getNewString()),g.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2;class zt extends yt{constructor(g){super(g)}parseInformation(){if(this.getInformation().getSize()<zt.HEADER_SIZE+yt.GTIN_SIZE)throw new de;let g=new Ee;this.encodeCompressedGtin(g,zt.HEADER_SIZE);let C=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+yt.GTIN_SIZE,zt.LAST_DIGIT_SIZE);g.append("(393"),g.append(C),g.append(")");let S=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+yt.GTIN_SIZE+zt.LAST_DIGIT_SIZE,zt.FIRST_THREE_DIGITS_SIZE);S/100==0&&g.append("0"),S/10==0&&g.append("0"),g.append(S);let I=this.getGeneralDecoder().decodeGeneralPurposeField(zt.HEADER_SIZE+yt.GTIN_SIZE+zt.LAST_DIGIT_SIZE+zt.FIRST_THREE_DIGITS_SIZE,null);return g.append(I.getNewString()),g.toString()}}zt.HEADER_SIZE=8,zt.LAST_DIGIT_SIZE=2,zt.FIRST_THREE_DIGITS_SIZE=10;class rn extends Vt{constructor(g,C,S){super(g),this.dateCode=S,this.firstAIdigits=C}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE+rn.DATE_SIZE)throw new de;let g=new Ee;return this.encodeCompressedGtin(g,rn.HEADER_SIZE),this.encodeCompressedWeight(g,rn.HEADER_SIZE+rn.GTIN_SIZE,rn.WEIGHT_SIZE),this.encodeCompressedDate(g,rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE),g.toString()}encodeCompressedDate(g,C){let S=this.getGeneralDecoder().extractNumericValueFromBitArray(C,rn.DATE_SIZE);if(S==38400)return;g.append("("),g.append(this.dateCode),g.append(")");let I=S%32;S/=32;let N=S%12+1;S/=12;let D=S;D/10==0&&g.append("0"),g.append(D),N/10==0&&g.append("0"),g.append(N),I/10==0&&g.append("0"),g.append(I)}addWeightCode(g,C){g.append("("),g.append(this.firstAIdigits),g.append(C/1e5),g.append(")")}checkWeight(g){return g%1e5}}rn.HEADER_SIZE=8,rn.WEIGHT_SIZE=20,rn.DATE_SIZE=16;function Mr(fe){try{if(fe.get(1))return new Nt(fe);if(!fe.get(2))return new Tt(fe);switch(Et.extractNumericValueFromBitArray(fe,1,4)){case 4:return new Wn(fe);case 5:return new Hn(fe)}switch(Et.extractNumericValueFromBitArray(fe,1,5)){case 12:return new en(fe);case 13:return new zt(fe)}switch(Et.extractNumericValueFromBitArray(fe,1,7)){case 56:return new rn(fe,"310","11");case 57:return new rn(fe,"320","11");case 58:return new rn(fe,"310","13");case 59:return new rn(fe,"320","13");case 60:return new rn(fe,"310","15");case 61:return new rn(fe,"320","15");case 62:return new rn(fe,"310","17");case 63:return new rn(fe,"320","17")}}catch(g){throw console.log(g),new an("unknown decoder: "+fe)}}class qn{constructor(g,C,S,I){this.leftchar=g,this.rightchar=C,this.finderpattern=S,this.maybeLast=I}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(g,C){return g instanceof qn?qn.equalsOrNull(g.leftchar,C.leftchar)&&qn.equalsOrNull(g.rightchar,C.rightchar)&&qn.equalsOrNull(g.finderpattern,C.finderpattern):!1}static equalsOrNull(g,C){return g===null?C===null:qn.equals(g,C)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yn{constructor(g,C,S){this.pairs=g,this.rowNumber=C,this.wasReversed=S}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(g){return this.checkEqualitity(this,g)}toString(){return"{ "+this.pairs+" }"}equals(g,C){return g instanceof yn?this.checkEqualitity(g,C)&&g.wasReversed===C.wasReversed:!1}checkEqualitity(g,C){if(!g||!C)return;let S;return g.forEach((I,N)=>{C.forEach(D=>{I.getLeftChar().getValue()===D.getLeftChar().getValue()&&I.getRightChar().getValue()===D.getRightChar().getValue()&&I.getFinderPatter().getValue()===D.getFinderPatter().getValue()&&(S=!0)})}),S}}class lt extends Dn{constructor(g){super(...arguments),this.pairs=new Array(lt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=g===!0}decodeRow(g,C,S){this.pairs.length=0,this.startFromEven=!1;try{return lt.constructResult(this.decodeRow2pairs(g,C))}catch(I){this.verbose&&console.log(I)}return this.pairs.length=0,this.startFromEven=!0,lt.constructResult(this.decodeRow2pairs(g,C))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(g,C){let S=!1;for(;!S;)try{this.pairs.push(this.retrieveNextPair(C,this.pairs,g))}catch(N){if(N instanceof de){if(!this.pairs.length)throw new de;S=!0}}if(this.checkChecksum())return this.pairs;let I;if(this.rows.length?I=!0:I=!1,this.storeRow(g,!1),I){let N=this.checkRowsBoolean(!1);if(N!=null||(N=this.checkRowsBoolean(!0),N!=null))return N}throw new de}checkRowsBoolean(g){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,g&&(this.rows=this.rows.reverse());let C=null;try{C=this.checkRows(new Array,0)}catch(S){this.verbose&&console.log(S)}return g&&(this.rows=this.rows.reverse()),C}checkRows(g,C){for(let S=C;S<this.rows.length;S++){let I=this.rows[S];this.pairs.length=0;for(let D of g)this.pairs.push(D.getPairs());if(this.pairs.push(I.getPairs()),!lt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let N=new Array(g);N.push(I);try{return this.checkRows(N,S+1)}catch(D){this.verbose&&console.log(D)}}throw new de}static isValidSequence(g){for(let C of lt.FINDER_PATTERN_SEQUENCES){if(g.length>C.length)continue;let S=!0;for(let I=0;I<g.length;I++)if(g[I].getFinderPattern().getValue()!=C[I]){S=!1;break}if(S)return!0}return!1}storeRow(g,C){let S=0,I=!1,N=!1;for(;S<this.rows.length;){let D=this.rows[S];if(D.getRowNumber()>g){N=D.isEquivalent(this.pairs);break}I=D.isEquivalent(this.pairs),S++}N||I||lt.isPartialRow(this.pairs,this.rows)||(this.rows.push(S,new yn(this.pairs,g,C)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(g,C){for(let S of C)if(S.getPairs().length!==g.length){for(let I of S.getPairs())for(let N of g)if(qn.equals(I,N))break}}static isPartialRow(g,C){for(let S of C){let I=!0;for(let N of g){let D=!1;for(let Q of S.getPairs())if(N.equals(Q)){D=!0;break}if(!D){I=!1;break}}if(I)return!0}return!1}getRows(){return this.rows}static constructResult(g){let C=_e.buildBitArray(g),I=Mr(C).parseInformation(),N=g[0].getFinderPattern().getResultPoints(),D=g[g.length-1].getFinderPattern().getResultPoints(),Q=[N[0],N[1],D[0],D[1]];return new Be(I,null,null,Q,De.RSS_EXPANDED,null)}checkChecksum(){let g=this.pairs.get(0),C=g.getLeftChar(),S=g.getRightChar();if(S==null)return!1;let I=S.getChecksumPortion(),N=2;for(let Q=1;Q<this.pairs.size();++Q){let J=this.pairs.get(Q);I+=J.getLeftChar().getChecksumPortion(),N++;let ne=J.getRightChar();ne!=null&&(I+=ne.getChecksumPortion(),N++)}return I%=211,211*(N-4)+I==C.getValue()}static getNextSecondBar(g,C){let S;return g.get(C)?(S=g.getNextUnset(C),S=g.getNextSet(S)):(S=g.getNextSet(C),S=g.getNextUnset(S)),S}retrieveNextPair(g,C,S){let I=C.length%2==0;this.startFromEven&&(I=!I);let N,D=!0,Q=-1;do this.findNextPair(g,C,Q),N=this.parseFoundFinderPattern(g,S,I),N==null?Q=lt.getNextSecondBar(g,this.startEnd[0]):D=!1;while(D);let J=this.decodeDataCharacter(g,N,I,!0);if(!this.isEmptyPair(C)&&C[C.length-1].mustBeLast())throw new de;let ne;try{ne=this.decodeDataCharacter(g,N,I,!1)}catch(le){ne=null,this.verbose&&console.log(le)}return new qn(J,ne,N,!0)}isEmptyPair(g){return g.length===0}findNextPair(g,C,S){let I=this.getDecodeFinderCounters();I[0]=0,I[1]=0,I[2]=0,I[3]=0;let N=g.getSize(),D;S>=0?D=S:this.isEmptyPair(C)?D=0:D=C[C.length-1].getFinderPattern().getStartEnd()[1];let Q=C.length%2!=0;this.startFromEven&&(Q=!Q);let J=!1;for(;D<N&&(J=!g.get(D),!!J);)D++;let ne=0,le=D;for(let he=D;he<N;he++)if(g.get(he)!=J)I[ne]++;else{if(ne==3){if(Q&&lt.reverseCounters(I),lt.isFinderPattern(I)){this.startEnd[0]=le,this.startEnd[1]=he;return}Q&&lt.reverseCounters(I),le+=I[0]+I[1],I[0]=I[2],I[1]=I[3],I[2]=0,I[3]=0,ne--}else ne++;I[ne]=1,J=!J}throw new de}static reverseCounters(g){let C=g.length;for(let S=0;S<C/2;++S){let I=g[S];g[S]=g[C-S-1],g[C-S-1]=I}}parseFoundFinderPattern(g,C,S){let I,N,D;if(S){let ne=this.startEnd[0]-1;for(;ne>=0&&!g.get(ne);)ne--;ne++,I=this.startEnd[0]-ne,N=ne,D=this.startEnd[1]}else N=this.startEnd[0],D=g.getNextUnset(this.startEnd[1]+1),I=D-this.startEnd[1];let Q=this.getDecodeFinderCounters();P.arraycopy(Q,0,Q,1,Q.length-1),Q[0]=I;let J;try{J=this.parseFinderValue(Q,lt.FINDER_PATTERNS)}catch{return null}return new Zr(J,[N,D],N,D,C)}decodeDataCharacter(g,C,S,I){let N=this.getDataCharacterCounters();for(let _n=0;_n<N.length;_n++)N[_n]=0;if(I)lt.recordPatternInReverse(g,C.getStartEnd()[0],N);else{lt.recordPattern(g,C.getStartEnd()[1],N);for(let _n=0,pr=N.length-1;_n<pr;_n++,pr--){let Nr=N[_n];N[_n]=N[pr],N[pr]=Nr}}let D=17,Q=Ot.sum(new Int32Array(N))/D,J=(C.getStartEnd()[1]-C.getStartEnd()[0])/15;if(Math.abs(Q-J)/J>.3)throw new de;let ne=this.getOddCounts(),le=this.getEvenCounts(),he=this.getOddRoundingErrors(),xe=this.getEvenRoundingErrors();for(let _n=0;_n<N.length;_n++){let pr=1*N[_n]/Q,Nr=pr+.5;if(Nr<1){if(pr<.3)throw new de;Nr=1}else if(Nr>8){if(pr>8.7)throw new de;Nr=8}let li=_n/2;(_n&1)==0?(ne[li]=Nr,he[li]=pr-Nr):(le[li]=Nr,xe[li]=pr-Nr)}this.adjustOddEvenCounts(D);let Se=4*C.getValue()+(S?0:2)+(I?0:1)-1,Ie=0,Ne=0;for(let _n=ne.length-1;_n>=0;_n--){if(lt.isNotA1left(C,S,I)){let pr=lt.WEIGHTS[Se][2*_n];Ne+=ne[_n]*pr}Ie+=ne[_n]}let Le=0;for(let _n=le.length-1;_n>=0;_n--)if(lt.isNotA1left(C,S,I)){let pr=lt.WEIGHTS[Se][2*_n+1];Le+=le[_n]*pr}let Ge=Ne+Le;if((Ie&1)!=0||Ie>13||Ie<4)throw new de;let ft=(13-Ie)/2,dt=lt.SYMBOL_WIDEST[ft],At=9-dt,tn=kr.getRSSvalue(ne,dt,!0),Kt=kr.getRSSvalue(le,At,!1),Jn=lt.EVEN_TOTAL_SUBSET[ft],Lr=lt.GSUM[ft],vr=tn*Jn+Kt+Lr;return new Br(vr,Ge)}static isNotA1left(g,C,S){return!(g.getValue()==0&&C&&S)}adjustOddEvenCounts(g){let C=Ot.sum(new Int32Array(this.getOddCounts())),S=Ot.sum(new Int32Array(this.getEvenCounts())),I=!1,N=!1;C>13?N=!0:C<4&&(I=!0);let D=!1,Q=!1;S>13?Q=!0:S<4&&(D=!0);let J=C+S-g,ne=(C&1)==1,le=(S&1)==0;if(J==1)if(ne){if(le)throw new de;N=!0}else{if(!le)throw new de;Q=!0}else if(J==-1)if(ne){if(le)throw new de;I=!0}else{if(!le)throw new de;D=!0}else if(J==0){if(ne){if(!le)throw new de;C<S?(I=!0,Q=!0):(N=!0,D=!0)}else if(le)throw new de}else throw new de;if(I){if(N)throw new de;lt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(N&&lt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(Q)throw new de;lt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}Q&&lt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.SYMBOL_WIDEST=[7,5,4,3,1],lt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],lt.GSUM=[0,348,1388,2948,3988],lt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],lt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],lt.FINDER_PAT_A=0,lt.FINDER_PAT_B=1,lt.FINDER_PAT_C=2,lt.FINDER_PAT_D=3,lt.FINDER_PAT_E=4,lt.FINDER_PAT_F=5,lt.FINDER_PATTERN_SEQUENCES=[[lt.FINDER_PAT_A,lt.FINDER_PAT_A],[lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B],[lt.FINDER_PAT_A,lt.FINDER_PAT_C,lt.FINDER_PAT_B,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_C],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F]],lt.MAX_PAIRS=11;class vs extends Br{constructor(g,C,S){super(g,C),this.count=0,this.finderPattern=S}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ln extends Dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(g,C,S){const I=this.decodePair(C,!1,g,S);ln.addOrTally(this.possibleLeftPairs,I),C.reverse();let N=this.decodePair(C,!0,g,S);ln.addOrTally(this.possibleRightPairs,N),C.reverse();for(let D of this.possibleLeftPairs)if(D.getCount()>1){for(let Q of this.possibleRightPairs)if(Q.getCount()>1&&ln.checkChecksum(D,Q))return ln.constructResult(D,Q)}throw new de}static addOrTally(g,C){if(C==null)return;let S=!1;for(let I of g)if(I.getValue()===C.getValue()){I.incrementCount(),S=!0;break}S||g.push(C)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(g,C){let S=4537077*g.getValue()+C.getValue(),I=new String(S).toString(),N=new Ee;for(let ne=13-I.length;ne>0;ne--)N.append("0");N.append(I);let D=0;for(let ne=0;ne<13;ne++){let le=N.charAt(ne).charCodeAt(0)-48;D+=(ne&1)===0?3*le:le}D=10-D%10,D===10&&(D=0),N.append(D.toString());let Q=g.getFinderPattern().getResultPoints(),J=C.getFinderPattern().getResultPoints();return new Be(N.toString(),null,0,[Q[0],Q[1],J[0],J[1]],De.RSS_14,new Date().getTime())}static checkChecksum(g,C){let S=(g.getChecksumPortion()+16*C.getChecksumPortion())%79,I=9*g.getFinderPattern().getValue()+C.getFinderPattern().getValue();return I>72&&I--,I>8&&I--,S===I}decodePair(g,C,S,I){try{let N=this.findFinderPattern(g,C),D=this.parseFoundFinderPattern(g,S,C,N),Q=I==null?null:I.get(Y.NEED_RESULT_POINT_CALLBACK);if(Q!=null){let le=(N[0]+N[1])/2;C&&(le=g.getSize()-1-le),Q.foundPossibleResultPoint(new pt(le,S))}let J=this.decodeDataCharacter(g,D,!0),ne=this.decodeDataCharacter(g,D,!1);return new vs(1597*J.getValue()+ne.getValue(),J.getChecksumPortion()+4*ne.getChecksumPortion(),D)}catch{return null}}decodeDataCharacter(g,C,S){let I=this.getDataCharacterCounters();for(let Le=0;Le<I.length;Le++)I[Le]=0;if(S)Ve.recordPatternInReverse(g,C.getStartEnd()[0],I);else{Ve.recordPattern(g,C.getStartEnd()[1]+1,I);for(let Le=0,Ge=I.length-1;Le<Ge;Le++,Ge--){let ft=I[Le];I[Le]=I[Ge],I[Ge]=ft}}let N=S?16:15,D=Ot.sum(new Int32Array(I))/N,Q=this.getOddCounts(),J=this.getEvenCounts(),ne=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let Le=0;Le<I.length;Le++){let Ge=I[Le]/D,ft=Math.floor(Ge+.5);ft<1?ft=1:ft>8&&(ft=8);let dt=Math.floor(Le/2);(Le&1)===0?(Q[dt]=ft,ne[dt]=Ge-ft):(J[dt]=ft,le[dt]=Ge-ft)}this.adjustOddEvenCounts(S,N);let he=0,xe=0;for(let Le=Q.length-1;Le>=0;Le--)xe*=9,xe+=Q[Le],he+=Q[Le];let Se=0,Ie=0;for(let Le=J.length-1;Le>=0;Le--)Se*=9,Se+=J[Le],Ie+=J[Le];let Ne=xe+3*Se;if(S){if((he&1)!==0||he>12||he<4)throw new de;let Le=(12-he)/2,Ge=ln.OUTSIDE_ODD_WIDEST[Le],ft=9-Ge,dt=kr.getRSSvalue(Q,Ge,!1),At=kr.getRSSvalue(J,ft,!0),tn=ln.OUTSIDE_EVEN_TOTAL_SUBSET[Le],Kt=ln.OUTSIDE_GSUM[Le];return new Br(dt*tn+At+Kt,Ne)}else{if((Ie&1)!==0||Ie>10||Ie<4)throw new de;let Le=(10-Ie)/2,Ge=ln.INSIDE_ODD_WIDEST[Le],ft=9-Ge,dt=kr.getRSSvalue(Q,Ge,!0),At=kr.getRSSvalue(J,ft,!1),tn=ln.INSIDE_ODD_TOTAL_SUBSET[Le],Kt=ln.INSIDE_GSUM[Le];return new Br(At*tn+dt+Kt,Ne)}}findFinderPattern(g,C){let S=this.getDecodeFinderCounters();S[0]=0,S[1]=0,S[2]=0,S[3]=0;let I=g.getSize(),N=!1,D=0;for(;D<I&&(N=!g.get(D),C!==N);)D++;let Q=0,J=D;for(let ne=D;ne<I;ne++)if(g.get(ne)!==N)S[Q]++;else{if(Q===3){if(Dn.isFinderPattern(S))return[J,ne];J+=S[0]+S[1],S[0]=S[2],S[1]=S[3],S[2]=0,S[3]=0,Q--}else Q++;S[Q]=1,N=!N}throw new de}parseFoundFinderPattern(g,C,S,I){let N=g.get(I[0]),D=I[0]-1;for(;D>=0&&N!==g.get(D);)D--;D++;const Q=I[0]-D,J=this.getDecodeFinderCounters(),ne=new Int32Array(J.length);P.arraycopy(J,0,ne,1,J.length-1),ne[0]=Q;const le=this.parseFinderValue(ne,ln.FINDER_PATTERNS);let he=D,xe=I[1];return S&&(he=g.getSize()-1-he,xe=g.getSize()-1-xe),new Zr(le,[D,I[1]],he,xe,C)}adjustOddEvenCounts(g,C){let S=Ot.sum(new Int32Array(this.getOddCounts())),I=Ot.sum(new Int32Array(this.getEvenCounts())),N=!1,D=!1,Q=!1,J=!1;g?(S>12?D=!0:S<4&&(N=!0),I>12?J=!0:I<4&&(Q=!0)):(S>11?D=!0:S<5&&(N=!0),I>10?J=!0:I<4&&(Q=!0));let ne=S+I-C,le=(S&1)===(g?1:0),he=(I&1)===1;if(ne===1)if(le){if(he)throw new de;D=!0}else{if(!he)throw new de;J=!0}else if(ne===-1)if(le){if(he)throw new de;N=!0}else{if(!he)throw new de;Q=!0}else if(ne===0){if(le){if(!he)throw new de;S<I?(N=!0,J=!0):(D=!0,Q=!0)}else if(he)throw new de}else throw new de;if(N){if(D)throw new de;Dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&Dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),Q){if(J)throw new de;Dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}J&&Dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ln.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ln.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ln.OUTSIDE_GSUM=[0,161,961,2015,2715],ln.INSIDE_GSUM=[0,336,1036,1516],ln.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ln.INSIDE_ODD_WIDEST=[2,4,6,8],ln.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class gr extends Ve{constructor(g,C){super(),this.readers=[],this.verbose=C===!0;const S=g?g.get(Y.POSSIBLE_FORMATS):null,I=g&&g.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;S?((S.includes(De.EAN_13)||S.includes(De.UPC_A)||S.includes(De.EAN_8)||S.includes(De.UPC_E))&&this.readers.push(new Tr(g)),S.includes(De.CODE_39)&&this.readers.push(new ut(I)),S.includes(De.CODE_128)&&this.readers.push(new je),S.includes(De.ITF)&&this.readers.push(new ot),S.includes(De.RSS_14)&&this.readers.push(new ln),S.includes(De.RSS_EXPANDED)&&this.readers.push(new lt(this.verbose))):(this.readers.push(new Tr(g)),this.readers.push(new ut),this.readers.push(new Tr(g)),this.readers.push(new je),this.readers.push(new ot),this.readers.push(new ln),this.readers.push(new lt(this.verbose)))}decodeRow(g,C,S){for(let I=0;I<this.readers.length;I++)try{return this.readers[I].decodeRow(g,C,S)}catch{}throw new de}reset(){this.readers.forEach(g=>g.reset())}}class Js extends Re{constructor(g=500,C){super(new gr(C),g,C)}}class Bt{constructor(g,C,S){this.ecCodewords=g,this.ecBlocks=[C],S&&this.ecBlocks.push(S)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ht{constructor(g,C){this.count=g,this.dataCodewords=C}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(g,C,S,I,N,D){this.versionNumber=g,this.symbolSizeRows=C,this.symbolSizeColumns=S,this.dataRegionSizeRows=I,this.dataRegionSizeColumns=N,this.ecBlocks=D;let Q=0;const J=D.getECCodewords(),ne=D.getECBlocks();for(let le of ne)Q+=le.getCount()*(le.getDataCodewords()+J);this.totalCodewords=Q}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(g,C){if((g&1)!==0||(C&1)!==0)throw new X;for(let S of qt.VERSIONS)if(S.symbolSizeRows===g&&S.symbolSizeColumns===C)return S;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new qt(1,10,10,8,8,new Bt(5,new Ht(1,3))),new qt(2,12,12,10,10,new Bt(7,new Ht(1,5))),new qt(3,14,14,12,12,new Bt(10,new Ht(1,8))),new qt(4,16,16,14,14,new Bt(12,new Ht(1,12))),new qt(5,18,18,16,16,new Bt(14,new Ht(1,18))),new qt(6,20,20,18,18,new Bt(18,new Ht(1,22))),new qt(7,22,22,20,20,new Bt(20,new Ht(1,30))),new qt(8,24,24,22,22,new Bt(24,new Ht(1,36))),new qt(9,26,26,24,24,new Bt(28,new Ht(1,44))),new qt(10,32,32,14,14,new Bt(36,new Ht(1,62))),new qt(11,36,36,16,16,new Bt(42,new Ht(1,86))),new qt(12,40,40,18,18,new Bt(48,new Ht(1,114))),new qt(13,44,44,20,20,new Bt(56,new Ht(1,144))),new qt(14,48,48,22,22,new Bt(68,new Ht(1,174))),new qt(15,52,52,24,24,new Bt(42,new Ht(2,102))),new qt(16,64,64,14,14,new Bt(56,new Ht(2,140))),new qt(17,72,72,16,16,new Bt(36,new Ht(4,92))),new qt(18,80,80,18,18,new Bt(48,new Ht(4,114))),new qt(19,88,88,20,20,new Bt(56,new Ht(4,144))),new qt(20,96,96,22,22,new Bt(68,new Ht(4,174))),new qt(21,104,104,24,24,new Bt(56,new Ht(6,136))),new qt(22,120,120,18,18,new Bt(68,new Ht(6,175))),new qt(23,132,132,20,20,new Bt(62,new Ht(8,163))),new qt(24,144,144,22,22,new Bt(62,new Ht(8,156),new Ht(2,155))),new qt(25,8,18,6,16,new Bt(7,new Ht(1,5))),new qt(26,8,32,6,14,new Bt(11,new Ht(1,10))),new qt(27,12,26,10,24,new Bt(14,new Ht(1,16))),new qt(28,12,36,10,16,new Bt(18,new Ht(1,22))),new qt(29,16,36,14,16,new Bt(24,new Ht(1,32))),new qt(30,16,48,14,22,new Bt(28,new Ht(1,49)))]}}qt.VERSIONS=qt.buildVersions();class _r{constructor(g){const C=g.getHeight();if(C<8||C>144||(C&1)!==0)throw new X;this.version=_r.readVersion(g),this.mappingBitMatrix=this.extractDataRegion(g),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(g){const C=g.getHeight(),S=g.getWidth();return qt.getVersionForDimensions(C,S)}readCodewords(){const g=new Int8Array(this.version.getTotalCodewords());let C=0,S=4,I=0;const N=this.mappingBitMatrix.getHeight(),D=this.mappingBitMatrix.getWidth();let Q=!1,J=!1,ne=!1,le=!1;do if(S===N&&I===0&&!Q)g[C++]=this.readCorner1(N,D)&255,S-=2,I+=2,Q=!0;else if(S===N-2&&I===0&&(D&3)!==0&&!J)g[C++]=this.readCorner2(N,D)&255,S-=2,I+=2,J=!0;else if(S===N+4&&I===2&&(D&7)===0&&!ne)g[C++]=this.readCorner3(N,D)&255,S-=2,I+=2,ne=!0;else if(S===N-2&&I===0&&(D&7)===4&&!le)g[C++]=this.readCorner4(N,D)&255,S-=2,I+=2,le=!0;else{do S<N&&I>=0&&!this.readMappingMatrix.get(I,S)&&(g[C++]=this.readUtah(S,I,N,D)&255),S-=2,I+=2;while(S>=0&&I<D);S+=1,I+=3;do S>=0&&I<D&&!this.readMappingMatrix.get(I,S)&&(g[C++]=this.readUtah(S,I,N,D)&255),S+=2,I-=2;while(S<N&&I>=0);S+=3,I+=1}while(S<N||I<D);if(C!==this.version.getTotalCodewords())throw new X;return g}readModule(g,C,S,I){return g<0&&(g+=S,C+=4-(S+4&7)),C<0&&(C+=I,g+=4-(I+4&7)),this.readMappingMatrix.set(C,g),this.mappingBitMatrix.get(C,g)}readUtah(g,C,S,I){let N=0;return this.readModule(g-2,C-2,S,I)&&(N|=1),N<<=1,this.readModule(g-2,C-1,S,I)&&(N|=1),N<<=1,this.readModule(g-1,C-2,S,I)&&(N|=1),N<<=1,this.readModule(g-1,C-1,S,I)&&(N|=1),N<<=1,this.readModule(g-1,C,S,I)&&(N|=1),N<<=1,this.readModule(g,C-2,S,I)&&(N|=1),N<<=1,this.readModule(g,C-1,S,I)&&(N|=1),N<<=1,this.readModule(g,C,S,I)&&(N|=1),N}readCorner1(g,C){let S=0;return this.readModule(g-1,0,g,C)&&(S|=1),S<<=1,this.readModule(g-1,1,g,C)&&(S|=1),S<<=1,this.readModule(g-1,2,g,C)&&(S|=1),S<<=1,this.readModule(0,C-2,g,C)&&(S|=1),S<<=1,this.readModule(0,C-1,g,C)&&(S|=1),S<<=1,this.readModule(1,C-1,g,C)&&(S|=1),S<<=1,this.readModule(2,C-1,g,C)&&(S|=1),S<<=1,this.readModule(3,C-1,g,C)&&(S|=1),S}readCorner2(g,C){let S=0;return this.readModule(g-3,0,g,C)&&(S|=1),S<<=1,this.readModule(g-2,0,g,C)&&(S|=1),S<<=1,this.readModule(g-1,0,g,C)&&(S|=1),S<<=1,this.readModule(0,C-4,g,C)&&(S|=1),S<<=1,this.readModule(0,C-3,g,C)&&(S|=1),S<<=1,this.readModule(0,C-2,g,C)&&(S|=1),S<<=1,this.readModule(0,C-1,g,C)&&(S|=1),S<<=1,this.readModule(1,C-1,g,C)&&(S|=1),S}readCorner3(g,C){let S=0;return this.readModule(g-1,0,g,C)&&(S|=1),S<<=1,this.readModule(g-1,C-1,g,C)&&(S|=1),S<<=1,this.readModule(0,C-3,g,C)&&(S|=1),S<<=1,this.readModule(0,C-2,g,C)&&(S|=1),S<<=1,this.readModule(0,C-1,g,C)&&(S|=1),S<<=1,this.readModule(1,C-3,g,C)&&(S|=1),S<<=1,this.readModule(1,C-2,g,C)&&(S|=1),S<<=1,this.readModule(1,C-1,g,C)&&(S|=1),S}readCorner4(g,C){let S=0;return this.readModule(g-3,0,g,C)&&(S|=1),S<<=1,this.readModule(g-2,0,g,C)&&(S|=1),S<<=1,this.readModule(g-1,0,g,C)&&(S|=1),S<<=1,this.readModule(0,C-2,g,C)&&(S|=1),S<<=1,this.readModule(0,C-1,g,C)&&(S|=1),S<<=1,this.readModule(1,C-1,g,C)&&(S|=1),S<<=1,this.readModule(2,C-1,g,C)&&(S|=1),S<<=1,this.readModule(3,C-1,g,C)&&(S|=1),S}extractDataRegion(g){const C=this.version.getSymbolSizeRows(),S=this.version.getSymbolSizeColumns();if(g.getHeight()!==C)throw new _("Dimension of bitMatrix must match the version size");const I=this.version.getDataRegionSizeRows(),N=this.version.getDataRegionSizeColumns(),D=C/I|0,Q=S/N|0,J=D*I,ne=Q*N,le=new ve(ne,J);for(let he=0;he<D;++he){const xe=he*I;for(let Se=0;Se<Q;++Se){const Ie=Se*N;for(let Ne=0;Ne<I;++Ne){const Le=he*(I+2)+1+Ne,Ge=xe+Ne;for(let ft=0;ft<N;++ft){const dt=Se*(N+2)+1+ft;if(g.get(dt,Le)){const At=Ie+ft;le.set(At,Ge)}}}}}return le}}class Cn{constructor(g,C){this.numDataCodewords=g,this.codewords=C}static getDataBlocks(g,C){const S=C.getECBlocks();let I=0;const N=S.getECBlocks();for(let Ne of N)I+=Ne.getCount();const D=new Array(I);let Q=0;for(let Ne of N)for(let Le=0;Le<Ne.getCount();Le++){const Ge=Ne.getDataCodewords(),ft=S.getECCodewords()+Ge;D[Q++]=new Cn(Ge,new Uint8Array(ft))}const ne=D[0].codewords.length-S.getECCodewords(),le=ne-1;let he=0;for(let Ne=0;Ne<le;Ne++)for(let Le=0;Le<Q;Le++)D[Le].codewords[Ne]=g[he++];const xe=C.getVersionNumber()===24,Se=xe?8:Q;for(let Ne=0;Ne<Se;Ne++)D[Ne].codewords[ne-1]=g[he++];const Ie=D[0].codewords.length;for(let Ne=ne;Ne<Ie;Ne++)for(let Le=0;Le<Q;Le++){const Ge=xe?(Le+8)%Q:Le,ft=xe&&Ge>7?Ne-1:Ne;D[Ge].codewords[ft]=g[he++]}if(he!==g.length)throw new _;return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xr{constructor(g){this.bytes=g,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(g){if(g<1||g>32||g>this.available())throw new _(""+g);let C=0,S=this.bitOffset,I=this.byteOffset;const N=this.bytes;if(S>0){const D=8-S,Q=g<D?g:D,J=D-Q,ne=255>>8-Q<<J;C=(N[I]&ne)>>J,g-=Q,S+=Q,S===8&&(S=0,I++)}if(g>0){for(;g>=8;)C=C<<8|N[I]&255,I++,g-=8;if(g>0){const D=8-g,Q=255>>D<<D;C=C<<g|(N[I]&Q)>>D,S+=g}}return this.bitOffset=S,this.byteOffset=I,C}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gn;(function(fe){fe[fe.PAD_ENCODE=0]="PAD_ENCODE",fe[fe.ASCII_ENCODE=1]="ASCII_ENCODE",fe[fe.C40_ENCODE=2]="C40_ENCODE",fe[fe.TEXT_ENCODE=3]="TEXT_ENCODE",fe[fe.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",fe[fe.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",fe[fe.BASE256_ENCODE=6]="BASE256_ENCODE"})(gn||(gn={}));class Qr{static decode(g){const C=new xr(g),S=new Ee,I=new Ee,N=new Array;let D=gn.ASCII_ENCODE;do if(D===gn.ASCII_ENCODE)D=this.decodeAsciiSegment(C,S,I);else{switch(D){case gn.C40_ENCODE:this.decodeC40Segment(C,S);break;case gn.TEXT_ENCODE:this.decodeTextSegment(C,S);break;case gn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(C,S);break;case gn.EDIFACT_ENCODE:this.decodeEdifactSegment(C,S);break;case gn.BASE256_ENCODE:this.decodeBase256Segment(C,S,N);break;default:throw new X}D=gn.ASCII_ENCODE}while(D!==gn.PAD_ENCODE&&C.available()>0);return I.length()>0&&S.append(I.toString()),new Ct(g,S.toString(),N.length===0?null:N,null)}static decodeAsciiSegment(g,C,S){let I=!1;do{let N=g.readBits(8);if(N===0)throw new X;if(N<=128)return I&&(N+=128),C.append(String.fromCharCode(N-1)),gn.ASCII_ENCODE;if(N===129)return gn.PAD_ENCODE;if(N<=229){const D=N-130;D<10&&C.append("0"),C.append(""+D)}else switch(N){case 230:return gn.C40_ENCODE;case 231:return gn.BASE256_ENCODE;case 232:C.append("");break;case 233:case 234:break;case 235:I=!0;break;case 236:C.append("[)>05"),S.insert(0,"");break;case 237:C.append("[)>06"),S.insert(0,"");break;case 238:return gn.ANSIX12_ENCODE;case 239:return gn.TEXT_ENCODE;case 240:return gn.EDIFACT_ENCODE;case 241:break;default:if(N!==254||g.available()!==0)throw new X;break}}while(g.available()>0);return gn.ASCII_ENCODE}static decodeC40Segment(g,C){let S=!1;const I=[];let N=0;do{if(g.available()===8)return;const D=g.readBits(8);if(D===254)return;this.parseTwoBytes(D,g.readBits(8),I);for(let Q=0;Q<3;Q++){const J=I[Q];switch(N){case 0:if(J<3)N=J+1;else if(J<this.C40_BASIC_SET_CHARS.length){const ne=this.C40_BASIC_SET_CHARS[J];S?(C.append(String.fromCharCode(ne.charCodeAt(0)+128)),S=!1):C.append(ne)}else throw new X;break;case 1:S?(C.append(String.fromCharCode(J+128)),S=!1):C.append(String.fromCharCode(J)),N=0;break;case 2:if(J<this.C40_SHIFT2_SET_CHARS.length){const ne=this.C40_SHIFT2_SET_CHARS[J];S?(C.append(String.fromCharCode(ne.charCodeAt(0)+128)),S=!1):C.append(ne)}else switch(J){case 27:C.append("");break;case 30:S=!0;break;default:throw new X}N=0;break;case 3:S?(C.append(String.fromCharCode(J+224)),S=!1):C.append(String.fromCharCode(J+96)),N=0;break;default:throw new X}}}while(g.available()>0)}static decodeTextSegment(g,C){let S=!1,I=[],N=0;do{if(g.available()===8)return;const D=g.readBits(8);if(D===254)return;this.parseTwoBytes(D,g.readBits(8),I);for(let Q=0;Q<3;Q++){const J=I[Q];switch(N){case 0:if(J<3)N=J+1;else if(J<this.TEXT_BASIC_SET_CHARS.length){const ne=this.TEXT_BASIC_SET_CHARS[J];S?(C.append(String.fromCharCode(ne.charCodeAt(0)+128)),S=!1):C.append(ne)}else throw new X;break;case 1:S?(C.append(String.fromCharCode(J+128)),S=!1):C.append(String.fromCharCode(J)),N=0;break;case 2:if(J<this.TEXT_SHIFT2_SET_CHARS.length){const ne=this.TEXT_SHIFT2_SET_CHARS[J];S?(C.append(String.fromCharCode(ne.charCodeAt(0)+128)),S=!1):C.append(ne)}else switch(J){case 27:C.append("");break;case 30:S=!0;break;default:throw new X}N=0;break;case 3:if(J<this.TEXT_SHIFT3_SET_CHARS.length){const ne=this.TEXT_SHIFT3_SET_CHARS[J];S?(C.append(String.fromCharCode(ne.charCodeAt(0)+128)),S=!1):C.append(ne),N=0}else throw new X;break;default:throw new X}}}while(g.available()>0)}static decodeAnsiX12Segment(g,C){const S=[];do{if(g.available()===8)return;const I=g.readBits(8);if(I===254)return;this.parseTwoBytes(I,g.readBits(8),S);for(let N=0;N<3;N++){const D=S[N];switch(D){case 0:C.append("\r");break;case 1:C.append("*");break;case 2:C.append(">");break;case 3:C.append(" ");break;default:if(D<14)C.append(String.fromCharCode(D+44));else if(D<40)C.append(String.fromCharCode(D+51));else throw new X;break}}}while(g.available()>0)}static parseTwoBytes(g,C,S){let I=(g<<8)+C-1,N=Math.floor(I/1600);S[0]=N,I-=N*1600,N=Math.floor(I/40),S[1]=N,S[2]=I-N*40}static decodeEdifactSegment(g,C){do{if(g.available()<=16)return;for(let S=0;S<4;S++){let I=g.readBits(6);if(I===31){const N=8-g.getBitOffset();N!==8&&g.readBits(N);return}(I&32)===0&&(I|=64),C.append(String.fromCharCode(I))}}while(g.available()>0)}static decodeBase256Segment(g,C,S){let I=1+g.getByteOffset();const N=this.unrandomize255State(g.readBits(8),I++);let D;if(N===0?D=g.available()/8|0:N<250?D=N:D=250*(N-249)+this.unrandomize255State(g.readBits(8),I++),D<0)throw new X;const Q=new Uint8Array(D);for(let J=0;J<D;J++){if(g.available()<8)throw new X;Q[J]=this.unrandomize255State(g.readBits(8),I++)}S.push(Q);try{C.append(ge.decode(Q,me.ISO88591))}catch(J){throw new an("Platform does not support required encoding: "+J.message)}}static unrandomize255State(g,C){const S=149*C%255+1,I=g-S;return I>=0?I:I+256}}Qr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qr.TEXT_SHIFT2_SET_CHARS=Qr.C40_SHIFT2_SET_CHARS,Qr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class jl{constructor(){this.rsDecoder=new Un(gt.DATA_MATRIX_FIELD_256)}decode(g){const C=new _r(g),S=C.getVersion(),I=C.readCodewords(),N=Cn.getDataBlocks(I,S);let D=0;for(let ne of N)D+=ne.getNumDataCodewords();const Q=new Uint8Array(D),J=N.length;for(let ne=0;ne<J;ne++){const le=N[ne],he=le.getCodewords(),xe=le.getNumDataCodewords();this.correctErrors(he,xe);for(let Se=0;Se<xe;Se++)Q[Se*J+ne]=he[Se]}return Qr.decode(Q)}correctErrors(g,C){const S=new Int32Array(g);try{this.rsDecoder.decode(S,g.length-C)}catch{throw new k}for(let I=0;I<C;I++)g[I]=S[I]}}class Qn{constructor(g){this.image=g,this.rectangleDetector=new st(this.image)}detect(){const g=this.rectangleDetector.detect();let C=this.detectSolid1(g);if(C=this.detectSolid2(C),C[3]=this.correctTopRight(C),!C[3])throw new de;C=this.shiftToModuleCenter(C);const S=C[0],I=C[1],N=C[2],D=C[3];let Q=this.transitionsBetween(S,D)+1,J=this.transitionsBetween(N,D)+1;(Q&1)===1&&(Q+=1),(J&1)===1&&(J+=1),4*Q<7*J&&4*J<7*Q&&(Q=J=Math.max(Q,J));let ne=Qn.sampleGrid(this.image,S,I,N,D,Q,J);return new Kn(ne,[S,I,N,D])}static shiftPoint(g,C,S){let I=(C.getX()-g.getX())/(S+1),N=(C.getY()-g.getY())/(S+1);return new pt(g.getX()+I,g.getY()+N)}static moveAway(g,C,S){let I=g.getX(),N=g.getY();return I<C?I-=1:I+=1,N<S?N-=1:N+=1,new pt(I,N)}detectSolid1(g){let C=g[0],S=g[1],I=g[3],N=g[2],D=this.transitionsBetween(C,S),Q=this.transitionsBetween(S,I),J=this.transitionsBetween(I,N),ne=this.transitionsBetween(N,C),le=D,he=[N,C,S,I];return le>Q&&(le=Q,he[0]=C,he[1]=S,he[2]=I,he[3]=N),le>J&&(le=J,he[0]=S,he[1]=I,he[2]=N,he[3]=C),le>ne&&(he[0]=I,he[1]=N,he[2]=C,he[3]=S),he}detectSolid2(g){let C=g[0],S=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N),Q=Qn.shiftPoint(S,I,(D+1)*4),J=Qn.shiftPoint(I,S,(D+1)*4),ne=this.transitionsBetween(Q,C),le=this.transitionsBetween(J,N);return ne<le?(g[0]=C,g[1]=S,g[2]=I,g[3]=N):(g[0]=S,g[1]=I,g[2]=N,g[3]=C),g}correctTopRight(g){let C=g[0],S=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N),Q=this.transitionsBetween(S,N),J=Qn.shiftPoint(C,S,(Q+1)*4),ne=Qn.shiftPoint(I,S,(D+1)*4);D=this.transitionsBetween(J,N),Q=this.transitionsBetween(ne,N);let le=new pt(N.getX()+(I.getX()-S.getX())/(D+1),N.getY()+(I.getY()-S.getY())/(D+1)),he=new pt(N.getX()+(C.getX()-S.getX())/(Q+1),N.getY()+(C.getY()-S.getY())/(Q+1));if(!this.isValid(le))return this.isValid(he)?he:null;if(!this.isValid(he))return le;let xe=this.transitionsBetween(J,le)+this.transitionsBetween(ne,le),Se=this.transitionsBetween(J,he)+this.transitionsBetween(ne,he);return xe>Se?le:he}shiftToModuleCenter(g){let C=g[0],S=g[1],I=g[2],N=g[3],D=this.transitionsBetween(C,N)+1,Q=this.transitionsBetween(I,N)+1,J=Qn.shiftPoint(C,S,Q*4),ne=Qn.shiftPoint(I,S,D*4);D=this.transitionsBetween(J,N)+1,Q=this.transitionsBetween(ne,N)+1,(D&1)===1&&(D+=1),(Q&1)===1&&(Q+=1);let le=(C.getX()+S.getX()+I.getX()+N.getX())/4,he=(C.getY()+S.getY()+I.getY()+N.getY())/4;C=Qn.moveAway(C,le,he),S=Qn.moveAway(S,le,he),I=Qn.moveAway(I,le,he),N=Qn.moveAway(N,le,he);let xe,Se;return J=Qn.shiftPoint(C,S,Q*4),J=Qn.shiftPoint(J,N,D*4),xe=Qn.shiftPoint(S,C,Q*4),xe=Qn.shiftPoint(xe,I,D*4),ne=Qn.shiftPoint(I,N,Q*4),ne=Qn.shiftPoint(ne,S,D*4),Se=Qn.shiftPoint(N,I,Q*4),Se=Qn.shiftPoint(Se,C,D*4),[J,xe,ne,Se]}isValid(g){return g.getX()>=0&&g.getX()<this.image.getWidth()&&g.getY()>0&&g.getY()<this.image.getHeight()}static sampleGrid(g,C,S,I,N,D,Q){return Je.getInstance().sampleGrid(g,D,Q,.5,.5,D-.5,.5,D-.5,Q-.5,.5,Q-.5,C.getX(),C.getY(),N.getX(),N.getY(),I.getX(),I.getY(),S.getX(),S.getY())}transitionsBetween(g,C){let S=Math.trunc(g.getX()),I=Math.trunc(g.getY()),N=Math.trunc(C.getX()),D=Math.trunc(C.getY()),Q=Math.abs(D-I)>Math.abs(N-S);if(Q){let Ne=S;S=I,I=Ne,Ne=N,N=D,D=Ne}let J=Math.abs(N-S),ne=Math.abs(D-I),le=-J/2,he=I<D?1:-1,xe=S<N?1:-1,Se=0,Ie=this.image.get(Q?I:S,Q?S:I);for(let Ne=S,Le=I;Ne!==N;Ne+=xe){let Ge=this.image.get(Q?Le:Ne,Q?Ne:Le);if(Ge!==Ie&&(Se++,Ie=Ge),le+=ne,le>0){if(Le===D)break;Le+=he,le-=J}}return Se}}class fs{constructor(){this.decoder=new jl}decode(g,C=null){let S,I;if(C!=null&&C.has(Y.PURE_BARCODE)){const ne=fs.extractPureBits(g.getBlackMatrix());S=this.decoder.decode(ne),I=fs.NO_POINTS}else{const ne=new Qn(g.getBlackMatrix()).detect();S=this.decoder.decode(ne.getBits()),I=ne.getPoints()}const N=S.getRawBytes(),D=new Be(S.getText(),N,8*N.length,I,De.DATA_MATRIX,P.currentTimeMillis()),Q=S.getByteSegments();Q!=null&&D.putMetadata(at.BYTE_SEGMENTS,Q);const J=S.getECLevel();return J!=null&&D.putMetadata(at.ERROR_CORRECTION_LEVEL,J),D}reset(){}static extractPureBits(g){const C=g.getTopLeftOnBit(),S=g.getBottomRightOnBit();if(C==null||S==null)throw new de;const I=this.moduleSize(C,g);let N=C[1];const D=S[1];let Q=C[0];const ne=(S[0]-Q+1)/I,le=(D-N+1)/I;if(ne<=0||le<=0)throw new de;const he=I/2;N+=he,Q+=he;const xe=new ve(ne,le);for(let Se=0;Se<le;Se++){const Ie=N+Se*I;for(let Ne=0;Ne<ne;Ne++)g.get(Q+Ne*I,Ie)&&xe.set(Ne,Se)}return xe}static moduleSize(g,C){const S=C.getWidth();let I=g[0];const N=g[1];for(;I<S&&C.get(I,N);)I++;if(I===S)throw new de;const D=I-g[0];if(D===0)throw new de;return D}}fs.NO_POINTS=[];class Ji extends Re{constructor(g=500){super(new fs,g)}}var Zs;(function(fe){fe[fe.L=0]="L",fe[fe.M=1]="M",fe[fe.Q=2]="Q",fe[fe.H=3]="H"})(Zs||(Zs={}));class sn{constructor(g,C,S){this.value=g,this.stringValue=C,this.bits=S,sn.FOR_BITS.set(S,this),sn.FOR_VALUE.set(g,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(g){switch(g){case"L":return sn.L;case"M":return sn.M;case"Q":return sn.Q;case"H":return sn.H;default:throw new b(g+"not available")}}toString(){return this.stringValue}equals(g){if(!(g instanceof sn))return!1;const C=g;return this.value===C.value}static forBits(g){if(g<0||g>=sn.FOR_BITS.size)throw new _;return sn.FOR_BITS.get(g)}}sn.FOR_BITS=new Map,sn.FOR_VALUE=new Map,sn.L=new sn(Zs.L,"L",1),sn.M=new sn(Zs.M,"M",0),sn.Q=new sn(Zs.Q,"Q",3),sn.H=new sn(Zs.H,"H",2);class ar{constructor(g){this.errorCorrectionLevel=sn.forBits(g>>3&3),this.dataMask=g&7}static numBitsDiffering(g,C){return H.bitCount(g^C)}static decodeFormatInformation(g,C){const S=ar.doDecodeFormatInformation(g,C);return S!==null?S:ar.doDecodeFormatInformation(g^ar.FORMAT_INFO_MASK_QR,C^ar.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(g,C){let S=Number.MAX_SAFE_INTEGER,I=0;for(const N of ar.FORMAT_INFO_DECODE_LOOKUP){const D=N[0];if(D===g||D===C)return new ar(N[1]);let Q=ar.numBitsDiffering(g,D);Q<S&&(I=N[1],S=Q),g!==C&&(Q=ar.numBitsDiffering(C,D),Q<S&&(I=N[1],S=Q))}return S<=3?new ar(I):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(g){if(!(g instanceof ar))return!1;const C=g;return this.errorCorrectionLevel===C.errorCorrectionLevel&&this.dataMask===C.dataMask}}ar.FORMAT_INFO_MASK_QR=21522,ar.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(g,...C){this.ecCodewordsPerBlock=g,this.ecBlocks=C}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let g=0;const C=this.ecBlocks;for(const S of C)g+=S.getCount();return g}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class be{constructor(g,C){this.count=g,this.dataCodewords=C}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rt{constructor(g,C,...S){this.versionNumber=g,this.alignmentPatternCenters=C,this.ecBlocks=S;let I=0;const N=S[0].getECCodewordsPerBlock(),D=S[0].getECBlocks();for(const Q of D)I+=Q.getCount()*(Q.getDataCodewords()+N);this.totalCodewords=I}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(g){return this.ecBlocks[g.getValue()]}static getProvisionalVersionForDimension(g){if(g%4!==1)throw new X;try{return this.getVersionForNumber((g-17)/4)}catch{throw new X}}static getVersionForNumber(g){if(g<1||g>40)throw new _;return Rt.VERSIONS[g-1]}static decodeVersionInformation(g){let C=Number.MAX_SAFE_INTEGER,S=0;for(let I=0;I<Rt.VERSION_DECODE_INFO.length;I++){const N=Rt.VERSION_DECODE_INFO[I];if(N===g)return Rt.getVersionForNumber(I+7);const D=ar.numBitsDiffering(g,N);D<C&&(S=I+7,C=D)}return C<=3?Rt.getVersionForNumber(S):null}buildFunctionPattern(){const g=this.getDimensionForVersion(),C=new ve(g);C.setRegion(0,0,9,9),C.setRegion(g-8,0,8,9),C.setRegion(0,g-8,9,8);const S=this.alignmentPatternCenters.length;for(let I=0;I<S;I++){const N=this.alignmentPatternCenters[I]-2;for(let D=0;D<S;D++)I===0&&(D===0||D===S-1)||I===S-1&&D===0||C.setRegion(this.alignmentPatternCenters[D]-2,N,5,5)}return C.setRegion(6,9,1,g-17),C.setRegion(9,6,g-17,1),this.versionNumber>6&&(C.setRegion(g-11,0,3,6),C.setRegion(0,g-11,6,3)),C}toString(){return""+this.versionNumber}}Rt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Rt.VERSIONS=[new Rt(1,new Int32Array(0),new $e(7,new be(1,19)),new $e(10,new be(1,16)),new $e(13,new be(1,13)),new $e(17,new be(1,9))),new Rt(2,Int32Array.from([6,18]),new $e(10,new be(1,34)),new $e(16,new be(1,28)),new $e(22,new be(1,22)),new $e(28,new be(1,16))),new Rt(3,Int32Array.from([6,22]),new $e(15,new be(1,55)),new $e(26,new be(1,44)),new $e(18,new be(2,17)),new $e(22,new be(2,13))),new Rt(4,Int32Array.from([6,26]),new $e(20,new be(1,80)),new $e(18,new be(2,32)),new $e(26,new be(2,24)),new $e(16,new be(4,9))),new Rt(5,Int32Array.from([6,30]),new $e(26,new be(1,108)),new $e(24,new be(2,43)),new $e(18,new be(2,15),new be(2,16)),new $e(22,new be(2,11),new be(2,12))),new Rt(6,Int32Array.from([6,34]),new $e(18,new be(2,68)),new $e(16,new be(4,27)),new $e(24,new be(4,19)),new $e(28,new be(4,15))),new Rt(7,Int32Array.from([6,22,38]),new $e(20,new be(2,78)),new $e(18,new be(4,31)),new $e(18,new be(2,14),new be(4,15)),new $e(26,new be(4,13),new be(1,14))),new Rt(8,Int32Array.from([6,24,42]),new $e(24,new be(2,97)),new $e(22,new be(2,38),new be(2,39)),new $e(22,new be(4,18),new be(2,19)),new $e(26,new be(4,14),new be(2,15))),new Rt(9,Int32Array.from([6,26,46]),new $e(30,new be(2,116)),new $e(22,new be(3,36),new be(2,37)),new $e(20,new be(4,16),new be(4,17)),new $e(24,new be(4,12),new be(4,13))),new Rt(10,Int32Array.from([6,28,50]),new $e(18,new be(2,68),new be(2,69)),new $e(26,new be(4,43),new be(1,44)),new $e(24,new be(6,19),new be(2,20)),new $e(28,new be(6,15),new be(2,16))),new Rt(11,Int32Array.from([6,30,54]),new $e(20,new be(4,81)),new $e(30,new be(1,50),new be(4,51)),new $e(28,new be(4,22),new be(4,23)),new $e(24,new be(3,12),new be(8,13))),new Rt(12,Int32Array.from([6,32,58]),new $e(24,new be(2,92),new be(2,93)),new $e(22,new be(6,36),new be(2,37)),new $e(26,new be(4,20),new be(6,21)),new $e(28,new be(7,14),new be(4,15))),new Rt(13,Int32Array.from([6,34,62]),new $e(26,new be(4,107)),new $e(22,new be(8,37),new be(1,38)),new $e(24,new be(8,20),new be(4,21)),new $e(22,new be(12,11),new be(4,12))),new Rt(14,Int32Array.from([6,26,46,66]),new $e(30,new be(3,115),new be(1,116)),new $e(24,new be(4,40),new be(5,41)),new $e(20,new be(11,16),new be(5,17)),new $e(24,new be(11,12),new be(5,13))),new Rt(15,Int32Array.from([6,26,48,70]),new $e(22,new be(5,87),new be(1,88)),new $e(24,new be(5,41),new be(5,42)),new $e(30,new be(5,24),new be(7,25)),new $e(24,new be(11,12),new be(7,13))),new Rt(16,Int32Array.from([6,26,50,74]),new $e(24,new be(5,98),new be(1,99)),new $e(28,new be(7,45),new be(3,46)),new $e(24,new be(15,19),new be(2,20)),new $e(30,new be(3,15),new be(13,16))),new Rt(17,Int32Array.from([6,30,54,78]),new $e(28,new be(1,107),new be(5,108)),new $e(28,new be(10,46),new be(1,47)),new $e(28,new be(1,22),new be(15,23)),new $e(28,new be(2,14),new be(17,15))),new Rt(18,Int32Array.from([6,30,56,82]),new $e(30,new be(5,120),new be(1,121)),new $e(26,new be(9,43),new be(4,44)),new $e(28,new be(17,22),new be(1,23)),new $e(28,new be(2,14),new be(19,15))),new Rt(19,Int32Array.from([6,30,58,86]),new $e(28,new be(3,113),new be(4,114)),new $e(26,new be(3,44),new be(11,45)),new $e(26,new be(17,21),new be(4,22)),new $e(26,new be(9,13),new be(16,14))),new Rt(20,Int32Array.from([6,34,62,90]),new $e(28,new be(3,107),new be(5,108)),new $e(26,new be(3,41),new be(13,42)),new $e(30,new be(15,24),new be(5,25)),new $e(28,new be(15,15),new be(10,16))),new Rt(21,Int32Array.from([6,28,50,72,94]),new $e(28,new be(4,116),new be(4,117)),new $e(26,new be(17,42)),new $e(28,new be(17,22),new be(6,23)),new $e(30,new be(19,16),new be(6,17))),new Rt(22,Int32Array.from([6,26,50,74,98]),new $e(28,new be(2,111),new be(7,112)),new $e(28,new be(17,46)),new $e(30,new be(7,24),new be(16,25)),new $e(24,new be(34,13))),new Rt(23,Int32Array.from([6,30,54,78,102]),new $e(30,new be(4,121),new be(5,122)),new $e(28,new be(4,47),new be(14,48)),new $e(30,new be(11,24),new be(14,25)),new $e(30,new be(16,15),new be(14,16))),new Rt(24,Int32Array.from([6,28,54,80,106]),new $e(30,new be(6,117),new be(4,118)),new $e(28,new be(6,45),new be(14,46)),new $e(30,new be(11,24),new be(16,25)),new $e(30,new be(30,16),new be(2,17))),new Rt(25,Int32Array.from([6,32,58,84,110]),new $e(26,new be(8,106),new be(4,107)),new $e(28,new be(8,47),new be(13,48)),new $e(30,new be(7,24),new be(22,25)),new $e(30,new be(22,15),new be(13,16))),new Rt(26,Int32Array.from([6,30,58,86,114]),new $e(28,new be(10,114),new be(2,115)),new $e(28,new be(19,46),new be(4,47)),new $e(28,new be(28,22),new be(6,23)),new $e(30,new be(33,16),new be(4,17))),new Rt(27,Int32Array.from([6,34,62,90,118]),new $e(30,new be(8,122),new be(4,123)),new $e(28,new be(22,45),new be(3,46)),new $e(30,new be(8,23),new be(26,24)),new $e(30,new be(12,15),new be(28,16))),new Rt(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new be(3,117),new be(10,118)),new $e(28,new be(3,45),new be(23,46)),new $e(30,new be(4,24),new be(31,25)),new $e(30,new be(11,15),new be(31,16))),new Rt(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new be(7,116),new be(7,117)),new $e(28,new be(21,45),new be(7,46)),new $e(30,new be(1,23),new be(37,24)),new $e(30,new be(19,15),new be(26,16))),new Rt(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new be(5,115),new be(10,116)),new $e(28,new be(19,47),new be(10,48)),new $e(30,new be(15,24),new be(25,25)),new $e(30,new be(23,15),new be(25,16))),new Rt(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new be(13,115),new be(3,116)),new $e(28,new be(2,46),new be(29,47)),new $e(30,new be(42,24),new be(1,25)),new $e(30,new be(23,15),new be(28,16))),new Rt(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new be(17,115)),new $e(28,new be(10,46),new be(23,47)),new $e(30,new be(10,24),new be(35,25)),new $e(30,new be(19,15),new be(35,16))),new Rt(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new be(17,115),new be(1,116)),new $e(28,new be(14,46),new be(21,47)),new $e(30,new be(29,24),new be(19,25)),new $e(30,new be(11,15),new be(46,16))),new Rt(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new be(13,115),new be(6,116)),new $e(28,new be(14,46),new be(23,47)),new $e(30,new be(44,24),new be(7,25)),new $e(30,new be(59,16),new be(1,17))),new Rt(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new be(12,121),new be(7,122)),new $e(28,new be(12,47),new be(26,48)),new $e(30,new be(39,24),new be(14,25)),new $e(30,new be(22,15),new be(41,16))),new Rt(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new be(6,121),new be(14,122)),new $e(28,new be(6,47),new be(34,48)),new $e(30,new be(46,24),new be(10,25)),new $e(30,new be(2,15),new be(64,16))),new Rt(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new be(17,122),new be(4,123)),new $e(28,new be(29,46),new be(14,47)),new $e(30,new be(49,24),new be(10,25)),new $e(30,new be(24,15),new be(46,16))),new Rt(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new be(4,122),new be(18,123)),new $e(28,new be(13,46),new be(32,47)),new $e(30,new be(48,24),new be(14,25)),new $e(30,new be(42,15),new be(32,16))),new Rt(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new be(20,117),new be(4,118)),new $e(28,new be(40,47),new be(7,48)),new $e(30,new be(43,24),new be(22,25)),new $e(30,new be(10,15),new be(67,16))),new Rt(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new be(19,118),new be(6,119)),new $e(28,new be(18,47),new be(31,48)),new $e(30,new be(34,24),new be(34,25)),new $e(30,new be(20,15),new be(61,16)))];var nr;(function(fe){fe[fe.DATA_MASK_000=0]="DATA_MASK_000",fe[fe.DATA_MASK_001=1]="DATA_MASK_001",fe[fe.DATA_MASK_010=2]="DATA_MASK_010",fe[fe.DATA_MASK_011=3]="DATA_MASK_011",fe[fe.DATA_MASK_100=4]="DATA_MASK_100",fe[fe.DATA_MASK_101=5]="DATA_MASK_101",fe[fe.DATA_MASK_110=6]="DATA_MASK_110",fe[fe.DATA_MASK_111=7]="DATA_MASK_111"})(nr||(nr={}));class Rr{constructor(g,C){this.value=g,this.isMasked=C}unmaskBitMatrix(g,C){for(let S=0;S<C;S++)for(let I=0;I<C;I++)this.isMasked(S,I)&&g.flip(I,S)}}Rr.values=new Map([[nr.DATA_MASK_000,new Rr(nr.DATA_MASK_000,(fe,g)=>(fe+g&1)===0)],[nr.DATA_MASK_001,new Rr(nr.DATA_MASK_001,(fe,g)=>(fe&1)===0)],[nr.DATA_MASK_010,new Rr(nr.DATA_MASK_010,(fe,g)=>g%3===0)],[nr.DATA_MASK_011,new Rr(nr.DATA_MASK_011,(fe,g)=>(fe+g)%3===0)],[nr.DATA_MASK_100,new Rr(nr.DATA_MASK_100,(fe,g)=>(Math.floor(fe/2)+Math.floor(g/3)&1)===0)],[nr.DATA_MASK_101,new Rr(nr.DATA_MASK_101,(fe,g)=>fe*g%6===0)],[nr.DATA_MASK_110,new Rr(nr.DATA_MASK_110,(fe,g)=>fe*g%6<3)],[nr.DATA_MASK_111,new Rr(nr.DATA_MASK_111,(fe,g)=>(fe+g+fe*g%3&1)===0)]]);class ei{constructor(g){const C=g.getHeight();if(C<21||(C&3)!==1)throw new X;this.bitMatrix=g}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let g=0;for(let N=0;N<6;N++)g=this.copyBit(N,8,g);g=this.copyBit(7,8,g),g=this.copyBit(8,8,g),g=this.copyBit(8,7,g);for(let N=5;N>=0;N--)g=this.copyBit(8,N,g);const C=this.bitMatrix.getHeight();let S=0;const I=C-7;for(let N=C-1;N>=I;N--)S=this.copyBit(8,N,S);for(let N=C-8;N<C;N++)S=this.copyBit(N,8,S);if(this.parsedFormatInfo=ar.decodeFormatInformation(g,S),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const g=this.bitMatrix.getHeight(),C=Math.floor((g-17)/4);if(C<=6)return Rt.getVersionForNumber(C);let S=0;const I=g-11;for(let D=5;D>=0;D--)for(let Q=g-9;Q>=I;Q--)S=this.copyBit(Q,D,S);let N=Rt.decodeVersionInformation(S);if(N!==null&&N.getDimensionForVersion()===g)return this.parsedVersion=N,N;S=0;for(let D=5;D>=0;D--)for(let Q=g-9;Q>=I;Q--)S=this.copyBit(D,Q,S);if(N=Rt.decodeVersionInformation(S),N!==null&&N.getDimensionForVersion()===g)return this.parsedVersion=N,N;throw new X}copyBit(g,C,S){return(this.isMirror?this.bitMatrix.get(C,g):this.bitMatrix.get(g,C))?S<<1|1:S<<1}readCodewords(){const g=this.readFormatInformation(),C=this.readVersion(),S=Rr.values.get(g.getDataMask()),I=this.bitMatrix.getHeight();S.unmaskBitMatrix(this.bitMatrix,I);const N=C.buildFunctionPattern();let D=!0;const Q=new Uint8Array(C.getTotalCodewords());let J=0,ne=0,le=0;for(let he=I-1;he>0;he-=2){he===6&&he--;for(let xe=0;xe<I;xe++){const Se=D?I-1-xe:xe;for(let Ie=0;Ie<2;Ie++)N.get(he-Ie,Se)||(le++,ne<<=1,this.bitMatrix.get(he-Ie,Se)&&(ne|=1),le===8&&(Q[J++]=ne,le=0,ne=0))}D=!D}if(J!==C.getTotalCodewords())throw new X;return Q}remask(){if(this.parsedFormatInfo===null)return;const g=Rr.values[this.parsedFormatInfo.getDataMask()],C=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,C)}setMirror(g){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=g}mirror(){const g=this.bitMatrix;for(let C=0,S=g.getWidth();C<S;C++)for(let I=C+1,N=g.getHeight();I<N;I++)g.get(C,I)!==g.get(I,C)&&(g.flip(I,C),g.flip(C,I))}}class Oa{constructor(g,C){this.numDataCodewords=g,this.codewords=C}static getDataBlocks(g,C,S){if(g.length!==C.getTotalCodewords())throw new _;const I=C.getECBlocksForLevel(S);let N=0;const D=I.getECBlocks();for(const Ie of D)N+=Ie.getCount();const Q=new Array(N);let J=0;for(const Ie of D)for(let Ne=0;Ne<Ie.getCount();Ne++){const Le=Ie.getDataCodewords(),Ge=I.getECCodewordsPerBlock()+Le;Q[J++]=new Oa(Le,new Uint8Array(Ge))}const ne=Q[0].codewords.length;let le=Q.length-1;for(;le>=0&&Q[le].codewords.length!==ne;)le--;le++;const he=ne-I.getECCodewordsPerBlock();let xe=0;for(let Ie=0;Ie<he;Ie++)for(let Ne=0;Ne<J;Ne++)Q[Ne].codewords[Ie]=g[xe++];for(let Ie=le;Ie<J;Ie++)Q[Ie].codewords[he]=g[xe++];const Se=Q[0].codewords.length;for(let Ie=he;Ie<Se;Ie++)for(let Ne=0;Ne<J;Ne++){const Le=Ne<le?Ie:Ie+1;Q[Ne].codewords[Le]=g[xe++]}return Q}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ir;(function(fe){fe[fe.TERMINATOR=0]="TERMINATOR",fe[fe.NUMERIC=1]="NUMERIC",fe[fe.ALPHANUMERIC=2]="ALPHANUMERIC",fe[fe.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",fe[fe.BYTE=4]="BYTE",fe[fe.ECI=5]="ECI",fe[fe.KANJI=6]="KANJI",fe[fe.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",fe[fe.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",fe[fe.HANZI=9]="HANZI"})(Ir||(Ir={}));class Dt{constructor(g,C,S,I){this.value=g,this.stringValue=C,this.characterCountBitsForVersions=S,this.bits=I,Dt.FOR_BITS.set(I,this),Dt.FOR_VALUE.set(g,this)}static forBits(g){const C=Dt.FOR_BITS.get(g);if(C===void 0)throw new _;return C}getCharacterCountBits(g){const C=g.getVersionNumber();let S;return C<=9?S=0:C<=26?S=1:S=2,this.characterCountBitsForVersions[S]}getValue(){return this.value}getBits(){return this.bits}equals(g){if(!(g instanceof Dt))return!1;const C=g;return this.value===C.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(Ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(Ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(Ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(Ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(Ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(Ir.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(Ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(Ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(Ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(Ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ln{static decode(g,C,S,I){const N=new xr(g);let D=new Ee;const Q=new Array;let J=-1,ne=-1;try{let le=null,he=!1,xe;do{if(N.available()<4)xe=Dt.TERMINATOR;else{const Se=N.readBits(4);xe=Dt.forBits(Se)}switch(xe){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:he=!0;break;case Dt.STRUCTURED_APPEND:if(N.available()<16)throw new X;J=N.readBits(8),ne=N.readBits(8);break;case Dt.ECI:const Se=Ln.parseECIValue(N);if(le=se.getCharacterSetECIByValue(Se),le===null)throw new X;break;case Dt.HANZI:const Ie=N.readBits(4),Ne=N.readBits(xe.getCharacterCountBits(C));Ie===Ln.GB2312_SUBSET&&Ln.decodeHanziSegment(N,D,Ne);break;default:const Le=N.readBits(xe.getCharacterCountBits(C));switch(xe){case Dt.NUMERIC:Ln.decodeNumericSegment(N,D,Le);break;case Dt.ALPHANUMERIC:Ln.decodeAlphanumericSegment(N,D,Le,he);break;case Dt.BYTE:Ln.decodeByteSegment(N,D,Le,le,Q,I);break;case Dt.KANJI:Ln.decodeKanjiSegment(N,D,Le);break;default:throw new X}break}}while(xe!==Dt.TERMINATOR)}catch{throw new X}return new Ct(g,D.toString(),Q.length===0?null:Q,S===null?null:S.toString(),J,ne)}static decodeHanziSegment(g,C,S){if(S*13>g.available())throw new X;const I=new Uint8Array(2*S);let N=0;for(;S>0;){const D=g.readBits(13);let Q=D/96<<8&4294967295|D%96;Q<959?Q+=41377:Q+=42657,I[N]=Q>>8&255,I[N+1]=Q&255,N+=2,S--}try{C.append(ge.decode(I,me.GB2312))}catch(D){throw new X(D)}}static decodeKanjiSegment(g,C,S){if(S*13>g.available())throw new X;const I=new Uint8Array(2*S);let N=0;for(;S>0;){const D=g.readBits(13);let Q=D/192<<8&4294967295|D%192;Q<7936?Q+=33088:Q+=49472,I[N]=Q>>8,I[N+1]=Q,N+=2,S--}try{C.append(ge.decode(I,me.SHIFT_JIS))}catch(D){throw new X(D)}}static decodeByteSegment(g,C,S,I,N,D){if(8*S>g.available())throw new X;const Q=new Uint8Array(S);for(let ne=0;ne<S;ne++)Q[ne]=g.readBits(8);let J;I===null?J=me.guessEncoding(Q,D):J=I.getName();try{C.append(ge.decode(Q,J))}catch(ne){throw new X(ne)}N.push(Q)}static toAlphaNumericChar(g){if(g>=Ln.ALPHANUMERIC_CHARS.length)throw new X;return Ln.ALPHANUMERIC_CHARS[g]}static decodeAlphanumericSegment(g,C,S,I){const N=C.length();for(;S>1;){if(g.available()<11)throw new X;const D=g.readBits(11);C.append(Ln.toAlphaNumericChar(Math.floor(D/45))),C.append(Ln.toAlphaNumericChar(D%45)),S-=2}if(S===1){if(g.available()<6)throw new X;C.append(Ln.toAlphaNumericChar(g.readBits(6)))}if(I)for(let D=N;D<C.length();D++)C.charAt(D)==="%"&&(D<C.length()-1&&C.charAt(D+1)==="%"?C.deleteCharAt(D+1):C.setCharAt(D,""))}static decodeNumericSegment(g,C,S){for(;S>=3;){if(g.available()<10)throw new X;const I=g.readBits(10);if(I>=1e3)throw new X;C.append(Ln.toAlphaNumericChar(Math.floor(I/100))),C.append(Ln.toAlphaNumericChar(Math.floor(I/10)%10)),C.append(Ln.toAlphaNumericChar(I%10)),S-=3}if(S===2){if(g.available()<7)throw new X;const I=g.readBits(7);if(I>=100)throw new X;C.append(Ln.toAlphaNumericChar(Math.floor(I/10))),C.append(Ln.toAlphaNumericChar(I%10))}else if(S===1){if(g.available()<4)throw new X;const I=g.readBits(4);if(I>=10)throw new X;C.append(Ln.toAlphaNumericChar(I))}}static parseECIValue(g){const C=g.readBits(8);if((C&128)===0)return C&127;if((C&192)===128){const S=g.readBits(8);return(C&63)<<8&4294967295|S}if((C&224)===192){const S=g.readBits(16);return(C&31)<<16&4294967295|S}throw new X}}Ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ln.GB2312_SUBSET=1;class bo{constructor(g){this.mirrored=g}isMirrored(){return this.mirrored}applyMirroredCorrection(g){if(!this.mirrored||g===null||g.length<3)return;const C=g[0];g[0]=g[2],g[2]=C}}class $l{constructor(){this.rsDecoder=new Un(gt.QR_CODE_FIELD_256)}decodeBooleanArray(g,C){return this.decodeBitMatrix(ve.parseFromBooleanArray(g),C)}decodeBitMatrix(g,C){const S=new ei(g);let I=null;try{return this.decodeBitMatrixParser(S,C)}catch(N){I=N}try{S.remask(),S.setMirror(!0),S.readVersion(),S.readFormatInformation(),S.mirror();const N=this.decodeBitMatrixParser(S,C);return N.setOther(new bo(!0)),N}catch(N){throw I!==null?I:N}}decodeBitMatrixParser(g,C){const S=g.readVersion(),I=g.readFormatInformation().getErrorCorrectionLevel(),N=g.readCodewords(),D=Oa.getDataBlocks(N,S,I);let Q=0;for(const le of D)Q+=le.getNumDataCodewords();const J=new Uint8Array(Q);let ne=0;for(const le of D){const he=le.getCodewords(),xe=le.getNumDataCodewords();this.correctErrors(he,xe);for(let Se=0;Se<xe;Se++)J[ne++]=he[Se]}return Ln.decode(J,S,I,C)}correctErrors(g,C){const S=new Int32Array(g);try{this.rsDecoder.decode(S,g.length-C)}catch{throw new k}for(let I=0;I<C;I++)g[I]=S[I]}}class ti extends pt{constructor(g,C,S){super(g,C),this.estimatedModuleSize=S}aboutEquals(g,C,S){if(Math.abs(C-this.getY())<=g&&Math.abs(S-this.getX())<=g){const I=Math.abs(g-this.estimatedModuleSize);return I<=1||I<=this.estimatedModuleSize}return!1}combineEstimate(g,C,S){const I=(this.getX()+C)/2,N=(this.getY()+g)/2,D=(this.estimatedModuleSize+S)/2;return new ti(I,N,D)}}class Or{constructor(g,C,S,I,N,D,Q){this.image=g,this.startX=C,this.startY=S,this.width=I,this.height=N,this.moduleSize=D,this.resultPointCallback=Q,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const g=this.startX,C=this.height,S=this.width,I=g+S,N=this.startY+C/2,D=new Int32Array(3),Q=this.image;for(let J=0;J<C;J++){const ne=N+((J&1)===0?Math.floor((J+1)/2):-Math.floor((J+1)/2));D[0]=0,D[1]=0,D[2]=0;let le=g;for(;le<I&&!Q.get(le,ne);)le++;let he=0;for(;le<I;){if(Q.get(le,ne))if(he===1)D[1]++;else if(he===2){if(this.foundPatternCross(D)){const xe=this.handlePossibleCenter(D,ne,le);if(xe!==null)return xe}D[0]=D[2],D[1]=1,D[2]=0,he=1}else D[++he]++;else he===1&&he++,D[he]++;le++}if(this.foundPatternCross(D)){const xe=this.handlePossibleCenter(D,ne,I);if(xe!==null)return xe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new de}static centerFromEnd(g,C){return C-g[2]-g[1]/2}foundPatternCross(g){const C=this.moduleSize,S=C/2;for(let I=0;I<3;I++)if(Math.abs(C-g[I])>=S)return!1;return!0}crossCheckVertical(g,C,S,I){const N=this.image,D=N.getHeight(),Q=this.crossCheckStateCount;Q[0]=0,Q[1]=0,Q[2]=0;let J=g;for(;J>=0&&N.get(C,J)&&Q[1]<=S;)Q[1]++,J--;if(J<0||Q[1]>S)return NaN;for(;J>=0&&!N.get(C,J)&&Q[0]<=S;)Q[0]++,J--;if(Q[0]>S)return NaN;for(J=g+1;J<D&&N.get(C,J)&&Q[1]<=S;)Q[1]++,J++;if(J===D||Q[1]>S)return NaN;for(;J<D&&!N.get(C,J)&&Q[2]<=S;)Q[2]++,J++;if(Q[2]>S)return NaN;const ne=Q[0]+Q[1]+Q[2];return 5*Math.abs(ne-I)>=2*I?NaN:this.foundPatternCross(Q)?Or.centerFromEnd(Q,J):NaN}handlePossibleCenter(g,C,S){const I=g[0]+g[1]+g[2],N=Or.centerFromEnd(g,S),D=this.crossCheckVertical(C,N,2*g[1],I);if(!isNaN(D)){const Q=(g[0]+g[1]+g[2])/3;for(const ne of this.possibleCenters)if(ne.aboutEquals(Q,D,N))return ne.combineEstimate(D,N,Q);const J=new ti(N,D,Q);this.possibleCenters.push(J),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(J)}return null}}class Ni extends pt{constructor(g,C,S,I){super(g,C),this.estimatedModuleSize=S,this.count=I,I===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(g,C,S){if(Math.abs(C-this.getY())<=g&&Math.abs(S-this.getX())<=g){const I=Math.abs(g-this.estimatedModuleSize);return I<=1||I<=this.estimatedModuleSize}return!1}combineEstimate(g,C,S){const I=this.count+1,N=(this.count*this.getX()+C)/I,D=(this.count*this.getY()+g)/I,Q=(this.count*this.estimatedModuleSize+S)/I;return new Ni(N,D,Q,I)}}class Da{constructor(g){this.bottomLeft=g[0],this.topLeft=g[1],this.topRight=g[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vn{constructor(g,C){this.image=g,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=C}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(g){const C=g!=null&&g.get(Y.TRY_HARDER)!==void 0,S=g!=null&&g.get(Y.PURE_BARCODE)!==void 0,I=this.image,N=I.getHeight(),D=I.getWidth();let Q=Math.floor(3*N/(4*Vn.MAX_MODULES));(Q<Vn.MIN_SKIP||C)&&(Q=Vn.MIN_SKIP);let J=!1;const ne=new Int32Array(5);for(let he=Q-1;he<N&&!J;he+=Q){ne[0]=0,ne[1]=0,ne[2]=0,ne[3]=0,ne[4]=0;let xe=0;for(let Se=0;Se<D;Se++)if(I.get(Se,he))(xe&1)===1&&xe++,ne[xe]++;else if((xe&1)===0)if(xe===4)if(Vn.foundPatternCross(ne)){if(this.handlePossibleCenter(ne,he,Se,S)===!0)if(Q=2,this.hasSkipped===!0)J=this.haveMultiplyConfirmedCenters();else{const Ne=this.findRowSkip();Ne>ne[2]&&(he+=Ne-ne[2]-Q,Se=D-1)}else{ne[0]=ne[2],ne[1]=ne[3],ne[2]=ne[4],ne[3]=1,ne[4]=0,xe=3;continue}xe=0,ne[0]=0,ne[1]=0,ne[2]=0,ne[3]=0,ne[4]=0}else ne[0]=ne[2],ne[1]=ne[3],ne[2]=ne[4],ne[3]=1,ne[4]=0,xe=3;else ne[++xe]++;else ne[xe]++;Vn.foundPatternCross(ne)&&this.handlePossibleCenter(ne,he,D,S)===!0&&(Q=ne[0],this.hasSkipped&&(J=this.haveMultiplyConfirmedCenters()))}const le=this.selectBestPatterns();return pt.orderBestPatterns(le),new Da(le)}static centerFromEnd(g,C){return C-g[4]-g[3]-g[2]/2}static foundPatternCross(g){let C=0;for(let N=0;N<5;N++){const D=g[N];if(D===0)return!1;C+=D}if(C<7)return!1;const S=C/7,I=S/2;return Math.abs(S-g[0])<I&&Math.abs(S-g[1])<I&&Math.abs(3*S-g[2])<3*I&&Math.abs(S-g[3])<I&&Math.abs(S-g[4])<I}getCrossCheckStateCount(){const g=this.crossCheckStateCount;return g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g}crossCheckDiagonal(g,C,S,I){const N=this.getCrossCheckStateCount();let D=0;const Q=this.image;for(;g>=D&&C>=D&&Q.get(C-D,g-D);)N[2]++,D++;if(g<D||C<D)return!1;for(;g>=D&&C>=D&&!Q.get(C-D,g-D)&&N[1]<=S;)N[1]++,D++;if(g<D||C<D||N[1]>S)return!1;for(;g>=D&&C>=D&&Q.get(C-D,g-D)&&N[0]<=S;)N[0]++,D++;if(N[0]>S)return!1;const J=Q.getHeight(),ne=Q.getWidth();for(D=1;g+D<J&&C+D<ne&&Q.get(C+D,g+D);)N[2]++,D++;if(g+D>=J||C+D>=ne)return!1;for(;g+D<J&&C+D<ne&&!Q.get(C+D,g+D)&&N[3]<S;)N[3]++,D++;if(g+D>=J||C+D>=ne||N[3]>=S)return!1;for(;g+D<J&&C+D<ne&&Q.get(C+D,g+D)&&N[4]<S;)N[4]++,D++;if(N[4]>=S)return!1;const le=N[0]+N[1]+N[2]+N[3]+N[4];return Math.abs(le-I)<2*I&&Vn.foundPatternCross(N)}crossCheckVertical(g,C,S,I){const N=this.image,D=N.getHeight(),Q=this.getCrossCheckStateCount();let J=g;for(;J>=0&&N.get(C,J);)Q[2]++,J--;if(J<0)return NaN;for(;J>=0&&!N.get(C,J)&&Q[1]<=S;)Q[1]++,J--;if(J<0||Q[1]>S)return NaN;for(;J>=0&&N.get(C,J)&&Q[0]<=S;)Q[0]++,J--;if(Q[0]>S)return NaN;for(J=g+1;J<D&&N.get(C,J);)Q[2]++,J++;if(J===D)return NaN;for(;J<D&&!N.get(C,J)&&Q[3]<S;)Q[3]++,J++;if(J===D||Q[3]>=S)return NaN;for(;J<D&&N.get(C,J)&&Q[4]<S;)Q[4]++,J++;if(Q[4]>=S)return NaN;const ne=Q[0]+Q[1]+Q[2]+Q[3]+Q[4];return 5*Math.abs(ne-I)>=2*I?NaN:Vn.foundPatternCross(Q)?Vn.centerFromEnd(Q,J):NaN}crossCheckHorizontal(g,C,S,I){const N=this.image,D=N.getWidth(),Q=this.getCrossCheckStateCount();let J=g;for(;J>=0&&N.get(J,C);)Q[2]++,J--;if(J<0)return NaN;for(;J>=0&&!N.get(J,C)&&Q[1]<=S;)Q[1]++,J--;if(J<0||Q[1]>S)return NaN;for(;J>=0&&N.get(J,C)&&Q[0]<=S;)Q[0]++,J--;if(Q[0]>S)return NaN;for(J=g+1;J<D&&N.get(J,C);)Q[2]++,J++;if(J===D)return NaN;for(;J<D&&!N.get(J,C)&&Q[3]<S;)Q[3]++,J++;if(J===D||Q[3]>=S)return NaN;for(;J<D&&N.get(J,C)&&Q[4]<S;)Q[4]++,J++;if(Q[4]>=S)return NaN;const ne=Q[0]+Q[1]+Q[2]+Q[3]+Q[4];return 5*Math.abs(ne-I)>=I?NaN:Vn.foundPatternCross(Q)?Vn.centerFromEnd(Q,J):NaN}handlePossibleCenter(g,C,S,I){const N=g[0]+g[1]+g[2]+g[3]+g[4];let D=Vn.centerFromEnd(g,S),Q=this.crossCheckVertical(C,Math.floor(D),g[2],N);if(!isNaN(Q)&&(D=this.crossCheckHorizontal(Math.floor(D),Math.floor(Q),g[2],N),!isNaN(D)&&(!I||this.crossCheckDiagonal(Math.floor(Q),Math.floor(D),g[2],N)))){const J=N/7;let ne=!1;const le=this.possibleCenters;for(let he=0,xe=le.length;he<xe;he++){const Se=le[he];if(Se.aboutEquals(J,Q,D)){le[he]=Se.combineEstimate(Q,D,J),ne=!0;break}}if(!ne){const he=new Ni(D,Q,J);le.push(he),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(he)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let C=null;for(const S of this.possibleCenters)if(S.getCount()>=Vn.CENTER_QUORUM)if(C==null)C=S;else return this.hasSkipped=!0,Math.floor((Math.abs(C.getX()-S.getX())-Math.abs(C.getY()-S.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let g=0,C=0;const S=this.possibleCenters.length;for(const D of this.possibleCenters)D.getCount()>=Vn.CENTER_QUORUM&&(g++,C+=D.getEstimatedModuleSize());if(g<3)return!1;const I=C/S;let N=0;for(const D of this.possibleCenters)N+=Math.abs(D.getEstimatedModuleSize()-I);return N<=.05*C}selectBestPatterns(){const g=this.possibleCenters.length;if(g<3)throw new de;const C=this.possibleCenters;let S;if(g>3){let I=0,N=0;for(const J of this.possibleCenters){const ne=J.getEstimatedModuleSize();I+=ne,N+=ne*ne}S=I/g;let D=Math.sqrt(N/g-S*S);C.sort((J,ne)=>{const le=Math.abs(ne.getEstimatedModuleSize()-S),he=Math.abs(J.getEstimatedModuleSize()-S);return le<he?-1:le>he?1:0});const Q=Math.max(.2*S,D);for(let J=0;J<C.length&&C.length>3;J++){const ne=C[J];Math.abs(ne.getEstimatedModuleSize()-S)>Q&&(C.splice(J,1),J--)}}if(C.length>3){let I=0;for(const N of C)I+=N.getEstimatedModuleSize();S=I/C.length,C.sort((N,D)=>{if(D.getCount()===N.getCount()){const Q=Math.abs(D.getEstimatedModuleSize()-S),J=Math.abs(N.getEstimatedModuleSize()-S);return Q<J?1:Q>J?-1:0}else return D.getCount()-N.getCount()}),C.splice(3)}return[C[0],C[1],C[2]]}}Vn.CENTER_QUORUM=2,Vn.MIN_SKIP=3,Vn.MAX_MODULES=57;class ns{constructor(g){this.image=g}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(g){this.resultPointCallback=g==null?null:g.get(Y.NEED_RESULT_POINT_CALLBACK);const S=new Vn(this.image,this.resultPointCallback).find(g);return this.processFinderPatternInfo(S)}processFinderPatternInfo(g){const C=g.getTopLeft(),S=g.getTopRight(),I=g.getBottomLeft(),N=this.calculateModuleSize(C,S,I);if(N<1)throw new de("No pattern found in proccess finder.");const D=ns.computeDimension(C,S,I,N),Q=Rt.getProvisionalVersionForDimension(D),J=Q.getDimensionForVersion()-7;let ne=null;if(Q.getAlignmentPatternCenters().length>0){const Se=S.getX()-C.getX()+I.getX(),Ie=S.getY()-C.getY()+I.getY(),Ne=1-3/J,Le=Math.floor(C.getX()+Ne*(Se-C.getX())),Ge=Math.floor(C.getY()+Ne*(Ie-C.getY()));for(let ft=4;ft<=16;ft<<=1)try{ne=this.findAlignmentInRegion(N,Le,Ge,ft);break}catch(dt){if(!(dt instanceof de))throw dt}}const le=ns.createTransform(C,S,I,ne,D),he=ns.sampleGrid(this.image,le,D);let xe;return ne===null?xe=[I,C,S]:xe=[I,C,S,ne],new Kn(he,xe)}static createTransform(g,C,S,I,N){const D=N-3.5;let Q,J,ne,le;return I!==null?(Q=I.getX(),J=I.getY(),ne=D-3,le=ne):(Q=C.getX()-g.getX()+S.getX(),J=C.getY()-g.getY()+S.getY(),ne=D,le=D),Fe.quadrilateralToQuadrilateral(3.5,3.5,D,3.5,ne,le,3.5,D,g.getX(),g.getY(),C.getX(),C.getY(),Q,J,S.getX(),S.getY())}static sampleGrid(g,C,S){return Je.getInstance().sampleGridWithTransform(g,S,S,C)}static computeDimension(g,C,S,I){const N=Ot.round(pt.distance(g,C)/I),D=Ot.round(pt.distance(g,S)/I);let Q=Math.floor((N+D)/2)+7;switch(Q&3){case 0:Q++;break;case 2:Q--;break;case 3:throw new de("Dimensions could be not found.")}return Q}calculateModuleSize(g,C,S){return(this.calculateModuleSizeOneWay(g,C)+this.calculateModuleSizeOneWay(g,S))/2}calculateModuleSizeOneWay(g,C){const S=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(g.getX()),Math.floor(g.getY()),Math.floor(C.getX()),Math.floor(C.getY())),I=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(C.getX()),Math.floor(C.getY()),Math.floor(g.getX()),Math.floor(g.getY()));return isNaN(S)?I/7:isNaN(I)?S/7:(S+I)/14}sizeOfBlackWhiteBlackRunBothWays(g,C,S,I){let N=this.sizeOfBlackWhiteBlackRun(g,C,S,I),D=1,Q=g-(S-g);Q<0?(D=g/(g-Q),Q=0):Q>=this.image.getWidth()&&(D=(this.image.getWidth()-1-g)/(Q-g),Q=this.image.getWidth()-1);let J=Math.floor(C-(I-C)*D);return D=1,J<0?(D=C/(C-J),J=0):J>=this.image.getHeight()&&(D=(this.image.getHeight()-1-C)/(J-C),J=this.image.getHeight()-1),Q=Math.floor(g+(Q-g)*D),N+=this.sizeOfBlackWhiteBlackRun(g,C,Q,J),N-1}sizeOfBlackWhiteBlackRun(g,C,S,I){const N=Math.abs(I-C)>Math.abs(S-g);if(N){let Se=g;g=C,C=Se,Se=S,S=I,I=Se}const D=Math.abs(S-g),Q=Math.abs(I-C);let J=-D/2;const ne=g<S?1:-1,le=C<I?1:-1;let he=0;const xe=S+ne;for(let Se=g,Ie=C;Se!==xe;Se+=ne){const Ne=N?Ie:Se,Le=N?Se:Ie;if(he===1===this.image.get(Ne,Le)){if(he===2)return Ot.distance(Se,Ie,g,C);he++}if(J+=Q,J>0){if(Ie===I)break;Ie+=le,J-=D}}return he===2?Ot.distance(S+ne,I,g,C):NaN}findAlignmentInRegion(g,C,S,I){const N=Math.floor(I*g),D=Math.max(0,C-N),Q=Math.min(this.image.getWidth()-1,C+N);if(Q-D<g*3)throw new de("Alignment top exceeds estimated module size.");const J=Math.max(0,S-N),ne=Math.min(this.image.getHeight()-1,S+N);if(ne-J<g*3)throw new de("Alignment bottom exceeds estimated module size.");return new Or(this.image,D,J,Q-D,ne-J,g,this.resultPointCallback).find()}}class hs{constructor(){this.decoder=new $l}getDecoder(){return this.decoder}decode(g,C){let S,I;if(C!=null&&C.get(Y.PURE_BARCODE)!==void 0){const J=hs.extractPureBits(g.getBlackMatrix());S=this.decoder.decodeBitMatrix(J,C),I=hs.NO_POINTS}else{const J=new ns(g.getBlackMatrix()).detect(C);S=this.decoder.decodeBitMatrix(J.getBits(),C),I=J.getPoints()}S.getOther()instanceof bo&&S.getOther().applyMirroredCorrection(I);const N=new Be(S.getText(),S.getRawBytes(),void 0,I,De.QR_CODE,void 0),D=S.getByteSegments();D!==null&&N.putMetadata(at.BYTE_SEGMENTS,D);const Q=S.getECLevel();return Q!==null&&N.putMetadata(at.ERROR_CORRECTION_LEVEL,Q),S.hasStructuredAppend()&&(N.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,S.getStructuredAppendSequenceNumber()),N.putMetadata(at.STRUCTURED_APPEND_PARITY,S.getStructuredAppendParity())),N}reset(){}static extractPureBits(g){const C=g.getTopLeftOnBit(),S=g.getBottomRightOnBit();if(C===null||S===null)throw new de;const I=this.moduleSize(C,g);let N=C[1],D=S[1],Q=C[0],J=S[0];if(Q>=J||N>=D)throw new de;if(D-N!==J-Q&&(J=Q+(D-N),J>=g.getWidth()))throw new de;const ne=Math.round((J-Q+1)/I),le=Math.round((D-N+1)/I);if(ne<=0||le<=0)throw new de;if(le!==ne)throw new de;const he=Math.floor(I/2);N+=he,Q+=he;const xe=Q+Math.floor((ne-1)*I)-J;if(xe>0){if(xe>he)throw new de;Q-=xe}const Se=N+Math.floor((le-1)*I)-D;if(Se>0){if(Se>he)throw new de;N-=Se}const Ie=new ve(ne,le);for(let Ne=0;Ne<le;Ne++){const Le=N+Math.floor(Ne*I);for(let Ge=0;Ge<ne;Ge++)g.get(Q+Math.floor(Ge*I),Le)&&Ie.set(Ge,Ne)}return Ie}static moduleSize(g,C){const S=C.getHeight(),I=C.getWidth();let N=g[0],D=g[1],Q=!0,J=0;for(;N<I&&D<S;){if(Q!==C.get(N,D)){if(++J===5)break;Q=!Q}N++,D++}if(N===I||D===S)throw new de;return(N-g[0])/7}}hs.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(g){return Ot.sum(g)}static toIntArray(g){if(g==null||!g.length)return Pt.EMPTY_INT_ARRAY;const C=new Int32Array(g.length);let S=0;for(const I of g)C[S++]=I;return C}static getCodeword(g){const C=G.binarySearch(Pt.SYMBOL_TABLE,g&262143);return C<0?-1:(Pt.CODEWORD_TABLE[C]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class So{constructor(g,C){this.bits=g,this.points=C}getBits(){return this.bits}getPoints(){return this.points}}class Gt{static detectMultiple(g,C,S){let I=g.getBlackMatrix(),N=Gt.detect(S,I);return N.length||(I=I.clone(),I.rotate180(),N=Gt.detect(S,I)),new So(I,N)}static detect(g,C){const S=new Array;let I=0,N=0,D=!1;for(;I<C.getHeight();){const Q=Gt.findVertices(C,I,N);if(Q[0]==null&&Q[3]==null){if(!D)break;D=!1,N=0;for(const J of S)J[1]!=null&&(I=Math.trunc(Math.max(I,J[1].getY()))),J[3]!=null&&(I=Math.max(I,Math.trunc(J[3].getY())));I+=Gt.ROW_STEP;continue}if(D=!0,S.push(Q),!g)break;Q[2]!=null?(N=Math.trunc(Q[2].getX()),I=Math.trunc(Q[2].getY())):(N=Math.trunc(Q[4].getX()),I=Math.trunc(Q[4].getY()))}return S}static findVertices(g,C,S){const I=g.getHeight(),N=g.getWidth(),D=new Array(8);return Gt.copyToResult(D,Gt.findRowsWithPattern(g,I,N,C,S,Gt.START_PATTERN),Gt.INDEXES_START_PATTERN),D[4]!=null&&(S=Math.trunc(D[4].getX()),C=Math.trunc(D[4].getY())),Gt.copyToResult(D,Gt.findRowsWithPattern(g,I,N,C,S,Gt.STOP_PATTERN),Gt.INDEXES_STOP_PATTERN),D}static copyToResult(g,C,S){for(let I=0;I<S.length;I++)g[S[I]]=C[I]}static findRowsWithPattern(g,C,S,I,N,D){const Q=new Array(4);let J=!1;const ne=new Int32Array(D.length);for(;I<C;I+=Gt.ROW_STEP){let he=Gt.findGuardPattern(g,N,I,S,!1,D,ne);if(he!=null){for(;I>0;){const xe=Gt.findGuardPattern(g,N,--I,S,!1,D,ne);if(xe!=null)he=xe;else{I++;break}}Q[0]=new pt(he[0],I),Q[1]=new pt(he[1],I),J=!0;break}}let le=I+1;if(J){let he=0,xe=Int32Array.from([Math.trunc(Q[0].getX()),Math.trunc(Q[1].getX())]);for(;le<C;le++){const Se=Gt.findGuardPattern(g,xe[0],le,S,!1,D,ne);if(Se!=null&&Math.abs(xe[0]-Se[0])<Gt.MAX_PATTERN_DRIFT&&Math.abs(xe[1]-Se[1])<Gt.MAX_PATTERN_DRIFT)xe=Se,he=0;else{if(he>Gt.SKIPPED_ROW_COUNT_MAX)break;he++}}le-=he+1,Q[2]=new pt(xe[0],le),Q[3]=new pt(xe[1],le)}return le-I<Gt.BARCODE_MIN_HEIGHT&&G.fill(Q,null),Q}static findGuardPattern(g,C,S,I,N,D,Q){G.fillWithin(Q,0,Q.length,0);let J=C,ne=0;for(;g.get(J,S)&&J>0&&ne++<Gt.MAX_PIXEL_DRIFT;)J--;let le=J,he=0,xe=D.length;for(let Se=N;le<I;le++)if(g.get(le,S)!==Se)Q[he]++;else{if(he===xe-1){if(Gt.patternMatchVariance(Q,D,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return new Int32Array([J,le]);J+=Q[0]+Q[1],P.arraycopy(Q,2,Q,0,he-1),Q[he-1]=0,Q[he]=0,he--}else he++;Q[he]=1,Se=!Se}return he===xe-1&&Gt.patternMatchVariance(Q,D,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE?new Int32Array([J,le-1]):null}static patternMatchVariance(g,C,S){let I=g.length,N=0,D=0;for(let ne=0;ne<I;ne++)N+=g[ne],D+=C[ne];if(N<D)return 1/0;let Q=N/D;S*=Q;let J=0;for(let ne=0;ne<I;ne++){let le=g[ne],he=C[ne]*Q,xe=le>he?le-he:he-le;if(xe>S)return 1/0;J+=xe}return J/N}}Gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Gt.MAX_AVG_VARIANCE=.42,Gt.MAX_INDIVIDUAL_VARIANCE=.8,Gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Gt.MAX_PIXEL_DRIFT=3,Gt.MAX_PATTERN_DRIFT=5,Gt.SKIPPED_ROW_COUNT_MAX=25,Gt.ROW_STEP=5,Gt.BARCODE_MIN_HEIGHT=10;class Pn{constructor(g,C){if(C.length===0)throw new _;this.field=g;let S=C.length;if(S>1&&C[0]===0){let I=1;for(;I<S&&C[I]===0;)I++;I===S?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(S-I),P.arraycopy(C,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=C}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(g){return this.coefficients[this.coefficients.length-1-g]}evaluateAt(g){if(g===0)return this.getCoefficient(0);if(g===1){let I=0;for(let N of this.coefficients)I=this.field.add(I,N);return I}let C=this.coefficients[0],S=this.coefficients.length;for(let I=1;I<S;I++)C=this.field.add(this.field.multiply(g,C),this.coefficients[I]);return C}add(g){if(!this.field.equals(g.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return g;if(g.isZero())return this;let C=this.coefficients,S=g.coefficients;if(C.length>S.length){let D=C;C=S,S=D}let I=new Int32Array(S.length),N=S.length-C.length;P.arraycopy(S,0,I,0,N);for(let D=N;D<S.length;D++)I[D]=this.field.add(C[D-N],S[D]);return new Pn(this.field,I)}subtract(g){if(!this.field.equals(g.field))throw new _("ModulusPolys do not have same ModulusGF field");return g.isZero()?this:this.add(g.negative())}multiply(g){return g instanceof Pn?this.multiplyOther(g):this.multiplyScalar(g)}multiplyOther(g){if(!this.field.equals(g.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||g.isZero())return new Pn(this.field,new Int32Array([0]));let C=this.coefficients,S=C.length,I=g.coefficients,N=I.length,D=new Int32Array(S+N-1);for(let Q=0;Q<S;Q++){let J=C[Q];for(let ne=0;ne<N;ne++)D[Q+ne]=this.field.add(D[Q+ne],this.field.multiply(J,I[ne]))}return new Pn(this.field,D)}negative(){let g=this.coefficients.length,C=new Int32Array(g);for(let S=0;S<g;S++)C[S]=this.field.subtract(0,this.coefficients[S]);return new Pn(this.field,C)}multiplyScalar(g){if(g===0)return new Pn(this.field,new Int32Array([0]));if(g===1)return this;let C=this.coefficients.length,S=new Int32Array(C);for(let I=0;I<C;I++)S[I]=this.field.multiply(this.coefficients[I],g);return new Pn(this.field,S)}multiplyByMonomial(g,C){if(g<0)throw new _;if(C===0)return new Pn(this.field,new Int32Array([0]));let S=this.coefficients.length,I=new Int32Array(S+g);for(let N=0;N<S;N++)I[N]=this.field.multiply(this.coefficients[N],C);return new Pn(this.field,I)}toString(){let g=new Ee;for(let C=this.getDegree();C>=0;C--){let S=this.getCoefficient(C);S!==0&&(S<0?(g.append(" - "),S=-S):g.length()>0&&g.append(" + "),(C===0||S!==1)&&g.append(S),C!==0&&(C===1?g.append("x"):(g.append("x^"),g.append(C))))}return g.toString()}}class La{add(g,C){return(g+C)%this.modulus}subtract(g,C){return(this.modulus+g-C)%this.modulus}exp(g){return this.expTable[g]}log(g){if(g===0)throw new _;return this.logTable[g]}inverse(g){if(g===0)throw new Ut;return this.expTable[this.modulus-this.logTable[g]-1]}multiply(g,C){return g===0||C===0?0:this.expTable[(this.logTable[g]+this.logTable[C])%(this.modulus-1)]}getSize(){return this.modulus}equals(g){return g===this}}class Rs extends La{constructor(g,C){super(),this.modulus=g,this.expTable=new Int32Array(g),this.logTable=new Int32Array(g);let S=1;for(let I=0;I<g;I++)this.expTable[I]=S,S=S*C%g;for(let I=0;I<g-1;I++)this.logTable[this.expTable[I]]=I;this.zero=new Pn(this,new Int32Array([0])),this.one=new Pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(g,C){if(g<0)throw new _;if(C===0)return this.zero;let S=new Int32Array(g+1);return S[0]=C,new Pn(this,S)}}Rs.PDF417_GF=new Rs(Pt.NUMBER_OF_CODEWORDS,3);class ps{constructor(){this.field=Rs.PDF417_GF}decode(g,C,S){let I=new Pn(this.field,g),N=new Int32Array(C),D=!1;for(let Ie=C;Ie>0;Ie--){let Ne=I.evaluateAt(this.field.exp(Ie));N[C-Ie]=Ne,Ne!==0&&(D=!0)}if(!D)return 0;let Q=this.field.getOne();if(S!=null)for(const Ie of S){let Ne=this.field.exp(g.length-1-Ie),Le=new Pn(this.field,new Int32Array([this.field.subtract(0,Ne),1]));Q=Q.multiply(Le)}let J=new Pn(this.field,N),ne=this.runEuclideanAlgorithm(this.field.buildMonomial(C,1),J,C),le=ne[0],he=ne[1],xe=this.findErrorLocations(le),Se=this.findErrorMagnitudes(he,le,xe);for(let Ie=0;Ie<xe.length;Ie++){let Ne=g.length-1-this.field.log(xe[Ie]);if(Ne<0)throw k.getChecksumInstance();g[Ne]=this.field.subtract(g[Ne],Se[Ie])}return xe.length}runEuclideanAlgorithm(g,C,S){if(g.getDegree()<C.getDegree()){let xe=g;g=C,C=xe}let I=g,N=C,D=this.field.getZero(),Q=this.field.getOne();for(;N.getDegree()>=Math.round(S/2);){let xe=I,Se=D;if(I=N,D=Q,I.isZero())throw k.getChecksumInstance();N=xe;let Ie=this.field.getZero(),Ne=I.getCoefficient(I.getDegree()),Le=this.field.inverse(Ne);for(;N.getDegree()>=I.getDegree()&&!N.isZero();){let Ge=N.getDegree()-I.getDegree(),ft=this.field.multiply(N.getCoefficient(N.getDegree()),Le);Ie=Ie.add(this.field.buildMonomial(Ge,ft)),N=N.subtract(I.multiplyByMonomial(Ge,ft))}Q=Ie.multiply(D).subtract(Se).negative()}let J=Q.getCoefficient(0);if(J===0)throw k.getChecksumInstance();let ne=this.field.inverse(J),le=Q.multiply(ne),he=N.multiply(ne);return[le,he]}findErrorLocations(g){let C=g.getDegree(),S=new Int32Array(C),I=0;for(let N=1;N<this.field.getSize()&&I<C;N++)g.evaluateAt(N)===0&&(S[I]=this.field.inverse(N),I++);if(I!==C)throw k.getChecksumInstance();return S}findErrorMagnitudes(g,C,S){let I=C.getDegree(),N=new Int32Array(I);for(let ne=1;ne<=I;ne++)N[I-ne]=this.field.multiply(ne,C.getCoefficient(ne));let D=new Pn(this.field,N),Q=S.length,J=new Int32Array(Q);for(let ne=0;ne<Q;ne++){let le=this.field.inverse(S[ne]),he=this.field.subtract(0,g.evaluateAt(le)),xe=this.field.inverse(D.evaluateAt(le));J[ne]=this.field.multiply(he,xe)}return J}}class ms{constructor(g,C,S,I,N){g instanceof ms?this.constructor_2(g):this.constructor_1(g,C,S,I,N)}constructor_1(g,C,S,I,N){const D=C==null||S==null,Q=I==null||N==null;if(D&&Q)throw new de;D?(C=new pt(0,I.getY()),S=new pt(0,N.getY())):Q&&(I=new pt(g.getWidth()-1,C.getY()),N=new pt(g.getWidth()-1,S.getY())),this.image=g,this.topLeft=C,this.bottomLeft=S,this.topRight=I,this.bottomRight=N,this.minX=Math.trunc(Math.min(C.getX(),S.getX())),this.maxX=Math.trunc(Math.max(I.getX(),N.getX())),this.minY=Math.trunc(Math.min(C.getY(),I.getY())),this.maxY=Math.trunc(Math.max(S.getY(),N.getY()))}constructor_2(g){this.image=g.image,this.topLeft=g.getTopLeft(),this.bottomLeft=g.getBottomLeft(),this.topRight=g.getTopRight(),this.bottomRight=g.getBottomRight(),this.minX=g.getMinX(),this.maxX=g.getMaxX(),this.minY=g.getMinY(),this.maxY=g.getMaxY()}static merge(g,C){return g==null?C:C==null?g:new ms(g.image,g.topLeft,g.bottomLeft,C.topRight,C.bottomRight)}addMissingRows(g,C,S){let I=this.topLeft,N=this.bottomLeft,D=this.topRight,Q=this.bottomRight;if(g>0){let J=S?this.topLeft:this.topRight,ne=Math.trunc(J.getY()-g);ne<0&&(ne=0);let le=new pt(J.getX(),ne);S?I=le:D=le}if(C>0){let J=S?this.bottomLeft:this.bottomRight,ne=Math.trunc(J.getY()+C);ne>=this.image.getHeight()&&(ne=this.image.getHeight()-1);let le=new pt(J.getX(),ne);S?N=le:Q=le}return new ms(this.image,I,N,D,Q)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Zi{constructor(g,C,S,I){this.columnCount=g,this.errorCorrectionLevel=I,this.rowCountUpperPart=C,this.rowCountLowerPart=S,this.rowCount=C+S}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(g,C){let S=-1;function I(D,Q,J,ne,le,he){if(D==="%%")return"%";if(C[++S]===void 0)return;D=ne?parseInt(ne.substr(1)):void 0;let xe=le?parseInt(le.substr(1)):void 0,Se;switch(he){case"s":Se=C[S];break;case"c":Se=C[S][0];break;case"f":Se=parseFloat(C[S]).toFixed(D);break;case"p":Se=parseFloat(C[S]).toPrecision(D);break;case"e":Se=parseFloat(C[S]).toExponential(D);break;case"x":Se=parseInt(C[S]).toString(xe||16);break;case"d":Se=parseFloat(parseInt(C[S],xe||10).toPrecision(D)).toFixed(0);break}Se=typeof Se=="object"?JSON.stringify(Se):(+Se).toString(xe);let Ie=parseInt(J),Ne=J&&J[0]+""=="0"?"0":" ";for(;Se.length<Ie;)Se=Q!==void 0?Se+Ne:Ne+Se;return Se}let N=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return g.replace(N,I)}format(g,...C){this.buffer+=ni.form(g,C)}toString(){return this.buffer}}class Es{constructor(g){this.boundingBox=new ms(g),this.codewords=new Array(g.getMaxY()-g.getMinY()+1)}getCodewordNearby(g){let C=this.getCodeword(g);if(C!=null)return C;for(let S=1;S<Es.MAX_NEARBY_DISTANCE;S++){let I=this.imageRowToCodewordIndex(g)-S;if(I>=0&&(C=this.codewords[I],C!=null)||(I=this.imageRowToCodewordIndex(g)+S,I<this.codewords.length&&(C=this.codewords[I],C!=null)))return C}return null}imageRowToCodewordIndex(g){return g-this.boundingBox.getMinY()}setCodeword(g,C){this.codewords[this.imageRowToCodewordIndex(g)]=C}getCodeword(g){return this.codewords[this.imageRowToCodewordIndex(g)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const g=new ni;let C=0;for(const S of this.codewords){if(S==null){g.format("%3d:    |   %n",C++);continue}g.format("%3d: %3d|%3d%n",C++,S.getRowNumber(),S.getValue())}return g.toString()}}Es.MAX_NEARBY_DISTANCE=5;class Cs{constructor(){this.values=new Map}setValue(g){g=Math.trunc(g);let C=this.values.get(g);C==null&&(C=0),C++,this.values.set(g,C)}getValue(){let g=-1,C=new Array;for(const[S,I]of this.values.entries()){const N={getKey:()=>S,getValue:()=>I};N.getValue()>g?(g=N.getValue(),C=[],C.push(N.getKey())):N.getValue()===g&&C.push(N.getKey())}return Pt.toIntArray(C)}getConfidence(g){return this.values.get(g)}}class Pa extends Es{constructor(g,C){super(g),this._isLeft=C}setRowNumbers(){for(let g of this.getCodewords())g!=null&&g.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(g){let C=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(C,g);let S=this.getBoundingBox(),I=this._isLeft?S.getTopLeft():S.getTopRight(),N=this._isLeft?S.getBottomLeft():S.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(I.getY())),Q=this.imageRowToCodewordIndex(Math.trunc(N.getY())),J=-1,ne=1,le=0;for(let he=D;he<Q;he++){if(C[he]==null)continue;let xe=C[he],Se=xe.getRowNumber()-J;if(Se===0)le++;else if(Se===1)ne=Math.max(ne,le),le=1,J=xe.getRowNumber();else if(Se<0||xe.getRowNumber()>=g.getRowCount()||Se>he)C[he]=null;else{let Ie;ne>2?Ie=(ne-2)*Se:Ie=Se;let Ne=Ie>=he;for(let Le=1;Le<=Ie&&!Ne;Le++)Ne=C[he-Le]!=null;Ne?C[he]=null:(J=xe.getRowNumber(),le=1)}}}getRowHeights(){let g=this.getBarcodeMetadata();if(g==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(g);let C=new Int32Array(g.getRowCount());for(let S of this.getCodewords())if(S!=null){let I=S.getRowNumber();if(I>=C.length)continue;C[I]++}return C}adjustIncompleteIndicatorColumnRowNumbers(g){let C=this.getBoundingBox(),S=this._isLeft?C.getTopLeft():C.getTopRight(),I=this._isLeft?C.getBottomLeft():C.getBottomRight(),N=this.imageRowToCodewordIndex(Math.trunc(S.getY())),D=this.imageRowToCodewordIndex(Math.trunc(I.getY())),Q=this.getCodewords(),J=-1;for(let ne=N;ne<D;ne++){if(Q[ne]==null)continue;let le=Q[ne];le.setRowNumberAsRowIndicatorColumn();let he=le.getRowNumber()-J;he===0||(he===1?J=le.getRowNumber():le.getRowNumber()>=g.getRowCount()?Q[ne]=null:J=le.getRowNumber())}}getBarcodeMetadata(){let g=this.getCodewords(),C=new Cs,S=new Cs,I=new Cs,N=new Cs;for(let Q of g){if(Q==null)continue;Q.setRowNumberAsRowIndicatorColumn();let J=Q.getValue()%30,ne=Q.getRowNumber();switch(this._isLeft||(ne+=2),ne%3){case 0:S.setValue(J*3+1);break;case 1:N.setValue(J/3),I.setValue(J%3);break;case 2:C.setValue(J+1);break}}if(C.getValue().length===0||S.getValue().length===0||I.getValue().length===0||N.getValue().length===0||C.getValue()[0]<1||S.getValue()[0]+I.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||S.getValue()[0]+I.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let D=new Zi(C.getValue()[0],S.getValue()[0],I.getValue()[0],N.getValue()[0]);return this.removeIncorrectCodewords(g,D),D}removeIncorrectCodewords(g,C){for(let S=0;S<g.length;S++){let I=g[S];if(g[S]==null)continue;let N=I.getValue()%30,D=I.getRowNumber();if(D>C.getRowCount()){g[S]=null;continue}switch(this._isLeft||(D+=2),D%3){case 0:N*3+1!==C.getRowCountUpperPart()&&(g[S]=null);break;case 1:(Math.trunc(N/3)!==C.getErrorCorrectionLevel()||N%3!==C.getRowCountLowerPart())&&(g[S]=null);break;case 2:N+1!==C.getColumnCount()&&(g[S]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class or{constructor(g,C){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=g,this.barcodeColumnCount=g.getColumnCount(),this.boundingBox=C,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let g=Pt.MAX_CODEWORDS_IN_BARCODE,C;do C=g,g=this.adjustRowNumbersAndGetCount();while(g>0&&g<C);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(g){g!=null&&g.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let g=this.adjustRowNumbersByRow();if(g===0)return 0;for(let C=1;C<this.barcodeColumnCount+1;C++){let S=this.detectionResultColumns[C].getCodewords();for(let I=0;I<S.length;I++)S[I]!=null&&(S[I].hasValidRowNumber()||this.adjustRowNumbers(C,I,S))}return g}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let g=this.detectionResultColumns[0].getCodewords(),C=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let S=0;S<g.length;S++)if(g[S]!=null&&C[S]!=null&&g[S].getRowNumber()===C[S].getRowNumber())for(let I=1;I<=this.barcodeColumnCount;I++){let N=this.detectionResultColumns[I].getCodewords()[S];N!=null&&(N.setRowNumber(g[S].getRowNumber()),N.hasValidRowNumber()||(this.detectionResultColumns[I].getCodewords()[S]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let g=0,C=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let S=0;S<C.length;S++){if(C[S]==null)continue;let I=C[S].getRowNumber(),N=0;for(let D=this.barcodeColumnCount+1;D>0&&N<this.ADJUST_ROW_NUMBER_SKIP;D--){let Q=this.detectionResultColumns[D].getCodewords()[S];Q!=null&&(N=or.adjustRowNumberIfValid(I,N,Q),Q.hasValidRowNumber()||g++)}}return g}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let g=0,C=this.detectionResultColumns[0].getCodewords();for(let S=0;S<C.length;S++){if(C[S]==null)continue;let I=C[S].getRowNumber(),N=0;for(let D=1;D<this.barcodeColumnCount+1&&N<this.ADJUST_ROW_NUMBER_SKIP;D++){let Q=this.detectionResultColumns[D].getCodewords()[S];Q!=null&&(N=or.adjustRowNumberIfValid(I,N,Q),Q.hasValidRowNumber()||g++)}}return g}static adjustRowNumberIfValid(g,C,S){return S==null||S.hasValidRowNumber()||(S.isValidRowNumber(g)?(S.setRowNumber(g),C=0):++C),C}adjustRowNumbers(g,C,S){if(!this.detectionResultColumns[g-1])return;let I=S[C],N=this.detectionResultColumns[g-1].getCodewords(),D=N;this.detectionResultColumns[g+1]!=null&&(D=this.detectionResultColumns[g+1].getCodewords());let Q=new Array(14);Q[2]=N[C],Q[3]=D[C],C>0&&(Q[0]=S[C-1],Q[4]=N[C-1],Q[5]=D[C-1]),C>1&&(Q[8]=S[C-2],Q[10]=N[C-2],Q[11]=D[C-2]),C<S.length-1&&(Q[1]=S[C+1],Q[6]=N[C+1],Q[7]=D[C+1]),C<S.length-2&&(Q[9]=S[C+2],Q[12]=N[C+2],Q[13]=D[C+2]);for(let J of Q)if(or.adjustRowNumber(I,J))return}static adjustRowNumber(g,C){return C==null?!1:C.hasValidRowNumber()&&C.getBucket()===g.getBucket()?(g.setRowNumber(C.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(g){this.boundingBox=g}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(g,C){this.detectionResultColumns[g]=C}getDetectionResultColumn(g){return this.detectionResultColumns[g]}toString(){let g=this.detectionResultColumns[0];g==null&&(g=this.detectionResultColumns[this.barcodeColumnCount+1]);let C=new ni;for(let S=0;S<g.getCodewords().length;S++){C.format("CW %3d:",S);for(let I=0;I<this.barcodeColumnCount+2;I++){if(this.detectionResultColumns[I]==null){C.format("    |   ");continue}let N=this.detectionResultColumns[I].getCodewords()[S];if(N==null){C.format("    |   ");continue}C.format(" %3d|%3d",N.getRowNumber(),N.getValue())}C.format("%n")}return C.toString()}}class Vr{constructor(g,C,S,I){this.rowNumber=Vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(g),this.endX=Math.trunc(C),this.bucket=Math.trunc(S),this.value=Math.trunc(I)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(g){return g!==Vr.BARCODE_ROW_UNKNOWN&&this.bucket===g%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(g){this.rowNumber=g}toString(){return this.rowNumber+"|"+this.value}}Vr.BARCODE_ROW_UNKNOWN=-1;class dr{static initialize(){for(let g=0;g<Pt.SYMBOL_TABLE.length;g++){let C=Pt.SYMBOL_TABLE[g],S=C&1;for(let I=0;I<Pt.BARS_IN_MODULE;I++){let N=0;for(;(C&1)===S;)N+=1,C>>=1;S=C&1,dr.RATIOS_TABLE[g]||(dr.RATIOS_TABLE[g]=new Array(Pt.BARS_IN_MODULE)),dr.RATIOS_TABLE[g][Pt.BARS_IN_MODULE-I-1]=Math.fround(N/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(g){let C=dr.getDecodedCodewordValue(dr.sampleBitCounts(g));return C!==-1?C:dr.getClosestDecodedValue(g)}static sampleBitCounts(g){let C=Ot.sum(g),S=new Int32Array(Pt.BARS_IN_MODULE),I=0,N=0;for(let D=0;D<Pt.MODULES_IN_CODEWORD;D++){let Q=C/(2*Pt.MODULES_IN_CODEWORD)+D*C/Pt.MODULES_IN_CODEWORD;N+g[I]<=Q&&(N+=g[I],I++),S[I]++}return S}static getDecodedCodewordValue(g){let C=dr.getBitValue(g);return Pt.getCodeword(C)===-1?-1:C}static getBitValue(g){let C=0;for(let S=0;S<g.length;S++)for(let I=0;I<g[S];I++)C=C<<1|(S%2===0?1:0);return Math.trunc(C)}static getClosestDecodedValue(g){let C=Ot.sum(g),S=new Array(Pt.BARS_IN_MODULE);if(C>1)for(let D=0;D<S.length;D++)S[D]=Math.fround(g[D]/C);let I=In.MAX_VALUE,N=-1;this.bSymbolTableReady||dr.initialize();for(let D=0;D<dr.RATIOS_TABLE.length;D++){let Q=0,J=dr.RATIOS_TABLE[D];for(let ne=0;ne<Pt.BARS_IN_MODULE;ne++){let le=Math.fround(J[ne]-S[ne]);if(Q+=Math.fround(le*le),Q>=I)break}Q<I&&(I=Q,N=Pt.SYMBOL_TABLE[D])}return N}}dr.bSymbolTableReady=!1,dr.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(fe=>new Array(Pt.BARS_IN_MODULE));class ri{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(g){this.segmentIndex=g}getFileId(){return this.fileId}setFileId(g){this.fileId=g}getOptionalData(){return this.optionalData}setOptionalData(g){this.optionalData=g}isLastSegment(){return this.lastSegment}setLastSegment(g){this.lastSegment=g}getSegmentCount(){return this.segmentCount}setSegmentCount(g){this.segmentCount=g}getSender(){return this.sender||null}setSender(g){this.sender=g}getAddressee(){return this.addressee||null}setAddressee(g){this.addressee=g}getFileName(){return this.fileName}setFileName(g){this.fileName=g}getFileSize(){return this.fileSize}setFileSize(g){this.fileSize=g}getChecksum(){return this.checksum}setChecksum(g){this.checksum=g}getTimestamp(){return this.timestamp}setTimestamp(g){this.timestamp=g}}class Bo{static parseLong(g,C=void 0){return parseInt(g,C)}}class ea extends x{}ea.kind="NullPointerException";class ja{writeBytes(g){this.writeBytesOffset(g,0,g.length)}writeBytesOffset(g,C,S){if(g==null)throw new ea;if(C<0||C>g.length||S<0||C+S>g.length||C+S<0)throw new K;if(S===0)return;for(let I=0;I<S;I++)this.write(g[C+I])}flush(){}close(){}}class Fi extends x{}class na extends ja{constructor(g=32){if(super(),this.count=0,g<0)throw new _("Negative initial size: "+g);this.buf=new Uint8Array(g)}ensureCapacity(g){g-this.buf.length>0&&this.grow(g)}grow(g){let S=this.buf.length<<1;if(S-g<0&&(S=g),S<0){if(g<0)throw new Fi;S=H.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,S)}write(g){this.ensureCapacity(this.count+1),this.buf[this.count]=g,this.count+=1}writeBytesOffset(g,C,S){if(C<0||C>g.length||S<0||C+S-g.length>0)throw new K;this.ensureCapacity(this.count+S),P.arraycopy(g,C,this.buf,this.count,S),this.count+=S}writeTo(g){g.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(g){return g?typeof g=="string"?this.toString_string(g):this.toString_number(g):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(g){return new String(this.buf).toString()}toString_number(g){return new String(this.buf).toString()}close(){}}var wn;(function(fe){fe[fe.ALPHA=0]="ALPHA",fe[fe.LOWER=1]="LOWER",fe[fe.MIXED=2]="MIXED",fe[fe.PUNCT=3]="PUNCT",fe[fe.ALPHA_SHIFT=4]="ALPHA_SHIFT",fe[fe.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wn||(wn={}));function _o(){if(typeof window<"u")return window.BigInt||null;if(typeof commonjsGlobal<"u")return commonjsGlobal.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ra;function ws(fe){if(typeof ra>"u"&&(ra=_o()),ra===null)throw new Error("BigInt is not supported!");return ra(fe)}function $a(){let fe=[];fe[0]=ws(1);let g=ws(900);fe[1]=g;for(let C=2;C<16;C++)fe[C]=fe[C-1]*g;return fe}class Ke{static decode(g,C){let S=new Ee(""),I=se.ISO8859_1;S.enableDecoding(I);let N=1,D=g[N++],Q=new ri;for(;N<g[0];){switch(D){case Ke.TEXT_COMPACTION_MODE_LATCH:N=Ke.textCompaction(g,N,S);break;case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:N=Ke.byteCompaction(D,g,I,N,S);break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:S.append(g[N++]);break;case Ke.NUMERIC_COMPACTION_MODE_LATCH:N=Ke.numericCompaction(g,N,S);break;case Ke.ECI_CHARSET:se.getCharacterSetECIByValue(g[N++]);break;case Ke.ECI_GENERAL_PURPOSE:N+=2;break;case Ke.ECI_USER_DEFINED:N++;break;case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:N=Ke.decodeMacroBlock(g,N,Q);break;case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:throw new X;default:N--,N=Ke.textCompaction(g,N,S);break}if(N<g.length)D=g[N++];else throw X.getFormatInstance()}if(S.length()===0)throw X.getFormatInstance();let J=new Ct(null,S.toString(),null,C);return J.setOther(Q),J}static decodeMacroBlock(g,C,S){if(C+Ke.NUMBER_OF_SEQUENCE_CODEWORDS>g[0])throw X.getFormatInstance();let I=new Int32Array(Ke.NUMBER_OF_SEQUENCE_CODEWORDS);for(let Q=0;Q<Ke.NUMBER_OF_SEQUENCE_CODEWORDS;Q++,C++)I[Q]=g[C];S.setSegmentIndex(H.parseInt(Ke.decodeBase900toBase10(I,Ke.NUMBER_OF_SEQUENCE_CODEWORDS)));let N=new Ee;C=Ke.textCompaction(g,C,N),S.setFileId(N.toString());let D=-1;for(g[C]===Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(D=C+1);C<g[0];)switch(g[C]){case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(C++,g[C]){case Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let Q=new Ee;C=Ke.textCompaction(g,C+1,Q),S.setFileName(Q.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let J=new Ee;C=Ke.textCompaction(g,C+1,J),S.setSender(J.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let ne=new Ee;C=Ke.textCompaction(g,C+1,ne),S.setAddressee(ne.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let le=new Ee;C=Ke.numericCompaction(g,C+1,le),S.setSegmentCount(H.parseInt(le.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let he=new Ee;C=Ke.numericCompaction(g,C+1,he),S.setTimestamp(Bo.parseLong(he.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let xe=new Ee;C=Ke.numericCompaction(g,C+1,xe),S.setChecksum(H.parseInt(xe.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Se=new Ee;C=Ke.numericCompaction(g,C+1,Se),S.setFileSize(Bo.parseLong(Se.toString()));break;default:throw X.getFormatInstance()}break;case Ke.MACRO_PDF417_TERMINATOR:C++,S.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(D!==-1){let Q=C-D;S.isLastSegment()&&Q--,S.setOptionalData(G.copyOfRange(g,D,D+Q))}return C}static textCompaction(g,C,S){let I=new Int32Array((g[0]-C)*2),N=new Int32Array((g[0]-C)*2),D=0,Q=!1;for(;C<g[0]&&!Q;){let J=g[C++];if(J<Ke.TEXT_COMPACTION_MODE_LATCH)I[D]=J/30,I[D+1]=J%30,D+=2;else switch(J){case Ke.TEXT_COMPACTION_MODE_LATCH:I[D++]=Ke.TEXT_COMPACTION_MODE_LATCH;break;case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:C--,Q=!0;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I[D]=Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,J=g[C++],N[D]=J,D++;break}}return Ke.decodeTextCompaction(I,N,D,S),C}static decodeTextCompaction(g,C,S,I){let N=wn.ALPHA,D=wn.ALPHA,Q=0;for(;Q<S;){let J=g[Q],ne="";switch(N){case wn.ALPHA:if(J<26)ne=String.fromCharCode(65+J);else switch(J){case 26:ne=" ";break;case Ke.LL:N=wn.LOWER;break;case Ke.ML:N=wn.MIXED;break;case Ke.PS:D=N,N=wn.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[Q]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.LOWER:if(J<26)ne=String.fromCharCode(97+J);else switch(J){case 26:ne=" ";break;case Ke.AS:D=N,N=wn.ALPHA_SHIFT;break;case Ke.ML:N=wn.MIXED;break;case Ke.PS:D=N,N=wn.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[Q]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.MIXED:if(J<Ke.PL)ne=Ke.MIXED_CHARS[J];else switch(J){case Ke.PL:N=wn.PUNCT;break;case 26:ne=" ";break;case Ke.LL:N=wn.LOWER;break;case Ke.AL:N=wn.ALPHA;break;case Ke.PS:D=N,N=wn.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[Q]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.PUNCT:if(J<Ke.PAL)ne=Ke.PUNCT_CHARS[J];else switch(J){case Ke.PAL:N=wn.ALPHA;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[Q]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.ALPHA_SHIFT:if(N=D,J<26)ne=String.fromCharCode(65+J);else switch(J){case 26:ne=" ";break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break;case wn.PUNCT_SHIFT:if(N=D,J<Ke.PAL)ne=Ke.PUNCT_CHARS[J];else switch(J){case Ke.PAL:N=wn.ALPHA;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(C[Q]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:N=wn.ALPHA;break}break}ne!==""&&I.append(ne),Q++}}static byteCompaction(g,C,S,I,N){let D=new na,Q=0,J=0,ne=!1;switch(g){case Ke.BYTE_COMPACTION_MODE_LATCH:let le=new Int32Array(6),he=C[I++];for(;I<C[0]&&!ne;)switch(le[Q++]=he,J=900*J+he,he=C[I++],he){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:I--,ne=!0;break;default:if(Q%5===0&&Q>0){for(let xe=0;xe<6;++xe)D.write(Number(ws(J)>>ws(8*(5-xe))));J=0,Q=0}break}I===C[0]&&he<Ke.TEXT_COMPACTION_MODE_LATCH&&(le[Q++]=he);for(let xe=0;xe<Q;xe++)D.write(le[xe]);break;case Ke.BYTE_COMPACTION_MODE_LATCH_6:for(;I<C[0]&&!ne;){let xe=C[I++];if(xe<Ke.TEXT_COMPACTION_MODE_LATCH)Q++,J=900*J+xe;else switch(xe){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:I--,ne=!0;break}if(Q%5===0&&Q>0){for(let Se=0;Se<6;++Se)D.write(Number(ws(J)>>ws(8*(5-Se))));J=0,Q=0}}break}return N.append(ge.decode(D.toByteArray(),S)),I}static numericCompaction(g,C,S){let I=0,N=!1,D=new Int32Array(Ke.MAX_NUMERIC_CODEWORDS);for(;C<g[0]&&!N;){let Q=g[C++];if(C===g[0]&&(N=!0),Q<Ke.TEXT_COMPACTION_MODE_LATCH)D[I]=Q,I++;else switch(Q){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:C--,N=!0;break}(I%Ke.MAX_NUMERIC_CODEWORDS===0||Q===Ke.NUMERIC_COMPACTION_MODE_LATCH||N)&&I>0&&(S.append(Ke.decodeBase900toBase10(D,I)),I=0)}return C}static decodeBase900toBase10(g,C){let S=ws(0);for(let N=0;N<C;N++)S+=Ke.EXP900[C-N-1]*ws(g[N]);let I=S.toString();if(I.charAt(0)!=="1")throw new X;return I.substring(1)}}Ke.TEXT_COMPACTION_MODE_LATCH=900,Ke.BYTE_COMPACTION_MODE_LATCH=901,Ke.NUMERIC_COMPACTION_MODE_LATCH=902,Ke.BYTE_COMPACTION_MODE_LATCH_6=924,Ke.ECI_USER_DEFINED=925,Ke.ECI_GENERAL_PURPOSE=926,Ke.ECI_CHARSET=927,Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ke.MACRO_PDF417_TERMINATOR=922,Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ke.MAX_NUMERIC_CODEWORDS=15,Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ke.PL=25,Ke.LL=27,Ke.AS=27,Ke.ML=28,Ke.AL=28,Ke.PS=29,Ke.PAL=29,Ke.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ke.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ke.EXP900=_o()?$a():[],Ke.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(g,C,S,I,N,D,Q){let J=new ms(g,C,S,I,N),ne=null,le=null,he;for(let Ie=!0;;Ie=!1){if(C!=null&&(ne=Yt.getRowIndicatorColumn(g,J,C,!0,D,Q)),I!=null&&(le=Yt.getRowIndicatorColumn(g,J,I,!1,D,Q)),he=Yt.merge(ne,le),he==null)throw de.getNotFoundInstance();let Ne=he.getBoundingBox();if(Ie&&Ne!=null&&(Ne.getMinY()<J.getMinY()||Ne.getMaxY()>J.getMaxY()))J=Ne;else break}he.setBoundingBox(J);let xe=he.getBarcodeColumnCount()+1;he.setDetectionResultColumn(0,ne),he.setDetectionResultColumn(xe,le);let Se=ne!=null;for(let Ie=1;Ie<=xe;Ie++){let Ne=Se?Ie:xe-Ie;if(he.getDetectionResultColumn(Ne)!==void 0)continue;let Le;Ne===0||Ne===xe?Le=new Pa(J,Ne===0):Le=new Es(J),he.setDetectionResultColumn(Ne,Le);let Ge=-1,ft=Ge;for(let dt=J.getMinY();dt<=J.getMaxY();dt++){if(Ge=Yt.getStartColumn(he,Ne,dt,Se),Ge<0||Ge>J.getMaxX()){if(ft===-1)continue;Ge=ft}let At=Yt.detectCodeword(g,J.getMinX(),J.getMaxX(),Se,Ge,dt,D,Q);At!=null&&(Le.setCodeword(dt,At),ft=Ge,D=Math.min(D,At.getWidth()),Q=Math.max(Q,At.getWidth()))}}return Yt.createDecoderResult(he)}static merge(g,C){if(g==null&&C==null)return null;let S=Yt.getBarcodeMetadata(g,C);if(S==null)return null;let I=ms.merge(Yt.adjustBoundingBox(g),Yt.adjustBoundingBox(C));return new or(S,I)}static adjustBoundingBox(g){if(g==null)return null;let C=g.getRowHeights();if(C==null)return null;let S=Yt.getMax(C),I=0;for(let Q of C)if(I+=S-Q,Q>0)break;let N=g.getCodewords();for(let Q=0;I>0&&N[Q]==null;Q++)I--;let D=0;for(let Q=C.length-1;Q>=0&&(D+=S-C[Q],!(C[Q]>0));Q--);for(let Q=N.length-1;D>0&&N[Q]==null;Q--)D--;return g.getBoundingBox().addMissingRows(I,D,g.isLeft())}static getMax(g){let C=-1;for(let S of g)C=Math.max(C,S);return C}static getBarcodeMetadata(g,C){let S;if(g==null||(S=g.getBarcodeMetadata())==null)return C==null?null:C.getBarcodeMetadata();let I;return C==null||(I=C.getBarcodeMetadata())==null?S:S.getColumnCount()!==I.getColumnCount()&&S.getErrorCorrectionLevel()!==I.getErrorCorrectionLevel()&&S.getRowCount()!==I.getRowCount()?null:S}static getRowIndicatorColumn(g,C,S,I,N,D){let Q=new Pa(C,I);for(let J=0;J<2;J++){let ne=J===0?1:-1,le=Math.trunc(Math.trunc(S.getX()));for(let he=Math.trunc(Math.trunc(S.getY()));he<=C.getMaxY()&&he>=C.getMinY();he+=ne){let xe=Yt.detectCodeword(g,0,g.getWidth(),I,le,he,N,D);xe!=null&&(Q.setCodeword(he,xe),I?le=xe.getStartX():le=xe.getEndX())}}return Q}static adjustCodewordCount(g,C){let S=C[0][1],I=S.getValue(),N=g.getBarcodeColumnCount()*g.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(g.getBarcodeECLevel());if(I.length===0){if(N<1||N>Pt.MAX_CODEWORDS_IN_BARCODE)throw de.getNotFoundInstance();S.setValue(N)}else I[0]!==N&&S.setValue(N)}static createDecoderResult(g){let C=Yt.createBarcodeMatrix(g);Yt.adjustCodewordCount(g,C);let S=new Array,I=new Int32Array(g.getBarcodeRowCount()*g.getBarcodeColumnCount()),N=[],D=new Array;for(let J=0;J<g.getBarcodeRowCount();J++)for(let ne=0;ne<g.getBarcodeColumnCount();ne++){let le=C[J][ne+1].getValue(),he=J*g.getBarcodeColumnCount()+ne;le.length===0?S.push(he):le.length===1?I[he]=le[0]:(D.push(he),N.push(le))}let Q=new Array(N.length);for(let J=0;J<Q.length;J++)Q[J]=N[J];return Yt.createDecoderResultFromAmbiguousValues(g.getBarcodeECLevel(),I,Pt.toIntArray(S),Pt.toIntArray(D),Q)}static createDecoderResultFromAmbiguousValues(g,C,S,I,N){let D=new Int32Array(I.length),Q=100;for(;Q-- >0;){for(let J=0;J<D.length;J++)C[I[J]]=N[J][D[J]];try{return Yt.decodeCodewords(C,g,S)}catch(J){if(!(J instanceof k))throw J}if(D.length===0)throw k.getChecksumInstance();for(let J=0;J<D.length;J++)if(D[J]<N[J].length-1){D[J]++;break}else if(D[J]=0,J===D.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(g){let C=Array.from({length:g.getBarcodeRowCount()},()=>new Array(g.getBarcodeColumnCount()+2));for(let I=0;I<C.length;I++)for(let N=0;N<C[I].length;N++)C[I][N]=new Cs;let S=0;for(let I of g.getDetectionResultColumns()){if(I!=null){for(let N of I.getCodewords())if(N!=null){let D=N.getRowNumber();if(D>=0){if(D>=C.length)continue;C[D][S].setValue(N.getValue())}}}S++}return C}static isValidBarcodeColumn(g,C){return C>=0&&C<=g.getBarcodeColumnCount()+1}static getStartColumn(g,C,S,I){let N=I?1:-1,D=null;if(Yt.isValidBarcodeColumn(g,C-N)&&(D=g.getDetectionResultColumn(C-N).getCodeword(S)),D!=null)return I?D.getEndX():D.getStartX();if(D=g.getDetectionResultColumn(C).getCodewordNearby(S),D!=null)return I?D.getStartX():D.getEndX();if(Yt.isValidBarcodeColumn(g,C-N)&&(D=g.getDetectionResultColumn(C-N).getCodewordNearby(S)),D!=null)return I?D.getEndX():D.getStartX();let Q=0;for(;Yt.isValidBarcodeColumn(g,C-N);){C-=N;for(let J of g.getDetectionResultColumn(C).getCodewords())if(J!=null)return(I?J.getEndX():J.getStartX())+N*Q*(J.getEndX()-J.getStartX());Q++}return I?g.getBoundingBox().getMinX():g.getBoundingBox().getMaxX()}static detectCodeword(g,C,S,I,N,D,Q,J){N=Yt.adjustCodewordStartColumn(g,C,S,I,N,D);let ne=Yt.getModuleBitCount(g,C,S,I,N,D);if(ne==null)return null;let le,he=Ot.sum(ne);if(I)le=N+he;else{for(let Ie=0;Ie<ne.length/2;Ie++){let Ne=ne[Ie];ne[Ie]=ne[ne.length-1-Ie],ne[ne.length-1-Ie]=Ne}le=N,N=le-he}if(!Yt.checkCodewordSkew(he,Q,J))return null;let xe=dr.getDecodedValue(ne),Se=Pt.getCodeword(xe);return Se===-1?null:new Vr(N,le,Yt.getCodewordBucketNumber(xe),Se)}static getModuleBitCount(g,C,S,I,N,D){let Q=N,J=new Int32Array(8),ne=0,le=I?1:-1,he=I;for(;(I?Q<S:Q>=C)&&ne<J.length;)g.get(Q,D)===he?(J[ne]++,Q+=le):(ne++,he=!he);return ne===J.length||Q===(I?S:C)&&ne===J.length-1?J:null}static getNumberOfECCodeWords(g){return 2<<g}static adjustCodewordStartColumn(g,C,S,I,N,D){let Q=N,J=I?-1:1;for(let ne=0;ne<2;ne++){for(;(I?Q>=C:Q<S)&&I===g.get(Q,D);){if(Math.abs(N-Q)>Yt.CODEWORD_SKEW_SIZE)return N;Q+=J}J=-J,I=!I}return Q}static checkCodewordSkew(g,C,S){return C-Yt.CODEWORD_SKEW_SIZE<=g&&g<=S+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(g,C,S){if(g.length===0)throw X.getFormatInstance();let I=1<<C+1,N=Yt.correctErrors(g,S,I);Yt.verifyCodewordCount(g,I);let D=Ke.decode(g,""+C);return D.setErrorsCorrected(N),D.setErasures(S.length),D}static correctErrors(g,C,S){if(C!=null&&C.length>S/2+Yt.MAX_ERRORS||S<0||S>Yt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Yt.errorCorrection.decode(g,S,C)}static verifyCodewordCount(g,C){if(g.length<4)throw X.getFormatInstance();let S=g[0];if(S>g.length)throw X.getFormatInstance();if(S===0)if(C<g.length)g[0]=g.length-C;else throw X.getFormatInstance()}static getBitCountForCodeword(g){let C=new Int32Array(8),S=0,I=C.length-1;for(;!((g&1)!==S&&(S=g&1,I--,I<0));)C[I]++,g>>=1;return C}static getCodewordBucketNumber(g){return g instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(g):this.getCodewordBucketNumber_number(g)}static getCodewordBucketNumber_number(g){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(g))}static getCodewordBucketNumber_Int32Array(g){return(g[0]-g[2]+g[4]-g[6]+9)%9}static toString(g){let C=new ni;for(let S=0;S<g.length;S++){C.format("Row %2d: ",S);for(let I=0;I<g[S].length;I++){let N=g[S][I];N.getValue().length===0?C.format("        ",null):C.format("%4d(%2d)",N.getValue()[0],N.getConfidence(N.getValue()[0]))}C.format("%n")}return C.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new ps;class hr{decode(g,C=null){let S=hr.decode(g,C,!1);if(S==null||S.length===0||S[0]==null)throw de.getNotFoundInstance();return S[0]}decodeMultiple(g,C=null){try{return hr.decode(g,C,!0)}catch(S){throw S instanceof X||S instanceof k?de.getNotFoundInstance():S}}static decode(g,C,S){const I=new Array,N=Gt.detectMultiple(g,C,S);for(const D of N.getPoints()){const Q=Yt.decode(N.getBits(),D[4],D[5],D[6],D[7],hr.getMinCodewordWidth(D),hr.getMaxCodewordWidth(D)),J=new Be(Q.getText(),Q.getRawBytes(),void 0,D,De.PDF_417);J.putMetadata(at.ERROR_CORRECTION_LEVEL,Q.getECLevel());const ne=Q.getOther();ne!=null&&J.putMetadata(at.PDF417_EXTRA_METADATA,ne),I.push(J)}return I.map(D=>D)}static getMaxWidth(g,C){return g==null||C==null?0:Math.trunc(Math.abs(g.getX()-C.getX()))}static getMinWidth(g,C){return g==null||C==null?H.MAX_VALUE:Math.trunc(Math.abs(g.getX()-C.getX()))}static getMaxCodewordWidth(g){return Math.floor(Math.max(Math.max(hr.getMaxWidth(g[0],g[4]),hr.getMaxWidth(g[6],g[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(hr.getMaxWidth(g[1],g[5]),hr.getMaxWidth(g[7],g[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(g){return Math.floor(Math.min(Math.min(hr.getMinWidth(g[0],g[4]),hr.getMinWidth(g[6],g[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(hr.getMinWidth(g[1],g[5]),hr.getMinWidth(g[7],g[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class sa extends x{}sa.kind="ReaderException";class To{constructor(g,C){this.verbose=g===!0,C&&this.setHints(C)}decode(g,C){return C&&this.setHints(C),this.decodeInternal(g)}decodeWithState(g){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(g)}setHints(g){this.hints=g;const C=!s(g)&&g.get(Y.TRY_HARDER)===!0,S=s(g)?null:g.get(Y.POSSIBLE_FORMATS),I=new Array;if(!s(S)){const N=S.some(D=>D===De.UPC_A||D===De.UPC_E||D===De.EAN_13||D===De.EAN_8||D===De.CODABAR||D===De.CODE_39||D===De.CODE_93||D===De.CODE_128||D===De.ITF||D===De.RSS_14||D===De.RSS_EXPANDED);N&&!C&&I.push(new gr(g,this.verbose)),S.includes(De.QR_CODE)&&I.push(new hs),S.includes(De.DATA_MATRIX)&&I.push(new fs),S.includes(De.AZTEC)&&I.push(new Wt),S.includes(De.PDF_417)&&I.push(new hr),N&&C&&I.push(new gr(g,this.verbose))}I.length===0&&(C||I.push(new gr(g,this.verbose)),I.push(new hs),I.push(new fs),I.push(new Wt),I.push(new hr),C&&I.push(new gr(g,this.verbose))),this.readers=I}reset(){if(this.readers!==null)for(const g of this.readers)g.reset()}decodeInternal(g){if(this.readers===null)throw new sa("No readers where selected, nothing can be read.");for(const C of this.readers)try{return C.decode(g,this.hints)}catch(S){if(S instanceof sa)continue}throw new de("No MultiFormat Readers were able to detect the code.")}}class Ro extends Re{constructor(g=null,C=500){const S=new To;S.setHints(g),super(S,C)}decodeBitmap(g){return this.reader.decodeWithState(g)}}class Ul extends Re{constructor(g=500){super(new hr,g)}}class Hl extends Re{constructor(g=500){super(new hs,g)}}var Ua;(function(fe){fe[fe.ERROR_CORRECTION=0]="ERROR_CORRECTION",fe[fe.CHARACTER_SET=1]="CHARACTER_SET",fe[fe.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",fe[fe.MIN_SIZE=3]="MIN_SIZE",fe[fe.MAX_SIZE=4]="MAX_SIZE",fe[fe.MARGIN=5]="MARGIN",fe[fe.PDF417_COMPACT=6]="PDF417_COMPACT",fe[fe.PDF417_COMPACTION=7]="PDF417_COMPACTION",fe[fe.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",fe[fe.AZTEC_LAYERS=9]="AZTEC_LAYERS",fe[fe.QR_VERSION=10]="QR_VERSION"})(Ua||(Ua={}));var rr=Ua;class ki{constructor(g){this.field=g,this.cachedGenerators=[],this.cachedGenerators.push(new mt(g,Int32Array.from([1])))}buildGenerator(g){const C=this.cachedGenerators;if(g>=C.length){let S=C[C.length-1];const I=this.field;for(let N=C.length;N<=g;N++){const D=S.multiply(new mt(I,Int32Array.from([1,I.exp(N-1+I.getGeneratorBase())])));C.push(D),S=D}}return C[g]}encode(g,C){if(C===0)throw new _("No error correction bytes");const S=g.length-C;if(S<=0)throw new _("No data bytes provided");const I=this.buildGenerator(C),N=new Int32Array(S);P.arraycopy(g,0,N,0,S);let D=new mt(this.field,N);D=D.multiplyByMonomial(C,1);const J=D.divide(I)[1].getCoefficients(),ne=C-J.length;for(let le=0;le<ne;le++)g[S+le]=0;P.arraycopy(J,0,g,S+ne,J.length)}}class Xn{constructor(){}static applyMaskPenaltyRule1(g){return Xn.applyMaskPenaltyRule1Internal(g,!0)+Xn.applyMaskPenaltyRule1Internal(g,!1)}static applyMaskPenaltyRule2(g){let C=0;const S=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let D=0;D<N-1;D++){const Q=S[D];for(let J=0;J<I-1;J++){const ne=Q[J];ne===Q[J+1]&&ne===S[D+1][J]&&ne===S[D+1][J+1]&&C++}}return Xn.N2*C}static applyMaskPenaltyRule3(g){let C=0;const S=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let D=0;D<N;D++)for(let Q=0;Q<I;Q++){const J=S[D];Q+6<I&&J[Q]===1&&J[Q+1]===0&&J[Q+2]===1&&J[Q+3]===1&&J[Q+4]===1&&J[Q+5]===0&&J[Q+6]===1&&(Xn.isWhiteHorizontal(J,Q-4,Q)||Xn.isWhiteHorizontal(J,Q+7,Q+11))&&C++,D+6<N&&S[D][Q]===1&&S[D+1][Q]===0&&S[D+2][Q]===1&&S[D+3][Q]===1&&S[D+4][Q]===1&&S[D+5][Q]===0&&S[D+6][Q]===1&&(Xn.isWhiteVertical(S,Q,D-4,D)||Xn.isWhiteVertical(S,Q,D+7,D+11))&&C++}return C*Xn.N3}static isWhiteHorizontal(g,C,S){C=Math.max(C,0),S=Math.min(S,g.length);for(let I=C;I<S;I++)if(g[I]===1)return!1;return!0}static isWhiteVertical(g,C,S,I){S=Math.max(S,0),I=Math.min(I,g.length);for(let N=S;N<I;N++)if(g[N][C]===1)return!1;return!0}static applyMaskPenaltyRule4(g){let C=0;const S=g.getArray(),I=g.getWidth(),N=g.getHeight();for(let J=0;J<N;J++){const ne=S[J];for(let le=0;le<I;le++)ne[le]===1&&C++}const D=g.getHeight()*g.getWidth();return Math.floor(Math.abs(C*2-D)*10/D)*Xn.N4}static getDataMaskBit(g,C,S){let I,N;switch(g){case 0:I=S+C&1;break;case 1:I=S&1;break;case 2:I=C%3;break;case 3:I=(S+C)%3;break;case 4:I=Math.floor(S/2)+Math.floor(C/3)&1;break;case 5:N=S*C,I=(N&1)+N%3;break;case 6:N=S*C,I=(N&1)+N%3&1;break;case 7:N=S*C,I=N%3+(S+C&1)&1;break;default:throw new _("Invalid mask pattern: "+g)}return I===0}static applyMaskPenaltyRule1Internal(g,C){let S=0;const I=C?g.getHeight():g.getWidth(),N=C?g.getWidth():g.getHeight(),D=g.getArray();for(let Q=0;Q<I;Q++){let J=0,ne=-1;for(let le=0;le<N;le++){const he=C?D[Q][le]:D[le][Q];he===ne?J++:(J>=5&&(S+=Xn.N1+(J-5)),J=1,ne=he)}J>=5&&(S+=Xn.N1+(J-5))}return S}}Xn.N1=3,Xn.N2=3,Xn.N3=40,Xn.N4=10;class ia{constructor(g,C){this.width=g,this.height=C;const S=new Array(C);for(let I=0;I!==C;I++)S[I]=new Uint8Array(g);this.bytes=S}getHeight(){return this.height}getWidth(){return this.width}get(g,C){return this.bytes[C][g]}getArray(){return this.bytes}setNumber(g,C,S){this.bytes[C][g]=S}setBoolean(g,C,S){this.bytes[C][g]=S?1:0}clear(g){for(const C of this.bytes)G.fill(C,g)}equals(g){if(!(g instanceof ia))return!1;const C=g;if(this.width!==C.width||this.height!==C.height)return!1;for(let S=0,I=this.height;S<I;++S){const N=this.bytes[S],D=C.bytes[S];for(let Q=0,J=this.width;Q<J;++Q)if(N[Q]!==D[Q])return!1}return!0}toString(){const g=new Ee;for(let C=0,S=this.height;C<S;++C){const I=this.bytes[C];for(let N=0,D=this.width;N<D;++N)switch(I[N]){case 0:g.append(" 0");break;case 1:g.append(" 1");break;default:g.append("  ");break}g.append(`
`)}return g.toString()}}class Is{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const g=new Ee;return g.append(`<<
`),g.append(" mode: "),g.append(this.mode?this.mode.toString():"null"),g.append(`
 ecLevel: `),g.append(this.ecLevel?this.ecLevel.toString():"null"),g.append(`
 version: `),g.append(this.version?this.version.toString():"null"),g.append(`
 maskPattern: `),g.append(this.maskPattern.toString()),this.matrix?(g.append(`
 matrix:
`),g.append(this.matrix.toString())):g.append(`
 matrix: null
`),g.append(`>>
`),g.toString()}setMode(g){this.mode=g}setECLevel(g){this.ecLevel=g}setVersion(g){this.version=g}setMaskPattern(g){this.maskPattern=g}setMatrix(g){this.matrix=g}static isValidMaskPattern(g){return g>=0&&g<Is.NUM_MASK_PATTERNS}}Is.NUM_MASK_PATTERNS=8;class Bn extends x{}Bn.kind="WriterException";class jt{constructor(){}static clearMatrix(g){g.clear(255)}static buildMatrix(g,C,S,I,N){jt.clearMatrix(N),jt.embedBasicPatterns(S,N),jt.embedTypeInfo(C,I,N),jt.maybeEmbedVersionInfo(S,N),jt.embedDataBits(g,I,N)}static embedBasicPatterns(g,C){jt.embedPositionDetectionPatternsAndSeparators(C),jt.embedDarkDotAtLeftBottomCorner(C),jt.maybeEmbedPositionAdjustmentPatterns(g,C),jt.embedTimingPatterns(C)}static embedTypeInfo(g,C,S){const I=new j;jt.makeTypeInfoBits(g,C,I);for(let N=0,D=I.getSize();N<D;++N){const Q=I.get(I.getSize()-1-N),J=jt.TYPE_INFO_COORDINATES[N],ne=J[0],le=J[1];if(S.setBoolean(ne,le,Q),N<8){const he=S.getWidth()-N-1;S.setBoolean(he,8,Q)}else{const xe=S.getHeight()-7+(N-8);S.setBoolean(8,xe,Q)}}}static maybeEmbedVersionInfo(g,C){if(g.getVersionNumber()<7)return;const S=new j;jt.makeVersionInfoBits(g,S);let I=17;for(let N=0;N<6;++N)for(let D=0;D<3;++D){const Q=S.get(I);I--,C.setBoolean(N,C.getHeight()-11+D,Q),C.setBoolean(C.getHeight()-11+D,N,Q)}}static embedDataBits(g,C,S){let I=0,N=-1,D=S.getWidth()-1,Q=S.getHeight()-1;for(;D>0;){for(D===6&&(D-=1);Q>=0&&Q<S.getHeight();){for(let J=0;J<2;++J){const ne=D-J;if(!jt.isEmpty(S.get(ne,Q)))continue;let le;I<g.getSize()?(le=g.get(I),++I):le=!1,C!==255&&Xn.getDataMaskBit(C,ne,Q)&&(le=!le),S.setBoolean(ne,Q,le)}Q+=N}N=-N,Q+=N,D-=2}if(I!==g.getSize())throw new Bn("Not all bits consumed: "+I+"/"+g.getSize())}static findMSBSet(g){return 32-H.numberOfLeadingZeros(g)}static calculateBCHCode(g,C){if(C===0)throw new _("0 polynomial");const S=jt.findMSBSet(C);for(g<<=S-1;jt.findMSBSet(g)>=S;)g^=C<<jt.findMSBSet(g)-S;return g}static makeTypeInfoBits(g,C,S){if(!Is.isValidMaskPattern(C))throw new Bn("Invalid mask pattern");const I=g.getBits()<<3|C;S.appendBits(I,5);const N=jt.calculateBCHCode(I,jt.TYPE_INFO_POLY);S.appendBits(N,10);const D=new j;if(D.appendBits(jt.TYPE_INFO_MASK_PATTERN,15),S.xor(D),S.getSize()!==15)throw new Bn("should not happen but we got: "+S.getSize())}static makeVersionInfoBits(g,C){C.appendBits(g.getVersionNumber(),6);const S=jt.calculateBCHCode(g.getVersionNumber(),jt.VERSION_INFO_POLY);if(C.appendBits(S,12),C.getSize()!==18)throw new Bn("should not happen but we got: "+C.getSize())}static isEmpty(g){return g===255}static embedTimingPatterns(g){for(let C=8;C<g.getWidth()-8;++C){const S=(C+1)%2;jt.isEmpty(g.get(C,6))&&g.setNumber(C,6,S),jt.isEmpty(g.get(6,C))&&g.setNumber(6,C,S)}}static embedDarkDotAtLeftBottomCorner(g){if(g.get(8,g.getHeight()-8)===0)throw new Bn;g.setNumber(8,g.getHeight()-8,1)}static embedHorizontalSeparationPattern(g,C,S){for(let I=0;I<8;++I){if(!jt.isEmpty(S.get(g+I,C)))throw new Bn;S.setNumber(g+I,C,0)}}static embedVerticalSeparationPattern(g,C,S){for(let I=0;I<7;++I){if(!jt.isEmpty(S.get(g,C+I)))throw new Bn;S.setNumber(g,C+I,0)}}static embedPositionAdjustmentPattern(g,C,S){for(let I=0;I<5;++I){const N=jt.POSITION_ADJUSTMENT_PATTERN[I];for(let D=0;D<5;++D)S.setNumber(g+D,C+I,N[D])}}static embedPositionDetectionPattern(g,C,S){for(let I=0;I<7;++I){const N=jt.POSITION_DETECTION_PATTERN[I];for(let D=0;D<7;++D)S.setNumber(g+D,C+I,N[D])}}static embedPositionDetectionPatternsAndSeparators(g){const C=jt.POSITION_DETECTION_PATTERN[0].length;jt.embedPositionDetectionPattern(0,0,g),jt.embedPositionDetectionPattern(g.getWidth()-C,0,g),jt.embedPositionDetectionPattern(0,g.getWidth()-C,g);const S=8;jt.embedHorizontalSeparationPattern(0,S-1,g),jt.embedHorizontalSeparationPattern(g.getWidth()-S,S-1,g),jt.embedHorizontalSeparationPattern(0,g.getWidth()-S,g);const I=7;jt.embedVerticalSeparationPattern(I,0,g),jt.embedVerticalSeparationPattern(g.getHeight()-I-1,0,g),jt.embedVerticalSeparationPattern(I,g.getHeight()-I,g)}static maybeEmbedPositionAdjustmentPatterns(g,C){if(g.getVersionNumber()<2)return;const S=g.getVersionNumber()-1,I=jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[S];for(let N=0,D=I.length;N!==D;N++){const Q=I[N];if(Q>=0)for(let J=0;J!==D;J++){const ne=I[J];ne>=0&&jt.isEmpty(C.get(ne,Q))&&jt.embedPositionAdjustmentPattern(ne-2,Q-2,C)}}}}jt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jt.VERSION_INFO_POLY=7973,jt.TYPE_INFO_POLY=1335,jt.TYPE_INFO_MASK_PATTERN=21522;class Ql{constructor(g,C){this.dataBytes=g,this.errorCorrectionBytes=C}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jn{constructor(){}static calculateMaskPenalty(g){return Xn.applyMaskPenaltyRule1(g)+Xn.applyMaskPenaltyRule2(g)+Xn.applyMaskPenaltyRule3(g)+Xn.applyMaskPenaltyRule4(g)}static encode(g,C,S=null){let I=jn.DEFAULT_BYTE_MODE_ENCODING;const N=S!==null&&S.get(rr.CHARACTER_SET)!==void 0;N&&(I=S.get(rr.CHARACTER_SET).toString());const D=this.chooseMode(g,I),Q=new j;if(D===Dt.BYTE&&(N||jn.DEFAULT_BYTE_MODE_ENCODING!==I)){const dt=se.getCharacterSetECIByName(I);dt!==void 0&&this.appendECI(dt,Q)}this.appendModeInfo(D,Q);const J=new j;this.appendBytes(g,D,J,I);let ne;if(S!==null&&S.get(rr.QR_VERSION)!==void 0){const dt=Number.parseInt(S.get(rr.QR_VERSION).toString(),10);ne=Rt.getVersionForNumber(dt);const At=this.calculateBitsNeeded(D,Q,J,ne);if(!this.willFit(At,ne,C))throw new Bn("Data too big for requested version")}else ne=this.recommendVersion(C,D,Q,J);const le=new j;le.appendBitArray(Q);const he=D===Dt.BYTE?J.getSizeInBytes():g.length;this.appendLengthInfo(he,ne,D,le),le.appendBitArray(J);const xe=ne.getECBlocksForLevel(C),Se=ne.getTotalCodewords()-xe.getTotalECCodewords();this.terminateBits(Se,le);const Ie=this.interleaveWithECBytes(le,ne.getTotalCodewords(),Se,xe.getNumBlocks()),Ne=new Is;Ne.setECLevel(C),Ne.setMode(D),Ne.setVersion(ne);const Le=ne.getDimensionForVersion(),Ge=new ia(Le,Le),ft=this.chooseMaskPattern(Ie,C,ne,Ge);return Ne.setMaskPattern(ft),jt.buildMatrix(Ie,C,ne,ft,Ge),Ne.setMatrix(Ge),Ne}static recommendVersion(g,C,S,I){const N=this.calculateBitsNeeded(C,S,I,Rt.getVersionForNumber(1)),D=this.chooseVersion(N,g),Q=this.calculateBitsNeeded(C,S,I,D);return this.chooseVersion(Q,g)}static calculateBitsNeeded(g,C,S,I){return C.getSize()+g.getCharacterCountBits(I)+S.getSize()}static getAlphanumericCode(g){return g<jn.ALPHANUMERIC_TABLE.length?jn.ALPHANUMERIC_TABLE[g]:-1}static chooseMode(g,C=null){if(se.SJIS.getName()===C&&this.isOnlyDoubleByteKanji(g))return Dt.KANJI;let S=!1,I=!1;for(let N=0,D=g.length;N<D;++N){const Q=g.charAt(N);if(jn.isDigit(Q))S=!0;else if(this.getAlphanumericCode(Q.charCodeAt(0))!==-1)I=!0;else return Dt.BYTE}return I?Dt.ALPHANUMERIC:S?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(g){let C;try{C=ge.encode(g,se.SJIS)}catch{return!1}const S=C.length;if(S%2!==0)return!1;for(let I=0;I<S;I+=2){const N=C[I]&255;if((N<129||N>159)&&(N<224||N>235))return!1}return!0}static chooseMaskPattern(g,C,S,I){let N=Number.MAX_SAFE_INTEGER,D=-1;for(let Q=0;Q<Is.NUM_MASK_PATTERNS;Q++){jt.buildMatrix(g,C,S,Q,I);let J=this.calculateMaskPenalty(I);J<N&&(N=J,D=Q)}return D}static chooseVersion(g,C){for(let S=1;S<=40;S++){const I=Rt.getVersionForNumber(S);if(jn.willFit(g,I,C))return I}throw new Bn("Data too big")}static willFit(g,C,S){const I=C.getTotalCodewords(),D=C.getECBlocksForLevel(S).getTotalECCodewords(),Q=I-D,J=(g+7)/8;return Q>=J}static terminateBits(g,C){const S=g*8;if(C.getSize()>S)throw new Bn("data bits cannot fit in the QR Code"+C.getSize()+" > "+S);for(let D=0;D<4&&C.getSize()<S;++D)C.appendBit(!1);const I=C.getSize()&7;if(I>0)for(let D=I;D<8;D++)C.appendBit(!1);const N=g-C.getSizeInBytes();for(let D=0;D<N;++D)C.appendBits((D&1)===0?236:17,8);if(C.getSize()!==S)throw new Bn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(g,C,S,I,N,D){if(I>=S)throw new Bn("Block ID too large");const Q=g%S,J=S-Q,ne=Math.floor(g/S),le=ne+1,he=Math.floor(C/S),xe=he+1,Se=ne-he,Ie=le-xe;if(Se!==Ie)throw new Bn("EC bytes mismatch");if(S!==J+Q)throw new Bn("RS blocks mismatch");if(g!==(he+Se)*J+(xe+Ie)*Q)throw new Bn("Total bytes mismatch");I<J?(N[0]=he,D[0]=Se):(N[0]=xe,D[0]=Ie)}static interleaveWithECBytes(g,C,S,I){if(g.getSizeInBytes()!==S)throw new Bn("Number of bits and data bytes does not match");let N=0,D=0,Q=0;const J=new Array;for(let le=0;le<I;++le){const he=new Int32Array(1),xe=new Int32Array(1);jn.getNumDataBytesAndNumECBytesForBlockID(C,S,I,le,he,xe);const Se=he[0],Ie=new Uint8Array(Se);g.toBytes(8*N,Ie,0,Se);const Ne=jn.generateECBytes(Ie,xe[0]);J.push(new Ql(Ie,Ne)),D=Math.max(D,Se),Q=Math.max(Q,Ne.length),N+=he[0]}if(S!==N)throw new Bn("Data bytes does not match offset");const ne=new j;for(let le=0;le<D;++le)for(const he of J){const xe=he.getDataBytes();le<xe.length&&ne.appendBits(xe[le],8)}for(let le=0;le<Q;++le)for(const he of J){const xe=he.getErrorCorrectionBytes();le<xe.length&&ne.appendBits(xe[le],8)}if(C!==ne.getSizeInBytes())throw new Bn("Interleaving error: "+C+" and "+ne.getSizeInBytes()+" differ.");return ne}static generateECBytes(g,C){const S=g.length,I=new Int32Array(S+C);for(let D=0;D<S;D++)I[D]=g[D]&255;new ki(gt.QR_CODE_FIELD_256).encode(I,C);const N=new Uint8Array(C);for(let D=0;D<C;D++)N[D]=I[S+D];return N}static appendModeInfo(g,C){C.appendBits(g.getBits(),4)}static appendLengthInfo(g,C,S,I){const N=S.getCharacterCountBits(C);if(g>=1<<N)throw new Bn(g+" is bigger than "+((1<<N)-1));I.appendBits(g,N)}static appendBytes(g,C,S,I){switch(C){case Dt.NUMERIC:jn.appendNumericBytes(g,S);break;case Dt.ALPHANUMERIC:jn.appendAlphanumericBytes(g,S);break;case Dt.BYTE:jn.append8BitBytes(g,S,I);break;case Dt.KANJI:jn.appendKanjiBytes(g,S);break;default:throw new Bn("Invalid mode: "+C)}}static getDigit(g){return g.charCodeAt(0)-48}static isDigit(g){const C=jn.getDigit(g);return C>=0&&C<=9}static appendNumericBytes(g,C){const S=g.length;let I=0;for(;I<S;){const N=jn.getDigit(g.charAt(I));if(I+2<S){const D=jn.getDigit(g.charAt(I+1)),Q=jn.getDigit(g.charAt(I+2));C.appendBits(N*100+D*10+Q,10),I+=3}else if(I+1<S){const D=jn.getDigit(g.charAt(I+1));C.appendBits(N*10+D,7),I+=2}else C.appendBits(N,4),I++}}static appendAlphanumericBytes(g,C){const S=g.length;let I=0;for(;I<S;){const N=jn.getAlphanumericCode(g.charCodeAt(I));if(N===-1)throw new Bn;if(I+1<S){const D=jn.getAlphanumericCode(g.charCodeAt(I+1));if(D===-1)throw new Bn;C.appendBits(N*45+D,11),I+=2}else C.appendBits(N,6),I++}}static append8BitBytes(g,C,S){let I;try{I=ge.encode(g,S)}catch(N){throw new Bn(N)}for(let N=0,D=I.length;N!==D;N++){const Q=I[N];C.appendBits(Q,8)}}static appendKanjiBytes(g,C){let S;try{S=ge.encode(g,se.SJIS)}catch(N){throw new Bn(N)}const I=S.length;for(let N=0;N<I;N+=2){const D=S[N]&255,Q=S[N+1]&255,J=D<<8&4294967295|Q;let ne=-1;if(J>=33088&&J<=40956?ne=J-33088:J>=57408&&J<=60351&&(ne=J-49472),ne===-1)throw new Bn("Invalid byte sequence");const le=(ne>>8)*192+(ne&255);C.appendBits(le,13)}}static appendECI(g,C){C.appendBits(Dt.ECI.getBits(),4),C.appendBits(g.getValue(),8)}}jn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jn.DEFAULT_BYTE_MODE_ENCODING=se.UTF8.getName();class Ns{write(g,C,S,I=null){if(g.length===0)throw new _("Found empty contents");if(C<0||S<0)throw new _("Requested dimensions are too small: "+C+"x"+S);let N=sn.L,D=Ns.QUIET_ZONE_SIZE;I!==null&&(I.get(rr.ERROR_CORRECTION)!==void 0&&(N=sn.fromString(I.get(rr.ERROR_CORRECTION).toString())),I.get(rr.MARGIN)!==void 0&&(D=Number.parseInt(I.get(rr.MARGIN).toString(),10)));const Q=jn.encode(g,N,I);return this.renderResult(Q,C,S,D)}writeToDom(g,C,S,I,N=null){typeof g=="string"&&(g=document.querySelector(g));const D=this.write(C,S,I,N);g&&g.appendChild(D)}renderResult(g,C,S,I){const N=g.getMatrix();if(N===null)throw new an;const D=N.getWidth(),Q=N.getHeight(),J=D+I*2,ne=Q+I*2,le=Math.max(C,J),he=Math.max(S,ne),xe=Math.min(Math.floor(le/J),Math.floor(he/ne)),Se=Math.floor((le-D*xe)/2),Ie=Math.floor((he-Q*xe)/2),Ne=this.createSVGElement(le,he);for(let Le=0,Ge=Ie;Le<Q;Le++,Ge+=xe)for(let ft=0,dt=Se;ft<D;ft++,dt+=xe)if(N.get(ft,Le)===1){const At=this.createSvgRectElement(dt,Ge,xe,xe);Ne.appendChild(At)}return Ne}createSVGElement(g,C){const S=document.createElementNS(Ns.SVG_NS,"svg");return S.setAttributeNS(null,"height",g.toString()),S.setAttributeNS(null,"width",C.toString()),S}createSvgRectElement(g,C,S,I){const N=document.createElementNS(Ns.SVG_NS,"rect");return N.setAttributeNS(null,"x",g.toString()),N.setAttributeNS(null,"y",C.toString()),N.setAttributeNS(null,"height",S.toString()),N.setAttributeNS(null,"width",I.toString()),N.setAttributeNS(null,"fill","#000000"),N}}Ns.QUIET_ZONE_SIZE=4,Ns.SVG_NS="http://www.w3.org/2000/svg";class si{encode(g,C,S,I,N){if(g.length===0)throw new _("Found empty contents");if(C!==De.QR_CODE)throw new _("Can only encode QR_CODE, but got "+C);if(S<0||I<0)throw new _(`Requested dimensions are too small: ${S}x${I}`);let D=sn.L,Q=si.QUIET_ZONE_SIZE;N!==null&&(N.get(rr.ERROR_CORRECTION)!==void 0&&(D=sn.fromString(N.get(rr.ERROR_CORRECTION).toString())),N.get(rr.MARGIN)!==void 0&&(Q=Number.parseInt(N.get(rr.MARGIN).toString(),10)));const J=jn.encode(g,D,N);return si.renderResult(J,S,I,Q)}static renderResult(g,C,S,I){const N=g.getMatrix();if(N===null)throw new an;const D=N.getWidth(),Q=N.getHeight(),J=D+I*2,ne=Q+I*2,le=Math.max(C,J),he=Math.max(S,ne),xe=Math.min(Math.floor(le/J),Math.floor(he/ne)),Se=Math.floor((le-D*xe)/2),Ie=Math.floor((he-Q*xe)/2),Ne=new ve(le,he);for(let Le=0,Ge=Ie;Le<Q;Le++,Ge+=xe)for(let ft=0,dt=Se;ft<D;ft++,dt+=xe)N.get(ft,Le)===1&&Ne.setRegion(dt,Ge,xe,xe);return Ne}}si.QUIET_ZONE_SIZE=4;class Vl{encode(g,C,S,I,N){let D;switch(C){case De.QR_CODE:D=new si;break;default:throw new _("No encoder available for format "+C)}return D.encode(g,C,S,I,N)}}class rs extends re{constructor(g,C,S,I,N,D,Q,J){if(super(D,Q),this.yuvData=g,this.dataWidth=C,this.dataHeight=S,this.left=I,this.top=N,I+D>C||N+Q>S)throw new _("Crop rectangle does not fit within image data.");J&&this.reverseHorizontal(D,Q)}getRow(g,C){if(g<0||g>=this.getHeight())throw new _("Requested row is outside the image: "+g);const S=this.getWidth();(C==null||C.length<S)&&(C=new Uint8ClampedArray(S));const I=(g+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,I,C,0,S),C}getMatrix(){const g=this.getWidth(),C=this.getHeight();if(g===this.dataWidth&&C===this.dataHeight)return this.yuvData;const S=g*C,I=new Uint8ClampedArray(S);let N=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return P.arraycopy(this.yuvData,N,I,0,S),I;for(let D=0;D<C;D++){const Q=D*g;P.arraycopy(this.yuvData,N,I,Q,g),N+=this.dataWidth}return I}isCropSupported(){return!0}crop(g,C,S,I){return new rs(this.yuvData,this.dataWidth,this.dataHeight,this.left+g,this.top+C,S,I,!1)}renderThumbnail(){const g=this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR,C=this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR,S=new Int32Array(g*C),I=this.yuvData;let N=this.top*this.dataWidth+this.left;for(let D=0;D<C;D++){const Q=D*g;for(let J=0;J<g;J++){const ne=I[N+J*rs.THUMBNAIL_SCALE_FACTOR]&255;S[Q+J]=4278190080|ne*65793}N+=this.dataWidth*rs.THUMBNAIL_SCALE_FACTOR}return S}getThumbnailWidth(){return this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(g,C){const S=this.yuvData;for(let I=0,N=this.top*this.dataWidth+this.left;I<C;I++,N+=this.dataWidth){const D=N+g/2;for(let Q=N,J=N+g-1;Q<D;Q++,J--){const ne=S[Q];S[Q]=S[J],S[J]=ne}}}invert(){return new oe(this)}}rs.THUMBNAIL_SCALE_FACTOR=2;class Ha extends re{constructor(g,C,S,I,N,D,Q){if(super(C,S),this.dataWidth=I,this.dataHeight=N,this.left=D,this.top=Q,g.BYTES_PER_ELEMENT===4){const J=C*S,ne=new Uint8ClampedArray(J);for(let le=0;le<J;le++){const he=g[le],xe=he>>16&255,Se=he>>7&510,Ie=he&255;ne[le]=(xe+Se+Ie)/4&255}this.luminances=ne}else this.luminances=g;if(I===void 0&&(this.dataWidth=C),N===void 0&&(this.dataHeight=S),D===void 0&&(this.left=0),Q===void 0&&(this.top=0),this.left+C>this.dataWidth||this.top+S>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(g,C){if(g<0||g>=this.getHeight())throw new _("Requested row is outside the image: "+g);const S=this.getWidth();(C==null||C.length<S)&&(C=new Uint8ClampedArray(S));const I=(g+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,I,C,0,S),C}getMatrix(){const g=this.getWidth(),C=this.getHeight();if(g===this.dataWidth&&C===this.dataHeight)return this.luminances;const S=g*C,I=new Uint8ClampedArray(S);let N=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return P.arraycopy(this.luminances,N,I,0,S),I;for(let D=0;D<C;D++){const Q=D*g;P.arraycopy(this.luminances,N,I,Q,g),N+=this.dataWidth}return I}isCropSupported(){return!0}crop(g,C,S,I){return new Ha(this.luminances,S,I,this.dataWidth,this.dataHeight,this.left+g,this.top+C)}invert(){return new oe(this)}}class Io extends se{static forName(g){return this.getCharacterSetECIByName(g)}}class Mi{}Mi.ISO_8859_1=se.ISO8859_1;class ii{isCompact(){return this.compact}setCompact(g){this.compact=g}getSize(){return this.size}setSize(g){this.size=g}getLayers(){return this.layers}setLayers(g){this.layers=g}getCodeWords(){return this.codeWords}setCodeWords(g){this.codeWords=g}getMatrix(){return this.matrix}setMatrix(g){this.matrix=g}}class No{static singletonList(g){return[g]}static min(g,C){return g.sort(C)[0]}}class Fo{constructor(g){this.previous=g}getPrevious(){return this.previous}}class Fs extends Fo{constructor(g,C,S){super(g),this.value=C,this.bitCount=S}appendTo(g,C){g.appendBits(this.value,this.bitCount)}add(g,C){return new Fs(this,g,C)}addBinaryShift(g,C){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fs(this,g,C)}toString(){let g=this.value&(1<<this.bitCount)-1;return g|=1<<this.bitCount,"<"+H.toBinaryString(g|1<<this.bitCount).substring(1)+">"}}class aa extends Fs{constructor(g,C,S){super(g,0,0),this.binaryShiftStart=C,this.binaryShiftByteCount=S}appendTo(g,C){for(let S=0;S<this.binaryShiftByteCount;S++)(S===0||S===31&&this.binaryShiftByteCount<=62)&&(g.appendBits(31,5),this.binaryShiftByteCount>62?g.appendBits(this.binaryShiftByteCount-31,16):S===0?g.appendBits(Math.min(this.binaryShiftByteCount,31),5):g.appendBits(this.binaryShiftByteCount-31,5)),g.appendBits(C[this.binaryShiftStart+S],8)}addBinaryShift(g,C){return new aa(this,g,C)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ko(fe,g,C){return new aa(fe,g,C)}function ai(fe,g,C){return new Fs(fe,g,C)}const oi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bs=0,oa=1,Dr=2,Qa=3,zr=4,Oi=new Fs(null,0,0),ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function zl(fe){for(let g of fe)G.fill(g,-1);return fe[bs][zr]=0,fe[oa][zr]=0,fe[oa][bs]=28,fe[Qa][zr]=0,fe[Dr][zr]=0,fe[Dr][bs]=15,fe}const Di=zl(G.createInt32Array(6,6));class Gr{constructor(g,C,S,I){this.token=g,this.mode=C,this.binaryShiftByteCount=S,this.bitCount=I}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(g,C){let S=this.bitCount,I=this.token;if(g!==this.mode){let D=ks[this.mode][g];I=ai(I,D&65535,D>>16),S+=D>>16}let N=g===Dr?4:5;return I=ai(I,C,N),new Gr(I,g,0,S+N)}shiftAndAppend(g,C){let S=this.token,I=this.mode===Dr?4:5;return S=ai(S,Di[this.mode][g],I),S=ai(S,C,5),new Gr(S,this.mode,0,this.bitCount+I+5)}addBinaryShiftChar(g){let C=this.token,S=this.mode,I=this.bitCount;if(this.mode===zr||this.mode===Dr){let Q=ks[S][bs];C=ai(C,Q&65535,Q>>16),I+=Q>>16,S=bs}let N=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,D=new Gr(C,S,this.binaryShiftByteCount+1,I+N);return D.binaryShiftByteCount===2078&&(D=D.endBinaryShift(g+1)),D}endBinaryShift(g){if(this.binaryShiftByteCount===0)return this;let C=this.token;return C=ko(C,g-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gr(C,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(g){let C=this.bitCount+(ks[this.mode][g.mode]>>16);return this.binaryShiftByteCount<g.binaryShiftByteCount?C+=Gr.calculateBinaryShiftCost(g)-Gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>g.binaryShiftByteCount&&g.binaryShiftByteCount>0&&(C+=10),C<=g.bitCount}toBitArray(g){let C=[];for(let I=this.endBinaryShift(g.length).token;I!==null;I=I.getPrevious())C.unshift(I);let S=new j;for(const I of C)I.appendTo(S,g);return S}toString(){return me.format("%s bits=%d bytes=%d",oi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(g){return g.binaryShiftByteCount>62?21:g.binaryShiftByteCount>31?20:g.binaryShiftByteCount>0?10:0}}Gr.INITIAL_STATE=new Gr(Oi,bs,0,0);function Mo(fe){const g=me.getCharCode(" "),C=me.getCharCode("."),S=me.getCharCode(",");fe[bs][g]=1;const I=me.getCharCode("Z"),N=me.getCharCode("A");for(let xe=N;xe<=I;xe++)fe[bs][xe]=xe-N+2;fe[oa][g]=1;const D=me.getCharCode("z"),Q=me.getCharCode("a");for(let xe=Q;xe<=D;xe++)fe[oa][xe]=xe-Q+2;fe[Dr][g]=1;const J=me.getCharCode("9"),ne=me.getCharCode("0");for(let xe=ne;xe<=J;xe++)fe[Dr][xe]=xe-ne+2;fe[Dr][S]=12,fe[Dr][C]=13;const le=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let xe=0;xe<le.length;xe++)fe[Qa][me.getCharCode(le[xe])]=xe;const he=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let xe=0;xe<he.length;xe++)me.getCharCode(he[xe])>0&&(fe[zr][me.getCharCode(he[xe])]=xe);return fe}const Li=Mo(G.createInt32Array(5,256));class Ms{constructor(g){this.text=g}encode(){const g=me.getCharCode(" "),C=me.getCharCode(`
`);let S=No.singletonList(Gr.INITIAL_STATE);for(let N=0;N<this.text.length;N++){let D,Q=N+1<this.text.length?this.text[N+1]:0;switch(this.text[N]){case me.getCharCode("\r"):D=Q===C?2:0;break;case me.getCharCode("."):D=Q===g?3:0;break;case me.getCharCode(","):D=Q===g?4:0;break;case me.getCharCode(":"):D=Q===g?5:0;break;default:D=0}D>0?(S=Ms.updateStateListForPair(S,N,D),N++):S=this.updateStateListForChar(S,N)}return No.min(S,(N,D)=>N.getBitCount()-D.getBitCount()).toBitArray(this.text)}updateStateListForChar(g,C){const S=[];for(let I of g)this.updateStateForChar(I,C,S);return Ms.simplifyStates(S)}updateStateForChar(g,C,S){let I=this.text[C]&255,N=Li[g.getMode()][I]>0,D=null;for(let Q=0;Q<=zr;Q++){let J=Li[Q][I];if(J>0){if(D==null&&(D=g.endBinaryShift(C)),!N||Q===g.getMode()||Q===Dr){const ne=D.latchAndAppend(Q,J);S.push(ne)}if(!N&&Di[g.getMode()][Q]>=0){const ne=D.shiftAndAppend(Q,J);S.push(ne)}}}if(g.getBinaryShiftByteCount()>0||Li[g.getMode()][I]===0){let Q=g.addBinaryShiftChar(C);S.push(Q)}}static updateStateListForPair(g,C,S){const I=[];for(let N of g)this.updateStateForPair(N,C,S,I);return this.simplifyStates(I)}static updateStateForPair(g,C,S,I){let N=g.endBinaryShift(C);if(I.push(N.latchAndAppend(zr,S)),g.getMode()!==zr&&I.push(N.shiftAndAppend(zr,S)),S===3||S===4){let D=N.latchAndAppend(Dr,16-S).latchAndAppend(Dr,1);I.push(D)}if(g.getBinaryShiftByteCount()>0){let D=g.addBinaryShiftChar(C).addBinaryShiftChar(C+1);I.push(D)}}static simplifyStates(g){let C=[];for(const S of g){let I=!0;for(const N of C){if(N.isBetterThanOrEqualTo(S)){I=!1;break}S.isBetterThanOrEqualTo(N)&&(C=C.filter(D=>D!==N))}I&&C.push(S)}return C}}class fn{constructor(){}static encodeBytes(g){return fn.encode(g,fn.DEFAULT_EC_PERCENT,fn.DEFAULT_AZTEC_LAYERS)}static encode(g,C,S){let I=new Ms(g).encode(),N=H.truncDivision(I.getSize()*C,100)+11,D=I.getSize()+N,Q,J,ne,le,he;if(S!==fn.DEFAULT_AZTEC_LAYERS){if(Q=S<0,J=Math.abs(S),J>(Q?fn.MAX_NB_BITS_COMPACT:fn.MAX_NB_BITS))throw new _(me.format("Illegal value %s for layers",S));ne=fn.totalBitsInLayer(J,Q),le=fn.WORD_SIZE[J];let At=ne-ne%le;if(he=fn.stuffBits(I,le),he.getSize()+N>At)throw new _("Data to large for user specified layer");if(Q&&he.getSize()>le*64)throw new _("Data to large for user specified layer")}else{le=0,he=null;for(let At=0;;At++){if(At>fn.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(Q=At<=3,J=Q?At+1:At,ne=fn.totalBitsInLayer(J,Q),D>ne)continue;(he==null||le!==fn.WORD_SIZE[J])&&(le=fn.WORD_SIZE[J],he=fn.stuffBits(I,le));let tn=ne-ne%le;if(!(Q&&he.getSize()>le*64)&&he.getSize()+N<=tn)break}}let xe=fn.generateCheckWords(he,ne,le),Se=he.getSize()/le,Ie=fn.generateModeMessage(Q,J,Se),Ne=(Q?11:14)+J*4,Le=new Int32Array(Ne),Ge;if(Q){Ge=Ne;for(let At=0;At<Le.length;At++)Le[At]=At}else{Ge=Ne+1+2*H.truncDivision(H.truncDivision(Ne,2)-1,15);let At=H.truncDivision(Ne,2),tn=H.truncDivision(Ge,2);for(let Kt=0;Kt<At;Kt++){let Jn=Kt+H.truncDivision(Kt,15);Le[At-Kt-1]=tn-Jn-1,Le[At+Kt]=tn+Jn+1}}let ft=new ve(Ge);for(let At=0,tn=0;At<J;At++){let Kt=(J-At)*4+(Q?9:12);for(let Jn=0;Jn<Kt;Jn++){let Lr=Jn*2;for(let vr=0;vr<2;vr++)xe.get(tn+Lr+vr)&&ft.set(Le[At*2+vr],Le[At*2+Jn]),xe.get(tn+Kt*2+Lr+vr)&&ft.set(Le[At*2+Jn],Le[Ne-1-At*2-vr]),xe.get(tn+Kt*4+Lr+vr)&&ft.set(Le[Ne-1-At*2-vr],Le[Ne-1-At*2-Jn]),xe.get(tn+Kt*6+Lr+vr)&&ft.set(Le[Ne-1-At*2-Jn],Le[At*2+vr])}tn+=Kt*8}if(fn.drawModeMessage(ft,Q,Ge,Ie),Q)fn.drawBullsEye(ft,H.truncDivision(Ge,2),5);else{fn.drawBullsEye(ft,H.truncDivision(Ge,2),7);for(let At=0,tn=0;At<H.truncDivision(Ne,2)-1;At+=15,tn+=16)for(let Kt=H.truncDivision(Ge,2)&1;Kt<Ge;Kt+=2)ft.set(H.truncDivision(Ge,2)-tn,Kt),ft.set(H.truncDivision(Ge,2)+tn,Kt),ft.set(Kt,H.truncDivision(Ge,2)-tn),ft.set(Kt,H.truncDivision(Ge,2)+tn)}let dt=new ii;return dt.setCompact(Q),dt.setSize(Ge),dt.setLayers(J),dt.setCodeWords(Se),dt.setMatrix(ft),dt}static drawBullsEye(g,C,S){for(let I=0;I<S;I+=2)for(let N=C-I;N<=C+I;N++)g.set(N,C-I),g.set(N,C+I),g.set(C-I,N),g.set(C+I,N);g.set(C-S,C-S),g.set(C-S+1,C-S),g.set(C-S,C-S+1),g.set(C+S,C-S),g.set(C+S,C-S+1),g.set(C+S,C+S-1)}static generateModeMessage(g,C,S){let I=new j;return g?(I.appendBits(C-1,2),I.appendBits(S-1,6),I=fn.generateCheckWords(I,28,4)):(I.appendBits(C-1,5),I.appendBits(S-1,11),I=fn.generateCheckWords(I,40,4)),I}static drawModeMessage(g,C,S,I){let N=H.truncDivision(S,2);if(C)for(let D=0;D<7;D++){let Q=N-3+D;I.get(D)&&g.set(Q,N-5),I.get(D+7)&&g.set(N+5,Q),I.get(20-D)&&g.set(Q,N+5),I.get(27-D)&&g.set(N-5,Q)}else for(let D=0;D<10;D++){let Q=N-5+D+H.truncDivision(D,5);I.get(D)&&g.set(Q,N-7),I.get(D+10)&&g.set(N+7,Q),I.get(29-D)&&g.set(Q,N+7),I.get(39-D)&&g.set(N-7,Q)}}static generateCheckWords(g,C,S){let I=g.getSize()/S,N=new ki(fn.getGF(S)),D=H.truncDivision(C,S),Q=fn.bitsToWords(g,S,D);N.encode(Q,D-I);let J=C%S,ne=new j;ne.appendBits(0,J);for(const le of Array.from(Q))ne.appendBits(le,S);return ne}static bitsToWords(g,C,S){let I=new Int32Array(S),N,D;for(N=0,D=g.getSize()/C;N<D;N++){let Q=0;for(let J=0;J<C;J++)Q|=g.get(N*C+J)?1<<C-J-1:0;I[N]=Q}return I}static getGF(g){switch(g){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new _("Unsupported word size "+g)}}static stuffBits(g,C){let S=new j,I=g.getSize(),N=(1<<C)-2;for(let D=0;D<I;D+=C){let Q=0;for(let J=0;J<C;J++)(D+J>=I||g.get(D+J))&&(Q|=1<<C-1-J);(Q&N)===N?(S.appendBits(Q&N,C),D--):(Q&N)===0?(S.appendBits(Q|1,C),D--):S.appendBits(Q,C)}return S}static totalBitsInLayer(g,C){return((C?88:112)+16*g)*g}}fn.DEFAULT_EC_PERCENT=33,fn.DEFAULT_AZTEC_LAYERS=0,fn.MAX_NB_BITS=32,fn.MAX_NB_BITS_COMPACT=4,fn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pi{encode(g,C,S,I){return this.encodeWithHints(g,C,S,I,null)}encodeWithHints(g,C,S,I,N){let D=Mi.ISO_8859_1,Q=fn.DEFAULT_EC_PERCENT,J=fn.DEFAULT_AZTEC_LAYERS;return N!=null&&(N.has(rr.CHARACTER_SET)&&(D=Io.forName(N.get(rr.CHARACTER_SET).toString())),N.has(rr.ERROR_CORRECTION)&&(Q=H.parseInt(N.get(rr.ERROR_CORRECTION).toString())),N.has(rr.AZTEC_LAYERS)&&(J=H.parseInt(N.get(rr.AZTEC_LAYERS).toString()))),Pi.encodeLayers(g,C,S,I,D,Q,J)}static encodeLayers(g,C,S,I,N,D,Q){if(C!==De.AZTEC)throw new _("Can only encode AZTEC, but got "+C);let J=fn.encode(me.getBytes(g,N),D,Q);return Pi.renderResult(J,S,I)}static renderResult(g,C,S){let I=g.getMatrix();if(I==null)throw new an;let N=I.getWidth(),D=I.getHeight(),Q=Math.max(C,N),J=Math.max(S,D),ne=Math.min(Q/N,J/D),le=(Q-N*ne)/2,he=(J-D*ne)/2,xe=new ve(Q,J);for(let Se=0,Ie=he;Se<D;Se++,Ie+=ne)for(let Ne=0,Le=le;Ne<N;Ne++,Le+=ne)I.get(Ne,Se)&&xe.setRegion(Le,Ie,ne,ne);return xe}}r.AbstractExpandedDecoder=vt,r.ArgumentException=b,r.ArithmeticException=Ut,r.AztecCode=ii,r.AztecCodeReader=Wt,r.AztecCodeWriter=Pi,r.AztecDecoder=$t,r.AztecDetector=Mt,r.AztecDetectorResult=On,r.AztecEncoder=fn,r.AztecHighLevelEncoder=Ms,r.AztecPoint=bt,r.BarcodeFormat=De,r.Binarizer=M,r.BinaryBitmap=R,r.BitArray=j,r.BitMatrix=ve,r.BitSource=xr,r.BrowserAztecCodeReader=Xe,r.BrowserBarcodeReader=Js,r.BrowserCodeReader=Re,r.BrowserDatamatrixCodeReader=Ji,r.BrowserMultiFormatReader=Ro,r.BrowserPDF417Reader=Ul,r.BrowserQRCodeReader=Hl,r.BrowserQRCodeSvgWriter=Ns,r.CharacterSetECI=se,r.ChecksumException=k,r.Code128Reader=je,r.Code39Reader=ut,r.DataMatrixDecodedBitStreamParser=Qr,r.DataMatrixReader=fs,r.DecodeHintType=Y,r.DecoderResult=Ct,r.DefaultGridSampler=Ye,r.DetectorResult=Kn,r.EAN13Reader=mn,r.EncodeHintType=rr,r.Exception=x,r.FormatException=X,r.GenericGF=gt,r.GenericGFPoly=mt,r.GlobalHistogramBinarizer=ae,r.GridSampler=Pe,r.GridSamplerInstance=Je,r.HTMLCanvasElementLuminanceSource=Ce,r.HybridBinarizer=ue,r.ITFReader=ot,r.IllegalArgumentException=_,r.IllegalStateException=an,r.InvertedLuminanceSource=oe,r.LuminanceSource=re,r.MathUtils=Ot,r.MultiFormatOneDReader=gr,r.MultiFormatReader=To,r.MultiFormatWriter=Vl,r.NotFoundException=de,r.OneDReader=Ve,r.PDF417DecodedBitStreamParser=Ke,r.PDF417DecoderErrorCorrection=ps,r.PDF417Reader=hr,r.PDF417ResultMetadata=ri,r.PerspectiveTransform=Fe,r.PlanarYUVLuminanceSource=rs,r.QRCodeByteMatrix=ia,r.QRCodeDataMask=Rr,r.QRCodeDecodedBitStreamParser=Ln,r.QRCodeDecoderErrorCorrectionLevel=sn,r.QRCodeDecoderFormatInformation=ar,r.QRCodeEncoder=jn,r.QRCodeEncoderQRCode=Is,r.QRCodeMaskUtil=Xn,r.QRCodeMatrixUtil=jt,r.QRCodeMode=Dt,r.QRCodeReader=hs,r.QRCodeVersion=Rt,r.QRCodeWriter=si,r.RGBLuminanceSource=Ha,r.RSS14Reader=ln,r.RSSExpandedReader=lt,r.ReaderException=sa,r.ReedSolomonDecoder=Un,r.ReedSolomonEncoder=ki,r.ReedSolomonException=xt,r.Result=Be,r.ResultMetadataType=at,r.ResultPoint=pt,r.StringUtils=me,r.UnsupportedOperationException=pe,r.VideoInputDevice=Ae,r.WhiteRectangleDetector=st,r.WriterException=Bn,r.ZXingArrays=G,r.ZXingCharset=Io,r.ZXingInteger=H,r.ZXingStandardCharsets=Mi,r.ZXingStringBuilder=Ee,r.ZXingStringEncoding=ge,r.ZXingSystem=P,r.createAbstractExpandedDecoder=Mr,Object.defineProperty(r,"__esModule",{value:!0})}))})(zxingJs_umd$2,zxingJs_umd$2.exports)),zxingJs_umd$2.exports}var zxingJs_umdExports=requireZxingJs_umd();const zxingJs_umd=getDefaultExportFromCjs(zxingJs_umdExports),ZXing=_mergeNamespaces({__proto__:null,default:zxingJs_umd},[zxingJs_umdExports]);var ZXingHtml5QrcodeDecoder=(function(){function t(n,r,s){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,zxingJs_umdExports.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,zxingJs_umdExports.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,zxingJs_umdExports.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,zxingJs_umdExports.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,zxingJs_umdExports.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,zxingJs_umdExports.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,zxingJs_umdExports.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,zxingJs_umdExports.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,zxingJs_umdExports.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,zxingJs_umdExports.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,zxingJs_umdExports.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,zxingJs_umdExports.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,zxingJs_umdExports.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,zxingJs_umdExports.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,zxingJs_umdExports.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,zxingJs_umdExports.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,zxingJs_umdExports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var o=this.createZXingFormats(n),l=new Map;l.set(zxingJs_umdExports.DecodeHintType.POSSIBLE_FORMATS,o),l.set(zxingJs_umdExports.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(n){var r=this;return new Promise(function(s,o){try{s(r.decode(n))}catch(l){o(l)}})},t.prototype.decode=function(n){var r=new zxingJs_umdExports.MultiFormatReader(this.verbose,this.hints),s=new zxingJs_umdExports.HTMLCanvasElementLuminanceSource(n),o=new zxingJs_umdExports.BinaryBitmap(new zxingJs_umdExports.HybridBinarizer(s)),l=r.decode(o);return{text:l.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(r,s,o){n.set(r,s)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var r=[],s=0,o=n;s<o.length;s++){var l=o[s];this.formatMap.has(l)?r.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),__awaiter$6=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$5=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},BarcodeDetectorDelegate=(function(){function t(n,r,s){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[Html5QrcodeSupportedFormats.AZTEC,"aztec"],[Html5QrcodeSupportedFormats.CODABAR,"codabar"],[Html5QrcodeSupportedFormats.CODE_39,"code_39"],[Html5QrcodeSupportedFormats.CODE_93,"code_93"],[Html5QrcodeSupportedFormats.CODE_128,"code_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[Html5QrcodeSupportedFormats.ITF,"itf"],[Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var o=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return __awaiter$6(this,void 0,void 0,function(){var r,s;return __generator$5(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(n)];case 1:if(r=o.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var r=null,s=0,o=0,l=n;o<l.length;o++){var c=l[o],p=c.boundingBox.width*c.boundingBox.height;p>s&&(s=p,r=c)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(n){for(var r=[],s=0,o=n;s<o.length;s++){var l=o[s];this.formatMap.has(l)?r.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(r,s,o){n.set(r,s)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),__awaiter$5=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$4=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Html5QrcodeShim=(function(){function t(n,r,s,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(n,s,o),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(n,s,o)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(n,s,o)}return t.prototype.decodeAsync=function(n){return __awaiter$5(this,void 0,void 0,function(){var r;return __generator$4(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return __awaiter$5(this,void 0,void 0,function(){var r,s;return __generator$4(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,o.sent()];case 3:if(s=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var r=performance.now()-n;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,r=0,s=this.executionResults;r<s.length;r++){var o=s[r];n+=o}var l=n/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),__extends$2=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function s(){this.constructor=n}n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),__awaiter$4=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$3=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},AbstractCameraCapability=(function(){function t(n,r){this.name=n,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var r=n[this.name];return r}return null},t})(),AbstractRangeCameraCapability=(function(t){__extends$2(n,t);function n(r,s){return t.call(this,r,s)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(r){var s={};s[this.name]=r;var o={advanced:[s]};return this.track.applyConstraints(o)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n})(AbstractCameraCapability),ZoomFeatureImpl=(function(t){__extends$2(n,t);function n(r){return t.call(this,"zoom",r)||this}return n})(AbstractRangeCameraCapability),TorchFeatureImpl=(function(t){__extends$2(n,t);function n(r){return t.call(this,"torch",r)||this}return n})(AbstractCameraCapability),CameraCapabilitiesImpl=(function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new ZoomFeatureImpl(this.track)},t.prototype.torchFeature=function(){return new TorchFeatureImpl(this.track)},t})(),RenderedCameraImpl=(function(){function t(n,r,s){this.isClosed=!1,this.parentElement=n,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var r=document.createElement("video");return r.style.width="".concat(n,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=n.surface.clientWidth,o=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(s,o),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,r,s,o){return __awaiter$4(this,void 0,void 0,function(){var l,c;return __generator$3(this,function(p){switch(p.label){case 0:return l=new t(n,r,o),s.aspectRatio?(c={aspectRatio:s.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var r=this,s=function(){setTimeout(n,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(r){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(r,s){var o=n.mediaStream.getVideoTracks(),l=o.length,c=0;n.mediaStream.getVideoTracks().forEach(function(p){n.mediaStream.removeTrack(p),p.stop(),++c,c>=l&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),r())})})},t.prototype.getCapabilities=function(){return new CameraCapabilitiesImpl(this.getFirstTrackOrFail())},t})(),CameraImpl=(function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,r,s){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(o){return[2,RenderedCameraImpl.create(n,this.mediaStream,r,s)]})})},t.create=function(n){return __awaiter$4(this,void 0,void 0,function(){var r,s;return __generator$3(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=o.sent(),[2,new t(s)]}})})},t})(),__awaiter$3=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$2=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},CameraFactory=(function(){function t(){}return t.failIfNotSupported=function(){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,CameraImpl.create(n)]})})},t})(),__awaiter$2=function(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})},__generator$1=function(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},CameraRetriever=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=Html5QrcodeStrings.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=Html5QrcodeStrings.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return __awaiter$2(this,void 0,void 0,function(){var n,r,s,o,l,c,p;return __generator$1(this,function(m){switch(m.label){case 0:return n=function(x){for(var b=x.getVideoTracks(),_=0,R=b;_<R.length;_++){var k=R[_];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=m.sent(),o=[],l=0,c=s;l<c.length;l++)p=c[l],p.kind==="videoinput"&&o.push({id:p.deviceId,label:p.label});return n(r),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,r){var s=function(l){for(var c=[],p=0,m=l;p<m.length;p++){var x=m[p];x.kind==="video"&&c.push({id:x.id,label:x.label})}n(c)},o=MediaStreamTrack;o.getSources(s)})},t})(),Html5QrcodeScannerState;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Html5QrcodeScannerState||(Html5QrcodeScannerState={}));var StateManagerImpl=(function(){function t(){this.state=Html5QrcodeScannerState.NOT_STARTED,this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Html5QrcodeScannerState.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Html5QrcodeScannerState.UNKNOWN:throw"Transition from unknown is not allowed";case Html5QrcodeScannerState.NOT_STARTED:this.failIfNewStateIs(n,[Html5QrcodeScannerState.PAUSED]);break;case Html5QrcodeScannerState.SCANNING:break;case Html5QrcodeScannerState.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,r){for(var s=0,o=r;s<o.length;s++){var l=o[s];if(n===l)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t})(),StateManagerProxy=(function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Html5QrcodeScannerState.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Html5QrcodeScannerState.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Html5QrcodeScannerState.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Html5QrcodeScannerState.PAUSED},t})(),StateManagerFactory=(function(){function t(){}return t.create=function(){return new StateManagerProxy(new StateManagerImpl)},t})(),__extends$1=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(n,r);function s(){this.constructor=n}n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Constants=(function(t){__extends$1(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n})(Html5QrcodeConstants),InternalHtml5QrcodeConfig=(function(){function t(n,r){this.logger=r,this.fps=Constants.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Constants.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!isNullOrUndefined(this.qrbox)},t.create=function(n,r){return new t(n,r)},t})(),Html5Qrcode=(function(){function t(n,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var s;typeof r=="boolean"?this.verbose=r===!0:r&&(s=r,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new BaseLoggger(this.verbose),this.qrcode=new Html5QrcodeShim(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=StateManagerFactory.create()}return t.prototype.start=function(n,r,s,o){var l=this;if(!n)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;o?c=o:c=this.verbose?this.logger.log:function(){};var p=InternalHtml5QrcodeConfig.create(r,this.logger);this.clearElement();var m=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Constants.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var _=this,R=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);return new Promise(function(k,M){var P=x?p.videoConstraints:_.createVideoConstraints(n);if(!P){R.cancel(),M("videoConstraints should be defined");return}var K={};(!x||p.aspectRatio)&&(K.aspectRatio=p.aspectRatio);var $={onRenderSurfaceReady:function(G,H){_.setupUi(G,H,p),_.isScanning=!0,_.foreverScan(p,s,c)}};CameraFactory.failIfNotSupported().then(function(G){G.create(P).then(function(H){return H.render(l.element,K,$).then(function(j){_.renderedCamera=j,R.execute(),k(null)}).catch(function(j){R.cancel(),M(j)})}).catch(function(H){R.cancel(),M(Html5QrcodeStrings.errorGettingUserMedia(H))})}).catch(function(G){R.cancel(),M(Html5QrcodeStrings.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED),this.showPausedState(),(isNullOrUndefined(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,r=function(){n.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(n.element){var l=document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);l&&n.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),s(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),r.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,r){return this.scanFileV2(n,r).then(function(s){return s.decodedText})},t.prototype.scanFileV2=function(n,r){var s=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(isNullOrUndefined(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(n);var c=new Image;c.onload=function(){var p=c.width,m=c.height,x=document.getElementById(s.elementId),b=x.clientWidth?x.clientWidth:Constants.DEFAULT_WIDTH,_=Math.max(x.clientHeight?x.clientHeight:m,Constants.FILE_SCAN_MIN_HEIGHT),R=s.computeCanvasDrawConfig(p,m,b,_);if(r){var k=s.createCanvasElement(b,_,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var M=k.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=b,M.canvas.height=_,M.drawImage(c,0,0,p,m,R.x,R.y,R.width,R.height)}var P=Constants.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(c.width,R.width),$=Math.max(c.height,R.height),G=K+2*P,H=$+2*P,j=s.createCanvasElement(G,H);x.appendChild(j);var W=j.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=G,W.canvas.height=H,W.drawImage(c,0,0,p,m,P,P,K,$);try{s.qrcode.decodeRobustlyAsync(j).then(function(Y){o(Html5QrcodeResultFactory.createFromQrcodeResult(Y))}).catch(l)}catch(Y){l("QR code parse error, error = ".concat(Y))}},c.onerror=l,c.onabort=l,c.onstalled=l,c.onsuspend=l,c.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return CameraRetriever.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!VideoConstraintsUtil.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var r=[Html5QrcodeSupportedFormats.QR_CODE,Html5QrcodeSupportedFormats.AZTEC,Html5QrcodeSupportedFormats.CODABAR,Html5QrcodeSupportedFormats.CODE_39,Html5QrcodeSupportedFormats.CODE_93,Html5QrcodeSupportedFormats.CODE_128,Html5QrcodeSupportedFormats.DATA_MATRIX,Html5QrcodeSupportedFormats.MAXICODE,Html5QrcodeSupportedFormats.ITF,Html5QrcodeSupportedFormats.EAN_13,Html5QrcodeSupportedFormats.EAN_8,Html5QrcodeSupportedFormats.PDF_417,Html5QrcodeSupportedFormats.RSS_14,Html5QrcodeSupportedFormats.RSS_EXPANDED,Html5QrcodeSupportedFormats.UPC_A,Html5QrcodeSupportedFormats.UPC_E,Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return r;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],o=0,l=n.formatsToSupport;o<l.length;o++){var c=l[o];isValidHtml5QrcodeSupportedFormats(c)?s.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(isNullOrUndefined(n))return!0;if(!isNullOrUndefined(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(isNullOrUndefined(n.experimentalFeatures))return!0;var r=n.experimentalFeatures;return isNullOrUndefined(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,r,s){var o=this,l=s.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(n,r,l),p=function(x){if(x<Constants.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Constants.MIN_QR_BOX_SIZE,"px.")},m=function(x){return x>n&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};p(c.width),p(c.height),c.width=m(c.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(n,r)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return s},t.prototype.setupUi=function(n,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(n,r,s);var o=isNullOrUndefined(s.qrbox)?{width:n,height:r}:s.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(n,r,o);l.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=s.isShadedBoxEnabled()&&l.height<=r,p={x:0,y:0,width:n,height:r},m=c?this.getShadedRegionBounds(n,r,l):p,x=this.createCanvasElement(m.width,m.height),b={willReadFrequently:!0},_=x.getContext("2d",b);_.canvas.width=m.width,_.canvas.height=m.height,this.element.append(x),c&&this.possiblyInsertShadingElement(this.element,n,r,l),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=_,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(n){var r=document.createElement("div");r.innerText=Html5QrcodeStrings.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",n.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(n,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return n(o.text,Html5QrcodeResultFactory.createFromQrcodeResult(o)),s.possiblyUpdateShaders(!0),!0}).catch(function(o){s.possiblyUpdateShaders(!1);var l=Html5QrcodeStrings.codeParseError(o);return r(l,Html5QrcodeErrorFactory.createFrom(l)),!1})},t.prototype.foreverScan=function(n,r,s){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),c=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,x=this.qrRegion.height*p,b=this.qrRegion.x*c,_=this.qrRegion.y*p;this.context.drawImage(l,b,_,m,x,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(n,r,s)},o.getTimeoutFps(n.fps))};this.scanContext(r,s).then(function(k){!k&&n.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(r,s).finally(function(){R()})):R()}).catch(function(k){o.logger.logError("Error happend while scanning context",k),R()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var r="facingMode",s="deviceId",o={user:!0,environment:!0},l="exact",c=function(M){if(M in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(n);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var m=Object.keys(n)[0];if(m!==r&&m!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var x=n.facingMode;if(typeof x=="string"){if(c(x))return{facingMode:x}}else if(typeof x=="object")if(l in x){if(c(x["".concat(l)]))return{facingMode:{exact:x["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var b=typeof x;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var _=n.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(l in _)return{deviceId:{exact:_["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var R=typeof _;throw"Invalid type of 'deviceId' = ".concat(R)}}}var k=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},t.prototype.computeCanvasDrawConfig=function(n,r,s,o){if(n<=s&&r<=o){var l=(s-n)/2,c=(o-r)/2;return{x:l,y:c,width:n,height:r}}else{var p=n,m=r;return n>s&&(r=s/n*r,n=s),r>o&&(n=o/r*n,r=o),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(m)+" to ".concat(n,"X").concat(r,".")),this.computeCanvasDrawConfig(n,r,s,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=n?Constants.BORDER_SHADER_MATCH_COLOR:Constants.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,r,s){var o=n,l=r,c=document.createElement("canvas");return c.style.width="".concat(o,"px"),c.style.height="".concat(l,"px"),c.style.display="none",c.id=isNullOrUndefined(s)?"qr-canvas":s,c},t.prototype.getShadedRegionBounds=function(n,r,s){if(s.width>n||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},t.prototype.possiblyInsertShadingElement=function(n,r,s,o){if(!(r-o.width<1||s-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var c=(r-o.width)/2,p=(s-o.height)/2;if(l.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Constants.SHADED_REGION_ELEMENT_ID),r-o.width<11||s-o.height<11)this.hasBorderShaders=!1;else{var m=5,x=40;this.insertShaderBorders(l,x,m,-m,null,0,!0),this.insertShaderBorders(l,x,m,-m,null,0,!1),this.insertShaderBorders(l,x,m,null,-m,0,!0),this.insertShaderBorders(l,x,m,null,-m,0,!1),this.insertShaderBorders(l,m,x+m,-m,null,-m,!0),this.insertShaderBorders(l,m,x+m,null,-m,-m,!0),this.insertShaderBorders(l,m,x+m,-m,null,-m,!1),this.insertShaderBorders(l,m,x+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(l)}},t.prototype.insertShaderBorders=function(n,r,s,o,l,c,p){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Constants.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(s,"px"),o!==null&&(m.style.top="".concat(o,"px")),l!==null&&(m.style.bottom="".concat(l,"px")),p?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t})(),Html5QrcodeScannerStatus;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Html5QrcodeScannerStatus||(Html5QrcodeScannerStatus={}));const scannerContainer="_scannerContainer_yftsj_1",header$a="_header_yftsj_25",closeButton$4="_closeButton_yftsj_37",title$c="_title_yftsj_59",scannerArea="_scannerArea_yftsj_79",qrScannerWrapper="_qrScannerWrapper_yftsj_91",scannerOverlay="_scannerOverlay_yftsj_135",corner="_corner_yftsj_153",topLeft="_topLeft_yftsj_167",topRight="_topRight_yftsj_183",bottomLeft="_bottomLeft_yftsj_199",bottomRight="_bottomRight_yftsj_215",instructionBox="_instructionBox_yftsj_229",qrIconButton="_qrIconButton_yftsj_253",errorMessage$3="_errorMessage_yftsj_293",styles$O={scannerContainer,header:header$a,closeButton:closeButton$4,title:title$c,scannerArea,qrScannerWrapper,scannerOverlay,corner,topLeft,topRight,bottomLeft,bottomRight,instructionBox,qrIconButton,errorMessage:errorMessage$3};function QrScanner(){var b;const t=useNavigate(),n=useLocation(),r="html5qr-code-full-region",s=reactExports$1.useRef(null),[o,l]=reactExports$1.useState(null),[c,p]=reactExports$1.useState(!1),{showAlert:m}=useAlert();(b=n.state)!=null&&b.exhibitionInfo,reactExports$1.useEffect(()=>{const _={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return s.current=new Html5Qrcode(r),s.current.start({facingMode:"environment"},_,R=>{s.current.stop().then(()=>{t(R)}).catch(k=>{console.error("Failed to stop scanner:",k)})},()=>{}).catch(R=>{l("   ."),console.error("QR  :",R)}),async()=>{const R=s.current;if(R)try{R.isScanning&&await R.stop(),R.clear()}catch(k){console.error("Cleanup :",k)}}},[t]);const x=()=>{t(-1)};return reactExports$1.useEffect(()=>{new URLSearchParams(n.search).get("itemId")&&p(!0)},[n]),jsxRuntimeExports.jsxs("div",{className:styles$O.scannerContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$O.header,children:[jsxRuntimeExports.jsx("button",{className:styles$O.closeButton,onClick:x,children:""}),jsxRuntimeExports.jsx("h2",{className:styles$O.title,children:"Artly QR Reader"})]}),jsxRuntimeExports.jsxs("div",{className:styles$O.scannerArea,children:[jsxRuntimeExports.jsx("div",{id:r,className:styles$O.qrScannerWrapper}),jsxRuntimeExports.jsxs("div",{className:styles$O.scannerOverlay,children:[jsxRuntimeExports.jsx("div",{className:`${styles$O.corner} ${styles$O.topLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$O.corner} ${styles$O.topRight}`}),jsxRuntimeExports.jsx("div",{className:`${styles$O.corner} ${styles$O.bottomLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$O.corner} ${styles$O.bottomRight}`})]}),o&&jsxRuntimeExports.jsx("div",{className:styles$O.errorMessage,children:o})]}),jsxRuntimeExports.jsx("button",{className:styles$O.qrIconButton,children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),jsxRuntimeExports.jsx("div",{className:styles$O.instructionBox,children:jsxRuntimeExports.jsx("p",{children:"QR   ."})})]})}const layout$g="_layout_14fhd_1",title$b="_title_14fhd_23",galleryWrapper="_galleryWrapper_14fhd_33",searchForm="_searchForm_14fhd_45",searchInput="_searchInput_14fhd_59",styles$N={layout:layout$g,title:title$b,galleryWrapper,searchForm,searchInput},layout$f="_layout_akvc9_1",searchTitle="_searchTitle_akvc9_15",resultNumParagraph="_resultNumParagraph_akvc9_25",highlightSpan="_highlightSpan_akvc9_33",paginationRow="_paginationRow_akvc9_53",styles$M={layout:layout$f,searchTitle,resultNumParagraph,highlightSpan,paginationRow};function NearbyGalleries({results:t,onEvent:n}){const{currentPage:r,setCurrentPage:s,pageItems:o}=usePagination(10,t);return jsxRuntimeExports.jsxs("section",{className:styles$M.layout,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$M.searchTitle,children:"   "}),jsxRuntimeExports.jsxs("p",{className:styles$M.resultNumParagraph,children:[" ",jsxRuntimeExports.jsx("span",{className:styles$M.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),o.map(l=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:l,onEvent:n},l.id)),jsxRuntimeExports.jsx("div",{className:styles$M.paginationRow,children:jsxRuntimeExports.jsx(Pagination,{currentPage:r,onPageChange:s,totalItems:t.length})})]})}function Nearby(){const{coords:t,setCoords:n}=useGeoLocation(),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!1),{lat:c,lng:p}=t,[m,x]=reactExports$1.useState(""),{showAlert:b}=useAlert(),_=M=>{x(M.target.value)};useMap({lat:c,lng:p,id:"nearby-map",results:r,zoomLevel:12});const R=async M=>{M.preventDefault();try{const P=await mapInstance.get("/v2/geocode",{params:{query:m}}),K=P.data.addresses[0].x,$=P.data.addresses[0].y;n({lat:$,lng:K})}catch(P){console.error(P),b("  ")}},k=async()=>{try{l(!0);const M=await userInstance.get("/api/galleries",{params:{latitude:c,longitude:p,distance:5e3}});s(M.data)}catch(M){console.error(M),b("   ","error")}finally{l(!1)}};return reactExports$1.useEffect(()=>{k()},[c,p]),jsxRuntimeExports.jsxs("div",{className:styles$N.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$N.title,children:"  "}),jsxRuntimeExports.jsx("form",{className:styles$N.searchForm,onSubmit:R,children:jsxRuntimeExports.jsx("input",{className:styles$N.searchInput,value:m,onChange:_,placeholder:" (,// )"})}),jsxRuntimeExports.jsx("div",{id:"nearby-map",className:styles$N.galleryWrapper}),o&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx(NearbyGalleries,{results:r,onEvent:k})]})}const layout$e="_layout_r24yv_1",breadcrumb$4="_breadcrumb_r24yv_21",breadcrumbBack$4="_breadcrumbBack_r24yv_33",card$5="_card_r24yv_43",mainImage="_mainImage_r24yv_61",titleSection$3="_titleSection_r24yv_81",artworkTitle$3="_artworkTitle_r24yv_89",artworkMaterial="_artworkMaterial_r24yv_101",btnLayout$3="_btnLayout_r24yv_113",divider$1="_divider_r24yv_127",actionButton$4="_actionButton_r24yv_141",icon$4="_icon_r24yv_163",likedIcon$3="_likedIcon_r24yv_169",artistSection="_artistSection_r24yv_179",artistImage$1="_artistImage_r24yv_191",artistName$1="_artistName_r24yv_205",infoList$3="_infoList_r24yv_217",infoRow$4="_infoRow_r24yv_229",infoLabel$4="_infoLabel_r24yv_237",infoContent$3="_infoContent_r24yv_249",emptyInfo$3="_emptyInfo_r24yv_257",descriptionParagraph$3="_descriptionParagraph_r24yv_267",docentBox="_docentBox_r24yv_313",docentLabel="_docentLabel_r24yv_327",docentAudio="_docentAudio_r24yv_353",docentVideo="_docentVideo_r24yv_401",recommendSection="_recommendSection_r24yv_431",sectionTitle$1="_sectionTitle_r24yv_437",relatedGrid="_relatedGrid_r24yv_449",relatedCard="_relatedCard_r24yv_459",relatedImage="_relatedImage_r24yv_481",relatedInfo="_relatedInfo_r24yv_491",relatedTitle="_relatedTitle_r24yv_497",exhibitionSection="_exhibitionSection_r24yv_511",exhibitionList$1="_exhibitionList_r24yv_539",exhibitionItem$1="_exhibitionItem_r24yv_553",exhibitionTitle$2="_exhibitionTitle_r24yv_601",statusBadge$2="_statusBadge_r24yv_629",exhibited$1="_exhibited_r24yv_645",scheduled$1="_scheduled_r24yv_655",ended$1="_ended_r24yv_665",arrowIcon="_arrowIcon_r24yv_675",emptyContent$6="_emptyContent_r24yv_685",backButton$9="_backButton_r24yv_699",styles$L={layout:layout$e,breadcrumb:breadcrumb$4,breadcrumbBack:breadcrumbBack$4,card:card$5,mainImage,titleSection:titleSection$3,artworkTitle:artworkTitle$3,artworkMaterial,btnLayout:btnLayout$3,divider:divider$1,actionButton:actionButton$4,icon:icon$4,likedIcon:likedIcon$3,artistSection,artistImage:artistImage$1,artistName:artistName$1,infoList:infoList$3,infoRow:infoRow$4,infoLabel:infoLabel$4,infoContent:infoContent$3,emptyInfo:emptyInfo$3,descriptionParagraph:descriptionParagraph$3,docentBox,docentLabel,docentAudio,docentVideo,recommendSection,sectionTitle:sectionTitle$1,relatedGrid,relatedCard,relatedImage,relatedInfo,relatedTitle,exhibitionSection,exhibitionList:exhibitionList$1,exhibitionItem:exhibitionItem$1,exhibitionTitle:exhibitionTitle$2,statusBadge:statusBadge$2,exhibited:exhibited$1,scheduled:scheduled$1,ended:ended$1,arrowIcon,emptyContent:emptyContent$6,backButton:backButton$9},modalOverlay$3="_modalOverlay_1ae8l_1",likeModalBox="_likeModalBox_1ae8l_21",likeModalStar="_likeModalStar_1ae8l_63",likeModalTitle="_likeModalTitle_1ae8l_75",likeModalSub="_likeModalSub_1ae8l_85",likeModalButton="_likeModalButton_1ae8l_99",styles$K={modalOverlay:modalOverlay$3,likeModalBox,likeModalStar,likeModalTitle,likeModalSub,likeModalButton};function LikePopup({onClose:t,type:n}){const s={galleries:"",exhibitions:"",artworks:""}[n]||"";return jsxRuntimeExports.jsx("div",{className:styles$K.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$K.likeModalBox,children:[jsxRuntimeExports.jsx(FaStar$1,{className:styles$K.likeModalStar}),jsxRuntimeExports.jsxs("h3",{className:styles$K.likeModalTitle,children:[" ",s,"  !"]}),jsxRuntimeExports.jsx("p",{className:styles$K.likeModalSub,children:"      ."}),jsxRuntimeExports.jsx("button",{className:styles$K.likeModalButton,onClick:t,children:""})]})})}const modalOverlay$2="_modalOverlay_1nwzc_1",modalBox$3="_modalBox_1nwzc_27",closeButton$3="_closeButton_1nwzc_73",modalIconBox="_modalIconBox_1nwzc_103",modalIcon="_modalIcon_1nwzc_103",modalTitle="_modalTitle_1nwzc_135",modalDesc="_modalDesc_1nwzc_149",phoneInfo="_phoneInfo_1nwzc_163",phoneNumber="_phoneNumber_1nwzc_175",callButton="_callButton_1nwzc_191",pcInfo="_pcInfo_1nwzc_225",errorText$1="_errorText_1nwzc_237",styles$J={modalOverlay:modalOverlay$2,modalBox:modalBox$3,closeButton:closeButton$3,modalIconBox,modalIcon,modalTitle,modalDesc,phoneInfo,phoneNumber,callButton,pcInfo,errorText:errorText$1};function PurchaseModal({phoneNumber:t,onClose:n}){const r=()=>{t&&(window.location.href=`tel:${t}`)};return jsxRuntimeExports.jsx("div",{className:styles$J.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$J.modalBox,onClick:s=>s.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:styles$J.closeButton,onClick:n,children:jsxRuntimeExports.jsx(FaXmark,{})}),jsxRuntimeExports.jsxs("div",{className:styles$J.modalContent,children:[jsxRuntimeExports.jsx("div",{className:styles$J.modalIconBox,children:jsxRuntimeExports.jsx(FaPhone,{className:styles$J.modalIcon})}),jsxRuntimeExports.jsx("h3",{className:styles$J.modalTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$J.modalDesc,children:["   ?",jsxRuntimeExports.jsx("br",{}),"     ."]}),t?jsxRuntimeExports.jsxs("div",{className:styles$J.phoneInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$J.phoneNumber,children:t}),jsxRuntimeExports.jsx("button",{className:styles$J.callButton,onClick:r,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$J.pcInfo,children:"*     ."})]}):jsxRuntimeExports.jsx("p",{className:styles$J.errorText,children:"   ."})]})]})})}function ArtworkDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{showAlert:s}=useAlert(),{artworkId:o}=useParams(),l=n||o,c=useNavigate(),{pathname:p}=useLocation(),m=p.includes("console"),[x,b]=reactExports$1.useState(null),[_,R]=reactExports$1.useState(!1),[k,M]=reactExports$1.useState(!1),[P,K]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{if(!l)return;(async()=>{try{const at=await userInstance.get(`/api/arts/${l}`),{data:Ct}=at;b(Ct),typeof Ct.is_liked=="boolean"&&R(Ct.is_liked)}catch(at){console.error("   :",at)}})()},[l]);const $=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){c("/login");return}try{const ct={liked_id:l,liked_type:"art"};_?(await userInstance.delete("/api/likes",{data:ct}),R(!1)):(await userInstance.post("/api/likes",ct),R(!0),M(!0))}catch(ct){console.error("  :",ct),s("  .","error")}},G=()=>{K(!0)},H=()=>{const ct=x==null?void 0:x.art_title,at=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${ct}`,text:`${ct}  `,url:at}):navigator.clipboard.writeText(at).then(()=>s(" ."))};if(!x)return jsxRuntimeExports.jsx(LoadingSpinner,{});const{art_title:j,art_description:W,art_image:Y,art_year:X,art_material:te,art_size:se,art_docent:pe,docent_audio_path:ge,docent_video_path:me,gallery_phone:Ee,artist:ve={},artist_name:de,exhibitions:ae=[]}=x,ue="https://artly.soundgram.co.kr",re={exhibited:{label:"",className:styles$L.exhibited},scheduled:{label:"",className:styles$L.scheduled},ended:{label:"",className:styles$L.ended}},oe={exhibited:1,scheduled:2,ended:3},Ce=[...ae].sort((ct,at)=>{const Ct=oe[ct.exhibition_status]??99,It=oe[at.exhibition_status]??99;return Ct-It}),Ae=(ve==null?void 0:ve.artist_name)||de||"Unknown Artist",we=ve!=null&&ve.artist_image&&!ve.artist_image.startsWith("http")?`${ue}/${ve.artist_image}`:ve.artist_image,Re=ge?`${ue}/media/${ge}`:null,Be=me?`${ue}/media/${me}`:null,We=((ve==null?void 0:ve.artworks)||[]).filter(ct=>String(ct.id)!==String(l)),De=[{label:"",content:X?`${X} `:" "},{label:"",content:te||" "},{label:"",content:se||" "}];return jsxRuntimeExports.jsxs("div",{className:styles$L.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$L.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$L.breadcrumbBack,onClick:()=>c("/artworks"),children:""})," > "," ",j]}),jsxRuntimeExports.jsxs("div",{className:styles$L.card,children:[jsxRuntimeExports.jsx(Img,{src:Y,alt:j,className:styles$L.mainImage}),jsxRuntimeExports.jsx(Img,{src:Y,alt:j,className:styles$L.mainImage}),jsxRuntimeExports.jsxs("section",{className:styles$L.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$L.artworkTitle,children:j}),jsxRuntimeExports.jsx("p",{className:styles$L.artworkMaterial,children:te||"Mixed Media"})]}),t&&jsxRuntimeExports.jsxs("div",{className:styles$L.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$L.actionButton,onClick:$,children:[jsxRuntimeExports.jsx(FaStar$1,{className:_?styles$L.likedIcon:styles$L.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$L.actionButton,onClick:G,children:[jsxRuntimeExports.jsx(FaPhone,{className:styles$L.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$L.actionButton,onClick:H,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$L.icon}),""]})]}),jsxRuntimeExports.jsx("hr",{className:styles$L.divider}),jsxRuntimeExports.jsxs("div",{className:styles$L.artistSection,children:[jsxRuntimeExports.jsx(Img,{src:we,alt:Ae,className:styles$L.artistImage}),jsxRuntimeExports.jsx("span",{className:styles$L.artistName,children:Ae})]}),jsxRuntimeExports.jsx("div",{className:styles$L.infoList,children:De.map(({label:ct,content:at})=>jsxRuntimeExports.jsxs("div",{className:styles$L.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$L.infoLabel,children:ct}),jsxRuntimeExports.jsx("div",{className:styles$L.infoContent,children:at})]},ct))}),jsxRuntimeExports.jsxs("div",{className:styles$L.descriptionSection,children:[W?jsxRuntimeExports.jsx("div",{className:styles$L.descriptionParagraph,dangerouslySetInnerHTML:{__html:W}}):jsxRuntimeExports.jsx("p",{className:styles$L.emptyInfo,children:"  ."}),pe&&jsxRuntimeExports.jsxs("div",{className:styles$L.docentBox,children:[jsxRuntimeExports.jsx("span",{className:styles$L.docentLabel,children:"AI Docent"}),jsxRuntimeExports.jsx("p",{children:pe}),m&&!Be&&Re&&jsxRuntimeExports.jsx("audio",{className:styles$L.docentAudio,controls:!0,preload:"metadata",src:Re}),m&&Be&&jsxRuntimeExports.jsx("video",{className:styles$L.docentVideo,controls:!0,preload:"metadata",src:Be})]})]})]}),Ce.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$L.exhibitionSection,children:[jsxRuntimeExports.jsx("span",{className:styles$L.sectionTitle,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$L.exhibitionList,children:Ce.map(ct=>{const at=re[ct.exhibition_status]||re.ended;return jsxRuntimeExports.jsxs("div",{className:styles$L.exhibitionItem,onClick:()=>c(m?`/console/exhibitions/${ct.id}`:`/exhibitions/${ct.id}`),children:[jsxRuntimeExports.jsx("span",{className:`${styles$L.statusBadge} ${at.className}`,children:at.label}),jsxRuntimeExports.jsx("span",{className:styles$L.exhibitionTitle,children:ct.exhibition_title}),jsxRuntimeExports.jsx(FaChevronRight,{className:styles$L.arrowIcon})]},ct.id)})})]}),t&&We.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$L.recommendSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$L.sectionTitle,children:"  "}),We.length>0?jsxRuntimeExports.jsx("div",{className:styles$L.relatedGrid,children:We.map(ct=>jsxRuntimeExports.jsxs("div",{className:styles$L.relatedCard,onClick:()=>{c(`/artworks/${ct.id}`),window.scrollTo(0,0)},children:[jsxRuntimeExports.jsx(Img,{src:ct.art_image,alt:ct.art_title,className:styles$L.relatedImage}),jsxRuntimeExports.jsx("div",{className:styles$L.relatedInfo,children:jsxRuntimeExports.jsx("h4",{className:styles$L.relatedTitle,children:ct.art_title})})]},ct.id))}):jsxRuntimeExports.jsx("div",{className:styles$L.card,children:jsxRuntimeExports.jsx("p",{className:styles$L.emptyContent,children:"   ."})}),jsxRuntimeExports.jsx("button",{className:styles$L.backButton,onClick:()=>c("/artworks"),children:""})]}),k&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>M(!1),type:"artworks"}),P&&jsxRuntimeExports.jsx(PurchaseModal,{phoneNumber:Ee,onClose:()=>K(!1)})]})}const layout$d="_layout_ezrs8_1",findForm="_findForm_ezrs8_15",formTitle$1="_formTitle_ezrs8_33",submitButton$2="_submitButton_ezrs8_43",styles$I={layout:layout$d,findForm,formTitle:formTitle$1,submitButton:submitButton$2};function Find(){const{data:t,handleChange:n}=useInput({userName:"",userEmail:""}),{data:r,handleChange:s}=useInput({userId:"",userEmail:""}),{showAlert:o}=useAlert(),l=p=>{p.preventDefault(),alert("  ")},c=p=>{p.preventDefault(),alert("  ")};return jsxRuntimeExports.jsxs("div",{className:styles$I.layout,children:[jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:l,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userName",placeholder:"",onChange:n,value:t.userName}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:n,value:t.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:" "})]}),jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:c,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userId",placeholder:"",onChange:s,value:r.userId}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:s,value:r.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:"  "})]})]})}const announcementLayout="_announcementLayout_11rfx_1",heading="_heading_11rfx_19",tabWrapper$1="_tabWrapper_11rfx_31",tab$1="_tab_11rfx_31",active$2="_active_11rfx_71",listItem="_listItem_11rfx_99",buttonField$1="_buttonField_11rfx_107",contentContainer$6="_contentContainer_11rfx_129",styles$H={announcementLayout,heading,tabWrapper:tabWrapper$1,tab:tab$1,active:active$2,listItem,buttonField:buttonField$1,contentContainer:contentContainer$6},announcementData=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],FAQData=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],categoryList=["","FAQ"];function Announcement(){const[t,n]=reactExports$1.useState(""),[r,s]=reactExports$1.useState({}),o=t===""?announcementData:FAQData,l=p=>{if(r[p]){s(x=>({...x,[p]:!1}));return}s(x=>({...x,[p]:!0}))},c=p=>{n(p),s({})};return jsxRuntimeExports.jsxs("div",{className:styles$H.announcementLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$H.heading,children:"&FAQ"}),jsxRuntimeExports.jsx("div",{className:styles$H.tabWrapper,children:categoryList.map(p=>jsxRuntimeExports.jsx("button",{className:`${styles$H.tab} ${t===p?styles$H.active:""}`,onClick:()=>c(p),children:p},p))}),jsxRuntimeExports.jsx("ul",{children:o.map((p,m)=>jsxRuntimeExports.jsxs("li",{className:styles$H.listItem,onClick:()=>{l(m)},children:[jsxRuntimeExports.jsxs("div",{className:styles$H.buttonField,children:[p.title,jsxRuntimeExports.jsx("span",{children:r[m]?jsxRuntimeExports.jsx(FaChevronUp,{}):jsxRuntimeExports.jsx(FaChevronDown,{})})]}),r[m]&&jsxRuntimeExports.jsx("div",{className:styles$H.contentContainer,children:p.content})]},p.id))})]})}const termsLayout="_termsLayout_1m4fn_1",mainTitle="_mainTitle_1m4fn_19",tabWrapper="_tabWrapper_1m4fn_43",tab="_tab_1m4fn_43",active$1="_active_1m4fn_83",contentContainer$5="_contentContainer_1m4fn_99",styles$G={termsLayout,mainTitle,tabWrapper,tab,active:active$1,contentContainer:contentContainer$5},termsPolicyData={content:`  

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},privacyPolicyData={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function TermsPolicy(){const t=["",""],[n,r]=reactExports$1.useState(""),s=n===""?termsPolicyData:privacyPolicyData,o=l=>{r(l)};return jsxRuntimeExports.jsxs("section",{className:styles$G.termsLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$G.mainTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$G.tabWrapper,children:t.map(l=>jsxRuntimeExports.jsx("button",{className:`${styles$G.tab} ${n===l?styles$G.active:""}`,onClick:()=>o(l),children:l},l))}),jsxRuntimeExports.jsx("div",{className:styles$G.contentContainer,children:s.content})]})}const layout$c="_layout_3y7o4_1",title$a="_title_3y7o4_19",posterImage$1="_posterImage_3y7o4_31",completionIcon$1="_completionIcon_3y7o4_43",completionTitle$1="_completionTitle_3y7o4_67",reservationSummary$1="_reservationSummary_3y7o4_81",summaryRow$1="_summaryRow_3y7o4_95",summaryLabel$1="_summaryLabel_3y7o4_115",summaryValue$1="_summaryValue_3y7o4_125",buttonField="_buttonField_3y7o4_155",exhibitionLink="_exhibitionLink_3y7o4_165",mypageLink="_mypageLink_3y7o4_167",styles$F={layout:layout$c,title:title$a,posterImage:posterImage$1,completionIcon:completionIcon$1,completionTitle:completionTitle$1,reservationSummary:reservationSummary$1,summaryRow:summaryRow$1,summaryLabel:summaryLabel$1,summaryValue:summaryValue$1,buttonField,exhibitionLink,mypageLink};function ReservationConfirm(){const{reservationId:t}=useParams(),[n,r]=reactExports$1.useState([]),{exhibition_location:s,exhibition_title:o,exhibition_poster:l,exhibition_id:c,reservation_total_price:p,reservation_number_of_tickets:m,reservation_datetime:x}=n,_=[{label:"",value:n?o:""},{label:"",value:n?s:""},{label:"",value:(R=>{if(R)return R.split(" ")[0]})(x)},{label:"",value:`${m}`},{label:"",value:`${p}`}];return reactExports$1.useEffect(()=>{(async()=>{try{const k=await userInstance.get("/api/users/me/exhibitions");r(k.data.find(M=>M.id===t))}catch(k){console.error(k)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$F.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$F.title,children:"  "}),jsxRuntimeExports.jsx(Img,{className:styles$F.posterImage,src:l,alt:"  "}),jsxRuntimeExports.jsx("div",{className:styles$F.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$F.completionTitle,children:"   "}),jsxRuntimeExports.jsx("div",{className:styles$F.reservationSummary,children:_.map(R=>jsxRuntimeExports.jsxs("div",{className:styles$F.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$F.summaryLabel,children:R.label}),jsxRuntimeExports.jsx("span",{className:styles$F.summaryValue,children:R.value})]},R.label))}),jsxRuntimeExports.jsxs("div",{className:styles$F.buttonField,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$F.mypageLink,to:"/mypage",children:""}),jsxRuntimeExports.jsx(Link$1,{className:styles$F.exhibitionLink,to:`/exhibitions/${c}`,children:" "})]})]})}const container$6="_container_xs957_1",breadcrumb$3="_breadcrumb_xs957_37",breadcrumbBack$3="_breadcrumbBack_xs957_51",loading$1="_loading_xs957_63",error="_error_xs957_65",empty$1="_empty_xs957_67",exhibitionInfo="_exhibitionInfo_xs957_93",calendarContainer="_calendarContainer_xs957_175",calendarHeader="_calendarHeader_xs957_191",legend="_legend_xs957_207",legendItem="_legendItem_xs957_229",legendDot="_legendDot_xs957_241",dotRed="_dotRed_xs957_253",dotBlue="_dotBlue_xs957_261",monthNavigator="_monthNavigator_xs957_269",currentMonth="_currentMonth_xs957_281",monthButton="_monthButton_xs957_297",weekdaysRow="_weekdaysRow_xs957_339",weekdayCell="_weekdayCell_xs957_355",weekend="_weekend_xs957_369",closedDot="_closedDot_xs957_377",calendarGrid="_calendarGrid_xs957_393",dateCell$1="_dateCell_xs957_405",todayDot="_todayDot_xs957_445",disabled="_disabled_xs957_459",selected$1="_selected_xs957_459",today="_today_xs957_445",visitorCount="_visitorCount_xs957_507",countLabel="_countLabel_xs957_529",countControls="_countControls_xs957_541",countButton="_countButton_xs957_553",countDisplay="_countDisplay_xs957_595",reservationInfo="_reservationInfo_xs957_613",infoRow$3="_infoRow_xs957_627",infoLabel$3="_infoLabel_xs957_655",infoValue="_infoValue_xs957_665",reservationForm="_reservationForm_xs957_679",formTitle="_formTitle_xs957_687",formGroup$1="_formGroup_xs957_701",formLabel="_formLabel_xs957_709",formInput="_formInput_xs957_725",reservationSummary="_reservationSummary_xs957_767",summaryTitle="_summaryTitle_xs957_785",summaryTitle2="_summaryTitle2_xs957_803",summaryImage="_summaryImage_xs957_819",summaryRow="_summaryRow_xs957_833",summaryLabel="_summaryLabel_xs957_855",summaryValue="_summaryValue_xs957_871",completionScreen="_completionScreen_xs957_889",completionIcon="_completionIcon_xs957_923",completionTitle="_completionTitle_xs957_949",completionMessage="_completionMessage_xs957_963",buttonsContainer="_buttonsContainer_xs957_977",actionButton$3="_actionButton_xs957_993",backButton$8="_backButton_xs957_995",styles$E={container:container$6,breadcrumb:breadcrumb$3,breadcrumbBack:breadcrumbBack$3,loading:loading$1,error,empty:empty$1,exhibitionInfo,calendarContainer,calendarHeader,legend,legendItem,legendDot,dotRed,dotBlue,monthNavigator,currentMonth,monthButton,weekdaysRow,weekdayCell,weekend,closedDot,calendarGrid,dateCell:dateCell$1,todayDot,disabled,selected:selected$1,today,visitorCount,countLabel,countControls,countButton,countDisplay,reservationInfo,infoRow:infoRow$3,infoLabel:infoLabel$3,infoValue,reservationForm,formTitle,formGroup:formGroup$1,formLabel,formInput,reservationSummary,summaryTitle,summaryTitle2,summaryImage,summaryRow,summaryLabel,summaryValue,completionScreen,completionIcon,completionTitle,completionMessage,buttonsContainer,actionButton:actionButton$3,backButton:backButton$8};function Reservation(){const{exhibitionId:t}=useParams(),n=useNavigate(),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),{showAlert:m}=useAlert(),[x,b]=reactExports$1.useState(1),[_,R]=reactExports$1.useState(""),[k,M]=reactExports$1.useState(1),[P,K]=reactExports$1.useState({name:"",phone:"",email:"",date:"",gallery:"",price:0,state:""}),$=new Date,[G,H]=reactExports$1.useState($.getMonth()),[j,W]=reactExports$1.useState($.getFullYear());reactExports$1.useEffect(()=>{t&&(async()=>{try{const oe=await userInstance.get(`/api/exhibitions/${t}`);s(oe.data)}catch{p("     .")}finally{l(!1)}})()},[t]),reactExports$1.useEffect(()=>{r&&K(re=>({...re,gallery:r.exhibition_location,price:r.exhibition_price}))},[r]),reactExports$1.useEffect(()=>{(async()=>{try{const Ce=(await userInstance.get("/api/users/me")).data;console.log(Ce),K(Ae=>({...Ae,name:Ce.user_name||"",phone:Ce.user_phone||"",email:Ce.user_email||""}))}catch(oe){console.error("   :",oe)}})()},[]),reactExports$1.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[x]);const Y=re=>{if(!re)return[];const oe={:0,:1,:2,:3,:4,:5,:6};return re.split(",").map(Ce=>oe[Ce.trim()]).filter(Ce=>Ce!==void 0)},X=()=>{const re=new Date(j,G+1,0).getDate(),oe=new Date(j,G,1).getDay(),Ce=[],Ae=r!=null&&r.exhibition_start_date?new Date(r.exhibition_start_date):null,we=r!=null&&r.exhibition_end_date?new Date(r.exhibition_end_date):null,Re=r?Y(r.exhibition_closed_day):[];Ae&&Ae.setHours(0,0,0,0),we&&we.setHours(0,0,0,0);const Be=new Date;return Be.setHours(0,0,0,0),Array.from({length:oe}).forEach(()=>{Ce.push({day:"",disabled:!0})}),Array.from({length:re}).forEach((We,De)=>{const ct=De+1,at=new Date(j,G,ct);at.setHours(0,0,0,0);const Ct=at.getTime()===Be.getTime();let It=!1,mt=!1;at<Be&&(It=!0),Ae&&at<Ae&&(It=!0),we&&at>we&&(It=!0),Re.includes(at.getDay())&&(It=!0,mt=!0),Ce.push({day:ct,date:at,disabled:It,isToday:Ct,isClosedDay:mt})}),Ce},te=()=>{H(re=>re===11?0:re+1),G===11&&W(re=>re+1)},se=()=>{H(re=>re===0?11:re-1),G===0&&W(re=>re-1)},pe=re=>{if(re.disabled)return;const oe=`${j}.${String(G+1).padStart(2,"0")}.${String(re.day).padStart(2,"0")}`;R(oe),K(Ce=>({...Ce,date:oe}))},ge=re=>{const oe=k+re;oe>=1&&oe<=10&&M(oe)},me=re=>{const{name:oe,value:Ce}=re.target;K(Ae=>({...Ae,[oe]:Ce}))},Ee=async()=>{if(x===1&&!_){m(" .");return}if(x===2&&(!P.name||!P.phone||!P.email)){m("   .");return}if(x===2)try{const re=await userInstance.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:k,reservation_datetime:_,visitor_name:P.name,visitor_phone:P.phone,visitor_email:P.email,payment_method:"",total_price:r.exhibition_price*k});console.log(" :",re.data)}catch(re){console.error(" :",re),m("    .");return}b(x+1)},ve=()=>{b(x-1)},de=()=>{n("/mypage",{state:{activeTab:"MY"}})};if(o)return jsxRuntimeExports.jsx("div",{className:styles$E.loading,children:" ..."});if(c)return jsxRuntimeExports.jsx("div",{className:styles$E.error,children:c});if(!r)return jsxRuntimeExports.jsx("div",{className:styles$E.empty,children:"    ."});const ae=["","","","","","",""],ue=[{label:"",value:r?r.exhibition_title:""},{label:"",value:_},{label:"",value:`${k}`},{label:"",value:r?r.exhibition_location:""},{label:"",value:P.name},{label:"",value:P.phone},{label:"",value:P.email},{label:" ",value:`${(r.exhibition_price||0).toLocaleString()} (  )`}];return jsxRuntimeExports.jsxs("div",{className:styles$E.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$E.breadcrumbBack,onClick:()=>n(`/exhibitions/${t}`),children:""})," ","> "]}),x===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$E.exhibitionInfo,children:[jsxRuntimeExports.jsx("strong",{children:r.exhibition_title}),jsxRuntimeExports.jsx("p",{children:r.exhibition_organization})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.calendarContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.calendarHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.monthNavigator,children:[jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:se,children:"<"}),jsxRuntimeExports.jsx("span",{className:styles$E.currentMonth,children:`${j}.${String(G+1).padStart(2,"0")}`}),jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:te,children:">"})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legend,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotRed}`}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotBlue}`}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.weekdaysRow,children:ae.map((re,oe)=>jsxRuntimeExports.jsx("div",{className:`${styles$E.weekdayCell} ${oe===0||oe===6?styles$E.weekend:""}`,children:re},re))}),jsxRuntimeExports.jsx("div",{className:styles$E.calendarGrid,children:X().map((re,oe)=>{const Ce=re.day?`${j}-${G}-${re.day}`:`empty-${oe}`;return jsxRuntimeExports.jsxs("div",{className:`${styles$E.dateCell} ${re.disabled?styles$E.disabled:""} ${re.isToday?styles$E.today:""} ${_&&re.day&&_===`${j}.${String(G+1).padStart(2,"0")}.${String(re.day).padStart(2,"0")}`?styles$E.selected:""}`,onClick:()=>pe(re),children:[jsxRuntimeExports.jsx("span",{className:styles$E.dateNumber,children:re.day}),re.day&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[re.isClosedDay&&jsxRuntimeExports.jsx("div",{className:styles$E.closedDot}),!re.isClosedDay&&re.isToday&&jsxRuntimeExports.jsx("div",{className:styles$E.todayDot})]})]},Ce)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.visitorCount,children:[jsxRuntimeExports.jsx("span",{className:styles$E.countLabel,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$E.countControls,children:[jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>ge(-1),children:"-"}),jsxRuntimeExports.jsxs("span",{className:styles$E.countDisplay,children:[k,""]}),jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>ge(1),children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:_||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsxs("span",{className:styles$E.infoLabel,children:[k,""]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:r.exhibition_location})]})]})]}),x===2&&jsxRuntimeExports.jsxs("div",{className:styles$E.reservationForm,children:[jsxRuntimeExports.jsx("h3",{className:styles$E.formTitle,children:"  "}),["name","phone","email"].map(re=>jsxRuntimeExports.jsxs("div",{className:styles$E.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$E.formLabel,children:re==="name"?"":re==="phone"?"":""}),jsxRuntimeExports.jsx("input",{className:styles$E.formInput,type:re==="email"?"email":re==="phone"?"tel":"text",name:re,value:P[re],onChange:me,placeholder:re==="name"?" ":re==="phone"?"010-0000-0000":"example@email.com"})]},re)),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx("div",{className:styles$E.summaryTitle,children:"  "}),[{label:"",value:r?r.exhibition_title:" "},{label:"",value:_},{label:"",value:`${k}`},{label:"",value:r?r.exhibition_location:" "},{label:" ",value:`${(r.exhibition_price||0).toLocaleString()}`}].map(re=>jsxRuntimeExports.jsxs("div",{className:styles$E.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:re.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:re.value})]},re.label))]})]}),x===3&&jsxRuntimeExports.jsxs("div",{className:styles$E.completionScreen,children:[jsxRuntimeExports.jsx("div",{className:styles$E.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$E.completionTitle,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$E.completionMessage,children:[P.name,"   ."]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx(Img,{className:styles$E.summaryImage,src:r.exhibition_poster}),ue.map(re=>jsxRuntimeExports.jsx("div",{className:styles$E.summaryRow,children:re.label===""?jsxRuntimeExports.jsx("h2",{className:styles$E.summaryTitle2,children:re.value}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:re.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:re.value})]})},re.label))]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.buttonsContainer,children:x===1?jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:Ee,children:""}):x===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:ve,children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:Ee,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:()=>n("/exhibitions"),children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:de,children:" "})]})})]})}const actionContainer="_actionContainer_haua7_1",actionButton$2="_actionButton_haua7_17",actionButtonActive="_actionButtonActive_haua7_57",actionButtonInactive="_actionButtonInactive_haua7_79",styles$D={actionContainer,actionButton:actionButton$2,actionButtonActive,actionButtonInactive};function ActionBar({tabList:t,activeTab:n,onTabChange:r}){return jsxRuntimeExports.jsx("nav",{className:styles$D.actionContainer,children:t.map(s=>jsxRuntimeExports.jsx("button",{onClick:()=>r(s),className:`${styles$D.actionButton} ${n===s?styles$D.actionButtonActive:styles$D.actionButtonInactive}`,children:s},s))})}function HiChevronDown(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function HiTrash(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function HiX(t){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function useDropdown(t="",n=""){const[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(t||n),c=reactExports$1.useRef(null);return reactExports$1.useEffect(()=>{const _=R=>{c.current&&!c.current.contains(R.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),{isOpen:r,selectedValue:o,dropdownRef:c,handleOptionClick:(_,R)=>{l(_.name),R(_.id),s(!1)},toggleDropdown:()=>{s(!r)},closeDropdown:()=>{s(!1)},openDropdown:()=>{s(!0)},setSelectedValue:l}}const dropdownWrapper="_dropdownWrapper_1sd9j_3",inputContainer="_inputContainer_1sd9j_13",dropdownTrigger="_dropdownTrigger_1sd9j_37",dropdownList="_dropdownList_1sd9j_51",dropdownItem="_dropdownItem_1sd9j_83",dropdownItemActive="_dropdownItemActive_1sd9j_123",inputField="_inputField_1sd9j_163",chevron="_chevron_1sd9j_185",chevronOpen="_chevronOpen_1sd9j_199",styles$C={dropdownWrapper,inputContainer,dropdownTrigger,dropdownList,dropdownItem,dropdownItemActive,inputField,chevron,chevronOpen};function LookUp({value:t,onChange:n,placeholder:r=" ",isInput:s=!1,options:o=[],title:l=" "}){var P;const{isOpen:c,dropdownRef:p,handleOptionClick:m,toggleDropdown:x}=useDropdown(t,r);console.log(o);const[b,_]=reactExports$1.useState(t||""),R=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{t!==b&&_(t||"")},[t]);const k=((P=o.find(K=>K.id===t))==null?void 0:P.name)||r,M=K=>{const $=K.target.value;_($),n($)};return s?jsxRuntimeExports.jsx("div",{className:styles$C.inputContainer,children:jsxRuntimeExports.jsx("input",{ref:R,type:"text",value:b,onChange:M,placeholder:r,className:styles$C.inputField})}):jsxRuntimeExports.jsx("div",{className:styles$C.dropdownWrapper,children:jsxRuntimeExports.jsxs("div",{className:styles$C.inputContainer,ref:p,children:[jsxRuntimeExports.jsxs("div",{className:styles$C.dropdownTrigger,onClick:x,children:[jsxRuntimeExports.jsx("span",{className:styles$C.inputField,children:k}),jsxRuntimeExports.jsx(HiChevronDown,{className:`${styles$C.chevron} ${c?styles$C.chevronOpen:""}`})]}),c&&jsxRuntimeExports.jsx("div",{className:styles$C.dropdownList,children:o.map(K=>jsxRuntimeExports.jsx("div",{className:`${styles$C.dropdownItem} ${t===K.id?styles$C.dropdownItemActive:""}`,onClick:()=>m(K,n),children:K.name},K.id))})]})})}const countText="_countText_1ceqk_3",styles$B={countText};function CountList({count:t}){return jsxRuntimeExports.jsxs("span",{className:styles$B.countText,children:[" ",t,""]})}const registerButton$1="_registerButton_1e0nv_3",styles$A={registerButton:registerButton$1};function RegisterButton({buttonText:t,onButtonClick:n}){return jsxRuntimeExports.jsx("button",{onClick:n,className:styles$A.registerButton,children:t})}const container$5="_container_1oiix_3",message$1="_message_1oiix_33",buttonText="_buttonText_1oiix_57",instruction="_instruction_1oiix_67",styles$z={container:container$5,message:message$1,buttonText,instruction};function EmptyState({message:t,buttonText:n}){return jsxRuntimeExports.jsxs("div",{className:styles$z.container,children:[jsxRuntimeExports.jsx("p",{className:styles$z.message,children:t}),jsxRuntimeExports.jsx("p",{className:styles$z.buttonText,children:n}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:"  ."})]})}function useDebounceSearch({onSearch:t,onEmptySearch:n,onSearchValueChange:r,onClearSearch:s,minLength:o=1,delay:l=500}){const[c,p]=reactExports$1.useState(""),m=reactExports$1.useRef(null),x=_=>{if(p(_),r&&r(_),m.current&&clearTimeout(m.current),!_.trim()){n&&n();return}_.trim().length<o||(m.current=setTimeout(()=>{t(_)},l))},b=()=>{x(""),s&&s()};return reactExports$1.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),{searchValue:c,handleSearchChange:x,clearSearch:b}}const contentContainer$4="_contentContainer_5gtbl_1",searchContainer$2="_searchContainer_5gtbl_15",countAndButtonContainer$3="_countAndButtonContainer_5gtbl_25",galleryCard$1="_galleryCard_5gtbl_41",cardContent$2="_cardContent_5gtbl_83",galleryImage$2="_galleryImage_5gtbl_93",cardInfo$2="_cardInfo_5gtbl_111",cardHeader$3="_cardHeader_5gtbl_131",galleryTitle$2="_galleryTitle_5gtbl_145",deleteButton$2="_deleteButton_5gtbl_163",galleryAddress$1="_galleryAddress_5gtbl_199",galleryClosedDay="_galleryClosedDay_5gtbl_201",galleryTime="_galleryTime_5gtbl_203",cardFooter="_cardFooter_5gtbl_245",separator="_separator_5gtbl_267",emptyStateContainer$2="_emptyStateContainer_5gtbl_277",errorMessage$2="_errorMessage_5gtbl_301",styles$y={contentContainer:contentContainer$4,searchContainer:searchContainer$2,countAndButtonContainer:countAndButtonContainer$3,galleryCard:galleryCard$1,cardContent:cardContent$2,galleryImage:galleryImage$2,cardInfo:cardInfo$2,cardHeader:cardHeader$3,galleryTitle:galleryTitle$2,deleteButton:deleteButton$2,galleryAddress:galleryAddress$1,galleryClosedDay,galleryTime,cardFooter,separator,emptyStateContainer:emptyStateContainer$2,errorMessage:errorMessage$2};function GalleryManagement({galleryList:t,onDelete:n,loadGalleries:r,isLoading:s,isSearching:o,error:l}){const{showConfirm:c}=useConfirm(),p=useNavigate(),{searchValue:m,handleSearchChange:x}=useDebounceSearch({onSearch:r,onEmptySearch:()=>r(""),minLength:2,delay:500}),b=Array.isArray(t)?t:[],_=async R=>{await c("   ?",!0)&&(await n(R,"gallery"),p("/console/main",{state:{activeTab:""},replace:!0}))};return jsxRuntimeExports.jsxs("div",{className:styles$y.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$y.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:m,onChange:x,placeholder:" ",isInput:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$y.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:b.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>p("/console/galleries/edit/new")})]}),s?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):l?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$y.errorMessage,children:[" : ",l]})}):b.length>0?jsxRuntimeExports.jsx("section",{className:styles$y.contentContainer,children:b.map(R=>jsxRuntimeExports.jsxs("div",{className:styles$y.galleryCard,onClick:()=>p(`/console/galleries/${R.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:R.image,alt:R.name,className:styles$y.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$y.galleryTitle,children:R.name}),jsxRuntimeExports.jsx("button",{onClick:k=>{k.stopPropagation(),_(R.id)},className:styles$y.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryAddress,children:R.address||"  "}),jsxRuntimeExports.jsxs("p",{className:styles$y.galleryClosedDay,children:[" | ",R.closedDay||""]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryTime,children:R.time.replace("-","~")})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardFooter,children:[jsxRuntimeExports.jsxs("span",{children:["  ",R.registered,""]}),jsxRuntimeExports.jsx("span",{className:styles$y.separator,children:"|"}),jsxRuntimeExports.jsxs("span",{children:[" ",R.liked,""]})]})]},R.id))}):jsxRuntimeExports.jsx("section",{className:styles$y.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$3="_contentContainer_eg3sw_3",cardContainer$1="_cardContainer_eg3sw_15",emptyStateContainer$1="_emptyStateContainer_eg3sw_27",searchContainer$1="_searchContainer_eg3sw_35",galleryCard="_galleryCard_eg3sw_43",cardContent$1="_cardContent_eg3sw_53",cardInfo$1="_cardInfo_eg3sw_65",cardHeader$2="_cardHeader_eg3sw_77",countAndButtonContainer$2="_countAndButtonContainer_eg3sw_133",galleryImage$1="_galleryImage_eg3sw_183",deleteButton$1="_deleteButton_eg3sw_207",galleryAddress="_galleryAddress_eg3sw_237",galleryFloor="_galleryFloor_eg3sw_245",galleryTitle$1="_galleryTitle_eg3sw_273",styles$x={contentContainer:contentContainer$3,cardContainer:cardContainer$1,emptyStateContainer:emptyStateContainer$1,searchContainer:searchContainer$1,galleryCard,cardContent:cardContent$1,cardInfo:cardInfo$1,cardHeader:cardHeader$2,countAndButtonContainer:countAndButtonContainer$2,galleryImage:galleryImage$1,deleteButton:deleteButton$1,galleryAddress,galleryFloor,galleryTitle:galleryTitle$1};function ExhibitionManagement({exhibitionList:t,selectedGallery:n,onGalleryChange:r,onDelete:s,loadExhibitions:o,isLoading:l,error:c,galleryList:p}){const m=useNavigate(),{showConfirm:x}=useConfirm(),{showAlert:b}=useAlert(),_=async(K,$)=>{K.stopPropagation(),await x("   ?",!0)&&(await s($,"exhibition"),m("/console/main",{state:{activeTab:""},replace:!0}))};reactExports$1.useEffect(()=>{p.length>0&&o(" ")},[p.length]);const R=reactExports$1.useMemo(()=>n?t.filter(K=>K.gallery_id===n):t,[t,n]);console.log(R);const k=reactExports$1.useMemo(()=>{const K=[{name:"",id:null}];return p&&p.forEach($=>{K.push({id:$.id,name:$.name,value:$.id})}),K},[p,t]),M=n,P=()=>{if(!M){b("      .");return}m(`/console/exhibitions/edit/new?gallery_id=${M}`)};return l?jsxRuntimeExports.jsx("div",{className:styles$x.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$x.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$x.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:n,onChange:r,options:k})}),jsxRuntimeExports.jsxs("div",{className:styles$x.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:R.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:P})]}),R.length>0?jsxRuntimeExports.jsx("section",{className:styles$x.cardContainer,children:R.map(K=>jsxRuntimeExports.jsx("div",{className:styles$x.galleryCard,onClick:()=>m(`/console/exhibitions/${K.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$x.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:K.image,alt:K.title,className:styles$x.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$x.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$x.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$x.galleryTitle,children:K.title}),jsxRuntimeExports.jsx("button",{onClick:$=>_($,K.id),className:styles$x.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryAddress,children:K.period.includes("null")?"  ":K.period.replace(" - "," ~ ")}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryFloor,children:K.gallery_name})]})]})},K.id))}):jsxRuntimeExports.jsx("section",{className:styles$x.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$2="_contentContainer_ftht7_3",cardContainer="_cardContainer_ftht7_15",emptyStateContainer="_emptyStateContainer_ftht7_27",searchContainer="_searchContainer_ftht7_35",artworkCard$3="_artworkCard_ftht7_43",cardContent="_cardContent_ftht7_53",cardInfo="_cardInfo_ftht7_65",cardHeader$1="_cardHeader_ftht7_77",countAndButtonContainer$1="_countAndButtonContainer_ftht7_133",artworkImage$2="_artworkImage_ftht7_183",deleteButton="_deleteButton_ftht7_207",artworkArtist$1="_artworkArtist_ftht7_237",artworkExhibition="_artworkExhibition_ftht7_253",artworkTitle$2="_artworkTitle_ftht7_281",styles$w={contentContainer:contentContainer$2,cardContainer,emptyStateContainer,searchContainer,artworkCard:artworkCard$3,cardContent,cardInfo,cardHeader:cardHeader$1,countAndButtonContainer:countAndButtonContainer$1,artworkImage:artworkImage$2,deleteButton,artworkArtist:artworkArtist$1,artworkExhibition,artworkTitle:artworkTitle$2};function ArtworkManagement({artworkList:t,selectedExhibition:n,onExhibitionChange:r,onDelete:s,loadArtworks:o,loadExhibitions:l,isLoading:c,error:p,galleryList:m,exhibitionList:x}){const b=useNavigate(),{showConfirm:_}=useConfirm(),{showAlert:R}=useAlert(),k=async $=>{await _("   ?",!0)&&(await s($,"artwork"),b("/console/main",{state:{activeTab:""},replace:!0}))};reactExports$1.useEffect(()=>{l&&l(" ")},[]),reactExports$1.useEffect(()=>{if(n){if(!x||x.length===0)return;const $=x.find(G=>String(G.id)===String(n));$&&o($.title)}else o("")},[n,x,o]);const M=()=>{if(!n){R("      .");return}b(`/console/artworks/edit/new?exhibition_id=${n}`)},P=reactExports$1.useMemo(()=>t||[],[t]),K=reactExports$1.useMemo(()=>{const $=[];return x&&x.forEach(G=>{$.push({id:G.id,name:G.title,value:G.id})}),$},[x]);return c?jsxRuntimeExports.jsx("div",{className:styles$w.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$w.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$w.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:n,onChange:r,options:K,placeholder:" "})}),jsxRuntimeExports.jsxs("div",{className:styles$w.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:P.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:M})]}),P.length>0?jsxRuntimeExports.jsx("section",{className:styles$w.cardContainer,children:P.map($=>{var G;return jsxRuntimeExports.jsx("div",{className:styles$w.artworkCard,onClick:()=>b(`/console/artworks/${$.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$w.cardContent,children:[jsxRuntimeExports.jsx(Img,{src:$.image,alt:$.title,className:styles$w.artworkImage}),jsxRuntimeExports.jsxs("div",{className:styles$w.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$w.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$w.artworkTitle,children:$.title}),jsxRuntimeExports.jsx("button",{onClick:H=>{H.stopPropagation(),k($.id)},className:styles$w.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$w.artworkArtist,children:$.artist||" "}),jsxRuntimeExports.jsx("p",{className:styles$w.artworkExhibition,children:n?(G=x.find(H=>H.id===n))==null?void 0:G.title:$.exhibition_title||$.exhibition_name||"-"})]})]})},$.id)})}):jsxRuntimeExports.jsx("section",{className:styles$w.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ ",onButtonClick:M})})]})}const overlay$4="_overlay_t7lbi_1",modal="_modal_t7lbi_31",header$9="_header_t7lbi_55",title$9="_title_t7lbi_71",body$3="_body_t7lbi_83",countBadge$1="_countBadge_t7lbi_97",formGroup="_formGroup_t7lbi_117",label$4="_label_t7lbi_129",input$2="_input_t7lbi_153",textarea$3="_textarea_t7lbi_155",closeButton$2="_closeButton_t7lbi_201",buttonContainer="_buttonContainer_t7lbi_237",sendButton="_sendButton_t7lbi_249",styles$v={overlay:overlay$4,modal,header:header$9,title:title$9,body:body$3,countBadge:countBadge$1,formGroup,label:label$4,input:input$2,textarea:textarea$3,closeButton:closeButton$2,buttonContainer,sendButton};function AlarmModal({isOpen:t,onClose:n,selectedUsersCount:r,onSendAlarm:s,isSending:o=!1}){const{showConfirm:l}=useConfirm(),[c,p]=reactExports$1.useState(""),[m,x]=reactExports$1.useState(""),{showAlert:b}=useAlert(),_=()=>{p(""),x(""),n()};if(!t)return null;const R=async()=>{if(!c.trim()){b(" .");return}if(!m.trim()){b("  .");return}if(r===0){b("  .  .");return}await l(`     ?
 ,   .`)&&(await s(c.trim(),m.trim()),p(""),x(""))};return jsxRuntimeExports.jsx("div",{className:styles$v.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$v.modal,children:[jsxRuntimeExports.jsxs("header",{className:styles$v.header,children:[jsxRuntimeExports.jsx("h2",{className:styles$v.title,children:" "}),jsxRuntimeExports.jsx("button",{onClick:_,className:styles$v.closeButton,"aria-label":"",children:jsxRuntimeExports.jsx(HiX,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:styles$v.body,children:[jsxRuntimeExports.jsxs("div",{className:styles$v.countBadge,children:["  :  ",r,""]}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$v.label,children:""}),jsxRuntimeExports.jsx("input",{type:"text",className:styles$v.input,placeholder:"  ",value:c,onChange:k=>p(k.target.value),autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsxs("label",{className:styles$v.label,children:[" ",jsxRuntimeExports.jsxs("span",{children:["(",m.length,"/80)"]})]}),jsxRuntimeExports.jsx("textarea",{className:styles$v.textarea,placeholder:"  ",maxLength:80,value:m,onChange:k=>x(k.target.value)})]})]}),jsxRuntimeExports.jsx("div",{className:styles$v.buttonContainer,children:jsxRuntimeExports.jsx("button",{onClick:R,className:styles$v.sendButton,disabled:o||r===0,children:o?" ...":" "})})]})})}const tableCard="_tableCard_kma4v_3",tabHeader="_tabHeader_kma4v_23",tabList="_tabList_kma4v_35",tabButton$2="_tabButton_kma4v_57",tabButtonActive="_tabButtonActive_kma4v_93",tableContainer="_tableContainer_kma4v_117",table="_table_kma4v_3",tableHeader="_tableHeader_kma4v_135",tableRow="_tableRow_kma4v_145",tableRowSelected="_tableRowSelected_kma4v_171",tableCell="_tableCell_kma4v_179",tableHeaderCell="_tableHeaderCell_kma4v_195",checkboxCell="_checkboxCell_kma4v_213",checkboxWrapper="_checkboxWrapper_kma4v_229",checkbox$2="_checkbox_kma4v_213",checkboxCustom="_checkboxCustom_kma4v_263",categoryName="_categoryName_kma4v_419",userName="_userName_kma4v_431",dateCell="_dateCell_kma4v_441",emptyState$2="_emptyState_kma4v_455",emptyIcon="_emptyIcon_kma4v_465",emptyText$1="_emptyText_kma4v_475",emptySubtext="_emptySubtext_kma4v_489",styles$u={tableCard,tabHeader,tabList,tabButton:tabButton$2,tabButtonActive,tableContainer,table,tableHeader,tableRow,tableRowSelected,tableCell,tableHeaderCell,checkboxCell,checkboxWrapper,checkbox:checkbox$2,checkboxCustom,categoryName,userName,dateCell,emptyState:emptyState$2,emptyIcon,emptyText:emptyText$1,emptySubtext};function Table({interestedUserList:t,selectedUserList:n,onUserSelect:r,onSelectAll:s,isAllSelected:o,activeTab:l,onTabChange:c}){const p=()=>{s(t)};return jsxRuntimeExports.jsxs("div",{className:styles$u.tableCard,children:[jsxRuntimeExports.jsx("div",{className:styles$u.tabHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$u.tabList,children:[jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${l==="all"?styles$u.tabButtonActive:""}`,onClick:()=>c("all"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${l==="gallery"?styles$u.tabButtonActive:""}`,onClick:()=>c("gallery"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${l==="exhibition"?styles$u.tabButtonActive:""}`,onClick:()=>c("exhibition"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${l==="art"?styles$u.tabButtonActive:""}`,onClick:()=>c("art"),children:""})]})}),t.length>0?jsxRuntimeExports.jsx("div",{className:styles$u.tableContainer,children:jsxRuntimeExports.jsxs("table",{className:styles$u.table,children:[jsxRuntimeExports.jsx("thead",{className:styles$u.tableHeader,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:`${styles$u.tableHeaderCell} ${styles$u.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$u.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$u.checkbox,checked:o(t),onChange:p}),jsxRuntimeExports.jsx("span",{className:styles$u.checkboxCustom})]})}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:t.map(m=>jsxRuntimeExports.jsxs("tr",{className:`${styles$u.tableRow} ${n.includes(m.id)?styles$u.tableRowSelected:""}`,children:[jsxRuntimeExports.jsx("td",{className:`${styles$u.tableCell} ${styles$u.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$u.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$u.checkbox,checked:n.includes(m.id),onChange:()=>r(m.id)}),jsxRuntimeExports.jsx("span",{className:styles$u.checkboxCustom})]})}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$u.categoryName,children:m.category})}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$u.userName,children:m.name==="string"||!m.name?" ":m.name})}),jsxRuntimeExports.jsx("td",{className:`${styles$u.tableCell} ${styles$u.dateCell}`,children:m.date})]},`${m.type}-${m.id}`))})]})}):jsxRuntimeExports.jsxs("div",{className:styles$u.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$u.emptyIcon,children:""}),jsxRuntimeExports.jsx("p",{className:styles$u.emptyText,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$u.emptySubtext,children:[l==="all"?"":l==="gallery"?"":l==="exhibition"?"":"","   "]})]})]})}function useUserSelection(){const[t,n]=reactExports$1.useState([]);return{selectedUserList:t,handleUserSelect:c=>{n(p=>p.includes(c)?p.filter(m=>m!==c):[...p,c])},handleSelectAll:c=>{if(c.length>0&&c.every(m=>t.includes(m.id))){const m=t.filter(x=>!c.some(b=>b.id===x));n(m)}else{const x=c.filter(b=>!t.includes(b.id)).map(b=>b.id);n(b=>[...b,...x])}},clearSelection:()=>{n([])},isAllSelected:c=>c.length>0&&c.every(p=>t.includes(p.id))}}function useInterestedUser(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(!1),[o,l]=reactExports$1.useState(!1),[c,p]=reactExports$1.useState(null),[m,x]=reactExports$1.useState("all"),b=async($="gallery",G="")=>{var H,j;try{s(!0);const W=new URLSearchParams;W.append("liked_type",$),G&&W.append("search",G);const Y=await userInstance.get(`/api/users/console/likes?${W.toString()}`),te=(Array.isArray(Y.data)?Y.data:[]).map(se=>{var pe,ge,me,Ee,ve,de,ae,ue,re;return{id:se.id,userId:se.user_id||((pe=se.user)==null?void 0:pe.id),name:((ge=se.user)==null?void 0:ge.user_name)||"  ",category:((me=se.gallery)==null?void 0:me.gallery_name)||((Ee=se.exhibition)==null?void 0:Ee.exhibition_title)||((ve=se.art)==null?void 0:ve.art_title)||" ",date:se.create_dtm?new Date(se.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((de=se.user)==null?void 0:de.user_name)||"  ",galleryName:((ae=se.gallery)==null?void 0:ae.gallery_name)||"  ",exhibitionName:((ue=se.exhibition)==null?void 0:ue.exhibition_title)||"  ",artworkName:((re=se.art)==null?void 0:re.art_title)||"  ",type:$}});n(te)}catch(W){p(W.message),console.error("   :",W),console.error(" :",(H=W.response)==null?void 0:H.data),console.error(" :",(j=W.response)==null?void 0:j.status),n([])}finally{s(!1)}},_=[...t].sort(($,G)=>{const H=new Date($.date.replace(/\./g,"-"));return new Date(G.date.replace(/\./g,"-"))-H}),R=async($,G="")=>{if(x($),G&&G.length>=2)if($==="all")try{s(!0);const H=new URLSearchParams;H.append("liked_type","gallery"),H.append("search",G);const j=new URLSearchParams;j.append("liked_type","exhibition"),j.append("search",G);const W=new URLSearchParams;W.append("liked_type","art"),W.append("search",G);const[Y,X,te]=await Promise.all([userInstance.get(`/api/users/console/likes?${H.toString()}`),userInstance.get(`/api/users/console/likes?${j.toString()}`),userInstance.get(`/api/users/console/likes?${W.toString()}`)]),se=Y.data||[],pe=X.data||[],ge=te.data||[],me=[...se.map(Ee=>{var ve,de,ae,ue,re;return{id:Ee.id,userId:Ee.user_id||((ve=Ee.user)==null?void 0:ve.id),name:((de=Ee.user)==null?void 0:de.user_name)||"  ",category:((ae=Ee.gallery)==null?void 0:ae.gallery_name)||" ",date:Ee.create_dtm?new Date(Ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ue=Ee.user)==null?void 0:ue.user_name)||"  ",galleryName:((re=Ee.gallery)==null?void 0:re.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...pe.map(Ee=>{var ve,de,ae,ue,re;return{id:Ee.id,userId:Ee.user_id||((ve=Ee.user)==null?void 0:ve.id),name:((de=Ee.user)==null?void 0:de.user_name)||"  ",category:((ae=Ee.exhibition)==null?void 0:ae.exhibition_title)||" ",date:Ee.create_dtm?new Date(Ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ue=Ee.user)==null?void 0:ue.user_name)||"  ",galleryName:"  ",exhibitionName:((re=Ee.exhibition)==null?void 0:re.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...ge.map(Ee=>{var ve,de,ae,ue,re;return{id:Ee.id,userId:Ee.user_id||((ve=Ee.user)==null?void 0:ve.id),name:((de=Ee.user)==null?void 0:de.user_name)||"  ",category:((ae=Ee.art)==null?void 0:ae.art_title)||" ",date:Ee.create_dtm?new Date(Ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ue=Ee.user)==null?void 0:ue.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((re=Ee.art)==null?void 0:re.art_title)||"  ",type:"art"}})];n(me)}catch(H){p(H.message),console.error("+ :",H),n([])}finally{s(!1)}else await b($,G);else if($==="all")try{s(!0);const[H,j,W]=await Promise.all([userInstance.get("/api/users/console/likes?liked_type=gallery"),userInstance.get("/api/users/console/likes?liked_type=exhibition"),userInstance.get("/api/users/console/likes?liked_type=art")]),Y=H.data||[],X=j.data||[],te=W.data||[],se=[...Y.map(pe=>{var ge,me,Ee,ve,de;return{id:pe.id,userId:pe.user_id||((ge=pe.user)==null?void 0:ge.id),name:((me=pe.user)==null?void 0:me.user_name)||"  ",category:((Ee=pe.gallery)==null?void 0:Ee.gallery_name)||" ",date:pe.create_dtm?new Date(pe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ve=pe.user)==null?void 0:ve.user_name)||"  ",galleryName:((de=pe.gallery)==null?void 0:de.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...X.map(pe=>{var ge,me,Ee,ve,de;return{id:pe.id,userId:pe.user_id||((ge=pe.user)==null?void 0:ge.id),name:((me=pe.user)==null?void 0:me.user_name)||"  ",category:((Ee=pe.exhibition)==null?void 0:Ee.exhibition_title)||" ",date:pe.create_dtm?new Date(pe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ve=pe.user)==null?void 0:ve.user_name)||"  ",galleryName:"  ",exhibitionName:((de=pe.exhibition)==null?void 0:de.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...te.map(pe=>{var ge,me,Ee,ve,de;return{id:pe.id,userId:pe.user_id||((ge=pe.user)==null?void 0:ge.id),name:((me=pe.user)==null?void 0:me.user_name)||"  ",category:((Ee=pe.art)==null?void 0:Ee.art_title)||" ",date:pe.create_dtm?new Date(pe.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ve=pe.user)==null?void 0:ve.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((de=pe.art)==null?void 0:de.art_title)||"  ",type:"art"}})];n(se)}catch(H){p(H.message),console.error("    :",H),n([])}finally{s(!1)}else await b($)},k=async $=>{if(l(!0),m==="all")try{s(!0);const G=new URLSearchParams;G.append("liked_type","gallery"),G.append("search",$);const H=new URLSearchParams;H.append("liked_type","exhibition"),H.append("search",$);const j=new URLSearchParams;j.append("liked_type","art"),j.append("search",$);const[W,Y,X]=await Promise.all([userInstance.get(`/api/users/console/likes?${G.toString()}`),userInstance.get(`/api/users/console/likes?${H.toString()}`),userInstance.get(`/api/users/console/likes?${j.toString()}`)]),te=W.data||[],se=Y.data||[],pe=X.data||[],ge=[...te.map(me=>{var Ee,ve,de,ae,ue;return{id:me.id,userId:me.user_id||((Ee=me.user)==null?void 0:Ee.id),name:((ve=me.user)==null?void 0:ve.user_name)||"  ",category:((de=me.gallery)==null?void 0:de.gallery_name)||" ",date:me.create_dtm?new Date(me.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=me.user)==null?void 0:ae.user_name)||"  ",galleryName:((ue=me.gallery)==null?void 0:ue.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...se.map(me=>{var Ee,ve,de,ae,ue;return{id:me.id,userId:me.user_id||((Ee=me.user)==null?void 0:Ee.id),name:((ve=me.user)==null?void 0:ve.user_name)||"  ",category:((de=me.exhibition)==null?void 0:de.exhibition_title)||" ",date:me.create_dtm?new Date(me.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=me.user)==null?void 0:ae.user_name)||"  ",galleryName:"  ",exhibitionName:((ue=me.exhibition)==null?void 0:ue.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...pe.map(me=>{var Ee,ve,de,ae,ue;return{id:me.id,userId:me.user_id||((Ee=me.user)==null?void 0:Ee.id),name:((ve=me.user)==null?void 0:ve.user_name)||"  ",category:((de=me.art)==null?void 0:de.art_title)||" ",date:me.create_dtm?new Date(me.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=me.user)==null?void 0:ae.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((ue=me.art)==null?void 0:ue.art_title)||"  ",type:"art"}})];n(ge)}catch(G){p(G.message),console.error(" :",G),n([])}finally{s(!1),l(!1)}else try{s(!0),await b(m,$)}finally{l(!1)}},{searchValue:M,handleSearchChange:P,clearSearch:K}=useDebounceSearch({onSearch:k,onEmptySearch:()=>R(m),onClearSearch:async()=>{m==="all"?await R("all"):await b(m,"")},minLength:2,delay:500});return reactExports$1.useEffect(()=>{R("all")},[]),{interestedUserList:_,setInterestedUserList:n,searchQuery:M,isLoading:r,isSearching:o,error:c,activeTab:m,loadInterestedUsers:b,handleSearchChange:P,clearSearch:K,handleTabChange:R}}const contentContainer$1="_contentContainer_m513q_3",countAndButtonContainer="_countAndButtonContainer_m513q_27",loadingContainer="_loadingContainer_m513q_45",errorContainer="_errorContainer_m513q_65",errorMessage$1="_errorMessage_m513q_79",styles$t={contentContainer:contentContainer$1,countAndButtonContainer,loadingContainer,errorContainer,errorMessage:errorMessage$1};function InterestedUserManagement(){const{showAlert:t}=useAlert(),[n,r]=reactExports$1.useState(!1),[s,o]=reactExports$1.useState(!1),[l,c]=reactExports$1.useState(null),{selectedUserList:p,handleUserSelect:m,handleSelectAll:x,clearSelection:b,isAllSelected:_}=useUserSelection(),{interestedUserList:R,searchQuery:k,isLoading:M,isSearching:P,error:K,activeTab:$,handleSearchChange:G,handleTabChange:H}=useInterestedUser(),j=async(Y,X)=>{var te,se;if(!(!p||p.length===0))try{o(!0),c(null);const pe=localStorage.getItem("ACCESS_TOKEN"),ge=p.map(Ee=>{const ve=R.find(de=>String(de.id)===String(Ee));return(ve==null?void 0:ve.userId)??null}).filter(Ee=>Ee!==null);if(ge.length===0){t("  ID   .");return}const me=await userInstance.post("/api/notification/send",{userIds:ge,title:Y,message:X},{headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"}});t(`${ge.length}    .`),r(!1),b()}catch(pe){console.error("  :",pe);const ge=((se=(te=pe==null?void 0:pe.response)==null?void 0:te.data)==null?void 0:se.message)||pe.message||"    .";c(ge),t(`  .
${ge}`,"error")}finally{o(!1)}},W=Y=>{H(Y,k)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$t.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:k,onChange:G,placeholder:", , ,  ",isInput:!0}),jsxRuntimeExports.jsxs("div",{className:styles$t.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:R.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:" ",onButtonClick:()=>r(!0),disabled:p.length===0||s})]}),l&&jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:["    : ",l]}),M||P?jsxRuntimeExports.jsx("div",{className:styles$t.loadingContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):K?jsxRuntimeExports.jsx("div",{className:styles$t.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:[" : ",K]})}):jsxRuntimeExports.jsx(Table,{interestedUserList:R,selectedUserList:p,onUserSelect:m,onSelectAll:x,isAllSelected:_,activeTab:$,onTabChange:W})]}),jsxRuntimeExports.jsx(AlarmModal,{isOpen:n,onClose:()=>r(!1),selectedUsersCount:p.length,onSendAlarm:j,isSending:s})]})}function useDeleteItem(){const{showAlert:t}=useAlert(),{user:n}=useUser(),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState([]),[m,x]=reactExports$1.useState(!1),[b,_]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState(null),M=reactExports$1.useCallback(async(G="")=>{var H,j,W;try{x(!0),G.trim()&&_(!0);const Y=new URLSearchParams;G&&Y.append("search",G),Y.append("is_console",!0);const X=`/api/galleries${Y.toString()?`?${Y.toString()}`:""}`,te=await userInstance.get(X),se=Array.isArray(te.data)?te.data.map(pe=>({id:pe.id,name:pe.gallery_name,address:pe.gallery_address,closedDay:pe.gallery_closed_day,time:`${pe.gallery_start_time} - ${pe.gallery_end_time}`,registered:pe.exhibitions?pe.exhibitions.length:0,liked:pe.like_count,image:pe.gallery_image})):[];s(se)}catch(Y){k(Y.message),console.error("   :",Y),console.error(" :",(H=Y.response)==null?void 0:H.data),console.error(" :",(j=Y.response)==null?void 0:j.status),console.error(" :",(W=Y.response)==null?void 0:W.headers),s([])}finally{x(!1),_(!1)}},[]),P=reactExports$1.useCallback(async(G="")=>{try{x(!0);const H=new URLSearchParams;G&&G!==" "&&H.append("gallery_name",G);const j=`/api/exhibitions${H.toString()?`?${H.toString()}`:""}`,W=await userInstance.get(j),Y=r.map(te=>te.id),X=Array.isArray(W.data)?W.data.filter(te=>Y.includes(te.gallery_id)).map(te=>{var se,pe;return{id:te.id,title:te.exhibition_title,period:`${te.exhibition_start_date} - ${te.exhibition_end_date}`,image:te.exhibition_poster||null,gallery_name:((se=te.exhibition_organization)==null?void 0:se.name)||"  ",gallery_id:te.gallery_id||null,value:((pe=te.exhibition_organization)==null?void 0:pe.name)||"  "}}):[];l(X)}catch(H){k(H.message),console.error("   :",H),l([])}finally{x(!1)}},[r]),K=reactExports$1.useCallback(async(G="")=>{try{x(!0);const H=new URLSearchParams;G&&G!==" "&&H.append("exhibition_title",G);const j=`/api/arts${H.toString()?`?${H.toString()}`:""}`,W=await userInstance.get(j),Y=Array.isArray(W.data)?W.data.map(X=>{var se,pe;const te=X.exhibitions&&X.exhibitions.length>0?X.exhibitions[0]:null;return{id:X.id,title:X.art_title||X.title,artist:((se=X.artist)==null?void 0:se.artist_name)||X.artist_name||"  ",image:X.art_image||X.image_url||X.image,gallery_name:((pe=te==null?void 0:te.gallery)==null?void 0:pe.gallery_name)||"",exhibition_title:(te==null?void 0:te.exhibition_title)||""}}):[];p(Y)}catch(H){k(H.message),console.error("   :",H),p([])}finally{x(!1)}},[]);return reactExports$1.useEffect(()=>{n!=null&&n.id&&M()},[n==null?void 0:n.id]),reactExports$1.useEffect(()=>{r.length>0&&P(" ")},[r.length]),reactExports$1.useEffect(()=>{o.length>0&&K(" ")},[o.length]),{galleryList:r,exhibitionList:o,artworkList:c,handleDelete:async(G,H)=>{try{H==="gallery"?(s(W=>W.filter(Y=>Y.id!==G)),await userInstance.delete(`/api/galleries/${G}`)):H==="exhibition"?(l(W=>W.filter(Y=>Y.id!==G)),await userInstance.delete(`/api/exhibitions/${G}`)):H==="artwork"&&p(W=>W.filter(Y=>Y.id!==G));let j;if(H==="gallery"?j=await userInstance.delete(`/api/galleries/${G}`):H==="exhibition"?j=await userInstance.delete(`/api/exhibitions/${G}`):H==="artwork"&&(j=await userInstance.delete(`/api/arts/${G}`)),typeof j.data=="string"&&(j.data.includes("Fatal error")||j.data.includes("Integrity constraint violation")))throw new Error("FOREIGN_KEY_ERROR");t(`${H==="gallery"?"":H==="exhibition"?"":""}  .`)}catch(j){console.error(" :",j),j.message==="FOREIGN_KEY_ERROR"?t(`${H==="gallery"?"":H==="exhibition"?"":" "}   .
 ${H==="gallery"?"":""}   (${H==="gallery"?"":", "} )  .`,"error"):t("   .  .","error"),H==="gallery"?M():H==="exhibition"?P(" "):H==="artwork"&&K("")}},loadGalleries:M,loadExhibitions:P,loadArtworks:K,isLoading:m,isSearching:b,error:R}}const layout$b="_layout_1pq3h_3",tabSection="_tabSection_1pq3h_19",content$3="_content_1pq3h_39",styles$s={layout:layout$b,tabSection,content:content$3};function ConsoleMain({defaultTab:t="",defaultGallery:n=" "}){const{showAlert:r}=useAlert(),s=useLocation(),o=useNavigate(),[l,c]=reactExports$1.useState(t),[p,m]=reactExports$1.useState(null),[x,b]=reactExports$1.useState(null);reactExports$1.useEffect(()=>{var X;(X=s.state)!=null&&X.activeTab&&c(s.state.activeTab)},[s.state]);const _=X=>{c(X),X===""?b(null):m(null)},R=["","","",""],{galleryList:k,exhibitionList:M,artworkList:P,handleDelete:K,loadGalleries:$,loadExhibitions:G,loadArtworks:H,isLoading:j,isSearching:W,error:Y}=useDeleteItem();return reactExports$1.useEffect(()=>{Y&&(r(" .   ."),o("/login",{replace:!0}))},[Y,o]),jsxRuntimeExports.jsxs("div",{className:styles$s.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$s.tabSection,children:jsxRuntimeExports.jsx(ActionBar,{tabList:R,activeTab:l,onTabChange:_})}),jsxRuntimeExports.jsx("div",{className:styles$s.content,children:!Y&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[l===""&&jsxRuntimeExports.jsx(GalleryManagement,{galleryList:k,onDelete:K,loadGalleries:$,isLoading:j,isSearching:W,error:Y}),l===""&&jsxRuntimeExports.jsx(ExhibitionManagement,{exhibitionList:M,selectedGallery:p,onGalleryChange:m,onDelete:K,loadExhibitions:G,isLoading:j,error:Y,galleryList:k}),l===""&&jsxRuntimeExports.jsx(ArtworkManagement,{artworkList:P,selectedExhibition:x,onExhibitionChange:b,onDelete:K,loadArtworks:H,loadExhibitions:G,isLoading:j,error:Y,galleryList:k,exhibitionList:M},l),l===""&&jsxRuntimeExports.jsx(InterestedUserManagement,{})]})})]})}function LayoutConsole(){const{user:t,isLoading:n}=useUser();return n?jsxRuntimeExports.jsx("div",{children:" ..."}):t?t.admin_flag===1?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{flex:1},children:jsxRuntimeExports.jsx(Outlet,{})})]}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}const layout$a="_layout_7bq4q_1",header$8="_header_7bq4q_9",title$8="_title_7bq4q_35",backButton$7="_backButton_7bq4q_45",content$2="_content_7bq4q_63",adminTabNav="_adminTabNav_7bq4q_77",adminTabButton="_adminTabButton_7bq4q_103",addButton="_addButton_7bq4q_193",styles$r={layout:layout$a,header:header$8,title:title$8,backButton:backButton$7,content:content$2,adminTabNav,adminTabButton,addButton};var lib={},ErrorCorrectLevel,hasRequiredErrorCorrectLevel;function requireErrorCorrectLevel(){return hasRequiredErrorCorrectLevel||(hasRequiredErrorCorrectLevel=1,ErrorCorrectLevel={L:1,M:0,Q:3,H:2}),ErrorCorrectLevel}var mode,hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,mode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),mode}var _8BitByte,hasRequired_8BitByte;function require_8BitByte(){if(hasRequired_8BitByte)return _8BitByte;hasRequired_8BitByte=1;var t=requireMode();function n(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return n.prototype={getLength:function(r){return this.data.length},write:function(r){for(var s=0;s<this.data.length;s++)r.put(this.data.charCodeAt(s),8)}},_8BitByte=n,_8BitByte}var RSBlock,hasRequiredRSBlock;function requireRSBlock(){if(hasRequiredRSBlock)return RSBlock;hasRequiredRSBlock=1;var t=requireErrorCorrectLevel();function n(r,s){this.totalCount=r,this.dataCount=s}return n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(r,s){var o=n.getRsBlockTable(r,s);if(o==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+s);for(var l=o.length/3,c=new Array,p=0;p<l;p++)for(var m=o[p*3+0],x=o[p*3+1],b=o[p*3+2],_=0;_<m;_++)c.push(new n(x,b));return c},n.getRsBlockTable=function(r,s){switch(s){case t.L:return n.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return n.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return n.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return n.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},RSBlock=n,RSBlock}var BitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return BitBuffer;hasRequiredBitBuffer=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(n){var r=Math.floor(n/8);return(this.buffer[r]>>>7-n%8&1)==1},put:function(n,r){for(var s=0;s<r;s++)this.putBit((n>>>r-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),n&&(this.buffer[r]|=128>>>this.length%8),this.length++}},BitBuffer=t,BitBuffer}var math,hasRequiredMath;function requireMath(){if(hasRequiredMath)return math;hasRequiredMath=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(var n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;return math=t,math}var Polynomial,hasRequiredPolynomial;function requirePolynomial(){if(hasRequiredPolynomial)return Polynomial;hasRequiredPolynomial=1;var t=requireMath();function n(r,s){if(r.length==null)throw new Error(r.length+"/"+s);for(var o=0;o<r.length&&r[o]==0;)o++;this.num=new Array(r.length-o+s);for(var l=0;l<r.length-o;l++)this.num[l]=r[l+o]}return n.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var s=new Array(this.getLength()+r.getLength()-1),o=0;o<this.getLength();o++)for(var l=0;l<r.getLength();l++)s[o+l]^=t.gexp(t.glog(this.get(o))+t.glog(r.get(l)));return new n(s,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var s=t.glog(this.get(0))-t.glog(r.get(0)),o=new Array(this.getLength()),l=0;l<this.getLength();l++)o[l]=this.get(l);for(var l=0;l<r.getLength();l++)o[l]^=t.gexp(t.glog(r.get(l))+s);return new n(o,0).mod(r)}},Polynomial=n,Polynomial}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var t=requireMode(),n=requirePolynomial(),r=requireMath(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;o.getBCHDigit(c)-o.getBCHDigit(o.G15)>=0;)c^=o.G15<<o.getBCHDigit(c)-o.getBCHDigit(o.G15);return(l<<10|c)^o.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;o.getBCHDigit(c)-o.getBCHDigit(o.G18)>=0;)c^=o.G18<<o.getBCHDigit(c)-o.getBCHDigit(o.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return o.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,p){switch(l){case s.PATTERN000:return(c+p)%2==0;case s.PATTERN001:return c%2==0;case s.PATTERN010:return p%3==0;case s.PATTERN011:return(c+p)%3==0;case s.PATTERN100:return(Math.floor(c/2)+Math.floor(p/3))%2==0;case s.PATTERN101:return c*p%2+c*p%3==0;case s.PATTERN110:return(c*p%2+c*p%3)%2==0;case s.PATTERN111:return(c*p%3+(c+p)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new n([1],0),p=0;p<l;p++)c=c.multiply(new n([1,r.gexp(p)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(c<41)switch(l){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+c)},getLostPoint:function(l){for(var c=l.getModuleCount(),p=0,m=0;m<c;m++)for(var x=0;x<c;x++){for(var b=0,_=l.isDark(m,x),R=-1;R<=1;R++)if(!(m+R<0||c<=m+R))for(var k=-1;k<=1;k++)x+k<0||c<=x+k||R==0&&k==0||_==l.isDark(m+R,x+k)&&b++;b>5&&(p+=3+b-5)}for(var m=0;m<c-1;m++)for(var x=0;x<c-1;x++){var M=0;l.isDark(m,x)&&M++,l.isDark(m+1,x)&&M++,l.isDark(m,x+1)&&M++,l.isDark(m+1,x+1)&&M++,(M==0||M==4)&&(p+=3)}for(var m=0;m<c;m++)for(var x=0;x<c-6;x++)l.isDark(m,x)&&!l.isDark(m,x+1)&&l.isDark(m,x+2)&&l.isDark(m,x+3)&&l.isDark(m,x+4)&&!l.isDark(m,x+5)&&l.isDark(m,x+6)&&(p+=40);for(var x=0;x<c;x++)for(var m=0;m<c-6;m++)l.isDark(m,x)&&!l.isDark(m+1,x)&&l.isDark(m+2,x)&&l.isDark(m+3,x)&&l.isDark(m+4,x)&&!l.isDark(m+5,x)&&l.isDark(m+6,x)&&(p+=40);for(var P=0,x=0;x<c;x++)for(var m=0;m<c;m++)l.isDark(m,x)&&P++;var K=Math.abs(100*P/c/c-50)/5;return p+=K*10,p}};return util=o,util}var QRCode_1,hasRequiredQRCode;function requireQRCode(){if(hasRequiredQRCode)return QRCode_1;hasRequiredQRCode=1;var t=require_8BitByte(),n=requireRSBlock(),r=requireBitBuffer(),s=requireUtil(),o=requirePolynomial();function l(p,m){this.typeNumber=p,this.errorCorrectLevel=m,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;return c.addData=function(p){var m=new t(p);this.dataList.push(m),this.dataCache=null},c.isDark=function(p,m){if(p<0||this.moduleCount<=p||m<0||this.moduleCount<=m)throw new Error(p+","+m);return this.modules[p][m]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var p=1;for(p=1;p<40;p++){for(var m=n.getRSBlocks(p,this.errorCorrectLevel),x=new r,b=0,_=0;_<m.length;_++)b+=m[_].dataCount;for(var _=0;_<this.dataList.length;_++){var R=this.dataList[_];x.put(R.mode,4),x.put(R.getLength(),s.getLengthInBits(R.mode,p)),R.write(x)}if(x.getLengthInBits()<=b*8)break}this.typeNumber=p}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(p,m){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var x=0;x<this.moduleCount;x++){this.modules[x]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[x][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(p,m),this.typeNumber>=7&&this.setupTypeNumber(p),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,m)},c.setupPositionProbePattern=function(p,m){for(var x=-1;x<=7;x++)if(!(p+x<=-1||this.moduleCount<=p+x))for(var b=-1;b<=7;b++)m+b<=-1||this.moduleCount<=m+b||(0<=x&&x<=6&&(b==0||b==6)||0<=b&&b<=6&&(x==0||x==6)||2<=x&&x<=4&&2<=b&&b<=4?this.modules[p+x][m+b]=!0:this.modules[p+x][m+b]=!1)},c.getBestMaskPattern=function(){for(var p=0,m=0,x=0;x<8;x++){this.makeImpl(!0,x);var b=s.getLostPoint(this);(x==0||p>b)&&(p=b,m=x)}return m},c.createMovieClip=function(p,m,x){var b=p.createEmptyMovieClip(m,x),_=1;this.make();for(var R=0;R<this.modules.length;R++)for(var k=R*_,M=0;M<this.modules[R].length;M++){var P=M*_,K=this.modules[R][M];K&&(b.beginFill(0,100),b.moveTo(P,k),b.lineTo(P+_,k),b.lineTo(P+_,k+_),b.lineTo(P,k+_),b.endFill())}return b},c.setupTimingPattern=function(){for(var p=8;p<this.moduleCount-8;p++)this.modules[p][6]==null&&(this.modules[p][6]=p%2==0);for(var m=8;m<this.moduleCount-8;m++)this.modules[6][m]==null&&(this.modules[6][m]=m%2==0)},c.setupPositionAdjustPattern=function(){for(var p=s.getPatternPosition(this.typeNumber),m=0;m<p.length;m++)for(var x=0;x<p.length;x++){var b=p[m],_=p[x];if(this.modules[b][_]==null)for(var R=-2;R<=2;R++)for(var k=-2;k<=2;k++)R==-2||R==2||k==-2||k==2||R==0&&k==0?this.modules[b+R][_+k]=!0:this.modules[b+R][_+k]=!1}},c.setupTypeNumber=function(p){for(var m=s.getBCHTypeNumber(this.typeNumber),x=0;x<18;x++){var b=!p&&(m>>x&1)==1;this.modules[Math.floor(x/3)][x%3+this.moduleCount-8-3]=b}for(var x=0;x<18;x++){var b=!p&&(m>>x&1)==1;this.modules[x%3+this.moduleCount-8-3][Math.floor(x/3)]=b}},c.setupTypeInfo=function(p,m){for(var x=this.errorCorrectLevel<<3|m,b=s.getBCHTypeInfo(x),_=0;_<15;_++){var R=!p&&(b>>_&1)==1;_<6?this.modules[_][8]=R:_<8?this.modules[_+1][8]=R:this.modules[this.moduleCount-15+_][8]=R}for(var _=0;_<15;_++){var R=!p&&(b>>_&1)==1;_<8?this.modules[8][this.moduleCount-_-1]=R:_<9?this.modules[8][15-_-1+1]=R:this.modules[8][15-_-1]=R}this.modules[this.moduleCount-8][8]=!p},c.mapData=function(p,m){for(var x=-1,b=this.moduleCount-1,_=7,R=0,k=this.moduleCount-1;k>0;k-=2)for(k==6&&k--;;){for(var M=0;M<2;M++)if(this.modules[b][k-M]==null){var P=!1;R<p.length&&(P=(p[R]>>>_&1)==1);var K=s.getMask(m,b,k-M);K&&(P=!P),this.modules[b][k-M]=P,_--,_==-1&&(R++,_=7)}if(b+=x,b<0||this.moduleCount<=b){b-=x,x=-x;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(p,m,x){for(var b=n.getRSBlocks(p,m),_=new r,R=0;R<x.length;R++){var k=x[R];_.put(k.mode,4),_.put(k.getLength(),s.getLengthInBits(k.mode,p)),k.write(_)}for(var M=0,R=0;R<b.length;R++)M+=b[R].dataCount;if(_.getLengthInBits()>M*8)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+M*8+")");for(_.getLengthInBits()+4<=M*8&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=M*8||(_.put(l.PAD0,8),_.getLengthInBits()>=M*8));)_.put(l.PAD1,8);return l.createBytes(_,b)},l.createBytes=function(p,m){for(var x=0,b=0,_=0,R=new Array(m.length),k=new Array(m.length),M=0;M<m.length;M++){var P=m[M].dataCount,K=m[M].totalCount-P;b=Math.max(b,P),_=Math.max(_,K),R[M]=new Array(P);for(var $=0;$<R[M].length;$++)R[M][$]=255&p.buffer[$+x];x+=P;var G=s.getErrorCorrectPolynomial(K),H=new o(R[M],G.getLength()-1),j=H.mod(G);k[M]=new Array(G.getLength()-1);for(var $=0;$<k[M].length;$++){var W=$+j.getLength()-k[M].length;k[M][$]=W>=0?j.get(W):0}}for(var Y=0,$=0;$<m.length;$++)Y+=m[$].totalCount;for(var X=new Array(Y),te=0,$=0;$<b;$++)for(var M=0;M<m.length;M++)$<R[M].length&&(X[te++]=R[M][$]);for(var $=0;$<_;$++)for(var M=0;M<m.length;M++)$<k[M].length&&(X[te++]=k[M][$]);return X},QRCode_1=l,QRCode_1}var QRCodeSvg={},hasRequiredQRCodeSvg;function requireQRCodeSvg(){if(hasRequiredQRCodeSvg)return QRCodeSvg;hasRequiredQRCodeSvg=1,Object.defineProperty(QRCodeSvg,"__esModule",{value:!0});var t=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var _=arguments[b];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(x[R]=_[R])}return x},n=requirePropTypes(),r=l(n),s=requireReact$1(),o=l(s);function l(x){return x&&x.__esModule?x:{default:x}}function c(x,b){var _={};for(var R in x)b.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(x,R)&&(_[R]=x[R]);return _}var p={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},m=(0,s.forwardRef)(function(x,b){var _=x.bgColor,R=x.bgD,k=x.fgD,M=x.fgColor,P=x.size,K=x.title,$=x.viewBoxSize,G=x.xmlns,H=G===void 0?"http://www.w3.org/2000/svg":G,j=c(x,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",t({},j,{height:P,ref:b,viewBox:"0 0 "+$+" "+$,width:P,xmlns:H}),K?o.default.createElement("title",null,K):null,o.default.createElement("path",{d:R,fill:_}),o.default.createElement("path",{d:k,fill:M}))});return m.displayName="QRCodeSvg",m.propTypes=p,QRCodeSvg.default=m,QRCodeSvg}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.QRCode=void 0;var t=Object.assign||function(P){for(var K=1;K<arguments.length;K++){var $=arguments[K];for(var G in $)Object.prototype.hasOwnProperty.call($,G)&&(P[G]=$[G])}return P},n=requirePropTypes(),r=_(n),s=requireErrorCorrectLevel(),o=_(s),l=requireQRCode(),c=_(l),p=requireReact$1(),m=_(p),x=requireQRCodeSvg(),b=_(x);function _(P){return P&&P.__esModule?P:{default:P}}function R(P,K){var $={};for(var G in P)K.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(P,G)&&($[G]=P[G]);return $}var k={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},M=(0,p.forwardRef)(function(P,K){var $=P.bgColor,G=$===void 0?"#FFFFFF":$,H=P.fgColor,j=H===void 0?"#000000":H,W=P.level,Y=W===void 0?"L":W,X=P.size,te=X===void 0?256:X,se=P.value,pe=R(P,["bgColor","fgColor","level","size","value"]),ge=new c.default(-1,o.default[Y]);ge.addData(se),ge.make();var me=ge.modules;return m.default.createElement(b.default,t({},pe,{bgColor:G,bgD:me.map(function(Ee,ve){return Ee.map(function(de,ae){return de?"":"M "+ae+" "+ve+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:j,fgD:me.map(function(Ee,ve){return Ee.map(function(de,ae){return de?"M "+ae+" "+ve+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:K,size:te,viewBoxSize:me.length}))});return lib.QRCode=M,M.displayName="QRCode",M.propTypes=k,lib.default=M,lib}var libExports=requireLib();const QRCode=getDefaultExportFromCjs(libExports);function resolveUrl(t,n){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),s=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(s),r.body.appendChild(o),n&&(s.href=n),o.href=t,o.href}const uuid=(()=>{let t=0;const n=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${n()}${t}`)})();function toArray(t){const n=[];for(let r=0,s=t.length;r<s;r++)n.push(t[r]);return n}let styleProps=null;function getStyleProperties(t={}){return styleProps||(t.includeStyleProperties?(styleProps=t.includeStyleProperties,styleProps):(styleProps=toArray(window.getComputedStyle(document.documentElement)),styleProps))}function px(t,n){const s=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(n);return s?parseFloat(s.replace("px","")):0}function getNodeWidth(t){const n=px(t,"border-left-width"),r=px(t,"border-right-width");return t.clientWidth+n+r}function getNodeHeight(t){const n=px(t,"border-top-width"),r=px(t,"border-bottom-width");return t.clientHeight+n+r}function getImageSize(t,n={}){const r=n.width||getNodeWidth(t),s=n.height||getNodeHeight(t);return{width:r,height:s}}function getPixelRatio(){let t,n;try{n=process}catch{}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(t){(t.width>canvasDimensionLimit||t.height>canvasDimensionLimit)&&(t.width>canvasDimensionLimit&&t.height>canvasDimensionLimit?t.width>t.height?(t.height*=canvasDimensionLimit/t.width,t.width=canvasDimensionLimit):(t.width*=canvasDimensionLimit/t.height,t.height=canvasDimensionLimit):t.width>canvasDimensionLimit?(t.height*=canvasDimensionLimit/t.width,t.width=canvasDimensionLimit):(t.width*=canvasDimensionLimit/t.height,t.height=canvasDimensionLimit))}function createImage(t){return new Promise((n,r)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>n(s))})},s.onerror=r,s.crossOrigin="anonymous",s.decoding="async",s.src=t})}async function svgToDataURL(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)}async function nodeToDataURL(t,n,r){const s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${n}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${n} ${r}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),o.appendChild(l),l.appendChild(t),svgToDataURL(o)}const isInstanceOfElement=(t,n)=>{if(t instanceof n)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===n.name||isInstanceOfElement(r,n)};function formatCSSText(t){const n=t.getPropertyValue("content");return`${t.cssText} content: '${n.replace(/'|"/g,"")}';`}function formatCSSProperties(t,n){return getStyleProperties(n).map(r=>{const s=t.getPropertyValue(r),o=t.getPropertyPriority(r);return`${r}: ${s}${o?" !important":""};`}).join(" ")}function getPseudoElementStyle(t,n,r,s){const o=`.${t}:${n}`,l=r.cssText?formatCSSText(r):formatCSSProperties(r,s);return document.createTextNode(`${o}{${l}}`)}function clonePseudoElement(t,n,r,s){const o=window.getComputedStyle(t,r),l=o.getPropertyValue("content");if(l===""||l==="none")return;const c=uuid();try{n.className=`${n.className} ${c}`}catch{return}const p=document.createElement("style");p.appendChild(getPseudoElementStyle(c,r,o,s)),n.appendChild(p)}function clonePseudoElements(t,n,r){clonePseudoElement(t,n,":before",r),clonePseudoElement(t,n,":after",r)}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(t){const n=/\.([^./]*?)$/g.exec(t);return n?n[1]:""}function getMimeType(t){const n=getExtension(t).toLowerCase();return mimes[n]||""}function getContentFromDataUrl(t){return t.split(/,/)[1]}function isDataUrl(t){return t.search(/^(data:)/)!==-1}function makeDataUrl(t,n){return`data:${n};base64,${t}`}async function fetchAsDataURL(t,n,r){const s=await fetch(t,n);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const o=await s.blob();return new Promise((l,c)=>{const p=new FileReader;p.onerror=c,p.onloadend=()=>{try{l(r({res:s,result:p.result}))}catch(m){c(m)}},p.readAsDataURL(o)})}const cache={};function getCacheKey(t,n,r){let s=t.replace(/\?.*/,"");return r&&(s=t),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),n?`[${n}]${s}`:s}async function resourceToDataURL(t,n,r){const s=getCacheKey(t,n,r.includeQueryParams);if(cache[s]!=null)return cache[s];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let o;try{const l=await fetchAsDataURL(t,r.fetchRequestInit,({res:c,result:p})=>(n||(n=c.headers.get("Content-Type")||""),getContentFromDataUrl(p)));o=makeDataUrl(l,n)}catch(l){o=r.imagePlaceholder||"";let c=`Failed to fetch resource: ${t}`;l&&(c=typeof l=="string"?l:l.message),c&&console.warn(c)}return cache[s]=o,o}async function cloneCanvasElement(t){const n=t.toDataURL();return n==="data:,"?t.cloneNode(!1):createImage(n)}async function cloneVideoElement(t,n){if(t.currentSrc){const l=document.createElement("canvas"),c=l.getContext("2d");l.width=t.clientWidth,l.height=t.clientHeight,c==null||c.drawImage(t,0,0,l.width,l.height);const p=l.toDataURL();return createImage(p)}const r=t.poster,s=getMimeType(r),o=await resourceToDataURL(r,s,n);return createImage(o)}async function cloneIFrameElement(t,n){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await cloneNode(t.contentDocument.body,n,!0)}catch{}return t.cloneNode(!1)}async function cloneSingleNode(t,n){return isInstanceOfElement(t,HTMLCanvasElement)?cloneCanvasElement(t):isInstanceOfElement(t,HTMLVideoElement)?cloneVideoElement(t,n):isInstanceOfElement(t,HTMLIFrameElement)?cloneIFrameElement(t,n):t.cloneNode(isSVGElement$1(t))}const isSlotElement$1=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",isSVGElement$1=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function cloneChildren(t,n,r){var s,o;if(isSVGElement$1(n))return n;let l=[];return isSlotElement$1(t)&&t.assignedNodes?l=toArray(t.assignedNodes()):isInstanceOfElement(t,HTMLIFrameElement)&&(!((s=t.contentDocument)===null||s===void 0)&&s.body)?l=toArray(t.contentDocument.body.childNodes):l=toArray(((o=t.shadowRoot)!==null&&o!==void 0?o:t).childNodes),l.length===0||isInstanceOfElement(t,HTMLVideoElement)||await l.reduce((c,p)=>c.then(()=>cloneNode(p,r)).then(m=>{m&&n.appendChild(m)}),Promise.resolve()),n}function cloneCSSStyle(t,n,r){const s=n.style;if(!s)return;const o=window.getComputedStyle(t);o.cssText?(s.cssText=o.cssText,s.transformOrigin=o.transformOrigin):getStyleProperties(r).forEach(l=>{let c=o.getPropertyValue(l);l==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),isInstanceOfElement(t,HTMLIFrameElement)&&l==="display"&&c==="inline"&&(c="block"),l==="d"&&n.getAttribute("d")&&(c=`path(${n.getAttribute("d")})`),s.setProperty(l,c,o.getPropertyPriority(l))})}function cloneInputValue(t,n){isInstanceOfElement(t,HTMLTextAreaElement)&&(n.innerHTML=t.value),isInstanceOfElement(t,HTMLInputElement)&&n.setAttribute("value",t.value)}function cloneSelectValue(t,n){if(isInstanceOfElement(t,HTMLSelectElement)){const s=Array.from(n.children).find(o=>t.value===o.getAttribute("value"));s&&s.setAttribute("selected","")}}function decorate(t,n,r){return isInstanceOfElement(n,Element)&&(cloneCSSStyle(t,n,r),clonePseudoElements(t,n,r),cloneInputValue(t,n),cloneSelectValue(t,n)),n}async function ensureSVGSymbols(t,n){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const s={};for(let l=0;l<r.length;l++){const p=r[l].getAttribute("xlink:href");if(p){const m=t.querySelector(p),x=document.querySelector(p);!m&&x&&!s[p]&&(s[p]=await cloneNode(x,n,!0))}}const o=Object.values(s);if(o.length){const l="http://www.w3.org/1999/xhtml",c=document.createElementNS(l,"svg");c.setAttribute("xmlns",l),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const p=document.createElementNS(l,"defs");c.appendChild(p);for(let m=0;m<o.length;m++)p.appendChild(o[m]);t.appendChild(c)}return t}async function cloneNode(t,n,r){return!r&&n.filter&&!n.filter(t)?null:Promise.resolve(t).then(s=>cloneSingleNode(s,n)).then(s=>cloneChildren(t,s,n)).then(s=>decorate(t,s,n)).then(s=>ensureSVGSymbols(s,n))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(t){const n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}function parseURLs(t){const n=[];return t.replace(URL_REGEX,(r,s,o)=>(n.push(o),r)),n.filter(r=>!isDataUrl(r))}async function embed(t,n,r,s,o){try{const l=r?resolveUrl(n,r):n,c=getMimeType(n);let p;return o||(p=await resourceToDataURL(l,c,s)),t.replace(toRegex(n),`$1${p}$3`)}catch{}return t}function filterPreferredFontFormat(t,{preferredFontFormat:n}){return n?t.replace(FONT_SRC_REGEX,r=>{for(;;){const[s,,o]=URL_WITH_FORMAT_REGEX.exec(r)||[];if(!o)return"";if(o===n)return`src: ${s};`}}):t}function shouldEmbed(t){return t.search(URL_REGEX)!==-1}async function embedResources(t,n,r){if(!shouldEmbed(t))return t;const s=filterPreferredFontFormat(t,r);return parseURLs(s).reduce((l,c)=>l.then(p=>embed(p,c,n,r)),Promise.resolve(s))}async function embedProp(t,n,r){var s;const o=(s=n.style)===null||s===void 0?void 0:s.getPropertyValue(t);if(o){const l=await embedResources(o,null,r);return n.style.setProperty(t,l,n.style.getPropertyPriority(t)),!0}return!1}async function embedBackground(t,n){await embedProp("background",t,n)||await embedProp("background-image",t,n),await embedProp("mask",t,n)||await embedProp("-webkit-mask",t,n)||await embedProp("mask-image",t,n)||await embedProp("-webkit-mask-image",t,n)}async function embedImageNode(t,n){const r=isInstanceOfElement(t,HTMLImageElement);if(!(r&&!isDataUrl(t.src))&&!(isInstanceOfElement(t,SVGImageElement)&&!isDataUrl(t.href.baseVal)))return;const s=r?t.src:t.href.baseVal,o=await resourceToDataURL(s,getMimeType(s),n);await new Promise((l,c)=>{t.onload=l,t.onerror=n.onImageErrorHandler?(...m)=>{try{l(n.onImageErrorHandler(...m))}catch(x){c(x)}}:c;const p=t;p.decode&&(p.decode=l),p.loading==="lazy"&&(p.loading="eager"),r?(t.srcset="",t.src=o):t.href.baseVal=o})}async function embedChildren(t,n){const s=toArray(t.childNodes).map(o=>embedImages(o,n));await Promise.all(s).then(()=>t)}async function embedImages(t,n){isInstanceOfElement(t,Element)&&(await embedBackground(t,n),await embedImageNode(t,n),await embedChildren(t,n))}function applyStyle(t,n){const{style:r}=t;n.backgroundColor&&(r.backgroundColor=n.backgroundColor),n.width&&(r.width=`${n.width}px`),n.height&&(r.height=`${n.height}px`);const s=n.style;return s!=null&&Object.keys(s).forEach(o=>{r[o]=s[o]}),t}const cssFetchCache={};async function fetchCSS(t){let n=cssFetchCache[t];if(n!=null)return n;const s=await(await fetch(t)).text();return n={url:t,cssText:s},cssFetchCache[t]=n,n}async function embedFonts(t,n){let r=t.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,l=(r.match(/url\([^)]+\)/g)||[]).map(async c=>{let p=c.replace(s,"$1");return p.startsWith("https://")||(p=new URL(p,t.url).href),fetchAsDataURL(p,n.fetchRequestInit,({result:m})=>(r=r.replace(c,`url(${m})`),[c,m]))});return Promise.all(l).then(()=>r)}function parseCSS(t){if(t==null)return[];const n=[],r=/(\/\*[\s\S]*?\*\/)/gi;let s=t.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=o.exec(s);if(m===null)break;n.push(m[0])}s=s.replace(o,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",p=new RegExp(c,"gi");for(;;){let m=l.exec(s);if(m===null){if(m=p.exec(s),m===null)break;l.lastIndex=p.lastIndex}else p.lastIndex=l.lastIndex;n.push(m[0])}return n}async function getCSSRules(t,n){const r=[],s=[];return t.forEach(o=>{if("cssRules"in o)try{toArray(o.cssRules||[]).forEach((l,c)=>{if(l.type===CSSRule.IMPORT_RULE){let p=c+1;const m=l.href,x=fetchCSS(m).then(b=>embedFonts(b,n)).then(b=>parseCSS(b).forEach(_=>{try{o.insertRule(_,_.startsWith("@import")?p+=1:o.cssRules.length)}catch(R){console.error("Error inserting rule from remote css",{rule:_,error:R})}})).catch(b=>{console.error("Error loading remote css",b.toString())});s.push(x)}})}catch(l){const c=t.find(p=>p.href==null)||document.styleSheets[0];o.href!=null&&s.push(fetchCSS(o.href).then(p=>embedFonts(p,n)).then(p=>parseCSS(p).forEach(m=>{c.insertRule(m,c.cssRules.length)})).catch(p=>{console.error("Error loading remote stylesheet",p)})),console.error("Error inlining remote css file",l)}}),Promise.all(s).then(()=>(t.forEach(o=>{if("cssRules"in o)try{toArray(o.cssRules||[]).forEach(l=>{r.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${o.href}`,l)}}),r))}function getWebFontRules(t){return t.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>shouldEmbed(n.style.getPropertyValue("src")))}async function parseWebFontRules(t,n){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=toArray(t.ownerDocument.styleSheets),s=await getCSSRules(r,n);return getWebFontRules(s)}function normalizeFontFamily(t){return t.trim().replace(/["']/g,"")}function getUsedFonts(t){const n=new Set;function r(s){(s.style.fontFamily||getComputedStyle(s).fontFamily).split(",").forEach(l=>{n.add(normalizeFontFamily(l))}),Array.from(s.children).forEach(l=>{l instanceof HTMLElement&&r(l)})}return r(t),n}async function getWebFontCSS(t,n){const r=await parseWebFontRules(t,n),s=getUsedFonts(t);return(await Promise.all(r.filter(l=>s.has(normalizeFontFamily(l.style.fontFamily))).map(l=>{const c=l.parentStyleSheet?l.parentStyleSheet.href:null;return embedResources(l.cssText,c,n)}))).join(`
`)}async function embedWebFonts(t,n){const r=n.fontEmbedCSS!=null?n.fontEmbedCSS:n.skipFonts?null:await getWebFontCSS(t,n);if(r){const s=document.createElement("style"),o=document.createTextNode(r);s.appendChild(o),t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)}}async function toSvg(t,n={}){const{width:r,height:s}=getImageSize(t,n),o=await cloneNode(t,n,!0);return await embedWebFonts(o,n),await embedImages(o,n),applyStyle(o,n),await nodeToDataURL(o,r,s)}async function toCanvas(t,n={}){const{width:r,height:s}=getImageSize(t,n),o=await toSvg(t,n),l=await createImage(o),c=document.createElement("canvas"),p=c.getContext("2d"),m=n.pixelRatio||getPixelRatio(),x=n.canvasWidth||r,b=n.canvasHeight||s;return c.width=x*m,c.height=b*m,n.skipAutoScale||checkCanvasDimensions(c),c.style.width=`${x}`,c.style.height=`${b}`,n.backgroundColor&&(p.fillStyle=n.backgroundColor,p.fillRect(0,0,c.width,c.height)),p.drawImage(l,0,0,c.width,c.height),c}async function toPng(t,n={}){return(await toCanvas(t,n)).toDataURL()}const modalOverlay$1="_modalOverlay_1vmb9_1",modalContent="_modalContent_1vmb9_27",header$7="_header_1vmb9_43",title$7="_title_1vmb9_59",closeButton$1="_closeButton_1vmb9_71",body$2="_body_1vmb9_87",qrCodeWrapper="_qrCodeWrapper_1vmb9_139",downloadButton$1="_downloadButton_1vmb9_151",loadingState="_loadingState_1vmb9_201",noContentState="_noContentState_1vmb9_221",mainName="_mainName_1vmb9_241",subName="_subName_1vmb9_257",emptyMessage="_emptyMessage_1vmb9_273",qrDownloadArea="_qrDownloadArea_1vmb9_287",styles$q={modalOverlay:modalOverlay$1,modalContent,header:header$7,title:title$7,closeButton:closeButton$1,body:body$2,qrCodeWrapper,downloadButton:downloadButton$1,loadingState,noContentState,mainName,subName,emptyMessage,qrDownloadArea};function QrModal({data:t,onClose:n,type:r}){var $;const[s,o]=reactExports$1.useState(!0),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(""),{showAlert:x}=useAlert(),b=reactExports$1.useRef(null),_=r==="artworks",R=r==="exhibitions";let k="",M="",P="";t&&(_?(k=t.art_title,M=t.artist_name||t.art_medium||"",P=t.art_title||"artwork"):R?(k=t.exhibition_title,M=(($=t.gallery)==null?void 0:$.gallery_name)||t.gallery_name||"",P=t.exhibition_title||"exhibition"):(k=t.gallery_name,M=t.gallery_eng_name||"",P=t.gallery_name||"gallery")),reactExports$1.useEffect(()=>{(async()=>{if(t!=null&&t.id){o(!0);try{if(_){const H=`/art/${t.id}`;H?(c(!0),m(H)):c(!1)}else{const H=R?"exhibitionCategory":"galleryCategory",j=await userInstance.get("/api/leaflet",{params:{category:H,category_id:t.id}});if((Array.isArray(j.data)?j.data:[]).length>0){c(!0);const Y=`${window.location.origin}/view/leaflet/${r}/${t.id}`;m(Y),console.log(Y)}else c(!1)}}catch(H){console.error("  :",H),c(!1)}finally{o(!1)}}})()},[t,r,_,R]);const K=()=>{b.current!==null&&toPng(b.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(G=>{const H=document.createElement("a");H.download=`${P}-qr-code.png`,H.href=G,H.click()}).catch(G=>{console.error("  :",G),x("  .","error")})};return t?jsxRuntimeExports.jsx("div",{className:styles$q.modalOverlay,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:styles$q.modalContent,onClick:G=>G.stopPropagation(),children:[jsxRuntimeExports.jsxs("header",{className:styles$q.header,children:[jsxRuntimeExports.jsx("h2",{className:styles$q.title,children:_?"QR :  ":"QR : /"}),jsxRuntimeExports.jsx("button",{className:styles$q.closeButton,onClick:n,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$q.body,children:s?jsxRuntimeExports.jsx("div",{className:styles$q.loadingState,children:jsxRuntimeExports.jsx("p",{children:"  ..."})}):l?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:b,className:styles$q.qrDownloadArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$q.infoArea,children:[jsxRuntimeExports.jsx("p",{className:styles$q.mainName,children:k||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.subName,children:M})]}),jsxRuntimeExports.jsx("div",{className:styles$q.qrCodeWrapper,children:jsxRuntimeExports.jsx(QRCode,{value:p,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),jsxRuntimeExports.jsx("button",{className:styles$q.downloadButton,onClick:K,children:""})]}):jsxRuntimeExports.jsxs("div",{className:styles$q.noContentState,children:[jsxRuntimeExports.jsx("p",{className:styles$q.mainName,children:k||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.subName,children:M}),jsxRuntimeExports.jsx("div",{className:styles$q.emptyMessage,children:_?" (/) .":"   ."})]})})]})}):null}const layout$9="_layout_1ecnc_1",breadcrumb$2="_breadcrumb_1ecnc_21",breadcrumbBack$2="_breadcrumbBack_1ecnc_35",card$4="_card_1ecnc_45",titleSection$2="_titleSection_1ecnc_63",galleryTitle="_galleryTitle_1ecnc_73",gallerySubTitle="_gallerySubTitle_1ecnc_87",galleryImage="_galleryImage_1ecnc_99",btnLayout$2="_btnLayout_1ecnc_117",likeButton$1="_likeButton_1ecnc_131",icon$3="_icon_1ecnc_155",likedIcon$2="_likedIcon_1ecnc_163",containerLayout="_containerLayout_1ecnc_173",tagContainer="_tagContainer_1ecnc_185",tag="_tag_1ecnc_185",infoList$2="_infoList_1ecnc_221",infoRow$2="_infoRow_1ecnc_235",infoLabel$2="_infoLabel_1ecnc_245",infoContent$2="_infoContent_1ecnc_257",homepageButton$1="_homepageButton_1ecnc_277",descriptionParagraph$2="_descriptionParagraph_1ecnc_335",inlineSns="_inlineSns_1ecnc_381",snsLink="_snsLink_1ecnc_395",snsIcon="_snsIcon_1ecnc_405",instagram="_instagram_1ecnc_429",youtube="_youtube_1ecnc_437",twitter="_twitter_1ecnc_445",facebook="_facebook_1ecnc_453",emptyContent$5="_emptyContent_1ecnc_461",sectionTitle="_sectionTitle_1ecnc_475",backButton$6="_backButton_1ecnc_487",emptyInfo$2="_emptyInfo_1ecnc_521",styles$p={layout:layout$9,breadcrumb:breadcrumb$2,breadcrumbBack:breadcrumbBack$2,card:card$4,titleSection:titleSection$2,galleryTitle,gallerySubTitle,galleryImage,btnLayout:btnLayout$2,likeButton:likeButton$1,icon:icon$3,likedIcon:likedIcon$2,containerLayout,tagContainer,tag,infoList:infoList$2,infoRow:infoRow$2,infoLabel:infoLabel$2,infoContent:infoContent$2,homepageButton:homepageButton$1,descriptionParagraph:descriptionParagraph$2,inlineSns,snsLink,snsIcon,instagram,youtube,twitter,facebook,emptyContent:emptyContent$5,sectionTitle,backButton:backButton$6,emptyInfo:emptyInfo$2},exhibitionList="_exhibitionList_w9oxj_1",exhibitionCard="_exhibitionCard_w9oxj_17",imageContainer="_imageContainer_w9oxj_49",exhibitionImage="_exhibitionImage_w9oxj_63",statusTag="_statusTag_w9oxj_77",statusOn="_statusOn_w9oxj_101",statusScheduled="_statusScheduled_w9oxj_107",statusDone="_statusDone_w9oxj_113",statusDefault="_statusDefault_w9oxj_119",infoContainer="_infoContainer_w9oxj_127",title$6="_title_w9oxj_147",location$1="_location_w9oxj_165",date$1="_date_w9oxj_175",emptyContent$4="_emptyContent_w9oxj_185",styles$o={exhibitionList,exhibitionCard,imageContainer,exhibitionImage,statusTag,statusOn,statusScheduled,statusDone,statusDefault,infoContainer,title:title$6,location:location$1,date:date$1,emptyContent:emptyContent$4},STATUS_CONFIG={exhibited:{text:"",className:styles$o.statusOn},scheduled:{text:"",className:styles$o.statusScheduled},ended:{text:"",className:styles$o.statusDone},default:{text:"",className:styles$o.statusDefault}},BASE_URL$1="https://artly.soundgram.co.kr";function ExhibitionsCards({exhibitions:t}){const r=useLocation().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?jsxRuntimeExports.jsx("p",{className:styles$o.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$o.exhibitionList,children:t.map(({id:s,exhibition_poster:o,exhibition_title:l,exhibition_status:c,exhibition_location:p,exhibition_start_date:m,exhibition_end_date:x})=>{const b=STATUS_CONFIG[c]||STATUS_CONFIG.default,_=r?`/console/exhibitions/${s}`:`/exhibitions/${s}`,R=o&&!o.startsWith("http")?`${BASE_URL$1}/${o}`:o;return jsxRuntimeExports.jsxs(Link$1,{className:styles$o.exhibitionCard,to:_,children:[jsxRuntimeExports.jsxs("div",{className:styles$o.imageContainer,children:[jsxRuntimeExports.jsx(Img,{className:styles$o.exhibitionImage,src:R,alt:"  "}),jsxRuntimeExports.jsx("span",{className:`${styles$o.statusTag} ${b.className}`,children:b.text})]}),jsxRuntimeExports.jsxs("div",{className:styles$o.infoContainer,children:[jsxRuntimeExports.jsx("h4",{className:styles$o.title,children:l||" "}),jsxRuntimeExports.jsx("p",{className:styles$o.location,children:p||"  "}),jsxRuntimeExports.jsx("p",{className:styles$o.date,children:`${m||" "} ~ ${x||" "}`})]})]},s)})})}const artworkGrid$2="_artworkGrid_2xf7o_1",artworkCard$2="_artworkCard_2xf7o_45",artworkImage$1="_artworkImage_2xf7o_83",artworkInfo="_artworkInfo_2xf7o_97",title$5="_title_2xf7o_111",materials="_materials_2xf7o_123",emptyContent$3="_emptyContent_2xf7o_145",styles$n={artworkGrid:artworkGrid$2,artworkCard:artworkCard$2,artworkImage:artworkImage$1,artworkInfo,title:title$5,materials,emptyContent:emptyContent$3};function ArtworksCards({artworks:t}){const r=useLocation().pathname.includes("/console");return console.log(t),!t||t.length===0?jsxRuntimeExports.jsx("p",{className:styles$n.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$n.artworkGrid,children:t.map(({id:s,image_url:o,title:l,artist_name:c})=>{const p=r?`/console/artworks/${s}`:`/artworks/${s}`;return jsxRuntimeExports.jsxs(Link$1,{className:styles$n.artworkCard,to:p,children:[jsxRuntimeExports.jsx(Img,{className:styles$n.artworkImage,src:o,alt:l}),jsxRuntimeExports.jsxs("div",{className:styles$n.artworkInfo,children:[jsxRuntimeExports.jsx("h4",{className:styles$n.title,children:l}),jsxRuntimeExports.jsx("p",{className:styles$n.materials,children:c})]})]},s)})})}function GalleryDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{showAlert:s}=useAlert(),{galleryId:o}=useParams(),l=n||o,c=useNavigate(),{user:p}=useUser(),[m,x]=reactExports$1.useState(null),[b,_]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState(!1),[M,P]=reactExports$1.useState("info"),[K,$]=reactExports$1.useState(!1),G=async()=>{if(l)try{const at=await userInstance.get(`/api/galleries/${l}`),{data:Ct}=at;x(Ct),typeof Ct.is_liked=="boolean"&&_(Ct.is_liked)}catch(at){console.error("   :",at)}};if(reactExports$1.useEffect(()=>{G()},[l]),reactExports$1.useEffect(()=>{m&&typeof m.is_liked=="boolean"&&_(m.is_liked)},[m]),!m)return jsxRuntimeExports.jsx("div",{children:" ..."});const H=async()=>{if(!p){c("/login");return}try{const at={liked_id:l,liked_type:"gallery"};if(b){await userInstance.delete("/api/likes",{data:at}),_(!1);return}else await userInstance.post("/api/likes",{liked_id:l,liked_type:"gallery"});await userInstance.post("/api/likes",at),_(!0),k(!0)}catch(at){console.error("  :",at)}},j=()=>{const at=m.gallery_name,Ct=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${at}`,text:`${at}   !`,url:Ct}).catch(It=>console.error(" :",It));else{const It=document.createElement("textarea");It.value=Ct,document.body.appendChild(It),It.select();try{document.execCommand("copy"),s("  .")}catch(mt){console.error("  :",mt),s("  .","error")}finally{document.body.removeChild(It)}}},W={instagram:FaInstagram,youtube:FaYoutube,twitter:FaLink,facebook:FaLink},{exhibitions:Y=[],artworks:X=[],gallery_address:te="",gallery_category:se="",gallery_closed_day:pe="",gallery_description:ge="",gallery_end_time:me="",gallery_start_time:Ee="",gallery_image:ve="",gallery_name:de="",gallery_eng_name:ae="",gallery_phone:ue="",gallery_email:re="",gallery_homepage:oe="",gallery_sns:Ce,gallery_latitude:Ae,gallery_longitude:we}=m;let Re=[];try{Array.isArray(Ce)?Re=Ce:typeof Ce=="string"&&(Re=JSON.parse(Ce))}catch(at){console.error("SNS   :",at),Re=[]}const Be=Re.filter(at=>at.url&&at.url.trim()!==""),We=[{label:"",content:Ee&&me?`${Ee.slice(0,5)} ~ ${me.slice(0,5)}`:" "},{label:"",content:pe||" "},{label:"",content:ue||" "},{label:"",content:te||" "},{label:"",content:re?jsxRuntimeExports.jsx("a",{href:`mailto:${re}`,children:re}):" "},{label:"SNS",content:Be.length>0?jsxRuntimeExports.jsx("div",{className:styles$p.inlineSns,children:Be.map(({type:at,url:Ct})=>{const It=at==null?void 0:at.toLowerCase(),mt=W[It]||W.default,Ut=styles$p[It]||styles$p.defaultLink;return jsxRuntimeExports.jsx("a",{href:Ct,target:"_blank",rel:"noopener noreferrer",className:styles$p.snsLink,children:jsxRuntimeExports.jsx(mt,{className:`${styles$p.snsIcon} ${Ut}`})},`${at}-${Ct}`)})}):" "}],De=[{key:"info",label:""},{key:"exhibitions",label:`(${Y.length||0})`}],ct=`gallery-${l}-map`;return jsxRuntimeExports.jsxs("div",{className:styles$p.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$p.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$p.breadcrumbBack,onClick:()=>c("/galleries"),children:""})," ","> ",de]}),jsxRuntimeExports.jsxs("section",{className:styles$p.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$p.galleryTitle,children:de}),jsxRuntimeExports.jsx("p",{className:styles$p.gallerySubTitle,children:ae||"Gallery"})]}),jsxRuntimeExports.jsxs("div",{className:styles$p.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$p.galleryImage,src:ve,alt:"  "}),t&&jsxRuntimeExports.jsxs("div",{className:styles$p.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:H,children:[jsxRuntimeExports.jsx(FaStar$1,{className:b?styles$p.likedIcon:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:()=>$(!0),children:[jsxRuntimeExports.jsx(FaLocationDot,{className:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:j,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$p.icon}),""]})]}),jsxRuntimeExports.jsx("div",{className:styles$p.tagContainer,children:se&&se.split(",").map(at=>jsxRuntimeExports.jsx("span",{className:styles$p.tag,children:at.trim()},at))}),jsxRuntimeExports.jsxs("section",{className:styles$p.infoList,children:[We.map(({label:at,content:Ct})=>{const It=!Ct||typeof Ct=="string"&&Ct.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$p.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$p.infoLabel,children:at}),jsxRuntimeExports.jsx("div",{className:`${styles$p.infoContent} ${It?styles$p.emptyInfo:""}`,children:Ct})]},at)}),jsxRuntimeExports.jsx("button",{disabled:!oe,className:styles$p.homepageButton,onClick:()=>window.open(oe,"_blank"),children:oe?"":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:De,activeTab:M,setActiveTab:P,children:[M==="info"&&(ge?jsxRuntimeExports.jsx("div",{className:styles$p.descriptionParagraph,dangerouslySetInnerHTML:{__html:ge}}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"   ."})),M==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[X.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:X}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),r==null?void 0:r.artworks]}),M==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Y.length>0?jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:Y}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),r==null?void 0:r.exhibitions]})]}),t&&jsxRuntimeExports.jsx("button",{className:styles$p.backButton,onClick:()=>c("/galleries"),children:" "}),K&&jsxRuntimeExports.jsx(MapModalSimple,{lat:Ae,lng:we,title:de,address:te,mapId:ct,onClose:()=>$(!1)}),R&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>k(!1)})]})}const layout$8="_layout_1s9mv_1",breadcrumb$1="_breadcrumb_1s9mv_21",breadcrumbBack$1="_breadcrumbBack_1s9mv_35",card$3="_card_1s9mv_45",titleSection$1="_titleSection_1s9mv_63",exhibitionTitle$1="_exhibitionTitle_1s9mv_73",posterImage="_posterImage_1s9mv_87",btnLayout$1="_btnLayout_1s9mv_111",likeButton="_likeButton_1s9mv_125",icon$2="_icon_1s9mv_149",likedIcon$1="_likedIcon_1s9mv_157",infoList$1="_infoList_1s9mv_165",infoRow$1="_infoRow_1s9mv_181",infoLabel$1="_infoLabel_1s9mv_191",infoContent$1="_infoContent_1s9mv_203",homepageButton="_homepageButton_1s9mv_223",descriptionParagraph$1="_descriptionParagraph_1s9mv_281",emptyContent$2="_emptyContent_1s9mv_317",emptyInfo$1="_emptyInfo_1s9mv_331",backButton$5="_backButton_1s9mv_339",disabledButton="_disabledButton_1s9mv_377",styles$m={layout:layout$8,breadcrumb:breadcrumb$1,breadcrumbBack:breadcrumbBack$1,card:card$3,titleSection:titleSection$1,exhibitionTitle:exhibitionTitle$1,posterImage,btnLayout:btnLayout$1,likeButton,icon:icon$2,likedIcon:likedIcon$1,infoList:infoList$1,infoRow:infoRow$1,infoLabel:infoLabel$1,infoContent:infoContent$1,homepageButton,descriptionParagraph:descriptionParagraph$1,emptyContent:emptyContent$2,emptyInfo:emptyInfo$1,backButton:backButton$5,disabledButton},relatedSection="_relatedSection_c53cq_1",list$1="_list_c53cq_17",card$2="_card_c53cq_31",imageWrapper$2="_imageWrapper_c53cq_63",image$2="_image_c53cq_63",info$1="_info_c53cq_99",title$4="_title_c53cq_115",meta="_meta_c53cq_127",date="_date_c53cq_137",styles$l={relatedSection,list:list$1,card:card$2,imageWrapper:imageWrapper$2,image:image$2,info:info$1,title:title$4,meta,date},BASE_URL="https://artly.soundgram.co.kr";function RelatedExhibitions({exhibitions:t}){const n=useNavigate();return jsxRuntimeExports.jsx("section",{className:styles$l.relatedSection,children:jsxRuntimeExports.jsx("div",{className:styles$l.list,children:t.map(({id:r,title:s,poster:o,start_date:l,end_date:c,location:p,organization:m})=>{const x=o&&!o.startsWith("http")?`${BASE_URL}/${o}`:o;return jsxRuntimeExports.jsxs("div",{className:styles$l.card,onClick:()=>n(`/exhibitions/${r}`),children:[jsxRuntimeExports.jsx("div",{className:styles$l.imageWrapper,children:jsxRuntimeExports.jsx(Img,{src:x,alt:s,className:styles$l.image})}),jsxRuntimeExports.jsxs("div",{className:styles$l.info,children:[jsxRuntimeExports.jsx("h4",{className:styles$l.title,children:s||" "}),jsxRuntimeExports.jsxs("p",{className:styles$l.meta,children:[m||"  "," |"," ",p||"  "]}),jsxRuntimeExports.jsxs("p",{className:styles$l.date,children:[l," ~ ",c]})]})]},r)})})})}function ExhibitionDetail({showUserActions:t=!0,id:n,actionButtons:r}){const{exhibitionId:s}=useParams(),o=n||s,{user:l}=useUser(),c=useNavigate(),{showAlert:p}=useAlert(),[m,x]=reactExports$1.useState(null),[b,_]=reactExports$1.useState(!1),[R,k]=reactExports$1.useState(!1),[M,P]=reactExports$1.useState("info"),K=async()=>{if(o)try{const Be=await userInstance.get(`/api/exhibitions/${o}`),{data:We}=Be;x(We),typeof We.is_liked=="boolean"&&_(We.is_liked)}catch(Be){console.error("   :",Be)}};reactExports$1.useEffect(()=>{K()},[o]);const $=async()=>{if(!l){c("/login");return}try{const Be={liked_id:o,liked_type:"exhibition"};b?(await userInstance.delete("/api/likes",{data:Be}),_(!1)):(await userInstance.post("/api/likes",Be),_(!0),k(!0))}catch(Be){console.error("  :",Be)}},G=()=>{const Be=m==null?void 0:m.exhibition_title,We=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${Be}`,text:`${Be}   !`,url:We}).catch(De=>console.error(" :",De));else{const De=document.createElement("textarea");De.value=We,document.body.appendChild(De),De.select();try{document.execCommand("copy"),p("  .")}catch(ct){console.error("  :",ct),p("  .","error")}finally{document.body.removeChild(De)}}},H=()=>{c("/scan")};if(console.log("",m),!m)return jsxRuntimeExports.jsx("div",{children:" ..."});const{exhibition_title:j,exhibition_poster:W,exhibition_start_date:Y,exhibition_end_date:X,exhibition_start_time:te,exhibition_end_time:se,exhibition_organization:pe,exhibition_location:ge,exhibition_price:me,exhibition_closed_day:Ee,exhibition_description:ve,related_exhibitions:de=[],artworks:ae=[],exhibition_phone:ue,artists:re=[],exhibition_homepage:oe,exhibition_status:Ce}=m,Ae=Ce==="exhibited",we=[{label:"",content:Y&&X?`${Y} ~ ${X}`:" "},{label:"",content:pe},{label:"",content:te&&se?`${te.slice(0,5)} ~ ${se.slice(0,5)}`:" "},{label:"",content:Ee||" "},{label:"",content:me?`${me.toLocaleString()}`:""},{label:"",content:ue||" "},{label:"",content:ge||" "},{label:"",content:re.map(Be=>Be.artist_name).join(", ")||" "}],Re=[{key:"info",label:""},{key:"artworks",label:`(${ae.length})`}];return jsxRuntimeExports.jsxs("div",{className:styles$m.layout,children:[t&&jsxRuntimeExports.jsxs("div",{className:styles$m.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$m.breadcrumbBack,onClick:()=>c("/exhibitions"),children:""})," ","> ",j]}),jsxRuntimeExports.jsxs("div",{className:styles$m.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$m.posterImage,src:W,alt:" "}),jsxRuntimeExports.jsx("section",{className:styles$m.titleSection,children:jsxRuntimeExports.jsx("h1",{className:styles$m.exhibitionTitle,children:j})}),t&&jsxRuntimeExports.jsxs("div",{className:styles$m.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:$,children:[jsxRuntimeExports.jsx(FaStar$1,{className:b?styles$m.likedIcon:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:`${styles$m.likeButton} ${Ae?"":styles$m.disabledButton}`,disabled:!Ae,onClick:()=>c(`/reservation/${o}`),title:Ae?"":"   ",children:[jsxRuntimeExports.jsx(FaCalendarCheck,{className:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:H,children:[jsxRuntimeExports.jsx(FaHeadphones,{className:styles$m.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$m.likeButton,onClick:G,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$m.icon}),""]})]}),jsxRuntimeExports.jsxs("section",{className:styles$m.infoList,children:[we.map(({label:Be,content:We})=>{const De=!We||typeof We=="string"&&We.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$m.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$m.infoLabel,children:Be}),jsxRuntimeExports.jsx("div",{className:`${styles$m.infoContent} ${De?styles$m.emptyInfo:""}`,children:We})]},Be)}),jsxRuntimeExports.jsx("button",{disabled:!oe,className:styles$m.homepageButton,onClick:()=>window.open(oe,"_blank"),children:oe?"  ":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:Re,activeTab:M,setActiveTab:P,children:[M==="info"&&(ve?jsxRuntimeExports.jsx("div",{className:styles$m.descriptionParagraph,dangerouslySetInnerHTML:{__html:ve}}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"    ."})),M==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ae.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:ae}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"  ."}),r==null?void 0:r.artworks]}),M==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[de.length>0?jsxRuntimeExports.jsx(RelatedExhibitions,{exhibitions:de}):jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"  ."}),r==null?void 0:r.exhibitions]})]}),t&&jsxRuntimeExports.jsx("button",{className:styles$m.backButton,onClick:()=>c("/exhibitions"),children:" "}),R&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>k(!1)})]})}const overlay$3="_overlay_1ujik_1",modalContainer="_modalContainer_1ujik_27",closeButton="_closeButton_1ujik_51",tabArea="_tabArea_1ujik_59",tabButton$1="_tabButton_1ujik_79",active="_active_1ujik_115",generateContainer="_generateContainer_1ujik_133",styles$k={overlay:overlay$3,modalContainer,closeButton,tabArea,tabButton:tabButton$1,active,generateContainer},page$1="_page_1731v_1",formArea="_formArea_1731v_27",label$3="_label_1731v_39",input$1="_input_1731v_49",textarea$2="_textarea_1731v_51",submitButton$1="_submitButton_1731v_137",resultArea="_resultArea_1731v_177",resultCard="_resultCard_1731v_191",textContent="_textContent_1731v_211",cardHeader="_cardHeader_1731v_241",buttonGroup$1="_buttonGroup_1731v_267",copyButton="_copyButton_1731v_279",captureButton="_captureButton_1731v_281",refineButton="_refineButton_1731v_329",placeholder$1="_placeholder_1731v_361",styles$j={page:page$1,formArea,label:label$3,input:input$1,textarea:textarea$2,submitButton:submitButton$1,resultArea,resultCard,textContent,cardHeader,buttonGroup:buttonGroup$1,copyButton,captureButton,refineButton,placeholder:placeholder$1};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},extendStatics(t,n)};function __extends(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},__assign.apply(this,arguments)};function __awaiter$1(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,[])).next())})}function __generator(t,n){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(x){return function(b){return m([x,b])}}function m(x){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,o=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){r.label=x[1];break}if(x[0]===6&&r.label<l[1]){r.label=l[1],l=x;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(x);break}l[2]&&r.ops.pop(),r.trys.pop();continue}x=n.call(t,r)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}}function __spreadArray(t,n,r){if(arguments.length===2)for(var s=0,o=n.length,l;s<o;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||n)}var Bounds=(function(){function t(n,r,s,o){this.left=n,this.top=r,this.width=s,this.height=o}return t.prototype.add=function(n,r,s,o){return new t(this.left+n,this.top+r,this.width+s,this.height+o)},t.fromClientRect=function(n,r){return new t(r.left+n.windowBounds.left,r.top+n.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(n,r){var s=Array.from(r).find(function(o){return o.width!==0});return s?new t(s.left+n.windowBounds.left,s.top+n.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),parseBounds=function(t,n){return Bounds.fromClientRect(t,n.getBoundingClientRect())},parseDocumentSize=function(t){var n=t.body,r=t.documentElement;if(!n||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),o=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight));return new Bounds(0,0,s,o)},toCodePoints$1=function(t){for(var n=[],r=0,s=t.length;r<s;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<s){var l=t.charCodeAt(r++);(l&64512)===56320?n.push(((o&1023)<<10)+(l&1023)+65536):(n.push(o),r--)}else n.push(o)}return n},fromCodePoint$1=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],o=-1,l="";++o<r;){var c=t[o];c<=65535?s.push(c):(c-=65536,s.push((c>>10)+55296,c%1024+56320)),(o+1===r||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(t){var n=t.length*.75,r=t.length,s,o=0,l,c,p,m;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var x=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),b=Array.isArray(x)?x:new Uint8Array(x);for(s=0;s<r;s+=4)l=lookup$1$1[t.charCodeAt(s)],c=lookup$1$1[t.charCodeAt(s+1)],p=lookup$1$1[t.charCodeAt(s+2)],m=lookup$1$1[t.charCodeAt(s+3)],b[o++]=l<<2|c>>4,b[o++]=(c&15)<<4|p>>2,b[o++]=(p&3)<<6|m&63;return x},polyUint16Array$1=function(t){for(var n=t.length,r=[],s=0;s<n;s+=2)r.push(t[s+1]<<8|t[s]);return r},polyUint32Array$1=function(t){for(var n=t.length,r=[],s=0;s<n;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(t,n,r){return t.slice?t.slice(n,r):new Uint16Array(Array.prototype.slice.call(t,n,r))},slice32$1=function(t,n,r){return t.slice?t.slice(n,r):new Uint32Array(Array.prototype.slice.call(t,n,r))},createTrieFromBase64$1=function(t,n){var r=decode$1(t),s=Array.isArray(r)?polyUint32Array$1(r):new Uint32Array(r),o=Array.isArray(r)?polyUint16Array$1(r):new Uint16Array(r),l=24,c=slice16$1(o,l/2,s[4]/2),p=s[5]===2?slice16$1(o,(l+s[4])/2):slice32$1(s,Math.ceil((l+s[4])/4));return new Trie$1(s[0],s[1],s[2],s[3],c,p)},Trie$1=(function(){function t(n,r,s,o,l,c){this.initialValue=n,this.errorValue=r,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=c}return t.prototype.get=function(n){var r;if(n>=0){if(n<55296||n>56319&&n<=65535)return r=this.index[n>>UTRIE2_SHIFT_2$1],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<=65535)return r=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(n-55296>>UTRIE2_SHIFT_2$1)],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<this.highStart)return r=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(n>>UTRIE2_SHIFT_1$1),r=this.index[r],r+=n>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,r=this.index[r],r=(r<<UTRIE2_INDEX_SHIFT$1)+(n&UTRIE2_DATA_MASK$1),this.data[r];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL$1=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="",BREAK_ALLOWED$1="",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL$1],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN$1=[HY,BA],codePointsToCharacterClasses=function(t,n){n===void 0&&(n="strict");var r=[],s=[],o=[];return t.forEach(function(l,c){var p=UnicodeTrie$1.get(l);if(p>LETTER_NUMBER_MODIFIER?(o.push(!0),p-=LETTER_NUMBER_MODIFIER):o.push(!1),["normal","auto","loose"].indexOf(n)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return s.push(c),r.push(CB);if(p===CM||p===ZWJ$1){if(c===0)return s.push(c),r.push(AL);var m=r[c-1];return LINE_BREAKS.indexOf(m)===-1?(s.push(s[c-1]),r.push(m)):(s.push(c),r.push(AL))}if(s.push(c),p===CJ)return r.push(n==="strict"?NS:ID);if(p===SA||p===AI)return r.push(AL);if(p===XX)return l>=131072&&l<=196605||l>=196608&&l<=262141?r.push(ID):r.push(AL);r.push(p)}),[s,r,o]},isAdjacentWithSpaceIgnored=function(t,n,r,s){var o=s[r];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=s.length;){l++;var c=s[l];if(c===n)return!0;if(c!==SP)break}if(o===SP)for(var l=r;l>0;){l--;var p=s[l];if(Array.isArray(t)?t.indexOf(p)!==-1:t===p)for(var m=r;m<=s.length;){m++;var c=s[m];if(c===n)return!0;if(c!==SP)break}if(p!==SP)break}return!1},previousNonSpaceClassType=function(t,n){for(var r=t;r>=0;){var s=n[r];if(s===SP)r--;else return s}return 0},_lineBreakAtIndex=function(t,n,r,s,o){if(r[s]===0)return BREAK_NOT_ALLOWED$1;var l=s-1;if(Array.isArray(o)&&o[l]===!0)return BREAK_NOT_ALLOWED$1;var c=l-1,p=l+1,m=n[l],x=c>=0?n[c]:0,b=n[p];if(m===CR$1&&b===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(m)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(b)!==-1||SPACE$1.indexOf(b)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(l,n)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(t[l])===ZWJ$1||(m===EB||m===EM)&&UnicodeTrie$1.get(t[p])===ZWJ$1||m===WJ||b===WJ||m===GL||[SP,BA,HY].indexOf(m)===-1&&b===GL||[CL,CP,EX,IS,SY].indexOf(b)!==-1||previousNonSpaceClassType(l,n)===OP||isAdjacentWithSpaceIgnored(QU,OP,l,n)||isAdjacentWithSpaceIgnored([CL,CP],NS,l,n)||isAdjacentWithSpaceIgnored(B2,B2,l,n))return BREAK_NOT_ALLOWED$1;if(m===SP)return BREAK_ALLOWED$1;if(m===QU||b===QU)return BREAK_NOT_ALLOWED$1;if(b===CB||m===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(b)!==-1||m===BB||x===HL&&HYPHEN$1.indexOf(m)!==-1||m===SY&&b===HL||b===IN||ALPHABETICS.indexOf(b)!==-1&&m===NU||ALPHABETICS.indexOf(m)!==-1&&b===NU||m===PR&&[ID,EB,EM].indexOf(b)!==-1||[ID,EB,EM].indexOf(m)!==-1&&b===PO||ALPHABETICS.indexOf(m)!==-1&&PREFIX_POSTFIX.indexOf(b)!==-1||PREFIX_POSTFIX.indexOf(m)!==-1&&ALPHABETICS.indexOf(b)!==-1||[PR,PO].indexOf(m)!==-1&&(b===NU||[OP,HY].indexOf(b)!==-1&&n[p+1]===NU)||[OP,HY].indexOf(m)!==-1&&b===NU||m===NU&&[NU,SY,IS].indexOf(b)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(b)!==-1)for(var _=l;_>=0;){var R=n[_];if(R===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(R)!==-1)_--;else break}if([PR,PO].indexOf(b)!==-1)for(var _=[CL,CP].indexOf(m)!==-1?c:l;_>=0;){var R=n[_];if(R===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(R)!==-1)_--;else break}if(JL===m&&[JL,JV,H2,H3].indexOf(b)!==-1||[JV,H2].indexOf(m)!==-1&&[JV,JT].indexOf(b)!==-1||[JT,H3].indexOf(m)!==-1&&b===JT||KOREAN_SYLLABLE_BLOCK.indexOf(m)!==-1&&[IN,PO].indexOf(b)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(b)!==-1&&m===PR||ALPHABETICS.indexOf(m)!==-1&&ALPHABETICS.indexOf(b)!==-1||m===IS&&ALPHABETICS.indexOf(b)!==-1||ALPHABETICS.concat(NU).indexOf(m)!==-1&&b===OP&&ea_OP.indexOf(t[p])===-1||ALPHABETICS.concat(NU).indexOf(b)!==-1&&m===CP)return BREAK_NOT_ALLOWED$1;if(m===RI$1&&b===RI$1){for(var k=r[l],M=1;k>0&&(k--,n[k]===RI$1);)M++;if(M%2!==0)return BREAK_NOT_ALLOWED$1}return m===EB&&b===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(t,n){n||(n={lineBreak:"normal",wordBreak:"normal"});var r=codePointsToCharacterClasses(t,n.lineBreak),s=r[0],o=r[1],l=r[2];(n.wordBreak==="break-all"||n.wordBreak==="break-word")&&(o=o.map(function(p){return[NU,AL,SA].indexOf(p)!==-1?ID:p}));var c=n.wordBreak==="keep-all"?l.map(function(p,m){return p&&t[m]>=19968&&t[m]<=40959}):void 0;return[s,o,c]},Break=(function(){function t(n,r,s,o){this.codePoints=n,this.required=r===BREAK_MANDATORY,this.start=s,this.end=o}return t.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),LineBreaker=function(t,n){var r=toCodePoints$1(t),s=cssFormattedClasses(r,n),o=s[0],l=s[1],c=s[2],p=r.length,m=0,x=0;return{next:function(){if(x>=p)return{done:!0,value:null};for(var b=BREAK_NOT_ALLOWED$1;x<p&&(b=_lineBreakAtIndex(r,l,o,++x,c))===BREAK_NOT_ALLOWED$1;);if(b!==BREAK_NOT_ALLOWED$1||x===p){var _=new Break(r,b,m,x);return m=x,{value:_,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE$2=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE$1=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE$1=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK$1=42,PLUS_SIGN=43,COMMA$1=44,COLON$1=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z=122,A=65,E=69,F=70,U=85,Z=90,isDigit=function(t){return t>=ZERO&&t<=57},isSurrogateCodePoint=function(t){return t>=55296&&t<=57343},isHex=function(t){return isDigit(t)||t>=A&&t<=F||t>=a&&t<=f},isLowerCaseLetter=function(t){return t>=a&&t<=z},isUpperCaseLetter=function(t){return t>=A&&t<=Z},isLetter=function(t){return isLowerCaseLetter(t)||isUpperCaseLetter(t)},isNonASCIICodePoint=function(t){return t>=CONTROL},isWhiteSpace=function(t){return t===LINE_FEED||t===CHARACTER_TABULATION||t===SPACE$2},isNameStartCodePoint=function(t){return isLetter(t)||isNonASCIICodePoint(t)||t===LOW_LINE},isNameCodePoint=function(t){return isNameStartCodePoint(t)||isDigit(t)||t===HYPHEN_MINUS},isNonPrintableCodePoint=function(t){return t>=NULL&&t<=BACKSPACE||t===LINE_TABULATION||t>=SHIFT_OUT&&t<=INFORMATION_SEPARATOR_ONE||t===DELETE},isValidEscape=function(t,n){return t!==REVERSE_SOLIDUS?!1:n!==LINE_FEED},isIdentifierStart=function(t,n,r){return t===HYPHEN_MINUS?isNameStartCodePoint(n)||isValidEscape(n,r):isNameStartCodePoint(t)?!0:!!(t===REVERSE_SOLIDUS&&isValidEscape(t,n))},isNumberStart=function(t,n,r){return t===PLUS_SIGN||t===HYPHEN_MINUS?isDigit(n)?!0:n===FULL_STOP&&isDigit(r):isDigit(t===FULL_STOP?n:t)},stringToNumber=function(t){var n=0,r=1;(t[n]===PLUS_SIGN||t[n]===HYPHEN_MINUS)&&(t[n]===HYPHEN_MINUS&&(r=-1),n++);for(var s=[];isDigit(t[n]);)s.push(t[n++]);var o=s.length?parseInt(fromCodePoint$1.apply(void 0,s),10):0;t[n]===FULL_STOP&&n++;for(var l=[];isDigit(t[n]);)l.push(t[n++]);var c=l.length,p=c?parseInt(fromCodePoint$1.apply(void 0,l),10):0;(t[n]===E||t[n]===e)&&n++;var m=1;(t[n]===PLUS_SIGN||t[n]===HYPHEN_MINUS)&&(t[n]===HYPHEN_MINUS&&(m=-1),n++);for(var x=[];isDigit(t[n]);)x.push(t[n++]);var b=x.length?parseInt(fromCodePoint$1.apply(void 0,x),10):0;return r*(o+p*Math.pow(10,-c))*Math.pow(10,m*b)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=(function(){function t(){this._value=[]}return t.prototype.write=function(n){this._value=this._value.concat(toCodePoints$1(n))},t.prototype.read=function(){for(var n=[],r=this.consumeToken();r!==EOF_TOKEN;)n.push(r),r=this.consumeToken();return n},t.prototype.consumeToken=function(){var n=this.consumeCodePoint();switch(n){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(isNameCodePoint(r)||isValidEscape(s,o)){var l=isIdentifierStart(r,s,o)?FLAG_ID:FLAG_UNRESTRICTED,c=this.consumeName();return{type:5,value:c,flags:l}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE$1:return this.consumeStringToken(APOSTROPHE$1);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case COMMA$1:return COMMA_TOKEN;case HYPHEN_MINUS:var p=n,m=this.peekCodePoint(0),x=this.peekCodePoint(1);if(isNumberStart(p,m,x))return this.reconsumeCodePoint(n),this.consumeNumericToken();if(isIdentifierStart(p,m,x))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();if(m===HYPHEN_MINUS&&x===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK$1)for(this.consumeCodePoint();;){var b=this.consumeCodePoint();if(b===ASTERISK$1&&(b=this.consumeCodePoint(),b===SOLIDUS))return this.consumeToken();if(b===EOF)return this.consumeToken()}break;case COLON$1:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var _=this.peekCodePoint(0),R=this.peekCodePoint(1),k=this.peekCodePoint(2);if(isIdentifierStart(_,R,k)){var c=this.consumeName();return{type:7,value:c}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(n,this.peekCodePoint(0)))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var M=this.peekCodePoint(0),P=this.peekCodePoint(1);return M===PLUS_SIGN&&(isHex(P)||P===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(n),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(n)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(n)?(this.reconsumeCodePoint(n),this.consumeNumericToken()):isNameStartCodePoint(n)?(this.reconsumeCodePoint(n),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(n)}},t.prototype.consumeCodePoint=function(){var n=this._value.shift();return typeof n>"u"?-1:n},t.prototype.reconsumeCodePoint=function(n){this._value.unshift(n)},t.prototype.peekCodePoint=function(n){return n>=this._value.length?-1:this._value[n]},t.prototype.consumeUnicodeRangeToken=function(){for(var n=[],r=this.consumeCodePoint();isHex(r)&&n.length<6;)n.push(r),r=this.consumeCodePoint();for(var s=!1;r===QUESTION_MARK&&n.length<6;)n.push(r),r=this.consumeCodePoint(),s=!0;if(s){var o=parseInt(fromCodePoint$1.apply(void 0,n.map(function(m){return m===QUESTION_MARK?ZERO:m})),16),l=parseInt(fromCodePoint$1.apply(void 0,n.map(function(m){return m===QUESTION_MARK?F:m})),16);return{type:30,start:o,end:l}}var c=parseInt(fromCodePoint$1.apply(void 0,n),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var p=[];isHex(r)&&p.length<6;)p.push(r),r=this.consumeCodePoint();var l=parseInt(fromCodePoint$1.apply(void 0,p),16);return{type:30,start:c,end:l}}else return{type:30,start:c,end:c}},t.prototype.consumeIdentLikeToken=function(){var n=this.consumeName();return n.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:n}):{type:20,value:n}},t.prototype.consumeUrlToken=function(){var n=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===APOSTROPHE$1||r===QUOTATION_MARK){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var o=this.consumeCodePoint();if(o===EOF||o===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,n)};if(isWhiteSpace(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,n)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(o===QUOTATION_MARK||o===APOSTROPHE$1||o===LEFT_PARENTHESIS||isNonPrintableCodePoint(o))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(o===REVERSE_SOLIDUS)if(isValidEscape(o,this.peekCodePoint(0)))n.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else n.push(o)}},t.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var n=this.consumeCodePoint();if(n===RIGHT_PARENTHESIS||n===EOF)return;isValidEscape(n,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(n){for(var r=5e4,s="";n>0;){var o=Math.min(r,n);s+=fromCodePoint$1.apply(void 0,this._value.splice(0,o)),n-=o}return this._value.shift(),s},t.prototype.consumeStringToken=function(n){var r="",s=0;do{var o=this._value[s];if(o===EOF||o===void 0||o===n)return r+=this.consumeStringSlice(s),{type:0,value:r};if(o===LINE_FEED)return this._value.splice(0,s),BAD_STRING_TOKEN;if(o===REVERSE_SOLIDUS){var l=this._value[s+1];l!==EOF&&l!==void 0&&(l===LINE_FEED?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):isValidEscape(o,l)&&(r+=this.consumeStringSlice(s),r+=fromCodePoint$1(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var n=[],r=FLAG_INTEGER,s=this.peekCodePoint(0);for((s===PLUS_SIGN||s===HYPHEN_MINUS)&&n.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());s=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(s===FULL_STOP&&isDigit(o))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());s=this.peekCodePoint(0),o=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((s===E||s===e)&&((o===PLUS_SIGN||o===HYPHEN_MINUS)&&isDigit(l)||isDigit(o)))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),r=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)n.push(this.consumeCodePoint());return[stringToNumber(n),r]},t.prototype.consumeNumericToken=function(){var n=this.consumeNumber(),r=n[0],s=n[1],o=this.peekCodePoint(0),l=this.peekCodePoint(1),c=this.peekCodePoint(2);if(isIdentifierStart(o,l,c)){var p=this.consumeName();return{type:15,number:r,flags:s,unit:p}}return o===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var n=this.consumeCodePoint();if(isHex(n)){for(var r=fromCodePoint$1(n);isHex(this.peekCodePoint(0))&&r.length<6;)r+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||isSurrogateCodePoint(s)||s>1114111?REPLACEMENT_CHARACTER:s}return n===EOF?REPLACEMENT_CHARACTER:n},t.prototype.consumeName=function(){for(var n="";;){var r=this.consumeCodePoint();if(isNameCodePoint(r))n+=fromCodePoint$1(r);else if(isValidEscape(r,this.peekCodePoint(0)))n+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),n}},t})(),Parser=(function(){function t(n){this._tokens=n}return t.create=function(n){var r=new Tokenizer;return r.write(n),new t(r.read())},t.parseValue=function(n){return t.create(n).parseComponentValue()},t.parseValues=function(n){return t.create(n).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var n=this.consumeToken();n.type===31;)n=this.consumeToken();if(n.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(n);var r=this.consumeComponentValue();do n=this.consumeToken();while(n.type===31);if(n.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var n=[];;){var r=this.consumeComponentValue();if(r.type===32)return n;n.push(r),n.push()}},t.prototype.consumeComponentValue=function(){var n=this.consumeToken();switch(n.type){case 11:case 28:case 2:return this.consumeSimpleBlock(n.type);case 19:return this.consumeFunction(n)}return n},t.prototype.consumeSimpleBlock=function(n){for(var r={type:n,values:[]},s=this.consumeToken();;){if(s.type===32||isEndingTokenFor(s,n))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(n){for(var r={name:n.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var n=this._tokens.shift();return typeof n>"u"?EOF_TOKEN:n},t.prototype.reconsumeToken=function(n){this._tokens.unshift(n)},t})(),isDimensionToken=function(t){return t.type===15},isNumberToken=function(t){return t.type===17},isIdentToken=function(t){return t.type===20},isStringToken=function(t){return t.type===0},isIdentWithValue=function(t,n){return isIdentToken(t)&&t.value===n},nonWhiteSpace=function(t){return t.type!==31},nonFunctionArgSeparator=function(t){return t.type!==31&&t.type!==4},parseFunctionArgs=function(t){var n=[],r=[];return t.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");n.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&n.push(r),n},isEndingTokenFor=function(t,n){return n===11&&t.type===12||n===28&&t.type===29?!0:n===2&&t.type===3},isLength=function(t){return t.type===17||t.type===15},isLengthPercentage=function(t){return t.type===16||isLength(t)},parseLengthPercentageTuple=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(t,n,r){var s=t[0],o=t[1];return[getAbsoluteValue(s,n),getAbsoluteValue(typeof o<"u"?o:s,r)]},getAbsoluteValue=function(t,n){if(t.type===16)return t.number/100*n;if(isDimensionToken(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(t,n){if(n.type===15)switch(n.unit){case DEG:return Math.PI*n.number/180;case GRAD:return Math.PI/200*n.number;case RAD:return n.number;case TURN:return Math.PI*2*n.number}throw new Error("Unsupported angle type")}},isAngle=function(t){return t.type===15&&(t.unit===DEG||t.unit===GRAD||t.unit===RAD||t.unit===TURN)},parseNamedSide=function(t){var n=t.filter(isIdentToken).map(function(r){return r.value}).join(" ");switch(n){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(t){return Math.PI*t/180},color$1={name:"color",parse:function(t,n){if(n.type===18){var r=SUPPORTED_COLOR_FUNCTIONS[n.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+n.name+'"');return r(t,n.values)}if(n.type===5){if(n.value.length===3){var s=n.value.substring(0,1),o=n.value.substring(1,2),l=n.value.substring(2,3);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),1)}if(n.value.length===4){var s=n.value.substring(0,1),o=n.value.substring(1,2),l=n.value.substring(2,3),c=n.value.substring(3,4);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),parseInt(c+c,16)/255)}if(n.value.length===6){var s=n.value.substring(0,2),o=n.value.substring(2,4),l=n.value.substring(4,6);return pack(parseInt(s,16),parseInt(o,16),parseInt(l,16),1)}if(n.value.length===8){var s=n.value.substring(0,2),o=n.value.substring(2,4),l=n.value.substring(4,6),c=n.value.substring(6,8);return pack(parseInt(s,16),parseInt(o,16),parseInt(l,16),parseInt(c,16)/255)}}if(n.type===20){var p=COLORS[n.value.toUpperCase()];if(typeof p<"u")return p}return COLORS.TRANSPARENT}},isTransparent=function(t){return(255&t)===0},asString=function(t){var n=255&t,r=255&t>>8,s=255&t>>16,o=255&t>>24;return n<255?"rgba("+o+","+s+","+r+","+n/255+")":"rgb("+o+","+s+","+r+")"},pack=function(t,n,r,s){return(t<<24|n<<16|r<<8|Math.round(s*255)<<0)>>>0},getTokenColorValue=function(t,n){if(t.type===17)return t.number;if(t.type===16){var r=n===3?1:255;return n===3?t.number/100*r:Math.round(t.number/100*r)}return 0},rgb=function(t,n){var r=n.filter(nonFunctionArgSeparator);if(r.length===3){var s=r.map(getTokenColorValue),o=s[0],l=s[1],c=s[2];return pack(o,l,c,1)}if(r.length===4){var p=r.map(getTokenColorValue),o=p[0],l=p[1],c=p[2],m=p[3];return pack(o,l,c,m)}return 0};function hue2rgb(t,n,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(n-t)*r*6+t:r<1/2?n:r<2/3?(n-t)*6*(2/3-r)+t:t}var hsl=function(t,n){var r=n.filter(nonFunctionArgSeparator),s=r[0],o=r[1],l=r[2],c=r[3],p=(s.type===17?deg(s.number):angle.parse(t,s))/(Math.PI*2),m=isLengthPercentage(o)?o.number/100:0,x=isLengthPercentage(l)?l.number/100:0,b=typeof c<"u"&&isLengthPercentage(c)?getAbsoluteValue(c,1):1;if(m===0)return pack(x*255,x*255,x*255,1);var _=x<=.5?x*(m+1):x+m-x*m,R=x*2-_,k=hue2rgb(R,_,p+1/3),M=hue2rgb(R,_,p),P=hue2rgb(R,_,p-1/3);return pack(k*255,M*255,P*255,b)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(t,n){return color$1.parse(t,Parser.create(n).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(r){if(isIdentToken(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(t,n){var r=color$1.parse(t,n[0]),s=n[1];return s&&isLengthPercentage(s)?{color:r,stop:s}:{color:r,stop:null}},processColorStops=function(t,n){var r=t[0],s=t[t.length-1];r.stop===null&&(r.stop=ZERO_LENGTH),s.stop===null&&(s.stop=HUNDRED_PERCENT);for(var o=[],l=0,c=0;c<t.length;c++){var p=t[c].stop;if(p!==null){var m=getAbsoluteValue(p,n);m>l?o.push(m):o.push(l),l=m}else o.push(null)}for(var x=null,c=0;c<o.length;c++){var b=o[c];if(b===null)x===null&&(x=c);else if(x!==null){for(var _=c-x,R=o[x-1],k=(b-R)/(_+1),M=1;M<=_;M++)o[x+M-1]=k*M;x=null}}return t.map(function(P,K){var $=P.color;return{color:$,stop:Math.max(Math.min(1,o[K]/n),0)}})},getAngleFromCorner=function(t,n,r){var s=n/2,o=r/2,l=getAbsoluteValue(t[0],n)-s,c=o-getAbsoluteValue(t[1],r);return(Math.atan2(c,l)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(t,n,r){var s=typeof t=="number"?t:getAngleFromCorner(t,n,r),o=Math.abs(n*Math.sin(s))+Math.abs(r*Math.cos(s)),l=n/2,c=r/2,p=o/2,m=Math.sin(s-Math.PI/2)*p,x=Math.cos(s-Math.PI/2)*p;return[o,l-x,l+x,c-m,c+m]},distance=function(t,n){return Math.sqrt(t*t+n*n)},findCorner=function(t,n,r,s,o){var l=[[0,0],[0,n],[t,0],[t,n]];return l.reduce(function(c,p){var m=p[0],x=p[1],b=distance(r-m,s-x);return(o?b<c.optimumDistance:b>c.optimumDistance)?{optimumCorner:p,optimumDistance:b}:c},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(t,n,r,s,o){var l=0,c=0;switch(t.size){case 0:t.shape===0?l=c=Math.min(Math.abs(n),Math.abs(n-s),Math.abs(r),Math.abs(r-o)):t.shape===1&&(l=Math.min(Math.abs(n),Math.abs(n-s)),c=Math.min(Math.abs(r),Math.abs(r-o)));break;case 2:if(t.shape===0)l=c=Math.min(distance(n,r),distance(n,r-o),distance(n-s,r),distance(n-s,r-o));else if(t.shape===1){var p=Math.min(Math.abs(r),Math.abs(r-o))/Math.min(Math.abs(n),Math.abs(n-s)),m=findCorner(s,o,n,r,!0),x=m[0],b=m[1];l=distance(x-n,(b-r)/p),c=p*l}break;case 1:t.shape===0?l=c=Math.max(Math.abs(n),Math.abs(n-s),Math.abs(r),Math.abs(r-o)):t.shape===1&&(l=Math.max(Math.abs(n),Math.abs(n-s)),c=Math.max(Math.abs(r),Math.abs(r-o)));break;case 3:if(t.shape===0)l=c=Math.max(distance(n,r),distance(n,r-o),distance(n-s,r),distance(n-s,r-o));else if(t.shape===1){var p=Math.max(Math.abs(r),Math.abs(r-o))/Math.max(Math.abs(n),Math.abs(n-s)),_=findCorner(s,o,n,r,!1),x=_[0],b=_[1];l=distance(x-n,(b-r)/p),c=p*l}break}return Array.isArray(t.size)&&(l=getAbsoluteValue(t.size[0],s),c=t.size.length===2?getAbsoluteValue(t.size[1],o):l),[l,c]},linearGradient=function(t,n){var r=deg(180),s=[];return parseFunctionArgs(n).forEach(function(o,l){if(l===0){var c=o[0];if(c.type===20&&c.value==="to"){r=parseNamedSide(o);return}else if(isAngle(c)){r=angle.parse(t,c);return}}var p=parseColorStop(t,o);s.push(p)}),{angle:r,stops:s,type:1}},prefixLinearGradient=function(t,n){var r=deg(180),s=[];return parseFunctionArgs(n).forEach(function(o,l){if(l===0){var c=o[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){r=parseNamedSide(o);return}else if(isAngle(c)){r=(angle.parse(t,c)+deg(270))%deg(360);return}}var p=parseColorStop(t,o);s.push(p)}),{angle:r,stops:s,type:1}},webkitGradient=function(t,n){var r=deg(180),s=[],o=1,l=0,c=3,p=[];return parseFunctionArgs(n).forEach(function(m,x){var b=m[0];if(x===0){if(isIdentToken(b)&&b.value==="linear"){o=1;return}else if(isIdentToken(b)&&b.value==="radial"){o=2;return}}if(b.type===18){if(b.name==="from"){var _=color$1.parse(t,b.values[0]);s.push({stop:ZERO_LENGTH,color:_})}else if(b.name==="to"){var _=color$1.parse(t,b.values[0]);s.push({stop:HUNDRED_PERCENT,color:_})}else if(b.name==="color-stop"){var R=b.values.filter(nonFunctionArgSeparator);if(R.length===2){var _=color$1.parse(t,R[1]),k=R[0];isNumberToken(k)&&s.push({stop:{type:16,number:k.number*100,flags:k.flags},color:_})}}}}),o===1?{angle:(r+deg(180))%deg(360),stops:s,type:o}:{size:c,shape:l,stops:s,position:p,type:o}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(t,n){var r=0,s=3,o=[],l=[];return parseFunctionArgs(n).forEach(function(c,p){var m=!0;if(p===0){var x=!1;m=c.reduce(function(_,R){if(x)if(isIdentToken(R))switch(R.value){case"center":return l.push(FIFTY_PERCENT),_;case"top":case"left":return l.push(ZERO_LENGTH),_;case"right":case"bottom":return l.push(HUNDRED_PERCENT),_}else(isLengthPercentage(R)||isLength(R))&&l.push(R);else if(isIdentToken(R))switch(R.value){case CIRCLE:return r=0,!1;case ELLIPSE:return r=1,!1;case"at":return x=!0,!1;case CLOSEST_SIDE:return s=0,!1;case COVER:case FARTHEST_SIDE:return s=1,!1;case CONTAIN:case CLOSEST_CORNER:return s=2,!1;case FARTHEST_CORNER:return s=3,!1}else if(isLength(R)||isLengthPercentage(R))return Array.isArray(s)||(s=[]),s.push(R),!1;return _},m)}if(m){var b=parseColorStop(t,c);o.push(b)}}),{size:s,shape:r,stops:o,position:l,type:2}},prefixRadialGradient=function(t,n){var r=0,s=3,o=[],l=[];return parseFunctionArgs(n).forEach(function(c,p){var m=!0;if(p===0?m=c.reduce(function(b,_){if(isIdentToken(_))switch(_.value){case"center":return l.push(FIFTY_PERCENT),!1;case"top":case"left":return l.push(ZERO_LENGTH),!1;case"right":case"bottom":return l.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(_)||isLength(_))return l.push(_),!1;return b},m):p===1&&(m=c.reduce(function(b,_){if(isIdentToken(_))switch(_.value){case CIRCLE:return r=0,!1;case ELLIPSE:return r=1,!1;case CONTAIN:case CLOSEST_SIDE:return s=0,!1;case FARTHEST_SIDE:return s=1,!1;case CLOSEST_CORNER:return s=2,!1;case COVER:case FARTHEST_CORNER:return s=3,!1}else if(isLength(_)||isLengthPercentage(_))return Array.isArray(s)||(s=[]),s.push(_),!1;return b},m)),m){var x=parseColorStop(t,c);o.push(x)}}),{size:s,shape:r,stops:o,position:l,type:2}},isLinearGradient=function(t){return t.type===1},isRadialGradient=function(t){return t.type===2},image$1={name:"image",parse:function(t,n){if(n.type===22){var r={url:n.value,type:0};return t.cache.addImage(n.value),r}if(n.type===18){var s=SUPPORTED_IMAGE_FUNCTIONS[n.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+n.name+'"');return s(t,n.values)}throw new Error("Unsupported image type "+n.type)}};function isSupportedImage(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[t.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,n){if(n.length===0)return[];var r=n[0];return r.type===20&&r.value==="none"?[]:n.filter(function(s){return nonFunctionArgSeparator(s)&&isSupportedImage(s)}).map(function(s){return image$1.parse(t,s)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(r){if(isIdentToken(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isIdentToken).map(function(s){return s.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,n){return parseFunctionArgs(n).map(function(r){return r.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(t){return isIdentToken(t)||isLengthPercentage(t)},borderColorForSide=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(n,r){return parseLengthPercentageTuple(r.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(n,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(n,r){return isDimensionToken(r)?r.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,n){switch(n){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).reduce(function(r,s){return r|parseDisplayValue(s.value)},0)}},parseDisplayValue=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,n){return n.type===20&&n.value==="normal"?0:n.type===17||n.type===15?n.number:0}},LINE_BREAK;(function(t){t.NORMAL="normal",t.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(t,n){return isIdentToken(t)&&t.value==="normal"?1.2*n:t.type===17?n*t.number:isLengthPercentage(t)?getAbsoluteValue(t,n):n},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,n){return n.type===20&&n.value==="none"?null:image$1.parse(t,n)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,n){switch(n){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,n){switch(n){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,n){switch(n){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&isIdentWithValue(n[0],"none")?[]:parseFunctionArgs(n).map(function(r){for(var s={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},o=0,l=0;l<r.length;l++){var c=r[l];isLength(c)?(o===0?s.offsetX=c:o===1?s.offsetY=c:s.blur=c,o++):s.color=color$1.parse(t,c)}return s})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,n){if(n.type===20&&n.value==="none")return null;if(n.type===18){var r=SUPPORTED_TRANSFORM_FUNCTIONS[n.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+n.name+'"');return r(n.values)}return null}},matrix=function(t){var n=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return n.length===6?n:null},matrix3d=function(t){var n=t.filter(function(m){return m.type===17}).map(function(m){return m.number}),r=n[0],s=n[1];n[2],n[3];var o=n[4],l=n[5];n[6],n[7],n[8],n[9],n[10],n[11];var c=n[12],p=n[13];return n[14],n[15],n.length===16?[r,s,o,l,c,p]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,n){var r=n.filter(isLengthPercentage);return r.length!==2?DEFAULT:[r[0],r[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,n){if(n.type===20)return{auto:!0,order:0};if(isNumberToken(n))return{auto:!1,order:n.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(t,n){if(n.type===15)switch(n.unit.toLowerCase()){case"s":return 1e3*n.number;case"ms":return n.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,n){return isNumberToken(n)?n.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,n){var r=[],s=[];return n.forEach(function(o){switch(o.type){case 20:case 0:r.push(o.value);break;case 17:r.push(o.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,n){if(isNumberToken(n))return n.number;if(isIdentToken(n))switch(n.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.filter(isIdentToken).map(function(r){return r.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(t,n){return(t&n)!==0},content$1={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,n){if(n.length===0)return[];var r=n[0];return r.type===20&&r.value==="none"?[]:n}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return null;var r=n[0];if(r.type===20&&r.value==="none")return null;for(var s=[],o=n.filter(nonWhiteSpace),l=0;l<o.length;l++){var c=o[l],p=o[l+1];if(c.type===20){var m=p&&isNumberToken(p)?p.number:1;s.push({counter:c.value,increment:m})}}return s}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return[];for(var r=[],s=n.filter(nonWhiteSpace),o=0;o<s.length;o++){var l=s[o],c=s[o+1];if(isIdentToken(l)&&l.value!=="none"){var p=c&&isNumberToken(c)?c.number:0;r.push({counter:l.value,reset:p})}}return r}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,n){return n.filter(isDimensionToken).map(function(r){return time.parse(t,r)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,n){if(n.length===0)return null;var r=n[0];if(r.type===20&&r.value==="none")return null;var s=[],o=n.filter(isStringToken);if(o.length%2!==0)return null;for(var l=0;l<o.length;l+=2){var c=o[l].value,p=o[l+1].value;s.push({open:c,close:p})}return s}},getQuote=function(t,n,r){if(!t)return"";var s=t[Math.min(n,t.length-1)];return s?r?s.open:s.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&isIdentWithValue(n[0],"none")?[]:parseFunctionArgs(n).map(function(r){for(var s={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},o=0,l=0;l<r.length;l++){var c=r[l];isIdentWithValue(c,"inset")?s.inset=!0:isLength(c)?(o===0?s.offsetX=c:o===1?s.offsetY=c:o===2?s.blur=c:s.spread=c,o++):s.color=color$1.parse(t,c)}return s})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,n){var r=[0,1,2],s=[];return n.filter(isIdentToken).forEach(function(o){switch(o.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(o){s.indexOf(o)===-1&&s.push(o)}),s}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return isDimensionToken(n)?n.number:0}},CSSParsedDeclaration=(function(){function t(n,r){var s,o;this.animationDuration=parse(n,duration,r.animationDuration),this.backgroundClip=parse(n,backgroundClip,r.backgroundClip),this.backgroundColor=parse(n,backgroundColor,r.backgroundColor),this.backgroundImage=parse(n,backgroundImage,r.backgroundImage),this.backgroundOrigin=parse(n,backgroundOrigin,r.backgroundOrigin),this.backgroundPosition=parse(n,backgroundPosition,r.backgroundPosition),this.backgroundRepeat=parse(n,backgroundRepeat,r.backgroundRepeat),this.backgroundSize=parse(n,backgroundSize,r.backgroundSize),this.borderTopColor=parse(n,borderTopColor,r.borderTopColor),this.borderRightColor=parse(n,borderRightColor,r.borderRightColor),this.borderBottomColor=parse(n,borderBottomColor,r.borderBottomColor),this.borderLeftColor=parse(n,borderLeftColor,r.borderLeftColor),this.borderTopLeftRadius=parse(n,borderTopLeftRadius,r.borderTopLeftRadius),this.borderTopRightRadius=parse(n,borderTopRightRadius,r.borderTopRightRadius),this.borderBottomRightRadius=parse(n,borderBottomRightRadius,r.borderBottomRightRadius),this.borderBottomLeftRadius=parse(n,borderBottomLeftRadius,r.borderBottomLeftRadius),this.borderTopStyle=parse(n,borderTopStyle,r.borderTopStyle),this.borderRightStyle=parse(n,borderRightStyle,r.borderRightStyle),this.borderBottomStyle=parse(n,borderBottomStyle,r.borderBottomStyle),this.borderLeftStyle=parse(n,borderLeftStyle,r.borderLeftStyle),this.borderTopWidth=parse(n,borderTopWidth,r.borderTopWidth),this.borderRightWidth=parse(n,borderRightWidth,r.borderRightWidth),this.borderBottomWidth=parse(n,borderBottomWidth,r.borderBottomWidth),this.borderLeftWidth=parse(n,borderLeftWidth,r.borderLeftWidth),this.boxShadow=parse(n,boxShadow,r.boxShadow),this.color=parse(n,color,r.color),this.direction=parse(n,direction,r.direction),this.display=parse(n,display,r.display),this.float=parse(n,float,r.cssFloat),this.fontFamily=parse(n,fontFamily,r.fontFamily),this.fontSize=parse(n,fontSize,r.fontSize),this.fontStyle=parse(n,fontStyle,r.fontStyle),this.fontVariant=parse(n,fontVariant,r.fontVariant),this.fontWeight=parse(n,fontWeight,r.fontWeight),this.letterSpacing=parse(n,letterSpacing,r.letterSpacing),this.lineBreak=parse(n,lineBreak,r.lineBreak),this.lineHeight=parse(n,lineHeight,r.lineHeight),this.listStyleImage=parse(n,listStyleImage,r.listStyleImage),this.listStylePosition=parse(n,listStylePosition,r.listStylePosition),this.listStyleType=parse(n,listStyleType,r.listStyleType),this.marginTop=parse(n,marginTop,r.marginTop),this.marginRight=parse(n,marginRight,r.marginRight),this.marginBottom=parse(n,marginBottom,r.marginBottom),this.marginLeft=parse(n,marginLeft,r.marginLeft),this.opacity=parse(n,opacity,r.opacity);var l=parse(n,overflow,r.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=parse(n,overflowWrap,r.overflowWrap),this.paddingTop=parse(n,paddingTop,r.paddingTop),this.paddingRight=parse(n,paddingRight,r.paddingRight),this.paddingBottom=parse(n,paddingBottom,r.paddingBottom),this.paddingLeft=parse(n,paddingLeft,r.paddingLeft),this.paintOrder=parse(n,paintOrder,r.paintOrder),this.position=parse(n,position,r.position),this.textAlign=parse(n,textAlign,r.textAlign),this.textDecorationColor=parse(n,textDecorationColor,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=parse(n,textDecorationLine,(o=r.textDecorationLine)!==null&&o!==void 0?o:r.textDecoration),this.textShadow=parse(n,textShadow,r.textShadow),this.textTransform=parse(n,textTransform,r.textTransform),this.transform=parse(n,transform$1,r.transform),this.transformOrigin=parse(n,transformOrigin,r.transformOrigin),this.visibility=parse(n,visibility,r.visibility),this.webkitTextStrokeColor=parse(n,webkitTextStrokeColor,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse(n,webkitTextStrokeWidth,r.webkitTextStrokeWidth),this.wordBreak=parse(n,wordBreak,r.wordBreak),this.zIndex=parse(n,zIndex,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},t})(),CSSParsedPseudoDeclaration=(function(){function t(n,r){this.content=parse(n,content$1,r.content),this.quotes=parse(n,quotes,r.quotes)}return t})(),CSSParsedCounterDeclaration=(function(){function t(n,r){this.counterIncrement=parse(n,counterIncrement,r.counterIncrement),this.counterReset=parse(n,counterReset,r.counterReset)}return t})(),parse=function(t,n,r){var s=new Tokenizer,o=r!==null&&typeof r<"u"?r.toString():n.initialValue;s.write(o);var l=new Parser(s.read());switch(n.type){case 2:var c=l.parseComponentValue();return n.parse(t,isIdentToken(c)?c.value:n.initialValue);case 0:return n.parse(t,l.parseComponentValue());case 1:return n.parse(t,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(n.format){case"angle":return angle.parse(t,l.parseComponentValue());case"color":return color$1.parse(t,l.parseComponentValue());case"image":return image$1.parse(t,l.parseComponentValue());case"length":var p=l.parseComponentValue();return isLength(p)?p:ZERO_LENGTH;case"length-percentage":var m=l.parseComponentValue();return isLengthPercentage(m)?m:ZERO_LENGTH;case"time":return time.parse(t,l.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(t){var n=t.getAttribute(elementDebuggerAttribute);switch(n){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(t,n){var r=getElementDebugType(t);return r===1||n===r},ElementContainer=(function(){function t(n,r){if(this.context=n,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(r,3))debugger;this.styles=new CSSParsedDeclaration(n,window.getComputedStyle(r,null)),isHTMLElementNode(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=parseBounds(this.context,r),isDebugging(r,4)&&(this.flags|=16)}return t})(),base64$2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var decode=function(t){var n=t.length*.75,r=t.length,s,o=0,l,c,p,m;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var x=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),b=Array.isArray(x)?x:new Uint8Array(x);for(s=0;s<r;s+=4)l=lookup$1[t.charCodeAt(s)],c=lookup$1[t.charCodeAt(s+1)],p=lookup$1[t.charCodeAt(s+2)],m=lookup$1[t.charCodeAt(s+3)],b[o++]=l<<2|c>>4,b[o++]=(c&15)<<4|p>>2,b[o++]=(p&3)<<6|m&63;return x},polyUint16Array=function(t){for(var n=t.length,r=[],s=0;s<n;s+=2)r.push(t[s+1]<<8|t[s]);return r},polyUint32Array=function(t){for(var n=t.length,r=[],s=0;s<n;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(t,n,r){return t.slice?t.slice(n,r):new Uint16Array(Array.prototype.slice.call(t,n,r))},slice32=function(t,n,r){return t.slice?t.slice(n,r):new Uint32Array(Array.prototype.slice.call(t,n,r))},createTrieFromBase64=function(t,n){var r=decode(t),s=Array.isArray(r)?polyUint32Array(r):new Uint32Array(r),o=Array.isArray(r)?polyUint16Array(r):new Uint16Array(r),l=24,c=slice16(o,l/2,s[4]/2),p=s[5]===2?slice16(o,(l+s[4])/2):slice32(s,Math.ceil((l+s[4])/4));return new Trie(s[0],s[1],s[2],s[3],c,p)},Trie=(function(){function t(n,r,s,o,l,c){this.initialValue=n,this.errorValue=r,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=c}return t.prototype.get=function(n){var r;if(n>=0){if(n<55296||n>56319&&n<=65535)return r=this.index[n>>UTRIE2_SHIFT_2],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<=65535)return r=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(n-55296>>UTRIE2_SHIFT_2)],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<this.highStart)return r=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(n>>UTRIE2_SHIFT_1),r=this.index[r],r+=n>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,r=this.index[r],r=(r<<UTRIE2_INDEX_SHIFT)+(n&UTRIE2_DATA_MASK),this.data[r];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$4=0;i$4<chars.length;i$4++)lookup[chars.charCodeAt(i$4)]=i$4;var Prepend=1,CR$2=2,LF$2=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(t){for(var n=[],r=0,s=t.length;r<s;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<s){var l=t.charCodeAt(r++);(l&64512)===56320?n.push(((o&1023)<<10)+(l&1023)+65536):(n.push(o),r--)}else n.push(o)}return n},fromCodePoint=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],o=-1,l="";++o<r;){var c=t[o];c<=65535?s.push(c):(c-=65536,s.push((c>>10)+55296,c%1024+56320)),(o+1===r||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},UnicodeTrie=createTrieFromBase64(base64$2),BREAK_NOT_ALLOWED="",BREAK_ALLOWED="",codePointToClass=function(t){return UnicodeTrie.get(t)},_graphemeBreakAtIndex=function(t,n,r){var s=r-2,o=n[s],l=n[r-1],c=n[r];if(l===CR$2&&c===LF$2)return BREAK_NOT_ALLOWED;if(l===CR$2||l===LF$2||l===Control||c===CR$2||c===LF$2||c===Control)return BREAK_ALLOWED;if(l===L&&[L,V,LV,LVT].indexOf(c)!==-1||(l===LV||l===V)&&(c===V||c===T)||(l===LVT||l===T)&&c===T||c===ZWJ||c===Extend||c===SpacingMark||l===Prepend)return BREAK_NOT_ALLOWED;if(l===ZWJ&&c===Extended_Pictographic){for(;o===Extend;)o=n[--s];if(o===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(l===RI&&c===RI){for(var p=0;o===RI;)p++,o=n[--s];if(p%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(t){var n=toCodePoints(t),r=n.length,s=0,o=0,l=n.map(codePointToClass);return{next:function(){if(s>=r)return{done:!0,value:null};for(var c=BREAK_NOT_ALLOWED;s<r&&(c=_graphemeBreakAtIndex(n,l,++s))===BREAK_NOT_ALLOWED;);if(c!==BREAK_NOT_ALLOWED||s===r){var p=fromCodePoint.apply(null,n.slice(o,s));return o=s,{value:p,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(t){for(var n=GraphemeBreaker(t),r=[],s;!(s=n.next()).done;)s.value&&r.push(s.value.slice());return r},testRangeBounds=function(t){var n=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=n+"px",s.style.display="block",t.body.appendChild(s),r.selectNode(s);var o=r.getBoundingClientRect(),l=Math.round(o.height);if(t.body.removeChild(s),l===n)return!0}}return!1},testIOSLineBreak=function(t){var n=t.createElement("boundtest");n.style.width="50px",n.style.display="block",n.style.fontSize="12px",n.style.letterSpacing="0px",n.style.wordSpacing="0px",t.body.appendChild(n);var r=t.createRange();n.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=n.firstChild,o=toCodePoints$1(s.data).map(function(m){return fromCodePoint$1(m)}),l=0,c={},p=o.every(function(m,x){r.setStart(s,l),r.setEnd(s,l+m.length);var b=r.getBoundingClientRect();l+=m.length;var _=b.x>c.x||b.y>c.y;return c=b,x===0?!0:_});return t.body.removeChild(n),p},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(t){var n=new Image,r=t.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;n.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(n,0,0),r.toDataURL()}catch{return!1}return!0},isGreenPixel=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},testForeignObject=function(t){var n=t.createElement("canvas"),r=100;n.width=r,n.height=r;var s=n.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var o=new Image,l=n.toDataURL();o.src=l;var c=createForeignObjectSVG(r,r,0,0,o);return s.fillStyle="red",s.fillRect(0,0,r,r),loadSerializedSVG$1(c).then(function(p){s.drawImage(p,0,0);var m=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var x=t.createElement("div");return x.style.backgroundImage="url("+l+")",x.style.height=r+"px",isGreenPixel(m)?loadSerializedSVG$1(createForeignObjectSVG(r,r,0,0,x)):Promise.reject(!1)}).then(function(p){return s.drawImage(p,0,0),isGreenPixel(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},createForeignObjectSVG=function(t,n,r,s,o){var l="http://www.w3.org/2000/svg",c=document.createElementNS(l,"svg"),p=document.createElementNS(l,"foreignObject");return c.setAttributeNS(null,"width",t.toString()),c.setAttributeNS(null,"height",n.toString()),p.setAttributeNS(null,"width","100%"),p.setAttributeNS(null,"height","100%"),p.setAttributeNS(null,"x",r.toString()),p.setAttributeNS(null,"y",s.toString()),p.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(p),p.appendChild(o),c},loadSerializedSVG$1=function(t){return new Promise(function(n,r){var s=new Image;s.onload=function(){return n(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var t=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},TextBounds=(function(){function t(n,r){this.text=n,this.bounds=r}return t})(),parseTextBounds=function(t,n,r,s){var o=breakText(n,r),l=[],c=0;return o.forEach(function(p){if(r.textDecorationLine.length||p.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var m=createRange(s,c,p.length).getClientRects();if(m.length>1){var x=segmentGraphemes(p),b=0;x.forEach(function(R){l.push(new TextBounds(R,Bounds.fromDOMRectList(t,createRange(s,b+c,R.length).getClientRects()))),b+=R.length})}else l.push(new TextBounds(p,Bounds.fromDOMRectList(t,m)))}else{var _=s.splitText(p.length);l.push(new TextBounds(p,getWrapperBounds(t,s))),s=_}else FEATURES.SUPPORT_RANGE_BOUNDS||(s=s.splitText(p.length));c+=p.length}),l},getWrapperBounds=function(t,n){var r=n.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(n.cloneNode(!0));var o=n.parentNode;if(o){o.replaceChild(s,n);var l=parseBounds(t,s);return s.firstChild&&o.replaceChild(s.firstChild,s),l}}return Bounds.EMPTY},createRange=function(t,n,r){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var o=s.createRange();return o.setStart(t,n),o.setEnd(t,n+r),o},segmentGraphemes=function(t){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return splitGraphemes(t)},segmentWords=function(t,n){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(s){return s.segment})}return breakWords(t,n)},breakText=function(t,n){return n.letterSpacing!==0?segmentGraphemes(t):segmentWords(t,n)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(t,n){for(var r=LineBreaker(t,{lineBreak:n.lineBreak,wordBreak:n.overflowWrap==="break-word"?"break-word":n.wordBreak}),s=[],o,l=function(){if(o.value){var c=o.value.slice(),p=toCodePoints$1(c),m="";p.forEach(function(x){wordSeparators.indexOf(x)===-1?m+=fromCodePoint$1(x):(m.length&&s.push(m),s.push(fromCodePoint$1(x)),m="")}),m.length&&s.push(m)}};!(o=r.next()).done;)l();return s},TextContainer=(function(){function t(n,r,s){this.text=transform(r.data,s.textTransform),this.textBounds=parseTextBounds(n,this.text,s,r)}return t})(),transform=function(t,n){switch(n){case 1:return t.toLowerCase();case 3:return t.replace(CAPITALIZE,capitalize);case 2:return t.toUpperCase();default:return t}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(t,n,r){return t.length>0?n+r.toUpperCase():t},ImageElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.src=s.currentSrc||s.src,o.intrinsicWidth=s.naturalWidth,o.intrinsicHeight=s.naturalHeight,o.context.cache.addImage(o.src),o}return n})(ElementContainer),CanvasElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.canvas=s,o.intrinsicWidth=s.width,o.intrinsicHeight=s.height,o}return n})(ElementContainer),SVGElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this,l=new XMLSerializer,c=parseBounds(r,s);return s.setAttribute("width",c.width+"px"),s.setAttribute("height",c.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(s)),o.intrinsicWidth=s.width.baseVal.value,o.intrinsicHeight=s.height.baseVal.value,o.context.cache.addImage(o.svg),o}return n})(ElementContainer),LIElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.value=s.value,o}return n})(ElementContainer),OLElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.start=s.start,o.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,o}return n})(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(t){return t.width>t.height?new Bounds(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Bounds(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},getInputValue=function(t){var n=t.type===PASSWORD?new Array(t.value.length+1).join(""):t.value;return n.length===0?t.placeholder||"":n},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;switch(o.type=s.type.toLowerCase(),o.checked=s.checked,o.value=getInputValue(s),(o.type===CHECKBOX||o.type===RADIO)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=reformatInputBounds(o.bounds)),o.type){case CHECKBOX:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return o}return n})(ElementContainer),SelectElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this,l=s.options[s.selectedIndex||0];return o.value=l&&l.text||"",o}return n})(ElementContainer),TextareaElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.value=s.value,o}return n})(ElementContainer),IFrameElementContainer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;o.src=s.src,o.width=parseInt(s.width,10)||0,o.height=parseInt(s.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){o.tree=parseTree(r,s.contentWindow.document.documentElement);var l=s.contentWindow.document.documentElement?parseColor(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,c=s.contentWindow.document.body?parseColor(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;o.backgroundColor=isTransparent(l)?isTransparent(c)?o.styles.backgroundColor:c:l}}catch{}return o}return n})(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(t,n,r,s){for(var o=n.firstChild,l=void 0;o;o=l)if(l=o.nextSibling,isTextNode(o)&&o.data.trim().length>0)r.textNodes.push(new TextContainer(t,o,r.styles));else if(isElementNode(o))if(isSlotElement(o)&&o.assignedNodes)o.assignedNodes().forEach(function(p){return parseNodeTree(t,p,r,s)});else{var c=createContainer(t,o);c.styles.isVisible()&&(createsRealStackingContext(o,c,s)?c.flags|=4:createsStackingContext(c.styles)&&(c.flags|=2),LIST_OWNERS.indexOf(o.tagName)!==-1&&(c.flags|=8),r.elements.push(c),o.slot,o.shadowRoot?parseNodeTree(t,o.shadowRoot,c,s):!isTextareaElement(o)&&!isSVGElement(o)&&!isSelectElement(o)&&parseNodeTree(t,o,c,s))}},createContainer=function(t,n){return isImageElement(n)?new ImageElementContainer(t,n):isCanvasElement(n)?new CanvasElementContainer(t,n):isSVGElement(n)?new SVGElementContainer(t,n):isLIElement(n)?new LIElementContainer(t,n):isOLElement(n)?new OLElementContainer(t,n):isInputElement(n)?new InputElementContainer(t,n):isSelectElement(n)?new SelectElementContainer(t,n):isTextareaElement(n)?new TextareaElementContainer(t,n):isIFrameElement(n)?new IFrameElementContainer(t,n):new ElementContainer(t,n)},parseTree=function(t,n){var r=createContainer(t,n);return r.flags|=4,parseNodeTree(t,n,r,r),r},createsRealStackingContext=function(t,n,r){return n.styles.isPositionedWithZIndex()||n.styles.opacity<1||n.styles.isTransformed()||isBodyElement(t)&&r.styles.isTransparent()},createsStackingContext=function(t){return t.isPositioned()||t.isFloating()},isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(t){return isElementNode(t)&&typeof t.style<"u"&&!isSVGElementNode(t)},isSVGElementNode=function(t){return typeof t.className=="object"},isLIElement=function(t){return t.tagName==="LI"},isOLElement=function(t){return t.tagName==="OL"},isInputElement=function(t){return t.tagName==="INPUT"},isHTMLElement=function(t){return t.tagName==="HTML"},isSVGElement=function(t){return t.tagName==="svg"},isBodyElement=function(t){return t.tagName==="BODY"},isCanvasElement=function(t){return t.tagName==="CANVAS"},isVideoElement=function(t){return t.tagName==="VIDEO"},isImageElement=function(t){return t.tagName==="IMG"},isIFrameElement=function(t){return t.tagName==="IFRAME"},isStyleElement=function(t){return t.tagName==="STYLE"},isScriptElement=function(t){return t.tagName==="SCRIPT"},isTextareaElement=function(t){return t.tagName==="TEXTAREA"},isSelectElement=function(t){return t.tagName==="SELECT"},isSlotElement=function(t){return t.tagName==="SLOT"},isCustomElement=function(t){return t.tagName.indexOf("-")>0},CounterState=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(n){var r=this.counters[n];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(n){var r=this.counters[n];return r||[]},t.prototype.pop=function(n){var r=this;n.forEach(function(s){return r.counters[s].pop()})},t.prototype.parse=function(n){var r=this,s=n.counterIncrement,o=n.counterReset,l=!0;s!==null&&s.forEach(function(p){var m=r.counters[p.counter];m&&p.increment!==0&&(l=!1,m.length||m.push(1),m[Math.max(0,m.length-1)]+=p.increment)});var c=[];return l&&o.forEach(function(p){var m=r.counters[p.counter];c.push(p.counter),m||(m=r.counters[p.counter]=[]),m.push(p.reset)}),c},t})(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},createAdditiveCounter=function(t,n,r,s,o,l){return t<n||t>r?createCounterText(t,o,l.length>0):s.integers.reduce(function(c,p,m){for(;t>=p;)t-=p,c+=s.values[m];return c},"")+l},createCounterStyleWithSymbolResolver=function(t,n,r,s){var o="";do r||t--,o=s(t)+o,t/=n;while(t*n>=n);return o},createCounterStyleFromRange=function(t,n,r,s,o){var l=r-n+1;return(t<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(t),l,s,function(c){return fromCodePoint$1(Math.floor(c%l)+n)})+o)},createCounterStyleFromSymbols=function(t,n,r){r===void 0&&(r=". ");var s=n.length;return createCounterStyleWithSymbolResolver(Math.abs(t),s,!1,function(o){return n[Math.floor(o%s)]})+r},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(t,n,r,s,o,l){if(t<-9999||t>9999)return createCounterText(t,4,o.length>0);var c=Math.abs(t),p=o;if(c===0)return n[0]+p;for(var m=0;c>0&&m<=4;m++){var x=c%10;x===0&&contains(l,CJK_ZEROS)&&p!==""?p=n[x]+p:x>1||x===1&&m===0||x===1&&m===1&&contains(l,CJK_TEN_COEFFICIENTS)||x===1&&m===1&&contains(l,CJK_TEN_HIGH_COEFFICIENTS)&&t>100||x===1&&m>1&&contains(l,CJK_HUNDRED_COEFFICIENTS)?p=n[x]+(m>0?r[m-1]:"")+p:x===1&&m>0&&(p=r[m-1]+p),c=Math.floor(c/10)}return(t<0?s:"")+p},CHINESE_INFORMAL_MULTIPLIERS="",CHINESE_FORMAL_MULTIPLIERS="",JAPANESE_NEGATIVE="",KOREAN_NEGATIVE="",createCounterText=function(t,n,r){var s=r?". ":"",o=r?"":"",l=r?", ":"",c=r?" ":"";switch(n){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var p=createCounterStyleFromRange(t,48,57,!0,s);return p.length<4?"0"+p:p;case 4:return createCounterStyleFromSymbols(t,"",o);case 6:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s).toLowerCase();case 7:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s);case 8:return createCounterStyleFromRange(t,945,969,!1,s);case 9:return createCounterStyleFromRange(t,97,122,!1,s);case 10:return createCounterStyleFromRange(t,65,90,!1,s);case 11:return createCounterStyleFromRange(t,1632,1641,!0,s);case 12:case 49:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s);case 35:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s).toLowerCase();case 13:return createCounterStyleFromRange(t,2534,2543,!0,s);case 14:case 30:return createCounterStyleFromRange(t,6112,6121,!0,s);case 15:return createCounterStyleFromSymbols(t,"",o);case 16:return createCounterStyleFromSymbols(t,"",o);case 17:case 48:return createCJKCounter(t,"",CHINESE_INFORMAL_MULTIPLIERS,"",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(t,"",CHINESE_FORMAL_MULTIPLIERS,"",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(t,"",CHINESE_INFORMAL_MULTIPLIERS,"",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(t,"",CHINESE_FORMAL_MULTIPLIERS,"",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(t,"","",JAPANESE_NEGATIVE,o,0);case 25:return createCJKCounter(t,"","",JAPANESE_NEGATIVE,o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,0);case 32:return createCJKCounter(t,"","",KOREAN_NEGATIVE,l,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(t,2406,2415,!0,s);case 20:return createAdditiveCounter(t,1,19999,GEORGIAN,3,s);case 21:return createCounterStyleFromRange(t,2790,2799,!0,s);case 22:return createCounterStyleFromRange(t,2662,2671,!0,s);case 22:return createAdditiveCounter(t,1,10999,HEBREW,3,s);case 23:return createCounterStyleFromSymbols(t,"");case 24:return createCounterStyleFromSymbols(t,"");case 27:return createCounterStyleFromRange(t,3302,3311,!0,s);case 28:return createCounterStyleFromSymbols(t,"",o);case 29:return createCounterStyleFromSymbols(t,"",o);case 34:return createCounterStyleFromRange(t,3792,3801,!0,s);case 37:return createCounterStyleFromRange(t,6160,6169,!0,s);case 38:return createCounterStyleFromRange(t,4160,4169,!0,s);case 39:return createCounterStyleFromRange(t,2918,2927,!0,s);case 40:return createCounterStyleFromRange(t,1776,1785,!0,s);case 43:return createCounterStyleFromRange(t,3046,3055,!0,s);case 44:return createCounterStyleFromRange(t,3174,3183,!0,s);case 45:return createCounterStyleFromRange(t,3664,3673,!0,s);case 46:return createCounterStyleFromRange(t,3872,3881,!0,s);case 3:default:return createCounterStyleFromRange(t,48,57,!0,s)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=(function(){function t(n,r,s){if(this.context=n,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new CounterState,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(n,r){var s=this,o=createIFrameContainer(n,r);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var l=n.defaultView.pageXOffset,c=n.defaultView.pageYOffset,p=o.contentWindow,m=p.document,x=iframeLoader(o).then(function(){return __awaiter$1(s,void 0,void 0,function(){var b,_;return __generator(this,function(R){switch(R.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),p&&(p.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(p.scrollY!==r.top||p.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(p.scrollX-r.left,p.scrollY-r.top,0,0))),b=this.options.onclone,_=this.clonedReferenceElement,typeof _>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:m.fonts&&m.fonts.ready?[4,m.fonts.ready]:[3,2];case 1:R.sent(),R.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(m)]:[3,4];case 3:R.sent(),R.label=4;case 4:return typeof b=="function"?[2,Promise.resolve().then(function(){return b(m,_)}).then(function(){return o})]:[2,o]}})})});return m.open(),m.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,l,c),m.replaceChild(m.adoptNode(this.documentElement),m.documentElement),m.close(),x},t.prototype.createElementClone=function(n){if(isDebugging(n,2))debugger;if(isCanvasElement(n))return this.createCanvasClone(n);if(isVideoElement(n))return this.createVideoClone(n);if(isStyleElement(n))return this.createStyleClone(n);var r=n.cloneNode(!1);return isImageElement(r)&&(isImageElement(n)&&n.currentSrc&&n.currentSrc!==n.src&&(r.src=n.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),isCustomElement(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(n){var r=document.createElement("html2canvascustomelement");return copyCSSStyles(n.style,r),r},t.prototype.createStyleClone=function(n){try{var r=n.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(l,c){return c&&typeof c.cssText=="string"?l+c.cssText:l},""),o=n.cloneNode(!1);return o.textContent=s,o}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return n.cloneNode(!1)},t.prototype.createCanvasClone=function(n){var r;if(this.options.inlineImages&&n.ownerDocument){var s=n.ownerDocument.createElement("img");try{return s.src=n.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",n)}}var o=n.cloneNode(!1);try{o.width=n.width,o.height=n.height;var l=n.getContext("2d"),c=o.getContext("2d");if(c)if(!this.options.allowTaint&&l)c.putImageData(l.getImageData(0,0,n.width,n.height),0,0);else{var p=(r=n.getContext("webgl2"))!==null&&r!==void 0?r:n.getContext("webgl");if(p){var m=p.getContextAttributes();(m==null?void 0:m.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",n)}c.drawImage(n,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",n)}return o},t.prototype.createVideoClone=function(n){var r=n.ownerDocument.createElement("canvas");r.width=n.offsetWidth,r.height=n.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(n,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",n)}var o=n.ownerDocument.createElement("canvas");return o.width=n.offsetWidth,o.height=n.offsetHeight,o},t.prototype.appendChildNode=function(n,r,s){(!isElementNode(r)||!isScriptElement(r)&&!r.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!isElementNode(r)||!isStyleElement(r))&&n.appendChild(this.cloneNode(r,s))},t.prototype.cloneChildNodes=function(n,r,s){for(var o=this,l=n.shadowRoot?n.shadowRoot.firstChild:n.firstChild;l;l=l.nextSibling)if(isElementNode(l)&&isSlotElement(l)&&typeof l.assignedNodes=="function"){var c=l.assignedNodes();c.length&&c.forEach(function(p){return o.appendChildNode(r,p,s)})}else this.appendChildNode(r,l,s)},t.prototype.cloneNode=function(n,r){if(isTextNode(n))return document.createTextNode(n.data);if(!n.ownerDocument)return n.cloneNode(!1);var s=n.ownerDocument.defaultView;if(s&&isElementNode(n)&&(isHTMLElementNode(n)||isSVGElementNode(n))){var o=this.createElementClone(n);o.style.transitionProperty="none";var l=s.getComputedStyle(n),c=s.getComputedStyle(n,":before"),p=s.getComputedStyle(n,":after");this.referenceElement===n&&isHTMLElementNode(o)&&(this.clonedReferenceElement=o),isBodyElement(o)&&createPseudoHideStyles(o);var m=this.counters.parse(new CSSParsedCounterDeclaration(this.context,l)),x=this.resolvePseudoContent(n,o,c,PseudoElementType.BEFORE);isCustomElement(n)&&(r=!0),isVideoElement(n)||this.cloneChildNodes(n,o,r),x&&o.insertBefore(x,o.firstChild);var b=this.resolvePseudoContent(n,o,p,PseudoElementType.AFTER);return b&&o.appendChild(b),this.counters.pop(m),(l&&(this.options.copyStyles||isSVGElementNode(n))&&!isIFrameElement(n)||r)&&copyCSSStyles(l,o),(n.scrollTop!==0||n.scrollLeft!==0)&&this.scrolledElements.push([o,n.scrollLeft,n.scrollTop]),(isTextareaElement(n)||isSelectElement(n))&&(isTextareaElement(o)||isSelectElement(o))&&(o.value=n.value),o}return n.cloneNode(!1)},t.prototype.resolvePseudoContent=function(n,r,s,o){var l=this;if(s){var c=s.content,p=r.ownerDocument;if(!(!p||!c||c==="none"||c==="-moz-alt-content"||s.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,s));var m=new CSSParsedPseudoDeclaration(this.context,s),x=p.createElement("html2canvaspseudoelement");copyCSSStyles(s,x),m.content.forEach(function(_){if(_.type===0)x.appendChild(p.createTextNode(_.value));else if(_.type===22){var R=p.createElement("img");R.src=_.value,R.style.opacity="1",x.appendChild(R)}else if(_.type===18){if(_.name==="attr"){var k=_.values.filter(isIdentToken);k.length&&x.appendChild(p.createTextNode(n.getAttribute(k[0].value)||""))}else if(_.name==="counter"){var M=_.values.filter(nonFunctionArgSeparator),P=M[0],K=M[1];if(P&&isIdentToken(P)){var $=l.counters.getCounterValue(P.value),G=K&&isIdentToken(K)?listStyleType.parse(l.context,K.value):3;x.appendChild(p.createTextNode(createCounterText($,G,!1)))}}else if(_.name==="counters"){var H=_.values.filter(nonFunctionArgSeparator),P=H[0],j=H[1],K=H[2];if(P&&isIdentToken(P)){var W=l.counters.getCounterValues(P.value),Y=K&&isIdentToken(K)?listStyleType.parse(l.context,K.value):3,X=j&&j.type===0?j.value:"",te=W.map(function(ge){return createCounterText(ge,Y,!1)}).join(X);x.appendChild(p.createTextNode(te))}}}else if(_.type===20)switch(_.value){case"open-quote":x.appendChild(p.createTextNode(getQuote(m.quotes,l.quoteDepth++,!0)));break;case"close-quote":x.appendChild(p.createTextNode(getQuote(m.quotes,--l.quoteDepth,!1)));break;default:x.appendChild(p.createTextNode(_.value))}}),x.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var b=o===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(r)?r.className.baseValue+=b:r.className+=b,x}}},t.destroy=function(n){return n.parentNode?(n.parentNode.removeChild(n),!0):!1},t})(),PseudoElementType;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(t,n){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=n.width.toString(),r.height=n.height.toString(),r.scrolling="no",r.setAttribute(IGNORE_ATTRIBUTE,"true"),t.body.appendChild(r),r},imageReady=function(t){return new Promise(function(n){if(t.complete){n();return}if(!t.src){n();return}t.onload=n,t.onerror=n})},imagesReady=function(t){return Promise.all([].slice.call(t.images,0).map(imageReady))},iframeLoader=function(t){return new Promise(function(n,r){var s=t.contentWindow;if(!s)return r("No window assigned for iframe");var o=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var l=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(l),n(t))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t.item(r);ignoredStyleProperties.indexOf(s)===-1&&n.style.setProperty(s,t.getPropertyValue(s))}return n},serializeDoctype=function(t){var n="";return t&&(n+="<!DOCTYPE ",t.name&&(n+=t.name),t.internalSubset&&(n+=t.internalSubset),t.publicId&&(n+='"'+t.publicId+'"'),t.systemId&&(n+='"'+t.systemId+'"'),n+=">"),n},restoreOwnerScroll=function(t,n,r){t&&t.defaultView&&(n!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(n,r)},restoreNodeScroll=function(t){var n=t[0],r=t[1],s=t[2];n.scrollLeft=r,n.scrollTop=s},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(t){createStyles(t,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(t,n){var r=t.ownerDocument;if(r){var s=r.createElement("style");s.textContent=n,t.appendChild(s)}},CacheStorage=(function(){function t(){}return t.getOrigin=function(n){var r=t._link;return r?(r.href=n,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(n){return t.getOrigin(n)===t._origin},t.setContext=function(n){t._link=n.document.createElement("a"),t._origin=t.getOrigin(n.location.href)},t._origin="about:blank",t})(),Cache=(function(){function t(n,r){this.context=n,this._options=r,this._cache={}}return t.prototype.addImage=function(n){var r=Promise.resolve();return this.has(n)||(isBlobImage(n)||isRenderable(n))&&(this._cache[n]=this.loadImage(n)).catch(function(){}),r},t.prototype.match=function(n){return this._cache[n]},t.prototype.loadImage=function(n){return __awaiter$1(this,void 0,void 0,function(){var r,s,o,l,c=this;return __generator(this,function(p){switch(p.label){case 0:return r=CacheStorage.isSameOrigin(n),s=!isInlineImage(n)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!r,o=!isInlineImage(n)&&!r&&!isBlobImage(n)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!isInlineImage(n)&&!isBlobImage(n)&&!o&&!s?[2]:(l=n,o?[4,this.proxy(l)]:[3,2]);case 1:l=p.sent(),p.label=2;case 2:return this.context.logger.debug("Added image "+n.substring(0,256)),[4,new Promise(function(m,x){var b=new Image;b.onload=function(){return m(b)},b.onerror=x,(isInlineBase64Image(l)||s)&&(b.crossOrigin="anonymous"),b.src=l,b.complete===!0&&setTimeout(function(){return m(b)},500),c._options.imageTimeout>0&&setTimeout(function(){return x("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,p.sent()]}})})},t.prototype.has=function(n){return typeof this._cache[n]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(n){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var o=n.substring(0,256);return new Promise(function(l,c){var p=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",m=new XMLHttpRequest;m.onload=function(){if(m.status===200)if(p==="text")l(m.response);else{var _=new FileReader;_.addEventListener("load",function(){return l(_.result)},!1),_.addEventListener("error",function(R){return c(R)},!1),_.readAsDataURL(m.response)}else c("Failed to proxy resource "+o+" with status code "+m.status)},m.onerror=c;var x=s.indexOf("?")>-1?"&":"?";if(m.open("GET",""+s+x+"url="+encodeURIComponent(n)+"&responseType="+p),p!=="text"&&m instanceof XMLHttpRequest&&(m.responseType=p),r._options.imageTimeout){var b=r._options.imageTimeout;m.timeout=b,m.ontimeout=function(){return c("Timed out ("+b+"ms) proxying "+o)}}m.send()})},t})(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(t){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(t)},isInlineImage=function(t){return INLINE_IMG.test(t)},isInlineBase64Image=function(t){return INLINE_BASE64.test(t)},isBlobImage=function(t){return t.substr(0,4)==="blob"},isSVG=function(t){return t.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(t)},Vector=(function(){function t(n,r){this.type=0,this.x=n,this.y=r}return t.prototype.add=function(n,r){return new t(this.x+n,this.y+r)},t})(),lerp=function(t,n,r){return new Vector(t.x+(n.x-t.x)*r,t.y+(n.y-t.y)*r)},BezierCurve=(function(){function t(n,r,s,o){this.type=1,this.start=n,this.startControl=r,this.endControl=s,this.end=o}return t.prototype.subdivide=function(n,r){var s=lerp(this.start,this.startControl,n),o=lerp(this.startControl,this.endControl,n),l=lerp(this.endControl,this.end,n),c=lerp(s,o,n),p=lerp(o,l,n),m=lerp(c,p,n);return r?new t(this.start,s,c,m):new t(m,p,l,this.end)},t.prototype.add=function(n,r){return new t(this.start.add(n,r),this.startControl.add(n,r),this.endControl.add(n,r),this.end.add(n,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),isBezierCurve=function(t){return t.type===1},BoundCurves=(function(){function t(n){var r=n.styles,s=n.bounds,o=getAbsoluteValueForTuple(r.borderTopLeftRadius,s.width,s.height),l=o[0],c=o[1],p=getAbsoluteValueForTuple(r.borderTopRightRadius,s.width,s.height),m=p[0],x=p[1],b=getAbsoluteValueForTuple(r.borderBottomRightRadius,s.width,s.height),_=b[0],R=b[1],k=getAbsoluteValueForTuple(r.borderBottomLeftRadius,s.width,s.height),M=k[0],P=k[1],K=[];K.push((l+m)/s.width),K.push((M+_)/s.width),K.push((c+P)/s.height),K.push((x+R)/s.height);var $=Math.max.apply(Math,K);$>1&&(l/=$,c/=$,m/=$,x/=$,_/=$,R/=$,M/=$,P/=$);var G=s.width-m,H=s.height-R,j=s.width-_,W=s.height-P,Y=r.borderTopWidth,X=r.borderRightWidth,te=r.borderBottomWidth,se=r.borderLeftWidth,pe=getAbsoluteValue(r.paddingTop,n.bounds.width),ge=getAbsoluteValue(r.paddingRight,n.bounds.width),me=getAbsoluteValue(r.paddingBottom,n.bounds.width),Ee=getAbsoluteValue(r.paddingLeft,n.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||c>0?getCurvePoints(s.left+se/3,s.top+Y/3,l-se/3,c-Y/3,CORNER.TOP_LEFT):new Vector(s.left+se/3,s.top+Y/3),this.topRightBorderDoubleOuterBox=l>0||c>0?getCurvePoints(s.left+G,s.top+Y/3,m-X/3,x-Y/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-X/3,s.top+Y/3),this.bottomRightBorderDoubleOuterBox=_>0||R>0?getCurvePoints(s.left+j,s.top+H,_-X/3,R-te/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-X/3,s.top+s.height-te/3),this.bottomLeftBorderDoubleOuterBox=M>0||P>0?getCurvePoints(s.left+se/3,s.top+W,M-se/3,P-te/3,CORNER.BOTTOM_LEFT):new Vector(s.left+se/3,s.top+s.height-te/3),this.topLeftBorderDoubleInnerBox=l>0||c>0?getCurvePoints(s.left+se*2/3,s.top+Y*2/3,l-se*2/3,c-Y*2/3,CORNER.TOP_LEFT):new Vector(s.left+se*2/3,s.top+Y*2/3),this.topRightBorderDoubleInnerBox=l>0||c>0?getCurvePoints(s.left+G,s.top+Y*2/3,m-X*2/3,x-Y*2/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-X*2/3,s.top+Y*2/3),this.bottomRightBorderDoubleInnerBox=_>0||R>0?getCurvePoints(s.left+j,s.top+H,_-X*2/3,R-te*2/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-X*2/3,s.top+s.height-te*2/3),this.bottomLeftBorderDoubleInnerBox=M>0||P>0?getCurvePoints(s.left+se*2/3,s.top+W,M-se*2/3,P-te*2/3,CORNER.BOTTOM_LEFT):new Vector(s.left+se*2/3,s.top+s.height-te*2/3),this.topLeftBorderStroke=l>0||c>0?getCurvePoints(s.left+se/2,s.top+Y/2,l-se/2,c-Y/2,CORNER.TOP_LEFT):new Vector(s.left+se/2,s.top+Y/2),this.topRightBorderStroke=l>0||c>0?getCurvePoints(s.left+G,s.top+Y/2,m-X/2,x-Y/2,CORNER.TOP_RIGHT):new Vector(s.left+s.width-X/2,s.top+Y/2),this.bottomRightBorderStroke=_>0||R>0?getCurvePoints(s.left+j,s.top+H,_-X/2,R-te/2,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-X/2,s.top+s.height-te/2),this.bottomLeftBorderStroke=M>0||P>0?getCurvePoints(s.left+se/2,s.top+W,M-se/2,P-te/2,CORNER.BOTTOM_LEFT):new Vector(s.left+se/2,s.top+s.height-te/2),this.topLeftBorderBox=l>0||c>0?getCurvePoints(s.left,s.top,l,c,CORNER.TOP_LEFT):new Vector(s.left,s.top),this.topRightBorderBox=m>0||x>0?getCurvePoints(s.left+G,s.top,m,x,CORNER.TOP_RIGHT):new Vector(s.left+s.width,s.top),this.bottomRightBorderBox=_>0||R>0?getCurvePoints(s.left+j,s.top+H,_,R,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=M>0||P>0?getCurvePoints(s.left,s.top+W,M,P,CORNER.BOTTOM_LEFT):new Vector(s.left,s.top+s.height),this.topLeftPaddingBox=l>0||c>0?getCurvePoints(s.left+se,s.top+Y,Math.max(0,l-se),Math.max(0,c-Y),CORNER.TOP_LEFT):new Vector(s.left+se,s.top+Y),this.topRightPaddingBox=m>0||x>0?getCurvePoints(s.left+Math.min(G,s.width-X),s.top+Y,G>s.width+X?0:Math.max(0,m-X),Math.max(0,x-Y),CORNER.TOP_RIGHT):new Vector(s.left+s.width-X,s.top+Y),this.bottomRightPaddingBox=_>0||R>0?getCurvePoints(s.left+Math.min(j,s.width-se),s.top+Math.min(H,s.height-te),Math.max(0,_-X),Math.max(0,R-te),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-X,s.top+s.height-te),this.bottomLeftPaddingBox=M>0||P>0?getCurvePoints(s.left+se,s.top+Math.min(W,s.height-te),Math.max(0,M-se),Math.max(0,P-te),CORNER.BOTTOM_LEFT):new Vector(s.left+se,s.top+s.height-te),this.topLeftContentBox=l>0||c>0?getCurvePoints(s.left+se+Ee,s.top+Y+pe,Math.max(0,l-(se+Ee)),Math.max(0,c-(Y+pe)),CORNER.TOP_LEFT):new Vector(s.left+se+Ee,s.top+Y+pe),this.topRightContentBox=m>0||x>0?getCurvePoints(s.left+Math.min(G,s.width+se+Ee),s.top+Y+pe,G>s.width+se+Ee?0:m-se+Ee,x-(Y+pe),CORNER.TOP_RIGHT):new Vector(s.left+s.width-(X+ge),s.top+Y+pe),this.bottomRightContentBox=_>0||R>0?getCurvePoints(s.left+Math.min(j,s.width-(se+Ee)),s.top+Math.min(H,s.height+Y+pe),Math.max(0,_-(X+ge)),R-(te+me),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-(X+ge),s.top+s.height-(te+me)),this.bottomLeftContentBox=M>0||P>0?getCurvePoints(s.left+se+Ee,s.top+W,Math.max(0,M-(se+Ee)),P-(te+me),CORNER.BOTTOM_LEFT):new Vector(s.left+se+Ee,s.top+s.height-(te+me))}return t})(),CORNER;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(t,n,r,s,o){var l=4*((Math.sqrt(2)-1)/3),c=r*l,p=s*l,m=t+r,x=n+s;switch(o){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(t,x),new Vector(t,x-p),new Vector(m-c,n),new Vector(m,n));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(t,n),new Vector(t+c,n),new Vector(m,x-p),new Vector(m,x));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(m,n),new Vector(m,n+p),new Vector(t+c,x),new Vector(t,x));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(m,x),new Vector(m-c,x),new Vector(t,n+p),new Vector(t,n))}},calculateBorderBoxPath=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},calculateContentBoxPath=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},calculatePaddingBoxPath=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},TransformEffect=(function(){function t(n,r,s){this.offsetX=n,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return t})(),ClipEffect=(function(){function t(n,r){this.path=n,this.target=r,this.type=1}return t})(),OpacityEffect=(function(){function t(n){this.opacity=n,this.type=2,this.target=6}return t})(),isTransformEffect=function(t){return t.type===0},isClipEffect=function(t){return t.type===1},isOpacityEffect=function(t){return t.type===2},equalPath=function(t,n){return t.length===n.length?t.some(function(r,s){return r===n[s]}):!1},transformPath=function(t,n,r,s,o){return t.map(function(l,c){switch(c){case 0:return l.add(n,r);case 1:return l.add(n+s,r);case 2:return l.add(n+s,r+o);case 3:return l.add(n,r+o)}return l})},StackingContext=(function(){function t(n){this.element=n,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),ElementPaint=(function(){function t(n,r){if(this.container=n,this.parent=r,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new TransformEffect(s,o,l))}if(this.container.styles.overflowX!==0){var c=calculateBorderBoxPath(this.curves),p=calculatePaddingBoxPath(this.curves);equalPath(c,p)?this.effects.push(new ClipEffect(c,6)):(this.effects.push(new ClipEffect(c,2)),this.effects.push(new ClipEffect(p,4)))}}return t.prototype.getEffects=function(n){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,o=this.effects.slice(0);s;){var l=s.effects.filter(function(m){return!isClipEffect(m)});if(r||s.container.styles.position!==0||!s.parent){if(o.unshift.apply(o,l),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var c=calculateBorderBoxPath(s.curves),p=calculatePaddingBoxPath(s.curves);equalPath(c,p)||o.unshift(new ClipEffect(p,6))}}else o.unshift.apply(o,l);s=s.parent}return o.filter(function(m){return contains(m.target,n)})},t})(),parseStackTree=function(t,n,r,s){t.container.elements.forEach(function(o){var l=contains(o.flags,4),c=contains(o.flags,2),p=new ElementPaint(o,t);contains(o.styles.display,2048)&&s.push(p);var m=contains(o.flags,8)?[]:s;if(l||c){var x=l||o.styles.isPositioned()?r:n,b=new StackingContext(p);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var _=o.styles.zIndex.order;if(_<0){var R=0;x.negativeZIndex.some(function(M,P){return _>M.element.container.styles.zIndex.order?(R=P,!1):R>0}),x.negativeZIndex.splice(R,0,b)}else if(_>0){var k=0;x.positiveZIndex.some(function(M,P){return _>=M.element.container.styles.zIndex.order?(k=P+1,!1):k>0}),x.positiveZIndex.splice(k,0,b)}else x.zeroOrAutoZIndexOrTransformedOrOpacity.push(b)}else o.styles.isFloating()?x.nonPositionedFloats.push(b):x.nonPositionedInlineLevel.push(b);parseStackTree(p,b,l?b:r,m)}else o.styles.isInlineLevel()?n.inlineLevel.push(p):n.nonInlineLevel.push(p),parseStackTree(p,n,r,m);contains(o.flags,8)&&processListItems(o,m)})},processListItems=function(t,n){for(var r=t instanceof OLElementContainer?t.start:1,s=t instanceof OLElementContainer?t.reversed:!1,o=0;o<n.length;o++){var l=n[o];l.container instanceof LIElementContainer&&typeof l.container.value=="number"&&l.container.value!==0&&(r=l.container.value),l.listValue=createCounterText(r,l.container.styles.listStyleType,!0),r+=s?-1:1}},parseStackingContexts=function(t){var n=new ElementPaint(t,null),r=new StackingContext(n),s=[];return parseStackTree(n,r,r,s),processListItems(n.container,s),r},parsePathForBorder=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(t,n){switch(n){case 0:return createPathFromCurves(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},parsePathForBorderStroke=function(t,n){switch(n){case 0:return createStrokePathFromCurves(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return createStrokePathFromCurves(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},createStrokePathFromCurves=function(t,n){var r=[];return isBezierCurve(t)?r.push(t.subdivide(.5,!1)):r.push(t),isBezierCurve(n)?r.push(n.subdivide(.5,!0)):r.push(n),r},createPathFromCurves=function(t,n,r,s){var o=[];return isBezierCurve(t)?o.push(t.subdivide(.5,!1)):o.push(t),isBezierCurve(r)?o.push(r.subdivide(.5,!0)):o.push(r),isBezierCurve(s)?o.push(s.subdivide(.5,!0).reverse()):o.push(s),isBezierCurve(n)?o.push(n.subdivide(.5,!1).reverse()):o.push(n),o},paddingBox=function(t){var n=t.bounds,r=t.styles;return n.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},contentBox$1=function(t){var n=t.styles,r=t.bounds,s=getAbsoluteValue(n.paddingLeft,r.width),o=getAbsoluteValue(n.paddingRight,r.width),l=getAbsoluteValue(n.paddingTop,r.width),c=getAbsoluteValue(n.paddingBottom,r.width);return r.add(s+n.borderLeftWidth,l+n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth+s+o),-(n.borderTopWidth+n.borderBottomWidth+l+c))},calculateBackgroundPositioningArea=function(t,n){return t===0?n.bounds:t===2?contentBox$1(n):paddingBox(n)},calculateBackgroundPaintingArea=function(t,n){return t===0?n.bounds:t===2?contentBox$1(n):paddingBox(n)},calculateBackgroundRendering=function(t,n,r){var s=calculateBackgroundPositioningArea(getBackgroundValueForIndex(t.styles.backgroundOrigin,n),t),o=calculateBackgroundPaintingArea(getBackgroundValueForIndex(t.styles.backgroundClip,n),t),l=calculateBackgroundSize(getBackgroundValueForIndex(t.styles.backgroundSize,n),r,s),c=l[0],p=l[1],m=getAbsoluteValueForTuple(getBackgroundValueForIndex(t.styles.backgroundPosition,n),s.width-c,s.height-p),x=calculateBackgroundRepeatPath(getBackgroundValueForIndex(t.styles.backgroundRepeat,n),m,l,s,o),b=Math.round(s.left+m[0]),_=Math.round(s.top+m[1]);return[x,b,_,c,p]},isAuto=function(t){return isIdentToken(t)&&t.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(t){return typeof t=="number"},calculateBackgroundSize=function(t,n,r){var s=n[0],o=n[1],l=n[2],c=t[0],p=t[1];if(!c)return[0,0];if(isLengthPercentage(c)&&p&&isLengthPercentage(p))return[getAbsoluteValue(c,r.width),getAbsoluteValue(p,r.height)];var m=hasIntrinsicValue(l);if(isIdentToken(c)&&(c.value===BACKGROUND_SIZE.CONTAIN||c.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(l)){var x=r.width/r.height;return x<l!=(c.value===BACKGROUND_SIZE.COVER)?[r.width,r.width/l]:[r.height*l,r.height]}return[r.width,r.height]}var b=hasIntrinsicValue(s),_=hasIntrinsicValue(o),R=b||_;if(isAuto(c)&&(!p||isAuto(p))){if(b&&_)return[s,o];if(!m&&!R)return[r.width,r.height];if(R&&m){var k=b?s:o*l,M=_?o:s/l;return[k,M]}var P=b?s:r.width,K=_?o:r.height;return[P,K]}if(m){var $=0,G=0;return isLengthPercentage(c)?$=getAbsoluteValue(c,r.width):isLengthPercentage(p)&&(G=getAbsoluteValue(p,r.height)),isAuto(c)?$=G*l:(!p||isAuto(p))&&(G=$/l),[$,G]}var H=null,j=null;if(isLengthPercentage(c)?H=getAbsoluteValue(c,r.width):p&&isLengthPercentage(p)&&(j=getAbsoluteValue(p,r.height)),H!==null&&(!p||isAuto(p))&&(j=b&&_?H/s*o:r.height),j!==null&&isAuto(c)&&(H=b&&_?j/o*s:r.width),H!==null&&j!==null)return[H,j];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(t,n){var r=t[n];return typeof r>"u"?t[0]:r},calculateBackgroundRepeatPath=function(t,n,r,s,o){var l=n[0],c=n[1],p=r[0],m=r[1];switch(t){case 2:return[new Vector(Math.round(s.left),Math.round(s.top+c)),new Vector(Math.round(s.left+s.width),Math.round(s.top+c)),new Vector(Math.round(s.left+s.width),Math.round(m+s.top+c)),new Vector(Math.round(s.left),Math.round(m+s.top+c))];case 3:return[new Vector(Math.round(s.left+l),Math.round(s.top)),new Vector(Math.round(s.left+l+p),Math.round(s.top)),new Vector(Math.round(s.left+l+p),Math.round(s.height+s.top)),new Vector(Math.round(s.left+l),Math.round(s.height+s.top))];case 1:return[new Vector(Math.round(s.left+l),Math.round(s.top+c)),new Vector(Math.round(s.left+l+p),Math.round(s.top+c)),new Vector(Math.round(s.left+l+p),Math.round(s.top+c+m)),new Vector(Math.round(s.left+l),Math.round(s.top+c+m))];default:return[new Vector(Math.round(o.left),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Vector(Math.round(o.left),Math.round(o.height+o.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=(function(){function t(n){this._data={},this._document=n}return t.prototype.parseMetrics=function(n,r){var s=this._document.createElement("div"),o=this._document.createElement("img"),l=this._document.createElement("span"),c=this._document.body;s.style.visibility="hidden",s.style.fontFamily=n,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",c.appendChild(s),o.src=SMALL_IMAGE,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",l.style.fontFamily=n,l.style.fontSize=r,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.appendChild(l),s.appendChild(o);var p=o.offsetTop-l.offsetTop+2;s.removeChild(l),s.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.style.lineHeight="normal",o.style.verticalAlign="super";var m=o.offsetTop-s.offsetTop+2;return c.removeChild(s),{baseline:p,middle:m}},t.prototype.getMetrics=function(n,r){var s=n+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(n,r)),this._data[s]},t})(),Renderer=(function(){function t(n,r){this.context=n,this.options=r}return t})(),MASK_OFFSET=1e4,CanvasRenderer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o._activeEffects=[],o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),s.canvas||(o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px"),o.fontMetrics=new FontMetrics(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),o}return n.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(o){return s.applyEffect(o)})},n.prototype.applyEffect=function(r){this.ctx.save(),isOpacityEffect(r)&&(this.ctx.globalAlpha=r.opacity),isTransformEffect(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),isClipEffect(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(r){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator(this,function(o){switch(o.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(r){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:if(contains(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(r,s,o){var l=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+o);else{var c=segmentGraphemes(r.text);c.reduce(function(p,m){return l.ctx.fillText(m,p,r.bounds.top+o),p+l.ctx.measureText(m).width},r.bounds.left)}},n.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),o=fixIOSSystemFonts(r.fontFamily).join(", "),l=isDimensionToken(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,l,o].join(" "),o,l]},n.prototype.renderTextNode=function(r,s){return __awaiter$1(this,void 0,void 0,function(){var o,l,c,p,m,x,b,_,R=this;return __generator(this,function(k){return o=this.createFontStyle(s),l=o[0],c=o[1],p=o[2],this.ctx.font=l,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",m=this.fontMetrics.getMetrics(c,p),x=m.baseline,b=m.middle,_=s.paintOrder,r.textBounds.forEach(function(M){_.forEach(function(P){switch(P){case 0:R.ctx.fillStyle=asString(s.color),R.renderTextWithLetterSpacing(M,s.letterSpacing,x);var K=s.textShadow;K.length&&M.text.trim().length&&(K.slice(0).reverse().forEach(function($){R.ctx.shadowColor=asString($.color),R.ctx.shadowOffsetX=$.offsetX.number*R.options.scale,R.ctx.shadowOffsetY=$.offsetY.number*R.options.scale,R.ctx.shadowBlur=$.blur.number,R.renderTextWithLetterSpacing(M,s.letterSpacing,x)}),R.ctx.shadowColor="",R.ctx.shadowOffsetX=0,R.ctx.shadowOffsetY=0,R.ctx.shadowBlur=0),s.textDecorationLine.length&&(R.ctx.fillStyle=asString(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function($){switch($){case 1:R.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top+x),M.bounds.width,1);break;case 2:R.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top),M.bounds.width,1);break;case 3:R.ctx.fillRect(M.bounds.left,Math.ceil(M.bounds.top+b),M.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&M.text.trim().length&&(R.ctx.strokeStyle=asString(s.webkitTextStrokeColor),R.ctx.lineWidth=s.webkitTextStrokeWidth,R.ctx.lineJoin=window.chrome?"miter":"round",R.ctx.strokeText(M.text,M.bounds.left,M.bounds.top+x)),R.ctx.strokeStyle="",R.ctx.lineWidth=0,R.ctx.lineJoin="miter";break}})}),[2]})})},n.prototype.renderReplacedElement=function(r,s,o){if(o&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var l=contentBox$1(r),c=calculatePaddingBoxPath(s);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,r.intrinsicWidth,r.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m,G,G,x,b,_,R,j,k,M,W,P,K,$,G,H,j,W;return __generator(this,function(Y){switch(Y.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,o=r.curves,l=s.styles,c=0,p=s.textNodes,Y.label=1;case 1:return c<p.length?(m=p[c],[4,this.renderTextNode(m,l)]):[3,4];case 2:Y.sent(),Y.label=3;case 3:return c++,[3,1];case 4:if(!(s instanceof ImageElementContainer))return[3,8];Y.label=5;case 5:return Y.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return G=Y.sent(),this.renderReplacedElement(s,o,G),[3,8];case 7:return Y.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof CanvasElementContainer&&this.renderReplacedElement(s,o,s.canvas),!(s instanceof SVGElementContainer))return[3,12];Y.label=9;case 9:return Y.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return G=Y.sent(),this.renderReplacedElement(s,o,G),[3,12];case 11:return Y.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof IFrameElementContainer&&s.tree?(x=new n(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,x.render(s.tree)]):[3,14];case 13:b=Y.sent(),s.width&&s.height&&this.ctx.drawImage(b,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),Y.label=14;case 14:if(s instanceof InputElementContainer&&(_=Math.min(s.bounds.width,s.bounds.height),s.type===CHECKBOX?s.checked&&(this.ctx.save(),this.path([new Vector(s.bounds.left+_*.39363,s.bounds.top+_*.79),new Vector(s.bounds.left+_*.16,s.bounds.top+_*.5549),new Vector(s.bounds.left+_*.27347,s.bounds.top+_*.44071),new Vector(s.bounds.left+_*.39694,s.bounds.top+_*.5649),new Vector(s.bounds.left+_*.72983,s.bounds.top+_*.23),new Vector(s.bounds.left+_*.84,s.bounds.top+_*.34085),new Vector(s.bounds.left+_*.39363,s.bounds.top+_*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):s.type===RADIO&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+_/2,s.bounds.top+_/2,_/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(s)&&s.value.length){switch(R=this.createFontStyle(l),j=R[0],k=R[1],M=this.fontMetrics.getMetrics(j,k).baseline,this.ctx.font=j,this.ctx.fillStyle=asString(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(s.styles.textAlign),W=contentBox$1(s),P=0,s.styles.textAlign){case 1:P+=W.width/2;break;case 2:P+=W.width;break}K=W.add(P,0,0,-W.height/2+1),this.ctx.save(),this.path([new Vector(W.left,W.top),new Vector(W.left+W.width,W.top),new Vector(W.left+W.width,W.top+W.height),new Vector(W.left,W.top+W.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(s.value,K),l.letterSpacing,M),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if($=s.styles.listStyleImage,$.type!==0)return[3,18];G=void 0,H=$.url,Y.label=15;case 15:return Y.trys.push([15,17,,18]),[4,this.context.cache.match(H)];case 16:return G=Y.sent(),this.ctx.drawImage(G,s.bounds.left-(G.width+10),s.bounds.top),[3,18];case 17:return Y.sent(),this.context.logger.error("Error loading list-style-image "+H),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(j=this.createFontStyle(l)[0],this.ctx.font=j,this.ctx.fillStyle=asString(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",W=new Bounds(s.bounds.left,s.bounds.top+getAbsoluteValue(s.styles.paddingTop,s.bounds.width),s.bounds.width,computeLineHeight(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(r.listValue,W),l.letterSpacing,computeLineHeight(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Y.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,$,l,c,$,p,m,$,x,b,$,_,R,$,k,M,$,P,K,$;return __generator(this,function(G){switch(G.label){case 0:if(contains(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:G.sent(),s=0,o=r.negativeZIndex,G.label=2;case 2:return s<o.length?($=o[s],[4,this.renderStack($)]):[3,5];case 3:G.sent(),G.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:G.sent(),l=0,c=r.nonInlineLevel,G.label=7;case 7:return l<c.length?($=c[l],[4,this.renderNode($)]):[3,10];case 8:G.sent(),G.label=9;case 9:return l++,[3,7];case 10:p=0,m=r.nonPositionedFloats,G.label=11;case 11:return p<m.length?($=m[p],[4,this.renderStack($)]):[3,14];case 12:G.sent(),G.label=13;case 13:return p++,[3,11];case 14:x=0,b=r.nonPositionedInlineLevel,G.label=15;case 15:return x<b.length?($=b[x],[4,this.renderStack($)]):[3,18];case 16:G.sent(),G.label=17;case 17:return x++,[3,15];case 18:_=0,R=r.inlineLevel,G.label=19;case 19:return _<R.length?($=R[_],[4,this.renderNode($)]):[3,22];case 20:G.sent(),G.label=21;case 21:return _++,[3,19];case 22:k=0,M=r.zeroOrAutoZIndexOrTransformedOrOpacity,G.label=23;case 23:return k<M.length?($=M[k],[4,this.renderStack($)]):[3,26];case 24:G.sent(),G.label=25;case 25:return k++,[3,23];case 26:P=0,K=r.positiveZIndex,G.label=27;case 27:return P<K.length?($=K[P],[4,this.renderStack($)]):[3,30];case 28:G.sent(),G.label=29;case 29:return P++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},n.prototype.formatPath=function(r){var s=this;r.forEach(function(o,l){var c=isBezierCurve(o)?o.start:o;l===0?s.ctx.moveTo(c.x,c.y):s.ctx.lineTo(c.x,c.y),isBezierCurve(o)&&s.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},n.prototype.renderRepeat=function(r,s,o,l){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(o,l),this.ctx.fill(),this.ctx.translate(-o,-l)},n.prototype.resizeImage=function(r,s,o){var l;if(r.width===s&&r.height===o)return r;var c=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,p=c.createElement("canvas");p.width=Math.max(1,s),p.height=Math.max(1,o);var m=p.getContext("2d");return m.drawImage(r,0,0,r.width,r.height,0,0,s,o),p},n.prototype.renderBackgroundImage=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m;return __generator(this,function(x){switch(x.label){case 0:s=r.styles.backgroundImage.length-1,o=function(b){var _,R,k,pe,ae,ue,Ee,ve,te,M,pe,ae,ue,Ee,ve,P,K,$,G,H,j,W,Y,X,te,se,pe,ge,me,Ee,ve,de,ae,ue,re,oe,Ce,Ae,we,Re,Be,We;return __generator(this,function(De){switch(De.label){case 0:if(b.type!==0)return[3,5];_=void 0,R=b.url,De.label=1;case 1:return De.trys.push([1,3,,4]),[4,l.context.cache.match(R)];case 2:return _=De.sent(),[3,4];case 3:return De.sent(),l.context.logger.error("Error loading background-image "+R),[3,4];case 4:return _&&(k=calculateBackgroundRendering(r,s,[_.width,_.height,_.width/_.height]),pe=k[0],ae=k[1],ue=k[2],Ee=k[3],ve=k[4],te=l.ctx.createPattern(l.resizeImage(_,Ee,ve),"repeat"),l.renderRepeat(pe,te,ae,ue)),[3,6];case 5:isLinearGradient(b)?(M=calculateBackgroundRendering(r,s,[null,null,null]),pe=M[0],ae=M[1],ue=M[2],Ee=M[3],ve=M[4],P=calculateGradientDirection(b.angle,Ee,ve),K=P[0],$=P[1],G=P[2],H=P[3],j=P[4],W=document.createElement("canvas"),W.width=Ee,W.height=ve,Y=W.getContext("2d"),X=Y.createLinearGradient($,H,G,j),processColorStops(b.stops,K).forEach(function(ct){return X.addColorStop(ct.stop,asString(ct.color))}),Y.fillStyle=X,Y.fillRect(0,0,Ee,ve),Ee>0&&ve>0&&(te=l.ctx.createPattern(W,"repeat"),l.renderRepeat(pe,te,ae,ue))):isRadialGradient(b)&&(se=calculateBackgroundRendering(r,s,[null,null,null]),pe=se[0],ge=se[1],me=se[2],Ee=se[3],ve=se[4],de=b.position.length===0?[FIFTY_PERCENT]:b.position,ae=getAbsoluteValue(de[0],Ee),ue=getAbsoluteValue(de[de.length-1],ve),re=calculateRadius(b,ae,ue,Ee,ve),oe=re[0],Ce=re[1],oe>0&&Ce>0&&(Ae=l.ctx.createRadialGradient(ge+ae,me+ue,0,ge+ae,me+ue,oe),processColorStops(b.stops,oe*2).forEach(function(ct){return Ae.addColorStop(ct.stop,asString(ct.color))}),l.path(pe),l.ctx.fillStyle=Ae,oe!==Ce?(we=r.bounds.left+.5*r.bounds.width,Re=r.bounds.top+.5*r.bounds.height,Be=Ce/oe,We=1/Be,l.ctx.save(),l.ctx.translate(we,Re),l.ctx.transform(1,0,0,Be,0,0),l.ctx.translate(-we,-Re),l.ctx.fillRect(ge,We*(me-Re)+Re,Ee,ve*We),l.ctx.restore()):l.ctx.fill())),De.label=6;case 6:return s--,[2]}})},l=this,c=0,p=r.styles.backgroundImage.slice(0).reverse(),x.label=1;case 1:return c<p.length?(m=p[c],[5,o(m)]):[3,4];case 2:x.sent(),x.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(r,s,o){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(l){return this.path(parsePathForBorder(o,s)),this.ctx.fillStyle=asString(r),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(r,s,o,l){return __awaiter$1(this,void 0,void 0,function(){var c,p;return __generator(this,function(m){switch(m.label){case 0:return s<3?[4,this.renderSolidBorder(r,o,l)]:[3,2];case 1:return m.sent(),[2];case 2:return c=parsePathForBorderDoubleOuter(l,o),this.path(c),this.ctx.fillStyle=asString(r),this.ctx.fill(),p=parsePathForBorderDoubleInner(l,o),this.path(p),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o,l,c,p,m,x,b,_=this;return __generator(this,function(R){switch(R.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,o=!isTransparent(s.backgroundColor)||s.backgroundImage.length,l=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],c=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(s.backgroundClip,0),r.curves),o||s.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),isTransparent(s.backgroundColor)||(this.ctx.fillStyle=asString(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:R.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(k){_.ctx.save();var M=calculateBorderBoxPath(r.curves),P=k.inset?0:MASK_OFFSET,K=transformPath(M,-P+(k.inset?1:-1)*k.spread.number,(k.inset?1:-1)*k.spread.number,k.spread.number*(k.inset?-2:2),k.spread.number*(k.inset?-2:2));k.inset?(_.path(M),_.ctx.clip(),_.mask(K)):(_.mask(M),_.ctx.clip(),_.path(K)),_.ctx.shadowOffsetX=k.offsetX.number+P,_.ctx.shadowOffsetY=k.offsetY.number,_.ctx.shadowColor=asString(k.color),_.ctx.shadowBlur=k.blur.number,_.ctx.fillStyle=k.inset?asString(k.color):"rgba(0,0,0,1)",_.ctx.fill(),_.ctx.restore()}),R.label=2;case 2:p=0,m=0,x=l,R.label=3;case 3:return m<x.length?(b=x[m],b.style!==0&&!isTransparent(b.color)&&b.width>0?b.style!==2?[3,5]:[4,this.renderDashedDottedBorder(b.color,b.width,p,r.curves,2)]:[3,11]):[3,13];case 4:return R.sent(),[3,11];case 5:return b.style!==3?[3,7]:[4,this.renderDashedDottedBorder(b.color,b.width,p,r.curves,3)];case 6:return R.sent(),[3,11];case 7:return b.style!==4?[3,9]:[4,this.renderDoubleBorder(b.color,b.width,p,r.curves)];case 8:return R.sent(),[3,11];case 9:return[4,this.renderSolidBorder(b.color,p,r.curves)];case 10:R.sent(),R.label=11;case 11:p++,R.label=12;case 12:return m++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(r,s,o,l,c){return __awaiter$1(this,void 0,void 0,function(){var p,m,x,b,_,R,k,M,P,K,$,G,H,j,W,Y,W,Y;return __generator(this,function(X){return this.ctx.save(),p=parsePathForBorderStroke(l,o),m=parsePathForBorder(l,o),c===2&&(this.path(m),this.ctx.clip()),isBezierCurve(m[0])?(x=m[0].start.x,b=m[0].start.y):(x=m[0].x,b=m[0].y),isBezierCurve(m[1])?(_=m[1].end.x,R=m[1].end.y):(_=m[1].x,R=m[1].y),o===0||o===2?k=Math.abs(x-_):k=Math.abs(b-R),this.ctx.beginPath(),c===3?this.formatPath(p):this.formatPath(m.slice(0,2)),M=s<3?s*3:s*2,P=s<3?s*2:s,c===3&&(M=s,P=s),K=!0,k<=M*2?K=!1:k<=M*2+P?($=k/(2*M+P),M*=$,P*=$):(G=Math.floor((k+P)/(M+P)),H=(k-G*M)/(G-1),j=(k-(G+1)*M)/G,P=j<=0||Math.abs(P-H)<Math.abs(P-j)?H:j),K&&(c===3?this.ctx.setLineDash([0,M+P]):this.ctx.setLineDash([M,P])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=asString(r),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(isBezierCurve(m[0])&&(W=m[3],Y=m[0],this.ctx.beginPath(),this.formatPath([new Vector(W.end.x,W.end.y),new Vector(Y.start.x,Y.start.y)]),this.ctx.stroke()),isBezierCurve(m[1])&&(W=m[1],Y=m[2],this.ctx.beginPath(),this.formatPath([new Vector(W.end.x,W.end.y),new Vector(Y.start.x,Y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(r){return __awaiter$1(this,void 0,void 0,function(){var s;return __generator(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=parseStackingContexts(r),[4,this.renderStack(s)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},n})(Renderer),isTextInputElement=function(t){return t instanceof TextareaElementContainer||t instanceof SelectElementContainer?!0:t instanceof InputElementContainer&&t.type!==RADIO&&t.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(t,n){switch(t){case 0:return calculateBorderBoxPath(n);case 2:return calculateContentBoxPath(n);case 1:default:return calculatePaddingBoxPath(n)}},canvasTextAlign=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(n){return iOSBrokenFonts.indexOf(n)===-1}):t},ForeignObjectRenderer=(function(t){__extends(n,t);function n(r,s){var o=t.call(this,r,s)||this;return o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=s,o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),o}return n.prototype.render=function(r){return __awaiter$1(this,void 0,void 0,function(){var s,o;return __generator(this,function(l){switch(l.label){case 0:return s=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,loadSerializedSVG(s)];case 1:return o=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n})(Renderer),loadSerializedSVG=function(t){return new Promise(function(n,r){var s=new Image;s.onload=function(){n(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Logger$1=(function(){function t(n){var r=n.id,s=n.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n))},t.prototype.warn=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.prototype.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],n)):this.info.apply(this,n))},t.instances={},t})(),Context=(function(){function t(n,r){var s;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Logger$1({id:this.instanceName,enabled:n.logging}),this.cache=(s=n.cache)!==null&&s!==void 0?s:new Cache(this,n)}return t.instanceCount=1,t})(),html2canvas=function(t,n){return n===void 0&&(n={}),renderElement(t,n)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(t,n){return __awaiter$1(void 0,void 0,void 0,function(){var r,s,o,l,c,p,m,x,b,_,R,k,M,P,K,$,G,H,j,W,X,Y,X,te,se,pe,ge,me,Ee,ve,de,ae,ue,re,oe,Ce,Ae,we,Re,Be;return __generator(this,function(We){switch(We.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return o={allowTaint:(te=n.allowTaint)!==null&&te!==void 0?te:!1,imageTimeout:(se=n.imageTimeout)!==null&&se!==void 0?se:15e3,proxy:n.proxy,useCORS:(pe=n.useCORS)!==null&&pe!==void 0?pe:!1},l=__assign({logging:(ge=n.logging)!==null&&ge!==void 0?ge:!0,cache:n.cache},o),c={windowWidth:(me=n.windowWidth)!==null&&me!==void 0?me:s.innerWidth,windowHeight:(Ee=n.windowHeight)!==null&&Ee!==void 0?Ee:s.innerHeight,scrollX:(ve=n.scrollX)!==null&&ve!==void 0?ve:s.pageXOffset,scrollY:(de=n.scrollY)!==null&&de!==void 0?de:s.pageYOffset},p=new Bounds(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),m=new Context(l,p),x=(ae=n.foreignObjectRendering)!==null&&ae!==void 0?ae:!1,b={allowTaint:(ue=n.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:n.onclone,ignoreElements:n.ignoreElements,inlineImages:x,copyStyles:x},m.logger.debug("Starting document clone with size "+p.width+"x"+p.height+" scrolled to "+-p.left+","+-p.top),_=new DocumentCloner(m,t,b),R=_.clonedReferenceElement,R?[4,_.toIFrame(r,p)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return k=We.sent(),M=isBodyElement(R)||isHTMLElement(R)?parseDocumentSize(R.ownerDocument):parseBounds(m,R),P=M.width,K=M.height,$=M.left,G=M.top,H=parseBackgroundColor(m,R,n.backgroundColor),j={canvas:n.canvas,backgroundColor:H,scale:(oe=(re=n.scale)!==null&&re!==void 0?re:s.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((Ce=n.x)!==null&&Ce!==void 0?Ce:0)+$,y:((Ae=n.y)!==null&&Ae!==void 0?Ae:0)+G,width:(we=n.width)!==null&&we!==void 0?we:Math.ceil(P),height:(Re=n.height)!==null&&Re!==void 0?Re:Math.ceil(K)},x?(m.logger.debug("Document cloned, using foreign object rendering"),X=new ForeignObjectRenderer(m,j),[4,X.render(R)]):[3,3];case 2:return W=We.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+$+","+G+" with size "+P+"x"+K+" using computed rendering"),m.logger.debug("Starting DOM parsing"),Y=parseTree(m,R),H===Y.styles.backgroundColor&&(Y.styles.backgroundColor=COLORS.TRANSPARENT),m.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),X=new CanvasRenderer(m,j),[4,X.render(Y)];case 4:W=We.sent(),We.label=5;case 5:return(!((Be=n.removeContainer)!==null&&Be!==void 0)||Be)&&(DocumentCloner.destroy(k)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,W]}})})},parseBackgroundColor=function(t,n,r){var s=n.ownerDocument,o=s.documentElement?parseColor(t,getComputedStyle(s.documentElement).backgroundColor):COLORS.TRANSPARENT,l=s.body?parseColor(t,getComputedStyle(s.body).backgroundColor):COLORS.TRANSPARENT,c=typeof r=="string"?parseColor(t,r):r===null?COLORS.TRANSPARENT:4294967295;return n===s.documentElement?isTransparent(o)?isTransparent(l)?c:l:o:c};function InvitationGenerator({initialTheme:t="",initialOthers:n="",showTitle:r=!0}){const[s,o]=reactExports$1.useState(t),[l,c]=reactExports$1.useState(n),[p,m]=reactExports$1.useState([]),[x,b]=reactExports$1.useState(!1),_=reactExports$1.useRef([]),{showAlert:R}=useAlert();reactExports$1.useEffect(()=>{t&&o(t),n!==void 0&&c(n)},[t,n]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const k=async()=>{var $,G;if(m([]),b(!0),!s.trim()){m(["  ."]),b(!1);return}try{const H=await userInstance.post("/api/console/invitation/create",{eventTopic:s,userRequirements:l||""}),{data:j}=H;j&&typeof j=="string"?m([j]):Array.isArray(j)?m(j):j.invitations&&Array.isArray(j.invitations)?m(j.invitations):m([" ."])}catch(H){console.error("API  :",H),(($=H.response)==null?void 0:$.status)===401?m([" .  ."]):((G=H.response)==null?void 0:G.status)===403?m([" ."]):m([`API  : ${H.message}`])}finally{b(!1)}},M=async($,G)=>{var H,j;if($.trim())try{const Y=(await userInstance.post("/api/console/invitation/refine",{selectedInvitation:$,eventTopic:s,userRequirements:"   "})).data,X=Array.isArray(Y)?Y[0]:Y;m(te=>te.map((se,pe)=>pe===G?X:se))}catch(W){console.error(" API  :",W),((H=W.response)==null?void 0:H.status)===401?R(" .  ."):((j=W.response)==null?void 0:j.status)===403?R(" ."):R("  .","error")}},P=async $=>{try{await navigator.clipboard.writeText($),R(" !")}catch(G){console.error(" :",G);const H=document.createElement("textarea");H.value=$,document.body.appendChild(H),H.select();try{document.execCommand("copy"),R(" !")}catch{R(" .","error")}document.body.removeChild(H)}},K=async $=>{const G=_.current[$];if(G)try{const H=await html2canvas(G,{backgroundColor:"#ffffff",scale:2,useCORS:!0}),j=document.createElement("a");j.download=`_${$+1}.png`,j.href=H.toDataURL("image/png"),j.click(),R(" !")}catch(H){console.error(" :",H),R("  .","error")}};return jsxRuntimeExports.jsxs("div",{className:styles$j.page,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.formArea,children:[jsxRuntimeExports.jsx("label",{className:styles$j.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:$=>o($.target.value),placeholder:":  ,  ",className:styles$j.input}),jsxRuntimeExports.jsx("label",{className:styles$j.label,children:""}),jsxRuntimeExports.jsx("textarea",{value:l,onChange:$=>c($.target.value),placeholder:": #, #, # ",className:styles$j.textarea}),jsxRuntimeExports.jsx("button",{onClick:k,className:styles$j.submitButton,disabled:x,children:x?" ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$j.resultArea,children:p.length>0?p.map(($,G)=>jsxRuntimeExports.jsxs("div",{className:styles$j.resultCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.cardHeader,children:[jsxRuntimeExports.jsxs("h3",{children:[" ",G+1]}),jsxRuntimeExports.jsxs("div",{className:styles$j.buttonGroup,children:[jsxRuntimeExports.jsx("button",{className:styles$j.copyButton,onClick:()=>P($),title:"",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$j.captureButton,onClick:()=>K(G),title:" ",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$j.refineButton,onClick:()=>M($,G),children:" "})]})]}),jsxRuntimeExports.jsx("div",{className:styles$j.textContent,ref:H=>_.current[G]=H,children:jsxRuntimeExports.jsx("p",{children:$})})]},G)):jsxRuntimeExports.jsx("div",{className:styles$j.placeholder,children:"    ."})})]})}const container$4="_container_1qhrc_1",contentBox="_contentBox_1qhrc_31",inputSection="_inputSection_1qhrc_53",label$2="_label_1qhrc_65",textarea$1="_textarea_1qhrc_77",generateButton="_generateButton_1qhrc_97",resultSection="_resultSection_1qhrc_117",generatedImage="_generatedImage_1qhrc_135",downloadButton="_downloadButton_1qhrc_151",imagePlaceholder="_imagePlaceholder_1qhrc_175",styles$i={container:container$4,contentBox,inputSection,label:label$2,textarea:textarea$1,generateButton,resultSection,generatedImage,downloadButton,imagePlaceholder};function ImageGenerator(){const[t,n]=reactExports$1.useState(""),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(!1),c=async()=>{l(!0);try{const p=await instance.post("/api/console/images/generate",{text:t});console.log(p),s(p.data.image)}catch(p){console.error(p)}finally{l(!1)}};return jsxRuntimeExports.jsx("div",{className:styles$i.container,children:jsxRuntimeExports.jsxs("div",{className:styles$i.contentBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.inputSection,children:[jsxRuntimeExports.jsx("label",{className:styles$i.label,children:"  "}),jsxRuntimeExports.jsx("textarea",{value:t,onChange:p=>n(p.target.value),placeholder:":        ",className:styles$i.textarea}),jsxRuntimeExports.jsx("button",{onClick:c,className:styles$i.generateButton,disabled:o,children:o?"  ...":"  "})]}),jsxRuntimeExports.jsx("div",{className:styles$i.resultSection,children:r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:r,alt:" ",className:styles$i.generatedImage}),jsxRuntimeExports.jsx("button",{className:styles$i.downloadButton,onClick:()=>{const p=document.createElement("a");p.href=r,p.download="generated-image.png",document.body.appendChild(p),p.click(),document.body.removeChild(p)},children:" "})]}):jsxRuntimeExports.jsx("div",{className:styles$i.imagePlaceholder,children:o?"  ...":"   ."})})]})})}function CreateModal({onClose:t}){const[n,r]=reactExports$1.useState(" "),s=[" "," "];return jsxRuntimeExports.jsx("div",{className:styles$k.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$k.modalContainer,children:[jsxRuntimeExports.jsx("button",{className:styles$k.closeButton,onClick:t,children:jsxRuntimeExports.jsx(FaX,{})}),jsxRuntimeExports.jsx("div",{className:styles$k.tabArea,children:s.map(o=>jsxRuntimeExports.jsx("button",{className:`${styles$k.tabButton} ${n===o?styles$k.active:""}`,onClick:()=>{r(o)},children:o},o))}),jsxRuntimeExports.jsx("div",{className:styles$k.generateContainer,children:n===" "?jsxRuntimeExports.jsx(ImageGenerator,{}):jsxRuntimeExports.jsx(InvitationGenerator,{})})]})})}const DETAIL_CONFIG={galleries:{title:"",Component:GalleryDetail,tabs:["","QR",""],fetchUrl:t=>`/api/galleries/${t}`},exhibitions:{title:"",Component:ExhibitionDetail,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","","/"]},artworks:{title:"",Component:ArtworkDetail,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function ConsoleDetail({type:t}){const{id:n}=useParams(),r=useNavigate(),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(!1),x=DETAIL_CONFIG[t],{title:b,Component:_,fetchUrl:R,tabs:k}=x||{},M=$=>{switch($){case"galleries":return"";case"exhibitions":return"";case"artworks":return"";default:return""}};reactExports$1.useEffect(()=>{if(!R||!n)return;(async()=>{try{const G=await userInstance.get(R(n));o(G.data)}catch(G){console.error("  :",G)}})()},[n,t,R]);const P=$=>{switch($){case"":r(`/console/${t}/edit/${n}`);break;case"QR":c(!0);break;case"":r(`/console/artworks/docent/${n}`);break;case"":r(`/console/${t}/leaflet/${n}`);break;case"/":m(!0);break}},K={artworks:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>r(`/console/artworks/edit/new?exhibition_id=${n}`),children:"+  "}),exhibitions:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>r(`/console/exhibitions/edit/new?gallery_id=${n}`),children:"+  "})};return s?jsxRuntimeExports.jsxs("div",{className:styles$r.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$r.header,children:[jsxRuntimeExports.jsx("button",{className:styles$r.backButton,onClick:()=>r("/console/main",{state:{activeTab:M(t)}}),children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$r.title,children:b})]}),jsxRuntimeExports.jsx("nav",{className:styles$r.adminTabNav,children:k.map($=>jsxRuntimeExports.jsx("button",{className:styles$r.adminTabButton,onClick:()=>P($),children:$},$))}),jsxRuntimeExports.jsx("main",{className:styles$r.content,children:jsxRuntimeExports.jsx(_,{showUserActions:!1,id:n,actionButtons:K})}),l&&jsxRuntimeExports.jsx(QrModal,{data:s,onClose:()=>c(!1),type:t}),p&&jsxRuntimeExports.jsx(CreateModal,{onClose:()=>{m(!1)}})]}):jsxRuntimeExports.jsx(LoadingSpinner,{})}const layout$7="_layout_wdn79_1",loading="_loading_wdn79_21",breadcrumb="_breadcrumb_wdn79_35",breadcrumbBack="_breadcrumbBack_wdn79_47",titleSection="_titleSection_wdn79_63",statusBadge$1="_statusBadge_wdn79_71",artistTitle="_artistTitle_wdn79_111",artistSubTitle="_artistSubTitle_wdn79_123",card$1="_card_wdn79_135",artistImage="_artistImage_wdn79_157",btnLayout="_btnLayout_wdn79_171",actionButton$1="_actionButton_wdn79_187",icon$1="_icon_wdn79_221",likedIcon="_likedIcon_wdn79_229",infoList="_infoList_wdn79_275",infoRow="_infoRow_wdn79_293",infoLabel="_infoLabel_wdn79_305",infoContent="_infoContent_wdn79_317",emptyInfo="_emptyInfo_wdn79_327",descriptionParagraph="_descriptionParagraph_wdn79_335",emptyContent$1="_emptyContent_wdn79_361",artworkGrid$1="_artworkGrid_wdn79_467",artworkCard$1="_artworkCard_wdn79_479",artworkImage="_artworkImage_wdn79_503",artworkTitle$1="_artworkTitle_wdn79_519",backButton$4="_backButton_wdn79_539",styles$h={layout:layout$7,loading,breadcrumb,breadcrumbBack,titleSection,statusBadge:statusBadge$1,artistTitle,artistSubTitle,card:card$1,artistImage,btnLayout,actionButton:actionButton$1,icon:icon$1,likedIcon,infoList,infoRow,infoLabel,infoContent,emptyInfo,descriptionParagraph,emptyContent:emptyContent$1,artworkGrid:artworkGrid$1,artworkCard:artworkCard$1,artworkImage,artworkTitle:artworkTitle$1,backButton:backButton$4};function ArtistDetail(){const{user:t}=useUser(),{artistId:n}=useParams(),r=useNavigate(),[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState("profile"),{showAlert:p}=useAlert(),m=async()=>{if(n)try{const Ee=await userInstance.get(`/api/artists/${n}`);o(Ee.data)}catch(Ee){console.error(Ee)}};if(reactExports$1.useEffect(()=>{m()},[n]),!s)return jsxRuntimeExports.jsx("div",{className:styles$h.loading,children:" ..."});const{artist_name:x="",artist_nation:b="",artist_category:_="",artist_image:R="",artist_description:k="",artist_homepage:M="",is_liked:P,is_on_exhibition:K,like_count:$,exhibitions:G=[],artworks:H=[]}=s,j=M?M.startsWith("http")?M:`https://${M}`:"",W=async()=>{if(!t){r("/login");return}try{P?await userInstance.delete("/api/likes",{data:{liked_id:n,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:n,liked_type:"artist"}),await m()}catch(Ee){console.error("   :",Ee)}},Y=()=>{j&&window.open(j,"_blank","noopener,noreferrer")},X=()=>{const Ee=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${x}`,text:`${x}   !`,url:Ee}).catch(ve=>console.error(" :",ve));else{const ve=document.createElement("textarea");ve.value=Ee,document.body.appendChild(ve),ve.select();try{document.execCommand("copy"),p("  .")}catch(de){console.error("  :",de),p("  .","error")}finally{document.body.removeChild(ve)}}},te=[{label:"",content:b||" "},{label:"",content:_||" "},{label:" ",content:K?" ":"  "},{label:" ",content:`${$.toLocaleString()}`}],se=[{key:"profile",label:""},{key:"exhibitions",label:` (${G.length||0})`},{key:"artworks",label:` (${H.length||0})`}],pe=(Ee,ve)=>{if(!Ee||!ve)return"default";const de=new Date().setHours(0,0,0,0),ae=new Date(Ee).setHours(0,0,0,0),ue=new Date(ve).setHours(0,0,0,0);return de<ae?"scheduled":de>ue?"ended":"exhibited"},ge=()=>{if(!G.length)return jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});const Ee=G.map((ve={})=>{const de=pe(ve.exhibition_start_date,ve.exhibition_end_date);return{exhibition_id:ve.id,exhibition_poster:ve.exhibition_poster,exhibition_title:ve.exhibition_title,exhibition_status:de,exhibition_location:ve.exhibition_location||ve.location||"  ",exhibition_start_date:ve.exhibition_start_date,exhibition_end_date:ve.exhibition_end_date}});return jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:Ee})},me=()=>H.length?jsxRuntimeExports.jsx("div",{className:styles$h.artworkGrid,children:H.map(({id:Ee,art_title:ve,art_image:de,title:ae,imageUrl:ue})=>{const re=ve||ae||"",oe=de||ue||"";return jsxRuntimeExports.jsxs("div",{className:styles$h.artworkCard,children:[jsxRuntimeExports.jsx(Img,{className:styles$h.artworkImage,src:oe,alt:re}),jsxRuntimeExports.jsx("p",{className:styles$h.artworkTitle,children:re})]},`${Ee}-${re}`)})}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});return jsxRuntimeExports.jsxs("div",{className:styles$h.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$h.breadcrumbBack,onClick:()=>r("/artists"),children:""})," ","> ",x]}),jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx(Img,{className:styles$h.artistImage,src:R,alt:`${x}  `}),K&&jsxRuntimeExports.jsx("div",{className:styles$h.statusBadge,children:""}),jsxRuntimeExports.jsxs("section",{className:styles$h.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$h.artistTitle,children:x}),(b||_)&&jsxRuntimeExports.jsx("p",{className:styles$h.artistSubTitle,children:[b,_].filter(Boolean).join(" | ")})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:W,children:[jsxRuntimeExports.jsx(FaStar,{className:`${styles$h.icon} ${P?styles$h.likedIcon:""}`})," "]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,disabled:!j,onClick:Y,children:[jsxRuntimeExports.jsx(FaHome,{className:styles$h.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:X,children:[jsxRuntimeExports.jsx(FaShare,{className:styles$h.icon}),""]})]}),jsxRuntimeExports.jsx("section",{className:styles$h.infoList,children:te.map(({label:Ee,content:ve})=>{const de=!ve||typeof ve=="string"&&ve.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$h.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$h.infoLabel,children:Ee}),jsxRuntimeExports.jsx("div",{className:`${styles$h.infoContent} ${de?styles$h.emptyInfo:""}`,children:ve})]},Ee)})})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:se,activeTab:l,setActiveTab:c,children:[l==="profile"&&(k?jsxRuntimeExports.jsx("div",{className:styles$h.descriptionParagraph,dangerouslySetInnerHTML:{__html:k}}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."})),l==="exhibitions"&&ge(),l==="artworks"&&me()]}),jsxRuntimeExports.jsx("button",{className:styles$h.backButton,onClick:()=>r("/artists"),children:" "})]})}const layout$6="_layout_x21rz_1",container$3="_container_x21rz_21",header$6="_header_x21rz_39",loginTitle="_loginTitle_x21rz_49",subParagraph="_subParagraph_x21rz_63",contentContainer="_contentContainer_x21rz_75",loginForm="_loginForm_x21rz_91",submitButton="_submitButton_x21rz_105",styles$g={layout:layout$6,container:container$3,header:header$6,loginTitle,subParagraph,contentContainer,loginForm,submitButton},layout$5="_layout_i8wj8_1",navigateLink="_navigateLink_i8wj8_19",termParagraph="_termParagraph_i8wj8_59",termLink="_termLink_i8wj8_77",registerButton="_registerButton_i8wj8_85",styles$f={layout:layout$5,navigateLink,termParagraph,termLink,registerButton};function SupportSection(){return jsxRuntimeExports.jsxs("section",{className:styles$f.layout,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$f.navigateLink,to:"/find",children:" /  "}),jsxRuntimeExports.jsxs("p",{className:styles$f.termParagraph,children:["    ,",jsxRuntimeExports.jsx("br",{})," "," ",jsxRuntimeExports.jsx(Link$1,{className:styles$f.termLink,children:"  "}),"",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsx(Link$1,{className:styles$f.registerButton,to:"/register",children:" "})]})}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const n=[];let r=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=o&63|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=o&63|128)}return n},byteArrayToString=function(t){const n=[];let r=0,s=0;for(;r<t.length;){const o=t[r++];if(o<128)n[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[r++];n[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[r++],c=t[r++],p=t[r++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|p&63)-65536;n[s++]=String.fromCharCode(55296+(m>>10)),n[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[r++],c=t[r++];n[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return n.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,p=c?t[o+1]:0,m=o+2<t.length,x=m?t[o+2]:0,b=l>>2,_=(l&3)<<4|p>>4;let R=(p&15)<<2|x>>6,k=x&63;m||(k=64,c||(R=64)),s.push(r[b],r[_],r[R],r[k])}return s.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(stringToByteArray$1(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):byteArrayToString(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();const r=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=r[t.charAt(o++)],p=o<t.length?r[t.charAt(o)]:0;++o;const x=o<t.length?r[t.charAt(o)]:64;++o;const _=o<t.length?r[t.charAt(o)]:64;if(++o,l==null||p==null||x==null||_==null)throw new DecodeBase64StringError;const R=l<<2|p>>4;if(s.push(R),x!==64){const k=p<<4&240|x>>2;if(s.push(k),_!==64){const M=x<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const n=stringToByteArray$1(t);return base64.encodeByteArray(n,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=t&&base64Decode(t[1]);return n&&JSON.parse(n)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultAppConfig=()=>{var t;return(t=getDefaults())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}wrapCallback(n){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(r):n(r,s))}}}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,n)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var l;n(((l=o.error)==null?void 0:l.message)||"")}}catch(r){n(r)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(n,r,s){super(r),this.code=n,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(n,r,s){this.service=n,this.serviceName=r,this.errors=s}create(n,...r){const s=r[0]||{},o=`${this.service}/${n}`,l=this.errors[n],c=l?replaceTemplate(l,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new FirebaseError(o,p,s)}}function replaceTemplate(t,n){return t.replace(PATTERN,(r,s)=>{const o=n[s];return o!=null?String(o):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual$1(t,n){if(t===n)return!0;const r=Object.keys(t),s=Object.keys(n);for(const o of r){if(!s.includes(o))return!1;const l=t[o],c=n[o];if(isObject$1(l)&&isObject$1(c)){if(!deepEqual$1(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(t,n=DEFAULT_INTERVAL_MILLIS,r=DEFAULT_BACKOFF_FACTOR){const s=n*Math.pow(r,t),o=Math.round(RANDOM_FACTOR*s*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(n,r,s){this.name=n,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){const s=new Deferred;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(n){const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),s=(n==null?void 0:n.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(isComponentEager(n))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(n=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=DEFAULT_ENTRY_NAME$1){return this.instances.has(n)}getOptions(n=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:r={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[l,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&c.resolve(o)}return o}onInit(n,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(n),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&n(l,s),()=>{o.delete(n)}}invokeOnInitCallbacks(n,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(n,r)}catch{}}getOrInitializeService({instanceIdentifier:n,options:r={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(n),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?n:DEFAULT_ENTRY_NAME$1:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const r=this.getProvider(n.name);if(r.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);r.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const r=new Provider(n,this);return this.providers.set(n,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,n,...r)=>{if(n<t.logLevel)return;const s=new Date().toISOString(),o=ConsoleMethod[n];if(o)console[o](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Logger{constructor(n){this.name=n,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in LogLevel))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?levelStringToEnum[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...n),this._logHandler(this,LogLevel.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...n),this._logHandler(this,LogLevel.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...n),this._logHandler(this,LogLevel.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...n),this._logHandler(this,LogLevel.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...n),this._logHandler(this,LogLevel.ERROR,...n)}}const instanceOfAny=(t,n)=>n.some(r=>t instanceof r);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const n=new Promise((r,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{r(wrap$1(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return n.then(r=>{r instanceof IDBCursor&&cursorRequestMap.set(r,t)}).catch(()=>{}),reverseTransformCache.set(n,t),n}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const n=new Promise((r,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{r(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});transactionDoneMap.set(t,n)}let idbProxyTraps={get(t,n,r){if(t instanceof IDBTransaction){if(n==="done")return transactionDoneMap.get(t);if(n==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap$1(t[n])},set(t,n,r){return t[n]=r,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){const s=t.call(unwrap(this),n,...r);return transactionStoreNamesMap.set(s,n.sort?n.sort():[n]),wrap$1(s)}:getCursorAdvanceMethods().includes(t)?function(...n){return t.apply(unwrap(this),n),wrap$1(cursorRequestMap.get(this))}:function(...n){return wrap$1(t.apply(unwrap(this),n))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap$1(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const n=transformCachableValue(t);return n!==t&&(transformCache.set(t,n),reverseTransformCache.set(n,t)),n}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,n,{blocked:r,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,n),p=wrap$1(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wrap$1(c.result),m.oldVersion,m.newVersion,wrap$1(c.transaction),m)}),r&&c.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}function deleteDB(t,{blocked:n}={}){const r=indexedDB.deleteDatabase(t);return n&&r.addEventListener("blocked",s=>n(s.oldVersion,s)),wrap$1(r).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(cachedMethods.get(n))return cachedMethods.get(n);const r=n.replace(/FromIndex$/,""),s=n!==r,o=writeMethods.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(r)))return;const l=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let x=m.store;return s&&(x=x.index(p.shift())),(await Promise.all([x[r](...p),o&&m.done]))[0]};return cachedMethods.set(n,l),l}replaceTraps(t=>({...t,get:(n,r,s)=>getMethod(n,r)||t.get(n,r,s),has:(n,r)=>!!getMethod(n,r)||t.has(n,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(t){const n=t.getComponent();return(n==null?void 0:n.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5$1="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5$1]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,n){try{t.container.addComponent(n)}catch(r){logger$1.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,r)}}function _registerComponent(t){const n=t.name;if(_components.has(n))return logger$1.debug(`There were multiple attempts to register component ${n}.`),!1;_components.set(n,t);for(const r of _apps.values())_addComponent(r,t);for(const r of _serverApps.values())_addComponent(r,t);return!0}function _getProvider(t,n){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$3=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(n,r,s){this._isDeleted=!1,this._options={...n},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$3.create("app-deleted",{appName:this._name})}}function initializeApp(t,n={}){let r=t;typeof n!="object"&&(n={name:n});const s={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...n},o=s.name;if(typeof o!="string"||!o)throw ERROR_FACTORY$3.create("bad-app-name",{appName:String(o)});if(r||(r=getDefaultAppConfig()),!r)throw ERROR_FACTORY$3.create("no-options");const l=_apps.get(o);if(l){if(deepEqual$1(r,l.options)&&deepEqual$1(s,l.config))return l;throw ERROR_FACTORY$3.create("duplicate-app",{appName:o})}const c=new ComponentContainer(o);for(const m of _components.values())c.addComponent(m);const p=new FirebaseAppImpl(r,s,c);return _apps.set(o,p),p}function getApp(t=DEFAULT_ENTRY_NAME){const n=_apps.get(t);if(!n&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!n)throw ERROR_FACTORY$3.create("no-app",{appName:t});return n}function registerVersion(t,n,r){let s=PLATFORM_LOG_STRING[t]??t;r&&(s+=`-${r}`);const o=s.match(/\s|\//),l=n.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${n}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${n}" contains illegal characters (whitespace or "/")`),logger$1.warn(c.join(" "));return}_registerComponent(new Component(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$2=null;function getDbPromise$2(){return dbPromise$2||(dbPromise$2=openDB(DB_NAME,DB_VERSION,{upgrade:(t,n)=>{switch(n){case 0:try{t.createObjectStore(STORE_NAME)}catch(r){console.warn(r)}}}}).catch(t=>{throw ERROR_FACTORY$3.create("idb-open",{originalErrorMessage:t.message})})),dbPromise$2}async function readHeartbeatsFromIndexedDB(t){try{const r=(await getDbPromise$2()).transaction(STORE_NAME),s=await r.objectStore(STORE_NAME).get(computeKey(t));return await r.done,s}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const r=ERROR_FACTORY$3.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(r.message)}}}async function writeHeartbeatsToIndexedDB(t,n){try{const s=(await getDbPromise$2()).transaction(STORE_NAME,"readwrite");await s.objectStore(STORE_NAME).put(n,computeKey(t)),await s.done}catch(r){if(r instanceof FirebaseError)logger$1.warn(r.message);else{const s=ERROR_FACTORY$3.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});logger$1.warn(s.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(n){this.container=n,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=getUTCDateString();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const c=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){logger$1.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),l=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return logger$1.warn(r),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,n=MAX_HEADER_BYTES){const r=[];let s=t.slice();for(const o of t){const l=r.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),countBytes(r)>n){l.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),countBytes(r)>n){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class HeartbeatStorageImpl{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await readHeartbeatsFromIndexedDB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function getEarliestHeartbeatIdx(t){if(t.length===0)return-1;let n=0,r=t[0].date;for(let s=1;s<t.length;s++)t[s].date<r&&(r=t[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",n=>new PlatformLoggerServiceImpl(n),"PRIVATE")),_registerComponent(new Component("heartbeat",n=>new HeartbeatServiceImpl(n),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");const name$5="@firebase/installations",version$3="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$3}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$2=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(t){return t instanceof FirebaseError&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:t}){return`${INSTALLATIONS_API_URL}/projects/${t}/installations`}function extractAuthTokenInfoFromResponse(t){return{token:t.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(t.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(t,n){const s=(await n.json()).error;return ERROR_FACTORY$2.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function getHeaders$2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function getHeadersWithAuth(t,{refreshToken:n}){const r=getHeaders$2(t);return r.append("Authorization",getAuthorizationHeader(n)),r}async function retryIfServerError(t){const n=await t();return n.status>=500&&n.status<600?t():n}function getExpiresInFromResponseExpiresIn(t){return Number(t.replace("s","000"))}function getAuthorizationHeader(t){return`${INTERNAL_AUTH_VERSION} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:t,heartbeatServiceProvider:n},{fid:r}){const s=getInstallationsEndpoint(t),o=getHeaders$2(t),l=n.getImmediate({optional:!0});if(l){const x=await l.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const c={fid:r,authVersion:INTERNAL_AUTH_VERSION,appId:t.appId,sdkVersion:PACKAGE_VERSION},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await retryIfServerError(()=>fetch(s,p));if(m.ok){const x=await m.json();return{fid:x.fid||r,registrationStatus:2,refreshToken:x.refreshToken,authToken:extractAuthTokenInfoFromResponse(x.authToken)}}else throw await getErrorFromResponse("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(t){return new Promise(n=>{setTimeout(n,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=encode(t);return VALID_FID_PATTERN.test(r)?r:INVALID_FID}catch{return INVALID_FID}}function encode(t){return bufferToBase64UrlSafe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(t,n){const r=getKey$1(t);callFidChangeCallbacks(r,n),broadcastFidChange(r,n)}function callFidChangeCallbacks(t,n){const r=fidChangeCallbacks.get(t);if(r)for(const s of r)s(n)}function broadcastFidChange(t,n){const r=getBroadcastChannel();r&&r.postMessage({key:t,fid:n}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=t=>{callFidChangeCallbacks(t.data.key,t.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-installations-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-installations-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function set(t,n){const r=getKey$1(t),o=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=o.objectStore(OBJECT_STORE_NAME$1),c=await l.get(r);return await l.put(n,r),await o.done,(!c||c.fid!==n.fid)&&fidChanged(t,n.fid),n}async function remove(t){const n=getKey$1(t),s=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await s.objectStore(OBJECT_STORE_NAME$1).delete(n),await s.done}async function update(t,n){const r=getKey$1(t),o=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=o.objectStore(OBJECT_STORE_NAME$1),c=await l.get(r),p=n(c);return p===void 0?await l.delete(r):await l.put(p,r),await o.done,p&&(!c||c.fid!==p.fid)&&fidChanged(t,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(t){let n;const r=await update(t.appConfig,s=>{const o=updateOrCreateInstallationEntry(s),l=triggerRegistrationIfNecessary(t,o);return n=l.registrationPromise,l.installationEntry});return r.fid===INVALID_FID?{installationEntry:await n}:{installationEntry:r,registrationPromise:n}}function updateOrCreateInstallationEntry(t){const n=t||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(n)}function triggerRegistrationIfNecessary(t,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ERROR_FACTORY$2.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},s=registerInstallation(t,r);return{installationEntry:r,registrationPromise:s}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:waitUntilFidRegistration(t)}:{installationEntry:n}}async function registerInstallation(t,n){try{const r=await createInstallationRequest(t,n);return set(t.appConfig,r)}catch(r){throw isServerError(r)&&r.customData.serverCode===409?await remove(t.appConfig):await set(t.appConfig,{fid:n.fid,registrationStatus:0}),r}}async function waitUntilFidRegistration(t){let n=await updateInstallationRequest(t.appConfig);for(;n.registrationStatus===1;)await sleep(100),n=await updateInstallationRequest(t.appConfig);if(n.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await getInstallationEntry(t);return s||r}return n}function updateInstallationRequest(t){return update(t,n=>{if(!n)throw ERROR_FACTORY$2.create("installation-not-found");return clearTimedOutRequest(n)})}function clearTimedOutRequest(t){return hasInstallationRequestTimedOut(t)?{fid:t.fid,registrationStatus:0}:t}function hasInstallationRequestTimedOut(t){return t.registrationStatus===1&&t.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:t,heartbeatServiceProvider:n},r){const s=getGenerateAuthTokenEndpoint(t,r),o=getHeadersWithAuth(t,r),l=n.getImmediate({optional:!0});if(l){const x=await l.getHeartbeatsHeader();x&&o.append("x-firebase-client",x)}const c={installation:{sdkVersion:PACKAGE_VERSION,appId:t.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await retryIfServerError(()=>fetch(s,p));if(m.ok){const x=await m.json();return extractAuthTokenInfoFromResponse(x)}else throw await getErrorFromResponse("Generate Auth Token",m)}function getGenerateAuthTokenEndpoint(t,{fid:n}){return`${getInstallationsEndpoint(t)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(t,n=!1){let r;const s=await update(t.appConfig,l=>{if(!isEntryRegistered(l))throw ERROR_FACTORY$2.create("not-registered");const c=l.authToken;if(!n&&isAuthTokenValid(c))return l;if(c.requestStatus===1)return r=waitUntilAuthTokenRequest(t,n),l;{if(!navigator.onLine)throw ERROR_FACTORY$2.create("app-offline");const p=makeAuthTokenRequestInProgressEntry(l);return r=fetchAuthTokenFromServer(t,p),p}});return r?await r:s.authToken}async function waitUntilAuthTokenRequest(t,n){let r=await updateAuthTokenRequest(t.appConfig);for(;r.authToken.requestStatus===1;)await sleep(100),r=await updateAuthTokenRequest(t.appConfig);const s=r.authToken;return s.requestStatus===0?refreshAuthToken(t,n):s}function updateAuthTokenRequest(t){return update(t,n=>{if(!isEntryRegistered(n))throw ERROR_FACTORY$2.create("not-registered");const r=n.authToken;return hasAuthTokenRequestTimedOut(r)?{...n,authToken:{requestStatus:0}}:n})}async function fetchAuthTokenFromServer(t,n){try{const r=await generateAuthTokenRequest(t,n),s={...n,authToken:r};return await set(t.appConfig,s),r}catch(r){if(isServerError(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await remove(t.appConfig);else{const s={...n,authToken:{requestStatus:0}};await set(t.appConfig,s)}throw r}}function isEntryRegistered(t){return t!==void 0&&t.registrationStatus===2}function isAuthTokenValid(t){return t.requestStatus===2&&!isAuthTokenExpired(t)}function isAuthTokenExpired(t){const n=Date.now();return n<t.creationTime||t.creationTime+t.expiresIn<n+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(t){const n={requestStatus:1,requestTime:Date.now()};return{...t,authToken:n}}function hasAuthTokenRequestTimedOut(t){return t.requestStatus===1&&t.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId$1(t){const n=t,{installationEntry:r,registrationPromise:s}=await getInstallationEntry(n);return s?s.catch(console.error):refreshAuthToken(n).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$2(t,n=!1){const r=t;return await completeInstallationRegistration(r),(await refreshAuthToken(r,n)).token}async function completeInstallationRegistration(t){const{registrationPromise:n}=await getInstallationEntry(t);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(t){if(!t||!t.options)throw getMissingValueError$1("App Configuration");if(!t.name)throw getMissingValueError$1("App Name");const n=["projectId","apiKey","appId"];for(const r of n)if(!t.options[r])throw getMissingValueError$1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function getMissingValueError$1(t){return ERROR_FACTORY$2.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=t=>{const n=t.getProvider("app").getImmediate(),r=extractAppConfig$1(n),s=_getProvider(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},internalFactory=t=>{const n=t.getProvider("app").getImmediate(),r=_getProvider(n,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId$1(r),getToken:o=>getToken$2(r,o)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$5,version$3);registerVersion(name$5,version$3,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e",DEFAULT_REGISTRATION_TIMEOUT=1e4;var MessageType$1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(t){const n=new Uint8Array(t);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(t){const n="=".repeat((4-t.length%4)%4),r=(t+n).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),o=new Uint8Array(s.length);for(let l=0;l<s.length;++l)o[l]=s.charCodeAt(l);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(OLD_DB_NAME))return null;let n=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(s,o,l,c)=>{if(o<2||!s.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const p=c.objectStore(OLD_OBJECT_STORE_NAME),m=await p.index("fcmSenderId").get(t);if(await p.clear(),!!m){if(o===2){const x=m;if(!x.auth||!x.p256dh||!x.endpoint)return;n={token:x.fcmToken,createTime:x.createTime??Date.now(),subscriptionOptions:{auth:x.auth,p256dh:x.p256dh,endpoint:x.endpoint,swScope:x.swScope,vapidKey:typeof x.vapidKey=="string"?x.vapidKey:arrayToBase64(x.vapidKey)}}}else if(o===3){const x=m;n={token:x.fcmToken,createTime:x.createTime,subscriptionOptions:{auth:arrayToBase64(x.auth),p256dh:arrayToBase64(x.p256dh),endpoint:x.endpoint,swScope:x.swScope,vapidKey:arrayToBase64(x.vapidKey)}}}else if(o===4){const x=m;n={token:x.fcmToken,createTime:x.createTime,subscriptionOptions:{auth:arrayToBase64(x.auth),p256dh:arrayToBase64(x.p256dh),endpoint:x.endpoint,swScope:x.swScope,vapidKey:arrayToBase64(x.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(n)?n:null}function checkTokenDetails(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:n}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(t,n)=>{switch(n){case 0:t.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(t){const n=getKey(t),s=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(n);if(s)return s;{const o=await migrateOldDatabase(t.appConfig.senderId);if(o)return await dbSet(t,o),o}}async function dbSet(t,n){const r=getKey(t),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await o.objectStore(OBJECT_STORE_NAME).put(n,r),await o.done,n}function getKey({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$1=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(t,n){const r=await getHeaders$1(t),s=getBody(n),o={method:"POST",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(getEndpoint(t.appConfig),o)).json()}catch(c){throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw ERROR_FACTORY$1.create("token-subscribe-no-token");return l.token}async function requestUpdateToken(t,n){const r=await getHeaders$1(t),s=getBody(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(`${getEndpoint(t.appConfig)}/${n.token}`,o)).json()}catch(c){throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:c})}if(!l.token)throw ERROR_FACTORY$1.create("token-update-no-token");return l.token}async function requestDeleteToken(t,n){const s={method:"DELETE",headers:await getHeaders$1(t)};try{const l=await(await fetch(`${getEndpoint(t.appConfig)}/${n}`,s)).json();if(l.error){const c=l.error.message;throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:c})}}catch(o){throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function getEndpoint({projectId:t}){return`${ENDPOINT}/projects/${t}/registrations`}async function getHeaders$1({appConfig:t,installations:n}){const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function getBody({p256dh:t,auth:n,endpoint:r,vapidKey:s}){const o={web:{endpoint:r,auth:n,p256dh:t}};return s!==DEFAULT_VAPID_KEY&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=10080*60*1e3;async function getTokenInternal(t){const n=await getPushSubscription(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:arrayToBase64(n.getKey("auth")),p256dh:arrayToBase64(n.getKey("p256dh"))},s=await dbGet(t.firebaseDependencies);if(s){if(isTokenValid(s.subscriptionOptions,r))return Date.now()>=s.createTime+TOKEN_EXPIRATION_MS?updateToken(t,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await requestDeleteToken(t.firebaseDependencies,s.token)}catch(o){console.warn(o)}return getNewToken(t.firebaseDependencies,r)}else return getNewToken(t.firebaseDependencies,r)}async function updateToken(t,n){try{const r=await requestUpdateToken(t.firebaseDependencies,n),s={...n,token:r,createTime:Date.now()};return await dbSet(t.firebaseDependencies,s),r}catch(r){throw r}}async function getNewToken(t,n){const s={token:await requestGetToken(t,n),createTime:Date.now(),subscriptionOptions:n};return await dbSet(t,s),s.token}async function getPushSubscription(t,n){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(n)})}function isTokenValid(t,n){const r=n.vapidKey===t.vapidKey,s=n.endpoint===t.endpoint,o=n.auth===t.auth,l=n.p256dh===t.p256dh;return r&&s&&o&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(t){const n={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return propagateNotificationPayload(n,t),propagateDataPayload(n,t),propagateFcmOptions(n,t),n}function propagateNotificationPayload(t,n){if(!n.notification)return;t.notification={};const r=n.notification.title;r&&(t.notification.title=r);const s=n.notification.body;s&&(t.notification.body=s);const o=n.notification.image;o&&(t.notification.image=o);const l=n.notification.icon;l&&(t.notification.icon=l)}function propagateDataPayload(t,n){n.data&&(t.data=n.data)}function propagateFcmOptions(t,n){var o,l,c,p;if(!n.fcmOptions&&!((o=n.notification)!=null&&o.click_action))return;t.fcmOptions={};const r=((l=n.fcmOptions)==null?void 0:l.link)??((c=n.notification)==null?void 0:c.click_action);r&&(t.fcmOptions.link=r);const s=(p=n.fcmOptions)==null?void 0:p.analytics_label;s&&(t.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(t){return typeof t=="object"&&!!t&&CONSOLE_CAMPAIGN_ID in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(t){if(!t||!t.options)throw getMissingValueError("App Configuration Object");if(!t.name)throw getMissingValueError("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const s of n)if(!r[s])throw getMissingValueError(s);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function getMissingValueError(t){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(n,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=extractAppConfig(n);this.firebaseDependencies={app:n,appConfig:o,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(t){try{t.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),t.swRegistration.update().catch(()=>{}),await waitForRegistrationActive(t.swRegistration)}catch(n){throw ERROR_FACTORY$1.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}}async function waitForRegistrationActive(t){return new Promise((n,r)=>{const s=setTimeout(()=>r(new Error(`Service worker not registered after ${DEFAULT_REGISTRATION_TIMEOUT} ms`)),DEFAULT_REGISTRATION_TIMEOUT),o=t.installing||t.waiting;t.active?(clearTimeout(s),n()):o?o.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(o.onstatechange=null,clearTimeout(s),n())}:(clearTimeout(s),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(t,n){if(!n&&!t.swRegistration&&await registerDefaultSw(t),!(!n&&t.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw ERROR_FACTORY$1.create("invalid-sw-registration");t.swRegistration=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(t,n){n?t.vapidKey=n:t.vapidKey||(t.vapidKey=DEFAULT_VAPID_KEY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(t,n){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY$1.create("permission-blocked");return await updateVapidKey(t,n==null?void 0:n.vapidKey),await updateSwReg(t,n==null?void 0:n.serviceWorkerRegistration),getTokenInternal(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(t,n,r){const s=getEventType(n);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[CONSOLE_CAMPAIGN_ID],message_name:r[CONSOLE_CAMPAIGN_NAME],message_time:r[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(t){switch(t){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(t,n){const r=n.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===MessageType.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(externalizePayload(r)):t.onMessageHandler.next(externalizePayload(r)));const s=r.data;isConsoleMessage(s)&&s[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(t,r.messageType,s)}const name$4="@firebase/messaging",version$2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=t=>{const n=new MessagingService(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>messageEventListener(n,r)),n},WindowMessagingInternalFactory=t=>{const n=t.getProvider("messaging").getImmediate();return{getToken:s=>getToken$1(n,s)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name$4,version$2),registerVersion(name$4,version$2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function isWindowSupported(){try{await validateIndexedDBOpenable()}catch{return!1}return typeof window<"u"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onMessage$1(t,n){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");return t.onMessageHandler=n,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getMessagingInWindow(t=getApp()){return isWindowSupported().then(n=>{if(!n)throw ERROR_FACTORY$1.create("unsupported-browser")},n=>{throw ERROR_FACTORY$1.create("indexed-db-unsupported")}),_getProvider(getModularInstance(t),"messaging").getImmediate()}async function getToken(t,n){return t=getModularInstance(t),getToken$1(t,n)}function onMessage(t,n){return t=getModularInstance(t),onMessage$1(t,n)}registerMessagingInWindow();var name$3="firebase",version$1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$1,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(t){if(!t.startsWith(GTAG_URL)){const n=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:t});return logger.warn(n.message),""}return t}function promiseAllSettled(t){return Promise.all(t.map(n=>n.catch(r=>r)))}function createTrustedTypesPolicy(t,n){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,n)),r}function insertScriptTag(t,n){const r=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),s=document.createElement("script"),o=`${GTAG_URL}?l=${t}&id=${n}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function getOrCreateDataLayer(t){let n=[];return Array.isArray(window[t])?n=window[t]:window[t]=n,n}async function gtagOnConfig(t,n,r,s,o,l){const c=s[o];try{if(c)await n[c];else{const m=(await promiseAllSettled(r)).find(x=>x.measurementId===o);m&&await n[m.appId]}}catch(p){logger.error(p)}t("config",o,l)}async function gtagOnEvent(t,n,r,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await promiseAllSettled(r);for(const m of c){const x=p.find(_=>_.measurementId===m),b=x&&n[x.appId];if(b)l.push(b);else{l=[];break}}}l.length===0&&(l=Object.values(n)),await Promise.all(l),t("event",s,o||{})}catch(l){logger.error(l)}}function wrapGtag(t,n,r,s){async function o(l,...c){try{if(l==="event"){const[p,m]=c;await gtagOnEvent(t,n,r,p,m)}else if(l==="config"){const[p,m]=c;await gtagOnConfig(t,n,r,s,p,m)}else if(l==="consent"){const[p,m]=c;t("consent",p,m)}else if(l==="get"){const[p,m,x]=c;t("get",p,m,x)}else if(l==="set"){const[p]=c;t("set",p)}else t(l,...c)}catch(p){logger.error(p)}}return o}function wrapOrCreateGtag(t,n,r,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=wrapGtag(l,t,n,r),{gtagCore:l,wrappedGtag:window[o]}}function findGtagScriptOnPage(t){const n=window.document.getElementsByTagName("script");for(const r of Object.values(n))if(r.src&&r.src.includes(GTAG_URL)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(n={},r=BASE_INTERVAL_MILLIS){this.throttleMetadata=n,this.intervalMillis=r}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,r){this.throttleMetadata[n]=r}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const defaultRetryData=new RetryData;function getHeaders(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fetchDynamicConfig(t){var c;const{appId:n,apiKey:r}=t,s={method:"GET",headers:getHeaders(r)},o=DYNAMIC_CONFIG_URL.replace("{app-id}",n),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let p="";try{const m=await l.json();(c=m.error)!=null&&c.message&&(p=m.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:l.status,responseMessage:p})}return l.json()}async function fetchDynamicConfigWithRetry(t,n=defaultRetryData,r){const{appId:s,apiKey:o,measurementId:l}=t.options;if(!s)throw ERROR_FACTORY.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw ERROR_FACTORY.create("no-api-key")}const c=n.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new AnalyticsAbortSignal;return setTimeout(async()=>{p.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:s,apiKey:o,measurementId:l},c,p,n)}async function attemptFetchDynamicConfigWithRetry(t,{throttleEndTimeMillis:n,backoffCount:r},s,o=defaultRetryData){var p;const{appId:l,measurementId:c}=t;try{await setAbortableTimeout(s,n)}catch(m){if(c)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw m}try{const m=await fetchDynamicConfig(t);return o.deleteThrottleMetadata(l),m}catch(m){const x=m;if(!isRetriableError(x)){if(o.deleteThrottleMetadata(l),c)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:l,measurementId:c};throw m}const b=Number((p=x==null?void 0:x.customData)==null?void 0:p.httpStatus)===503?calculateBackoffMillis(r,o.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(r,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+b,backoffCount:r+1};return o.setThrottleMetadata(l,_),logger.debug(`Calling attemptFetch again in ${b} millis`),attemptFetchDynamicConfigWithRetry(t,_,s,o)}}function setAbortableTimeout(t,n){return new Promise((r,s)=>{const o=Math.max(n-Date.now(),0),l=setTimeout(r,o);t.addEventListener(()=>{clearTimeout(l),s(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function isRetriableError(t){if(!(t instanceof FirebaseError)||!t.customData)return!1;const n=Number(t.customData.httpStatus);return n===429||n===500||n===503||n===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function logEvent$1(t,n,r,s,o){if(o&&o.global){t("event",r,s);return}else{const l=await n,c={...s,send_to:l};t("event",r,c)}}async function setUserProperties$1(t,n,r,s){if(s&&s.global){const o={};for(const l of Object.keys(r))o[`user_properties.${l}`]=r[l];return t("set",o),Promise.resolve()}else{const o=await n;t("config",o,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(t){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(t,n,r,s,o,l,c){const p=fetchDynamicConfigWithRetry(t);p.then(R=>{r[R.measurementId]=R.appId,t.options.measurementId&&R.measurementId!==t.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>logger.error(R)),n.push(p);const m=validateIndexedDB().then(R=>{if(R)return s.getId()}),[x,b]=await Promise.all([p,m]);findGtagScriptOnPage(l)||insertScriptTag(l,x.measurementId),o("js",new Date);const _=(c==null?void 0:c.config)??{};return _[ORIGIN_KEY]="firebase",_.update=!0,b!=null&&(_[GA_FID_KEY]=b),o("config",x.measurementId,_),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(n){this.app=n}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const t=[];if(isBrowserExtension()&&t.push("This is a browser extension environment."),areCookiesEnabled()||t.push("Cookies are not available."),t.length>0){const n=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:n});logger.warn(r.message)}}function factory(t,n,r){warnOnBrowserContextMismatch();const s=t.options.appId;if(!s)throw ERROR_FACTORY.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[s]!=null)throw ERROR_FACTORY.create("already-exists",{id:s});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:l,gtagCore:c}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=l,gtagCoreFunction=c,globalInitDone=!0}return initializationPromisesMap[s]=_initializeAnalytics(t,dynamicConfigPromisesList,measurementIdToAppId,n,gtagCoreFunction,dataLayerName,r),new AnalyticsService(t)}function getAnalytics(t=getApp()){t=getModularInstance(t);const n=_getProvider(t,ANALYTICS_TYPE);return n.isInitialized()?n.getImmediate():initializeAnalytics(t)}function initializeAnalytics(t,n={}){const r=_getProvider(t,ANALYTICS_TYPE);if(r.isInitialized()){const o=r.getImmediate();if(deepEqual$1(n,r.getOptions()))return o;throw ERROR_FACTORY.create("already-initialized")}return r.initialize({options:n})}function setUserProperties(t,n,r){t=getModularInstance(t),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[t.app.options.appId],n,r).catch(s=>logger.error(s))}function logEvent(t,n,r,s){t=getModularInstance(t),logEvent$1(wrappedGtagFunction,initializationPromisesMap[t.app.options.appId],n,r,s).catch(o=>logger.error(o))}const name$2="@firebase/analytics",version="0.10.19";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider("installations-internal").getImmediate();return factory(s,o,r)},"PUBLIC")),_registerComponent(new Component("analytics-internal",t,"PRIVATE")),registerVersion(name$2,version),registerVersion(name$2,version,"esm2020");function t(n){try{const r=n.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(s,o,l)=>logEvent(r,s,o,l),setUserProperties:(s,o)=>setUserProperties(r,s,o)}}catch(r){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:r})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},app=initializeApp(firebaseConfig);getAnalytics(app);const messaging=getMessagingInWindow(app),VAPID_KEY="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",FCM_TOKEN_KEY="fcm_token",isIOSWebView=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,requestFCMToken=async t=>{if(isIOSWebView()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(t),window.receiveFcmToken=async function(n){console.log(`iOS FCM  : ${n}`),n&&await sendTokenToServer(t,n)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${t}`);const n=window.Android.getFcmToken();return window.Android.setUserId(t),n?(console.log(` FCM Token: ${n}`),await sendTokenToServer(t,n),n):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const r=await getToken(messaging,{vapidKey:VAPID_KEY});return r?(console.log("FCM  :",r),api.set(FCM_TOKEN_KEY,r,{path:"/"}),await sendTokenToServer(t,r),r):(console.warn("   ."),null)}else return console.warn("  "),null}catch(n){throw n}},sendTokenToServer=async(t,n)=>{try{const r=await instance.post("/api/notification/registerToken",{user_id:t,fcm_token:n});return console.log("  ",r.data),r.data}catch(r){throw console.error("   ",r),r}},onForegroundMessage=t=>messaging?onMessage(messaging,n=>{if(console.log(" ",n),n.notification){const{title:r,body:s}=n.notification;Notification.permission==="granted"&&new Notification(r,{body:s,icon:"/logo192.png",data:n.data}),t&&t(n)}}):(console.log("  "),()=>{});function LoginDetail(){var m,x;const{data:t,handleChange:n}=useInput({login_id:"",login_pwd:""}),r=useNavigate(),s=useLocation(),o=((x=(m=s.state)==null?void 0:m.from)==null?void 0:x.pathname)||"/",{showAlert:l}=useAlert(),{login:c}=reactExports$1.useContext(UserContext),p=async()=>{try{const b=await instance.post("/api/auth/login",t),_=b.data.data,R=b.data.jwt;c(_,R),_&&_.id&&_.admin_flag!=="1"?await requestFCMToken(_.id):console.log("  - FCM   "),o==="/register"?r("/",{replace:!0}):o&&o!=="/login"&&o!==s.pathname?r(o,{replace:!0}):r("/",{replace:!0})}catch(b){b.status===401?l("   "):l("  .    .")}};return jsxRuntimeExports.jsx("div",{className:styles$g.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$g.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$g.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$g.loginTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$g.subParagraph,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$g.contentContainer,children:[jsxRuntimeExports.jsxs("form",{className:styles$g.loginForm,onSubmit:b=>{b.preventDefault(),p()},children:[jsxRuntimeExports.jsx(InputText,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:n,value:t.login_id}),jsxRuntimeExports.jsx(InputText,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",type:"password",onChange:n,value:t.login_pwd}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$g.submitButton,children:" "})]}),jsxRuntimeExports.jsx(SupportSection,{})]})]})})}const container$2="_container_17td7_1",loginContent="_loginContent_17td7_23",header$5="_header_17td7_39",subtitle="_subtitle_17td7_49",emailButton="_emailButton_17td7_81",footer$1="_footer_17td7_217",registerLink="_registerLink_17td7_229",styles$e={container:container$2,loginContent,header:header$5,subtitle,emailButton,footer:footer$1,registerLink};function Login(){const t=useNavigate(),n=()=>{t("/login-detail")};return jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsxs("div",{className:styles$e.loginContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.header,children:[jsxRuntimeExports.jsx(IcLogo,{color:"#3c504b"}),jsxRuntimeExports.jsx("p",{className:styles$e.subtitle,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$e.emailButton,onClick:n,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$e.footer,children:jsxRuntimeExports.jsx(Link$1,{className:styles$e.registerLink,to:"/register",children:" "})})]})})}const layout$4="_layout_1g5v5_1",layoutTitle="_layoutTitle_1g5v5_31",backButton$3="_backButton_1g5v5_65",mainContentContainer="_mainContentContainer_1g5v5_81",formSection="_formSection_1g5v5_149",inputGroup$1="_inputGroup_1g5v5_163",label$1="_label_1g5v5_173",textInput="_textInput_1g5v5_189",contentGrid="_contentGrid_1g5v5_225",leftColumn="_leftColumn_1g5v5_237",rightColumn="_rightColumn_1g5v5_249",actionFooter="_actionFooter_1g5v5_261",buttonGroup="_buttonGroup_1g5v5_291",actionButton="_actionButton_1g5v5_305",previewBtn="_previewBtn_1g5v5_327",submitBtn="_submitBtn_1g5v5_345",editModeButtons="_editModeButtons_1g5v5_383",deleteBtn="_deleteBtn_1g5v5_395",styles$d={layout:layout$4,layoutTitle,backButton:backButton$3,mainContentContainer,formSection,inputGroup:inputGroup$1,label:label$1,textInput,contentGrid,leftColumn,rightColumn,actionFooter,buttonGroup,actionButton,previewBtn,submitBtn,editModeButtons,deleteBtn},coverSectionBox="_coverSectionBox_ul99z_1",sectionHeader="_sectionHeader_ul99z_13",coverLabelSpan="_coverLabelSpan_ul99z_27",badge="_badge_ul99z_41",coverWrapper="_coverWrapper_ul99z_61",coverImageContainerBox="_coverImageContainerBox_ul99z_87",coverImage="_coverImage_ul99z_87",removeCoverButton="_removeCoverButton_ul99z_117",coverPlaceholderBox="_coverPlaceholderBox_ul99z_169",dragActive="_dragActive_ul99z_201",placeholderContent="_placeholderContent_ul99z_211",plusIconSpan$1="_plusIconSpan_ul99z_225",placeholderText="_placeholderText_ul99z_237",styles$c={coverSectionBox,sectionHeader,coverLabelSpan,badge,coverWrapper,coverImageContainerBox,coverImage,removeCoverButton,coverPlaceholderBox,dragActive,placeholderContent,plusIconSpan:plusIconSpan$1,placeholderText};function Cover({coverImage:t,setCoverImage:n,coverDropzone:r,openFileDialogForCover:s}){return jsxRuntimeExports.jsxs("div",{className:styles$c.coverSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$c.sectionHeader,children:[jsxRuntimeExports.jsx("span",{className:styles$c.coverLabelSpan,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$c.badge,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$c.coverWrapper,children:t?jsxRuntimeExports.jsxs("div",{className:styles$c.coverImageContainerBox,children:[jsxRuntimeExports.jsx("img",{src:t.url,alt:"",className:styles$c.coverImage}),jsxRuntimeExports.jsx("button",{className:styles$c.removeCoverButton,onClick:()=>n(null),"aria-label":" ",children:""})]}):jsxRuntimeExports.jsxs("div",{...r.getRootProps(),className:`${styles$c.coverPlaceholderBox} ${r.isDragActive?styles$c.dragActive:""}`,onClick:o=>{o.stopPropagation(),s()},children:[jsxRuntimeExports.jsx("input",{...r.getInputProps()}),jsxRuntimeExports.jsxs("div",{className:styles$c.placeholderContent,children:[jsxRuntimeExports.jsx("span",{className:styles$c.plusIconSpan,children:"+"}),jsxRuntimeExports.jsx("span",{className:styles$c.placeholderText,children:" "})]})]})})]})}const innerPagesSectionBox="_innerPagesSectionBox_1g0ac_1",headerRow$1="_headerRow_1g0ac_13",innerPagesLabelSpan="_innerPagesLabelSpan_1g0ac_27",countBadge="_countBadge_1g0ac_41",innerPagesGridContainer="_innerPagesGridContainer_1g0ac_61",dropzoneActive="_dropzoneActive_1g0ac_93",innerPageItemBox="_innerPageItemBox_1g0ac_105",dragging="_dragging_1g0ac_147",dragOver="_dragOver_1g0ac_157",imageWrapper$1="_imageWrapper_1g0ac_167",innerPageImage="_innerPageImage_1g0ac_175",removeInnerPageButton="_removeInnerPageButton_1g0ac_195",pageNumberBadge="_pageNumberBadge_1g0ac_259",addInnerPageButton="_addInnerPageButton_1g0ac_287",plusIconSpan="_plusIconSpan_1g0ac_327",addText="_addText_1g0ac_339",styles$b={innerPagesSectionBox,headerRow:headerRow$1,innerPagesLabelSpan,countBadge,innerPagesGridContainer,dropzoneActive,innerPageItemBox,dragging,dragOver,imageWrapper:imageWrapper$1,innerPageImage,removeInnerPageButton,pageNumberBadge,addInnerPageButton,plusIconSpan,addText};function Inner({imageList:t,setImageList:n,innerDropzone:r,handleRemoveImage:s,openFileDialogForInner:o}){const[l,c]=reactExports$1.useState(null),[p,m]=reactExports$1.useState(null),x=(M,P)=>{M.stopPropagation(),c(P),M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",P.toString())},b=M=>{M.stopPropagation(),c(null),m(null)},_=(M,P)=>{M.preventDefault(),M.stopPropagation(),M.dataTransfer.dropEffect="move",l!==null&&l!==P&&m(P)},R=M=>{M.currentTarget.contains(M.relatedTarget)||m(null)},k=(M,P)=>{if(l===null)return;if(M.preventDefault(),M.stopPropagation(),l===P){c(null),m(null);return}const K=t.filter(($,G)=>G!==l);K.splice(P,0,t[l]),n(K),c(null),m(null)};return jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$b.innerPagesLabelSpan,children:" "}),jsxRuntimeExports.jsxs("span",{className:styles$b.countBadge,children:[t.length,""]})]}),jsxRuntimeExports.jsxs("div",{...r.getRootProps(),className:`${styles$b.innerPagesGridContainer} ${r.isDragActive?styles$b.dropzoneActive:""}`,children:[jsxRuntimeExports.jsx("input",{...r.getInputProps()}),t.map((M,P)=>jsxRuntimeExports.jsxs("div",{className:`
              ${styles$b.innerPageItemBox} 
              ${l===P?styles$b.dragging:""} 
              ${p===P?styles$b.dragOver:""}
            `,draggable:!0,onDragStart:K=>x(K,P),onDragEnd:b,onDragOver:K=>_(K,P),onDragLeave:R,onDrop:K=>k(K,P),children:[jsxRuntimeExports.jsx("div",{className:styles$b.imageWrapper,children:jsxRuntimeExports.jsx("img",{src:M.url,alt:` ${P+1}`,className:styles$b.innerPageImage})}),jsxRuntimeExports.jsx("div",{className:styles$b.pageNumberBadge,children:P+1}),jsxRuntimeExports.jsx("button",{className:styles$b.removeInnerPageButton,onClick:K=>{K.stopPropagation(),s(P)},title:"",children:""})]},M.url)),jsxRuntimeExports.jsxs("div",{className:styles$b.addInnerPageButton,onClick:M=>{M.stopPropagation(),o()},children:[jsxRuntimeExports.jsx("span",{className:styles$b.plusIconSpan,children:"+"}),jsxRuntimeExports.jsx("span",{className:styles$b.addText,children:""})]})]})]})}function __awaiter(t,n,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function p(b){try{x(s.next(b))}catch(_){c(_)}}function m(b){try{x(s.throw(b))}catch(_){c(_)}}function x(b){b.done?l(b.value):o(b.value).then(p,m)}x((s=s.apply(t,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(t,n,r){const s=withMimeType(t),{webkitRelativePath:o}=t,l=typeof n=="string"?n:typeof o=="string"&&o.length>0?o:`./${t.name}`;return typeof s.path!="string"&&setObjProp(s,"path",l),setObjProp(s,"relativePath",l),s}function withMimeType(t){const{name:n}=t;if(n&&n.lastIndexOf(".")!==-1&&!t.type){const s=n.split(".").pop().toLowerCase(),o=COMMON_MIME_TYPES.get(s);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}function setObjProp(t,n,r){Object.defineProperty(t,n,{value:r,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(t){return __awaiter(this,void 0,void 0,function*(){return isObject(t)&&isDataTransfer(t.dataTransfer)?getDataTransferFiles(t.dataTransfer,t.type):isChangeEvt(t)?getInputFiles(t):Array.isArray(t)&&t.every(n=>"getFile"in n&&typeof n.getFile=="function")?getFsHandleFiles(t):[]})}function isDataTransfer(t){return isObject(t)}function isChangeEvt(t){return isObject(t)&&isObject(t.target)}function isObject(t){return typeof t=="object"&&t!==null}function getInputFiles(t){return fromList(t.target.files).map(n=>toFileWithPath(n))}function getFsHandleFiles(t){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>toFileWithPath(r))})}function getDataTransferFiles(t,n){return __awaiter(this,void 0,void 0,function*(){if(t.items){const r=fromList(t.items).filter(o=>o.kind==="file");if(n!=="drop")return r;const s=yield Promise.all(r.map(toFilePromises));return noIgnoredFiles(flatten(s))}return noIgnoredFiles(fromList(t.files).map(r=>toFileWithPath(r)))})}function noIgnoredFiles(t){return t.filter(n=>FILES_TO_IGNORE.indexOf(n.name)===-1)}function fromList(t){if(t===null)return[];const n=[];for(let r=0;r<t.length;r++){const s=t[r];n.push(s)}return n}function toFilePromises(t){if(typeof t.webkitGetAsEntry!="function")return fromDataTransferItem(t);const n=t.webkitGetAsEntry();return n&&n.isDirectory?fromDirEntry(n):fromDataTransferItem(t,n)}function flatten(t){return t.reduce((n,r)=>[...n,...Array.isArray(r)?flatten(r):[r]],[])}function fromDataTransferItem(t,n){return __awaiter(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const l=yield t.getAsFileSystemHandle();if(l===null)throw new Error(`${t} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,toFileWithPath(c)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return toFileWithPath(s,(r=n==null?void 0:n.fullPath)!==null&&r!==void 0?r:void 0)})}function fromEntry(t){return __awaiter(this,void 0,void 0,function*(){return t.isDirectory?fromDirEntry(t):fromFileEntry(t)})}function fromDirEntry(t){const n=t.createReader();return new Promise((r,s)=>{const o=[];function l(){n.readEntries(c=>__awaiter(this,void 0,void 0,function*(){if(c.length){const p=Promise.all(c.map(fromEntry));o.push(p),l()}else try{const p=yield Promise.all(o);r(p)}catch(p){s(p)}}),c=>{s(c)})}l()})}function fromFileEntry(t){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,r)=>{t.file(s=>{const o=toFileWithPath(s,t.fullPath);n(o)},s=>{r(s)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(t,n){if(t&&n){var r=Array.isArray(n)?n:n.split(",");if(r.length===0)return!0;var s=t.name||"",o=(t.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return r.some(function(c){var p=c.trim().toLowerCase();return p.charAt(0)==="."?s.toLowerCase().endsWith(p):p.endsWith("/*")?l===p.replace(/\/.*$/,""):o===p})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs(esExports);function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function ownKeys$1(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread$1(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(r),!0).forEach(function(s){_defineProperty$1(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty$1(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _slicedToArray$1(t,n){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,n)||_unsupportedIterableToArray$1(t,n)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,n)}}function _arrayLikeToArray$1(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=t[r];return s}function _iterableToArrayLimit$1(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,p;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(m){l=!0,p=m}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw p}}return s}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=n.split(","),s=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(s)}},getTooLargeRejectionErr=function t(n){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},getTooSmallRejectionErr=function t(n){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(t,n){var r=t.type==="application/x-moz-file"||accepts(t,n);return[r,r?null:getInvalidTypeRejectionErr(n)]}function fileMatchSize(t,n,r){if(isDefined(t.size))if(isDefined(n)&&isDefined(r)){if(t.size>r)return[!1,getTooLargeRejectionErr(r)];if(t.size<n)return[!1,getTooSmallRejectionErr(n)]}else{if(isDefined(n)&&t.size<n)return[!1,getTooSmallRejectionErr(n)];if(isDefined(r)&&t.size>r)return[!1,getTooLargeRejectionErr(r)]}return[!0,null]}function isDefined(t){return t!=null}function allFilesAccepted(t){var n=t.files,r=t.accept,s=t.minSize,o=t.maxSize,l=t.multiple,c=t.maxFiles,p=t.validator;return!l&&n.length>1||l&&c>=1&&n.length>c?!1:n.every(function(m){var x=fileAccepted(m,r),b=_slicedToArray$1(x,1),_=b[0],R=fileMatchSize(m,s,o),k=_slicedToArray$1(R,1),M=k[0],P=p?p(m):null;return _&&M&&!P})}function isPropagationStopped(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function isEvtWithFiles(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!t.target&&!!t.target.files}function onDocumentDragOver(t){t.preventDefault()}function isIe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function isEdge(t){return t.indexOf("Edge/")!==-1}function isIeOrEdge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(t)||isEdge(t)}function composeEventHandlers(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return n.some(function(p){return!isPropagationStopped(s)&&p&&p.apply(void 0,[s].concat(l)),isPropagationStopped(s)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(t){if(isDefined(t)){var n=Object.entries(t).filter(function(r){var s=_slicedToArray$1(r,2),o=s[0],l=s[1],c=!0;return isMIMEType(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(isExt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(r,s){var o=_slicedToArray$1(s,2),l=o[0],c=o[1];return _objectSpread$1(_objectSpread$1({},r),{},_defineProperty$1({},l,c))},{});return[{description:"Files",accept:n}]}return t}function acceptPropAsAcceptAttr(t){if(isDefined(t))return Object.entries(t).reduce(function(n,r){var s=_slicedToArray$1(r,2),o=s[0],l=s[1];return[].concat(_toConsumableArray$1(n),[o],_toConsumableArray$1(l))},[]).filter(function(n){return isMIMEType(n)||isExt(n)}).join(",")}function isAbort(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function isSecurityError(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function isMIMEType(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function isExt(t){return/^.*\.[\w]+$/.test(t)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_unsupportedIterableToArray(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,n)}}function _arrayLikeToArray(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=t[r];return s}function _iterableToArrayLimit(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,p;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(m){l=!0,p=m}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw p}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach(function(s){_defineProperty(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _defineProperty(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _objectWithoutProperties(t,n){if(t==null)return{};var r=_objectWithoutPropertiesLoose(t,n),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _objectWithoutPropertiesLoose(t,n){if(t==null)return{};var r={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(n.indexOf(o)>=0)&&(r[o]=t[o]);return r}var Dropzone=reactExports$1.forwardRef(function(t,n){var r=t.children,s=_objectWithoutProperties(t,_excluded),o=useDropzone(s),l=o.open,c=_objectWithoutProperties(o,_excluded2);return reactExports$1.useImperativeHandle(n,function(){return{open:l}},[l]),React.createElement(reactExports$1.Fragment,null,r(_objectSpread(_objectSpread({},c),{},{open:l})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=_objectSpread(_objectSpread({},defaultProps),t),r=n.accept,s=n.disabled,o=n.getFilesFromEvent,l=n.maxSize,c=n.minSize,p=n.multiple,m=n.maxFiles,x=n.onDragEnter,b=n.onDragLeave,_=n.onDragOver,R=n.onDrop,k=n.onDropAccepted,M=n.onDropRejected,P=n.onFileDialogCancel,K=n.onFileDialogOpen,$=n.useFsAccessApi,G=n.autoFocus,H=n.preventDropOnDocument,j=n.noClick,W=n.noKeyboard,Y=n.noDrag,X=n.noDragEventsBubbling,te=n.onError,se=n.validator,pe=reactExports$1.useMemo(function(){return acceptPropAsAcceptAttr(r)},[r]),ge=reactExports$1.useMemo(function(){return pickerOptionsFromAccept(r)},[r]),me=reactExports$1.useMemo(function(){return typeof K=="function"?K:noop$1},[K]),Ee=reactExports$1.useMemo(function(){return typeof P=="function"?P:noop$1},[P]),ve=reactExports$1.useRef(null),de=reactExports$1.useRef(null),ae=reactExports$1.useReducer(reducer,initialState),ue=_slicedToArray(ae,2),re=ue[0],oe=ue[1],Ce=re.isFocused,Ae=re.isFileDialogActive,we=reactExports$1.useRef(typeof window<"u"&&window.isSecureContext&&$&&canUseFileSystemAccessAPI()),Re=function(){!we.current&&Ae&&setTimeout(function(){if(de.current){var Pe=de.current.files;Pe.length||(oe({type:"closeDialog"}),Ee())}},300)};reactExports$1.useEffect(function(){return window.addEventListener("focus",Re,!1),function(){window.removeEventListener("focus",Re,!1)}},[de,Ae,Ee,we]);var Be=reactExports$1.useRef([]),We=function(Pe){ve.current&&ve.current.contains(Pe.target)||(Pe.preventDefault(),Be.current=[])};reactExports$1.useEffect(function(){return H&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",We,!1)),function(){H&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",We))}},[ve,H]),reactExports$1.useEffect(function(){return!s&&G&&ve.current&&ve.current.focus(),function(){}},[ve,G,s]);var De=reactExports$1.useCallback(function(st){te?te(st):console.error(st)},[te]),ct=reactExports$1.useCallback(function(st){st.preventDefault(),st.persist(),In(st),Be.current=[].concat(_toConsumableArray(Be.current),[st.target]),isEvtWithFiles(st)&&Promise.resolve(o(st)).then(function(Pe){if(!(isPropagationStopped(st)&&!X)){var Fe=Pe.length,Ye=Fe>0&&allFilesAccepted({files:Pe,accept:pe,minSize:c,maxSize:l,multiple:p,maxFiles:m,validator:se}),Je=Fe>0&&!Ye;oe({isDragAccept:Ye,isDragReject:Je,isDragActive:!0,type:"setDraggedFiles"}),x&&x(st)}}).catch(function(Pe){return De(Pe)})},[o,x,De,X,pe,c,l,p,m,se]),at=reactExports$1.useCallback(function(st){st.preventDefault(),st.persist(),In(st);var Pe=isEvtWithFiles(st);if(Pe&&st.dataTransfer)try{st.dataTransfer.dropEffect="copy"}catch{}return Pe&&_&&_(st),!1},[_,X]),Ct=reactExports$1.useCallback(function(st){st.preventDefault(),st.persist(),In(st);var Pe=Be.current.filter(function(Ye){return ve.current&&ve.current.contains(Ye)}),Fe=Pe.indexOf(st.target);Fe!==-1&&Pe.splice(Fe,1),Be.current=Pe,!(Pe.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(st)&&b&&b(st))},[ve,b,X]),It=reactExports$1.useCallback(function(st,Pe){var Fe=[],Ye=[];st.forEach(function(Je){var bt=fileAccepted(Je,pe),Mt=_slicedToArray(bt,2),Wt=Mt[0],Xe=Mt[1],Ve=fileMatchSize(Je,c,l),je=_slicedToArray(Ve,2),ut=je[0],ot=je[1],St=se?se(Je):null;if(Wt&&ut&&!St)Fe.push(Je);else{var on=[Xe,ot];St&&(on=on.concat(St)),Ye.push({file:Je,errors:on.filter(function(un){return un})})}}),(!p&&Fe.length>1||p&&m>=1&&Fe.length>m)&&(Fe.forEach(function(Je){Ye.push({file:Je,errors:[TOO_MANY_FILES_REJECTION]})}),Fe.splice(0)),oe({acceptedFiles:Fe,fileRejections:Ye,isDragReject:Ye.length>0,type:"setFiles"}),R&&R(Fe,Ye,Pe),Ye.length>0&&M&&M(Ye,Pe),Fe.length>0&&k&&k(Fe,Pe)},[oe,p,pe,c,l,m,R,k,M,se]),mt=reactExports$1.useCallback(function(st){st.preventDefault(),st.persist(),In(st),Be.current=[],isEvtWithFiles(st)&&Promise.resolve(o(st)).then(function(Pe){isPropagationStopped(st)&&!X||It(Pe,st)}).catch(function(Pe){return De(Pe)}),oe({type:"reset"})},[o,It,De,X]),Ut=reactExports$1.useCallback(function(){if(we.current){oe({type:"openDialog"}),me();var st={multiple:p,types:ge};window.showOpenFilePicker(st).then(function(Pe){return o(Pe)}).then(function(Pe){It(Pe,null),oe({type:"closeDialog"})}).catch(function(Pe){isAbort(Pe)?(Ee(Pe),oe({type:"closeDialog"})):isSecurityError(Pe)?(we.current=!1,de.current?(de.current.value=null,de.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Pe)});return}de.current&&(oe({type:"openDialog"}),me(),de.current.value=null,de.current.click())},[oe,me,Ee,$,It,De,ge,p]),gt=reactExports$1.useCallback(function(st){!ve.current||!ve.current.isEqualNode(st.target)||(st.key===" "||st.key==="Enter"||st.keyCode===32||st.keyCode===13)&&(st.preventDefault(),Ut())},[ve,Ut]),xt=reactExports$1.useCallback(function(){oe({type:"focus"})},[]),an=reactExports$1.useCallback(function(){oe({type:"blur"})},[]),Un=reactExports$1.useCallback(function(){j||(isIeOrEdge()?setTimeout(Ut,0):Ut())},[j,Ut]),Zt=function(Pe){return s?null:Pe},$t=function(Pe){return W?null:Zt(Pe)},Ot=function(Pe){return Y?null:Zt(Pe)},In=function(Pe){X&&Pe.stopPropagation()},pt=reactExports$1.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=st.refKey,Fe=Pe===void 0?"ref":Pe,Ye=st.role,Je=st.onKeyDown,bt=st.onFocus,Mt=st.onBlur,Wt=st.onClick,Xe=st.onDragEnter,Ve=st.onDragOver,je=st.onDragLeave,ut=st.onDrop,ot=_objectWithoutProperties(st,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:$t(composeEventHandlers(Je,gt)),onFocus:$t(composeEventHandlers(bt,xt)),onBlur:$t(composeEventHandlers(Mt,an)),onClick:Zt(composeEventHandlers(Wt,Un)),onDragEnter:Ot(composeEventHandlers(Xe,ct)),onDragOver:Ot(composeEventHandlers(Ve,at)),onDragLeave:Ot(composeEventHandlers(je,Ct)),onDrop:Ot(composeEventHandlers(ut,mt)),role:typeof Ye=="string"&&Ye!==""?Ye:"presentation"},Fe,ve),!s&&!W?{tabIndex:0}:{}),ot)}},[ve,gt,xt,an,Un,ct,at,Ct,mt,W,Y,s]),Kn=reactExports$1.useCallback(function(st){st.stopPropagation()},[]),On=reactExports$1.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=st.refKey,Fe=Pe===void 0?"ref":Pe,Ye=st.onChange,Je=st.onClick,bt=_objectWithoutProperties(st,_excluded4),Mt=_defineProperty({accept:pe,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Zt(composeEventHandlers(Ye,mt)),onClick:Zt(composeEventHandlers(Je,Kn)),tabIndex:-1},Fe,de);return _objectSpread(_objectSpread({},Mt),bt)}},[de,r,p,mt,s]);return _objectSpread(_objectSpread({},re),{},{isFocused:Ce&&!s,getRootProps:pt,getInputProps:On,rootRef:ve,inputRef:de,open:Zt(Ut)})}function reducer(t,n){switch(n.type){case"focus":return _objectSpread(_objectSpread({},t),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},t),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},t),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},t),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return _objectSpread({},initialState);default:return t}}function noop$1(){}function useLeaflet(){const[t,n]=reactExports$1.useState([]),[r,s]=reactExports$1.useState(null),o=R=>{if(!R.target||!R.target.files)return;const M=Array.from(R.target.files).map(P=>new Promise(K=>{const $=new FileReader;$.onload=G=>{K({file:P,url:G.target.result,name:P.name})},$.readAsDataURL(P)}));Promise.all(M).then(P=>{n(K=>[...K,...P]),R.target&&(R.target.value="")})},l=R=>{n(k=>k.filter((M,P)=>P!==R))},c=R=>{const k=new FileReader;k.onload=M=>{s({file:R,url:M.target.result,name:R.name})},k.readAsDataURL(R)},p=()=>{const R=document.createElement("input");R.type="file",R.accept="image/*",R.onchange=k=>{const M=k.target.files[0];M&&c(M)},R.click()},m=()=>{const R=document.createElement("input");R.type="file",R.accept="image/*",R.multiple=!0,R.onchange=o,R.click()},x=(R,k="inner")=>{const M=R.map(P=>new Promise(K=>{const $=new FileReader;$.onload=G=>{K({file:P,url:G.target.result,name:P.name})},$.readAsDataURL(P)}));Promise.all(M).then(P=>{k==="cover"?P.length>0&&s(P[0]):n(K=>[...K,...P])})},b=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:R=>x(R,"cover"),onDropRejected:R=>{console.log("   :",R)}}),_=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:R=>x(R,"inner"),onDropRejected:R=>{console.log("   :",R)}});return{imageList:t,setImageList:n,coverImage:r,setCoverImage:s,handleImageChange:o,handleRemoveImage:l,openFileDialogForCover:p,openFileDialogForInner:m,coverDropzone:b,innerDropzone:_,handleDrop:x}}function Leaflet({type:t}){const{id:n}=useParams(),r=useNavigate(),{showConfirm:s}=useConfirm(),{showAlert:o}=useAlert(),[l,c]=reactExports$1.useState(null),[p,m]=reactExports$1.useState(""),[x,b]=reactExports$1.useState(!1),[_,R]=reactExports$1.useState(null),{imageList:k,setImageList:M,coverImage:P,setCoverImage:K,coverDropzone:$,innerDropzone:G,openFileDialogForCover:H,openFileDialogForInner:j,handleRemoveImage:W}=useLeaflet();reactExports$1.useEffect(()=>{(async()=>{var me;try{b(!0);const Ee=t==="galleries"?"galleryCategory":"exhibitionCategory",ve=await userInstance.get("/api/leaflet",{params:{category:Ee,category_id:n}});let de=null;if(Array.isArray(ve.data)?ve.data.length>0&&(de=ve.data[0]):de=ve.data,de&&(R(de),c(de.id),m(de.title||""),de.image_urls&&de.image_urls.length>0&&(de.image_urls[0]&&K({url:de.image_urls[0],file:null,isNew:!1}),de.image_urls.length>1))){const ae=de.image_urls.slice(1).map(ue=>({url:ue,file:null,isNew:!1}));M(ae)}}catch(Ee){console.error("  :",Ee),((me=Ee.response)==null?void 0:me.status)!==404&&o("   .","error")}finally{b(!1)}})()},[n,t,K,M]);const Y=()=>{if(!l){o("  !");return}r(`/view/leaflet/${t}/${n}`)},X=async()=>{if(!(!l||!await s("   ?",!0)))try{b(!0),await userInstance.delete(`/api/leaflet/${l}`),o(" ."),r(`/console/${t}/${n}`)}catch(me){console.error("  :",me),o("  .","error"),b(!1)}},te=async(ge,me)=>{try{const Ee=ge.includes("?")?`${ge}&t=${Date.now()}`:`${ge}?t=${Date.now()}`,ve=await fetch(Ee,{mode:"cors"});if(!ve.ok)throw new Error(`  : ${ve.status}`);const de=await ve.blob(),ae=de.type.split("/")[1]||"jpg",ue=`reupload_${Date.now()}_${me}.${ae}`;return new File([de],ue,{type:de.type})}catch(Ee){return console.error(`(${ge})   :`,Ee),null}},se=async()=>{if(!p.trim()){o("  !");return}if(!P){o("  !");return}try{b(!0);const ge=t==="galleries"?"galleryCategory":"exhibitionCategory",me=[P,...k],Ee=me.some(oe=>oe.file);if(l&&_&&!Ee){console.log(" /  -> PATCH");const oe=me.map(Ce=>Ce.url);await userInstance.patch(`/api/leaflet/${l}`,{title:p.trim(),category:ge,image_urls:oe}),o("  !");return}console.log("   ->    ");const ve=me.map(async(oe,Ce)=>oe.file?oe.file:await te(oe.url,Ce)),ae=(await Promise.all(ve)).filter(oe=>oe!==null);if(ae.length!==me.length){console.error("   ."),o("    .      ."),b(!1);return}const ue=new FormData;ae.forEach(oe=>{ue.append("image[]",oe)}),ue.append("title",p.trim()),ue.append("category",ge),ue.append("categoryId",n);const re=await userInstance.post("/api/leaflet",ue,{headers:{"Content-Type":"multipart/form-data"}});if(re.data&&re.data.id){const oe=re.data.id;if(l)try{console.log(` (${oe})  .  (${l})  .`),await userInstance.delete(`/api/leaflet/${l}`)}catch(Ce){console.warn("    ():",Ce)}o("  .")}}catch{o("    .","error")}finally{b(!1)}},pe=!P&&k.length===0;return jsxRuntimeExports.jsxs("div",{className:styles$d.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.layoutTitle,children:[" ",jsxRuntimeExports.jsx("button",{className:styles$d.backButton,onClick:()=>{r(-1)},children:jsxRuntimeExports.jsx(FaChevronLeft,{})})]}),jsxRuntimeExports.jsxs("div",{className:styles$d.mainContentContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.formSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$d.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:p,onChange:ge=>m(ge.target.value),placeholder:" .",className:styles$d.textInput,disabled:x})]}),jsxRuntimeExports.jsxs("div",{className:styles$d.contentGrid,children:[jsxRuntimeExports.jsx("div",{className:styles$d.leftColumn,children:jsxRuntimeExports.jsx(Cover,{coverImage:P,setCoverImage:K,openFileDialogForCover:H,coverDropzone:$})}),jsxRuntimeExports.jsx("div",{className:styles$d.rightColumn,children:jsxRuntimeExports.jsx(Inner,{imageList:k,setImageList:M,handleRemoveImage:W,openFileDialogForInner:j,innerDropzone:G})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$d.actionFooter,children:jsxRuntimeExports.jsxs("div",{className:styles$d.buttonGroup,children:[jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.previewBtn}`,onClick:Y,disabled:pe,children:""}),l?jsxRuntimeExports.jsxs("div",{className:styles$d.editModeButtons,children:[jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.submitBtn}`,onClick:se,disabled:pe||x,children:x?" ...":" "}),jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.deleteBtn}`,onClick:X,disabled:x,children:""})]}):jsxRuntimeExports.jsx("button",{className:`${styles$d.actionButton} ${styles$d.submitBtn}`,onClick:se,disabled:pe||x,children:x?" ...":" "})]})})]})]})}const layout$3="_layout_11fk5_3",list="_list_11fk5_49",notificationItem$1="_notificationItem_11fk5_65",iconArea="_iconArea_11fk5_97",icon="_icon_11fk5_97",contentArea$1="_contentArea_11fk5_131",headerRow="_headerRow_11fk5_141",notiTitle="_notiTitle_11fk5_155",timestamp$1="_timestamp_11fk5_169",notiBody="_notiBody_11fk5_185",tabContainer="_tabContainer_11fk5_223",tabButton="_tabButton_11fk5_237",activeTab="_activeTab_11fk5_265",styles$a={layout:layout$3,list,notificationItem:notificationItem$1,iconArea,icon,contentArea:contentArea$1,headerRow,notiTitle,timestamp:timestamp$1,notiBody,tabContainer,tabButton,activeTab},parseTimestamp=t=>t?new Date(t.replace(" ","T")+"+09:00"):new Date,formatTimestamp$1=t=>{const n=parseTimestamp(t),s=new Date-n,o=Math.floor(s/(1e3*60)),l=Math.floor(s/(1e3*60*60)),c=Math.floor(s/(1e3*60*60*24));return o<1?" ":o<60?`${o} `:l<24?`${l} `:c<7?`${c} `:n.toLocaleDateString("ko-KR")},Icon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:22,className:styles$a.icon});function ConsoleNotification(){const[t,n]=reactExports$1.useState("sent"),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),m=reactExports$1.useCallback(async()=>{var x;try{l(!0),p(null);const b=localStorage.getItem("ACCESS_TOKEN"),_=t==="sent"?"/api/notification/console":"/api/notification/user",R=await userInstance.get(_,{headers:{Authorization:`Bearer ${b}`}}),P=(Array.isArray((x=R.data)==null?void 0:x.data)?R.data.data:[]).map(K=>({id:K.notification_id||K.id,title:K.title,body:K.body||K.content,create_dtm:K.create_dtm})).sort((K,$)=>new Date($.create_dtm).getTime()-new Date(K.create_dtm).getTime());s(P)}catch(b){console.error(b),p("    .")}finally{l(!1)}},[t]);return reactExports$1.useEffect(()=>{m()},[m]),reactExports$1.useEffect(()=>{const x=()=>{console.log(" NEW_NOTIFICATION      "),m()};return window.addEventListener("NEW_NOTIFICATION",x),()=>window.removeEventListener("NEW_NOTIFICATION",x)},[m]),o?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:" ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:c}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:jsxRuntimeExports.jsx("h2",{children:"   ."})}):jsxRuntimeExports.jsxs("div",{className:styles$a.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.tabContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${t==="sent"?styles$a.activeTab:""}`,onClick:()=>n("sent"),children:" "}),jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${t==="received"?styles$a.activeTab:""}`,onClick:()=>n("received"),children:" "})]}),o?jsxRuntimeExports.jsx("div",{className:styles$a.loading,children:" ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$a.error,children:c}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.empty,children:" ."}):jsxRuntimeExports.jsx("div",{className:styles$a.list,children:r.map((x,b)=>jsxRuntimeExports.jsxs("div",{className:styles$a.notificationItem,children:[jsxRuntimeExports.jsx("div",{className:styles$a.iconArea,children:jsxRuntimeExports.jsx(Icon,{})}),jsxRuntimeExports.jsxs("div",{className:styles$a.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$a.notiTitle,children:x.title}),jsxRuntimeExports.jsx("span",{className:styles$a.timestamp,children:formatTimestamp$1(x.create_dtm)})]}),jsxRuntimeExports.jsx("p",{className:styles$a.notiBody,children:x.body})]})]},`${x.id}-${b}`))})]})}const container$1="_container_1ktes_3",image="_image_1ktes_27",info="_info_1ktes_41",productName="_productName_1ktes_49",artist="_artist_1ktes_59",guide="_guide_1ktes_71",textArea="_textArea_1ktes_87",checkboxBlock="_checkboxBlock_1ktes_113",checkboxLabel="_checkboxLabel_1ktes_163",checkbox$1="_checkbox_1ktes_113",checkboxText="_checkboxText_1ktes_191",expandedContent="_expandedContent_1ktes_203",expandedActive="_expandedActive_1ktes_225",expandedTitle="_expandedTitle_1ktes_251",expandedList="_expandedList_1ktes_265",fileInputArea="_fileInputArea_1ktes_289",fileInputLabel="_fileInputLabel_1ktes_305",fileInput="_fileInput_1ktes_289",fileName="_fileName_1ktes_331",buttonRow="_buttonRow_1ktes_341",containerExpanded="_containerExpanded_1ktes_357",saveBtn="_saveBtn_1ktes_391",cancelBtn$1="_cancelBtn_1ktes_393",styles$9={container:container$1,image,info,productName,artist,guide,textArea,checkboxBlock,checkboxLabel,checkbox:checkbox$1,checkboxText,expandedContent,expandedActive,expandedTitle,expandedList,fileInputArea,fileInputLabel,fileInput,fileName,buttonRow,containerExpanded,saveBtn,cancelBtn:cancelBtn$1};function DocentGenerator({autoGenerate:t=!1}){var te;const{id:n}=useParams(),[r,s]=reactExports$1.useState(null),[o,l]=reactExports$1.useState(""),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),[b,_]=reactExports$1.useState(""),[R,k]=reactExports$1.useState(!1),[M,P]=reactExports$1.useState(null),{showAlert:K}=useAlert(),$=useNavigate(),G=(r==null?void 0:r.art_title)||"",H=(r==null?void 0:r.artist_name)||((te=r==null?void 0:r.artist)==null?void 0:te.artist_name)||"",j=(r==null?void 0:r.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",W=async se=>{var pe,ge,me;p(!0),_("");try{const Ee=await userInstance.get(`/api/arts/${se}`),ve=((pe=Ee.data)==null?void 0:pe.data)??Ee.data;if(!ve){_("    ."),s(null),l("");return}s(ve),l((ve==null?void 0:ve.art_docent)||"")}catch(Ee){_(((me=(ge=Ee.response)==null?void 0:ge.data)==null?void 0:me.message)||"     ."),s(null),l("")}finally{p(!1)}};reactExports$1.useEffect(()=>{n&&W(n)},[n]);const Y=async()=>{if(!n)return K("  ID .");if(!o.trim())return K("  .");if(!r)return K("   .    .");try{x(!0);const se=new FormData;se.append("_method","PATCH"),r.art_title&&se.append("art_title",r.art_title),r.art_description&&se.append("art_description",r.art_description),r.artist_id&&se.append("artist_id",r.artist_id),r.artist_name&&se.append("artist_name",r.artist_name),r.art_material&&se.append("art_material",r.art_material),r.art_size&&se.append("art_size",r.art_size),r.art_year&&se.append("art_year",r.art_year),r.art_price&&se.append("art_price",r.art_price),se.append("art_docent",o),r.art_image&&typeof r.art_image=="string"&&se.append("art_image",r.art_image),r.art_images&&se.append("art_images",r.art_images),r.art_image_mime&&se.append("art_image_mime",r.art_image_mime),r.art_image_name&&se.append("art_image_name",r.art_image_name),r.art_image_size&&se.append("art_image_size",r.art_image_size);const pe=await userInstance.post(`/api/arts/${n}`,se,{headers:{"Content-Type":void 0}}),ge=new FormData;ge.append("docent_script",o),ge.append("art_name",G),M&&ge.append("docent_img",M),userInstance.post(`/api/docents/${n}?type=${R?"video":"audio"}`,ge,{headers:{"Content-Type":void 0}}),K(" ."),await W(n),$(`/console/artworks/${n}`)}catch(se){K("    ."),console.error(se)}finally{x(!1)}},X=()=>{confirm("     . ?")&&(l((r==null?void 0:r.art_docent)||""),$(`/console/artworks/${n}`))};return n?jsxRuntimeExports.jsx("div",{className:`${styles$9.container} ${R?styles$9.containerExpanded:""}`,children:c?jsxRuntimeExports.jsx("div",{className:styles$9.guide,children:"   ..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:j,alt:G,className:styles$9.image}),jsxRuntimeExports.jsxs("div",{className:styles$9.info,children:[jsxRuntimeExports.jsx("div",{className:styles$9.productName,children:G}),jsxRuntimeExports.jsx("div",{className:styles$9.artist,children:H})]}),b&&jsxRuntimeExports.jsx("div",{className:styles$9.guide,style:{color:"#ef4444"},children:b}),jsxRuntimeExports.jsx("p",{className:styles$9.guide,children:"    ."}),jsxRuntimeExports.jsx("textarea",{className:styles$9.textArea,value:o,onChange:se=>l(se.target.value),placeholder:"  .",disabled:c}),jsxRuntimeExports.jsxs("div",{className:styles$9.checkboxBlock,children:[jsxRuntimeExports.jsxs("label",{className:styles$9.checkboxLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R,onChange:se=>k(se.target.checked),className:styles$9.checkbox}),jsxRuntimeExports.jsx("span",{className:styles$9.checkboxText,children:"  ."})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$9.expandedContent} ${R?styles$9.expandedActive:""}`,children:[jsxRuntimeExports.jsx("p",{className:styles$9.expandedTitle,children:"  "}),jsxRuntimeExports.jsxs("ul",{className:styles$9.expandedList,children:[jsxRuntimeExports.jsx("li",{children:"  ,          ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"========================================"}),jsxRuntimeExports.jsx("li",{children:"     .       ."})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileInputArea,children:[jsxRuntimeExports.jsxs("label",{className:styles$9.fileInputLabel,children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:se=>P(se.target.files&&se.target.files[0]?se.target.files[0]:null),className:styles$9.fileInput}),jsxRuntimeExports.jsx("span",{className:styles$9.checkboxText})]}),M&&jsxRuntimeExports.jsx("div",{className:styles$9.fileName,children:M.name})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.buttonRow,children:[jsxRuntimeExports.jsx("button",{className:styles$9.saveBtn,onClick:Y,disabled:m||!!b||c,children:m?" ...":""}),jsxRuntimeExports.jsx("button",{className:styles$9.cancelBtn,onClick:X,disabled:m||c,children:""})]})]})}):jsxRuntimeExports.jsx("div",{className:styles$9.container,children:"  ID ."})}function NotFound(){return null}const layout$2="_layout_sbqx4_1",header$4="_header_sbqx4_15",title$3="_title_sbqx4_41",backButton$2="_backButton_sbqx4_51",formContainer="_formContainer_sbqx4_69",bottomButtonContainer="_bottomButtonContainer_sbqx4_83",button="_button_sbqx4_105",cancelButton="_cancelButton_sbqx4_125",saveButton="_saveButton_sbqx4_135",styles$8={layout:layout$2,header:header$4,title:title$3,backButton:backButton$2,formContainer,bottomButtonContainer,button,cancelButton,saveButton},useEditData=(t,n,r,s)=>{const[o,l]=reactExports$1.useState(null),[c,p]=reactExports$1.useState(!0),[m]=useSearchParams(),x=useNavigate(),{showAlert:b}=useAlert();return reactExports$1.useEffect(()=>{s&&(async()=>{p(!0);try{let R={},k=null;if(r){const M=m.get("exhibition_id"),P=m.get("gallery_id");M&&(R.exhibition_id=M),P&&(R.gallery_id=P),k=P}else{const M=await userInstance.get(s.apiUrl(n));R=typeof M.data=="string"?JSON.parse(M.data):M.data,k=R.gallery_id}if(t==="exhibitions"&&!r&&(R._originalArtworks=[...R.artworks||[]],R._originalArtists=[...R.artists||[]]),t==="artworks"&&k)try{const M=await userInstance.get(`/api/exhibitions?gallery_id=${k}`);R.exhibitions=Array.isArray(M.data)?M.data:[],!r&&R.exhibitions_connected&&(R.selected_exhibition_ids=R.exhibitions_connected.map(P=>P.id))}catch(M){console.error("   :",M),R.exhibitions=[]}l(R)}catch(R){console.error("  :",R),b("  ."),x(`/console/${t}`)}finally{p(!1)}})()},[t,n,r,s,m,x]),{data:o,setData:l,isLoading:c}},getId=t=>t.id||t.artist_id,useEditSave=(t,n,r,s,o,l)=>{const[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(null),{showAlert:b}=useAlert(),[_]=useSearchParams(),R=()=>{if(t==="artworks"){if(!o.art_title)return" .";if(!o.artist_id)return" .";if(r&&!m)return"  ."}if(t==="galleries"&&!o.gallery_name)return" .";if(t==="exhibitions"){if(r&&!o.gallery_id)return"  .";if(!o.exhibition_title)return" ."}return null},k=()=>{var G;const $=new FormData;if(r||$.append("_method","PATCH"),Object.entries(o).forEach(([H,j])=>{if(j!=null&&!["artists","artworks","_originalArtworks","_originalArtists"].includes(H)){if(H==="gallery_sns"&&Array.isArray(j)){const W=j.filter(Y=>Y.type!=="twitter");$.append(H,JSON.stringify(W));return}typeof j=="object"&&!(j instanceof File)?$.append(H,JSON.stringify(j)):$.append(H,j)}}),!$.has("gallery_id")){const H=o.gallery_id||((G=o.gallery)==null?void 0:G.id);H&&$.append("gallery_id",H)}return m&&$.append(s.formImageField,m),$},M=async $=>{const G=o.artworks||[],H=o._originalArtworks||[],j=G.filter(ve=>!H.some(de=>getId(de)===getId(ve))),W=H.filter(ve=>!G.some(de=>getId(de)===getId(ve))),Y=[...j.map(ve=>userInstance.post(`/api/exhibitions/${$}/arts`,{art_id:getId(ve),display_order:0})),...W.map(ve=>userInstance.delete(`/api/exhibitions/${$}/arts/${getId(ve)}`))],X=o.artists||[],te=o._originalArtists||[],se=X.filter(ve=>!te.some(de=>getId(de)===getId(ve))),pe=te.filter(ve=>!X.some(de=>getId(de)===getId(ve))),ge=se.map(ve=>getId(ve)).filter(Boolean),me=ge.length>0?userInstance.post(`/api/exhibitions/${$}/artists`,{artist_ids:ge}):Promise.resolve(),Ee=pe.map(ve=>userInstance.delete(`/api/exhibitions/${$}/artists/${getId(ve)}`));try{await Promise.all([...Y,me,...Ee]),console.log(` : (${j.length}/${W.length}), (${se.length}/${pe.length})`)}catch(ve){console.error("   :",ve),b("      .")}},P=async $=>{const G=_.get("exhibition_id")||o.exhibition_id,H=o.selected_exhibition_ids||[],j=new Set([...H]);if(G&&j.add(Number(G)),console.log("   IDs:",Array.from(j)),j.size>0&&$){const W=Array.from(j).map(Y=>userInstance.post(`/api/exhibitions/${Y}/arts`,{art_id:$,display_order:0}));await Promise.all(W)}};return{handleSave:async()=>{var G;if(c||!o)return;const $=R();if($)return b($);p(!0);try{const H=k(),j=await userInstance.post(s.apiUrl(n),H,{headers:{"Content-Type":"multipart/form-data"}}),W=r?((G=j.data.data)==null?void 0:G.id)||j.data.id:n;t==="exhibitions"&&W?await M(W):t==="artworks"&&await P(W),b(r?`${t==="galleries"?"":t==="exhibitions"?"":""} .`:"."),r?l("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):l(`/console/${t}/${n}`)}catch(H){console.error(" :",H),b("   .")}finally{p(!1)}},isSaving:c,setSelectedImageFile:x}},card="_card_hijaa_1",input="_input_hijaa_17",tagInputField="_tagInputField_hijaa_19",timeInput="_timeInput_hijaa_21",galleryNameInput="_galleryNameInput_hijaa_55",gallerySubNameInput="_gallerySubNameInput_hijaa_73",imageUploadBox="_imageUploadBox_hijaa_99",previewImage="_previewImage_hijaa_129",previewImageDesc="_previewImageDesc_hijaa_141",imageDelBtn="_imageDelBtn_hijaa_149",inputGroup="_inputGroup_hijaa_185",label="_label_hijaa_199",tagInputContainer="_tagInputContainer_hijaa_211",tagItem="_tagItem_hijaa_231",removeTagBtn="_removeTagBtn_hijaa_251",timeInputContainer="_timeInputContainer_hijaa_293",checkboxGroup="_checkboxGroup_hijaa_313",snsCard="_snsCard_hijaa_339",snsInputGroup="_snsInputGroup_hijaa_349",tiptap="_tiptap_hijaa_363",emptyContent="_emptyContent_hijaa_381",uploadButton="_uploadButton_hijaa_395",artistSelectRow="_artistSelectRow_hijaa_423",selectButton="_selectButton_hijaa_435",modalOverlay="_modalOverlay_hijaa_467",modalBox$2="_modalBox_hijaa_487",inputDocent="_inputDocent_hijaa_503",docent="_docent_hijaa_515",textarea="_textarea_hijaa_527",exhibitionListWrapper="_exhibitionListWrapper_hijaa_561",exhibitionItem="_exhibitionItem_hijaa_575",exhibitionTitle="_exhibitionTitle_hijaa_595",statusBadge="_statusBadge_hijaa_605",exhibited="_exhibited_hijaa_619",scheduled="_scheduled_hijaa_629",ended="_ended_hijaa_639",emptyText="_emptyText_hijaa_657",helperText="_helperText_hijaa_667",addHeaderContainer="_addHeaderContainer_hijaa_679",artworkSection="_artworkSection_hijaa_693",addBtn="_addBtn_hijaa_703",artworkGrid="_artworkGrid_hijaa_737",artworkCard="_artworkCard_hijaa_749",artworkThumb="_artworkThumb_hijaa_779",artworkMeta="_artworkMeta_hijaa_795",artworkTitle="_artworkTitle_hijaa_809",artworkArtist="_artworkArtist_hijaa_827",removeBtn="_removeBtn_hijaa_837",fullWidth="_fullWidth_hijaa_869",addArtistBtn="_addArtistBtn_hijaa_877",artistList="_artistList_hijaa_889",artistItem="_artistItem_hijaa_901",artistName="_artistName_hijaa_919",artistThumb="_artistThumb_hijaa_931",styles$7={card,input,tagInputField,timeInput,galleryNameInput,gallerySubNameInput,imageUploadBox,previewImage,previewImageDesc,imageDelBtn,inputGroup,label,tagInputContainer,tagItem,removeTagBtn,timeInputContainer,checkboxGroup,snsCard,snsInputGroup,tiptap,emptyContent,uploadButton,artistSelectRow,selectButton,modalOverlay,modalBox:modalBox$2,inputDocent,docent,textarea,exhibitionListWrapper,exhibitionItem,exhibitionTitle,statusBadge,exhibited,scheduled,ended,default:"_default_hijaa_647",emptyText,helperText,addHeaderContainer,artworkSection,addBtn,artworkGrid,artworkCard,artworkThumb,artworkMeta,artworkTitle,artworkArtist,removeBtn,fullWidth,addArtistBtn,artistList,artistItem,artistName,artistThumb};var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var t=requireReact$1();function n(_,R){return _===R&&(_!==0||1/_===1/R)||_!==_&&R!==R}var r=typeof Object.is=="function"?Object.is:n,s=t.useState,o=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function p(_,R){var k=R(),M=s({inst:{value:k,getSnapshot:R}}),P=M[0].inst,K=M[1];return l(function(){P.value=k,P.getSnapshot=R,m(P)&&K({inst:P})},[_,k,R]),o(function(){return m(P)&&K({inst:P}),_(function(){m(P)&&K({inst:P})})},[_]),c(k),k}function m(_){var R=_.getSnapshot;_=_.value;try{var k=R();return!r(_,k)}catch{return!0}}function x(_,R){return R()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:p;return useSyncExternalStoreShim_production.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function OrderedMap(t){this.content=t}OrderedMap.prototype={constructor:OrderedMap,find:function(t){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===t)return n;return-1},get:function(t){var n=this.find(t);return n==-1?void 0:this.content[n+1]},update:function(t,n,r){var s=r&&r!=t?this.remove(r):this,o=s.find(t),l=s.content.slice();return o==-1?l.push(r||t,n):(l[o+1]=n,r&&(l[o]=r)),new OrderedMap(l)},remove:function(t){var n=this.find(t);if(n==-1)return this;var r=this.content.slice();return r.splice(n,2),new OrderedMap(r)},addToStart:function(t,n){return new OrderedMap([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new OrderedMap(r)},addBefore:function(t,n,r){var s=this.remove(n),o=s.content.slice(),l=s.find(t);return o.splice(l==-1?o.length:l,0,n,r),new OrderedMap(o)},forEach:function(t){for(var n=0;n<this.content.length;n+=2)t(this.content[n],this.content[n+1])},prepend:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=OrderedMap.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},toObject:function(){var t={};return this.forEach(function(n,r){t[n]=r}),t},get size(){return this.content.length>>1}};OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new OrderedMap(n)};function findDiffStart(t,n,r){for(let s=0;;s++){if(s==t.childCount||s==n.childCount)return t.childCount==n.childCount?null:r;let o=t.child(s),l=n.child(s);if(o==l){r+=o.nodeSize;continue}if(!o.sameMarkup(l))return r;if(o.isText&&o.text!=l.text){for(let c=0;o.text[c]==l.text[c];c++)r++;return r}if(o.content.size||l.content.size){let c=findDiffStart(o.content,l.content,r+1);if(c!=null)return c}r+=o.nodeSize}}function findDiffEnd(t,n,r,s){for(let o=t.childCount,l=n.childCount;;){if(o==0||l==0)return o==l?null:{a:r,b:s};let c=t.child(--o),p=n.child(--l),m=c.nodeSize;if(c==p){r-=m,s-=m;continue}if(!c.sameMarkup(p))return{a:r,b:s};if(c.isText&&c.text!=p.text){let x=0,b=Math.min(c.text.length,p.text.length);for(;x<b&&c.text[c.text.length-x-1]==p.text[p.text.length-x-1];)x++,r--,s--;return{a:r,b:s}}if(c.content.size||p.content.size){let x=findDiffEnd(c.content,p.content,r-1,s-1);if(x)return x}r-=m,s-=m}}class Fragment{constructor(n,r){if(this.content=n,this.size=r||0,r==null)for(let s=0;s<n.length;s++)this.size+=n[s].nodeSize}nodesBetween(n,r,s,o=0,l){for(let c=0,p=0;p<r;c++){let m=this.content[c],x=p+m.nodeSize;if(x>n&&s(m,o+p,l||null,c)!==!1&&m.content.size){let b=p+1;m.nodesBetween(Math.max(0,n-b),Math.min(m.content.size,r-b),s,o+b)}p=x}}descendants(n){this.nodesBetween(0,this.size,n)}textBetween(n,r,s,o){let l="",c=!0;return this.nodesBetween(n,r,(p,m)=>{let x=p.isText?p.text.slice(Math.max(n,m)-m,r-m):p.isLeaf?o?typeof o=="function"?o(p):o:p.type.spec.leafText?p.type.spec.leafText(p):"":"";p.isBlock&&(p.isLeaf&&x||p.isTextblock)&&s&&(c?c=!1:l+=s),l+=x},0),l}append(n){if(!n.size)return this;if(!this.size)return n;let r=this.lastChild,s=n.firstChild,o=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(s)&&(o[o.length-1]=r.withText(r.text+s.text),l=1);l<n.content.length;l++)o.push(n.content[l]);return new Fragment(o,this.size+n.size)}cut(n,r=this.size){if(n==0&&r==this.size)return this;let s=[],o=0;if(r>n)for(let l=0,c=0;c<r;l++){let p=this.content[l],m=c+p.nodeSize;m>n&&((c<n||m>r)&&(p.isText?p=p.cut(Math.max(0,n-c),Math.min(p.text.length,r-c)):p=p.cut(Math.max(0,n-c-1),Math.min(p.content.size,r-c-1))),s.push(p),o+=p.nodeSize),c=m}return new Fragment(s,o)}cutByIndex(n,r){return n==r?Fragment.empty:n==0&&r==this.content.length?this:new Fragment(this.content.slice(n,r))}replaceChild(n,r){let s=this.content[n];if(s==r)return this;let o=this.content.slice(),l=this.size+r.nodeSize-s.nodeSize;return o[n]=r,new Fragment(o,l)}addToStart(n){return new Fragment([n].concat(this.content),this.size+n.nodeSize)}addToEnd(n){return new Fragment(this.content.concat(n),this.size+n.nodeSize)}eq(n){if(this.content.length!=n.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(n.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(n){let r=this.content[n];if(!r)throw new RangeError("Index "+n+" out of range for "+this);return r}maybeChild(n){return this.content[n]||null}forEach(n){for(let r=0,s=0;r<this.content.length;r++){let o=this.content[r];n(o,s,r),s+=o.nodeSize}}findDiffStart(n,r=0){return findDiffStart(this,n,r)}findDiffEnd(n,r=this.size,s=n.size){return findDiffEnd(this,n,r,s)}findIndex(n){if(n==0)return retIndex(0,n);if(n==this.size)return retIndex(this.content.length,n);if(n>this.size||n<0)throw new RangeError(`Position ${n} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),l=s+o.nodeSize;if(l>=n)return l==n?retIndex(r+1,l):retIndex(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(n=>n.toJSON()):null}static fromJSON(n,r){if(!r)return Fragment.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(r.map(n.nodeFromJSON))}static fromArray(n){if(!n.length)return Fragment.empty;let r,s=0;for(let o=0;o<n.length;o++){let l=n[o];s+=l.nodeSize,o&&l.isText&&n[o-1].sameMarkup(l)?(r||(r=n.slice(0,o)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Fragment(r||n,s)}static from(n){if(!n)return Fragment.empty;if(n instanceof Fragment)return n;if(Array.isArray(n))return this.fromArray(n);if(n.attrs)return new Fragment([n],n.nodeSize);throw new RangeError("Can not convert "+n+" to a Fragment"+(n.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(t,n){return found.index=t,found.offset=n,found}function compareDeep(t,n){if(t===n)return!0;if(!(t&&typeof t=="object")||!(n&&typeof n=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(n)!=r)return!1;if(r){if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++)if(!compareDeep(t[s],n[s]))return!1}else{for(let s in t)if(!(s in n)||!compareDeep(t[s],n[s]))return!1;for(let s in n)if(!(s in t))return!1}return!0}let Mark$1=class MA{constructor(n,r){this.type=n,this.attrs=r}addToSet(n){let r,s=!1;for(let o=0;o<n.length;o++){let l=n[o];if(this.eq(l))return n;if(this.type.excludes(l.type))r||(r=n.slice(0,o));else{if(l.type.excludes(this.type))return n;!s&&l.type.rank>this.type.rank&&(r||(r=n.slice(0,o)),r.push(this),s=!0),r&&r.push(l)}}return r||(r=n.slice()),s||r.push(this),r}removeFromSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return n.slice(0,r).concat(n.slice(r+1));return n}isInSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return!0;return!1}eq(n){return this==n||this.type==n.type&&compareDeep(this.attrs,n.attrs)}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let s=n.marks[r.type];if(!s)throw new RangeError(`There is no mark type ${r.type} in this schema`);let o=s.create(r.attrs);return s.checkAttrs(o.attrs),o}static sameSet(n,r){if(n==r)return!0;if(n.length!=r.length)return!1;for(let s=0;s<n.length;s++)if(!n[s].eq(r[s]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&n.length==0)return MA.none;if(n instanceof MA)return[n];let r=n.slice();return r.sort((s,o)=>s.type.rank-o.type.rank),r}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(n,r,s){this.content=n,this.openStart=r,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(n,r){let s=insertInto(this.content,n+this.openStart,r);return s&&new Slice(s,this.openStart,this.openEnd)}removeBetween(n,r){return new Slice(removeRange(this.content,n+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(n){return this.content.eq(n.content)&&this.openStart==n.openStart&&this.openEnd==n.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let n={content:this.content.toJSON()};return this.openStart>0&&(n.openStart=this.openStart),this.openEnd>0&&(n.openEnd=this.openEnd),n}static fromJSON(n,r){if(!r)return Slice.empty;let s=r.openStart||0,o=r.openEnd||0;if(typeof s!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(n,r.content),s,o)}static maxOpen(n,r=!0){let s=0,o=0;for(let l=n.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=n.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)o++;return new Slice(n,s,o)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(t,n,r){let{index:s,offset:o}=t.findIndex(n),l=t.maybeChild(s),{index:c,offset:p}=t.findIndex(r);if(o==n||l.isText){if(p!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(s!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(s,l.copy(removeRange(l.content,n-o-1,r-o-1)))}function insertInto(t,n,r,s){let{index:o,offset:l}=t.findIndex(n),c=t.maybeChild(o);if(l==n||c.isText)return s&&!s.canReplace(o,o,r)?null:t.cut(0,n).append(r).append(t.cut(n));let p=insertInto(c.content,n-l-1,r,c);return p&&t.replaceChild(o,c.copy(p))}function replace(t,n,r){if(r.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-r.openStart!=n.depth-r.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,n,r,0)}function replaceOuter(t,n,r,s){let o=t.index(s),l=t.node(s);if(o==n.index(s)&&s<t.depth-r.openStart){let c=replaceOuter(t,n,r,s+1);return l.copy(l.content.replaceChild(o,c))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==s&&n.depth==s){let c=t.parent,p=c.content;return close(c,p.cut(0,t.parentOffset).append(r.content).append(p.cut(n.parentOffset)))}else{let{start:c,end:p}=prepareSliceForReplace(r,t);return close(l,replaceThreeWay(t,c,p,n,s))}else return close(l,replaceTwoWay(t,n,s))}function checkJoin(t,n){if(!n.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+n.type.name+" onto "+t.type.name)}function joinable$1(t,n,r){let s=t.node(r);return checkJoin(s,n.node(r)),s}function addNode(t,n){let r=n.length-1;r>=0&&t.isText&&t.sameMarkup(n[r])?n[r]=t.withText(n[r].text+t.text):n.push(t)}function addRange(t,n,r,s){let o=(n||t).node(r),l=0,c=n?n.index(r):o.childCount;t&&(l=t.index(r),t.depth>r?l++:t.textOffset&&(addNode(t.nodeAfter,s),l++));for(let p=l;p<c;p++)addNode(o.child(p),s);n&&n.depth==r&&n.textOffset&&addNode(n.nodeBefore,s)}function close(t,n){return t.type.checkContent(n),t.copy(n)}function replaceThreeWay(t,n,r,s,o){let l=t.depth>o&&joinable$1(t,n,o+1),c=s.depth>o&&joinable$1(r,s,o+1),p=[];return addRange(null,t,o,p),l&&c&&n.index(o)==r.index(o)?(checkJoin(l,c),addNode(close(l,replaceThreeWay(t,n,r,s,o+1)),p)):(l&&addNode(close(l,replaceTwoWay(t,n,o+1)),p),addRange(n,r,o,p),c&&addNode(close(c,replaceTwoWay(r,s,o+1)),p)),addRange(s,null,o,p),new Fragment(p)}function replaceTwoWay(t,n,r){let s=[];if(addRange(null,t,r,s),t.depth>r){let o=joinable$1(t,n,r+1);addNode(close(o,replaceTwoWay(t,n,r+1)),s)}return addRange(n,null,r,s),new Fragment(s)}function prepareSliceForReplace(t,n){let r=n.depth-t.openStart,o=n.node(r).copy(t.content);for(let l=r-1;l>=0;l--)o=n.node(l).copy(Fragment.from(o));return{start:o.resolveNoCache(t.openStart+r),end:o.resolveNoCache(o.content.size-t.openEnd-r)}}class ResolvedPos{constructor(n,r,s){this.pos=n,this.path=r,this.parentOffset=s,this.depth=r.length/3-1}resolveDepth(n){return n==null?this.depth:n<0?this.depth+n:n}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(n){return this.path[this.resolveDepth(n)*3]}index(n){return this.path[this.resolveDepth(n)*3+1]}indexAfter(n){return n=this.resolveDepth(n),this.index(n)+(n==this.depth&&!this.textOffset?0:1)}start(n){return n=this.resolveDepth(n),n==0?0:this.path[n*3-1]+1}end(n){return n=this.resolveDepth(n),this.start(n)+this.node(n).content.size}before(n){if(n=this.resolveDepth(n),!n)throw new RangeError("There is no position before the top-level node");return n==this.depth+1?this.pos:this.path[n*3-1]}after(n){if(n=this.resolveDepth(n),!n)throw new RangeError("There is no position after the top-level node");return n==this.depth+1?this.pos:this.path[n*3-1]+this.path[n*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let n=this.parent,r=this.index(this.depth);if(r==n.childCount)return null;let s=this.pos-this.path[this.path.length-1],o=n.child(r);return s?n.child(r).cut(s):o}get nodeBefore(){let n=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(n).cut(0,r):n==0?null:this.parent.child(n-1)}posAtIndex(n,r){r=this.resolveDepth(r);let s=this.path[r*3],o=r==0?0:this.path[r*3-1]+1;for(let l=0;l<n;l++)o+=s.child(l).nodeSize;return o}marks(){let n=this.parent,r=this.index();if(n.content.size==0)return Mark$1.none;if(this.textOffset)return n.child(r).marks;let s=n.maybeChild(r-1),o=n.maybeChild(r);if(!s){let p=s;s=o,o=p}let l=s.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!o||!l[c].isInSet(o.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(n){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let s=r.marks,o=n.parent.maybeChild(n.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!o||!s[l].isInSet(o.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(n){for(let r=this.depth;r>0;r--)if(this.start(r)<=n&&this.end(r)>=n)return r;return 0}blockRange(n=this,r){if(n.pos<this.pos)return n.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==n.pos?1:0);s>=0;s--)if(n.pos<=this.end(s)&&(!r||r(this.node(s))))return new NodeRange(this,n,s);return null}sameParent(n){return this.pos-this.parentOffset==n.pos-n.parentOffset}max(n){return n.pos>this.pos?n:this}min(n){return n.pos<this.pos?n:this}toString(){let n="";for(let r=1;r<=this.depth;r++)n+=(n?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return n+":"+this.parentOffset}static resolve(n,r){if(!(r>=0&&r<=n.content.size))throw new RangeError("Position "+r+" out of range");let s=[],o=0,l=r;for(let c=n;;){let{index:p,offset:m}=c.content.findIndex(l),x=l-m;if(s.push(c,p,o+m),!x||(c=c.child(p),c.isText))break;l=x-1,o+=m+1}return new ResolvedPos(r,s,l)}static resolveCached(n,r){let s=resolveCache.get(n);if(s)for(let l=0;l<s.elts.length;l++){let c=s.elts[l];if(c.pos==r)return c}else resolveCache.set(n,s=new ResolveCache);let o=s.elts[s.i]=ResolvedPos.resolve(n,r);return s.i=(s.i+1)%resolveCacheSize,o}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(n,r,s){this.$from=n,this.$to=r,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class OA{constructor(n,r,s,o=Mark$1.none){this.type=n,this.attrs=r,this.marks=o,this.content=s||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(n){return this.content.child(n)}maybeChild(n){return this.content.maybeChild(n)}forEach(n){this.content.forEach(n)}nodesBetween(n,r,s,o=0){this.content.nodesBetween(n,r,s,o,this)}descendants(n){this.nodesBetween(0,this.content.size,n)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(n,r,s,o){return this.content.textBetween(n,r,s,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(n){return this==n||this.sameMarkup(n)&&this.content.eq(n.content)}sameMarkup(n){return this.hasMarkup(n.type,n.attrs,n.marks)}hasMarkup(n,r,s){return this.type==n&&compareDeep(this.attrs,r||n.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,s||Mark$1.none)}copy(n=null){return n==this.content?this:new OA(this.type,this.attrs,n,this.marks)}mark(n){return n==this.marks?this:new OA(this.type,this.attrs,this.content,n)}cut(n,r=this.content.size){return n==0&&r==this.content.size?this:this.copy(this.content.cut(n,r))}slice(n,r=this.content.size,s=!1){if(n==r)return Slice.empty;let o=this.resolve(n),l=this.resolve(r),c=s?0:o.sharedDepth(r),p=o.start(c),x=o.node(c).content.cut(o.pos-p,l.pos-p);return new Slice(x,o.depth-c,l.depth-c)}replace(n,r,s){return replace(this.resolve(n),this.resolve(r),s)}nodeAt(n){for(let r=this;;){let{index:s,offset:o}=r.content.findIndex(n);if(r=r.maybeChild(s),!r)return null;if(o==n||r.isText)return r;n-=o+1}}childAfter(n){let{index:r,offset:s}=this.content.findIndex(n);return{node:this.content.maybeChild(r),index:r,offset:s}}childBefore(n){if(n==0)return{node:null,index:0,offset:0};let{index:r,offset:s}=this.content.findIndex(n);if(s<n)return{node:this.content.child(r),index:r,offset:s};let o=this.content.child(r-1);return{node:o,index:r-1,offset:s-o.nodeSize}}resolve(n){return ResolvedPos.resolveCached(this,n)}resolveNoCache(n){return ResolvedPos.resolve(this,n)}rangeHasMark(n,r,s){let o=!1;return r>n&&this.nodesBetween(n,r,l=>(s.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let n=this.type.name;return this.content.size&&(n+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,n)}contentMatchAt(n){let r=this.type.contentMatch.matchFragment(this.content,0,n);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(n,r,s=Fragment.empty,o=0,l=s.childCount){let c=this.contentMatchAt(n).matchFragment(s,o,l),p=c&&c.matchFragment(this.content,r);if(!p||!p.validEnd)return!1;for(let m=o;m<l;m++)if(!this.type.allowsMarks(s.child(m).marks))return!1;return!0}canReplaceWith(n,r,s,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(n).matchType(s),c=l&&l.matchFragment(this.content,r);return c?c.validEnd:!1}canAppend(n){return n.content.size?this.canReplace(this.childCount,this.childCount,n.content):this.type.compatibleContent(n.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let n=Mark$1.none;for(let r=0;r<this.marks.length;r++){let s=this.marks[r];s.type.checkAttrs(s.attrs),n=s.addToSet(n)}if(!Mark$1.sameSet(n,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return this.content.size&&(n.content=this.content.toJSON()),this.marks.length&&(n.marks=this.marks.map(r=>r.toJSON())),n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let s;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=r.marks.map(n.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return n.text(r.text,s)}let o=Fragment.fromJSON(n,r.content),l=n.nodeType(r.type).create(r.attrs,o,s);return l.type.checkAttrs(l.attrs),l}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(n,r,s,o){if(super(n,r,null,o),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(n,r){return this.text.slice(n,r)}get nodeSize(){return this.text.length}mark(n){return n==this.marks?this:new TextNode(this.type,this.attrs,this.text,n)}withText(n){return n==this.text?this:new TextNode(this.type,this.attrs,n,this.marks)}cut(n=0,r=this.text.length){return n==0&&r==this.text.length?this:this.withText(this.text.slice(n,r))}eq(n){return this.sameMarkup(n)&&this.text==n.text}toJSON(){let n=super.toJSON();return n.text=this.text,n}}function wrapMarks(t,n){for(let r=t.length-1;r>=0;r--)n=t[r].type.name+"("+n+")";return n}class ContentMatch{constructor(n){this.validEnd=n,this.next=[],this.wrapCache=[]}static parse(n,r){let s=new TokenStream(n,r);if(s.next==null)return ContentMatch.empty;let o=parseExpr(s);s.next&&s.err("Unexpected trailing text");let l=dfa(nfa(o));return checkForDeadEnds(l,s),l}matchType(n){for(let r=0;r<this.next.length;r++)if(this.next[r].type==n)return this.next[r].next;return null}matchFragment(n,r=0,s=n.childCount){let o=this;for(let l=r;o&&l<s;l++)o=o.matchType(n.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let n=0;n<this.next.length;n++){let{type:r}=this.next[n];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(n){for(let r=0;r<this.next.length;r++)for(let s=0;s<n.next.length;s++)if(this.next[r].type==n.next[s].type)return!0;return!1}fillBefore(n,r=!1,s=0){let o=[this];function l(c,p){let m=c.matchFragment(n,s);if(m&&(!r||m.validEnd))return Fragment.from(p.map(x=>x.createAndFill()));for(let x=0;x<c.next.length;x++){let{type:b,next:_}=c.next[x];if(!(b.isText||b.hasRequiredAttrs())&&o.indexOf(_)==-1){o.push(_);let R=l(_,p.concat(b));if(R)return R}}return null}return l(this,[])}findWrapping(n){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==n)return this.wrapCache[s+1];let r=this.computeWrapping(n);return this.wrapCache.push(n,r),r}computeWrapping(n){let r=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let o=s.shift(),l=o.match;if(l.matchType(n)){let c=[];for(let p=o;p.type;p=p.via)c.push(p.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:p,next:m}=l.next[c];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in r)&&(!o.type||m.validEnd)&&(s.push({match:p.contentMatch,type:p,via:o}),r[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(n){if(n>=this.next.length)throw new RangeError(`There's no ${n}th edge in this content match`);return this.next[n]}toString(){let n=[];function r(s){n.push(s);for(let o=0;o<s.next.length;o++)n.indexOf(s.next[o].next)==-1&&r(s.next[o].next)}return r(this),n.map((s,o)=>{let l=o+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)l+=(c?", ":"")+s.next[c].type.name+"->"+n.indexOf(s.next[c].next);return l}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(n,r){this.string=n,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=n.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(n){return this.next==n&&(this.pos++||!0)}err(n){throw new SyntaxError(n+" (in content expression '"+this.string+"')")}}function parseExpr(t){let n=[];do n.push(parseExprSeq(t));while(t.eat("|"));return n.length==1?n[0]:{type:"choice",exprs:n}}function parseExprSeq(t){let n=[];do n.push(parseExprSubscript(t));while(t.next&&t.next!=")"&&t.next!="|");return n.length==1?n[0]:{type:"seq",exprs:n}}function parseExprSubscript(t){let n=parseExprAtom(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=parseExprRange(t,n);else break;return n}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let n=Number(t.next);return t.pos++,n}function parseExprRange(t,n){let r=parseNum(t),s=r;return t.eat(",")&&(t.next!="}"?s=parseNum(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:s,expr:n}}function resolveName(t,n){let r=t.nodeTypes,s=r[n];if(s)return[s];let o=[];for(let l in r){let c=r[l];c.isInGroup(n)&&o.push(c)}return o.length==0&&t.err("No node type or group '"+n+"' found"),o}function parseExprAtom(t){if(t.eat("(")){let n=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),n}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let n=resolveName(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function nfa(t){let n=[[]];return o(l(t,0),r()),n;function r(){return n.push([])-1}function s(c,p,m){let x={term:m,to:p};return n[c].push(x),x}function o(c,p){c.forEach(m=>m.to=p)}function l(c,p){if(c.type=="choice")return c.exprs.reduce((m,x)=>m.concat(l(x,p)),[]);if(c.type=="seq")for(let m=0;;m++){let x=l(c.exprs[m],p);if(m==c.exprs.length-1)return x;o(x,p=r())}else if(c.type=="star"){let m=r();return s(p,m),o(l(c.expr,m),m),[s(m)]}else if(c.type=="plus"){let m=r();return o(l(c.expr,p),m),o(l(c.expr,m),m),[s(m)]}else{if(c.type=="opt")return[s(p)].concat(l(c.expr,p));if(c.type=="range"){let m=p;for(let x=0;x<c.min;x++){let b=r();o(l(c.expr,m),b),m=b}if(c.max==-1)o(l(c.expr,m),m);else for(let x=c.min;x<c.max;x++){let b=r();s(m,b),o(l(c.expr,m),b),m=b}return[s(m)]}else{if(c.type=="name")return[s(p,void 0,c.value)];throw new Error("Unknown expr type")}}}}function cmp(t,n){return n-t}function nullFrom(t,n){let r=[];return s(n),r.sort(cmp);function s(o){let l=t[o];if(l.length==1&&!l[0].term)return s(l[0].to);r.push(o);for(let c=0;c<l.length;c++){let{term:p,to:m}=l[c];!p&&r.indexOf(m)==-1&&s(m)}}}function dfa(t){let n=Object.create(null);return r(nullFrom(t,0));function r(s){let o=[];s.forEach(c=>{t[c].forEach(({term:p,to:m})=>{if(!p)return;let x;for(let b=0;b<o.length;b++)o[b][0]==p&&(x=o[b][1]);nullFrom(t,m).forEach(b=>{x||o.push([p,x=[]]),x.indexOf(b)==-1&&x.push(b)})})});let l=n[s.join(",")]=new ContentMatch(s.indexOf(t.length-1)>-1);for(let c=0;c<o.length;c++){let p=o[c][1].sort(cmp);l.next.push({type:o[c][0],next:n[p.join(",")]||r(p)})}return l}}function checkForDeadEnds(t,n){for(let r=0,s=[t];r<s.length;r++){let o=s[r],l=!o.validEnd,c=[];for(let p=0;p<o.next.length;p++){let{type:m,next:x}=o.next[p];c.push(m.name),l&&!(m.isText||m.hasRequiredAttrs())&&(l=!1),s.indexOf(x)==-1&&s.push(x)}l&&n.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(t){let n=Object.create(null);for(let r in t){let s=t[r];if(!s.hasDefault)return null;n[r]=s.default}return n}function computeAttrs(t,n){let r=Object.create(null);for(let s in t){let o=n&&n[s];if(o===void 0){let l=t[s];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+s)}r[s]=o}return r}function checkAttrs(t,n,r,s){for(let o in n)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${r} of type ${o}`);for(let o in t){let l=t[o];l.validate&&l.validate(n[o])}}function initAttrs(t,n){let r=Object.create(null);if(n)for(let s in n)r[s]=new Attribute(t,s,n[s]);return r}let NodeType$1=class $f{constructor(n,r,s){this.name=n,this.schema=r,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=initAttrs(n,s.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||n=="text"),this.isText=n=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(n){return this.groups.indexOf(n)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let n in this.attrs)if(this.attrs[n].isRequired)return!0;return!1}compatibleContent(n){return this==n||this.contentMatch.compatible(n.contentMatch)}computeAttrs(n){return!n&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,n)}create(n=null,r,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(n),Fragment.from(r),Mark$1.setFrom(s))}createChecked(n=null,r,s){return r=Fragment.from(r),this.checkContent(r),new Node$1(this,this.computeAttrs(n),r,Mark$1.setFrom(s))}createAndFill(n=null,r,s){if(n=this.computeAttrs(n),r=Fragment.from(r),r.size){let c=this.contentMatch.fillBefore(r);if(!c)return null;r=c.append(r)}let o=this.contentMatch.matchFragment(r),l=o&&o.fillBefore(Fragment.empty,!0);return l?new Node$1(this,n,r.append(l),Mark$1.setFrom(s)):null}validContent(n){let r=this.contentMatch.matchFragment(n);if(!r||!r.validEnd)return!1;for(let s=0;s<n.childCount;s++)if(!this.allowsMarks(n.child(s).marks))return!1;return!0}checkContent(n){if(!this.validContent(n))throw new RangeError(`Invalid content for node ${this.name}: ${n.toString().slice(0,50)}`)}checkAttrs(n){checkAttrs(this.attrs,n,"node",this.name)}allowsMarkType(n){return this.markSet==null||this.markSet.indexOf(n)>-1}allowsMarks(n){if(this.markSet==null)return!0;for(let r=0;r<n.length;r++)if(!this.allowsMarkType(n[r].type))return!1;return!0}allowedMarks(n){if(this.markSet==null)return n;let r;for(let s=0;s<n.length;s++)this.allowsMarkType(n[s].type)?r&&r.push(n[s]):r||(r=n.slice(0,s));return r?r.length?r:Mark$1.none:n}static compile(n,r){let s=Object.create(null);n.forEach((l,c)=>s[l]=new $f(l,r,c));let o=r.spec.topNode||"doc";if(!s[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function validateType(t,n,r){let s=r.split("|");return o=>{let l=o===null?"null":typeof o;if(s.indexOf(l)<0)throw new RangeError(`Expected value of type ${s} for attribute ${n} on type ${t}, got ${l}`)}}class Attribute{constructor(n,r,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?validateType(n,r,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(n,r,s,o){this.name=n,this.rank=r,this.schema=s,this.spec=o,this.attrs=initAttrs(n,o.attrs),this.excluded=null;let l=defaultAttrs(this.attrs);this.instance=l?new Mark$1(this,l):null}create(n=null){return!n&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,n))}static compile(n,r){let s=Object.create(null),o=0;return n.forEach((l,c)=>s[l]=new MarkType(l,o++,r,c)),s}removeFromSet(n){for(var r=0;r<n.length;r++)n[r].type==this&&(n=n.slice(0,r).concat(n.slice(r+1)),r--);return n}isInSet(n){for(let r=0;r<n.length;r++)if(n[r].type==this)return n[r]}checkAttrs(n){checkAttrs(this.attrs,n,"mark",this.name)}excludes(n){return this.excluded.indexOf(n)>-1}}class Schema{constructor(n){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let o in n)r[o]=n[o];r.nodes=OrderedMap.from(n.nodes),r.marks=OrderedMap.from(n.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let s=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],c=l.spec.content||"",p=l.spec.marks;if(l.contentMatch=s[c]||(s[c]=ContentMatch.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=p=="_"?null:p?gatherMarks(this,p.split(" ")):p==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:gatherMarks(this,c.split(" "))}this.nodeFromJSON=o=>Node$1.fromJSON(this,o),this.markFromJSON=o=>Mark$1.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(n,r=null,s,o){if(typeof n=="string")n=this.nodeType(n);else if(n instanceof NodeType$1){if(n.schema!=this)throw new RangeError("Node type from different schema used ("+n.name+")")}else throw new RangeError("Invalid node type: "+n);return n.createChecked(r,s,o)}text(n,r){let s=this.nodes.text;return new TextNode(s,s.defaultAttrs,n,Mark$1.setFrom(r))}mark(n,r){return typeof n=="string"&&(n=this.marks[n]),n.create(r)}nodeType(n){let r=this.nodes[n];if(!r)throw new RangeError("Unknown node type: "+n);return r}}function gatherMarks(t,n){let r=[];for(let s=0;s<n.length;s++){let o=n[s],l=t.marks[o],c=l;if(l)r.push(l);else for(let p in t.marks){let m=t.marks[p];(o=="_"||m.spec.group&&m.spec.group.split(" ").indexOf(o)>-1)&&r.push(c=m)}if(!c)throw new SyntaxError("Unknown mark type: '"+n[s]+"'")}return r}function isTagRule(t){return t.tag!=null}function isStyleRule(t){return t.style!=null}class DOMParser{constructor(n,r){this.schema=n,this.rules=r,this.tags=[],this.styles=[];let s=this.matchedStyles=[];r.forEach(o=>{if(isTagRule(o))this.tags.push(o);else if(isStyleRule(o)){let l=/[^=]*/.exec(o.style)[0];s.indexOf(l)<0&&s.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=n.nodes[o.node];return l.contentMatch.matchType(l)})}parse(n,r={}){let s=new ParseContext(this,r,!1);return s.addAll(n,Mark$1.none,r.from,r.to),s.finish()}parseSlice(n,r={}){let s=new ParseContext(this,r,!0);return s.addAll(n,Mark$1.none,r.from,r.to),Slice.maxOpen(s.finish())}matchTag(n,r,s){for(let o=s?this.tags.indexOf(s)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(matches(n,l.tag)&&(l.namespace===void 0||n.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(n);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(n,r,s,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let c=this.styles[l],p=c.style;if(!(p.indexOf(n)!=0||c.context&&!s.matchesContext(c.context)||p.length>n.length&&(p.charCodeAt(n.length)!=61||p.slice(n.length+1)!=r))){if(c.getAttrs){let m=c.getAttrs(r);if(m===!1)continue;c.attrs=m||void 0}return c}}}static schemaRules(n){let r=[];function s(o){let l=o.priority==null?50:o.priority,c=0;for(;c<r.length;c++){let p=r[c];if((p.priority==null?50:p.priority)<l)break}r.splice(c,0,o)}for(let o in n.marks){let l=n.marks[o].spec.parseDOM;l&&l.forEach(c=>{s(c=copy(c)),c.mark||c.ignore||c.clearMark||(c.mark=o)})}for(let o in n.nodes){let l=n.nodes[o].spec.parseDOM;l&&l.forEach(c=>{s(c=copy(c)),c.node||c.ignore||c.mark||(c.node=o)})}return r}static fromSchema(n){return n.cached.domParser||(n.cached.domParser=new DOMParser(n,DOMParser.schemaRules(n)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(t,n,r){return n!=null?(n?OPT_PRESERVE_WS:0)|(n==="full"?OPT_PRESERVE_WS_FULL:0):t&&t.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:r&~OPT_OPEN_LEFT}class NodeContext{constructor(n,r,s,o,l,c){this.type=n,this.attrs=r,this.marks=s,this.solid=o,this.options=c,this.content=[],this.activeMarks=Mark$1.none,this.match=l||(c&OPT_OPEN_LEFT?null:n.contentMatch)}findWrapping(n){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Fragment.from(n));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let s=this.type.contentMatch,o;return(o=s.findWrapping(n.type))?(this.match=s,o):null}}return this.match.findWrapping(n.type)}finish(n){if(!(this.options&OPT_PRESERVE_WS)){let s=this.content[this.content.length-1],o;if(s&&s.isText&&(o=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let r=Fragment.from(this.content);return!n&&this.match&&(r=r.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(n){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:n.parentNode&&!blockTags.hasOwnProperty(n.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(n,r,s){this.parser=n,this.options=r,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let o=r.topNode,l,c=wsOptionsFor(null,r.preserveWhitespace,0)|(s?OPT_OPEN_LEFT:0);o?l=new NodeContext(o.type,o.attrs,Mark$1.none,!0,r.topMatch||o.type.contentMatch,c):s?l=new NodeContext(null,null,Mark$1.none,!0,null,c):l=new NodeContext(n.schema.topNodeType,null,Mark$1.none,!0,null,c),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(n,r){n.nodeType==3?this.addTextNode(n,r):n.nodeType==1&&this.addElement(n,r)}addTextNode(n,r){let s=n.nodeValue,o=this.top,l=o.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(o.options&OPT_PRESERVE_WS)>0,{schema:c}=this.parser;if(l==="full"||o.inlineContext(n)||/[^ \t\r\n\u000c]/.test(s)){if(l)if(l==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let p=s.split(/\r?\n|\r/);for(let m=0;m<p.length;m++)m&&this.insertNode(c.linebreakReplacement.create(),r,!0),p[m]&&this.insertNode(c.text(p[m]),r,!/\S/.test(p[m]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let p=o.content[o.content.length-1],m=n.previousSibling;(!p||m&&m.nodeName=="BR"||p.isText&&/[ \t\r\n\u000c]$/.test(p.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),r,!/\S/.test(s)),this.findInText(n)}else this.findInside(n)}addElement(n,r,s){let o=this.localPreserveWS,l=this.top;(n.tagName=="PRE"||/pre/.test(n.style&&n.style.whiteSpace))&&(this.localPreserveWS=!0);let c=n.nodeName.toLowerCase(),p;listTags.hasOwnProperty(c)&&this.parser.normalizeLists&&normalizeList(n);let m=this.options.ruleFromNode&&this.options.ruleFromNode(n)||(p=this.parser.matchTag(n,this,s));e:if(m?m.ignore:ignoreTags.hasOwnProperty(c))this.findInside(n),this.ignoreFallback(n,r);else if(!m||m.skip||m.closeParent){m&&m.closeParent?this.open=Math.max(0,this.open-1):m&&m.skip.nodeType&&(n=m.skip);let x,b=this.needsBlock;if(blockTags.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),x=!0,l.type||(this.needsBlock=!0);else if(!n.firstChild){this.leafFallback(n,r);break e}let _=m&&m.skip?r:this.readStyles(n,r);_&&this.addAll(n,_),x&&this.sync(l),this.needsBlock=b}else{let x=this.readStyles(n,r);x&&this.addElementByRule(n,m,x,m.consuming===!1?p:void 0)}this.localPreserveWS=o}leafFallback(n,r){n.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(n.ownerDocument.createTextNode(`
`),r)}ignoreFallback(n,r){n.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(n,r){let s=n.style;if(s&&s.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],c=s.getPropertyValue(l);if(c)for(let p=void 0;;){let m=this.parser.matchStyle(l,c,this,p);if(!m)break;if(m.ignore)return null;if(m.clearMark?r=r.filter(x=>!m.clearMark(x)):r=r.concat(this.parser.schema.marks[m.mark].create(m.attrs)),m.consuming===!1)p=m;else break}}return r}addElementByRule(n,r,s,o){let l,c;if(r.node)if(c=this.parser.schema.nodes[r.node],c.isLeaf)this.insertNode(c.create(r.attrs),s,n.nodeName=="BR")||this.leafFallback(n,s);else{let m=this.enter(c,r.attrs||null,s,r.preserveWhitespace);m&&(l=!0,s=m)}else{let m=this.parser.schema.marks[r.mark];s=s.concat(m.create(r.attrs))}let p=this.top;if(c&&c.isLeaf)this.findInside(n);else if(o)this.addElement(n,s,o);else if(r.getContent)this.findInside(n),r.getContent(n,this.parser.schema).forEach(m=>this.insertNode(m,s,!1));else{let m=n;typeof r.contentElement=="string"?m=n.querySelector(r.contentElement):typeof r.contentElement=="function"?m=r.contentElement(n):r.contentElement&&(m=r.contentElement),this.findAround(n,m,!0),this.addAll(m,s),this.findAround(n,m,!1)}l&&this.sync(p)&&this.open--}addAll(n,r,s,o){let l=s||0;for(let c=s?n.childNodes[s]:n.firstChild,p=o==null?null:n.childNodes[o];c!=p;c=c.nextSibling,++l)this.findAtPoint(n,l),this.addDOM(c,r);this.findAtPoint(n,l)}findPlace(n,r,s){let o,l;for(let c=this.open,p=0;c>=0;c--){let m=this.nodes[c],x=m.findWrapping(n);if(x&&(!o||o.length>x.length+p)&&(o=x,l=m,!x.length))break;if(m.solid){if(s)break;p+=2}}if(!o)return null;this.sync(l);for(let c=0;c<o.length;c++)r=this.enterInner(o[c],null,r,!1);return r}insertNode(n,r,s){if(n.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let o=this.findPlace(n,r,s);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(n.type));let c=Mark$1.none;for(let p of o.concat(n.marks))(l.type?l.type.allowsMarkType(p.type):markMayApply(p.type,n.type))&&(c=p.addToSet(c));return l.content.push(n.mark(c)),!0}return!1}enter(n,r,s,o){let l=this.findPlace(n.create(r),s,!1);return l&&(l=this.enterInner(n,r,s,!0,o)),l}enterInner(n,r,s,o=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(n);let p=wsOptionsFor(n,l,c.options);c.options&OPT_OPEN_LEFT&&c.content.length==0&&(p|=OPT_OPEN_LEFT);let m=Mark$1.none;return s=s.filter(x=>(c.type?c.type.allowsMarkType(x.type):markMayApply(x.type,n))?(m=x.addToSet(m),!1):!0),this.nodes.push(new NodeContext(n,r,m,o,null,p)),this.open++,s}closeExtra(n=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(n));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(n){for(let r=this.open;r>=0;r--){if(this.nodes[r]==n)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let n=0;for(let r=this.open;r>=0;r--){let s=this.nodes[r].content;for(let o=s.length-1;o>=0;o--)n+=s[o].nodeSize;r&&n++}return n}findAtPoint(n,r){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==n&&this.find[s].offset==r&&(this.find[s].pos=this.currentPos)}findInside(n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&n.nodeType==1&&n.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(n,r,s){if(n!=r&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&n.nodeType==1&&n.contains(this.find[o].node)&&r.compareDocumentPosition(this.find[o].node)&(s?2:4)&&(this.find[o].pos=this.currentPos)}findInText(n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==n&&(this.find[r].pos=this.currentPos-(n.nodeValue.length-this.find[r].offset))}matchesContext(n){if(n.indexOf("|")>-1)return n.split(/\s*\|\s*/).some(this.matchesContext,this);let r=n.split("/"),s=this.options.context,o=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(o?0:1),c=(p,m)=>{for(;p>=0;p--){let x=r[p];if(x==""){if(p==r.length-1||p==0)continue;for(;m>=l;m--)if(c(p-1,m))return!0;return!1}else{let b=m>0||m==0&&o?this.nodes[m].type:s&&m>=l?s.node(m-l).type:null;if(!b||b.name!=x&&!b.isInGroup(x))return!1;m--}}return!0};return c(r.length-1,this.open)}textblockFromContext(){let n=this.options.context;if(n)for(let r=n.depth;r>=0;r--){let s=n.node(r).contentMatchAt(n.indexAfter(r)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let r in this.parser.schema.nodes){let s=this.parser.schema.nodes[r];if(s.isTextblock&&s.defaultAttrs)return s}}}function normalizeList(t){for(let n=t.firstChild,r=null;n;n=n.nextSibling){let s=n.nodeType==1?n.nodeName.toLowerCase():null;s&&listTags.hasOwnProperty(s)&&r?(r.appendChild(n),n=r):s=="li"?r=n:s&&(r=null)}}function matches(t,n){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,n)}function copy(t){let n={};for(let r in t)n[r]=t[r];return n}function markMayApply(t,n){let r=n.schema.nodes;for(let s in r){let o=r[s];if(!o.allowsMarkType(t))continue;let l=[],c=p=>{l.push(p);for(let m=0;m<p.edgeCount;m++){let{type:x,next:b}=p.edge(m);if(x==n||l.indexOf(b)<0&&c(b))return!0}};if(c(o.contentMatch))return!0}}class DOMSerializer{constructor(n,r){this.nodes=n,this.marks=r}serializeFragment(n,r={},s){s||(s=doc$1(r).createDocumentFragment());let o=s,l=[];return n.forEach(c=>{if(l.length||c.marks.length){let p=0,m=0;for(;p<l.length&&m<c.marks.length;){let x=c.marks[m];if(!this.marks[x.type.name]){m++;continue}if(!x.eq(l[p][0])||x.type.spec.spanning===!1)break;p++,m++}for(;p<l.length;)o=l.pop()[1];for(;m<c.marks.length;){let x=c.marks[m++],b=this.serializeMark(x,c.isInline,r);b&&(l.push([x,o]),o.appendChild(b.dom),o=b.contentDOM||b.dom)}}o.appendChild(this.serializeNodeInner(c,r))}),s}serializeNodeInner(n,r){let{dom:s,contentDOM:o}=renderSpec(doc$1(r),this.nodes[n.type.name](n),null,n.attrs);if(o){if(n.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(n.content,r,o)}return s}serializeNode(n,r={}){let s=this.serializeNodeInner(n,r);for(let o=n.marks.length-1;o>=0;o--){let l=this.serializeMark(n.marks[o],n.isInline,r);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(n,r,s={}){let o=this.marks[n.type.name];return o&&renderSpec(doc$1(s),o(n,r),null,n.attrs)}static renderSpec(n,r,s=null,o){return renderSpec(n,r,s,o)}static fromSchema(n){return n.cached.domSerializer||(n.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(n),this.marksFromSchema(n)))}static nodesFromSchema(n){let r=gatherToDOM(n.nodes);return r.text||(r.text=s=>s.text),r}static marksFromSchema(n){return gatherToDOM(n.marks)}}function gatherToDOM(t){let n={};for(let r in t){let s=t[r].spec.toDOM;s&&(n[r]=s)}return n}function doc$1(t){return t.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(t){let n=suspiciousAttributeCache.get(t);return n===void 0&&suspiciousAttributeCache.set(t,n=suspiciousAttributesInner(t)),n}function suspiciousAttributesInner(t){let n=null;function r(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")n||(n=[]),n.push(s);else for(let o=0;o<s.length;o++)r(s[o]);else for(let o in s)r(s[o])}return r(t),n}function renderSpec(t,n,r,s){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let o=n[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(l=suspiciousAttributes(s))&&l.indexOf(n)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=o.indexOf(" ");c>0&&(r=o.slice(0,c),o=o.slice(c+1));let p,m=r?t.createElementNS(r,o):t.createElement(o),x=n[1],b=1;if(x&&typeof x=="object"&&x.nodeType==null&&!Array.isArray(x)){b=2;for(let _ in x)if(x[_]!=null){let R=_.indexOf(" ");R>0?m.setAttributeNS(_.slice(0,R),_.slice(R+1),x[_]):_=="style"&&m.style?m.style.cssText=x[_]:m.setAttribute(_,x[_])}}for(let _=b;_<n.length;_++){let R=n[_];if(R===0){if(_<n.length-1||_>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:m,contentDOM:m}}else{let{dom:k,contentDOM:M}=renderSpec(t,R,r,s);if(m.appendChild(k),M){if(p)throw new RangeError("Multiple content holes");p=M}}}return{dom:m,contentDOM:p}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(t,n){return t+n*factor16}function recoverIndex(t){return t&lower16}function recoverOffset(t){return(t-(t&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(n,r,s){this.pos=n,this.delInfo=r,this.recover=s}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(n,r=!1){if(this.ranges=n,this.inverted=r,!n.length&&StepMap.empty)return StepMap.empty}recover(n){let r=0,s=recoverIndex(n);if(!this.inverted)for(let o=0;o<s;o++)r+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[s*3]+r+recoverOffset(n)}mapResult(n,r=1){return this._map(n,r,!1)}map(n,r=1){return this._map(n,r,!0)}_map(n,r,s){let o=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?o:0);if(m>n)break;let x=this.ranges[p+l],b=this.ranges[p+c],_=m+x;if(n<=_){let R=x?n==m?-1:n==_?1:r:r,k=m+o+(R<0?0:b);if(s)return k;let M=n==(r<0?m:_)?null:makeRecover(p/3,n-m),P=n==m?DEL_AFTER:n==_?DEL_BEFORE:DEL_ACROSS;return(r<0?n!=m:n!=_)&&(P|=DEL_SIDE),new MapResult(k,P,M)}o+=b-x}return s?n+o:new MapResult(n+o,0,null)}touches(n,r){let s=0,o=recoverIndex(r),l=this.inverted?2:1,c=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?s:0);if(m>n)break;let x=this.ranges[p+l],b=m+x;if(n<=b&&p==o*3)return!0;s+=this.ranges[p+c]-x}return!1}forEach(n){let r=this.inverted?2:1,s=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let c=this.ranges[o],p=c-(this.inverted?l:0),m=c+(this.inverted?0:l),x=this.ranges[o+r],b=this.ranges[o+s];n(p,p+x,m,m+b),l+=b-x}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(n){return n==0?StepMap.empty:new StepMap(n<0?[0,-n,0]:[0,0,n])}}StepMap.empty=new StepMap([]);class Mapping{constructor(n,r,s=0,o=n?n.length:0){this.mirror=r,this.from=s,this.to=o,this._maps=n||[],this.ownData=!(n||r)}get maps(){return this._maps}slice(n=0,r=this.maps.length){return new Mapping(this._maps,this.mirror,n,r)}appendMap(n,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(n),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(n){for(let r=0,s=this._maps.length;r<n._maps.length;r++){let o=n.getMirror(r);this.appendMap(n._maps[r],o!=null&&o<r?s+o:void 0)}}getMirror(n){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==n)return this.mirror[r+(r%2?-1:1)]}}setMirror(n,r){this.mirror||(this.mirror=[]),this.mirror.push(n,r)}appendMappingInverted(n){for(let r=n.maps.length-1,s=this._maps.length+n._maps.length;r>=0;r--){let o=n.getMirror(r);this.appendMap(n._maps[r].invert(),o!=null&&o>r?s-o-1:void 0)}}invert(){let n=new Mapping;return n.appendMappingInverted(this),n}map(n,r=1){if(this.mirror)return this._map(n,r,!0);for(let s=this.from;s<this.to;s++)n=this._maps[s].map(n,r);return n}mapResult(n,r=1){return this._map(n,r,!1)}_map(n,r,s){let o=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],p=c.mapResult(n,r);if(p.recover!=null){let m=this.getMirror(l);if(m!=null&&m>l&&m<this.to){l=m,n=this._maps[m].recover(p.recover);continue}}o|=p.delInfo,n=p.pos}return s?n:new MapResult(n,o,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(n){return null}static fromJSON(n,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=stepsByID[r.stepType];if(!s)throw new RangeError(`No step type ${r.stepType} defined`);return s.fromJSON(n,r)}static jsonID(n,r){if(n in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+n);return stepsByID[n]=r,r.prototype.jsonID=n,r}}class StepResult{constructor(n,r){this.doc=n,this.failed=r}static ok(n){return new StepResult(n,null)}static fail(n){return new StepResult(null,n)}static fromReplace(n,r,s,o){try{return StepResult.ok(n.replace(r,s,o))}catch(l){if(l instanceof ReplaceError)return StepResult.fail(l.message);throw l}}}function mapFragment(t,n,r){let s=[];for(let o=0;o<t.childCount;o++){let l=t.child(o);l.content.size&&(l=l.copy(mapFragment(l.content,n,l))),l.isInline&&(l=n(l,r,o)),s.push(l)}return Fragment.fromArray(s)}class AddMarkStep extends Step{constructor(n,r,s){super(),this.from=n,this.to=r,this.mark=s}apply(n){let r=n.slice(this.from,this.to),s=n.resolve(this.from),o=s.node(s.sharedDepth(this.to)),l=new Slice(mapFragment(r.content,(c,p)=>!c.isAtom||!p.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),o),r.openStart,r.openEnd);return StepResult.fromReplace(n,this.from,this.to,l)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new AddMarkStep(r.pos,s.pos,this.mark)}merge(n){return n instanceof AddMarkStep&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new AddMarkStep(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(r.from,r.to,n.markFromJSON(r.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(n,r,s){super(),this.from=n,this.to=r,this.mark=s}apply(n){let r=n.slice(this.from,this.to),s=new Slice(mapFragment(r.content,o=>o.mark(this.mark.removeFromSet(o.marks)),n),r.openStart,r.openEnd);return StepResult.fromReplace(n,this.from,this.to,s)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new RemoveMarkStep(r.pos,s.pos,this.mark)}merge(n){return n instanceof RemoveMarkStep&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new RemoveMarkStep(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(r.from,r.to,n.markFromJSON(r.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(n,r){super(),this.pos=n,this.mark=r}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(s),0,r.isLeaf?0:1))}invert(n){let r=n.nodeAt(this.pos);if(r){let s=this.mark.addToSet(r.marks);if(s.length==r.marks.length){for(let o=0;o<r.marks.length;o++)if(!r.marks[o].isInSet(s))return new AddNodeMarkStep(this.pos,r.marks[o]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new AddNodeMarkStep(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(r.pos,n.markFromJSON(r.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(n,r){super(),this.pos=n,this.mark=r}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(s),0,r.isLeaf?0:1))}invert(n){let r=n.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new RemoveNodeMarkStep(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(r.pos,n.markFromJSON(r.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(n,r,s,o=!1){super(),this.from=n,this.to=r,this.slice=s,this.structure=o}apply(n){return this.structure&&contentBetween(n,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(n,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(n){return new ReplaceStep(this.from,this.from+this.slice.size,n.slice(this.from,this.to))}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1);return r.deletedAcross&&s.deletedAcross?null:new ReplaceStep(r.pos,Math.max(r.pos,s.pos),this.slice,this.structure)}merge(n){if(!(n instanceof ReplaceStep)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){let r=this.slice.size+n.slice.size==0?Slice.empty:new Slice(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new ReplaceStep(this.from,this.to+(n.to-n.from),r,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){let r=this.slice.size+n.slice.size==0?Slice.empty:new Slice(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new ReplaceStep(n.from,this.to,r,this.structure)}else return null}toJSON(){let n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(r.from,r.to,Slice.fromJSON(n,r.slice),!!r.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(n,r,s,o,l,c,p=!1){super(),this.from=n,this.to=r,this.gapFrom=s,this.gapTo=o,this.slice=l,this.insert=c,this.structure=p}apply(n){if(this.structure&&(contentBetween(n,this.from,this.gapFrom)||contentBetween(n,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let r=n.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return StepResult.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,r.content);return s?StepResult.fromReplace(n,this.from,this.to,s):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(n){let r=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(n){let r=n.mapResult(this.from,1),s=n.mapResult(this.to,-1),o=this.from==this.gapFrom?r.pos:n.map(this.gapFrom,-1),l=this.to==this.gapTo?s.pos:n.map(this.gapTo,1);return r.deletedAcross&&s.deletedAcross||o<r.pos||l>s.pos?null:new ReplaceAroundStep(r.pos,s.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(r.from,r.to,r.gapFrom,r.gapTo,Slice.fromJSON(n,r.slice),r.insert,!!r.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(t,n,r){let s=t.resolve(n),o=r-n,l=s.depth;for(;o>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,o--;if(o>0){let c=s.node(l).maybeChild(s.indexAfter(l));for(;o>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,o--}}return!1}function addMark(t,n,r,s){let o=[],l=[],c,p;t.doc.nodesBetween(n,r,(m,x,b)=>{if(!m.isInline)return;let _=m.marks;if(!s.isInSet(_)&&b.type.allowsMarkType(s.type)){let R=Math.max(x,n),k=Math.min(x+m.nodeSize,r),M=s.addToSet(_);for(let P=0;P<_.length;P++)_[P].isInSet(M)||(c&&c.to==R&&c.mark.eq(_[P])?c.to=k:o.push(c=new RemoveMarkStep(R,k,_[P])));p&&p.to==R?p.to=k:l.push(p=new AddMarkStep(R,k,s))}}),o.forEach(m=>t.step(m)),l.forEach(m=>t.step(m))}function removeMark(t,n,r,s){let o=[],l=0;t.doc.nodesBetween(n,r,(c,p)=>{if(!c.isInline)return;l++;let m=null;if(s instanceof MarkType){let x=c.marks,b;for(;b=s.isInSet(x);)(m||(m=[])).push(b),x=b.removeFromSet(x)}else s?s.isInSet(c.marks)&&(m=[s]):m=c.marks;if(m&&m.length){let x=Math.min(p+c.nodeSize,r);for(let b=0;b<m.length;b++){let _=m[b],R;for(let k=0;k<o.length;k++){let M=o[k];M.step==l-1&&_.eq(o[k].style)&&(R=M)}R?(R.to=x,R.step=l):o.push({style:_,from:Math.max(p,n),to:x,step:l})}}}),o.forEach(c=>t.step(new RemoveMarkStep(c.from,c.to,c.style)))}function clearIncompatible(t,n,r,s=r.contentMatch,o=!0){let l=t.doc.nodeAt(n),c=[],p=n+1;for(let m=0;m<l.childCount;m++){let x=l.child(m),b=p+x.nodeSize,_=s.matchType(x.type);if(!_)c.push(new ReplaceStep(p,b,Slice.empty));else{s=_;for(let R=0;R<x.marks.length;R++)r.allowsMarkType(x.marks[R].type)||t.step(new RemoveMarkStep(p,b,x.marks[R]));if(o&&x.isText&&r.whitespace!="pre"){let R,k=/\r?\n|\r/g,M;for(;R=k.exec(x.text);)M||(M=new Slice(Fragment.from(r.schema.text(" ",r.allowedMarks(x.marks))),0,0)),c.push(new ReplaceStep(p+R.index,p+R.index+R[0].length,M))}}p=b}if(!s.validEnd){let m=s.fillBefore(Fragment.empty,!0);t.replace(p,p,new Slice(m,0,0))}for(let m=c.length-1;m>=0;m--)t.step(c[m])}function canCut(t,n,r){return(n==0||t.canReplace(n,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function liftTarget(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,o=0,l=0;;--s){let c=t.$from.node(s),p=t.$from.index(s)+o,m=t.$to.indexAfter(s)-l;if(s<t.depth&&c.canReplace(p,m,r))return s;if(s==0||c.type.spec.isolating||!canCut(c,p,m))break;p&&(o=1),m<c.childCount&&(l=1)}return null}function lift$2(t,n,r){let{$from:s,$to:o,depth:l}=n,c=s.before(l+1),p=o.after(l+1),m=c,x=p,b=Fragment.empty,_=0;for(let M=l,P=!1;M>r;M--)P||s.index(M)>0?(P=!0,b=Fragment.from(s.node(M).copy(b)),_++):m--;let R=Fragment.empty,k=0;for(let M=l,P=!1;M>r;M--)P||o.after(M+1)<o.end(M)?(P=!0,R=Fragment.from(o.node(M).copy(R)),k++):x++;t.step(new ReplaceAroundStep(m,x,c,p,new Slice(b.append(R),_,k),b.size-_,!0))}function findWrapping(t,n,r=null,s=t){let o=findWrappingOutside(t,n),l=o&&findWrappingInside(s,n);return l?o.map(withAttrs).concat({type:n,attrs:r}).concat(l.map(withAttrs)):null}function withAttrs(t){return{type:t,attrs:null}}function findWrappingOutside(t,n){let{parent:r,startIndex:s,endIndex:o}=t,l=r.contentMatchAt(s).findWrapping(n);if(!l)return null;let c=l.length?l[0]:n;return r.canReplaceWith(s,o,c)?l:null}function findWrappingInside(t,n){let{parent:r,startIndex:s,endIndex:o}=t,l=r.child(s),c=n.contentMatch.findWrapping(l.type);if(!c)return null;let m=(c.length?c[c.length-1]:n).contentMatch;for(let x=s;m&&x<o;x++)m=m.matchType(r.child(x).type);return!m||!m.validEnd?null:c}function wrap(t,n,r){let s=Fragment.empty;for(let c=r.length-1;c>=0;c--){if(s.size){let p=r[c].type.contentMatch.matchFragment(s);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Fragment.from(r[c].type.create(r[c].attrs,s))}let o=n.start,l=n.end;t.step(new ReplaceAroundStep(o,l,o,l,new Slice(s,0,0),r.length,!0))}function setBlockType$1(t,n,r,s,o){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(n,r,(c,p)=>{let m=typeof o=="function"?o(c):o;if(c.isTextblock&&!c.hasMarkup(s,m)&&canChangeType(t.doc,t.mapping.slice(l).map(p),s)){let x=null;if(s.schema.linebreakReplacement){let k=s.whitespace=="pre",M=!!s.contentMatch.matchType(s.schema.linebreakReplacement);k&&!M?x=!1:!k&&M&&(x=!0)}x===!1&&replaceLinebreaks(t,c,p,l),clearIncompatible(t,t.mapping.slice(l).map(p,1),s,void 0,x===null);let b=t.mapping.slice(l),_=b.map(p,1),R=b.map(p+c.nodeSize,1);return t.step(new ReplaceAroundStep(_,R,_+1,R-1,new Slice(Fragment.from(s.create(m,null,c.marks)),0,0),1,!0)),x===!0&&replaceNewlines(t,c,p,l),!1}})}function replaceNewlines(t,n,r,s){n.forEach((o,l)=>{if(o.isText){let c,p=/\r?\n|\r/g;for(;c=p.exec(o.text);){let m=t.mapping.slice(s).map(r+1+l+c.index);t.replaceWith(m,m+1,n.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(t,n,r,s){n.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let c=t.mapping.slice(s).map(r+1+l);t.replaceWith(c,c+1,n.type.schema.text(`
`))}})}function canChangeType(t,n,r){let s=t.resolve(n),o=s.index();return s.parent.canReplaceWith(o,o+1,r)}function setNodeMarkup(t,n,r,s,o){let l=t.doc.nodeAt(n);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let c=r.create(s,null,o||l.marks);if(l.isLeaf)return t.replaceWith(n,n+l.nodeSize,c);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ReplaceAroundStep(n,n+l.nodeSize,n+1,n+l.nodeSize-1,new Slice(Fragment.from(c),0,0),1,!0))}function canSplit(t,n,r=1,s){let o=t.resolve(n),l=o.depth-r,c=s&&s[s.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!c.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let x=o.depth-1,b=r-2;x>l;x--,b--){let _=o.node(x),R=o.index(x);if(_.type.spec.isolating)return!1;let k=_.content.cutByIndex(R,_.childCount),M=s&&s[b+1];M&&(k=k.replaceChild(0,M.type.create(M.attrs)));let P=s&&s[b]||_;if(!_.canReplace(R+1,_.childCount)||!P.type.validContent(k))return!1}let p=o.indexAfter(l),m=s&&s[0];return o.node(l).canReplaceWith(p,p,m?m.type:o.node(l+1).type)}function split(t,n,r=1,s){let o=t.doc.resolve(n),l=Fragment.empty,c=Fragment.empty;for(let p=o.depth,m=o.depth-r,x=r-1;p>m;p--,x--){l=Fragment.from(o.node(p).copy(l));let b=s&&s[x];c=Fragment.from(b?b.type.create(b.attrs,c):o.node(p).copy(c))}t.step(new ReplaceStep(n,n,new Slice(l.append(c),r,r),!0))}function canJoin(t,n){let r=t.resolve(n),s=r.index();return joinable(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(s,s+1)}function canAppendWithSubstitutedLinebreaks(t,n){n.content.size||t.type.compatibleContent(n.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let o=0;o<n.childCount;o++){let l=n.child(o),c=l.type==s?t.type.schema.nodes.text:l.type;if(r=r.matchType(c),!r||!t.type.allowsMarks(l.marks))return!1}return r.validEnd}function joinable(t,n){return!!(t&&n&&!t.isLeaf&&canAppendWithSubstitutedLinebreaks(t,n))}function joinPoint(t,n,r=-1){let s=t.resolve(n);for(let o=s.depth;;o--){let l,c,p=s.index(o);if(o==s.depth?(l=s.nodeBefore,c=s.nodeAfter):r>0?(l=s.node(o+1),p++,c=s.node(o).maybeChild(p)):(l=s.node(o).maybeChild(p-1),c=s.node(o+1)),l&&!l.isTextblock&&joinable(l,c)&&s.node(o).canReplace(p,p+1))return n;if(o==0)break;n=r<0?s.before(o):s.after(o)}}function join(t,n,r){let s=null,{linebreakReplacement:o}=t.doc.type.schema,l=t.doc.resolve(n-r),c=l.node().type;if(o&&c.inlineContent){let b=c.whitespace=="pre",_=!!c.contentMatch.matchType(o);b&&!_?s=!1:!b&&_&&(s=!0)}let p=t.steps.length;if(s===!1){let b=t.doc.resolve(n+r);replaceLinebreaks(t,b.node(),b.before(),p)}c.inlineContent&&clearIncompatible(t,n+r-1,c,l.node().contentMatchAt(l.index()),s==null);let m=t.mapping.slice(p),x=m.map(n-r);if(t.step(new ReplaceStep(x,m.map(n+r,-1),Slice.empty,!0)),s===!0){let b=t.doc.resolve(x);replaceNewlines(t,b.node(),b.before(),t.steps.length)}return t}function insertPoint(t,n,r){let s=t.resolve(n);if(s.parent.canReplaceWith(s.index(),s.index(),r))return n;if(s.parentOffset==0)for(let o=s.depth-1;o>=0;o--){let l=s.index(o);if(s.node(o).canReplaceWith(l,l,r))return s.before(o+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let o=s.depth-1;o>=0;o--){let l=s.indexAfter(o);if(s.node(o).canReplaceWith(l,l,r))return s.after(o+1);if(l<s.node(o).childCount)return null}return null}function dropPoint(t,n,r){let s=t.resolve(n);if(!r.content.size)return n;let o=r.content;for(let l=0;l<r.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let c=s.depth;c>=0;c--){let p=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,m=s.index(c)+(p>0?1:0),x=s.node(c),b=!1;if(l==1)b=x.canReplace(m,m,o);else{let _=x.contentMatchAt(m).findWrapping(o.firstChild.type);b=_&&x.canReplaceWith(m,m,_[0])}if(b)return p==0?s.pos:p<0?s.before(c+1):s.after(c+1)}return null}function replaceStep(t,n,r=n,s=Slice.empty){if(n==r&&!s.size)return null;let o=t.resolve(n),l=t.resolve(r);return fitsTrivially(o,l,s)?new ReplaceStep(n,r,s):new Fitter(o,l,s).fit()}function fitsTrivially(t,n,r){return!r.openStart&&!r.openEnd&&t.start()==n.start()&&t.parent.canReplace(t.index(),n.index(),r.content)}class Fitter{constructor(n,r,s){this.$from=n,this.$to=r,this.unplaced=s,this.frontier=[],this.placed=Fragment.empty;for(let o=0;o<=n.depth;o++){let l=n.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(n.indexAfter(o))})}for(let o=n.depth;o>0;o--)this.placed=Fragment.from(n.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let x=this.findFittable();x?this.placeNodes(x):this.openMore()||this.dropNode()}let n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,s=this.$from,o=this.close(n<0?this.$to:s.doc.resolve(n));if(!o)return null;let l=this.placed,c=s.depth,p=o.depth;for(;c&&p&&l.childCount==1;)l=l.firstChild.content,c--,p--;let m=new Slice(l,c,p);return n>-1?new ReplaceAroundStep(s.pos,n,this.$to.pos,this.$to.end(),m,r):m.size||s.pos!=this.$to.pos?new ReplaceStep(s.pos,o.pos,m):null}findFittable(){let n=this.unplaced.openStart;for(let r=this.unplaced.content,s=0,o=this.unplaced.openEnd;s<n;s++){let l=r.firstChild;if(r.childCount>1&&(o=0),l.type.spec.isolating&&o<=s){n=s;break}r=l.content}for(let r=1;r<=2;r++)for(let s=r==1?n:this.unplaced.openStart;s>=0;s--){let o,l=null;s?(l=contentAt(this.unplaced.content,s-1).firstChild,o=l.content):o=this.unplaced.content;let c=o.firstChild;for(let p=this.depth;p>=0;p--){let{type:m,match:x}=this.frontier[p],b,_=null;if(r==1&&(c?x.matchType(c.type)||(_=x.fillBefore(Fragment.from(c),!1)):l&&m.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:p,parent:l,inject:_};if(r==2&&c&&(b=x.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:p,parent:l,wrap:b};if(l&&x.matchType(l.type))break}}}openMore(){let{content:n,openStart:r,openEnd:s}=this.unplaced,o=contentAt(n,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Slice(n,r+1,Math.max(s,o.size+r>=n.size-s?r+1:0)),!0)}dropNode(){let{content:n,openStart:r,openEnd:s}=this.unplaced,o=contentAt(n,r);if(o.childCount<=1&&r>0){let l=n.size-r<=r+o.size;this.unplaced=new Slice(dropFromFragment(n,r-1,1),r-1,l?r-1:s)}else this.unplaced=new Slice(dropFromFragment(n,r,1),r,s)}placeNodes({sliceDepth:n,frontierDepth:r,parent:s,inject:o,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let P=0;P<l.length;P++)this.openFrontierNode(l[P]);let c=this.unplaced,p=s?s.content:c.content,m=c.openStart-n,x=0,b=[],{match:_,type:R}=this.frontier[r];if(o){for(let P=0;P<o.childCount;P++)b.push(o.child(P));_=_.matchFragment(o)}let k=p.size+n-(c.content.size-c.openEnd);for(;x<p.childCount;){let P=p.child(x),K=_.matchType(P.type);if(!K)break;x++,(x>1||m==0||P.content.size)&&(_=K,b.push(closeNodeStart(P.mark(R.allowedMarks(P.marks)),x==1?m:0,x==p.childCount?k:-1)))}let M=x==p.childCount;M||(k=-1),this.placed=addToFragment(this.placed,r,Fragment.from(b)),this.frontier[r].match=_,M&&k<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let P=0,K=p;P<k;P++){let $=K.lastChild;this.frontier.push({type:$.type,match:$.contentMatchAt($.childCount)}),K=$.content}this.unplaced=M?n==0?Slice.empty:new Slice(dropFromFragment(c.content,n-1,1),n-1,k<0?c.openEnd:n-1):new Slice(dropFromFragment(c.content,n,x),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let n=this.frontier[this.depth],r;if(!n.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,n.type,n.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:s}=this.$to,o=this.$to.after(s);for(;s>1&&o==this.$to.end(--s);)++o;return o}findCloseLevel(n){e:for(let r=Math.min(this.depth,n.depth);r>=0;r--){let{match:s,type:o}=this.frontier[r],l=r<n.depth&&n.end(r+1)==n.pos+(n.depth-(r+1)),c=contentAfterFits(n,r,o,s,l);if(c){for(let p=r-1;p>=0;p--){let{match:m,type:x}=this.frontier[p],b=contentAfterFits(n,p,x,m,!0);if(!b||b.childCount)continue e}return{depth:r,fit:c,move:l?n.doc.resolve(n.after(r+1)):n}}}}close(n){let r=this.findCloseLevel(n);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=addToFragment(this.placed,r.depth,r.fit)),n=r.move;for(let s=r.depth+1;s<=n.depth;s++){let o=n.node(s),l=o.type.contentMatch.fillBefore(o.content,!0,n.index(s));this.openFrontierNode(o.type,o.attrs,l)}return n}openFrontierNode(n,r=null,s){let o=this.frontier[this.depth];o.match=o.match.matchType(n),this.placed=addToFragment(this.placed,this.depth,Fragment.from(n.create(r,s))),this.frontier.push({type:n,match:n.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Fragment.empty,!0);r.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,r))}}function dropFromFragment(t,n,r){return n==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,n-1,r)))}function addToFragment(t,n,r){return n==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,n-1,r)))}function contentAt(t,n){for(let r=0;r<n;r++)t=t.firstChild.content;return t}function closeNodeStart(t,n,r){if(n<=0)return t;let s=t.content;return n>1&&(s=s.replaceChild(0,closeNodeStart(s.firstChild,n-1,s.childCount==1?r-1:0))),n>0&&(s=t.type.contentMatch.fillBefore(s).append(s),r<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(Fragment.empty,!0)))),t.copy(s)}function contentAfterFits(t,n,r,s,o){let l=t.node(n),c=o?t.indexAfter(n):t.index(n);if(c==l.childCount&&!r.compatibleContent(l.type))return null;let p=s.fillBefore(l.content,!0,c);return p&&!invalidMarks(r,l.content,c)?p:null}function invalidMarks(t,n,r){for(let s=r;s<n.childCount;s++)if(!t.allowsMarks(n.child(s).marks))return!0;return!1}function definesContent(t){return t.spec.defining||t.spec.definingForContent}function replaceRange(t,n,r,s){if(!s.size)return t.deleteRange(n,r);let o=t.doc.resolve(n),l=t.doc.resolve(r);if(fitsTrivially(o,l,s))return t.step(new ReplaceStep(n,r,s));let c=coveredDepths(o,l);c[c.length-1]==0&&c.pop();let p=-(o.depth+1);c.unshift(p);for(let R=o.depth,k=o.pos-1;R>0;R--,k--){let M=o.node(R).type.spec;if(M.defining||M.definingAsContext||M.isolating)break;c.indexOf(R)>-1?p=R:o.before(R)==k&&c.splice(1,0,-R)}let m=c.indexOf(p),x=[],b=s.openStart;for(let R=s.content,k=0;;k++){let M=R.firstChild;if(x.push(M),k==s.openStart)break;R=M.content}for(let R=b-1;R>=0;R--){let k=x[R],M=definesContent(k.type);if(M&&!k.sameMarkup(o.node(Math.abs(p)-1)))b=R;else if(M||!k.type.isTextblock)break}for(let R=s.openStart;R>=0;R--){let k=(R+b+1)%(s.openStart+1),M=x[k];if(M)for(let P=0;P<c.length;P++){let K=c[(P+m)%c.length],$=!0;K<0&&($=!1,K=-K);let G=o.node(K-1),H=o.index(K-1);if(G.canReplaceWith(H,H,M.type,M.marks))return t.replace(o.before(K),$?l.after(K):r,new Slice(closeFragment(s.content,0,s.openStart,k),k,s.openEnd))}}let _=t.steps.length;for(let R=c.length-1;R>=0&&(t.replace(n,r,s),!(t.steps.length>_));R--){let k=c[R];k<0||(n=o.before(k),r=l.after(k))}}function closeFragment(t,n,r,s,o){if(n<r){let l=t.firstChild;t=t.replaceChild(0,l.copy(closeFragment(l.content,n+1,r,s,l)))}if(n>s){let l=o.contentMatchAt(0),c=l.fillBefore(t).append(t);t=c.append(l.matchFragment(c).fillBefore(Fragment.empty,!0))}return t}function replaceRangeWith(t,n,r,s){if(!s.isInline&&n==r&&t.doc.resolve(n).parent.content.size){let o=insertPoint(t.doc,n,s.type);o!=null&&(n=r=o)}t.replaceRange(n,r,new Slice(Fragment.from(s),0,0))}function deleteRange$1(t,n,r){let s=t.doc.resolve(n),o=t.doc.resolve(r),l=coveredDepths(s,o);for(let c=0;c<l.length;c++){let p=l[c],m=c==l.length-1;if(m&&p==0||s.node(p).type.contentMatch.validEnd)return t.delete(s.start(p),o.end(p));if(p>0&&(m||s.node(p-1).canReplace(s.index(p-1),o.indexAfter(p-1))))return t.delete(s.before(p),o.after(p))}for(let c=1;c<=s.depth&&c<=o.depth;c++)if(n-s.start(c)==s.depth-c&&r>s.end(c)&&o.end(c)-r!=o.depth-c&&s.start(c-1)==o.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),o.index(c-1)))return t.delete(s.before(c),r);t.delete(n,r)}function coveredDepths(t,n){let r=[],s=Math.min(t.depth,n.depth);for(let o=s;o>=0;o--){let l=t.start(o);if(l<t.pos-(t.depth-o)||n.end(o)>n.pos+(n.depth-o)||t.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(l==n.start(o)||o==t.depth&&o==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==l-1)&&r.push(o)}return r}class AttrStep extends Step{constructor(n,r,s){super(),this.pos=n,this.attr=r,this.value=s}apply(n){let r=n.nodeAt(this.pos);if(!r)return StepResult.fail("No node at attribute step's position");let s=Object.create(null);for(let l in r.attrs)s[l]=r.attrs[l];s[this.attr]=this.value;let o=r.type.create(s,null,r.marks);return StepResult.fromReplace(n,this.pos,this.pos+1,new Slice(Fragment.from(o),0,r.isLeaf?0:1))}getMap(){return StepMap.empty}invert(n){return new AttrStep(this.pos,this.attr,n.nodeAt(this.pos).attrs[this.attr])}map(n){let r=n.mapResult(this.pos,1);return r.deletedAfter?null:new AttrStep(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(n,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(r.pos,r.attr,r.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(n,r){super(),this.attr=n,this.value=r}apply(n){let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,n.content,n.marks);return StepResult.ok(s)}getMap(){return StepMap.empty}invert(n){return new DocAttrStep(this.attr,n.attrs[this.attr])}map(n){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(n,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(r.attr,r.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function t(n){let r=Error.call(this,n);return r.__proto__=t.prototype,r};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(n){this.doc=n,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(n){let r=this.maybeStep(n);if(r.failed)throw new TransformError(r.failed);return this}maybeStep(n){let r=n.apply(this.doc);return r.failed||this.addStep(n,r.doc),r}get docChanged(){return this.steps.length>0}addStep(n,r){this.docs.push(this.doc),this.steps.push(n),this.mapping.appendMap(n.getMap()),this.doc=r}replace(n,r=n,s=Slice.empty){let o=replaceStep(this.doc,n,r,s);return o&&this.step(o),this}replaceWith(n,r,s){return this.replace(n,r,new Slice(Fragment.from(s),0,0))}delete(n,r){return this.replace(n,r,Slice.empty)}insert(n,r){return this.replaceWith(n,n,r)}replaceRange(n,r,s){return replaceRange(this,n,r,s),this}replaceRangeWith(n,r,s){return replaceRangeWith(this,n,r,s),this}deleteRange(n,r){return deleteRange$1(this,n,r),this}lift(n,r){return lift$2(this,n,r),this}join(n,r=1){return join(this,n,r),this}wrap(n,r){return wrap(this,n,r),this}setBlockType(n,r=n,s,o=null){return setBlockType$1(this,n,r,s,o),this}setNodeMarkup(n,r,s=null,o){return setNodeMarkup(this,n,r,s,o),this}setNodeAttribute(n,r,s){return this.step(new AttrStep(n,r,s)),this}setDocAttribute(n,r){return this.step(new DocAttrStep(n,r)),this}addNodeMark(n,r){return this.step(new AddNodeMarkStep(n,r)),this}removeNodeMark(n,r){let s=this.doc.nodeAt(n);if(!s)throw new RangeError("No node at position "+n);if(r instanceof Mark$1)r.isInSet(s.marks)&&this.step(new RemoveNodeMarkStep(n,r));else{let o=s.marks,l,c=[];for(;l=r.isInSet(o);)c.push(new RemoveNodeMarkStep(n,l)),o=l.removeFromSet(o);for(let p=c.length-1;p>=0;p--)this.step(c[p])}return this}split(n,r=1,s){return split(this,n,r,s),this}addMark(n,r,s){return addMark(this,n,r,s),this}removeMark(n,r,s){return removeMark(this,n,r,s),this}clearIncompatible(n,r,s){return clearIncompatible(this,n,r,s),this}}const classesById=Object.create(null);class Selection{constructor(n,r,s){this.$anchor=n,this.$head=r,this.ranges=s||[new SelectionRange(n.min(r),n.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let n=this.ranges;for(let r=0;r<n.length;r++)if(n[r].$from.pos!=n[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(n,r=Slice.empty){let s=r.content.lastChild,o=null;for(let p=0;p<r.openEnd;p++)o=s,s=s.lastChild;let l=n.steps.length,c=this.ranges;for(let p=0;p<c.length;p++){let{$from:m,$to:x}=c[p],b=n.mapping.slice(l);n.replaceRange(b.map(m.pos),b.map(x.pos),p?Slice.empty:r),p==0&&selectionToInsertionEnd$1(n,l,(s?s.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(n,r){let s=n.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:p}=o[l],m=n.mapping.slice(s),x=m.map(c.pos),b=m.map(p.pos);l?n.deleteRange(x,b):(n.replaceRangeWith(x,b,r),selectionToInsertionEnd$1(n,s,r.isInline?-1:1))}}static findFrom(n,r,s=!1){let o=n.parent.inlineContent?new TextSelection(n):findSelectionIn(n.node(0),n.parent,n.pos,n.index(),r,s);if(o)return o;for(let l=n.depth-1;l>=0;l--){let c=r<0?findSelectionIn(n.node(0),n.node(l),n.before(l+1),n.index(l),r,s):findSelectionIn(n.node(0),n.node(l),n.after(l+1),n.index(l)+1,r,s);if(c)return c}return null}static near(n,r=1){return this.findFrom(n,r)||this.findFrom(n,-r)||new AllSelection(n.node(0))}static atStart(n){return findSelectionIn(n,n,0,0,1)||new AllSelection(n)}static atEnd(n){return findSelectionIn(n,n,n.content.size,n.childCount,-1)||new AllSelection(n)}static fromJSON(n,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=classesById[r.type];if(!s)throw new RangeError(`No selection type ${r.type} defined`);return s.fromJSON(n,r)}static jsonID(n,r){if(n in classesById)throw new RangeError("Duplicate use of selection JSON ID "+n);return classesById[n]=r,r.prototype.jsonID=n,r}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(n,r){this.$from=n,this.$to=r}}let warnedAboutTextSelection=!1;function checkTextSelection(t){!warnedAboutTextSelection&&!t.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class TextSelection extends Selection{constructor(n,r=n){checkTextSelection(n),checkTextSelection(r),super(n,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(n,r){let s=n.resolve(r.map(this.head));if(!s.parent.inlineContent)return Selection.near(s);let o=n.resolve(r.map(this.anchor));return new TextSelection(o.parent.inlineContent?o:s,s)}replace(n,r=Slice.empty){if(super.replace(n,r),r==Slice.empty){let s=this.$from.marksAcross(this.$to);s&&n.ensureMarks(s)}}eq(n){return n instanceof TextSelection&&n.anchor==this.anchor&&n.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(n,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(n.resolve(r.anchor),n.resolve(r.head))}static create(n,r,s=r){let o=n.resolve(r);return new this(o,s==r?o:n.resolve(s))}static between(n,r,s){let o=n.pos-r.pos;if((!s||o)&&(s=o>=0?1:-1),!r.parent.inlineContent){let l=Selection.findFrom(r,s,!0)||Selection.findFrom(r,-s,!0);if(l)r=l.$head;else return Selection.near(r,s)}return n.parent.inlineContent||(o==0?n=r:(n=(Selection.findFrom(n,-s,!0)||Selection.findFrom(n,s,!0)).$anchor,n.pos<r.pos!=o<0&&(n=r))),new TextSelection(n,r)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(n,r){this.anchor=n,this.head=r}map(n){return new TextBookmark(n.map(this.anchor),n.map(this.head))}resolve(n){return TextSelection.between(n.resolve(this.anchor),n.resolve(this.head))}}class NodeSelection extends Selection{constructor(n){let r=n.nodeAfter,s=n.node(0).resolve(n.pos+r.nodeSize);super(n,s),this.node=r}map(n,r){let{deleted:s,pos:o}=r.mapResult(this.anchor),l=n.resolve(o);return s?Selection.near(l):new NodeSelection(l)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(n){return n instanceof NodeSelection&&n.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(n,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(n.resolve(r.anchor))}static create(n,r){return new NodeSelection(n.resolve(r))}static isSelectable(n){return!n.isText&&n.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(n){this.anchor=n}map(n){let{deleted:r,pos:s}=n.mapResult(this.anchor);return r?new TextBookmark(s,s):new NodeBookmark(s)}resolve(n){let r=n.resolve(this.anchor),s=r.nodeAfter;return s&&NodeSelection.isSelectable(s)?new NodeSelection(r):Selection.near(r)}}class AllSelection extends Selection{constructor(n){super(n.resolve(0),n.resolve(n.content.size))}replace(n,r=Slice.empty){if(r==Slice.empty){n.delete(0,n.doc.content.size);let s=Selection.atStart(n.doc);s.eq(n.selection)||n.setSelection(s)}else super.replace(n,r)}toJSON(){return{type:"all"}}static fromJSON(n){return new AllSelection(n)}map(n){return new AllSelection(n)}eq(n){return n instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(t){return new AllSelection(t)}};function findSelectionIn(t,n,r,s,o,l=!1){if(n.inlineContent)return TextSelection.create(t,r);for(let c=s-(o>0?0:1);o>0?c<n.childCount:c>=0;c+=o){let p=n.child(c);if(p.isAtom){if(!l&&NodeSelection.isSelectable(p))return NodeSelection.create(t,r-(o<0?p.nodeSize:0))}else{let m=findSelectionIn(t,p,r+o,o<0?p.childCount:0,o,l);if(m)return m}r+=p.nodeSize*o}return null}function selectionToInsertionEnd$1(t,n,r){let s=t.steps.length-1;if(s<n)return;let o=t.steps[s];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;let l=t.mapping.maps[s],c;l.forEach((p,m,x,b)=>{c==null&&(c=b)}),t.setSelection(Selection.near(t.doc.resolve(c),r))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(n){super(n.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=n.selection,this.storedMarks=n.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(n){if(n.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=n,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(n){return this.storedMarks=n,this.updated|=UPDATED_MARKS,this}ensureMarks(n){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),n)||this.setStoredMarks(n),this}addStoredMark(n){return this.ensureMarks(n.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(n){return this.ensureMarks(n.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(n,r){super.addStep(n,r),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(n){return this.time=n,this}replaceSelection(n){return this.selection.replace(this,n),this}replaceSelectionWith(n,r=!0){let s=this.selection;return r&&(n=n.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Mark$1.none))),s.replaceWith(this,n),this}deleteSelection(){return this.selection.replace(this),this}insertText(n,r,s){let o=this.doc.type.schema;if(r==null)return n?this.replaceSelectionWith(o.text(n),!0):this.deleteSelection();{if(s==null&&(s=r),!n)return this.deleteRange(r,s);let l=this.storedMarks;if(!l){let c=this.doc.resolve(r);l=s==r?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(r,s,o.text(n,l)),!this.selection.empty&&this.selection.to==r+n.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(n,r){return this.meta[typeof n=="string"?n:n.key]=r,this}getMeta(n){return this.meta[typeof n=="string"?n:n.key]}get isGeneric(){for(let n in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(t,n){return!n||!t?t:t.bind(n)}class FieldDesc{constructor(n,r,s){this.name=n,this.init=bind(r.init,s),this.apply=bind(r.apply,s)}}const baseFields=[new FieldDesc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new FieldDesc("selection",{init(t,n){return t.selection||Selection.atStart(n.doc)},apply(t){return t.selection}}),new FieldDesc("storedMarks",{init(t){return t.storedMarks||null},apply(t,n,r,s){return s.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(t,n){return t.scrolledIntoView?n+1:n}})];class Configuration{constructor(n,r){this.schema=n,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),r&&r.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new FieldDesc(s.key,s.spec.state,s))})}}class EditorState{constructor(n){this.config=n}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(n){return this.applyTransaction(n).state}filterTransaction(n,r=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=r){let o=this.config.plugins[s];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,n,this))return!1}return!0}applyTransaction(n){if(!this.filterTransaction(n))return{state:this,transactions:[]};let r=[n],s=this.applyInner(n),o=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let p=this.config.plugins[c];if(p.spec.appendTransaction){let m=o?o[c].n:0,x=o?o[c].state:this,b=m<r.length&&p.spec.appendTransaction.call(p,m?r.slice(m):r,x,s);if(b&&s.filterTransaction(b,c)){if(b.setMeta("appendedTransaction",n),!o){o=[];for(let _=0;_<this.config.plugins.length;_++)o.push(_<c?{state:s,n:r.length}:{state:this,n:0})}r.push(b),s=s.applyInner(b),l=!0}o&&(o[c]={state:s,n:r.length})}}if(!l)return{state:s,transactions:r}}}applyInner(n){if(!n.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new EditorState(this.config),s=this.config.fields;for(let o=0;o<s.length;o++){let l=s[o];r[l.name]=l.apply(n,this[l.name],this,r)}return r}get tr(){return new Transaction(this)}static create(n){let r=new Configuration(n.doc?n.doc.type.schema:n.schema,n.plugins),s=new EditorState(r);for(let o=0;o<r.fields.length;o++)s[r.fields[o].name]=r.fields[o].init(n,s);return s}reconfigure(n){let r=new Configuration(this.schema,n.plugins),s=r.fields,o=new EditorState(r);for(let l=0;l<s.length;l++){let c=s[l].name;o[c]=this.hasOwnProperty(c)?this[c]:s[l].init(n,o)}return o}toJSON(n){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(s=>s.toJSON())),n&&typeof n=="object")for(let s in n){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=n[s],l=o.spec.state;l&&l.toJSON&&(r[s]=l.toJSON.call(o,this[o.key]))}return r}static fromJSON(n,r,s){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!n.schema)throw new RangeError("Required config field 'schema' missing");let o=new Configuration(n.schema,n.plugins),l=new EditorState(o);return o.fields.forEach(c=>{if(c.name=="doc")l.doc=Node$1.fromJSON(n.schema,r.doc);else if(c.name=="selection")l.selection=Selection.fromJSON(l.doc,r.selection);else if(c.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(n.schema.markFromJSON));else{if(s)for(let p in s){let m=s[p],x=m.spec.state;if(m.key==c.name&&x&&x.fromJSON&&Object.prototype.hasOwnProperty.call(r,p)){l[c.name]=x.fromJSON.call(m,n,r[p],l);return}}l[c.name]=c.init(n,l)}}),l}}function bindProps(t,n,r){for(let s in t){let o=t[s];o instanceof Function?o=o.bind(n):s=="handleDOMEvents"&&(o=bindProps(o,n,{})),r[s]=o}return r}class Plugin{constructor(n){this.spec=n,this.props={},n.props&&bindProps(n.props,this,this.props),this.key=n.key?n.key.key:createKey("plugin")}getState(n){return n[this.key]}}const keys=Object.create(null);function createKey(t){return t in keys?t+"$"+ ++keys[t]:(keys[t]=0,t+"$")}class PluginKey{constructor(n="key"){this.key=createKey(n)}get(n){return n.config.pluginsByKey[this.key]}getState(n){return n[this.key]}}const deleteSelection$1=(t,n)=>t.selection.empty?!1:(n&&n(t.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(t,n){let{$cursor:r}=t.selection;return!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const joinBackward$1=(t,n,r)=>{let s=atBlockStart(t,r);if(!s)return!1;let o=findCutBefore(s);if(!o){let c=s.blockRange(),p=c&&liftTarget(c);return p==null?!1:(n&&n(t.tr.lift(c,p).scrollIntoView()),!0)}let l=o.nodeBefore;if(deleteBarrier(t,o,n,-1))return!0;if(s.parent.content.size==0&&(textblockAt(l,"end")||NodeSelection.isSelectable(l)))for(let c=s.depth;;c--){let p=replaceStep(t.doc,s.before(c),s.after(c),Slice.empty);if(p&&p.slice.size<p.to-p.from){if(n){let m=t.tr.step(p);m.setSelection(textblockAt(l,"end")?Selection.findFrom(m.doc.resolve(m.mapping.map(o.pos,-1)),-1):NodeSelection.create(m.doc,o.pos-l.nodeSize)),n(m.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return l.isAtom&&o.depth==s.depth-1?(n&&n(t.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(t,n,r)=>{let s=atBlockStart(t,r);if(!s)return!1;let o=findCutBefore(s);return o?joinTextblocksAround(t,o,n):!1},joinTextblockForward$1=(t,n,r)=>{let s=atBlockEnd(t,r);if(!s)return!1;let o=findCutAfter(s);return o?joinTextblocksAround(t,o,n):!1};function joinTextblocksAround(t,n,r){let s=n.nodeBefore,o=s,l=n.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let b=o.lastChild;if(!b)return!1;o=b}let c=n.nodeAfter,p=c,m=n.pos+1;for(;!p.isTextblock;m++){if(p.type.spec.isolating)return!1;let b=p.firstChild;if(!b)return!1;p=b}let x=replaceStep(t.doc,l,m,Slice.empty);if(!x||x.from!=l||x instanceof ReplaceStep&&x.slice.size>=m-l)return!1;if(r){let b=t.tr.step(x);b.setSelection(TextSelection.create(b.doc,l)),r(b.scrollIntoView())}return!0}function textblockAt(t,n,r=!1){for(let s=t;s;s=n=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&s.childCount!=1)return!1}return!1}const selectNodeBackward$1=(t,n,r)=>{let{$head:s,empty:o}=t.selection,l=s;if(!o)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):s.parentOffset>0)return!1;l=findCutBefore(s)}let c=l&&l.nodeBefore;return!c||!NodeSelection.isSelectable(c)?!1:(n&&n(t.tr.setSelection(NodeSelection.create(t.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){if(t.index(n)>0)return t.doc.resolve(t.before(n+1));if(t.node(n).type.spec.isolating)break}return null}function atBlockEnd(t,n){let{$cursor:r}=t.selection;return!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const joinForward$1=(t,n,r)=>{let s=atBlockEnd(t,r);if(!s)return!1;let o=findCutAfter(s);if(!o)return!1;let l=o.nodeAfter;if(deleteBarrier(t,o,n,1))return!0;if(s.parent.content.size==0&&(textblockAt(l,"start")||NodeSelection.isSelectable(l))){let c=replaceStep(t.doc,s.before(),s.after(),Slice.empty);if(c&&c.slice.size<c.to-c.from){if(n){let p=t.tr.step(c);p.setSelection(textblockAt(l,"start")?Selection.findFrom(p.doc.resolve(p.mapping.map(o.pos)),1):NodeSelection.create(p.doc,p.mapping.map(o.pos))),n(p.scrollIntoView())}return!0}}return l.isAtom&&o.depth==s.depth-1?(n&&n(t.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(t,n,r)=>{let{$head:s,empty:o}=t.selection,l=s;if(!o)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;l=findCutAfter(s)}let c=l&&l.nodeAfter;return!c||!NodeSelection.isSelectable(c)?!1:(n&&n(t.tr.setSelection(NodeSelection.create(t.doc,l.pos)).scrollIntoView()),!0)};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){let r=t.node(n);if(t.index(n)+1<r.childCount)return t.doc.resolve(t.after(n+1));if(r.type.spec.isolating)break}return null}const joinUp$1=(t,n)=>{let r=t.selection,s=r instanceof NodeSelection,o;if(s){if(r.node.isTextblock||!canJoin(t.doc,r.from))return!1;o=r.from}else if(o=joinPoint(t.doc,r.from,-1),o==null)return!1;if(n){let l=t.tr.join(o);s&&l.setSelection(NodeSelection.create(l.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),n(l.scrollIntoView())}return!0},joinDown$1=(t,n)=>{let r=t.selection,s;if(r instanceof NodeSelection){if(r.node.isTextblock||!canJoin(t.doc,r.to))return!1;s=r.to}else if(s=joinPoint(t.doc,r.to,1),s==null)return!1;return n&&n(t.tr.join(s).scrollIntoView()),!0},lift$1=(t,n)=>{let{$from:r,$to:s}=t.selection,o=r.blockRange(s),l=o&&liftTarget(o);return l==null?!1:(n&&n(t.tr.lift(o,l).scrollIntoView()),!0)},newlineInCode$1=(t,n)=>{let{$head:r,$anchor:s}=t.selection;return!r.parent.type.spec.code||!r.sameParent(s)?!1:(n&&n(t.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(t){for(let n=0;n<t.edgeCount;n++){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const exitCode$1=(t,n)=>{let{$head:r,$anchor:s}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let o=r.node(-1),l=r.indexAfter(-1),c=defaultBlockAt$1(o.contentMatchAt(l));if(!c||!o.canReplaceWith(l,l,c))return!1;if(n){let p=r.after(),m=t.tr.replaceWith(p,p,c.createAndFill());m.setSelection(Selection.near(m.doc.resolve(p),1)),n(m.scrollIntoView())}return!0},createParagraphNear$1=(t,n)=>{let r=t.selection,{$from:s,$to:o}=r;if(r instanceof AllSelection||s.parent.inlineContent||o.parent.inlineContent)return!1;let l=defaultBlockAt$1(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(n){let c=(!s.parentOffset&&o.index()<o.parent.childCount?s:o).pos,p=t.tr.insert(c,l.createAndFill());p.setSelection(TextSelection.create(p.doc,c+1)),n(p.scrollIntoView())}return!0},liftEmptyBlock$1=(t,n)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(canSplit(t.doc,l))return n&&n(t.tr.split(l).scrollIntoView()),!0}let s=r.blockRange(),o=s&&liftTarget(s);return o==null?!1:(n&&n(t.tr.lift(s,o).scrollIntoView()),!0)};function splitBlockAs(t){return(n,r)=>{let{$from:s,$to:o}=n.selection;if(n.selection instanceof NodeSelection&&n.selection.node.isBlock)return!s.parentOffset||!canSplit(n.doc,s.pos)?!1:(r&&r(n.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let l=[],c,p,m=!1,x=!1;for(let k=s.depth;;k--)if(s.node(k).isBlock){m=s.end(k)==s.pos+(s.depth-k),x=s.start(k)==s.pos-(s.depth-k),p=defaultBlockAt$1(s.node(k-1).contentMatchAt(s.indexAfter(k-1))),l.unshift(m&&p?{type:p}:null),c=k;break}else{if(k==1)return!1;l.unshift(null)}let b=n.tr;(n.selection instanceof TextSelection||n.selection instanceof AllSelection)&&b.deleteSelection();let _=b.mapping.map(s.pos),R=canSplit(b.doc,_,l.length,l);if(R||(l[0]=p?{type:p}:null,R=canSplit(b.doc,_,l.length,l)),!R)return!1;if(b.split(_,l.length,l),!m&&x&&s.node(c).type!=p){let k=b.mapping.map(s.before(c)),M=b.doc.resolve(k);p&&s.node(c-1).canReplaceWith(M.index(),M.index()+1,p)&&b.setNodeMarkup(b.mapping.map(s.before(c)),p)}return r&&r(b.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(t,n)=>{let{$from:r,to:s}=t.selection,o,l=r.sharedDepth(s);return l==0?!1:(o=r.before(l),n&&n(t.tr.setSelection(NodeSelection.create(t.doc,o))),!0)};function joinMaybeClear(t,n,r){let s=n.nodeBefore,o=n.nodeAfter,l=n.index();return!s||!o||!s.type.compatibleContent(o.type)?!1:!s.content.size&&n.parent.canReplace(l-1,l)?(r&&r(t.tr.delete(n.pos-s.nodeSize,n.pos).scrollIntoView()),!0):!n.parent.canReplace(l,l+1)||!(o.isTextblock||canJoin(t.doc,n.pos))?!1:(r&&r(t.tr.join(n.pos).scrollIntoView()),!0)}function deleteBarrier(t,n,r,s){let o=n.nodeBefore,l=n.nodeAfter,c,p,m=o.type.spec.isolating||l.type.spec.isolating;if(!m&&joinMaybeClear(t,n,r))return!0;let x=!m&&n.parent.canReplace(n.index(),n.index()+1);if(x&&(c=(p=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&p.matchType(c[0]||l.type).validEnd){if(r){let k=n.pos+l.nodeSize,M=Fragment.empty;for(let $=c.length-1;$>=0;$--)M=Fragment.from(c[$].create(null,M));M=Fragment.from(o.copy(M));let P=t.tr.step(new ReplaceAroundStep(n.pos-1,k,n.pos,k,new Slice(M,1,0),c.length,!0)),K=P.doc.resolve(k+2*c.length);K.nodeAfter&&K.nodeAfter.type==o.type&&canJoin(P.doc,K.pos)&&P.join(K.pos),r(P.scrollIntoView())}return!0}let b=l.type.spec.isolating||s>0&&m?null:Selection.findFrom(n,1),_=b&&b.$from.blockRange(b.$to),R=_&&liftTarget(_);if(R!=null&&R>=n.depth)return r&&r(t.tr.lift(_,R).scrollIntoView()),!0;if(x&&textblockAt(l,"start",!0)&&textblockAt(o,"end")){let k=o,M=[];for(;M.push(k),!k.isTextblock;)k=k.lastChild;let P=l,K=1;for(;!P.isTextblock;P=P.firstChild)K++;if(k.canReplace(k.childCount,k.childCount,P.content)){if(r){let $=Fragment.empty;for(let H=M.length-1;H>=0;H--)$=Fragment.from(M[H].copy($));let G=t.tr.step(new ReplaceAroundStep(n.pos-M.length,n.pos+l.nodeSize,n.pos+K,n.pos+l.nodeSize-K,new Slice($,M.length,0),0,!0));r(G.scrollIntoView())}return!0}}return!1}function selectTextblockSide(t){return function(n,r){let s=n.selection,o=t<0?s.$from:s.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(r&&r(n.tr.setSelection(TextSelection.create(n.doc,t<0?o.start(l):o.end(l)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(t,n=null){return function(r,s){let{$from:o,$to:l}=r.selection,c=o.blockRange(l),p=c&&findWrapping(c,t,n);return p?(s&&s(r.tr.wrap(c,p).scrollIntoView()),!0):!1}}function setBlockType(t,n=null){return function(r,s){let o=!1;for(let l=0;l<r.selection.ranges.length&&!o;l++){let{$from:{pos:c},$to:{pos:p}}=r.selection.ranges[l];r.doc.nodesBetween(c,p,(m,x)=>{if(o)return!1;if(!(!m.isTextblock||m.hasMarkup(t,n)))if(m.type==t)o=!0;else{let b=r.doc.resolve(x),_=b.index();o=b.parent.canReplaceWith(_,_+1,t)}})}if(!o)return!1;if(s){let l=r.tr;for(let c=0;c<r.selection.ranges.length;c++){let{$from:{pos:p},$to:{pos:m}}=r.selection.ranges[c];l.setBlockType(p,m,t,n)}s(l.scrollIntoView())}return!0}}function chainCommands(...t){return function(n,r,s){for(let o=0;o<t.length;o++)if(t[o](n,r,s))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(t,n=null){return function(r,s){let{$from:o,$to:l}=r.selection,c=o.blockRange(l);if(!c)return!1;let p=s?r.tr:null;return wrapRangeInList(p,c,t,n)?(s&&s(p.scrollIntoView()),!0):!1}}function wrapRangeInList(t,n,r,s=null){let o=!1,l=n,c=n.$from.doc;if(n.depth>=2&&n.$from.node(n.depth-1).type.compatibleContent(r)&&n.startIndex==0){if(n.$from.index(n.depth-1)==0)return!1;let m=c.resolve(n.start-2);l=new NodeRange(m,m,n.depth),n.endIndex<n.parent.childCount&&(n=new NodeRange(n.$from,c.resolve(n.$to.end(n.depth)),n.depth)),o=!0}let p=findWrapping(l,r,s,n);return p?(t&&doWrapInList(t,n,p,o,r),!0):!1}function doWrapInList(t,n,r,s,o){let l=Fragment.empty;for(let b=r.length-1;b>=0;b--)l=Fragment.from(r[b].type.create(r[b].attrs,l));t.step(new ReplaceAroundStep(n.start-(s?2:0),n.end,n.start,n.end,new Slice(l,0,0),r.length,!0));let c=0;for(let b=0;b<r.length;b++)r[b].type==o&&(c=b+1);let p=r.length-c,m=n.start+r.length-(s?2:0),x=n.parent;for(let b=n.startIndex,_=n.endIndex,R=!0;b<_;b++,R=!1)!R&&canSplit(t.doc,m,p)&&(t.split(m,p),m+=2*p),m+=x.child(b).nodeSize;return t}function liftListItem$1(t){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);return l?r?s.node(l.depth-1).type==t?liftToOuterList(n,r,t,l):liftOutOfList(n,r,l):!0:!1}}function liftToOuterList(t,n,r,s){let o=t.tr,l=s.end,c=s.$to.end(s.depth);l<c&&(o.step(new ReplaceAroundStep(l-1,c,l,c,new Slice(Fragment.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new NodeRange(o.doc.resolve(s.$from.pos),o.doc.resolve(c),s.depth));const p=liftTarget(s);if(p==null)return!1;o.lift(s,p);let m=o.doc.resolve(o.mapping.map(l,-1)-1);return canJoin(o.doc,m.pos)&&m.nodeBefore.type==m.nodeAfter.type&&o.join(m.pos),n(o.scrollIntoView()),!0}function liftOutOfList(t,n,r){let s=t.tr,o=r.parent;for(let k=r.end,M=r.endIndex-1,P=r.startIndex;M>P;M--)k-=o.child(M).nodeSize,s.delete(k-1,k+1);let l=s.doc.resolve(r.start),c=l.nodeAfter;if(s.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let p=r.startIndex==0,m=r.endIndex==o.childCount,x=l.node(-1),b=l.index(-1);if(!x.canReplace(b+(p?0:1),b+1,c.content.append(m?Fragment.empty:Fragment.from(o))))return!1;let _=l.pos,R=_+c.nodeSize;return s.step(new ReplaceAroundStep(_-(p?1:0),R+(m?1:0),_+1,R-1,new Slice((p?Fragment.empty:Fragment.from(o.copy(Fragment.empty))).append(m?Fragment.empty:Fragment.from(o.copy(Fragment.empty))),p?0:1,m?0:1),p?0:1)),n(s.scrollIntoView()),!0}function sinkListItem$1(t){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o,x=>x.childCount>0&&x.firstChild.type==t);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let p=l.parent,m=p.child(c-1);if(m.type!=t)return!1;if(r){let x=m.lastChild&&m.lastChild.type==p.type,b=Fragment.from(x?t.create():null),_=new Slice(Fragment.from(t.create(null,Fragment.from(p.type.create(null,b)))),x?3:1,0),R=l.start,k=l.end;r(n.tr.step(new ReplaceAroundStep(R-(x?3:1),k,R,k,_,1,!0)).scrollIntoView())}return!0}}const domIndex=function(t){for(var n=0;;n++)if(t=t.previousSibling,!t)return n},parentNode=function(t){let n=t.assignedSlot||t.parentNode;return n&&n.nodeType==11?n.host:n};let reusedRange=null;const textRange=function(t,n,r){let s=reusedRange||(reusedRange=document.createRange());return s.setEnd(t,r??t.nodeValue.length),s.setStart(t,n||0),s},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(t,n,r,s){return r&&(scanFor(t,n,r,s,-1)||scanFor(t,n,r,s,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(t,n,r,s,o){for(var l;;){if(t==r&&n==s)return!0;if(n==(o<0?0:nodeSize(t))){let c=t.parentNode;if(!c||c.nodeType!=1||hasBlockDesc(t)||atomElements.test(t.nodeName)||t.contentEditable=="false")return!1;n=domIndex(t)+(o<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[n+(o<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)n+=o;else return!1;else t=c,n=o<0?nodeSize(t):0}else return!1}}function nodeSize(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function textNodeBefore$1(t,n){for(;;){if(t.nodeType==3&&n)return t;if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=nodeSize(t)}else if(t.parentNode&&!hasBlockDesc(t))n=domIndex(t),t=t.parentNode;else return null}}function textNodeAfter$1(t,n){for(;;){if(t.nodeType==3&&n<t.nodeValue.length)return t;if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!hasBlockDesc(t))n=domIndex(t)+1,t=t.parentNode;else return null}}function isOnEdge(t,n,r){for(let s=n==0,o=n==nodeSize(t);s||o;){if(t==r)return!0;let l=domIndex(t);if(t=t.parentNode,!t)return!1;s=s&&l==0,o=o&&l==nodeSize(t)}}function hasBlockDesc(t){let n;for(let r=t;r&&!(n=r.pmViewDesc);r=r.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}const selectionCollapsed=function(t){return t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function keyEvent(t,n){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=n,r}function deepActiveElement(t){let n=t.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function caretFromPoint(t,n,r){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(n,r);if(s)return{node:s.offsetNode,offset:Math.min(nodeSize(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(n,r);if(s)return{node:s.startContainer,offset:Math.min(nodeSize(s.startContainer),s.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome$1=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(t){let n=t.defaultView&&t.defaultView.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function getSide(t,n){return typeof t=="number"?t:t[n]}function clientRect(t){let n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,s=n.height/t.offsetHeight||1;return{left:n.left,right:n.left+t.clientWidth*r,top:n.top,bottom:n.top+t.clientHeight*s}}function scrollRectIntoView(t,n,r){let s=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let c=r||t.dom;c;){if(c.nodeType!=1){c=parentNode(c);continue}let p=c,m=p==l.body,x=m?windowRect(l):clientRect(p),b=0,_=0;if(n.top<x.top+getSide(s,"top")?_=-(x.top-n.top+getSide(o,"top")):n.bottom>x.bottom-getSide(s,"bottom")&&(_=n.bottom-n.top>x.bottom-x.top?n.top+getSide(o,"top")-x.top:n.bottom-x.bottom+getSide(o,"bottom")),n.left<x.left+getSide(s,"left")?b=-(x.left-n.left+getSide(o,"left")):n.right>x.right-getSide(s,"right")&&(b=n.right-x.right+getSide(o,"right")),b||_)if(m)l.defaultView.scrollBy(b,_);else{let k=p.scrollLeft,M=p.scrollTop;_&&(p.scrollTop+=_),b&&(p.scrollLeft+=b);let P=p.scrollLeft-k,K=p.scrollTop-M;n={left:n.left-P,top:n.top-K,right:n.right-P,bottom:n.bottom-K}}let R=m?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(R))break;c=R=="absolute"?c.offsetParent:parentNode(c)}}function storeScrollPos(t){let n=t.dom.getBoundingClientRect(),r=Math.max(0,n.top),s,o;for(let l=(n.left+n.right)/2,c=r+1;c<Math.min(innerHeight,n.bottom);c+=5){let p=t.root.elementFromPoint(l,c);if(!p||p==t.dom||!t.dom.contains(p))continue;let m=p.getBoundingClientRect();if(m.top>=r-20){s=p,o=m.top;break}}return{refDOM:s,refTop:o,stack:scrollStack(t.dom)}}function scrollStack(t){let n=[],r=t.ownerDocument;for(let s=t;s&&(n.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=r);s=parentNode(s));return n}function resetScrollPos({refDOM:t,refTop:n,stack:r}){let s=t?t.getBoundingClientRect().top:0;restoreScrollStack(r,s==0?0:s-n)}function restoreScrollStack(t,n){for(let r=0;r<t.length;r++){let{dom:s,top:o,left:l}=t[r];s.scrollTop!=o+n&&(s.scrollTop=o+n),s.scrollLeft!=l&&(s.scrollLeft=l)}}let preventScrollSupported=null;function focusPreventScroll(t){if(t.setActive)return t.setActive();if(preventScrollSupported)return t.focus(preventScrollSupported);let n=scrollStack(t);t.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(n,0))}function findOffsetInNode(t,n){let r,s=2e8,o,l=0,c=n.top,p=n.top,m,x;for(let b=t.firstChild,_=0;b;b=b.nextSibling,_++){let R;if(b.nodeType==1)R=b.getClientRects();else if(b.nodeType==3)R=textRange(b).getClientRects();else continue;for(let k=0;k<R.length;k++){let M=R[k];if(M.top<=c&&M.bottom>=p){c=Math.max(M.bottom,c),p=Math.min(M.top,p);let P=M.left>n.left?M.left-n.left:M.right<n.left?n.left-M.right:0;if(P<s){r=b,s=P,o=P&&r.nodeType==3?{left:M.right<n.left?M.right:M.left,top:n.top}:n,b.nodeType==1&&P&&(l=_+(n.left>=(M.left+M.right)/2?1:0));continue}}else M.top>n.top&&!m&&M.left<=n.left&&M.right>=n.left&&(m=b,x={left:Math.max(M.left,Math.min(M.right,n.left)),top:M.top});!r&&(n.left>=M.right&&n.top>=M.top||n.left>=M.left&&n.top>=M.bottom)&&(l=_+1)}}return!r&&m&&(r=m,o=x,s=0),r&&r.nodeType==3?findOffsetInText(r,o):!r||s&&r.nodeType==1?{node:t,offset:l}:findOffsetInNode(r,o)}function findOffsetInText(t,n){let r=t.nodeValue.length,s=document.createRange();for(let o=0;o<r;o++){s.setEnd(t,o+1),s.setStart(t,o);let l=singleRect(s,1);if(l.top!=l.bottom&&inRect(n,l))return{node:t,offset:o+(n.left>=(l.left+l.right)/2?1:0)}}return{node:t,offset:0}}function inRect(t,n){return t.left>=n.left-1&&t.left<=n.right+1&&t.top>=n.top-1&&t.top<=n.bottom+1}function targetKludge(t,n){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&n.left<t.getBoundingClientRect().left?r:t}function posFromElement(t,n,r){let{node:s,offset:o}=findOffsetInNode(n,r),l=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();l=c.left!=c.right&&r.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(s,o,l)}function posFromCaret(t,n,r,s){let o=-1;for(let l=n,c=!1;l!=t.dom;){let p=t.docView.nearestDesc(l,!0),m;if(!p)return null;if(p.dom.nodeType==1&&(p.node.isBlock&&p.parent||!p.contentDOM)&&((m=p.dom.getBoundingClientRect()).width||m.height)&&(p.node.isBlock&&p.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(p.dom.nodeName)&&(!c&&m.left>s.left||m.top>s.top?o=p.posBefore:(!c&&m.right<s.left||m.bottom<s.top)&&(o=p.posAfter),c=!0),!p.contentDOM&&o<0&&!p.node.isText))return(p.node.isBlock?s.top<(m.top+m.bottom)/2:s.left<(m.left+m.right)/2)?p.posBefore:p.posAfter;l=p.dom.parentNode}return o>-1?o:t.docView.posFromDOM(n,r,-1)}function elementFromPoint(t,n,r){let s=t.childNodes.length;if(s&&r.top<r.bottom)for(let o=Math.max(0,Math.min(s-1,Math.floor(s*(n.top-r.top)/(r.bottom-r.top))-2)),l=o;;){let c=t.childNodes[l];if(c.nodeType==1){let p=c.getClientRects();for(let m=0;m<p.length;m++){let x=p[m];if(inRect(n,x))return elementFromPoint(c,n,x)}}if((l=(l+1)%s)==o)break}return t}function posAtCoords(t,n){let r=t.dom.ownerDocument,s,o=0,l=caretFromPoint(r,n.left,n.top);l&&({node:s,offset:o}=l);let c=(t.root.elementFromPoint?t.root:r).elementFromPoint(n.left,n.top),p;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let x=t.dom.getBoundingClientRect();if(!inRect(n,x)||(c=elementFromPoint(t.dom,n,x),!c))return null}if(safari)for(let x=c;s&&x;x=parentNode(x))x.draggable&&(s=void 0);if(c=targetKludge(c,n),s){if(gecko&&s.nodeType==1&&(o=Math.min(o,s.childNodes.length),o<s.childNodes.length)){let b=s.childNodes[o],_;b.nodeName=="IMG"&&(_=b.getBoundingClientRect()).right<=n.left&&_.bottom>n.top&&o++}let x;webkit&&o&&s.nodeType==1&&(x=s.childNodes[o-1]).nodeType==1&&x.contentEditable=="false"&&x.getBoundingClientRect().top>=n.top&&o--,s==t.dom&&o==s.childNodes.length-1&&s.lastChild.nodeType==1&&n.top>s.lastChild.getBoundingClientRect().bottom?p=t.state.doc.content.size:(o==0||s.nodeType!=1||s.childNodes[o-1].nodeName!="BR")&&(p=posFromCaret(t,s,o,n))}p==null&&(p=posFromElement(t,c,n));let m=t.docView.nearestDesc(c,!0);return{pos:p,inside:m?m.posAtStart-m.border:-1}}function nonZero(t){return t.top<t.bottom||t.left<t.right}function singleRect(t,n){let r=t.getClientRects();if(r.length){let s=r[n<0?0:r.length-1];if(nonZero(s))return s}return Array.prototype.find.call(r,nonZero)||t.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,n,r){let{node:s,offset:o,atom:l}=t.docView.domFromPos(n,r<0?-1:1),c=webkit||gecko;if(s.nodeType==3)if(c&&(BIDI.test(s.nodeValue)||(r<0?!o:o==s.nodeValue.length))){let m=singleRect(textRange(s,o,o),r);if(gecko&&o&&/\s/.test(s.nodeValue[o-1])&&o<s.nodeValue.length){let x=singleRect(textRange(s,o-1,o-1),-1);if(x.top==m.top){let b=singleRect(textRange(s,o,o+1),-1);if(b.top!=m.top)return flattenV(b,b.left<x.left)}}return m}else{let m=o,x=o,b=r<0?1:-1;return r<0&&!o?(x++,b=-1):r>=0&&o==s.nodeValue.length?(m--,b=1):r<0?m--:x++,flattenV(singleRect(textRange(s,m,x),b),b<0)}if(!t.state.doc.resolve(n-(l||0)).parent.inlineContent){if(l==null&&o&&(r<0||o==nodeSize(s))){let m=s.childNodes[o-1];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!1)}if(l==null&&o<nodeSize(s)){let m=s.childNodes[o];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!0)}return flattenH(s.getBoundingClientRect(),r>=0)}if(l==null&&o&&(r<0||o==nodeSize(s))){let m=s.childNodes[o-1],x=m.nodeType==3?textRange(m,nodeSize(m)-(c?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(x)return flattenV(singleRect(x,1),!1)}if(l==null&&o<nodeSize(s)){let m=s.childNodes[o];for(;m.pmViewDesc&&m.pmViewDesc.ignoreForCoords;)m=m.nextSibling;let x=m?m.nodeType==3?textRange(m,0,c?0:1):m.nodeType==1?m:null:null;if(x)return flattenV(singleRect(x,-1),!0)}return flattenV(singleRect(s.nodeType==3?textRange(s):s,-r),r>=0)}function flattenV(t,n){if(t.width==0)return t;let r=n?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function flattenH(t,n){if(t.height==0)return t;let r=n?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function withFlushedState(t,n,r){let s=t.state,o=t.root.activeElement;s!=n&&t.updateState(n),o!=t.dom&&t.focus();try{return r()}finally{s!=n&&t.updateState(s),o!=t.dom&&o&&o.focus()}}function endOfTextblockVertical(t,n,r){let s=n.selection,o=r=="up"?s.$from:s.$to;return withFlushedState(t,n,()=>{let{node:l}=t.docView.domFromPos(o.pos,r=="up"?-1:1);for(;;){let p=t.docView.nearestDesc(l,!0);if(!p)break;if(p.node.isBlock){l=p.contentDOM||p.dom;break}l=p.dom.parentNode}let c=coordsAtPos(t,o.pos,1);for(let p=l.firstChild;p;p=p.nextSibling){let m;if(p.nodeType==1)m=p.getClientRects();else if(p.nodeType==3)m=textRange(p,0,p.nodeValue.length).getClientRects();else continue;for(let x=0;x<m.length;x++){let b=m[x];if(b.bottom>b.top+1&&(r=="up"?c.top-b.top>(b.bottom-c.top)*2:b.bottom-c.bottom>(c.bottom-b.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(t,n,r){let{$head:s}=n.selection;if(!s.parent.isTextblock)return!1;let o=s.parentOffset,l=!o,c=o==s.parent.content.size,p=t.domSelection();return p?!maybeRTL.test(s.parent.textContent)||!p.modify?r=="left"||r=="backward"?l:c:withFlushedState(t,n,()=>{let{focusNode:m,focusOffset:x,anchorNode:b,anchorOffset:_}=t.domSelectionRange(),R=p.caretBidiLevel;p.modify("move",r,"character");let k=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:M,focusOffset:P}=t.domSelectionRange(),K=M&&!k.contains(M.nodeType==1?M:M.parentNode)||m==M&&x==P;try{p.collapse(b,_),m&&(m!=b||x!=_)&&p.extend&&p.extend(m,x)}catch{}return R!=null&&(p.caretBidiLevel=R),K}):s.pos==s.start()||s.pos==s.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(t,n,r){return cachedState==n&&cachedDir==r?cachedResult:(cachedState=n,cachedDir=r,cachedResult=r=="up"||r=="down"?endOfTextblockVertical(t,n,r):endOfTextblockHorizontal(t,n,r))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(n,r,s,o){this.parent=n,this.children=r,this.dom=s,this.contentDOM=o,this.dirty=NOT_DIRTY,s.pmViewDesc=this}matchesWidget(n){return!1}matchesMark(n){return!1}matchesNode(n,r,s){return!1}matchesHack(n){return!1}parseRule(){return null}stopEvent(n){return!1}get size(){let n=0;for(let r=0;r<this.children.length;r++)n+=this.children[r].size;return n}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let n=0;n<this.children.length;n++)this.children[n].destroy()}posBeforeChild(n){for(let r=0,s=this.posAtStart;;r++){let o=this.children[r];if(o==n)return s;s+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,r,s){if(this.contentDOM&&this.contentDOM.contains(n.nodeType==1?n:n.parentNode))if(s<0){let l,c;if(n==this.contentDOM)l=n.childNodes[r-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;l=n.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(n==this.contentDOM)l=n.childNodes[r];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;l=n.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let o;if(n==this.dom&&this.contentDOM)o=r>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=n.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=n;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&r==n.childNodes.length)for(let l=n;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??s>0?this.posAtEnd:this.posAtStart}nearestDesc(n,r=!1){for(let s=!0,o=n;o;o=o.parentNode){let l=this.getDesc(o),c;if(l&&(!r||l.node))if(s&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(n.nodeType==1?n:n.parentNode):c==n))s=!1;else return l}}getDesc(n){let r=n.pmViewDesc;for(let s=r;s;s=s.parent)if(s==this)return r}posFromDOM(n,r,s){for(let o=n;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(n,r,s)}return-1}descAt(n){for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(s==n&&l!=s){for(;!o.border&&o.children.length;)for(let c=0;c<o.children.length;c++){let p=o.children[c];if(p.size){o=p;break}}return o}if(n<l)return o.descAt(n-s-o.border);s=l}}domFromPos(n,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:n+1};let s=0,o=0;for(let l=0;s<this.children.length;s++){let c=this.children[s],p=l+c.size;if(p>n||c instanceof TrailingHackViewDesc){o=n-l;break}l=p}if(o)return this.children[s].domFromPos(o-this.children[s].border,r);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof WidgetViewDesc&&l.side>=0;s--);if(r<=0){let l,c=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,c=!1);return l&&r&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?domIndex(l.dom)+1:0}}else{let l,c=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?domIndex(l.dom):this.contentDOM.childNodes.length}}}parseRange(n,r,s=0){if(this.children.length==0)return{node:this.contentDOM,from:n,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let c=s,p=0;;p++){let m=this.children[p],x=c+m.size;if(o==-1&&n<=x){let b=c+m.border;if(n>=b&&r<=x-m.border&&m.node&&m.contentDOM&&this.contentDOM.contains(m.contentDOM))return m.parseRange(n,r,b);n=c;for(let _=p;_>0;_--){let R=this.children[_-1];if(R.size&&R.dom.parentNode==this.contentDOM&&!R.emptyChildAt(1)){o=domIndex(R.dom)+1;break}n-=R.size}o==-1&&(o=0)}if(o>-1&&(x>r||p==this.children.length-1)){r=x;for(let b=p+1;b<this.children.length;b++){let _=this.children[b];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){l=domIndex(_.dom);break}r+=_.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=x}return{node:this.contentDOM,from:n,to:r,fromOffset:o,toOffset:l}}emptyChildAt(n){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[n<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(n)}domAfterPos(n){let{node:r,offset:s}=this.domFromPos(n,0);if(r.nodeType!=1||s==r.childNodes.length)throw new RangeError("No node after pos "+n);return r.childNodes[s]}setSelection(n,r,s,o=!1){let l=Math.min(n,r),c=Math.max(n,r);for(let k=0,M=0;k<this.children.length;k++){let P=this.children[k],K=M+P.size;if(l>M&&c<K)return P.setSelection(n-M-P.border,r-M-P.border,s,o);M=K}let p=this.domFromPos(n,n?-1:1),m=r==n?p:this.domFromPos(r,r?-1:1),x=s.root.getSelection(),b=s.domSelectionRange(),_=!1;if((gecko||safari)&&n==r){let{node:k,offset:M}=p;if(k.nodeType==3){if(_=!!(M&&k.nodeValue[M-1]==`
`),_&&M==k.nodeValue.length)for(let P=k,K;P;P=P.parentNode){if(K=P.nextSibling){K.nodeName=="BR"&&(p=m={node:K.parentNode,offset:domIndex(K)+1});break}let $=P.pmViewDesc;if($&&$.node&&$.node.isBlock)break}}else{let P=k.childNodes[M-1];_=P&&(P.nodeName=="BR"||P.contentEditable=="false")}}if(gecko&&b.focusNode&&b.focusNode!=m.node&&b.focusNode.nodeType==1){let k=b.focusNode.childNodes[b.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||_&&safari)&&isEquivalentPosition(p.node,p.offset,b.anchorNode,b.anchorOffset)&&isEquivalentPosition(m.node,m.offset,b.focusNode,b.focusOffset))return;let R=!1;if((x.extend||n==r)&&!(_&&gecko)){x.collapse(p.node,p.offset);try{n!=r&&x.extend(m.node,m.offset),R=!0}catch{}}if(!R){if(n>r){let M=p;p=m,m=M}let k=document.createRange();k.setEnd(m.node,m.offset),k.setStart(p.node,p.offset),x.removeAllRanges(),x.addRange(k)}}ignoreMutation(n){return!this.contentDOM&&n.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,r){for(let s=0,o=0;o<this.children.length;o++){let l=this.children[o],c=s+l.size;if(s==c?n<=c&&r>=s:n<c&&r>s){let p=s+l.border,m=c-l.border;if(n>=p&&r<=m){this.dirty=n==s||r==c?CONTENT_DIRTY:CHILD_DIRTY,n==p&&r==m&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=NODE_DIRTY:l.markDirty(n-p,r-p);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?CONTENT_DIRTY:NODE_DIRTY}s=c}this.dirty=CONTENT_DIRTY}markParentsDirty(){let n=1;for(let r=this.parent;r;r=r.parent,n++){let s=n==1?CONTENT_DIRTY:CHILD_DIRTY;r.dirty<s&&(r.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(n){return!1}}class WidgetViewDesc extends ViewDesc{constructor(n,r,s,o){let l,c=r.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(c.nodeType!=1){let p=document.createElement("span");p.appendChild(c),c=p}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(n,[],c,null),this.widget=r,this.widget=r,l=this}matchesWidget(n){return this.dirty==NOT_DIRTY&&n.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(n){let r=this.widget.spec.stopEvent;return r?r(n):!1}ignoreMutation(n){return n.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(n,r,s,o){super(n,[],r,null),this.textDOM=s,this.text=o}get size(){return this.text.length}localPosFromDOM(n,r){return n!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(n){return{node:this.textDOM,offset:n}}ignoreMutation(n){return n.type==="characterData"&&n.target.nodeValue==n.oldValue}}class MarkViewDesc extends ViewDesc{constructor(n,r,s,o,l){super(n,[],s,o),this.mark=r,this.spec=l}static create(n,r,s,o){let l=o.nodeViews[r.type.name],c=l&&l(r,o,s);return(!c||!c.dom)&&(c=DOMSerializer.renderSpec(document,r.type.spec.toDOM(r,s),null,r.attrs)),new MarkViewDesc(n,r,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(n){return this.dirty!=NODE_DIRTY&&this.mark.eq(n)}markDirty(n,r){if(super.markDirty(n,r),this.dirty!=NOT_DIRTY){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(n,r,s){let o=MarkViewDesc.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;r<c&&(l=replaceNodes(l,r,c,s)),n>0&&(l=replaceNodes(l,0,n,s));for(let p=0;p<l.length;p++)l[p].parent=o;return o.children=l,o}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(n,r,s,o,l,c,p,m,x){super(n,[],l,c),this.node=r,this.outerDeco=s,this.innerDeco=o,this.nodeDOM=p}static create(n,r,s,o,l,c){let p=l.nodeViews[r.type.name],m,x=p&&p(r,l,()=>{if(!m)return c;if(m.parent)return m.parent.posBeforeChild(m)},s,o),b=x&&x.dom,_=x&&x.contentDOM;if(r.isText){if(!b)b=document.createTextNode(r.text);else if(b.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else b||({dom:b,contentDOM:_}=DOMSerializer.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!_&&!r.isText&&b.nodeName!="BR"&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),r.type.spec.draggable&&(b.draggable=!0));let R=b;return b=applyOuterDeco(b,s,r),x?m=new CustomNodeViewDesc(n,r,s,o,b,_||null,R,x,l,c+1):r.isText?new TextViewDesc(n,r,s,o,b,R,l):new NodeViewDesc(n,r,s,o,b,_||null,R,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let n={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(n.preserveWhitespace="full"),!this.contentDOM)n.getContent=()=>this.node.content;else if(!this.contentLost)n.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let s=this.children[r];if(this.dom.contains(s.dom.parentNode)){n.contentElement=s.dom.parentNode;break}}n.contentElement||(n.getContent=()=>Fragment.empty)}return n}matchesNode(n,r,s){return this.dirty==NOT_DIRTY&&n.eq(this.node)&&sameOuterDeco(r,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(n,r){let s=this.node.inlineContent,o=r,l=n.composing?this.localCompositionInfo(n,r):null,c=l&&l.pos>-1?l:null,p=l&&l.pos<0,m=new ViewTreeUpdater(this,c&&c.node,n);iterDeco(this.node,this.innerDeco,(x,b,_)=>{x.spec.marks?m.syncToMarks(x.spec.marks,s,n):x.type.side>=0&&!_&&m.syncToMarks(b==this.node.childCount?Mark$1.none:this.node.child(b).marks,s,n),m.placeWidget(x,n,o)},(x,b,_,R)=>{m.syncToMarks(x.marks,s,n);let k;m.findNodeMatch(x,b,_,R)||p&&n.state.selection.from>o&&n.state.selection.to<o+x.nodeSize&&(k=m.findIndexWithChild(l.node))>-1&&m.updateNodeAt(x,b,_,k,n)||m.updateNextNode(x,b,_,n,R,o)||m.addNode(x,b,_,n,o),o+=x.nodeSize}),m.syncToMarks([],s,n),this.node.isTextblock&&m.addTextblockHacks(),m.destroyRest(),(m.changed||this.dirty==CONTENT_DIRTY)&&(c&&this.protectLocalComposition(n,c),renderDescs(this.contentDOM,this.children,n),ios&&iosHacks(this.dom))}localCompositionInfo(n,r){let{from:s,to:o}=n.state.selection;if(!(n.state.selection instanceof TextSelection)||s<r||o>r+this.node.content.size)return null;let l=n.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,p=findTextInFragment(this.node.content,c,s-r,o-r);return p<0?null:{node:l,pos:p,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(n,{node:r,pos:s,text:o}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new CompositionViewDesc(this,l,r,o);n.input.compositionNodes.push(c),this.children=replaceNodes(this.children,s,s+o.length,n,c)}update(n,r,s,o){return this.dirty==NODE_DIRTY||!n.sameMarkup(this.node)?!1:(this.updateInner(n,r,s,o),!0)}updateInner(n,r,s,o){this.updateOuterDeco(r),this.node=n,this.innerDeco=s,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(n){if(sameOuterDeco(n,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,r),computeOuterDeco(n,this.node,r)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=n}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(t,n,r,s,o){applyOuterDeco(s,n,t);let l=new NodeViewDesc(void 0,t,n,r,s,s,s,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class TextViewDesc extends NodeViewDesc{constructor(n,r,s,o,l,c,p){super(n,r,s,o,l,null,c,p,0)}parseRule(){let n=this.nodeDOM.parentNode;for(;n&&n!=this.dom&&!n.pmIsDeco;)n=n.parentNode;return{skip:n||!0}}update(n,r,s,o){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!n.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=NOT_DIRTY||n.text!=this.node.text)&&n.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=n.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=n,this.dirty=NOT_DIRTY,!0)}inParent(){let n=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==n)return!0;return!1}domFromPos(n){return{node:this.nodeDOM,offset:n}}localPosFromDOM(n,r,s){return n==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(n,r,s)}ignoreMutation(n){return n.type!="characterData"&&n.type!="selection"}slice(n,r,s){let o=this.node.cut(n,r),l=document.createTextNode(o.text);return new TextViewDesc(this.parent,o,this.outerDeco,this.innerDeco,l,l,s)}markDirty(n,r){super.markDirty(n,r),this.dom!=this.nodeDOM&&(n==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(n){return this.node.text==n}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(n){return this.dirty==NOT_DIRTY&&this.dom.nodeName==n}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(n,r,s,o,l,c,p,m,x,b){super(n,r,s,o,l,c,p,x,b),this.spec=m}update(n,r,s,o){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==n.type||this.spec.multiType)){let l=this.spec.update(n,r,s);return l&&this.updateInner(n,r,s,o),l}else return!this.contentDOM&&!n.isLeaf?!1:super.update(n,r,s,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(n,r,s,o){this.spec.setSelection?this.spec.setSelection(n,r,s.root):super.setSelection(n,r,s,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}}function renderDescs(t,n,r){let s=t.firstChild,o=!1;for(let l=0;l<n.length;l++){let c=n[l],p=c.dom;if(p.parentNode==t){for(;p!=s;)s=rm(s),o=!0;s=s.nextSibling}else o=!0,t.insertBefore(p,s);if(c instanceof MarkViewDesc){let m=s?s.previousSibling:t.lastChild;renderDescs(c.contentDOM,c.children,r),s=m?m.nextSibling:t.firstChild}}for(;s;)s=rm(s),o=!0;o&&r.trackWrites==t&&(r.trackWrites=null)}const OuterDecoLevel=function(t){t&&(this.nodeName=t)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(t,n,r){if(t.length==0)return noDeco;let s=r?noDeco[0]:new OuterDecoLevel,o=[s];for(let l=0;l<t.length;l++){let c=t[l].type.attrs;if(c){c.nodeName&&o.push(s=new OuterDecoLevel(c.nodeName));for(let p in c){let m=c[p];m!=null&&(r&&o.length==1&&o.push(s=new OuterDecoLevel(n.isInline?"span":"div")),p=="class"?s.class=(s.class?s.class+" ":"")+m:p=="style"?s.style=(s.style?s.style+";":"")+m:p!="nodeName"&&(s[p]=m))}}}return o}function patchOuterDeco(t,n,r,s){if(r==noDeco&&s==noDeco)return n;let o=n;for(let l=0;l<s.length;l++){let c=s[l],p=r[l];if(l){let m;p&&p.nodeName==c.nodeName&&o!=t&&(m=o.parentNode)&&m.nodeName.toLowerCase()==c.nodeName||(m=document.createElement(c.nodeName),m.pmIsDeco=!0,m.appendChild(o),p=noDeco[0]),o=m}patchAttributes(o,p||noDeco[0],c)}return o}function patchAttributes(t,n,r){for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&!(s in r)&&t.removeAttribute(s);for(let s in r)s!="class"&&s!="style"&&s!="nodeName"&&r[s]!=n[s]&&t.setAttribute(s,r[s]);if(n.class!=r.class){let s=n.class?n.class.split(" ").filter(Boolean):[],o=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)o.indexOf(s[l])==-1&&t.classList.remove(s[l]);for(let l=0;l<o.length;l++)s.indexOf(o[l])==-1&&t.classList.add(o[l]);t.classList.length==0&&t.removeAttribute("class")}if(n.style!=r.style){if(n.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=s.exec(n.style);)t.style.removeProperty(o[1])}r.style&&(t.style.cssText+=r.style)}}function applyOuterDeco(t,n,r){return patchOuterDeco(t,t,noDeco,computeOuterDeco(n,r,t.nodeType!=1))}function sameOuterDeco(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(n[r].type))return!1;return!0}function rm(t){let n=t.nextSibling;return t.parentNode.removeChild(t),n}class ViewTreeUpdater{constructor(n,r,s){this.lock=r,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=n,this.preMatch=preMatch(n.node.content,n)}destroyBetween(n,r){if(n!=r){for(let s=n;s<r;s++)this.top.children[s].destroy();this.top.children.splice(n,r-n),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,r,s){let o=0,l=this.stack.length>>1,c=Math.min(l,n.length);for(;o<c&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(n[o])&&n[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<n.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let m=this.index;m<Math.min(this.index+3,this.top.children.length);m++){let x=this.top.children[m];if(x.matchesMark(n[l])&&!this.isLocked(x.dom)){p=m;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let m=MarkViewDesc.create(this.top,n[l],r,s);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,l++}}findNodeMatch(n,r,s,o){let l=-1,c;if(o>=this.preMatch.index&&(c=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&c.matchesNode(n,r,s))l=this.top.children.indexOf(c,this.index);else for(let p=this.index,m=Math.min(this.top.children.length,p+5);p<m;p++){let x=this.top.children[p];if(x.matchesNode(n,r,s)&&!this.preMatch.matched.has(x)){l=p;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(n,r,s,o,l){let c=this.top.children[o];return c.dirty==NODE_DIRTY&&c.dom==c.contentDOM&&(c.dirty=CONTENT_DIRTY),c.update(n,r,s,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(n){for(;;){let r=n.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let s=n.pmViewDesc;if(s){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==s)return o}return-1}n=r}}updateNextNode(n,r,s,o,l,c){for(let p=this.index;p<this.top.children.length;p++){let m=this.top.children[p];if(m instanceof NodeViewDesc){let x=this.preMatch.matched.get(m);if(x!=null&&x!=l)return!1;let b=m.dom,_,R=this.isLocked(b)&&!(n.isText&&m.node&&m.node.isText&&m.nodeDOM.nodeValue==n.text&&m.dirty!=NODE_DIRTY&&sameOuterDeco(r,m.outerDeco));if(!R&&m.update(n,r,s,o))return this.destroyBetween(this.index,p),m.dom!=b&&(this.changed=!0),this.index++,!0;if(!R&&(_=this.recreateWrapper(m,n,r,s,o,c)))return this.destroyBetween(this.index,p),this.top.children[this.index]=_,_.contentDOM&&(_.dirty=CONTENT_DIRTY,_.updateChildren(o,c+1),_.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(n,r,s,o,l,c){if(n.dirty||r.isAtom||!n.children.length||!n.node.content.eq(r.content)||!sameOuterDeco(s,n.outerDeco)||!o.eq(n.innerDeco))return null;let p=NodeViewDesc.create(this.top,r,s,o,l,c);if(p.contentDOM){p.children=n.children,n.children=[];for(let m of p.children)m.parent=p}return n.destroy(),p}addNode(n,r,s,o,l){let c=NodeViewDesc.create(this.top,n,r,s,o,l);c.contentDOM&&c.updateChildren(o,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(n,r,s){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(n)&&(n==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new WidgetViewDesc(this.top,n,r,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let n=this.top.children[this.index-1],r=this.top;for(;n instanceof MarkViewDesc;)r=n,n=r.children[r.children.length-1];(!n||!(n instanceof TextViewDesc)||/\n$/.test(n.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(n.node.text))&&((safari||chrome$1)&&n&&n.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(n,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(n))this.index++;else{let s=document.createElement(n);n=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),n=="BR"&&(s.className="ProseMirror-trailingBreak");let o=new TrailingHackViewDesc(this.top,[],s,null);r!=this.top?r.children.push(o):r.children.splice(this.index++,0,o),this.changed=!0}}isLocked(n){return this.lock&&(n==this.lock||n.nodeType==1&&n.contains(this.lock.parentNode))}}function preMatch(t,n){let r=n,s=r.children.length,o=t.childCount,l=new Map,c=[];e:for(;o>0;){let p;for(;;)if(s){let x=r.children[s-1];if(x instanceof MarkViewDesc)r=x,s=x.children.length;else{p=x,s--;break}}else{if(r==n)break e;s=r.parent.children.indexOf(r),r=r.parent}let m=p.node;if(m){if(m!=t.child(o-1))break;--o,l.set(p,o),c.push(p)}}return{index:o,matched:l,matches:c.reverse()}}function compareSide(t,n){return t.type.side-n.type.side}function iterDeco(t,n,r,s){let o=n.locals(t),l=0;if(o.length==0){for(let x=0;x<t.childCount;x++){let b=t.child(x);s(b,o,n.forChild(l,b),x),l+=b.nodeSize}return}let c=0,p=[],m=null;for(let x=0;;){let b,_;for(;c<o.length&&o[c].to==l;){let K=o[c++];K.widget&&(b?(_||(_=[b])).push(K):b=K)}if(b)if(_){_.sort(compareSide);for(let K=0;K<_.length;K++)r(_[K],x,!!m)}else r(b,x,!!m);let R,k;if(m)k=-1,R=m,m=null;else if(x<t.childCount)k=x,R=t.child(x++);else break;for(let K=0;K<p.length;K++)p[K].to<=l&&p.splice(K--,1);for(;c<o.length&&o[c].from<=l&&o[c].to>l;)p.push(o[c++]);let M=l+R.nodeSize;if(R.isText){let K=M;c<o.length&&o[c].from<K&&(K=o[c].from);for(let $=0;$<p.length;$++)p[$].to<K&&(K=p[$].to);K<M&&(m=R.cut(K-l),R=R.cut(0,K-l),M=K,k=-1)}else for(;c<o.length&&o[c].to<M;)c++;let P=R.isInline&&!R.isLeaf?p.filter(K=>!K.inline):p.slice();s(R,P,n.forChild(l,R),k),l=M}}function iosHacks(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let n=t.style.cssText;t.style.cssText=n+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=n}}function findTextInFragment(t,n,r,s){for(let o=0,l=0;o<t.childCount&&l<=s;){let c=t.child(o++),p=l;if(l+=c.nodeSize,!c.isText)continue;let m=c.text;for(;o<t.childCount;){let x=t.child(o++);if(l+=x.nodeSize,!x.isText)break;m+=x.text}if(l>=r){if(l>=s&&m.slice(s-n.length-p,s-p)==n)return s-n.length;let x=p<s?m.lastIndexOf(n,s-p-1):-1;if(x>=0&&x+n.length+p>=r)return p+x;if(r==s&&m.length>=s+n.length-p&&m.slice(s-p,s-p+n.length)==n)return s}}return-1}function replaceNodes(t,n,r,s,o){let l=[];for(let c=0,p=0;c<t.length;c++){let m=t[c],x=p,b=p+=m.size;x>=r||b<=n?l.push(m):(x<n&&l.push(m.slice(0,n-x,s)),o&&(l.push(o),o=void 0),b>r&&l.push(m.slice(r-x,m.size,s)))}return l}function selectionFromDOM(t,n=null){let r=t.domSelectionRange(),s=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),l=o&&o.size==0,c=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(c<0)return null;let p=s.resolve(c),m,x;if(selectionCollapsed(r)){for(m=c;o&&!o.node;)o=o.parent;let _=o.node;if(o&&_.isAtom&&NodeSelection.isSelectable(_)&&o.parent&&!(_.isInline&&isOnEdge(r.focusNode,r.focusOffset,o.dom))){let R=o.posBefore;x=new NodeSelection(c==R?p:s.resolve(R))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let _=c,R=c;for(let k=0;k<r.rangeCount;k++){let M=r.getRangeAt(k);_=Math.min(_,t.docView.posFromDOM(M.startContainer,M.startOffset,1)),R=Math.max(R,t.docView.posFromDOM(M.endContainer,M.endOffset,-1))}if(_<0)return null;[m,c]=R==t.state.selection.anchor?[R,_]:[_,R],p=s.resolve(c)}else m=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(m<0)return null}let b=s.resolve(m);if(!x){let _=n=="pointer"||t.state.selection.head<p.pos&&!l?1:-1;x=selectionBetween(t,b,p,_)}return x}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function selectionToDOM(t,n=!1){let r=t.state.selection;if(syncNodeSelection(t,r),!!editorOwnsSelection(t)){if(!n&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&chrome$1){let s=t.domSelectionRange(),o=t.domObserver.currentSelection;if(s.anchorNode&&o.anchorNode&&isEquivalentPosition(s.anchorNode,s.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)selectCursorWrapper(t);else{let{anchor:s,head:o}=r,l,c;brokenSelectBetweenUneditable&&!(r instanceof TextSelection)&&(r.$from.parent.inlineContent||(l=temporarilyEditableNear(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(c=temporarilyEditableNear(t,r.to))),t.docView.setSelection(s,o,t,n),brokenSelectBetweenUneditable&&(l&&resetEditable(l),c&&resetEditable(c)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome$1&&chrome_version<63;function temporarilyEditableNear(t,n){let{node:r,offset:s}=t.docView.domFromPos(n,0),o=s<r.childNodes.length?r.childNodes[s]:null,l=s?r.childNodes[s-1]:null;if(safari&&o&&o.contentEditable=="false")return setEditable(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return setEditable(o);if(l)return setEditable(l)}}function setEditable(t){return t.contentEditable="true",safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function removeClassOnSelectionChange(t){let n=t.dom.ownerDocument;n.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),s=r.anchorNode,o=r.anchorOffset;n.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=s||r.anchorOffset!=o)&&(n.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(t){let n=t.domSelection();if(!n)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.collapse(r.parentNode,domIndex(r)+1):n.collapse(r,0),!s&&!t.state.selection.visible&&ie$1&&ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(t,n){if(n instanceof NodeSelection){let r=t.docView.descAt(n.from);r!=t.lastSelectedViewDesc&&(clearNodeSelection(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else clearNodeSelection(t)}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function selectionBetween(t,n,r,s){return t.someProp("createSelectionBetween",o=>o(t,n,r))||TextSelection.between(n,r,s)}function hasFocusAndSelection(t){return t.editable&&!t.hasFocus()?!1:hasSelection(t)}function hasSelection(t){let n=t.domSelectionRange();if(!n.anchorNode)return!1;try{return t.dom.contains(n.anchorNode.nodeType==3?n.anchorNode.parentNode:n.anchorNode)&&(t.editable||t.dom.contains(n.focusNode.nodeType==3?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function anchorInRightPlace(t){let n=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return isEquivalentPosition(n.node,n.offset,r.anchorNode,r.anchorOffset)}function moveSelectionBlock(t,n){let{$anchor:r,$head:s}=t.selection,o=n>0?r.max(s):r.min(s),l=o.parent.inlineContent?o.depth?t.doc.resolve(n>0?o.after():o.before()):null:o;return l&&Selection.findFrom(l,n)}function apply(t,n){return t.dispatch(t.state.tr.setSelection(n).scrollIntoView()),!0}function selectHorizontally(t,n,r){let s=t.state.selection;if(s instanceof TextSelection)if(r.indexOf("s")>-1){let{$head:o}=s,l=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=t.state.doc.resolve(o.pos+l.nodeSize*(n<0?-1:1));return apply(t,new TextSelection(s.$anchor,c))}else if(s.empty){if(t.endOfTextblock(n>0?"forward":"backward")){let o=moveSelectionBlock(t.state,n);return o&&o instanceof NodeSelection?apply(t,o):!1}else if(!(mac$2&&r.indexOf("m")>-1)){let o=s.$head,l=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter,c;if(!l||l.isText)return!1;let p=n<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(c=t.docView.descAt(p))&&!c.contentDOM?NodeSelection.isSelectable(l)?apply(t,new NodeSelection(n<0?t.state.doc.resolve(o.pos-l.nodeSize):o)):webkit?apply(t,new TextSelection(t.state.doc.resolve(n<0?p:p+l.nodeSize))):!1:!1}}else return!1;else{if(s instanceof NodeSelection&&s.node.isInline)return apply(t,new TextSelection(n>0?s.$to:s.$from));{let o=moveSelectionBlock(t.state,n);return o?apply(t,o):!1}}}function nodeLen(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function isIgnorable(t,n){let r=t.pmViewDesc;return r&&r.size==0&&(n<0||t.nextSibling||t.nodeName!="BR")}function skipIgnoredNodes(t,n){return n<0?skipIgnoredNodesBefore(t):skipIgnoredNodesAfter(t)}function skipIgnoredNodesBefore(t){let n=t.domSelectionRange(),r=n.focusNode,s=n.focusOffset;if(!r)return;let o,l,c=!1;for(gecko&&r.nodeType==1&&s<nodeLen(r)&&isIgnorable(r.childNodes[s],-1)&&(c=!0);;)if(s>0){if(r.nodeType!=1)break;{let p=r.childNodes[s-1];if(isIgnorable(p,-1))o=r,l=--s;else if(p.nodeType==3)r=p,s=r.nodeValue.length;else break}}else{if(isBlockNode(r))break;{let p=r.previousSibling;for(;p&&isIgnorable(p,-1);)o=r.parentNode,l=domIndex(p),p=p.previousSibling;if(p)r=p,s=nodeLen(r);else{if(r=r.parentNode,r==t.dom)break;s=0}}}c?setSelFocus(t,r,s):o&&setSelFocus(t,o,l)}function skipIgnoredNodesAfter(t){let n=t.domSelectionRange(),r=n.focusNode,s=n.focusOffset;if(!r)return;let o=nodeLen(r),l,c;for(;;)if(s<o){if(r.nodeType!=1)break;let p=r.childNodes[s];if(isIgnorable(p,1))l=r,c=++s;else break}else{if(isBlockNode(r))break;{let p=r.nextSibling;for(;p&&isIgnorable(p,1);)l=p.parentNode,c=domIndex(p)+1,p=p.nextSibling;if(p)r=p,s=0,o=nodeLen(r);else{if(r=r.parentNode,r==t.dom)break;s=o=0}}}l&&setSelFocus(t,l,c)}function isBlockNode(t){let n=t.pmViewDesc;return n&&n.node&&n.node.isBlock}function textNodeAfter(t,n){for(;t&&n==t.childNodes.length&&!hasBlockDesc(t);)n=domIndex(t)+1,t=t.parentNode;for(;t&&n<t.childNodes.length;){let r=t.childNodes[n];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,n=0}}function textNodeBefore(t,n){for(;t&&!n&&!hasBlockDesc(t);)n=domIndex(t),t=t.parentNode;for(;t&&n;){let r=t.childNodes[n-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,n=t.childNodes.length}}function setSelFocus(t,n,r){if(n.nodeType!=3){let l,c;(c=textNodeAfter(n,r))?(n=c,r=0):(l=textNodeBefore(n,r))&&(n=l,r=l.nodeValue.length)}let s=t.domSelection();if(!s)return;if(selectionCollapsed(s)){let l=document.createRange();l.setEnd(n,r),l.setStart(n,r),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(n,r);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&selectionToDOM(t)},50)}function findDirection(t,n){let r=t.state.doc.resolve(n);if(!(chrome$1||windows$1)&&r.parent.inlineContent){let o=t.coordsAtPos(n);if(n>r.start()){let l=t.coordsAtPos(n-1),c=(l.top+l.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(n<r.end()){let l=t.coordsAtPos(n+1),c=(l.top+l.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(t,n,r){let s=t.state.selection;if(s instanceof TextSelection&&!s.empty||r.indexOf("s")>-1||mac$2&&r.indexOf("m")>-1)return!1;let{$from:o,$to:l}=s;if(!o.parent.inlineContent||t.endOfTextblock(n<0?"up":"down")){let c=moveSelectionBlock(t.state,n);if(c&&c instanceof NodeSelection)return apply(t,c)}if(!o.parent.inlineContent){let c=n<0?o:l,p=s instanceof AllSelection?Selection.near(c,n):Selection.findFrom(c,n);return p?apply(t,p):!1}return!1}function stopNativeHorizontalDelete(t,n){if(!(t.state.selection instanceof TextSelection))return!0;let{$head:r,$anchor:s,empty:o}=t.state.selection;if(!r.sameParent(s))return!0;if(!o)return!1;if(t.endOfTextblock(n>0?"forward":"backward"))return!0;let l=!r.textOffset&&(n<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let c=t.state.tr;return n<0?c.delete(r.pos-l.nodeSize,r.pos):c.delete(r.pos,r.pos+l.nodeSize),t.dispatch(c),!0}return!1}function switchEditable(t,n,r){t.domObserver.stop(),n.contentEditable=r,t.domObserver.start()}function safariDownArrowBug(t){if(!safari||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:r}=t.domSelectionRange();if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){let s=n.firstChild;switchEditable(t,s,"true"),setTimeout(()=>switchEditable(t,s,"false"),20)}return!1}function getMods(t){let n="";return t.ctrlKey&&(n+="c"),t.metaKey&&(n+="m"),t.altKey&&(n+="a"),t.shiftKey&&(n+="s"),n}function captureKeyDown(t,n){let r=n.keyCode,s=getMods(n);if(r==8||mac$2&&r==72&&s=="c")return stopNativeHorizontalDelete(t,-1)||skipIgnoredNodes(t,-1);if(r==46&&!n.shiftKey||mac$2&&r==68&&s=="c")return stopNativeHorizontalDelete(t,1)||skipIgnoredNodes(t,1);if(r==13||r==27)return!0;if(r==37||mac$2&&r==66&&s=="c"){let o=r==37?findDirection(t,t.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(t,o,s)||skipIgnoredNodes(t,o)}else if(r==39||mac$2&&r==70&&s=="c"){let o=r==39?findDirection(t,t.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(t,o,s)||skipIgnoredNodes(t,o)}else{if(r==38||mac$2&&r==80&&s=="c")return selectVertically(t,-1,s)||skipIgnoredNodes(t,-1);if(r==40||mac$2&&r==78&&s=="c")return safariDownArrowBug(t)||selectVertically(t,1,s)||skipIgnoredNodes(t,1);if(s==(mac$2?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function serializeForClipboard(t,n){t.someProp("transformCopied",k=>{n=k(n,t)});let r=[],{content:s,openStart:o,openEnd:l}=n;for(;o>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){o--,l--;let k=s.firstChild;r.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),s=k.content}let c=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),p=detachedDoc(),m=p.createElement("div");m.appendChild(c.serializeFragment(s,{document:p}));let x=m.firstChild,b,_=0;for(;x&&x.nodeType==1&&(b=wrapMap[x.nodeName.toLowerCase()]);){for(let k=b.length-1;k>=0;k--){let M=p.createElement(b[k]);for(;m.firstChild;)M.appendChild(m.firstChild);m.appendChild(M),_++}x=m.firstChild}x&&x.nodeType==1&&x.setAttribute("data-pm-slice",`${o} ${l}${_?` -${_}`:""} ${JSON.stringify(r)}`);let R=t.someProp("clipboardTextSerializer",k=>k(n,t))||n.content.textBetween(0,n.content.size,`

`);return{dom:m,text:R,slice:n}}function parseFromClipboard(t,n,r,s,o){let l=o.parent.type.spec.code,c,p;if(!r&&!n)return null;let m=!!n&&(s||l||!r);if(m){if(t.someProp("transformPastedText",R=>{n=R(n,l||s,t)}),l)return p=new Slice(Fragment.from(t.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",R=>{p=R(p,t,!0)}),p;let _=t.someProp("clipboardTextParser",R=>R(n,o,s,t));if(_)p=_;else{let R=o.marks(),{schema:k}=t.state,M=DOMSerializer.fromSchema(k);c=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(P=>{let K=c.appendChild(document.createElement("p"));P&&K.appendChild(M.serializeNode(k.text(P,R)))})}}else t.someProp("transformPastedHTML",_=>{r=_(r,t)}),c=readHTML(r),webkit&&restoreReplacedSpaces(c);let x=c&&c.querySelector("[data-pm-slice]"),b=x&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(x.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let _=+b[3];_>0;_--){let R=c.firstChild;for(;R&&R.nodeType!=1;)R=R.nextSibling;if(!R)break;c=R}if(p||(p=(t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(m||b),context:o,ruleFromNode(R){return R.nodeName=="BR"&&!R.nextSibling&&R.parentNode&&!inlineParents.test(R.parentNode.nodeName)?{ignore:!0}:null}})),b)p=addContext(closeSlice(p,+b[1],+b[2]),b[4]);else if(p=Slice.maxOpen(normalizeSiblings(p.content,o),!0),p.openStart||p.openEnd){let _=0,R=0;for(let k=p.content.firstChild;_<p.openStart&&!k.type.spec.isolating;_++,k=k.firstChild);for(let k=p.content.lastChild;R<p.openEnd&&!k.type.spec.isolating;R++,k=k.lastChild);p=closeSlice(p,_,R)}return t.someProp("transformPasted",_=>{p=_(p,t,m)}),p}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,n){if(t.childCount<2)return t;for(let r=n.depth;r>=0;r--){let o=n.node(r).contentMatchAt(n.index(r)),l,c=[];if(t.forEach(p=>{if(!c)return;let m=o.findWrapping(p.type),x;if(!m)return c=null;if(x=c.length&&l.length&&addToSibling(m,l,p,c[c.length-1],0))c[c.length-1]=x;else{c.length&&(c[c.length-1]=closeRight(c[c.length-1],l.length));let b=withWrappers(p,m);c.push(b),o=o.matchType(b.type),l=m}}),c)return Fragment.from(c)}return t}function withWrappers(t,n,r=0){for(let s=n.length-1;s>=r;s--)t=n[s].create(null,Fragment.from(t));return t}function addToSibling(t,n,r,s,o){if(o<t.length&&o<n.length&&t[o]==n[o]){let l=addToSibling(t,n,r,s.lastChild,o+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(o==t.length-1?r.type:t[o+1]))return s.copy(s.content.append(Fragment.from(withWrappers(r,t,o+1))))}}function closeRight(t,n){if(n==0)return t;let r=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,n-1)),s=t.contentMatchAt(t.childCount).fillBefore(Fragment.empty,!0);return t.copy(r.append(s))}function closeRange(t,n,r,s,o,l){let c=n<0?t.firstChild:t.lastChild,p=c.content;return t.childCount>1&&(l=0),o<s-1&&(p=closeRange(p,n,r,s,o+1,l)),o>=r&&(p=n<0?c.contentMatchAt(0).fillBefore(p,l<=o).append(p):p.append(c.contentMatchAt(c.childCount).fillBefore(Fragment.empty,!0))),t.replaceChild(n<0?0:t.childCount-1,c.copy(p))}function closeSlice(t,n,r){return n<t.openStart&&(t=new Slice(closeRange(t.content,-1,n,t.openStart,0,t.openEnd),n,t.openEnd)),r<t.openEnd&&(t=new Slice(closeRange(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(t){let n=window.trustedTypes;return n?(_policy||(_policy=n.defaultPolicy||n.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),_policy.createHTML(t)):t}function readHTML(t){let n=/^(\s*<meta [^>]*>)*/.exec(t);n&&(t=t.slice(n[0].length));let r=detachedDoc().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),o;if((o=s&&wrapMap[s[1].toLowerCase()])&&(t=o.map(l=>"<"+l+">").join("")+t+o.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=maybeWrapTrusted(t),o)for(let l=0;l<o.length;l++)r=r.querySelector(o[l])||r;return r}function restoreReplacedSpaces(t){let n=t.querySelectorAll(chrome$1?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<n.length;r++){let s=n[r];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function addContext(t,n){if(!t.size)return t;let r=t.content.firstChild.type.schema,s;try{s=JSON.parse(n)}catch{return t}let{content:o,openStart:l,openEnd:c}=t;for(let p=s.length-2;p>=0;p-=2){let m=r.nodes[s[p]];if(!m||m.hasRequiredAttrs())break;o=Fragment.from(m.create(s[p+1],o)),l++,c++}return new Slice(o,l,c)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(t){for(let n in handlers){let r=handlers[n];t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>{eventBelongsToView(t,s)&&!runCustomHandler(t,s)&&(t.editable||!(s.type in editHandlers))&&r(t,s)},passiveHandlers[n]?{passive:!0}:void 0)}safari&&t.dom.addEventListener("input",()=>null),ensureListeners(t)}function setSelectionOrigin(t,n){t.input.lastSelectionOrigin=n,t.input.lastSelectionTime=Date.now()}function destroyInput(t){t.domObserver.stop();for(let n in t.input.eventHandlers)t.dom.removeEventListener(n,t.input.eventHandlers[n]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ensureListeners(t){t.someProp("handleDOMEvents",n=>{for(let r in n)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=s=>runCustomHandler(t,s))})}function runCustomHandler(t,n){return t.someProp("handleDOMEvents",r=>{let s=r[n.type];return s?s(t,n)||n.defaultPrevented:!1})}function eventBelongsToView(t,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(n))return!1;return!0}function dispatchEvent(t,n){!runCustomHandler(t,n)&&handlers[n.type]&&(t.editable||!(n.type in editHandlers))&&handlers[n.type](t,n)}editHandlers.keydown=(t,n)=>{let r=n;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!inOrNearComposition(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(android&&chrome$1&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ios&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",o=>o(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,r))||captureKeyDown(t,r)?r.preventDefault():setSelectionOrigin(t,"key")};editHandlers.keyup=(t,n)=>{n.keyCode==16&&(t.input.shiftKey=!1)};editHandlers.keypress=(t,n)=>{let r=n;if(inOrNearComposition(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||mac$2&&r.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,r))){r.preventDefault();return}let s=t.state.selection;if(!(s instanceof TextSelection)||!s.$from.sameParent(s.$to)){let o=String.fromCharCode(r.charCode),l=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",c=>c(t,s.$from.pos,s.$to.pos,o,l))&&t.dispatch(l()),r.preventDefault()}};function eventCoords(t){return{left:t.clientX,top:t.clientY}}function isNear(t,n){let r=n.x-t.clientX,s=n.y-t.clientY;return r*r+s*s<100}function runHandlerOnContext(t,n,r,s,o){if(s==-1)return!1;let l=t.state.doc.resolve(s);for(let c=l.depth+1;c>0;c--)if(t.someProp(n,p=>c>l.depth?p(t,r,l.nodeAfter,l.before(c),o,!0):p(t,r,l.node(c),l.before(c),o,!1)))return!0;return!1}function updateSelection(t,n,r){if(t.focused||t.focus(),t.state.selection.eq(n))return;let s=t.state.tr.setSelection(n);s.setMeta("pointer",!0),t.dispatch(s)}function selectClickedLeaf(t,n){if(n==-1)return!1;let r=t.state.doc.resolve(n),s=r.nodeAfter;return s&&s.isAtom&&NodeSelection.isSelectable(s)?(updateSelection(t,new NodeSelection(r)),!0):!1}function selectClickedNode(t,n){if(n==-1)return!1;let r=t.state.selection,s,o;r instanceof NodeSelection&&(s=r.node);let l=t.state.doc.resolve(n);for(let c=l.depth+1;c>0;c--){let p=c>l.depth?l.nodeAfter:l.node(c);if(NodeSelection.isSelectable(p)){s&&r.$from.depth>0&&c>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?o=l.before(r.$from.depth):o=l.before(c);break}}return o!=null?(updateSelection(t,NodeSelection.create(t.state.doc,o)),!0):!1}function handleSingleClick(t,n,r,s,o){return runHandlerOnContext(t,"handleClickOn",n,r,s)||t.someProp("handleClick",l=>l(t,n,s))||(o?selectClickedNode(t,r):selectClickedLeaf(t,r))}function handleDoubleClick(t,n,r,s){return runHandlerOnContext(t,"handleDoubleClickOn",n,r,s)||t.someProp("handleDoubleClick",o=>o(t,n,s))}function handleTripleClick(t,n,r,s){return runHandlerOnContext(t,"handleTripleClickOn",n,r,s)||t.someProp("handleTripleClick",o=>o(t,n,s))||defaultTripleClick(t,r,s)}function defaultTripleClick(t,n,r){if(r.button!=0)return!1;let s=t.state.doc;if(n==-1)return s.inlineContent?(updateSelection(t,TextSelection.create(s,0,s.content.size)),!0):!1;let o=s.resolve(n);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l),p=o.before(l);if(c.inlineContent)updateSelection(t,TextSelection.create(s,p+1,p+1+c.content.size));else if(NodeSelection.isSelectable(c))updateSelection(t,NodeSelection.create(s,p));else continue;return!0}}function forceDOMFlush(t){return endComposition(t)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(t,n)=>{let r=n;t.input.shiftKey=r.shiftKey;let s=forceDOMFlush(t),o=Date.now(),l="singleClick";o-t.input.lastClick.time<500&&isNear(r,t.input.lastClick)&&!r[selectNodeModifier]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:o,x:r.clientX,y:r.clientY,type:l,button:r.button};let c=t.posAtCoords(eventCoords(r));c&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MouseDown(t,c,r,!!s)):(l=="doubleClick"?handleDoubleClick:handleTripleClick)(t,c.pos,c.inside,r)?r.preventDefault():setSelectionOrigin(t,"pointer"))};class MouseDown{constructor(n,r,s,o){this.view=n,this.pos=r,this.event=s,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=n.state.doc,this.selectNode=!!s[selectNodeModifier],this.allowDefault=s.shiftKey;let l,c;if(r.inside>-1)l=n.state.doc.nodeAt(r.inside),c=r.inside;else{let b=n.state.doc.resolve(r.pos);l=b.parent,c=b.depth?b.before():0}const p=o?null:s.target,m=p?n.docView.nearestDesc(p,!0):null;this.target=m&&m.nodeDOM.nodeType==1?m.nodeDOM:null;let{selection:x}=n.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||x instanceof NodeSelection&&x.from<=c&&x.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),n.root.addEventListener("mouseup",this.up=this.up.bind(this)),n.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(n,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(n){if(this.done(),!this.view.dom.contains(n.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(eventCoords(n))),this.updateAllowDefault(n),this.allowDefault||!r?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,r.pos,r.inside,n,this.selectNode)?n.preventDefault():n.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome$1&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(r.pos))),n.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(n){this.updateAllowDefault(n),setSelectionOrigin(this.view,"pointer"),n.buttons==0&&this.done()}updateAllowDefault(n){!this.allowDefault&&(Math.abs(this.event.x-n.clientX)>4||Math.abs(this.event.y-n.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=t=>{t.input.lastTouch=Date.now(),forceDOMFlush(t),setSelectionOrigin(t,"pointer")};handlers.touchmove=t=>{t.input.lastTouch=Date.now(),setSelectionOrigin(t,"pointer")};handlers.contextmenu=t=>forceDOMFlush(t);function inOrNearComposition(t,n){return t.composing?!0:safari&&Math.abs(n.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:n}=t,r=n.selection.$to;if(n.selection instanceof TextSelection&&(n.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t,!n.selection.empty),gecko&&n.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let s=t.domSelectionRange();for(let o=s.focusNode,l=s.focusOffset;o&&o.nodeType==1&&l!=0;){let c=l<0?o.lastChild:o.childNodes[l-1];if(!c)break;if(c.nodeType==3){let p=t.domSelection();p&&p.collapse(c,c.nodeValue.length);break}else o=c,l=-1}}t.input.composing=!0}scheduleComposeEnd(t,timeoutComposition)};editHandlers.compositionend=(t,n)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=n.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,scheduleComposeEnd(t,20))};function scheduleComposeEnd(t,n){clearTimeout(t.input.composingTimeout),n>-1&&(t.input.composingTimeout=setTimeout(()=>endComposition(t),n))}function clearComposition(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=timestampFromCustomEvent());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(t){let n=t.domSelectionRange();if(!n.focusNode)return null;let r=textNodeBefore$1(n.focusNode,n.focusOffset),s=textNodeAfter$1(n.focusNode,n.focusOffset);if(r&&s&&r!=s){let o=s.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(r==l||s==l)return l;if(!o||!o.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let c=r.pmViewDesc;if(!(!c||!c.isText(r.nodeValue)))return s}}return r||s}function timestampFromCustomEvent(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function endComposition(t,n=!1){if(!(android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),n||t.docView&&t.docView.dirty){let r=selectionFromDOM(t),s=t.state.selection;return r&&!r.eq(s)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||n)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function captureCopy(t,n){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(n),r.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),o=document.createRange();o.selectNodeContents(n),t.dom.blur(),s.removeAllRanges(),s.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(t,n)=>{let r=n,s=t.state.selection,o=r.type=="cut";if(s.empty)return;let l=brokenClipboardAPI?null:r.clipboardData,c=s.content(),{dom:p,text:m}=serializeForClipboard(t,c);l?(r.preventDefault(),l.clearData(),l.setData("text/html",p.innerHTML),l.setData("text/plain",m)):captureCopy(t,p),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function capturePaste(t,n){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),r?doPaste(t,s.value,null,o,n):doPaste(t,s.textContent,s.innerHTML,o,n)},50)}function doPaste(t,n,r,s,o){let l=parseFromClipboard(t,n,r,s,t.state.selection.$from);if(t.someProp("handlePaste",m=>m(t,o,l||Slice.empty)))return!0;if(!l)return!1;let c=sliceSingleNode(l),p=c?t.state.tr.replaceSelectionWith(c,s):t.state.tr.replaceSelection(l);return t.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(t){let n=t.getData("text/plain")||t.getData("Text");if(n)return n;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}editHandlers.paste=(t,n)=>{let r=n;if(t.composing&&!android)return;let s=brokenClipboardAPI?null:r.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&doPaste(t,getText$1(s),s.getData("text/html"),o,r)?r.preventDefault():capturePaste(t,r)};class Dragging{constructor(n,r,s){this.slice=n,this.move=r,this.node=s}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(t,n){let r=t.someProp("dragCopies",s=>!s(n));return r??!n[dragCopyModifier]}handlers.dragstart=(t,n)=>{let r=n,s=t.input.mouseDown;if(s&&s.done(),!r.dataTransfer)return;let o=t.state.selection,l=o.empty?null:t.posAtCoords(eventCoords(r)),c;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof NodeSelection?o.to-1:o.to))){if(s&&s.mightDrag)c=NodeSelection.create(t.state.doc,s.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let _=t.docView.nearestDesc(r.target,!0);_&&_.node.type.spec.draggable&&_!=t.docView&&(c=NodeSelection.create(t.state.doc,_.posBefore))}}let p=(c||t.state.selection).content(),{dom:m,text:x,slice:b}=serializeForClipboard(t,p);(!r.dataTransfer.files.length||!chrome$1||chrome_version>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",m.innerHTML),r.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||r.dataTransfer.setData("text/plain",x),t.dragging=new Dragging(b,dragMoves(t,r),c)};handlers.dragend=t=>{let n=t.dragging;window.setTimeout(()=>{t.dragging==n&&(t.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(t,n)=>n.preventDefault();editHandlers.drop=(t,n)=>{let r=n,s=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let o=t.posAtCoords(eventCoords(r));if(!o)return;let l=t.state.doc.resolve(o.pos),c=s&&s.slice;c?t.someProp("transformPasted",M=>{c=M(c,t,!1)}):c=parseFromClipboard(t,getText$1(r.dataTransfer),brokenClipboardAPI?null:r.dataTransfer.getData("text/html"),!1,l);let p=!!(s&&dragMoves(t,r));if(t.someProp("handleDrop",M=>M(t,r,c||Slice.empty,p))){r.preventDefault();return}if(!c)return;r.preventDefault();let m=c?dropPoint(t.state.doc,l.pos,c):l.pos;m==null&&(m=l.pos);let x=t.state.tr;if(p){let{node:M}=s;M?M.replace(x):x.deleteSelection()}let b=x.mapping.map(m),_=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,R=x.doc;if(_?x.replaceRangeWith(b,b,c.content.firstChild):x.replaceRange(b,b,c),x.doc.eq(R))return;let k=x.doc.resolve(b);if(_&&NodeSelection.isSelectable(c.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(c.content.firstChild))x.setSelection(new NodeSelection(k));else{let M=x.mapping.map(m);x.mapping.maps[x.mapping.maps.length-1].forEach((P,K,$,G)=>M=G),x.setSelection(selectionBetween(t,k,x.doc.resolve(M)))}t.focus(),t.dispatch(x.setMeta("uiEvent","drop"))};handlers.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&selectionToDOM(t)},20))};handlers.blur=(t,n)=>{let r=n;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};handlers.beforeinput=(t,n)=>{if(chrome$1&&android&&n.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,keyEvent(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in editHandlers)handlers[t]=editHandlers[t];function compareObjs(t,n){if(t==n)return!0;for(let r in t)if(t[r]!==n[r])return!1;for(let r in n)if(!(r in t))return!1;return!0}class WidgetType{constructor(n,r){this.toDOM=n,this.spec=r||noSpec,this.side=this.spec.side||0}map(n,r,s,o){let{pos:l,deleted:c}=n.mapResult(r.from+o,this.side<0?-1:1);return c?null:new Decoration(l-s,l-s,this)}valid(){return!0}eq(n){return this==n||n instanceof WidgetType&&(this.spec.key&&this.spec.key==n.spec.key||this.toDOM==n.toDOM&&compareObjs(this.spec,n.spec))}destroy(n){this.spec.destroy&&this.spec.destroy(n)}}class InlineType{constructor(n,r){this.attrs=n,this.spec=r||noSpec}map(n,r,s,o){let l=n.map(r.from+o,this.spec.inclusiveStart?-1:1)-s,c=n.map(r.to+o,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new Decoration(l,c,this)}valid(n,r){return r.from<r.to}eq(n){return this==n||n instanceof InlineType&&compareObjs(this.attrs,n.attrs)&&compareObjs(this.spec,n.spec)}static is(n){return n.type instanceof InlineType}destroy(){}}class NodeType{constructor(n,r){this.attrs=n,this.spec=r||noSpec}map(n,r,s,o){let l=n.mapResult(r.from+o,1);if(l.deleted)return null;let c=n.mapResult(r.to+o,-1);return c.deleted||c.pos<=l.pos?null:new Decoration(l.pos-s,c.pos-s,this)}valid(n,r){let{index:s,offset:o}=n.content.findIndex(r.from),l;return o==r.from&&!(l=n.child(s)).isText&&o+l.nodeSize==r.to}eq(n){return this==n||n instanceof NodeType&&compareObjs(this.attrs,n.attrs)&&compareObjs(this.spec,n.spec)}destroy(){}}class Decoration{constructor(n,r,s){this.from=n,this.to=r,this.type=s}copy(n,r){return new Decoration(n,r,this.type)}eq(n,r=0){return this.type.eq(n.type)&&this.from+r==n.from&&this.to+r==n.to}map(n,r,s){return this.type.map(n,this,r,s)}static widget(n,r,s){return new Decoration(n,n,new WidgetType(r,s))}static inline(n,r,s,o){return new Decoration(n,r,new InlineType(s,o))}static node(n,r,s,o){return new Decoration(n,r,new NodeType(s,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(n,r){this.local=n.length?n:none,this.children=r.length?r:none}static create(n,r){return r.length?buildTree(r,n,0,noSpec):empty}find(n,r,s){let o=[];return this.findInner(n??0,r??1e9,o,0,s),o}findInner(n,r,s,o,l){for(let c=0;c<this.local.length;c++){let p=this.local[c];p.from<=r&&p.to>=n&&(!l||l(p.spec))&&s.push(p.copy(p.from+o,p.to+o))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>n){let p=this.children[c]+1;this.children[c+2].findInner(n-p,r-p,s,o+p,l)}}map(n,r,s){return this==empty||n.maps.length==0?this:this.mapInner(n,r,0,0,s||noSpec)}mapInner(n,r,s,o,l){let c;for(let p=0;p<this.local.length;p++){let m=this.local[p].map(n,s,o);m&&m.type.valid(r,m)?(c||(c=[])).push(m):l.onRemove&&l.onRemove(this.local[p].spec)}return this.children.length?mapChildren(this.children,c||[],n,r,s,o,l):c?new DecorationSet(c.sort(byPos),none):empty}add(n,r){return r.length?this==empty?DecorationSet.create(n,r):this.addInner(n,r,0):this}addInner(n,r,s){let o,l=0;n.forEach((p,m)=>{let x=m+s,b;if(b=takeSpansForNode(r,p,x)){for(o||(o=this.children.slice());l<o.length&&o[l]<m;)l+=3;o[l]==m?o[l+2]=o[l+2].addInner(p,b,x+1):o.splice(l,0,m,m+p.nodeSize,buildTree(b,p,x+1,noSpec)),l+=3}});let c=moveSpans(l?withoutNulls(r):r,-s);for(let p=0;p<c.length;p++)c[p].type.valid(n,c[p])||c.splice(p--,1);return new DecorationSet(c.length?this.local.concat(c).sort(byPos):this.local,o||this.children)}remove(n){return n.length==0||this==empty?this:this.removeInner(n,0)}removeInner(n,r){let s=this.children,o=this.local;for(let l=0;l<s.length;l+=3){let c,p=s[l]+r,m=s[l+1]+r;for(let b=0,_;b<n.length;b++)(_=n[b])&&_.from>p&&_.to<m&&(n[b]=null,(c||(c=[])).push(_));if(!c)continue;s==this.children&&(s=this.children.slice());let x=s[l+2].removeInner(c,p+1);x!=empty?s[l+2]=x:(s.splice(l,3),l-=3)}if(o.length){for(let l=0,c;l<n.length;l++)if(c=n[l])for(let p=0;p<o.length;p++)o[p].eq(c,r)&&(o==this.local&&(o=this.local.slice()),o.splice(p--,1))}return s==this.children&&o==this.local?this:o.length||s.length?new DecorationSet(o,s):empty}forChild(n,r){if(this==empty)return this;if(r.isLeaf)return DecorationSet.empty;let s,o;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=n){this.children[p]==n&&(s=this.children[p+2]);break}let l=n+1,c=l+r.content.size;for(let p=0;p<this.local.length;p++){let m=this.local[p];if(m.from<c&&m.to>l&&m.type instanceof InlineType){let x=Math.max(l,m.from)-l,b=Math.min(c,m.to)-l;x<b&&(o||(o=[])).push(m.copy(x,b))}}if(o){let p=new DecorationSet(o.sort(byPos),none);return s?new DecorationGroup([p,s]):p}return s||empty}eq(n){if(this==n)return!0;if(!(n instanceof DecorationSet)||this.local.length!=n.local.length||this.children.length!=n.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(n.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=n.children[r]||this.children[r+1]!=n.children[r+1]||!this.children[r+2].eq(n.children[r+2]))return!1;return!0}locals(n){return removeOverlap(this.localsInner(n))}localsInner(n){if(this==empty)return none;if(n.inlineContent||!this.local.some(InlineType.is))return this.local;let r=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof InlineType||r.push(this.local[s]);return r}forEachSet(n){n(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(n){this.members=n}map(n,r){const s=this.members.map(o=>o.map(n,r,noSpec));return DecorationGroup.from(s)}forChild(n,r){if(r.isLeaf)return DecorationSet.empty;let s=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(n,r);l!=empty&&(l instanceof DecorationGroup?s=s.concat(l.members):s.push(l))}return DecorationGroup.from(s)}eq(n){if(!(n instanceof DecorationGroup)||n.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(n.members[r]))return!1;return!0}locals(n){let r,s=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(n);if(l.length)if(!r)r=l;else{s&&(r=r.slice(),s=!1);for(let c=0;c<l.length;c++)r.push(l[c])}}return r?removeOverlap(s?r:r.sort(byPos)):none}static from(n){switch(n.length){case 0:return empty;case 1:return n[0];default:return new DecorationGroup(n.every(r=>r instanceof DecorationSet)?n:n.reduce((r,s)=>r.concat(s instanceof DecorationSet?s:s.members),[]))}}forEachSet(n){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(n)}}function mapChildren(t,n,r,s,o,l,c){let p=t.slice();for(let x=0,b=l;x<r.maps.length;x++){let _=0;r.maps[x].forEach((R,k,M,P)=>{let K=P-M-(k-R);for(let $=0;$<p.length;$+=3){let G=p[$+1];if(G<0||R>G+b-_)continue;let H=p[$]+b-_;k>=H?p[$+1]=R<=H?-2:-1:R>=b&&K&&(p[$]+=K,p[$+1]+=K)}_+=K}),b=r.maps[x].map(b,-1)}let m=!1;for(let x=0;x<p.length;x+=3)if(p[x+1]<0){if(p[x+1]==-2){m=!0,p[x+1]=-1;continue}let b=r.map(t[x]+l),_=b-o;if(_<0||_>=s.content.size){m=!0;continue}let R=r.map(t[x+1]+l,-1),k=R-o,{index:M,offset:P}=s.content.findIndex(_),K=s.maybeChild(M);if(K&&P==_&&P+K.nodeSize==k){let $=p[x+2].mapInner(r,K,b+1,t[x]+l+1,c);$!=empty?(p[x]=_,p[x+1]=k,p[x+2]=$):(p[x+1]=-2,m=!0)}else m=!0}if(m){let x=mapAndGatherRemainingDecorations(p,t,n,r,o,l,c),b=buildTree(x,s,0,c);n=b.local;for(let _=0;_<p.length;_+=3)p[_+1]<0&&(p.splice(_,3),_-=3);for(let _=0,R=0;_<b.children.length;_+=3){let k=b.children[_];for(;R<p.length&&p[R]<k;)R+=3;p.splice(R,0,b.children[_],b.children[_+1],b.children[_+2])}}return new DecorationSet(n.sort(byPos),p)}function moveSpans(t,n){if(!n||!t.length)return t;let r=[];for(let s=0;s<t.length;s++){let o=t[s];r.push(new Decoration(o.from+n,o.to+n,o.type))}return r}function mapAndGatherRemainingDecorations(t,n,r,s,o,l,c){function p(m,x){for(let b=0;b<m.local.length;b++){let _=m.local[b].map(s,o,x);_?r.push(_):c.onRemove&&c.onRemove(m.local[b].spec)}for(let b=0;b<m.children.length;b+=3)p(m.children[b+2],m.children[b]+x+1)}for(let m=0;m<t.length;m+=3)t[m+1]==-1&&p(t[m+2],n[m]+l+1);return r}function takeSpansForNode(t,n,r){if(n.isLeaf)return null;let s=r+n.nodeSize,o=null;for(let l=0,c;l<t.length;l++)(c=t[l])&&c.from>r&&c.to<s&&((o||(o=[])).push(c),t[l]=null);return o}function withoutNulls(t){let n=[];for(let r=0;r<t.length;r++)t[r]!=null&&n.push(t[r]);return n}function buildTree(t,n,r,s){let o=[],l=!1;n.forEach((p,m)=>{let x=takeSpansForNode(t,p,m+r);if(x){l=!0;let b=buildTree(x,p,r+m+1,s);b!=empty&&o.push(m,m+p.nodeSize,b)}});let c=moveSpans(l?withoutNulls(t):t,-r).sort(byPos);for(let p=0;p<c.length;p++)c[p].type.valid(n,c[p])||(s.onRemove&&s.onRemove(c[p].spec),c.splice(p--,1));return c.length||o.length?new DecorationSet(c,o):empty}function byPos(t,n){return t.from-n.from||t.to-n.to}function removeOverlap(t){let n=t;for(let r=0;r<n.length-1;r++){let s=n[r];if(s.from!=s.to)for(let o=r+1;o<n.length;o++){let l=n[o];if(l.from==s.from){l.to!=s.to&&(n==t&&(n=t.slice()),n[o]=l.copy(l.from,s.to),insertAhead(n,o+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(n==t&&(n=t.slice()),n[r]=s.copy(s.from,l.from),insertAhead(n,o,s.copy(l.from,s.to)));break}}}return n}function insertAhead(t,n,r){for(;n<t.length&&byPos(r,t[n])>0;)n++;t.splice(n,0,r)}function viewDecorations(t){let n=[];return t.someProp("decorations",r=>{let s=r(t.state);s&&s!=empty&&n.push(s)}),t.cursorWrapper&&n.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(n)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(n){this.anchorNode=n.anchorNode,this.anchorOffset=n.anchorOffset,this.focusNode=n.focusNode,this.focusOffset=n.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(n){return n.anchorNode==this.anchorNode&&n.anchorOffset==this.anchorOffset&&n.focusNode==this.focusNode&&n.focusOffset==this.focusOffset}}class DOMObserver{constructor(n,r){this.view=n,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let o=0;o<s.length;o++)this.queue.push(s[o]);ie$1&&ie_version<=11&&s.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let n=this.observer.takeRecords();if(n.length){for(let r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let n=this.view.domSelectionRange();if(n.focusNode&&isEquivalentPosition(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(n){if(!n.focusNode)return!0;let r=new Set,s;for(let l=n.focusNode;l;l=parentNode(l))r.add(l);for(let l=n.anchorNode;l;l=parentNode(l))if(r.has(l)){s=l;break}let o=s&&this.view.docView.nearestDesc(s);if(o&&o.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}flush(){let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let s=n.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&hasFocusAndSelection(n)&&!this.ignoreSelectionChange(s),l=-1,c=-1,p=!1,m=[];if(n.editable)for(let b=0;b<r.length;b++){let _=this.registerMutation(r[b],m);_&&(l=l<0?_.from:Math.min(_.from,l),c=c<0?_.to:Math.max(_.to,c),_.typeOver&&(p=!0))}if(gecko&&m.length){let b=m.filter(_=>_.nodeName=="BR");if(b.length==2){let[_,R]=b;_.parentNode&&_.parentNode.parentNode==R.parentNode?R.remove():_.remove()}else{let{focusNode:_}=this.currentSelection;for(let R of b){let k=R.parentNode;k&&k.nodeName=="LI"&&(!_||blockParent(n,_)!=k)&&R.remove()}}}let x=null;l<0&&o&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&selectionCollapsed(s)&&(x=selectionFromDOM(n))&&x.eq(Selection.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,selectionToDOM(n),this.currentSelection.set(s),n.scrollToSelection()):(l>-1||o)&&(l>-1&&(n.docView.markDirty(l,c),checkCSS(n)),this.handleDOMChange(l,c,p,m),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(s)||selectionToDOM(n),this.currentSelection.set(s))}registerMutation(n,r){if(r.indexOf(n.target)>-1)return null;let s=this.view.docView.nearestDesc(n.target);if(n.type=="attributes"&&(s==this.view.docView||n.attributeName=="contenteditable"||n.attributeName=="style"&&!n.oldValue&&!n.target.getAttribute("style"))||!s||s.ignoreMutation(n))return null;if(n.type=="childList"){for(let b=0;b<n.addedNodes.length;b++){let _=n.addedNodes[b];r.push(_),_.nodeType==3&&(this.lastChangedTextNode=_)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(n.target))return{from:s.posBefore,to:s.posAfter};let o=n.previousSibling,l=n.nextSibling;if(ie$1&&ie_version<=11&&n.addedNodes.length)for(let b=0;b<n.addedNodes.length;b++){let{previousSibling:_,nextSibling:R}=n.addedNodes[b];(!_||Array.prototype.indexOf.call(n.addedNodes,_)<0)&&(o=_),(!R||Array.prototype.indexOf.call(n.addedNodes,R)<0)&&(l=R)}let c=o&&o.parentNode==n.target?domIndex(o)+1:0,p=s.localPosFromDOM(n.target,c,-1),m=l&&l.parentNode==n.target?domIndex(l):n.target.childNodes.length,x=s.localPosFromDOM(n.target,m,1);return{from:p,to:x}}else return n.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=n.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:n.target.nodeValue==n.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(t){if(!cssChecked.has(t)&&(cssChecked.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(t,n){let r=n.startContainer,s=n.startOffset,o=n.endContainer,l=n.endOffset,c=t.domAtPos(t.state.selection.anchor);return isEquivalentPosition(c.node,c.offset,o,l)&&([r,s,o,l]=[o,l,r,s]),{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l}}function safariShadowSelectionRange(t,n){if(n.getComposedRanges){let o=n.getComposedRanges(t.root)[0];if(o)return rangeToSelectionRange(t,o)}let r;function s(o){o.preventDefault(),o.stopImmediatePropagation(),r=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),r?rangeToSelectionRange(t,r):null}function blockParent(t,n){for(let r=n.parentNode;r&&r!=t.dom;r=r.parentNode){let s=t.docView.nearestDesc(r,!0);if(s&&s.node.isBlock)return r}return null}function parseBetween(t,n,r){let{node:s,fromOffset:o,toOffset:l,from:c,to:p}=t.docView.parseRange(n,r),m=t.domSelectionRange(),x,b=m.anchorNode;if(b&&t.dom.contains(b.nodeType==1?b:b.parentNode)&&(x=[{node:b,offset:m.anchorOffset}],selectionCollapsed(m)||x.push({node:m.focusNode,offset:m.focusOffset})),chrome$1&&t.input.lastKeyCode===8)for(let K=l;K>o;K--){let $=s.childNodes[K-1],G=$.pmViewDesc;if($.nodeName=="BR"&&!G){l=K;break}if(!G||G.size)break}let _=t.state.doc,R=t.someProp("domParser")||DOMParser.fromSchema(t.state.schema),k=_.resolve(c),M=null,P=R.parse(s,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:o,to:l,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:x,ruleFromNode,context:k});if(x&&x[0].pos!=null){let K=x[0].pos,$=x[1]&&x[1].pos;$==null&&($=K),M={anchor:K+c,head:$+c}}return{doc:P,sel:M,from:c,to:p}}function ruleFromNode(t){let n=t.pmViewDesc;if(n)return n.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(t,n,r,s,o){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,n<0){let X=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,te=selectionFromDOM(t,X);if(te&&!t.state.selection.eq(te)){if(chrome$1&&android&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",pe=>pe(t,keyEvent(13,"Enter"))))return;let se=t.state.tr.setSelection(te);X=="pointer"?se.setMeta("pointer",!0):X=="key"&&se.scrollIntoView(),l&&se.setMeta("composition",l),t.dispatch(se)}return}let c=t.state.doc.resolve(n),p=c.sharedDepth(r);n=c.before(p+1),r=t.state.doc.resolve(r).after(p+1);let m=t.state.selection,x=parseBetween(t,n,r),b=t.state.doc,_=b.slice(x.from,x.to),R,k;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(R=t.state.selection.to,k="end"):(R=t.state.selection.from,k="start"),t.input.lastKeyCode=null;let M=findDiff(_.content,x.doc.content,x.from,R,k);if(M&&t.input.domChangeCount++,(ios&&t.input.lastIOSEnter>Date.now()-225||android)&&o.some(X=>X.nodeType==1&&!isInline.test(X.nodeName))&&(!M||M.endA>=M.endB)&&t.someProp("handleKeyDown",X=>X(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!M)if(s&&m instanceof TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor)&&!t.composing&&!(x.sel&&x.sel.anchor!=x.sel.head))M={start:m.from,endA:m.to,endB:m.to};else{if(x.sel){let X=resolveSelection(t,t.state.doc,x.sel);if(X&&!X.eq(t.state.selection)){let te=t.state.tr.setSelection(X);l&&te.setMeta("composition",l),t.dispatch(te)}}return}t.state.selection.from<t.state.selection.to&&M.start==M.endB&&t.state.selection instanceof TextSelection&&(M.start>t.state.selection.from&&M.start<=t.state.selection.from+2&&t.state.selection.from>=x.from?M.start=t.state.selection.from:M.endA<t.state.selection.to&&M.endA>=t.state.selection.to-2&&t.state.selection.to<=x.to&&(M.endB+=t.state.selection.to-M.endA,M.endA=t.state.selection.to)),ie$1&&ie_version<=11&&M.endB==M.start+1&&M.endA==M.start&&M.start>x.from&&x.doc.textBetween(M.start-x.from-1,M.start-x.from+1)==" "&&(M.start--,M.endA--,M.endB--);let P=x.doc.resolveNoCache(M.start-x.from),K=x.doc.resolveNoCache(M.endB-x.from),$=b.resolve(M.start),G=P.sameParent(K)&&P.parent.inlineContent&&$.end()>=M.endA;if((ios&&t.input.lastIOSEnter>Date.now()-225&&(!G||o.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!G&&P.pos<x.doc.content.size&&(!P.sameParent(K)||!P.parent.inlineContent)&&P.pos<K.pos&&!/\S/.test(x.doc.textBetween(P.pos,K.pos,"","")))&&t.someProp("handleKeyDown",X=>X(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>M.start&&looksLikeBackspace(b,M.start,M.endA,P,K)&&t.someProp("handleKeyDown",X=>X(t,keyEvent(8,"Backspace")))){android&&chrome$1&&t.domObserver.suppressSelectionUpdates();return}chrome$1&&M.endB==M.start&&(t.input.lastChromeDelete=Date.now()),android&&!G&&P.start()!=K.start()&&K.parentOffset==0&&P.depth==K.depth&&x.sel&&x.sel.anchor==x.sel.head&&x.sel.head==M.endA&&(M.endB-=2,K=x.doc.resolveNoCache(M.endB-x.from),setTimeout(()=>{t.someProp("handleKeyDown",function(X){return X(t,keyEvent(13,"Enter"))})},20));let H=M.start,j=M.endA,W=X=>{let te=X||t.state.tr.replace(H,j,x.doc.slice(M.start-x.from,M.endB-x.from));if(x.sel){let se=resolveSelection(t,te.doc,x.sel);se&&!(chrome$1&&t.composing&&se.empty&&(M.start!=M.endB||t.input.lastChromeDelete<Date.now()-100)&&(se.head==H||se.head==te.mapping.map(j)-1)||ie$1&&se.empty&&se.head==H)&&te.setSelection(se)}return l&&te.setMeta("composition",l),te.scrollIntoView()},Y;if(G)if(P.pos==K.pos){ie$1&&ie_version<=11&&P.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(t),20));let X=W(t.state.tr.delete(H,j)),te=b.resolve(M.start).marksAcross(b.resolve(M.endA));te&&X.ensureMarks(te),t.dispatch(X)}else if(M.endA==M.endB&&(Y=isMarkChange(P.parent.content.cut(P.parentOffset,K.parentOffset),$.parent.content.cut($.parentOffset,M.endA-$.start())))){let X=W(t.state.tr);Y.type=="add"?X.addMark(H,j,Y.mark):X.removeMark(H,j,Y.mark),t.dispatch(X)}else if(P.parent.child(P.index()).isText&&P.index()==K.index()-(K.textOffset?0:1)){let X=P.parent.textBetween(P.parentOffset,K.parentOffset),te=()=>W(t.state.tr.insertText(X,H,j));t.someProp("handleTextInput",se=>se(t,H,j,X,te))||t.dispatch(te())}else t.dispatch(W());else t.dispatch(W())}function resolveSelection(t,n,r){return Math.max(r.anchor,r.head)>n.content.size?null:selectionBetween(t,n.resolve(r.anchor),n.resolve(r.head))}function isMarkChange(t,n){let r=t.firstChild.marks,s=n.firstChild.marks,o=r,l=s,c,p,m;for(let b=0;b<s.length;b++)o=s[b].removeFromSet(o);for(let b=0;b<r.length;b++)l=r[b].removeFromSet(l);if(o.length==1&&l.length==0)p=o[0],c="add",m=b=>b.mark(p.addToSet(b.marks));else if(o.length==0&&l.length==1)p=l[0],c="remove",m=b=>b.mark(p.removeFromSet(b.marks));else return null;let x=[];for(let b=0;b<n.childCount;b++)x.push(m(n.child(b)));if(Fragment.from(x).eq(t))return{mark:p,type:c}}function looksLikeBackspace(t,n,r,s,o){if(r-n<=o.pos-s.pos||skipClosingAndOpening(s,!0,!1)<o.pos)return!1;let l=t.resolve(n);if(!s.parent.isTextblock){let p=l.nodeAfter;return p!=null&&r==n+p.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=t.resolve(skipClosingAndOpening(l,!0,!0));return!c.parent.isTextblock||c.pos>r||skipClosingAndOpening(c,!0,!1)<r?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function skipClosingAndOpening(t,n,r){let s=t.depth,o=n?t.end():t.pos;for(;s>0&&(n||t.indexAfter(s)==t.node(s).childCount);)s--,o++,n=!1;if(r){let l=t.node(s).maybeChild(t.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function findDiff(t,n,r,s,o){let l=t.findDiffStart(n,r);if(l==null)return null;let{a:c,b:p}=t.findDiffEnd(n,r+t.size,r+n.size);if(o=="end"){let m=Math.max(0,l-Math.min(c,p));s-=c+m-l}if(c<l&&t.size<n.size){let m=s<=l&&s>=c?l-s:0;l-=m,l&&l<n.size&&isSurrogatePair(n.textBetween(l-1,l+1))&&(l+=m?1:-1),p=l+(p-c),c=l}else if(p<l){let m=s<=l&&s>=p?l-s:0;l-=m,l&&l<t.size&&isSurrogatePair(t.textBetween(l-1,l+1))&&(l+=m?1:-1),c=l+(c-p),p=l}return{start:l,endA:c,endB:p}}function isSurrogatePair(t){if(t.length!=2)return!1;let n=t.charCodeAt(0),r=t.charCodeAt(1);return n>=56320&&n<=57343&&r>=55296&&r<=56319}class EditorView{constructor(n,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=n&&n.mount||document.createElement("div"),n&&(n.appendChild?n.appendChild(this.dom):typeof n=="function"?n(this.dom):n.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(s,o,l,c)=>readDOMChange(this,s,o,l,c)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let n=this._props;this._props={};for(let r in n)this._props[r]=n[r];this._props.state=this.state}return this._props}update(n){n.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let r=this._props;this._props=n,n.plugins&&(n.plugins.forEach(checkStateComponent),this.directPlugins=n.plugins),this.updateStateInner(n.state,r)}setProps(n){let r={};for(let s in this._props)r[s]=this._props[s];r.state=this.state;for(let s in n)r[s]=n[s];this.update(r)}updateState(n){this.updateStateInner(n,this._props)}updateStateInner(n,r){var s;let o=this.state,l=!1,c=!1;n.storedMarks&&this.composing&&(clearComposition(this),c=!0),this.state=n;let p=o.plugins!=n.plugins||this._props.plugins!=r.plugins;if(p||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let k=buildNodeViews(this);changedNodeViews(k,this.nodeViews)&&(this.nodeViews=k,l=!0)}(p||r.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let m=viewDecorations(this),x=computeDocDeco(this),b=o.plugins!=n.plugins&&!o.doc.eq(n.doc)?"reset":n.scrollToSelection>o.scrollToSelection?"to selection":"preserve",_=l||!this.docView.matchesNode(n.doc,x,m);(_||!n.selection.eq(o.selection))&&(c=!0);let R=b=="preserve"&&c&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(c){this.domObserver.stop();let k=_&&(ie$1||chrome$1)&&!this.composing&&!o.selection.empty&&!n.selection.empty&&selectionContextChanged(o.selection,n.selection);if(_){let M=chrome$1?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(l||!this.docView.update(n.doc,x,m,this))&&(this.docView.updateOuterDeco(x),this.docView.destroy(),this.docView=docViewDesc(n.doc,x,m,this.dom,this)),M&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,k):(syncNodeSelection(this,n.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((s=this.dragging)===null||s===void 0)&&s.node&&!o.doc.eq(n.doc)&&this.updateDraggedNode(this.dragging,o),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():R&&resetScrollPos(R)}scrollToSelection(){let n=this.domSelectionRange().focusNode;if(!(!n||!this.dom.contains(n.nodeType==1?n:n.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof NodeSelection){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&scrollRectIntoView(this,r.getBoundingClientRect(),n)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),n)}}destroyPluginViews(){let n;for(;n=this.pluginViews.pop();)n.destroy&&n.destroy()}updatePluginViews(n){if(!n||n.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let s=this.state.plugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let s=this.pluginViews[r];s.update&&s.update(this,n)}}updateDraggedNode(n,r){let s=n.node,o=-1;if(this.state.doc.nodeAt(s.from)==s.node)o=s.from;else{let l=s.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==s.node&&(o=l)}this.dragging=new Dragging(n.slice,n.move,o<0?void 0:NodeSelection.create(this.state.doc,o))}someProp(n,r){let s=this._props&&this._props[n],o;if(s!=null&&(o=r?r(s):s))return o;for(let c=0;c<this.directPlugins.length;c++){let p=this.directPlugins[c].props[n];if(p!=null&&(o=r?r(p):p))return o}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let p=l[c].props[n];if(p!=null&&(o=r?r(p):p))return o}}hasFocus(){if(ie$1){let n=this.root.activeElement;if(n==this.dom)return!0;if(!n||!this.dom.contains(n))return!1;for(;n&&this.dom!=n&&this.dom.contains(n);){if(n.contentEditable=="false")return!1;n=n.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let n=this._root;if(n==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return n||document}updateRoot(){this._root=null}posAtCoords(n){return posAtCoords(this,n)}coordsAtPos(n,r=1){return coordsAtPos(this,n,r)}domAtPos(n,r=0){return this.docView.domFromPos(n,r)}nodeDOM(n){let r=this.docView.descAt(n);return r?r.nodeDOM:null}posAtDOM(n,r,s=-1){let o=this.docView.posFromDOM(n,r,s);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(n,r){return endOfTextblock(this,r||this.state,n)}pasteHTML(n,r){return doPaste(this,"",n,!1,r||new ClipboardEvent("paste"))}pasteText(n,r){return doPaste(this,n,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(n){return serializeForClipboard(this,n)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(n){return dispatchEvent(this,n)}domSelectionRange(){let n=this.domSelection();return n?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,n)||n:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))};function computeDocDeco(t){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let s in r)s=="class"?n.class+=" "+r[s]:s=="style"?n.style=(n.style?n.style+";":"")+r[s]:!n[s]&&s!="contenteditable"&&s!="nodeName"&&(n[s]=String(r[s]))}),n.translate||(n.translate="no"),[Decoration.node(0,t.state.doc.content.size,n)]}function updateCursorWrapper(t){if(t.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),t.cursorWrapper={dom:n,deco:Decoration.widget(t.state.selection.from,n,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",n=>n(t.state)===!1)}function selectionContextChanged(t,n){let r=Math.min(t.$anchor.sharedDepth(t.head),n.$anchor.sharedDepth(n.head));return t.$anchor.start(r)!=n.$anchor.start(r)}function buildNodeViews(t){let n=Object.create(null);function r(s){for(let o in s)Object.prototype.hasOwnProperty.call(n,o)||(n[o]=s[o])}return t.someProp("nodeViews",r),t.someProp("markViews",r),n}function changedNodeViews(t,n){let r=0,s=0;for(let o in t){if(t[o]!=n[o])return!0;r++}for(let o in n)s++;return r!=s}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(t){var n=mac$1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!n&&t.key||(t.shiftKey?shift:base)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(t){let n=t.split(/-(?!$)/),r=n[n.length-1];r=="Space"&&(r=" ");let s,o,l,c;for(let p=0;p<n.length-1;p++){let m=n[p];if(/^(cmd|meta|m)$/i.test(m))c=!0;else if(/^a(lt)?$/i.test(m))s=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))l=!0;else if(/^mod$/i.test(m))mac?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+m)}return s&&(r="Alt-"+r),o&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function normalize(t){let n=Object.create(null);for(let r in t)n[normalizeKeyName$1(r)]=t[r];return n}function modifiers(t,n,r=!0){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),r&&n.shiftKey&&(t="Shift-"+t),t}function keymap(t){return new Plugin({props:{handleKeyDown:keydownHandler(t)}})}function keydownHandler(t){let n=normalize(t);return function(r,s){let o=keyName(s),l,c=n[modifiers(o,s)];if(c&&c(r.state,r.dispatch,r))return!0;if(o.length==1&&o!=" "){if(s.shiftKey){let p=n[modifiers(o,s,!1)];if(p&&p(r.state,r.dispatch,r))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(windows&&s.ctrlKey&&s.altKey)&&(l=base[s.keyCode])&&l!=o){let p=n[modifiers(l,s)];if(p&&p(r.state,r.dispatch,r))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(t,n)=>{for(var r in n)__defProp$1(t,r,{get:n[r],enumerable:!0})};function createChainableState(t){const{state:n,transaction:r}=t;let{selection:s}=r,{doc:o}=r,{storedMarks:l}=r;return{...n,apply:n.apply.bind(n),applyTransaction:n.applyTransaction.bind(n),plugins:n.plugins,schema:n.schema,reconfigure:n.reconfigure.bind(n),toJSON:n.toJSON.bind(n),get storedMarks(){return l},get selection(){return s},get doc(){return o},get tr(){return s=r.selection,o=r.doc,l=r.storedMarks,r}}}var CommandManager=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:s}=n,{tr:o}=r,l=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([c,p])=>[c,(...x)=>{const b=p(...x)(l);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:l}=s,c=[],p=!!t,m=t||o.tr,x=()=>(!p&&n&&!m.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(m),c.every(_=>_===!0)),b={...Object.fromEntries(Object.entries(r).map(([_,R])=>[_,(...M)=>{const P=this.buildProps(m,n),K=R(...M)(P);return c.push(K),b}])),run:x};return b}createCan(t){const{rawCommands:n,state:r}=this,s=!1,o=t||r.tr,l=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(n).map(([p,m])=>[p,(...x)=>m(...x)({...l,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(t,n=!0){const{rawCommands:r,editor:s,state:o}=this,{view:l}=s,c={tr:t,editor:s,view:l,state:createChainableState({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...x)=>m(...x)(c)]))}};return c}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:t,view:n})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(n.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),clearContent=(t=!0)=>({commands:n})=>n.setContent("",{emitUpdate:t}),clearNodes=()=>({state:t,tr:n,dispatch:r})=>{const{selection:s}=n,{ranges:o}=s;return r&&o.forEach(({$from:l,$to:c})=>{t.doc.nodesBetween(l.pos,c.pos,(p,m)=>{if(p.type.isText)return;const{doc:x,mapping:b}=n,_=x.resolve(b.map(m)),R=x.resolve(b.map(m+p.nodeSize)),k=_.blockRange(R);if(!k)return;const M=liftTarget(k);if(p.type.isTextblock){const{defaultType:P}=_.parent.contentMatchAt(_.index());n.setNodeMarkup(k.start,P)}(M||M===0)&&n.lift(k,M)})}),!0},command=t=>n=>t(n),createParagraphNear=()=>({state:t,dispatch:n})=>createParagraphNear$1(t,n),cut=(t,n)=>({editor:r,tr:s})=>{const{state:o}=r,l=o.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const c=s.mapping.map(n);return s.insert(c,l.content),s.setSelection(new TextSelection(s.doc.resolve(Math.max(c-1,0)))),!0},deleteCurrentNode=()=>({tr:t,dispatch:n})=>{const{selection:r}=t,s=r.$anchor.node();if(s.content.size>0)return!1;const o=t.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===s.type){if(n){const p=o.before(l),m=o.after(l);t.delete(p,m).scrollIntoView()}return!0}return!1};function getNodeType(t,n){if(typeof t=="string"){if(!n.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return n.nodes[t]}return t}var deleteNode=t=>({tr:n,state:r,dispatch:s})=>{const o=getNodeType(t,r.schema),l=n.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===o){if(s){const m=l.before(c),x=l.after(c);n.delete(m,x).scrollIntoView()}return!0}return!1},deleteRange=t=>({tr:n,dispatch:r})=>{const{from:s,to:o}=t;return r&&n.delete(s,o),!0},deleteSelection=()=>({state:t,dispatch:n})=>deleteSelection$1(t,n),enter=()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode=()=>({state:t,dispatch:n})=>exitCode$1(t,n);function isRegExp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function objectIncludes(t,n,r={strict:!0}){const s=Object.keys(n);return s.length?s.every(o=>r.strict?n[o]===t[o]:isRegExp(n[o])?n[o].test(t[o]):n[o]===t[o]):!0}function findMarkInSet(t,n,r={}){return t.find(s=>s.type===n&&objectIncludes(Object.fromEntries(Object.keys(r).map(o=>[o,s.attrs[o]])),r))}function isMarkInSet(t,n,r={}){return!!findMarkInSet(t,n,r)}function getMarkRange(t,n,r){var s;if(!t||!n)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(b=>b.type===n))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(b=>b.type===n)||(r=r||((s=o.node.marks[0])==null?void 0:s.attrs),!findMarkInSet([...o.node.marks],n,r)))return;let c=o.index,p=t.start()+o.offset,m=c+1,x=p+o.node.nodeSize;for(;c>0&&isMarkInSet([...t.parent.child(c-1).marks],n,r);)c-=1,p-=t.parent.child(c).nodeSize;for(;m<t.parent.childCount&&isMarkInSet([...t.parent.child(m).marks],n,r);)x+=t.parent.child(m).nodeSize,m+=1;return{from:p,to:x}}function getMarkType(t,n){if(typeof t=="string"){if(!n.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return n.marks[t]}return t}var extendMarkRange=(t,n={})=>({tr:r,state:s,dispatch:o})=>{const l=getMarkType(t,s.schema),{doc:c,selection:p}=r,{$from:m,from:x,to:b}=p;if(o){const _=getMarkRange(m,l,n);if(_&&_.from<=x&&_.to>=b){const R=TextSelection.create(c,_.from,_.to);r.setSelection(R)}}return!0},first=t=>n=>{const r=typeof t=="function"?t(n):t;for(let s=0;s<r.length;s+=1)if(r[s](n))return!0;return!1};function isTextSelection(t){return t instanceof TextSelection}function minMax(t=0,n=0,r=0){return Math.min(Math.max(t,n),r)}function resolveFocusPosition(t,n=null){if(!n)return null;const r=Selection.atStart(t),s=Selection.atEnd(t);if(n==="start"||n===!0)return r;if(n==="end")return s;const o=r.from,l=s.to;return n==="all"?TextSelection.create(t,minMax(0,o,l),minMax(t.content.size,o,l)):TextSelection.create(t,minMax(n,o,l),minMax(n,o,l))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var focus=(t=null,n={})=>({editor:r,view:s,tr:o,dispatch:l})=>{n={scrollIntoView:!0,...n};const c=()=>{(isiOS()||isAndroid())&&s.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(s.focus(),n!=null&&n.scrollIntoView&&r.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!isTextSelection(r.state.selection))return c(),!0;const p=resolveFocusPosition(o.doc,t)||r.state.selection,m=r.state.selection.eq(p);return l&&(m||o.setSelection(p),m&&o.storedMarks&&o.setStoredMarks(o.storedMarks),c()),!0},forEach=(t,n)=>r=>t.every((s,o)=>n(s,{...r,index:o})),insertContent=(t,n)=>({tr:r,commands:s})=>s.insertContentAt({from:r.selection.from,to:r.selection.to},t,n),removeWhitespaces=t=>{const n=t.childNodes;for(let r=n.length-1;r>=0;r-=1){const s=n[r];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&removeWhitespaces(s)}return t};function elementFromString(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const n=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(n,"text/html").body;return removeWhitespaces(r)}function createNodeFromContent(t,n,r){if(t instanceof Node$1||t instanceof Fragment)return t;r={slice:!0,parseOptions:{},...r};const s=typeof t=="object"&&t!==null,o=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return Fragment.fromArray(t.map(p=>n.nodeFromJSON(p)));const c=n.nodeFromJSON(t);return r.errorOnInvalidContent&&c.check(),c}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),createNodeFromContent("",n,r)}if(o){if(r.errorOnInvalidContent){let c=!1,p="";const m=new Schema({topNode:n.spec.topNode,marks:n.spec.marks,nodes:n.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:x=>(c=!0,p=typeof x=="string"?x:x.outerHTML,null)}]}})});if(r.slice?DOMParser.fromSchema(m).parseSlice(elementFromString(t),r.parseOptions):DOMParser.fromSchema(m).parse(elementFromString(t),r.parseOptions),r.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${p}`)})}const l=DOMParser.fromSchema(n);return r.slice?l.parseSlice(elementFromString(t),r.parseOptions).content:l.parse(elementFromString(t),r.parseOptions)}return createNodeFromContent("",n,r)}function selectionToInsertionEnd(t,n,r){const s=t.steps.length-1;if(s<n)return;const o=t.steps[s];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;const l=t.mapping.maps[s];let c=0;l.forEach((p,m,x,b)=>{c===0&&(c=b)}),t.setSelection(Selection.near(t.doc.resolve(c),r))}var isFragment=t=>!("type"in t),insertContentAt=(t,n,r)=>({tr:s,dispatch:o,editor:l})=>{var c;if(o){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let p;const m=K=>{l.emit("contentError",{editor:l,error:K,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},x={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{createNodeFromContent(n,l.schema,{parseOptions:x,errorOnInvalidContent:!0})}catch(K){m(K)}try{p=createNodeFromContent(n,l.schema,{parseOptions:x,errorOnInvalidContent:(c=r.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(K){return m(K),!1}let{from:b,to:_}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},R=!0,k=!0;if((isFragment(p)?p:[p]).forEach(K=>{K.check(),R=R?K.isText&&K.marks.length===0:!1,k=k?K.isBlock:!1}),b===_&&k){const{parent:K}=s.doc.resolve(b);K.isTextblock&&!K.type.spec.code&&!K.childCount&&(b-=1,_+=1)}let P;if(R){if(Array.isArray(n))P=n.map(K=>K.text||"").join("");else if(n instanceof Fragment){let K="";n.forEach($=>{$.text&&(K+=$.text)}),P=K}else typeof n=="object"&&n&&n.text?P=n.text:P=n;s.insertText(P,b,_)}else{P=p;const K=s.doc.resolve(b),$=K.node(),G=K.parentOffset===0,H=$.isText||$.isTextblock,j=$.content.size>0;G&&H&&j&&(b=Math.max(0,b-1)),s.replaceWith(b,_,P)}r.updateSelection&&selectionToInsertionEnd(s,s.steps.length-1,-1),r.applyInputRules&&s.setMeta("applyInputRules",{from:b,text:P}),r.applyPasteRules&&s.setMeta("applyPasteRules",{from:b,text:P})}return!0},joinUp=()=>({state:t,dispatch:n})=>joinUp$1(t,n),joinDown=()=>({state:t,dispatch:n})=>joinDown$1(t,n),joinBackward=()=>({state:t,dispatch:n})=>joinBackward$1(t,n),joinForward=()=>({state:t,dispatch:n})=>joinForward$1(t,n),joinItemBackward=()=>({state:t,dispatch:n,tr:r})=>{try{const s=joinPoint(t.doc,t.selection.$from.pos,-1);return s==null?!1:(r.join(s,2),n&&n(r),!0)}catch{return!1}},joinItemForward=()=>({state:t,dispatch:n,tr:r})=>{try{const s=joinPoint(t.doc,t.selection.$from.pos,1);return s==null?!1:(r.join(s,2),n&&n(r),!0)}catch{return!1}},joinTextblockBackward=()=>({state:t,dispatch:n})=>joinTextblockBackward$1(t,n),joinTextblockForward=()=>({state:t,dispatch:n})=>joinTextblockForward$1(t,n);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(t){const n=t.split(/-(?!$)/);let r=n[n.length-1];r==="Space"&&(r=" ");let s,o,l,c;for(let p=0;p<n.length-1;p+=1){const m=n[p];if(/^(cmd|meta|m)$/i.test(m))c=!0;else if(/^a(lt)?$/i.test(m))s=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))l=!0;else if(/^mod$/i.test(m))isiOS()||isMacOS()?c=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${m}`)}return s&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),c&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var keyboardShortcut=t=>({editor:n,view:r,tr:s,dispatch:o})=>{const l=normalizeKeyName(t).split(/-(?!$)/),c=l.find(x=>!["Alt","Ctrl","Meta","Shift"].includes(x)),p=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),m=n.captureTransaction(()=>{r.someProp("handleKeyDown",x=>x(r,p))});return m==null||m.steps.forEach(x=>{const b=x.map(s.mapping);b&&o&&s.maybeStep(b)}),!0};function isNodeActive(t,n,r={}){const{from:s,to:o,empty:l}=t.selection,c=n?getNodeType(n,t.schema):null,p=[];t.doc.nodesBetween(s,o,(_,R)=>{if(_.isText)return;const k=Math.max(s,R),M=Math.min(o,R+_.nodeSize);p.push({node:_,from:k,to:M})});const m=o-s,x=p.filter(_=>c?c.name===_.node.type.name:!0).filter(_=>objectIncludes(_.node.attrs,r,{strict:!1}));return l?!!x.length:x.reduce((_,R)=>_+R.to-R.from,0)>=m}var lift=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return isNodeActive(r,o,n)?lift$1(r,s):!1},liftEmptyBlock=()=>({state:t,dispatch:n})=>liftEmptyBlock$1(t,n),liftListItem=t=>({state:n,dispatch:r})=>{const s=getNodeType(t,n.schema);return liftListItem$1(s)(n,r)},newlineInCode=()=>({state:t,dispatch:n})=>newlineInCode$1(t,n);function getSchemaTypeNameByName(t,n){return n.nodes[t]?"node":n.marks[t]?"mark":null}function deleteProps(t,n){const r=typeof n=="string"?[n]:n;return Object.keys(t).reduce((s,o)=>(r.includes(o)||(s[o]=t[o]),s),{})}var resetAttributes=(t,n)=>({tr:r,state:s,dispatch:o})=>{let l=null,c=null;const p=getSchemaTypeNameByName(typeof t=="string"?t:t.name,s.schema);return p?(p==="node"&&(l=getNodeType(t,s.schema)),p==="mark"&&(c=getMarkType(t,s.schema)),o&&r.selection.ranges.forEach(m=>{s.doc.nodesBetween(m.$from.pos,m.$to.pos,(x,b)=>{l&&l===x.type&&r.setNodeMarkup(b,void 0,deleteProps(x.attrs,n)),c&&x.marks.length&&x.marks.forEach(_=>{c===_.type&&r.addMark(b,b+x.nodeSize,c.create(deleteProps(_.attrs,n)))})})}),!0):!1},scrollIntoView=()=>({tr:t,dispatch:n})=>(n&&t.scrollIntoView(),!0),selectAll=()=>({tr:t,dispatch:n})=>{if(n){const r=new AllSelection(t.doc);t.setSelection(r)}return!0},selectNodeBackward=()=>({state:t,dispatch:n})=>selectNodeBackward$1(t,n),selectNodeForward=()=>({state:t,dispatch:n})=>selectNodeForward$1(t,n),selectParentNode=()=>({state:t,dispatch:n})=>selectParentNode$1(t,n),selectTextblockEnd=()=>({state:t,dispatch:n})=>selectTextblockEnd$1(t,n),selectTextblockStart=()=>({state:t,dispatch:n})=>selectTextblockStart$1(t,n);function createDocument(t,n,r={},s={}){return createNodeFromContent(t,n,{slice:!1,parseOptions:r,errorOnInvalidContent:s.errorOnInvalidContent})}var setContent=(t,{errorOnInvalidContent:n,emitUpdate:r=!0,parseOptions:s={}}={})=>({editor:o,tr:l,dispatch:c,commands:p})=>{const{doc:m}=l;if(s.preserveWhitespace!=="full"){const x=createDocument(t,o.schema,s,{errorOnInvalidContent:n??o.options.enableContentCheck});return c&&l.replaceWith(0,m.content.size,x).setMeta("preventUpdate",!r),!0}return c&&l.setMeta("preventUpdate",!r),p.insertContentAt({from:0,to:m.content.size},t,{parseOptions:s,errorOnInvalidContent:n??o.options.enableContentCheck})};function getMarkAttributes(t,n){const r=getMarkType(n,t.schema),{from:s,to:o,empty:l}=t.selection,c=[];l?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,o,m=>{c.push(...m.marks)});const p=c.find(m=>m.type.name===r.name);return p?{...p.attrs}:{}}function combineTransactionSteps(t,n){const r=new Transform(t);return n.forEach(s=>{s.steps.forEach(o=>{r.step(o)})}),r}function defaultBlockAt(t){for(let n=0;n<t.edgeCount;n+=1){const{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function findChildrenInRange(t,n,r){const s=[];return t.nodesBetween(n.from,n.to,(o,l)=>{r(o)&&s.push({node:o,pos:l})}),s}function findParentNodeClosestToPos(t,n){for(let r=t.depth;r>0;r-=1){const s=t.node(r);if(n(s))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:s}}}function findParentNode(t){return n=>findParentNodeClosestToPos(n.$from,t)}function getExtensionField(t,n,r){return t.config[n]===void 0&&t.parent?getExtensionField(t.parent,n,r):typeof t.config[n]=="function"?t.config[n].bind({...r,parent:t.parent?getExtensionField(t.parent,n,r):null}):t.config[n]}function flattenExtensions(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=getExtensionField(n,"addExtensions",r);return s?[n,...flattenExtensions(s())]:n}).flat(10)}function getHTMLFromFragment(t,n){const r=DOMSerializer.fromSchema(n).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(r),o.innerHTML}function isFunction(t){return typeof t=="function"}function callOrReturn(t,n=void 0,...r){return isFunction(t)?n?t.bind(n)(...r):t(...r):t}function isEmptyObject(t={}){return Object.keys(t).length===0&&t.constructor===Object}function splitExtensions(t){const n=t.filter(o=>o.type==="extension"),r=t.filter(o=>o.type==="node"),s=t.filter(o=>o.type==="mark");return{baseExtensions:n,nodeExtensions:r,markExtensions:s}}function getAttributesFromExtensions(t){const n=[],{nodeExtensions:r,markExtensions:s}=splitExtensions(t),o=[...r,...s],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const p={name:c.name,options:c.options,storage:c.storage,extensions:o},m=getExtensionField(c,"addGlobalAttributes",p);if(!m)return;m().forEach(b=>{b.types.forEach(_=>{Object.entries(b.attributes).forEach(([R,k])=>{n.push({type:_,name:R,attribute:{...l,...k}})})})})}),o.forEach(c=>{const p={name:c.name,options:c.options,storage:c.storage},m=getExtensionField(c,"addAttributes",p);if(!m)return;const x=m();Object.entries(x).forEach(([b,_])=>{const R={...l,..._};typeof(R==null?void 0:R.default)=="function"&&(R.default=R.default()),R!=null&&R.isRequired&&(R==null?void 0:R.default)===void 0&&delete R.default,n.push({type:c.name,name:b,attribute:R})})}),n}function mergeAttributes(...t){return t.filter(n=>!!n).reduce((n,r)=>{const s={...n};return Object.entries(r).forEach(([o,l])=>{if(!s[o]){s[o]=l;return}if(o==="class"){const p=l?String(l).split(" "):[],m=s[o]?s[o].split(" "):[],x=p.filter(b=>!m.includes(b));s[o]=[...m,...x].join(" ")}else if(o==="style"){const p=l?l.split(";").map(b=>b.trim()).filter(Boolean):[],m=s[o]?s[o].split(";").map(b=>b.trim()).filter(Boolean):[],x=new Map;m.forEach(b=>{const[_,R]=b.split(":").map(k=>k.trim());x.set(_,R)}),p.forEach(b=>{const[_,R]=b.split(":").map(k=>k.trim());x.set(_,R)}),s[o]=Array.from(x.entries()).map(([b,_])=>`${b}: ${_}`).join("; ")}else s[o]=l}),s},{})}function getRenderedAttributes(t,n){return n.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,s)=>mergeAttributes(r,s),{})}function fromString(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function injectExtensionAttributesToParseRule(t,n){return"style"in t?t:{...t,getAttrs:r=>{const s=t.getAttrs?t.getAttrs(r):t.attrs;if(s===!1)return!1;const o=n.reduce((l,c)=>{const p=c.attribute.parseHTML?c.attribute.parseHTML(r):fromString(r.getAttribute(c.name));return p==null?l:{...l,[c.name]:p}},{});return{...s,...o}}}}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>n==="attrs"&&isEmptyObject(r)?!1:r!=null))}function buildAttributeSpec(t){var n,r,s;const o={};return!((n=t==null?void 0:t.attribute)!=null&&n.isRequired)&&((r=t==null?void 0:t.attribute)==null?void 0:r.default)!==void 0&&(o.default=t.attribute.default),((s=t==null?void 0:t.attribute)==null?void 0:s.validate)!==void 0&&(o.validate=t.attribute.validate),[t.name,o]}function getSchemaByResolvedExtensions(t,n){var r;const s=getAttributesFromExtensions(t),{nodeExtensions:o,markExtensions:l}=splitExtensions(t),c=(r=o.find(x=>getExtensionField(x,"topNode")))==null?void 0:r.name,p=Object.fromEntries(o.map(x=>{const b=s.filter($=>$.type===x.name),_={name:x.name,options:x.options,storage:x.storage,editor:n},R=t.reduce(($,G)=>{const H=getExtensionField(G,"extendNodeSchema",_);return{...$,...H?H(x):{}}},{}),k=cleanUpSchemaItem({...R,content:callOrReturn(getExtensionField(x,"content",_)),marks:callOrReturn(getExtensionField(x,"marks",_)),group:callOrReturn(getExtensionField(x,"group",_)),inline:callOrReturn(getExtensionField(x,"inline",_)),atom:callOrReturn(getExtensionField(x,"atom",_)),selectable:callOrReturn(getExtensionField(x,"selectable",_)),draggable:callOrReturn(getExtensionField(x,"draggable",_)),code:callOrReturn(getExtensionField(x,"code",_)),whitespace:callOrReturn(getExtensionField(x,"whitespace",_)),linebreakReplacement:callOrReturn(getExtensionField(x,"linebreakReplacement",_)),defining:callOrReturn(getExtensionField(x,"defining",_)),isolating:callOrReturn(getExtensionField(x,"isolating",_)),attrs:Object.fromEntries(b.map(buildAttributeSpec))}),M=callOrReturn(getExtensionField(x,"parseHTML",_));M&&(k.parseDOM=M.map($=>injectExtensionAttributesToParseRule($,b)));const P=getExtensionField(x,"renderHTML",_);P&&(k.toDOM=$=>P({node:$,HTMLAttributes:getRenderedAttributes($,b)}));const K=getExtensionField(x,"renderText",_);return K&&(k.toText=K),[x.name,k]})),m=Object.fromEntries(l.map(x=>{const b=s.filter(K=>K.type===x.name),_={name:x.name,options:x.options,storage:x.storage,editor:n},R=t.reduce((K,$)=>{const G=getExtensionField($,"extendMarkSchema",_);return{...K,...G?G(x):{}}},{}),k=cleanUpSchemaItem({...R,inclusive:callOrReturn(getExtensionField(x,"inclusive",_)),excludes:callOrReturn(getExtensionField(x,"excludes",_)),group:callOrReturn(getExtensionField(x,"group",_)),spanning:callOrReturn(getExtensionField(x,"spanning",_)),code:callOrReturn(getExtensionField(x,"code",_)),attrs:Object.fromEntries(b.map(buildAttributeSpec))}),M=callOrReturn(getExtensionField(x,"parseHTML",_));M&&(k.parseDOM=M.map(K=>injectExtensionAttributesToParseRule(K,b)));const P=getExtensionField(x,"renderHTML",_);return P&&(k.toDOM=K=>P({mark:K,HTMLAttributes:getRenderedAttributes(K,b)})),[x.name,k]}));return new Schema({topNode:c,nodes:p,marks:m})}function findDuplicates(t){const n=t.filter((r,s)=>t.indexOf(r)!==s);return Array.from(new Set(n))}function sortExtensions(t){return t.sort((r,s)=>{const o=getExtensionField(r,"priority")||100,l=getExtensionField(s,"priority")||100;return o>l?-1:o<l?1:0})}function resolveExtensions(t){const n=sortExtensions(flattenExtensions(t)),r=findDuplicates(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}function getTextBetween(t,n,r){const{from:s,to:o}=n,{blockSeparator:l=`

`,textSerializers:c={}}=r||{};let p="";return t.nodesBetween(s,o,(m,x,b,_)=>{var R;m.isBlock&&x>s&&(p+=l);const k=c==null?void 0:c[m.type.name];if(k)return b&&(p+=k({node:m,pos:x,parent:b,index:_,range:n})),!1;m.isText&&(p+=(R=m==null?void 0:m.text)==null?void 0:R.slice(Math.max(s,x)-x,o-x))}),p}function getText(t,n){const r={from:0,to:t.content.size};return getTextBetween(t,r,n)}function getTextSerializersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,n])=>n.spec.toText).map(([n,r])=>[n,r.spec.toText]))}function getNodeAttributes(t,n){const r=getNodeType(n,t.schema),{from:s,to:o}=t.selection,l=[];t.doc.nodesBetween(s,o,p=>{l.push(p)});const c=l.reverse().find(p=>p.type.name===r.name);return c?{...c.attrs}:{}}function getAttributes(t,n){const r=getSchemaTypeNameByName(typeof n=="string"?n:n.name,t.schema);return r==="node"?getNodeAttributes(t,n):r==="mark"?getMarkAttributes(t,n):{}}function removeDuplicates(t,n=JSON.stringify){const r={};return t.filter(s=>{const o=n(s);return Object.prototype.hasOwnProperty.call(r,o)?!1:r[o]=!0})}function simplifyChangedRanges(t){const n=removeDuplicates(t);return n.length===1?n:n.filter((r,s)=>!n.filter((l,c)=>c!==s).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function getChangedRanges(t){const{mapping:n,steps:r}=t,s=[];return n.maps.forEach((o,l)=>{const c=[];if(o.ranges.length)o.forEach((p,m)=>{c.push({from:p,to:m})});else{const{from:p,to:m}=r[l];if(p===void 0||m===void 0)return;c.push({from:p,to:m})}c.forEach(({from:p,to:m})=>{const x=n.slice(l).map(p,-1),b=n.slice(l).map(m),_=n.invert().map(x,-1),R=n.invert().map(b);s.push({oldRange:{from:_,to:R},newRange:{from:x,to:b}})})}),simplifyChangedRanges(s)}function getMarksBetween(t,n,r){const s=[];return t===n?r.resolve(t).marks().forEach(o=>{const l=r.resolve(t),c=getMarkRange(l,o.type);c&&s.push({mark:o,...c})}):r.nodesBetween(t,n,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||s.push(...o.marks.map(c=>({from:l,to:l+o.nodeSize,mark:c})))}),s}var getNodeAtPosition=(t,n,r,s=20)=>{const o=t.doc.resolve(r);let l=s,c=null;for(;l>0&&c===null;){const p=o.node(l);(p==null?void 0:p.type.name)===n?c=p:l-=1}return[c,l]};function getSchemaTypeByName(t,n){return n.nodes[t]||n.marks[t]||null}function getSplittedAttributes(t,n,r){return Object.fromEntries(Object.entries(r).filter(([s])=>{const o=t.find(l=>l.type===n&&l.name===s);return o?o.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(t,n=500)=>{let r="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-n),s,(o,l,c,p)=>{var m,x;const b=((x=(m=o.type.spec).toText)==null?void 0:x.call(m,{node:o,pos:l,parent:c,index:p}))||o.textContent||"%leaf%";r+=o.isAtom&&!o.isText?b:b.slice(0,Math.max(0,s-l))}),r};function isMarkActive(t,n,r={}){const{empty:s,ranges:o}=t.selection,l=n?getMarkType(n,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(_=>l?l.name===_.type.name:!0).find(_=>objectIncludes(_.attrs,r,{strict:!1}));let c=0;const p=[];if(o.forEach(({$from:_,$to:R})=>{const k=_.pos,M=R.pos;t.doc.nodesBetween(k,M,(P,K)=>{if(!P.isText&&!P.marks.length)return;const $=Math.max(k,K),G=Math.min(M,K+P.nodeSize),H=G-$;c+=H,p.push(...P.marks.map(j=>({mark:j,from:$,to:G})))})}),c===0)return!1;const m=p.filter(_=>l?l.name===_.mark.type.name:!0).filter(_=>objectIncludes(_.mark.attrs,r,{strict:!1})).reduce((_,R)=>_+R.to-R.from,0),x=p.filter(_=>l?_.mark.type!==l&&_.mark.type.excludes(l):!0).reduce((_,R)=>_+R.to-R.from,0);return(m>0?m+x:m)>=c}function isActive$1(t,n,r={}){if(!n)return isNodeActive(t,null,r)||isMarkActive(t,null,r);const s=getSchemaTypeNameByName(n,t.schema);return s==="node"?isNodeActive(t,n,r):s==="mark"?isMarkActive(t,n,r):!1}var isAtEndOfNode=(t,n)=>{const{$from:r,$to:s,$anchor:o}=t.selection;if(n){const l=findParentNode(p=>p.type.name===n)(t.selection);if(!l)return!1;const c=t.doc.resolve(l.pos+1);return o.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||r.pos!==s.pos)},isAtStartOfNode=t=>{const{$from:n,$to:r}=t.selection;return!(n.parentOffset>0||n.pos!==r.pos)};function isExtensionRulesEnabled(t,n){return Array.isArray(n)?n.some(r=>(typeof r=="string"?r:r.name)===t.name):n}function isList(t,n){const{nodeExtensions:r}=splitExtensions(n),s=r.find(c=>c.name===t);if(!s)return!1;const o={name:s.name,options:s.options,storage:s.storage},l=callOrReturn(getExtensionField(s,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function isNodeEmpty(t,{checkChildren:n=!0,ignoreWhitespace:r=!1}={}){var s;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(n){let o=!0;return t.content.forEach(l=>{o!==!1&&(isNodeEmpty(l,{ignoreWhitespace:r,checkChildren:n})||(o=!1))}),o}return!1}function isNodeSelection(t){return t instanceof NodeSelection}function canSetMark(t,n,r){var s;const{selection:o}=n;let l=null;if(isTextSelection(o)&&(l=o.$cursor),l){const p=(s=t.storedMarks)!=null?s:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(p)||!p.some(x=>x.type.excludes(r)))}const{ranges:c}=o;return c.some(({$from:p,$to:m})=>{let x=p.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(p.pos,m.pos,(b,_,R)=>{if(x)return!1;if(b.isInline){const k=!R||R.type.allowsMarkType(r),M=!!r.isInSet(b.marks)||!b.marks.some(P=>P.type.excludes(r));x=k&&M}return!x}),x})}var setMark=(t,n={})=>({tr:r,state:s,dispatch:o})=>{const{selection:l}=r,{empty:c,ranges:p}=l,m=getMarkType(t,s.schema);if(o)if(c){const x=getMarkAttributes(s,m);r.addStoredMark(m.create({...x,...n}))}else p.forEach(x=>{const b=x.$from.pos,_=x.$to.pos;s.doc.nodesBetween(b,_,(R,k)=>{const M=Math.max(k,b),P=Math.min(k+R.nodeSize,_);R.marks.find($=>$.type===m)?R.marks.forEach($=>{m===$.type&&r.addMark(M,P,m.create({...$.attrs,...n}))}):r.addMark(M,P,m.create(n))})});return canSetMark(s,r,m)},setMeta=(t,n)=>({tr:r})=>(r.setMeta(t,n),!0),setNode=(t,n={})=>({state:r,dispatch:s,chain:o})=>{const l=getNodeType(t,r.schema);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:p})=>setBlockType(l,{...c,...n})(r)?!0:p.clearNodes()).command(({state:p})=>setBlockType(l,{...c,...n})(p,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=t=>({tr:n,dispatch:r})=>{if(r){const{doc:s}=n,o=minMax(t,0,s.content.size),l=NodeSelection.create(s,o);n.setSelection(l)}return!0},setTextSelection=t=>({tr:n,dispatch:r})=>{if(r){const{doc:s}=n,{from:o,to:l}=typeof t=="number"?{from:t,to:t}:t,c=TextSelection.atStart(s).from,p=TextSelection.atEnd(s).to,m=minMax(o,c,p),x=minMax(l,c,p),b=TextSelection.create(s,m,x);n.setSelection(b)}return!0},sinkListItem=t=>({state:n,dispatch:r})=>{const s=getNodeType(t,n.schema);return sinkListItem$1(s)(n,r)};function ensureMarks(t,n){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const s=r.filter(o=>n==null?void 0:n.includes(o.type.name));t.tr.ensureMarks(s)}}var splitBlock=({keepMarks:t=!0}={})=>({tr:n,state:r,dispatch:s,editor:o})=>{const{selection:l,doc:c}=n,{$from:p,$to:m}=l,x=o.extensionManager.attributes,b=getSplittedAttributes(x,p.node().type.name,p.node().attrs);if(l instanceof NodeSelection&&l.node.isBlock)return!p.parentOffset||!canSplit(c,p.pos)?!1:(s&&(t&&ensureMarks(r,o.extensionManager.splittableMarks),n.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;const _=m.parentOffset===m.parent.content.size,R=p.depth===0?void 0:defaultBlockAt(p.node(-1).contentMatchAt(p.indexAfter(-1)));let k=_&&R?[{type:R,attrs:b}]:void 0,M=canSplit(n.doc,n.mapping.map(p.pos),1,k);if(!k&&!M&&canSplit(n.doc,n.mapping.map(p.pos),1,R?[{type:R}]:void 0)&&(M=!0,k=R?[{type:R,attrs:b}]:void 0),s){if(M&&(l instanceof TextSelection&&n.deleteSelection(),n.split(n.mapping.map(p.pos),1,k),R&&!_&&!p.parentOffset&&p.parent.type!==R)){const P=n.mapping.map(p.before()),K=n.doc.resolve(P);p.node(-1).canReplaceWith(K.index(),K.index()+1,R)&&n.setNodeMarkup(n.mapping.map(p.before()),R)}t&&ensureMarks(r,o.extensionManager.splittableMarks),n.scrollIntoView()}return M},splitListItem=(t,n={})=>({tr:r,state:s,dispatch:o,editor:l})=>{var c;const p=getNodeType(t,s.schema),{$from:m,$to:x}=s.selection,b=s.selection.node;if(b&&b.isBlock||m.depth<2||!m.sameParent(x))return!1;const _=m.node(-1);if(_.type!==p)return!1;const R=l.extensionManager.attributes;if(m.parent.content.size===0&&m.node(-1).childCount===m.indexAfter(-1)){if(m.depth===2||m.node(-3).type!==p||m.index(-2)!==m.node(-2).childCount-1)return!1;if(o){let $=Fragment.empty;const G=m.index(-1)?1:m.index(-2)?2:3;for(let te=m.depth-G;te>=m.depth-3;te-=1)$=Fragment.from(m.node(te).copy($));const H=m.indexAfter(-1)<m.node(-2).childCount?1:m.indexAfter(-2)<m.node(-3).childCount?2:3,j={...getSplittedAttributes(R,m.node().type.name,m.node().attrs),...n},W=((c=p.contentMatch.defaultType)==null?void 0:c.createAndFill(j))||void 0;$=$.append(Fragment.from(p.createAndFill(null,W)||void 0));const Y=m.before(m.depth-(G-1));r.replace(Y,m.after(-H),new Slice($,4-G,0));let X=-1;r.doc.nodesBetween(Y,r.doc.content.size,(te,se)=>{if(X>-1)return!1;te.isTextblock&&te.content.size===0&&(X=se+1)}),X>-1&&r.setSelection(TextSelection.near(r.doc.resolve(X))),r.scrollIntoView()}return!0}const k=x.pos===m.end()?_.contentMatchAt(0).defaultType:null,M={...getSplittedAttributes(R,_.type.name,_.attrs),...n},P={...getSplittedAttributes(R,m.node().type.name,m.node().attrs),...n};r.delete(m.pos,x.pos);const K=k?[{type:p,attrs:M},{type:k,attrs:P}]:[{type:p,attrs:M}];if(!canSplit(r.doc,m.pos,2))return!1;if(o){const{selection:$,storedMarks:G}=s,{splittableMarks:H}=l.extensionManager,j=G||$.$to.parentOffset&&$.$from.marks();if(r.split(m.pos,2,K).scrollIntoView(),!j||!o)return!0;const W=j.filter(Y=>H.includes(Y.type.name));r.ensureMarks(W)}return!0},joinListBackwards=(t,n)=>{const r=findParentNode(c=>c.type===n)(t.selection);if(!r)return!0;const s=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(s===void 0)return!0;const o=t.doc.nodeAt(s);return r.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,r.pos)&&t.join(r.pos),!0},joinListForwards=(t,n)=>{const r=findParentNode(c=>c.type===n)(t.selection);if(!r)return!0;const s=t.doc.resolve(r.start).after(r.depth);if(s===void 0)return!0;const o=t.doc.nodeAt(s);return r.node.type===(o==null?void 0:o.type)&&canJoin(t.doc,s)&&t.join(s),!0},toggleList=(t,n,r,s={})=>({editor:o,tr:l,state:c,dispatch:p,chain:m,commands:x,can:b})=>{const{extensions:_,splittableMarks:R}=o.extensionManager,k=getNodeType(t,c.schema),M=getNodeType(n,c.schema),{selection:P,storedMarks:K}=c,{$from:$,$to:G}=P,H=$.blockRange(G),j=K||P.$to.parentOffset&&P.$from.marks();if(!H)return!1;const W=findParentNode(Y=>isList(Y.type.name,_))(P);if(H.depth>=1&&W&&H.depth-W.depth<=1){if(W.node.type===k)return x.liftListItem(M);if(isList(W.node.type.name,_)&&k.validContent(W.node.content)&&p)return m().command(()=>(l.setNodeMarkup(W.pos,k),!0)).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run()}return!r||!j||!p?m().command(()=>b().wrapInList(k,s)?!0:x.clearNodes()).wrapInList(k,s).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run():m().command(()=>{const Y=b().wrapInList(k,s),X=j.filter(te=>R.includes(te.type.name));return l.ensureMarks(X),Y?!0:x.clearNodes()}).wrapInList(k,s).command(()=>joinListBackwards(l,k)).command(()=>joinListForwards(l,k)).run()},toggleMark=(t,n={},r={})=>({state:s,commands:o})=>{const{extendEmptyMarkRange:l=!1}=r,c=getMarkType(t,s.schema);return isMarkActive(s,c,n)?o.unsetMark(c,{extendEmptyMarkRange:l}):o.setMark(c,n)},toggleNode=(t,n,r={})=>({state:s,commands:o})=>{const l=getNodeType(t,s.schema),c=getNodeType(n,s.schema),p=isNodeActive(s,l,r);let m;return s.selection.$anchor.sameParent(s.selection.$head)&&(m=s.selection.$anchor.parent.attrs),p?o.setNode(c,m):o.setNode(l,{...m,...r})},toggleWrap=(t,n={})=>({state:r,commands:s})=>{const o=getNodeType(t,r.schema);return isNodeActive(r,o,n)?s.lift(o):s.wrapIn(o,n)},undoInputRule=()=>({state:t,dispatch:n})=>{const r=t.plugins;for(let s=0;s<r.length;s+=1){const o=r[s];let l;if(o.spec.isInputRules&&(l=o.getState(t))){if(n){const c=t.tr,p=l.transform;for(let m=p.steps.length-1;m>=0;m-=1)c.step(p.steps[m].invert(p.docs[m]));if(l.text){const m=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,t.schema.text(l.text,m))}else c.delete(l.from,l.to)}return!0}}return!1},unsetAllMarks=()=>({tr:t,dispatch:n})=>{const{selection:r}=t,{empty:s,ranges:o}=r;return s||n&&o.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},unsetMark=(t,n={})=>({tr:r,state:s,dispatch:o})=>{var l;const{extendEmptyMarkRange:c=!1}=n,{selection:p}=r,m=getMarkType(t,s.schema),{$from:x,empty:b,ranges:_}=p;if(!o)return!0;if(b&&c){let{from:R,to:k}=p;const M=(l=x.marks().find(K=>K.type===m))==null?void 0:l.attrs,P=getMarkRange(x,m,M);P&&(R=P.from,k=P.to),r.removeMark(R,k,m)}else _.forEach(R=>{r.removeMark(R.$from.pos,R.$to.pos,m)});return r.removeStoredMark(m),!0},updateAttributes=(t,n={})=>({tr:r,state:s,dispatch:o})=>{let l=null,c=null;const p=getSchemaTypeNameByName(typeof t=="string"?t:t.name,s.schema);return p?(p==="node"&&(l=getNodeType(t,s.schema)),p==="mark"&&(c=getMarkType(t,s.schema)),o&&r.selection.ranges.forEach(m=>{const x=m.$from.pos,b=m.$to.pos;let _,R,k,M;r.selection.empty?s.doc.nodesBetween(x,b,(P,K)=>{l&&l===P.type&&(k=Math.max(K,x),M=Math.min(K+P.nodeSize,b),_=K,R=P)}):s.doc.nodesBetween(x,b,(P,K)=>{K<x&&l&&l===P.type&&(k=Math.max(K,x),M=Math.min(K+P.nodeSize,b),_=K,R=P),K>=x&&K<=b&&(l&&l===P.type&&r.setNodeMarkup(K,void 0,{...P.attrs,...n}),c&&P.marks.length&&P.marks.forEach($=>{if(c===$.type){const G=Math.max(K,x),H=Math.min(K+P.nodeSize,b);r.addMark(G,H,c.create({...$.attrs,...n}))}}))}),R&&(_!==void 0&&r.setNodeMarkup(_,void 0,{...R.attrs,...n}),c&&R.marks.length&&R.marks.forEach(P=>{c===P.type&&r.addMark(k,M,c.create({...P.attrs,...n}))}))}),!0):!1},wrapIn=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return wrapIn$1(o,n)(r,s)},wrapInList=(t,n={})=>({state:r,dispatch:s})=>{const o=getNodeType(t,r.schema);return wrapInList$1(o,n)(r,s)},EventEmitter=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(s=>s.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(s=>s!==n):delete this.callbacks[t]),this}once(t,n){const r=(...s)=>{this.off(t,r),n.apply(this,s)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}},inputRuleMatcherHandler=(t,n)=>{if(isRegExp(n))return n.exec(t);const r=n(t);if(!r)return null;const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(r.replaceWith)),s};function run$2(t){var n;const{editor:r,from:s,to:o,text:l,rules:c,plugin:p}=t,{view:m}=r;if(m.composing)return!1;const x=m.state.doc.resolve(s);if(x.parent.type.spec.code||(n=x.nodeBefore||x.nodeAfter)!=null&&n.marks.find(R=>R.type.spec.code))return!1;let b=!1;const _=getTextContentFromNodes(x)+l;return c.forEach(R=>{if(b)return;const k=inputRuleMatcherHandler(_,R.find);if(!k)return;const M=m.state.tr,P=createChainableState({state:m.state,transaction:M}),K={from:s-(k[0].length-l.length),to:o},{commands:$,chain:G,can:H}=new CommandManager({editor:r,state:P});R.handler({state:P,range:K,match:k,commands:$,chain:G,can:H})===null||!M.steps.length||(R.undoable&&M.setMeta(p,{transform:M,from:s,to:o,text:l}),m.dispatch(M),b=!0)}),b}function inputRulesPlugin(t){const{editor:n,rules:r}=t,s=new Plugin({state:{init(){return null},apply(o,l,c){const p=o.getMeta(s);if(p)return p;const m=o.getMeta("applyInputRules");return!!m&&setTimeout(()=>{let{text:b}=m;typeof b=="string"?b=b:b=getHTMLFromFragment(Fragment.from(b),c.schema);const{from:_}=m,R=_+b.length;run$2({editor:n,from:_,to:R,text:b,rules:r,plugin:s})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,c,p){return run$2({editor:n,from:l,to:c,text:p,rules:r,plugin:s})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&run$2({editor:n,from:l.pos,to:l.pos,text:"",rules:r,plugin:s})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:c}=o.state.selection;return c?run$2({editor:n,from:c.pos,to:c.pos,text:`
`,rules:r,plugin:s}):!1}},isInputRules:!0});return s}function getType(t){return Object.prototype.toString.call(t).slice(8,-1)}function isPlainObject(t){return getType(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mergeDeep(t,n){const r={...t};return isPlainObject(t)&&isPlainObject(n)&&Object.keys(n).forEach(s=>{isPlainObject(n[s])&&isPlainObject(t[s])?r[s]=mergeDeep(t[s],n[s]):r[s]=n[s]}),r}var Extendable=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},Mark=class Uf extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(n={}){const r=typeof n=="function"?n():n;return new Uf(r)}static handleExit({editor:n,mark:r}){const{tr:s}=n.state,o=n.state.selection.$from;if(o.pos===o.end()){const c=o.marks();if(!!!c.find(x=>(x==null?void 0:x.type.name)===r.name))return!1;const m=c.find(x=>(x==null?void 0:x.type.name)===r.name);return m&&s.removeStoredMark(m),s.insertText(" ",o.pos),n.view.dispatch(s),!0}return!1}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}};function isNumber(t){return typeof t=="number"}var PasteRule=class{constructor(t){this.find=t.find,this.handler=t.handler}},pasteRuleMatcherHandler=(t,n,r)=>{if(isRegExp(n))return[...t.matchAll(n)];const s=n(t,r);return s?s.map(o=>{const l=[o.text];return l.index=o.index,l.input=t,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function run2(t){const{editor:n,state:r,from:s,to:o,rule:l,pasteEvent:c,dropEvent:p}=t,{commands:m,chain:x,can:b}=new CommandManager({editor:n,state:r}),_=[];return r.doc.nodesBetween(s,o,(k,M)=>{var P,K,$,G,H;if((K=(P=k.type)==null?void 0:P.spec)!=null&&K.code||!(k.isText||k.isTextblock||k.isInline))return;const j=(H=(G=($=k.content)==null?void 0:$.size)!=null?G:k.nodeSize)!=null?H:0,W=Math.max(s,M),Y=Math.min(o,M+j);if(W>=Y)return;const X=k.isText?k.text||"":k.textBetween(W-M,Y-M,void 0,"");pasteRuleMatcherHandler(X,l.find,c).forEach(se=>{if(se.index===void 0)return;const pe=W+se.index+1,ge=pe+se[0].length,me={from:r.tr.mapping.map(pe),to:r.tr.mapping.map(ge)},Ee=l.handler({state:r,range:me,match:se,commands:m,chain:x,can:b,pasteEvent:c,dropEvent:p});_.push(Ee)})}),_.every(k=>k!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=t=>{var n;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(n=r.clipboardData)==null||n.setData("text/html",t),r};function pasteRulesPlugin(t){const{editor:n,rules:r}=t;let s=null,o=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,p;try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}const m=({state:b,from:_,to:R,rule:k,pasteEvt:M})=>{const P=b.tr,K=createChainableState({state:b,transaction:P});if(!(!run2({editor:n,state:K,from:Math.max(_-1,0),to:R.b-1,rule:k,pasteEvent:M,dropEvent:p})||!P.steps.length)){try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,P}};return r.map(b=>new Plugin({view(_){const R=M=>{var P;s=(P=_.dom.parentElement)!=null&&P.contains(M.target)?_.dom.parentElement:null,s&&(tiptapDragFromOtherEditor=n)},k=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",R),window.addEventListener("dragend",k),{destroy(){window.removeEventListener("dragstart",R),window.removeEventListener("dragend",k)}}},props:{handleDOMEvents:{drop:(_,R)=>{if(l=s===_.dom.parentElement,p=R,!l){const k=tiptapDragFromOtherEditor;k!=null&&k.isEditable&&setTimeout(()=>{const M=k.state.selection;M&&k.commands.deleteRange({from:M.from,to:M.to})},10)}return!1},paste:(_,R)=>{var k;const M=(k=R.clipboardData)==null?void 0:k.getData("text/html");return c=R,o=!!(M!=null&&M.includes("data-pm-slice")),!1}}},appendTransaction:(_,R,k)=>{const M=_[0],P=M.getMeta("uiEvent")==="paste"&&!o,K=M.getMeta("uiEvent")==="drop"&&!l,$=M.getMeta("applyPasteRules"),G=!!$;if(!P&&!K&&!G)return;if(G){let{text:W}=$;typeof W=="string"?W=W:W=getHTMLFromFragment(Fragment.from(W),k.schema);const{from:Y}=$,X=Y+W.length,te=createClipboardPasteEvent(W);return m({rule:b,state:k,from:Y,to:{b:X},pasteEvt:te})}const H=R.doc.content.findDiffStart(k.doc.content),j=R.doc.content.findDiffEnd(k.doc.content);if(!(!isNumber(H)||!j||H===j.b))return m({rule:b,state:k,from:H,to:j,pasteEvt:c})}}))}var ExtensionManager=class{constructor(t,n){this.splittableMarks=[],this.editor=n,this.baseExtensions=t,this.extensions=resolveExtensions(t),this.schema=getSchemaByResolvedExtensions(this.extensions,n),this.setupExtensions()}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:this.editor,type:getSchemaTypeByName(n.name,this.schema)},s=getExtensionField(n,"addCommands",r);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return sortExtensions([...this.extensions].reverse()).flatMap(s=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:getSchemaTypeByName(s.name,this.schema)},l=[],c=getExtensionField(s,"addKeyboardShortcuts",o);let p={};if(s.type==="mark"&&getExtensionField(s,"exitable",o)&&(p.ArrowRight=()=>Mark.handleExit({editor:t,mark:s})),c){const R=Object.fromEntries(Object.entries(c()).map(([k,M])=>[k,()=>M({editor:t})]));p={...p,...R}}const m=keymap(p);l.push(m);const x=getExtensionField(s,"addInputRules",o);if(isExtensionRulesEnabled(s,t.options.enableInputRules)&&x){const R=x();if(R&&R.length){const k=inputRulesPlugin({editor:t,rules:R}),M=Array.isArray(k)?k:[k];l.push(...M)}}const b=getExtensionField(s,"addPasteRules",o);if(isExtensionRulesEnabled(s,t.options.enablePasteRules)&&b){const R=b();if(R&&R.length){const k=pasteRulesPlugin({editor:t,rules:R});l.push(...k)}}const _=getExtensionField(s,"addProseMirrorPlugins",o);if(_){const R=_();l.push(...R)}return l})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=splitExtensions(this.extensions);return Object.fromEntries(n.filter(r=>!!getExtensionField(r,"addNodeView")).map(r=>{const s=this.attributes.filter(m=>m.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:getNodeType(r.name,this.schema)},l=getExtensionField(r,"addNodeView",o);if(!l)return[];const c=l();if(!c)return[];const p=(m,x,b,_,R)=>{const k=getRenderedAttributes(m,s);return c({node:m,view:x,getPos:b,decorations:_,innerDecorations:R,editor:t,extension:r,HTMLAttributes:k})};return[r.name,p]}))}get markViews(){const{editor:t}=this,{markExtensions:n}=splitExtensions(this.extensions);return Object.fromEntries(n.filter(r=>!!getExtensionField(r,"addMarkView")).map(r=>{const s=this.attributes.filter(p=>p.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:getMarkType(r.name,this.schema)},l=getExtensionField(r,"addMarkView",o);if(!l)return[];const c=(p,m,x)=>{const b=getRenderedAttributes(p,s);return l()({mark:p,view:m,inline:x,editor:t,extension:r,HTMLAttributes:b,updateAttributes:_=>{updateMarkViewAttributes(p,t,_)}})};return[r.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(n=>[n.name,n.storage])),t.forEach(n=>{var r;const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:this.editor,type:getSchemaTypeByName(n.name,this.schema)};n.type==="mark"&&((r=callOrReturn(getExtensionField(n,"keepOnSplit",s)))==null||r)&&this.splittableMarks.push(n.name);const o=getExtensionField(n,"onBeforeCreate",s),l=getExtensionField(n,"onCreate",s),c=getExtensionField(n,"onUpdate",s),p=getExtensionField(n,"onSelectionUpdate",s),m=getExtensionField(n,"onTransaction",s),x=getExtensionField(n,"onFocus",s),b=getExtensionField(n,"onBlur",s),_=getExtensionField(n,"onDestroy",s);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),c&&this.editor.on("update",c),p&&this.editor.on("selectionUpdate",p),m&&this.editor.on("transaction",m),x&&this.editor.on("focus",x),b&&this.editor.on("blur",b),_&&this.editor.on("destroy",_)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class Hf extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(n={}){const r=typeof n=="function"?n():n;return new Hf(r)}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:n,schema:r}=t,{doc:s,selection:o}=n,{ranges:l}=o,c=Math.min(...l.map(b=>b.$from.pos)),p=Math.max(...l.map(b=>b.$to.pos)),m=getTextSerializersFromSchema(r);return getTextBetween(s,{from:c,to:p},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:m})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:t,appendedTransactions:n}){var r,s,o;const l=()=>{var c,p,m,x;if((x=(m=(p=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:p.filterTransaction)==null?void 0:m.call(p,t))!=null?x:t.getMeta("y-sync$"))return;const b=combineTransactionSteps(t.before,[t,...n]);getChangedRanges(b).forEach(k=>{b.mapping.mapResult(k.oldRange.from).deletedAfter&&b.mapping.mapResult(k.oldRange.to).deletedBefore&&b.before.nodesBetween(k.oldRange.from,k.oldRange.to,(M,P)=>{const K=P+M.nodeSize-2,$=k.oldRange.from<=P&&K<=k.oldRange.to;this.editor.emit("delete",{type:"node",node:M,from:P,to:K,newFrom:b.mapping.map(P),newTo:b.mapping.map(K),deletedRange:k.oldRange,newRange:k.newRange,partial:!$,editor:this.editor,transaction:t,combinedTransform:b})})});const R=b.mapping;b.steps.forEach((k,M)=>{var P,K;if(k instanceof RemoveMarkStep){const $=R.slice(M).map(k.from,-1),G=R.slice(M).map(k.to),H=R.invert().map($,-1),j=R.invert().map(G),W=(P=b.doc.nodeAt($-1))==null?void 0:P.marks.some(X=>X.eq(k.mark)),Y=(K=b.doc.nodeAt(G))==null?void 0:K.marks.some(X=>X.eq(k.mark));this.editor.emit("delete",{type:"mark",mark:k.mark,from:k.from,to:k.to,deletedRange:{from:H,to:j},newRange:{from:$,to:G},partial:!!(Y||W),editor:this.editor,transaction:t,combinedTransform:b})}})};(o=(s=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:s.async)==null||o?setTimeout(l,0):l()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(t,n,r,s)=>{this.editor.emit("drop",{editor:this.editor,event:n,slice:r,moved:s})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(n,r)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return n.dispatch(s),!1},blur:(n,r)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return n.dispatch(s),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:p})=>{const{selection:m,doc:x}=p,{empty:b,$anchor:_}=m,{pos:R,parent:k}=_,M=_.parent.isTextblock&&R>0?p.doc.resolve(R-1):_,P=M.parent.type.spec.isolating,K=_.pos-_.parentOffset,$=P&&M.parent.childCount===1?K===_.pos:Selection.atStart(x).from===R;return!b||!k.type.isTextblock||k.textContent.length||!$||$&&_.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),n=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:n,"Mod-Delete":n,"Mod-a":()=>this.editor.commands.selectAll()},o={...s},l={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":n,"Ctrl-Alt-Backspace":n,"Alt-Delete":n,"Alt-d":n,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?l:o},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(t,n,r)=>{if(t.some(P=>P.getMeta("composition")))return;const s=t.some(P=>P.docChanged)&&!n.doc.eq(r.doc),o=t.some(P=>P.getMeta("preventClearDocument"));if(!s||o)return;const{empty:l,from:c,to:p}=n.selection,m=Selection.atStart(n.doc).from,x=Selection.atEnd(n.doc).to;if(l||!(c===m&&p===x)||!isNodeEmpty(r.doc))return;const R=r.tr,k=createChainableState({state:r,transaction:R}),{commands:M}=new CommandManager({editor:this.editor,state:k});if(M.clearNodes(),!!R.steps.length)return R}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(t,n,r)=>{this.editor.emit("paste",{editor:this.editor,event:n,slice:r})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NodePos=class Ma{constructor(n,r,s=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=n,this.editor=r,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var n;return(n=this.actualDepth)!=null?n:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(n){let r=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:r,to:s},n)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const n=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(n);return new Ma(r,this.editor)}get before(){let n=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return n.depth!==this.depth&&(n=this.resolvedPos.doc.resolve(this.from-3)),new Ma(n,this.editor)}get after(){let n=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return n.depth!==this.depth&&(n=this.resolvedPos.doc.resolve(this.to+3)),new Ma(n,this.editor)}get children(){const n=[];return this.node.content.forEach((r,s)=>{const o=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,c=this.pos+s+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const p=this.resolvedPos.doc.resolve(c);if(!o&&p.depth<=this.depth)return;const m=new Ma(p,this.editor,o,o?r:null);o&&(m.actualDepth=this.depth+1),n.push(new Ma(p,this.editor,o,o?r:null))}),n}get firstChild(){return this.children[0]||null}get lastChild(){const n=this.children;return n[n.length-1]||null}closest(n,r={}){let s=null,o=this.parent;for(;o&&!s;){if(o.node.type.name===n)if(Object.keys(r).length>0){const l=o.node.attrs,c=Object.keys(r);for(let p=0;p<c.length;p+=1){const m=c[p];if(l[m]!==r[m])break}}else s=o;o=o.parent}return s}querySelector(n,r={}){return this.querySelectorAll(n,r,!0)[0]||null}querySelectorAll(n,r={},s=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(r);return this.children.forEach(c=>{s&&o.length>0||(c.node.type.name===n&&l.every(m=>r[m]===c.node.attrs[m])&&o.push(c),!(s&&o.length>0)&&(o=o.concat(c.querySelectorAll(n,r,s))))}),o}setAttribute(n){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...n}),this.editor.view.dispatch(r)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(t,n,r){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const o=document.createElement("style");return n&&o.setAttribute("nonce",n),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var Editor=class extends EventEmitter{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:o,moved:l})=>this.options.onDrop(s,o,l)),this.on("paste",({event:s,slice:o})=>this.options.onPaste(s,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=resolveFocusPosition(n,this.options.autofocus);this.editorState=EditorState.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in t)return Reflect.get(t,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,n){const r=isFunction(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(l))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var t,n;const s=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:n.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ExtensionManager(s,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var n;this.editorView=new EditorView(t,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(x=>{var b;return(b=this.capturedTransaction)==null?void 0:b.step(x)});return}const{state:n,transactions:r}=this.state.applyTransaction(t),s=!this.state.selection.eq(n.selection),o=r.includes(t),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=r.findLast(x=>x.getMeta("focus")||x.getMeta("blur")),p=c==null?void 0:c.getMeta("focus"),m=c==null?void 0:c.getMeta("blur");p&&this.emit("focus",{editor:this,event:p.event,transaction:c}),m&&this.emit("blur",{editor:this,event:m.event,transaction:c}),!(t.getMeta("preventUpdate")||!r.some(x=>x.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return getAttributes(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return isActive$1(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return getText(this.state.doc,{blockSeparator:n,textSerializers:{...getTextSerializersFromSchema(this.schema),...r}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,n;return(n=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?n:!0}$node(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new NodePos(n,this)}get $doc(){return this.$pos(0)}};function markInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=callOrReturn(t.getAttributes,void 0,s);if(o===!1||o===null)return null;const{tr:l}=n,c=s[s.length-1],p=s[0];if(c){const m=p.search(/\S/),x=r.from+p.indexOf(c),b=x+c.length;if(getMarksBetween(r.from,r.to,n.doc).filter(k=>k.mark.type.excluded.find(P=>P===t.type&&P!==k.mark.type)).filter(k=>k.to>x).length)return null;b<r.to&&l.delete(b,r.to),x>r.from&&l.delete(r.from+m,x);const R=r.from+m+c.length;l.addMark(r.from+m,R,t.type.create(o||{})),l.removeStoredMark(t.type)}},undoable:t.undoable})}function nodeInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=callOrReturn(t.getAttributes,void 0,s)||{},{tr:l}=n,c=r.from;let p=r.to;const m=t.type.create(o);if(s[1]){const x=s[0].lastIndexOf(s[1]);let b=c+x;b>p?b=p:p=b+s[1].length;const _=s[0][s[0].length-1];l.insertText(_,c+s[0].length-1),l.replaceWith(b,p,m)}else if(s[0]){const x=t.type.isInline?c:c-1;l.insert(x,t.type.create(o)).delete(l.mapping.map(c),l.mapping.map(p))}l.scrollIntoView()},undoable:t.undoable})}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s})=>{const o=n.doc.resolve(r.from),l=callOrReturn(t.getAttributes,void 0,s)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,l)},undoable:t.undoable})}function wrappingInputRule(t){return new InputRule({find:t.find,handler:({state:n,range:r,match:s,chain:o})=>{const l=callOrReturn(t.getAttributes,void 0,s)||{},c=n.tr.delete(r.from,r.to),m=c.doc.resolve(r.from).blockRange(),x=m&&findWrapping(m,t.type,l);if(!x)return null;if(c.wrap(m,x),t.keepMarks&&t.editor){const{selection:_,storedMarks:R}=n,{splittableMarks:k}=t.editor.extensionManager,M=R||_.$to.parentOffset&&_.$from.marks();if(M){const P=M.filter(K=>k.includes(K.type.name));c.ensureMarks(P)}}if(t.keepAttributes){const _=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(_,l).run()}const b=c.doc.resolve(r.from-1).nodeBefore;b&&b.type===t.type&&canJoin(c.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(s,b))&&c.join(r.from-1)},undoable:t.undoable})}var isTouchEvent=t=>"touches"in t,ResizableNodeView=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=c=>{if(!this.isResizing||!this.activeHandle)return;const p=c.clientX-this.startX,m=c.clientY-this.startY;this.handleResize(p,m)},this.handleTouchMove=c=>{if(!this.isResizing||!this.activeHandle)return;const p=c.touches[0];if(!p)return;const m=p.clientX-this.startX,x=p.clientY-this.startY;this.handleResize(m,x)},this.handleMouseUp=()=>{if(!this.isResizing)return;const c=this.element.offsetWidth,p=this.element.offsetHeight;this.onCommit(c,p),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!1)};var n,r,s,o,l;this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(n=t.options)!=null&&n.min&&(this.minSize={...this.minSize,...t.options.min}),(r=t.options)!=null&&r.max&&(this.maxSize=t.options.max),(s=t==null?void 0:t.options)!=null&&s.directions&&(this.directions=t.options.directions),(o=t.options)!=null&&o.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(l=t.options)!=null&&l.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,n,r){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,n,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const n=document.createElement("div");return n.dataset.resizeHandle=t,n.style.position="absolute",this.classNames.handle&&(n.className=this.classNames.handle),n}positionHandle(t,n){const r=n.includes("top"),s=n.includes("bottom"),o=n.includes("left"),l=n.includes("right");r&&(t.style.top="0"),s&&(t.style.bottom="0"),o&&(t.style.left="0"),l&&(t.style.right="0"),(n==="top"||n==="bottom")&&(t.style.left="0",t.style.right="0"),(n==="left"||n==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{const n=this.createHandle(t);this.positionHandle(n,t),n.addEventListener("mousedown",r=>this.handleResizeStart(r,t)),n.addEventListener("touchstart",r=>this.handleResizeStart(r,t)),this.wrapper.appendChild(n)})}applyInitialSize(){const t=this.node.attrs.width,n=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,n?(this.element.style.height=`${n}px`,this.initialHeight=n):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,n){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=n,isTouchEvent(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,n){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:o}=this.calculateNewDimensions(this.activeHandle,t,n),l=this.applyConstraints(s,o,r);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(t,n,r){let s=this.startWidth,o=this.startHeight;const l=t.includes("right"),c=t.includes("left"),p=t.includes("bottom"),m=t.includes("top");return l?s=this.startWidth+n:c&&(s=this.startWidth-n),p?o=this.startHeight+r:m&&(o=this.startHeight-r),(t==="right"||t==="left")&&(s=this.startWidth+(l?n:-n)),(t==="top"||t==="bottom")&&(o=this.startHeight+(p?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,o,t):{width:s,height:o}}applyConstraints(t,n,r){var s,o,l,c;if(!r){let x=Math.max(this.minSize.width,t),b=Math.max(this.minSize.height,n);return(s=this.maxSize)!=null&&s.width&&(x=Math.min(this.maxSize.width,x)),(o=this.maxSize)!=null&&o.height&&(b=Math.min(this.maxSize.height,b)),{width:x,height:b}}let p=t,m=n;return p<this.minSize.width&&(p=this.minSize.width,m=p/this.aspectRatio),m<this.minSize.height&&(m=this.minSize.height,p=m*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&p>this.maxSize.width&&(p=this.maxSize.width,m=p/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&m>this.maxSize.height&&(m=this.maxSize.height,p=m*this.aspectRatio),{width:p,height:m}}applyAspectRatio(t,n,r){const s=r==="left"||r==="right",o=r==="top"||r==="bottom";return s?{width:t,height:t/this.aspectRatio}:o?{width:n*this.aspectRatio,height:n}:{width:t,height:t/this.aspectRatio}}};function canInsertNode(t,n){const{selection:r}=t,{$from:s}=r;if(r instanceof NodeSelection){const l=s.index();return s.parent.canReplaceWith(l,l+1,n)}let o=s.depth;for(;o>=0;){const l=s.index(o);if(s.node(o).contentMatchAt(l).matchType(n))return!0;o-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(t){if(!(t!=null&&t.trim()))return{};const n={},r=[],s=t.replace(/["']([^"']*)["']/g,x=>(r.push(x),`__QUOTED_${r.length-1}__`)),o=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const x=o.map(b=>b.trim().slice(1));n.class=x.join(" ")}const l=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(n.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,x,b])=>{var _;const R=parseInt(((_=b.match(/__QUOTED_(\d+)__/))==null?void 0:_[1])||"0",10),k=r[R];k&&(n[x]=k.slice(1,-1))});const m=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return m&&m.split(/\s+/).filter(Boolean).forEach(b=>{b.match(/^[a-zA-Z][\w-]*$/)&&(n[b]=!0)}),n}function serializeAttributes(t){if(!t||Object.keys(t).length===0)return"";const n=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>n.push(`.${s}`)),t.id&&n.push(`#${t.id}`),Object.entries(t).forEach(([r,s])=>{r==="class"||r==="id"||(s===!0?n.push(r):s!==!1&&s!=null&&n.push(`${r}="${String(s)}"`))}),n.join(" ")}function createAtomBlockMarkdownSpec(t){const{nodeName:n,name:r,parseAttributes:s=parseAttributes,serializeAttributes:o=serializeAttributes,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:p}=t,m=r||n,x=b=>{if(!p)return b;const _={};return p.forEach(R=>{R in b&&(_[R]=b[R])}),_};return{parseMarkdown:(b,_)=>{const R={...l,...b.attributes};return _.createNode(n,R,[])},markdownTokenizer:{name:n,level:"block",start(b){var _;const R=new RegExp(`^:::${m}(?:\\s|$)`,"m"),k=(_=b.match(R))==null?void 0:_.index;return k!==void 0?k:-1},tokenize(b,_,R){const k=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),M=b.match(k);if(!M)return;const P=M[1]||"",K=s(P);if(!c.find(G=>!(G in K)))return{type:n,raw:M[0],attributes:K}}},renderMarkdown:b=>{const _=x(b.attrs||{}),R=o(_),k=R?` {${R}}`:"";return`:::${m}${k} :::`}}}function createBlockMarkdownSpec(t){const{nodeName:n,name:r,getContent:s,parseAttributes:o=parseAttributes,serializeAttributes:l=serializeAttributes,defaultAttributes:c={},content:p="block",allowedAttributes:m}=t,x=r||n,b=_=>{if(!m)return _;const R={};return m.forEach(k=>{k in _&&(R[k]=_[k])}),R};return{parseMarkdown:(_,R)=>{let k;if(s){const P=s(_);k=typeof P=="string"?[{type:"text",text:P}]:P}else p==="block"?k=R.parseChildren(_.tokens||[]):k=R.parseInline(_.tokens||[]);const M={...c,..._.attributes};return R.createNode(n,M,k)},markdownTokenizer:{name:n,level:"block",start(_){var R;const k=new RegExp(`^:::${x}`,"m"),M=(R=_.match(k))==null?void 0:R.index;return M!==void 0?M:-1},tokenize(_,R,k){var M;const P=new RegExp(`^:::${x}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),K=_.match(P);if(!K)return;const[$,G=""]=K,H=o(G);let j=1;const W=$.length;let Y="";const X=/^:::([\w-]*)(\s.*)?/gm,te=_.slice(W);for(X.lastIndex=0;;){const se=X.exec(te);if(se===null)break;const pe=se.index,ge=se[1];if(!((M=se[2])!=null&&M.endsWith(":::"))){if(ge)j+=1;else if(j-=1,j===0){const me=te.slice(0,pe);Y=me.trim();const Ee=_.slice(0,W+pe+se[0].length);let ve=[];if(Y)if(p==="block")for(ve=k.blockTokens(me),ve.forEach(de=>{de.text&&(!de.tokens||de.tokens.length===0)&&(de.tokens=k.inlineTokens(de.text))});ve.length>0;){const de=ve[ve.length-1];if(de.type==="paragraph"&&(!de.text||de.text.trim()===""))ve.pop();else break}else ve=k.inlineTokens(Y);return{type:n,raw:Ee,attributes:H,content:Y,tokens:ve}}}}}},renderMarkdown:(_,R)=>{const k=b(_.attrs||{}),M=l(k),P=M?` {${M}}`:"",K=R.renderChildren(_.content||[],`

`);return`:::${x}${P}

${K}

:::`}}}function parseShortcodeAttributes(t){if(!t.trim())return{};const n={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=r.exec(t);for(;s!==null;){const[,o,l,c]=s;n[o]=l||c,s=r.exec(t)}return n}function serializeShortcodeAttributes(t){return Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${n}="${r}"`).join(" ")}function createInlineMarkdownSpec(t){const{nodeName:n,name:r,getContent:s,parseAttributes:o=parseShortcodeAttributes,serializeAttributes:l=serializeShortcodeAttributes,defaultAttributes:c={},selfClosing:p=!1,allowedAttributes:m}=t,x=r||n,b=R=>{if(!m)return R;const k={};return m.forEach(M=>{M in R&&(k[M]=R[M])}),k},_=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(R,k)=>{const M={...c,...R.attributes};if(p)return k.createNode(n,M);const P=s?s(R):R.content||"";return P?k.createNode(n,M,[k.createTextNode(P)]):k.createNode(n,M,[])},markdownTokenizer:{name:n,level:"inline",start(R){const k=p?new RegExp(`\\[${_}\\s*[^\\]]*\\]`):new RegExp(`\\[${_}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${_}\\]`),M=R.match(k),P=M==null?void 0:M.index;return P!==void 0?P:-1},tokenize(R,k,M){const P=p?new RegExp(`^\\[${_}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${_}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${_}\\]`),K=R.match(P);if(!K)return;let $="",G="";if(p){const[,j]=K;G=j}else{const[,j,W]=K;G=j,$=W||""}const H=o(G.trim());return{type:n,raw:K[0],content:$.trim(),attributes:H}}},renderMarkdown:R=>{let k="";s?k=s(R):R.content&&R.content.length>0&&(k=R.content.filter($=>$.type==="text").map($=>$.text).join(""));const M=b(R.attrs||{}),P=l(M),K=P?` ${P}`:"";return p?`[${x}${K}]`:`[${x}${K}]${k}[/${x}]`}}}function parseIndentedBlocks(t,n,r){var s,o,l,c;const p=t.split(`
`),m=[];let x="",b=0;const _=n.baseIndentSize||2;for(;b<p.length;){const R=p[b],k=R.match(n.itemPattern);if(!k){if(m.length>0)break;if(R.trim()===""){b+=1;continue}else return}const M=n.extractItemData(k),{indentLevel:P,mainContent:K}=M;x=`${x}${R}
`;const $=[K];for(b+=1;b<p.length;){const W=p[b];if(W.trim()===""){const X=p.slice(b+1).findIndex(pe=>pe.trim()!=="");if(X===-1)break;if((((o=(s=p[b+1+X].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>P){$.push(W),x=`${x}${W}
`,b+=1;continue}else break}if((((c=(l=W.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>P)$.push(W),x=`${x}${W}
`,b+=1;else break}let G;const H=$.slice(1);if(H.length>0){const W=H.map(Y=>Y.slice(P+_)).join(`
`);W.trim()&&(n.customNestedParser?G=n.customNestedParser(W):G=r.blockTokens(W))}const j=n.createToken(M,G);m.push(j)}if(m.length!==0)return{items:m,raw:x.trim()}}function renderNestedMarkdownContent(t,n,r,s){if(!t||!Array.isArray(t.content))return"";const o=typeof r=="function"?r(s):r,[l,...c]=t.content,p=n.renderChildren([l]),m=[`${o}${p}`];return c&&c.length>0&&c.forEach(x=>{const b=n.renderChildren([x]);if(b){const _=b.split(`
`).map(R=>R?n.indent(R):"").join(`
`);m.push(_)}}),m.join(`
`)}function updateMarkViewAttributes(t,n,r={}){const{state:s}=n,{doc:o,tr:l}=s,c=t;o.descendants((p,m)=>{const x=l.mapping.map(m),b=l.mapping.map(m)+p.nodeSize;let _=null;if(p.marks.forEach(k=>{if(k!==c)return!1;_=k}),!_)return;let R=!1;if(Object.keys(r).forEach(k=>{r[k]!==_.attrs[k]&&(R=!0)}),R){const k=t.type.create({...t.attrs,...r});l.removeMark(x,b,t.type),l.addMark(x,b,k)}}),l.docChanged&&n.view.dispatch(l)}var Node3=class Qf extends Extendable{constructor(){super(...arguments),this.type="node"}static create(n={}){const r=typeof n=="function"?n():n;return new Qf(r)}configure(n){return super.configure(n)}extend(n){const r=typeof n=="function"?n():n;return super.extend(r)}};function markPasteRule(t){return new PasteRule({find:t.find,handler:({state:n,range:r,match:s,pasteEvent:o})=>{const l=callOrReturn(t.getAttributes,void 0,s,o);if(l===!1||l===null)return null;const{tr:c}=n,p=s[s.length-1],m=s[0];let x=r.to;if(p){const b=m.search(/\S/),_=r.from+m.indexOf(p),R=_+p.length;if(getMarksBetween(r.from,r.to,n.doc).filter(M=>M.mark.type.excluded.find(K=>K===t.type&&K!==M.mark.type)).filter(M=>M.to>_).length)return null;R<r.to&&c.delete(R,r.to),_>r.from&&c.delete(r.from+b,_),x=r.from+b+p.length,c.addMark(r.from+b,x,t.type.create(l||{})),c.removeStoredMark(t.type)}}})}var react,hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react=function t(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var s,o,l;if(Array.isArray(n)){if(s=n.length,s!=r.length)return!1;for(o=s;o--!==0;)if(!t(n[o],r[o]))return!1;return!0}if(n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;for(o of n.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if(s=n.length,s!=r.length)return!1;for(o=s;o--!==0;)if(n[o]!==r[o])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(l=Object.keys(n),s=l.length,s!==Object.keys(r).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[o]))return!1;for(o=s;o--!==0;){var c=l[o];if(!(c==="_owner"&&n.$$typeof)&&!t(n[c],r[c]))return!1}return!0}return n!==n&&r!==r}),react}var reactExports=requireReact();const deepEqual=getDefaultExportFromCjs(reactExports);var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var t=requireReact$1(),n=requireShim();function r(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var s=typeof Object.is=="function"?Object.is:r,o=n.useSyncExternalStore,l=t.useRef,c=t.useEffect,p=t.useMemo,m=t.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(x,b,_,R,k){var M=l(null);if(M.current===null){var P={hasValue:!1,value:null};M.current=P}else P=M.current;M=p(function(){function $(Y){if(!G){if(G=!0,H=Y,Y=R(Y),k!==void 0&&P.hasValue){var X=P.value;if(k(X,Y))return j=X}return j=Y}if(X=j,s(H,Y))return X;var te=R(Y);return k!==void 0&&k(X,te)?(H=Y,X):(H=Y,j=te)}var G=!1,H,j,W=_===void 0?null:_;return[function(){return $(b())},W===null?void 0:function(){return $(W())}]},[b,_,R,k]);var K=o(x,M[0],M[1]);return c(function(){P.hasValue=!0,P.value=K},[K]),m(K),K},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector(),mergeRefs=(...t)=>n=>{t.forEach(r=>{typeof r=="function"?r(n):r&&(r.current=n)})},Portals=({contentComponent:t})=>{const n=shimExports.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(n)})};function getInstance(){const t=new Set;let n={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return n},getServerSnapshot(){return n},setRenderer(r,s){n={...n,[r]:ReactDOM.createPortal(s.reactElement,s.element,r)},t.forEach(o=>o())},removeRenderer(r){const s={...n};delete s[r],n=s,t.forEach(o=>o())}}}var PureEditorContent=class extends React.Component{constructor(t){var n;super(t),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((n=t.editor)!=null&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(t.view.dom),t.setOptions({element:n}),t.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const n=this.props.editor;if(n){this.initialized=!1,n.isDestroyed||n.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),n.contentComponent=null;try{if(!((t=n.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(n.view.dom),n.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:n,...r}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(n,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:t.contentComponent})]})}},EditorContentWithKey=reactExports$1.forwardRef((t,n)=>{const r=React.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return React.createElement(PureEditorContent,{key:r,innerRef:n,...t})}),EditorContent=React.memo(EditorContentWithKey),useIsomorphicLayoutEffect=typeof window<"u"?reactExports$1.useLayoutEffect:reactExports$1.useEffect,EditorStateManager=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}};function useEditorState(t){var n;const[r]=reactExports$1.useState(()=>new EditorStateManager(t.editor)),s=withSelectorExports.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(n=t.equalityFn)!=null?n:deepEqual);return useIsomorphicLayoutEffect(()=>r.watch(t.editor),[t.editor,r]),reactExports$1.useDebugValue(s),s}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Vf{constructor(n){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=n,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(n){this.editor=n,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const n={...this.options.current,onBeforeCreate:(...s)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)==null?void 0:l.call(o,...s)},onBlur:(...s)=>{var o,l;return(l=(o=this.options.current).onBlur)==null?void 0:l.call(o,...s)},onCreate:(...s)=>{var o,l;return(l=(o=this.options.current).onCreate)==null?void 0:l.call(o,...s)},onDestroy:(...s)=>{var o,l;return(l=(o=this.options.current).onDestroy)==null?void 0:l.call(o,...s)},onFocus:(...s)=>{var o,l;return(l=(o=this.options.current).onFocus)==null?void 0:l.call(o,...s)},onSelectionUpdate:(...s)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)==null?void 0:l.call(o,...s)},onTransaction:(...s)=>{var o,l;return(l=(o=this.options.current).onTransaction)==null?void 0:l.call(o,...s)},onUpdate:(...s)=>{var o,l;return(l=(o=this.options.current).onUpdate)==null?void 0:l.call(o,...s)},onContentError:(...s)=>{var o,l;return(l=(o=this.options.current).onContentError)==null?void 0:l.call(o,...s)},onDrop:(...s)=>{var o,l;return(l=(o=this.options.current).onDrop)==null?void 0:l.call(o,...s)},onPaste:(...s)=>{var o,l;return(l=(o=this.options.current).onPaste)==null?void 0:l.call(o,...s)},onDelete:(...s)=>{var o,l;return(l=(o=this.options.current).onDelete)==null?void 0:l.call(o,...s)}};return new Editor(n)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(n){return this.subscriptions.add(n),()=>{this.subscriptions.delete(n)}}static compareOptions(n,r){return Object.keys(n).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&n.extensions&&r.extensions?n.extensions.length!==r.extensions.length?!1:n.extensions.every((o,l)=>{var c;return o===((c=r.extensions)==null?void 0:c[l])}):n[s]===r[s])}onRender(n){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&n.length===0?Vf.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(n),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(n){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=n;return}if(this.previousDeps.length===n.length&&this.previousDeps.every((s,o)=>s===n[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=n}scheduleDestroy(){const n=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===n){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===n&&this.setEditor(null))},1)}};function useEditor(t={},n=[]){const r=reactExports$1.useRef(t);r.current=t;const[s]=reactExports$1.useState(()=>new EditorInstanceManager(r)),o=shimExports.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return reactExports$1.useDebugValue(o),reactExports$1.useEffect(s.onRender(n)),useEditorState({editor:o,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&l===0?0:l+1}),o}var EditorContext=reactExports$1.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports$1.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports$1.useContext(ReactNodeViewContext);React.forwardRef((t,n)=>{const{onDragStart:r}=useReactNodeView(),s=t.as||"div";return jsxRuntimeExports.jsx(s,{...t,ref:n,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});React.createContext({markViewContentRef:()=>{}});var h=(t,n)=>{if(t==="slot")return 0;if(t instanceof Function)return t(n);const{children:r,...s}=n??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,r]},inputRegex$4=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,t),children:h("slot",{})})},parseMarkdown:(t,n)=>n.createNode("blockquote",void 0,n.parseChildren(t.tokens||[])),renderMarkdown:(t,n)=>{if(!t.content)return"";const r=">",s=[];return t.content.forEach(o=>{const p=n.renderChildren([o]).split(`
`).map(m=>m.trim()===""?r:`${r} ${m}`);s.push(p.join(`
`))}),s.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return h("strong",{...mergeAttributes(this.options.HTMLAttributes,t),children:h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,n)=>n.applyMark("bold",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`**${n.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$3=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,n)=>n.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,n)=>t.content?`\`${n.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var n;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((n=t.firstElementChild)==null?void 0:n.classList)||[]].filter(c=>c.startsWith(r)).map(c=>c.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:n}){return["pre",mergeAttributes(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,n)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:n.createNode("codeBlock",{language:t.lang||null},t.text?[n.createTextNode(t.text)]:[])},renderMarkdown:(t,n)=>{var r;let s="";const o=((r=t.attrs)==null?void 0:r.language)||"";return t.content?s=[`\`\`\`${o}`,n.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${o}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:n})=>n.setNode(this.name,t),toggleCodeBlock:t=>({commands:n})=>n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:n}=this.editor.state.selection,r=n.pos===1;return!t||n.parent.type.name!==this.name?!1:r||!n.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var n;if(!this.options.enableTabIndentation)return!1;const r=(n=this.options.tabSize)!=null?n:DEFAULT_TAB_SIZE,{state:s}=t,{selection:o}=s,{$from:l,empty:c}=o;if(l.parent.type!==this.type)return!1;const p=" ".repeat(r);return c?t.commands.insertContent(p):t.commands.command(({tr:m})=>{const{from:x,to:b}=o,k=s.doc.textBetween(x,b,`
`,`
`).split(`
`).map(M=>p+M).join(`
`);return m.replaceWith(x,b,s.schema.text(k)),!0})},"Shift-Tab":({editor:t})=>{var n;if(!this.options.enableTabIndentation)return!1;const r=(n=this.options.tabSize)!=null?n:DEFAULT_TAB_SIZE,{state:s}=t,{selection:o}=s,{$from:l,empty:c}=o;return l.parent.type!==this.type?!1:c?t.commands.command(({tr:p})=>{var m;const{pos:x}=l,b=l.start(),_=l.end(),k=s.doc.textBetween(b,_,`
`,`
`).split(`
`);let M=0,P=0;const K=x-b;for(let Y=0;Y<k.length;Y+=1){if(P+k[Y].length>=K){M=Y;break}P+=k[Y].length+1}const G=((m=k[M].match(/^ */))==null?void 0:m[0])||"",H=Math.min(G.length,r);if(H===0)return!0;let j=b;for(let Y=0;Y<M;Y+=1)j+=k[Y].length+1;return p.delete(j,j+H),x-j<=H&&p.setSelection(TextSelection.create(p.doc,j)),!0}):t.commands.command(({tr:p})=>{const{from:m,to:x}=o,R=s.doc.textBetween(m,x,`
`,`
`).split(`
`).map(k=>{var M;const P=((M=k.match(/^ */))==null?void 0:M[0])||"",K=Math.min(P.length,r);return k.slice(K)}).join(`
`);return p.replaceWith(m,x,s.schema.text(R)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:n}=t,{selection:r}=n,{$from:s,empty:o}=r;if(!o||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!l||!c?!1:t.chain().command(({tr:p})=>(p.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:n}=t,{selection:r,doc:s}=n,{$from:o,empty:l}=r;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const p=o.after();return p===void 0?!1:s.nodeAt(p)?t.commands.command(({tr:x})=>(x.setSelection(Selection.near(s.resolve(p))),!0)):t.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:t=>({language:t[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;const r=n.clipboardData.getData("text/plain"),s=n.clipboardData.getData("vscode-editor-data"),o=s?JSON.parse(s):void 0,l=o==null?void 0:o.mode;if(!r||!l)return!1;const{tr:c,schema:p}=t.state,m=p.text(r.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},m)),c.selection.$from.parent.type!==this.type&&c.setSelection(TextSelection.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mergeAttributes(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:n,state:r,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:l}=r;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:p}=s.extensionManager,m=l||o.$to.parentOffset&&o.$from.marks();return n().insertContent({type:this.name}).command(({tr:x,dispatch:b})=>{if(b&&m&&c){const _=m.filter(R=>p.includes(R.type.name));x.ensureMarks(_)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:n}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,n),0]},parseMarkdown:(t,n)=>n.createNode("heading",{level:t.depth||1},n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>{var r;const s=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,o="#".repeat(s);return t.content?`${o} ${n.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:n})=>this.options.levels.includes(t.level)?n.setNode(this.name,t):!1,toggleHeading:t=>({commands:n})=>this.options.levels.includes(t.level)?n.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,n)=>({...t,[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}),{})},addInputRules(){return this.options.levels.map(t=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mergeAttributes(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,n)=>n.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:n})=>{if(!canInsertNode(n,n.schema.nodes[this.name]))return!1;const{selection:r}=n,{$to:s}=r,o=t();return isNodeSelection(r)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:l,tr:c,dispatch:p})=>{if(p){const{$to:m}=c.selection,x=m.end();if(m.nodeAfter)m.nodeAfter.isTextblock?c.setSelection(TextSelection.create(c.doc,m.pos+1)):m.nodeAfter.isBlock?c.setSelection(NodeSelection.create(c.doc,m.pos)):c.setSelection(TextSelection.create(c.doc,m.pos));else{const b=l.schema.nodes[this.options.nextNodeType]||m.parent.type.contentMatch.defaultType,_=b==null?void 0:b.create();_&&(c.insert(x,_),c.setSelection(TextSelection.create(c.doc,x+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,n)=>n.applyMark("italic",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`*${n.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(t,n){return t in n||(n[t]=[]),n[t]}function addToGroups(t,n,r){n[numeric]&&(n[asciinumeric]=!0,n[alphanumeric]=!0),n[ascii]&&(n[asciinumeric]=!0,n[alpha]=!0),n[asciinumeric]&&(n[alphanumeric]=!0),n[alpha]&&(n[alphanumeric]=!0),n[alphanumeric]&&(n[domain]=!0),n[emoji]&&(n[domain]=!0);for(const s in n){const o=registerGroup(s,r);o.indexOf(t)<0&&o.push(t)}}function flagsForToken(t,n){const r={};for(const s in n)n[s].indexOf(t)>=0&&(r[s]=!0);return r}function State(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}State.groups={};State.prototype={accepts(){return!!this.t},go(t){const n=this,r=n.j[t];if(r)return r;for(let s=0;s<n.jr.length;s++){const o=n.jr[s][0],l=n.jr[s][1];if(l&&o.test(t))return l}return n.jd},has(t,n=!1){return n?t in this.j:!!this.go(t)},ta(t,n,r,s){for(let o=0;o<t.length;o++)this.tt(t[o],n,r,s)},tr(t,n,r,s){s=s||State.groups;let o;return n&&n.j?o=n:(o=new State(n),r&&s&&addToGroups(n,r,s)),this.jr.push([t,o]),o},ts(t,n,r,s){let o=this;const l=t.length;if(!l)return o;for(let c=0;c<l-1;c++)o=o.tt(t[c]);return o.tt(t[l-1],n,r,s)},tt(t,n,r,s){s=s||State.groups;const o=this;if(n&&n.j)return o.j[t]=n,n;const l=n;let c,p=o.go(t);if(p?(c=new State,Object.assign(c.j,p.j),c.jr.push.apply(c.jr,p.jr),c.jd=p.jd,c.t=p.t):c=new State,l){if(s)if(c.t&&typeof c.t=="string"){const m=Object.assign(flagsForToken(c.t,s),r);addToGroups(l,m,s)}else r&&addToGroups(l,r,s);c.t=l}return o.j[t]=c,c}};const ta=(t,n,r,s,o)=>t.ta(n,r,s,o),tr=(t,n,r,s,o)=>t.tr(n,r,s,o),ts=(t,n,r,s,o)=>t.ts(n,r,s,o),tt=(t,n,r,s,o)=>t.tt(n,r,s,o),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(t=[]){const n={};State.groups=n;const r=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(r,"'",APOSTROPHE),tt(r,"{",OPENBRACE),tt(r,"}",CLOSEBRACE),tt(r,"[",OPENBRACKET),tt(r,"]",CLOSEBRACKET),tt(r,"(",OPENPAREN),tt(r,")",CLOSEPAREN),tt(r,"<",OPENANGLEBRACKET),tt(r,">",CLOSEANGLEBRACKET),tt(r,"",FULLWIDTHLEFTPAREN),tt(r,"",FULLWIDTHRIGHTPAREN),tt(r,"",LEFTCORNERBRACKET),tt(r,"",RIGHTCORNERBRACKET),tt(r,"",LEFTWHITECORNERBRACKET),tt(r,"",RIGHTWHITECORNERBRACKET),tt(r,"",FULLWIDTHLESSTHAN),tt(r,"",FULLWIDTHGREATERTHAN),tt(r,"&",AMPERSAND),tt(r,"*",ASTERISK),tt(r,"@",AT),tt(r,"`",BACKTICK),tt(r,"^",CARET),tt(r,":",COLON),tt(r,",",COMMA),tt(r,"$",DOLLAR),tt(r,".",DOT),tt(r,"=",EQUALS),tt(r,"!",EXCLAMATION),tt(r,"-",HYPHEN),tt(r,"%",PERCENT),tt(r,"|",PIPE),tt(r,"+",PLUS),tt(r,"#",POUND),tt(r,"?",QUERY),tt(r,'"',QUOTE),tt(r,"/",SLASH),tt(r,";",SEMI),tt(r,"~",TILDE),tt(r,"_",UNDERSCORE),tt(r,"\\",BACKSLASH),tt(r,"",FULLWIDTHMIDDLEDOT);const s=tr(r,DIGIT,NUM,{[numeric]:!0});tr(s,DIGIT,s);const o=tr(s,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),l=tr(s,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),c=tr(r,ASCII_LETTER,WORD,{[ascii]:!0});tr(c,DIGIT,o),tr(c,ASCII_LETTER,c),tr(o,DIGIT,o),tr(o,ASCII_LETTER,o);const p=tr(r,LETTER,UWORD,{[alpha]:!0});tr(p,ASCII_LETTER),tr(p,DIGIT,l),tr(p,LETTER,p),tr(l,DIGIT,l),tr(l,ASCII_LETTER),tr(l,LETTER,l);const m=tt(r,LF,NL,{[whitespace]:!0}),x=tt(r,CR,WS,{[whitespace]:!0}),b=tr(r,SPACE,WS,{[whitespace]:!0});tt(r,OBJECT_REPLACEMENT,b),tt(x,LF,m),tt(x,OBJECT_REPLACEMENT,b),tr(x,SPACE,b),tt(b,CR),tt(b,LF),tr(b,SPACE,b),tt(b,OBJECT_REPLACEMENT,b);const _=tr(r,EMOJI,EMOJI$1,{[emoji]:!0});tt(_,"#"),tr(_,EMOJI,_),tt(_,EMOJI_VARIATION,_);const R=tt(_,EMOJI_JOINER);tt(R,"#"),tr(R,EMOJI,_);const k=[[ASCII_LETTER,c],[DIGIT,o]],M=[[ASCII_LETTER,null],[LETTER,p],[DIGIT,l]];for(let P=0;P<tlds.length;P++)fastts(r,tlds[P],TLD,WORD,k);for(let P=0;P<utlds.length;P++)fastts(r,utlds[P],UTLD,UWORD,M);addToGroups(TLD,{tld:!0,ascii:!0},n),addToGroups(UTLD,{utld:!0,alpha:!0},n),fastts(r,"file",SCHEME,WORD,k),fastts(r,"mailto",SCHEME,WORD,k),fastts(r,"http",SLASH_SCHEME,WORD,k),fastts(r,"https",SLASH_SCHEME,WORD,k),fastts(r,"ftp",SLASH_SCHEME,WORD,k),fastts(r,"ftps",SLASH_SCHEME,WORD,k),addToGroups(SCHEME,{scheme:!0,ascii:!0},n),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},n),t=t.sort((P,K)=>P[0]>K[0]?1:-1);for(let P=0;P<t.length;P++){const K=t[P][0],G=t[P][1]?{[scheme]:!0}:{[slashscheme]:!0};K.indexOf("-")>=0?G[domain]=!0:ASCII_LETTER.test(K)?DIGIT.test(K)?G[asciinumeric]=!0:G[ascii]=!0:G[numeric]=!0,ts(r,K,K,G)}return ts(r,"localhost",LOCALHOST,{ascii:!0}),r.jd=new State(SYM),{start:r,tokens:Object.assign({groups:n},tk)}}function run$1(t,n){const r=stringToArray(n.replace(/[A-Z]/g,p=>p.toLowerCase())),s=r.length,o=[];let l=0,c=0;for(;c<s;){let p=t,m=null,x=0,b=null,_=-1,R=-1;for(;c<s&&(m=p.go(r[c]));)p=m,p.accepts()?(_=0,R=0,b=p):_>=0&&(_+=r[c].length,R++),x+=r[c].length,l+=r[c].length,c++;l-=_,c-=R,x-=_,o.push({t:b.t,v:n.slice(l-x,l),s:l-x,e:l})}return o}function stringToArray(t){const n=[],r=t.length;let s=0;for(;s<r;){let o=t.charCodeAt(s),l,c=o<55296||o>56319||s+1===r||(l=t.charCodeAt(s+1))<56320||l>57343?t[s]:t.slice(s,s+2);n.push(c),s+=c.length}return n}function fastts(t,n,r,s,o){let l;const c=n.length;for(let p=0;p<c-1;p++){const m=n[p];t.j[m]?l=t.j[m]:(l=new State(s),l.jr=o.slice(),t.j[m]=l),t=l}return l=new State(r),l.jr=o.slice(),t.j[n[c-1]]=l,l}function decodeTlds(t){const n=[],r=[];let s=0,o="0123456789";for(;s<t.length;){let l=0;for(;o.indexOf(t[s+l])>=0;)l++;if(l>0){n.push(r.join(""));for(let c=parseInt(t.substring(s,s+l),10);c>0;c--)r.pop();s+=l}else r.push(t[s]),s++}return n}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(t,n=null){let r=Object.assign({},defaults);t&&(r=Object.assign(r,t instanceof Options?t.o:t));const s=r.ignoreTags,o=[];for(let l=0;l<s.length;l++)o.push(s[l].toUpperCase());this.o=r,n&&(this.defaultRender=n),this.ignoreTags=o}Options.prototype={o:defaults,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,n,r){const s=n!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=r.t in o?o[r.t]:defaults[t],typeof o=="function"&&s&&(o=o(n,r))):typeof o=="function"&&s&&(o=o(n,r.t,r)),o)},getObj(t,n,r){let s=this.o[t];return typeof s=="function"&&n!=null&&(s=s(n,r.t,r)),s},render(t){const n=t.render(this);return(this.get("render",null,t)||this.defaultRender)(n,t.t,t)}};function noop(t){return t}function MultiToken(t,n){this.t="token",this.v=t,this.tk=n}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const n=this.toString(),r=t.get("truncate",n,this),s=t.get("format",n,this);return r&&s.length>r?s.substring(0,r)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const n=this,r=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",r,this),o=t.get("tagName",r,n),l=this.toFormattedString(t),c={},p=t.get("className",r,n),m=t.get("target",r,n),x=t.get("rel",r,n),b=t.getObj("attributes",r,n),_=t.getObj("events",r,n);return c.href=s,p&&(c.class=p),m&&(c.target=m),x&&(c.rel=x),b&&Object.assign(c,b),{tagName:o,attributes:c,content:l,eventListeners:_}}};function createTokenClass(t,n){class r extends MultiToken{constructor(o,l){super(o,l),this.t=t}}for(const s in n)r.prototype[s]=n[s];return r.t=t,r}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(t=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==LOCALHOST&&t[1].t===COLON}}),makeState=t=>new State(t);function init$1({groups:t}){const n=t.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),r=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],s=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],o=makeState(),l=tt(o,TILDE);ta(l,s,l),ta(l,t.domain,l);const c=makeState(),p=makeState(),m=makeState();ta(o,t.domain,c),ta(o,t.scheme,p),ta(o,t.slashscheme,m),ta(c,s,l),ta(c,t.domain,c);const x=tt(c,AT);tt(l,AT,x),tt(p,AT,x),tt(m,AT,x);const b=tt(l,DOT);ta(b,s,l),ta(b,t.domain,l);const _=makeState();ta(x,t.domain,_),ta(_,t.domain,_);const R=tt(_,DOT);ta(R,t.domain,_);const k=makeState(Email);ta(R,t.tld,k),ta(R,t.utld,k),tt(x,LOCALHOST,k);const M=tt(_,HYPHEN);tt(M,HYPHEN,M),ta(M,t.domain,_),ta(k,t.domain,_),tt(k,DOT,R),tt(k,HYPHEN,M);const P=tt(k,COLON);ta(P,t.numeric,Email);const K=tt(c,HYPHEN),$=tt(c,DOT);tt(K,HYPHEN,K),ta(K,t.domain,c),ta($,s,l),ta($,t.domain,c);const G=makeState(Url);ta($,t.tld,G),ta($,t.utld,G),ta(G,t.domain,c),ta(G,s,l),tt(G,DOT,$),tt(G,HYPHEN,K),tt(G,AT,x);const H=tt(G,COLON),j=makeState(Url);ta(H,t.numeric,j);const W=makeState(Url),Y=makeState();ta(W,n,W),ta(W,r,Y),ta(Y,n,W),ta(Y,r,Y),tt(G,SLASH,W),tt(j,SLASH,W);const X=tt(p,COLON),te=tt(m,COLON),se=tt(te,SLASH),pe=tt(se,SLASH);ta(p,t.domain,c),tt(p,DOT,$),tt(p,HYPHEN,K),ta(m,t.domain,c),tt(m,DOT,$),tt(m,HYPHEN,K),ta(X,t.domain,W),tt(X,SLASH,W),tt(X,QUERY,W),ta(pe,t.domain,W),ta(pe,n,W),tt(pe,SLASH,W);const ge=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let me=0;me<ge.length;me++){const[Ee,ve]=ge[me],de=tt(W,Ee);tt(Y,Ee,de),tt(de,ve,W);const ae=makeState(Url);ta(de,n,ae);const ue=makeState();ta(de,r),ta(ae,n,ae),ta(ae,r,ue),ta(ue,n,ae),ta(ue,r,ue),tt(ae,ve,W),tt(ue,ve,W)}return tt(o,LOCALHOST,G),tt(o,NL,Nl),{start:o,tokens:tk}}function run(t,n,r){let s=r.length,o=0,l=[],c=[];for(;o<s;){let p=t,m=null,x=null,b=0,_=null,R=-1;for(;o<s&&!(m=p.go(r[o].t));)c.push(r[o++]);for(;o<s&&(x=m||p.go(r[o].t));)m=null,p=x,p.accepts()?(R=0,_=p):R>=0&&R++,o++,b++;if(R<0)o-=b,o<s&&(c.push(r[o]),o++);else{c.length>0&&(l.push(initMultiToken(Text$1,n,c)),c=[]),o-=R,b-=R;const k=_.t,M=r.slice(o-b,o);l.push(initMultiToken(k,n,M))}}return c.length>0&&l.push(initMultiToken(Text$1,n,c)),l}function initMultiToken(t,n,r){const s=r[0].s,o=r[r.length-1].e,l=n.slice(s,o);return new t(l,r)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(t,n=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${t}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([t,n])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let t=0;t<INIT.tokenQueue.length;t++)INIT.tokenQueue[t][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let t=0;t<INIT.pluginQueue.length;t++)INIT.pluginQueue[t][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(t){return INIT.initialized||init(),run(INIT.parser.start,t,run$1(INIT.scanner.start,t))}tokenize.scan=run$1;function find(t,n=null,r=null){if(n&&typeof n=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${n}; must be a string`);r=n,n=null}const s=new Options(r),o=tokenize(t),l=[];for(let c=0;c<o.length;c++){const p=o[c];p.isLink&&(!n||p.t===n)&&s.check(p)&&l.push(p.toFormattedObject(s))}return l}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function autolink(t){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(n,r,s)=>{const o=n.some(x=>x.docChanged)&&!r.doc.eq(s.doc),l=n.some(x=>x.getMeta("preventAutolink"));if(!o||l)return;const{tr:c}=s,p=combineTransactionSteps(r.doc,[...n]);if(getChangedRanges(p).forEach(({newRange:x})=>{const b=findChildrenInRange(s.doc,x,k=>k.isTextblock);let _,R;if(b.length>1)_=b[0],R=s.doc.textBetween(_.pos,_.pos+_.node.nodeSize,void 0," ");else if(b.length){const k=s.doc.textBetween(x.from,x.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(k))return;_=b[0],R=s.doc.textBetween(_.pos,x.to,void 0," ")}if(_&&R){const k=R.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(k.length<=0)return!1;const M=k[k.length-1],P=_.pos+R.lastIndexOf(M);if(!M)return!1;const K=tokenize(M).map($=>$.toObject(t.defaultProtocol));if(!isValidLinkStructure(K))return!1;K.filter($=>$.isLink).map($=>({...$,from:P+$.start+1,to:P+$.end+1})).filter($=>s.schema.marks.code?!s.doc.rangeHasMark($.from,$.to,s.schema.marks.code):!0).filter($=>t.validate($.value)).filter($=>t.shouldAutoLink($.value)).forEach($=>{getMarksBetween($.from,$.to,s.doc).some(G=>G.mark.type===t.type)||c.addMark($.from,$.to,t.type.create({href:$.href}))})}}),!!c.steps.length)return c}})}function clickHandler(t){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(n,r,s)=>{var o,l;if(s.button!==0||!n.editable)return!1;let c=null;if(s.target instanceof HTMLAnchorElement)c=s.target;else{let b=s.target;const _=[];for(;b.nodeName!=="DIV";)_.push(b),b=b.parentNode;c=_.find(R=>R.nodeName==="A")}if(!c)return!1;const p=getAttributes(n.state,t.type.name),m=(o=c==null?void 0:c.href)!=null?o:p.href,x=(l=c==null?void 0:c.target)!=null?l:p.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&m?(window.open(m,x),!0):!1}}})}function pasteHandler(t){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(n,r,s)=>{const{shouldAutoLink:o}=t,{state:l}=n,{selection:c}=l,{empty:p}=c;if(p)return!1;let m="";s.content.forEach(b=>{m+=b.textContent});const x=find(m,{defaultProtocol:t.defaultProtocol}).find(b=>b.isLink&&b.value===m);return!m||!x||o!==void 0&&!o(x.href)?!1:t.editor.commands.setMark(t.type,{href:x.href})}}})}function isAllowedUri(t,n){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return n&&n.forEach(s=>{const o=typeof s=="string"?s:s.scheme;o&&r.push(o)}),!t||t.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){registerCustomProtocol(t);return}registerCustomProtocol(t.scheme,t.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,n)=>!!isAllowedUri(t,n.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const n=t.getAttribute("href");return!n||!this.options.isAllowedUri(n,{defaultValidate:r=>!!isAllowedUri(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:n=>!!isAllowedUri(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,t),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,n)=>n.applyMark("link",n.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,n)=>{var r;const s=((r=t.attrs)==null?void 0:r.href)||"";return`[${n.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:n})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:s=>!!isAllowedUri(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?n().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:n})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:s=>!!isAllowedUri(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:n().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:t=>{const n=[];if(t){const{protocols:r,defaultProtocol:s}=this.options,o=find(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!isAllowedUri(c,r),protocols:r,defaultProtocol:s}));o.length&&o.forEach(l=>{this.options.shouldAutoLink(l.value)&&n.push({text:l.value,data:{href:l.href},index:l.start})})}return n},type:this.type,getAttributes:t=>{var n;return{href:(n=t.data)==null?void 0:n.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:n,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:o=>!!isAllowedUri(o,n),protocols:n,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(clickHandler({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),__defProp=Object.defineProperty,__export=(t,n)=>{for(var r in n)__defProp(t,r,{get:n[r],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,n)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?n.parseChildren(t.items):[]},renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[t]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,n)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))r=n.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(r=[{type:"paragraph",content:n.parseInline(o.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),p=n.parseChildren(c);r.push(...p)}}else r=n.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,n,r)=>renderNestedMarkdownContent(t,n,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(t,n)=>{const{$from:r}=n.selection,s=getNodeType(t,n.schema);let o=null,l=r.depth,c=r.pos,p=null;for(;l>0&&p===null;)o=r.node(l),o.type===s?p=l:(l-=1,c-=1);return p===null?null:{$pos:n.doc.resolve(c),depth:p}},getNextListDepth=(t,n)=>{const r=findListItemPos(t,n);if(!r)return!1;const[,s]=getNodeAtPosition(n,t,r.$pos.pos+4);return s},hasListBefore=(t,n,r)=>{const{$anchor:s}=t.selection,o=Math.max(0,s.pos-2),l=t.doc.resolve(o).node();return!(!l||!r.includes(l.type.name))},hasListItemBefore=(t,n)=>{var r;const{$anchor:s}=n.selection,o=n.doc.resolve(s.pos-2);return!(o.index()===0||((r=o.nodeBefore)==null?void 0:r.type.name)!==t)},listItemHasSubList=(t,n,r)=>{if(!r)return!1;const s=getNodeType(t,n.schema);let o=!1;return r.descendants(l=>{l.type===s&&(o=!0)}),o},handleBackspace=(t,n,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!isNodeActive(t.state,n)&&hasListBefore(t.state,n,r)){const{$anchor:p}=t.state.selection,m=t.state.doc.resolve(p.before()-1),x=[];m.node().descendants((R,k)=>{R.type.name===n&&x.push({node:R,pos:k})});const b=x.at(-1);if(!b)return!1;const _=t.state.doc.resolve(m.start()+b.pos+1);return t.chain().cut({from:p.start()-1,to:p.end()+1},_.end()).joinForward().run()}if(!isNodeActive(t.state,n)||!isAtStartOfNode(t.state))return!1;const s=findListItemPos(n,t.state);if(!s)return!1;const l=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=listItemHasSubList(n,t.state,l);return hasListItemBefore(n,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(n).run()},nextListIsDeeper=(t,n)=>{const r=getNextListDepth(t,n),s=findListItemPos(t,n);return!s||!r?!1:r>s.depth},nextListIsHigher=(t,n)=>{const r=getNextListDepth(t,n),s=findListItemPos(t,n);return!s||!r?!1:r<s.depth},handleDelete=(t,n)=>{if(!isNodeActive(t.state,n)||!isAtEndOfNode(t.state,n))return!1;const{selection:r}=t.state,{$from:s,$to:o}=r;return!r.empty&&s.sameParent(o)?!1:nextListIsDeeper(n,t.state)?t.chain().focus(t.state.selection.from+4).lift(n).joinBackward().run():nextListIsHigher(n,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},hasListItemAfter=(t,n)=>{var r;const{$anchor:s}=n.selection,o=n.doc.resolve(s.pos-s.parentOffset-2);return!(o.index()===o.parent.childCount-1||((r=o.nodeAfter)==null?void 0:r.type.name)!==t)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&handleDelete(t,r)&&(n=!0)}),n},"Mod-Delete":({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&handleDelete(t,r)&&(n=!0)}),n},Backspace:({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{t.state.schema.nodes[r]!==void 0&&handleBackspace(t,r,s)&&(n=!0)}),n},"Mod-Backspace":({editor:t})=>{let n=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{t.state.schema.nodes[r]!==void 0&&handleBackspace(t,r,s)&&(n=!0)}),n}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(t){const n=[];let r=0,s=0;for(;r<t.length;){const o=t[r],l=o.match(ORDERED_LIST_ITEM_REGEX);if(!l)break;const[,c,p,m]=l,x=c.length;let b=m,_=r+1;const R=[o];for(;_<t.length;){const k=t[_];if(k.match(ORDERED_LIST_ITEM_REGEX))break;if(k.trim()==="")R.push(k),b+=`
`,_+=1;else if(k.match(INDENTED_LINE_REGEX))R.push(k),b+=`
${k.slice(x+2)}`,_+=1;else break}n.push({indent:x,number:parseInt(p,10),content:b.trim(),raw:R.join(`
`)}),s=_,r=_}return[n,s]}function buildNestedStructure(t,n,r){var s;const o=[];let l=0;for(;l<t.length;){const c=t[l];if(c.indent===n){const p=c.content.split(`
`),m=((s=p[0])==null?void 0:s.trim())||"",x=[];m&&x.push({type:"paragraph",raw:m,tokens:r.inlineTokens(m)});const b=p.slice(1).join(`
`).trim();if(b){const k=r.blockTokens(b);x.push(...k)}let _=l+1;const R=[];for(;_<t.length&&t[_].indent>n;)R.push(t[_]),_+=1;if(R.length>0){const k=Math.min(...R.map(P=>P.indent)),M=buildNestedStructure(R,k,r);x.push({type:"list",ordered:!0,start:R[0].number,items:M,raw:R.map(P=>P.raw).join(`
`)})}o.push({type:"list_item",raw:c.raw,tokens:x}),l=_}else l+=1}return o}function parseListItems(t,n){return t.map(r=>{if(r.type!=="list_item")return n.parseChildren([r])[0];const s=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")s.push(...n.parseChildren([o]));else if(o.type==="text"&&o.tokens){const l=n.parseChildren([o]);s.push({type:"paragraph",content:l})}else{const l=n.parseChildren([o]);l.length>0&&s.push(...l)}}),{type:"listItem",content:s}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:n,...r}=t;return n===1?["ol",mergeAttributes(this.options.HTMLAttributes,r),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,n)=>{if(t.type!=="list"||!t.ordered)return[];const r=t.start||1,s=t.items?parseListItems(t.items,n):[];return r!==1?{type:"orderedList",attrs:{start:r},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const n=t.match(/^(\s*)(\d+)\.\s+/),r=n==null?void 0:n.index;return r!==void 0?r:-1},tokenize:(t,n,r)=>{var s;const o=t.split(`
`),[l,c]=collectOrderedListItems(o);if(l.length===0)return;const p=buildNestedStructure(l,0,r);return p.length===0?void 0:{type:"list",ordered:!0,start:((s=l[0])==null?void 0:s.number)||1,items:p,raw:o.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:n=>({start:+n[1]}),joinPredicate:(n,r)=>r.childCount+r.attrs.start===+n[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:n=>({start:+n[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(n,r)=>r.childCount+r.attrs.start===+n[1],editor:this.editor})),[t]}}),inputRegex$2=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const n=t.getAttribute("data-checked");return n===""||n==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:n}){return["li",mergeAttributes(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,n)=>{const r=[];if(t.tokens&&t.tokens.length>0?r.push(n.createNode("paragraph",{},n.parseInline(t.tokens))):t.text?r.push(n.createNode("paragraph",{},[n.createNode("text",{text:t.text})])):r.push(n.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=n.parseChildren(t.nestedTokens);r.push(...s)}return n.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,n)=>{var r;const o=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return renderNestedMarkdownContent(t,n,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:n,getPos:r,editor:s})=>{const o=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),p=document.createElement("input"),m=document.createElement("div"),x=b=>{var _,R;p.ariaLabel=((R=(_=this.options.a11y)==null?void 0:_.checkboxLabel)==null?void 0:R.call(_,b,p.checked))||`Task item checkbox for ${b.textContent||"empty task item"}`};return x(t),l.contentEditable="false",p.type="checkbox",p.addEventListener("mousedown",b=>b.preventDefault()),p.addEventListener("change",b=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){p.checked=!p.checked;return}const{checked:_}=b.target;s.isEditable&&typeof r=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:R})=>{const k=r();if(typeof k!="number")return!1;const M=R.doc.nodeAt(k);return R.setNodeMarkup(k,void 0,{...M==null?void 0:M.attrs,checked:_}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,_)||(p.checked=!p.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,_])=>{o.setAttribute(b,_)}),o.dataset.checked=t.attrs.checked,p.checked=t.attrs.checked,l.append(p,c),o.append(l,m),Object.entries(n).forEach(([b,_])=>{o.setAttribute(b,_)}),{dom:o,contentDOM:m,update:b=>b.type!==this.type?!1:(o.dataset.checked=b.attrs.checked,p.checked=b.attrs.checked,x(b),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$2,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,n)=>n.createNode("taskList",{},n.parseChildren(t.items||[])),renderMarkdown:(t,n)=>t.content?n.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var n;const r=(n=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:n.index;return r!==void 0?r:-1},tokenize(t,n,r){const s=l=>{const c=parseIndentedBlocks(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:p=>({indentLevel:p[1].length,mainContent:p[4],checked:p[3].toLowerCase()==="x"}),createToken:(p,m)=>({type:"taskItem",raw:"",mainContent:p.mainContent,indentLevel:p.indentLevel,checked:p.checked,text:p.mainContent,tokens:r.inlineTokens(p.mainContent),nestedTokens:m}),customNestedParser:s},r);return c?[{type:"taskList",raw:c.raw,items:c.items}]:r.blockTokens(l)},o=parseIndentedBlocks(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:s},r);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(TaskList.configure(this.options.taskList)),t}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mergeAttributes(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,n)=>{const r=t.tokens||[];return r.length===1&&r[0].type==="image"?n.parseChildren([r[0]]):n.createNode("paragraph",void 0,n.parseInline(r))},renderMarkdown:(t,n)=>!t||!Array.isArray(t.content)?"":n.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mergeAttributes(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,n)=>n.applyMark("strike",n.parseInline(t.tokens||[])),renderMarkdown:(t,n)=>`~~${n.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",mergeAttributes(this.options.HTMLAttributes,t),0]},parseMarkdown(t,n){return n.applyMark(this.name||"underline",n.parseInline(t.tokens||[]))},renderMarkdown(t,n){return`++${n.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,n,r){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const l=o[2].trim();return{type:"underline",raw:o[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(t={}){return new Plugin({view(n){return new DropCursorView(n,t)}})}class DropCursorView{constructor(n,r){var s;this.editorView=n,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=r.width)!==null&&s!==void 0?s:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=c=>{this[o](c)};return n.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:n,handler:r})=>this.editorView.dom.removeEventListener(n,r))}update(n,r){this.cursorPos!=null&&r.doc!=n.state.doc&&(this.cursorPos>n.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(n){n!=this.cursorPos&&(this.cursorPos=n,n==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,s,o=this.editorView.dom,l=o.getBoundingClientRect(),c=l.width/o.offsetWidth,p=l.height/o.offsetHeight;if(r){let _=n.nodeBefore,R=n.nodeAfter;if(_||R){let k=this.editorView.nodeDOM(this.cursorPos-(_?_.nodeSize:0));if(k){let M=k.getBoundingClientRect(),P=_?M.bottom:M.top;_&&R&&(P=(P+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let K=this.width/2*p;s={left:M.left,right:M.right,top:P-K,bottom:P+K}}}}if(!s){let _=this.editorView.coordsAtPos(this.cursorPos),R=this.width/2*c;s={left:_.left-R,right:_.left+R,top:_.top,bottom:_.bottom}}let m=this.editorView.dom.offsetParent;this.element||(this.element=m.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let x,b;if(!m||m==document.body&&getComputedStyle(m).position=="static")x=-pageXOffset,b=-pageYOffset;else{let _=m.getBoundingClientRect(),R=_.width/m.offsetWidth,k=_.height/m.offsetHeight;x=_.left-m.scrollLeft*R,b=_.top-m.scrollTop*k}this.element.style.left=(s.left-x)/c+"px",this.element.style.top=(s.top-b)/p+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/p+"px"}scheduleRemoval(n){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),n)}dragover(n){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:n.clientX,top:n.clientY}),s=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),o=s&&s.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,r,n):o;if(r&&!l){let c=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let p=dropPoint(this.editorView.state.doc,c,this.editorView.dragging.slice);p!=null&&(c=p)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(n){this.editorView.dom.contains(n.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(n){super(n,n)}map(n,r){let s=n.resolve(r.map(this.head));return GapCursor.valid(s)?new GapCursor(s):Selection.near(s)}content(){return Slice.empty}eq(n){return n instanceof GapCursor&&n.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(n,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(n.resolve(r.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(n){let r=n.parent;if(r.isTextblock||!closedBefore(n)||!closedAfter(n))return!1;let s=r.type.spec.allowGapCursor;if(s!=null)return s;let o=r.contentMatchAt(n.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(n,r,s=!1){e:for(;;){if(!s&&GapCursor.valid(n))return n;let o=n.pos,l=null;for(let c=n.depth;;c--){let p=n.node(c);if(r>0?n.indexAfter(c)<p.childCount:n.index(c)>0){l=p.child(r>0?n.indexAfter(c):n.index(c)-1);break}else if(c==0)return null;o+=r;let m=n.doc.resolve(o);if(GapCursor.valid(m))return m}for(;;){let c=r>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!NodeSelection.isSelectable(l)){n=n.doc.resolve(o+l.nodeSize*r),s=!1;continue e}break}l=c,o+=r;let p=n.doc.resolve(o);if(GapCursor.valid(p))return p}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(n){this.pos=n}map(n){return new GapBookmark(n.map(this.pos))}resolve(n){let r=n.resolve(this.pos);return GapCursor.valid(r)?new GapCursor(r):Selection.near(r)}}function needsGap(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function closedBefore(t){for(let n=t.depth;n>=0;n--){let r=t.index(n),s=t.node(n);if(r==0){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(r-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||needsGap(o.type))return!0;if(o.inlineContent)return!1}}return!0}function closedAfter(t){for(let n=t.depth;n>=0;n--){let r=t.indexAfter(n),s=t.node(n);if(r==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(r);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||needsGap(o.type))return!0;if(o.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(t,n,r){return n.pos==r.pos&&GapCursor.valid(r)?new GapCursor(r):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(t,n){const r=t=="vert"?n>0?"down":"up":n>0?"right":"left";return function(s,o,l){let c=s.selection,p=n>0?c.$to:c.$from,m=c.empty;if(c instanceof TextSelection){if(!l.endOfTextblock(r)||p.depth==0)return!1;m=!1,p=s.doc.resolve(n>0?p.after():p.before())}let x=GapCursor.findGapCursorFrom(p,n,m);return x?(o&&o(s.tr.setSelection(new GapCursor(x))),!0):!1}}function handleClick(t,n,r){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(n);if(!GapCursor.valid(s))return!1;let o=t.posAtCoords({left:r.clientX,top:r.clientY});return o&&o.inside>-1&&NodeSelection.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new GapCursor(s))),!0)}function beforeinput(t,n){if(n.inputType!="insertCompositionText"||!(t.state.selection instanceof GapCursor))return!1;let{$from:r}=t.state.selection,s=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let o=Fragment.empty;for(let c=s.length-1;c>=0;c--)o=Fragment.from(s[c].createAndFill(null,o));let l=t.state.tr.replace(r.pos,r.pos,new Slice(o,0,0));return l.setSelection(TextSelection.near(l.doc.resolve(r.pos+1))),t.dispatch(l),!1}function drawGapCursor(t){if(!(t.selection instanceof GapCursor))return null;let n=document.createElement("div");return n.className="ProseMirror-gapcursor",DecorationSet.create(t.doc,[Decoration.widget(t.selection.head,n,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function t(){};RopeSequence.prototype.append=function t(n){return n.length?(n=RopeSequence.from(n),!this.length&&n||n.length<GOOD_LEAF_SIZE&&this.leafAppend(n)||this.length<GOOD_LEAF_SIZE&&n.leafPrepend(this)||this.appendInner(n)):this};RopeSequence.prototype.prepend=function t(n){return n.length?RopeSequence.from(n).append(this):this};RopeSequence.prototype.appendInner=function t(n){return new Append(this,n)};RopeSequence.prototype.slice=function t(n,r){return n===void 0&&(n=0),r===void 0&&(r=this.length),n>=r?RopeSequence.empty:this.sliceInner(Math.max(0,n),Math.min(this.length,r))};RopeSequence.prototype.get=function t(n){if(!(n<0||n>=this.length))return this.getInner(n)};RopeSequence.prototype.forEach=function t(n,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length),r<=s?this.forEachInner(n,r,s,0):this.forEachInvertedInner(n,r,s,0)};RopeSequence.prototype.map=function t(n,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length);var o=[];return this.forEach(function(l,c){return o.push(n(l,c))},r,s),o};RopeSequence.from=function t(n){return n instanceof RopeSequence?n:n&&n.length?new Leaf(n):RopeSequence.empty};var Leaf=(function(t){function n(s){t.call(this),this.values=s}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var r={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new n(this.values.slice(o,l))},n.prototype.getInner=function(o){return this.values[o]},n.prototype.forEachInner=function(o,l,c,p){for(var m=l;m<c;m++)if(o(this.values[m],p+m)===!1)return!1},n.prototype.forEachInvertedInner=function(o,l,c,p){for(var m=l-1;m>=c;m--)if(o(this.values[m],p+m)===!1)return!1},n.prototype.leafAppend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new n(this.values.concat(o.flatten()))},n.prototype.leafPrepend=function(o){if(this.length+o.length<=GOOD_LEAF_SIZE)return new n(o.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(n.prototype,r),n})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(t){function n(r,s){t.call(this),this.left=r,this.right=s,this.length=r.length+s.length,this.depth=Math.max(r.depth,s.depth)+1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},n.prototype.forEachInner=function(s,o,l,c){var p=this.left.length;if(o<p&&this.left.forEachInner(s,o,Math.min(l,p),c)===!1||l>p&&this.right.forEachInner(s,Math.max(o-p,0),Math.min(this.length,l)-p,c+p)===!1)return!1},n.prototype.forEachInvertedInner=function(s,o,l,c){var p=this.left.length;if(o>p&&this.right.forEachInvertedInner(s,o-p,Math.max(l,p)-p,c+p)===!1||l<p&&this.left.forEachInvertedInner(s,Math.min(o,p),l,c)===!1)return!1},n.prototype.sliceInner=function(s,o){if(s==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(s,o):s>=l?this.right.slice(s-l,o-l):this.left.slice(s,l).append(this.right.slice(0,o-l))},n.prototype.leafAppend=function(s){var o=this.right.leafAppend(s);if(o)return new n(this.left,o)},n.prototype.leafPrepend=function(s){var o=this.left.leafPrepend(s);if(o)return new n(o,this.right)},n.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new n(this.left,new n(this.right,s)):new n(this,s)},n})(RopeSequence);const max_empty_items=500;class Branch{constructor(n,r){this.items=n,this.eventCount=r}popEvent(n,r){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let o,l;r&&(o=this.remapping(s,this.items.length),l=o.maps.length);let c=n.tr,p,m,x=[],b=[];return this.items.forEach((_,R)=>{if(!_.step){o||(o=this.remapping(s,R+1),l=o.maps.length),l--,b.push(_);return}if(o){b.push(new Item(_.map));let k=_.step.map(o.slice(l)),M;k&&c.maybeStep(k).doc&&(M=c.mapping.maps[c.mapping.maps.length-1],x.push(new Item(M,void 0,void 0,x.length+b.length))),l--,M&&o.appendMap(M,l)}else c.maybeStep(_.step);if(_.selection)return p=o?_.selection.map(o.slice(l)):_.selection,m=new Branch(this.items.slice(0,s).append(b.reverse().concat(x)),this.eventCount-1),!1},this.items.length,0),{remaining:m,transform:c,selection:p}}addTransform(n,r,s,o){let l=[],c=this.eventCount,p=this.items,m=!o&&p.length?p.get(p.length-1):null;for(let b=0;b<n.steps.length;b++){let _=n.steps[b].invert(n.docs[b]),R=new Item(n.mapping.maps[b],_,r),k;(k=m&&m.merge(R))&&(R=k,b?l.pop():p=p.slice(0,p.length-1)),l.push(R),r&&(c++,r=void 0),o||(m=R)}let x=c-s.depth;return x>DEPTH_OVERFLOW&&(p=cutOffEvents(p,x),c-=x),new Branch(p.append(l),c)}remapping(n,r){let s=new Mapping;return this.items.forEach((o,l)=>{let c=o.mirrorOffset!=null&&l-o.mirrorOffset>=n?s.maps.length-o.mirrorOffset:void 0;s.appendMap(o.map,c)},n,r),s}addMaps(n){return this.eventCount==0?this:new Branch(this.items.append(n.map(r=>new Item(r))),this.eventCount)}rebased(n,r){if(!this.eventCount)return this;let s=[],o=Math.max(0,this.items.length-r),l=n.mapping,c=n.steps.length,p=this.eventCount;this.items.forEach(R=>{R.selection&&p--},o);let m=r;this.items.forEach(R=>{let k=l.getMirror(--m);if(k==null)return;c=Math.min(c,k);let M=l.maps[k];if(R.step){let P=n.steps[k].invert(n.docs[k]),K=R.selection&&R.selection.map(l.slice(m+1,k));K&&p++,s.push(new Item(M,P,K))}else s.push(new Item(M))},o);let x=[];for(let R=r;R<c;R++)x.push(new Item(l.maps[R]));let b=this.items.slice(0,o).append(x).append(s),_=new Branch(b,p);return _.emptyItemCount()>max_empty_items&&(_=_.compress(this.items.length-s.length)),_}emptyItemCount(){let n=0;return this.items.forEach(r=>{r.step||n++}),n}compress(n=this.items.length){let r=this.remapping(0,n),s=r.maps.length,o=[],l=0;return this.items.forEach((c,p)=>{if(p>=n)o.push(c),c.selection&&l++;else if(c.step){let m=c.step.map(r.slice(s)),x=m&&m.getMap();if(s--,x&&r.appendMap(x,s),m){let b=c.selection&&c.selection.map(r.slice(s));b&&l++;let _=new Item(x.invert(),m,b),R,k=o.length-1;(R=o.length&&o[k].merge(_))?o[k]=R:o.push(_)}}else c.map&&s--},this.items.length,0),new Branch(RopeSequence.from(o.reverse()),l)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(t,n){let r;return t.forEach((s,o)=>{if(s.selection&&n--==0)return r=o,!1}),t.slice(r)}class Item{constructor(n,r,s,o){this.map=n,this.step=r,this.selection=s,this.mirrorOffset=o}merge(n){if(this.step&&n.step&&!n.selection){let r=n.step.merge(this.step);if(r)return new Item(r.getMap().invert(),r,this.selection)}}}class HistoryState{constructor(n,r,s,o,l){this.done=n,this.undone=r,this.prevRanges=s,this.prevTime=o,this.prevComposition=l}}const DEPTH_OVERFLOW=20;function applyTransaction(t,n,r,s){let o=r.getMeta(historyKey),l;if(o)return o.historyState;r.getMeta(closeHistoryKey)&&(t=new HistoryState(t.done,t.undone,null,0,-1));let c=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(c&&c.getMeta(historyKey))return c.getMeta(historyKey).redo?new HistoryState(t.done.addTransform(r,void 0,s,mustPreserveItems(n)),t.undone,rangesFor(r.mapping.maps),t.prevTime,t.prevComposition):new HistoryState(t.done,t.undone.addTransform(r,void 0,s,mustPreserveItems(n)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let p=r.getMeta("composition"),m=t.prevTime==0||!c&&t.prevComposition!=p&&(t.prevTime<(r.time||0)-s.newGroupDelay||!isAdjacentTo(r,t.prevRanges)),x=c?mapRanges(t.prevRanges,r.mapping):rangesFor(r.mapping.maps);return new HistoryState(t.done.addTransform(r,m?n.selection.getBookmark():void 0,s,mustPreserveItems(n)),Branch.empty,x,r.time,p??t.prevComposition)}else return(l=r.getMeta("rebased"))?new HistoryState(t.done.rebased(r,l),t.undone.rebased(r,l),mapRanges(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new HistoryState(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),mapRanges(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function isAdjacentTo(t,n){if(!n)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((s,o)=>{for(let l=0;l<n.length;l+=2)s<=n[l+1]&&o>=n[l]&&(r=!0)}),r}function rangesFor(t){let n=[];for(let r=t.length-1;r>=0&&n.length==0;r--)t[r].forEach((s,o,l,c)=>n.push(l,c));return n}function mapRanges(t,n){if(!t)return null;let r=[];for(let s=0;s<t.length;s+=2){let o=n.map(t[s],1),l=n.map(t[s+1],-1);o<=l&&r.push(o,l)}return r}function histTransaction(t,n,r){let s=mustPreserveItems(n),o=historyKey.get(n).spec.config,l=(r?t.undone:t.done).popEvent(n,s);if(!l)return null;let c=l.selection.resolve(l.transform.doc),p=(r?t.done:t.undone).addTransform(l.transform,n.selection.getBookmark(),o,s),m=new HistoryState(r?p:l.remaining,r?l.remaining:p,null,0,-1);return l.transform.setSelection(c).setMeta(historyKey,{redo:r,historyState:m})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(t){let n=t.plugins;if(cachedPreserveItemsPlugins!=n){cachedPreserveItems=!1,cachedPreserveItemsPlugins=n;for(let r=0;r<n.length;r++)if(n[r].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(n,r,s){return applyTransaction(r,s,n,t)}},config:t,props:{handleDOMEvents:{beforeinput(n,r){let s=r.inputType,o=s=="historyUndo"?undo:s=="historyRedo"?redo:null;return!o||!n.editable?!1:(r.preventDefault(),o(n.state,n.dispatch))}}}})}function buildCommand(t,n){return(r,s)=>{let o=historyKey.getState(r);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(s){let l=histTransaction(o,r,t);l&&s(n?l.scrollIntoView():l)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(n=>n!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const n=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const s=n.textBetween(0,n.content.size,void 0," ");return this.options.textCounter(s)}return n.nodeSize},this.storage.words=t=>{const n=(t==null?void 0:t.node)||this.editor.state.doc,r=n.textBetween(0,n.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(n,r,s)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const l=this.storage.characters({node:s.doc});if(l>o){const c=l-o,p=0,m=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const x=s.tr.deleteRange(p,m);return t=!0,x}t=!0},filterTransaction:(n,r)=>{const s=this.options.limit;if(!n.docChanged||s===0||s===null||s===void 0)return!0;const o=this.storage.characters({node:r.doc}),l=this.storage.characters({node:n.doc});if(l<=s||o>s&&l>s&&l<=o)return!0;if(o>s&&l>s&&l>o||!n.getMeta("paste"))return!1;const p=n.selection.$head.pos,m=l-s,x=p-m,b=p;return n.deleteRange(x,b),!(this.storage.characters({node:n.doc})>s)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:t,selection:n})=>{const{isEditable:r,isFocused:s}=this.editor,{anchor:o}=n,l=[];if(!r||!s)return DecorationSet.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((m,x)=>{if(m.isText)return;if(!(o>=x&&o<=x+m.nodeSize-1))return!1;c+=1});let p=0;return t.descendants((m,x)=>{if(m.isText||!(o>=x&&o<=x+m.nodeSize-1))return!1;if(p+=1,this.options.mode==="deepest"&&c-p>0||this.options.mode==="shallowest"&&p>1)return this.options.mode==="deepest";l.push(Decoration.node(x,x+m.nodeSize,{class:this.options.className}))}),DecorationSet.create(t,l)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(t){var n;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(n=callOrReturn(getExtensionField(t,"allowGapCursor",r)))!=null?n:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,o=[];if(!r)return null;const l=this.editor.isEmpty;return t.descendants((c,p)=>{const m=s>=p&&s<=p+c.nodeSize,x=!c.isLeaf&&isNodeEmpty(c);if((m||!this.options.showOnlyCurrent)&&x){const b=[this.options.emptyNodeClass];l&&b.push(this.options.emptyEditorClass);const _=Decoration.node(p,p+c.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:p,hasAnchor:m}):this.options.placeholder});o.push(_)}return this.options.includeChildren}),DecorationSet.create(t,o)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:n}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||isNodeSelection(r.selection)||t.view.dragging?null:DecorationSet.create(r.doc,[Decoration.inline(r.selection.from,r.selection.to,{class:n.className})])}}})]}});function nodeEqualsType({types:t,node:n}){return n&&Array.isArray(t)&&t.includes(n.type)||(n==null?void 0:n.type)===t}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const n=new PluginKey(this.name),r=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(r).includes(o.name));return[new Plugin({key:n,appendTransaction:(o,l,c)=>{const{doc:p,tr:m,schema:x}=c,b=n.getState(c),_=p.content.size,R=x.nodes[r];if(b)return m.insert(_,R.create())},state:{init:(o,l)=>{const c=l.tr.doc.lastChild;return!nodeEqualsType({node:c,types:s})},apply:(o,l)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return l;const c=o.doc.lastChild;return!nodeEqualsType({node:c,types:s})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:n})=>undo(t,n),redo:()=>({state:t,dispatch:n})=>redo(t,n)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var t,n,r,s;const o=[];return this.options.bold!==!1&&o.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&o.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&o.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(ListKeymap.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(Link.configure((n=this.options)==null?void 0:n.link)),this.options.orderedList!==!1&&o.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(Strike.configure(this.options.strike)),this.options.text!==!1&&o.push(Text.configure(this.options.text)),this.options.underline!==!1&&o.push(Underline.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&o.push(TrailingNode.configure((s=this.options)==null?void 0:s.trailingNode)),o}}),index_default$1=StarterKit,inputRegex=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node3.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",mergeAttributes(this.options.HTMLAttributes,t)]},parseMarkdown:(t,n)=>n.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var n,r,s,o,l,c;const p=(r=(n=t.attrs)==null?void 0:n.src)!=null?r:"",m=(o=(s=t.attrs)==null?void 0:s.alt)!=null?o:"",x=(c=(l=t.attrs)==null?void 0:l.title)!=null?c:"";return x?`![${m}](${p} "${x}")`:`![${m}](${p})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:t,minWidth:n,minHeight:r,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:o,getPos:l,HTMLAttributes:c})=>{const p=document.createElement("img");Object.entries(c).forEach(([b,_])=>{if(_!=null)switch(b){case"width":case"height":break;default:p.setAttribute(b,_);break}}),p.src=c.src;const m=new ResizableNodeView({element:p,node:o,getPos:l,onResize:(b,_)=>{p.style.width=`${b}px`,p.style.height=`${_}px`},onCommit:(b,_)=>{const R=l();R!==void 0&&this.editor.chain().setNodeSelection(R).updateAttributes(this.name,{width:b,height:_}).run()},onUpdate:(b,_,R)=>b.type===o.type,options:{directions:t,min:{width:n,height:r},preserveAspectRatio:s===!0}}),x=m.dom;return x.style.visibility="hidden",x.style.pointerEvents="none",p.onload=()=>{x.style.visibility="",x.style.pointerEvents=""},m}},addCommands(){return{setImage:t=>({commands:n})=>n.insertContent({type:this.name,attrs:t})}},addInputRules(){return[nodeInputRule({find:inputRegex,type:this.type,getAttributes:t=>{const[,,n,r,s]=t;return{src:r,alt:n,title:s}}})]}}),index_default=Image$1;const editorWrapper="_editorWrapper_1qbzy_1",menuBar="_menuBar_1qbzy_15",isActive="_isActive_1qbzy_67",divider="_divider_1qbzy_77",editorContent="_editorContent_1qbzy_91",styles$6={editorWrapper,menuBar,isActive,divider,editorContent};async function uploadEditorImage(t,n){try{const r=new FormData;return r.append("image",t),(await userInstance.post("/api/upload/image",r,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(r){return console.error("  :",r),n&&n("    ."),null}}function TiptapMenuBar({editor:t}){const n=reactExports$1.useRef(null),{showAlert:r}=useAlert();if(!t)return null;const s=async o=>{const l=Array.from(o.target.files);if(l.length!==0){o.target.value="",t.chain().focus();for(const c of l){const p=await uploadEditorImage(c,r);p&&t.chain().setImage({src:p}).run()}}};return jsxRuntimeExports.jsxs("div",{className:styles$6.menuBar,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("b",{children:"B"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("i",{children:"I"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("s",{children:"S"})}),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),[1,2,3].map(o=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:o}).run(),className:t.isActive("heading",{level:o})?styles$6.isActive:"",children:["H",o]},o)),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>n.current.click(),children:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:n,onChange:s,style:{display:"none"},accept:"image/*",multiple:!0})]})}function TiptapEditor({content:t,onChange:n}){const r=reactExports$1.useRef(!0),s=useEditor({extensions:[index_default$1.configure({heading:{levels:[1,2,3]}}),index_default.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:o})=>{r.current||n(o.getHTML())},editorProps:{attributes:{class:styles$6.editorContent}}});return reactExports$1.useEffect(()=>{s&&(r.current&&(r.current=!1),!(!t||s.getHTML()===t)&&s.commands.setContent(t,{emitUpdate:!1}))},[t,s]),jsxRuntimeExports.jsxs("div",{className:styles$6.editorWrapper,children:[jsxRuntimeExports.jsx(TiptapMenuBar,{editor:s}),jsxRuntimeExports.jsx(EditorContent,{editor:s})]})}function GalleryEditForm({data:t,setData:n,onFileChange:r}){var Y,X;const[s,o]=reactExports$1.useState(""),[l,c]=reactExports$1.useState(!1),[p,m]=reactExports$1.useState(null),x=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&m(t.gallery_image)},[t.gallery_image]),reactExports$1.useEffect(()=>{if(typeof t.gallery_sns=="string")try{const te=JSON.parse(t.gallery_sns);n(se=>({...se,gallery_sns:te}))}catch(te){console.error("SNS   :",te),n(se=>({...se,gallery_sns:[]}))}},[t.gallery_sns,n]);const b=(te,se)=>{if(!se)return;let pe=se.trim();!pe.startsWith("http://")&&!pe.startsWith("https://")&&(pe=`https://${pe}`,$(te,pe))},_=te=>{te.type==="compositionstart"&&c(!0),te.type==="compositionend"&&c(!1)},R=te=>{if(!l&&te.key==="Enter"&&s.trim()!==""){te.preventDefault();const se=s.trim(),pe=t.gallery_category?t.gallery_category.split(",").map(ge=>ge.trim()):[];if(!pe.includes(se)){const ge=[...pe,se].join(", ");n(me=>({...me,gallery_category:ge}))}o("")}},k=te=>{const pe=t.gallery_category.split(",").map(ge=>ge.trim()).filter(ge=>ge!==te).join(", ");n(ge=>({...ge,gallery_category:pe}))},M=te=>{const{name:se,value:pe}=te.target;n(ge=>({...ge,[se]:pe}))},P=["","","","","","",""],K=te=>{const{value:se,checked:pe}=te.target,ge=t.gallery_closed_day?t.gallery_closed_day.split(",").map(ve=>ve.trim()):[];let me;pe?me=[...new Set([...ge,se])]:me=ge.filter(ve=>ve!==se);const Ee=P;me.sort((ve,de)=>Ee.indexOf(ve)-Ee.indexOf(de)),n(ve=>({...ve,gallery_closed_day:me.join(", ")}))},$=(te,se)=>{n(pe=>{let ge=Array.isArray(pe.gallery_sns)?[...pe.gallery_sns]:[];const me=ge.findIndex(Ee=>Ee.type===te);return me!==-1?ge[me].url=se:ge.push({type:te,url:se}),{...pe,gallery_sns:ge}})},G=te=>{n(se=>({...se,gallery_description:te}))},H=t.gallery_category?t.gallery_category.split(",").map(te=>te.trim()):[],j=te=>{const se=te.target.files[0];if(se){r(se);const pe=URL.createObjectURL(se);m(pe)}te.target.value=""},W=te=>{te.stopPropagation(),m(null),r(null),x.current&&(x.current.value="")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:x,onChange:j,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>x.current.click(),children:p?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:p,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:W,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.tagInputContainer,children:[H.map(te=>jsxRuntimeExports.jsxs("div",{className:styles$7.tagItem,children:[te,jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeTagBtn,onClick:()=>k(te),children:""})]},te)),jsxRuntimeExports.jsx("input",{type:"text",className:styles$7.tagInputField,value:s,onChange:te=>o(te.target.value),onKeyDown:R,onCompositionStart:_,onCompositionEnd:_,placeholder:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_start_time",value:((Y=t.gallery_start_time)==null?void 0:Y.slice(0,5))||"",onChange:M}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_end_time",value:((X=t.gallery_end_time)==null?void 0:X.slice(0,5))||"",onChange:M})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:P.map(te=>{var se;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:te,checked:(se=t.gallery_closed_day)==null?void 0:se.includes(te),onChange:K})," ",te]},te)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_address",value:t.gallery_address||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:M})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:M})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.snsCard}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"SNS"}),jsxRuntimeExports.jsx("div",{className:styles$7.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"twitter",placeholder:"Twitter "},{type:"facebook",placeholder:"Facebook "}].map(({type:te,placeholder:se})=>{var ge;const pe=Array.isArray(t.gallery_sns)&&((ge=t.gallery_sns.find(me=>me.type===te))==null?void 0:ge.url)||"";return jsxRuntimeExports.jsx("input",{className:styles$7.input,placeholder:se,value:pe,onChange:me=>$(te,me.target.value),onBlur:()=>b(te,pe)},te)})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.gallery_description||"",onChange:G})]})]})}const overlay$2="_overlay_1y5nn_1",modalBox$1="_modalBox_1y5nn_27",header$3="_header_1y5nn_49",closeBtn$2="_closeBtn_1y5nn_73",body$1="_body_1y5nn_87",searchBar$1="_searchBar_1y5nn_97",listContainer$1="_listContainer_1y5nn_151",artistRow$1="_artistRow_1y5nn_163",artistImg$1="_artistImg_1y5nn_181",artistInfo$1="_artistInfo_1y5nn_197",name$1="_name_1y5nn_207",category$1="_category_1y5nn_217",selectBtn="_selectBtn_1y5nn_227",emptyState$1="_emptyState_1y5nn_255",addNewBtn="_addNewBtn_1y5nn_269",addFormContainer="_addFormContainer_1y5nn_305",addTitle="_addTitle_1y5nn_317",imageUploadCircle="_imageUploadCircle_1y5nn_329",placeholder="_placeholder_1y5nn_365",addInput="_addInput_1y5nn_387",formActions="_formActions_1y5nn_415",cancelBtn="_cancelBtn_1y5nn_425",confirmBtn$1="_confirmBtn_1y5nn_427",styles$5={overlay:overlay$2,modalBox:modalBox$1,header:header$3,closeBtn:closeBtn$2,body:body$1,searchBar:searchBar$1,listContainer:listContainer$1,artistRow:artistRow$1,artistImg:artistImg$1,artistInfo:artistInfo$1,name:name$1,category:category$1,selectBtn,emptyState:emptyState$1,addNewBtn,addFormContainer,addTitle,imageUploadCircle,placeholder,addInput,formActions,cancelBtn,confirmBtn:confirmBtn$1};function ArtistSelectModal({onClose:t,onSelect:n}){const[r,s]=reactExports$1.useState(""),[o,l]=reactExports$1.useState([]),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),[b,_]=reactExports$1.useState(""),[R,k]=reactExports$1.useState(null),[M,P]=reactExports$1.useState(null),K=reactExports$1.useRef(null),{showAlert:$}=useAlert(),G=async Y=>{if(!Y||Y.trim()===""){$(" .");return}try{const X=await userInstance.get("/api/artist",{params:{search:Y}});l(X.data||[]),x(!0)}catch(X){console.error("  :",X)}},H=Y=>{Y.key==="Enter"&&G(r)},j=Y=>{const X=Y.target.files[0];X&&(k(X),P(URL.createObjectURL(X)))},W=async()=>{if(!b.trim()){$("  .");return}try{const Y=new FormData;Y.append("artist_name",b),R&&Y.append("artist_image",R);const X=await userInstance.post("/api/artists",Y,{headers:{"Content-Type":"multipart/form-data"}});$("  .");const te=X.data.data||X.data;te&&te.id?n(te):(p(!1),_(""),k(null),P(null),s(b),G(b))}catch(Y){console.error("  :",Y),$("    .")}};return jsxRuntimeExports.jsx("div",{className:styles$5.overlay,onClick:t,children:jsxRuntimeExports.jsxs("div",{className:styles$5.modalBox,onClick:Y=>Y.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$5.header,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("button",{className:styles$5.closeBtn,onClick:t,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$5.body,children:c?jsxRuntimeExports.jsxs("div",{className:styles$5.addFormContainer,children:[jsxRuntimeExports.jsx("p",{className:styles$5.addTitle,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$5.imageUploadCircle,onClick:()=>K.current.click(),children:[M?jsxRuntimeExports.jsx(Img,{src:M,alt:"Preview"}):jsxRuntimeExports.jsxs("div",{className:styles$5.placeholder,children:[jsxRuntimeExports.jsx(FaUser,{}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:K,onChange:j,hidden:!0})]}),jsxRuntimeExports.jsx("input",{className:styles$5.addInput,placeholder:"  ",value:b,onChange:Y=>_(Y.target.value)}),jsxRuntimeExports.jsxs("div",{className:styles$5.formActions,children:[jsxRuntimeExports.jsx("button",{className:styles$5.cancelBtn,onClick:()=>p(!1),children:""}),jsxRuntimeExports.jsx("button",{className:styles$5.confirmBtn,onClick:W,children:" "})]})]}):jsxRuntimeExports.jsxs("div",{className:styles$5.listContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$5.searchBar,children:[jsxRuntimeExports.jsx("input",{value:r,onChange:Y=>s(Y.target.value),onKeyDown:H,placeholder:"  ",autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>G(r),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),o.length>0?o.map(Y=>jsxRuntimeExports.jsxs("div",{className:styles$5.artistRow,children:[jsxRuntimeExports.jsx(Img,{src:Y.artist_image,alt:Y.artist_name,className:styles$5.artistImg}),jsxRuntimeExports.jsxs("div",{className:styles$5.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$5.name,children:Y.artist_name}),jsxRuntimeExports.jsx("span",{className:styles$5.category,children:Y.artist_category||"Category"})]}),jsxRuntimeExports.jsx("button",{className:styles$5.selectBtn,onClick:()=>n(Y),children:""})]},Y.id)):jsxRuntimeExports.jsx("div",{className:styles$5.emptyState,children:m?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:['"',r,'"    .']}),jsxRuntimeExports.jsxs("button",{className:styles$5.addNewBtn,onClick:()=>p(!0),children:[jsxRuntimeExports.jsx(FaPlus,{}),"   "]})]}):jsxRuntimeExports.jsx("p",{children:"   ."})})]})})]})})}const overlay$1="_overlay_1kynb_1",modalBox="_modalBox_1kynb_27",header$2="_header_1kynb_51",closeBtn$1="_closeBtn_1kynb_79",body="_body_1kynb_95",searchBar="_searchBar_1kynb_111",listContainer="_listContainer_1kynb_163",artistRow="_artistRow_1kynb_181",selected="_selected_1kynb_211",checkbox="_checkbox_1kynb_221",artistImg="_artistImg_1kynb_233",artistInfo="_artistInfo_1kynb_249",name="_name_1kynb_263",category="_category_1kynb_275",emptyState="_emptyState_1kynb_285",footer="_footer_1kynb_299",confirmBtn="_confirmBtn_1kynb_313",styles$4={overlay:overlay$1,modalBox,header:header$2,closeBtn:closeBtn$1,body,searchBar,listContainer,artistRow,selected,checkbox,artistImg,artistInfo,name,category,emptyState,footer,confirmBtn};function ArtworkSelectModal({onClose:t,onSelect:n,existingArtworks:r=[]}){const[s,o]=reactExports$1.useState(""),[l,c]=reactExports$1.useState([]),[p,m]=reactExports$1.useState([]);reactExports$1.useEffect(()=>{r&&r.length>0&&m(r)},[r]);const x=async(k="")=>{try{const M=await userInstance.get("/api/arts",{params:{search:k}}),P=Array.isArray(M.data)?M.data:M.data.data||[];c(P)}catch(M){console.error("  :",M)}};reactExports$1.useEffect(()=>{x()},[]);const b=k=>{k.key==="Enter"&&x(s)},_=k=>{m(M=>M.some(K=>K.id===k.id)?M.filter(K=>K.id!==k.id):[...M,k])},R=()=>{n(p),t()};return jsxRuntimeExports.jsx("div",{className:styles$4.overlay,onClick:t,children:jsxRuntimeExports.jsxs("div",{className:styles$4.modalBox,onClick:k=>k.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h3",{children:"  "}),jsxRuntimeExports.jsx("button",{className:styles$4.closeBtn,onClick:t,children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.body,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.searchBar,children:[jsxRuntimeExports.jsx("input",{value:s,onChange:k=>o(k.target.value),onKeyDown:b,placeholder:"   "}),jsxRuntimeExports.jsx("button",{onClick:()=>x(s),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),jsxRuntimeExports.jsx("div",{className:styles$4.listContainer,children:l.length>0?l.map(k=>{var P;const M=p.some(K=>K.id===k.id);return jsxRuntimeExports.jsxs("div",{className:`${styles$4.artistRow} ${M?styles$4.selected:""}`,onClick:()=>_(k),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:M,readOnly:!0,className:styles$4.checkbox}),jsxRuntimeExports.jsx(Img,{src:k.art_image||k.image,alt:k.art_title,className:styles$4.artistImg}),jsxRuntimeExports.jsxs("div",{className:styles$4.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$4.name,children:k.art_title}),jsxRuntimeExports.jsx("span",{className:styles$4.category,children:((P=k.artist)==null?void 0:P.artist_name)||k.artist_name||""})]})]},k.id)}):jsxRuntimeExports.jsx("p",{className:styles$4.emptyState,children:"  ."})}),jsxRuntimeExports.jsx("div",{className:styles$4.footer,children:jsxRuntimeExports.jsxs("button",{className:styles$4.confirmBtn,onClick:R,children:["  (",p.length,")"]})})]})]})})}const getArtistId=t=>t.id||t.artist_id,getArtistImage=t=>t.artist_image||t.profile_img,getArtistName=t=>{var n;return t.artist_name||t.name||((n=t.artist)==null?void 0:n.artist_name)||" "},getArtImage=t=>t.image_url||t.art_image||"/images/no-image.png",getArtTitle=t=>t.title||t.art_title||" ",getArtistNameForArt=t=>{var n;return t.artist_name||((n=t.artist)==null?void 0:n.artist_name)||" "};function ExhibitionEditForm({data:t,setData:n,onFileChange:r}){var W,Y;const[s,o]=reactExports$1.useState(null),l=reactExports$1.useRef(null),[c,p]=reactExports$1.useState(!1),[m,x]=reactExports$1.useState(!1),{showAlert:b}=useAlert();reactExports$1.useEffect(()=>{t.exhibition_poster&&typeof t.exhibition_poster=="string"&&o(t.exhibition_poster)},[t.exhibition_poster]);const _=X=>{const{name:te,value:se}=X.target;n(pe=>({...pe,[te]:se}))},R=X=>{n(te=>({...te,exhibition_description:X}))},k=X=>{const te=X.target.files[0];if(te){r(te);const se=URL.createObjectURL(te);o(se)}X.target.value=""},M=X=>{X.stopPropagation(),o(null),r(null),l.current&&(l.current.value="")},P=X=>{const te=t.artists||[];if(te.some(pe=>getArtistId(pe)===getArtistId(X))){b("  .");return}const se={id:getArtistId(X),name:getArtistName(X),artist_image:getArtistImage(X)};n(pe=>({...pe,artists:[...te,se]})),p(!1)},K=X=>{const te=(t.artists||[]).filter(se=>getArtistId(se)!==X);n(se=>({...se,artists:te}))},$=X=>{n(te=>({...te,artworks:X}))},G=X=>{const te=(t.artworks||[]).filter(se=>(se.id||se.art_id)!==X);n(se=>({...se,artworks:te}))},H=["","","","","","",""],j=X=>{const{value:te,checked:se}=X.target,pe=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(Ee=>Ee.trim()):[];let ge;se?ge=[...new Set([...pe,te])]:ge=pe.filter(Ee=>Ee!==te);const me=H;ge.sort((Ee,ve)=>me.indexOf(Ee)-me.indexOf(ve)),n(Ee=>({...Ee,exhibition_closed_day:ge.join(", ")}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:_,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:l,onChange:k,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>l.current.click(),children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:s,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:M,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:_}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:_})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_start_time",value:((W=t.exhibition_start_time)==null?void 0:W.slice(0,5))||"",onChange:_}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_end_time",value:((Y=t.exhibition_end_time)==null?void 0:Y.slice(0,5))||"",onChange:_})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:H.map(X=>{var te;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:X,checked:(te=t.exhibition_closed_day)==null?void 0:te.includes(X),onChange:j})," ",X]},X)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_organization",value:t.exhibition_organization||"",onChange:_})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:_})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:_})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:_})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:_})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.fullWidth}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>p(!0),children:"+  /"})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artistList,children:!t.artists||t.artists.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):t.artists.map((X,te)=>{const se=getArtistId(X),pe=getArtistName(X);return jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtistImage(X),alt:"thumb",className:styles$7.artistThumb}),jsxRuntimeExports.jsx("span",{className:styles$7.artistName,children:pe}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>K(se),title:"",children:""})]},se||te)})})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.artworkSection}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>x(!0),children:"+  "})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artworkGrid,children:!t.artworks||t.artworks.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):t.artworks.map(X=>jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtImage(X),alt:"thumb",className:styles$7.artworkThumb}),jsxRuntimeExports.jsxs("div",{className:styles$7.artworkMeta,children:[jsxRuntimeExports.jsx("div",{className:styles$7.artworkTitle,children:getArtTitle(X)}),jsxRuntimeExports.jsx("div",{className:styles$7.artworkArtist,children:getArtistNameForArt(X)})]}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>G(X.id),title:"",children:""})]},X.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.exhibition_description||"",onChange:R})]}),c&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>p(!1),onSelect:P}),m&&jsxRuntimeExports.jsx(ArtworkSelectModal,{onClose:()=>x(!1),onSelect:$,existingArtworks:t.artworks||[]})]})}function ArtworkEditForm({data:t,setData:n,onFileChange:r}){const[s,o]=reactExports$1.useState(null),[l,c]=reactExports$1.useState(!1),p=reactExports$1.useRef(null),m={exhibited:"",scheduled:"",ended:"",default:""},x={exhibited:1,scheduled:2,ended:3},_=[...t.exhibitions||[]].sort(($,G)=>{const H=$.exhibition_status,j=G.exhibition_status,W=x[H]||99,Y=x[j]||99;return W-Y}),R=$=>{const G=$.target.files[0];G&&(r(G),o(URL.createObjectURL(G))),$.target.value=""},k=$=>{$.stopPropagation(),o(null),r(null),p.current&&(p.current.value="")},M=$=>{const{name:G,value:H}=$.target;n(j=>({...j,[G]:H}))},P=$=>{n(G=>({...G,art_description:$}))},K=$=>{n(G=>({...G,artist_name:$.artist_name,artist_id:$.id})),c(!1)};return reactExports$1.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&o(t.art_image)},[t.art_image]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"art_title",value:t.art_title||"",onChange:M,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:p,onChange:R,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>p.current.click(),children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Img,{src:s,alt:" ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{className:styles$7.imageDelBtn,type:"button",onClick:k,children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+   "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.artistSelectRow,children:[jsxRuntimeExports.jsx("input",{className:styles$7.input,value:t.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>c(!0),style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.selectButton,onClick:()=>c(!0),children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{type:"number",className:styles$7.input,name:"art_year",value:t.art_year||"",onChange:M,placeholder:": 2025"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_material",value:t.art_material||"",onChange:M,placeholder:": Oil on canvas"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_size",value:t.art_size||"",onChange:M,placeholder:": 100x150cm"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:M,placeholder:": 02-1234-5678"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$7.exhibitionListWrapper,children:_&&_.length>0?_.map($=>{const G=$.exhibition_status||"default";return jsxRuntimeExports.jsxs("div",{className:styles$7.exhibitionItem,children:[jsxRuntimeExports.jsx("span",{className:styles$7.exhibitionTitle,children:$.exhibition_title}),jsxRuntimeExports.jsx("span",{className:`${styles$7.statusBadge} ${styles$7[G]}`,children:m[G]||G})]},$.id)}):jsxRuntimeExports.jsx("span",{className:styles$7.emptyText,children:"    ."})}),jsxRuntimeExports.jsx("p",{className:styles$7.helperText,children:"      ' '  ."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:t.art_description||"",onChange:P})]}),jsxRuntimeExports.jsx("div",{className:styles$7.card,children:jsxRuntimeExports.jsxs("div",{className:styles$7.inputDocent,children:[jsxRuntimeExports.jsx("label",{className:styles$7.docent,children:"AI  "}),jsxRuntimeExports.jsx("textarea",{className:styles$7.textarea,name:"art_docent",value:t.art_docent||"",onChange:M,placeholder:"AI    ."})]})}),l&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>c(!1),onSelect:K})]})}const EDIT_CONFIG={galleries:{title:" /",apiUrl:t=>t==="new"?"/api/galleries":`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" /",apiUrl:t=>t==="new"?"/api/exhibitions":`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" /",apiUrl:t=>t==="new"?"/api/arts":`/api/arts/${t}`,formImageField:"image"}},FORM_COMPONENTS={galleries:GalleryEditForm,exhibitions:ExhibitionEditForm,artworks:ArtworkEditForm};function ConsoleEdit({type:t}){const{id:n}=useParams(),{showConfirm:r}=useConfirm(),s=useNavigate(),o=n==="new",l=EDIT_CONFIG[t],c=FORM_COMPONENTS[t],{data:p,setData:m,isLoading:x}=useEditData(t,n,o,l),{handleSave:b,isSaving:_,setSelectedImageFile:R}=useEditSave(t,n,o,l,p,s),k=async()=>{await r(" ?")&&(o?s("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):s(`/console/${t}/${n}`))},M=P=>R(P);return x||!p?jsxRuntimeExports.jsx("div",{children:"  ..."}):jsxRuntimeExports.jsxs("div",{className:styles$8.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$8.header,children:[jsxRuntimeExports.jsx("button",{className:styles$8.backButton,onClick:k,children:jsxRuntimeExports.jsx(FaChevronLeft,{})}),jsxRuntimeExports.jsx("h1",{className:styles$8.title,children:l.title})]}),jsxRuntimeExports.jsx("main",{className:styles$8.formContainer,children:c&&jsxRuntimeExports.jsx(c,{data:p,setData:m,onFileChange:M})}),jsxRuntimeExports.jsxs("div",{className:styles$8.bottomButtonContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.saveButton}`,onClick:b,disabled:_,children:_?" ...":""}),jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.cancelButton}`,onClick:k,disabled:_,children:""})]})]})}const layout$1="_layout_19w3s_1",backButton$1="_backButton_19w3s_17",styles$3={layout:layout$1,backButton:backButton$1};function Poster(){const t=useNavigate(),n=()=>{t(-1)};return jsxRuntimeExports.jsxs("div",{className:styles$3.layout,children:[jsxRuntimeExports.jsx(ImageGenerator,{}),jsxRuntimeExports.jsx("button",{className:styles$3.backButton,onClick:n,children:" "})]})}const layout="_layout_17mbt_1",notificationList="_notificationList_17mbt_45",notificationItem="_notificationItem_17mbt_61",iconContainer="_iconContainer_17mbt_91",contentArea="_contentArea_17mbt_113",header$1="_header_17mbt_121",title$2="_title_17mbt_135",timestamp="_timestamp_17mbt_149",content="_content_17mbt_113",errorText="_errorText_17mbt_177",styles$2={layout,notificationList,notificationItem,iconContainer,contentArea,header:header$1,title:title$2,timestamp,content,errorText},getIcon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:20,className:styles$2.iconNotice}),formatTimestamp=t=>{const n=new Date(t),s=new Date().getTime()-n.getTime(),o=Math.floor(s/(1e3*60)),l=Math.floor(s/(1e3*60*60)),c=Math.floor(s/(1e3*60*60*24));return o<1?" ":o<60?`${o} `:l<24?`${l} `:c<7?`${c} `:n.toLocaleDateString("ko-KR")};function Notification$1(){const{user:t,isLoading:n}=useUser(),[r,s]=reactExports$1.useState([]),[o,l]=reactExports$1.useState(!0),[c,p]=reactExports$1.useState(null),m=reactExports$1.useCallback(async x=>{if(!x){p("      ."),l(!1);return}try{l(!0),p(null);const _=(await userInstance.get("/api/notification/user")).data.data;if(!Array.isArray(_)){s([]);return}const R=_.map(k=>({id:k.notification_id,title:k.title,content:k.body,timestamp:k.create_dtm,read:k.is_checked==="1"})).sort((k,M)=>new Date(M.timestamp).getTime()-new Date(k.timestamp).getTime());s(R)}catch(b){p(`    . (${b.message})`)}finally{l(!1)}},[]);return reactExports$1.useEffect(()=>{!n&&(t!=null&&t.id)?m(t.id):!n&&!t&&l(!1)},[n,t==null?void 0:t.id,m]),reactExports$1.useEffect(()=>{if(!(t!=null&&t.id))return;const x=onForegroundMessage(()=>{console.log("      "),m(t.id)}),b=_=>{var R;((R=_.data)==null?void 0:R.type)==="NEW_NOTIFICATION"&&(console.log("      ",_.data),m(t.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",b),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",b)})),()=>{x(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",b)}},[t==null?void 0:t.id,m]),o?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:"  ..."}):c?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("div",{className:styles$2.errorText,children:c})}):r.length===0?jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("h1",{children:" ."})}):jsxRuntimeExports.jsx("div",{className:styles$2.layout,children:jsxRuntimeExports.jsx("div",{className:styles$2.notificationList,children:r.map(x=>jsxRuntimeExports.jsxs("div",{className:`${styles$2.notificationItem} ${x.read?styles$2.readItem:""}`,onClick:()=>{x.read||handleNotificationClick(x.id)},children:[jsxRuntimeExports.jsx("div",{className:styles$2.iconContainer,children:getIcon()}),jsxRuntimeExports.jsxs("div",{className:styles$2.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.header,children:[jsxRuntimeExports.jsx("span",{className:styles$2.title,children:x.title}),jsxRuntimeExports.jsx("span",{className:styles$2.timestamp,children:formatTimestamp(x.timestamp)})]}),jsxRuntimeExports.jsx("p",{className:styles$2.content,children:x.content})]})]},x.id))})})}var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,(function(t,n){(function(r,s){s(n)})(pageFlip_browser,(function(r){class s{constructor(j,W){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=W,this.nowDrawingDensity=this.createdDensity,this.render=j}setDensity(j){this.createdDensity=j,this.nowDrawingDensity=j}setDrawingDensity(j){this.nowDrawingDensity=j}setPosition(j){this.state.position=j}setAngle(j){this.state.angle=j}setArea(j){this.state.area=j}setHardDrawingAngle(j){this.state.hardDrawingAngle=j}setHardAngle(j){this.state.hardAngle=j,this.state.hardDrawingAngle=j}setOrientation(j){this.orientation=j}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends s{constructor(j,W,Y){super(j,Y),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=W}draw(j){const W=this.render.getContext(),Y=this.render.convertToGlobal(this.state.position),X=this.render.getRect().pageWidth,te=this.render.getRect().height;W.save(),W.translate(Y.x,Y.y),W.beginPath();for(let se of this.state.area)se!==null&&(se=this.render.convertToGlobal(se),W.lineTo(se.x-Y.x,se.y-Y.y));W.rotate(this.state.angle),W.clip(),this.isLoad?W.drawImage(this.image,0,0,X,te):this.drawLoader(W,{x:0,y:0},X,te),W.restore()}simpleDraw(j){const W=this.render.getRect(),Y=this.render.getContext(),X=W.pageWidth,te=W.height,se=j===1?W.left+W.pageWidth:W.left,pe=W.top;this.isLoad?Y.drawImage(this.image,se,pe,X,te):this.drawLoader(Y,{x:se,y:pe},X,te)}drawLoader(j,W,Y,X){j.beginPath(),j.strokeStyle="rgb(200, 200, 200)",j.fillStyle="rgb(255, 255, 255)",j.lineWidth=1,j.rect(W.x+1,W.y+1,Y-1,X-1),j.stroke(),j.fill();const te={x:W.x+Y/2,y:W.y+X/2};j.beginPath(),j.lineWidth=10,j.arc(te.x,te.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),j.stroke(),j.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(j,W){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=W,this.app=j,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let W=0;W<this.pages.length;W++)this.portraitSpread.push([W]);let j=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([j]),j++);for(let W=j;W<this.pages.length;W+=2)W<this.pages.length-1?this.landscapeSpread.push([W,W+1]):(this.landscapeSpread.push([W]),this.pages[W].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(j){const W=this.getSpread();for(let Y=0;Y<W.length;Y++)if(j===W[Y][0]||j===W[Y][1])return Y;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(j){if(j>=0&&j<this.pages.length)return this.pages[j];throw new Error("Invalid page number")}nextBy(j){const W=this.pages.indexOf(j);return W<this.pages.length-1?this.pages[W+1]:null}prevBy(j){const W=this.pages.indexOf(j);return W>0?this.pages[W-1]:null}getFlippingPage(j){const W=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return j===0?this.pages[W].newTemporaryCopy():this.pages[W-1];{const Y=j===0?this.getSpread()[W+1]:this.getSpread()[W-1];return Y.length===1||j===0?this.pages[Y[0]]:this.pages[Y[1]]}}getBottomPage(j){const W=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return j===0?this.pages[W+1]:this.pages[W-1];{const Y=j===0?this.getSpread()[W+1]:this.getSpread()[W-1];return Y.length===1?this.pages[Y[0]]:j===0?this.pages[Y[1]]:this.pages[Y[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(j=null){if(j===null&&(j=this.currentPageIndex),j<0||j>=this.pages.length)return;const W=this.getSpreadIndexByPage(j);W!==null&&(this.currentSpreadIndex=W,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(j){if(!(j>=0&&j<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=j}showSpread(){const j=this.getSpread()[this.currentSpreadIndex];j.length===2?(this.render.setLeftPage(this.pages[j[0]]),this.render.setRightPage(this.pages[j[1]])):this.render.getOrientation()==="landscape"&&j[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[j[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[j[0]])),this.currentPageIndex=j[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(j,W,Y){super(j,W),this.imagesHref=Y}load(){for(const j of this.imagesHref){const W=new o(this.render,j,"soft");W.load(),this.pages.push(W)}this.createSpread()}}class p{static GetDistanceBetweenTwoPoint(j,W){return j===null||W===null?1/0:Math.sqrt(Math.pow(W.x-j.x,2)+Math.pow(W.y-j.y,2))}static GetSegmentLength(j){return p.GetDistanceBetweenTwoPoint(j[0],j[1])}static GetAngleBetweenTwoLine(j,W){const Y=j[0].y-j[1].y,X=W[0].y-W[1].y,te=j[1].x-j[0].x,se=W[1].x-W[0].x;return Math.acos((Y*X+te*se)/(Math.sqrt(Y*Y+te*te)*Math.sqrt(X*X+se*se)))}static PointInRect(j,W){return W===null?null:W.x>=j.left&&W.x<=j.width+j.left&&W.y>=j.top&&W.y<=j.top+j.height?W:null}static GetRotatedPoint(j,W,Y){return{x:j.x*Math.cos(Y)+j.y*Math.sin(Y)+W.x,y:j.y*Math.cos(Y)-j.x*Math.sin(Y)+W.y}}static LimitPointToCircle(j,W,Y){if(p.GetDistanceBetweenTwoPoint(j,Y)<=W)return Y;const X=j.x,te=j.y,se=Y.x,pe=Y.y;let ge=Math.sqrt(Math.pow(W,2)*Math.pow(X-se,2)/(Math.pow(X-se,2)+Math.pow(te-pe,2)))+X;Y.x<0&&(ge*=-1);let me=(ge-X)*(te-pe)/(X-se)+te;return X-se+te===0&&(me=W),{x:ge,y:me}}static GetIntersectBetweenTwoSegment(j,W,Y){return p.PointInRect(j,p.GetIntersectBeetwenTwoLine(W,Y))}static GetIntersectBeetwenTwoLine(j,W){const Y=j[0].y-j[1].y,X=W[0].y-W[1].y,te=j[1].x-j[0].x,se=W[1].x-W[0].x,pe=j[0].x*j[1].y-j[1].x*j[0].y,ge=W[0].x*W[1].y-W[1].x*W[0].y,me=Y*ge-X*pe,Ee=te*ge-se*pe,ve=-(pe*se-ge*te)/(Y*se-X*te),de=-(Y*ge-X*pe)/(Y*se-X*te);if(isFinite(ve)&&isFinite(de))return{x:ve,y:de};if(Math.abs(me-Ee)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(j,W){const Y=Math.abs(j.x-W.x),X=Math.abs(j.y-W.y),te=Math.max(Y,X),se=[j];function pe(ge,me,Ee,ve,de){return me>ge?ge+de*(Ee/ve):me<ge?ge-de*(Ee/ve):ge}for(let ge=1;ge<=te;ge+=1)se.push({x:pe(j.x,W.x,Y,te,ge),y:pe(j.y,W.y,X,te,ge)});return se}}class m extends s{constructor(j,W,Y){super(j,Y),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=W,this.element.classList.add("stf__item"),this.element.classList.add("--"+Y)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new m(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(j){const W=j||this.nowDrawingDensity,Y=this.render.convertToGlobal(this.state.position),X=this.render.getRect().pageWidth,te=this.render.getRect().height;this.element.classList.remove("--simple");const se=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${X}px;
            height: ${te}px;
        `;W==="hard"?this.drawHard(se):this.drawSoft(Y,se)}drawHard(j=""){const W=this.render.getRect().left+this.render.getRect().width/2,Y=this.state.hardDrawingAngle,X=j+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${Y}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${W}px, 0, 0) rotateY(${Y}deg);`);this.element.style.cssText=X}drawSoft(j,W=""){let Y="polygon( ";for(const te of this.state.area)if(te!==null){let se=this.render.getDirection()===1?{x:-te.x+this.state.position.x,y:te.y-this.state.position.y}:{x:te.x-this.state.position.x,y:te.y-this.state.position.y};se=p.GetRotatedPoint(se,{x:0,y:0},this.state.angle),Y+=se.x+"px "+se.y+"px, "}Y=Y.slice(0,-2),Y+=")";const X=W+`transform-origin: 0 0; clip-path: ${Y}; -webkit-clip-path: ${Y};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${j.x}px, ${j.y}px);`:`transform: translate3d(${j.x}px, ${j.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=X}simpleDraw(j){const W=this.render.getRect(),Y=W.pageWidth,X=W.height,te=j===1?W.left+W.pageWidth:W.left,se=W.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${X}px; 
            left: ${te}px; 
            top: ${se}px; 
            width: ${Y}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(j){super.setOrientation(j),this.element.classList.remove("--left","--right"),this.element.classList.add(j===1?"--right":"--left")}setDrawingDensity(j){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+j),super.setDrawingDensity(j)}}class x extends l{constructor(j,W,Y,X){super(j,W),this.element=Y,this.pagesElement=X}load(){for(const j of this.pagesElement){const W=new m(this.render,j,j.dataset.density==="hard"?"hard":"soft");W.load(),this.pages.push(W)}this.createSpread()}}class b{constructor(j,W,Y,X){this.direction=j,this.corner=W,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(Y,10),this.pageHeight=parseInt(X,10)}calc(j){try{return this.position=this.calcAngleAndPosition(j),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const j=[];let W=!1;return j.push(this.rect.topLeft),j.push(this.topIntersectPoint),this.sideIntersectPoint===null?W=!0:(j.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(W=!1)),j.push(this.bottomIntersectPoint),(W||this.corner==="bottom")&&j.push(this.rect.bottomLeft),j}getBottomClipArea(){const j=[];return j.push(this.topIntersectPoint),this.corner==="top"?j.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&j.push({x:this.pageWidth,y:0}),j.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?p.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&j.push(this.sideIntersectPoint):this.corner==="top"&&j.push({x:this.pageWidth,y:this.pageHeight}),j.push(this.bottomIntersectPoint),j.push(this.topIntersectPoint),j}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const j=p.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?j:Math.PI-j}calcAngleAndPosition(j){let W=j;if(this.updateAngleAndGeometry(W),W=this.corner==="top"?this.checkPositionAtCenterLine(W,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(W,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(W.x-this.pageWidth)<1&&Math.abs(W.y)<1)throw new Error("Point is too small");return W}updateAngleAndGeometry(j){this.angle=this.calculateAngle(j),this.rect=this.getPageRect(j)}calculateAngle(j){const W=this.pageWidth-j.x+1,Y=this.corner==="bottom"?this.pageHeight-j.y:j.y;let X=2*Math.acos(W/Math.sqrt(Y*Y+W*W));Y<0&&(X=-X);const te=Math.PI-X;if(!isFinite(X)||te>=0&&te<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(X=-X),X}getPageRect(j){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],j):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],j)}getRectFromBasePoint(j,W){return{topLeft:this.getRotatedPoint(j[0],W),topRight:this.getRotatedPoint(j[1],W),bottomLeft:this.getRotatedPoint(j[2],W),bottomRight:this.getRotatedPoint(j[3],W)}}getRotatedPoint(j,W){return{x:j.x*Math.cos(this.angle)+j.y*Math.sin(this.angle)+W.x,y:j.y*Math.cos(this.angle)-j.x*Math.sin(this.angle)+W.y}}calculateIntersectPoint(j){const W={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[j,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[j,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[j,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=p.GetIntersectBetweenTwoSegment(W,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(j,W,Y){let X=j;const te=p.LimitPointToCircle(W,this.pageWidth,X);X!==te&&(X=te,this.updateAngleAndGeometry(X));const se=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let pe=this.rect.bottomRight,ge=this.rect.topLeft;if(this.corner==="bottom"&&(pe=this.rect.topRight,ge=this.rect.bottomLeft),pe.x<=0){const me=p.LimitPointToCircle(Y,se,ge);me!==X&&(X=me,this.updateAngleAndGeometry(X))}return X}getSegmentToShadowLine(){const j=this.getShadowStartPoint();return[j,j!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class _{constructor(j,W){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=j,this.app=W}fold(j){this.setState("user_fold"),this.calc===null&&this.start(j),this.do(this.render.convertToPage(j))}flip(j){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(j)||(this.calc!==null&&this.render.finishAnimation(),!this.start(j)))return;const W=this.getBoundsRect();this.setState("flipping");const Y=W.height/10,X=this.calc.getCorner()==="bottom"?W.height-Y:Y,te=this.calc.getCorner()==="bottom"?W.height:0;this.calc.calc({x:W.pageWidth-Y,y:X}),this.animateFlippingTo({x:W.pageWidth-Y,y:X},{x:-W.pageWidth,y:te},!0)}start(j){this.reset();const W=this.render.convertToBook(j),Y=this.getBoundsRect(),X=this.getDirectionByPoint(W),te=W.y>=Y.height/2?"bottom":"top";if(!this.checkDirection(X))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(X),this.bottomPage=this.app.getPageCollection().getBottomPage(X),this.render.getOrientation()==="landscape")if(X===1){const se=this.app.getPageCollection().nextBy(this.flippingPage);se!==null&&this.flippingPage.getDensity()!==se.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),se.setDrawingDensity("hard"))}else{const se=this.app.getPageCollection().prevBy(this.flippingPage);se!==null&&this.flippingPage.getDensity()!==se.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),se.setDrawingDensity("hard"))}return this.render.setDirection(X),this.calc=new b(X,te,Y.pageWidth.toString(10),Y.height.toString(10)),!0}catch{return!1}}do(j){if(this.calc!==null&&this.calc.calc(j)){const W=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*W)/100):this.flippingPage.setHardAngle(-90*(200-2*W)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),W,this.calc.getDirection())}}flipToPage(j,W){const Y=this.app.getPageCollection().getCurrentSpreadIndex(),X=this.app.getPageCollection().getSpreadIndexByPage(j);try{X>Y&&(this.app.getPageCollection().setCurrentSpreadIndex(X-1),this.flipNext(W)),X<Y&&(this.app.getPageCollection().setCurrentSpreadIndex(X+1),this.flipPrev(W))}catch{}}flipNext(j){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:j==="top"?1:this.render.getRect().height-2})}flipPrev(j){this.flip({x:10,y:j==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const j=this.calc.getPosition(),W=this.getBoundsRect(),Y=this.calc.getCorner()==="bottom"?W.height:0;j.x<=0?this.animateFlippingTo(j,{x:-W.pageWidth,y:Y},!0):this.animateFlippingTo(j,{x:W.pageWidth,y:Y},!1)}showCorner(j){if(!this.checkState("read","fold_corner"))return;const W=this.getBoundsRect(),Y=W.pageWidth;if(this.isPointOnCorners(j))if(this.calc===null){if(!this.start(j))return;this.setState("fold_corner"),this.calc.calc({x:Y-1,y:1});const X=50,te=this.calc.getCorner()==="bottom"?W.height-1:1,se=this.calc.getCorner()==="bottom"?W.height-X:X;this.animateFlippingTo({x:Y-1,y:te},{x:Y-X,y:se},!1,!1)}else this.do(this.render.convertToPage(j));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(j,W,Y,X=!0){const te=p.GetCordsFromTwoPoint(j,W),se=[];for(const ge of te)se.push(()=>this.do(ge));const pe=this.getAnimationDuration(te.length);this.render.startAnimation(se,pe,()=>{this.calc&&(Y&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),X&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(j){this.state!==j&&(this.app.updateState(j),this.state=j)}getDirectionByPoint(j){const W=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(j.x-W.pageWidth<=W.width/5)return 1}else if(j.x<W.width/2)return 1;return 0}getAnimationDuration(j){const W=this.app.getSettings().flippingTime;return j>=1e3?W:j/1e3*W}checkDirection(j){return j===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...j){for(const W of j)if(this.state===W)return!0;return!1}isPointOnCorners(j){const W=this.getBoundsRect(),Y=W.pageWidth,X=Math.sqrt(Math.pow(Y,2)+Math.pow(W.height,2))/5,te=this.render.convertToBook(j);return te.x>0&&te.y>0&&te.x<W.width&&te.y<W.height&&(te.x<X||te.x>W.width-X)&&(te.y<X||te.y>W.height-X)}}class R{constructor(j,W){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=W,this.app=j;const Y=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=Y.exec(window.navigator.userAgent)!==null}render(j){if(this.animation!==null){const W=Math.round((j-this.animation.startedAt)/this.animation.durationFrame);W<this.animation.frames.length?this.animation.frames[W]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=j,this.drawFrame()}start(){this.update();const j=W=>{this.render(W),requestAnimationFrame(j)};requestAnimationFrame(j)}startAnimation(j,W,Y){this.finishAnimation(),this.animation={frames:j,duration:W,durationFrame:W/j.length,onAnimateEnd:Y,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const j=this.calculateBoundsRect();this.orientation!==j&&(this.orientation=j,this.app.updateOrientation(j))}calculateBoundsRect(){let j="landscape";const W=this.getBlockWidth(),Y=W/2,X=this.getBlockHeight()/2,te=this.setting.width/this.setting.height;let se=this.setting.width,pe=this.setting.height,ge=Y-se;return this.setting.size==="stretch"?(W<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(j="portrait"),se=j==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,se>this.setting.maxWidth&&(se=this.setting.maxWidth),pe=se/te,pe>this.getBlockHeight()&&(pe=this.getBlockHeight(),se=pe*te),ge=j==="portrait"?Y-se/2-se:Y-se):W<2*se&&this.app.getSettings().usePortrait&&(j="portrait",ge=Y-se/2-se),this.boundsRect={left:ge,top:X-pe/2,width:2*se,height:pe,pageWidth:se},j}setShadowData(j,W,Y,X){if(!this.app.getSettings().drawShadow)return;const te=100*this.getSettings().maxShadowOpacity;this.shadow={pos:j,angle:W,width:3*this.getRect().pageWidth/4*Y/100,opacity:(100-Y)*te/100/100,direction:X,progress:2*Y}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(j){this.pageRect=j}setDirection(j){this.direction=j}setRightPage(j){j!==null&&j.setOrientation(1),this.rightPage=j}setLeftPage(j){j!==null&&j.setOrientation(0),this.leftPage=j}setBottomPage(j){j!==null&&j.setOrientation(this.direction===1?0:1),this.bottomPage=j}setFlippingPage(j){j!==null&&j.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=j}convertToBook(j){const W=this.getRect();return{x:j.x-W.left,y:j.y-W.top}}isSafari(){return this.safari}convertToPage(j,W){W||(W=this.direction);const Y=this.getRect();return{x:W===0?j.x-Y.left-Y.width/2:Y.width/2-j.x+Y.left,y:j.y-Y.top}}convertToGlobal(j,W){if(W||(W=this.direction),j==null)return null;const Y=this.getRect();return{x:W===0?j.x+Y.left+Y.width/2:Y.width/2-j.x+Y.left,y:j.y+Y.top}}convertRectToGlobal(j,W){return W||(W=this.direction),{topLeft:this.convertToGlobal(j.topLeft,W),topRight:this.convertToGlobal(j.topRight,W),bottomLeft:this.convertToGlobal(j.bottomLeft,W),bottomRight:this.convertToGlobal(j.bottomRight,W)}}}class k extends R{constructor(j,W,Y){super(j,W),this.canvas=Y,this.ctx=Y.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const j=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(j.left+j.pageWidth,j.top,j.width,j.height),this.ctx.clip())}drawBookShadow(){const j=this.getRect();this.ctx.save(),this.ctx.beginPath();const W=j.width/20;this.ctx.rect(j.left,j.top,j.width,j.height);const Y={x:j.left+j.width/2-W/2,y:0};this.ctx.translate(Y.x,Y.y);const X=this.ctx.createLinearGradient(0,0,W,0);X.addColorStop(0,"rgba(0, 0, 0, 0)"),X.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),X.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),X.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),X.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),X.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=X,this.ctx.fillRect(0,0,W,2*j.height),this.ctx.restore()}drawOuterShadow(){const j=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(j.left,j.top,j.width,j.height);const W=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(W.x,W.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const Y=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),Y.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Y.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),Y.addColorStop(0,"rgba(0, 0, 0, 0)"),Y.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=Y,this.ctx.fillRect(0,0,this.shadow.width,2*j.height),this.ctx.restore()}drawInnerShadow(){const j=this.getRect();this.ctx.save(),this.ctx.beginPath();const W=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Y=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(Y.topLeft.x,Y.topLeft.y),this.ctx.lineTo(Y.topRight.x,Y.topRight.y),this.ctx.lineTo(Y.bottomRight.x,Y.bottomRight.y),this.ctx.lineTo(Y.bottomLeft.x,Y.bottomLeft.y),this.ctx.translate(W.x,W.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const X=3*this.shadow.width/4,te=this.ctx.createLinearGradient(0,0,X,0);this.shadow.direction===0?(this.ctx.translate(-X,-100),te.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),te.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),te.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),te.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),te.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),te.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),te.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),te.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=te,this.ctx.fillRect(0,0,X,2*j.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class M{constructor(j,W,Y){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=te=>{if(this.checkTarget(te.target)){const se=this.getMousePos(te.clientX,te.clientY);this.app.startUserTouch(se),te.preventDefault()}},this.onTouchStart=te=>{if(this.checkTarget(te.target)&&te.changedTouches.length>0){const se=te.changedTouches[0],pe=this.getMousePos(se.clientX,se.clientY);this.touchPoint={point:pe,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(pe)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||te.preventDefault()}},this.onMouseUp=te=>{const se=this.getMousePos(te.clientX,te.clientY);this.app.userStop(se)},this.onMouseMove=te=>{const se=this.getMousePos(te.clientX,te.clientY);this.app.userMove(se,!1)},this.onTouchMove=te=>{if(te.changedTouches.length>0){const se=te.changedTouches[0],pe=this.getMousePos(se.clientX,se.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-pe.x)>10||this.app.getState()!=="read")&&te.cancelable&&this.app.userMove(pe,!0),this.app.getState()!=="read"&&te.preventDefault()):this.app.userMove(pe,!0)}},this.onTouchEnd=te=>{if(te.changedTouches.length>0){const se=te.changedTouches[0],pe=this.getMousePos(se.clientX,se.clientY);let ge=!1;if(this.touchPoint!==null){const me=pe.x-this.touchPoint.point.x,Ee=Math.abs(pe.y-this.touchPoint.point.y);Math.abs(me)>this.swipeDistance&&Ee<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(me>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ge=!0),this.touchPoint=null}this.app.userStop(pe,ge)}},this.parentElement=j,j.classList.add("stf__parent"),j.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=j.querySelector(".stf__wrapper"),this.app=W;const X=this.app.getSettings().usePortrait?1:2;j.style.minWidth=Y.minWidth*X+"px",j.style.minHeight=Y.minHeight+"px",Y.size==="fixed"&&(j.style.minWidth=Y.width*X+"px",j.style.minHeight=Y.height+"px"),Y.autoSize&&(j.style.width="100%",j.style.maxWidth=2*Y.maxWidth+"px"),j.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=Y.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(j){this.wrapper.classList.remove("--portrait","--landscape"),j==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(j,W){const Y=this.distElement.getBoundingClientRect();return{x:j-Y.left,y:W-Y.top}}checkTarget(j){return!this.app.getSettings().clickEventForward||!["a","button"].includes(j.tagName.toLowerCase())}}class P extends M{constructor(j,W,Y,X){super(j,W,Y),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=j.querySelector(".stf__block"),this.items=X;for(const te of X)this.distElement.appendChild(te);this.setHandlers()}clear(){for(const j of this.items)this.parentElement.appendChild(j)}updateItems(j){this.removeHandlers(),this.distElement.innerHTML="";for(const W of j)this.distElement.appendChild(W);this.items=j,this.setHandlers()}update(){this.app.getRender().update()}}class K extends M{constructor(j,W,Y){super(j,W,Y),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=j.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const j=getComputedStyle(this.canvas),W=parseInt(j.getPropertyValue("width"),10),Y=parseInt(j.getPropertyValue("height"),10);this.canvas.width=W,this.canvas.height=Y}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class $ extends R{constructor(j,W,Y){super(j,W),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=Y,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const j=this.getRect(),W=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let Y=(100-W)*(2.5*j.pageWidth)/100+20;Y>j.pageWidth&&(Y=j.pageWidth);let X=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${Y}px;
            height: ${j.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*W/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${j.left+j.width/2}px;
            transform-origin: 0 0;
        `;X+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=X}drawHardOuterShadow(){const j=this.getRect();let W=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*j.pageWidth)/100+20;W>j.pageWidth&&(W=j.pageWidth);let Y=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${W}px;
            height: ${j.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${j.left+j.width/2}px;
            transform-origin: 0 0;
        `;Y+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=Y}drawInnerShadow(){const j=this.getRect(),W=3*this.shadow.width/4,Y=this.getDirection()===0?W:0,X=this.getDirection()===0?"to left":"to right",te=this.convertToGlobal(this.shadow.pos),se=this.shadow.angle+3*Math.PI/2,pe=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ge="polygon( ";for(const Ee of pe){let ve=this.getDirection()===1?{x:-Ee.x+this.shadow.pos.x,y:Ee.y-this.shadow.pos.y}:{x:Ee.x-this.shadow.pos.x,y:Ee.y-this.shadow.pos.y};ve=p.GetRotatedPoint(ve,{x:Y,y:100},se),ge+=ve.x+"px "+ve.y+"px, "}ge=ge.slice(0,-2),ge+=")";const me=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${W}px;
            height: ${2*j.height}px;
            background: linear-gradient(${X},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${Y}px 100px;
            transform: translate3d(${te.x-Y}px, ${te.y-100}px, 0) rotate(${se}rad);
            clip-path: ${ge};
            -webkit-clip-path: ${ge};
        `;this.innerShadow.style.cssText=me}drawOuterShadow(){const j=this.getRect(),W=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Y=this.shadow.angle+3*Math.PI/2,X=this.getDirection()===1?this.shadow.width:0,te=this.getDirection()===0?"to right":"to left",se=[{x:0,y:0},{x:j.pageWidth,y:0},{x:j.pageWidth,y:j.height},{x:0,y:j.height}];let pe="polygon( ";for(const me of se)if(me!==null){let Ee=this.getDirection()===1?{x:-me.x+this.shadow.pos.x,y:me.y-this.shadow.pos.y}:{x:me.x-this.shadow.pos.x,y:me.y-this.shadow.pos.y};Ee=p.GetRotatedPoint(Ee,{x:X,y:100},Y),pe+=Ee.x+"px "+Ee.y+"px, "}pe=pe.slice(0,-2),pe+=")";const ge=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*j.height}px;
            background: linear-gradient(${te}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${X}px 100px;
            transform: translate3d(${W.x-X}px, ${W.y-100}px, 0) rotate(${Y}rad);
            clip-path: ${pe};
            -webkit-clip-path: ${pe};
        `;this.outerShadow.style.cssText=ge}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const j=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(j))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const j of this.app.getPageCollection().getPages())j!==this.leftPage&&j!==this.rightPage&&j!==this.flippingPage&&j!==this.bottomPage&&(j.getElement().style.cssText="display: none"),j.getTemporaryCopy()!==this.flippingPage&&j.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class G{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(j){const W=this._default;if(Object.assign(W,j),W.size!=="stretch"&&W.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(W.width<=0||W.height<=0)throw new Error("Invalid width or height");if(W.flippingTime<=0)throw new Error("Invalid flipping time");return W.size==="stretch"?(W.minWidth<=0&&(W.minWidth=100),W.maxWidth<W.minWidth&&(W.maxWidth=2e3),W.minHeight<=0&&(W.minHeight=100),W.maxHeight<W.minHeight&&(W.maxHeight=2e3)):(W.minWidth=W.width,W.maxWidth=W.width,W.minHeight=W.height,W.maxHeight=W.height),W}}(function(H,j){j===void 0&&(j={});var W=j.insertAt;if(typeof document<"u"){var Y=document.head||document.getElementsByTagName("head")[0],X=document.createElement("style");X.type="text/css",W==="top"&&Y.firstChild?Y.insertBefore(X,Y.firstChild):Y.appendChild(X),X.styleSheet?X.styleSheet.cssText=H:X.appendChild(document.createTextNode(H))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),r.PageFlip=class extends class{constructor(){this.events=new Map}on(H,j){return this.events.has(H)?this.events.get(H).push(j):this.events.set(H,[j]),this}off(H){this.events.delete(H)}trigger(H,j,W=null){if(this.events.has(H))for(const Y of this.events.get(H))Y({data:W,object:j})}}{constructor(H,j){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new G().getSettings(j),this.block=H}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(H){this.ui=new K(this.block,this,this.setting);const j=this.ui.getCanvas();this.render=new k(this,this.setting,j),this.flipController=new _(this.render,this),this.pages=new c(this,this.render,H),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(H){this.ui=new P(this.block,this,this.setting,H),this.render=new $(this,this.setting,this.ui.getDistElement()),this.flipController=new _(this.render,this),this.pages=new x(this,this.render,this.ui.getDistElement(),H),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(H){const j=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,H),this.pages.load(),this.pages.show(j),this.trigger("update",this,{page:j,mode:this.render.getOrientation()})}updateFromHtml(H){const j=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new x(this,this.render,this.ui.getDistElement(),H),this.pages.load(),this.ui.updateItems(H),this.render.reload(),this.pages.show(j),this.trigger("update",this,{page:j,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(H){this.pages.show(H)}flipNext(H="top"){this.flipController.flipNext(H)}flipPrev(H="top"){this.flipController.flipPrev(H)}flip(H,j="top"){this.flipController.flipToPage(H,j)}updateState(H){this.trigger("changeState",this,H)}updatePageIndex(H){this.trigger("flip",this,H)}updateOrientation(H){this.ui.setOrientationStyle(H),this.update(),this.trigger("changeOrientation",this,H)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(H){return this.pages.getPage(H)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(H){this.mousePosition=H,this.isUserTouch=!0,this.isUserMove=!1}userMove(H,j){this.isUserTouch||j||!this.setting.showPageCorners?this.isUserTouch&&p.GetDistanceBetweenTwoPoint(this.mousePosition,H)>5&&(this.isUserMove=!0,this.flipController.fold(H)):this.flipController.showCorner(H)}userStop(H,j=!1){this.isUserTouch&&(this.isUserTouch=!1,j||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(H)))}},Object.defineProperty(r,"__esModule",{value:!0})}))})(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((t,n)=>{const r=reactExports$1.useRef(null),s=reactExports$1.useRef([]),o=reactExports$1.useRef(),[l,c]=reactExports$1.useState([]);reactExports$1.useImperativeHandle(n,()=>({pageFlip:()=>o.current}));const p=reactExports$1.useCallback(()=>{o.current&&o.current.clear()},[]),m=reactExports$1.useCallback(()=>{const x=o.current;x&&(x.off("flip"),x.off("changeOrientation"),x.off("changeState"),x.off("init"),x.off("update"))},[]);return reactExports$1.useEffect(()=>{if(s.current=[],t.children){const x=React.Children.map(t.children,b=>React.cloneElement(b,{ref:_=>{_&&s.current.push(_)}}));(!t.renderOnlyPageLengthChange||l.length!==x.length)&&(x.length<l.length&&p(),c(x))}},[t.children]),reactExports$1.useEffect(()=>{const x=()=>{const b=o.current;b&&(t.onFlip&&b.on("flip",_=>t.onFlip(_)),t.onChangeOrientation&&b.on("changeOrientation",_=>t.onChangeOrientation(_)),t.onChangeState&&b.on("changeState",_=>t.onChangeState(_)),t.onInit&&b.on("init",_=>t.onInit(_)),t.onUpdate&&b.on("update",_=>t.onUpdate(_)))};l.length>0&&s.current.length>0&&(m(),r.current&&!o.current&&(o.current=new pageFlip_browserExports.PageFlip(r.current,t)),o.current.getFlipController()?o.current.updateFromHtml(s.current):o.current.loadFromHTML(s.current),x())},[l]),React.createElement("div",{ref:r,className:t.className,style:t.style},l)}),HTMLFlipBook=React.memo(HTMLFlipBookForward),container="_container_ho3zg_5",ambientBackground="_ambientBackground_ho3zg_39",overlay="_overlay_ho3zg_69",header="_header_ho3zg_97",title$1="_title_ho3zg_125",closeBtn="_closeBtn_ho3zg_141",bookScene="_bookScene_ho3zg_183",page="_page_ho3zg_235",imageWrapper="_imageWrapper_ho3zg_311",pageImage="_pageImage_ho3zg_329",pageNumber="_pageNumber_ho3zg_345",controls="_controls_ho3zg_367",navBtn="_navBtn_ho3zg_397",pageIndicator="_pageIndicator_ho3zg_445",loader="_loader_ho3zg_463",errorMessage="_errorMessage_ho3zg_481",backButton="_backButton_ho3zg_491",styles$1={container,ambientBackground,overlay,header,title:title$1,closeBtn,bookScene,page,imageWrapper,pageImage,pageNumber,controls,navBtn,pageIndicator,loader,errorMessage,backButton};function LeafletViewer(){const{category:t,id:n}=useParams(),r=useNavigate(),s=reactExports$1.useRef(null),[o,l]=reactExports$1.useState(null),[c,p]=reactExports$1.useState(!0),[m,x]=reactExports$1.useState(null),[b,_]=reactExports$1.useState(0),[R,k]=reactExports$1.useState(null),[M,P]=reactExports$1.useState({width:window.innerWidth,height:window.innerHeight}),K=M.width>768;reactExports$1.useEffect(()=>{const pe=()=>P({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]),reactExports$1.useEffect(()=>{(async()=>{try{p(!0);const ge=t==="galleries"?"galleryCategory":"exhibitionCategory",me=await userInstance.get("/api/leaflet",{params:{category:ge,category_id:n}}),Ee=Array.isArray(me.data)?me.data.length>0?me.data[0]:null:me.data;if(Ee)if(l(Ee),Ee.image_urls&&Ee.image_urls.length>0){const ve=new Image;ve.src=Ee.image_urls[0],ve.onload=()=>{if(ve.width>0){const de=ve.height/ve.width;k(de)}},ve.onerror=()=>k(1.414)}else k(1.414);else x("    .")}catch(ge){console.error("Error:",ge),x("  .")}finally{p(!1)}})()},[t,n]);const $=o?o.image_urls.length:0,G=reactExports$1.useCallback(()=>{s.current&&s.current.pageFlip().flipNext()},[]),H=reactExports$1.useCallback(()=>{s.current&&s.current.pageFlip().flipPrev()},[]);if(reactExports$1.useEffect(()=>{const pe=ge=>{ge.key==="ArrowLeft"&&H(),ge.key==="ArrowRight"&&G(),ge.key==="Escape"&&r(-1)};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[H,G,r]),c||o&&!R)return jsxRuntimeExports.jsx("div",{className:styles$1.container,children:jsxRuntimeExports.jsx("div",{className:styles$1.loader})});if(m||!o)return jsxRuntimeExports.jsx("div",{className:styles$1.container,children:jsxRuntimeExports.jsxs("div",{className:styles$1.errorMessage,children:[jsxRuntimeExports.jsx("p",{children:m}),jsxRuntimeExports.jsx("button",{className:styles$1.backButton,onClick:()=>r(-1),children:""})]})});const{image_urls:j,title:W}=o,Y=j[0];let X=M.height*.85,te=X/R;const se=K?M.width*.45:M.width*.9;return te>se&&(te=se,X=te*R),jsxRuntimeExports.jsxs("div",{className:styles$1.container,children:[Y&&jsxRuntimeExports.jsx("div",{className:styles$1.ambientBackground,style:{backgroundImage:`url(${Y})`}}),jsxRuntimeExports.jsx("div",{className:styles$1.overlay}),jsxRuntimeExports.jsxs("header",{className:styles$1.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$1.title,children:W}),jsxRuntimeExports.jsx("button",{className:styles$1.closeBtn,onClick:()=>r(-1),"aria-label":"",children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[jsxRuntimeExports.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),jsxRuntimeExports.jsx("div",{className:styles$1.bookScene,children:jsxRuntimeExports.jsx(HTMLFlipBook,{ref:s,width:Math.floor(te),height:Math.floor(X),size:"fixed",minWidth:280,maxWidth:Math.floor(K?M.width*.45:M.width*.9),minHeight:Math.floor(280*R),maxHeight:Math.floor((K?M.width*.45:M.width*.9)*R),showCover:!1,mobileScrollSupport:!1,className:styles$1.flipBook,onFlip:pe=>_(pe.data),usePortrait:!K,startPage:0,drawShadow:!0,flippingTime:800,useMouseEvents:!0,swipeDistance:30,children:j.map((pe,ge)=>jsxRuntimeExports.jsxs("div",{className:styles$1.page,children:[jsxRuntimeExports.jsx("div",{className:styles$1.imageWrapper,children:jsxRuntimeExports.jsx(Img,{src:pe,className:styles$1.pageImage})}),ge>0&&jsxRuntimeExports.jsx("div",{className:styles$1.pageNumber,children:ge})]},ge))})}),jsxRuntimeExports.jsxs("div",{className:styles$1.controls,children:[jsxRuntimeExports.jsx("button",{className:styles$1.navBtn,onClick:H,disabled:b===0,children:jsxRuntimeExports.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("polyline",{points:"15 18 9 12 15 6"})})}),jsxRuntimeExports.jsx("span",{className:styles$1.pageIndicator,children:b===0?"":`${b} / ${$-1}`}),jsxRuntimeExports.jsx("button",{className:styles$1.navBtn,onClick:G,disabled:b>=$-1,children:jsxRuntimeExports.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}const router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[{path:"/",element:jsxRuntimeExports.jsx(Main,{})},{path:"/exhibitions",element:jsxRuntimeExports.jsx(Exhibitions,{})},{path:"/galleries",element:jsxRuntimeExports.jsx(Galleries,{})},{path:"/artists",element:jsxRuntimeExports.jsx(Artists,{})},{path:"/artworks",element:jsxRuntimeExports.jsx(ArtworkList,{})},{path:"/search",element:jsxRuntimeExports.jsx(Search,{})},{path:"/notices",element:jsxRuntimeExports.jsx(News,{})},{path:"/exhibitions/:exhibitionId",element:jsxRuntimeExports.jsx(ExhibitionDetail,{})},{path:"/galleries/:galleryId",element:jsxRuntimeExports.jsx(GalleryDetail,{})},{path:"/artists/:artistId",element:jsxRuntimeExports.jsx(ArtistDetail,{})},{path:"/notices/:noticeId",element:jsxRuntimeExports.jsx(NewsDetail,{})},{path:"/artworks/:artworkId",element:jsxRuntimeExports.jsx(ArtworkDetail,{})},{path:"/art/:artId",element:jsxRuntimeExports.jsx(Artwork,{})},{path:"/catalog/:catalogId",element:jsxRuntimeExports.jsx(Catalog,{})},{path:"/nearby-galleries",element:jsxRuntimeExports.jsx(Nearby,{})},{path:"/login",element:jsxRuntimeExports.jsx(Login,{})},{path:"/login-detail",element:jsxRuntimeExports.jsx(LoginDetail,{})},{path:"/register",element:jsxRuntimeExports.jsx(Register,{})},{path:"/find",element:jsxRuntimeExports.jsx(Find,{})},{path:"/announcement",element:jsxRuntimeExports.jsx(Announcement,{})},{path:"/termspolicy",element:jsxRuntimeExports.jsx(TermsPolicy,{})},{path:"/reservation/:exhibitionId",element:jsxRuntimeExports.jsx(Reservation,{})},{path:"/reservationconfirm/:reservationId",element:jsxRuntimeExports.jsx(ReservationConfirm,{})},{element:jsxRuntimeExports.jsx(AuthRoute,{}),children:[{path:"/notifications",element:jsxRuntimeExports.jsx(Notification$1,{})},{path:"/mypage",element:jsxRuntimeExports.jsx(MyPage,{})},{path:"/mypage/edit",element:jsxRuntimeExports.jsx(EditProfile,{})},{path:"/purchase/:reservationId",element:jsxRuntimeExports.jsx(Purchase,{})}]},{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}]},{path:"/console",element:jsxRuntimeExports.jsx(LayoutConsole,{}),children:[{path:"/console/notification",element:jsxRuntimeExports.jsx(ConsoleNotification,{})},{path:"/console/main",element:jsxRuntimeExports.jsx(ConsoleMain,{})},{path:"/console/galleries",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/exhibitions",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/artworks",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/detail",element:jsxRuntimeExports.jsx(ConsoleDetail,{})},{path:"/console/exhibitions/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"exhibitions"})},{path:"/console/galleries/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"galleries"})},{path:"/console/artworks/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:jsxRuntimeExports.jsx(DocentGenerator,{})},{path:"/console/galleries/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"galleries"})},{path:"/console/exhibitions/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"exhibitions"})},{path:"/console/poster",element:jsxRuntimeExports.jsx(Poster,{})}]},{path:"/scan/:id?",element:jsxRuntimeExports.jsx(QrScanner,{})},{path:"/view/leaflet/:category/:id",element:jsxRuntimeExports.jsx(LeafletViewer,{})}]);function useToast(t,n){const r=reactExports$1.useRef(null),[s,o]=reactExports$1.useState(!1),l=reactExports$1.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{o(!0)},n)},[n]),c=reactExports$1.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=null},[]),p=reactExports$1.useCallback(()=>{t()},[t]);return{start:l,clear:c,done:p,isExiting:s}}const toastContainer="_toastContainer_wle1e_1",toast="_toast_wle1e_1",exiting="_exiting_wle1e_45",title="_title_wle1e_53",message="_message_wle1e_65",styles={toastContainer,toast,exiting,title,message};function Toast({id:t,title:n,message:r,duration:s,removeToast:o}){const{start:l,clear:c,done:p,isExiting:m}=useToast(()=>{o(t)},s),x=()=>c(),b=()=>l();reactExports$1.useEffect(()=>{l()},[l]);const _=`${styles.toast} ${m?styles.exiting:""}`,R=()=>{m&&p()};return jsxRuntimeExports.jsxs("div",{className:_,onMouseEnter:x,onMouseLeave:b,onAnimationEnd:R,children:[jsxRuntimeExports.jsx("div",{className:styles.title,children:n}),r&&jsxRuntimeExports.jsx("div",{className:styles.message,children:r})]})}const ToastContext=reactExports$1.createContext();function ToastProvider({children:t}){const[n,r]=reactExports$1.useState(null),s=reactExports$1.useCallback((l,c=1e3)=>{let p,m;typeof l=="string"?(p=l,m=null):(p=l.title,m=l.message);const x=Date.now();r({id:x,title:p,message:m,duration:c})},[]),o=reactExports$1.useCallback(l=>{r(c=>c&&c.id===l?null:c)},[]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:{addToast:s},children:[t,jsxRuntimeExports.jsx("div",{className:styles.toastContainer,children:n&&jsxRuntimeExports.jsx(Toast,{id:n.id,title:n.title,message:n.message,duration:n.duration,removeToast:o},n.id)})]})}function FallbackUI(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:""})})}function App(){return jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{children:" ."}),children:jsxRuntimeExports.jsx(reactExports$1.Suspense,{fallback:jsxRuntimeExports.jsx(FallbackUI,{}),children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsx(RouterProvider2,{router})})})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AlertProvider,{children:jsxRuntimeExports.jsx(ConfirmProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
