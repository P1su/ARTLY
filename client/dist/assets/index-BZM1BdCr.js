function o8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zm={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function l8(){if(ev)return mf;ev=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var f in i)f!=="key"&&(s[f]=i[f])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return mf.Fragment=e,mf.jsx=n,mf.jsxs=n,mf}var tv;function c8(){return tv||(tv=1,zm.exports=l8()),zm.exports}var E=c8(),Fm={exports:{}},gf={},Um={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function u8(){return nv||(nv=1,function(t){function e(G,ie){var Te=G.length;G.push(ie);e:for(;0<Te;){var Be=Te-1>>>1,Z=G[Be];if(0<i(Z,ie))G[Be]=ie,G[Te]=Z,Te=Be;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],Te=G.pop();if(Te!==ie){G[0]=Te;e:for(var Be=0,Z=G.length,ve=Z>>>1;Be<ve;){var Re=2*(Be+1)-1,ke=G[Re],He=Re+1,Ct=G[He];if(0>i(ke,Te))He<Z&&0>i(Ct,ke)?(G[Be]=Ct,G[He]=Te,Be=He):(G[Be]=ke,G[Re]=Te,Be=Re);else if(He<Z&&0>i(Ct,Te))G[Be]=Ct,G[He]=Te,Be=He;else break e}}return ie}function i(G,ie){var Te=G.sortIndex-ie.sortIndex;return Te!==0?Te:G.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],b=1,v=null,_=3,N=!1,A=!1,R=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=G)r(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(m)}}function X(G){if(R=!1,W(G),!A)if(n(p)!==null)A=!0,V||(V=!0,ge());else{var ie=n(m);ie!==null&&re(X,ie.startTime-G)}}var V=!1,Y=-1,se=5,K=-1;function be(){return I?!0:!(t.unstable_now()-K<se)}function _e(){if(I=!1,V){var G=t.unstable_now();K=G;var ie=!0;try{e:{A=!1,R&&(R=!1,U(Y),Y=-1),N=!0;var Te=_;try{t:{for(W(G),v=n(p);v!==null&&!(v.expirationTime>G&&be());){var Be=v.callback;if(typeof Be=="function"){v.callback=null,_=v.priorityLevel;var Z=Be(v.expirationTime<=G);if(G=t.unstable_now(),typeof Z=="function"){v.callback=Z,W(G),ie=!0;break t}v===n(p)&&r(p),W(G)}else r(p);v=n(p)}if(v!==null)ie=!0;else{var ve=n(m);ve!==null&&re(X,ve.startTime-G),ie=!1}}break e}finally{v=null,_=Te,N=!1}ie=void 0}}finally{ie?ge():V=!1}}}var ge;if(typeof j=="function")ge=function(){j(_e)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ue=je.port2;je.port1.onmessage=_e,ge=function(){Ue.postMessage(null)}}else ge=function(){k(_e,0)};function re(G,ie){Y=k(function(){G(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var Te=_;_=ie;try{return G()}finally{_=Te}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Te=_;_=G;try{return ie()}finally{_=Te}},t.unstable_scheduleCallback=function(G,ie,Te){var Be=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Be+Te:Be):Te=Be,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Te+Z,G={id:b++,callback:ie,priorityLevel:G,startTime:Te,expirationTime:Z,sortIndex:-1},Te>Be?(G.sortIndex=Te,e(m,G),n(p)===null&&G===n(m)&&(R?(U(Y),Y=-1):R=!0,re(X,Te-Be))):(G.sortIndex=Z,e(p,G),A||N||(A=!0,V||(V=!0,ge()))),G},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(G){var ie=_;return function(){var Te=_;_=ie;try{return G.apply(this,arguments)}finally{_=Te}}}}(Hm)),Hm}var rv;function f8(){return rv||(rv=1,Um.exports=u8()),Um.exports}var Vm={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function d8(){if(iv)return St;iv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function _(Z){return Z===null||typeof Z!="object"?null:(Z=v&&Z[v]||Z["@@iterator"],typeof Z=="function"?Z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function I(Z,ve,Re){this.props=Z,this.context=ve,this.refs=R,this.updater=Re||N}I.prototype.isReactComponent={},I.prototype.setState=function(Z,ve){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ve,"setState")},I.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function k(){}k.prototype=I.prototype;function U(Z,ve,Re){this.props=Z,this.context=ve,this.refs=R,this.updater=Re||N}var j=U.prototype=new k;j.constructor=U,A(j,I.prototype),j.isPureReactComponent=!0;var W=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function Y(Z,ve,Re,ke,He,Ct){return Re=Ct.ref,{$$typeof:t,type:Z,key:ve,ref:Re!==void 0?Re:null,props:Ct}}function se(Z,ve){return Y(Z.type,ve,void 0,void 0,void 0,Z.props)}function K(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function be(Z){var ve={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Re){return ve[Re]})}var _e=/\/+/g;function ge(Z,ve){return typeof Z=="object"&&Z!==null&&Z.key!=null?be(""+Z.key):ve.toString(36)}function je(){}function Ue(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(je,je):(Z.status="pending",Z.then(function(ve){Z.status==="pending"&&(Z.status="fulfilled",Z.value=ve)},function(ve){Z.status==="pending"&&(Z.status="rejected",Z.reason=ve)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function re(Z,ve,Re,ke,He){var Ct=typeof Z;(Ct==="undefined"||Ct==="boolean")&&(Z=null);var Oe=!1;if(Z===null)Oe=!0;else switch(Ct){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(Z.$$typeof){case t:case e:Oe=!0;break;case b:return Oe=Z._init,re(Oe(Z._payload),ve,Re,ke,He)}}if(Oe)return He=He(Z),Oe=ke===""?"."+ge(Z,0):ke,W(He)?(Re="",Oe!=null&&(Re=Oe.replace(_e,"$&/")+"/"),re(He,ve,Re,"",function(Ur){return Ur})):He!=null&&(K(He)&&(He=se(He,Re+(He.key==null||Z&&Z.key===He.key?"":(""+He.key).replace(_e,"$&/")+"/")+Oe)),ve.push(He)),1;Oe=0;var fr=ke===""?".":ke+":";if(W(Z))for(var mt=0;mt<Z.length;mt++)ke=Z[mt],Ct=fr+ge(ke,mt),Oe+=re(ke,ve,Re,Ct,He);else if(mt=_(Z),typeof mt=="function")for(Z=mt.call(Z),mt=0;!(ke=Z.next()).done;)ke=ke.value,Ct=fr+ge(ke,mt++),Oe+=re(ke,ve,Re,Ct,He);else if(Ct==="object"){if(typeof Z.then=="function")return re(Ue(Z),ve,Re,ke,He);throw ve=String(Z),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function G(Z,ve,Re){if(Z==null)return Z;var ke=[],He=0;return re(Z,ke,"","",function(Ct){return ve.call(Re,Ct,He++)}),ke}function ie(Z){if(Z._status===-1){var ve=Z._result;ve=ve(),ve.then(function(Re){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Re)},function(Re){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Re)}),Z._status===-1&&(Z._status=0,Z._result=ve)}if(Z._status===1)return Z._result.default;throw Z._result}var Te=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Be(){}return St.Children={map:G,forEach:function(Z,ve,Re){G(Z,function(){ve.apply(this,arguments)},Re)},count:function(Z){var ve=0;return G(Z,function(){ve++}),ve},toArray:function(Z){return G(Z,function(ve){return ve})||[]},only:function(Z){if(!K(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},St.Component=I,St.Fragment=n,St.Profiler=i,St.PureComponent=U,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,St.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return X.H.useMemoCache(Z)}},St.cache=function(Z){return function(){return Z.apply(null,arguments)}},St.cloneElement=function(Z,ve,Re){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ke=A({},Z.props),He=Z.key,Ct=void 0;if(ve!=null)for(Oe in ve.ref!==void 0&&(Ct=void 0),ve.key!==void 0&&(He=""+ve.key),ve)!V.call(ve,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ve.ref===void 0||(ke[Oe]=ve[Oe]);var Oe=arguments.length-2;if(Oe===1)ke.children=Re;else if(1<Oe){for(var fr=Array(Oe),mt=0;mt<Oe;mt++)fr[mt]=arguments[mt+2];ke.children=fr}return Y(Z.type,He,void 0,void 0,Ct,ke)},St.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},St.createElement=function(Z,ve,Re){var ke,He={},Ct=null;if(ve!=null)for(ke in ve.key!==void 0&&(Ct=""+ve.key),ve)V.call(ve,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(He[ke]=ve[ke]);var Oe=arguments.length-2;if(Oe===1)He.children=Re;else if(1<Oe){for(var fr=Array(Oe),mt=0;mt<Oe;mt++)fr[mt]=arguments[mt+2];He.children=fr}if(Z&&Z.defaultProps)for(ke in Oe=Z.defaultProps,Oe)He[ke]===void 0&&(He[ke]=Oe[ke]);return Y(Z,Ct,void 0,void 0,null,He)},St.createRef=function(){return{current:null}},St.forwardRef=function(Z){return{$$typeof:f,render:Z}},St.isValidElement=K,St.lazy=function(Z){return{$$typeof:b,_payload:{_status:-1,_result:Z},_init:ie}},St.memo=function(Z,ve){return{$$typeof:m,type:Z,compare:ve===void 0?null:ve}},St.startTransition=function(Z){var ve=X.T,Re={};X.T=Re;try{var ke=Z(),He=X.S;He!==null&&He(Re,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(Be,Te)}catch(Ct){Te(Ct)}finally{X.T=ve}},St.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},St.use=function(Z){return X.H.use(Z)},St.useActionState=function(Z,ve,Re){return X.H.useActionState(Z,ve,Re)},St.useCallback=function(Z,ve){return X.H.useCallback(Z,ve)},St.useContext=function(Z){return X.H.useContext(Z)},St.useDebugValue=function(){},St.useDeferredValue=function(Z,ve){return X.H.useDeferredValue(Z,ve)},St.useEffect=function(Z,ve,Re){var ke=X.H;if(typeof Re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ke.useEffect(Z,ve)},St.useId=function(){return X.H.useId()},St.useImperativeHandle=function(Z,ve,Re){return X.H.useImperativeHandle(Z,ve,Re)},St.useInsertionEffect=function(Z,ve){return X.H.useInsertionEffect(Z,ve)},St.useLayoutEffect=function(Z,ve){return X.H.useLayoutEffect(Z,ve)},St.useMemo=function(Z,ve){return X.H.useMemo(Z,ve)},St.useOptimistic=function(Z,ve){return X.H.useOptimistic(Z,ve)},St.useReducer=function(Z,ve,Re){return X.H.useReducer(Z,ve,Re)},St.useRef=function(Z){return X.H.useRef(Z)},St.useState=function(Z){return X.H.useState(Z)},St.useSyncExternalStore=function(Z,ve,Re){return X.H.useSyncExternalStore(Z,ve,Re)},St.useTransition=function(){return X.H.useTransition()},St.version="19.1.0",St}var sv;function ec(){return sv||(sv=1,Vm.exports=d8()),Vm.exports}var Gm={exports:{}},Wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function h8(){if(av)return Wr;av=1;var t=ec();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(p,m,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:p,containerInfo:m,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wr.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(p,m,null,b)},Wr.flushSync=function(p){var m=c.T,b=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=b,r.d.f()}},Wr.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Wr.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wr.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,v=f(b,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:N}):b==="script"&&r.d.X(p,{crossOrigin:v,integrity:_,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wr.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Wr.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,v=f(b,m.crossOrigin);r.d.L(p,b,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wr.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Wr.requestFormReset=function(p){r.d.r(p)},Wr.unstable_batchedUpdates=function(p,m){return p(m)},Wr.useFormState=function(p,m,b){return c.H.useFormState(p,m,b)},Wr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wr.version="19.1.0",Wr}var ov;function vE(){if(ov)return Gm.exports;ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=h8(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function p8(){if(lv)return gf;lv=1;var t=f8(),e=ec(),n=vE();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function p(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var h=a,y=l;;){var S=h.return;if(S===null)break;var O=S.alternate;if(O===null){if(y=S.return,y!==null){h=y;continue}break}if(S.child===O.child){for(O=S.child;O;){if(O===h)return f(S),a;if(O===y)return f(S),l;O=O.sibling}throw Error(r(188))}if(h.return!==y.return)h=S,y=O;else{for(var B=!1,H=S.child;H;){if(H===h){B=!0,h=S,y=O;break}if(H===y){B=!0,y=S,h=O;break}H=H.sibling}if(!B){for(H=O.child;H;){if(H===h){B=!0,h=O,y=S;break}if(H===y){B=!0,y=O,h=S;break}H=H.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function ge(a){return a===null||typeof a!="object"?null:(a=_e&&a[_e]||a["@@iterator"],typeof a=="function"?a:null)}var je=Symbol.for("react.client.reference");function Ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===je?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case X:return"Suspense";case V:return"SuspenseList";case K:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case j:return(a.displayName||"Context")+".Provider";case U:return(a._context.displayName||"Context")+".Consumer";case W:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Y:return l=a.displayName||null,l!==null?l:Ue(a.type)||"Memo";case se:l=a._payload,a=a._init;try{return Ue(a(l))}catch{}}return null}var re=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Be=[],Z=-1;function ve(a){return{current:a}}function Re(a){0>Z||(a.current=Be[Z],Be[Z]=null,Z--)}function ke(a,l){Z++,Be[Z]=a.current,a.current=l}var He=ve(null),Ct=ve(null),Oe=ve(null),fr=ve(null);function mt(a,l){switch(ke(Oe,l),ke(Ct,a),ke(He,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Nw(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Nw(l),a=Ow(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Re(He),ke(He,a)}function Ur(){Re(He),Re(Ct),Re(Oe)}function Nn(a){a.memoizedState!==null&&ke(fr,a);var l=He.current,h=Ow(l,a.type);l!==h&&(ke(Ct,a),ke(He,h))}function vn(a){Ct.current===a&&(Re(He),Re(Ct)),fr.current===a&&(Re(fr),uf._currentValue=Te)}var ms=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,vr=t.unstable_cancelCallback,hi=t.unstable_shouldYield,fa=t.unstable_requestPaint,Xt=t.unstable_now,Zt=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,da=t.unstable_UserBlockingPriority,$e=t.unstable_NormalPriority,pi=t.unstable_LowPriority,gs=t.unstable_IdlePriority,mi=t.log,ha=t.unstable_setDisableYieldValue,Cn=null,En=null;function ir(a){if(typeof mi=="function"&&ha(a),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(Cn,a)}catch{}}var Gt=Math.clz32?Math.clz32:ac,sc=Math.log,ei=Math.LN2;function ac(a){return a>>>=0,a===0?32:31-(sc(a)/ei|0)|0}var un=256,Fe=4194304;function tn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ht(a,l,h){var y=a.pendingLanes;if(y===0)return 0;var S=0,O=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var H=y&134217727;return H!==0?(y=H&~O,y!==0?S=tn(y):(B&=H,B!==0?S=tn(B):h||(h=H&~a,h!==0&&(S=tn(h))))):(H=y&~O,H!==0?S=tn(H):B!==0?S=tn(B):h||(h=y&~a,h!==0&&(S=tn(h)))),S===0?0:l!==0&&l!==S&&(l&O)===0&&(O=S&-S,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:S}function $t(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ks(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var a=un;return un<<=1,(un&4194048)===0&&(un=256),a}function rl(){var a=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),a}function Dt(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function ti(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function il(a,l,h,y,S,O){var B=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var H=a.entanglements,Q=a.expirationTimes,fe=a.hiddenUpdates;for(h=B&~h;0<h;){var Ce=31-Gt(h),Ne=1<<Ce;H[Ce]=0,Q[Ce]=-1;var he=fe[Ce];if(he!==null)for(fe[Ce]=null,Ce=0;Ce<he.length;Ce++){var me=he[Ce];me!==null&&(me.lane&=-536870913)}h&=~Ne}y!==0&&Ls(a,y,0),O!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=O&~(B&~l))}function Ls(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var y=31-Gt(l);a.entangledLanes|=l,a.entanglements[y]=a.entanglements[y]|1073741824|h&4194090}function dr(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var y=31-Gt(h),S=1<<y;S&l|a[y]&l&&(a[y]|=l),h&=~S}}function pa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Hn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ee(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:Xw(a.type))}function oe(a,l){var h=ie.p;try{return ie.p=a,l()}finally{ie.p=h}}var de=Math.random().toString(36).slice(2),Ae="__reactFiber$"+de,Le="__reactProps$"+de,Xe="__reactContainer$"+de,Ye="__reactEvents$"+de,Ve="__reactListeners$"+de,qe="__reactHandles$"+de,we="__reactResources$"+de,st="__reactMarker$"+de;function Je(a){delete a[Ae],delete a[Le],delete a[Ye],delete a[Ve],delete a[qe]}function Qe(a){var l=a[Ae];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Xe]||h[Ae]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=Dw(a);a!==null;){if(h=a[Ae])return h;a=Dw(a)}return l}a=h,h=a.parentNode}return null}function _t(a){if(a=a[Ae]||a[Xe]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Qt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function fn(a){var l=a[we];return l||(l=a[we]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bt(a){a[st]=!0}var Pt=new Set,Ps={};function Sn(a,l){dn(a,l),dn(a+"Capture",l)}function dn(a,l){for(Ps[a]=l,a=0;a<l.length;a++)Pt.add(l[a])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Dr={};function ma(a){return ms.call(Dr,a)?!0:ms.call(xs,a)?!1:Ot.test(a)?Dr[a]=!0:(xs[a]=!0,!1)}function Ee(a,l,h){if(ma(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function ys(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function et(a,l,h,y){if(y===null)a.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+y)}}var Pn,Ni;function wt(a){if(Pn===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Pn=l&&l[1]||"",Ni=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+a+Ni}var Mt=!1;function tt(a,l){if(!a||Mt)return"";Mt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(me){var he=me}Reflect.construct(a,[],Ne)}else{try{Ne.call()}catch(me){he=me}a.call(Ne.prototype)}}else{try{throw Error()}catch(me){he=me}(Ne=a())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=y.DetermineComponentFrameRoot(),B=O[0],H=O[1];if(B&&H){var Q=B.split(`
`),fe=H.split(`
`);for(S=y=0;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;for(;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;if(y===Q.length||S===fe.length)for(y=Q.length-1,S=fe.length-1;1<=y&&0<=S&&Q[y]!==fe[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Q[y]!==fe[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Q[y]!==fe[S]){var Ce=`
`+Q[y].replace(" at new "," at ");return a.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",a.displayName)),Ce}while(1<=y&&0<=S);break}}}finally{Mt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?wt(h):""}function qi(a){switch(a.tag){case 26:case 27:case 5:return wt(a.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return wt("Activity");default:return""}}function ga(a){try{var l="";do l+=qi(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Cr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Vn(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function js(a){var l=Vn(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,O=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return S.call(this)},set:function(B){y=""+B,O.call(this,B)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(B){y=""+B},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function oc(a){a._valueTracker||(a._valueTracker=js(a))}function Dn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),y="";return a&&(y=Vn(a)?a.checked?"true":"false":a.value),a=y,a!==h?(l.setValue(a),!0):!1}function Oi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $0=/[\n"\\]/g;function hr(a){return a.replace($0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Jt(a,l,h,y,S,O,B,H){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),l!=null?B==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Cr(l)):a.value!==""+Cr(l)&&(a.value=""+Cr(l)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),l!=null?ce(a,B,Cr(l)):h!=null?ce(a,B,Cr(h)):y!=null&&a.removeAttribute("value"),S==null&&O!=null&&(a.defaultChecked=!!O),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Cr(H):a.removeAttribute("name")}function pr(a,l,h,y,S,O,B,H){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null))return;h=h!=null?""+Cr(h):"",l=l!=null?""+Cr(l):h,H||l===a.value||(a.value=l),a.defaultValue=l}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=H?a.checked:!!y,a.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B)}function ce(a,l,h){l==="number"&&Oi(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function $(a,l,h,y){if(a=a.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<a.length;h++)S=l.hasOwnProperty("$"+a[h].value),a[h].selected!==S&&(a[h].selected=S),S&&y&&(a[h].defaultSelected=!0)}else{for(h=""+Cr(h),l=null,S=0;S<a.length;S++){if(a[S].value===h){a[S].selected=!0,y&&(a[S].defaultSelected=!0);return}l!==null||a[S].disabled||(l=a[S])}l!==null&&(l.selected=!0)}}function nt(a,l,h){if(l!=null&&(l=""+Cr(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Cr(h):""}function Kn(a,l,h,y){if(l==null){if(y!=null){if(h!=null)throw Error(r(92));if(re(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),l=h}h=Cr(l),a.defaultValue=h,y=a.textContent,y===h&&y!==""&&y!==null&&(a.value=y)}function mr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(a,l,h){var y=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":y?a.setProperty(l,h):typeof h!="number"||h===0||q0.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function ni(a,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var S in l)y=l[S],l.hasOwnProperty(S)&&h[S]!==y&&lc(a,S,y)}else for(var O in l)l.hasOwnProperty(O)&&lc(a,O,l[O])}function rt(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var On=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cc(a){return wd.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var sl=null;function Qa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zs=null,Ja=null;function Zn(a){var l=_t(a);if(l&&(a=l.stateNode)){var h=a[Le]||null;e:switch(a=l.stateNode,l.type){case"input":if(Jt(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hr(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var y=h[l];if(y!==a&&y.form===a.form){var S=y[Le]||null;if(!S)throw Error(r(90));Jt(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<h.length;l++)y=h[l],y.form===a.form&&Dn(y)}break e;case"textarea":nt(a,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&$(a,!!h.multiple,l,!1)}}}var xa=!1;function bs(a,l,h){if(xa)return a(l,h);xa=!0;try{var y=a(l);return y}finally{if(xa=!1,(zs!==null||Ja!==null)&&(sh(),zs&&(l=zs,a=Ja,Ja=zs=null,Zn(l),a)))for(l=0;l<a.length;l++)Zn(a[l])}}function at(a,l){var h=a.stateNode;if(h===null)return null;var y=h[Le]||null;if(y===null)return null;h=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xt=!1;if(ws)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){xt=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{xt=!1}var Fs=null,al=null,ol=null;function Us(){if(ol)return ol;var a,l=al,h=l.length,y,S="value"in Fs?Fs.value:Fs.textContent,O=S.length;for(a=0;a<h&&l[a]===S[a];a++);var B=h-a;for(y=1;y<=B&&l[h-y]===S[O-y];y++);return ol=S.slice(a,1<y?1-y:void 0)}function uc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Hs(){return!0}function eo(){return!1}function sr(a){function l(h,y,S,O,B){this._reactName=h,this._targetInst=S,this.type=y,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(h=a[H],this[H]=h?h(O):O[H]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Hs:eo,this.isPropagationStopped=eo,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),l}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=sr(Vs),vs=b({},Vs,{view:0,detail:0}),Hr=sr(vs),fc,dc,to,hc=b({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==to&&(to&&a.type==="mousemove"?(fc=a.screenX-to.screenX,dc=a.screenY-to.screenY):dc=fc=0,to=a),fc)},movementY:function(a){return"movementY"in a?a.movementY:dc}}),vd=sr(hc),W0=b({},hc,{dataTransfer:0}),en=sr(W0),Cd=b({},vs,{relatedTarget:0}),no=sr(Cd),$s=b({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=sr($s),xe=b({},Vs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Et=sr(xe),gr=b({},Vs,{data:0}),ll=sr(gr),Ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=K0[a])?!!l[a]:!1}function cl(){return Z0}var Qn=b({},vs,{key:function(a){if(a.key){var l=Ed[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=uc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(a){return a.type==="keypress"?uc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?uc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_u=sr(Qn),kn=b({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=sr(kn),ya=b({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),nn=sr(ya),ct=b({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=sr(ct),gn=b({},hc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=sr(gn),ro=b({},Vs,{newState:0,oldState:0}),J0=sr(ro),Wi=[9,13,27,32],fl=ws&&"CompositionEvent"in window,io=null;ws&&"documentMode"in document&&(io=document.documentMode);var Tu=ws&&"TextEvent"in window&&!io,Au=ws&&(!fl||io&&8<io&&11>=io),Nu=" ",Sd=!1;function wa(a,l){switch(a){case"keyup":return Wi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var so=!1;function dl(a,l){switch(a){case"compositionend":return pc(l);case"keypress":return l.which!==32?null:(Sd=!0,Nu);case"textInput":return a=l.data,a===Nu&&Sd?null:a;default:return null}}function ep(a,l){if(so)return a==="compositionend"||!fl&&wa(a,l)?(a=Us(),ol=al=Fs=null,so=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Au&&l.locale!=="ko"?null:l.data;default:return null}}var qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!qs[a.type]:l==="textarea"}function ri(a,l,h,y){zs?Ja?Ja.push(y):Ja=[y]:zs=y,l=fh(l,"onChange"),0<l.length&&(h=new Gs("onChange","change",null,h,y),a.push({event:h,listeners:l}))}var ao=null,Vr=null;function tp(a){Ew(a,0)}function oo(a){var l=Qt(a);if(Dn(l))return a}function _d(a,l){if(a==="change")return l}var Ou=!1;if(ws){var gi;if(ws){var Mu="oninput"in document;if(!Mu){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),Mu=typeof mc.oninput=="function"}gi=Mu}else gi=!1;Ou=gi&&(!document.documentMode||9<document.documentMode)}function lo(){ao&&(ao.detachEvent("onpropertychange",Ut),Vr=ao=null)}function Ut(a){if(a.propertyName==="value"&&oo(Vr)){var l=[];ri(l,Vr,a,Qa(a)),bs(tp,l)}}function gc(a,l,h){a==="focusin"?(lo(),ao=l,Vr=h,ao.attachEvent("onpropertychange",Ut)):a==="focusout"&&lo()}function L(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return oo(Vr)}function o(a,l){if(a==="click")return oo(l)}function u(a,l){if(a==="input"||a==="change")return oo(l)}function d(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var g=typeof Object.is=="function"?Object.is:d;function x(a,l){if(g(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),y=Object.keys(l);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var S=h[y];if(!ms.call(l,S)||!g(a[S],l[S]))return!1}return!0}function w(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function C(a,l){var h=w(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=l&&y>=l)return{node:h,offset:l-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=w(h)}}function T(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?T(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function M(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Oi(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Oi(a.document)}return l}function D(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var P=ws&&"documentMode"in document&&11>=document.documentMode,z=null,q=null,J=null,te=!1;function le(a,l,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;te||z==null||z!==Oi(y)||(y=z,"selectionStart"in y&&D(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),J&&x(J,y)||(J=y,y=fh(q,"onSelect"),0<y.length&&(l=new Gs("onSelect","select",null,l,h),a.push({event:l,listeners:y}),l.target=z)))}function pe(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var De={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},Pe={},Me={};ws&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete De.animationend.animation,delete De.animationiteration.animation,delete De.animationstart.animation),"TransitionEvent"in window||delete De.transitionend.transition);function yt(a){if(Pe[a])return Pe[a];if(!De[a])return a;var l=De[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Me)return Pe[a]=l[h];return a}var gt=yt("animationend"),kr=yt("animationiteration"),xi=yt("animationstart"),Gr=yt("transitionrun"),rn=yt("transitionstart"),xr=yt("transitioncancel"),$r=yt("transitionend"),va=new Map,Ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ws.push("scrollEnd");function Mi(a,l){va.set(a,l),Sn(l,[a])}var Td=new WeakMap;function Xi(a,l){if(typeof a=="object"&&a!==null){var h=Td.get(a);return h!==void 0?h:(l={value:a,source:l,stack:ga(l)},Td.set(a,l),l)}return{value:a,source:l,stack:ga(l)}}var Yi=[],xc=0,np=0;function Ad(){for(var a=xc,l=np=xc=0;l<a;){var h=Yi[l];Yi[l++]=null;var y=Yi[l];Yi[l++]=null;var S=Yi[l];Yi[l++]=null;var O=Yi[l];if(Yi[l++]=null,y!==null&&S!==null){var B=y.pending;B===null?S.next=S:(S.next=B.next,B.next=S),y.pending=S}O!==0&&oy(h,S,O)}}function Nd(a,l,h,y){Yi[xc++]=a,Yi[xc++]=l,Yi[xc++]=h,Yi[xc++]=y,np|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function rp(a,l,h,y){return Nd(a,l,h,y),Od(a)}function yc(a,l){return Nd(a,null,null,l),Od(a)}function oy(a,l,h){a.lanes|=h;var y=a.alternate;y!==null&&(y.lanes|=h);for(var S=!1,O=a.return;O!==null;)O.childLanes|=h,y=O.alternate,y!==null&&(y.childLanes|=h),O.tag===22&&(a=O.stateNode,a===null||a._visibility&1||(S=!0)),a=O,O=O.return;return a.tag===3?(O=a.stateNode,S&&l!==null&&(S=31-Gt(h),a=O.hiddenUpdates,y=a[S],y===null?a[S]=[l]:y.push(l),l.lane=h|536870912),O):null}function Od(a){if(50<tf)throw tf=0,cm=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var bc={};function qT(a,l,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(a,l,h,y){return new qT(a,l,h,y)}function ip(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ca(a,l){var h=a.alternate;return h===null?(h=Ri(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function ly(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Md(a,l,h,y,S,O){var B=0;if(y=a,typeof a=="function")ip(a)&&(B=1);else if(typeof a=="string")B=XA(a,h,He.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case K:return a=Ri(31,h,l,S),a.elementType=K,a.lanes=O,a;case A:return pl(h.children,S,O,l);case R:B=8,S|=24;break;case I:return a=Ri(12,h,l,S|2),a.elementType=I,a.lanes=O,a;case X:return a=Ri(13,h,l,S),a.elementType=X,a.lanes=O,a;case V:return a=Ri(19,h,l,S),a.elementType=V,a.lanes=O,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:case j:B=10;break e;case U:B=9;break e;case W:B=11;break e;case Y:B=14;break e;case se:B=16,y=null;break e}B=29,h=Error(r(130,a===null?"null":typeof a,"")),y=null}return l=Ri(B,h,l,S),l.elementType=a,l.type=y,l.lanes=O,l}function pl(a,l,h,y){return a=Ri(7,a,y,l),a.lanes=h,a}function sp(a,l,h){return a=Ri(6,a,null,l),a.lanes=h,a}function ap(a,l,h){return l=Ri(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var wc=[],vc=0,Rd=null,Id=0,Ki=[],Zi=0,ml=null,Ea=1,Sa="";function gl(a,l){wc[vc++]=Id,wc[vc++]=Rd,Rd=a,Id=l}function cy(a,l,h){Ki[Zi++]=Ea,Ki[Zi++]=Sa,Ki[Zi++]=ml,ml=a;var y=Ea;a=Sa;var S=32-Gt(y)-1;y&=~(1<<S),h+=1;var O=32-Gt(l)+S;if(30<O){var B=S-S%5;O=(y&(1<<B)-1).toString(32),y>>=B,S-=B,Ea=1<<32-Gt(l)+S|h<<S|y,Sa=O+a}else Ea=1<<O|h<<S|y,Sa=a}function op(a){a.return!==null&&(gl(a,1),cy(a,1,0))}function lp(a){for(;a===Rd;)Rd=wc[--vc],wc[vc]=null,Id=wc[--vc],wc[vc]=null;for(;a===ml;)ml=Ki[--Zi],Ki[Zi]=null,Sa=Ki[--Zi],Ki[Zi]=null,Ea=Ki[--Zi],Ki[Zi]=null}var ii=null,Gn=null,Yt=!1,xl=null,Xs=!1,cp=Error(r(519));function yl(a){var l=Error(r(418,""));throw Du(Xi(l,a)),cp}function uy(a){var l=a.stateNode,h=a.type,y=a.memoizedProps;switch(l[Ae]=a,l[Le]=y,h){case"dialog":zt("cancel",l),zt("close",l);break;case"iframe":case"object":case"embed":zt("load",l);break;case"video":case"audio":for(h=0;h<rf.length;h++)zt(rf[h],l);break;case"source":zt("error",l);break;case"img":case"image":case"link":zt("error",l),zt("load",l);break;case"details":zt("toggle",l);break;case"input":zt("invalid",l),pr(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),oc(l);break;case"select":zt("invalid",l);break;case"textarea":zt("invalid",l),Kn(l,y.value,y.defaultValue,y.children),oc(l)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||y.suppressHydrationWarning===!0||Aw(l.textContent,h)?(y.popover!=null&&(zt("beforetoggle",l),zt("toggle",l)),y.onScroll!=null&&zt("scroll",l),y.onScrollEnd!=null&&zt("scrollend",l),y.onClick!=null&&(l.onclick=dh),l=!0):l=!1,l||yl(a)}function fy(a){for(ii=a.return;ii;)switch(ii.tag){case 5:case 13:Xs=!1;return;case 27:case 3:Xs=!0;return;default:ii=ii.return}}function Ru(a){if(a!==ii)return!1;if(!Yt)return fy(a),Yt=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||_m(a.type,a.memoizedProps)),h=!h),h&&Gn&&yl(a),fy(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){Gn=Es(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}Gn=null}}else l===27?(l=Gn,_o(a.type)?(a=Om,Om=null,Gn=a):Gn=l):Gn=ii?Es(a.stateNode.nextSibling):null;return!0}function Iu(){Gn=ii=null,Yt=!1}function dy(){var a=xl;return a!==null&&(wi===null?wi=a:wi.push.apply(wi,a),xl=null),a}function Du(a){xl===null?xl=[a]:xl.push(a)}var up=ve(null),bl=null,_a=null;function co(a,l,h){ke(up,l._currentValue),l._currentValue=h}function Ta(a){a._currentValue=up.current,Re(up)}function fp(a,l,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===h)break;a=a.return}}function dp(a,l,h,y){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var O=S.dependencies;if(O!==null){var B=S.child;O=O.firstContext;e:for(;O!==null;){var H=O;O=S;for(var Q=0;Q<l.length;Q++)if(H.context===l[Q]){O.lanes|=h,H=O.alternate,H!==null&&(H.lanes|=h),fp(O.return,h,a),y||(B=null);break e}O=H.next}}else if(S.tag===18){if(B=S.return,B===null)throw Error(r(341));B.lanes|=h,O=B.alternate,O!==null&&(O.lanes|=h),fp(B,h,a),B=null}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===a){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}}function ku(a,l,h,y){a=null;for(var S=l,O=!1;S!==null;){if(!O){if((S.flags&524288)!==0)O=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var B=S.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var H=S.type;g(S.pendingProps.value,B.value)||(a!==null?a.push(H):a=[H])}}else if(S===fr.current){if(B=S.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(uf):a=[uf])}S=S.return}a!==null&&dp(l,a,h,y),l.flags|=262144}function Dd(a){for(a=a.firstContext;a!==null;){if(!g(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function wl(a){bl=a,_a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function qr(a){return hy(bl,a)}function kd(a,l){return bl===null&&wl(a),hy(a,l)}function hy(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},_a===null){if(a===null)throw Error(r(308));_a=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else _a=_a.next=l;return h}var WT=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,y){a.push(y)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},XT=t.unstable_scheduleCallback,YT=t.unstable_NormalPriority,yr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hp(){return{controller:new WT,data:new Map,refCount:0}}function Bu(a){a.refCount--,a.refCount===0&&XT(YT,function(){a.controller.abort()})}var Lu=null,pp=0,Cc=0,Ec=null;function KT(a,l){if(Lu===null){var h=Lu=[];pp=0,Cc=gm(),Ec={status:"pending",value:void 0,then:function(y){h.push(y)}}}return pp++,l.then(py,py),l}function py(){if(--pp===0&&Lu!==null){Ec!==null&&(Ec.status="fulfilled");var a=Lu;Lu=null,Cc=0,Ec=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function ZT(a,l){var h=[],y={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return a.then(function(){y.status="fulfilled",y.value=l;for(var S=0;S<h.length;S++)(0,h[S])(l)},function(S){for(y.status="rejected",y.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),y}var my=G.S;G.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&KT(a,l),my!==null&&my(a,l)};var vl=ve(null);function mp(){var a=vl.current;return a!==null?a:_n.pooledCache}function Bd(a,l){l===null?ke(vl,vl.current):ke(vl,l.pool)}function gy(){var a=mp();return a===null?null:{parent:yr._currentValue,pool:a}}var Pu=Error(r(460)),xy=Error(r(474)),Ld=Error(r(542)),gp={then:function(){}};function yy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pd(){}function by(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(Pd,Pd),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,vy(a),a;default:if(typeof l.status=="string")l.then(Pd,Pd);else{if(a=_n,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(y){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=y}},function(y){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,vy(a),a}throw ju=l,Pu}}var ju=null;function wy(){if(ju===null)throw Error(r(459));var a=ju;return ju=null,a}function vy(a){if(a===Pu||a===Ld)throw Error(r(483))}var uo=!1;function xp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ho(a,l,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(sn&2)!==0){var S=y.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),y.pending=l,l=Od(a),oy(a,null,h),l}return Nd(a,y,l,h),Od(a)}function zu(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var y=l.lanes;y&=a.pendingLanes,h|=y,l.lanes=h,dr(a,h)}}function bp(a,l){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var S=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?S=O=B:O=O.next=B,h=h.next}while(h!==null);O===null?S=O=l:O=O.next=l}else S=O=l;h={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:O,shared:y.shared,callbacks:y.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var wp=!1;function Fu(){if(wp){var a=Ec;if(a!==null)throw a}}function Uu(a,l,h,y){wp=!1;var S=a.updateQueue;uo=!1;var O=S.firstBaseUpdate,B=S.lastBaseUpdate,H=S.shared.pending;if(H!==null){S.shared.pending=null;var Q=H,fe=Q.next;Q.next=null,B===null?O=fe:B.next=fe,B=Q;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,H=Ce.lastBaseUpdate,H!==B&&(H===null?Ce.firstBaseUpdate=fe:H.next=fe,Ce.lastBaseUpdate=Q))}if(O!==null){var Ne=S.baseState;B=0,Ce=fe=Q=null,H=O;do{var he=H.lane&-536870913,me=he!==H.lane;if(me?(Vt&he)===he:(y&he)===he){he!==0&&he===Cc&&(wp=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ht=a,ut=H;he=l;var mn=h;switch(ut.tag){case 1:if(ht=ut.payload,typeof ht=="function"){Ne=ht.call(mn,Ne,he);break e}Ne=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ut.payload,he=typeof ht=="function"?ht.call(mn,Ne,he):ht,he==null)break e;Ne=b({},Ne,he);break e;case 2:uo=!0}}he=H.callback,he!==null&&(a.flags|=64,me&&(a.flags|=8192),me=S.callbacks,me===null?S.callbacks=[he]:me.push(he))}else me={lane:he,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ce===null?(fe=Ce=me,Q=Ne):Ce=Ce.next=me,B|=he;if(H=H.next,H===null){if(H=S.shared.pending,H===null)break;me=H,H=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);Ce===null&&(Q=Ne),S.baseState=Q,S.firstBaseUpdate=fe,S.lastBaseUpdate=Ce,O===null&&(S.shared.lanes=0),vo|=B,a.lanes=B,a.memoizedState=Ne}}function Cy(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Ey(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Cy(h[a],l)}var Sc=ve(null),jd=ve(0);function Sy(a,l){a=Da,ke(jd,a),ke(Sc,l),Da=a|l.baseLanes}function vp(){ke(jd,Da),ke(Sc,Sc.current)}function Cp(){Da=jd.current,Re(Sc),Re(jd)}var po=0,Rt=null,hn=null,ar=null,zd=!1,_c=!1,Cl=!1,Fd=0,Hu=0,Tc=null,QT=0;function Jn(){throw Error(r(321))}function Ep(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!g(a[h],l[h]))return!1;return!0}function Sp(a,l,h,y,S,O){return po=O,Rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=a===null||a.memoizedState===null?ob:lb,Cl=!1,O=h(y,S),Cl=!1,_c&&(O=Ty(l,h,y,S)),_y(a),O}function _y(a){G.H=qd;var l=hn!==null&&hn.next!==null;if(po=0,ar=hn=Rt=null,zd=!1,Hu=0,Tc=null,l)throw Error(r(300));a===null||Er||(a=a.dependencies,a!==null&&Dd(a)&&(Er=!0))}function Ty(a,l,h,y){Rt=a;var S=0;do{if(_c&&(Tc=null),Hu=0,_c=!1,25<=S)throw Error(r(301));if(S+=1,ar=hn=null,a.updateQueue!=null){var O=a.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}G.H=sA,O=l(h,y)}while(_c);return O}function JT(){var a=G.H,l=a.useState()[0];return l=typeof l.then=="function"?Vu(l):l,a=a.useState()[0],(hn!==null?hn.memoizedState:null)!==a&&(Rt.flags|=1024),l}function _p(){var a=Fd!==0;return Fd=0,a}function Tp(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Ap(a){if(zd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}zd=!1}po=0,ar=hn=Rt=null,_c=!1,Hu=Fd=0,Tc=null}function yi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Rt.memoizedState=ar=a:ar=ar.next=a,ar}function or(){if(hn===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=hn.next;var l=ar===null?Rt.memoizedState:ar.next;if(l!==null)ar=l,hn=a;else{if(a===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));hn=a,a={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},ar===null?Rt.memoizedState=ar=a:ar=ar.next=a}return ar}function Np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(a){var l=Hu;return Hu+=1,Tc===null&&(Tc=[]),a=by(Tc,a,l),l=Rt,(ar===null?l.memoizedState:ar.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?ob:lb),a}function Ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vu(a);if(a.$$typeof===j)return qr(a)}throw Error(r(438,String(a)))}function Op(a){var l=null,h=Rt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var y=Rt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Np(),Rt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),y=0;y<a;y++)h[y]=be;return l.index++,h}function Aa(a,l){return typeof l=="function"?l(a):l}function Hd(a){var l=or();return Mp(l,hn,a)}function Mp(a,l,h){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var S=a.baseQueue,O=y.pending;if(O!==null){if(S!==null){var B=S.next;S.next=O.next,O.next=B}l.baseQueue=S=O,y.pending=null}if(O=a.baseState,S===null)a.memoizedState=O;else{l=S.next;var H=B=null,Q=null,fe=l,Ce=!1;do{var Ne=fe.lane&-536870913;if(Ne!==fe.lane?(Vt&Ne)===Ne:(po&Ne)===Ne){var he=fe.revertLane;if(he===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ne===Cc&&(Ce=!0);else if((po&he)===he){fe=fe.next,he===Cc&&(Ce=!0);continue}else Ne={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Q===null?(H=Q=Ne,B=O):Q=Q.next=Ne,Rt.lanes|=he,vo|=he;Ne=fe.action,Cl&&h(O,Ne),O=fe.hasEagerState?fe.eagerState:h(O,Ne)}else he={lane:Ne,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Q===null?(H=Q=he,B=O):Q=Q.next=he,Rt.lanes|=Ne,vo|=Ne;fe=fe.next}while(fe!==null&&fe!==l);if(Q===null?B=O:Q.next=H,!g(O,a.memoizedState)&&(Er=!0,Ce&&(h=Ec,h!==null)))throw h;a.memoizedState=O,a.baseState=B,a.baseQueue=Q,y.lastRenderedState=O}return S===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function Rp(a){var l=or(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var y=h.dispatch,S=h.pending,O=l.memoizedState;if(S!==null){h.pending=null;var B=S=S.next;do O=a(O,B.action),B=B.next;while(B!==S);g(O,l.memoizedState)||(Er=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,y]}function Ay(a,l,h){var y=Rt,S=or(),O=Yt;if(O){if(h===void 0)throw Error(r(407));h=h()}else h=l();var B=!g((hn||S).memoizedState,h);B&&(S.memoizedState=h,Er=!0),S=S.queue;var H=My.bind(null,y,S,a);if(Gu(2048,8,H,[a]),S.getSnapshot!==l||B||ar!==null&&ar.memoizedState.tag&1){if(y.flags|=2048,Ac(9,Vd(),Oy.bind(null,y,S,h,l),null),_n===null)throw Error(r(349));O||(po&124)!==0||Ny(y,l,h)}return h}function Ny(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Rt.updateQueue,l===null?(l=Np(),Rt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Oy(a,l,h,y){l.value=h,l.getSnapshot=y,Ry(l)&&Iy(a)}function My(a,l,h){return h(function(){Ry(l)&&Iy(a)})}function Ry(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!g(a,h)}catch{return!0}}function Iy(a){var l=yc(a,2);l!==null&&Li(l,a,2)}function Ip(a){var l=yi();if(typeof a=="function"){var h=a;if(a=h(),Cl){ir(!0);try{h()}finally{ir(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},l}function Dy(a,l,h,y){return a.baseState=h,Mp(a,hn,typeof y=="function"?y:Aa)}function eA(a,l,h,y,S){if($d(a))throw Error(r(485));if(a=l.action,a!==null){var O={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){O.listeners.push(B)}};G.T!==null?h(!0):O.isTransition=!1,y(O),h=l.pending,h===null?(O.next=l.pending=O,ky(l,O)):(O.next=h.next,l.pending=h.next=O)}}function ky(a,l){var h=l.action,y=l.payload,S=a.state;if(l.isTransition){var O=G.T,B={};G.T=B;try{var H=h(S,y),Q=G.S;Q!==null&&Q(B,H),By(a,l,H)}catch(fe){Dp(a,l,fe)}finally{G.T=O}}else try{O=h(S,y),By(a,l,O)}catch(fe){Dp(a,l,fe)}}function By(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){Ly(a,l,y)},function(y){return Dp(a,l,y)}):Ly(a,l,h)}function Ly(a,l,h){l.status="fulfilled",l.value=h,Py(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,ky(a,h)))}function Dp(a,l,h){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=h,Py(l),l=l.next;while(l!==y)}a.action=null}function Py(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function jy(a,l){return l}function zy(a,l){if(Yt){var h=_n.formState;if(h!==null){e:{var y=Rt;if(Yt){if(Gn){t:{for(var S=Gn,O=Xs;S.nodeType!==8;){if(!O){S=null;break t}if(S=Es(S.nextSibling),S===null){S=null;break t}}O=S.data,S=O==="F!"||O==="F"?S:null}if(S){Gn=Es(S.nextSibling),y=S.data==="F!";break e}}yl(y)}y=!1}y&&(l=h[0])}}return h=yi(),h.memoizedState=h.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:l},h.queue=y,h=ib.bind(null,Rt,y),y.dispatch=h,y=Ip(!1),O=jp.bind(null,Rt,!1,y.queue),y=yi(),S={state:l,dispatch:null,action:a,pending:null},y.queue=S,h=eA.bind(null,Rt,S,O,h),S.dispatch=h,y.memoizedState=a,[l,h,!1]}function Fy(a){var l=or();return Uy(l,hn,a)}function Uy(a,l,h){if(l=Mp(a,l,jy)[0],a=Hd(Aa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=Vu(l)}catch(B){throw B===Pu?Ld:B}else y=l;l=or();var S=l.queue,O=S.dispatch;return h!==l.memoizedState&&(Rt.flags|=2048,Ac(9,Vd(),tA.bind(null,S,h),null)),[y,O,a]}function tA(a,l){a.action=l}function Hy(a){var l=or(),h=hn;if(h!==null)return Uy(l,h,a);or(),l=l.memoizedState,h=or();var y=h.queue.dispatch;return h.memoizedState=a,[l,y,!1]}function Ac(a,l,h,y){return a={tag:a,create:h,deps:y,inst:l,next:null},l=Rt.updateQueue,l===null&&(l=Np(),Rt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,l.lastEffect=a),a}function Vd(){return{destroy:void 0,resource:void 0}}function Vy(){return or().memoizedState}function Gd(a,l,h,y){var S=yi();y=y===void 0?null:y,Rt.flags|=a,S.memoizedState=Ac(1|l,Vd(),h,y)}function Gu(a,l,h,y){var S=or();y=y===void 0?null:y;var O=S.memoizedState.inst;hn!==null&&y!==null&&Ep(y,hn.memoizedState.deps)?S.memoizedState=Ac(l,O,h,y):(Rt.flags|=a,S.memoizedState=Ac(1|l,O,h,y))}function Gy(a,l){Gd(8390656,8,a,l)}function $y(a,l){Gu(2048,8,a,l)}function qy(a,l){return Gu(4,2,a,l)}function Wy(a,l){return Gu(4,4,a,l)}function Xy(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Yy(a,l,h){h=h!=null?h.concat([a]):null,Gu(4,4,Xy.bind(null,l,a),h)}function kp(){}function Ky(a,l){var h=or();l=l===void 0?null:l;var y=h.memoizedState;return l!==null&&Ep(l,y[1])?y[0]:(h.memoizedState=[a,l],a)}function Zy(a,l){var h=or();l=l===void 0?null:l;var y=h.memoizedState;if(l!==null&&Ep(l,y[1]))return y[0];if(y=a(),Cl){ir(!0);try{a()}finally{ir(!1)}}return h.memoizedState=[y,l],y}function Bp(a,l,h){return h===void 0||(po&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=ew(),Rt.lanes|=a,vo|=a,h)}function Qy(a,l,h,y){return g(h,l)?h:Sc.current!==null?(a=Bp(a,h,y),g(a,l)||(Er=!0),a):(po&42)===0?(Er=!0,a.memoizedState=h):(a=ew(),Rt.lanes|=a,vo|=a,l)}function Jy(a,l,h,y,S){var O=ie.p;ie.p=O!==0&&8>O?O:8;var B=G.T,H={};G.T=H,jp(a,!1,l,h);try{var Q=S(),fe=G.S;if(fe!==null&&fe(H,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ce=ZT(Q,y);$u(a,l,Ce,Bi(a))}else $u(a,l,y,Bi(a))}catch(Ne){$u(a,l,{then:function(){},status:"rejected",reason:Ne},Bi())}finally{ie.p=O,G.T=B}}function nA(){}function Lp(a,l,h,y){if(a.tag!==5)throw Error(r(476));var S=eb(a).queue;Jy(a,S,l,Te,h===null?nA:function(){return tb(a),h(y)})}function eb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:Te},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function tb(a){var l=eb(a).next.queue;$u(a,l,{},Bi())}function Pp(){return qr(uf)}function nb(){return or().memoizedState}function rb(){return or().memoizedState}function rA(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=Bi();a=fo(h);var y=ho(l,a,h);y!==null&&(Li(y,l,h),zu(y,l,h)),l={cache:hp()},a.payload=l;return}l=l.return}}function iA(a,l,h){var y=Bi();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},$d(a)?sb(l,h):(h=rp(a,l,h,y),h!==null&&(Li(h,a,y),ab(h,l,y)))}function ib(a,l,h){var y=Bi();$u(a,l,h,y)}function $u(a,l,h,y){var S={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if($d(a))sb(l,S);else{var O=a.alternate;if(a.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var B=l.lastRenderedState,H=O(B,h);if(S.hasEagerState=!0,S.eagerState=H,g(H,B))return Nd(a,l,S,0),_n===null&&Ad(),!1}catch{}finally{}if(h=rp(a,l,S,y),h!==null)return Li(h,a,y),ab(h,l,y),!0}return!1}function jp(a,l,h,y){if(y={lane:2,revertLane:gm(),action:y,hasEagerState:!1,eagerState:null,next:null},$d(a)){if(l)throw Error(r(479))}else l=rp(a,h,y,2),l!==null&&Li(l,a,2)}function $d(a){var l=a.alternate;return a===Rt||l!==null&&l===Rt}function sb(a,l){_c=zd=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function ab(a,l,h){if((h&4194048)!==0){var y=l.lanes;y&=a.pendingLanes,h|=y,l.lanes=h,dr(a,h)}}var qd={readContext:qr,use:Ud,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},ob={readContext:qr,use:Ud,useCallback:function(a,l){return yi().memoizedState=[a,l===void 0?null:l],a},useContext:qr,useEffect:Gy,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,Gd(4194308,4,Xy.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Gd(4194308,4,a,l)},useInsertionEffect:function(a,l){Gd(4,2,a,l)},useMemo:function(a,l){var h=yi();l=l===void 0?null:l;var y=a();if(Cl){ir(!0);try{a()}finally{ir(!1)}}return h.memoizedState=[y,l],y},useReducer:function(a,l,h){var y=yi();if(h!==void 0){var S=h(l);if(Cl){ir(!0);try{h(l)}finally{ir(!1)}}}else S=l;return y.memoizedState=y.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},y.queue=a,a=a.dispatch=iA.bind(null,Rt,a),[y.memoizedState,a]},useRef:function(a){var l=yi();return a={current:a},l.memoizedState=a},useState:function(a){a=Ip(a);var l=a.queue,h=ib.bind(null,Rt,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:kp,useDeferredValue:function(a,l){var h=yi();return Bp(h,a,l)},useTransition:function(){var a=Ip(!1);return a=Jy.bind(null,Rt,a.queue,!0,!1),yi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var y=Rt,S=yi();if(Yt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),_n===null)throw Error(r(349));(Vt&124)!==0||Ny(y,l,h)}S.memoizedState=h;var O={value:h,getSnapshot:l};return S.queue=O,Gy(My.bind(null,y,O,a),[a]),y.flags|=2048,Ac(9,Vd(),Oy.bind(null,y,O,h,l),null),h},useId:function(){var a=yi(),l=_n.identifierPrefix;if(Yt){var h=Sa,y=Ea;h=(y&~(1<<32-Gt(y)-1)).toString(32)+h,l=""+l+"R"+h,h=Fd++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=QT++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:Pp,useFormState:zy,useActionState:zy,useOptimistic:function(a){var l=yi();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=jp.bind(null,Rt,!0,h),h.dispatch=l,[a,l]},useMemoCache:Op,useCacheRefresh:function(){return yi().memoizedState=rA.bind(null,Rt)}},lb={readContext:qr,use:Ud,useCallback:Ky,useContext:qr,useEffect:$y,useImperativeHandle:Yy,useInsertionEffect:qy,useLayoutEffect:Wy,useMemo:Zy,useReducer:Hd,useRef:Vy,useState:function(){return Hd(Aa)},useDebugValue:kp,useDeferredValue:function(a,l){var h=or();return Qy(h,hn.memoizedState,a,l)},useTransition:function(){var a=Hd(Aa)[0],l=or().memoizedState;return[typeof a=="boolean"?a:Vu(a),l]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:Pp,useFormState:Fy,useActionState:Fy,useOptimistic:function(a,l){var h=or();return Dy(h,hn,a,l)},useMemoCache:Op,useCacheRefresh:rb},sA={readContext:qr,use:Ud,useCallback:Ky,useContext:qr,useEffect:$y,useImperativeHandle:Yy,useInsertionEffect:qy,useLayoutEffect:Wy,useMemo:Zy,useReducer:Rp,useRef:Vy,useState:function(){return Rp(Aa)},useDebugValue:kp,useDeferredValue:function(a,l){var h=or();return hn===null?Bp(h,a,l):Qy(h,hn.memoizedState,a,l)},useTransition:function(){var a=Rp(Aa)[0],l=or().memoizedState;return[typeof a=="boolean"?a:Vu(a),l]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:Pp,useFormState:Hy,useActionState:Hy,useOptimistic:function(a,l){var h=or();return hn!==null?Dy(h,hn,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Op,useCacheRefresh:rb},Nc=null,qu=0;function Wd(a){var l=qu;return qu+=1,Nc===null&&(Nc=[]),by(Nc,a,l)}function Wu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Xd(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function cb(a){var l=a._init;return l(a._payload)}function ub(a){function l(ae,ne){if(a){var ue=ae.deletions;ue===null?(ae.deletions=[ne],ae.flags|=16):ue.push(ne)}}function h(ae,ne){if(!a)return null;for(;ne!==null;)l(ae,ne),ne=ne.sibling;return null}function y(ae){for(var ne=new Map;ae!==null;)ae.key!==null?ne.set(ae.key,ae):ne.set(ae.index,ae),ae=ae.sibling;return ne}function S(ae,ne){return ae=Ca(ae,ne),ae.index=0,ae.sibling=null,ae}function O(ae,ne,ue){return ae.index=ue,a?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<ne?(ae.flags|=67108866,ne):ue):(ae.flags|=67108866,ne)):(ae.flags|=1048576,ne)}function B(ae){return a&&ae.alternate===null&&(ae.flags|=67108866),ae}function H(ae,ne,ue,Se){return ne===null||ne.tag!==6?(ne=sp(ue,ae.mode,Se),ne.return=ae,ne):(ne=S(ne,ue),ne.return=ae,ne)}function Q(ae,ne,ue,Se){var Ke=ue.type;return Ke===A?Ce(ae,ne,ue.props.children,Se,ue.key):ne!==null&&(ne.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===se&&cb(Ke)===ne.type)?(ne=S(ne,ue.props),Wu(ne,ue),ne.return=ae,ne):(ne=Md(ue.type,ue.key,ue.props,null,ae.mode,Se),Wu(ne,ue),ne.return=ae,ne)}function fe(ae,ne,ue,Se){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=ap(ue,ae.mode,Se),ne.return=ae,ne):(ne=S(ne,ue.children||[]),ne.return=ae,ne)}function Ce(ae,ne,ue,Se,Ke){return ne===null||ne.tag!==7?(ne=pl(ue,ae.mode,Se,Ke),ne.return=ae,ne):(ne=S(ne,ue),ne.return=ae,ne)}function Ne(ae,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=sp(""+ne,ae.mode,ue),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:return ue=Md(ne.type,ne.key,ne.props,null,ae.mode,ue),Wu(ue,ne),ue.return=ae,ue;case N:return ne=ap(ne,ae.mode,ue),ne.return=ae,ne;case se:var Se=ne._init;return ne=Se(ne._payload),Ne(ae,ne,ue)}if(re(ne)||ge(ne))return ne=pl(ne,ae.mode,ue,null),ne.return=ae,ne;if(typeof ne.then=="function")return Ne(ae,Wd(ne),ue);if(ne.$$typeof===j)return Ne(ae,kd(ae,ne),ue);Xd(ae,ne)}return null}function he(ae,ne,ue,Se){var Ke=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ke!==null?null:H(ae,ne,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return ue.key===Ke?Q(ae,ne,ue,Se):null;case N:return ue.key===Ke?fe(ae,ne,ue,Se):null;case se:return Ke=ue._init,ue=Ke(ue._payload),he(ae,ne,ue,Se)}if(re(ue)||ge(ue))return Ke!==null?null:Ce(ae,ne,ue,Se,null);if(typeof ue.then=="function")return he(ae,ne,Wd(ue),Se);if(ue.$$typeof===j)return he(ae,ne,kd(ae,ue),Se);Xd(ae,ue)}return null}function me(ae,ne,ue,Se,Ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ae=ae.get(ue)||null,H(ne,ae,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case _:return ae=ae.get(Se.key===null?ue:Se.key)||null,Q(ne,ae,Se,Ke);case N:return ae=ae.get(Se.key===null?ue:Se.key)||null,fe(ne,ae,Se,Ke);case se:var kt=Se._init;return Se=kt(Se._payload),me(ae,ne,ue,Se,Ke)}if(re(Se)||ge(Se))return ae=ae.get(ue)||null,Ce(ne,ae,Se,Ke,null);if(typeof Se.then=="function")return me(ae,ne,ue,Wd(Se),Ke);if(Se.$$typeof===j)return me(ae,ne,ue,kd(ne,Se),Ke);Xd(ne,Se)}return null}function ht(ae,ne,ue,Se){for(var Ke=null,kt=null,it=ne,ft=ne=0,_r=null;it!==null&&ft<ue.length;ft++){it.index>ft?(_r=it,it=null):_r=it.sibling;var Wt=he(ae,it,ue[ft],Se);if(Wt===null){it===null&&(it=_r);break}a&&it&&Wt.alternate===null&&l(ae,it),ne=O(Wt,ne,ft),kt===null?Ke=Wt:kt.sibling=Wt,kt=Wt,it=_r}if(ft===ue.length)return h(ae,it),Yt&&gl(ae,ft),Ke;if(it===null){for(;ft<ue.length;ft++)it=Ne(ae,ue[ft],Se),it!==null&&(ne=O(it,ne,ft),kt===null?Ke=it:kt.sibling=it,kt=it);return Yt&&gl(ae,ft),Ke}for(it=y(it);ft<ue.length;ft++)_r=me(it,ae,ft,ue[ft],Se),_r!==null&&(a&&_r.alternate!==null&&it.delete(_r.key===null?ft:_r.key),ne=O(_r,ne,ft),kt===null?Ke=_r:kt.sibling=_r,kt=_r);return a&&it.forEach(function(Mo){return l(ae,Mo)}),Yt&&gl(ae,ft),Ke}function ut(ae,ne,ue,Se){if(ue==null)throw Error(r(151));for(var Ke=null,kt=null,it=ne,ft=ne=0,_r=null,Wt=ue.next();it!==null&&!Wt.done;ft++,Wt=ue.next()){it.index>ft?(_r=it,it=null):_r=it.sibling;var Mo=he(ae,it,Wt.value,Se);if(Mo===null){it===null&&(it=_r);break}a&&it&&Mo.alternate===null&&l(ae,it),ne=O(Mo,ne,ft),kt===null?Ke=Mo:kt.sibling=Mo,kt=Mo,it=_r}if(Wt.done)return h(ae,it),Yt&&gl(ae,ft),Ke;if(it===null){for(;!Wt.done;ft++,Wt=ue.next())Wt=Ne(ae,Wt.value,Se),Wt!==null&&(ne=O(Wt,ne,ft),kt===null?Ke=Wt:kt.sibling=Wt,kt=Wt);return Yt&&gl(ae,ft),Ke}for(it=y(it);!Wt.done;ft++,Wt=ue.next())Wt=me(it,ae,ft,Wt.value,Se),Wt!==null&&(a&&Wt.alternate!==null&&it.delete(Wt.key===null?ft:Wt.key),ne=O(Wt,ne,ft),kt===null?Ke=Wt:kt.sibling=Wt,kt=Wt);return a&&it.forEach(function(a8){return l(ae,a8)}),Yt&&gl(ae,ft),Ke}function mn(ae,ne,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===A&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:e:{for(var Ke=ue.key;ne!==null;){if(ne.key===Ke){if(Ke=ue.type,Ke===A){if(ne.tag===7){h(ae,ne.sibling),Se=S(ne,ue.props.children),Se.return=ae,ae=Se;break e}}else if(ne.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===se&&cb(Ke)===ne.type){h(ae,ne.sibling),Se=S(ne,ue.props),Wu(Se,ue),Se.return=ae,ae=Se;break e}h(ae,ne);break}else l(ae,ne);ne=ne.sibling}ue.type===A?(Se=pl(ue.props.children,ae.mode,Se,ue.key),Se.return=ae,ae=Se):(Se=Md(ue.type,ue.key,ue.props,null,ae.mode,Se),Wu(Se,ue),Se.return=ae,ae=Se)}return B(ae);case N:e:{for(Ke=ue.key;ne!==null;){if(ne.key===Ke)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){h(ae,ne.sibling),Se=S(ne,ue.children||[]),Se.return=ae,ae=Se;break e}else{h(ae,ne);break}else l(ae,ne);ne=ne.sibling}Se=ap(ue,ae.mode,Se),Se.return=ae,ae=Se}return B(ae);case se:return Ke=ue._init,ue=Ke(ue._payload),mn(ae,ne,ue,Se)}if(re(ue))return ht(ae,ne,ue,Se);if(ge(ue)){if(Ke=ge(ue),typeof Ke!="function")throw Error(r(150));return ue=Ke.call(ue),ut(ae,ne,ue,Se)}if(typeof ue.then=="function")return mn(ae,ne,Wd(ue),Se);if(ue.$$typeof===j)return mn(ae,ne,kd(ae,ue),Se);Xd(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ne!==null&&ne.tag===6?(h(ae,ne.sibling),Se=S(ne,ue),Se.return=ae,ae=Se):(h(ae,ne),Se=sp(ue,ae.mode,Se),Se.return=ae,ae=Se),B(ae)):h(ae,ne)}return function(ae,ne,ue,Se){try{qu=0;var Ke=mn(ae,ne,ue,Se);return Nc=null,Ke}catch(it){if(it===Pu||it===Ld)throw it;var kt=Ri(29,it,null,ae.mode);return kt.lanes=Se,kt.return=ae,kt}finally{}}}var Oc=ub(!0),fb=ub(!1),Qi=ve(null),Ys=null;function mo(a){var l=a.alternate;ke(br,br.current&1),ke(Qi,a),Ys===null&&(l===null||Sc.current!==null||l.memoizedState!==null)&&(Ys=a)}function db(a){if(a.tag===22){if(ke(br,br.current),ke(Qi,a),Ys===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Ys=a)}}else go()}function go(){ke(br,br.current),ke(Qi,Qi.current)}function Na(a){Re(Qi),Ys===a&&(Ys=null),Re(br)}var br=ve(0);function Yd(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Nm(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function zp(a,l,h,y){l=a.memoizedState,h=h(y,l),h=h==null?l:b({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Fp={enqueueSetState:function(a,l,h){a=a._reactInternals;var y=Bi(),S=fo(y);S.payload=l,h!=null&&(S.callback=h),l=ho(a,S,y),l!==null&&(Li(l,a,y),zu(l,a,y))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var y=Bi(),S=fo(y);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=ho(a,S,y),l!==null&&(Li(l,a,y),zu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Bi(),y=fo(h);y.tag=2,l!=null&&(y.callback=l),l=ho(a,y,h),l!==null&&(Li(l,a,h),zu(l,a,h))}};function hb(a,l,h,y,S,O,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,O,B):l.prototype&&l.prototype.isPureReactComponent?!x(h,y)||!x(S,O):!0}function pb(a,l,h,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,y),l.state!==a&&Fp.enqueueReplaceState(l,l.state,null)}function El(a,l){var h=l;if("ref"in l){h={};for(var y in l)y!=="ref"&&(h[y]=l[y])}if(a=a.defaultProps){h===l&&(h=b({},h));for(var S in a)h[S]===void 0&&(h[S]=a[S])}return h}var Kd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function mb(a){Kd(a)}function gb(a){console.error(a)}function xb(a){Kd(a)}function Zd(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function yb(a,l,h){try{var y=a.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Up(a,l,h){return h=fo(h),h.tag=3,h.payload={element:null},h.callback=function(){Zd(a,l)},h}function bb(a){return a=fo(a),a.tag=3,a}function wb(a,l,h,y){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var O=y.value;a.payload=function(){return S(O)},a.callback=function(){yb(l,h,y)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){yb(l,h,y),typeof S!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var H=y.stack;this.componentDidCatch(y.value,{componentStack:H!==null?H:""})})}function aA(a,l,h,y,S){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=h.alternate,l!==null&&ku(l,h,S,!0),h=Qi.current,h!==null){switch(h.tag){case 13:return Ys===null?fm():h.alternate===null&&$n===0&&($n=3),h.flags&=-257,h.flags|=65536,h.lanes=S,y===gp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([y]):l.add(y),hm(a,y,S)),!1;case 22:return h.flags|=65536,y===gp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([y]):h.add(y)),hm(a,y,S)),!1}throw Error(r(435,h.tag))}return hm(a,y,S),fm(),!1}if(Yt)return l=Qi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,y!==cp&&(a=Error(r(422),{cause:y}),Du(Xi(a,h)))):(y!==cp&&(l=Error(r(423),{cause:y}),Du(Xi(l,h))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,y=Xi(y,h),S=Up(a.stateNode,y,S),bp(a,S),$n!==4&&($n=2)),!1;var O=Error(r(520),{cause:y});if(O=Xi(O,h),ef===null?ef=[O]:ef.push(O),$n!==4&&($n=2),l===null)return!0;y=Xi(y,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=S&-S,h.lanes|=a,a=Up(h.stateNode,y,a),bp(h,a),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Co===null||!Co.has(O))))return h.flags|=65536,S&=-S,h.lanes|=S,S=bb(S),wb(S,a,h,y),bp(h,S),!1}h=h.return}while(h!==null);return!1}var vb=Error(r(461)),Er=!1;function Br(a,l,h,y){l.child=a===null?fb(l,null,h,y):Oc(l,a.child,h,y)}function Cb(a,l,h,y,S){h=h.render;var O=l.ref;if("ref"in y){var B={};for(var H in y)H!=="ref"&&(B[H]=y[H])}else B=y;return wl(l),y=Sp(a,l,h,B,O,S),H=_p(),a!==null&&!Er?(Tp(a,l,S),Oa(a,l,S)):(Yt&&H&&op(l),l.flags|=1,Br(a,l,y,S),l.child)}function Eb(a,l,h,y,S){if(a===null){var O=h.type;return typeof O=="function"&&!ip(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,Sb(a,l,O,y,S)):(a=Md(h.type,null,y,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(O=a.child,!Yp(a,S)){var B=O.memoizedProps;if(h=h.compare,h=h!==null?h:x,h(B,y)&&a.ref===l.ref)return Oa(a,l,S)}return l.flags|=1,a=Ca(O,y),a.ref=l.ref,a.return=l,l.child=a}function Sb(a,l,h,y,S){if(a!==null){var O=a.memoizedProps;if(x(O,y)&&a.ref===l.ref)if(Er=!1,l.pendingProps=y=O,Yp(a,S))(a.flags&131072)!==0&&(Er=!0);else return l.lanes=a.lanes,Oa(a,l,S)}return Hp(a,l,h,y,S)}function _b(a,l,h){var y=l.pendingProps,S=y.children,O=a!==null?a.memoizedState:null;if(y.mode==="hidden"){if((l.flags&128)!==0){if(y=O!==null?O.baseLanes|h:h,a!==null){for(S=l.child=a.child,O=0;S!==null;)O=O|S.lanes|S.childLanes,S=S.sibling;l.childLanes=O&~y}else l.childLanes=0,l.child=null;return Tb(a,l,y,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bd(l,O!==null?O.cachePool:null),O!==null?Sy(l,O):vp(),db(l);else return l.lanes=l.childLanes=536870912,Tb(a,l,O!==null?O.baseLanes|h:h,h)}else O!==null?(Bd(l,O.cachePool),Sy(l,O),go(),l.memoizedState=null):(a!==null&&Bd(l,null),vp(),go());return Br(a,l,S,h),l.child}function Tb(a,l,h,y){var S=mp();return S=S===null?null:{parent:yr._currentValue,pool:S},l.memoizedState={baseLanes:h,cachePool:S},a!==null&&Bd(l,null),vp(),db(l),a!==null&&ku(a,l,y,!0),null}function Qd(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function Hp(a,l,h,y,S){return wl(l),h=Sp(a,l,h,y,void 0,S),y=_p(),a!==null&&!Er?(Tp(a,l,S),Oa(a,l,S)):(Yt&&y&&op(l),l.flags|=1,Br(a,l,h,S),l.child)}function Ab(a,l,h,y,S,O){return wl(l),l.updateQueue=null,h=Ty(l,y,h,S),_y(a),y=_p(),a!==null&&!Er?(Tp(a,l,O),Oa(a,l,O)):(Yt&&y&&op(l),l.flags|=1,Br(a,l,h,O),l.child)}function Nb(a,l,h,y,S){if(wl(l),l.stateNode===null){var O=bc,B=h.contextType;typeof B=="object"&&B!==null&&(O=qr(B)),O=new h(y,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Fp,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=y,O.state=l.memoizedState,O.refs={},xp(l),B=h.contextType,O.context=typeof B=="object"&&B!==null?qr(B):bc,O.state=l.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(zp(l,h,B,y),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(B=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),B!==O.state&&Fp.enqueueReplaceState(O,O.state,null),Uu(l,y,O,S),Fu(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(a===null){O=l.stateNode;var H=l.memoizedProps,Q=El(h,H);O.props=Q;var fe=O.context,Ce=h.contextType;B=bc,typeof Ce=="object"&&Ce!==null&&(B=qr(Ce));var Ne=h.getDerivedStateFromProps;Ce=typeof Ne=="function"||typeof O.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,Ce||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H||fe!==B)&&pb(l,O,y,B),uo=!1;var he=l.memoizedState;O.state=he,Uu(l,y,O,S),Fu(),fe=l.memoizedState,H||he!==fe||uo?(typeof Ne=="function"&&(zp(l,h,Ne,y),fe=l.memoizedState),(Q=uo||hb(l,h,Q,y,he,fe,B))?(Ce||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=fe),O.props=y,O.state=fe,O.context=B,y=Q):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{O=l.stateNode,yp(a,l),B=l.memoizedProps,Ce=El(h,B),O.props=Ce,Ne=l.pendingProps,he=O.context,fe=h.contextType,Q=bc,typeof fe=="object"&&fe!==null&&(Q=qr(fe)),H=h.getDerivedStateFromProps,(fe=typeof H=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(B!==Ne||he!==Q)&&pb(l,O,y,Q),uo=!1,he=l.memoizedState,O.state=he,Uu(l,y,O,S),Fu();var me=l.memoizedState;B!==Ne||he!==me||uo||a!==null&&a.dependencies!==null&&Dd(a.dependencies)?(typeof H=="function"&&(zp(l,h,H,y),me=l.memoizedState),(Ce=uo||hb(l,h,Ce,y,he,me,Q)||a!==null&&a.dependencies!==null&&Dd(a.dependencies))?(fe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,me,Q),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,me,Q)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||B===a.memoizedProps&&he===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&he===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=me),O.props=y,O.state=me,O.context=Q,y=Ce):(typeof O.componentDidUpdate!="function"||B===a.memoizedProps&&he===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&he===a.memoizedState||(l.flags|=1024),y=!1)}return O=y,Qd(a,l),y=(l.flags&128)!==0,O||y?(O=l.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,a!==null&&y?(l.child=Oc(l,a.child,null,S),l.child=Oc(l,null,h,S)):Br(a,l,h,S),l.memoizedState=O.state,a=l.child):a=Oa(a,l,S),a}function Ob(a,l,h,y){return Iu(),l.flags|=256,Br(a,l,h,y),l.child}var Vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(a){return{baseLanes:a,cachePool:gy()}}function $p(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Ji),a}function Mb(a,l,h){var y=l.pendingProps,S=!1,O=(l.flags&128)!==0,B;if((B=O)||(B=a!==null&&a.memoizedState===null?!1:(br.current&2)!==0),B&&(S=!0,l.flags&=-129),B=(l.flags&32)!==0,l.flags&=-33,a===null){if(Yt){if(S?mo(l):go(),Yt){var H=Gn,Q;if(Q=H){e:{for(Q=H,H=Xs;Q.nodeType!==8;){if(!H){H=null;break e}if(Q=Es(Q.nextSibling),Q===null){H=null;break e}}H=Q}H!==null?(l.memoizedState={dehydrated:H,treeContext:ml!==null?{id:Ea,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},Q=Ri(18,null,null,0),Q.stateNode=H,Q.return=l,l.child=Q,ii=l,Gn=null,Q=!0):Q=!1}Q||yl(l)}if(H=l.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Nm(H)?l.lanes=32:l.lanes=536870912,null;Na(l)}return H=y.children,y=y.fallback,S?(go(),S=l.mode,H=Jd({mode:"hidden",children:H},S),y=pl(y,S,h,null),H.return=l,y.return=l,H.sibling=y,l.child=H,S=l.child,S.memoizedState=Gp(h),S.childLanes=$p(a,B,h),l.memoizedState=Vp,y):(mo(l),qp(l,H))}if(Q=a.memoizedState,Q!==null&&(H=Q.dehydrated,H!==null)){if(O)l.flags&256?(mo(l),l.flags&=-257,l=Wp(a,l,h)):l.memoizedState!==null?(go(),l.child=a.child,l.flags|=128,l=null):(go(),S=y.fallback,H=l.mode,y=Jd({mode:"visible",children:y.children},H),S=pl(S,H,h,null),S.flags|=2,y.return=l,S.return=l,y.sibling=S,l.child=y,Oc(l,a.child,null,h),y=l.child,y.memoizedState=Gp(h),y.childLanes=$p(a,B,h),l.memoizedState=Vp,l=S);else if(mo(l),Nm(H)){if(B=H.nextSibling&&H.nextSibling.dataset,B)var fe=B.dgst;B=fe,y=Error(r(419)),y.stack="",y.digest=B,Du({value:y,source:null,stack:null}),l=Wp(a,l,h)}else if(Er||ku(a,l,h,!1),B=(h&a.childLanes)!==0,Er||B){if(B=_n,B!==null&&(y=h&-h,y=(y&42)!==0?1:pa(y),y=(y&(B.suspendedLanes|h))!==0?0:y,y!==0&&y!==Q.retryLane))throw Q.retryLane=y,yc(a,y),Li(B,a,y),vb;H.data==="$?"||fm(),l=Wp(a,l,h)}else H.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=Q.treeContext,Gn=Es(H.nextSibling),ii=l,Yt=!0,xl=null,Xs=!1,a!==null&&(Ki[Zi++]=Ea,Ki[Zi++]=Sa,Ki[Zi++]=ml,Ea=a.id,Sa=a.overflow,ml=l),l=qp(l,y.children),l.flags|=4096);return l}return S?(go(),S=y.fallback,H=l.mode,Q=a.child,fe=Q.sibling,y=Ca(Q,{mode:"hidden",children:y.children}),y.subtreeFlags=Q.subtreeFlags&65011712,fe!==null?S=Ca(fe,S):(S=pl(S,H,h,null),S.flags|=2),S.return=l,y.return=l,y.sibling=S,l.child=y,y=S,S=l.child,H=a.child.memoizedState,H===null?H=Gp(h):(Q=H.cachePool,Q!==null?(fe=yr._currentValue,Q=Q.parent!==fe?{parent:fe,pool:fe}:Q):Q=gy(),H={baseLanes:H.baseLanes|h,cachePool:Q}),S.memoizedState=H,S.childLanes=$p(a,B,h),l.memoizedState=Vp,y):(mo(l),h=a.child,a=h.sibling,h=Ca(h,{mode:"visible",children:y.children}),h.return=l,h.sibling=null,a!==null&&(B=l.deletions,B===null?(l.deletions=[a],l.flags|=16):B.push(a)),l.child=h,l.memoizedState=null,h)}function qp(a,l){return l=Jd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Jd(a,l){return a=Ri(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Wp(a,l,h){return Oc(l,a.child,null,h),a=qp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Rb(a,l,h){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),fp(a.return,l,h)}function Xp(a,l,h,y,S){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:S}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=h,O.tailMode=S)}function Ib(a,l,h){var y=l.pendingProps,S=y.revealOrder,O=y.tail;if(Br(a,l,y.children,h),y=br.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Rb(a,h,l);else if(a.tag===19)Rb(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(ke(br,y),S){case"forwards":for(h=l.child,S=null;h!==null;)a=h.alternate,a!==null&&Yd(a)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),Xp(l,!1,S,h,O);break;case"backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&Yd(a)===null){l.child=S;break}a=S.sibling,S.sibling=h,h=S,S=a}Xp(l,!0,h,null,O);break;case"together":Xp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Oa(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),vo|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(ku(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,h=Ca(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ca(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function Yp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Dd(a)))}function oA(a,l,h){switch(l.tag){case 3:mt(l,l.stateNode.containerInfo),co(l,yr,a.memoizedState.cache),Iu();break;case 27:case 5:Nn(l);break;case 4:mt(l,l.stateNode.containerInfo);break;case 10:co(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(mo(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Mb(a,l,h):(mo(l),a=Oa(a,l,h),a!==null?a.sibling:null);mo(l);break;case 19:var S=(a.flags&128)!==0;if(y=(h&l.childLanes)!==0,y||(ku(a,l,h,!1),y=(h&l.childLanes)!==0),S){if(y)return Ib(a,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ke(br,br.current),y)break;return null;case 22:case 23:return l.lanes=0,_b(a,l,h);case 24:co(l,yr,a.memoizedState.cache)}return Oa(a,l,h)}function Db(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Er=!0;else{if(!Yp(a,h)&&(l.flags&128)===0)return Er=!1,oA(a,l,h);Er=(a.flags&131072)!==0}else Er=!1,Yt&&(l.flags&1048576)!==0&&cy(l,Id,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var y=l.elementType,S=y._init;if(y=S(y._payload),l.type=y,typeof y=="function")ip(y)?(a=El(y,a),l.tag=1,l=Nb(null,l,y,a,h)):(l.tag=0,l=Hp(null,l,y,a,h));else{if(y!=null){if(S=y.$$typeof,S===W){l.tag=11,l=Cb(null,l,y,a,h);break e}else if(S===Y){l.tag=14,l=Eb(null,l,y,a,h);break e}}throw l=Ue(y)||y,Error(r(306,l,""))}}return l;case 0:return Hp(a,l,l.type,l.pendingProps,h);case 1:return y=l.type,S=El(y,l.pendingProps),Nb(a,l,y,S,h);case 3:e:{if(mt(l,l.stateNode.containerInfo),a===null)throw Error(r(387));y=l.pendingProps;var O=l.memoizedState;S=O.element,yp(a,l),Uu(l,y,null,h);var B=l.memoizedState;if(y=B.cache,co(l,yr,y),y!==O.cache&&dp(l,[yr],h,!0),Fu(),y=B.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:B.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=Ob(a,l,y,h);break e}else if(y!==S){S=Xi(Error(r(424)),l),Du(S),l=Ob(a,l,y,h);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Gn=Es(a.firstChild),ii=l,Yt=!0,xl=null,Xs=!0,h=fb(l,null,y,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Iu(),y===S){l=Oa(a,l,h);break e}Br(a,l,y,h)}l=l.child}return l;case 26:return Qd(a,l),a===null?(h=Pw(l.type,null,l.pendingProps,null))?l.memoizedState=h:Yt||(h=l.type,a=l.pendingProps,y=hh(Oe.current).createElement(h),y[Ae]=l,y[Le]=a,Pr(y,h,a),bt(y),l.stateNode=y):l.memoizedState=Pw(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Nn(l),a===null&&Yt&&(y=l.stateNode=kw(l.type,l.pendingProps,Oe.current),ii=l,Xs=!0,S=Gn,_o(l.type)?(Om=S,Gn=Es(y.firstChild)):Gn=S),Br(a,l,l.pendingProps.children,h),Qd(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Yt&&((S=y=Gn)&&(y=BA(y,l.type,l.pendingProps,Xs),y!==null?(l.stateNode=y,ii=l,Gn=Es(y.firstChild),Xs=!1,S=!0):S=!1),S||yl(l)),Nn(l),S=l.type,O=l.pendingProps,B=a!==null?a.memoizedProps:null,y=O.children,_m(S,O)?y=null:B!==null&&_m(S,B)&&(l.flags|=32),l.memoizedState!==null&&(S=Sp(a,l,JT,null,null,h),uf._currentValue=S),Qd(a,l),Br(a,l,y,h),l.child;case 6:return a===null&&Yt&&((a=h=Gn)&&(h=LA(h,l.pendingProps,Xs),h!==null?(l.stateNode=h,ii=l,Gn=null,a=!0):a=!1),a||yl(l)),null;case 13:return Mb(a,l,h);case 4:return mt(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=Oc(l,null,y,h):Br(a,l,y,h),l.child;case 11:return Cb(a,l,l.type,l.pendingProps,h);case 7:return Br(a,l,l.pendingProps,h),l.child;case 8:return Br(a,l,l.pendingProps.children,h),l.child;case 12:return Br(a,l,l.pendingProps.children,h),l.child;case 10:return y=l.pendingProps,co(l,l.type,y.value),Br(a,l,y.children,h),l.child;case 9:return S=l.type._context,y=l.pendingProps.children,wl(l),S=qr(S),y=y(S),l.flags|=1,Br(a,l,y,h),l.child;case 14:return Eb(a,l,l.type,l.pendingProps,h);case 15:return Sb(a,l,l.type,l.pendingProps,h);case 19:return Ib(a,l,h);case 31:return y=l.pendingProps,h=l.mode,y={mode:y.mode,children:y.children},a===null?(h=Jd(y,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Ca(a.child,y),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return _b(a,l,h);case 24:return wl(l),y=qr(yr),a===null?(S=mp(),S===null&&(S=_n,O=hp(),S.pooledCache=O,O.refCount++,O!==null&&(S.pooledCacheLanes|=h),S=O),l.memoizedState={parent:y,cache:S},xp(l),co(l,yr,S)):((a.lanes&h)!==0&&(yp(a,l),Uu(l,null,null,h),Fu()),S=a.memoizedState,O=l.memoizedState,S.parent!==y?(S={parent:y,cache:y},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),co(l,yr,y)):(y=O.cache,co(l,yr,y),y!==S.cache&&dp(l,[yr],h,!0))),Br(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ma(a){a.flags|=4}function kb(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hw(l)){if(l=Qi.current,l!==null&&((Vt&4194048)===Vt?Ys!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||l!==Ys))throw ju=gp,xy;a.flags|=8192}}function eh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?rl():536870912,a.lanes|=l,Dc|=l)}function Xu(a,l){if(!Yt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function zn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(l)for(var S=a.child;S!==null;)h|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)h|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=y,a.childLanes=h,l}function lA(a,l,h){var y=l.pendingProps;switch(lp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(l),null;case 1:return zn(l),null;case 3:return h=l.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),Ta(yr),Ur(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Ru(l)?Ma(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,dy())),zn(l),null;case 26:return h=l.memoizedState,a===null?(Ma(l),h!==null?(zn(l),kb(l,h)):(zn(l),l.flags&=-16777217)):h?h!==a.memoizedState?(Ma(l),zn(l),kb(l,h)):(zn(l),l.flags&=-16777217):(a.memoizedProps!==y&&Ma(l),zn(l),l.flags&=-16777217),null;case 27:vn(l),h=Oe.current;var S=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==y&&Ma(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return zn(l),null}a=He.current,Ru(l)?uy(l):(a=kw(S,y,h),l.stateNode=a,Ma(l))}return zn(l),null;case 5:if(vn(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==y&&Ma(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return zn(l),null}if(a=He.current,Ru(l))uy(l);else{switch(S=hh(Oe.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?S.createElement("select",{is:y.is}):S.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?S.createElement(h,{is:y.is}):S.createElement(h)}}a[Ae]=l,a[Le]=y;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=a;e:switch(Pr(a,h,y),h){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ma(l)}}return zn(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==y&&Ma(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(a=Oe.current,Ru(l)){if(a=l.stateNode,h=l.memoizedProps,y=null,S=ii,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}a[Ae]=l,a=!!(a.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||Aw(a.nodeValue,h)),a||yl(l)}else a=hh(a).createTextNode(y),a[Ae]=l,l.stateNode=a}return zn(l),null;case 13:if(y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Ru(l),y!==null&&y.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Ae]=l}else Iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zn(l),S=!1}else S=dy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Na(l),l):(Na(l),null)}if(Na(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=y!==null,a=a!==null&&a.memoizedState!==null,h){y=l.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool);var O=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==S&&(y.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),eh(l,l.updateQueue),zn(l),null;case 4:return Ur(),a===null&&wm(l.stateNode.containerInfo),zn(l),null;case 10:return Ta(l.type),zn(l),null;case 19:if(Re(br),S=l.memoizedState,S===null)return zn(l),null;if(y=(l.flags&128)!==0,O=S.rendering,O===null)if(y)Xu(S,!1);else{if($n!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=Yd(a),O!==null){for(l.flags|=128,Xu(S,!1),a=O.updateQueue,l.updateQueue=a,eh(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)ly(h,a),h=h.sibling;return ke(br,br.current&1|2),l.child}a=a.sibling}S.tail!==null&&Xt()>rh&&(l.flags|=128,y=!0,Xu(S,!1),l.lanes=4194304)}else{if(!y)if(a=Yd(O),a!==null){if(l.flags|=128,y=!0,a=a.updateQueue,l.updateQueue=a,eh(l,a),Xu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!O.alternate&&!Yt)return zn(l),null}else 2*Xt()-S.renderingStartTime>rh&&h!==536870912&&(l.flags|=128,y=!0,Xu(S,!1),l.lanes=4194304);S.isBackwards?(O.sibling=l.child,l.child=O):(a=S.last,a!==null?a.sibling=O:l.child=O,S.last=O)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Xt(),l.sibling=null,a=br.current,ke(br,y?a&1|2:a&1),l):(zn(l),null);case 22:case 23:return Na(l),Cp(),y=l.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(h&536870912)!==0&&(l.flags&128)===0&&(zn(l),l.subtreeFlags&6&&(l.flags|=8192)):zn(l),h=l.updateQueue,h!==null&&eh(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==h&&(l.flags|=2048),a!==null&&Re(vl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ta(yr),zn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function cA(a,l){switch(lp(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ta(yr),Ur(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return vn(l),null;case 13:if(Na(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Iu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Re(br),null;case 4:return Ur(),null;case 10:return Ta(l.type),null;case 22:case 23:return Na(l),Cp(),a!==null&&Re(vl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ta(yr),null;case 25:return null;default:return null}}function Bb(a,l){switch(lp(l),l.tag){case 3:Ta(yr),Ur();break;case 26:case 27:case 5:vn(l);break;case 4:Ur();break;case 13:Na(l);break;case 19:Re(br);break;case 10:Ta(l.type);break;case 22:case 23:Na(l),Cp(),a!==null&&Re(vl);break;case 24:Ta(yr)}}function Yu(a,l){try{var h=l.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var S=y.next;h=S;do{if((h.tag&a)===a){y=void 0;var O=h.create,B=h.inst;y=O(),B.destroy=y}h=h.next}while(h!==S)}}catch(H){xn(l,l.return,H)}}function xo(a,l,h){try{var y=l.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var O=S.next;y=O;do{if((y.tag&a)===a){var B=y.inst,H=B.destroy;if(H!==void 0){B.destroy=void 0,S=l;var Q=h,fe=H;try{fe()}catch(Ce){xn(S,Q,Ce)}}}y=y.next}while(y!==O)}}catch(Ce){xn(l,l.return,Ce)}}function Lb(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Ey(l,h)}catch(y){xn(a,a.return,y)}}}function Pb(a,l,h){h.props=El(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(y){xn(a,l,y)}}function Ku(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof h=="function"?a.refCleanup=h(y):h.current=y}}catch(S){xn(a,l,S)}}function Ks(a,l){var h=a.ref,y=a.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(S){xn(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){xn(a,l,S)}else h.current=null}function jb(a){var l=a.type,h=a.memoizedProps,y=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(S){xn(a,a.return,S)}}function Kp(a,l,h){try{var y=a.stateNode;MA(y,a.type,h,l),y[Le]=l}catch(S){xn(a,a.return,S)}}function zb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_o(a.type)||a.tag===4}function Zp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_o(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Qp(a,l,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=dh));else if(y!==4&&(y===27&&_o(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(Qp(a,l,h),a=a.sibling;a!==null;)Qp(a,l,h),a=a.sibling}function th(a,l,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(y!==4&&(y===27&&_o(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(th(a,l,h),a=a.sibling;a!==null;)th(a,l,h),a=a.sibling}function Fb(a){var l=a.stateNode,h=a.memoizedProps;try{for(var y=a.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Pr(l,y,h),l[Ae]=a,l[Le]=h}catch(O){xn(a,a.return,O)}}var Ra=!1,er=!1,Jp=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function uA(a,l){if(a=a.containerInfo,Em=bh,a=M(a),D(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var S=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var B=0,H=-1,Q=-1,fe=0,Ce=0,Ne=a,he=null;t:for(;;){for(var me;Ne!==h||S!==0&&Ne.nodeType!==3||(H=B+S),Ne!==O||y!==0&&Ne.nodeType!==3||(Q=B+y),Ne.nodeType===3&&(B+=Ne.nodeValue.length),(me=Ne.firstChild)!==null;)he=Ne,Ne=me;for(;;){if(Ne===a)break t;if(he===h&&++fe===S&&(H=B),he===O&&++Ce===y&&(Q=B),(me=Ne.nextSibling)!==null)break;Ne=he,he=Ne.parentNode}Ne=me}h=H===-1||Q===-1?null:{start:H,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(Sm={focusedElem:a,selectionRange:h},bh=!1,Sr=l;Sr!==null;)if(l=Sr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Sr=a;else for(;Sr!==null;){switch(l=Sr,O=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&O!==null){a=void 0,h=l,S=O.memoizedProps,O=O.memoizedState,y=h.stateNode;try{var ht=El(h.type,S,h.elementType===h.type);a=y.getSnapshotBeforeUpdate(ht,O),y.__reactInternalSnapshotBeforeUpdate=a}catch(ut){xn(h,h.return,ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)Am(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Am(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Sr=a;break}Sr=l.return}}function Hb(a,l,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:yo(a,h),y&4&&Yu(5,h);break;case 1:if(yo(a,h),y&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(B){xn(h,h.return,B)}else{var S=El(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(B){xn(h,h.return,B)}}y&64&&Lb(h),y&512&&Ku(h,h.return);break;case 3:if(yo(a,h),y&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Ey(a,l)}catch(B){xn(h,h.return,B)}}break;case 27:l===null&&y&4&&Fb(h);case 26:case 5:yo(a,h),l===null&&y&4&&jb(h),y&512&&Ku(h,h.return);break;case 12:yo(a,h);break;case 13:yo(a,h),y&4&&$b(a,h),y&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=bA.bind(null,h),PA(a,h))));break;case 22:if(y=h.memoizedState!==null||Ra,!y){l=l!==null&&l.memoizedState!==null||er,S=Ra;var O=er;Ra=y,(er=l)&&!O?bo(a,h,(h.subtreeFlags&8772)!==0):yo(a,h),Ra=S,er=O}break;case 30:break;default:yo(a,h)}}function Vb(a){var l=a.alternate;l!==null&&(a.alternate=null,Vb(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Je(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Bn=null,bi=!1;function Ia(a,l,h){for(h=h.child;h!==null;)Gb(a,l,h),h=h.sibling}function Gb(a,l,h){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Cn,h)}catch{}switch(h.tag){case 26:er||Ks(h,l),Ia(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:er||Ks(h,l);var y=Bn,S=bi;_o(h.type)&&(Bn=h.stateNode,bi=!1),Ia(a,l,h),af(h.stateNode),Bn=y,bi=S;break;case 5:er||Ks(h,l);case 6:if(y=Bn,S=bi,Bn=null,Ia(a,l,h),Bn=y,bi=S,Bn!==null)if(bi)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(h.stateNode)}catch(O){xn(h,l,O)}else try{Bn.removeChild(h.stateNode)}catch(O){xn(h,l,O)}break;case 18:Bn!==null&&(bi?(a=Bn,Iw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),pf(a)):Iw(Bn,h.stateNode));break;case 4:y=Bn,S=bi,Bn=h.stateNode.containerInfo,bi=!0,Ia(a,l,h),Bn=y,bi=S;break;case 0:case 11:case 14:case 15:er||xo(2,h,l),er||xo(4,h,l),Ia(a,l,h);break;case 1:er||(Ks(h,l),y=h.stateNode,typeof y.componentWillUnmount=="function"&&Pb(h,l,y)),Ia(a,l,h);break;case 21:Ia(a,l,h);break;case 22:er=(y=er)||h.memoizedState!==null,Ia(a,l,h),er=y;break;default:Ia(a,l,h)}}function $b(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{pf(a)}catch(h){xn(l,l.return,h)}}function fA(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Ub),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Ub),l;default:throw Error(r(435,a.tag))}}function em(a,l){var h=fA(a);l.forEach(function(y){var S=wA.bind(null,a,y);h.has(y)||(h.add(y),y.then(S,S))})}function Ii(a,l){var h=l.deletions;if(h!==null)for(var y=0;y<h.length;y++){var S=h[y],O=a,B=l,H=B;e:for(;H!==null;){switch(H.tag){case 27:if(_o(H.type)){Bn=H.stateNode,bi=!1;break e}break;case 5:Bn=H.stateNode,bi=!1;break e;case 3:case 4:Bn=H.stateNode.containerInfo,bi=!0;break e}H=H.return}if(Bn===null)throw Error(r(160));Gb(O,B,S),Bn=null,bi=!1,O=S.alternate,O!==null&&(O.return=null),S.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)qb(l,a),l=l.sibling}var Cs=null;function qb(a,l){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ii(l,a),Di(a),y&4&&(xo(3,a,a.return),Yu(3,a),xo(5,a,a.return));break;case 1:Ii(l,a),Di(a),y&512&&(er||h===null||Ks(h,h.return)),y&64&&Ra&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var S=Cs;if(Ii(l,a),Di(a),y&512&&(er||h===null||Ks(h,h.return)),y&4){var O=h!==null?h.memoizedState:null;if(y=a.memoizedState,h===null)if(y===null)if(a.stateNode===null){e:{y=a.type,h=a.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":O=S.getElementsByTagName("title")[0],(!O||O[st]||O[Ae]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=S.createElement(y),S.head.insertBefore(O,S.querySelector("head > title"))),Pr(O,y,h),O[Ae]=a,bt(O),y=O;break e;case"link":var B=Fw("link","href",S).get(y+(h.href||""));if(B){for(var H=0;H<B.length;H++)if(O=B[H],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(H,1);break t}}O=S.createElement(y),Pr(O,y,h),S.head.appendChild(O);break;case"meta":if(B=Fw("meta","content",S).get(y+(h.content||""))){for(H=0;H<B.length;H++)if(O=B[H],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(H,1);break t}}O=S.createElement(y),Pr(O,y,h),S.head.appendChild(O);break;default:throw Error(r(468,y))}O[Ae]=a,bt(O),y=O}a.stateNode=y}else Uw(S,a.type,a.stateNode);else a.stateNode=zw(S,y,a.memoizedProps);else O!==y?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,y===null?Uw(S,a.type,a.stateNode):zw(S,y,a.memoizedProps)):y===null&&a.stateNode!==null&&Kp(a,a.memoizedProps,h.memoizedProps)}break;case 27:Ii(l,a),Di(a),y&512&&(er||h===null||Ks(h,h.return)),h!==null&&y&4&&Kp(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Ii(l,a),Di(a),y&512&&(er||h===null||Ks(h,h.return)),a.flags&32){S=a.stateNode;try{mr(S,"")}catch(me){xn(a,a.return,me)}}y&4&&a.stateNode!=null&&(S=a.memoizedProps,Kp(a,S,h!==null?h.memoizedProps:S)),y&1024&&(Jp=!0);break;case 6:if(Ii(l,a),Di(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,h=a.stateNode;try{h.nodeValue=y}catch(me){xn(a,a.return,me)}}break;case 3:if(gh=null,S=Cs,Cs=ph(l.containerInfo),Ii(l,a),Cs=S,Di(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{pf(l.containerInfo)}catch(me){xn(a,a.return,me)}Jp&&(Jp=!1,Wb(a));break;case 4:y=Cs,Cs=ph(a.stateNode.containerInfo),Ii(l,a),Di(a),Cs=y;break;case 12:Ii(l,a),Di(a);break;case 13:Ii(l,a),Di(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(am=Xt()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,em(a,y)));break;case 22:S=a.memoizedState!==null;var Q=h!==null&&h.memoizedState!==null,fe=Ra,Ce=er;if(Ra=fe||S,er=Ce||Q,Ii(l,a),er=Ce,Ra=fe,Di(a),y&8192)e:for(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(h===null||Q||Ra||er||Sl(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){Q=h=l;try{if(O=Q.stateNode,S)B=O.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{H=Q.stateNode;var Ne=Q.memoizedProps.style,he=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;H.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(me){xn(Q,Q.return,me)}}}else if(l.tag===6){if(h===null){Q=l;try{Q.stateNode.nodeValue=S?"":Q.memoizedProps}catch(me){xn(Q,Q.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=a.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,em(a,h))));break;case 19:Ii(l,a),Di(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,em(a,y)));break;case 30:break;case 21:break;default:Ii(l,a),Di(a)}}function Di(a){var l=a.flags;if(l&2){try{for(var h,y=a.return;y!==null;){if(zb(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,O=Zp(a);th(a,O,S);break;case 5:var B=h.stateNode;h.flags&32&&(mr(B,""),h.flags&=-33);var H=Zp(a);th(a,H,B);break;case 3:case 4:var Q=h.stateNode.containerInfo,fe=Zp(a);Qp(a,fe,Q);break;default:throw Error(r(161))}}catch(Ce){xn(a,a.return,Ce)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Wb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Wb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function yo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Hb(a,l.alternate,l),l=l.sibling}function Sl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:xo(4,l,l.return),Sl(l);break;case 1:Ks(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Pb(l,l.return,h),Sl(l);break;case 27:af(l.stateNode);case 26:case 5:Ks(l,l.return),Sl(l);break;case 22:l.memoizedState===null&&Sl(l);break;case 30:Sl(l);break;default:Sl(l)}a=a.sibling}}function bo(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,S=a,O=l,B=O.flags;switch(O.tag){case 0:case 11:case 15:bo(S,O,h),Yu(4,O);break;case 1:if(bo(S,O,h),y=O,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(fe){xn(y,y.return,fe)}if(y=O,S=y.updateQueue,S!==null){var H=y.stateNode;try{var Q=S.shared.hiddenCallbacks;if(Q!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Q.length;S++)Cy(Q[S],H)}catch(fe){xn(y,y.return,fe)}}h&&B&64&&Lb(O),Ku(O,O.return);break;case 27:Fb(O);case 26:case 5:bo(S,O,h),h&&y===null&&B&4&&jb(O),Ku(O,O.return);break;case 12:bo(S,O,h);break;case 13:bo(S,O,h),h&&B&4&&$b(S,O);break;case 22:O.memoizedState===null&&bo(S,O,h),Ku(O,O.return);break;case 30:break;default:bo(S,O,h)}l=l.sibling}}function tm(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Bu(h))}function nm(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Bu(a))}function Zs(a,l,h,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Xb(a,l,h,y),l=l.sibling}function Xb(a,l,h,y){var S=l.flags;switch(l.tag){case 0:case 11:case 15:Zs(a,l,h,y),S&2048&&Yu(9,l);break;case 1:Zs(a,l,h,y);break;case 3:Zs(a,l,h,y),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Bu(a)));break;case 12:if(S&2048){Zs(a,l,h,y),a=l.stateNode;try{var O=l.memoizedProps,B=O.id,H=O.onPostCommit;typeof H=="function"&&H(B,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){xn(l,l.return,Q)}}else Zs(a,l,h,y);break;case 13:Zs(a,l,h,y);break;case 23:break;case 22:O=l.stateNode,B=l.alternate,l.memoizedState!==null?O._visibility&2?Zs(a,l,h,y):Zu(a,l):O._visibility&2?Zs(a,l,h,y):(O._visibility|=2,Mc(a,l,h,y,(l.subtreeFlags&10256)!==0)),S&2048&&tm(B,l);break;case 24:Zs(a,l,h,y),S&2048&&nm(l.alternate,l);break;default:Zs(a,l,h,y)}}function Mc(a,l,h,y,S){for(S=S&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var O=a,B=l,H=h,Q=y,fe=B.flags;switch(B.tag){case 0:case 11:case 15:Mc(O,B,H,Q,S),Yu(8,B);break;case 23:break;case 22:var Ce=B.stateNode;B.memoizedState!==null?Ce._visibility&2?Mc(O,B,H,Q,S):Zu(O,B):(Ce._visibility|=2,Mc(O,B,H,Q,S)),S&&fe&2048&&tm(B.alternate,B);break;case 24:Mc(O,B,H,Q,S),S&&fe&2048&&nm(B.alternate,B);break;default:Mc(O,B,H,Q,S)}l=l.sibling}}function Zu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,y=l,S=y.flags;switch(y.tag){case 22:Zu(h,y),S&2048&&tm(y.alternate,y);break;case 24:Zu(h,y),S&2048&&nm(y.alternate,y);break;default:Zu(h,y)}l=l.sibling}}var Qu=8192;function Rc(a){if(a.subtreeFlags&Qu)for(a=a.child;a!==null;)Yb(a),a=a.sibling}function Yb(a){switch(a.tag){case 26:Rc(a),a.flags&Qu&&a.memoizedState!==null&&KA(Cs,a.memoizedState,a.memoizedProps);break;case 5:Rc(a);break;case 3:case 4:var l=Cs;Cs=ph(a.stateNode.containerInfo),Rc(a),Cs=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Qu,Qu=16777216,Rc(a),Qu=l):Rc(a));break;default:Rc(a)}}function Kb(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ju(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Sr=y,Qb(y,a)}Kb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zb(a),a=a.sibling}function Zb(a){switch(a.tag){case 0:case 11:case 15:Ju(a),a.flags&2048&&xo(9,a,a.return);break;case 3:Ju(a);break;case 12:Ju(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,nh(a)):Ju(a);break;default:Ju(a)}}function nh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Sr=y,Qb(y,a)}Kb(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:xo(8,l,l.return),nh(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,nh(l));break;default:nh(l)}a=a.sibling}}function Qb(a,l){for(;Sr!==null;){var h=Sr;switch(h.tag){case 0:case 11:case 15:xo(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Bu(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,Sr=y;else e:for(h=a;Sr!==null;){y=Sr;var S=y.sibling,O=y.return;if(Vb(y),y===h){Sr=null;break e}if(S!==null){S.return=O,Sr=S;break e}Sr=O}}}var dA={getCacheForType:function(a){var l=qr(yr),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},hA=typeof WeakMap=="function"?WeakMap:Map,sn=0,_n=null,jt=null,Vt=0,an=0,ki=null,wo=!1,Ic=!1,rm=!1,Da=0,$n=0,vo=0,_l=0,im=0,Ji=0,Dc=0,ef=null,wi=null,sm=!1,am=0,rh=1/0,ih=null,Co=null,Lr=0,Eo=null,kc=null,Bc=0,om=0,lm=null,Jb=null,tf=0,cm=null;function Bi(){if((sn&2)!==0&&Vt!==0)return Vt&-Vt;if(G.T!==null){var a=Cc;return a!==0?a:gm()}return ee()}function ew(){Ji===0&&(Ji=(Vt&536870912)===0||Yt?Bs():536870912);var a=Qi.current;return a!==null&&(a.flags|=32),Ji}function Li(a,l,h){(a===_n&&(an===2||an===9)||a.cancelPendingCommit!==null)&&(Lc(a,0),So(a,Vt,Ji,!1)),ti(a,h),((sn&2)===0||a!==_n)&&(a===_n&&((sn&2)===0&&(_l|=h),$n===4&&So(a,Vt,Ji,!1)),Qs(a))}function tw(a,l,h){if((sn&6)!==0)throw Error(r(327));var y=!h&&(l&124)===0&&(l&a.expiredLanes)===0||$t(a,l),S=y?gA(a,l):dm(a,l,!0),O=y;do{if(S===0){Ic&&!y&&So(a,l,0,!1);break}else{if(h=a.current.alternate,O&&!pA(h)){S=dm(a,l,!1),O=!1;continue}if(S===2){if(O=l,a.errorRecoveryDisabledLanes&O)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){l=B;e:{var H=a;S=ef;var Q=H.current.memoizedState.isDehydrated;if(Q&&(Lc(H,B).flags|=256),B=dm(H,B,!1),B!==2){if(rm&&!Q){H.errorRecoveryDisabledLanes|=O,_l|=O,S=4;break e}O=wi,wi=S,O!==null&&(wi===null?wi=O:wi.push.apply(wi,O))}S=B}if(O=!1,S!==2)continue}}if(S===1){Lc(a,0),So(a,l,0,!0);break}e:{switch(y=a,O=S,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:So(y,l,Ji,!wo);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=am+300-Xt(),10<S)){if(So(y,l,Ji,!wo),Ht(y,0,!0)!==0)break e;y.timeoutHandle=Mw(nw.bind(null,y,h,wi,ih,sm,l,Ji,_l,Dc,wo,O,2,-0,0),S);break e}nw(y,h,wi,ih,sm,l,Ji,_l,Dc,wo,O,0,-0,0)}}break}while(!0);Qs(a)}function nw(a,l,h,y,S,O,B,H,Q,fe,Ce,Ne,he,me){if(a.timeoutHandle=-1,Ne=l.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(cf={stylesheets:null,count:0,unsuspend:YA},Yb(l),Ne=ZA(),Ne!==null)){a.cancelPendingCommit=Ne(cw.bind(null,a,l,O,h,y,S,B,H,Q,Ce,1,he,me)),So(a,O,B,!fe);return}cw(a,l,O,h,y,S,B,H,Q)}function pA(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var S=h[y],O=S.getSnapshot;S=S.value;try{if(!g(O(),S))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function So(a,l,h,y){l&=~im,l&=~_l,a.suspendedLanes|=l,a.pingedLanes&=~l,y&&(a.warmLanes|=l),y=a.expirationTimes;for(var S=l;0<S;){var O=31-Gt(S),B=1<<O;y[O]=-1,S&=~B}h!==0&&Ls(a,h,l)}function sh(){return(sn&6)===0?(nf(0),!1):!0}function um(){if(jt!==null){if(an===0)var a=jt.return;else a=jt,_a=bl=null,Ap(a),Nc=null,qu=0,a=jt;for(;a!==null;)Bb(a.alternate,a),a=a.return;jt=null}}function Lc(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,IA(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),um(),_n=a,jt=h=Ca(a.current,null),Vt=l,an=0,ki=null,wo=!1,Ic=$t(a,l),rm=!1,Dc=Ji=im=_l=vo=$n=0,wi=ef=null,sm=!1,(l&8)!==0&&(l|=l&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=l;0<y;){var S=31-Gt(y),O=1<<S;l|=a[S],y&=~O}return Da=l,Ad(),h}function rw(a,l){Rt=null,G.H=qd,l===Pu||l===Ld?(l=wy(),an=3):l===xy?(l=wy(),an=4):an=l===vb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ki=l,jt===null&&($n=1,Zd(a,Xi(l,a.current)))}function iw(){var a=G.H;return G.H=qd,a===null?qd:a}function sw(){var a=G.A;return G.A=dA,a}function fm(){$n=4,wo||(Vt&4194048)!==Vt&&Qi.current!==null||(Ic=!0),(vo&134217727)===0&&(_l&134217727)===0||_n===null||So(_n,Vt,Ji,!1)}function dm(a,l,h){var y=sn;sn|=2;var S=iw(),O=sw();(_n!==a||Vt!==l)&&(ih=null,Lc(a,l)),l=!1;var B=$n;e:do try{if(an!==0&&jt!==null){var H=jt,Q=ki;switch(an){case 8:um(),B=6;break e;case 3:case 2:case 9:case 6:Qi.current===null&&(l=!0);var fe=an;if(an=0,ki=null,Pc(a,H,Q,fe),h&&Ic){B=0;break e}break;default:fe=an,an=0,ki=null,Pc(a,H,Q,fe)}}mA(),B=$n;break}catch(Ce){rw(a,Ce)}while(!0);return l&&a.shellSuspendCounter++,_a=bl=null,sn=y,G.H=S,G.A=O,jt===null&&(_n=null,Vt=0,Ad()),B}function mA(){for(;jt!==null;)aw(jt)}function gA(a,l){var h=sn;sn|=2;var y=iw(),S=sw();_n!==a||Vt!==l?(ih=null,rh=Xt()+500,Lc(a,l)):Ic=$t(a,l);e:do try{if(an!==0&&jt!==null){l=jt;var O=ki;t:switch(an){case 1:an=0,ki=null,Pc(a,l,O,1);break;case 2:case 9:if(yy(O)){an=0,ki=null,ow(l);break}l=function(){an!==2&&an!==9||_n!==a||(an=7),Qs(a)},O.then(l,l);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:yy(O)?(an=0,ki=null,ow(l)):(an=0,ki=null,Pc(a,l,O,7));break;case 5:var B=null;switch(jt.tag){case 26:B=jt.memoizedState;case 5:case 27:var H=jt;if(!B||Hw(B)){an=0,ki=null;var Q=H.sibling;if(Q!==null)jt=Q;else{var fe=H.return;fe!==null?(jt=fe,ah(fe)):jt=null}break t}}an=0,ki=null,Pc(a,l,O,5);break;case 6:an=0,ki=null,Pc(a,l,O,6);break;case 8:um(),$n=6;break e;default:throw Error(r(462))}}xA();break}catch(Ce){rw(a,Ce)}while(!0);return _a=bl=null,G.H=y,G.A=S,sn=h,jt!==null?0:(_n=null,Vt=0,Ad(),$n)}function xA(){for(;jt!==null&&!hi();)aw(jt)}function aw(a){var l=Db(a.alternate,a,Da);a.memoizedProps=a.pendingProps,l===null?ah(a):jt=l}function ow(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=Ab(h,l,l.pendingProps,l.type,void 0,Vt);break;case 11:l=Ab(h,l,l.pendingProps,l.type.render,l.ref,Vt);break;case 5:Ap(l);default:Bb(h,l),l=jt=ly(l,Da),l=Db(h,l,Da)}a.memoizedProps=a.pendingProps,l===null?ah(a):jt=l}function Pc(a,l,h,y){_a=bl=null,Ap(l),Nc=null,qu=0;var S=l.return;try{if(aA(a,S,l,h,Vt)){$n=1,Zd(a,Xi(h,a.current)),jt=null;return}}catch(O){if(S!==null)throw jt=S,O;$n=1,Zd(a,Xi(h,a.current)),jt=null;return}l.flags&32768?(Yt||y===1?a=!0:Ic||(Vt&536870912)!==0?a=!1:(wo=a=!0,(y===2||y===9||y===3||y===6)&&(y=Qi.current,y!==null&&y.tag===13&&(y.flags|=16384))),lw(l,a)):ah(l)}function ah(a){var l=a;do{if((l.flags&32768)!==0){lw(l,wo);return}a=l.return;var h=lA(l.alternate,l,Da);if(h!==null){jt=h;return}if(l=l.sibling,l!==null){jt=l;return}jt=l=a}while(l!==null);$n===0&&($n=5)}function lw(a,l){do{var h=cA(a.alternate,a);if(h!==null){h.flags&=32767,jt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){jt=a;return}jt=a=h}while(a!==null);$n=6,jt=null}function cw(a,l,h,y,S,O,B,H,Q){a.cancelPendingCommit=null;do oh();while(Lr!==0);if((sn&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=np,il(a,h,O,B,H,Q),a===_n&&(jt=_n=null,Vt=0),kc=l,Eo=a,Bc=h,om=O,lm=S,Jb=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,vA($e,function(){return pw(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,S=ie.p,ie.p=2,B=sn,sn|=4;try{uA(a,l,h)}finally{sn=B,ie.p=S,G.T=y}}Lr=1,uw(),fw(),dw()}}function uw(){if(Lr===1){Lr=0;var a=Eo,l=kc,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var y=ie.p;ie.p=2;var S=sn;sn|=4;try{qb(l,a);var O=Sm,B=M(a.containerInfo),H=O.focusedElem,Q=O.selectionRange;if(B!==H&&H&&H.ownerDocument&&T(H.ownerDocument.documentElement,H)){if(Q!==null&&D(H)){var fe=Q.start,Ce=Q.end;if(Ce===void 0&&(Ce=fe),"selectionStart"in H)H.selectionStart=fe,H.selectionEnd=Math.min(Ce,H.value.length);else{var Ne=H.ownerDocument||document,he=Ne&&Ne.defaultView||window;if(he.getSelection){var me=he.getSelection(),ht=H.textContent.length,ut=Math.min(Q.start,ht),mn=Q.end===void 0?ut:Math.min(Q.end,ht);!me.extend&&ut>mn&&(B=mn,mn=ut,ut=B);var ae=C(H,ut),ne=C(H,mn);if(ae&&ne&&(me.rangeCount!==1||me.anchorNode!==ae.node||me.anchorOffset!==ae.offset||me.focusNode!==ne.node||me.focusOffset!==ne.offset)){var ue=Ne.createRange();ue.setStart(ae.node,ae.offset),me.removeAllRanges(),ut>mn?(me.addRange(ue),me.extend(ne.node,ne.offset)):(ue.setEnd(ne.node,ne.offset),me.addRange(ue))}}}}for(Ne=[],me=H;me=me.parentNode;)me.nodeType===1&&Ne.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ne.length;H++){var Se=Ne[H];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}bh=!!Em,Sm=Em=null}finally{sn=S,ie.p=y,G.T=h}}a.current=l,Lr=2}}function fw(){if(Lr===2){Lr=0;var a=Eo,l=kc,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var y=ie.p;ie.p=2;var S=sn;sn|=4;try{Hb(a,l.alternate,l)}finally{sn=S,ie.p=y,G.T=h}}Lr=3}}function dw(){if(Lr===4||Lr===3){Lr=0,fa();var a=Eo,l=kc,h=Bc,y=Jb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Lr=5:(Lr=0,kc=Eo=null,hw(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(Co=null),Hn(h),l=l.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Cn,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=G.T,S=ie.p,ie.p=2,G.T=null;try{for(var O=a.onRecoverableError,B=0;B<y.length;B++){var H=y[B];O(H.value,{componentStack:H.stack})}}finally{G.T=l,ie.p=S}}(Bc&3)!==0&&oh(),Qs(a),S=a.pendingLanes,(h&4194090)!==0&&(S&42)!==0?a===cm?tf++:(tf=0,cm=a):tf=0,nf(0)}}function hw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Bu(l)))}function oh(a){return uw(),fw(),dw(),pw()}function pw(){if(Lr!==5)return!1;var a=Eo,l=om;om=0;var h=Hn(Bc),y=G.T,S=ie.p;try{ie.p=32>h?32:h,G.T=null,h=lm,lm=null;var O=Eo,B=Bc;if(Lr=0,kc=Eo=null,Bc=0,(sn&6)!==0)throw Error(r(331));var H=sn;if(sn|=4,Zb(O.current),Xb(O,O.current,B,h),sn=H,nf(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Cn,O)}catch{}return!0}finally{ie.p=S,G.T=y,hw(a,l)}}function mw(a,l,h){l=Xi(h,l),l=Up(a.stateNode,l,2),a=ho(a,l,2),a!==null&&(ti(a,2),Qs(a))}function xn(a,l,h){if(a.tag===3)mw(a,a,h);else for(;l!==null;){if(l.tag===3){mw(l,a,h);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Co===null||!Co.has(y))){a=Xi(h,a),h=bb(2),y=ho(l,h,2),y!==null&&(wb(h,y,l,a),ti(y,2),Qs(y));break}}l=l.return}}function hm(a,l,h){var y=a.pingCache;if(y===null){y=a.pingCache=new hA;var S=new Set;y.set(l,S)}else S=y.get(l),S===void 0&&(S=new Set,y.set(l,S));S.has(h)||(rm=!0,S.add(h),a=yA.bind(null,a,l,h),l.then(a,a))}function yA(a,l,h){var y=a.pingCache;y!==null&&y.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,_n===a&&(Vt&h)===h&&($n===4||$n===3&&(Vt&62914560)===Vt&&300>Xt()-am?(sn&2)===0&&Lc(a,0):im|=h,Dc===Vt&&(Dc=0)),Qs(a)}function gw(a,l){l===0&&(l=rl()),a=yc(a,l),a!==null&&(ti(a,l),Qs(a))}function bA(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),gw(a,h)}function wA(a,l){var h=0;switch(a.tag){case 13:var y=a.stateNode,S=a.memoizedState;S!==null&&(h=S.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),gw(a,h)}function vA(a,l){return Lt(a,l)}var lh=null,jc=null,pm=!1,ch=!1,mm=!1,Tl=0;function Qs(a){a!==jc&&a.next===null&&(jc===null?lh=jc=a:jc=jc.next=a),ch=!0,pm||(pm=!0,EA())}function nf(a,l){if(!mm&&ch){mm=!0;do for(var h=!1,y=lh;y!==null;){if(a!==0){var S=y.pendingLanes;if(S===0)var O=0;else{var B=y.suspendedLanes,H=y.pingedLanes;O=(1<<31-Gt(42|a)+1)-1,O&=S&~(B&~H),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,ww(y,O))}else O=Vt,O=Ht(y,y===_n?O:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(O&3)===0||$t(y,O)||(h=!0,ww(y,O));y=y.next}while(h);mm=!1}}function CA(){xw()}function xw(){ch=pm=!1;var a=0;Tl!==0&&(RA()&&(a=Tl),Tl=0);for(var l=Xt(),h=null,y=lh;y!==null;){var S=y.next,O=yw(y,l);O===0?(y.next=null,h===null?lh=S:h.next=S,S===null&&(jc=h)):(h=y,(a!==0||(O&3)!==0)&&(ch=!0)),y=S}nf(a)}function yw(a,l){for(var h=a.suspendedLanes,y=a.pingedLanes,S=a.expirationTimes,O=a.pendingLanes&-62914561;0<O;){var B=31-Gt(O),H=1<<B,Q=S[B];Q===-1?((H&h)===0||(H&y)!==0)&&(S[B]=ks(H,l)):Q<=l&&(a.expiredLanes|=H),O&=~H}if(l=_n,h=Vt,h=Ht(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,h===0||a===l&&(an===2||an===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&vr(y),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||$t(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(y!==null&&vr(y),Hn(h)){case 2:case 8:h=da;break;case 32:h=$e;break;case 268435456:h=gs;break;default:h=$e}return y=bw.bind(null,a),h=Lt(h,y),a.callbackPriority=l,a.callbackNode=h,l}return y!==null&&y!==null&&vr(y),a.callbackPriority=2,a.callbackNode=null,2}function bw(a,l){if(Lr!==0&&Lr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(oh()&&a.callbackNode!==h)return null;var y=Vt;return y=Ht(a,a===_n?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(tw(a,y,l),yw(a,Xt()),a.callbackNode!=null&&a.callbackNode===h?bw.bind(null,a):null)}function ww(a,l){if(oh())return null;tw(a,l,!0)}function EA(){DA(function(){(sn&6)!==0?Lt(It,CA):xw()})}function gm(){return Tl===0&&(Tl=Bs()),Tl}function vw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:cc(""+a)}function Cw(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function SA(a,l,h,y,S){if(l==="submit"&&h&&h.stateNode===S){var O=vw((S[Le]||null).action),B=y.submitter;B&&(l=(l=B[Le]||null)?vw(l.formAction):B.getAttribute("formAction"),l!==null&&(O=l,B=null));var H=new Gs("action","action",null,y,S);a.push({event:H,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Tl!==0){var Q=B?Cw(S,B):new FormData(S);Lp(h,{pending:!0,data:Q,method:S.method,action:O},null,Q)}}else typeof O=="function"&&(H.preventDefault(),Q=B?Cw(S,B):new FormData(S),Lp(h,{pending:!0,data:Q,method:S.method,action:O},O,Q))},currentTarget:S}]})}}for(var xm=0;xm<Ws.length;xm++){var ym=Ws[xm],_A=ym.toLowerCase(),TA=ym[0].toUpperCase()+ym.slice(1);Mi(_A,"on"+TA)}Mi(gt,"onAnimationEnd"),Mi(kr,"onAnimationIteration"),Mi(xi,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Gr,"onTransitionRun"),Mi(rn,"onTransitionStart"),Mi(xr,"onTransitionCancel"),Mi($r,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function Ew(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],S=y.event;y=y.listeners;e:{var O=void 0;if(l)for(var B=y.length-1;0<=B;B--){var H=y[B],Q=H.instance,fe=H.currentTarget;if(H=H.listener,Q!==O&&S.isPropagationStopped())break e;O=H,S.currentTarget=fe;try{O(S)}catch(Ce){Kd(Ce)}S.currentTarget=null,O=Q}else for(B=0;B<y.length;B++){if(H=y[B],Q=H.instance,fe=H.currentTarget,H=H.listener,Q!==O&&S.isPropagationStopped())break e;O=H,S.currentTarget=fe;try{O(S)}catch(Ce){Kd(Ce)}S.currentTarget=null,O=Q}}}}function zt(a,l){var h=l[Ye];h===void 0&&(h=l[Ye]=new Set);var y=a+"__bubble";h.has(y)||(Sw(l,a,2,!1),h.add(y))}function bm(a,l,h){var y=0;l&&(y|=4),Sw(h,a,y,l)}var uh="_reactListening"+Math.random().toString(36).slice(2);function wm(a){if(!a[uh]){a[uh]=!0,Pt.forEach(function(h){h!=="selectionchange"&&(AA.has(h)||bm(h,!1,a),bm(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[uh]||(l[uh]=!0,bm("selectionchange",!1,l))}}function Sw(a,l,h,y){switch(Xw(l)){case 2:var S=e8;break;case 8:S=t8;break;default:S=km}h=S.bind(null,l,h,a),S=void 0,!xt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),y?S!==void 0?a.addEventListener(l,h,{capture:!0,passive:S}):a.addEventListener(l,h,!0):S!==void 0?a.addEventListener(l,h,{passive:S}):a.addEventListener(l,h,!1)}function vm(a,l,h,y,S){var O=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var H=y.stateNode.containerInfo;if(H===S)break;if(B===4)for(B=y.return;B!==null;){var Q=B.tag;if((Q===3||Q===4)&&B.stateNode.containerInfo===S)return;B=B.return}for(;H!==null;){if(B=Qe(H),B===null)return;if(Q=B.tag,Q===5||Q===6||Q===26||Q===27){y=O=B;continue e}H=H.parentNode}}y=y.return}bs(function(){var fe=O,Ce=Qa(h),Ne=[];e:{var he=va.get(a);if(he!==void 0){var me=Gs,ht=a;switch(a){case"keypress":if(uc(h)===0)break e;case"keydown":case"keyup":me=_u;break;case"focusin":ht="focus",me=no;break;case"focusout":ht="blur",me=no;break;case"beforeblur":case"afterblur":me=no;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=nn;break;case gt:case kr:case xi:me=X0;break;case $r:me=Q0;break;case"scroll":case"scrollend":me=Hr;break;case"wheel":me=ba;break;case"copy":case"cut":case"paste":me=Et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ul;break;case"toggle":case"beforetoggle":me=J0}var ut=(l&4)!==0,mn=!ut&&(a==="scroll"||a==="scrollend"),ae=ut?he!==null?he+"Capture":null:he;ut=[];for(var ne=fe,ue;ne!==null;){var Se=ne;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||ae===null||(Se=at(ne,ae),Se!=null&&ut.push(sf(ne,Se,ue))),mn)break;ne=ne.return}0<ut.length&&(he=new me(he,ht,null,h,Ce),Ne.push({event:he,listeners:ut}))}}if((l&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",he&&h!==sl&&(ht=h.relatedTarget||h.fromElement)&&(Qe(ht)||ht[Xe]))break e;if((me||he)&&(he=Ce.window===Ce?Ce:(he=Ce.ownerDocument)?he.defaultView||he.parentWindow:window,me?(ht=h.relatedTarget||h.toElement,me=fe,ht=ht?Qe(ht):null,ht!==null&&(mn=s(ht),ut=ht.tag,ht!==mn||ut!==5&&ut!==27&&ut!==6)&&(ht=null)):(me=null,ht=fe),me!==ht)){if(ut=vd,Se="onMouseLeave",ae="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(ut=ul,Se="onPointerLeave",ae="onPointerEnter",ne="pointer"),mn=me==null?he:Qt(me),ue=ht==null?he:Qt(ht),he=new ut(Se,ne+"leave",me,h,Ce),he.target=mn,he.relatedTarget=ue,Se=null,Qe(Ce)===fe&&(ut=new ut(ae,ne+"enter",ht,h,Ce),ut.target=ue,ut.relatedTarget=mn,Se=ut),mn=Se,me&&ht)t:{for(ut=me,ae=ht,ne=0,ue=ut;ue;ue=zc(ue))ne++;for(ue=0,Se=ae;Se;Se=zc(Se))ue++;for(;0<ne-ue;)ut=zc(ut),ne--;for(;0<ue-ne;)ae=zc(ae),ue--;for(;ne--;){if(ut===ae||ae!==null&&ut===ae.alternate)break t;ut=zc(ut),ae=zc(ae)}ut=null}else ut=null;me!==null&&_w(Ne,he,me,ut,!1),ht!==null&&mn!==null&&_w(Ne,mn,ht,ut,!0)}}e:{if(he=fe?Qt(fe):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var Ke=_d;else if(hl(he))if(Ou)Ke=u;else{Ke=L;var kt=gc}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?fe&&rt(fe.elementType)&&(Ke=_d):Ke=o;if(Ke&&(Ke=Ke(a,fe))){ri(Ne,Ke,h,Ce);break e}kt&&kt(a,he,fe),a==="focusout"&&fe&&he.type==="number"&&fe.memoizedProps.value!=null&&ce(he,"number",he.value)}switch(kt=fe?Qt(fe):window,a){case"focusin":(hl(kt)||kt.contentEditable==="true")&&(z=kt,q=fe,J=null);break;case"focusout":J=q=z=null;break;case"mousedown":te=!0;break;case"contextmenu":case"mouseup":case"dragend":te=!1,le(Ne,h,Ce);break;case"selectionchange":if(P)break;case"keydown":case"keyup":le(Ne,h,Ce)}var it;if(fl)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else so?wa(a,h)&&(ft="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(Au&&h.locale!=="ko"&&(so||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&so&&(it=Us()):(Fs=Ce,al="value"in Fs?Fs.value:Fs.textContent,so=!0)),kt=fh(fe,ft),0<kt.length&&(ft=new ll(ft,a,null,h,Ce),Ne.push({event:ft,listeners:kt}),it?ft.data=it:(it=pc(h),it!==null&&(ft.data=it)))),(it=Tu?dl(a,h):ep(a,h))&&(ft=fh(fe,"onBeforeInput"),0<ft.length&&(kt=new ll("onBeforeInput","beforeinput",null,h,Ce),Ne.push({event:kt,listeners:ft}),kt.data=it)),SA(Ne,a,fe,h,Ce)}Ew(Ne,l)})}function sf(a,l,h){return{instance:a,listener:l,currentTarget:h}}function fh(a,l){for(var h=l+"Capture",y=[];a!==null;){var S=a,O=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||O===null||(S=at(a,h),S!=null&&y.unshift(sf(a,S,O)),S=at(a,l),S!=null&&y.push(sf(a,S,O))),a.tag===3)return y;a=a.return}return[]}function zc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _w(a,l,h,y,S){for(var O=l._reactName,B=[];h!==null&&h!==y;){var H=h,Q=H.alternate,fe=H.stateNode;if(H=H.tag,Q!==null&&Q===y)break;H!==5&&H!==26&&H!==27||fe===null||(Q=fe,S?(fe=at(h,O),fe!=null&&B.unshift(sf(h,fe,Q))):S||(fe=at(h,O),fe!=null&&B.push(sf(h,fe,Q)))),h=h.return}B.length!==0&&a.push({event:l,listeners:B})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Tw(a){return(typeof a=="string"?a:""+a).replace(NA,`
`).replace(OA,"")}function Aw(a,l){return l=Tw(l),Tw(a)===l}function dh(){}function pn(a,l,h,y,S,O){switch(h){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||mr(a,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&mr(a,""+y);break;case"className":ys(a,"class",y);break;case"tabIndex":ys(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(a,h,y);break;case"style":ni(a,y,O);break;case"data":if(l!=="object"){ys(a,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=cc(""+y),a.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&pn(a,l,"name",S.name,S,null),pn(a,l,"formEncType",S.formEncType,S,null),pn(a,l,"formMethod",S.formMethod,S,null),pn(a,l,"formTarget",S.formTarget,S,null)):(pn(a,l,"encType",S.encType,S,null),pn(a,l,"method",S.method,S,null),pn(a,l,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=cc(""+y),a.setAttribute(h,y);break;case"onClick":y!=null&&(a.onclick=dh);break;case"onScroll":y!=null&&zt("scroll",a);break;case"onScrollEnd":y!=null&&zt("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}h=cc(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""+y):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":y===!0?a.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,y):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(h,y):a.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(h):a.setAttribute(h,y);break;case"popover":zt("beforetoggle",a),zt("toggle",a),Ee(a,"popover",y);break;case"xlinkActuate":et(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":et(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":et(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":et(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":et(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":et(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":et(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":et(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":et(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ee(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=On.get(h)||h,Ee(a,h,y))}}function Cm(a,l,h,y,S,O){switch(h){case"style":ni(a,y,O);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof y=="string"?mr(a,y):(typeof y=="number"||typeof y=="bigint")&&mr(a,""+y);break;case"onScroll":y!=null&&zt("scroll",a);break;case"onScrollEnd":y!=null&&zt("scrollend",a);break;case"onClick":y!=null&&(a.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ps.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),l=h.slice(2,S?h.length-7:void 0),O=a[Le]||null,O=O!=null?O[h]:null,typeof O=="function"&&a.removeEventListener(l,O,S),typeof y=="function")){typeof O!="function"&&O!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,y,S);break e}h in a?a[h]=y:y===!0?a.setAttribute(h,""):Ee(a,h,y)}}}function Pr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",a),zt("load",a);var y=!1,S=!1,O;for(O in h)if(h.hasOwnProperty(O)){var B=h[O];if(B!=null)switch(O){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pn(a,l,O,B,h,null)}}S&&pn(a,l,"srcSet",h.srcSet,h,null),y&&pn(a,l,"src",h.src,h,null);return;case"input":zt("invalid",a);var H=O=B=S=null,Q=null,fe=null;for(y in h)if(h.hasOwnProperty(y)){var Ce=h[y];if(Ce!=null)switch(y){case"name":S=Ce;break;case"type":B=Ce;break;case"checked":Q=Ce;break;case"defaultChecked":fe=Ce;break;case"value":O=Ce;break;case"defaultValue":H=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:pn(a,l,y,Ce,h,null)}}pr(a,O,H,Q,fe,B,S,!1),oc(a);return;case"select":zt("invalid",a),y=B=O=null;for(S in h)if(h.hasOwnProperty(S)&&(H=h[S],H!=null))switch(S){case"value":O=H;break;case"defaultValue":B=H;break;case"multiple":y=H;default:pn(a,l,S,H,h,null)}l=O,h=B,a.multiple=!!y,l!=null?$(a,!!y,l,!1):h!=null&&$(a,!!y,h,!0);return;case"textarea":zt("invalid",a),O=S=y=null;for(B in h)if(h.hasOwnProperty(B)&&(H=h[B],H!=null))switch(B){case"value":y=H;break;case"defaultValue":S=H;break;case"children":O=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:pn(a,l,B,H,h,null)}Kn(a,y,S,O),oc(a);return;case"option":for(Q in h)if(h.hasOwnProperty(Q)&&(y=h[Q],y!=null))switch(Q){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:pn(a,l,Q,y,h,null)}return;case"dialog":zt("beforetoggle",a),zt("toggle",a),zt("cancel",a),zt("close",a);break;case"iframe":case"object":zt("load",a);break;case"video":case"audio":for(y=0;y<rf.length;y++)zt(rf[y],a);break;case"image":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"embed":case"source":case"link":zt("error",a),zt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in h)if(h.hasOwnProperty(fe)&&(y=h[fe],y!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pn(a,l,fe,y,h,null)}return;default:if(rt(l)){for(Ce in h)h.hasOwnProperty(Ce)&&(y=h[Ce],y!==void 0&&Cm(a,l,Ce,y,h,void 0));return}}for(H in h)h.hasOwnProperty(H)&&(y=h[H],y!=null&&pn(a,l,H,y,h,null))}function MA(a,l,h,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,O=null,B=null,H=null,Q=null,fe=null,Ce=null;for(me in h){var Ne=h[me];if(h.hasOwnProperty(me)&&Ne!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Q=Ne;default:y.hasOwnProperty(me)||pn(a,l,me,null,y,Ne)}}for(var he in y){var me=y[he];if(Ne=h[he],y.hasOwnProperty(he)&&(me!=null||Ne!=null))switch(he){case"type":O=me;break;case"name":S=me;break;case"checked":fe=me;break;case"defaultChecked":Ce=me;break;case"value":B=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:me!==Ne&&pn(a,l,he,me,y,Ne)}}Jt(a,B,H,Q,fe,Ce,O,S);return;case"select":me=B=H=he=null;for(O in h)if(Q=h[O],h.hasOwnProperty(O)&&Q!=null)switch(O){case"value":break;case"multiple":me=Q;default:y.hasOwnProperty(O)||pn(a,l,O,null,y,Q)}for(S in y)if(O=y[S],Q=h[S],y.hasOwnProperty(S)&&(O!=null||Q!=null))switch(S){case"value":he=O;break;case"defaultValue":H=O;break;case"multiple":B=O;default:O!==Q&&pn(a,l,S,O,y,Q)}l=H,h=B,y=me,he!=null?$(a,!!h,he,!1):!!y!=!!h&&(l!=null?$(a,!!h,l,!0):$(a,!!h,h?[]:"",!1));return;case"textarea":me=he=null;for(H in h)if(S=h[H],h.hasOwnProperty(H)&&S!=null&&!y.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:pn(a,l,H,null,y,S)}for(B in y)if(S=y[B],O=h[B],y.hasOwnProperty(B)&&(S!=null||O!=null))switch(B){case"value":he=S;break;case"defaultValue":me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==O&&pn(a,l,B,S,y,O)}nt(a,he,me);return;case"option":for(var ht in h)if(he=h[ht],h.hasOwnProperty(ht)&&he!=null&&!y.hasOwnProperty(ht))switch(ht){case"selected":a.selected=!1;break;default:pn(a,l,ht,null,y,he)}for(Q in y)if(he=y[Q],me=h[Q],y.hasOwnProperty(Q)&&he!==me&&(he!=null||me!=null))switch(Q){case"selected":a.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:pn(a,l,Q,he,y,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in h)he=h[ut],h.hasOwnProperty(ut)&&he!=null&&!y.hasOwnProperty(ut)&&pn(a,l,ut,null,y,he);for(fe in y)if(he=y[fe],me=h[fe],y.hasOwnProperty(fe)&&he!==me&&(he!=null||me!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:pn(a,l,fe,he,y,me)}return;default:if(rt(l)){for(var mn in h)he=h[mn],h.hasOwnProperty(mn)&&he!==void 0&&!y.hasOwnProperty(mn)&&Cm(a,l,mn,void 0,y,he);for(Ce in y)he=y[Ce],me=h[Ce],!y.hasOwnProperty(Ce)||he===me||he===void 0&&me===void 0||Cm(a,l,Ce,he,y,me);return}}for(var ae in h)he=h[ae],h.hasOwnProperty(ae)&&he!=null&&!y.hasOwnProperty(ae)&&pn(a,l,ae,null,y,he);for(Ne in y)he=y[Ne],me=h[Ne],!y.hasOwnProperty(Ne)||he===me||he==null&&me==null||pn(a,l,Ne,he,y,me)}var Em=null,Sm=null;function hh(a){return a.nodeType===9?a:a.ownerDocument}function Nw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ow(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function _m(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Tm=null;function RA(){var a=window.event;return a&&a.type==="popstate"?a===Tm?!1:(Tm=a,!0):(Tm=null,!1)}var Mw=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(a){return Rw.resolve(null).then(a).catch(kA)}:Mw;function kA(a){setTimeout(function(){throw a})}function _o(a){return a==="head"}function Iw(a,l){var h=l,y=0,S=0;do{var O=h.nextSibling;if(a.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<y&&8>y){h=y;var B=a.ownerDocument;if(h&1&&af(B.documentElement),h&2&&af(B.body),h&4)for(h=B.head,af(h),B=h.firstChild;B;){var H=B.nextSibling,Q=B.nodeName;B[st]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&B.rel.toLowerCase()==="stylesheet"||h.removeChild(B),B=H}}if(S===0){a.removeChild(O),pf(l);return}S--}else h==="$"||h==="$?"||h==="$!"?S++:y=h.charCodeAt(0)-48;else y=0;h=O}while(h);pf(l)}function Am(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Am(h),Je(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function BA(a,l,h,y){for(;a.nodeType===1;){var S=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[st])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(O=a.getAttribute("rel"),O==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(O!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(O=a.getAttribute("src"),(O!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&O&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var O=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===O)return a}else return a;if(a=Es(a.nextSibling),a===null)break}return null}function LA(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Es(a.nextSibling),a===null))return null;return a}function Nm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function PA(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var y=function(){l(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Es(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Om=null;function Dw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function kw(a,l,h){switch(l=hh(h),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function af(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Je(a)}var es=new Map,Bw=new Set;function ph(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ka=ie.d;ie.d={f:jA,r:zA,D:FA,C:UA,L:HA,m:VA,X:$A,S:GA,M:qA};function jA(){var a=ka.f(),l=sh();return a||l}function zA(a){var l=_t(a);l!==null&&l.tag===5&&l.type==="form"?tb(l):ka.r(a)}var Fc=typeof document>"u"?null:document;function Lw(a,l,h){var y=Fc;if(y&&typeof l=="string"&&l){var S=hr(l);S='link[rel="'+a+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),Bw.has(S)||(Bw.add(S),a={rel:a,crossOrigin:h,href:l},y.querySelector(S)===null&&(l=y.createElement("link"),Pr(l,"link",a),bt(l),y.head.appendChild(l)))}}function FA(a){ka.D(a),Lw("dns-prefetch",a,null)}function UA(a,l){ka.C(a,l),Lw("preconnect",a,l)}function HA(a,l,h){ka.L(a,l,h);var y=Fc;if(y&&a&&l){var S='link[rel="preload"][as="'+hr(l)+'"]';l==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+hr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+hr(h.imageSizes)+'"]')):S+='[href="'+hr(a)+'"]';var O=S;switch(l){case"style":O=Uc(a);break;case"script":O=Hc(a)}es.has(O)||(a=b({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),es.set(O,a),y.querySelector(S)!==null||l==="style"&&y.querySelector(of(O))||l==="script"&&y.querySelector(lf(O))||(l=y.createElement("link"),Pr(l,"link",a),bt(l),y.head.appendChild(l)))}}function VA(a,l){ka.m(a,l);var h=Fc;if(h&&a){var y=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+hr(y)+'"][href="'+hr(a)+'"]',O=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Hc(a)}if(!es.has(O)&&(a=b({rel:"modulepreload",href:a},l),es.set(O,a),h.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(lf(O)))return}y=h.createElement("link"),Pr(y,"link",a),bt(y),h.head.appendChild(y)}}}function GA(a,l,h){ka.S(a,l,h);var y=Fc;if(y&&a){var S=fn(y).hoistableStyles,O=Uc(a);l=l||"default";var B=S.get(O);if(!B){var H={loading:0,preload:null};if(B=y.querySelector(of(O)))H.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":l},h),(h=es.get(O))&&Mm(a,h);var Q=B=y.createElement("link");bt(Q),Pr(Q,"link",a),Q._p=new Promise(function(fe,Ce){Q.onload=fe,Q.onerror=Ce}),Q.addEventListener("load",function(){H.loading|=1}),Q.addEventListener("error",function(){H.loading|=2}),H.loading|=4,mh(B,l,y)}B={type:"stylesheet",instance:B,count:1,state:H},S.set(O,B)}}}function $A(a,l){ka.X(a,l);var h=Fc;if(h&&a){var y=fn(h).hoistableScripts,S=Hc(a),O=y.get(S);O||(O=h.querySelector(lf(S)),O||(a=b({src:a,async:!0},l),(l=es.get(S))&&Rm(a,l),O=h.createElement("script"),bt(O),Pr(O,"link",a),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(S,O))}}function qA(a,l){ka.M(a,l);var h=Fc;if(h&&a){var y=fn(h).hoistableScripts,S=Hc(a),O=y.get(S);O||(O=h.querySelector(lf(S)),O||(a=b({src:a,async:!0,type:"module"},l),(l=es.get(S))&&Rm(a,l),O=h.createElement("script"),bt(O),Pr(O,"link",a),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(S,O))}}function Pw(a,l,h,y){var S=(S=Oe.current)?ph(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Uc(h.href),h=fn(S).hoistableStyles,y=h.get(l),y||(y={type:"style",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Uc(h.href);var O=fn(S).hoistableStyles,B=O.get(a);if(B||(S=S.ownerDocument||S,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(a,B),(O=S.querySelector(of(a)))&&!O._p&&(B.instance=O,B.state.loading=5),es.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},es.set(a,h),O||WA(S,a,h,B.state))),l&&y===null)throw Error(r(528,""));return B}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Hc(h),h=fn(S).hoistableScripts,y=h.get(l),y||(y={type:"script",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Uc(a){return'href="'+hr(a)+'"'}function of(a){return'link[rel="stylesheet"]['+a+"]"}function jw(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function WA(a,l,h,y){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=a.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),Pr(l,"link",h),bt(l),a.head.appendChild(l))}function Hc(a){return'[src="'+hr(a)+'"]'}function lf(a){return"script[async]"+a}function zw(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var y=a.querySelector('style[data-href~="'+hr(h.href)+'"]');if(y)return l.instance=y,bt(y),y;var S=b({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),bt(y),Pr(y,"style",S),mh(y,h.precedence,a),l.instance=y;case"stylesheet":S=Uc(h.href);var O=a.querySelector(of(S));if(O)return l.state.loading|=4,l.instance=O,bt(O),O;y=jw(h),(S=es.get(S))&&Mm(y,S),O=(a.ownerDocument||a).createElement("link"),bt(O);var B=O;return B._p=new Promise(function(H,Q){B.onload=H,B.onerror=Q}),Pr(O,"link",y),l.state.loading|=4,mh(O,h.precedence,a),l.instance=O;case"script":return O=Hc(h.src),(S=a.querySelector(lf(O)))?(l.instance=S,bt(S),S):(y=h,(S=es.get(O))&&(y=b({},h),Rm(y,S)),a=a.ownerDocument||a,S=a.createElement("script"),bt(S),Pr(S,"link",y),a.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,mh(y,h.precedence,a));return l.instance}function mh(a,l,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,O=S,B=0;B<y.length;B++){var H=y[B];if(H.dataset.precedence===l)O=H;else if(O!==S)break}O?O.parentNode.insertBefore(a,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function Mm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Rm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var gh=null;function Fw(a,l,h){if(gh===null){var y=new Map,S=gh=new Map;S.set(h,y)}else S=gh,y=S.get(h),y||(y=new Map,S.set(h,y));if(y.has(a))return y;for(y.set(a,null),h=h.getElementsByTagName(a),S=0;S<h.length;S++){var O=h[S];if(!(O[st]||O[Ae]||a==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var B=O.getAttribute(l)||"";B=a+B;var H=y.get(B);H?H.push(O):y.set(B,[O])}}return y}function Uw(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function XA(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Hw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var cf=null;function YA(){}function KA(a,l,h){if(cf===null)throw Error(r(475));var y=cf;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var S=Uc(h.href),O=a.querySelector(of(S));if(O){a=O._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=xh.bind(y),a.then(y,y)),l.state.loading|=4,l.instance=O,bt(O);return}O=a.ownerDocument||a,h=jw(h),(S=es.get(S))&&Mm(h,S),O=O.createElement("link"),bt(O);var B=O;B._p=new Promise(function(H,Q){B.onload=H,B.onerror=Q}),Pr(O,"link",h),l.instance=O}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=xh.bind(y),a.addEventListener("load",l),a.addEventListener("error",l))}}function ZA(){if(cf===null)throw Error(r(475));var a=cf;return a.stylesheets&&a.count===0&&Im(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&Im(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yh=null;function Im(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yh=new Map,l.forEach(QA,a),yh=null,xh.call(a))}function QA(a,l){if(!(l.state.loading&4)){var h=yh.get(a);if(h)var y=h.get(null);else{h=new Map,yh.set(a,h);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<S.length;O++){var B=S[O];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),y=B)}y&&h.set(null,y)}S=l.instance,B=S.getAttribute("data-precedence"),O=h.get(B)||y,O===y&&h.set(null,S),h.set(B,S),this.count++,y=xh.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),O?O.parentNode.insertBefore(S,O.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),l.state.loading|=4}}var uf={$$typeof:j,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function JA(a,l,h,y,S,O,B,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=O,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Vw(a,l,h,y,S,O,B,H,Q,fe,Ce,Ne){return a=new JA(a,l,h,B,H,Q,fe,Ne),l=1,O===!0&&(l|=24),O=Ri(3,null,null,l),a.current=O,O.stateNode=a,l=hp(),l.refCount++,a.pooledCache=l,l.refCount++,O.memoizedState={element:y,isDehydrated:h,cache:l},xp(O),a}function Gw(a){return a?(a=bc,a):bc}function $w(a,l,h,y,S,O){S=Gw(S),y.context===null?y.context=S:y.pendingContext=S,y=fo(l),y.payload={element:h},O=O===void 0?null:O,O!==null&&(y.callback=O),h=ho(a,y,l),h!==null&&(Li(h,a,l),zu(h,a,l))}function qw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Dm(a,l){qw(a,l),(a=a.alternate)&&qw(a,l)}function Ww(a){if(a.tag===13){var l=yc(a,67108864);l!==null&&Li(l,a,67108864),Dm(a,67108864)}}var bh=!0;function e8(a,l,h,y){var S=G.T;G.T=null;var O=ie.p;try{ie.p=2,km(a,l,h,y)}finally{ie.p=O,G.T=S}}function t8(a,l,h,y){var S=G.T;G.T=null;var O=ie.p;try{ie.p=8,km(a,l,h,y)}finally{ie.p=O,G.T=S}}function km(a,l,h,y){if(bh){var S=Bm(y);if(S===null)vm(a,l,y,wh,h),Yw(a,y);else if(r8(S,a,l,h,y))y.stopPropagation();else if(Yw(a,y),l&4&&-1<n8.indexOf(a)){for(;S!==null;){var O=_t(S);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var B=tn(O.pendingLanes);if(B!==0){var H=O;for(H.pendingLanes|=2,H.entangledLanes|=2;B;){var Q=1<<31-Gt(B);H.entanglements[1]|=Q,B&=~Q}Qs(O),(sn&6)===0&&(rh=Xt()+500,nf(0))}}break;case 13:H=yc(O,2),H!==null&&Li(H,O,2),sh(),Dm(O,2)}if(O=Bm(y),O===null&&vm(a,l,y,wh,h),O===S)break;S=O}S!==null&&y.stopPropagation()}else vm(a,l,y,null,h)}}function Bm(a){return a=Qa(a),Lm(a)}var wh=null;function Lm(a){if(wh=null,a=Qe(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=c(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return wh=a,null}function Xw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case It:return 2;case da:return 8;case $e:case pi:return 32;case gs:return 268435456;default:return 32}default:return 32}}var Pm=!1,To=null,Ao=null,No=null,ff=new Map,df=new Map,Oo=[],n8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yw(a,l){switch(a){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":ff.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(l.pointerId)}}function hf(a,l,h,y,S,O){return a===null||a.nativeEvent!==O?(a={blockedOn:l,domEventName:h,eventSystemFlags:y,nativeEvent:O,targetContainers:[S]},l!==null&&(l=_t(l),l!==null&&Ww(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),a)}function r8(a,l,h,y,S){switch(l){case"focusin":return To=hf(To,a,l,h,y,S),!0;case"dragenter":return Ao=hf(Ao,a,l,h,y,S),!0;case"mouseover":return No=hf(No,a,l,h,y,S),!0;case"pointerover":var O=S.pointerId;return ff.set(O,hf(ff.get(O)||null,a,l,h,y,S)),!0;case"gotpointercapture":return O=S.pointerId,df.set(O,hf(df.get(O)||null,a,l,h,y,S)),!0}return!1}function Kw(a){var l=Qe(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=c(h),l!==null){a.blockedOn=l,oe(a.priority,function(){if(h.tag===13){var y=Bi();y=pa(y);var S=yc(h,y);S!==null&&Li(S,h,y),Dm(h,y)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Bm(a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);sl=y,h.target.dispatchEvent(y),sl=null}else return l=_t(h),l!==null&&Ww(l),a.blockedOn=h,!1;l.shift()}return!0}function Zw(a,l,h){vh(a)&&h.delete(l)}function i8(){Pm=!1,To!==null&&vh(To)&&(To=null),Ao!==null&&vh(Ao)&&(Ao=null),No!==null&&vh(No)&&(No=null),ff.forEach(Zw),df.forEach(Zw)}function Ch(a,l){a.blockedOn===l&&(a.blockedOn=null,Pm||(Pm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i8)))}var Eh=null;function Qw(a){Eh!==a&&(Eh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eh===a&&(Eh=null);for(var l=0;l<a.length;l+=3){var h=a[l],y=a[l+1],S=a[l+2];if(typeof y!="function"){if(Lm(y||h)===null)continue;break}var O=_t(h);O!==null&&(a.splice(l,3),l-=3,Lp(O,{pending:!0,data:S,method:h.method,action:y},y,S))}}))}function pf(a){function l(Q){return Ch(Q,a)}To!==null&&Ch(To,a),Ao!==null&&Ch(Ao,a),No!==null&&Ch(No,a),ff.forEach(l),df.forEach(l);for(var h=0;h<Oo.length;h++){var y=Oo[h];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Oo.length&&(h=Oo[0],h.blockedOn===null);)Kw(h),h.blockedOn===null&&Oo.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var S=h[y],O=h[y+1],B=S[Le]||null;if(typeof O=="function")B||Qw(h);else if(B){var H=null;if(O&&O.hasAttribute("formAction")){if(S=O,B=O[Le]||null)H=B.formAction;else if(Lm(S)!==null)continue}else H=B.action;typeof H=="function"?h[y+1]=H:(h.splice(y,3),y-=3),Qw(h)}}}function jm(a){this._internalRoot=a}Sh.prototype.render=jm.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,y=Bi();$w(h,y,a,l,null,null)},Sh.prototype.unmount=jm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;$w(a.current,2,null,a,null,null),sh(),l[Xe]=null}};function Sh(a){this._internalRoot=a}Sh.prototype.unstable_scheduleHydration=function(a){if(a){var l=ee();a={blockedOn:null,target:a,priority:l};for(var h=0;h<Oo.length&&l!==0&&l<Oo[h].priority;h++);Oo.splice(h,0,a),h===0&&Kw(a)}};var Jw=e.version;if(Jw!=="19.1.0")throw Error(r(527,Jw,"19.1.0"));ie.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=p(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var s8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Cn=_h.inject(s8),En=_h}catch{}}return gf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var h=!1,y="",S=mb,O=gb,B=xb,H=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks)),l=Vw(a,1,!1,null,null,h,y,S,O,B,H,null),a[Xe]=l.current,wm(a),new jm(l)},gf.hydrateRoot=function(a,l,h){if(!i(a))throw Error(r(299));var y=!1,S="",O=mb,B=gb,H=xb,Q=null,fe=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Q=h.unstable_transitionCallbacks),h.formState!==void 0&&(fe=h.formState)),l=Vw(a,1,!0,l,h??null,y,S,O,B,H,Q,fe),l.context=Gw(null),h=l.current,y=Bi(),y=pa(y),S=fo(y),S.callback=null,ho(h,S,y),h=y,l.current.lanes=h,ti(l,h),Qs(l),a[Xe]=l.current,wm(a),new Sh(l)},gf.version="19.1.0",gf}var cv;function m8(){if(cv)return Fm.exports;cv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=p8(),Fm.exports}var g8=m8(),F=ec();const qt=Jl(F);var xf={},uv;function x8(){if(uv)return xf;uv=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.parse=c,xf.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,N){const A=new s,R=_.length;if(R<2)return A;const I=(N==null?void 0:N.decode)||b;let k=0;do{const U=_.indexOf("=",k);if(U===-1)break;const j=_.indexOf(";",k),W=j===-1?R:j;if(U>W){k=_.lastIndexOf(";",U-1)+1;continue}const X=f(_,k,U),V=p(_,U,X),Y=_.slice(X,V);if(A[Y]===void 0){let se=f(_,U+1,W),K=p(_,W,se);const be=I(_.slice(se,K));A[Y]=be}k=W+1}while(k<R);return A}function f(_,N,A){do{const R=_.charCodeAt(N);if(R!==32&&R!==9)return N}while(++N<A);return A}function p(_,N,A){for(;N>A;){const R=_.charCodeAt(--N);if(R!==32&&R!==9)return N+1}return A}function m(_,N,A){const R=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=R(N);if(!e.test(I))throw new TypeError(`argument val is invalid: ${N}`);let k=_+"="+I;if(!A)return k;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);k+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);k+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);k+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);k+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(k+="; HttpOnly"),A.secure&&(k+="; Secure"),A.partitioned&&(k+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return k}function b(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return i.call(_)==="[object Date]"}return xf}x8();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CE=t=>{throw TypeError(t)},y8=(t,e,n)=>e.has(t)||CE("Cannot "+n),$m=(t,e,n)=>(y8(t,e,"read from private field"),n?n.call(t):e.get(t)),b8=(t,e,n)=>e.has(t)?CE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fv="popstate";function w8(t={}){function e(r,i){let{pathname:s,search:c,hash:f}=r.location;return Yf("",{pathname:s,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zo(i)}return C8(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v8(){return Math.random().toString(36).substring(2,10)}function dv(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:n,key:e&&e.key||r||v8()}}function Zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function el(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,f="POP",p=null,m=b();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function b(){return(c.state||{idx:null}).idx}function v(){f="POP";let I=b(),k=I==null?null:I-m;m=I,p&&p({action:f,location:R.location,delta:k})}function _(I,k){f="PUSH";let U=Yf(R.location,I,k);m=b()+1;let j=dv(U,m),W=R.createHref(U);try{c.pushState(j,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(W)}s&&p&&p({action:f,location:R.location,delta:1})}function N(I,k){f="REPLACE";let U=Yf(R.location,I,k);m=b();let j=dv(U,m),W=R.createHref(U);c.replaceState(j,"",W),s&&p&&p({action:f,location:R.location,delta:0})}function A(I){return EE(I)}let R={get action(){return f},get location(){return t(i,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(fv,v),p=I,()=>{i.removeEventListener(fv,v),p=null}},createHref(I){return e(i,I)},createURL:A,encodeLocation(I){let k=A(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:N,go(I){return c.go(I)}};return R}function EE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var If,hv=class{constructor(t){if(b8(this,If,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if($m(this,If).has(t))return $m(this,If).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){$m(this,If).set(t,e)}};If=new WeakMap;var E8=new Set(["lazy","caseSensitive","path","id","index","children"]);function S8(t){return E8.has(t)}var _8=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function T8(t){return _8.has(t)}function A8(t){return t.index===!0}function f1(t,e,n=[],r={}){return t.map((i,s)=>{let c=[...n,String(s)],f=typeof i.id=="string"?i.id:c.join("-");if(Bt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Bt(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),A8(i)){let p={...i,...e(i),id:f};return r[f]=p,p}else{let p={...i,...e(i),id:f,children:void 0};return r[f]=p,i.children&&(p.children=f1(i.children,e,c,r)),p}})}function zo(t,e,n="/"){return Qh(t,e,n,!1)}function Qh(t,e,n,r){let i=typeof e=="string"?el(e):e,s=hs(i.pathname||"/",n);if(s==null)return null;let c=SE(t);O8(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=F8(s);f=j8(c[p],m,r)}return f}function N8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function SE(t,e=[],n=[],r=""){let i=(s,c,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};p.relativePath.startsWith("/")&&(Bt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=la([r,p.relativePath]),b=n.concat(p);s.children&&s.children.length>0&&(Bt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),SE(s.children,e,b,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:L8(m,s.index),routesMeta:b})};return t.forEach((s,c)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))i(s,c);else for(let p of _E(s.path))i(s,c,p)}),e}function _E(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=_E(r.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),i&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function O8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var M8=/^:[\w-]+$/,R8=3,I8=2,D8=1,k8=10,B8=-2,pv=t=>t==="*";function L8(t,e){let n=t.split("/"),r=n.length;return n.some(pv)&&(r+=B8),e&&(r+=I8),n.filter(i=>!pv(i)).reduce((i,s)=>i+(M8.test(s)?R8:s===""?D8:k8),r)}function P8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function j8(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,b=s==="/"?e:e.slice(s.length)||"/",v=d1({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),_=p.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=d1({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:la([s,v.pathname]),pathnameBase:V8(la([s,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(s=la([s,v.pathnameBase]))}return c}function d1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:b,isOptional:v},_)=>{if(b==="*"){let A=f[_]||"";c=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const N=f[_];return v&&!N?m[b]=void 0:m[b]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:t}}function z8(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?el(t):t;return{pathname:n?n.startsWith("/")?n:H8(n,e):e,search:G8(r),hash:$8(i)}}function H8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t){let e=TE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function y0(t,e,n,r=!1){let i;typeof t=="string"?i=el(t):(i={...t},Bt(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}f=v>=0?e[v]:"/"}let p=U8(i,f),m=c&&c!=="/"&&c.endsWith("/"),b=(s||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var la=t=>t.join("/").replace(/\/\/+/g,"/"),V8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,h1=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AE=["POST","PUT","PATCH","DELETE"],q8=new Set(AE),W8=["GET",...AE],X8=new Set(W8),Y8=new Set([301,302,303,307,308]),K8=new Set([307,308]),Wm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),NE="remix-router-transitions",OE=Symbol("ResetLoaderData");function J8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Q8,s={},c=f1(t.routes,i,void 0,s),f,p=t.basename||"/",m=t.dataStrategy||i6,b={unstable_middleware:!1,...t.future},v=null,_=new Set,N=null,A=null,R=null,I=t.hydrationData!=null,k=zo(c,t.history.location,p),U=!1,j=null,W;if(k==null&&!t.patchRoutesOnNavigation){let ee=ls(404,{pathname:t.history.location.pathname}),{matches:oe,route:de}=Tv(c);W=!0,k=oe,j={[de.id]:ee}}else if(k&&!t.hydrationData&&Ls(k,c,t.history.location.pathname).active&&(k=null),k)if(k.some(ee=>ee.route.lazy))W=!1;else if(!k.some(ee=>ee.route.loader))W=!0;else{let ee=t.hydrationData?t.hydrationData.loaderData:null,oe=t.hydrationData?t.hydrationData.errors:null;if(oe){let de=k.findIndex(Ae=>oe[Ae.route.id]!==void 0);W=k.slice(0,de+1).every(Ae=>!u2(Ae.route,ee,oe))}else W=k.every(de=>!u2(de.route,ee,oe))}else{W=!1,k=[];let ee=Ls(null,c,t.history.location.pathname);ee.active&&ee.matches&&(U=!0,k=ee.matches)}let X,V={historyAction:t.history.action,location:t.history.location,matches:k,initialized:W,navigation:Wm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},Y="POP",se=!1,K,be=!1,_e=new Map,ge=null,je=!1,Ue=!1,re=new Set,G=new Map,ie=0,Te=-1,Be=new Map,Z=new Set,ve=new Map,Re=new Map,ke=new Set,He=new Map,Ct,Oe=null;function fr(){if(v=t.history.listen(({action:ee,location:oe,delta:de})=>{if(Ct){Ct(),Ct=void 0;return}tr(He.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=ks({currentLocation:V.location,nextLocation:oe,historyAction:ee});if(Ae&&de!=null){let Le=new Promise(Xe=>{Ct=Xe});t.history.go(de*-1),$t(Ae,{state:"blocked",location:oe,proceed(){$t(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Le.then(()=>t.history.go(de))},reset(){let Xe=new Map(V.blockers);Xe.set(Ae,yf),Nn({blockers:Xe})}});return}return vr(ee,oe)}),n){m6(e,_e);let ee=()=>g6(e,_e);e.addEventListener("pagehide",ee),ge=()=>e.removeEventListener("pagehide",ee)}return V.initialized||vr("POP",V.location,{initialHydration:!0}),X}function mt(){v&&v(),ge&&ge(),_.clear(),K&&K.abort(),V.fetchers.forEach((ee,oe)=>Gt(oe)),V.blockers.forEach((ee,oe)=>Ht(oe))}function Ur(ee){return _.add(ee),()=>_.delete(ee)}function Nn(ee,oe={}){V={...V,...ee};let de=[],Ae=[];V.fetchers.forEach((Le,Xe)=>{Le.state==="idle"&&(ke.has(Xe)?de.push(Xe):Ae.push(Xe))}),ke.forEach(Le=>{!V.fetchers.has(Le)&&!G.has(Le)&&de.push(Le)}),[..._].forEach(Le=>Le(V,{deletedFetchers:de,viewTransitionOpts:oe.viewTransitionOpts,flushSync:oe.flushSync===!0})),de.forEach(Le=>Gt(Le)),Ae.forEach(Le=>V.fetchers.delete(Le))}function vn(ee,oe,{flushSync:de}={}){var we,st;let Ae=V.actionData!=null&&V.navigation.formMethod!=null&&Hi(V.navigation.formMethod)&&V.navigation.state==="loading"&&((we=ee.state)==null?void 0:we._isRedirect)!==!0,Le;oe.actionData?Object.keys(oe.actionData).length>0?Le=oe.actionData:Le=null:Ae?Le=V.actionData:Le=null;let Xe=oe.loaderData?Sv(V.loaderData,oe.loaderData,oe.matches||[],oe.errors):V.loaderData,Ye=V.blockers;Ye.size>0&&(Ye=new Map(Ye),Ye.forEach((Je,Qe)=>Ye.set(Qe,yf)));let Ve=se===!0||V.navigation.formMethod!=null&&Hi(V.navigation.formMethod)&&((st=ee.state)==null?void 0:st._isRedirect)!==!0;f&&(c=f,f=void 0),je||Y==="POP"||(Y==="PUSH"?t.history.push(ee,ee.state):Y==="REPLACE"&&t.history.replace(ee,ee.state));let qe;if(Y==="POP"){let Je=_e.get(V.location.pathname);Je&&Je.has(ee.pathname)?qe={currentLocation:V.location,nextLocation:ee}:_e.has(ee.pathname)&&(qe={currentLocation:ee,nextLocation:V.location})}else if(be){let Je=_e.get(V.location.pathname);Je?Je.add(ee.pathname):(Je=new Set([ee.pathname]),_e.set(V.location.pathname,Je)),qe={currentLocation:V.location,nextLocation:ee}}Nn({...oe,actionData:Le,loaderData:Xe,historyAction:Y,location:ee,initialized:!0,navigation:Wm,revalidation:"idle",restoreScrollPosition:il(ee,oe.matches||V.matches),preventScrollReset:Ve,blockers:Ye},{viewTransitionOpts:qe,flushSync:de===!0}),Y="POP",se=!1,be=!1,je=!1,Ue=!1,Oe==null||Oe.resolve(),Oe=null}async function ms(ee,oe){if(typeof ee=="number"){t.history.go(ee);return}let de=c2(V.location,V.matches,p,ee,oe==null?void 0:oe.fromRouteId,oe==null?void 0:oe.relative),{path:Ae,submission:Le,error:Xe}=mv(!1,de,oe),Ye=V.location,Ve=Yf(V.location,Ae,oe&&oe.state);Ve={...Ve,...t.history.encodeLocation(Ve)};let qe=oe&&oe.replace!=null?oe.replace:void 0,we="PUSH";qe===!0?we="REPLACE":qe===!1||Le!=null&&Hi(Le.formMethod)&&Le.formAction===V.location.pathname+V.location.search&&(we="REPLACE");let st=oe&&"preventScrollReset"in oe?oe.preventScrollReset===!0:void 0,Je=(oe&&oe.flushSync)===!0,Qe=ks({currentLocation:Ye,nextLocation:Ve,historyAction:we});if(Qe){$t(Qe,{state:"blocked",location:Ve,proceed(){$t(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),ms(ee,oe)},reset(){let _t=new Map(V.blockers);_t.set(Qe,yf),Nn({blockers:_t})}});return}await vr(we,Ve,{submission:Le,pendingError:Xe,preventScrollReset:st,replace:oe&&oe.replace,enableViewTransition:oe&&oe.viewTransition,flushSync:Je})}function Lt(){Oe||(Oe=x6()),ha(),Nn({revalidation:"loading"});let ee=Oe.promise;return V.navigation.state==="submitting"?ee:V.navigation.state==="idle"?(vr(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),ee):(vr(Y||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:be===!0}),ee)}async function vr(ee,oe,de){K&&K.abort(),K=null,Y=ee,je=(de&&de.startUninterruptedRevalidation)===!0,ti(V.location,V.matches),se=(de&&de.preventScrollReset)===!0,be=(de&&de.enableViewTransition)===!0;let Ae=f||c,Le=de&&de.overrideNavigation,Xe=de!=null&&de.initialHydration&&V.matches&&V.matches.length>0&&!U?V.matches:zo(Ae,oe,p),Ye=(de&&de.flushSync)===!0;if(Xe&&V.initialized&&!Ue&&u6(V.location,oe)&&!(de&&de.submission&&Hi(de.submission.formMethod))){vn(oe,{matches:Xe},{flushSync:Ye});return}let Ve=Ls(Xe,Ae,oe.pathname);if(Ve.active&&Ve.matches&&(Xe=Ve.matches),!Xe){let{error:fn,notFoundMatches:bt,route:Pt}=Bs(oe.pathname);vn(oe,{matches:bt,loaderData:{},errors:{[Pt.id]:fn}},{flushSync:Ye});return}K=new AbortController;let qe=nu(t.history,oe,K.signal,de&&de.submission),we=new hv(t.unstable_getContext?await t.unstable_getContext():void 0),st;if(de&&de.pendingError)st=[Il(Xe).route.id,{type:"error",error:de.pendingError}];else if(de&&de.submission&&Hi(de.submission.formMethod)){let fn=await hi(qe,oe,de.submission,Xe,we,Ve.active,de&&de.initialHydration===!0,{replace:de.replace,flushSync:Ye});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[bt,Pt]=fn.pendingActionResult;if(Ui(Pt)&&Kf(Pt.error)&&Pt.error.status===404){K=null,vn(oe,{matches:fn.matches,loaderData:{},errors:{[bt]:Pt.error}});return}}Xe=fn.matches||Xe,st=fn.pendingActionResult,Le=Xm(oe,de.submission),Ye=!1,Ve.active=!1,qe=nu(t.history,qe.url,qe.signal)}let{shortCircuited:Je,matches:Qe,loaderData:_t,errors:Qt}=await fa(qe,oe,Xe,we,Ve.active,Le,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Ye,st);Je||(K=null,vn(oe,{matches:Qe||Xe,..._v(st),loaderData:_t,errors:Qt}))}async function hi(ee,oe,de,Ae,Le,Xe,Ye,Ve={}){ha();let qe=h6(oe,de);if(Nn({navigation:qe},{flushSync:Ve.flushSync===!0}),Xe){let Je=await dr(Ae,oe.pathname,ee.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let Qe=Il(Je.partialMatches).route.id;return{matches:Je.partialMatches,pendingActionResult:[Qe,{type:"error",error:Je.error}]}}else if(Je.matches)Ae=Je.matches;else{let{notFoundMatches:Qe,error:_t,route:Qt}=Bs(oe.pathname);return{matches:Qe,pendingActionResult:[Qt.id,{type:"error",error:_t}]}}}let we,st=Df(Ae,oe);if(!st.route.action&&!st.route.lazy)we={type:"error",error:ls(405,{method:ee.method,pathname:oe.pathname,routeId:st.route.id})};else{let Je=cu(i,s,ee,Ae,st,Ye?[]:r,Le),Qe=await gs(ee,Je,Le,null);if(we=Qe[st.route.id],!we){for(let _t of Ae)if(Qe[_t.route.id]){we=Qe[_t.route.id];break}}if(ee.signal.aborted)return{shortCircuited:!0}}if(kl(we)){let Je;return Ve&&Ve.replace!=null?Je=Ve.replace:Je=vv(we.response.headers.get("Location"),new URL(ee.url),p)===V.location.pathname+V.location.search,await pi(ee,we,!0,{submission:de,replace:Je}),{shortCircuited:!0}}if(Ui(we)){let Je=Il(Ae,st.route.id);return(Ve&&Ve.replace)!==!0&&(Y="PUSH"),{matches:Ae,pendingActionResult:[Je.route.id,we,st.route.id]}}return{matches:Ae,pendingActionResult:[st.route.id,we]}}async function fa(ee,oe,de,Ae,Le,Xe,Ye,Ve,qe,we,st,Je){let Qe=Xe||Xm(oe,Ye),_t=Ye||Ve||Nv(Qe),Qt=!je&&!we;if(Le){if(Qt){let Pn=Xt(Je);Nn({navigation:Qe,...Pn!==void 0?{actionData:Pn}:{}},{flushSync:st})}let et=await dr(de,oe.pathname,ee.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let Pn=Il(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[Pn]:et.error}}}else if(et.matches)de=et.matches;else{let{error:Pn,notFoundMatches:Ni,route:wt}=Bs(oe.pathname);return{matches:Ni,loaderData:{},errors:{[wt.id]:Pn}}}}let fn=f||c,{dsMatches:bt,revalidatingFetchers:Pt}=gv(ee,Ae,i,s,t.history,V,de,_t,oe,we?[]:r,we===!0,Ue,re,ke,ve,Z,fn,p,t.patchRoutesOnNavigation!=null,Je);if(Te=++ie,!t.dataStrategy&&!bt.some(et=>et.shouldLoad)&&Pt.length===0){let et=un();return vn(oe,{matches:de,loaderData:{},errors:Je&&Ui(Je[1])?{[Je[0]]:Je[1].error}:null,..._v(Je),...et?{fetchers:new Map(V.fetchers)}:{}},{flushSync:st}),{shortCircuited:!0}}if(Qt){let et={};if(!Le){et.navigation=Qe;let Pn=Xt(Je);Pn!==void 0&&(et.actionData=Pn)}Pt.length>0&&(et.fetchers=Zt(Pt)),Nn(et,{flushSync:st})}Pt.forEach(et=>{ei(et.key),et.controller&&G.set(et.key,et.controller)});let Ps=()=>Pt.forEach(et=>ei(et.key));K&&K.signal.addEventListener("abort",Ps);let{loaderResults:Sn,fetcherResults:dn}=await mi(bt,Pt,ee,Ae);if(ee.signal.aborted)return{shortCircuited:!0};K&&K.signal.removeEventListener("abort",Ps),Pt.forEach(et=>G.delete(et.key));let Ot=Ah(Sn);if(Ot)return await pi(ee,Ot.result,!0,{replace:qe}),{shortCircuited:!0};if(Ot=Ah(dn),Ot)return Z.add(Ot.key),await pi(ee,Ot.result,!0,{replace:qe}),{shortCircuited:!0};let{loaderData:xs,errors:Dr}=Ev(V,de,Sn,Je,Pt,dn);we&&V.errors&&(Dr={...V.errors,...Dr});let ma=un(),Ee=Fe(Te),ys=ma||Ee||Pt.length>0;return{matches:de,loaderData:xs,errors:Dr,...ys?{fetchers:new Map(V.fetchers)}:{}}}function Xt(ee){if(ee&&!Ui(ee[1]))return{[ee[0]]:ee[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Zt(ee){return ee.forEach(oe=>{let de=V.fetchers.get(oe.key),Ae=bf(void 0,de?de.data:void 0);V.fetchers.set(oe.key,Ae)}),new Map(V.fetchers)}async function It(ee,oe,de,Ae){ei(ee);let Le=(Ae&&Ae.flushSync)===!0,Xe=f||c,Ye=c2(V.location,V.matches,p,de,oe,Ae==null?void 0:Ae.relative),Ve=zo(Xe,Ye,p),qe=Ls(Ve,Xe,Ye);if(qe.active&&qe.matches&&(Ve=qe.matches),!Ve){En(ee,oe,ls(404,{pathname:Ye}),{flushSync:Le});return}let{path:we,submission:st,error:Je}=mv(!0,Ye,Ae);if(Je){En(ee,oe,Je,{flushSync:Le});return}let Qe=Df(Ve,we),_t=new hv(t.unstable_getContext?await t.unstable_getContext():void 0),Qt=(Ae&&Ae.preventScrollReset)===!0;if(st&&Hi(st.formMethod)){await da(ee,oe,we,Qe,Ve,_t,qe.active,Le,Qt,st);return}ve.set(ee,{routeId:oe,path:we}),await $e(ee,oe,we,Qe,Ve,_t,qe.active,Le,Qt,st)}async function da(ee,oe,de,Ae,Le,Xe,Ye,Ve,qe,we){ha(),ve.delete(ee);function st(tt){if(!tt.route.action&&!tt.route.lazy){let qi=ls(405,{method:we.formMethod,pathname:de,routeId:oe});return En(ee,oe,qi,{flushSync:Ve}),!0}return!1}if(!Ye&&st(Ae))return;let Je=V.fetchers.get(ee);Cn(ee,p6(we,Je),{flushSync:Ve});let Qe=new AbortController,_t=nu(t.history,de,Qe.signal,we);if(Ye){let tt=await dr(Le,de,_t.signal,ee);if(tt.type==="aborted")return;if(tt.type==="error"){En(ee,oe,tt.error,{flushSync:Ve});return}else if(tt.matches){if(Le=tt.matches,Ae=Df(Le,de),st(Ae))return}else{En(ee,oe,ls(404,{pathname:de}),{flushSync:Ve});return}}G.set(ee,Qe);let Qt=ie,fn=cu(i,s,_t,Le,Ae,r,Xe),Pt=(await gs(_t,fn,Xe,ee))[Ae.route.id];if(_t.signal.aborted){G.get(ee)===Qe&&G.delete(ee);return}if(ke.has(ee)){if(kl(Pt)||Ui(Pt)){Cn(ee,ko(void 0));return}}else{if(kl(Pt))if(G.delete(ee),Te>Qt){Cn(ee,ko(void 0));return}else return Z.add(ee),Cn(ee,bf(we)),pi(_t,Pt,!1,{fetcherSubmission:we,preventScrollReset:qe});if(Ui(Pt)){En(ee,oe,Pt.error);return}}let Ps=V.navigation.location||V.location,Sn=nu(t.history,Ps,Qe.signal),dn=f||c,Ot=V.navigation.state!=="idle"?zo(dn,V.navigation.location,p):V.matches;Bt(Ot,"Didn't find any matches after fetcher action");let xs=++ie;Be.set(ee,xs);let Dr=bf(we,Pt.data);V.fetchers.set(ee,Dr);let{dsMatches:ma,revalidatingFetchers:Ee}=gv(Sn,Xe,i,s,t.history,V,Ot,we,Ps,r,!1,Ue,re,ke,ve,Z,dn,p,t.patchRoutesOnNavigation!=null,[Ae.route.id,Pt]);Ee.filter(tt=>tt.key!==ee).forEach(tt=>{let qi=tt.key,ga=V.fetchers.get(qi),Cr=bf(void 0,ga?ga.data:void 0);V.fetchers.set(qi,Cr),ei(qi),tt.controller&&G.set(qi,tt.controller)}),Nn({fetchers:new Map(V.fetchers)});let ys=()=>Ee.forEach(tt=>ei(tt.key));Qe.signal.addEventListener("abort",ys);let{loaderResults:et,fetcherResults:Pn}=await mi(ma,Ee,Sn,Xe);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",ys),Be.delete(ee),G.delete(ee),Ee.forEach(tt=>G.delete(tt.key)),V.fetchers.has(ee)){let tt=ko(Pt.data);V.fetchers.set(ee,tt)}let Ni=Ah(et);if(Ni)return pi(Sn,Ni.result,!1,{preventScrollReset:qe});if(Ni=Ah(Pn),Ni)return Z.add(Ni.key),pi(Sn,Ni.result,!1,{preventScrollReset:qe});let{loaderData:wt,errors:Mt}=Ev(V,Ot,et,void 0,Ee,Pn);Fe(xs),V.navigation.state==="loading"&&xs>Te?(Bt(Y,"Expected pending action"),K&&K.abort(),vn(V.navigation.location,{matches:Ot,loaderData:wt,errors:Mt,fetchers:new Map(V.fetchers)})):(Nn({errors:Mt,loaderData:Sv(V.loaderData,wt,Ot,Mt),fetchers:new Map(V.fetchers)}),Ue=!1)}async function $e(ee,oe,de,Ae,Le,Xe,Ye,Ve,qe,we){let st=V.fetchers.get(ee);Cn(ee,bf(we,st?st.data:void 0),{flushSync:Ve});let Je=new AbortController,Qe=nu(t.history,de,Je.signal);if(Ye){let Pt=await dr(Le,de,Qe.signal,ee);if(Pt.type==="aborted")return;if(Pt.type==="error"){En(ee,oe,Pt.error,{flushSync:Ve});return}else if(Pt.matches)Le=Pt.matches,Ae=Df(Le,de);else{En(ee,oe,ls(404,{pathname:de}),{flushSync:Ve});return}}G.set(ee,Je);let _t=ie,Qt=cu(i,s,Qe,Le,Ae,r,Xe),bt=(await gs(Qe,Qt,Xe,ee))[Ae.route.id];if(G.get(ee)===Je&&G.delete(ee),!Qe.signal.aborted){if(ke.has(ee)){Cn(ee,ko(void 0));return}if(kl(bt))if(Te>_t){Cn(ee,ko(void 0));return}else{Z.add(ee),await pi(Qe,bt,!1,{preventScrollReset:qe});return}if(Ui(bt)){En(ee,oe,bt.error);return}Cn(ee,ko(bt.data))}}async function pi(ee,oe,de,{submission:Ae,fetcherSubmission:Le,preventScrollReset:Xe,replace:Ye}={}){oe.response.headers.has("X-Remix-Revalidate")&&(Ue=!0);let Ve=oe.response.headers.get("Location");Bt(Ve,"Expected a Location header on the redirect Response"),Ve=vv(Ve,new URL(ee.url),p);let qe=Yf(V.location,Ve,{_isRedirect:!0});if(n){let Qt=!1;if(oe.response.headers.has("X-Remix-Reload-Document"))Qt=!0;else if(J2.test(Ve)){const fn=EE(Ve,!0);Qt=fn.origin!==e.location.origin||hs(fn.pathname,p)==null}if(Qt){Ye?e.location.replace(Ve):e.location.assign(Ve);return}}K=null;let we=Ye===!0||oe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:Je,formEncType:Qe}=V.navigation;!Ae&&!Le&&st&&Je&&Qe&&(Ae=Nv(V.navigation));let _t=Ae||Le;if(K8.has(oe.response.status)&&_t&&Hi(_t.formMethod))await vr(we,qe,{submission:{..._t,formAction:Ve},preventScrollReset:Xe||se,enableViewTransition:de?be:void 0});else{let Qt=Xm(qe,Ae);await vr(we,qe,{overrideNavigation:Qt,fetcherSubmission:Le,preventScrollReset:Xe||se,enableViewTransition:de?be:void 0})}}async function gs(ee,oe,de,Ae){let Le,Xe={};try{Le=await s6(m,ee,oe,Ae,de,!1)}catch(Ye){return oe.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{Xe[Ve.route.id]={type:"error",error:Ye}}),Xe}if(ee.signal.aborted)return Xe;for(let[Ye,Ve]of Object.entries(Le))if(f6(Ve)){let qe=Ve.result;Xe[Ye]={type:"redirect",response:l6(qe,ee,Ye,oe,p)}}else Xe[Ye]=await o6(Ve);return Xe}async function mi(ee,oe,de,Ae){let Le=gs(de,ee,Ae,null),Xe=Promise.all(oe.map(async qe=>{if(qe.matches&&qe.match&&qe.request&&qe.controller){let st=(await gs(qe.request,qe.matches,Ae,qe.key))[qe.match.route.id];return{[qe.key]:st}}else return Promise.resolve({[qe.key]:{type:"error",error:ls(404,{pathname:qe.path})}})})),Ye=await Le,Ve=(await Xe).reduce((qe,we)=>Object.assign(qe,we),{});return{loaderResults:Ye,fetcherResults:Ve}}function ha(){Ue=!0,ve.forEach((ee,oe)=>{G.has(oe)&&re.add(oe),ei(oe)})}function Cn(ee,oe,de={}){V.fetchers.set(ee,oe),Nn({fetchers:new Map(V.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function En(ee,oe,de,Ae={}){let Le=Il(V.matches,oe);Gt(ee),Nn({errors:{[Le.route.id]:de},fetchers:new Map(V.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function ir(ee){return Re.set(ee,(Re.get(ee)||0)+1),ke.has(ee)&&ke.delete(ee),V.fetchers.get(ee)||Z8}function Gt(ee){let oe=V.fetchers.get(ee);G.has(ee)&&!(oe&&oe.state==="loading"&&Be.has(ee))&&ei(ee),ve.delete(ee),Be.delete(ee),Z.delete(ee),ke.delete(ee),re.delete(ee),V.fetchers.delete(ee)}function sc(ee){let oe=(Re.get(ee)||0)-1;oe<=0?(Re.delete(ee),ke.add(ee)):Re.set(ee,oe),Nn({fetchers:new Map(V.fetchers)})}function ei(ee){let oe=G.get(ee);oe&&(oe.abort(),G.delete(ee))}function ac(ee){for(let oe of ee){let de=ir(oe),Ae=ko(de.data);V.fetchers.set(oe,Ae)}}function un(){let ee=[],oe=!1;for(let de of Z){let Ae=V.fetchers.get(de);Bt(Ae,`Expected fetcher: ${de}`),Ae.state==="loading"&&(Z.delete(de),ee.push(de),oe=!0)}return ac(ee),oe}function Fe(ee){let oe=[];for(let[de,Ae]of Be)if(Ae<ee){let Le=V.fetchers.get(de);Bt(Le,`Expected fetcher: ${de}`),Le.state==="loading"&&(ei(de),Be.delete(de),oe.push(de))}return ac(oe),oe.length>0}function tn(ee,oe){let de=V.blockers.get(ee)||yf;return He.get(ee)!==oe&&He.set(ee,oe),de}function Ht(ee){V.blockers.delete(ee),He.delete(ee)}function $t(ee,oe){let de=V.blockers.get(ee)||yf;Bt(de.state==="unblocked"&&oe.state==="blocked"||de.state==="blocked"&&oe.state==="blocked"||de.state==="blocked"&&oe.state==="proceeding"||de.state==="blocked"&&oe.state==="unblocked"||de.state==="proceeding"&&oe.state==="unblocked",`Invalid blocker state transition: ${de.state} -> ${oe.state}`);let Ae=new Map(V.blockers);Ae.set(ee,oe),Nn({blockers:Ae})}function ks({currentLocation:ee,nextLocation:oe,historyAction:de}){if(He.size===0)return;He.size>1&&tr(!1,"A router only supports one blocker at a time");let Ae=Array.from(He.entries()),[Le,Xe]=Ae[Ae.length-1],Ye=V.blockers.get(Le);if(!(Ye&&Ye.state==="proceeding")&&Xe({currentLocation:ee,nextLocation:oe,historyAction:de}))return Le}function Bs(ee){let oe=ls(404,{pathname:ee}),de=f||c,{matches:Ae,route:Le}=Tv(de);return{notFoundMatches:Ae,route:Le,error:oe}}function rl(ee,oe,de){if(N=ee,R=oe,A=de||null,!I&&V.navigation===Wm){I=!0;let Ae=il(V.location,V.matches);Ae!=null&&Nn({restoreScrollPosition:Ae})}return()=>{N=null,R=null,A=null}}function Dt(ee,oe){return A&&A(ee,oe.map(Ae=>N8(Ae,V.loaderData)))||ee.key}function ti(ee,oe){if(N&&R){let de=Dt(ee,oe);N[de]=R()}}function il(ee,oe){if(N){let de=Dt(ee,oe),Ae=N[de];if(typeof Ae=="number")return Ae}return null}function Ls(ee,oe,de){if(t.patchRoutesOnNavigation)if(ee){if(Object.keys(ee[0].params).length>0)return{active:!0,matches:Qh(oe,de,p,!0)}}else return{active:!0,matches:Qh(oe,de,p,!0)||[]};return{active:!1,matches:null}}async function dr(ee,oe,de,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ee};let Le=ee;for(;;){let Xe=f==null,Ye=f||c,Ve=s;try{await t.patchRoutesOnNavigation({signal:de,path:oe,matches:Le,fetcherKey:Ae,patch:(st,Je)=>{de.aborted||xv(st,Je,Ye,Ve,i)}})}catch(st){return{type:"error",error:st,partialMatches:Le}}finally{Xe&&!de.aborted&&(c=[...c])}if(de.aborted)return{type:"aborted"};let qe=zo(Ye,oe,p);if(qe)return{type:"success",matches:qe};let we=Qh(Ye,oe,p,!0);if(!we||Le.length===we.length&&Le.every((st,Je)=>st.route.id===we[Je].route.id))return{type:"success",matches:null};Le=we}}function pa(ee){s={},f=f1(ee,i,void 0,s)}function Hn(ee,oe){let de=f==null;xv(ee,oe,f||c,s,i),de&&(c=[...c],Nn({}))}return X={get basename(){return p},get future(){return b},get state(){return V},get routes(){return c},get window(){return e},initialize:fr,subscribe:Ur,enableScrollRestoration:rl,navigate:ms,fetch:It,revalidate:Lt,createHref:ee=>t.history.createHref(ee),encodeLocation:ee=>t.history.encodeLocation(ee),getFetcher:ir,deleteFetcher:sc,dispose:mt,getBlocker:tn,deleteBlocker:Ht,patchRoutes:Hn,_internalFetchControllers:G,_internalSetRoutes:pa},X}function e6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function c2(t,e,n,r,i,s){let c,f;if(i){c=[];for(let m of e)if(c.push(m),m.route.id===i){f=m;break}}else c=e,f=e[e.length-1];let p=y0(r||".",x0(c),hs(t.pathname,n)||t.pathname,s==="path");if(r==null&&(p.search=t.search,p.hash=t.hash),(r==null||r===""||r===".")&&f){let m=ex(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let b=new URLSearchParams(p.search),v=b.getAll("index");b.delete("index"),v.filter(N=>N).forEach(N=>b.append("index",N));let _=b.toString();p.search=_?`?${_}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:la([n,p.pathname])),Zo(p)}function mv(t,e,n){if(!n||!e6(n))return{path:e};if(n.formMethod&&!d6(n.formMethod))return{path:e,error:ls(405,{method:n.formMethod})};let r=()=>({path:e,error:ls(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),c=BE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hi(s))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((_,[N,A])=>`${_}${N}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Hi(s))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:c,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=d2(n.formData),p=n.formData;else if(n.body instanceof FormData)f=d2(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=Cv(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=Cv(f)}catch{return r()}let m={formMethod:s,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Hi(m.formMethod))return{path:e,submission:m};let b=el(e);return t&&b.search&&ex(b.search)&&f.append("index",""),b.search=`?${f}`,{path:Zo(b),submission:m}}function gv(t,e,n,r,i,s,c,f,p,m,b,v,_,N,A,R,I,k,U,j){var je;let W=j?Ui(j[1])?j[1].error:j[1].data:void 0,X=i.createURL(s.location),V=i.createURL(p),Y;if(b&&s.errors){let Ue=Object.keys(s.errors)[0];Y=c.findIndex(re=>re.route.id===Ue)}else if(j&&Ui(j[1])){let Ue=j[0];Y=c.findIndex(re=>re.route.id===Ue)-1}let se=j?j[1].statusCode:void 0,K=se&&se>=400,be={currentUrl:X,currentParams:((je=s.matches[0])==null?void 0:je.params)||{},nextUrl:V,nextParams:c[0].params,...f,actionResult:W,actionStatus:se},_e=c.map((Ue,re)=>{let{route:G}=Ue,ie=null;if(Y!=null&&re>Y?ie=!1:G.lazy?ie=!0:G.loader==null?ie=!1:b?ie=u2(G,s.loaderData,s.errors):t6(s.loaderData,s.matches[re],Ue)&&(ie=!0),ie!==null)return f2(n,r,t,Ue,m,e,ie);let Te=K?!1:v||X.pathname+X.search===V.pathname+V.search||X.search!==V.search||n6(s.matches[re],Ue),Be={...be,defaultShouldRevalidate:Te},Z=p1(Ue,Be);return f2(n,r,t,Ue,m,e,Z,Be)}),ge=[];return A.forEach((Ue,re)=>{if(b||!c.some(ke=>ke.route.id===Ue.routeId)||N.has(re))return;let G=s.fetchers.get(re),ie=G&&G.state!=="idle"&&G.data===void 0,Te=zo(I,Ue.path,k);if(!Te){if(U&&ie)return;ge.push({key:re,routeId:Ue.routeId,path:Ue.path,matches:null,match:null,request:null,controller:null});return}if(R.has(re))return;let Be=Df(Te,Ue.path),Z=new AbortController,ve=nu(i,Ue.path,Z.signal),Re=null;if(_.has(re))_.delete(re),Re=cu(n,r,ve,Te,Be,m,e);else if(ie)v&&(Re=cu(n,r,ve,Te,Be,m,e));else{let ke={...be,defaultShouldRevalidate:K?!1:v};p1(Be,ke)&&(Re=cu(n,r,ve,Te,Be,m,e,ke))}Re&&ge.push({key:re,routeId:Ue.routeId,path:Ue.path,matches:Re,match:Be,request:ve,controller:Z})}),{dsMatches:_e,revalidatingFetchers:ge}}function u2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function t6(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function n6(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function p1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function xv(t,e,n,r,i){let s;if(t){let p=r[t];Bt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),s=p.children}else s=n;let c=e.filter(p=>!s.some(m=>ME(p,m))),f=f1(c,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...f)}function ME(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>ME(n,s))}):!1}var yv=new WeakMap,RE=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Bt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let c=yv.get(i);c||(c={},yv.set(i,c));let f=c[t];if(f)return f;let p=(async()=>{let m=S8(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)tr(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(v)tr(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let _=await s();_!=null&&(Object.assign(i,{[t]:_}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(_=>_===void 0)&&(i.lazy=void 0))})();return c[t]=p,p},bv=new WeakMap;function r6(t,e,n,r,i){let s=n[t.id];if(Bt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let b=bv.get(s);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let v=(async()=>{Bt(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),N={};for(let A in _){let R=_[A];if(R===void 0)continue;let I=T8(A),U=s[A]!==void 0&&A!=="hasErrorBoundary";I?tr(!I,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):U?tr(!U,`Route "${s.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):N[A]=R}Object.assign(s,N),Object.assign(s,{...r(s),lazy:void 0})})();return bv.set(s,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(t.lazy),f=[],p;for(let b of c){if(i&&i.includes(b))continue;let v=RE({key:b,route:t,manifest:n,mapRouteProperties:r});v&&(f.push(v),b===e&&(p=v))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m==null||m.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function wv(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function i6(t){return t.matches.some(e=>e.route.unstable_middleware)?IE(t,!1,()=>wv(t),(e,n)=>({[n]:{type:"error",result:e}})):wv(t)}async function IE(t,e,n,r){let{matches:i,request:s,params:c,context:f}=t,p={handlerResult:void 0};try{let m=i.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(_=>[v.route.id,_]):[]),b=await DE({request:s,params:c,context:f},m,e,p,n);return e?b:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let b=await r(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,b):b}}async function DE(t,e,n,r,i,s=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let f=e[s];if(!f)return r.handlerResult=await i(),r.handlerResult;let[p,m]=f,b=!1,v,_=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await DE(t,e,n,r,i,s+1)};try{let N=await m({request:t.request,params:t.params,context:t.context},_);return b?N===void 0?v:N:_()}catch(N){throw r.middlewareError?r.middlewareError.error!==N&&(r.middlewareError={routeId:p,error:N}):r.middlewareError={routeId:p,error:N},N}}function kE(t,e,n,r,i){let s=RE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),c=r6(r.route,Hi(n.method)?"action":"loader",e,t,i);return{middleware:s,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function f2(t,e,n,r,i,s,c,f=null){let p=!1,m=kE(t,e,n,r,i);return{...r,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(b){return p=!0,f?typeof b=="boolean"?p1(r,{...f,defaultShouldRevalidate:b}):p1(r,f):c},resolve(b){return p||c||b&&n.method==="GET"&&(r.route.lazy||r.route.loader)?a6({request:n,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:b,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function cu(t,e,n,r,i,s,c,f=null){return r.map(p=>p.route.id!==i.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:kE(t,e,n,p,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:f2(t,e,n,p,s,c,!0,f))}async function s6(t,e,n,r,i,s){n.some(m=>{var b;return(b=m._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(n.map(m=>{var b;return(b=m._lazyPromises)==null?void 0:b.middleware}));let c={request:e,params:n[0].params,context:i,matches:n},p=await t({...c,fetcherKey:r,unstable_runClientMiddleware:m=>{let b=c;return IE(b,!1,()=>m({...b,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,_)=>({[_]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(m=>{var b,v;return[(b=m._lazyPromises)==null?void 0:b.handler,(v=m._lazyPromises)==null?void 0:v.route]}))}catch{}return p}async function a6({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let c,f,p=Hi(t.method),m=p?"action":"loader",b=v=>{let _,N=new Promise((I,k)=>_=k);f=()=>_(),t.signal.addEventListener("abort",f);let A=I=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:s},...I!==void 0?[I]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(k=>A(k)):A())}}catch(I){return{type:"error",result:I}}})();return Promise.race([R,N])};try{let v=p?e.route.action:e.route.loader;if(n||r)if(v){let _,[N]=await Promise.all([b(v).catch(A=>{_=A}),n,r]);if(_!==void 0)throw _;c=N}else{await n;let _=p?e.route.action:e.route.loader;if(_)[c]=await Promise.all([b(_),r]);else if(m==="action"){let N=new URL(t.url),A=N.pathname+N.search;throw ls(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)c=await b(v);else{let _=new URL(t.url),N=_.pathname+_.search;throw ls(404,{pathname:N})}}catch(v){return{type:"error",result:v}}finally{f&&t.signal.removeEventListener("abort",f)}return c}async function o6(t){var r,i,s,c,f,p;let{result:e,type:n}=t;if(LE(e)){let m;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(b){return{type:"error",error:b}}return n==="error"?{type:"error",error:new h1(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?Av(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new h1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Kf(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Kf(e)?e.status:void 0}:Av(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function l6(t,e,n,r,i){let s=t.headers.get("Location");if(Bt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!J2.test(s)){let c=r.slice(0,r.findIndex(f=>f.route.id===n)+1);s=c2(new URL(e.url),c,i,s),t.headers.set("Location",s)}return t}function vv(t,e,n){if(J2.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=hs(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function nu(t,e,n,r){let i=t.createURL(BE(e)).toString(),s={signal:n};if(r&&Hi(r.formMethod)){let{formMethod:c,formEncType:f}=r;s.method=c.toUpperCase(),f==="application/json"?(s.headers=new Headers({"Content-Type":f}),s.body=JSON.stringify(r.json)):f==="text/plain"?s.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?s.body=d2(r.formData):s.body=r.formData}return new Request(i,s)}function d2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Cv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function c6(t,e,n,r=!1,i=!1){let s={},c=null,f,p=!1,m={},b=n&&Ui(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let _=v.route.id,N=e[_];if(Bt(!kl(N),"Cannot handle redirect results in processLoaderData"),Ui(N)){let A=N.error;if(b!==void 0&&(A=b,b=void 0),c=c||{},i)c[_]=A;else{let R=Il(t,_);c[R.route.id]==null&&(c[R.route.id]=A)}r||(s[_]=OE),p||(p=!0,f=Kf(N.error)?N.error.status:500),N.headers&&(m[_]=N.headers)}else s[_]=N.data,N.statusCode&&N.statusCode!==200&&!p&&(f=N.statusCode),N.headers&&(m[_]=N.headers)}),b!==void 0&&n&&(c={[n[0]]:b},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:c,statusCode:f||200,loaderHeaders:m}}function Ev(t,e,n,r,i,s){let{loaderData:c,errors:f}=c6(e,n,r);return i.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:b,controller:v}=p,_=s[m];if(Bt(_,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ui(_)){let N=Il(t.matches,b==null?void 0:b.route.id);f&&f[N.route.id]||(f={...f,[N.route.id]:_.error}),t.fetchers.delete(m)}else if(kl(_))Bt(!1,"Unhandled fetcher revalidation redirect");else{let N=ko(_.data);t.fetchers.set(m,N)}}),{loaderData:c,errors:f}}function Sv(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==OE).reduce((s,[c,f])=>(s[c]=f,s),{});for(let s of n){let c=s.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&s.route.loader&&(i[c]=t[c]),r&&r.hasOwnProperty(c))break}return i}function _v(t){return t?Ui(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Il(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ls(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(c="Bad Request",r&&e&&n?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(c="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",f=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",r&&e&&n?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new h1(t||500,c,new Error(f),!0)}function Ah(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(kl(i))return{key:r,result:i}}}function BE(t){let e=typeof t=="string"?el(t):t;return Zo({...e,hash:""})}function u6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function f6(t){return LE(t.result)&&Y8.has(t.result.status)}function Ui(t){return t.type==="error"}function kl(t){return(t&&t.type)==="redirect"}function Av(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function LE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function d6(t){return X8.has(t.toUpperCase())}function Hi(t){return q8.has(t.toUpperCase())}function ex(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Df(t,e){let n=typeof e=="string"?el(e).search:e.search;if(t[t.length-1].route.index&&ex(n||""))return t[t.length-1];let r=TE(t);return r[r.length-1]}function Nv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:c}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function Xm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ko(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m6(t,e){try{let n=t.sessionStorage.getItem(NE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function g6(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(NE,JSON.stringify(n))}catch(r){tr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function x6(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var tc=F.createContext(null);tc.displayName="DataRouter";var cd=F.createContext(null);cd.displayName="DataRouterState";var tx=F.createContext({isTransitioning:!1});tx.displayName="ViewTransition";var PE=F.createContext(new Map);PE.displayName="Fetchers";var y6=F.createContext(null);y6.displayName="Await";var Rs=F.createContext(null);Rs.displayName="Navigation";var b0=F.createContext(null);b0.displayName="Location";var ps=F.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var nx=F.createContext(null);nx.displayName="RouteError";function b6(t,{relative:e}={}){Bt(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Rs),{hash:i,pathname:s,search:c}=ud(t,{relative:e}),f=s;return n!=="/"&&(f=s==="/"?n:la([n,s])),r.createHref({pathname:f,search:c,hash:i})}function bu(){return F.useContext(b0)!=null}function Mr(){return Bt(bu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(b0).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zE(t){F.useContext(Rs).static||F.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=F.useContext(ps);return t?k6():w6()}function w6(){Bt(bu(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(tc),{basename:e,navigator:n}=F.useContext(Rs),{matches:r}=F.useContext(ps),{pathname:i}=Mr(),s=JSON.stringify(x0(r)),c=F.useRef(!1);return zE(()=>{c.current=!0}),F.useCallback((p,m={})=>{if(tr(c.current,jE),!c.current)return;if(typeof p=="number"){n.go(p);return}let b=y0(p,JSON.parse(s),i,m.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:la([e,b.pathname])),(m.replace?n.replace:n.push)(b,m.state,m)},[e,n,s,i,t])}var v6=F.createContext(null);function C6(t){let e=F.useContext(ps).outlet;return e&&F.createElement(v6.Provider,{value:t},e)}function Is(){let{matches:t}=F.useContext(ps),e=t[t.length-1];return e?e.params:{}}function ud(t,{relative:e}={}){let{matches:n}=F.useContext(ps),{pathname:r}=Mr(),i=JSON.stringify(x0(n));return F.useMemo(()=>y0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function E6(t,e,n,r){Bt(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(Rs),{matches:s}=F.useContext(ps),c=s[s.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",b=c&&c.route;{let k=b&&b.path||"";FE(p,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Mr(),_;_=v;let N=_.pathname||"/",A=N;if(m!=="/"){let k=m.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=zo(t,{pathname:A});return tr(b||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),tr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N6(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:la([m,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:la([m,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function S6(){let t=D6(),e=Kf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,c)}var _6=F.createElement(S6,null),T6=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(ps.Provider,{value:this.props.routeContext},F.createElement(nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A6({routeContext:t,match:e,children:n}){let r=F.useContext(tc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ps.Provider,{value:t},n)}function N6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let p=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:b,errors:v}=n,_=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((p,m,b)=>{let v,_=!1,N=null,A=null;n&&(v=s&&m.route.id?s[m.route.id]:void 0,N=m.route.errorElement||_6,c&&(f<0&&b===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):f===b&&(_=!0,A=m.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,b+1)),I=()=>{let k;return v?k=N:_?k=A:m.route.Component?k=F.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,F.createElement(A6,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?F.createElement(T6,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function rx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O6(t){let e=F.useContext(tc);return Bt(e,rx(t)),e}function M6(t){let e=F.useContext(cd);return Bt(e,rx(t)),e}function R6(t){let e=F.useContext(ps);return Bt(e,rx(t)),e}function ix(t){let e=R6(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function I6(){return ix("useRouteId")}function D6(){var r;let t=F.useContext(nx),e=M6("useRouteError"),n=ix("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function k6(){let{router:t}=O6("useNavigate"),e=ix("useNavigate"),n=F.useRef(!1);return zE(()=>{n.current=!0}),F.useCallback(async(i,s={})=>{tr(n.current,jE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Ov={};function FE(t,e,n){!e&&!Ov[t]&&(Ov[t]=!0,tr(!1,n))}var Mv={};function Rv(t,e){!t&&!Mv[e]&&(Mv[e]=!0,console.warn(e))}function B6(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&tr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&tr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&tr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var L6=["HydrateFallback","hydrateFallbackElement"],P6=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function j6({router:t,flushSync:e}){let[n,r]=F.useState(t.state),[i,s]=F.useState(),[c,f]=F.useState({isTransitioning:!1}),[p,m]=F.useState(),[b,v]=F.useState(),[_,N]=F.useState(),A=F.useRef(new Map),R=F.useCallback((j,{deletedFetchers:W,flushSync:X,viewTransitionOpts:V})=>{j.fetchers.forEach((se,K)=>{se.data!==void 0&&A.current.set(K,se.data)}),W.forEach(se=>A.current.delete(se)),Rv(X===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Y=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Rv(V==null||Y,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!Y){e&&X?e(()=>r(j)):F.startTransition(()=>r(j));return}if(e&&X){e(()=>{b&&(p&&p.resolve(),b.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let se=t.window.document.startViewTransition(()=>{e(()=>r(j))});se.finished.finally(()=>{e(()=>{m(void 0),v(void 0),s(void 0),f({isTransitioning:!1})})}),e(()=>v(se));return}b?(p&&p.resolve(),b.skipTransition(),N({state:j,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(s(j),f({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,e,b,p]);F.useLayoutEffect(()=>t.subscribe(R),[t,R]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new P6)},[c]),F.useEffect(()=>{if(p&&i&&t.window){let j=i,W=p.promise,X=t.window.document.startViewTransition(async()=>{F.startTransition(()=>r(j)),await W});X.finished.finally(()=>{m(void 0),v(void 0),s(void 0),f({isTransitioning:!1})}),v(X)}},[i,p,t.window]),F.useEffect(()=>{p&&i&&n.location.key===i.location.key&&p.resolve()},[p,b,n.location,i]),F.useEffect(()=>{!c.isTransitioning&&_&&(s(_.state),f({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),N(void 0))},[c.isTransitioning,_]);let I=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,W,X)=>t.navigate(j,{state:W,preventScrollReset:X==null?void 0:X.preventScrollReset}),replace:(j,W,X)=>t.navigate(j,{replace:!0,state:W,preventScrollReset:X==null?void 0:X.preventScrollReset})}),[t]),k=t.basename||"/",U=F.useMemo(()=>({router:t,navigator:I,static:!1,basename:k}),[t,I,k]);return F.createElement(F.Fragment,null,F.createElement(tc.Provider,{value:U},F.createElement(cd.Provider,{value:n},F.createElement(PE.Provider,{value:A.current},F.createElement(tx.Provider,{value:c},F.createElement(H6,{basename:k,location:n.location,navigationType:n.historyAction,navigator:I},F.createElement(z6,{routes:t.routes,future:t.future,state:n})))))),null)}var z6=F.memo(F6);function F6({routes:t,future:e,state:n}){return E6(t,void 0,n,e)}function U6({to:t,replace:e,state:n,relative:r}){Bt(bu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(Rs);tr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=F.useContext(ps),{pathname:c}=Mr(),f=wn(),p=y0(t,x0(s),c,r==="path"),m=JSON.stringify(p);return F.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:r})},[f,m,r,e,n]),null}function sx(t){return C6(t.context)}function H6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Bt(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof n=="string"&&(n=el(n));let{pathname:p="/",search:m="",hash:b="",state:v=null,key:_="default"}=n,N=F.useMemo(()=>{let A=hs(p,c);return A==null?null:{location:{pathname:A,search:m,hash:b,state:v,key:_},navigationType:r}},[c,p,m,b,v,_,r]);return tr(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:F.createElement(Rs.Provider,{value:f},F.createElement(b0.Provider,{children:e,value:N}))}var Jh="get",e1="application/x-www-form-urlencoded";function w0(t){return t!=null&&typeof t.tagName=="string"}function V6(t){return w0(t)&&t.tagName.toLowerCase()==="button"}function G6(t){return w0(t)&&t.tagName.toLowerCase()==="form"}function $6(t){return w0(t)&&t.tagName.toLowerCase()==="input"}function q6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W6(t,e){return t.button===0&&(!e||e==="_self")&&!q6(t)}var Nh=null;function X6(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var Y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(t){return t!=null&&!Y6.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e1}"`),null):t}function K6(t,e){let n,r,i,s,c;if(G6(t)){let f=t.getAttribute("action");r=f?hs(f,e):null,n=t.getAttribute("method")||Jh,i=Ym(t.getAttribute("enctype"))||e1,s=new FormData(t)}else if(V6(t)||$6(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(r=p?hs(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Jh,i=Ym(t.getAttribute("formenctype"))||Ym(f.getAttribute("enctype"))||e1,s=new FormData(f,t),!X6()){let{name:m,type:b,value:v}=t;if(b==="image"){let _=m?`${m}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else m&&s.append(m,v)}}else{if(w0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jh,r=null,i=e1,c=t}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:c}}function ax(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Z6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function J6(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let c=await Z6(s,n);return c.links?c.links():[]}return[]}));return r5(r.flat(1).filter(Q6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Iv(t,e,n,r,i,s){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>{var b;return n[m].pathname!==p.pathname||((b=n[m].route.path)==null?void 0:b.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return s==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):s==="data"?e.filter((p,m)=>{var v;let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function e5(t,e,{includeHydrateFallback:n}={}){return t5(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function t5(t){return[...new Set(t)]}function n5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function r5(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(n5(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i5=new Set([100,101,204,205]);function s5(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function UE(){let t=F.useContext(tc);return ax(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a5(){let t=F.useContext(cd);return ax(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ox=F.createContext(void 0);ox.displayName="FrameworkContext";function HE(){let t=F.useContext(ox);return ax(t,"You must render this element inside a <HydratedRouter> element"),t}function o5(t,e){let n=F.useContext(ox),[r,i]=F.useState(!1),[s,c]=F.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:v}=e,_=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=k=>{k.forEach(U=>{c(U.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),F.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let N=()=>{i(!0)},A=()=>{i(!1),c(!1)};return n?t!=="intent"?[s,_,{}]:[s,_,{onFocus:wf(f,N),onBlur:wf(p,A),onMouseEnter:wf(m,N),onMouseLeave:wf(b,A),onTouchStart:wf(v,N)}]:[!1,_,{}]}function wf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l5({page:t,...e}){let{router:n}=UE(),r=F.useMemo(()=>zo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(u5,{page:t,matches:r,...e}):null}function c5(t){let{manifest:e,routeModules:n}=HE(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return J6(t,e,n).then(c=>{s||i(c)}),()=>{s=!0}},[t,e,n]),r}function u5({page:t,matches:e,...n}){let r=Mr(),{manifest:i,routeModules:s}=HE(),{basename:c}=UE(),{loaderData:f,matches:p}=a5(),m=F.useMemo(()=>Iv(t,e,p,i,r,"data"),[t,e,p,i,r]),b=F.useMemo(()=>Iv(t,e,p,i,r,"assets"),[t,e,p,i,r]),v=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,R=!1;if(e.forEach(k=>{var j;let U=i.routes[k.route.id];!U||!U.hasLoader||(!m.some(W=>W.route.id===k.route.id)&&k.route.id in f&&((j=s[k.route.id])!=null&&j.shouldRevalidate)||U.hasClientLoader?R=!0:A.add(k.route.id))}),A.size===0)return[];let I=s5(t,c);return R&&A.size>0&&I.searchParams.set("_routes",e.filter(k=>A.has(k.route.id)).map(k=>k.route.id).join(",")),[I.pathname+I.search]},[c,f,r,i,m,e,t,s]),_=F.useMemo(()=>e5(b,i),[b,i]),N=c5(b);return F.createElement(F.Fragment,null,v.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),N.map(({key:A,link:R})=>F.createElement("link",{key:A,...R})))}function f5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VE&&(window.__reactRouterVersion="7.6.1")}catch{}function d5(t,e){return J8({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:w8({window:e==null?void 0:e.window}),hydrationData:h5(),routes:t,mapRouteProperties:B6,hydrationRouteProperties:L6,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function h5(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:p5(t.errors)}),t}function p5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new h1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let c=new s(i.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:f,target:p,to:m,preventScrollReset:b,viewTransition:v,..._},N){let{basename:A}=F.useContext(Rs),R=typeof m=="string"&&GE.test(m),I,k=!1;if(typeof m=="string"&&R&&(I=m,VE))try{let K=new URL(window.location.href),be=m.startsWith("//")?new URL(K.protocol+m):new URL(m),_e=hs(be.pathname,A);be.origin===K.origin&&_e!=null?m=_e+be.search+be.hash:k=!0}catch{tr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=b6(m,{relative:i}),[j,W,X]=o5(r,_),V=x5(m,{replace:c,state:f,target:p,preventScrollReset:b,relative:i,viewTransition:v});function Y(K){e&&e(K),K.defaultPrevented||V(K)}let se=F.createElement("a",{..._,...X,href:I||U,onClick:k||s?e:Y,ref:f5(N,W),target:p,"data-discover":!R&&n==="render"?"true":void 0});return j&&!R?F.createElement(F.Fragment,null,se,F.createElement(l5,{page:U})):se});cn.displayName="Link";var $E=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:f,children:p,...m},b){let v=ud(c,{relative:m.relative}),_=Mr(),N=F.useContext(cd),{navigator:A,basename:R}=F.useContext(Rs),I=N!=null&&C5(v)&&f===!0,k=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,U=_.pathname,j=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(U=U.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&R&&(j=hs(j,R)||j);const W=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let X=U===k||!i&&U.startsWith(k)&&U.charAt(W)==="/",V=j!=null&&(j===k||!i&&j.startsWith(k)&&j.charAt(k.length)==="/"),Y={isActive:X,isPending:V,isTransitioning:I},se=X?e:void 0,K;typeof r=="function"?K=r(Y):K=[r,X?"active":null,V?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let be=typeof s=="function"?s(Y):s;return F.createElement(cn,{...m,"aria-current":se,className:K,ref:b,style:be,to:c,viewTransition:f},typeof p=="function"?p(Y):p)});$E.displayName="NavLink";var m5=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:c=Jh,action:f,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:v,..._},N)=>{let A=w5(),R=v5(f,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&GE.test(f),U=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let W=j.nativeEvent.submitter,X=(W==null?void 0:W.getAttribute("formmethod"))||c;A(W||j.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:i,state:s,relative:m,preventScrollReset:b,viewTransition:v})};return F.createElement("form",{ref:N,method:I,action:R,onSubmit:r?p:U,..._,"data-discover":!k&&t==="render"?"true":void 0})});m5.displayName="Form";function g5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(t){let e=F.useContext(tc);return Bt(e,g5(t)),e}function x5(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:c}={}){let f=wn(),p=Mr(),m=ud(t,{relative:s});return F.useCallback(b=>{if(W6(b,e)){b.preventDefault();let v=n!==void 0?n:Zo(p)===Zo(m);f(t,{replace:v,state:r,preventScrollReset:i,relative:s,viewTransition:c})}},[p,f,m,n,r,e,t,i,s,c])}var y5=0,b5=()=>`__${String(++y5)}__`;function w5(){let{router:t}=qE("useSubmit"),{basename:e}=F.useContext(Rs),n=I6();return F.useCallback(async(r,i={})=>{let{action:s,method:c,encType:f,formData:p,body:m}=K6(r,e);if(i.navigate===!1){let b=i.fetcherKey||b5();await t.fetch(b,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:p,body:m,formMethod:i.method||c,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:p,body:m,formMethod:i.method||c,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function v5(t,{relative:e}={}){let{basename:n}=F.useContext(Rs),r=F.useContext(ps);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ud(t||".",{relative:e})},c=Mr();if(t==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let b=f.toString();s.search=b?`?${b}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:la([n,s.pathname])),Zo(s)}function C5(t,e={}){let n=F.useContext(tx);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qE("useViewTransitionState"),i=ud(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return d1(i.pathname,c)!=null||d1(i.pathname,s)!=null}[...i5];var WE=vE();const E5=Jl(WE);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S5(t){return F.createElement(j6,{flushSync:WE.flushSync,...t})}function XE(){const{pathname:t}=Mr();return F.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const _5="_headerLayout_jfqe8_1",T5="_logoSpan_jfqe8_37",A5="_rightSection_jfqe8_75",Oh={headerLayout:_5,logoSpan:T5,rightSection:A5};var Mh={},Dv;function N5(){if(Dv)return Mh;Dv=1,Mh.match=s,Mh.parse=c;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function s(b,v){return c(b).some(function(_){var N=_.inverse,A=_.type==="all"||v.type===_.type;if(A&&N||!(A||N))return!1;var R=_.expressions.every(function(I){var k=I.feature,U=I.modifier,j=I.value,W=v[k];if(!W)return!1;switch(k){case"orientation":case"scan":return W.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=m(j),W=m(W);break;case"resolution":j=p(j),W=p(W);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=f(j),W=f(W);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,W=parseInt(W,10)||0;break}switch(U){case"min":return W>=j;case"max":return W<=j;default:return W===j}});return R&&!N||!R&&N})}function c(b){return b.split(",").map(function(v){v=v.trim();var _=v.match(t),N=_[1],A=_[2],R=_[3]||"",I={};return I.inverse=!!N&&N.toLowerCase()==="not",I.type=A?A.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],I.expressions=R.map(function(k){var U=k.match(e),j=U[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:U[2]}}),I})}function f(b){var v=Number(b),_;return v||(_=b.match(/^(\d+)\s*\/\s*(\d+)$/),v=_[1]/_[2]),v}function p(b){var v=parseFloat(b),_=String(b).match(i)[1];switch(_){case"dpcm":return v/2.54;case"dppx":return v*96;default:return v}}function m(b){var v=parseFloat(b),_=String(b).match(r)[1];switch(_){case"em":return v*16;case"rem":return v*16;case"cm":return v*96/2.54;case"mm":return v*96/2.54/10;case"in":return v*96;case"pt":return v*72;case"pc":return v*72/12;default:return v}}return Mh}var Km,kv;function O5(){if(kv)return Km;kv=1;var t=N5().match,e=typeof window<"u"?window.matchMedia:null;function n(i,s,c){var f=this,p;e&&!c&&(p=e.call(window,i)),p?(this.matches=p.matches,this.media=p.media,p.addListener(v)):(this.matches=t(i,s),this.media=i),this.addListener=m,this.removeListener=b,this.dispose=_;function m(N){p&&p.addListener(N)}function b(N){p&&p.removeListener(N)}function v(N){f.matches=N.matches,f.media=N.media}function _(){p&&p.removeListener(v)}}function r(i,s,c){return new n(i,s,c)}return Km=r,Km}var M5=O5();const R5=Jl(M5);var I5=/[A-Z]/g,D5=/^ms-/,Zm={};function k5(t){return"-"+t.toLowerCase()}function YE(t){if(Zm.hasOwnProperty(t))return Zm[t];var e=t.replace(I5,k5);return Zm[t]=D5.test(e)?"-"+e:e}function B5(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const c=n[s];if(t[c]!==e[c]||!Object.prototype.hasOwnProperty.call(e,c))return!1}return!0}var Qm={exports:{}},Jm,Bv;function L5(){if(Bv)return Jm;Bv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jm=t,Jm}var eg,Lv;function P5(){if(Lv)return eg;Lv=1;var t=L5();function e(){}function n(){}return n.resetWarningCache=e,eg=function(){function r(c,f,p,m,b,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},eg}var Pv;function lx(){return Pv||(Pv=1,Qm.exports=P5()()),Qm.exports}var j5=lx();const Kt=Jl(j5),oi=Kt.oneOfType([Kt.string,Kt.number]),KE={all:Kt.bool,grid:Kt.bool,aural:Kt.bool,braille:Kt.bool,handheld:Kt.bool,print:Kt.bool,projection:Kt.bool,screen:Kt.bool,tty:Kt.bool,tv:Kt.bool,embossed:Kt.bool},z5={orientation:Kt.oneOf(["portrait","landscape"]),scan:Kt.oneOf(["progressive","interlace"]),aspectRatio:Kt.string,deviceAspectRatio:Kt.string,height:oi,deviceHeight:oi,width:oi,deviceWidth:oi,color:Kt.bool,colorIndex:Kt.bool,monochrome:Kt.bool,resolution:oi,type:Object.keys(KE)},{type:DZ,...F5}=z5,U5={minAspectRatio:Kt.string,maxAspectRatio:Kt.string,minDeviceAspectRatio:Kt.string,maxDeviceAspectRatio:Kt.string,minHeight:oi,maxHeight:oi,minDeviceHeight:oi,maxDeviceHeight:oi,minWidth:oi,maxWidth:oi,minDeviceWidth:oi,maxDeviceWidth:oi,minColor:Kt.number,maxColor:Kt.number,minColorIndex:Kt.number,maxColorIndex:Kt.number,minMonochrome:Kt.number,maxMonochrome:Kt.number,minResolution:oi,maxResolution:oi,...F5},H5={...KE,...U5};var V5={all:H5};const G5=t=>`not ${t}`,$5=(t,e)=>{const n=YE(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?G5(n):`(${n}: ${e})`},q5=t=>t.join(" and "),W5=t=>{const e=[];return Object.keys(V5.all).forEach(n=>{const r=t[n];r!=null&&e.push($5(n,r))}),q5(e)},X5=F.createContext(void 0),Y5=t=>t.query||W5(t),jv=t=>t?Object.keys(t).reduce((n,r)=>(n[YE(r)]=t[r],n),{}):void 0,ZE=()=>{const t=F.useRef(!1);return F.useEffect(()=>{t.current=!0},[]),t.current},K5=t=>{const e=F.useContext(X5),n=()=>jv(t)||jv(e),[r,i]=F.useState(n);return F.useEffect(()=>{const s=n();B5(r,s)||i(s)},[t,e]),r},Z5=t=>{const e=()=>Y5(t),[n,r]=F.useState(e);return F.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},Q5=(t,e)=>{const n=()=>R5(t,e||{},!!e),[r,i]=F.useState(n),s=ZE();return F.useEffect(()=>{if(s){const c=n();return i(c),()=>{c&&c.dispose()}}},[t,e]),r},J5=t=>{const[e,n]=F.useState(t.matches);return F.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},tg=(t,e,n)=>{const r=K5(e),i=Z5(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=Q5(i,r),c=J5(s);return ZE(),F.useEffect(()=>{},[c]),F.useEffect(()=>()=>{s&&s.dispose()},[]),c},cx=()=>{const t=tg({maxWidth:767}),e=tg({minWidth:768,maxWidth:1024}),n=tg({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},eN="_overlay_jb3vl_1",tN="_menuLayout_jb3vl_33",nN="_menuVisible_jb3vl_75",rN="_menuHidden_jb3vl_83",iN="_closeContainer_jb3vl_91",sN="_closeButton_jb3vl_125",aN="_menuSection_jb3vl_183",oN="_userNickname_jb3vl_197",lN="_sidebarMenu_jb3vl_215",cN="_menuSpan_jb3vl_227",uN="_divider_jb3vl_259",yn={overlay:eN,menuLayout:tN,menuVisible:nN,menuHidden:rN,closeContainer:iN,closeButton:sN,menuSection:aN,userNickname:oN,sidebarMenu:lN,menuSpan:cN,divider:uN},ux=F.createContext();function fN({children:t}){const[e,n]=F.useState(null),[r,i]=F.useState(null),f={user:e,token:r,login:(p,m)=>{n(p),i(m),localStorage.setItem("ACCESS_TOKEN",m)},logout:()=>{n(null),i(null),localStorage.removeItem("ACCESS_TOKEN")}};return console.log(e),E.jsx(ux.Provider,{value:f,children:t})}const QE=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}];function dN({onOpen:t,isOpen:e}){const n=wn(),{user:r,logout:i}=F.useContext(ux),s=()=>{i(),t(),n("/")},c=f=>{t(),n(f)};return console.log(r),E.jsx("div",{className:yn.overlay,children:E.jsxs("div",{className:`${yn.menuLayout} ${e?yn.menuVisible:yn.menuHidden}`,children:[E.jsx("div",{className:yn.closeContainer,children:E.jsx("button",{className:yn.closeButton,onClick:t})}),E.jsxs("section",{className:yn.menuSection,children:[E.jsx("h3",{className:yn.userNickname,children:r?`${r.user_name} `:" "}),E.jsx("div",{className:yn.sidebarMenu,children:r&&r.admin_flag&&E.jsx("span",{className:yn.menuSpan,onClick:()=>{alert("    .")},children:" "})})]}),E.jsx("hr",{className:yn.divider}),E.jsx("section",{className:yn.menuSection,children:E.jsx("div",{className:yn.sidebarMenu,children:QE.map(({name:f,label:p,path:m})=>E.jsx("span",{className:yn.menuSpan,onClick:()=>c(m),children:p},f))})}),E.jsx("hr",{className:yn.divider}),E.jsx("section",{className:yn.menuSection,children:E.jsxs("div",{className:yn.sidebarMenu,children:[E.jsx("span",{className:yn.menuSpan,onClick:()=>c("/scan"),children:" "}),E.jsx("span",{className:yn.menuSpan,onClick:()=>alert("  "),children:" "}),E.jsx("span",{className:yn.menuSpan,onClick:()=>c("/nearby-galleries"),children:" "})]})}),E.jsx("hr",{className:yn.divider}),E.jsx("section",{className:yn.menuSection,children:E.jsxs("div",{className:yn.sidebarMenu,children:[E.jsx("span",{className:yn.menuSpan,onClick:()=>c("/mypage"),children:""}),E.jsx("span",{className:yn.menuSpan,onClick:()=>c("/announcement"),children:" & FAQ"}),localStorage.getItem("ACCESS_TOKEN")?E.jsx("span",{className:yn.menuSpan,onClick:s,children:""}):E.jsx("span",{className:yn.menuSpan,onClick:()=>c("/login"),children:""})]})})]})})}const hN="_navbarNavigation_12t0r_1",pN="_menuList_12t0r_39",mN="_menuItem_12t0r_61",gN="_defaultLink_12t0r_81",xN="_activeLink_12t0r_83",Vc={navbarNavigation:hN,menuList:pN,menuItem:mN,defaultLink:gN,activeLink:xN};function yN(){const{pathname:t}=Mr();return E.jsx("nav",{className:Vc.navbarNavigation,children:E.jsx("ul",{className:Vc.menuList,children:QE.map(({label:e,path:n})=>E.jsx("li",{className:`${Vc.menuItem} ${t===n&&Vc.currentMenu}`,children:E.jsx($E,{to:n,className:({isActive:r})=>r?Vc.activeLink:Vc.defaultLink,children:e})},n))})})}const bN=()=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",children:E.jsx("path",{d:"M2.10121 10.0399C1.40486 10.0399 0.878543 9.86574 0.522267 9.51736C0.174089 9.16088 0 8.61806 0 7.88889V2.63889C0 1.90972 0.174089 1.37095 0.522267 1.02257C0.878543 0.67419 1.40486 0.5 2.10121 0.5H7.4332C8.12955 0.5 8.65182 0.67419 9 1.02257C9.35628 1.37095 9.53441 1.90972 9.53441 2.63889V7.88889C9.53441 8.61806 9.35628 9.16088 9 9.51736C8.65182 9.86574 8.12955 10.0399 7.4332 10.0399H2.10121ZM2.12551 8.55729H7.39676C7.62348 8.55729 7.78947 8.50463 7.89474 8.39931C8 8.28588 8.05263 8.11574 8.05263 7.88889V2.63889C8.05263 2.41204 8 2.24595 7.89474 2.14062C7.78947 2.0272 7.62348 1.97049 7.39676 1.97049H2.12551C1.90688 1.97049 1.74494 2.0272 1.63968 2.14062C1.53441 2.24595 1.48178 2.41204 1.48178 2.63889V7.88889C1.48178 8.11574 1.53441 8.28588 1.63968 8.39931C1.74494 8.50463 1.90688 8.55729 2.12551 8.55729ZM3.80162 6.45486C3.65587 6.45486 3.583 6.36574 3.583 6.1875V4.32812C3.583 4.15799 3.65587 4.07292 3.80162 4.07292H5.73279C5.87854 4.07292 5.95142 4.15799 5.95142 4.32812V6.1875C5.95142 6.36574 5.87854 6.45486 5.73279 6.45486H3.80162ZM13.5668 10.0399C12.8704 10.0399 12.3441 9.86574 11.9879 9.51736C11.6397 9.16088 11.4656 8.61806 11.4656 7.88889V2.63889C11.4656 1.90972 11.6397 1.37095 11.9879 1.02257C12.3441 0.67419 12.8704 0.5 13.5668 0.5H18.8988C19.5951 0.5 20.1174 0.67419 20.4656 1.02257C20.8219 1.37095 21 1.90972 21 2.63889V7.88889C21 8.61806 20.8219 9.16088 20.4656 9.51736C20.1174 9.86574 19.5951 10.0399 18.8988 10.0399H13.5668ZM13.6032 8.55729H18.8866C19.0972 8.55729 19.2551 8.50463 19.3603 8.39931C19.4656 8.28588 19.5182 8.11574 19.5182 7.88889V2.63889C19.5182 2.41204 19.4656 2.24595 19.3603 2.14062C19.2551 2.0272 19.0972 1.97049 18.8866 1.97049H13.6032C13.3765 1.97049 13.2105 2.0272 13.1053 2.14062C13 2.24595 12.9474 2.41204 12.9474 2.63889V7.88889C12.9474 8.11574 13 8.28588 13.1053 8.39931C13.2105 8.50463 13.3765 8.55729 13.6032 8.55729ZM15.3279 6.45486C15.1741 6.45486 15.0972 6.36574 15.0972 6.1875V4.32812C15.0972 4.15799 15.1741 4.07292 15.3279 4.07292H17.247C17.4008 4.07292 17.4777 4.15799 17.4777 4.32812V6.1875C17.4777 6.36574 17.4008 6.45486 17.247 6.45486H15.3279ZM2.10121 21.5C1.40486 21.5 0.878543 21.3258 0.522267 20.9774C0.174089 20.6291 0 20.0943 0 19.3733V14.099C0 13.3779 0.174089 12.8432 0.522267 12.4948C0.878543 12.1464 1.40486 11.9722 2.10121 11.9722H7.4332C8.12955 11.9722 8.65182 12.1464 9 12.4948C9.35628 12.8432 9.53441 13.3779 9.53441 14.099V19.3733C9.53441 20.0943 9.35628 20.6291 9 20.9774C8.65182 21.3258 8.12955 21.5 7.4332 21.5H2.10121ZM2.12551 20.0295H7.39676C7.62348 20.0295 7.78947 19.9728 7.89474 19.8594C8 19.7541 8.05263 19.588 8.05263 19.3611V14.1111C8.05263 13.8843 8 13.7182 7.89474 13.6128C7.78947 13.4994 7.62348 13.4427 7.39676 13.4427H2.12551C1.90688 13.4427 1.74494 13.4994 1.63968 13.6128C1.53441 13.7182 1.48178 13.8843 1.48178 14.1111V19.3611C1.48178 19.588 1.53441 19.7541 1.63968 19.8594C1.74494 19.9728 1.90688 20.0295 2.12551 20.0295ZM3.80162 17.9271C3.65587 17.9271 3.583 17.838 3.583 17.6597V15.8003C3.583 15.6302 3.65587 15.5451 3.80162 15.5451H5.73279C5.87854 15.5451 5.95142 15.6302 5.95142 15.8003V17.6597C5.95142 17.838 5.87854 17.9271 5.73279 17.9271H3.80162ZM12.2186 14.8767C12.0729 14.8767 12 14.7917 12 14.6215V12.75C12 12.5799 12.0729 12.4948 12.2186 12.4948H14.1377C14.2915 12.4948 14.3684 12.5799 14.3684 12.75V14.6215C14.3684 14.7917 14.2915 14.8767 14.1377 14.8767H12.2186ZM18.3036 14.8767C18.166 14.8767 18.0972 14.7917 18.0972 14.6215V12.75C18.0972 12.5799 18.166 12.4948 18.3036 12.4948H20.2348C20.3968 12.4948 20.4777 12.5799 20.4777 12.75V14.6215C20.4777 14.7917 20.3968 14.8767 20.2348 14.8767H18.3036ZM15.2915 17.9271C15.1457 17.9271 15.0729 17.838 15.0729 17.6597V15.8003C15.0729 15.6302 15.1457 15.5451 15.2915 15.5451H17.2105C17.3725 15.5451 17.4534 15.6302 17.4534 15.8003V17.6597C17.4534 17.838 17.3725 17.9271 17.2105 17.9271H15.2915ZM12.2186 20.9774C12.0729 20.9774 12 20.8883 12 20.7101V18.8385C12 18.6765 12.0729 18.5955 12.2186 18.5955H14.1377C14.2915 18.5955 14.3684 18.6765 14.3684 18.8385V20.7101C14.3684 20.8883 14.2915 20.9774 14.1377 20.9774H12.2186ZM18.3036 20.9774C18.166 20.9774 18.0972 20.8883 18.0972 20.7101V18.8385C18.0972 18.6765 18.166 18.5955 18.3036 18.5955H20.2348C20.3968 18.5955 20.4777 18.6765 20.4777 18.8385V20.7101C20.4777 20.8883 20.3968 20.9774 20.2348 20.9774H18.3036Z",fill:"black"})}),wN=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[E.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),E.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),E.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]});function JE(){const[t,e]=F.useState(!1),{isDesktop:n}=cx(),r=wn(),i=()=>{e(!0),document.body.style.overflow="hidden"},s=()=>{e(!1),document.body.style.overflow="unset"},c=()=>{s(),r("/")};return E.jsxs("header",{className:Oh.headerLayout,children:[E.jsx("span",{className:Oh.logoSpan,onClick:c,children:"ARTLY"}),n&&E.jsx(yN,{}),E.jsxs("div",{className:Oh.rightSection,children:[E.jsx(cn,{className:Oh.qrCode,onClick:()=>r("/scan"),children:E.jsx(bN,{})}),E.jsx("button",{onClick:t?s:i,children:E.jsx(wN,{})})]}),t&&E.jsx(dN,{onOpen:s,isOpen:t})]})}const vN="_footerLayout_16zxr_1",CN="_linkContainer_16zxr_27",EN="_link_16zxr_27",SN="_divideSpan_16zxr_61",_N="_infoContainer_16zxr_71",Gc={footerLayout:vN,linkContainer:CN,link:EN,divideSpan:SN,infoContainer:_N};function eS(){return E.jsxs("footer",{className:Gc.footerLayout,children:[E.jsxs("div",{className:Gc.linkContainer,children:[E.jsx(cn,{to:"/announcement",className:Gc.link,children:"&FAQ"}),E.jsx("span",{className:Gc.divideSpan,children:"|"}),E.jsx(cn,{to:"/termspolicy",className:Gc.link,children:"  "})]}),E.jsxs("div",{className:Gc.infoContainer,children:[E.jsx("p",{children:"()"}),E.jsx("p",{children:" : 477-88-01191"}),E.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),E.jsxs("p",{children:[" All rights reserved by"," ",E.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function tS(t,e){return function(){return t.apply(e,arguments)}}const{toString:TN}=Object.prototype,{getPrototypeOf:fx}=Object,{iterator:v0,toStringTag:nS}=Symbol,C0=(t=>e=>{const n=TN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ds=t=>(t=t.toLowerCase(),e=>C0(e)===t),E0=t=>e=>typeof e===t,{isArray:wu}=Array,Zf=E0("undefined");function AN(t){return t!==null&&!Zf(t)&&t.constructor!==null&&!Zf(t.constructor)&&Ei(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rS=Ds("ArrayBuffer");function NN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rS(t.buffer),e}const ON=E0("string"),Ei=E0("function"),iS=E0("number"),S0=t=>t!==null&&typeof t=="object",MN=t=>t===!0||t===!1,t1=t=>{if(C0(t)!=="object")return!1;const e=fx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nS in t)&&!(v0 in t)},RN=Ds("Date"),IN=Ds("File"),DN=Ds("Blob"),kN=Ds("FileList"),BN=t=>S0(t)&&Ei(t.pipe),LN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ei(t.append)&&((e=C0(t))==="formdata"||e==="object"&&Ei(t.toString)&&t.toString()==="[object FormData]"))},PN=Ds("URLSearchParams"),[jN,zN,FN,UN]=["ReadableStream","Request","Response","Headers"].map(Ds),HN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),wu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),c=s.length;let f;for(r=0;r<c;r++)f=s[r],e.call(null,t[f],f,t)}}function sS(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aS=t=>!Zf(t)&&t!==Bl;function h2(){const{caseless:t}=aS(this)&&this||{},e={},n=(r,i)=>{const s=t&&sS(e,i)||i;t1(e[s])&&t1(r)?e[s]=h2(e[s],r):t1(r)?e[s]=h2({},r):wu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&fd(arguments[r],n);return e}const VN=(t,e,n,{allOwnKeys:r}={})=>(fd(e,(i,s)=>{n&&Ei(i)?t[s]=tS(i,n):t[s]=i},{allOwnKeys:r}),t),GN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$N=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qN=(t,e,n,r)=>{let i,s,c;const f={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)c=i[s],(!r||r(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=n!==!1&&fx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},WN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XN=t=>{if(!t)return null;if(wu(t))return t;let e=t.length;if(!iS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},YN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fx(Uint8Array)),KN=(t,e)=>{const r=(t&&t[v0]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ZN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},QN=Ds("HTMLFormElement"),JN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),e7=Ds("RegExp"),oS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fd(n,(i,s)=>{let c;(c=e(i,s,t))!==!1&&(r[s]=c||i)}),Object.defineProperties(t,r)},t7=t=>{oS(t,(e,n)=>{if(Ei(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ei(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},n7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return wu(t)?r(t):r(String(t).split(e)),n},r7=()=>{},i7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function s7(t){return!!(t&&Ei(t.append)&&t[nS]==="FormData"&&t[v0])}const a7=t=>{const e=new Array(10),n=(r,i)=>{if(S0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=wu(r)?[]:{};return fd(r,(c,f)=>{const p=n(c,i+1);!Zf(p)&&(s[f]=p)}),e[i]=void 0,s}}return r};return n(t,0)},o7=Ds("AsyncFunction"),l7=t=>t&&(S0(t)||Ei(t))&&Ei(t.then)&&Ei(t.catch),lS=((t,e)=>t?setImmediate:e?((n,r)=>(Bl.addEventListener("message",({source:i,data:s})=>{i===Bl&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Bl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ei(Bl.postMessage)),c7=typeof queueMicrotask<"u"?queueMicrotask.bind(Bl):typeof process<"u"&&process.nextTick||lS,u7=t=>t!=null&&Ei(t[v0]),ye={isArray:wu,isArrayBuffer:rS,isBuffer:AN,isFormData:LN,isArrayBufferView:NN,isString:ON,isNumber:iS,isBoolean:MN,isObject:S0,isPlainObject:t1,isReadableStream:jN,isRequest:zN,isResponse:FN,isHeaders:UN,isUndefined:Zf,isDate:RN,isFile:IN,isBlob:DN,isRegExp:e7,isFunction:Ei,isStream:BN,isURLSearchParams:PN,isTypedArray:YN,isFileList:kN,forEach:fd,merge:h2,extend:VN,trim:HN,stripBOM:GN,inherits:$N,toFlatObject:qN,kindOf:C0,kindOfTest:Ds,endsWith:WN,toArray:XN,forEachEntry:KN,matchAll:ZN,isHTMLForm:QN,hasOwnProperty:zv,hasOwnProp:zv,reduceDescriptors:oS,freezeMethods:t7,toObjectSet:n7,toCamelCase:JN,noop:r7,toFiniteNumber:i7,findKey:sS,global:Bl,isContextDefined:aS,isSpecCompliantForm:s7,toJSONObject:a7,isAsyncFn:o7,isThenable:l7,setImmediate:lS,asap:c7,isIterable:u7};function vt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ye.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const cS=vt.prototype,uS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uS[t]={value:t}});Object.defineProperties(vt,uS);Object.defineProperty(cS,"isAxiosError",{value:!0});vt.from=(t,e,n,r,i,s)=>{const c=Object.create(cS);return ye.toFlatObject(t,c,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),vt.call(c,t.message,e,n,r,i),c.cause=t,c.name=t.name,s&&Object.assign(c,s),c};const f7=null;function p2(t){return ye.isPlainObject(t)||ye.isArray(t)}function fS(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function Fv(t,e,n){return t?t.concat(e).map(function(i,s){return i=fS(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function d7(t){return ye.isArray(t)&&!t.some(p2)}const h7=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function _0(t,e,n){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,I){return!ye.isUndefined(I[R])});const r=n.metaTokens,i=n.visitor||b,s=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function m(A){if(A===null)return"";if(ye.isDate(A))return A.toISOString();if(!p&&ye.isBlob(A))throw new vt("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(A)||ye.isTypedArray(A)?p&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function b(A,R,I){let k=A;if(A&&!I&&typeof A=="object"){if(ye.endsWith(R,"{}"))R=r?R:R.slice(0,-2),A=JSON.stringify(A);else if(ye.isArray(A)&&d7(A)||(ye.isFileList(A)||ye.endsWith(R,"[]"))&&(k=ye.toArray(A)))return R=fS(R),k.forEach(function(j,W){!(ye.isUndefined(j)||j===null)&&e.append(c===!0?Fv([R],W,s):c===null?R:R+"[]",m(j))}),!1}return p2(A)?!0:(e.append(Fv(I,R,s),m(A)),!1)}const v=[],_=Object.assign(h7,{defaultVisitor:b,convertValue:m,isVisitable:p2});function N(A,R){if(!ye.isUndefined(A)){if(v.indexOf(A)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(A),ye.forEach(A,function(k,U){(!(ye.isUndefined(k)||k===null)&&i.call(e,k,ye.isString(U)?U.trim():U,R,_))===!0&&N(k,R?R.concat(U):[U])}),v.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return N(t),e}function Uv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function dx(t,e){this._pairs=[],t&&_0(t,this,e)}const dS=dx.prototype;dS.append=function(e,n){this._pairs.push([e,n])};dS.toString=function(e){const n=e?function(r){return e.call(this,r,Uv)}:Uv;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function p7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hS(t,e,n){if(!e)return t;const r=n&&n.encode||p7;ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=ye.isURLSearchParams(e)?e.toString():new dx(e,n).toString(r),s){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Hv{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m7=typeof URLSearchParams<"u"?URLSearchParams:dx,g7=typeof FormData<"u"?FormData:null,x7=typeof Blob<"u"?Blob:null,y7={isBrowser:!0,classes:{URLSearchParams:m7,FormData:g7,Blob:x7},protocols:["http","https","file","blob","url","data"]},hx=typeof window<"u"&&typeof document<"u",m2=typeof navigator=="object"&&navigator||void 0,b7=hx&&(!m2||["ReactNative","NativeScript","NS"].indexOf(m2.product)<0),w7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v7=hx&&window.location.href||"http://localhost",C7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hx,hasStandardBrowserEnv:b7,hasStandardBrowserWebWorkerEnv:w7,navigator:m2,origin:v7},Symbol.toStringTag,{value:"Module"})),Zr={...C7,...y7};function E7(t,e){return _0(t,new Zr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Zr.isNode&&ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function S7(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function mS(t){function e(n,r,i,s){let c=n[s++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=s>=n.length;return c=!c&&ye.isArray(i)?i.length:c,p?(ye.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!f):((!i[c]||!ye.isObject(i[c]))&&(i[c]=[]),e(n,r,i[c],s)&&ye.isArray(i[c])&&(i[c]=_7(i[c])),!f)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const n={};return ye.forEachEntry(t,(r,i)=>{e(S7(r),i,n,0)}),n}return null}function T7(t,e,n){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const dd={transitional:pS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ye.isObject(e);if(s&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return i?JSON.stringify(mS(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E7(e,this.formSerializer).toString();if((f=ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return _0(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),T7(e)):e}],transformResponse:[function(e){const n=this.transitional||dd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?vt.from(f,vt.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{dd.headers[t]={}});const A7=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),N7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||e[n]&&A7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Vv=Symbol("internals");function vf(t){return t&&String(t).trim().toLowerCase()}function n1(t){return t===!1||t==null?t:ye.isArray(t)?t.map(n1):String(t)}function O7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const M7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ng(t,e,n,r,i){if(ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ye.isString(e)){if(ye.isString(r))return e.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(e)}}function R7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function I7(t,e){const n=ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,c){return this[r].call(this,e,i,s,c)},configurable:!0})})}let Si=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(f,p,m){const b=vf(p);if(!b)throw new Error("header name must be a non-empty string");const v=ye.findKey(i,b);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||p]=n1(f))}const c=(f,p)=>ye.forEach(f,(m,b)=>s(m,b,p));if(ye.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(ye.isString(e)&&(e=e.trim())&&!M7(e))c(N7(e),n);else if(ye.isObject(e)&&ye.isIterable(e)){let f={},p,m;for(const b of e){if(!ye.isArray(b))throw TypeError("Object iterator must return a key-value pair");f[m=b[0]]=(p=f[m])?ye.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}c(f,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=vf(e),e){const r=ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return O7(i);if(ye.isFunction(n))return n.call(this,i,r);if(ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vf(e),e){const r=ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ng(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(c){if(c=vf(c),c){const f=ye.findKey(r,c);f&&(!n||ng(r,r[f],f,n))&&(delete r[f],i=!0)}}return ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||ng(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ye.forEach(this,(i,s)=>{const c=ye.findKey(r,s);if(c){n[c]=n1(i),delete n[s];return}const f=e?R7(s):String(s).trim();f!==s&&delete n[s],n[f]=n1(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Vv]=this[Vv]={accessors:{}}).accessors,i=this.prototype;function s(c){const f=vf(c);r[f]||(I7(i,c),r[f]=!0)}return ye.isArray(e)?e.forEach(s):s(e),this}};Si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Si.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ye.freezeMethods(Si);function rg(t,e){const n=this||dd,r=e||n,i=Si.from(r.headers);let s=r.data;return ye.forEach(t,function(f){s=f.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function gS(t){return!!(t&&t.__CANCEL__)}function vu(t,e,n){vt.call(this,t??"canceled",vt.ERR_CANCELED,e,n),this.name="CanceledError"}ye.inherits(vu,vt,{__CANCEL__:!0});function xS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new vt("Request failed with status code "+n.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function D7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function k7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),b=r[s];c||(c=m),n[i]=p,r[i]=m;let v=s,_=0;for(;v!==i;)_+=n[v++],v=v%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),m-c<e)return;const N=b&&m-b;return N?Math.round(_*1e3/N):void 0}}function B7(t,e){let n=0,r=1e3/e,i,s;const c=(m,b=Date.now())=>{n=b,i=null,s&&(clearTimeout(s),s=null),t.apply(null,m)};return[(...m)=>{const b=Date.now(),v=b-n;v>=r?c(m,b):(i=m,s||(s=setTimeout(()=>{s=null,c(i)},r-v)))},()=>i&&c(i)]}const m1=(t,e,n=3)=>{let r=0;const i=k7(50,250);return B7(s=>{const c=s.loaded,f=s.lengthComputable?s.total:void 0,p=c-r,m=i(p),b=c<=f;r=c;const v={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&b?(f-c)/m:void 0,event:s,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(v)},n)},Gv=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$v=t=>(...e)=>ye.asap(()=>t(...e)),L7=Zr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,P7=Zr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const c=[t+"="+encodeURIComponent(e)];ye.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),ye.isString(r)&&c.push("path="+r),ye.isString(i)&&c.push("domain="+i),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function j7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function z7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yS(t,e,n){let r=!j7(e);return t&&(r||n==!1)?z7(t,e):e}const qv=t=>t instanceof Si?{...t}:t;function ql(t,e){e=e||{};const n={};function r(m,b,v,_){return ye.isPlainObject(m)&&ye.isPlainObject(b)?ye.merge.call({caseless:_},m,b):ye.isPlainObject(b)?ye.merge({},b):ye.isArray(b)?b.slice():b}function i(m,b,v,_){if(ye.isUndefined(b)){if(!ye.isUndefined(m))return r(void 0,m,v,_)}else return r(m,b,v,_)}function s(m,b){if(!ye.isUndefined(b))return r(void 0,b)}function c(m,b){if(ye.isUndefined(b)){if(!ye.isUndefined(m))return r(void 0,m)}else return r(void 0,b)}function f(m,b,v){if(v in e)return r(m,b);if(v in t)return r(void 0,m)}const p={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,b,v)=>i(qv(m),qv(b),v,!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(b){const v=p[b]||i,_=v(t[b],e[b],b);ye.isUndefined(_)&&v!==f||(n[b]=_)}),n}const bS=t=>{const e=ql({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:c,auth:f}=e;e.headers=c=Si.from(c),e.url=hS(yS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(ye.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...b]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...b].join("; "))}}if(Zr.hasStandardBrowserEnv&&(r&&ye.isFunction(r)&&(r=r(e)),r||r!==!1&&L7(e.url))){const m=i&&s&&P7.read(s);m&&c.set(i,m)}return e},F7=typeof XMLHttpRequest<"u",U7=F7&&function(t){return new Promise(function(n,r){const i=bS(t);let s=i.data;const c=Si.from(i.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=i,b,v,_,N,A;function R(){N&&N(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(b),i.signal&&i.signal.removeEventListener("abort",b)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function k(){if(!I)return;const j=Si.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),X={data:!f||f==="text"||f==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:t,request:I};xS(function(Y){n(Y),R()},function(Y){r(Y),R()},X),I=null}"onloadend"in I?I.onloadend=k:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(k)},I.onabort=function(){I&&(r(new vt("Request aborted",vt.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new vt("Network Error",vt.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||pS;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new vt(W,X.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,t,I)),I=null},s===void 0&&c.setContentType(null),"setRequestHeader"in I&&ye.forEach(c.toJSON(),function(W,X){I.setRequestHeader(X,W)}),ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),f&&f!=="json"&&(I.responseType=i.responseType),m&&([_,A]=m1(m,!0),I.addEventListener("progress",_)),p&&I.upload&&([v,N]=m1(p),I.upload.addEventListener("progress",v),I.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(b=j=>{I&&(r(!j||j.type?new vu(null,t,I):j),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(b),i.signal&&(i.signal.aborted?b():i.signal.addEventListener("abort",b)));const U=D7(i.url);if(U&&Zr.protocols.indexOf(U)===-1){r(new vt("Unsupported protocol "+U+":",vt.ERR_BAD_REQUEST,t));return}I.send(s||null)})},H7=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(m){if(!i){i=!0,f();const b=m instanceof Error?m:this.reason;r.abort(b instanceof vt?b:new vu(b instanceof Error?b.message:b))}};let c=e&&setTimeout(()=>{c=null,s(new vt(`timeout ${e} of ms exceeded`,vt.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(s):m.removeEventListener("abort",s)}),t=null)};t.forEach(m=>m.addEventListener("abort",s));const{signal:p}=r;return p.unsubscribe=()=>ye.asap(f),p}},V7=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},G7=async function*(t,e){for await(const n of $7(t))yield*V7(n,e)},$7=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Wv=(t,e,n,r)=>{const i=G7(t,e);let s=0,c,f=p=>{c||(c=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await i.next();if(m){f(),p.close();return}let v=b.byteLength;if(n){let _=s+=v;n(_)}p.enqueue(new Uint8Array(b))}catch(m){throw f(m),m}},cancel(p){return f(p),i.return()}},{highWaterMark:2})},T0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wS=T0&&typeof ReadableStream=="function",q7=T0&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},W7=wS&&vS(()=>{let t=!1;const e=new Request(Zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Xv=64*1024,g2=wS&&vS(()=>ye.isReadableStream(new Response("").body)),g1={stream:g2&&(t=>t.body)};T0&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!g1[e]&&(g1[e]=ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new vt(`Response type '${e}' is not supported`,vt.ERR_NOT_SUPPORT,r)})})})(new Response);const X7=async t=>{if(t==null)return 0;if(ye.isBlob(t))return t.size;if(ye.isSpecCompliantForm(t))return(await new Request(Zr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(t)||ye.isArrayBuffer(t))return t.byteLength;if(ye.isURLSearchParams(t)&&(t=t+""),ye.isString(t))return(await q7(t)).byteLength},Y7=async(t,e)=>{const n=ye.toFiniteNumber(t.getContentLength());return n??X7(e)},K7=T0&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:c,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:b,withCredentials:v="same-origin",fetchOptions:_}=bS(t);m=m?(m+"").toLowerCase():"text";let N=H7([i,s&&s.toAbortSignal()],c),A;const R=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let I;try{if(p&&W7&&n!=="get"&&n!=="head"&&(I=await Y7(b,r))!==0){let X=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(ye.isFormData(r)&&(V=X.headers.get("content-type"))&&b.setContentType(V),X.body){const[Y,se]=Gv(I,m1($v(p)));r=Wv(X.body,Xv,Y,se)}}ye.isString(v)||(v=v?"include":"omit");const k="credentials"in Request.prototype;A=new Request(e,{..._,signal:N,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:k?v:void 0});let U=await fetch(A);const j=g2&&(m==="stream"||m==="response");if(g2&&(f||j&&R)){const X={};["status","statusText","headers"].forEach(K=>{X[K]=U[K]});const V=ye.toFiniteNumber(U.headers.get("content-length")),[Y,se]=f&&Gv(V,m1($v(f),!0))||[];U=new Response(Wv(U.body,Xv,Y,()=>{se&&se(),R&&R()}),X)}m=m||"text";let W=await g1[ye.findKey(g1,m)||"text"](U,t);return!j&&R&&R(),await new Promise((X,V)=>{xS(X,V,{data:W,headers:Si.from(U.headers),status:U.status,statusText:U.statusText,config:t,request:A})})}catch(k){throw R&&R(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new vt("Network Error",vt.ERR_NETWORK,t,A),{cause:k.cause||k}):vt.from(k,k&&k.code,t,A)}}),x2={http:f7,xhr:U7,fetch:K7};ye.forEach(x2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Yv=t=>`- ${t}`,Z7=t=>ye.isFunction(t)||t===null||t===!1,CS={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let c;if(r=n,!Z7(n)&&(r=x2[(c=String(n)).toLowerCase()],r===void 0))throw new vt(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+s]=r}if(!r){const s=Object.entries(i).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?s.length>1?`since :
`+s.map(Yv).join(`
`):" "+Yv(s[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:x2};function ig(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vu(null,t)}function Kv(t){return ig(t),t.headers=Si.from(t.headers),t.data=rg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),CS.getAdapter(t.adapter||dd.adapter)(t).then(function(r){return ig(t),r.data=rg.call(t,t.transformResponse,r),r.headers=Si.from(r.headers),r},function(r){return gS(r)||(ig(t),r&&r.response&&(r.response.data=rg.call(t,t.transformResponse,r.response),r.response.headers=Si.from(r.response.headers))),Promise.reject(r)})}const ES="1.9.0",A0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{A0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Zv={};A0.transitional=function(e,n,r){function i(s,c){return"[Axios v"+ES+"] Transitional option '"+s+"'"+c+(r?". "+r:"")}return(s,c,f)=>{if(e===!1)throw new vt(i(c," has been removed"+(n?" in "+n:"")),vt.ERR_DEPRECATED);return n&&!Zv[c]&&(Zv[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,c,f):!0}};A0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Q7(t,e,n){if(typeof t!="object")throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],c=e[s];if(c){const f=t[s],p=f===void 0||c(f,s,t);if(p!==!0)throw new vt("option "+s+" must be "+p,vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vt("Unknown option "+s,vt.ERR_BAD_OPTION)}}const r1={assertOptions:Q7,validators:A0},Js=r1.validators;let Fl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Hv,response:new Hv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ql(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&r1.assertOptions(r,{silentJSONParsing:Js.transitional(Js.boolean),forcedJSONParsing:Js.transitional(Js.boolean),clarifyTimeoutError:Js.transitional(Js.boolean)},!1),i!=null&&(ye.isFunction(i)?n.paramsSerializer={serialize:i}:r1.assertOptions(i,{encode:Js.function,serialize:Js.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),r1.assertOptions(n,{baseUrl:Js.spelling("baseURL"),withXsrfToken:Js.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=s&&ye.merge(s.common,s[n.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),n.headers=Si.concat(c,s);const f=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,f.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let b,v=0,_;if(!p){const A=[Kv.bind(this),void 0];for(A.unshift.apply(A,f),A.push.apply(A,m),_=A.length,b=Promise.resolve(n);v<_;)b=b.then(A[v++],A[v++]);return b}_=f.length;let N=n;for(v=0;v<_;){const A=f[v++],R=f[v++];try{N=A(N)}catch(I){R.call(this,I);break}}try{b=Kv.call(this,N)}catch(A){return Promise.reject(A)}for(v=0,_=m.length;v<_;)b=b.then(m[v++],m[v++]);return b}getUri(e){e=ql(this.defaults,e);const n=yS(e.baseURL,e.url,e.allowAbsoluteUrls);return hS(n,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){Fl.prototype[e]=function(n,r){return this.request(ql(r||{},{method:e,url:n,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,c,f){return this.request(ql(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}Fl.prototype[e]=n(),Fl.prototype[e+"Form"]=n(!0)});let J7=class SS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const c=new Promise(f=>{r.subscribe(f),s=f}).then(i);return c.cancel=function(){r.unsubscribe(s)},c},e(function(s,c,f){r.reason||(r.reason=new vu(s,c,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SS(function(i){e=i}),cancel:e}}};function eO(t){return function(n){return t.apply(null,n)}}function tO(t){return ye.isObject(t)&&t.isAxiosError===!0}const y2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(y2).forEach(([t,e])=>{y2[e]=t});function _S(t){const e=new Fl(t),n=tS(Fl.prototype.request,e);return ye.extend(n,Fl.prototype,e,{allOwnKeys:!0}),ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _S(ql(t,i))},n}const Un=_S(dd);Un.Axios=Fl;Un.CanceledError=vu;Un.CancelToken=J7;Un.isCancel=gS;Un.VERSION=ES;Un.toFormData=_0;Un.AxiosError=vt;Un.Cancel=Un.CanceledError;Un.all=function(e){return Promise.all(e)};Un.spread=eO;Un.isAxiosError=tO;Un.mergeConfig=ql;Un.AxiosHeaders=Si;Un.formToJSON=t=>mS(ye.isHTMLForm(t)?new FormData(t):t);Un.getAdapter=CS.getAdapter;Un.HttpStatusCode=y2;Un.default=Un;const{Axios:LZ,AxiosError:PZ,CanceledError:jZ,isCancel:zZ,CancelToken:FZ,VERSION:UZ,all:HZ,Cancel:VZ,isAxiosError:GZ,spread:$Z,toFormData:qZ,AxiosHeaders:WZ,HttpStatusCode:XZ,formToJSON:YZ,getAdapter:KZ,mergeConfig:ZZ}=Un,nr=Un.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),nO=Un.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),In=Un.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ACCESS_TOKEN")}`},withCredentials:!0});In.interceptors.request.use(t=>{const e=localStorage.getItem("ACCESS_TOKEN");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const rO="_chatbotContainer_9wobd_1",iO="_chatbotOverlay_9wobd_15",sO="_chatbotButton_9wobd_37",aO="_popupContainer_9wobd_71",oO="_headerContainer_9wobd_133",lO="_headerTitle_9wobd_153",cO="_closeButton_9wobd_163",uO="_chatContainer_9wobd_181",fO="_botMessageContainer_9wobd_201",dO="_userMessageContainer_9wobd_219",hO="_botContent_9wobd_235",pO="_botName_9wobd_247",mO="_botProfile_9wobd_263",gO="_botBubble_9wobd_299",xO="_userBubble_9wobd_301",yO="_inputContainer_9wobd_355",bO="_input_9wobd_355",wO="_sendButton_9wobd_399",Ln={chatbotContainer:rO,chatbotOverlay:iO,chatbotButton:sO,popupContainer:aO,headerContainer:oO,headerTitle:lO,closeButton:cO,chatContainer:uO,botMessageContainer:fO,userMessageContainer:dO,botContent:hO,botName:pO,botProfile:mO,botBubble:gO,userBubble:xO,inputContainer:yO,input:bO,sendButton:wO};var TS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qv=qt.createContext&&qt.createContext(TS),vO=["attr","size","title"];function CO(t,e){if(t==null)return{};var n=EO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EO(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x1.apply(this,arguments)}function Jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(n),!0).forEach(function(r){SO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SO(t,e,n){return e=_O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t){var e=TO(t,"string");return typeof e=="symbol"?e:e+""}function TO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AS(t){return t&&t.map((e,n)=>qt.createElement(e.tag,y1({key:n},e.attr),AS(e.child)))}function Rr(t){return e=>qt.createElement(AO,x1({attr:y1({},t.attr)},e),AS(t.child))}function AO(t){var e=n=>{var{attr:r,size:i,title:s}=t,c=CO(t,vO),f=i||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),qt.createElement("svg",x1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:p,style:y1(y1({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),s&&qt.createElement("title",null,s),t.children)};return Qv!==void 0?qt.createElement(Qv.Consumer,null,n=>e(n)):e(TS)}function NO(t){return Rr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function OO(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}const MO=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),E.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function RO(){const[t,e]=F.useState(!1),[n,r]=F.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[i,s]=F.useState(""),[c,f]=F.useState(!1),p=F.useRef(null),m=localStorage.getItem("ACCESS_TOKEN")?In:nr;F.useRef(null);const b=()=>n[n.length-1].id+1;F.useEffect(()=>{p.current!==null&&p.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[p.current,n]);const v=()=>{e(U=>!U),t?document.body.style.overflow="unset":document.body.style.overflow="hidden"},_=U=>{s(U.target.value)},N=async U=>{const j={id:b(),sender:"user",text:U};r(V=>[...V,j]),console.log(`messages:
`,n);const W={text:U},X={id:b(),sender:"bot",text:"An error occured. Please report this to the service team."};try{f(!0);const V=await m.post("/api/chats",W);let Y=V.data;console.log(`GPT Response:
`,V.data),X.text=Y}catch(V){console.error("Error occurred while querying GPT:",V)}finally{f(!1)}r(V=>[...V,X]),console.log(`Updated messages:
`,n)},A=U=>U.split(/(\*\*[^\*]+\*\*)/g).map((W,X)=>W.startsWith("**")&&W.endsWith("**")?E.jsx("b",{children:W.slice(2,-2)},X):W),R=U=>{U.key==="Enter"&&I()},I=()=>{const U=i.trim();if(!U)return alert(" !");N(U),s("")},k=U=>{setTimeout(()=>{U.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Ln.chatbotContainer,children:E.jsx("button",{className:Ln.chatbotButton,onClick:v,children:E.jsx(NO,{})})}),t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Ln.chatbotOverlay}),E.jsxs("div",{className:Ln.popupContainer,children:[E.jsxs("div",{className:Ln.headerContainer,children:[E.jsx("h3",{className:Ln.headerTitle,children:"Artly "}),E.jsx("button",{className:Ln.closeButton,onClick:v,children:E.jsx(OO,{})})]}),E.jsxs("div",{className:Ln.chatContainer,children:[n.map(U=>E.jsx("div",{className:U.sender==="bot"?Ln.botMessageContainer:Ln.userMessageContainer,ref:p,children:U.sender==="bot"?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Ln.botProfile,children:"A"}),E.jsxs("div",{className:Ln.botContent,children:[E.jsx("p",{className:Ln.botName,children:" "}),E.jsx("div",{className:Ln.botBubble,children:E.jsx("p",{children:A(U.text)})})]})]}):E.jsx("div",{className:Ln.userMessageContainer,children:E.jsx("div",{className:Ln.userBubble,children:E.jsx("p",{children:U.text})})})},U.id)),c&&E.jsxs("div",{className:Ln.botMessageContainer,ref:p,children:[E.jsx("div",{className:Ln.botProfile,children:"A"}),E.jsxs("div",{className:Ln.botContent,children:[E.jsx("p",{className:Ln.botName,children:" "}),E.jsx("div",{className:Ln.botBubble,children:E.jsx("p",{children:"   .  "})})]})]})]}),E.jsxs("div",{className:Ln.inputContainer,children:[E.jsx("input",{className:Ln.input,type:"text",value:i,onChange:_,onKeyPress:R,onFocus:k,placeholder:"  "}),E.jsx("button",{className:Ln.sendButton,onClick:I,children:E.jsx(MO,{})})]})]})]})]})}function IO(){const t=Mr(),n=!["/login","/register","/mypage","/mypage/edit"].some(r=>t.pathname.startsWith(r));return E.jsxs(E.Fragment,{children:[E.jsx(XE,{}),E.jsx(JE,{}),E.jsx("div",{style:{display:"flex",justifyContent:"center",flex:1},children:E.jsx(sx,{})}),n&&E.jsx(RO,{}),E.jsx(eS,{})]})}function DO(){return localStorage.getItem("ACCESS_TOKEN")?E.jsx(sx,{}):E.jsx(U6,{to:"/login",replace:!0})}const kO="_mainLayout_yo4qg_1",BO="_carouselContainer_yo4qg_25",e3={mainLayout:kO,carouselContainer:BO},LO="_carouselContainer_1avyq_1",PO="_sliderWrapper_1avyq_19",jO="_slider_1avyq_19",zO="_carouselItem_1avyq_43",FO="_carouselImage_1avyq_55",UO="_captionBox_1avyq_71",HO="_title_1avyq_89",VO="_location_1avyq_99",GO="_detailButton_1avyq_111",$O="_arrowButton_1avyq_141",qO="_left_1avyq_177",WO="_right_1avyq_185",XO="_dots_1avyq_193",YO="_dot_1avyq_193",KO="_active_1avyq_235",Xr={carouselContainer:LO,sliderWrapper:PO,slider:jO,carouselItem:zO,carouselImage:FO,captionBox:UO,title:HO,location:VO,detailButton:GO,arrowButton:$O,left:qO,right:WO,dots:XO,dot:YO,active:KO};function ZO(){const[t,e]=F.useState(0),[n,r]=F.useState([]),i=F.useRef(null);F.useEffect(()=>(s(),()=>clearTimeout(i.current)),[t,n]);const s=()=>{clearTimeout(i.current),!(!n||n.length<=1)&&(i.current=setTimeout(()=>{e(m=>(m+1)%n.length)},5e3))},c=()=>{e(m=>(m-1+n.length)%n.length)},f=()=>{e(m=>(m+1)%n.length)},p=m=>e(m);return F.useEffect(()=>{(async()=>{try{const v=(await nr.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:_,exhibition_poster:N,exhibition_title:A,exhibition_category:R,exhibition_status:I,exhibition_start_date:k,exhibition_end_date:U,exhibition_organization:j})=>({id:_,image:N,title:A,category:R,status:I,startDate:k,endDate:U,organization:j}));r(v)}catch(b){console.error("     :",b)}})()},[]),E.jsxs("div",{className:Xr.carouselContainer,children:[E.jsx("button",{className:`${Xr.arrowButton} ${Xr.left}`,onClick:c,children:""}),E.jsx("div",{className:Xr.sliderWrapper,children:E.jsx("div",{className:Xr.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(m=>E.jsxs("div",{className:Xr.carouselItem,children:[E.jsx("img",{src:m==null?void 0:m.image,alt:(m==null?void 0:m.title)||(m==null?void 0:m.name),className:Xr.carouselImage}),E.jsxs("div",{className:Xr.captionBox,children:[E.jsx("h3",{className:Xr.title,children:m==null?void 0:m.title}),E.jsxs("p",{className:Xr.location,children:[m==null?void 0:m.organization.name,""," ",(m==null?void 0:m.period)||`${m==null?void 0:m.startDate} ~ ${m==null?void 0:m.endDate}`]}),E.jsx("button",{className:Xr.detailButton,onClick:()=>{window.location.href=`/exhibitions/${m==null?void 0:m.id}`},children:" "})]})]},m==null?void 0:m.id))})}),E.jsx("button",{className:`${Xr.arrowButton} ${Xr.right}`,onClick:f,children:""}),E.jsx("div",{className:Xr.dots,children:n.map((m,b)=>E.jsx("button",{onClick:()=>p(b),className:`${Xr.dot} ${b===t?Xr.active:""}`},m==null?void 0:m.id))})]})}const QO="_carouselWrapper_dgj9x_1",JO="_titleContainer_dgj9x_19",eM="_carouselTitle_dgj9x_35",tM="_moreButton_dgj9x_47",nM="_carouselViewport_dgj9x_85",rM="_carouselTrack_dgj9x_97",iM="_carouselSlide_dgj9x_117",sM="_artistImage_dgj9x_149",aM="_artistText_dgj9x_165",oM="_name_dgj9x_175",lM="_field_dgj9x_185",cM="_prevButton_dgj9x_195",uM="_nextButton_dgj9x_197",Pi={carouselWrapper:QO,titleContainer:JO,carouselTitle:eM,moreButton:tM,carouselViewport:nM,carouselTrack:rM,carouselSlide:iM,artistImage:sM,artistText:aM,name:oM,field:lM,prevButton:cM,nextButton:uM};function fM({title:t}){const[e,n]=F.useState([]),[r,i]=F.useState(1),[s,c]=F.useState(1),[f,p]=F.useState(!1),m=F.useRef(null),b=F.useRef(0),v=F.useRef(0),_=()=>{c(4)};F.useEffect(()=>{(async()=>{try{const X=(await nr.get("/api/artist",{params:{}})).data.map(({id:V,artist_name:Y,artist_category:se,artist_image:K})=>({id:V,artist_name:Y,artist_category:se,artist_image:K})).slice(0,10);n(X)}catch(W){console.error("     :",W)}})(),_()},[]);const N=j=>{if(f)return;p(!0);const W=m.current.offsetWidth/s;m.current.style.transition="transform 0.4s ease-in-out",m.current.style.transform=`translateX(-${W*j}px)`,i(j)},A=()=>N(r+1),R=()=>N(r-1);F.useEffect(()=>{const j=m.current.offsetWidth/s;m.current.style.transition="none",m.current.style.transform=`translateX(-${j}px)`},[s]),F.useEffect(()=>{const j=()=>{const X=m.current.offsetWidth/s;if(m.current.style.transition="none",r>=e.length-s)m.current.style.transform=`translateX(-${X}px)`,i(1);else if(r===0){const V=e.length-s-1;m.current.style.transform=`translateX(-${X*V}px)`,i(V)}p(!1)},W=m.current;return W.addEventListener("transitionend",j),()=>W.removeEventListener("transitionend",j)},[r,e.length,s]);const I=j=>{b.current=j.touches[0].clientX},k=j=>{v.current=j.touches[0].clientX},U=()=>{const j=b.current-v.current;Math.abs(j)>50&&(j>0?A():R())};return E.jsxs("div",{className:Pi.carouselWrapper,children:[E.jsxs("div",{className:Pi.titleContainer,children:[E.jsx("h2",{className:Pi.carouselTitle,children:t}),E.jsx(cn,{to:"/artists",className:Pi.moreButton,children:""})]}),E.jsx("div",{className:Pi.carouselViewport,onTouchStart:I,onTouchMove:k,onTouchEnd:U,children:E.jsx("div",{className:Pi.carouselTrack,ref:m,children:e.map(j=>E.jsxs(cn,{to:`/artists/${j==null?void 0:j.id}`,className:Pi.carouselSlide,children:[E.jsx("img",{src:(j==null?void 0:j.artist_image)||"/default.jpg",alt:j!=null&&j.artist_name?`${j.artist_name} `:" ",className:Pi.artistImage}),E.jsxs("div",{className:Pi.artistText,children:[E.jsx("h3",{className:Pi.name,children:j!=null&&j.artist_name&&j.artist_name.trim()!==""?j.artist_name:" "}),E.jsx("p",{className:Pi.field,children:j!=null&&j.artist_category&&j.artist_category.trim()!==""?j.artist_category:" "})]})]},`${j==null?void 0:j.artist_name}-${j==null?void 0:j.id}`))})}),E.jsx("button",{className:Pi.prevButton,onClick:()=>!f&&R(),children:""}),E.jsx("button",{className:Pi.nextButton,onClick:()=>!f&&A(),children:""})]})}function t3(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function px(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:t3(e[r])&&t3(t[r])&&Object.keys(e[r]).length>0&&px(t[r],e[r])})}const NS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function nc(){const t=typeof document<"u"?document:{};return px(t,NS),t}const dM={document:NS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function di(){const t=typeof window<"u"?window:{};return px(t,dM),t}function hM(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function pM(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function b2(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function b1(){return Date.now()}function mM(t){const e=di();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function gM(t,e){e===void 0&&(e="x");const n=di();let r,i,s;const c=mM(t);return n.WebKitCSSMatrix?(i=c.transform||c.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(f=>f.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Rh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function xM(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Vi(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!xM(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,c=i.length;s<c;s+=1){const f=i[s],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(Rh(t[f])&&Rh(r[f])?r[f].__swiper__?t[f]=r[f]:Vi(t[f],r[f]):!Rh(t[f])&&Rh(r[f])?(t[f]={},r[f].__swiper__?t[f]=r[f]:Vi(t[f],r[f])):t[f]=r[f])}}}return t}function Ih(t,e,n){t.style.setProperty(e,n)}function OS(t){let{swiper:e,targetPosition:n,side:r}=t;const i=di(),s=-e.translate;let c=null,f;const p=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const m=n>s?"next":"prev",b=(_,N)=>m==="next"&&_>=N||m==="prev"&&_<=N,v=()=>{f=new Date().getTime(),c===null&&(c=f);const _=Math.max(Math.min((f-c)/p,1),0),N=.5-Math.cos(_*Math.PI)/2;let A=s+N*(n-s);if(b(A,n)&&(A=n),e.wrapperEl.scrollTo({[r]:A}),b(A,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:A})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(v)};v()}function aa(t,e){e===void 0&&(e="");const n=di(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function yM(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function bM(t,e){const n=di();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=yM(t,e))),r}function w1(t){try{console.warn(t);return}catch{}}function v1(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:hM(e)),n}function wM(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function vM(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ho(t,e){return di().getComputedStyle(t,null).getPropertyValue(e)}function n3(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function CM(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function r3(t,e,n){const r=di();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ba(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function i3(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let sg;function EM(){const t=di(),e=nc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function MS(){return sg||(sg=EM()),sg}let ag;function SM(t){let{userAgent:e}=t===void 0?{}:t;const n=MS(),r=di(),i=r.navigator.platform,s=e||r.navigator.userAgent,c={ios:!1,android:!1},f=r.screen.width,p=r.screen.height,m=s.match(/(Android);?[\s\/]+([\d.]+)?/);let b=s.match(/(iPad).*OS\s([\d_]+)/);const v=s.match(/(iPod)(.*OS\s([\d_]+))?/),_=!b&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=i==="Win32";let A=i==="MacIntel";const R=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!b&&A&&n.touch&&R.indexOf(`${f}x${p}`)>=0&&(b=s.match(/(Version)\/([\d.]+)/),b||(b=[0,1,"13_0_0"]),A=!1),m&&!N&&(c.os="android",c.android=!0),(b||_||v)&&(c.os="ios",c.ios=!0),c}function RS(t){return t===void 0&&(t={}),ag||(ag=SM(t)),ag}let og;function _M(){const t=di(),e=RS();let n=!1;function r(){const f=t.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(t.navigator.userAgent);if(f.includes("Version/")){const[p,m]=f.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));n=p<16||p===16&&m<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),c=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:c,isWebView:i}}function IS(){return og||(og=_M()),og}function TM(t){let{swiper:e,on:n,emit:r}=t;const i=di();let s=null,c=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},p=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(v=>{c=i.requestAnimationFrame(()=>{const{width:_,height:N}=e;let A=_,R=N;v.forEach(I=>{let{contentBoxSize:k,contentRect:U,target:j}=I;j&&j!==e.el||(A=U?U.width:(k[0]||k).inlineSize,R=U?U.height:(k[0]||k).blockSize)}),(A!==_||R!==N)&&f()})}),s.observe(e.el))},m=()=>{c&&i.cancelAnimationFrame(c),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},b=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){p();return}i.addEventListener("resize",f),i.addEventListener("orientationchange",b)}),n("destroy",()=>{m(),i.removeEventListener("resize",f),i.removeEventListener("orientationchange",b)})}function AM(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],c=di(),f=function(b,v){v===void 0&&(v={});const _=c.MutationObserver||c.WebkitMutationObserver,N=new _(A=>{if(e.__preventObserver__)return;if(A.length===1){i("observerUpdate",A[0]);return}const R=function(){i("observerUpdate",A[0])};c.requestAnimationFrame?c.requestAnimationFrame(R):c.setTimeout(R,0)});N.observe(b,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),s.push(N)},p=()=>{if(e.params.observer){if(e.params.observeParents){const b=CM(e.hostEl);for(let v=0;v<b.length;v+=1)f(b[v])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},m=()=>{s.forEach(b=>{b.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",p),r("destroy",m)}var NM={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];e.apply(r,c)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(p=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(m=>{m.apply(r,[p,...n])}),t.eventsListeners&&t.eventsListeners[p]&&t.eventsListeners[p].forEach(m=>{m.apply(r,n)})}),t}};function OM(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ho(r,"padding-left")||0,10)-parseInt(Ho(r,"padding-right")||0,10),n=n-parseInt(Ho(r,"padding-top")||0,10)-parseInt(Ho(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function MM(){const t=this;function e(be,_e){return parseFloat(be.getPropertyValue(t.getDirectionLabel(_e))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:c,wrongRTL:f}=t,p=t.virtual&&n.virtual.enabled,m=p?t.virtual.slides.length:t.slides.length,b=aa(i,`.${t.params.slideClass}, swiper-slide`),v=p?t.virtual.slides.length:b.length;let _=[];const N=[],A=[];let R=n.slidesOffsetBefore;typeof R=="function"&&(R=n.slidesOffsetBefore.call(t));let I=n.slidesOffsetAfter;typeof I=="function"&&(I=n.slidesOffsetAfter.call(t));const k=t.snapGrid.length,U=t.slidesGrid.length;let j=n.spaceBetween,W=-R,X=0,V=0;if(typeof s>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*s:typeof j=="string"&&(j=parseFloat(j)),t.virtualSize=-j,b.forEach(be=>{c?be.style.marginLeft="":be.style.marginRight="",be.style.marginBottom="",be.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Ih(r,"--swiper-centered-offset-before",""),Ih(r,"--swiper-centered-offset-after",""));const Y=n.grid&&n.grid.rows>1&&t.grid;Y?t.grid.initSlides(b):t.grid&&t.grid.unsetSlides();let se;const K=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(be=>typeof n.breakpoints[be].slidesPerView<"u").length>0;for(let be=0;be<v;be+=1){se=0;let _e;if(b[be]&&(_e=b[be]),Y&&t.grid.updateSlide(be,_e,b),!(b[be]&&Ho(_e,"display")==="none")){if(n.slidesPerView==="auto"){K&&(b[be].style[t.getDirectionLabel("width")]="");const ge=getComputedStyle(_e),je=_e.style.transform,Ue=_e.style.webkitTransform;if(je&&(_e.style.transform="none"),Ue&&(_e.style.webkitTransform="none"),n.roundLengths)se=t.isHorizontal()?r3(_e,"width"):r3(_e,"height");else{const re=e(ge,"width"),G=e(ge,"padding-left"),ie=e(ge,"padding-right"),Te=e(ge,"margin-left"),Be=e(ge,"margin-right"),Z=ge.getPropertyValue("box-sizing");if(Z&&Z==="border-box")se=re+Te+Be;else{const{clientWidth:ve,offsetWidth:Re}=_e;se=re+G+ie+Te+Be+(Re-ve)}}je&&(_e.style.transform=je),Ue&&(_e.style.webkitTransform=Ue),n.roundLengths&&(se=Math.floor(se))}else se=(s-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(se=Math.floor(se)),b[be]&&(b[be].style[t.getDirectionLabel("width")]=`${se}px`);b[be]&&(b[be].swiperSlideSize=se),A.push(se),n.centeredSlides?(W=W+se/2+X/2+j,X===0&&be!==0&&(W=W-s/2-j),be===0&&(W=W-s/2-j),Math.abs(W)<1/1e3&&(W=0),n.roundLengths&&(W=Math.floor(W)),V%n.slidesPerGroup===0&&_.push(W),N.push(W)):(n.roundLengths&&(W=Math.floor(W)),(V-Math.min(t.params.slidesPerGroupSkip,V))%t.params.slidesPerGroup===0&&_.push(W),N.push(W),W=W+se+j),t.virtualSize+=se+j,X=se,V+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+I,c&&f&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+j}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+j}px`),Y&&t.grid.updateWrapperSize(se,_),!n.centeredSlides){const be=[];for(let _e=0;_e<_.length;_e+=1){let ge=_[_e];n.roundLengths&&(ge=Math.floor(ge)),_[_e]<=t.virtualSize-s&&be.push(ge)}_=be,Math.floor(t.virtualSize-s)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-s)}if(p&&n.loop){const be=A[0]+j;if(n.slidesPerGroup>1){const _e=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),ge=be*n.slidesPerGroup;for(let je=0;je<_e;je+=1)_.push(_[_.length-1]+ge)}for(let _e=0;_e<t.virtual.slidesBefore+t.virtual.slidesAfter;_e+=1)n.slidesPerGroup===1&&_.push(_[_.length-1]+be),N.push(N[N.length-1]+be),t.virtualSize+=be}if(_.length===0&&(_=[0]),j!==0){const be=t.isHorizontal()&&c?"marginLeft":t.getDirectionLabel("marginRight");b.filter((_e,ge)=>!n.cssMode||n.loop?!0:ge!==b.length-1).forEach(_e=>{_e.style[be]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let be=0;A.forEach(ge=>{be+=ge+(j||0)}),be-=j;const _e=be>s?be-s:0;_=_.map(ge=>ge<=0?-R:ge>_e?_e+I:ge)}if(n.centerInsufficientSlides){let be=0;A.forEach(ge=>{be+=ge+(j||0)}),be-=j;const _e=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(be+_e<s){const ge=(s-be-_e)/2;_.forEach((je,Ue)=>{_[Ue]=je-ge}),N.forEach((je,Ue)=>{N[Ue]=je+ge})}}if(Object.assign(t,{slides:b,snapGrid:_,slidesGrid:N,slidesSizesGrid:A}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ih(r,"--swiper-centered-offset-before",`${-_[0]}px`),Ih(r,"--swiper-centered-offset-after",`${t.size/2-A[A.length-1]/2}px`);const be=-t.snapGrid[0],_e=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(ge=>ge+be),t.slidesGrid=t.slidesGrid.map(ge=>ge+_e)}if(v!==m&&t.emit("slidesLengthChange"),_.length!==k&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),N.length!==U&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!p&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const be=`${n.containerModifierClass}backface-hidden`,_e=t.el.classList.contains(be);v<=n.maxBackfaceHiddenSlides?_e||t.el.classList.add(be):_e&&t.el.classList.remove(be)}}function RM(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{n.push(f)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const f=e.activeIndex+s;if(f>e.slides.length&&!r)break;n.push(c(f))}else n.push(c(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const f=n[s].offsetHeight;i=f>i?f:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function IM(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const s3=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function DM(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-t;i&&(c=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=n.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let p=0;p<r.length;p+=1){const m=r[p];let b=m.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(b-=r[0].swiperSlideOffset);const v=(c+(n.centeredSlides?e.minTranslate():0)-b)/(m.swiperSlideSize+f),_=(c-s[0]+(n.centeredSlides?e.minTranslate():0)-b)/(m.swiperSlideSize+f),N=-(c-b),A=N+e.slidesSizesGrid[p],R=N>=0&&N<=e.size-e.slidesSizesGrid[p],I=N>=0&&N<e.size-1||A>1&&A<=e.size||N<=0&&A>=e.size;I&&(e.visibleSlides.push(m),e.visibleSlidesIndexes.push(p)),s3(m,I,n.slideVisibleClass),s3(m,R,n.slideFullyVisibleClass),m.progress=i?-v:v,m.originalProgress=i?-_:_}}function kM(t){const e=this;if(typeof t>"u"){const b=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*b||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:c,progressLoop:f}=e;const p=s,m=c;if(r===0)i=0,s=!0,c=!0;else{i=(t-e.minTranslate())/r;const b=Math.abs(t-e.minTranslate())<1,v=Math.abs(t-e.maxTranslate())<1;s=b||i<=0,c=v||i>=1,b&&(i=0),v&&(i=1)}if(n.loop){const b=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[b],N=e.slidesGrid[v],A=e.slidesGrid[e.slidesGrid.length-1],R=Math.abs(t);R>=_?f=(R-_)/A:f=(R+A-N)/A,f>1&&(f-=1)}Object.assign(e,{progress:i,progressLoop:f,isBeginning:s,isEnd:c}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!p&&e.emit("reachBeginning toEdge"),c&&!m&&e.emit("reachEnd toEdge"),(p&&!s||m&&!c)&&e.emit("fromEdge"),e.emit("progress",i)}const lg=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function BM(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,c=t.grid&&n.grid&&n.grid.rows>1,f=v=>aa(r,`.${n.slideClass}${v}, swiper-slide${v}`)[0];let p,m,b;if(s)if(n.loop){let v=i-t.virtual.slidesBefore;v<0&&(v=t.virtual.slides.length+v),v>=t.virtual.slides.length&&(v-=t.virtual.slides.length),p=f(`[data-swiper-slide-index="${v}"]`)}else p=f(`[data-swiper-slide-index="${i}"]`);else c?(p=e.find(v=>v.column===i),b=e.find(v=>v.column===i+1),m=e.find(v=>v.column===i-1)):p=e[i];p&&(c||(b=vM(p,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!b&&(b=e[0]),m=wM(p,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m===0&&(m=e[e.length-1]))),e.forEach(v=>{lg(v,v===p,n.slideActiveClass),lg(v,v===b,n.slideNextClass),lg(v,v===m,n.slidePrevClass)}),t.emitSlidesClasses()}const i1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},cg=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},w2=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const c=i,f=[c-e];f.push(...Array.from({length:e}).map((p,m)=>c+r+m)),t.slides.forEach((p,m)=>{f.includes(p.column)&&cg(t,m)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let c=i-e;c<=s+e;c+=1){const f=(c%n+n)%n;(f<i||f>s)&&cg(t,f)}else for(let c=Math.max(i-e,0);c<=Math.min(s+e,n-1);c+=1)c!==i&&(c>s||c<i)&&cg(t,c)};function LM(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function PM(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:c,snapIndex:f}=e;let p=t,m;const b=N=>{let A=N-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof p>"u"&&(p=LM(e)),r.indexOf(n)>=0)m=r.indexOf(n);else{const N=Math.min(i.slidesPerGroupSkip,p);m=N+Math.floor((p-N)/i.slidesPerGroup)}if(m>=r.length&&(m=r.length-1),p===s&&!e.params.loop){m!==f&&(e.snapIndex=m,e.emit("snapIndexChange"));return}if(p===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=b(p);return}const v=e.grid&&i.grid&&i.grid.rows>1;let _;if(e.virtual&&i.virtual.enabled&&i.loop)_=b(p);else if(v){const N=e.slides.find(R=>R.column===p);let A=parseInt(N.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(N),0)),_=Math.floor(A/i.grid.rows)}else if(e.slides[p]){const N=e.slides[p].getAttribute("data-swiper-slide-index");N?_=parseInt(N,10):_=p}else _=p;Object.assign(e,{previousSnapIndex:f,snapIndex:m,previousRealIndex:c,realIndex:_,previousIndex:s,activeIndex:p}),e.initialized&&w2(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function jM(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(f=>{!i&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(i=f)});let s=!1,c;if(i){for(let f=0;f<n.slides.length;f+=1)if(n.slides[f]===i){s=!0,c=f;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=c;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var zM={updateSize:OM,updateSlides:MM,updateAutoHeight:RM,updateSlidesOffset:IM,updateSlidesProgress:DM,updateProgress:kM,updateSlidesClasses:BM,updateActiveIndex:PM,updateClickedSlide:jM};function FM(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let c=gM(s,t);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function UM(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:c}=n;let f=0,p=0;const m=0;n.isHorizontal()?f=r?-t:t:p=t,i.roundLengths&&(f=Math.floor(f),p=Math.floor(p)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:p,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-p:i.virtualTranslate||(n.isHorizontal()?f-=n.cssOverflowAdjustment():p-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${f}px, ${p}px, ${m}px)`);let b;const v=n.maxTranslate()-n.minTranslate();v===0?b=0:b=(t-n.minTranslate())/v,b!==c&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function HM(){return-this.snapGrid[0]}function VM(){return-this.snapGrid[this.snapGrid.length-1]}function GM(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:c,wrapperEl:f}=s;if(s.animating&&c.preventInteractionOnTransition)return!1;const p=s.minTranslate(),m=s.maxTranslate();let b;if(r&&t>p?b=p:r&&t<m?b=m:b=t,s.updateProgress(b),c.cssMode){const v=s.isHorizontal();if(e===0)f[v?"scrollLeft":"scrollTop"]=-b;else{if(!s.support.smoothScroll)return OS({swiper:s,targetPosition:-b,side:v?"left":"top"}),!0;f.scrollTo({[v?"left":"top"]:-b,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(_){!s||s.destroyed||_.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var $M={getTranslate:FM,setTranslate:UM,minTranslate:HM,maxTranslate:VM,translateTo:GM};function qM(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function DS(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:c}=e;let f=r;f||(s>c?f="next":s<c?f="prev":f="reset"),e.emit(`transition${i}`),n&&f==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==c&&(e.emit(`slideChangeTransition${i}`),f==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function WM(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),DS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function XM(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),DS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var YM={setTransition:qM,transitionStart:WM,transitionEnd:XM};function KM(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let c=t;c<0&&(c=0);const{params:f,snapGrid:p,slidesGrid:m,previousIndex:b,activeIndex:v,rtlTranslate:_,wrapperEl:N,enabled:A}=s;if(!A&&!r&&!i||s.destroyed||s.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const R=Math.min(s.params.slidesPerGroupSkip,c);let I=R+Math.floor((c-R)/s.params.slidesPerGroup);I>=p.length&&(I=p.length-1);const k=-p[I];if(f.normalizeSlideIndex)for(let Y=0;Y<m.length;Y+=1){const se=-Math.floor(k*100),K=Math.floor(m[Y]*100),be=Math.floor(m[Y+1]*100);typeof m[Y+1]<"u"?se>=K&&se<be-(be-K)/2?c=Y:se>=K&&se<be&&(c=Y+1):se>=K&&(c=Y)}if(s.initialized&&c!==v&&(!s.allowSlideNext&&(_?k>s.translate&&k>s.minTranslate():k<s.translate&&k<s.minTranslate())||!s.allowSlidePrev&&k>s.translate&&k>s.maxTranslate()&&(v||0)!==c))return!1;c!==(b||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(k);let U;c>v?U="next":c<v?U="prev":U="reset";const j=s.virtual&&s.params.virtual.enabled;if(!(j&&i)&&(_&&-k===s.translate||!_&&k===s.translate))return s.updateActiveIndex(c),f.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),f.effect!=="slide"&&s.setTranslate(k),U!=="reset"&&(s.transitionStart(n,U),s.transitionEnd(n,U)),!1;if(f.cssMode){const Y=s.isHorizontal(),se=_?k:-k;if(e===0)j&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),j&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{N[Y?"scrollLeft":"scrollTop"]=se})):N[Y?"scrollLeft":"scrollTop"]=se,j&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return OS({swiper:s,targetPosition:se,side:Y?"left":"top"}),!0;N.scrollTo({[Y?"left":"top"]:se,behavior:"smooth"})}return!0}const V=IS().isSafari;return j&&!i&&V&&s.isElement&&s.virtual.update(!1,!1,c),s.setTransition(e),s.setTranslate(k),s.updateActiveIndex(c),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,U),e===0?s.transitionEnd(n,U):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(se){!s||s.destroyed||se.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,U))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function ZM(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let c=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)c=c+i.virtual.slidesBefore;else{let f;if(s){const _=c*i.params.grid.rows;f=i.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===_).column}else f=i.getSlideIndexByData(c);const p=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:m}=i.params;let b=i.params.slidesPerView;b==="auto"?b=i.slidesPerViewDynamic():(b=Math.ceil(parseFloat(i.params.slidesPerView,10)),m&&b%2===0&&(b=b+1));let v=p-f<b;if(m&&(v=v||f<Math.ceil(b/2)),r&&m&&i.params.slidesPerView!=="auto"&&!s&&(v=!1),v){const _=m?f<i.activeIndex?"prev":"next":f-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?f+1:f-p+1,slideRealIndex:_==="next"?i.realIndex:void 0})}if(s){const _=c*i.params.grid.rows;c=i.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===_).column}else c=i.getSlideIndexByData(c)}return requestAnimationFrame(()=>{i.slideTo(c,e,n,r)}),i}function QM(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:c}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let f=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const p=r.activeIndex<s.slidesPerGroupSkip?1:f,m=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!m&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+p,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+p,t,e,n)}function JM(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:c,rtlTranslate:f,enabled:p,animating:m}=r;if(!p||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const b=r.virtual&&i.virtual.enabled;if(i.loop){if(m&&!b&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const v=f?r.translate:-r.translate;function _(U){return U<0?-Math.floor(Math.abs(U)):Math.floor(U)}const N=_(v),A=s.map(U=>_(U)),R=i.freeMode&&i.freeMode.enabled;let I=s[A.indexOf(N)-1];if(typeof I>"u"&&(i.cssMode||R)){let U;s.forEach((j,W)=>{N>=j&&(U=W)}),typeof U<"u"&&(I=R?s[U]:s[U>0?U-1:U])}let k=0;if(typeof I<"u"&&(k=c.indexOf(I),k<0&&(k=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(k=k-r.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),i.rewind&&r.isBeginning){const U=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(U,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(k,t,e,n)}),!0;return r.slideTo(k,t,e,n)}function eR(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function tR(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const c=Math.min(i.params.slidesPerGroupSkip,s),f=c+Math.floor((s-c)/i.params.slidesPerGroup),p=i.rtlTranslate?i.translate:-i.translate;if(p>=i.snapGrid[f]){const m=i.snapGrid[f],b=i.snapGrid[f+1];p-m>(b-m)*r&&(s+=i.params.slidesPerGroup)}else{const m=i.snapGrid[f-1],b=i.snapGrid[f];p-m<=(b-m)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function nR(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const c=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(aa(n,`${c}[data-swiper-slide-index="${s}"]`)[0]),b2(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(aa(n,`${c}[data-swiper-slide-index="${s}"]`)[0]),b2(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var rR={slideTo:KM,slideToLoop:ZM,slideNext:QM,slidePrev:JM,slideReset:eR,slideToClosest:tR,slideToClickedSlide:nR};function iR(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{aa(i,`.${r.slideClass}, swiper-slide`).forEach((_,N)=>{_.setAttribute("data-swiper-slide-index",N)})},c=n.grid&&r.grid&&r.grid.rows>1,f=r.slidesPerGroup*(c?r.grid.rows:1),p=n.slides.length%f!==0,m=c&&n.slides.length%r.grid.rows!==0,b=v=>{for(let _=0;_<v;_+=1){const N=n.isElement?v1("swiper-slide",[r.slideBlankClass]):v1("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(N)}};if(p){if(r.loopAddBlankSlides){const v=f-n.slides.length%f;b(v),n.recalcSlides(),n.updateSlides()}else w1("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(m){if(r.loopAddBlankSlides){const v=r.grid.rows-n.slides.length%r.grid.rows;b(v),n.recalcSlides(),n.updateSlides()}else w1("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function sR(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:c,byController:f,byMousewheel:p}=t===void 0?{}:t;const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:b,allowSlidePrev:v,allowSlideNext:_,slidesEl:N,params:A}=m,{centeredSlides:R,initialSlide:I}=A;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&A.virtual.enabled){n&&(!A.centeredSlides&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):A.centeredSlides&&m.snapIndex<A.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=v,m.allowSlideNext=_,m.emit("loopFix");return}let k=A.slidesPerView;k==="auto"?k=m.slidesPerViewDynamic():(k=Math.ceil(parseFloat(A.slidesPerView,10)),R&&k%2===0&&(k=k+1));const U=A.slidesPerGroupAuto?k:A.slidesPerGroup;let j=U;j%U!==0&&(j+=U-j%U),j+=A.loopAdditionalSlides,m.loopedSlides=j;const W=m.grid&&A.grid&&A.grid.rows>1;b.length<k+j||m.params.effect==="cards"&&b.length<k+j*2?w1("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):W&&A.grid.fill==="row"&&w1("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const X=[],V=[],Y=W?Math.ceil(b.length/A.grid.rows):b.length,se=c&&Y-I<k&&!R;let K=se?I:m.activeIndex;typeof s>"u"?s=m.getSlideIndex(b.find(G=>G.classList.contains(A.slideActiveClass))):K=s;const be=r==="next"||!r,_e=r==="prev"||!r;let ge=0,je=0;const re=(W?b[s].column:s)+(R&&typeof i>"u"?-k/2+.5:0);if(re<j){ge=Math.max(j-re,U);for(let G=0;G<j-re;G+=1){const ie=G-Math.floor(G/Y)*Y;if(W){const Te=Y-ie-1;for(let Be=b.length-1;Be>=0;Be-=1)b[Be].column===Te&&X.push(Be)}else X.push(Y-ie-1)}}else if(re+k>Y-j){je=Math.max(re-(Y-j*2),U),se&&(je=Math.max(je,k-Y+I+1));for(let G=0;G<je;G+=1){const ie=G-Math.floor(G/Y)*Y;W?b.forEach((Te,Be)=>{Te.column===ie&&V.push(Be)}):V.push(ie)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&b.length<k+j*2&&(V.includes(s)&&V.splice(V.indexOf(s),1),X.includes(s)&&X.splice(X.indexOf(s),1)),_e&&X.forEach(G=>{b[G].swiperLoopMoveDOM=!0,N.prepend(b[G]),b[G].swiperLoopMoveDOM=!1}),be&&V.forEach(G=>{b[G].swiperLoopMoveDOM=!0,N.append(b[G]),b[G].swiperLoopMoveDOM=!1}),m.recalcSlides(),A.slidesPerView==="auto"?m.updateSlides():W&&(X.length>0&&_e||V.length>0&&be)&&m.slides.forEach((G,ie)=>{m.grid.updateSlide(ie,G,m.slides)}),A.watchSlidesProgress&&m.updateSlidesOffset(),n){if(X.length>0&&_e){if(typeof e>"u"){const G=m.slidesGrid[K],Te=m.slidesGrid[K+ge]-G;p?m.setTranslate(m.translate-Te):(m.slideTo(K+Math.ceil(ge),0,!1,!0),i&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Te,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Te))}else if(i){const G=W?X.length/A.grid.rows:X.length;m.slideTo(m.activeIndex+G,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(V.length>0&&be)if(typeof e>"u"){const G=m.slidesGrid[K],Te=m.slidesGrid[K-je]-G;p?m.setTranslate(m.translate-Te):(m.slideTo(K-je,0,!1,!0),i&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Te,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Te))}else{const G=W?V.length/A.grid.rows:V.length;m.slideTo(m.activeIndex-G,0,!1,!0)}}if(m.allowSlidePrev=v,m.allowSlideNext=_,m.controller&&m.controller.control&&!f){const G={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix({...G,slideTo:ie.params.slidesPerView===A.slidesPerView?n:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...G,slideTo:m.controller.control.params.slidesPerView===A.slidesPerView?n:!1})}m.emit("loopFix")}function aR(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var oR={loopCreate:iR,loopFix:sR,loopDestroy:aR};function lR(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function cR(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var uR={setGrabCursor:lR,unsetGrabCursor:cR};function fR(t,e){e===void 0&&(e=this);function n(r){if(!r||r===nc()||r===di())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function a3(t,e,n){const r=di(),{params:i}=t,s=i.edgeSwipeDetection,c=i.edgeSwipeThreshold;return s&&(n<=c||n>=r.innerWidth-c)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function dR(t){const e=this,n=nc();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){a3(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:c,enabled:f}=e;if(!f||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let p=r.target;if(s.touchEventsTarget==="wrapper"&&!bM(p,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const m=!!s.noSwipingClass&&s.noSwipingClass!=="",b=r.composedPath?r.composedPath():r.path;m&&r.target&&r.target.shadowRoot&&b&&(p=b[0]);const v=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(_?fR(v,p):p.closest(v))){e.allowClick=!0;return}if(s.swipeHandler&&!p.closest(s.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const N=c.currentX,A=c.currentY;if(!a3(e,r,N))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=N,c.startY=A,i.touchStartTime=b1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let R=!0;p.matches(i.focusableElements)&&(R=!1,p.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==p&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!p.matches(i.focusableElements))&&n.activeElement.blur();const I=R&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||I)&&!p.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function hR(t){const e=nc(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:c,enabled:f}=n;if(!f||!i.simulateTouch&&t.pointerType==="mouse")return;let p=t;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(r.touchId!==null||p.pointerId!==r.pointerId))return;let m;if(p.type==="touchmove"){if(m=[...p.changedTouches].find(X=>X.identifier===r.touchId),!m||m.identifier!==r.touchId)return}else m=p;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",p);return}const b=m.pageX,v=m.pageY;if(p.preventedByNestedSwiper){s.startX=b,s.startY=v;return}if(!n.allowTouchMove){p.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:b,startY:v,currentX:b,currentY:v}),r.touchStartTime=b1());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(v<s.startY&&n.translate<=n.maxTranslate()||v>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(b>s.startX&&-n.translate<=n.maxTranslate()||b<s.startX&&-n.translate>=n.minTranslate()))return;if(!c&&(b<s.startX&&n.translate<=n.maxTranslate()||b>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",p),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=b,s.currentY=v;const _=s.currentX-s.startX,N=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(_**2+N**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let X;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:_*_+N*N>=25&&(X=Math.atan2(Math.abs(N),Math.abs(_))*180/Math.PI,r.isScrolling=n.isHorizontal()?X>i.touchAngle:90-X>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",p),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||p.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&p.cancelable&&p.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&p.stopPropagation();let A=n.isHorizontal()?_:N,R=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(A=Math.abs(A)*(c?1:-1),R=Math.abs(R)*(c?1:-1)),s.diff=A,A*=i.touchRatio,c&&(A=-A,R=-R);const I=n.touchesDirection;n.swipeDirection=A>0?"prev":"next",n.touchesDirection=R>0?"prev":"next";const k=n.params.loop&&!i.cssMode,U=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(k&&U&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const X=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(X)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",p)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==n.touchesDirection&&k&&U&&Math.abs(A)>=1){Object.assign(s,{startX:b,startY:v,currentX:b,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",p),r.isMoved=!0,r.currentTranslate=A+r.startTranslate;let j=!0,W=i.resistanceRatio;if(i.touchReleaseOnEdges&&(W=0),A>0?(k&&U&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+A)**W))):A<0&&(k&&U&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-A)**W))),j&&(p.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(A)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function pR(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(X=>X.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:c,touches:f,rtlTranslate:p,slidesGrid:m,enabled:b}=e;if(!b||!c.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&c.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}c.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=b1(),_=v-n.touchStartTime;if(e.allowClick){const X=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(X&&X[0]||r.target,X),e.emit("tap click",r),_<300&&v-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=b1(),b2(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||f.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let N;if(c.followFinger?N=p?e.translate:-e.translate:N=-n.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:N});return}const A=N>=-e.maxTranslate()&&!e.params.loop;let R=0,I=e.slidesSizesGrid[0];for(let X=0;X<m.length;X+=X<c.slidesPerGroupSkip?1:c.slidesPerGroup){const V=X<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof m[X+V]<"u"?(A||N>=m[X]&&N<m[X+V])&&(R=X,I=m[X+V]-m[X]):(A||N>=m[X])&&(R=X,I=m[m.length-1]-m[m.length-2])}let k=null,U=null;c.rewind&&(e.isBeginning?U=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(k=0));const j=(N-m[R])/I,W=R<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(_>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(j>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?k:R+W):e.slideTo(R)),e.swipeDirection==="prev"&&(j>1-c.longSwipesRatio?e.slideTo(R+W):U!==null&&j<0&&Math.abs(j)>c.longSwipesRatio?e.slideTo(U):e.slideTo(R))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(R+W):e.slideTo(R):(e.swipeDirection==="next"&&e.slideTo(k!==null?k:R+W),e.swipeDirection==="prev"&&e.slideTo(U!==null?U:R))}}function o3(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,c=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!f?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!c?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function mR(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function gR(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function xR(t){const e=this;i1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function yR(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const kS=(t,e)=>{const n=nc(),{params:r,el:i,wrapperEl:s,device:c}=t,f=!!r.nested,p=e==="on"?"addEventListener":"removeEventListener",m=e;!i||typeof i=="string"||(n[p]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:f}),i[p]("touchstart",t.onTouchStart,{passive:!1}),i[p]("pointerdown",t.onTouchStart,{passive:!1}),n[p]("touchmove",t.onTouchMove,{passive:!1,capture:f}),n[p]("pointermove",t.onTouchMove,{passive:!1,capture:f}),n[p]("touchend",t.onTouchEnd,{passive:!0}),n[p]("pointerup",t.onTouchEnd,{passive:!0}),n[p]("pointercancel",t.onTouchEnd,{passive:!0}),n[p]("touchcancel",t.onTouchEnd,{passive:!0}),n[p]("pointerout",t.onTouchEnd,{passive:!0}),n[p]("pointerleave",t.onTouchEnd,{passive:!0}),n[p]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[p]("click",t.onClick,!0),r.cssMode&&s[p]("scroll",t.onScroll),r.updateOnWindowResize?t[m](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",o3,!0):t[m]("observerUpdate",o3,!0),i[p]("load",t.onLoad,{capture:!0}))};function bR(){const t=this,{params:e}=t;t.onTouchStart=dR.bind(t),t.onTouchMove=hR.bind(t),t.onTouchEnd=pR.bind(t),t.onDocumentTouchStart=yR.bind(t),e.cssMode&&(t.onScroll=gR.bind(t)),t.onClick=mR.bind(t),t.onLoad=xR.bind(t),kS(t,"on")}function wR(){kS(this,"off")}var vR={attachEvents:bR,detachEvents:wR};const l3=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function CR(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const c=nc(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",p=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:c.querySelector(r.breakpointsBase),m=t.getBreakpoint(s,f,p);if(!m||t.currentBreakpoint===m)return;const v=(m in s?s[m]:void 0)||t.originalParams,_=l3(t,r),N=l3(t,v),A=t.params.grabCursor,R=v.grabCursor,I=r.enabled;_&&!N?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!_&&N&&(i.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),A&&!R?t.unsetGrabCursor():!A&&R&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(V=>{if(typeof v[V]>"u")return;const Y=r[V]&&r[V].enabled,se=v[V]&&v[V].enabled;Y&&!se&&t[V].disable(),!Y&&se&&t[V].enable()});const k=v.direction&&v.direction!==r.direction,U=r.loop&&(v.slidesPerView!==r.slidesPerView||k),j=r.loop;k&&n&&t.changeDirection(),Vi(t.params,v);const W=t.params.enabled,X=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),I&&!W?t.disable():!I&&W&&t.enable(),t.currentBreakpoint=m,t.emit("_beforeBreakpoint",v),n&&(U?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!j&&X?(t.loopCreate(e),t.updateSlides()):j&&!X&&t.loopDestroy()),t.emit("breakpoint",v)}function ER(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=di(),s=e==="window"?i.innerHeight:n.clientHeight,c=Object.keys(t).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const p=parseFloat(f.substr(1));return{value:s*p,point:f}}return{value:f,point:f}});c.sort((f,p)=>parseInt(f.value,10)-parseInt(p.value,10));for(let f=0;f<c.length;f+=1){const{point:p,value:m}=c[f];e==="window"?i.matchMedia(`(min-width: ${m}px)`).matches&&(r=p):m<=n.clientWidth&&(r=p)}return r||"max"}var SR={setBreakpoint:CR,getBreakpoint:ER};function _R(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function TR(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,c=_R(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...c),i.classList.add(...e),t.emitContainerClasses()}function AR(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var NR={addClasses:TR,removeClasses:AR};function OR(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var MR={checkOverflow:OR},v2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function RR(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Vi(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Vi(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Vi(e,r)}}const ug={eventsEmitter:NM,update:zM,translate:$M,transition:YM,slide:rR,loop:oR,grabCursor:uR,events:vR,breakpoints:SR,checkOverflow:MR,classes:NR},fg={};let mx=class Ga{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Vi({},n),e&&!n.el&&(n.el=e);const c=nc();if(n.el&&typeof n.el=="string"&&c.querySelectorAll(n.el).length>1){const b=[];return c.querySelectorAll(n.el).forEach(v=>{const _=Vi({},n,{el:v});b.push(new Ga(_))}),b}const f=this;f.__swiper__=!0,f.support=MS(),f.device=RS({userAgent:n.userAgent}),f.browser=IS(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],n.modules&&Array.isArray(n.modules)&&f.modules.push(...n.modules);const p={};f.modules.forEach(b=>{b({params:n,swiper:f,extendParams:RR(n,p),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const m=Vi({},v2,p);return f.params=Vi({},m,fg,n),f.originalParams=Vi({},f.params),f.passedParams=Vi({},n),f.params&&f.params.on&&Object.keys(f.params.on).forEach(b=>{f.on(b,f.params.on[b])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=aa(n,`.${r.slideClass}, swiper-slide`),s=n3(i[0]);return n3(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=aa(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),c=(r.maxTranslate()-i)*e+i;r.translateTo(c,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:c,slidesSizesGrid:f,size:p,activeIndex:m}=r;let b=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let v=s[m]?Math.ceil(s[m].swiperSlideSize):0,_;for(let N=m+1;N<s.length;N+=1)s[N]&&!_&&(v+=Math.ceil(s[N].swiperSlideSize),b+=1,v>p&&(_=!0));for(let N=m-1;N>=0;N-=1)s[N]&&!_&&(v+=s[N].swiperSlideSize,b+=1,v>p&&(_=!0))}else if(e==="current")for(let v=m+1;v<s.length;v+=1)(n?c[v]+f[v]-c[m]<p:c[v]-c[m]<p)&&(b+=1);else for(let v=m-1;v>=0;v-=1)c[m]-c[v]<p&&(b+=1);return b}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&i1(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(c.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):aa(r,i())[0];return!c&&n.params.createElements&&(c=v1("div",n.params.wrapperClass),r.append(c),aa(r,`.${n.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(n,{el:r,wrapperEl:c,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ho(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ho(r,"direction")==="rtl"),wrongRTL:Ho(c,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?i1(n,s):s.addEventListener("load",c=>{i1(n,c.target)})}),w2(n),n.initialized=!0,w2(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(p=>{p.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(p=>{r.off(p)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),pM(r)),r.destroyed=!0),null}static extendDefaults(e){Vi(fg,e)}static get extendedDefaults(){return fg}static get defaults(){return v2}static installModule(e){Ga.prototype.__modules__||(Ga.prototype.__modules__=[]);const n=Ga.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ga.installModule(n)),Ga):(Ga.installModule(e),Ga)}};Object.keys(ug).forEach(t=>{Object.keys(ug[t]).forEach(e=>{mx.prototype[e]=ug[t][e]})});mx.use([TM,AM]);const BS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Wl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function uu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Wl(e[r])&&Wl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:uu(t[r],e[r]):t[r]=e[r]})}function LS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function PS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function jS(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function zS(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function IR(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function DR(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:c,scrollbarEl:f,paginationEl:p}=t;const m=i.filter(K=>K!=="children"&&K!=="direction"&&K!=="wrapperClass"),{params:b,pagination:v,navigation:_,scrollbar:N,virtual:A,thumbs:R}=e;let I,k,U,j,W,X,V,Y;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&b.thumbs&&(!b.thumbs.swiper||b.thumbs.swiper.destroyed)&&(I=!0),i.includes("controller")&&r.controller&&r.controller.control&&b.controller&&!b.controller.control&&(k=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||p)&&(b.pagination||b.pagination===!1)&&v&&!v.el&&(U=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||f)&&(b.scrollbar||b.scrollbar===!1)&&N&&!N.el&&(j=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||s)&&(b.navigation||b.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(W=!0);const se=K=>{e[K]&&(e[K].destroy(),K==="navigation"?(e.isElement&&(e[K].prevEl.remove(),e[K].nextEl.remove()),b[K].prevEl=void 0,b[K].nextEl=void 0,e[K].prevEl=void 0,e[K].nextEl=void 0):(e.isElement&&e[K].el.remove(),b[K].el=void 0,e[K].el=void 0))};i.includes("loop")&&e.isElement&&(b.loop&&!r.loop?X=!0:!b.loop&&r.loop?V=!0:Y=!0),m.forEach(K=>{if(Wl(b[K])&&Wl(r[K]))Object.assign(b[K],r[K]),(K==="navigation"||K==="pagination"||K==="scrollbar")&&"enabled"in r[K]&&!r[K].enabled&&se(K);else{const be=r[K];(be===!0||be===!1)&&(K==="navigation"||K==="pagination"||K==="scrollbar")?be===!1&&se(K):b[K]=r[K]}}),m.includes("controller")&&!k&&e.controller&&e.controller.control&&b.controller&&b.controller.control&&(e.controller.control=b.controller.control),i.includes("children")&&n&&A&&b.virtual.enabled?(A.slides=n,A.update(!0)):i.includes("virtual")&&A&&b.virtual.enabled&&(n&&(A.slides=n),A.update(!0)),i.includes("children")&&n&&b.loop&&(Y=!0),I&&R.init()&&R.update(!0),k&&(e.controller.control=b.controller.control),U&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),e.el.appendChild(p)),p&&(b.pagination.el=p),v.init(),v.render(),v.update()),j&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(b.scrollbar.el=f),N.init(),N.updateSize(),N.setTranslate()),W&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),i3(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),i3(c,e.hostEl.constructor.prevButtonSvg),c.part.add("button-prev"),e.el.appendChild(c))),s&&(b.navigation.nextEl=s),c&&(b.navigation.prevEl=c),_.init(),_.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(X||Y)&&e.loopDestroy(),(V||Y)&&e.loopCreate(),e.update()}function kR(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};uu(n,v2),n._emitClasses=!0,n.init=!1;const s={},c=BS.map(p=>p.replace(/_/,"")),f=Object.assign({},t);return Object.keys(f).forEach(p=>{typeof t[p]>"u"||(c.indexOf(p)>=0?Wl(t[p])?(n[p]={},i[p]={},uu(n[p],t[p]),uu(i[p],t[p])):(n[p]=t[p],i[p]=t[p]):p.search(/on[A-Z]/)===0&&typeof t[p]=="function"?e?r[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:n.on[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:s[p]=t[p])}),["navigation","pagination","scrollbar"].forEach(p=>{n[p]===!0&&(n[p]={}),n[p]===!1&&delete n[p]}),{params:n,passedParams:i,rest:s,events:r}}function BR(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:c,swiper:f}=t;LS(e)&&r&&i&&(f.params.navigation.nextEl=r,f.originalParams.navigation.nextEl=r,f.params.navigation.prevEl=i,f.originalParams.navigation.prevEl=i),PS(e)&&s&&(f.params.pagination.el=s,f.originalParams.pagination.el=s),jS(e)&&c&&(f.params.scrollbar.el=c,f.originalParams.scrollbar.el=c),f.init(n)}function LR(t,e,n,r,i){const s=[];if(!e)return s;const c=p=>{s.indexOf(p)<0&&s.push(p)};if(n&&r){const p=r.map(i),m=n.map(i);p.join("")!==m.join("")&&c("children"),r.length!==n.length&&c("children")}return BS.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in t&&p in e)if(Wl(t[p])&&Wl(e[p])){const m=Object.keys(t[p]),b=Object.keys(e[p]);m.length!==b.length?c(p):(m.forEach(v=>{t[p][v]!==e[p][v]&&c(p)}),b.forEach(v=>{t[p][v]!==e[p][v]&&c(p)}))}else t[p]!==e[p]&&c(p)}),s}const PR=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C1.apply(this,arguments)}function FS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function US(t){const e=[];return qt.Children.toArray(t).forEach(n=>{FS(n)?e.push(n):n.props&&n.props.children&&US(n.props.children).forEach(r=>e.push(r))}),e}function jR(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return qt.Children.toArray(t).forEach(r=>{if(FS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=US(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function zR(t,e,n){if(!n)return null;const r=b=>{let v=b;return b<0?v=e.length+b:v>=e.length&&(v=v-e.length),v},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:c}=n,f=t.params.loop?-e.length:0,p=t.params.loop?e.length*2:e.length,m=[];for(let b=f;b<p;b+=1)b>=s&&b<=c&&m.push(e[r(b)]);return m.map((b,v)=>qt.cloneElement(b,{swiper:t,style:i,key:b.props.virtualIndex||b.key||`slide-${v}`}))}function zf(t,e){return typeof window>"u"?F.useEffect(t,e):F.useLayoutEffect(t,e)}const c3=F.createContext(null),FR=F.createContext(null),HS=F.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:c,...f}=t===void 0?{}:t,p=!1;const[m,b]=F.useState("swiper"),[v,_]=F.useState(null),[N,A]=F.useState(!1),R=F.useRef(!1),I=F.useRef(null),k=F.useRef(null),U=F.useRef(null),j=F.useRef(null),W=F.useRef(null),X=F.useRef(null),V=F.useRef(null),Y=F.useRef(null),{params:se,passedParams:K,rest:be,events:_e}=kR(f),{slides:ge,slots:je}=jR(s),Ue=()=>{A(!N)};Object.assign(se.on,{_containerClasses(Be,Z){b(Z)}});const re=()=>{Object.assign(se.on,_e),p=!0;const Be={...se};if(delete Be.wrapperClass,k.current=new mx(Be),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=ge;const Z={cache:!1,slides:ge,renderExternal:_,renderExternalUpdate:!1};uu(k.current.params.virtual,Z),uu(k.current.originalParams.virtual,Z)}};I.current||re(),k.current&&k.current.on("_beforeBreakpoint",Ue);const G=()=>{p||!_e||!k.current||Object.keys(_e).forEach(Be=>{k.current.on(Be,_e[Be])})},ie=()=>{!_e||!k.current||Object.keys(_e).forEach(Be=>{k.current.off(Be,_e[Be])})};F.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",Ue)}),F.useEffect(()=>{!R.current&&k.current&&(k.current.emitSlidesClasses(),R.current=!0)}),zf(()=>{if(e&&(e.current=I.current),!!I.current)return k.current.destroyed&&re(),BR({el:I.current,nextEl:W.current,prevEl:X.current,paginationEl:V.current,scrollbarEl:Y.current,swiper:k.current},se),c&&!k.current.destroyed&&c(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),zf(()=>{G();const Be=LR(K,U.current,ge,j.current,Z=>Z.key);return U.current=K,j.current=ge,Be.length&&k.current&&!k.current.destroyed&&DR({swiper:k.current,slides:ge,passedParams:K,changedParams:Be,nextEl:W.current,prevEl:X.current,scrollbarEl:Y.current,paginationEl:V.current}),()=>{ie()}}),zf(()=>{PR(k.current)},[v]);function Te(){return se.virtual?zR(k.current,ge,v):ge.map((Be,Z)=>qt.cloneElement(Be,{swiper:k.current,swiperSlideIndex:Z}))}return qt.createElement(r,C1({ref:I,className:zS(`${m}${n?` ${n}`:""}`)},be),qt.createElement(FR.Provider,{value:k.current},je["container-start"],qt.createElement(i,{className:IR(se.wrapperClass)},je["wrapper-start"],Te(),je["wrapper-end"]),LS(se)&&qt.createElement(qt.Fragment,null,qt.createElement("div",{ref:X,className:"swiper-button-prev"}),qt.createElement("div",{ref:W,className:"swiper-button-next"})),jS(se)&&qt.createElement("div",{ref:Y,className:"swiper-scrollbar"}),PS(se)&&qt.createElement("div",{ref:V,className:"swiper-pagination"}),je["container-end"]))});HS.displayName="Swiper";const VS=F.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:c,lazy:f,virtualIndex:p,swiperSlideIndex:m,...b}=t===void 0?{}:t;const v=F.useRef(null),[_,N]=F.useState("swiper-slide"),[A,R]=F.useState(!1);function I(W,X,V){X===v.current&&N(V)}zf(()=>{if(typeof m<"u"&&(v.current.swiperSlideIndex=m),e&&(e.current=v.current),!(!v.current||!s)){if(s.destroyed){_!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",I),()=>{s&&s.off("_slideClass",I)}}}),zf(()=>{s&&v.current&&!s.destroyed&&N(s.getSlideClasses(v.current))},[s]);const k={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},U=()=>typeof r=="function"?r(k):r,j=()=>{R(!0)};return qt.createElement(n,C1({ref:v,className:zS(`${_}${i?` ${i}`:""}`),"data-swiper-slide-index":p,onLoad:j},b),c&&qt.createElement(c3.Provider,{value:k},qt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},U(),f&&!A&&qt.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&qt.createElement(c3.Provider,{value:k},U(),f&&!A&&qt.createElement("div",{className:"swiper-lazy-preloader"})))});VS.displayName="SwiperSlide";function UR(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=aa(t.el,`.${r[i]}`)[0];s||(s=v1("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function HR(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(A){let R;return A&&typeof A=="string"&&e.isElement&&(R=e.el.querySelector(A)||e.hostEl.querySelector(A),R)?R:(A&&(typeof A=="string"&&(R=[...document.querySelectorAll(A)]),e.params.uniqueNavElements&&typeof A=="string"&&R&&R.length>1&&e.el.querySelectorAll(A).length===1?R=e.el.querySelector(A):R&&R.length===1&&(R=R[0])),A&&!R?A:R)}function c(A,R){const I=e.params.navigation;A=Ba(A),A.forEach(k=>{k&&(k.classList[R?"add":"remove"](...I.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=R),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](I.lockClass))})}function f(){const{nextEl:A,prevEl:R}=e.navigation;if(e.params.loop){c(R,!1),c(A,!1);return}c(R,e.isBeginning&&!e.params.rewind),c(A,e.isEnd&&!e.params.rewind)}function p(A){A.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function m(A){A.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function b(){const A=e.params.navigation;if(e.params.navigation=UR(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let R=s(A.nextEl),I=s(A.prevEl);Object.assign(e.navigation,{nextEl:R,prevEl:I}),R=Ba(R),I=Ba(I);const k=(U,j)=>{U&&U.addEventListener("click",j==="next"?m:p),!e.enabled&&U&&U.classList.add(...A.lockClass.split(" "))};R.forEach(U=>k(U,"next")),I.forEach(U=>k(U,"prev"))}function v(){let{nextEl:A,prevEl:R}=e.navigation;A=Ba(A),R=Ba(R);const I=(k,U)=>{k.removeEventListener("click",U==="next"?m:p),k.classList.remove(...e.params.navigation.disabledClass.split(" "))};A.forEach(k=>I(k,"next")),R.forEach(k=>I(k,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?N():(b(),f())}),r("toEdge fromEdge lock unlock",()=>{f()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{nextEl:A,prevEl:R}=e.navigation;if(A=Ba(A),R=Ba(R),e.enabled){f();return}[...A,...R].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(A,R)=>{let{nextEl:I,prevEl:k}=e.navigation;I=Ba(I),k=Ba(k);const U=R.target;let j=k.includes(U)||I.includes(U);if(e.isElement&&!j){const W=R.path||R.composedPath&&R.composedPath();W&&(j=W.find(X=>I.includes(X)||k.includes(X)))}if(e.params.navigation.hideOnClick&&!j){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===U||e.pagination.el.contains(U)))return;let W;I.length?W=I[0].classList.contains(e.params.navigation.hiddenClass):k.length&&(W=k[0].classList.contains(e.params.navigation.hiddenClass)),i(W===!0?"navigationShow":"navigationHide"),[...I,...k].filter(X=>!!X).forEach(X=>X.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),b(),f()},N=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:_,disable:N,update:f,init:b,destroy:v})}const VR="_carouselWrapper_olv4s_1",GR="_carouselHeader_olv4s_13",$R="_carouselTitle_olv4s_29",qR="_moreButton_olv4s_41",WR="_carouselViewport_olv4s_79",XR="_carouselSlide_olv4s_89",YR="_slideCard_olv4s_113",KR="_carouselImage_olv4s_135",ZR="_cardText_olv4s_149",QR="_prevButton_olv4s_203",JR="_nextButton_olv4s_205",e9="_emptyBox_olv4s_235",ts={carouselWrapper:VR,carouselHeader:GR,carouselTitle:$R,moreButton:qR,carouselViewport:WR,carouselSlide:XR,slideCard:YR,carouselImage:KR,cardText:ZR,prevButton:QR,nextButton:JR,emptyBox:e9};function u3({title:t,category:e,value:n}){const[r,i]=F.useState([]),s=F.useRef(null),c=F.useRef(null),f=F.useRef(null);return F.useEffect(()=>{var p;f.current&&s.current&&c.current&&((p=f.current.params)!=null&&p.navigation)&&(f.current.params.navigation.prevEl=s.current,f.current.params.navigation.nextEl=c.current,f.current.navigation.destroy(),f.current.navigation.init(),f.current.navigation.update())},[]),F.useEffect(()=>{(async()=>{try{const b=(await nr.get("/api/exhibitions",{params:{status:"exhibited",[e]:n}})).data.map(({id:v,exhibition_poster:_,exhibition_title:N,exhibition_category:A,exhibition_status:R,exhibition_start_date:I,exhibition_end_date:k,exhibition_organization:U})=>({id:v,image:_,title:N,category:A,status:R,startDate:I,endDate:k,organization:U}));i(b)}catch(m){console.error("     :",m)}})()},[]),E.jsxs("div",{className:ts.carouselWrapper,children:[E.jsxs("div",{className:ts.carouselHeader,children:[E.jsx("h2",{className:ts.carouselTitle,children:t}),E.jsx(cn,{to:"/exhibitions",className:ts.moreButton,children:""})]}),r.length>0?E.jsx(HS,{modules:[HR],onSwiper:p=>f.current=p,slidesPerView:"auto",centeredSlides:!0,loop:r.length>2,spaceBetween:20,navigation:{prevEl:s.current,nextEl:c.current},className:ts.carouselViewport,children:r.map(p=>E.jsx(VS,{className:ts.carouselSlide,children:E.jsxs(cn,{to:`/exhibitions/${p.id}`,className:ts.slideCard,children:[E.jsx("img",{src:p.image,alt:p.title,className:ts.carouselImage}),E.jsxs("div",{className:ts.cardText,children:[E.jsxs("h3",{children:["",p.title,""]}),E.jsx("p",{children:p.organization.name}),E.jsxs("p",{children:[p.startDate," ~ ",p.endDate]})]})]})},p.id))}):E.jsx("div",{className:ts.emptyBox,children:"  ."}),E.jsx("button",{ref:s,className:ts.prevButton,children:""}),E.jsx("button",{ref:c,className:ts.nextButton,children:""})]})}function t9(){return E.jsxs("div",{className:e3.mainLayout,children:[E.jsx(ZO,{}),E.jsxs("div",{className:e3.carouselContainer,children:[E.jsx(u3,{title:"   "}),E.jsx(u3,{title:" ",category:"sort",value:"popular"}),E.jsx(fM,{title:"  "})]})]})}const n9="_layout_kvwfn_1",r9="_gridContainer_kvwfn_19",f3={layout:n9,gridContainer:r9},i9="_layout_1xzjp_1",s9="_titleContainer_1xzjp_13",a9="_listTitle_1xzjp_29",o9="_clickedFavButton_1xzjp_59",l9="_favButton_1xzjp_61",c9="_clickedIcon_1xzjp_109",u9="_searchForm_1xzjp_117",f9="_searchInput_1xzjp_137",d9="_formButton_1xzjp_175",La={layout:i9,titleContainer:s9,listTitle:a9,clickedFavButton:o9,favButton:l9,clickedIcon:c9,searchForm:u9,searchInput:f9,formButton:d9};function h9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function p9(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function gx(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function m9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function g9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function x9(t){return Rr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function N0(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function y9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function b9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function w9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(t)}function xx(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function v9(t){return Rr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function GS(t){return Rr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const C9=()=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:E.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function hd({title:t,placeholder:e,isFav:n,onEvent:r,onFav:i,onSearch:s,value:c,isNews:f=!1,isArtworks:p=!1}){return E.jsxs("div",{className:La.layout,children:[E.jsxs("div",{className:La.titleContainer,children:[E.jsx("h1",{className:La.listTitle,children:t}),!f&&!p&&E.jsxs("button",{className:`${La.favButton} ${n&&La.clickedFavButton}`,onClick:i,children:[E.jsx(N0,{className:`${n&&La.clickedIcon}`}),""]})]}),!p&&E.jsxs("form",{className:La.searchForm,action:r,children:[E.jsx("input",{className:La.searchInput,placeholder:e,onChange:s,value:c}),E.jsx("button",{className:La.formButton,children:E.jsx(C9,{})})]})]})}const E9="_layout_11xsl_1",S9={layout:E9},_9="_layout_1hm1o_1",T9="_clickedLabel_1hm1o_11",A9="_dropdownButton_1hm1o_19",N9="_clickedButton_1hm1o_63",O9="_undisplay_1hm1o_85",M9="_clickedDropdownList_1hm1o_93",R9="_clickedItem_1hm1o_129",I9="_dropdownItem_1hm1o_131",D9="_rectButton_1hm1o_173",Pa={layout:_9,clickedLabel:T9,dropdownButton:A9,clickedButton:N9,undisplay:O9,clickedDropdownList:M9,clickedItem:R9,dropdownItem:I9,rectButton:D9};function k9({title:t,dropdownItems:e,isOpen:n,filterKey:r,onOpen:i,onSetFilter:s,shape:c="round"}){const[f,p]=F.useState(e[0].label),{isMobile:m}=cx(),b=v=>{p(v.label),s(_=>({..._,[r]:v.value})),i()};return E.jsxs("div",{className:Pa.layout,children:[E.jsxs("button",{className:`${Pa.dropdownButton} ${n&&Pa.clickedButton} ${c==="rect"?Pa.rectButton:""}`,onClick:i,children:[!m&&`${t} - `,E.jsx("span",{className:`${f!==e[0].label&&Pa.clickedLabel}`,children:f})]}),E.jsx("ul",{className:`${n&&Pa.clickedDropdownList} ${n&&Pa.undisplay}`,children:n&&e.map(v=>E.jsx("li",{className:`${Pa.dropdownItem} ${v.label===f&&Pa.clickedItem}`,onClick:()=>{b(v)},children:v.label},v.label))})]})}function pd({labels:t,filterList:e,onSetFilter:n,shape:r="round"}){const[i,s]=F.useState(null),c=f=>{s(i===f?null:f)};return E.jsx("div",{className:S9.layout,children:e.map((f,p)=>E.jsx(k9,{title:f.label,dropdownItems:f.options,filterKey:f.key,isOpen:p===i,onOpen:()=>{c(p)},onSetFilter:n,shape:r},f.key))})}const B9=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],L9="_countParagraph_1ppwl_1",P9="_counts_1ppwl_11",d3={countParagraph:L9,counts:P9};function md({num:t,label:e}){return E.jsxs("p",{className:d3.countParagraph,children:[" ",E.jsx("strong",{className:d3.counts,children:t})," ",e,"  "]})}const j9="_paginationContainer_10yp7_1",z9="_pageButton_10yp7_11",F9="_active_10yp7_35",Cf={paginationContainer:j9,pageButton:z9,active:F9};function Cu({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:r=10}){const i=Math.ceil(n/r),s=U9(t,i,5);return E.jsxs("div",{className:Cf.paginationContainer,style:{justifyContent:s.length===1?"center":"space-between"},children:[t>1&&E.jsx(E.Fragment,{children:E.jsx("button",{onClick:()=>e(t-1),className:Cf.pageButton,children:"<"})}),s.map(c=>E.jsx("button",{onClick:()=>e(c),className:`${Cf.pageButton} ${t===c?Cf.active:""}`,children:c},c)),t<i&&E.jsx(E.Fragment,{children:E.jsx("button",{onClick:()=>e(t+1),className:Cf.pageButton,children:">"})})]})}const U9=(t,e,n=5)=>{const r=Math.floor(n/2);let i=Math.max(1,t-r),s=Math.min(e,t+r);return s-i+1<n&&(i===1?s=Math.min(e,i+n-1):s===e&&(i=Math.max(1,s-n+1))),Array.from({length:s-i+1},(c,f)=>i+f)},Eu=(t=10,e)=>{const[n,r]=F.useState(1),i=Array.isArray(e)?e:[],s=(n-1)*t,c=i.slice(s,s+t);return{currentPage:n,setCurrentPage:r,pageItems:c}},H9="_exhibitionCardLayout_1gfqp_1",V9="_statusContainer_1gfqp_37",G9="_ongoing_1gfqp_73",$9="_imageBox_1gfqp_125",q9="_exhibitionImage_1gfqp_133",W9="_favButton_1gfqp_173",X9="_locButton_1gfqp_195",Y9="_exhibitionTitle_1gfqp_281",K9="_infoContainer_1gfqp_299",Z9="_subParagraph_1gfqp_307",ns={exhibitionCardLayout:H9,statusContainer:V9,ongoing:G9,imageBox:$9,exhibitionImage:q9,favButton:W9,locButton:X9,exhibitionTitle:Y9,infoContainer:K9,subParagraph:Z9},Q9=(t,e)=>{const n=new Date,r=new Date(t),i=new Date(e);return n<r?"upcoming":n>i?"ended":"ongoing"},J9="_layout_cdrx9_1",eI="_container_cdrx9_33",tI="_header_cdrx9_53",nI="_map_cdrx9_69",rI="_title_cdrx9_79",iI="_closeButton_cdrx9_93",sI="_icon_cdrx9_103",aI="_infoContainer_cdrx9_117",oI="_infoSpan_cdrx9_133",lI="_infoParagraph_cdrx9_147",cI="_buttonField_cdrx9_157",uI="_locateButton_cdrx9_173",fI="_button_cdrx9_157",ji={layout:J9,container:eI,header:tI,map:nI,title:rI,closeButton:iI,icon:sI,infoContainer:aI,infoSpan:oI,infoParagraph:lI,buttonField:cI,locateButton:uI,button:fI};function dI(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function hI(t){return Rr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function pI(t){return Rr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const yx=({lat:t,lng:e,id:n,results:r,zoomLevel:i=15,title:s,location:c})=>{const f=F.useRef(null),p=wn(),m=F.useRef([]),b=(v,_)=>`
                <div style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  width: 15rem;
                  height: 10rem;
                ">
                  <div style="
                    width: 2rem;
                    aspect-ratio: 1 / 1;
                    background-color: rgb(229, 115, 115);
                    border-radius: 50%;
                    border: 0.3rem solid white;
                    box-shadow: rgba(0, 0, 0, 0.3) 0 0.2rem 0.5rem;
                    margin-bottom: 0.5rem;
                  " >
                  </div>
                  <div style="
                    width: 100%;
                    padding: 0.8rem 1.2rem;
                    border-radius: 0.4rem;
                    background-color: #fff;
                    color: #333;
                    font-size: 1.4rem;
                    font-weight: 600;
                    text-align: center;
                  ">
                    ${v}
                    <div style="
                      padding-top: 1rem;
                      color: #666;
                      font-size: 1.2rem;
                      text-align: center;
                  ">${_}</div>
                  </div>
                </div>
              `;return F.useEffect(()=>{var N;const v=document.getElementById(n);if(!((N=window.naver)!=null&&N.maps)||!v||t==null||e==null)return;const _=new naver.maps.Map(v,{center:new naver.maps.LatLng(t,e),zoom:i});if(f.current=_,m.current.forEach(A=>A.setMap(null)),m.current=[],s&&c)new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:_,title:s,icon:{content:b(s,c)}});else{const A=new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:f.current,title:" "});m.current.push(A)}return r&&r.length>0&&r.map(({gallery_name:A,gallery_latitude:R,gallery_longitude:I,gallery_address:k,id:U})=>{const j=new naver.maps.LatLng(R,I),W=new naver.maps.Marker({position:j,map:f.current,title:A,icon:{content:b(A,k)}});naver.maps.Event.addListener(W,"click",()=>{p(`/galleries/${U}`)}),m.current.push(W)}),()=>{const A=f.current;A&&A.getElement()&&A.destroy(),f.current=null}},[n,t,e,r,p,i,s,c]),f};function mI({item:t,onClose:e}){const{id:n,exhibition_title:r,exhibition_location:i,exhibition_start_date:s,exhibition_end_date:c,exhibition_start_time:f,exhibition_end_time:p,exhibition_organization:m,exhibition_price:b}=t,v=[{key:"location",label:"",content:i},{key:"date",label:"",content:`${s} ~ ${c}`},{key:"time",label:"",content:`${f} ~ ${p}`},{key:"closedDay",label:"",content:m.closed_day},{key:"price",label:"",content:b}];return yx({lat:m.latitude,lng:m.longitude,id:`exhibition-${n}-map`,title:r,location:i}),E.jsx("div",{className:ji.layout,children:E.jsxs("div",{className:ji.container,children:[E.jsxs("div",{className:ji.header,children:[E.jsx("h4",{className:ji.title,children:r}),E.jsx("button",{className:ji.closeButton,onClick:e,children:E.jsx(pI,{className:ji.icon})})]}),E.jsx("div",{className:ji.map,id:`exhibition-${n}-map`}),E.jsx("div",{className:ji.infoContainer,children:v.map(({key:_,label:N,content:A})=>E.jsxs("div",{children:[E.jsx("span",{className:ji.infoSpan,children:N}),E.jsx("p",{className:ji.infoParagraph,children:A})]},_))}),E.jsxs("div",{className:ji.buttonField,children:[E.jsx("button",{className:ji.locateButton,onClick:()=>{alert("  .")},children:""}),E.jsx("button",{className:ji.button,onClick:e,children:""})]})]})})}const gI=({color:t="#376AED"})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[E.jsx("g",{filter:"url(#filter0_d_26_772)",children:E.jsx("path",{d:"M22.3108 11.6219C20.3417 13.591 20.3417 16.7835 22.3108 18.7526L29.9481 26.3899L30.0006 26.3374L30.0532 26.39L37.6906 18.7526C39.6596 16.7835 39.6596 13.5911 37.6906 11.622C35.7215 9.65294 32.529 9.65294 30.56 11.622L30.3543 11.8277C30.159 12.023 29.8424 12.023 29.6472 11.8277L29.4414 11.6219C27.4723 9.65288 24.2798 9.65288 22.3108 11.6219Z",fill:t})}),E.jsx("defs",{children:E.jsxs("filter",{id:"filter0_d_26_772",x:"0.833984",y:"0.145142",width:"58.334",height:"56.2449",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[E.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),E.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),E.jsx("feOffset",{dy:"10"}),E.jsx("feGaussianBlur",{stdDeviation:"10"}),E.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),E.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),E.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_772"}),E.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_772",result:"shape"})]})})]}),xI=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[E.jsx("g",{filter:"url(#filter0_d_26_1175)",children:E.jsx("path",{d:"M22.3108 12.6219C20.3417 14.591 20.3417 17.7835 22.3108 19.7526L29.9481 27.3899L30.0006 27.3374L30.0532 27.39L37.6906 19.7526C39.6596 17.7835 39.6596 14.5911 37.6906 12.622C35.7215 10.6529 32.529 10.6529 30.56 12.622L30.3543 12.8277C30.159 13.023 29.8424 13.023 29.6472 12.8277L29.4414 12.6219C27.4723 10.6529 24.2798 10.6529 22.3108 12.6219Z",stroke:"#222",strokeWidth:"1.5",shapeRendering:"crispEdges"})}),E.jsx("defs",{children:E.jsxs("filter",{id:"filter0_d_26_1175",x:"0.0839844",y:"0.395142",width:"59.834",height:"58.0555",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[E.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),E.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),E.jsx("feOffset",{dy:"10"}),E.jsx("feGaussianBlur",{stdDeviation:"10"}),E.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),E.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),E.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_1175"}),E.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_1175",result:"shape"})]})})]}),$S=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[E.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function qS({exhibitionItem:t,onEvent:e}){const{id:n,exhibition_title:r,exhibition_category:i,exhibition_poster:s,exhibition_location:c,exhibition_start_date:f,exhibition_end_date:p,is_liked:m}=t,[b,v]=F.useState(!1),_=wn(),N=Q9(f,p),A=N==="ongoing"?" ":N==="upcoming"?" ":" ",R=()=>{v(U=>!U),document.body.style.overflow="hidden"},I=()=>{v(U=>!U),document.body.style.overflow="unset"},k=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&_("/login");try{m===!0?await In.delete("/api/likes",{data:{liked_id:n,liked_type:"exhibition"}}):await In.post("/api/likes",{liked_id:n,liked_type:"exhibition"}),await e()}catch(U){console.error(U)}};return E.jsxs("div",{className:ns.exhibitionCardLayout,children:[b&&E.jsx(mI,{item:t,onClose:I}),E.jsxs(cn,{className:ns.layout,to:`/exhibitions/${n}`,children:[E.jsx("div",{className:`${ns.statusContainer} ${N==="ongoing"&&ns.ongoing}`,children:A}),E.jsx("div",{className:ns.imageBox,children:E.jsx("img",{className:ns.exhibitionImage,src:s||"/placeholder.jpg",alt:"  "})}),E.jsx("button",{className:ns.favButton,onClick:U=>{U.preventDefault(),U.stopPropagation(),k()},children:m?E.jsx(gI,{}):E.jsx(xI,{})}),E.jsx("button",{className:ns.locButton,onClick:U=>{U.preventDefault(),U.stopPropagation(),R()},children:E.jsx($S,{})}),E.jsxs("div",{className:ns.infoContainer,children:[E.jsx("h3",{className:ns.exhibitionTitle,children:r}),E.jsxs("p",{className:ns.subParagraph,children:[i," | ",c||" "]}),E.jsxs("p",{className:ns.subParagraph,children:[f," ~ ",p]})]})]})]})}function yI(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:c}=Eu(12,t),[f,p]=F.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),m=wn(),[b,v]=F.useState(""),_=I=>{v(I.target.value)},N=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),p(I=>({...I,liked_only:!I.liked_only}))},A=async()=>{try{r(!0);const I={...f,search:b},k=await In.get("/api/exhibitions",{params:I});e(k.data)}catch(I){console.error("   :",I)}finally{r(!1)}};F.useEffect(()=>{A()},[f]);const R=["","","",""];return E.jsxs("div",{className:f3.layout,children:[E.jsx(hd,{title:"",placeholder:"   ",isFav:f.liked_only,onEvent:A,onFav:N,onSearch:_,value:b}),E.jsx(pd,{labels:R,filterList:B9,onSetFilter:p}),E.jsx(md,{num:t.length,label:""}),n&&E.jsx("div",{children:"   .."}),t.length===0&&E.jsx("div",{children:"  ."}),E.jsx("div",{className:f3.gridContainer,children:c.map(I=>E.jsx(qS,{exhibitionItem:I,onEvent:A},I.id))}),E.jsx(Cu,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const bI="_layout_15wjm_1",wI="_gridContainer_15wjm_19",h3={layout:bI,gridContainer:wI},vI=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],CI="_layout_5jxtw_1",EI="_artistImage_5jxtw_35",SI="_artistNameTitle_5jxtw_63",_I="_subParagraph_5jxtw_91",Dh={layout:CI,artistImage:EI,artistNameTitle:SI,subParagraph:_I};function WS({artistItem:t}){const{id:e,artist_name:n,artist_category:r,artist_image:i,artist_nation:s}=t;return E.jsxs(cn,{className:Dh.layout,to:`/artists/${e}`,children:[E.jsx("img",{className:Dh.artistImage,src:i,alt:"  "}),E.jsx("h3",{className:Dh.artistNameTitle,children:n}),E.jsxs("p",{className:Dh.subParagraph,children:[r," | ",s]})]})}function TI(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:c}=Eu(12,t),[f,p]=F.useState({category:"",nation:"",birthDecade:"",liked_only:0}),m=wn(),[b,v]=F.useState(""),_=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),p(R=>({...R,liked_only:!R.liked_only}))},N=R=>{v(R.target.value)},A=async()=>{const R={...f,search:b};try{r(!0);const I=await nr.get("/api/artist",{params:R});e(I.data)}catch(I){throw new Error(I)}finally{r(!1)}};return F.useEffect(()=>{A()},[f]),E.jsxs("div",{className:h3.layout,children:[E.jsx(hd,{title:"",placeholder:"   ",isFav:f.liked_only,onEvent:A,onFav:_,onSearch:N,value:b}),E.jsx(pd,{filterList:vI,onSetFilter:p}),E.jsx(md,{num:t.length,label:""}),n&&E.jsx("div",{children:"   .."}),t.length===0&&E.jsx("div",{children:"  ."}),E.jsx("div",{className:h3.gridContainer,children:c.map(R=>E.jsx(WS,{artistItem:R},R.id))}),E.jsx(Cu,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const AI="_layout_15wjm_1",NI="_gridContainer_15wjm_19",p3={layout:AI,gridContainer:NI},OI=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],MI="_layout_saiq3_1",RI="_galleryImage_saiq3_39",II="_infoContainer_saiq3_63",DI="_galleryTitle_saiq3_71",kI="_addressParagraph_saiq3_91",BI="_linkContainer_saiq3_125",Al={layout:MI,galleryImage:RI,infoContainer:II,galleryTitle:DI,addressParagraph:kI,linkContainer:BI};function bx({galleryItem:t}){const{id:e,gallery_name:n,gallery_image:r,gallery_address:i,gallery_start_time:s,gallery_end_time:c}=t,f=p=>{if(p)return p.slice(0,5)};return E.jsx("div",{className:Al.layout,children:E.jsxs(cn,{className:Al.linkContainer,to:`/galleries/${e}`,children:[E.jsx("img",{className:Al.galleryImage,src:r,alt:`${n}  `}),E.jsxs("div",{className:Al.infoContainer,children:[E.jsx("h3",{className:Al.galleryTitle,children:n}),E.jsx("p",{className:Al.addressParagraph,children:i}),E.jsxs("p",{className:Al.addressParagraph,children:[f(s)," ~ ",f(c)]})]})]})})}function LI(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:c}=Eu(12,t),[f,p]=F.useState({status:"",regions:"",type:"",liked_only:0}),m=wn(),[b,v]=F.useState(""),_=R=>{v(R.target.value)},N=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),p(R=>({...R,liked_only:!R.liked_only}))},A=async()=>{try{r(!0);const R={...f,regions:f.regions.replace(/\s+/g,","),search:b},I=await nr.get("/api/galleries",{params:R});e(I.data)}catch(R){throw new Error(R)}finally{r(!1)}};return F.useEffect(()=>{A()},[f]),E.jsxs("div",{className:p3.layout,children:[E.jsx(hd,{title:"",placeholder:" ",isFav:f.liked_only,onEvent:A,onFav:N,onSearch:_,value:b}),E.jsx(pd,{filterList:OI,onSetFilter:p}),E.jsx(md,{num:t.length,label:""}),n&&E.jsx("div",{children:"   .."}),t.length===0&&E.jsx("div",{children:"  ."}),E.jsx("div",{className:p3.gridContainer,children:c.map(R=>E.jsx(bx,{galleryItem:R},R.id))}),E.jsx(Cu,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const PI="_layout_1r4jo_1",jI="_registerTitle_1r4jo_17",zI="_subParagraph_1r4jo_29",FI="_form_1r4jo_39",UI="_submitButton_1r4jo_57",Ef={layout:PI,registerTitle:jI,subParagraph:zI,form:FI,submitButton:UI},E1=t=>{const[e,n]=F.useState(t);return{data:e,handleChange:i=>{n(s=>({...s,[i.target.name]:i.target.value}))},setData:n}},HI="_input_vwmpv_13",VI={input:HI};function oa({type:t="text",name:e,placeholder:n,value:r,onChange:i}){return E.jsx("input",{className:VI.input,name:e,type:t,placeholder:n,value:r,onChange:i})}const GI="_layout_13jvg_1",$I="_radioLabel_13jvg_11",qI="_radioInput_13jvg_21",dg={layout:GI,radioLabel:$I,radioInput:qI};function m3({name:t,value:e,label:n,onChange:r}){return E.jsxs("div",{className:dg.layout,children:[E.jsx("label",{className:dg.radioLabel,children:n}),E.jsx("input",{className:dg.radioInput,type:"radio",name:t,value:e,onChange:r})]})}const WI="_layout_3526f_1",XI="_inputTitle_3526f_13",YI="_inputContainer_3526f_25",KI="_errorParagraph_3526f_35",kh={layout:WI,inputTitle:XI,inputContainer:YI,errorParagraph:KI};function Sf({children:t,title:e,isValid:n,errorText:r}){return E.jsxs("div",{className:kh.layout,children:[E.jsx("h3",{className:kh.inputTitle,children:e}),E.jsx("div",{className:kh.inputContainer,children:t}),!n&&E.jsx("div",{className:kh.errorParagraph,children:r})]})}function ZI(){const{data:t,handleChange:e}=E1({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),n=wn(),r=Mr(),i=m=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(m),s=m=>/^[A-Za-z0-9]{6,20}$/.test(m),c=m=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(m),f=()=>{const{login_id:m,login_pwd:b,user_email:v,user_name:_,admin_flag:N}=t;return s(m)&&i(b)&&c(v)&&_.trim()!==""&&N!==""},p=async m=>{m.preventDefault();try{await nr.post("/api/auth/register",t),alert(" "),n("/login",{state:{from:r.pathname}})}catch(b){throw new Error(b)}};return E.jsxs("div",{className:Ef.layout,children:[E.jsx("h1",{className:Ef.registerTitle,children:""}),E.jsx("p",{className:Ef.subParagraph,children:"  "}),E.jsxs("form",{className:Ef.form,onSubmit:p,children:[E.jsx(Sf,{title:"",isValid:t.login_id===""?!0:s(t.login_id),errorText:" 6~20     ",children:E.jsx(oa,{name:"login_id",placeholder:" (6~20 , )",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),E.jsx(Sf,{title:"",isValid:t.login_pwd===""?!0:i(t.login_pwd),errorText:"8~20 , ,     ",children:E.jsx(oa,{name:"login_pwd",placeholder:" (8~16 ++)",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),E.jsx(Sf,{title:"",children:E.jsx(oa,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),E.jsx(Sf,{title:"",isValid:t.user_email===""?!0:c(t.user_email),errorText:"   ",children:E.jsx(oa,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),E.jsxs(Sf,{title:" ?",children:[E.jsx(m3,{label:"",name:"admin_flag",value:1,onChange:e}),E.jsx(m3,{label:"",name:"admin_flag",value:0,onChange:e})]}),E.jsx("button",{className:Ef.submitButton,disabled:!f(),children:""})]})]})}const QI="_layout_1wihj_1",JI="_mainTab_1wihj_31",eD="_tabButton_1wihj_49",tD="_active_1wihj_85",Bh={layout:QI,mainTab:JI,tabButton:eD,active:tD},nD="_layout_1sugu_1",rD="_pageTitle_1sugu_15",iD="_editLink_1sugu_33",hg={layout:nD,pageTitle:rD,editLink:iD};function sD(){const[t,e]=F.useState({user_img:"",user_name:"",user_age:"",user_email:"",user_phone:""});return F.useEffect(()=>{(async()=>{try{const r=await In.get("api/users/me");e({user_img:r.data.user_img,user_name:r.data.user_name,user_age:r.data.user_age,user_email:r.data.user_email,user_phone:r.data.user_phone}),console.log(r.data)}catch(r){console.log("profile fetch err : ",r)}finally{setIsLoading(!1)}})()},[]),E.jsxs("div",{className:hg.layout,children:[E.jsx("h1",{className:hg.pageTitle,children:""}),E.jsxs(cn,{className:hg.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]})}const aD="_header_en5wv_1",oD="_countText_en5wv_9",lD="_count_en5wv_9",cD="_tabButtonContainer_en5wv_45",uD="_tabButton_en5wv_45",fD="_active_en5wv_77",dD="_cardListSection_en5wv_87",hD="_cardList_en5wv_87",pD="_emptyText_en5wv_107",ea={header:aD,countText:oD,count:lD,tabButtonContainer:cD,tabButton:uD,active:fD,cardListSection:dD,cardList:hD,emptyText:pD},pg=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}];function mD(){var s,c;const[t,e]=F.useState([]),[n,r]=F.useState("exhibition");F.useEffect(()=>{(async()=>{try{const p=await In.get("/api/users/me/likes"),{data:m}=p,b=m.like_exhibitions.map(A=>({...A,likeType:"exhibition"})),v=m.like_galleries.map(A=>({...A,likeType:"gallery"})),_=m.like_artists.map(A=>({...A,likeType:"artist"})),N=[...b,...v,..._];e(N)}catch(p){console.log("like fetch err : ",p),e([])}})()},[]);const i=t.filter(f=>f.likeType===n);return E.jsxs("div",{children:[E.jsxs("div",{className:ea.header,children:[E.jsxs("p",{className:ea.countText,children:["",E.jsx("span",{className:ea.count,children:i.length}),""," ",(s=pg.find(f=>f.key===n))==null?void 0:s.label," ."]}),E.jsx("div",{className:ea.tabButtonContainer,children:pg.map(f=>E.jsx("button",{className:`${ea.tabButton} ${n===f.key?ea.active:""}`,onClick:()=>r(f.key),children:f.label},f.key))})]}),E.jsx("section",{className:ea.cardListSection,children:E.jsx("div",{className:ea.cardList,children:i.length>0?n==="exhibition"?i.map(f=>E.jsx(qS,{exhibitionItem:f},`exhibition-${f.id}`)):n==="gallery"?i.map(f=>E.jsx(bx,{galleryItem:f},`gallery-${f.id}`)):n==="artist"?i.map(f=>E.jsx(WS,{artistItem:f},`artist-${f.id}`)):E.jsx("p",{className:ea.emptyText,children:"   ."}):E.jsxs("p",{className:ea.emptyText,children:[" ",(c=pg.find(f=>f.key===n))==null?void 0:c.label," ."]})})})]})}const gD="_cardContainer_9hwuh_1",xD="_imgContainer_9hwuh_33",yD="_image_9hwuh_41",bD="_artistImage_9hwuh_53",wD="_contents_9hwuh_69",vD="_title_9hwuh_83",CD="_info_9hwuh_95",ED="_statusContainer_9hwuh_109",SD="_statusCompleted_9hwuh_123",_D="_statusReserved_9hwuh_137",TD="_statusCanceled_9hwuh_153",AD="_cancel_9hwuh_173",ND="_action_9hwuh_205",OD="_btn_9hwuh_215",MD="_catalogRegisteredDate_9hwuh_247",on={cardContainer:gD,imgContainer:xD,image:yD,artistImage:bD,contents:wD,title:vD,info:CD,statusContainer:ED,statusCompleted:SD,statusReserved:_D,statusCanceled:TD,cancel:AD,action:ND,btn:OD,catalogRegisteredDate:MD};function XS({item:t,onQR:e,onCancel:n,onGoDetail:r,onReservation:i,type:s}){if(!t)return null;const c=()=>{const{likeType:m}=t;let b="",v="",_="",N=on.image;if(m==="exhibition")b=t.exhibition_poster,v=t.exhibition_title,_=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(m==="gallery")b=t.gallery_image,v=t.gallery_name,_=t.gallery_address;else if(m==="artist")b=t.artist_image,v=t.artist_name,_=`${t.artist_category} / ${t.artist_nation}`,N=on.artistImage;else return null;return E.jsxs("div",{onClick:r,className:on.cardContainer,children:[E.jsx("div",{className:on.imgContainer,children:E.jsx("img",{src:b,alt:v,className:`${on.image} ${N}`})}),E.jsxs("div",{className:on.contents,children:[E.jsx("h3",{className:on.title,children:v}),E.jsx("p",{className:on.info,dangerouslySetInnerHTML:{__html:_}})]})]})},f=()=>{var U,j;const{exhibition_poster:m,exhibition_title:b="  ",exhibition_location:v="  ",reservation_status:_="",id:N=" ",reservation_datetime:A}=t,R={reserved:{label:"",className:on.statusReserved},used:{label:"",className:on.statusCompleted},canceled:{label:"",className:on.statusCanceled}},I=((U=R[_])==null?void 0:U.label)||"  ",k=((j=R[_])==null?void 0:j.className)||"";return E.jsxs("div",{className:on.cardContainer,onClick:i,children:[E.jsx("div",{className:on.imgContainer,children:E.jsx("img",{src:m,alt:b,className:on.image})}),E.jsxs("div",{className:on.contents,children:[E.jsx("h3",{className:on.title,children:b}),E.jsxs("p",{className:on.info,children:[v,E.jsx("br",{}),A.split(" ")[0],E.jsx("br",{}),": ",N]}),E.jsxs("div",{className:on.statusContainer,children:[E.jsx("span",{className:k,children:I}),E.jsxs("div",{className:on.action,children:[E.jsxs("button",{className:on.btn,onClick:W=>{W.stopPropagation(),r()},children:[" ",""]}),_==="reserved"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{className:on.btn,onClick:W=>{W.stopPropagation(),e(t.exhibition_id)},children:""}),E.jsx("button",{className:on.cancel,onClick:W=>{W.stopPropagation(),n()},children:""})]})]})]})]})]})},p=()=>{const{bookDetail:m,book_poster:b,create_dtm:v=""}=t,{book:{book_title:_="  "}={},exhibition:{exhibition_location:N="   "}={},gallery:{gallery_name:A="  "}={},exhibition:{exhibition_start_date:R=""}={},exhibition:{exhibition_end_date:I=""}={}}=(m==null?void 0:m.book)||{},k=R&&I?`${R} ~ ${I}`:"",U=v?new Date(v).toISOString().slice(0,10):"";return E.jsxs("div",{onClick:r,className:on.cardContainer,children:[E.jsx("div",{className:on.imgContainer,children:E.jsx("img",{src:b,alt:_,className:on.image})}),E.jsxs("div",{className:on.contents,children:[E.jsx("h3",{className:on.title,children:_}),E.jsxs("p",{className:on.info,children:[A," / ",N,E.jsx("br",{}),k]}),E.jsxs("p",{className:on.catalogRegisteredDate,children:[": ",U]})]})]})};switch(s){case"like":return c();case"reservation":return f();case"catalog":return p();default:return null}}const RD="_header_1tuse_1",ID="_countText_1tuse_15",DD="_count_1tuse_15",kD="_registerCatalogBtn_1tuse_41",BD="_cardList_1tuse_71",LD="_emptyText_1tuse_83",Nl={header:RD,countText:ID,count:DD,registerCatalogBtn:kD,cardList:BD,emptyText:LD};function PD(){const[t,e]=F.useState([]),n=wn(),r=()=>{n("/scan")},i=c=>{n(`/catalog/${c}`)},s=()=>{console.log("QR  or ")};return F.useEffect(()=>{async function c(){try{const p=(await In.get("/api/users/me/purchases")).data,m=await Promise.all(p.map(async b=>{try{const v=await In.get(`/api/books/${b.book_id}`);return{...b,bookDetail:v.data}}catch(v){return console.error(`Book ${b.book_id}    : `,v),{...b,bookDetail:null}}}));console.log(m),e(m)}catch(f){console.error("   : ",f),e([])}}c()},[]),E.jsxs("div",{className:Nl.myCatalog,children:[E.jsxs("div",{className:Nl.header,children:[E.jsx("div",{children:E.jsxs("p",{className:Nl.countText,children:["  ",E.jsx("span",{className:Nl.count,children:t.length})]})}),E.jsx("button",{className:Nl.registerCatalogBtn,onClick:r,children:"  "})]}),E.jsx("section",{children:E.jsx("div",{className:Nl.cardList,children:t.length>0?t.map(c=>E.jsx(XS,{item:c,onGoDetail:()=>i(c.id),onQR:s,onCancel:null,type:"catalog"},c.id)):E.jsxs("p",{className:Nl.emptyText,children:["   .",E.jsx("br",{})," QR "]})})})]})}const jD="_cardList_12369_1",zD="_header_12369_13",FD="_countText_12369_27",UD="_count_12369_27",HD="_emptyText_12369_53",$c={cardList:jD,header:zD,countText:FD,count:UD,emptyText:HD},VD=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],GD="_modalOverlay_1kfbz_1",$D="_modalContainer_1kfbz_27",qD="_modalHeader_1kfbz_53",WD="_closeButton_1kfbz_71",XD="_imageContainer_1kfbz_95",YD="_checkIconContainer_1kfbz_127",KD="_confirmText_1kfbz_161",ZD="_visitDate_1kfbz_177",QD="_infoButton_1kfbz_191",ja={modalOverlay:GD,modalContainer:$D,modalHeader:qD,closeButton:WD,imageContainer:XD,checkIconContainer:YD,confirmText:KD,visitDate:ZD,infoButton:QD},JD=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:r,visitDate:i,onViewExhibition:s})=>t?E.jsx("div",{className:ja.modalOverlay,children:E.jsxs("div",{className:ja.modalContainer,children:[E.jsxs("div",{className:ja.modalHeader,children:[E.jsx("button",{className:ja.closeButton,onClick:e,children:E.jsx(GS,{})}),E.jsx("div",{children:n})]}),E.jsx("div",{className:ja.imageContainer,children:E.jsx("img",{src:r,alt:n})}),E.jsx("div",{className:ja.checkIconContainer,children:E.jsx(gx,{})}),E.jsx("div",{className:ja.confirmText,children:"  "}),E.jsxs("div",{className:ja.visitDate,children:[" : ",i]}),E.jsx("button",{className:ja.infoButton,onClick:s,children:"  "})]})}):null;function ek(){const[t,e]=F.useState([]),[n,r]=F.useState({dateSort:"latest",statusFilter:"all"}),i=wn(),[s,c]=F.useState(!1),[f,p]=F.useState({id:"",title:"",imageUrl:""});F.useEffect(()=>{if(localStorage.getItem("showAttendanceModal")==="true"){const R=localStorage.getItem("exhibitionInfo");if(R){try{const I=JSON.parse(R);p(I),c(!0)}catch(I){console.error("   :",I),p({id:"",title:" ",imageUrl:"  URL"}),c(!1)}localStorage.removeItem("showAttendanceModal")}else c(!1)}},[]),F.useEffect(()=>{(async()=>{try{const R=await In.get("/api/users/me/exhibitions"),{data:I}=R;e(I)}catch(R){console.error("  :",R)}})()},[]);const m=F.useMemo(()=>{let A=t;return n.statusFilter!=="all"&&(A=A.filter(R=>R.reservation_status===n.statusFilter)),A.sort((R,I)=>{const k=new Date(R.reservation_datetime),U=new Date(I.reservation_datetime);return n.dateSort==="latest"?U-k:k-U}),A},[t,n]);console.log(m);const b=()=>{c(!1),localStorage.removeItem("exhibitionInfo")},v=async A=>{if(window.confirm(" ?"))try{await instance.delete(`/api/reservations/${A}`),e(I=>I.map(k=>k.id===A?{...k,reservation_status:"canceled"}:k))}catch(I){console.error("  :",I)}},_=A=>{i(`/exhibitions/${A}`),localStorage.removeItem("exhibitionInfo")},N=A=>{const R={id:A.exhibition_id,title:A.exhibition_title,imageUrl:A.exhibition_poster};localStorage.setItem("exhibitionInfo",JSON.stringify(R)),localStorage.setItem("showAttendanceModal","true"),console.log("   : "),i(`/scan?itemId=${A.id}`)};return E.jsxs("div",{children:[E.jsxs("div",{className:$c.header,children:[E.jsxs("p",{className:$c.countText,children:[" "," ",E.jsx("span",{className:$c.count,children:m.length})]}),E.jsx("div",{className:$c.filterSection,children:E.jsx(pd,{filterList:VD,onSetFilter:r,shape:"rect"})})]}),E.jsx("section",{children:E.jsx("div",{className:$c.cardList,children:m.length>0?m.map(A=>E.jsx(XS,{item:A,status:A.reservation_status==="reserved",onReservation:()=>{i(`/reservationconfirm/${A.id}`)},onGoDetail:()=>_(A.exhibition_id),onCancel:()=>v(A.id),onQR:()=>N(A),type:"reservation"},A.id)):E.jsx("p",{className:$c.emptyText,children:"  ."})})}),s&&E.jsx(JD,{isOpen:s,onClose:b,exhibitionTitle:f.title,imageUrl:f.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>_(f.id)})]})}function tk(){const[t,e]=F.useState(""),n=["","MY","MY"];F.useEffect(()=>{const i=localStorage.getItem("showAttendanceModal"),s=localStorage.getItem("fromReservationModal");(i==="true"||s==="true")&&(e("MY"),localStorage.removeItem("fromReservationModal"))},[]);const r=()=>{switch(t){case"":return E.jsx(mD,{});case"MY":return E.jsx(ek,{});case"MY":return E.jsx(PD,{});default:return null}};return E.jsxs("div",{className:Bh.layout,children:[E.jsx(sD,{}),E.jsx("nav",{className:Bh.mainTab,children:n.map(i=>E.jsx("button",{className:`${Bh.tabButton} ${t===i?Bh.active:""}`,onClick:()=>e(i),children:i},i))}),r()]})}const nk="_container_14wg3_1",rk="_pageTitle_14wg3_17",ik="_profileCard_14wg3_29",sk="_infoRow_14wg3_173",ak="_infoLabel_14wg3_193",ok="_infoValue_14wg3_205",lk="_input_14wg3_215",ck="_changeButton_14wg3_231",uk="_profileStatsCard_14wg3_259",fk="_sectionTitle_14wg3_277",dk="_statsRow_14wg3_289",hk="_statsItem_14wg3_305",pk="_profileDetailsCard_14wg3_313",mk="_detailsRow_14wg3_329",gk="_detailsLabel_14wg3_351",xk="_detailsValue_14wg3_359",yk="_changeButtonSmall_14wg3_369",bk="_buttonField_14wg3_397",wk="_backBtn_14wg3_409",Ft={container:nk,pageTitle:rk,profileCard:ik,infoRow:sk,infoLabel:ak,infoValue:ok,input:lk,changeButton:ck,profileStatsCard:uk,sectionTitle:fk,statsRow:dk,statsItem:hk,profileDetailsCard:pk,detailsRow:mk,detailsLabel:gk,detailsValue:xk,changeButtonSmall:yk,buttonField:bk,backBtn:wk},vk="_modalOverlay_iiyfy_1",Ck="_modalContainer_iiyfy_27",Ek="_modalHeader_iiyfy_51",Sk="_closeButton_iiyfy_67",_k="_modalTitle_iiyfy_87",Tk="_modalContent_iiyfy_105",Ak="_passwordSection_iiyfy_121",Nk="_sectionTitle_iiyfy_129",Ok="_sectionDescription_iiyfy_141",Mk="_form_iiyfy_155",Rk="_formGroup_iiyfy_167",Ik="_input_iiyfy_175",Dk="_submitButton_iiyfy_209",si={modalOverlay:vk,modalContainer:Ck,modalHeader:Ek,closeButton:Sk,modalTitle:_k,modalContent:Tk,passwordSection:Ak,sectionTitle:Nk,sectionDescription:Ok,form:Mk,formGroup:Rk,input:Ik,submitButton:Dk},kk=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:r})=>{const[i,s]=F.useState(""),[c,f]=F.useState(""),p=m=>{m.preventDefault()};return t?E.jsx("div",{className:si.modalOverlay,children:E.jsxs("div",{className:si.modalContainer,children:[E.jsxs("div",{className:si.modalHeader,children:[E.jsx("button",{className:si.closeButton,onClick:e,children:E.jsx(GS,{})}),E.jsx("div",{className:si.modalTitle,children:" "})]}),E.jsx("div",{className:si.modalContent,children:E.jsxs("div",{className:si.passwordSection,children:[E.jsx("h3",{className:si.sectionTitle,children:" "}),E.jsxs("p",{className:si.sectionDescription,children:["    ",E.jsx("br",{}),"  ."]}),E.jsxs("form",{className:si.form,onSubmit:p,children:[E.jsx("div",{className:si.formGroup,children:E.jsx("input",{type:"password",placeholder:" ",className:si.input,value:i,onChange:m=>s(m.target.value),required:!0})}),E.jsx("div",{className:si.formGroup,children:E.jsx("input",{type:"password",placeholder:" ",className:si.input,value:c,onChange:m=>f(m.target.value),required:!0})}),E.jsx("button",{className:si.submitButton,type:"submit",children:" "})]})]})})]})}):null},Bk=()=>{const[t,e]=F.useState({user_name:"",login_id:"",user_email:"",user_img:""}),[n,r]=F.useState(!1),[i,s]=F.useState(!1),[c,f]=F.useState(!1),[p,m]=F.useState(""),[b,v]=F.useState(""),_=wn();console.log(t),F.useEffect(()=>{(async()=>{try{const V=await nr.get("/api/users/me");e(V.data),console.log(V.data)}catch(V){console.error("    .",V)}})()},[]);const N=()=>{r(!0)},A=()=>{r(!1)},R=()=>{s(!0),m(t.user_name)},I=()=>{f(!0),v(t.user_email)},k=X=>{m(X.target.value)},U=X=>{v(X.target.value)},j=async()=>{try{await nr.put("/api/users/me",{...t,user_name:p}),e({...t,user_name:p}),s(!1)}catch(X){console.error("  .",X)}},W=async()=>{try{await nr.put("/api/users/me",{...t,user_email:b}),e({...t,user_email:b}),f(!1)}catch(X){console.error("  .",X)}};return E.jsxs("div",{className:Ft.container,children:[E.jsx("h2",{className:Ft.pageTitle,children:""}),E.jsx("div",{className:Ft.profileCard,children:E.jsxs("div",{className:Ft.profileInfoDetails,children:[E.jsxs("div",{className:Ft.infoRow,children:[E.jsx("span",{className:Ft.infoLabel,children:""}),E.jsx("span",{className:Ft.infoValue,children:t.login_id||""}),E.jsx("button",{className:Ft.changeButtonSmall,onClick:N,children:" "})]}),E.jsxs("div",{className:Ft.infoRow,children:[E.jsx("span",{className:Ft.infoLabel,children:""}),i?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",className:Ft.input,value:p,onChange:k}),E.jsx("button",{className:Ft.changeButton,onClick:j,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:Ft.infoValue,children:t.user_name||""}),E.jsx("button",{className:Ft.changeButton,onClick:R,children:""})]})]}),E.jsxs("div",{className:Ft.infoRow,children:[E.jsx("span",{className:Ft.infoLabel,children:""}),c?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"email",className:Ft.input,value:b,onChange:U}),E.jsx("button",{className:Ft.changeButton,onClick:W,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:Ft.infoValue,children:t.user_email||"email@email.com"}),E.jsx("button",{className:Ft.changeButton,onClick:I,children:""})]})]})]})}),E.jsxs("div",{className:Ft.profileStatsCard,children:[E.jsx("h3",{className:Ft.sectionTitle,children:""}),E.jsx("div",{className:Ft.statsRow,children:E.jsx("span",{className:Ft.statsItem,children:"1:1 "})}),E.jsx("div",{className:Ft.statsRow,children:E.jsx("span",{className:Ft.statsItem,children:" "})})]}),E.jsxs("div",{className:Ft.profileDetailsCard,children:[E.jsx("h3",{className:Ft.sectionTitle,children:""}),E.jsx("div",{className:Ft.detailsRow,children:E.jsx("span",{className:Ft.detailsLabel,children:""})}),E.jsxs("div",{className:Ft.detailsRow,children:[E.jsx("span",{className:Ft.detailsLabel,children:" "}),E.jsx("span",{className:Ft.detailsValue,children:"1.10.24"})]}),E.jsx("div",{className:Ft.detailsRow,children:E.jsx("span",{className:Ft.detailsLabel,children:" "})})]}),E.jsx("div",{className:Ft.buttonField,children:E.jsx("button",{className:Ft.backBtn,onClick:()=>_("/mypage"),children:" "})}),E.jsx(kk,{isOpen:n,onClose:A,userInfo:t})]})},Lk="_layout_11t2z_1",Pk="_summaryTitle_11t2z_15",jk="_queryStringSpan_11t2z_25",zk="_resultSection_11t2z_33",Lh={layout:Lk,summaryTitle:Pk,queryStringSpan:jk,resultSection:zk},Ph=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},Fk="_layout_uizu7_1",Uk="_titleContainer_uizu7_13",Hk="_categoryTitle_uizu7_25",Vk="_extraLink_uizu7_33",Gk="_resultList_uizu7_45",$k="_emptyBox_uizu7_63",qc={layout:Fk,titleContainer:Uk,categoryTitle:Hk,extraLink:Vk,resultList:Gk,emptyBox:$k},mg=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},qk="_layout_i3rj4_1",Wk="_itemImage_i3rj4_13",Xk="_itemSpan_i3rj4_27",gg={layout:qk,itemImage:Wk,itemSpan:Xk};function Yk({link:t,thumbnail:e,title:n}){return E.jsxs(cn,{className:gg.layout,to:t,children:[E.jsx("img",{className:gg.itemImage,src:e}),E.jsx("span",{className:gg.itemSpan,children:n})]})}function jh({category:t,results:e}){return E.jsxs("section",{className:qc.layout,children:[E.jsxs("div",{className:qc.titleContainer,children:[E.jsx("h2",{className:qc.categoryTitle,children:mg(t).label}),(e==null?void 0:e.length)===10&&E.jsx(cn,{className:qc.extraLink,to:`/${mg(t).link}`,children:""})]}),E.jsx("hr",{}),E.jsx("div",{className:qc.resultList,children:!e||e.length===0?E.jsx("div",{className:qc.emptyBox,children:"  "}):e.map(({id:n,thumbnail:r,title:i})=>E.jsx(Yk,{link:`/${mg(t).link}/${n}`,thumbnail:r,title:i},n))})]})}function Kk(){const t=Mr(),n=new URLSearchParams(t.search).get("query"),[r,i]=F.useState({});console.log(n);const s=async()=>{try{const c=await nr.get("/api/search",{params:{search:n}});i(c.data)}catch(c){throw new Error(c)}};return F.useEffect(()=>{s()},[n]),E.jsxs("div",{className:Lh.layout,children:[E.jsxs("h1",{className:Lh.summaryTitle,children:[E.jsx("span",{className:Lh.queryStringSpan,children:`'${n}'`}),"   "]}),E.jsxs("section",{className:Lh.resultSection,children:[E.jsx(jh,{category:"exhibition",results:Ph(r.exhibitions,"exhibition")}),E.jsx(jh,{category:"gallery",results:Ph(r.galleries,"gallery")}),E.jsx(jh,{category:"artist",results:Ph(r.artists,"artist")}),E.jsx(jh,{category:"notice",results:Ph(r.announcements,"notice")})]})]})}const Zk="_layout_1jxus_1",Qk="_header_1jxus_11",Jk="_backBtn_1jxus_37",eB="_orderSection_1jxus_47",tB="_userInfo_1jxus_61",nB="_productBox_1jxus_71",rB="_productImage_1jxus_81",iB="_productInfo_1jxus_95",sB="_paymentInfo_1jxus_109",aB="_discountInfo_1jxus_111",oB="_paymentMethod_1jxus_113",lB="_total_1jxus_129",cB="_kakao_1jxus_169",uB="_naver_1jxus_177",fB="_basic_1jxus_183",dB="_paymentButton_1jxus_191",ai={layout:Zk,header:Qk,backBtn:Jk,orderSection:eB,userInfo:tB,productBox:nB,productImage:rB,productInfo:iB,paymentInfo:sB,discountInfo:aB,paymentMethod:oB,total:lB,kakao:cB,naver:uB,basic:fB,paymentButton:dB};function hB(){const{reservationId:t}=Is(),{state:e}=Mr(),n=wn(),[r,i]=F.useState(""),{exhibition:s={},date:c="",time:f="",people:{adults:p=0,teens:m=0,children:b=0}={},total:v=0,email:_="test@test.com",phone:N="010-1234-5678",name:A=""}=e||{},R=()=>n(`/reservation/${s.id}`),I=()=>{if(!r){alert("  .");return}alert(`${r}  .`);const V={...e,payment:r};n(`/reservation/complete/${t}`,{state:V})},k=()=>E.jsxs("div",{className:ai.userInfo,children:[E.jsx("h3",{children:" "}),E.jsxs("p",{children:[A," "]}),E.jsx("p",{children:_}),E.jsx("p",{children:N})]}),U=()=>E.jsxs("div",{className:ai.productBox,children:[E.jsx("img",{src:s.imageUrl,alt:" ",className:ai.productImage}),E.jsxs("div",{className:ai.productInfo,children:[E.jsx("h3",{children:s.title}),E.jsxs("p",{children:["-  : ",c]}),E.jsxs("p",{children:["-   : ",f]}),E.jsxs("p",{children:["-  :  ",p,",  ",m,",  ",b]}),E.jsxs("p",{children:["-  : ",v.toLocaleString(),""]})]})]}),j=()=>E.jsxs("div",{className:ai.discountInfo,children:[E.jsx("h3",{children:"   "}),E.jsx("p",{children:"1,000point "}),E.jsx("p",{children:" : 0"})]}),W=()=>E.jsxs("div",{className:ai.paymentInfo,children:[E.jsx("h3",{children:" "}),E.jsxs("p",{children:[" : ",v.toLocaleString(),""]}),E.jsx("p",{children:" : -1,000"}),E.jsxs("p",{className:ai.total,children:["  : ",(v-1e3).toLocaleString(),""]})]}),X=()=>{const V={:"kakao",:"naver"," ":"basic"};return E.jsxs("div",{className:ai.paymentMethod,children:[E.jsx("h3",{children:" "}),Object.entries(V).map(([Y,se])=>E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"payment",value:Y,onChange:K=>i(K.target.value)}),E.jsxs("span",{className:ai[se],children:[" ",Y]})]},Y))]})};return E.jsxs("div",{className:ai.layout,children:[E.jsxs("header",{className:ai.header,children:[E.jsx("button",{className:ai.backBtn,onClick:R,children:""}),E.jsx("span",{className:ai.title,children:"   "})]}),E.jsxs("div",{className:ai.orderSection,children:[k(),U()]}),j(),W(),X(),E.jsx("button",{className:ai.paymentButton,onClick:I,children:""})]})}const pB="_layout_1czrs_1",mB="_newsListSection_1czrs_61",g3={layout:pB,newsListSection:mB},gB=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],xB="_card_iircg_1",yB="_header_iircg_31",bB="_badge_iircg_45",wB="_title_iircg_99",vB="_info_iircg_121",CB="_period_iircg_131",EB="_organizer_iircg_133",za={card:xB,header:yB,badge:bB,:"__iircg_81",:"__iircg_91",title:wB,info:vB,period:CB,organizer:EB};function SB({newsItem:t}){const e=wn(),{id:n,announcement_title:r,announcement_start_datetime:i,announcement_end_datetime:s,announcement_organizer:c,announcement_category:f,announcement_status:p}=t,m=_=>_==null?void 0:_.split(" ")[0].replace(/-/g,"."),b=_=>{switch(_){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},v=()=>{e(`/notices/${n}`)};return E.jsxs("div",{className:za.card,onClick:v,role:"button",tabIndex:0,children:[E.jsxs("div",{className:za.header,children:[E.jsx("span",{className:`${za.badge}`,children:f}),E.jsx("span",{className:`${za.badge} ${za[b(p)]}`,children:b(p)})]}),E.jsx("h3",{className:za.title,children:r}),E.jsxs("div",{className:za.info,children:[E.jsx("p",{className:za.period,children:`${m(i)} ~ ${m(s)}`}),E.jsx("p",{className:za.organizer,children:c})]})]})}function _B(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:c}=Eu(10,t),[f,p]=F.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[m,b]=F.useState(""),v=N=>{b(N.target.value)},_=async()=>{try{r(!0);const N={...f,search:m},A=await nr.get("/api/announcements",{params:N});e(A.data)}catch(N){console.error("   :",N)}finally{r(!1)}};return F.useEffect(()=>{_()},[f]),E.jsxs("div",{className:g3.layout,children:[E.jsx(hd,{title:"",placeholder:" ",onEvent:_,onSearch:v,value:m,isNews:!0}),E.jsx(pd,{filterList:gB,onSetFilter:p}),E.jsx(md,{num:t.length,label:""}),n&&E.jsx("div",{children:"   .."}),t.length===0&&E.jsx("div",{children:"  ."}),E.jsx("section",{className:g3.newsListSection,children:c.map(N=>E.jsx(SB,{newsItem:N},N.id))}),E.jsx(Cu,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const TB="_noticeLayout_p2ihj_1",AB="_categorySpan_p2ihj_25",NB="_newsTitle_p2ihj_33",OB="_newsImage_p2ihj_41",MB="_contentsContainer_p2ihj_55",RB="_divider_p2ihj_73",IB="_contentParagraph_p2ihj_87",DB="_noticeText_p2ihj_99",kB="_backButton_p2ihj_115",ta={noticeLayout:TB,categorySpan:AB,newsTitle:NB,newsImage:OB,contentsContainer:MB,divider:RB,contentParagraph:IB,noticeText:DB,backButton:kB},BB="_info_pjhlh_1",LB="_label_pjhlh_41",Wc={info:BB,label:LB};function PB({startDate:t,host:e,contact:n,apply:r,attachment:i,site:s}){return E.jsxs("div",{className:Wc.info,children:[E.jsxs("p",{children:[E.jsx("strong",{className:Wc.label,children:" "})," ",t]}),E.jsxs("p",{children:[E.jsx("strong",{className:Wc.label,children:" "})," ",e]}),E.jsxs("p",{children:[E.jsx("strong",{className:Wc.label,children:" "})," ",n]}),E.jsxs("p",{children:[E.jsx("strong",{className:Wc.label,children:" "})," ",r]}),s&&E.jsxs("p",{children:[E.jsx("strong",{className:Wc.label,children:" "})," ",E.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),i&&E.jsxs("p",{children:[E.jsx("strong",{children:":"})," ",E.jsx("a",{href:i.url,target:"_blank",rel:"noreferrer",children:i.name})]})]})}function jB(){const{noticeId:t}=Is(),[e,n]=F.useState({}),r=async()=>{try{const U=await nr.get(`/api/announcements/${t}`);n(U.data)}catch(U){throw new Error(U)}};if(F.useEffect(()=>{r()},[]),!e)return E.jsx("p",{children:"   ."});const{announcement_title:i,announcement_poster:s,announcement_start_datetime:c,announcement_end_datetime:f,announcement_organizer:p,announcement_contact:m,announcement_support_detail:b,announcement_attachment_url:v,announcement_site_url:_,announcement_content:N,announcement_category:A,created_at:R,views:I}=e,k=(U,j)=>{const W=X=>X==null?void 0:X.split(" ")[0];return`${W(U)} ~ ${W(j)}`};return E.jsxs("section",{className:ta.noticeLayout,children:[E.jsx("span",{className:ta.categorySpan,children:A}),E.jsx("h1",{className:ta.newsTitle,children:i}),E.jsx("hr",{className:ta.divider}),E.jsxs("div",{className:ta.contentsContainer,children:[E.jsx("img",{className:ta.newsImage,src:s,alt:`${i}  `}),E.jsx(PB,{startDate:k(c,f),host:p,contact:m,apply:b,attachment:v,site:_,createdAt:R,views:I}),E.jsx("p",{className:ta.contentParagraph,children:N}),E.jsx("hr",{className:ta.divider}),E.jsx("p",{className:ta.noticeText,children:"*         ."}),E.jsx(cn,{className:ta.backButton,to:"/notices",children:" "})]})]})}const zB="_layout_18xb9_1",FB="_mainContent_18xb9_17",UB="_title_18xb9_45",HB="_infoImage_18xb9_65",VB="_textContainer_18xb9_77",GB="_textBox_18xb9_87",Ol={layout:zB,mainContent:FB,title:UB,infoImage:HB,textContainer:VB,textBox:GB},$B="_sectionContainer_yp0fd_1",qB="_controlsContainer_yp0fd_13",WB="_speedContainer_yp0fd_33",XB="_speedButton_yp0fd_67",YB="_clickedSpeedButton_yp0fd_93",KB="_buttonField_yp0fd_103",ZB="_optionSpan_yp0fd_113",QB="_optionButton_yp0fd_123",Ss={sectionContainer:$B,controlsContainer:qB,speedContainer:WB,speedButton:XB,clickedSpeedButton:YB,buttonField:KB,optionSpan:ZB,optionButton:QB},JB="_audioPlayerWrapper_13cxf_1",eL="_audioButton_13cxf_17",xg={audioPlayerWrapper:JB,audioButton:eL};function tL({script:t,playbackRate:e}){const[n,r]=F.useState(!1),[i,s]=F.useState(!1),[c,f]=F.useState(e),p=F.useRef(null);F.useEffect(()=>{let _=!0;return s(!1),(async()=>{console.log("Fetching audio for script:",`${t.substr(0,50)}...`);const A=await m();if(A&&_){console.log("Audio content fetched successfully");const R=new Audio(`data:audio/mp3;base64,${A}`);R.playbackRate=e,R.onended=()=>r(!1),R.playbackRate=c,p.current=R,s(!0)}})(),()=>{_=!1,p.current&&(p.current.pause(),p.current.currentTime=0)}},[t]),F.useEffect(()=>{f(e),p.current&&(p.current.playbackRate=e)},[e]);const m=async()=>{const N=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:t},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:A}=N;if(A)return A},b=()=>{i&&(n?(p.current.pause(),r(!1)):(p.current.play(),r(!0)))},v=()=>{p.current&&(p.current.pause(),p.current.currentTime=0,r(!1))};return E.jsxs("div",{className:xg.audioPlayerWrapper,children:[E.jsx("button",{className:xg.audioButton,onClick:b,disabled:!i,children:i?n?E.jsx(y9,{}):E.jsx(b9,{}):" ..."}),E.jsx("button",{className:xg.audioButton,onClick:v,disabled:!i,"aria-label":"",children:i?E.jsx(v9,{}):""})]})}const nL=()=>{const[t,e]=F.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(r=>!r)}}};function rL({script:t}){const[e,n]=F.useState(1),{isOpen:r,handleOpenModal:i}=nL(),s=[.5,1,1.25,1.5,2];return console.log(r),E.jsxs("section",{className:Ss.sectionContainer,children:[E.jsx(tL,{script:t,playbackRate:e}),E.jsxs("div",{className:Ss.controlsContainer,children:[r&&E.jsx("div",{className:Ss.speedContainer,children:s.map(c=>E.jsxs("button",{className:`${Ss.speedButton} ${c===e&&Ss.clickedSpeedButton}`,onClick:()=>{n(c),i()},children:[c,"x"]},c))}),E.jsxs("div",{className:Ss.buttonField,children:[E.jsx("span",{className:Ss.optionSpan,children:""}),E.jsxs("button",{className:Ss.optionButton,onClick:i,children:[e,"x"]})]}),E.jsxs("div",{className:Ss.buttonField,children:[E.jsx("span",{className:Ss.optionSpan,children:" "}),E.jsx("button",{className:Ss.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const iL=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,r)=>t.slice(r*e,(r+1)*e));function sL(){const[t,e]=F.useState([]),{art_image:n,art_title:r,art_description:i,art_docent:s,artist_name:c}=t,{artId:f}=Is();return iL(s),F.useEffect(()=>{(async()=>{try{const m=await nr.get(`/api/arts/${f}`);e(m.data)}catch(m){console.error(m),alert("    .")}})()},[]),E.jsxs("main",{className:Ol.layout,children:[E.jsx("h2",{className:Ol.title,children:r}),E.jsxs("section",{className:Ol.mainContent,children:[E.jsx("img",{src:n,alt:`${r} `,className:Ol.infoImage}),E.jsx("div",{className:Ol.textContainer,children:E.jsxs("div",{className:Ol.textBox,children:[E.jsx("strong",{children:""}),E.jsx("span",{className:Ol.text,children:c})]})}),E.jsx(rL,{script:s})]})]})}const aL="_layout_gz7kg_1",oL="_gridContainer_gz7kg_17",x3={layout:aL,gridContainer:oL},lL="_layout_1njda_1",cL="_artworkImage_1njda_27",uL="_artworkTitle_1njda_43",fL="_subParagraph_1njda_63",zh={layout:lL,artworkImage:cL,artworkTitle:uL,subParagraph:fL};function dL({artworkItems:t}){const{id:e,art_image:n,art_title:r,art_description:i}=t;return E.jsxs(cn,{className:zh.layout,to:`/artworks/${e}`,children:[E.jsx("img",{className:zh.artworkImage,src:n,alt:" "}),E.jsx("h3",{className:zh.artworkTitle,children:r}),E.jsx("p",{className:zh.subParagraph,children:i})]})}function hL(){const[t,e]=F.useState([]),[n,r]=F.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:c}=Eu(10,t),[f,p]=F.useState({type:""});return F.useEffect(()=>{(async()=>{try{r(!0);const b=await nr.get("/api/arts");e(b.data)}catch(b){throw new Error(b)}finally{r(!1)}})()},[f]),E.jsxs("div",{className:x3.layout,children:[E.jsx(hd,{title:"",isArtworks:!0}),E.jsx(md,{num:t.length,label:""}),n&&E.jsx("div",{children:"   "}),E.jsx("div",{className:x3.gridContainer,children:c.map(m=>E.jsx(dL,{artworkItems:m},m.id))}),E.jsx(Cu,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const pL="_catalogLayout_1rr2f_1",mL="_bodyContainer_1rr2f_19",gL="_overlay_1rr2f_33",yg={catalogLayout:pL,bodyContainer:mL,overlay:gL},xL="_titleBar_1jvc1_1",yL="_leftButtons_1jvc1_23",bL="_rightButtons_1jvc1_25",wL="_title_1jvc1_1",vL="_button_1jvc1_45",Xc={titleBar:xL,leftButtons:yL,rightButtons:bL,title:wL,button:vL};function CL({onToggleIndex:t}){const e=wn(),n=()=>{e("/mypage")};return E.jsxs("div",{className:Xc.titleBar,children:[E.jsx("div",{className:Xc.leftButtons,children:E.jsx("button",{className:Xc.button,onClick:t,children:" "})}),E.jsx("h1",{className:Xc.title,children:""}),E.jsx("div",{className:Xc.rightButtons,children:E.jsx("button",{className:Xc.button,onClick:n,children:" "})})]})}const EL="_indexContainer_zrf7c_1",SL="_menuList_zrf7c_37",_L="_active_zrf7c_71",TL="_closeButton_zrf7c_81",Fh={indexContainer:EL,menuList:SL,active:_L,closeButton:TL},y3="/assets/mockCatalog-DwV1yhn-.png",YS=[{id:"cover",title:"",image:y3,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:y3,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function AL({onSelect:t,currentIndex:e,sectionStarts:n,onClose:r}){const i=F.useRef();return F.useEffect(()=>{const s=f=>{i.current&&!i.current.contains(f.target)&&r()},c=f=>{f.key==="Escape"&&r()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",c),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",c)}},[r]),E.jsxs("aside",{className:Fh.indexContainer,ref:i,children:[E.jsx("button",{className:Fh.closeButton,onClick:r,children:""}),E.jsx("ul",{className:Fh.menuList,children:YS.map((s,c)=>E.jsx("li",{className:c===e?Fh.active:"",onClick:()=>t(n[c]),tabIndex:0,children:s.title},s.id))})]})}const NL="_container_c1nh1_1",OL="_page_c1nh1_23",ML="_image_c1nh1_41",RL="_title_c1nh1_55",IL="_meta_c1nh1_67",DL="_script_c1nh1_79",kL="_arrowLeft_c1nh1_89",BL="_arrowRight_c1nh1_91",LL="_pageCount_c1nh1_155",Fa={container:NL,page:OL,image:ML,title:RL,meta:IL,script:DL,arrowLeft:kL,arrowRight:BL,pageCount:LL};function PL({data:t,pageIndex:e,totalPages:n,onPrev:r,onNext:i,isFirst:s,isLast:c}){return E.jsxs("div",{className:Fa.container,children:[!s&&E.jsx("button",{onClick:r,className:Fa.arrowLeft,children:""}),!c&&E.jsx("button",{onClick:i,className:Fa.arrowRight,children:""}),E.jsxs("div",{className:Fa.page,children:[t.image&&E.jsx("img",{src:t.image,alt:t.title,className:Fa.image}),E.jsx("h2",{className:Fa.title,children:t.title}),E.jsxs("p",{className:Fa.meta,children:[t.artist,"  ",t.info]}),E.jsx("p",{className:Fa.script,children:t.script}),E.jsxs("p",{className:Fa.pageCount,children:[" ",e+1," / ",n]})]})]})}const jL=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(r,i)=>n.slice(i*e,(i+1)*e))};function zL(){const[t,e]=F.useState(!1),[n,r]=F.useState(0),{allPages:i,sectionStarts:s}=F.useMemo(()=>{const m=[],b=[];return YS.forEach(v=>{const _=jL(v.script);b.push(m.length),_.forEach(N=>{m.push({...v,script:N})})}),{allPages:m,sectionStarts:b}},[]),c=()=>{r(m=>Math.max(0,m-1))},f=()=>{r(m=>Math.min(i.length-1,m+1))},p=F.useMemo(()=>s.reduce((m,b,v)=>n>=b?v:m,0),[n,s]);return E.jsxs("div",{className:yg.catalogLayout,children:[E.jsx(CL,{onToggleIndex:()=>e(m=>!m)}),E.jsxs("div",{className:yg.bodyContainer,children:[t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:yg.overlay}),E.jsx(AL,{onSelect:m=>r(m),onClose:()=>e(!1),currentIndex:p,sectionStarts:s})]}),E.jsx(PL,{data:i[n],pageIndex:n,totalPages:i.length,onPrev:c,onNext:f,isFirst:n===0,isLast:n===i.length-1})]})]})}var We;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var b3=new Map([[We.QR_CODE,"QR_CODE"],[We.AZTEC,"AZTEC"],[We.CODABAR,"CODABAR"],[We.CODE_39,"CODE_39"],[We.CODE_93,"CODE_93"],[We.CODE_128,"CODE_128"],[We.DATA_MATRIX,"DATA_MATRIX"],[We.MAXICODE,"MAXICODE"],[We.ITF,"ITF"],[We.EAN_13,"EAN_13"],[We.EAN_8,"EAN_8"],[We.PDF_417,"PDF_417"],[We.RSS_14,"RSS_14"],[We.RSS_EXPANDED,"RSS_EXPANDED"],[We.UPC_A,"UPC_A"],[We.UPC_E,"UPC_E"],[We.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),w3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(w3||(w3={}));function FL(t){return Object.values(We).includes(t)}var S1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(S1||(S1={}));var UL=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[S1.SCAN_TYPE_CAMERA,S1.SCAN_TYPE_FILE],t}(),KS=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!b3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,b3.get(e))},t}(),v3=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),C2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(C2||(C2={}));var HL=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:C2.UNKWOWN_ERROR}},t}(),VL=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function $a(t){return typeof t>"u"||t===null}var ou=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),ZS=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(e),f=0,p=c;f<p.length;f++){var m=p[f];if(s.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t}(),kf={exports:{}},GL=kf.exports,C3;function $L(){return C3||(C3=1,function(t,e){(function(n,r){r(e)})(GL,function(n){function r(L){return L==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,o){L.__proto__=o}||function(L,o){for(var u in o)o.hasOwnProperty(u)&&(L[u]=o[u])};function s(L,o){i(L,o);function u(){this.constructor=L}L.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function c(L,o){var u=Object.setPrototypeOf;u?u(L,o):L.__proto__=o}function f(L,o){o===void 0&&(o=L.constructor);var u=Error.captureStackTrace;u&&u(L,o)}var p=function(L){s(o,L);function o(u){var d=this.constructor,g=L.call(this,u)||this;return Object.defineProperty(g,"name",{value:d.name,enumerable:!1}),c(g,d.prototype),f(g),g}return o}(Error);class m extends p{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class _{constructor(o){if(this.binarizer=o,o===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,d,g){const x=this.binarizer.getLuminanceSource().crop(o,u,d,g);return new _(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends m{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class A{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(o,u,d,g,x){for(;x--;)d[g++]=o[u++]}static currentTimeMillis(){return Date.now()}}class I extends m{}I.kind="IndexOutOfBoundsException";class k extends I{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}k.kind="ArrayIndexOutOfBoundsException";class U{static fill(o,u){for(let d=0,g=o.length;d<g;d++)o[d]=u}static fillWithin(o,u,d,g){U.rangeCheck(o.length,u,d);for(let x=u;x<d;x++)o[x]=g}static rangeCheck(o,u,d){if(u>d)throw new v("fromIndex("+u+") > toIndex("+d+")");if(u<0)throw new k(u);if(d>o)throw new k(d)}static asList(...o){return o}static create(o,u,d){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(d))}static createInt32Array(o,u,d){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(d))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let d=0,g=o.length;d<g;d++)if(o[d]!==u[d])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const d of o)u=31*u+d;return u}static fillUint8Array(o,u){for(let d=0;d!==o.length;d++)o[d]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const d=new Uint8Array(u);return d.set(o),d}return o.slice(0,u)}static copyOfRange(o,u,d){const g=d-u,x=new Int32Array(g);return R.arraycopy(o,u,x,0,g),x}static binarySearch(o,u,d){d===void 0&&(d=U.numberComparator);let g=0,x=o.length-1;for(;g<=x;){const w=x+g>>1,C=d(u,o[w]);if(C>0)g=w+1;else if(C<0)x=w-1;else return w}return-g-1}static numberComparator(o,u){return o-u}}class j{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let d=31;return u=o<<16,u!==0&&(d-=16,o=u),u=o<<8,u!==0&&(d-=8,o=u),u=o<<4,u!==0&&(d-=4,o=u),u=o<<2,u!==0&&(d-=2,o=u),d-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=W.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=W.makeArray(o);R.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const d=this.bits;let g=Math.floor(o/32),x=d[g];x&=~((1<<(o&31))-1);const w=d.length;for(;x===0;){if(++g===w)return u;x=d[g]}const C=g*32+j.numberOfTrailingZeros(x);return C>u?u:C}getNextUnset(o){const u=this.size;if(o>=u)return u;const d=this.bits;let g=Math.floor(o/32),x=~d[g];x&=~((1<<(o&31))-1);const w=d.length;for(;x===0;){if(++g===w)return u;x=~d[g]}const C=g*32+j.numberOfTrailingZeros(x);return C>u?u:C}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new v;if(u===o)return;u--;const d=Math.floor(o/32),g=Math.floor(u/32),x=this.bits;for(let w=d;w<=g;w++){const C=w>d?0:o&31,M=(2<<(w<g?31:u&31))-(1<<C);x[w]|=M}}clear(){const o=this.bits.length,u=this.bits;for(let d=0;d<o;d++)u[d]=0}isRange(o,u,d){if(u<o||o<0||u>this.size)throw new v;if(u===o)return!0;u--;const g=Math.floor(o/32),x=Math.floor(u/32),w=this.bits;for(let C=g;C<=x;C++){const T=C>g?0:o&31,D=(2<<(C<x?31:u&31))-(1<<T)&4294967295;if((w[C]&D)!==(d?D:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let d=u;d>0;d--)this.appendBit((o>>d-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let d=0;d<u;d++)this.appendBit(o.get(d))}xor(o){if(this.size!==o.size)throw new v("Sizes don't match");const u=this.bits;for(let d=0,g=u.length;d<g;d++)u[d]^=o.bits[d]}toBytes(o,u,d,g){for(let x=0;x<g;x++){let w=0;for(let C=0;C<8;C++)this.get(o)&&(w|=1<<7-C),o++;u[d+x]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),d=u+1,g=this.bits;for(let x=0;x<d;x++){let w=g[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[u-x]=w}if(this.size!==d*32){const x=d*32-this.size;let w=o[0]>>>x;for(let C=1;C<d;C++){const T=o[C];w|=T<<32-x,o[C-1]=w,w=T>>>x}o[d-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof W))return!1;const u=o;return this.size===u.size&&U.equals(this.bits,u.bits)}hashCode(){return 31*this.size+U.hashCode(this.bits)}toString(){let o="";for(let u=0,d=this.size;u<d;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new W(this.size,this.bits.slice())}}var X;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var V=X;class Y extends m{static getFormatInstance(){return new Y}}Y.kind="FormatException";var se;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(se||(se={}));class K{constructor(o,u,d,...g){this.valueIdentifier=o,this.name=d,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=g,K.VALUE_IDENTIFIER_TO_ECI.set(o,this),K.NAME_TO_ECI.set(d,this);const x=this.values;for(let w=0,C=x.length;w!==C;w++){const T=x[w];K.VALUES_TO_ECI.set(T,this)}for(const w of g)K.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new Y("incorect value");const u=K.VALUES_TO_ECI.get(o);if(u===void 0)throw new Y("incorect value");return u}static getCharacterSetECIByName(o){const u=K.NAME_TO_ECI.get(o);if(u===void 0)throw new Y("incorect value");return u}equals(o){if(!(o instanceof K))return!1;const u=o;return this.getName()===u.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(se.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(se.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(se.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(se.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(se.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(se.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(se.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(se.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(se.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(se.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(se.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(se.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(se.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(se.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(se.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(se.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(se.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(se.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(se.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(se.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(se.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(se.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(se.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(se.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(se.Big5,28,"Big5"),K.GB18030=new K(se.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(se.EUC_KR,30,"EUC_KR","EUC-KR");class be extends m{}be.kind="UnsupportedOperationException";class _e{static decode(o,u){const d=this.encodingName(u);return this.customDecoder?this.customDecoder(o,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(o,d):new TextDecoder(d).decode(o)}static shouldDecodeOnFallback(o){return!_e.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const d=this.encodingName(u);return this.customEncoder?this.customEncoder(o,d):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof K?o:K.getCharacterSetECIByName(o)}static decodeFallback(o,u){const d=this.encodingCharacterSet(u);if(_e.isDecodeFallbackSupported(d)){let g="";for(let x=0,w=o.length;x<w;x++){let C=o[x].toString(16);C.length<2&&(C="0"+C),g+="%"+C}return decodeURIComponent(g)}if(d.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new be(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(K.UTF8)||o.equals(K.ISO8859_1)||o.equals(K.ASCII)}static encodeFallback(o){const d=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let x=0;x<d.length;x++)g.push(d[x].charCodeAt(0));return new Uint8Array(g)}}class ge{static castAsNonUtf8Char(o,u=null){const d=u?u.getName():this.ISO88591;return _e.decode(new Uint8Array([o]),d)}static guessEncoding(o,u){if(u!=null&&u.get(V.CHARACTER_SET)!==void 0)return u.get(V.CHARACTER_SET).toString();const d=o.length;let g=!0,x=!0,w=!0,C=0,T=0,M=0,D=0,P=0,z=0,q=0,J=0,te=0,le=0,pe=0;const De=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Pe=0;Pe<d&&(g||x||w);Pe++){const Me=o[Pe]&255;w&&(C>0?(Me&128)===0?w=!1:C--:(Me&128)!==0&&((Me&64)===0?w=!1:(C++,(Me&32)===0?T++:(C++,(Me&16)===0?M++:(C++,(Me&8)===0?D++:w=!1))))),g&&(Me>127&&Me<160?g=!1:Me>159&&(Me<192||Me===215||Me===247)&&pe++),x&&(P>0?Me<64||Me===127||Me>252?x=!1:P--:Me===128||Me===160||Me>239?x=!1:Me>160&&Me<224?(z++,J=0,q++,q>te&&(te=q)):Me>127?(P++,q=0,J++,J>le&&(le=J)):(q=0,J=0))}return w&&C>0&&(w=!1),x&&P>0&&(x=!1),w&&(De||T+M+D>0)?ge.UTF8:x&&(ge.ASSUME_SHIFT_JIS||te>=3||le>=3)?ge.SHIFT_JIS:g&&x?te===2&&z===2||pe*10>=d?ge.SHIFT_JIS:ge.ISO88591:g?ge.ISO88591:x?ge.SHIFT_JIS:w?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let d=-1;function g(w,C,T,M,D,P){if(w==="%%")return"%";if(u[++d]===void 0)return;w=M?parseInt(M.substr(1)):void 0;let z=D?parseInt(D.substr(1)):void 0,q;switch(P){case"s":q=u[d];break;case"c":q=u[d][0];break;case"f":q=parseFloat(u[d]).toFixed(w);break;case"p":q=parseFloat(u[d]).toPrecision(w);break;case"e":q=parseFloat(u[d]).toExponential(w);break;case"x":q=parseInt(u[d]).toString(z||16);break;case"d":q=parseFloat(parseInt(u[d],z||10).toPrecision(w)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString(z);let J=parseInt(T),te=T&&T[0]+""=="0"?"0":" ";for(;q.length<J;)q=C!==void 0?q+te:te+q;return q}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}static getBytes(o,u){return _e.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}ge.SHIFT_JIS=K.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=K.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=K.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class je{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,d){for(let g=u;u<u+d;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Ue{constructor(o,u,d,g){if(this.width=o,this.height=u,this.rowSize=d,this.bits=g,u==null&&(u=o),this.height=u,o<1||u<1)throw new v("Both dimensions must be greater than 0");d==null&&(d=Math.floor((o+31)/32)),this.rowSize=d,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,d=o[0].length,g=new Ue(d,u);for(let x=0;x<u;x++){const w=o[x];for(let C=0;C<d;C++)w[C]&&g.set(C,x)}return g}static parseFromString(o,u,d){if(o===null)throw new v("stringRepresentation cannot be null");const g=new Array(o.length);let x=0,w=0,C=-1,T=0,M=0;for(;M<o.length;)if(o.charAt(M)===`
`||o.charAt(M)==="\r"){if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new v("row lengths do not match");w=x,T++}M++}else if(o.substring(M,M+u.length)===u)M+=u.length,g[x]=!0,x++;else if(o.substring(M,M+d.length)===d)M+=d.length,g[x]=!1,x++;else throw new v("illegal character encountered: "+o.substring(M));if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new v("row lengths do not match");T++}const D=new Ue(C,T);for(let P=0;P<x;P++)g[P]&&D.set(Math.floor(P%C),Math.floor(P/C));return D}get(o,u){const d=u*this.rowSize+Math.floor(o/32);return(this.bits[d]>>>(o&31)&1)!==0}set(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]|=1<<(o&31)&4294967295}unset(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]&=~(1<<(o&31)&4294967295)}flip(o,u){const d=u*this.rowSize+Math.floor(o/32);this.bits[d]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new v("input matrix dimensions do not match");const u=new W(Math.floor(this.width/32)+1),d=this.rowSize,g=this.bits;for(let x=0,w=this.height;x<w;x++){const C=x*d,T=o.getRow(x,u).getBitArray();for(let M=0;M<d;M++)g[C+M]^=T[M]}}clear(){const o=this.bits,u=o.length;for(let d=0;d<u;d++)o[d]=0}setRegion(o,u,d,g){if(u<0||o<0)throw new v("Left and top must be nonnegative");if(g<1||d<1)throw new v("Height and width must be at least 1");const x=o+d,w=u+g;if(w>this.height||x>this.width)throw new v("The region must fit inside the matrix");const C=this.rowSize,T=this.bits;for(let M=u;M<w;M++){const D=M*C;for(let P=o;P<x;P++)T[D+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new W(this.width):u.clear();const d=this.rowSize,g=this.bits,x=o*d;for(let w=0;w<d;w++)u.setBulk(w*32,g[x+w]);return u}setRow(o,u){R.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let d=new W(o),g=new W(o);for(let x=0,w=Math.floor((u+1)/2);x<w;x++)d=this.getRow(x,d),g=this.getRow(u-1-x,g),d.reverse(),g.reverse(),this.setRow(x,g),this.setRow(u-1-x,d)}getEnclosingRectangle(){const o=this.width,u=this.height,d=this.rowSize,g=this.bits;let x=o,w=u,C=-1,T=-1;for(let M=0;M<u;M++)for(let D=0;D<d;D++){const P=g[M*d+D];if(P!==0){if(M<w&&(w=M),M>T&&(T=M),D*32<x){let z=0;for(;(P<<31-z&4294967295)===0;)z++;D*32+z<x&&(x=D*32+z)}if(D*32+31>C){let z=31;for(;!(P>>>z);)z--;D*32+z>C&&(C=D*32+z)}}}return C<x||T<w?null:Int32Array.from([x,w,C-x+1,T-w+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let d=0;for(;d<u.length&&u[d]===0;)d++;if(d===u.length)return null;const g=d/o;let x=d%o*32;const w=u[d];let C=0;for(;(w<<31-C&4294967295)===0;)C++;return x+=C,Int32Array.from([x,g])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let d=u.length-1;for(;d>=0&&u[d]===0;)d--;if(d<0)return null;const g=Math.floor(d/o);let x=Math.floor(d%o)*32;const w=u[d];let C=31;for(;!(w>>>C);)C--;return x+=C,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Ue))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&U.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+U.hashCode(this.bits),o}toString(o="X ",u="  ",d=`
`){return this.buildToString(o,u,d)}buildToString(o,u,d){let g=new je;for(let x=0,w=this.height;x<w;x++){for(let C=0,T=this.width;C<T;C++)g.append(this.get(C,x)?o:u);g.append(d)}return g.toString()}clone(){return new Ue(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends m{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class G extends A{constructor(o){super(o),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(o,u){const d=this.getLuminanceSource(),g=d.getWidth();u==null||u.getSize()<g?u=new W(g):u.clear(),this.initArrays(g);const x=d.getRow(o,this.luminances),w=this.buckets;for(let T=0;T<g;T++)w[(x[T]&255)>>G.LUMINANCE_SHIFT]++;const C=G.estimateBlackPoint(w);if(g<3)for(let T=0;T<g;T++)(x[T]&255)<C&&u.set(T);else{let T=x[0]&255,M=x[1]&255;for(let D=1;D<g-1;D++){const P=x[D+1]&255;(M*4-T-P)/2<C&&u.set(D),T=M,M=P}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),d=o.getHeight(),g=new Ue(u,d);this.initArrays(u);const x=this.buckets;for(let T=1;T<5;T++){const M=Math.floor(d*T/5),D=o.getRow(M,this.luminances),P=Math.floor(u*4/5);for(let z=Math.floor(u/5);z<P;z++){const q=D[z]&255;x[q>>G.LUMINANCE_SHIFT]++}}const w=G.estimateBlackPoint(x),C=o.getMatrix();for(let T=0;T<d;T++){const M=T*u;for(let D=0;D<u;D++)(C[M+D]&255)<w&&g.set(D,T)}return g}createBinarizer(o){return new G(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let d=0;d<G.LUMINANCE_BUCKETS;d++)u[d]=0}static estimateBlackPoint(o){const u=o.length;let d=0,g=0,x=0;for(let D=0;D<u;D++)o[D]>x&&(g=D,x=o[D]),o[D]>d&&(d=o[D]);let w=0,C=0;for(let D=0;D<u;D++){const P=D-g,z=o[D]*P*P;z>C&&(w=D,C=z)}if(g>w){const D=g;g=w,w=D}if(w-g<=u/16)throw new re;let T=w-1,M=-1;for(let D=w-1;D>g;D--){const P=D-g,z=P*P*(w-D)*(d-o[D]);z>M&&(T=D,M=z)}return T<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class ie extends G{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),d=o.getHeight();if(u>=ie.MINIMUM_DIMENSION&&d>=ie.MINIMUM_DIMENSION){const g=o.getMatrix();let x=u>>ie.BLOCK_SIZE_POWER;(u&ie.BLOCK_SIZE_MASK)!==0&&x++;let w=d>>ie.BLOCK_SIZE_POWER;(d&ie.BLOCK_SIZE_MASK)!==0&&w++;const C=ie.calculateBlackPoints(g,x,w,u,d),T=new Ue(u,d);ie.calculateThresholdForBlock(g,x,w,u,d,C,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ie(o)}static calculateThresholdForBlock(o,u,d,g,x,w,C){const T=x-ie.BLOCK_SIZE,M=g-ie.BLOCK_SIZE;for(let D=0;D<d;D++){let P=D<<ie.BLOCK_SIZE_POWER;P>T&&(P=T);const z=ie.cap(D,2,d-3);for(let q=0;q<u;q++){let J=q<<ie.BLOCK_SIZE_POWER;J>M&&(J=M);const te=ie.cap(q,2,u-3);let le=0;for(let De=-2;De<=2;De++){const Pe=w[z+De];le+=Pe[te-2]+Pe[te-1]+Pe[te]+Pe[te+1]+Pe[te+2]}const pe=le/25;ie.thresholdBlock(o,J,P,pe,g,C)}}}static cap(o,u,d){return o<u?u:o>d?d:o}static thresholdBlock(o,u,d,g,x,w){for(let C=0,T=d*x+u;C<ie.BLOCK_SIZE;C++,T+=x)for(let M=0;M<ie.BLOCK_SIZE;M++)(o[T+M]&255)<=g&&w.set(u+M,d+C)}static calculateBlackPoints(o,u,d,g,x){const w=x-ie.BLOCK_SIZE,C=g-ie.BLOCK_SIZE,T=new Array(d);for(let M=0;M<d;M++){T[M]=new Int32Array(u);let D=M<<ie.BLOCK_SIZE_POWER;D>w&&(D=w);for(let P=0;P<u;P++){let z=P<<ie.BLOCK_SIZE_POWER;z>C&&(z=C);let q=0,J=255,te=0;for(let pe=0,De=D*g+z;pe<ie.BLOCK_SIZE;pe++,De+=g){for(let Pe=0;Pe<ie.BLOCK_SIZE;Pe++){const Me=o[De+Pe]&255;q+=Me,Me<J&&(J=Me),Me>te&&(te=Me)}if(te-J>ie.MIN_DYNAMIC_RANGE)for(pe++,De+=g;pe<ie.BLOCK_SIZE;pe++,De+=g)for(let Pe=0;Pe<ie.BLOCK_SIZE;Pe++)q+=o[De+Pe]&255}let le=q>>ie.BLOCK_SIZE_POWER*2;if(te-J<=ie.MIN_DYNAMIC_RANGE&&(le=J/2,M>0&&P>0)){const pe=(T[M-1][P]+2*T[M][P-1]+T[M-1][P-1])/4;J<pe&&(le=pe)}T[M][P]=le}}return T}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Te{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,d,g){throw new be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new be("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new je;for(let d=0;d<this.height;d++){const g=this.getRow(d,o);for(let x=0;x<this.width;x++){const w=g[x]&255;let C;w<64?C="#":w<128?C="+":w<192?C=".":C=" ",u.append(C)}u.append(`
`)}return u.toString()}}class Be extends Te{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const d=this.delegate.getRow(o,u),g=this.getWidth();for(let x=0;x<g;x++)d[x]=255-(d[x]&255);return d}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(u);for(let g=0;g<u;g++)d[g]=255-(o[g]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,d,g){return new Be(this.delegate.crop(o,u,d,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Z extends Te{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Z.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return Z.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,d){const g=new Uint8ClampedArray(u*d);for(let x=0,w=0,C=o.length;x<C;x+=4,w++){let T;if(o[x+3]===0)T=255;else{const D=o[x],P=o[x+1],z=o[x+2];T=306*D+601*P+117*z+512>>10}g[w]=T}return g}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const d=this.getWidth(),g=o*d;return u===null?u=this.buffer.slice(g,g+d):(u.length<d&&(u=new Uint8ClampedArray(d)),u.set(this.buffer.slice(g,g+d))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,d,g){return super.crop(o,u,d,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),d=u.getContext("2d"),g=o*Z.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*w),T=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*w);return u.width=C,u.height=T,d.translate(C/2,T/2),d.rotate(g),d.drawImage(this.canvas,x/-2,w/-2),this.buffer=Z.makeBufferFromCanvasImageData(u),this}invert(){return new Be(this)}}Z.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(o,u,d){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Re=(globalThis||Th||self||window||void 0)&&(globalThis||Th||self||window||void 0).__awaiter||function(L,o,u,d){function g(x){return x instanceof u?x:new u(function(w){w(x)})}return new(u||(u=Promise))(function(x,w){function C(D){try{M(d.next(D))}catch(P){w(P)}}function T(D){try{M(d.throw(D))}catch(P){w(P)}}function M(D){D.done?x(D.value):g(D.value).then(C,T)}M((d=d.apply(L,o||[])).next())})};class ke{constructor(o,u=500,d){this.reader=o,this.timeBetweenScansMillis=u,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const d of o){const g=d.kind==="video"?"videoinput":d.kind;if(g!=="videoinput")continue;const x=d.deviceId||d.id,w=d.label||`Video device ${u.length+1}`,C=d.groupId,T={deviceId:x,label:w,kind:g,groupId:C};u.push(T)}return u})}getVideoInputDevices(){return Re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ve(u.deviceId,u.label))})}findDeviceById(o){return Re(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(d=>d.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Re(this,void 0,void 0,function*(){this.reset();let d;o?d={deviceId:{exact:o}}:d={facingMode:"environment"};const g={video:d};return yield this.decodeOnceFromConstraints(g,u)})}decodeOnceFromConstraints(o,u){return Re(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(d,u)})}decodeOnceFromStream(o,u){return Re(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(o,u,d){return Re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,d)})}decodeFromVideoDevice(o,u,d){return Re(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,u,d)})}decodeFromConstraints(o,u,d){return Re(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,u,d)})}decodeFromStream(o,u,d){return Re(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(g,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Re(this,void 0,void 0,function*(){const d=this.prepareVideoElement(u);return this.addVideoSource(d,o),this.videoElement=d,this.stream=o,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(o){return new Promise((u,d)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Re(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const d=document.getElementById(o);if(!d)throw new b(`element with id '${o}' not found`);if(d.nodeName.toLowerCase()!==u.toLowerCase())throw new b(`element with id '${o}' must be an ${u} element`);return d}decodeFromImage(o,u){if(!o&&!u)throw new b("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,d){if(o===void 0&&u===void 0)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,d):this.decodeFromVideoElementContinuously(o,d)}decodeFromImageElement(o){if(!o)throw new b("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let d;return this.isImageLoaded(u)?d=this.decodeOnce(u,!1,!0):d=this._decodeOnLoadImage(u),d}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const d=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(d,u)}_decodeFromVideoElementSetup(o){if(!o)throw new b("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const d=this._decodeOnLoadImage(u);return u.src=o,d}decodeFromVideoUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElement(u);return u.src=o,d}decodeFromVideoUrlContinuously(o,u){if(!o)throw new b("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(d,u);return d.src=o,g}_decodeOnLoadImage(o){return new Promise((u,d)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,d),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,d=!0){this._stopAsyncDecode=!1;const g=(x,w)=>{if(this._stopAsyncDecode){w(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);x(C)}catch(C){const T=u&&C instanceof re,D=(C instanceof N||C instanceof Y)&&d;if(T||D)return setTimeout(g,this._timeBetweenDecodingAttempts,x,w);w(C)}};return new Promise((x,w)=>g(x,w))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);u(g,null),setTimeout(d,this.timeBetweenScansMillis)}catch(g){u(null,g);const x=g instanceof N||g instanceof Y,w=g instanceof re;(x||w)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,d){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,d=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),d=new Z(u),g=new ie(d);return new _(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let d,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(d=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(d=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),u.style.width=d+"px",u.style.height=g+"px",u.width=d,u.height=g,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class He{constructor(o,u,d=u==null?0:8*u.length,g,x,w=R.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=d,this.resultPoints=g,this.format=x,this.timestamp=w,this.text=o,this.rawBytes=u,d==null?this.numBits=u==null?0:8*u.length:this.numBits=d,this.resultPoints=g,this.format=x,this.resultMetadata=null,w==null?this.timestamp=R.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const d=new Array(u.length+o.length);R.arraycopy(u,0,d,0,u.length),R.arraycopy(o,0,d,u.length,o.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ct;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ct||(Ct={}));var Oe=Ct,fr;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fr||(fr={}));var mt=fr;class Ur{constructor(o,u,d,g,x=-1,w=-1){this.rawBytes=o,this.text=u,this.byteSegments=d,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Nn{exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class vn{constructor(o,u){if(u.length===0)throw new v;this.field=o;const d=u.length;if(d>1&&u[0]===0){let g=1;for(;g<d&&u[g]===0;)g++;g===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-g),R.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let d;if(o===1){d=0;for(let w=0,C=u.length;w!==C;w++){const T=u[w];d=Nn.addOrSubtract(d,T)}return d}d=u[0];const g=u.length,x=this.field;for(let w=1;w<g;w++)d=Nn.addOrSubtract(x.multiply(o,d),u[w]);return d}addOrSubtract(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,d=o.coefficients;if(u.length>d.length){const w=u;u=d,d=w}let g=new Int32Array(d.length);const x=d.length-u.length;R.arraycopy(d,0,g,0,x);for(let w=x;w<d.length;w++)g[w]=Nn.addOrSubtract(u[w-x],d[w]);return new vn(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,d=u.length,g=o.coefficients,x=g.length,w=new Int32Array(d+x-1),C=this.field;for(let T=0;T<d;T++){const M=u[T];for(let D=0;D<x;D++)w[T+D]=Nn.addOrSubtract(w[T+D],C.multiply(M,g[D]))}return new vn(C,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,d=this.field,g=new Int32Array(u),x=this.coefficients;for(let w=0;w<u;w++)g[w]=d.multiply(x[w],o);return new vn(d,g)}multiplyByMonomial(o,u){if(o<0)throw new v;if(u===0)return this.field.getZero();const d=this.coefficients,g=d.length,x=new Int32Array(g+o),w=this.field;for(let C=0;C<g;C++)x[C]=w.multiply(d[C],u);return new vn(w,x)}divide(o){if(!this.field.equals(o.field))throw new v("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new v("Divide by 0");const u=this.field;let d=u.getZero(),g=this;const x=o.getCoefficient(o.getDegree()),w=u.inverse(x);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const C=g.getDegree()-o.getDegree(),T=u.multiply(g.getCoefficient(g.getDegree()),w),M=o.multiplyByMonomial(C,T),D=u.buildMonomial(C,T);d=d.addOrSubtract(D),g=g.addOrSubtract(M)}return[d,g]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let d=this.getCoefficient(u);if(d!==0){if(d<0?(o+=" - ",d=-d):o.length>0&&(o+=" + "),u===0||d!==1){const g=this.field.log(d);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class ms extends m{}ms.kind="ArithmeticException";class Lt extends Nn{constructor(o,u,d){super(),this.primitive=o,this.size=u,this.generatorBase=d;const g=new Int32Array(u);let x=1;for(let C=0;C<u;C++)g[C]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=g;const w=new Int32Array(u);for(let C=0;C<u-1;C++)w[g[C]]=C;this.logTable=w,this.zero=new vn(this,Int32Array.from([0])),this.one=new vn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new v;if(u===0)return this.zero;const d=new Int32Array(o+1);return d[0]=u,new vn(this,d)}inverse(o){if(o===0)throw new ms;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Lt.AZTEC_DATA_12=new Lt(4201,4096,1),Lt.AZTEC_DATA_10=new Lt(1033,1024,1),Lt.AZTEC_DATA_6=new Lt(67,64,1),Lt.AZTEC_PARAM=new Lt(19,16,1),Lt.QR_CODE_FIELD_256=new Lt(285,256,0),Lt.DATA_MATRIX_FIELD_256=new Lt(301,256,1),Lt.AZTEC_DATA_8=Lt.DATA_MATRIX_FIELD_256,Lt.MAXICODE_FIELD_64=Lt.AZTEC_DATA_6;class vr extends m{}vr.kind="ReedSolomonException";class hi extends m{}hi.kind="IllegalStateException";class fa{constructor(o){this.field=o}decode(o,u){const d=this.field,g=new vn(d,o),x=new Int32Array(u);let w=!0;for(let q=0;q<u;q++){const J=g.evaluateAt(d.exp(q+d.getGeneratorBase()));x[x.length-1-q]=J,J!==0&&(w=!1)}if(w)return;const C=new vn(d,x),T=this.runEuclideanAlgorithm(d.buildMonomial(u,1),C,u),M=T[0],D=T[1],P=this.findErrorLocations(M),z=this.findErrorMagnitudes(D,P);for(let q=0;q<P.length;q++){const J=o.length-1-d.log(P[q]);if(J<0)throw new vr("Bad error location");o[J]=Lt.addOrSubtract(o[J],z[q])}}runEuclideanAlgorithm(o,u,d){if(o.getDegree()<u.getDegree()){const q=o;o=u,u=q}const g=this.field;let x=o,w=u,C=g.getZero(),T=g.getOne();for(;w.getDegree()>=(d/2|0);){let q=x,J=C;if(x=w,C=T,x.isZero())throw new vr("r_{i-1} was zero");w=q;let te=g.getZero();const le=x.getCoefficient(x.getDegree()),pe=g.inverse(le);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const De=w.getDegree()-x.getDegree(),Pe=g.multiply(w.getCoefficient(w.getDegree()),pe);te=te.addOrSubtract(g.buildMonomial(De,Pe)),w=w.addOrSubtract(x.multiplyByMonomial(De,Pe))}if(T=te.multiply(C).addOrSubtract(J),w.getDegree()>=x.getDegree())throw new hi("Division algorithm failed to reduce polynomial?")}const M=T.getCoefficient(0);if(M===0)throw new vr("sigmaTilde(0) was zero");const D=g.inverse(M),P=T.multiplyScalar(D),z=w.multiplyScalar(D);return[P,z]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const d=new Int32Array(u);let g=0;const x=this.field;for(let w=1;w<x.getSize()&&g<u;w++)o.evaluateAt(w)===0&&(d[g]=x.inverse(w),g++);if(g!==u)throw new vr("Error locator degree does not match number of roots");return d}findErrorMagnitudes(o,u){const d=u.length,g=new Int32Array(d),x=this.field;for(let w=0;w<d;w++){const C=x.inverse(u[w]);let T=1;for(let M=0;M<d;M++)if(w!==M){const D=x.multiply(u[M],C),P=(D&1)===0?D|1:D&-2;T=x.multiply(T,P)}g[w]=x.multiply(o.evaluateAt(C),x.inverse(T)),x.getGeneratorBase()!==0&&(g[w]=x.multiply(g[w],C))}return g}}var Xt;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(Xt||(Xt={}));class Zt{decode(o){this.ddata=o;let u=o.getBits(),d=this.extractBits(u),g=this.correctBits(d),x=Zt.convertBoolArrayToByteArray(g),w=Zt.getEncodedData(g),C=new Ur(x,w,null,null);return C.setNumBits(g.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,d=Xt.UPPER,g=Xt.UPPER,x="",w=0;for(;w<u;)if(g===Xt.BINARY){if(u-w<5)break;let C=Zt.readCode(o,w,5);if(w+=5,C===0){if(u-w<11)break;C=Zt.readCode(o,w,11)+31,w+=11}for(let T=0;T<C;T++){if(u-w<8){w=u;break}const M=Zt.readCode(o,w,8);x+=ge.castAsNonUtf8Char(M),w+=8}g=d}else{let C=g===Xt.DIGIT?4:5;if(u-w<C)break;let T=Zt.readCode(o,w,C);w+=C;let M=Zt.getCharacter(g,T);M.startsWith("CTRL_")?(d=g,g=Zt.getTable(M.charAt(5)),M.charAt(6)==="L"&&(d=g)):(x+=M,g=d)}return x}static getTable(o){switch(o){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(o,u){switch(o){case Xt.UPPER:return Zt.UPPER_TABLE[u];case Xt.LOWER:return Zt.LOWER_TABLE[u];case Xt.MIXED:return Zt.MIXED_TABLE[u];case Xt.PUNCT:return Zt.PUNCT_TABLE[u];case Xt.DIGIT:return Zt.DIGIT_TABLE[u];default:throw new hi("Bad table")}}correctBits(o){let u,d;this.ddata.getNbLayers()<=2?(d=6,u=Lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,u=Lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,u=Lt.AZTEC_DATA_10):(d=12,u=Lt.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=o.length/d;if(x<g)throw new Y;let w=o.length%d,C=new Int32Array(x);for(let z=0;z<x;z++,w+=d)C[z]=Zt.readCode(o,w,d);try{new fa(u).decode(C,x-g)}catch(z){throw new Y(z)}let T=(1<<d)-1,M=0;for(let z=0;z<g;z++){let q=C[z];if(q===0||q===T)throw new Y;(q===1||q===T-1)&&M++}let D=new Array(g*d-M),P=0;for(let z=0;z<g;z++){let q=C[z];if(q===1||q===T-1)D.fill(q>1,P,P+d-1),P+=d-1;else for(let J=d-1;J>=0;--J)D[P++]=(q&1<<J)!==0}return D}extractBits(o){let u=this.ddata.isCompact(),d=this.ddata.getNbLayers(),g=(u?11:14)+d*4,x=new Int32Array(g),w=new Array(this.totalBitsInLayer(d,u));if(u)for(let C=0;C<x.length;C++)x[C]=C;else{let C=g+1+2*j.truncDivision(j.truncDivision(g,2)-1,15),T=g/2,M=j.truncDivision(C,2);for(let D=0;D<T;D++){let P=D+j.truncDivision(D,15);x[T-D-1]=M-P-1,x[T+D]=M+P+1}}for(let C=0,T=0;C<d;C++){let M=(d-C)*4+(u?9:12),D=C*2,P=g-1-D;for(let z=0;z<M;z++){let q=z*2;for(let J=0;J<2;J++)w[T+q+J]=o.get(x[D+J],x[D+z]),w[T+2*M+q+J]=o.get(x[D+z],x[P-J]),w[T+4*M+q+J]=o.get(x[P-J],x[P-z]),w[T+6*M+q+J]=o.get(x[P-z],x[D+J])}T+=M*8}return w}static readCode(o,u,d){let g=0;for(let x=u;x<u+d;x++)g<<=1,o[x]&&(g|=1);return g}static readByte(o,u){let d=o.length-u;return d>=8?Zt.readCode(o,u,8):Zt.readCode(o,u,d)<<8-d}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let d=0;d<u.length;d++)u[d]=Zt.readByte(o,8*d);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Zt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Zt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Zt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class It{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,d,g){const x=o-d,w=u-g;return Math.sqrt(x*x+w*w)}static sum(o){let u=0;for(let d=0,g=o.length;d!==g;d++){const x=o[d];u+=x}return u}}class da{static floatToIntBits(o){return o}}da.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof $e){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*da.floatToIntBits(this.x)+da.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),d=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let x,w,C;if(d>=u&&d>=g?(w=o[0],x=o[1],C=o[2]):g>=d&&g>=u?(w=o[1],x=o[0],C=o[2]):(w=o[2],x=o[0],C=o[1]),this.crossProductZ(x,w,C)<0){const T=x;x=C,C=T}o[0]=x,o[1]=w,o[2]=C}static distance(o,u){return It.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,d){const g=u.x,x=u.y;return(d.x-g)*(o.y-x)-(d.y-x)*(o.x-g)}}class pi{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class gs extends pi{constructor(o,u,d,g,x){super(o,u),this.compact=d,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mi{constructor(o,u,d,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=mi.INIT_SIZE),d==null&&(d=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=d-x,this.rightInit=d+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let o=this.leftInit,u=this.rightInit,d=this.upInit,g=this.downInit,x=!1,w=!0,C=!1,T=!1,M=!1,D=!1,P=!1;const z=this.width,q=this.height;for(;w;){w=!1;let J=!0;for(;(J||!T)&&u<z;)J=this.containsBlackPoint(d,g,u,!1),J?(u++,w=!0,T=!0):T||u++;if(u>=z){x=!0;break}let te=!0;for(;(te||!M)&&g<q;)te=this.containsBlackPoint(o,u,g,!0),te?(g++,w=!0,M=!0):M||g++;if(g>=q){x=!0;break}let le=!0;for(;(le||!D)&&o>=0;)le=this.containsBlackPoint(d,g,o,!1),le?(o--,w=!0,D=!0):D||o--;if(o<0){x=!0;break}let pe=!0;for(;(pe||!P)&&d>=0;)pe=this.containsBlackPoint(o,u,d,!0),pe?(d--,w=!0,P=!0):P||d--;if(d<0){x=!0;break}w&&(C=!0)}if(!x&&C){const J=u-o;let te=null;for(let Pe=1;te===null&&Pe<J;Pe++)te=this.getBlackPointOnSegment(o,g-Pe,o+Pe,g);if(te==null)throw new re;let le=null;for(let Pe=1;le===null&&Pe<J;Pe++)le=this.getBlackPointOnSegment(o,d+Pe,o+Pe,d);if(le==null)throw new re;let pe=null;for(let Pe=1;pe===null&&Pe<J;Pe++)pe=this.getBlackPointOnSegment(u,d+Pe,u-Pe,d);if(pe==null)throw new re;let De=null;for(let Pe=1;De===null&&Pe<J;Pe++)De=this.getBlackPointOnSegment(u,g-Pe,u-Pe,g);if(De==null)throw new re;return this.centerEdges(De,te,pe,le)}else throw new re}getBlackPointOnSegment(o,u,d,g){const x=It.round(It.distance(o,u,d,g)),w=(d-o)/x,C=(g-u)/x,T=this.image;for(let M=0;M<x;M++){const D=It.round(o+M*w),P=It.round(u+M*C);if(T.get(D,P))return new $e(D,P)}return null}centerEdges(o,u,d,g){const x=o.getX(),w=o.getY(),C=u.getX(),T=u.getY(),M=d.getX(),D=d.getY(),P=g.getX(),z=g.getY(),q=mi.CORR;return x<this.width/2?[new $e(P-q,z+q),new $e(C+q,T+q),new $e(M-q,D-q),new $e(x+q,w-q)]:[new $e(P+q,z+q),new $e(C+q,T-q),new $e(M-q,D+q),new $e(x-q,w-q)]}containsBlackPoint(o,u,d,g){const x=this.image;if(g){for(let w=o;w<=u;w++)if(x.get(w,d))return!0}else for(let w=o;w<=u;w++)if(x.get(d,w))return!0;return!1}}mi.INIT_SIZE=10,mi.CORR=1;class ha{static checkAndNudgePoints(o,u){const d=o.getWidth(),g=o.getHeight();let x=!0;for(let w=0;w<u.length&&x;w+=2){const C=Math.floor(u[w]),T=Math.floor(u[w+1]);if(C<-1||C>d||T<-1||T>g)throw new re;x=!1,C===-1?(u[w]=0,x=!0):C===d&&(u[w]=d-1,x=!0),T===-1?(u[w+1]=0,x=!0):T===g&&(u[w+1]=g-1,x=!0)}x=!0;for(let w=u.length-2;w>=0&&x;w-=2){const C=Math.floor(u[w]),T=Math.floor(u[w+1]);if(C<-1||C>d||T<-1||T>g)throw new re;x=!1,C===-1?(u[w]=0,x=!0):C===d&&(u[w]=d-1,x=!0),T===-1?(u[w+1]=0,x=!0):T===g&&(u[w+1]=g-1,x=!0)}}}class Cn{constructor(o,u,d,g,x,w,C,T,M){this.a11=o,this.a21=u,this.a31=d,this.a12=g,this.a22=x,this.a32=w,this.a13=C,this.a23=T,this.a33=M}static quadrilateralToQuadrilateral(o,u,d,g,x,w,C,T,M,D,P,z,q,J,te,le){const pe=Cn.quadrilateralToSquare(o,u,d,g,x,w,C,T);return Cn.squareToQuadrilateral(M,D,P,z,q,J,te,le).times(pe)}transformPoints(o){const u=o.length,d=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,T=this.a23,M=this.a31,D=this.a32,P=this.a33;for(let z=0;z<u;z+=2){const q=o[z],J=o[z+1],te=x*q+T*J+P;o[z]=(d*q+w*J+M)/te,o[z+1]=(g*q+C*J+D)/te}}transformPointsWithValues(o,u){const d=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,T=this.a23,M=this.a31,D=this.a32,P=this.a33,z=o.length;for(let q=0;q<z;q++){const J=o[q],te=u[q],le=x*J+T*te+P;o[q]=(d*J+w*te+M)/le,u[q]=(g*J+C*te+D)/le}}static squareToQuadrilateral(o,u,d,g,x,w,C,T){const M=o-d+x-C,D=u-g+w-T;if(M===0&&D===0)return new Cn(d-o,x-d,o,g-u,w-g,u,0,0,1);{const P=d-x,z=C-x,q=g-w,J=T-w,te=P*J-z*q,le=(M*J-z*D)/te,pe=(P*D-M*q)/te;return new Cn(d-o+le*d,C-o+pe*C,o,g-u+le*g,T-u+pe*T,u,le,pe,1)}}static quadrilateralToSquare(o,u,d,g,x,w,C,T){return Cn.squareToQuadrilateral(o,u,d,g,x,w,C,T).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Cn(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class En extends ha{sampleGrid(o,u,d,g,x,w,C,T,M,D,P,z,q,J,te,le,pe,De,Pe){const Me=Cn.quadrilateralToQuadrilateral(g,x,w,C,T,M,D,P,z,q,J,te,le,pe,De,Pe);return this.sampleGridWithTransform(o,u,d,Me)}sampleGridWithTransform(o,u,d,g){if(u<=0||d<=0)throw new re;const x=new Ue(u,d),w=new Float32Array(2*u);for(let C=0;C<d;C++){const T=w.length,M=C+.5;for(let D=0;D<T;D+=2)w[D]=D/2+.5,w[D+1]=M;g.transformPoints(w),ha.checkAndNudgePoints(o,w);try{for(let D=0;D<T;D+=2)o.get(Math.floor(w[D]),Math.floor(w[D+1]))&&x.set(D/2,C)}catch{throw new re}}return x}}class ir{static setGridSampler(o){ir.gridSampler=o}static getInstance(){return ir.gridSampler}}ir.gridSampler=new En;class Gt{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class sc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),d=this.getBullsEyeCorners(u);if(o){let w=d[0];d[0]=d[2],d[2]=w}this.extractParameters(d);let g=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),x=this.getMatrixCornerPoints(d);return new gs(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new re;let u=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(d,u);let g=0;for(let w=0;w<4;w++){let C=d[(this.shift+w)%4];this.compact?(g<<=7,g+=C>>1&127):(g<<=10,g+=(C>>2&992)+(C>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let d=0;o.forEach((g,x,w)=>{let C=(g>>u-2<<1)+(g&1);d=(d<<3)+C}),d=((d&1)<<11)+(d>>1);for(let g=0;g<4;g++)if(j.bitCount(d^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new re}getCorrectedParameterData(o,u){let d,g;u?(d=7,g=2):(d=10,g=4);let x=d-g,w=new Int32Array(d);for(let T=d-1;T>=0;--T)w[T]=o&15,o>>=4;try{new fa(Lt.AZTEC_PARAM).decode(w,x)}catch{throw new re}let C=0;for(let T=0;T<g;T++)C=(C<<4)+w[T];return C}getBullsEyeCorners(o){let u=o,d=o,g=o,x=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(u,w,1,-1),z=this.getFirstDifferent(d,w,1,1),q=this.getFirstDifferent(g,w,-1,1),J=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let te=this.distancePoint(J,P)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(te<.75||te>1.25||!this.isWhiteOrBlackRectangle(P,z,q,J))break}u=P,d=z,g=q,x=J,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let C=new $e(u.getX()+.5,u.getY()-.5),T=new $e(d.getX()+.5,d.getY()+.5),M=new $e(g.getX()-.5,g.getY()+.5),D=new $e(x.getX()-.5,x.getY()-.5);return this.expandSquare([C,T,M,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,d,g;try{let C=new mi(this.image).detect();o=C[0],u=C[1],d=C[2],g=C[3]}catch{let T=this.image.getWidth()/2,M=this.image.getHeight()/2;o=this.getFirstDifferent(new Gt(T+7,M-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Gt(T+7,M+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Gt(T-7,M+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Gt(T-7,M-7),!1,-1,-1).toResultPoint()}let x=It.round((o.getX()+g.getX()+u.getX()+d.getX())/4),w=It.round((o.getY()+g.getY()+u.getY()+d.getY())/4);try{let C=new mi(this.image,15,x,w).detect();o=C[0],u=C[1],d=C[2],g=C[3]}catch{o=this.getFirstDifferent(new Gt(x+7,w-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Gt(x+7,w+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Gt(x-7,w+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Gt(x-7,w-7),!1,-1,-1).toResultPoint()}return x=It.round((o.getX()+g.getX()+u.getX()+d.getX())/4),w=It.round((o.getY()+g.getY()+u.getY()+d.getY())/4),new Gt(x,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,d,g,x){let w=ir.getInstance(),C=this.getDimension(),T=C/2-this.nbCenterLayers,M=C/2+this.nbCenterLayers;return w.sampleGrid(o,C,C,T,T,M,T,M,M,T,M,u.getX(),u.getY(),d.getX(),d.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(o,u,d){let g=0,x=this.distanceResultPoint(o,u),w=x/d,C=o.getX(),T=o.getY(),M=w*(u.getX()-o.getX())/x,D=w*(u.getY()-o.getY())/x;for(let P=0;P<d;P++)this.image.get(It.round(C+P*M),It.round(T+P*D))&&(g|=1<<d-P-1);return g}isWhiteOrBlackRectangle(o,u,d,g){let x=3;o=new Gt(o.getX()-x,o.getY()+x),u=new Gt(u.getX()-x,u.getY()-x),d=new Gt(d.getX()+x,d.getY()-x),g=new Gt(g.getX()+x,g.getY()+x);let w=this.getColor(g,o);if(w===0)return!1;let C=this.getColor(o,u);return C!==w||(C=this.getColor(u,d),C!==w)?!1:(C=this.getColor(d,g),C===w)}getColor(o,u){let d=this.distancePoint(o,u),g=(u.getX()-o.getX())/d,x=(u.getY()-o.getY())/d,w=0,C=o.getX(),T=o.getY(),M=this.image.get(o.getX(),o.getY()),D=Math.ceil(d);for(let z=0;z<D;z++)C+=g,T+=x,this.image.get(It.round(C),It.round(T))!==M&&w++;let P=w/d;return P>.1&&P<.9?0:P<=.1===M?1:-1}getFirstDifferent(o,u,d,g){let x=o.getX()+d,w=o.getY()+g;for(;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=d,w+=g;for(x-=d,w-=g;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=d;for(x-=d;this.isValid(x,w)&&this.image.get(x,w)===u;)w+=g;return w-=g,new Gt(x,w)}expandSquare(o,u,d){let g=d/(2*u),x=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,T=(o[0].getY()+o[2].getY())/2,M=new $e(C+g*x,T+g*w),D=new $e(C-g*x,T-g*w);x=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,T=(o[1].getY()+o[3].getY())/2;let P=new $e(C+g*x,T+g*w),z=new $e(C-g*x,T-g*w);return[M,P,D,z]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=It.round(o.getX()),d=It.round(o.getY());return this.isValid(u,d)}distancePoint(o,u){return It.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return It.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class ei{decode(o,u=null){let d=null,g=new sc(o.getBlackMatrix()),x=null,w=null;try{let D=g.detectMirror(!1);x=D.getPoints(),this.reportFoundResultPoints(u,x),w=new Zt().decode(D)}catch(D){d=D}if(w==null)try{let D=g.detectMirror(!0);x=D.getPoints(),this.reportFoundResultPoints(u,x),w=new Zt().decode(D)}catch(D){throw d??D}let C=new He(w.getText(),w.getRawBytes(),w.getNumBits(),x,Oe.AZTEC,R.currentTimeMillis()),T=w.getByteSegments();T!=null&&C.putMetadata(mt.BYTE_SEGMENTS,T);let M=w.getECLevel();return M!=null&&C.putMetadata(mt.ERROR_CORRECTION_LEVEL,M),C}reportFoundResultPoints(o,u){if(o!=null){let d=o.get(V.NEED_RESULT_POINT_CALLBACK);d!=null&&u.forEach((g,x,w)=>{d.foundPossibleResultPoint(g)})}}reset(){}}class ac extends ke{constructor(o=500){super(new ei,o)}}class un{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(V.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),w=this.doDecode(x,u),C=w.getResultMetadata();let T=270;C!==null&&C.get(mt.ORIENTATION)===!0&&(T=T+C.get(mt.ORIENTATION)%360),w.putMetadata(mt.ORIENTATION,T);const M=w.getResultPoints();if(M!==null){const D=x.getHeight();for(let P=0;P<M.length;P++)M[P]=new $e(D-M[P].getY()-1,M[P].getX())}return w}else throw new re}}reset(){}doDecode(o,u){const d=o.getWidth(),g=o.getHeight();let x=new W(d);const w=u&&u.get(V.TRY_HARDER)===!0,C=Math.max(1,g>>(w?8:5));let T;w?T=g:T=15;const M=Math.trunc(g/2);for(let D=0;D<T;D++){const P=Math.trunc((D+1)/2),z=(D&1)===0,q=M+C*(z?P:-P);if(q<0||q>=g)break;try{x=o.getBlackRow(q,x)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(x.reverse(),u&&u.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const te=new Map;u.forEach((le,pe)=>te.set(pe,le)),te.delete(V.NEED_RESULT_POINT_CALLBACK),u=te}try{const te=this.decodeRow(q,x,u);if(J===1){te.putMetadata(mt.ORIENTATION,180);const le=te.getResultPoints();le!==null&&(le[0]=new $e(d-le[0].getX()-1,le[0].getY()),le[1]=new $e(d-le[1].getX()-1,le[1].getY()))}return te}catch{}}}throw new re}static recordPattern(o,u,d){const g=d.length;for(let M=0;M<g;M++)d[M]=0;const x=o.getSize();if(u>=x)throw new re;let w=!o.get(u),C=0,T=u;for(;T<x;){if(o.get(T)!==w)d[C]++;else{if(++C===g)break;d[C]=1,w=!w}T++}if(!(C===g||C===g-1&&T===x))throw new re}static recordPatternInReverse(o,u,d){let g=d.length,x=o.get(u);for(;u>0&&g>=0;)o.get(--u)!==x&&(g--,x=!x);if(g>=0)throw new re;un.recordPattern(o,u+1,d)}static patternMatchVariance(o,u,d){const g=o.length;let x=0,w=0;for(let M=0;M<g;M++)x+=o[M],w+=u[M];if(x<w)return Number.POSITIVE_INFINITY;const C=x/w;d*=C;let T=0;for(let M=0;M<g;M++){const D=o[M],P=u[M]*C,z=D>P?D-P:P-D;if(z>d)return Number.POSITIVE_INFINITY;T+=z}return T/x}}class Fe extends un{static findStartPattern(o){const u=o.getSize(),d=o.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),w=d,C=!1;const T=6;for(let M=d;M<u;M++)if(o.get(M)!==C)x[g]++;else{if(g===T-1){let D=Fe.MAX_AVG_VARIANCE,P=-1;for(let z=Fe.CODE_START_A;z<=Fe.CODE_START_C;z++){const q=un.patternMatchVariance(x,Fe.CODE_PATTERNS[z],Fe.MAX_INDIVIDUAL_VARIANCE);q<D&&(D=q,P=z)}if(P>=0&&o.isRange(Math.max(0,w-(M-w)/2),w,!1))return Int32Array.from([w,M,P]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,C=!C}throw new re}static decodeCode(o,u,d){un.recordPattern(o,d,u);let g=Fe.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<Fe.CODE_PATTERNS.length;w++){const C=Fe.CODE_PATTERNS[w],T=this.patternMatchVariance(u,C,Fe.MAX_INDIVIDUAL_VARIANCE);T<g&&(g=T,x=w)}if(x>=0)return x;throw new re}decodeRow(o,u,d){const g=d&&d.get(V.ASSUME_GS1)===!0,x=Fe.findStartPattern(u),w=x[2];let C=0;const T=new Uint8Array(20);T[C++]=w;let M;switch(w){case Fe.CODE_START_A:M=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:M=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:M=Fe.CODE_CODE_C;break;default:throw new Y}let D=!1,P=!1,z="",q=x[0],J=x[1];const te=Int32Array.from([0,0,0,0,0,0]);let le=0,pe=0,De=w,Pe=0,Me=!0,yt=!1,gt=!1;for(;!D;){const Ws=P;switch(P=!1,le=pe,pe=Fe.decodeCode(u,te,J),T[C++]=pe,pe!==Fe.CODE_STOP&&(Me=!0),pe!==Fe.CODE_STOP&&(Pe++,De+=Pe*pe),q=J,J+=te.reduce((Mi,Td)=>Mi+Td,0),pe){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new Y}switch(M){case Fe.CODE_CODE_A:if(pe<64)gt===yt?z+=String.fromCharCode(32+pe):z+=String.fromCharCode(32+pe+128),gt=!1;else if(pe<96)gt===yt?z+=String.fromCharCode(pe-64):z+=String.fromCharCode(pe+64),gt=!1;else switch(pe!==Fe.CODE_STOP&&(Me=!1),pe){case Fe.CODE_FNC_1:g&&(z.length===0?z+="]C1":z+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!yt&&gt?(yt=!0,gt=!1):yt&&gt?(yt=!1,gt=!1):gt=!0;break;case Fe.CODE_SHIFT:P=!0,M=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:M=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:M=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_B:if(pe<96)gt===yt?z+=String.fromCharCode(32+pe):z+=String.fromCharCode(32+pe+128),gt=!1;else switch(pe!==Fe.CODE_STOP&&(Me=!1),pe){case Fe.CODE_FNC_1:g&&(z.length===0?z+="]C1":z+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!yt&&gt?(yt=!0,gt=!1):yt&&gt?(yt=!1,gt=!1):gt=!0;break;case Fe.CODE_SHIFT:P=!0,M=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:M=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:M=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_C:if(pe<100)pe<10&&(z+="0"),z+=pe;else switch(pe!==Fe.CODE_STOP&&(Me=!1),pe){case Fe.CODE_FNC_1:g&&(z.length===0?z+="]C1":z+="");break;case Fe.CODE_CODE_A:M=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:M=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:D=!0;break}break}Ws&&(M=M===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const kr=J-q;if(J=u.getNextUnset(J),!u.isRange(J,Math.min(u.getSize(),J+(J-q)/2),!1))throw new re;if(De-=Pe*le,De%103!==le)throw new N;const xi=z.length;if(xi===0)throw new re;xi>0&&Me&&(M===Fe.CODE_CODE_C?z=z.substring(0,xi-2):z=z.substring(0,xi-1));const Gr=(x[1]+x[0])/2,rn=q+kr/2,xr=T.length,$r=new Uint8Array(xr);for(let Ws=0;Ws<xr;Ws++)$r[Ws]=T[Ws];const va=[new $e(Gr,o),new $e(rn,o)];return new He(z,$r,0,va,Oe.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class tn extends un{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,d){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=tn.findAsteriskPattern(u,g),w=u.getNextSet(x[1]),C=u.getSize(),T,M;do{tn.recordPattern(u,w,g);let te=tn.toNarrowWidePattern(g);if(te<0)throw new re;T=tn.patternToChar(te),this.decodeRowResult+=T,M=w;for(let le of g)w+=le;w=u.getNextSet(w)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let te of g)D+=te;let P=w-M-D;if(w!==C&&P*2<D)throw new re;if(this.usingCheckDigit){let te=this.decodeRowResult.length-1,le=0;for(let pe=0;pe<te;pe++)le+=tn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(pe));if(this.decodeRowResult.charAt(te)!==tn.ALPHABET_STRING.charAt(le%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,te)}if(this.decodeRowResult.length===0)throw new re;let z;this.extendedMode?z=tn.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;let q=(x[1]+x[0])/2,J=M+D/2;return new He(z,null,0,[new $e(q,o),new $e(J,o)],Oe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let d=o.getSize(),g=o.getNextSet(0),x=0,w=g,C=!1,T=u.length;for(let M=g;M<d;M++)if(o.get(M)!==C)u[x]++;else{if(x===T-1){if(this.toNarrowWidePattern(u)===tn.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((M-w)/2)),w,!1))return[w,M];w+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,C=!C}throw new re}static toNarrowWidePattern(o){let u=o.length,d=0,g;do{let x=2147483647;for(let T of o)T<x&&T>d&&(x=T);d=x,g=0;let w=0,C=0;for(let T=0;T<u;T++){let M=o[T];M>d&&(C|=1<<u-1-T,g++,w+=M)}if(g===3){for(let T=0;T<u&&g>0;T++){let M=o[T];if(M>d&&(g--,M*2>=w))return-1}return C}}while(g>3);return-1}static patternToChar(o){for(let u=0;u<tn.CHARACTER_ENCODINGS.length;u++)if(tn.CHARACTER_ENCODINGS[u]===o)return tn.ALPHABET_STRING.charAt(u);if(o===tn.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(o){let u=o.length,d="";for(let g=0;g<u;g++){let x=o.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=o.charAt(g+1),C="\0";switch(x){case"+":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)+32);else throw new Y;break;case"$":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)-64);else throw new Y;break;case"%":if(w>="A"&&w<="E")C=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")C=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")C=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")C="\0";else if(w==="V")C="@";else if(w==="W")C="`";else if(w==="X"||w==="Y"||w==="Z")C="";else throw new Y;break;case"/":if(w>="A"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")C=":";else throw new Y;break}d+=C,g++}else d+=x}return d}}tn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",tn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],tn.ASTERISK_ENCODING=148;class Ht extends un{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,d){let g=this.decodeStart(u),x=this.decodeEnd(u),w=new je;Ht.decodeMiddle(u,g[1],x[0],w);let C=w.toString(),T=null;d!=null&&(T=d.get(V.ALLOWED_LENGTHS)),T==null&&(T=Ht.DEFAULT_ALLOWED_LENGTHS);let M=C.length,D=!1,P=0;for(let J of T){if(M===J){D=!0;break}J>P&&(P=J)}if(!D&&M>P&&(D=!0),!D)throw new Y;const z=[new $e(g[1],o),new $e(x[0],o)];return new He(C,null,0,z,Oe.ITF,new Date().getTime())}static decodeMiddle(o,u,d,g){let x=new Int32Array(10),w=new Int32Array(5),C=new Int32Array(5);for(x.fill(0),w.fill(0),C.fill(0);u<d;){un.recordPattern(o,u,x);for(let M=0;M<5;M++){let D=2*M;w[M]=x[D],C[M]=x[D+1]}let T=Ht.decodeDigit(w);g.append(T.toString()),T=this.decodeDigit(C),g.append(T.toString()),x.forEach(function(M){u+=M})}}decodeStart(o){let u=Ht.skipWhiteSpace(o),d=Ht.findGuardPattern(o,u,Ht.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(o,d[0]),d}validateQuietZone(o,u){let d=this.narrowLineWidth*10;d=d<u?d:u;for(let g=u-1;d>0&&g>=0&&!o.get(g);g--)d--;if(d!==0)throw new re}static skipWhiteSpace(o){const u=o.getSize(),d=o.getNextSet(0);if(d===u)throw new re;return d}decodeEnd(o){o.reverse();try{let u=Ht.skipWhiteSpace(o),d;try{d=Ht.findGuardPattern(o,u,Ht.END_PATTERN_REVERSED[0])}catch(x){x instanceof re&&(d=Ht.findGuardPattern(o,u,Ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,d[0]);let g=d[0];return d[0]=o.getSize()-d[1],d[1]=o.getSize()-g,d}finally{o.reverse()}}static findGuardPattern(o,u,d){let g=d.length,x=new Int32Array(g),w=o.getSize(),C=!1,T=0,M=u;x.fill(0);for(let D=u;D<w;D++)if(o.get(D)!==C)x[T]++;else{if(T===g-1){if(un.patternMatchVariance(x,d,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return[M,D];M+=x[0]+x[1],R.arraycopy(x,2,x,0,T-1),x[T-1]=0,x[T]=0,T--}else T++;x[T]=1,C=!C}throw new re}static decodeDigit(o){let u=Ht.MAX_AVG_VARIANCE,d=-1,g=Ht.PATTERNS.length;for(let x=0;x<g;x++){let w=Ht.PATTERNS[x],C=un.patternMatchVariance(o,w,Ht.MAX_INDIVIDUAL_VARIANCE);C<u?(u=C,d=x):C===u&&(d=-1)}if(d>=0)return d%10;throw new re}}Ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ht.MAX_AVG_VARIANCE=.38,Ht.MAX_INDIVIDUAL_VARIANCE=.5,Ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ht.START_PATTERN=Int32Array.from([1,1,1,1]),Ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class $t extends un{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,d,g=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),d=$t.findGuardPattern(o,g,!1,this.START_END_PATTERN,x);let w=d[0];g=d[1];let C=w-(g-w);C>=0&&(u=o.isRange(C,w,!1))}return d}static checkChecksum(o){return $t.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let d=parseInt(o.charAt(u-1),10);return $t.getStandardUPCEANChecksum(o.substring(0,u-1))===d}static getStandardUPCEANChecksum(o){let u=o.length,d=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new Y;d+=x}d*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new Y;d+=x}return(1e3-d)%10}static decodeEnd(o,u){return $t.findGuardPattern(o,u,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,d,g){return this.findGuardPattern(o,u,d,g,new Int32Array(g.length))}static findGuardPattern(o,u,d,g,x){let w=o.getSize();u=d?o.getNextUnset(u):o.getNextSet(u);let C=0,T=u,M=g.length,D=d;for(let P=u;P<w;P++)if(o.get(P)!==D)x[C]++;else{if(C===M-1){if(un.patternMatchVariance(x,g,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return Int32Array.from([T,P]);T+=x[0]+x[1];let z=x.slice(2,x.length-1);for(let q=0;q<C-1;q++)x[q]=z[q];x[C-1]=0,x[C]=0,C--}else C++;x[C]=1,D=!D}throw new re}static decodeDigit(o,u,d,g){this.recordPattern(o,d,u);let x=this.MAX_AVG_VARIANCE,w=-1,C=g.length;for(let T=0;T<C;T++){let M=g[T],D=un.patternMatchVariance(u,M,$t.MAX_INDIVIDUAL_VARIANCE);D<x&&(x=D,w=T)}if(w>=0)return w;throw new re}}$t.MAX_AVG_VARIANCE=.48,$t.MAX_INDIVIDUAL_VARIANCE=.7,$t.START_END_PATTERN=Int32Array.from([1,1,1]),$t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),$t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ks{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,d){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,d,g),w=g.toString(),C=ks.parseExtensionString(w),T=[new $e((d[0]+d[1])/2,o),new $e(x,o)],M=new He(w,null,0,T,Oe.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(o,u,d){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let M=0;M<5&&w<x;M++){let D=$t.decodeDigit(o,g,w,$t.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let P of g)w+=P;D>=10&&(C|=1<<4-M),M!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(d.length!==5)throw new re;let T=this.determineCheckDigit(C);if(ks.extensionChecksum(d.toString())!==T)throw new re;return w}static extensionChecksum(o){let u=o.length,d=0;for(let g=u-2;g>=0;g-=2)d+=o.charAt(g).charCodeAt(0)-48;d*=3;for(let g=u-1;g>=0;g-=2)d+=o.charAt(g).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new re}static parseExtensionString(o){if(o.length!==5)return null;let u=ks.parseExtension5String(o);return u==null?null:new Map([[mt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let d=parseInt(o.substring(1)),g=(d/100).toString(),x=d%100,w=x<10?"0"+x:x.toString();return u+g+"."+w}}class Bs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,d){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,d,g),w=g.toString(),C=Bs.parseExtensionString(w),T=[new $e((d[0]+d[1])/2,o),new $e(x,o)],M=new He(w,null,0,T,Oe.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(o,u,d){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let T=0;T<2&&w<x;T++){let M=$t.decodeDigit(o,g,w,$t.L_AND_G_PATTERNS);d+=String.fromCharCode(48+M%10);for(let D of g)w+=D;M>=10&&(C|=1<<1-T),T!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(d.length!==2)throw new re;if(parseInt(d.toString())%4!==C)throw new re;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(o)]])}}class rl{static decodeRow(o,u,d){let g=$t.findGuardPattern(u,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ks().decodeRow(o,u,g)}catch{return new Bs().decodeRow(o,u,g)}}}rl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Dt extends $t{constructor(){super(),this.decodeRowStringBuffer="",Dt.L_AND_G_PATTERNS=Dt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=Dt.L_PATTERNS[o-10],d=new Int32Array(u.length);for(let g=0;g<u.length;g++)d[g]=u[u.length-g-1];Dt.L_AND_G_PATTERNS[o]=d}}decodeRow(o,u,d){let g=Dt.findStartGuardPattern(u),x=d==null?null:d.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Me=new $e((g[0]+g[1])/2,o);x.foundPossibleResultPoint(Me)}let w=this.decodeMiddle(u,g,this.decodeRowStringBuffer),C=w.rowOffset,T=w.resultString;if(x!=null){const Me=new $e(C,o);x.foundPossibleResultPoint(Me)}let M=this.decodeEnd(u,C);if(x!=null){const Me=new $e((M[0]+M[1])/2,o);x.foundPossibleResultPoint(Me)}let D=M[1],P=D+(D-M[0]);if(P>=u.getSize()||!u.isRange(D,P,!1))throw new re;let z=T.toString();if(z.length<8)throw new Y;if(!Dt.checkChecksum(z))throw new N;let q=(g[1]+g[0])/2,J=(M[1]+M[0])/2,te=this.getBarcodeFormat(),le=[new $e(q,o),new $e(J,o)],pe=new He(z,null,0,le,te,new Date().getTime()),De=0;try{let Me=rl.decodeRow(o,u,M[1]);pe.putMetadata(mt.UPC_EAN_EXTENSION,Me.getText()),pe.putAllMetadata(Me.getResultMetadata()),pe.addResultPoints(Me.getResultPoints()),De=Me.getText().length}catch{}let Pe=d==null?null:d.get(V.ALLOWED_EAN_EXTENSIONS);if(Pe!=null){let Me=!1;for(let yt in Pe)if(De.toString()===yt){Me=!0;break}if(!Me)throw new re}return pe}decodeEnd(o,u){return Dt.findGuardPattern(o,u,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Dt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let d=parseInt(o.charAt(u-1),10);return Dt.getStandardUPCEANChecksum(o.substring(0,u-1))===d}static getStandardUPCEANChecksum(o){let u=o.length,d=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new Y;d+=x}d*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new Y;d+=x}return(1e3-d)%10}}class ti extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,d){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let M=0;M<6&&w<x;M++){let D=Dt.decodeDigit(o,g,w,Dt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let P of g)w+=P;D>=10&&(C|=1<<5-M)}d=ti.determineFirstDigit(d,C),w=Dt.findGuardPattern(o,w,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<6&&w<x;M++){let D=Dt.decodeDigit(o,g,w,Dt.L_PATTERNS);d+=String.fromCharCode(48+D);for(let P of g)w+=P}return{rowOffset:w,resultString:d}}getBarcodeFormat(){return Oe.EAN_13}static determineFirstDigit(o,u){for(let d=0;d<10;d++)if(u===this.FIRST_DIGIT_ENCODINGS[d])return o=String.fromCharCode(48+d)+o,o;throw new re}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class il extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,d){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1];for(let T=0;T<4&&w<x;T++){let M=Dt.decodeDigit(o,g,w,Dt.L_PATTERNS);d+=String.fromCharCode(48+M);for(let D of g)w+=D}w=Dt.findGuardPattern(o,w,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&w<x;T++){let M=Dt.decodeDigit(o,g,w,Dt.L_PATTERNS);d+=String.fromCharCode(48+M);for(let D of g)w+=D}return{rowOffset:w,resultString:d}}getBarcodeFormat(){return Oe.EAN_8}}class Ls extends Dt{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return Oe.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,d))}decodeMiddle(o,u,d){return this.ean13Reader.decodeMiddle(o,u,d)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let d=new He(u.substring(1),null,null,o.getResultPoints(),Oe.UPC_A);return o.getResultMetadata()!=null&&d.putAllMetadata(o.getResultMetadata()),d}else throw new re}reset(){this.ean13Reader.reset()}}class dr extends Dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,d){const g=this.decodeMiddleCounters.map(M=>M);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=o.getSize();let w=u[1],C=0;for(let M=0;M<6&&w<x;M++){const D=dr.decodeDigit(o,g,w,dr.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let P of g)w+=P;D>=10&&(C|=1<<5-M)}let T=dr.determineNumSysAndCheckDigit(d,C);return{rowOffset:w,resultString:T}}decodeEnd(o,u){return dr.findGuardPatternWithoutCounters(o,u,!0,dr.MIDDLE_END_PATTERN)}checkChecksum(o){return Dt.checkChecksum(dr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let d=0;d<=1;d++)for(let g=0;g<10;g++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][g]){let x=String.fromCharCode(48+d),w=String.fromCharCode(48+g);return x+o+w}throw re.getNotFoundInstance()}getBarcodeFormat(){return Oe.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),d=new je;d.append(o.charAt(0));let g=u[5];switch(g){case 0:case 1:case 2:d.appendChars(u,0,2),d.append(g),d.append("0000"),d.appendChars(u,2,3);break;case 3:d.appendChars(u,0,3),d.append("00000"),d.appendChars(u,3,2);break;case 4:d.appendChars(u,0,4),d.append("00000"),d.append(u[4]);break;default:d.appendChars(u,0,5),d.append("0000"),d.append(g);break}return o.length>=8&&d.append(o.charAt(7)),d.toString()}}dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class pa extends un{constructor(o){super();let u=o==null?null:o.get(V.POSSIBLE_FORMATS),d=[];r(u)?(d.push(new ti),d.push(new Ls),d.push(new il),d.push(new dr)):(u.indexOf(Oe.EAN_13)>-1&&d.push(new ti),u.indexOf(Oe.UPC_A)>-1&&d.push(new Ls),u.indexOf(Oe.EAN_8)>-1&&d.push(new il),u.indexOf(Oe.UPC_E)>-1&&d.push(new dr)),this.readers=d}decodeRow(o,u,d){for(let g of this.readers)try{const x=g.decodeRow(o,u,d),w=x.getBarcodeFormat()===Oe.EAN_13&&x.getText().charAt(0)==="0",C=d==null?null:d.get(V.POSSIBLE_FORMATS),T=C==null||C.includes(Oe.UPC_A);if(w&&T){const M=x.getRawBytes(),D=new He(x.getText().substring(1),M,M?M.length:null,x.getResultPoints(),Oe.UPC_A);return D.putAllMetadata(x.getResultMetadata()),D}return x}catch{}throw new re}reset(){for(let o of this.readers)o.reset()}}class Hn extends un{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let d=0;d<u.length;d++)if(un.patternMatchVariance(o,u[d],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return d;throw new re}static count(o){return It.sum(new Int32Array(o))}static increment(o,u){let d=0,g=u[0];for(let x=1;x<o.length;x++)u[x]>g&&(g=u[x],d=x);o[d]++}static decrement(o,u){let d=0,g=u[0];for(let x=1;x<o.length;x++)u[x]<g&&(g=u[x],d=x);o[d]--}static isFinderPattern(o){let u=o[0]+o[1],d=u+o[2]+o[3],g=u/d;if(g>=Hn.MIN_FINDER_PATTERN_RATIO&&g<=Hn.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let C of o)C>w&&(w=C),C<x&&(x=C);return w<10*x}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ee{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof ee))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class oe{constructor(o,u,d,g,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new $e(d,x)),this.resultPoints.push(new $e(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof oe))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class de{constructor(){}static getRSSvalue(o,u,d){let g=0;for(let T of o)g+=T;let x=0,w=0,C=o.length;for(let T=0;T<C-1;T++){let M;for(M=1,w|=1<<T;M<o[T];M++,w&=~(1<<T)){let D=de.combins(g-M-1,C-T-2);if(d&&w===0&&g-M-(C-T-1)>=C-T-1&&(D-=de.combins(g-M-(C-T),C-T-2)),C-T-1>1){let P=0;for(let z=g-M-(C-T-2);z>u;z--)P+=de.combins(g-M-z-1,C-T-3);D-=P*(C-1-T)}else g-M>u&&D--;x+=D}g-=M}return x}static combins(o,u){let d,g;o-u>u?(g=u,d=o-u):(g=o-u,d=u);let x=1,w=1;for(let C=o;C>d;C--)x*=C,w<=g&&(x/=w,w++);for(;w<=g;)x/=w,w++;return x}}class Ae{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let d=12*u,g=new W(d),x=0,C=o[0].getRightChar().getValue();for(let T=11;T>=0;--T)(C&1<<T)!=0&&g.set(x),x++;for(let T=1;T<o.length;++T){let M=o[T],D=M.getLeftChar().getValue();for(let P=11;P>=0;--P)(D&1<<P)!=0&&g.set(x),x++;if(M.getRightChar()!=null){let P=M.getRightChar().getValue();for(let z=11;z>=0;--z)(P&1<<z)!=0&&g.set(x),x++}}return g}}class Le{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xe{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Ye extends Xe{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Ye.FNC1}}Ye.FNC1="$";class Ve extends Xe{constructor(o,u,d){super(o),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qe extends Xe{constructor(o,u,d){if(super(o),u<0||u>10||d<0||d>10)throw new Y;this.firstDigit=u,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qe.FNC1}isSecondDigitFNC1(){return this.secondDigit===qe.FNC1}isAnyFNC1(){return this.firstDigit===qe.FNC1||this.secondDigit===qe.FNC1}}qe.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new re;let u=o.substring(0,2);for(let x of we.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,x[2],o):we.processFixedAI(2,x[1],o);if(o.length<3)throw new re;let d=o.substring(0,3);for(let x of we.THREE_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,x[2],o):we.processFixedAI(3,x[1],o);for(let x of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,x[2],o):we.processFixedAI(4,x[1],o);if(o.length<4)throw new re;let g=o.substring(0,4);for(let x of we.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,x[2],o):we.processFixedAI(4,x[1],o);throw new re}static processFixedAI(o,u,d){if(d.length<o)throw new re;let g=d.substring(0,o);if(d.length<o+u)throw new re;let x=d.substring(o,o+u),w=d.substring(o+u),C="("+g+")"+x,T=we.parseFieldsInGeneralPurpose(w);return T==null?C:C+T}static processVariableAI(o,u,d){let g=d.substring(0,o),x;d.length<o+u?x=d.length:x=o+u;let w=d.substring(o,x),C=d.substring(x),T="("+g+")"+w,M=we.parseFieldsInGeneralPurpose(C);return M==null?T:T+M}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class st{constructor(o){this.buffer=new je,this.information=o}decodeAllCodes(o,u){let d=u,g=null;do{let x=this.decodeGeneralPurposeField(d,g),w=we.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&o.append(w),x.isRemaining()?g=""+x.getRemainingValue():g=null,d===x.getNewPosition())break;d=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new qe(this.information.getSize(),qe.FNC1,qe.FNC1):new qe(this.information.getSize(),x-1,qe.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),d=(u-8)/11,g=(u-8)%11;return new qe(o+7,d,g)}extractNumericValueFromBitArray(o,u){return st.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,d){let g=0;for(let x=0;x<d;++x)o.get(u+x)&&(g|=1<<d-x-1);return g}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new Ve(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new Ve(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let d=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(d!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ve(this.current.getPosition(),this.buffer.toString()):u=new Ve(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Le(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Le(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ye(o+5,Ye.FNC1);if(u>=5&&u<15)return new Ye(o+5,"0"+(u-5));let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<90)return new Ye(o+7,""+(d+1));if(d>=90&&d<116)return new Ye(o+7,""+(d+7));let g=this.extractNumericValueFromBitArray(o,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new Y}return new Ye(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,6);return d>=16&&d<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ye(o+5,Ye.FNC1);if(u>=5&&u<15)return new Ye(o+5,"0"+(u-5));let d=this.extractNumericValueFromBitArray(o,6);if(d>=32&&d<58)return new Ye(o+6,""+(d+33));let g;switch(d){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new hi("Decoding invalid alphanumeric value: "+d)}return new Ye(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class Je{constructor(o){this.information=o,this.generalDecoder=new st(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Qe extends Je{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let d=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,d)}encodeCompressedGtinWithoutAI(o,u,d){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*g,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}Qe.appendCheckDigit(o,d)}static appendCheckDigit(o,u){let d=0;for(let g=0;g<13;g++){let x=o.charAt(g+u).charCodeAt(0)-48;d+=(g&1)===0?3*x:x}d=10-d%10,d===10&&(d=0),o.append(d)}}Qe.GTIN_SIZE=40;class _t extends Qe{constructor(o){super(o)}parseInformation(){let o=new je;o.append("(01)");let u=o.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(_t.HEADER_SIZE,4);return o.append(d),this.encodeCompressedGtinWithoutAI(o,_t.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,_t.HEADER_SIZE+44)}}_t.HEADER_SIZE=4;class Qt extends Je{constructor(o){super(o)}parseInformation(){let o=new je;return this.getGeneralDecoder().decodeAllCodes(o,Qt.HEADER_SIZE)}}Qt.HEADER_SIZE=5;class fn extends Qe{constructor(o){super(o)}encodeCompressedWeight(o,u,d){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,d);this.addWeightCode(o,g);let x=this.checkWeight(g),w=1e5;for(let C=0;C<5;++C)x/w===0&&o.append("0"),w/=10;o.append(x)}}class bt extends fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+fn.GTIN_SIZE+bt.WEIGHT_SIZE)throw new re;let o=new je;return this.encodeCompressedGtin(o,bt.HEADER_SIZE),this.encodeCompressedWeight(o,bt.HEADER_SIZE+fn.GTIN_SIZE,bt.WEIGHT_SIZE),o.toString()}}bt.HEADER_SIZE=5,bt.WEIGHT_SIZE=15;class Pt extends bt{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Ps extends bt{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Sn extends Qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+Qe.GTIN_SIZE)throw new re;let o=new je;this.encodeCompressedGtin(o,Sn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Qe.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+Qe.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,null);return o.append(d.getNewString()),o.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2;class dn extends Qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+Qe.GTIN_SIZE)throw new re;let o=new je;this.encodeCompressedGtin(o,dn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+Qe.GTIN_SIZE,dn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+Qe.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);d/100==0&&o.append("0"),d/10==0&&o.append("0"),o.append(d);let g=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+Qe.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}dn.HEADER_SIZE=8,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class Ot extends fn{constructor(o,u,d){super(o),this.dateCode=d,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE+Ot.DATE_SIZE)throw new re;let o=new je;return this.encodeCompressedGtin(o,Ot.HEADER_SIZE),this.encodeCompressedWeight(o,Ot.HEADER_SIZE+Ot.GTIN_SIZE,Ot.WEIGHT_SIZE),this.encodeCompressedDate(o,Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Ot.DATE_SIZE);if(d==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=d%32;d/=32;let x=d%12+1;d/=12;let w=d;w/10==0&&o.append("0"),o.append(w),x/10==0&&o.append("0"),o.append(x),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Ot.HEADER_SIZE=8,Ot.WEIGHT_SIZE=20,Ot.DATE_SIZE=16;function xs(L){try{if(L.get(1))return new _t(L);if(!L.get(2))return new Qt(L);switch(st.extractNumericValueFromBitArray(L,1,4)){case 4:return new Pt(L);case 5:return new Ps(L)}switch(st.extractNumericValueFromBitArray(L,1,5)){case 12:return new Sn(L);case 13:return new dn(L)}switch(st.extractNumericValueFromBitArray(L,1,7)){case 56:return new Ot(L,"310","11");case 57:return new Ot(L,"320","11");case 58:return new Ot(L,"310","13");case 59:return new Ot(L,"320","13");case 60:return new Ot(L,"310","15");case 61:return new Ot(L,"320","15");case 62:return new Ot(L,"310","17");case 63:return new Ot(L,"320","17")}}catch(o){throw console.log(o),new hi("unknown decoder: "+L)}}class Dr{constructor(o,u,d,g){this.leftchar=o,this.rightchar=u,this.finderpattern=d,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Dr?Dr.equalsOrNull(o.leftchar,u.leftchar)&&Dr.equalsOrNull(o.rightchar,u.rightchar)&&Dr.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Dr.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ma{constructor(o,u,d){this.pairs=o,this.rowNumber=u,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof ma?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let d;return o.forEach((g,x)=>{u.forEach(w=>{g.getLeftChar().getValue()===w.getLeftChar().getValue()&&g.getRightChar().getValue()===w.getRightChar().getValue()&&g.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(d=!0)})}),d}}class Ee extends Hn{constructor(o){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,d){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(o,u))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof re){if(!this.pairs.length)throw new re;d=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new re}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let d=u;d<this.rows.length;d++){let g=this.rows[d];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(g.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(g);try{return this.checkRows(x,d+1)}catch(w){this.verbose&&console.log(w)}}throw new re}static isValidSequence(o){for(let u of Ee.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let d=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=u[g]){d=!1;break}if(d)return!0}return!1}storeRow(o,u){let d=0,g=!1,x=!1;for(;d<this.rows.length;){let w=this.rows[d];if(w.getRowNumber()>o){x=w.isEquivalent(this.pairs);break}g=w.isEquivalent(this.pairs),d++}x||g||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new ma(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let d of u)if(d.getPairs().length!==o.length){for(let g of d.getPairs())for(let x of o)if(Dr.equals(g,x))break}}static isPartialRow(o,u){for(let d of u){let g=!0;for(let x of o){let w=!1;for(let C of d.getPairs())if(x.equals(C)){w=!0;break}if(!w){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Ae.buildBitArray(o),g=xs(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),C=[x[0],x[1],w[0],w[1]];return new He(g,null,null,C,Oe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),d=o.getRightChar();if(d==null)return!1;let g=d.getChecksumPortion(),x=2;for(let C=1;C<this.pairs.size();++C){let T=this.pairs.get(C);g+=T.getLeftChar().getChecksumPortion(),x++;let M=T.getRightChar();M!=null&&(g+=M.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==u.getValue()}static getNextSecondBar(o,u){let d;return o.get(u)?(d=o.getNextUnset(u),d=o.getNextSet(d)):(d=o.getNextSet(u),d=o.getNextUnset(d)),d}retrieveNextPair(o,u,d){let g=u.length%2==0;this.startFromEven&&(g=!g);let x,w=!0,C=-1;do this.findNextPair(o,u,C),x=this.parseFoundFinderPattern(o,d,g),x==null?C=Ee.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let T=this.decodeDataCharacter(o,x,g,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new re;let M;try{M=this.decodeDataCharacter(o,x,g,!1)}catch(D){M=null,this.verbose&&console.log(D)}return new Dr(T,M,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,d){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w;d>=0?w=d:this.isEmptyPair(u)?w=0:w=u[u.length-1].getFinderPattern().getStartEnd()[1];let C=u.length%2!=0;this.startFromEven&&(C=!C);let T=!1;for(;w<x&&(T=!o.get(w),!!T);)w++;let M=0,D=w;for(let P=w;P<x;P++)if(o.get(P)!=T)g[M]++;else{if(M==3){if(C&&Ee.reverseCounters(g),Ee.isFinderPattern(g)){this.startEnd[0]=D,this.startEnd[1]=P;return}C&&Ee.reverseCounters(g),D+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,M--}else M++;g[M]=1,T=!T}throw new re}static reverseCounters(o){let u=o.length;for(let d=0;d<u/2;++d){let g=o[d];o[d]=o[u-d-1],o[u-d-1]=g}}parseFoundFinderPattern(o,u,d){let g,x,w;if(d){let M=this.startEnd[0]-1;for(;M>=0&&!o.get(M);)M--;M++,g=this.startEnd[0]-M,x=M,w=this.startEnd[1]}else x=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),g=w-this.startEnd[1];let C=this.getDecodeFinderCounters();R.arraycopy(C,0,C,1,C.length-1),C[0]=g;let T;try{T=this.parseFinderValue(C,Ee.FINDER_PATTERNS)}catch{return null}return new oe(T,[x,w],x,w,u)}decodeDataCharacter(o,u,d,g){let x=this.getDataCharacterCounters();for(let rn=0;rn<x.length;rn++)x[rn]=0;if(g)Ee.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Ee.recordPattern(o,u.getStartEnd()[1],x);for(let rn=0,xr=x.length-1;rn<xr;rn++,xr--){let $r=x[rn];x[rn]=x[xr],x[xr]=$r}}let w=17,C=It.sum(new Int32Array(x))/w,T=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(C-T)/T>.3)throw new re;let M=this.getOddCounts(),D=this.getEvenCounts(),P=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let rn=0;rn<x.length;rn++){let xr=1*x[rn]/C,$r=xr+.5;if($r<1){if(xr<.3)throw new re;$r=1}else if($r>8){if(xr>8.7)throw new re;$r=8}let va=rn/2;(rn&1)==0?(M[va]=$r,P[va]=xr-$r):(D[va]=$r,z[va]=xr-$r)}this.adjustOddEvenCounts(w);let q=4*u.getValue()+(d?0:2)+(g?0:1)-1,J=0,te=0;for(let rn=M.length-1;rn>=0;rn--){if(Ee.isNotA1left(u,d,g)){let xr=Ee.WEIGHTS[q][2*rn];te+=M[rn]*xr}J+=M[rn]}let le=0;for(let rn=D.length-1;rn>=0;rn--)if(Ee.isNotA1left(u,d,g)){let xr=Ee.WEIGHTS[q][2*rn+1];le+=D[rn]*xr}let pe=te+le;if((J&1)!=0||J>13||J<4)throw new re;let De=(13-J)/2,Pe=Ee.SYMBOL_WIDEST[De],Me=9-Pe,yt=de.getRSSvalue(M,Pe,!0),gt=de.getRSSvalue(D,Me,!1),kr=Ee.EVEN_TOTAL_SUBSET[De],xi=Ee.GSUM[De],Gr=yt*kr+gt+xi;return new ee(Gr,pe)}static isNotA1left(o,u,d){return!(o.getValue()==0&&u&&d)}adjustOddEvenCounts(o){let u=It.sum(new Int32Array(this.getOddCounts())),d=It.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;u>13?x=!0:u<4&&(g=!0);let w=!1,C=!1;d>13?C=!0:d<4&&(w=!0);let T=u+d-o,M=(u&1)==1,D=(d&1)==0;if(T==1)if(M){if(D)throw new re;x=!0}else{if(!D)throw new re;C=!0}else if(T==-1)if(M){if(D)throw new re;g=!0}else{if(!D)throw new re;w=!0}else if(T==0){if(M){if(!D)throw new re;u<d?(g=!0,C=!0):(x=!0,w=!0)}else if(D)throw new re}else throw new re;if(g){if(x)throw new re;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new re;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class ys extends ee{constructor(o,u,d){super(o,u),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class et extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,d){const g=this.decodePair(u,!1,o,d);et.addOrTally(this.possibleLeftPairs,g),u.reverse();let x=this.decodePair(u,!0,o,d);et.addOrTally(this.possibleRightPairs,x),u.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&et.checkChecksum(w,C))return et.constructResult(w,C)}throw new re}static addOrTally(o,u){if(u==null)return;let d=!1;for(let g of o)if(g.getValue()===u.getValue()){g.incrementCount(),d=!0;break}d||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let d=4537077*o.getValue()+u.getValue(),g=new String(d).toString(),x=new je;for(let M=13-g.length;M>0;M--)x.append("0");x.append(g);let w=0;for(let M=0;M<13;M++){let D=x.charAt(M).charCodeAt(0)-48;w+=(M&1)===0?3*D:D}w=10-w%10,w===10&&(w=0),x.append(w.toString());let C=o.getFinderPattern().getResultPoints(),T=u.getFinderPattern().getResultPoints();return new He(x.toString(),null,0,[C[0],C[1],T[0],T[1]],Oe.RSS_14,new Date().getTime())}static checkChecksum(o,u){let d=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,d===g}decodePair(o,u,d,g){try{let x=this.findFinderPattern(o,u),w=this.parseFoundFinderPattern(o,d,u,x),C=g==null?null:g.get(V.NEED_RESULT_POINT_CALLBACK);if(C!=null){let D=(x[0]+x[1])/2;u&&(D=o.getSize()-1-D),C.foundPossibleResultPoint(new $e(D,d))}let T=this.decodeDataCharacter(o,w,!0),M=this.decodeDataCharacter(o,w,!1);return new ys(1597*T.getValue()+M.getValue(),T.getChecksumPortion()+4*M.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,u,d){let g=this.getDataCharacterCounters();for(let le=0;le<g.length;le++)g[le]=0;if(d)un.recordPatternInReverse(o,u.getStartEnd()[0],g);else{un.recordPattern(o,u.getStartEnd()[1]+1,g);for(let le=0,pe=g.length-1;le<pe;le++,pe--){let De=g[le];g[le]=g[pe],g[pe]=De}}let x=d?16:15,w=It.sum(new Int32Array(g))/x,C=this.getOddCounts(),T=this.getEvenCounts(),M=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let le=0;le<g.length;le++){let pe=g[le]/w,De=Math.floor(pe+.5);De<1?De=1:De>8&&(De=8);let Pe=Math.floor(le/2);(le&1)===0?(C[Pe]=De,M[Pe]=pe-De):(T[Pe]=De,D[Pe]=pe-De)}this.adjustOddEvenCounts(d,x);let P=0,z=0;for(let le=C.length-1;le>=0;le--)z*=9,z+=C[le],P+=C[le];let q=0,J=0;for(let le=T.length-1;le>=0;le--)q*=9,q+=T[le],J+=T[le];let te=z+3*q;if(d){if((P&1)!==0||P>12||P<4)throw new re;let le=(12-P)/2,pe=et.OUTSIDE_ODD_WIDEST[le],De=9-pe,Pe=de.getRSSvalue(C,pe,!1),Me=de.getRSSvalue(T,De,!0),yt=et.OUTSIDE_EVEN_TOTAL_SUBSET[le],gt=et.OUTSIDE_GSUM[le];return new ee(Pe*yt+Me+gt,te)}else{if((J&1)!==0||J>10||J<4)throw new re;let le=(10-J)/2,pe=et.INSIDE_ODD_WIDEST[le],De=9-pe,Pe=de.getRSSvalue(C,pe,!0),Me=de.getRSSvalue(T,De,!1),yt=et.INSIDE_ODD_TOTAL_SUBSET[le],gt=et.INSIDE_GSUM[le];return new ee(Me*yt+Pe+gt,te)}}findFinderPattern(o,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=o.getSize(),x=!1,w=0;for(;w<g&&(x=!o.get(w),u!==x);)w++;let C=0,T=w;for(let M=w;M<g;M++)if(o.get(M)!==x)d[C]++;else{if(C===3){if(Hn.isFinderPattern(d))return[T,M];T+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,C--}else C++;d[C]=1,x=!x}throw new re}parseFoundFinderPattern(o,u,d,g){let x=o.get(g[0]),w=g[0]-1;for(;w>=0&&x!==o.get(w);)w--;w++;const C=g[0]-w,T=this.getDecodeFinderCounters(),M=new Int32Array(T.length);R.arraycopy(T,0,M,1,T.length-1),M[0]=C;const D=this.parseFinderValue(M,et.FINDER_PATTERNS);let P=w,z=g[1];return d&&(P=o.getSize()-1-P,z=o.getSize()-1-z),new oe(D,[w,g[1]],P,z,u)}adjustOddEvenCounts(o,u){let d=It.sum(new Int32Array(this.getOddCounts())),g=It.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,C=!1,T=!1;o?(d>12?w=!0:d<4&&(x=!0),g>12?T=!0:g<4&&(C=!0)):(d>11?w=!0:d<5&&(x=!0),g>10?T=!0:g<4&&(C=!0));let M=d+g-u,D=(d&1)===(o?1:0),P=(g&1)===1;if(M===1)if(D){if(P)throw new re;w=!0}else{if(!P)throw new re;T=!0}else if(M===-1)if(D){if(P)throw new re;x=!0}else{if(!P)throw new re;C=!0}else if(M===0){if(D){if(!P)throw new re;d<g?(x=!0,T=!0):(w=!0,C=!0)}else if(P)throw new re}else throw new re;if(x){if(w)throw new re;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(T)throw new re;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],et.OUTSIDE_GSUM=[0,161,961,2015,2715],et.INSIDE_GSUM=[0,336,1036,1516],et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],et.INSIDE_ODD_WIDEST=[2,4,6,8],et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pn extends un{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const d=o?o.get(V.POSSIBLE_FORMATS):null,g=o&&o.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Oe.EAN_13)||d.includes(Oe.UPC_A)||d.includes(Oe.EAN_8)||d.includes(Oe.UPC_E))&&this.readers.push(new pa(o)),d.includes(Oe.CODE_39)&&this.readers.push(new tn(g)),d.includes(Oe.CODE_128)&&this.readers.push(new Fe),d.includes(Oe.ITF)&&this.readers.push(new Ht),d.includes(Oe.RSS_14)&&this.readers.push(new et),d.includes(Oe.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new pa(o)),this.readers.push(new tn),this.readers.push(new pa(o)),this.readers.push(new Fe),this.readers.push(new Ht),this.readers.push(new et),this.readers.push(new Ee(this.verbose)))}decodeRow(o,u,d){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,u,d)}catch{}throw new re}reset(){this.readers.forEach(o=>o.reset())}}class Ni extends ke{constructor(o=500,u){super(new Pn(u),o,u)}}class wt{constructor(o,u,d){this.ecCodewords=o,this.ecBlocks=[u],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Mt{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(o,u,d,g,x,w){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=d,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=w;let C=0;const T=w.getECCodewords(),M=w.getECBlocks();for(let D of M)C+=D.getCount()*(D.getDataCodewords()+T);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new Y;for(let d of tt.VERSIONS)if(d.symbolSizeRows===o&&d.symbolSizeColumns===u)return d;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new wt(5,new Mt(1,3))),new tt(2,12,12,10,10,new wt(7,new Mt(1,5))),new tt(3,14,14,12,12,new wt(10,new Mt(1,8))),new tt(4,16,16,14,14,new wt(12,new Mt(1,12))),new tt(5,18,18,16,16,new wt(14,new Mt(1,18))),new tt(6,20,20,18,18,new wt(18,new Mt(1,22))),new tt(7,22,22,20,20,new wt(20,new Mt(1,30))),new tt(8,24,24,22,22,new wt(24,new Mt(1,36))),new tt(9,26,26,24,24,new wt(28,new Mt(1,44))),new tt(10,32,32,14,14,new wt(36,new Mt(1,62))),new tt(11,36,36,16,16,new wt(42,new Mt(1,86))),new tt(12,40,40,18,18,new wt(48,new Mt(1,114))),new tt(13,44,44,20,20,new wt(56,new Mt(1,144))),new tt(14,48,48,22,22,new wt(68,new Mt(1,174))),new tt(15,52,52,24,24,new wt(42,new Mt(2,102))),new tt(16,64,64,14,14,new wt(56,new Mt(2,140))),new tt(17,72,72,16,16,new wt(36,new Mt(4,92))),new tt(18,80,80,18,18,new wt(48,new Mt(4,114))),new tt(19,88,88,20,20,new wt(56,new Mt(4,144))),new tt(20,96,96,22,22,new wt(68,new Mt(4,174))),new tt(21,104,104,24,24,new wt(56,new Mt(6,136))),new tt(22,120,120,18,18,new wt(68,new Mt(6,175))),new tt(23,132,132,20,20,new wt(62,new Mt(8,163))),new tt(24,144,144,22,22,new wt(62,new Mt(8,156),new Mt(2,155))),new tt(25,8,18,6,16,new wt(7,new Mt(1,5))),new tt(26,8,32,6,14,new wt(11,new Mt(1,10))),new tt(27,12,26,10,24,new wt(14,new Mt(1,16))),new tt(28,12,36,10,16,new wt(18,new Mt(1,22))),new tt(29,16,36,14,16,new wt(24,new Mt(1,32))),new tt(30,16,48,14,22,new wt(28,new Mt(1,49)))]}}tt.VERSIONS=tt.buildVersions();class qi{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new Y;this.version=qi.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),d=o.getWidth();return tt.getVersionForDimensions(u,d)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,d=4,g=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let C=!1,T=!1,M=!1,D=!1;do if(d===x&&g===0&&!C)o[u++]=this.readCorner1(x,w)&255,d-=2,g+=2,C=!0;else if(d===x-2&&g===0&&(w&3)!==0&&!T)o[u++]=this.readCorner2(x,w)&255,d-=2,g+=2,T=!0;else if(d===x+4&&g===2&&(w&7)===0&&!M)o[u++]=this.readCorner3(x,w)&255,d-=2,g+=2,M=!0;else if(d===x-2&&g===0&&(w&7)===4&&!D)o[u++]=this.readCorner4(x,w)&255,d-=2,g+=2,D=!0;else{do d<x&&g>=0&&!this.readMappingMatrix.get(g,d)&&(o[u++]=this.readUtah(d,g,x,w)&255),d-=2,g+=2;while(d>=0&&g<w);d+=1,g+=3;do d>=0&&g<w&&!this.readMappingMatrix.get(g,d)&&(o[u++]=this.readUtah(d,g,x,w)&255),d+=2,g-=2;while(d<x&&g>=0);d+=3,g+=1}while(d<x||g<w);if(u!==this.version.getTotalCodewords())throw new Y;return o}readModule(o,u,d,g){return o<0&&(o+=d,u+=4-(d+4&7)),u<0&&(u+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,d,g){let x=0;return this.readModule(o-2,u-2,d,g)&&(x|=1),x<<=1,this.readModule(o-2,u-1,d,g)&&(x|=1),x<<=1,this.readModule(o-1,u-2,d,g)&&(x|=1),x<<=1,this.readModule(o-1,u-1,d,g)&&(x|=1),x<<=1,this.readModule(o-1,u,d,g)&&(x|=1),x<<=1,this.readModule(o,u-2,d,g)&&(x|=1),x<<=1,this.readModule(o,u-1,d,g)&&(x|=1),x<<=1,this.readModule(o,u,d,g)&&(x|=1),x}readCorner1(o,u){let d=0;return this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,1,o,u)&&(d|=1),d<<=1,this.readModule(o-1,2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(2,u-1,o,u)&&(d|=1),d<<=1,this.readModule(3,u-1,o,u)&&(d|=1),d}readCorner2(o,u){let d=0;return this.readModule(o-3,0,o,u)&&(d|=1),d<<=1,this.readModule(o-2,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(0,u-4,o,u)&&(d|=1),d<<=1,this.readModule(0,u-3,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d}readCorner3(o,u){let d=0;return this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(0,u-3,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-3,o,u)&&(d|=1),d<<=1,this.readModule(1,u-2,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d}readCorner4(o,u){let d=0;return this.readModule(o-3,0,o,u)&&(d|=1),d<<=1,this.readModule(o-2,0,o,u)&&(d|=1),d<<=1,this.readModule(o-1,0,o,u)&&(d|=1),d<<=1,this.readModule(0,u-2,o,u)&&(d|=1),d<<=1,this.readModule(0,u-1,o,u)&&(d|=1),d<<=1,this.readModule(1,u-1,o,u)&&(d|=1),d<<=1,this.readModule(2,u-1,o,u)&&(d|=1),d<<=1,this.readModule(3,u-1,o,u)&&(d|=1),d}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new v("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=u/g|0,C=d/x|0,T=w*g,M=C*x,D=new Ue(M,T);for(let P=0;P<w;++P){const z=P*g;for(let q=0;q<C;++q){const J=q*x;for(let te=0;te<g;++te){const le=P*(g+2)+1+te,pe=z+te;for(let De=0;De<x;++De){const Pe=q*(x+2)+1+De;if(o.get(Pe,le)){const Me=J+De;D.set(Me,pe)}}}}}return D}}class ga{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const d=u.getECBlocks();let g=0;const x=d.getECBlocks();for(let te of x)g+=te.getCount();const w=new Array(g);let C=0;for(let te of x)for(let le=0;le<te.getCount();le++){const pe=te.getDataCodewords(),De=d.getECCodewords()+pe;w[C++]=new ga(pe,new Uint8Array(De))}const M=w[0].codewords.length-d.getECCodewords(),D=M-1;let P=0;for(let te=0;te<D;te++)for(let le=0;le<C;le++)w[le].codewords[te]=o[P++];const z=u.getVersionNumber()===24,q=z?8:C;for(let te=0;te<q;te++)w[te].codewords[M-1]=o[P++];const J=w[0].codewords.length;for(let te=M;te<J;te++)for(let le=0;le<C;le++){const pe=z?(le+8)%C:le,De=z&&pe>7?te-1:te;w[pe].codewords[De]=o[P++]}if(P!==o.length)throw new v;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Cr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new v(""+o);let u=0,d=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(d>0){const w=8-d,C=o<w?o:w,T=w-C,M=255>>8-C<<T;u=(x[g]&M)>>T,o-=C,d+=C,d===8&&(d=0,g++)}if(o>0){for(;o>=8;)u=u<<8|x[g]&255,g++,o-=8;if(o>0){const w=8-o,C=255>>w<<w;u=u<<o|(x[g]&C)>>w,d+=o}}return this.bitOffset=d,this.byteOffset=g,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vn;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vn||(Vn={}));class js{static decode(o){const u=new Cr(o),d=new je,g=new je,x=new Array;let w=Vn.ASCII_ENCODE;do if(w===Vn.ASCII_ENCODE)w=this.decodeAsciiSegment(u,d,g);else{switch(w){case Vn.C40_ENCODE:this.decodeC40Segment(u,d);break;case Vn.TEXT_ENCODE:this.decodeTextSegment(u,d);break;case Vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,d);break;case Vn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,d);break;case Vn.BASE256_ENCODE:this.decodeBase256Segment(u,d,x);break;default:throw new Y}w=Vn.ASCII_ENCODE}while(w!==Vn.PAD_ENCODE&&u.available()>0);return g.length()>0&&d.append(g.toString()),new Ur(o,d.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,d){let g=!1;do{let x=o.readBits(8);if(x===0)throw new Y;if(x<=128)return g&&(x+=128),u.append(String.fromCharCode(x-1)),Vn.ASCII_ENCODE;if(x===129)return Vn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&u.append("0"),u.append(""+w)}else switch(x){case 230:return Vn.C40_ENCODE;case 231:return Vn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:u.append("[)>05"),d.insert(0,"");break;case 237:u.append("[)>06"),d.insert(0,"");break;case 238:return Vn.ANSIX12_ENCODE;case 239:return Vn.TEXT_ENCODE;case 240:return Vn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new Y;break}}while(o.available()>0);return Vn.ASCII_ENCODE}static decodeC40Segment(o,u){let d=!1;const g=[];let x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const T=g[C];switch(x){case 0:if(T<3)x=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const M=this.C40_BASIC_SET_CHARS[T];d?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),d=!1):u.append(M)}else throw new Y;break;case 1:d?(u.append(String.fromCharCode(T+128)),d=!1):u.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const M=this.C40_SHIFT2_SET_CHARS[T];d?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),d=!1):u.append(M)}else switch(T){case 27:u.append("");break;case 30:d=!0;break;default:throw new Y}x=0;break;case 3:d?(u.append(String.fromCharCode(T+224)),d=!1):u.append(String.fromCharCode(T+96)),x=0;break;default:throw new Y}}}while(o.available()>0)}static decodeTextSegment(o,u){let d=!1,g=[],x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const T=g[C];switch(x){case 0:if(T<3)x=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const M=this.TEXT_BASIC_SET_CHARS[T];d?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),d=!1):u.append(M)}else throw new Y;break;case 1:d?(u.append(String.fromCharCode(T+128)),d=!1):u.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const M=this.TEXT_SHIFT2_SET_CHARS[T];d?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),d=!1):u.append(M)}else switch(T){case 27:u.append("");break;case 30:d=!0;break;default:throw new Y}x=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const M=this.TEXT_SHIFT3_SET_CHARS[T];d?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),d=!1):u.append(M),x=0}else throw new Y;break;default:throw new Y}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const d=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),d);for(let x=0;x<3;x++){const w=d[x];switch(w){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(w<14)u.append(String.fromCharCode(w+44));else if(w<40)u.append(String.fromCharCode(w+51));else throw new Y;break}}}while(o.available()>0)}static parseTwoBytes(o,u,d){let g=(o<<8)+u-1,x=Math.floor(g/1600);d[0]=x,g-=x*1600,x=Math.floor(g/40),d[1]=x,d[2]=g-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let d=0;d<4;d++){let g=o.readBits(6);if(g===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(g&32)===0&&(g|=64),u.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,u,d){let g=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),g++);let w;if(x===0?w=o.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(o.readBits(8),g++),w<0)throw new Y;const C=new Uint8Array(w);for(let T=0;T<w;T++){if(o.available()<8)throw new Y;C[T]=this.unrandomize255State(o.readBits(8),g++)}d.push(C);try{u.append(_e.decode(C,ge.ISO88591))}catch(T){throw new hi("Platform does not support required encoding: "+T.message)}}static unrandomize255State(o,u){const d=149*u%255+1,g=o-d;return g>=0?g:g+256}}js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],js.TEXT_SHIFT2_SET_CHARS=js.C40_SHIFT2_SET_CHARS,js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class oc{constructor(){this.rsDecoder=new fa(Lt.DATA_MATRIX_FIELD_256)}decode(o){const u=new qi(o),d=u.getVersion(),g=u.readCodewords(),x=ga.getDataBlocks(g,d);let w=0;for(let M of x)w+=M.getNumDataCodewords();const C=new Uint8Array(w),T=x.length;for(let M=0;M<T;M++){const D=x[M],P=D.getCodewords(),z=D.getNumDataCodewords();this.correctErrors(P,z);for(let q=0;q<z;q++)C[q*T+M]=P[q]}return js.decode(C)}correctErrors(o,u){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-u)}catch{throw new N}for(let g=0;g<u;g++)o[g]=d[g]}}class Dn{constructor(o){this.image=o,this.rectangleDetector=new mi(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new re;u=this.shiftToModuleCenter(u);const d=u[0],g=u[1],x=u[2],w=u[3];let C=this.transitionsBetween(d,w)+1,T=this.transitionsBetween(x,w)+1;(C&1)===1&&(C+=1),(T&1)===1&&(T+=1),4*C<7*T&&4*T<7*C&&(C=T=Math.max(C,T));let M=Dn.sampleGrid(this.image,d,g,x,w,C,T);return new pi(M,[d,g,x,w])}static shiftPoint(o,u,d){let g=(u.getX()-o.getX())/(d+1),x=(u.getY()-o.getY())/(d+1);return new $e(o.getX()+g,o.getY()+x)}static moveAway(o,u,d){let g=o.getX(),x=o.getY();return g<u?g-=1:g+=1,x<d?x-=1:x+=1,new $e(g,x)}detectSolid1(o){let u=o[0],d=o[1],g=o[3],x=o[2],w=this.transitionsBetween(u,d),C=this.transitionsBetween(d,g),T=this.transitionsBetween(g,x),M=this.transitionsBetween(x,u),D=w,P=[x,u,d,g];return D>C&&(D=C,P[0]=u,P[1]=d,P[2]=g,P[3]=x),D>T&&(D=T,P[0]=d,P[1]=g,P[2]=x,P[3]=u),D>M&&(P[0]=g,P[1]=x,P[2]=u,P[3]=d),P}detectSolid2(o){let u=o[0],d=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=Dn.shiftPoint(d,g,(w+1)*4),T=Dn.shiftPoint(g,d,(w+1)*4),M=this.transitionsBetween(C,u),D=this.transitionsBetween(T,x);return M<D?(o[0]=u,o[1]=d,o[2]=g,o[3]=x):(o[0]=d,o[1]=g,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],d=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=this.transitionsBetween(d,x),T=Dn.shiftPoint(u,d,(C+1)*4),M=Dn.shiftPoint(g,d,(w+1)*4);w=this.transitionsBetween(T,x),C=this.transitionsBetween(M,x);let D=new $e(x.getX()+(g.getX()-d.getX())/(w+1),x.getY()+(g.getY()-d.getY())/(w+1)),P=new $e(x.getX()+(u.getX()-d.getX())/(C+1),x.getY()+(u.getY()-d.getY())/(C+1));if(!this.isValid(D))return this.isValid(P)?P:null;if(!this.isValid(P))return D;let z=this.transitionsBetween(T,D)+this.transitionsBetween(M,D),q=this.transitionsBetween(T,P)+this.transitionsBetween(M,P);return z>q?D:P}shiftToModuleCenter(o){let u=o[0],d=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x)+1,C=this.transitionsBetween(g,x)+1,T=Dn.shiftPoint(u,d,C*4),M=Dn.shiftPoint(g,d,w*4);w=this.transitionsBetween(T,x)+1,C=this.transitionsBetween(M,x)+1,(w&1)===1&&(w+=1),(C&1)===1&&(C+=1);let D=(u.getX()+d.getX()+g.getX()+x.getX())/4,P=(u.getY()+d.getY()+g.getY()+x.getY())/4;u=Dn.moveAway(u,D,P),d=Dn.moveAway(d,D,P),g=Dn.moveAway(g,D,P),x=Dn.moveAway(x,D,P);let z,q;return T=Dn.shiftPoint(u,d,C*4),T=Dn.shiftPoint(T,x,w*4),z=Dn.shiftPoint(d,u,C*4),z=Dn.shiftPoint(z,g,w*4),M=Dn.shiftPoint(g,x,C*4),M=Dn.shiftPoint(M,d,w*4),q=Dn.shiftPoint(x,g,C*4),q=Dn.shiftPoint(q,u,w*4),[T,z,M,q]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,d,g,x,w,C){return ir.getInstance().sampleGrid(o,w,C,.5,.5,w-.5,.5,w-.5,C-.5,.5,C-.5,u.getX(),u.getY(),x.getX(),x.getY(),g.getX(),g.getY(),d.getX(),d.getY())}transitionsBetween(o,u){let d=Math.trunc(o.getX()),g=Math.trunc(o.getY()),x=Math.trunc(u.getX()),w=Math.trunc(u.getY()),C=Math.abs(w-g)>Math.abs(x-d);if(C){let te=d;d=g,g=te,te=x,x=w,w=te}let T=Math.abs(x-d),M=Math.abs(w-g),D=-T/2,P=g<w?1:-1,z=d<x?1:-1,q=0,J=this.image.get(C?g:d,C?d:g);for(let te=d,le=g;te!==x;te+=z){let pe=this.image.get(C?le:te,C?te:le);if(pe!==J&&(q++,J=pe),D+=M,D>0){if(le===w)break;le+=P,D-=T}}return q}}class Oi{constructor(){this.decoder=new oc}decode(o,u=null){let d,g;if(u!=null&&u.has(V.PURE_BARCODE)){const M=Oi.extractPureBits(o.getBlackMatrix());d=this.decoder.decode(M),g=Oi.NO_POINTS}else{const M=new Dn(o.getBlackMatrix()).detect();d=this.decoder.decode(M.getBits()),g=M.getPoints()}const x=d.getRawBytes(),w=new He(d.getText(),x,8*x.length,g,Oe.DATA_MATRIX,R.currentTimeMillis()),C=d.getByteSegments();C!=null&&w.putMetadata(mt.BYTE_SEGMENTS,C);const T=d.getECLevel();return T!=null&&w.putMetadata(mt.ERROR_CORRECTION_LEVEL,T),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(u==null||d==null)throw new re;const g=this.moduleSize(u,o);let x=u[1];const w=d[1];let C=u[0];const M=(d[0]-C+1)/g,D=(w-x+1)/g;if(M<=0||D<=0)throw new re;const P=g/2;x+=P,C+=P;const z=new Ue(M,D);for(let q=0;q<D;q++){const J=x+q*g;for(let te=0;te<M;te++)o.get(C+te*g,J)&&z.set(te,q)}return z}static moduleSize(o,u){const d=u.getWidth();let g=o[0];const x=o[1];for(;g<d&&u.get(g,x);)g++;if(g===d)throw new re;const w=g-o[0];if(w===0)throw new re;return w}}Oi.NO_POINTS=[];class $0 extends ke{constructor(o=500){super(new Oi,o)}}var hr;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(hr||(hr={}));class Jt{constructor(o,u,d){this.value=o,this.stringValue=u,this.bits=d,Jt.FOR_BITS.set(d,this),Jt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Jt.L;case"M":return Jt.M;case"Q":return Jt.Q;case"H":return Jt.H;default:throw new b(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Jt))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=Jt.FOR_BITS.size)throw new v;return Jt.FOR_BITS.get(o)}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.L=new Jt(hr.L,"L",1),Jt.M=new Jt(hr.M,"M",0),Jt.Q=new Jt(hr.Q,"Q",3),Jt.H=new Jt(hr.H,"H",2);class pr{constructor(o){this.errorCorrectionLevel=Jt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return j.bitCount(o^u)}static decodeFormatInformation(o,u){const d=pr.doDecodeFormatInformation(o,u);return d!==null?d:pr.doDecodeFormatInformation(o^pr.FORMAT_INFO_MASK_QR,u^pr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let d=Number.MAX_SAFE_INTEGER,g=0;for(const x of pr.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===o||w===u)return new pr(x[1]);let C=pr.numBitsDiffering(o,w);C<d&&(g=x[1],d=C),o!==u&&(C=pr.numBitsDiffering(u,w),C<d&&(g=x[1],d=C))}return d<=3?new pr(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof pr))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}pr.FORMAT_INFO_MASK_QR=21522,pr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const d of u)o+=d.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ${constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(o,u,...d){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=d;let g=0;const x=d[0].getECCodewordsPerBlock(),w=d[0].getECBlocks();for(const C of w)g+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new Y;try{return this.getVersionForNumber((o-17)/4)}catch{throw new Y}}static getVersionForNumber(o){if(o<1||o>40)throw new v;return nt.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,d=0;for(let g=0;g<nt.VERSION_DECODE_INFO.length;g++){const x=nt.VERSION_DECODE_INFO[g];if(x===o)return nt.getVersionForNumber(g+7);const w=pr.numBitsDiffering(o,x);w<u&&(d=g+7,u=w)}return u<=3?nt.getVersionForNumber(d):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Ue(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const d=this.alignmentPatternCenters.length;for(let g=0;g<d;g++){const x=this.alignmentPatternCenters[g]-2;for(let w=0;w<d;w++)g===0&&(w===0||w===d-1)||g===d-1&&w===0||u.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),nt.VERSIONS=[new nt(1,new Int32Array(0),new ce(7,new $(1,19)),new ce(10,new $(1,16)),new ce(13,new $(1,13)),new ce(17,new $(1,9))),new nt(2,Int32Array.from([6,18]),new ce(10,new $(1,34)),new ce(16,new $(1,28)),new ce(22,new $(1,22)),new ce(28,new $(1,16))),new nt(3,Int32Array.from([6,22]),new ce(15,new $(1,55)),new ce(26,new $(1,44)),new ce(18,new $(2,17)),new ce(22,new $(2,13))),new nt(4,Int32Array.from([6,26]),new ce(20,new $(1,80)),new ce(18,new $(2,32)),new ce(26,new $(2,24)),new ce(16,new $(4,9))),new nt(5,Int32Array.from([6,30]),new ce(26,new $(1,108)),new ce(24,new $(2,43)),new ce(18,new $(2,15),new $(2,16)),new ce(22,new $(2,11),new $(2,12))),new nt(6,Int32Array.from([6,34]),new ce(18,new $(2,68)),new ce(16,new $(4,27)),new ce(24,new $(4,19)),new ce(28,new $(4,15))),new nt(7,Int32Array.from([6,22,38]),new ce(20,new $(2,78)),new ce(18,new $(4,31)),new ce(18,new $(2,14),new $(4,15)),new ce(26,new $(4,13),new $(1,14))),new nt(8,Int32Array.from([6,24,42]),new ce(24,new $(2,97)),new ce(22,new $(2,38),new $(2,39)),new ce(22,new $(4,18),new $(2,19)),new ce(26,new $(4,14),new $(2,15))),new nt(9,Int32Array.from([6,26,46]),new ce(30,new $(2,116)),new ce(22,new $(3,36),new $(2,37)),new ce(20,new $(4,16),new $(4,17)),new ce(24,new $(4,12),new $(4,13))),new nt(10,Int32Array.from([6,28,50]),new ce(18,new $(2,68),new $(2,69)),new ce(26,new $(4,43),new $(1,44)),new ce(24,new $(6,19),new $(2,20)),new ce(28,new $(6,15),new $(2,16))),new nt(11,Int32Array.from([6,30,54]),new ce(20,new $(4,81)),new ce(30,new $(1,50),new $(4,51)),new ce(28,new $(4,22),new $(4,23)),new ce(24,new $(3,12),new $(8,13))),new nt(12,Int32Array.from([6,32,58]),new ce(24,new $(2,92),new $(2,93)),new ce(22,new $(6,36),new $(2,37)),new ce(26,new $(4,20),new $(6,21)),new ce(28,new $(7,14),new $(4,15))),new nt(13,Int32Array.from([6,34,62]),new ce(26,new $(4,107)),new ce(22,new $(8,37),new $(1,38)),new ce(24,new $(8,20),new $(4,21)),new ce(22,new $(12,11),new $(4,12))),new nt(14,Int32Array.from([6,26,46,66]),new ce(30,new $(3,115),new $(1,116)),new ce(24,new $(4,40),new $(5,41)),new ce(20,new $(11,16),new $(5,17)),new ce(24,new $(11,12),new $(5,13))),new nt(15,Int32Array.from([6,26,48,70]),new ce(22,new $(5,87),new $(1,88)),new ce(24,new $(5,41),new $(5,42)),new ce(30,new $(5,24),new $(7,25)),new ce(24,new $(11,12),new $(7,13))),new nt(16,Int32Array.from([6,26,50,74]),new ce(24,new $(5,98),new $(1,99)),new ce(28,new $(7,45),new $(3,46)),new ce(24,new $(15,19),new $(2,20)),new ce(30,new $(3,15),new $(13,16))),new nt(17,Int32Array.from([6,30,54,78]),new ce(28,new $(1,107),new $(5,108)),new ce(28,new $(10,46),new $(1,47)),new ce(28,new $(1,22),new $(15,23)),new ce(28,new $(2,14),new $(17,15))),new nt(18,Int32Array.from([6,30,56,82]),new ce(30,new $(5,120),new $(1,121)),new ce(26,new $(9,43),new $(4,44)),new ce(28,new $(17,22),new $(1,23)),new ce(28,new $(2,14),new $(19,15))),new nt(19,Int32Array.from([6,30,58,86]),new ce(28,new $(3,113),new $(4,114)),new ce(26,new $(3,44),new $(11,45)),new ce(26,new $(17,21),new $(4,22)),new ce(26,new $(9,13),new $(16,14))),new nt(20,Int32Array.from([6,34,62,90]),new ce(28,new $(3,107),new $(5,108)),new ce(26,new $(3,41),new $(13,42)),new ce(30,new $(15,24),new $(5,25)),new ce(28,new $(15,15),new $(10,16))),new nt(21,Int32Array.from([6,28,50,72,94]),new ce(28,new $(4,116),new $(4,117)),new ce(26,new $(17,42)),new ce(28,new $(17,22),new $(6,23)),new ce(30,new $(19,16),new $(6,17))),new nt(22,Int32Array.from([6,26,50,74,98]),new ce(28,new $(2,111),new $(7,112)),new ce(28,new $(17,46)),new ce(30,new $(7,24),new $(16,25)),new ce(24,new $(34,13))),new nt(23,Int32Array.from([6,30,54,78,102]),new ce(30,new $(4,121),new $(5,122)),new ce(28,new $(4,47),new $(14,48)),new ce(30,new $(11,24),new $(14,25)),new ce(30,new $(16,15),new $(14,16))),new nt(24,Int32Array.from([6,28,54,80,106]),new ce(30,new $(6,117),new $(4,118)),new ce(28,new $(6,45),new $(14,46)),new ce(30,new $(11,24),new $(16,25)),new ce(30,new $(30,16),new $(2,17))),new nt(25,Int32Array.from([6,32,58,84,110]),new ce(26,new $(8,106),new $(4,107)),new ce(28,new $(8,47),new $(13,48)),new ce(30,new $(7,24),new $(22,25)),new ce(30,new $(22,15),new $(13,16))),new nt(26,Int32Array.from([6,30,58,86,114]),new ce(28,new $(10,114),new $(2,115)),new ce(28,new $(19,46),new $(4,47)),new ce(28,new $(28,22),new $(6,23)),new ce(30,new $(33,16),new $(4,17))),new nt(27,Int32Array.from([6,34,62,90,118]),new ce(30,new $(8,122),new $(4,123)),new ce(28,new $(22,45),new $(3,46)),new ce(30,new $(8,23),new $(26,24)),new ce(30,new $(12,15),new $(28,16))),new nt(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new $(3,117),new $(10,118)),new ce(28,new $(3,45),new $(23,46)),new ce(30,new $(4,24),new $(31,25)),new ce(30,new $(11,15),new $(31,16))),new nt(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new $(7,116),new $(7,117)),new ce(28,new $(21,45),new $(7,46)),new ce(30,new $(1,23),new $(37,24)),new ce(30,new $(19,15),new $(26,16))),new nt(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new $(5,115),new $(10,116)),new ce(28,new $(19,47),new $(10,48)),new ce(30,new $(15,24),new $(25,25)),new ce(30,new $(23,15),new $(25,16))),new nt(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new $(13,115),new $(3,116)),new ce(28,new $(2,46),new $(29,47)),new ce(30,new $(42,24),new $(1,25)),new ce(30,new $(23,15),new $(28,16))),new nt(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new $(17,115)),new ce(28,new $(10,46),new $(23,47)),new ce(30,new $(10,24),new $(35,25)),new ce(30,new $(19,15),new $(35,16))),new nt(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new $(17,115),new $(1,116)),new ce(28,new $(14,46),new $(21,47)),new ce(30,new $(29,24),new $(19,25)),new ce(30,new $(11,15),new $(46,16))),new nt(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new $(13,115),new $(6,116)),new ce(28,new $(14,46),new $(23,47)),new ce(30,new $(44,24),new $(7,25)),new ce(30,new $(59,16),new $(1,17))),new nt(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new $(12,121),new $(7,122)),new ce(28,new $(12,47),new $(26,48)),new ce(30,new $(39,24),new $(14,25)),new ce(30,new $(22,15),new $(41,16))),new nt(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new $(6,121),new $(14,122)),new ce(28,new $(6,47),new $(34,48)),new ce(30,new $(46,24),new $(10,25)),new ce(30,new $(2,15),new $(64,16))),new nt(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new $(17,122),new $(4,123)),new ce(28,new $(29,46),new $(14,47)),new ce(30,new $(49,24),new $(10,25)),new ce(30,new $(24,15),new $(46,16))),new nt(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new $(4,122),new $(18,123)),new ce(28,new $(13,46),new $(32,47)),new ce(30,new $(48,24),new $(14,25)),new ce(30,new $(42,15),new $(32,16))),new nt(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new $(20,117),new $(4,118)),new ce(28,new $(40,47),new $(7,48)),new ce(30,new $(43,24),new $(22,25)),new ce(30,new $(10,15),new $(67,16))),new nt(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new $(19,118),new $(6,119)),new ce(28,new $(18,47),new $(31,48)),new ce(30,new $(34,24),new $(34,25)),new ce(30,new $(20,15),new $(61,16)))];var Kn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(Kn||(Kn={}));class mr{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let d=0;d<u;d++)for(let g=0;g<u;g++)this.isMasked(d,g)&&o.flip(g,d)}}mr.values=new Map([[Kn.DATA_MASK_000,new mr(Kn.DATA_MASK_000,(L,o)=>(L+o&1)===0)],[Kn.DATA_MASK_001,new mr(Kn.DATA_MASK_001,(L,o)=>(L&1)===0)],[Kn.DATA_MASK_010,new mr(Kn.DATA_MASK_010,(L,o)=>o%3===0)],[Kn.DATA_MASK_011,new mr(Kn.DATA_MASK_011,(L,o)=>(L+o)%3===0)],[Kn.DATA_MASK_100,new mr(Kn.DATA_MASK_100,(L,o)=>(Math.floor(L/2)+Math.floor(o/3)&1)===0)],[Kn.DATA_MASK_101,new mr(Kn.DATA_MASK_101,(L,o)=>L*o%6===0)],[Kn.DATA_MASK_110,new mr(Kn.DATA_MASK_110,(L,o)=>L*o%6<3)],[Kn.DATA_MASK_111,new mr(Kn.DATA_MASK_111,(L,o)=>(L+o+L*o%3&1)===0)]]);class q0{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new Y;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let d=0;const g=u-7;for(let x=u-1;x>=g;x--)d=this.copyBit(8,x,d);for(let x=u-8;x<u;x++)d=this.copyBit(x,8,d);if(this.parsedFormatInfo=pr.decodeFormatInformation(o,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return nt.getVersionForNumber(u);let d=0;const g=o-11;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)d=this.copyBit(C,w,d);let x=nt.decodeVersionInformation(d);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;d=0;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)d=this.copyBit(w,C,d);if(x=nt.decodeVersionInformation(d),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new Y}copyBit(o,u,d){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?d<<1|1:d<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),d=mr.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,g);const x=u.buildFunctionPattern();let w=!0;const C=new Uint8Array(u.getTotalCodewords());let T=0,M=0,D=0;for(let P=g-1;P>0;P-=2){P===6&&P--;for(let z=0;z<g;z++){const q=w?g-1-z:z;for(let J=0;J<2;J++)x.get(P-J,q)||(D++,M<<=1,this.bitMatrix.get(P-J,q)&&(M|=1),D===8&&(C[T++]=M,D=0,M=0))}w=!w}if(T!==u.getTotalCodewords())throw new Y;return C}remask(){if(this.parsedFormatInfo===null)return;const o=mr.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,d=o.getWidth();u<d;u++)for(let g=u+1,x=o.getHeight();g<x;g++)o.get(u,g)!==o.get(g,u)&&(o.flip(g,u),o.flip(u,g))}}class lc{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,d){if(o.length!==u.getTotalCodewords())throw new v;const g=u.getECBlocksForLevel(d);let x=0;const w=g.getECBlocks();for(const J of w)x+=J.getCount();const C=new Array(x);let T=0;for(const J of w)for(let te=0;te<J.getCount();te++){const le=J.getDataCodewords(),pe=g.getECCodewordsPerBlock()+le;C[T++]=new lc(le,new Uint8Array(pe))}const M=C[0].codewords.length;let D=C.length-1;for(;D>=0&&C[D].codewords.length!==M;)D--;D++;const P=M-g.getECCodewordsPerBlock();let z=0;for(let J=0;J<P;J++)for(let te=0;te<T;te++)C[te].codewords[J]=o[z++];for(let J=D;J<T;J++)C[J].codewords[P]=o[z++];const q=C[0].codewords.length;for(let J=P;J<q;J++)for(let te=0;te<T;te++){const le=te<D?J:J+1;C[te].codewords[le]=o[z++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ni;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(ni||(ni={}));class rt{constructor(o,u,d,g){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=d,this.bits=g,rt.FOR_BITS.set(g,this),rt.FOR_VALUE.set(o,this)}static forBits(o){const u=rt.FOR_BITS.get(o);if(u===void 0)throw new v;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let d;return u<=9?d=0:u<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof rt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(ni.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(ni.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(ni.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(ni.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(ni.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(ni.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(ni.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(ni.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(ni.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(ni.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class On{static decode(o,u,d,g){const x=new Cr(o);let w=new je;const C=new Array;let T=-1,M=-1;try{let D=null,P=!1,z;do{if(x.available()<4)z=rt.TERMINATOR;else{const q=x.readBits(4);z=rt.forBits(q)}switch(z){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:P=!0;break;case rt.STRUCTURED_APPEND:if(x.available()<16)throw new Y;T=x.readBits(8),M=x.readBits(8);break;case rt.ECI:const q=On.parseECIValue(x);if(D=K.getCharacterSetECIByValue(q),D===null)throw new Y;break;case rt.HANZI:const J=x.readBits(4),te=x.readBits(z.getCharacterCountBits(u));J===On.GB2312_SUBSET&&On.decodeHanziSegment(x,w,te);break;default:const le=x.readBits(z.getCharacterCountBits(u));switch(z){case rt.NUMERIC:On.decodeNumericSegment(x,w,le);break;case rt.ALPHANUMERIC:On.decodeAlphanumericSegment(x,w,le,P);break;case rt.BYTE:On.decodeByteSegment(x,w,le,D,C,g);break;case rt.KANJI:On.decodeKanjiSegment(x,w,le);break;default:throw new Y}break}}while(z!==rt.TERMINATOR)}catch{throw new Y}return new Ur(o,w.toString(),C.length===0?null:C,d===null?null:d.toString(),T,M)}static decodeHanziSegment(o,u,d){if(d*13>o.available())throw new Y;const g=new Uint8Array(2*d);let x=0;for(;d>0;){const w=o.readBits(13);let C=w/96<<8&4294967295|w%96;C<959?C+=41377:C+=42657,g[x]=C>>8&255,g[x+1]=C&255,x+=2,d--}try{u.append(_e.decode(g,ge.GB2312))}catch(w){throw new Y(w)}}static decodeKanjiSegment(o,u,d){if(d*13>o.available())throw new Y;const g=new Uint8Array(2*d);let x=0;for(;d>0;){const w=o.readBits(13);let C=w/192<<8&4294967295|w%192;C<7936?C+=33088:C+=49472,g[x]=C>>8,g[x+1]=C,x+=2,d--}try{u.append(_e.decode(g,ge.SHIFT_JIS))}catch(w){throw new Y(w)}}static decodeByteSegment(o,u,d,g,x,w){if(8*d>o.available())throw new Y;const C=new Uint8Array(d);for(let M=0;M<d;M++)C[M]=o.readBits(8);let T;g===null?T=ge.guessEncoding(C,w):T=g.getName();try{u.append(_e.decode(C,T))}catch(M){throw new Y(M)}x.push(C)}static toAlphaNumericChar(o){if(o>=On.ALPHANUMERIC_CHARS.length)throw new Y;return On.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,d,g){const x=u.length();for(;d>1;){if(o.available()<11)throw new Y;const w=o.readBits(11);u.append(On.toAlphaNumericChar(Math.floor(w/45))),u.append(On.toAlphaNumericChar(w%45)),d-=2}if(d===1){if(o.available()<6)throw new Y;u.append(On.toAlphaNumericChar(o.readBits(6)))}if(g)for(let w=x;w<u.length();w++)u.charAt(w)==="%"&&(w<u.length()-1&&u.charAt(w+1)==="%"?u.deleteCharAt(w+1):u.setCharAt(w,""))}static decodeNumericSegment(o,u,d){for(;d>=3;){if(o.available()<10)throw new Y;const g=o.readBits(10);if(g>=1e3)throw new Y;u.append(On.toAlphaNumericChar(Math.floor(g/100))),u.append(On.toAlphaNumericChar(Math.floor(g/10)%10)),u.append(On.toAlphaNumericChar(g%10)),d-=3}if(d===2){if(o.available()<7)throw new Y;const g=o.readBits(7);if(g>=100)throw new Y;u.append(On.toAlphaNumericChar(Math.floor(g/10))),u.append(On.toAlphaNumericChar(g%10))}else if(d===1){if(o.available()<4)throw new Y;const g=o.readBits(4);if(g>=10)throw new Y;u.append(On.toAlphaNumericChar(g))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const d=o.readBits(8);return(u&63)<<8&4294967295|d}if((u&224)===192){const d=o.readBits(16);return(u&31)<<16&4294967295|d}throw new Y}}On.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",On.GB2312_SUBSET=1;class wd{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class cc{constructor(){this.rsDecoder=new fa(Lt.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Ue.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const d=new q0(o);let g=null;try{return this.decodeBitMatrixParser(d,u)}catch(x){g=x}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const x=this.decodeBitMatrixParser(d,u);return x.setOther(new wd(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(o,u){const d=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),w=lc.getDataBlocks(x,d,g);let C=0;for(const D of w)C+=D.getNumDataCodewords();const T=new Uint8Array(C);let M=0;for(const D of w){const P=D.getCodewords(),z=D.getNumDataCodewords();this.correctErrors(P,z);for(let q=0;q<z;q++)T[M++]=P[q]}return On.decode(T,d,g,u)}correctErrors(o,u){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-u)}catch{throw new N}for(let g=0;g<u;g++)o[g]=d[g]}}class sl extends $e{constructor(o,u,d){super(o,u),this.estimatedModuleSize=d}aboutEquals(o,u,d){if(Math.abs(u-this.getY())<=o&&Math.abs(d-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,d){const g=(this.getX()+u)/2,x=(this.getY()+o)/2,w=(this.estimatedModuleSize+d)/2;return new sl(g,x,w)}}class Qa{constructor(o,u,d,g,x,w,C){this.image=o,this.startX=u,this.startY=d,this.width=g,this.height=x,this.moduleSize=w,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,d=this.width,g=o+d,x=this.startY+u/2,w=new Int32Array(3),C=this.image;for(let T=0;T<u;T++){const M=x+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));w[0]=0,w[1]=0,w[2]=0;let D=o;for(;D<g&&!C.get(D,M);)D++;let P=0;for(;D<g;){if(C.get(D,M))if(P===1)w[1]++;else if(P===2){if(this.foundPatternCross(w)){const z=this.handlePossibleCenter(w,M,D);if(z!==null)return z}w[0]=w[2],w[1]=1,w[2]=0,P=1}else w[++P]++;else P===1&&P++,w[P]++;D++}if(this.foundPatternCross(w)){const z=this.handlePossibleCenter(w,M,g);if(z!==null)return z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,d=u/2;for(let g=0;g<3;g++)if(Math.abs(u-o[g])>=d)return!1;return!0}crossCheckVertical(o,u,d,g){const x=this.image,w=x.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let T=o;for(;T>=0&&x.get(u,T)&&C[1]<=d;)C[1]++,T--;if(T<0||C[1]>d)return NaN;for(;T>=0&&!x.get(u,T)&&C[0]<=d;)C[0]++,T--;if(C[0]>d)return NaN;for(T=o+1;T<w&&x.get(u,T)&&C[1]<=d;)C[1]++,T++;if(T===w||C[1]>d)return NaN;for(;T<w&&!x.get(u,T)&&C[2]<=d;)C[2]++,T++;if(C[2]>d)return NaN;const M=C[0]+C[1]+C[2];return 5*Math.abs(M-g)>=2*g?NaN:this.foundPatternCross(C)?Qa.centerFromEnd(C,T):NaN}handlePossibleCenter(o,u,d){const g=o[0]+o[1]+o[2],x=Qa.centerFromEnd(o,d),w=this.crossCheckVertical(u,x,2*o[1],g);if(!isNaN(w)){const C=(o[0]+o[1]+o[2])/3;for(const M of this.possibleCenters)if(M.aboutEquals(C,w,x))return M.combineEstimate(w,x,C);const T=new sl(x,w,C);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class zs extends $e{constructor(o,u,d,g){super(o,u),this.estimatedModuleSize=d,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,d){if(Math.abs(u-this.getY())<=o&&Math.abs(d-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,d){const g=this.count+1,x=(this.count*this.getX()+u)/g,w=(this.count*this.getY()+o)/g,C=(this.count*this.estimatedModuleSize+d)/g;return new zs(x,w,C,g)}}class Ja{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(V.TRY_HARDER)!==void 0,d=o!=null&&o.get(V.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),w=g.getWidth();let C=Math.floor(3*x/(4*Zn.MAX_MODULES));(C<Zn.MIN_SKIP||u)&&(C=Zn.MIN_SKIP);let T=!1;const M=new Int32Array(5);for(let P=C-1;P<x&&!T;P+=C){M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0;let z=0;for(let q=0;q<w;q++)if(g.get(q,P))(z&1)===1&&z++,M[z]++;else if((z&1)===0)if(z===4)if(Zn.foundPatternCross(M)){if(this.handlePossibleCenter(M,P,q,d)===!0)if(C=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const te=this.findRowSkip();te>M[2]&&(P+=te-M[2]-C,q=w-1)}else{M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,z=3;continue}z=0,M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0}else M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,z=3;else M[++z]++;else M[z]++;Zn.foundPatternCross(M)&&this.handlePossibleCenter(M,P,w,d)===!0&&(C=M[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return $e.orderBestPatterns(D),new Ja(D)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const w=o[x];if(w===0)return!1;u+=w}if(u<7)return!1;const d=u/7,g=d/2;return Math.abs(d-o[0])<g&&Math.abs(d-o[1])<g&&Math.abs(3*d-o[2])<3*g&&Math.abs(d-o[3])<g&&Math.abs(d-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,d,g){const x=this.getCrossCheckStateCount();let w=0;const C=this.image;for(;o>=w&&u>=w&&C.get(u-w,o-w);)x[2]++,w++;if(o<w||u<w)return!1;for(;o>=w&&u>=w&&!C.get(u-w,o-w)&&x[1]<=d;)x[1]++,w++;if(o<w||u<w||x[1]>d)return!1;for(;o>=w&&u>=w&&C.get(u-w,o-w)&&x[0]<=d;)x[0]++,w++;if(x[0]>d)return!1;const T=C.getHeight(),M=C.getWidth();for(w=1;o+w<T&&u+w<M&&C.get(u+w,o+w);)x[2]++,w++;if(o+w>=T||u+w>=M)return!1;for(;o+w<T&&u+w<M&&!C.get(u+w,o+w)&&x[3]<d;)x[3]++,w++;if(o+w>=T||u+w>=M||x[3]>=d)return!1;for(;o+w<T&&u+w<M&&C.get(u+w,o+w)&&x[4]<d;)x[4]++,w++;if(x[4]>=d)return!1;const D=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(D-g)<2*g&&Zn.foundPatternCross(x)}crossCheckVertical(o,u,d,g){const x=this.image,w=x.getHeight(),C=this.getCrossCheckStateCount();let T=o;for(;T>=0&&x.get(u,T);)C[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(u,T)&&C[1]<=d;)C[1]++,T--;if(T<0||C[1]>d)return NaN;for(;T>=0&&x.get(u,T)&&C[0]<=d;)C[0]++,T--;if(C[0]>d)return NaN;for(T=o+1;T<w&&x.get(u,T);)C[2]++,T++;if(T===w)return NaN;for(;T<w&&!x.get(u,T)&&C[3]<d;)C[3]++,T++;if(T===w||C[3]>=d)return NaN;for(;T<w&&x.get(u,T)&&C[4]<d;)C[4]++,T++;if(C[4]>=d)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-g)>=2*g?NaN:Zn.foundPatternCross(C)?Zn.centerFromEnd(C,T):NaN}crossCheckHorizontal(o,u,d,g){const x=this.image,w=x.getWidth(),C=this.getCrossCheckStateCount();let T=o;for(;T>=0&&x.get(T,u);)C[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(T,u)&&C[1]<=d;)C[1]++,T--;if(T<0||C[1]>d)return NaN;for(;T>=0&&x.get(T,u)&&C[0]<=d;)C[0]++,T--;if(C[0]>d)return NaN;for(T=o+1;T<w&&x.get(T,u);)C[2]++,T++;if(T===w)return NaN;for(;T<w&&!x.get(T,u)&&C[3]<d;)C[3]++,T++;if(T===w||C[3]>=d)return NaN;for(;T<w&&x.get(T,u)&&C[4]<d;)C[4]++,T++;if(C[4]>=d)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-g)>=g?NaN:Zn.foundPatternCross(C)?Zn.centerFromEnd(C,T):NaN}handlePossibleCenter(o,u,d,g){const x=o[0]+o[1]+o[2]+o[3]+o[4];let w=Zn.centerFromEnd(o,d),C=this.crossCheckVertical(u,Math.floor(w),o[2],x);if(!isNaN(C)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(C),o[2],x),!isNaN(w)&&(!g||this.crossCheckDiagonal(Math.floor(C),Math.floor(w),o[2],x)))){const T=x/7;let M=!1;const D=this.possibleCenters;for(let P=0,z=D.length;P<z;P++){const q=D[P];if(q.aboutEquals(T,C,w)){D[P]=q.combineEstimate(C,w,T),M=!0;break}}if(!M){const P=new zs(w,C,T);D.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const d of this.possibleCenters)if(d.getCount()>=Zn.CENTER_QUORUM)if(u==null)u=d;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-d.getX())-Math.abs(u.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const d=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Zn.CENTER_QUORUM&&(o++,u+=w.getEstimatedModuleSize());if(o<3)return!1;const g=u/d;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-g);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new re;const u=this.possibleCenters;let d;if(o>3){let g=0,x=0;for(const T of this.possibleCenters){const M=T.getEstimatedModuleSize();g+=M,x+=M*M}d=g/o;let w=Math.sqrt(x/o-d*d);u.sort((T,M)=>{const D=Math.abs(M.getEstimatedModuleSize()-d),P=Math.abs(T.getEstimatedModuleSize()-d);return D<P?-1:D>P?1:0});const C=Math.max(.2*d,w);for(let T=0;T<u.length&&u.length>3;T++){const M=u[T];Math.abs(M.getEstimatedModuleSize()-d)>C&&(u.splice(T,1),T--)}}if(u.length>3){let g=0;for(const x of u)g+=x.getEstimatedModuleSize();d=g/u.length,u.sort((x,w)=>{if(w.getCount()===x.getCount()){const C=Math.abs(w.getEstimatedModuleSize()-d),T=Math.abs(x.getEstimatedModuleSize()-d);return C<T?1:C>T?-1:0}else return w.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}Zn.CENTER_QUORUM=2,Zn.MIN_SKIP=3,Zn.MAX_MODULES=57;class xa{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(V.NEED_RESULT_POINT_CALLBACK);const d=new Zn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(d)}processFinderPatternInfo(o){const u=o.getTopLeft(),d=o.getTopRight(),g=o.getBottomLeft(),x=this.calculateModuleSize(u,d,g);if(x<1)throw new re("No pattern found in proccess finder.");const w=xa.computeDimension(u,d,g,x),C=nt.getProvisionalVersionForDimension(w),T=C.getDimensionForVersion()-7;let M=null;if(C.getAlignmentPatternCenters().length>0){const q=d.getX()-u.getX()+g.getX(),J=d.getY()-u.getY()+g.getY(),te=1-3/T,le=Math.floor(u.getX()+te*(q-u.getX())),pe=Math.floor(u.getY()+te*(J-u.getY()));for(let De=4;De<=16;De<<=1)try{M=this.findAlignmentInRegion(x,le,pe,De);break}catch(Pe){if(!(Pe instanceof re))throw Pe}}const D=xa.createTransform(u,d,g,M,w),P=xa.sampleGrid(this.image,D,w);let z;return M===null?z=[g,u,d]:z=[g,u,d,M],new pi(P,z)}static createTransform(o,u,d,g,x){const w=x-3.5;let C,T,M,D;return g!==null?(C=g.getX(),T=g.getY(),M=w-3,D=M):(C=u.getX()-o.getX()+d.getX(),T=u.getY()-o.getY()+d.getY(),M=w,D=w),Cn.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,M,D,3.5,w,o.getX(),o.getY(),u.getX(),u.getY(),C,T,d.getX(),d.getY())}static sampleGrid(o,u,d){return ir.getInstance().sampleGridWithTransform(o,d,d,u)}static computeDimension(o,u,d,g){const x=It.round($e.distance(o,u)/g),w=It.round($e.distance(o,d)/g);let C=Math.floor((x+w)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new re("Dimensions could be not found.")}return C}calculateModuleSize(o,u,d){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,d))/2}calculateModuleSizeOneWay(o,u){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(d)?g/7:isNaN(g)?d/7:(d+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,d,g){let x=this.sizeOfBlackWhiteBlackRun(o,u,d,g),w=1,C=o-(d-o);C<0?(w=o/(o-C),C=0):C>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let T=Math.floor(u-(g-u)*w);return w=1,T<0?(w=u/(u-T),T=0):T>=this.image.getHeight()&&(w=(this.image.getHeight()-1-u)/(T-u),T=this.image.getHeight()-1),C=Math.floor(o+(C-o)*w),x+=this.sizeOfBlackWhiteBlackRun(o,u,C,T),x-1}sizeOfBlackWhiteBlackRun(o,u,d,g){const x=Math.abs(g-u)>Math.abs(d-o);if(x){let q=o;o=u,u=q,q=d,d=g,g=q}const w=Math.abs(d-o),C=Math.abs(g-u);let T=-w/2;const M=o<d?1:-1,D=u<g?1:-1;let P=0;const z=d+M;for(let q=o,J=u;q!==z;q+=M){const te=x?J:q,le=x?q:J;if(P===1===this.image.get(te,le)){if(P===2)return It.distance(q,J,o,u);P++}if(T+=C,T>0){if(J===g)break;J+=D,T-=w}}return P===2?It.distance(d+M,g,o,u):NaN}findAlignmentInRegion(o,u,d,g){const x=Math.floor(g*o),w=Math.max(0,u-x),C=Math.min(this.image.getWidth()-1,u+x);if(C-w<o*3)throw new re("Alignment top exceeds estimated module size.");const T=Math.max(0,d-x),M=Math.min(this.image.getHeight()-1,d+x);if(M-T<o*3)throw new re("Alignment bottom exceeds estimated module size.");return new Qa(this.image,w,T,C-w,M-T,o,this.resultPointCallback).find()}}class bs{constructor(){this.decoder=new cc}getDecoder(){return this.decoder}decode(o,u){let d,g;if(u!=null&&u.get(V.PURE_BARCODE)!==void 0){const T=bs.extractPureBits(o.getBlackMatrix());d=this.decoder.decodeBitMatrix(T,u),g=bs.NO_POINTS}else{const T=new xa(o.getBlackMatrix()).detect(u);d=this.decoder.decodeBitMatrix(T.getBits(),u),g=T.getPoints()}d.getOther()instanceof wd&&d.getOther().applyMirroredCorrection(g);const x=new He(d.getText(),d.getRawBytes(),void 0,g,Oe.QR_CODE,void 0),w=d.getByteSegments();w!==null&&x.putMetadata(mt.BYTE_SEGMENTS,w);const C=d.getECLevel();return C!==null&&x.putMetadata(mt.ERROR_CORRECTION_LEVEL,C),d.hasStructuredAppend()&&(x.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),x.putMetadata(mt.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(u===null||d===null)throw new re;const g=this.moduleSize(u,o);let x=u[1],w=d[1],C=u[0],T=d[0];if(C>=T||x>=w)throw new re;if(w-x!==T-C&&(T=C+(w-x),T>=o.getWidth()))throw new re;const M=Math.round((T-C+1)/g),D=Math.round((w-x+1)/g);if(M<=0||D<=0)throw new re;if(D!==M)throw new re;const P=Math.floor(g/2);x+=P,C+=P;const z=C+Math.floor((M-1)*g)-T;if(z>0){if(z>P)throw new re;C-=z}const q=x+Math.floor((D-1)*g)-w;if(q>0){if(q>P)throw new re;x-=q}const J=new Ue(M,D);for(let te=0;te<D;te++){const le=x+Math.floor(te*g);for(let pe=0;pe<M;pe++)o.get(C+Math.floor(pe*g),le)&&J.set(pe,te)}return J}static moduleSize(o,u){const d=u.getHeight(),g=u.getWidth();let x=o[0],w=o[1],C=!0,T=0;for(;x<g&&w<d;){if(C!==u.get(x,w)){if(++T===5)break;C=!C}x++,w++}if(x===g||w===d)throw new re;return(x-o[0])/7}}bs.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(o){return It.sum(o)}static toIntArray(o){if(o==null||!o.length)return at.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let d=0;for(const g of o)u[d++]=g;return u}static getCodeword(o){const u=U.binarySearch(at.SYMBOL_TABLE,o&262143);return u<0?-1:(at.CODEWORD_TABLE[u]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ws{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class xt{static detectMultiple(o,u,d){let g=o.getBlackMatrix(),x=xt.detect(d,g);return x.length||(g=g.clone(),g.rotate180(),x=xt.detect(d,g)),new ws(g,x)}static detect(o,u){const d=new Array;let g=0,x=0,w=!1;for(;g<u.getHeight();){const C=xt.findVertices(u,g,x);if(C[0]==null&&C[3]==null){if(!w)break;w=!1,x=0;for(const T of d)T[1]!=null&&(g=Math.trunc(Math.max(g,T[1].getY()))),T[3]!=null&&(g=Math.max(g,Math.trunc(T[3].getY())));g+=xt.ROW_STEP;continue}if(w=!0,d.push(C),!o)break;C[2]!=null?(x=Math.trunc(C[2].getX()),g=Math.trunc(C[2].getY())):(x=Math.trunc(C[4].getX()),g=Math.trunc(C[4].getY()))}return d}static findVertices(o,u,d){const g=o.getHeight(),x=o.getWidth(),w=new Array(8);return xt.copyToResult(w,xt.findRowsWithPattern(o,g,x,u,d,xt.START_PATTERN),xt.INDEXES_START_PATTERN),w[4]!=null&&(d=Math.trunc(w[4].getX()),u=Math.trunc(w[4].getY())),xt.copyToResult(w,xt.findRowsWithPattern(o,g,x,u,d,xt.STOP_PATTERN),xt.INDEXES_STOP_PATTERN),w}static copyToResult(o,u,d){for(let g=0;g<d.length;g++)o[d[g]]=u[g]}static findRowsWithPattern(o,u,d,g,x,w){const C=new Array(4);let T=!1;const M=new Int32Array(w.length);for(;g<u;g+=xt.ROW_STEP){let P=xt.findGuardPattern(o,x,g,d,!1,w,M);if(P!=null){for(;g>0;){const z=xt.findGuardPattern(o,x,--g,d,!1,w,M);if(z!=null)P=z;else{g++;break}}C[0]=new $e(P[0],g),C[1]=new $e(P[1],g),T=!0;break}}let D=g+1;if(T){let P=0,z=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;D<u;D++){const q=xt.findGuardPattern(o,z[0],D,d,!1,w,M);if(q!=null&&Math.abs(z[0]-q[0])<xt.MAX_PATTERN_DRIFT&&Math.abs(z[1]-q[1])<xt.MAX_PATTERN_DRIFT)z=q,P=0;else{if(P>xt.SKIPPED_ROW_COUNT_MAX)break;P++}}D-=P+1,C[2]=new $e(z[0],D),C[3]=new $e(z[1],D)}return D-g<xt.BARCODE_MIN_HEIGHT&&U.fill(C,null),C}static findGuardPattern(o,u,d,g,x,w,C){U.fillWithin(C,0,C.length,0);let T=u,M=0;for(;o.get(T,d)&&T>0&&M++<xt.MAX_PIXEL_DRIFT;)T--;let D=T,P=0,z=w.length;for(let q=x;D<g;D++)if(o.get(D,d)!==q)C[P]++;else{if(P===z-1){if(xt.patternMatchVariance(C,w,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return new Int32Array([T,D]);T+=C[0]+C[1],R.arraycopy(C,2,C,0,P-1),C[P-1]=0,C[P]=0,P--}else P++;C[P]=1,q=!q}return P===z-1&&xt.patternMatchVariance(C,w,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE?new Int32Array([T,D-1]):null}static patternMatchVariance(o,u,d){let g=o.length,x=0,w=0;for(let M=0;M<g;M++)x+=o[M],w+=u[M];if(x<w)return 1/0;let C=x/w;d*=C;let T=0;for(let M=0;M<g;M++){let D=o[M],P=u[M]*C,z=D>P?D-P:P-D;if(z>d)return 1/0;T+=z}return T/x}}xt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xt.MAX_AVG_VARIANCE=.42,xt.MAX_INDIVIDUAL_VARIANCE=.8,xt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xt.MAX_PIXEL_DRIFT=3,xt.MAX_PATTERN_DRIFT=5,xt.SKIPPED_ROW_COUNT_MAX=25,xt.ROW_STEP=5,xt.BARCODE_MIN_HEIGHT=10;class jn{constructor(o,u){if(u.length===0)throw new v;this.field=o;let d=u.length;if(d>1&&u[0]===0){let g=1;for(;g<d&&u[g]===0;)g++;g===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-g),R.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let u=this.coefficients[0],d=this.coefficients.length;for(let g=1;g<d;g++)u=this.field.add(this.field.multiply(o,u),this.coefficients[g]);return u}add(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,d=o.coefficients;if(u.length>d.length){let w=u;u=d,d=w}let g=new Int32Array(d.length),x=d.length-u.length;R.arraycopy(d,0,g,0,x);for(let w=x;w<d.length;w++)g[w]=this.field.add(u[w-x],d[w]);return new jn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof jn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new jn(this.field,new Int32Array([0]));let u=this.coefficients,d=u.length,g=o.coefficients,x=g.length,w=new Int32Array(d+x-1);for(let C=0;C<d;C++){let T=u[C];for(let M=0;M<x;M++)w[C+M]=this.field.add(w[C+M],this.field.multiply(T,g[M]))}return new jn(this.field,w)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let d=0;d<o;d++)u[d]=this.field.subtract(0,this.coefficients[d]);return new jn(this.field,u)}multiplyScalar(o){if(o===0)return new jn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,d=new Int32Array(u);for(let g=0;g<u;g++)d[g]=this.field.multiply(this.coefficients[g],o);return new jn(this.field,d)}multiplyByMonomial(o,u){if(o<0)throw new v;if(u===0)return new jn(this.field,new Int32Array([0]));let d=this.coefficients.length,g=new Int32Array(d+o);for(let x=0;x<d;x++)g[x]=this.field.multiply(this.coefficients[x],u);return new jn(this.field,g)}toString(){let o=new je;for(let u=this.getDegree();u>=0;u--){let d=this.getCoefficient(u);d!==0&&(d<0?(o.append(" - "),d=-d):o.length()>0&&o.append(" + "),(u===0||d!==1)&&o.append(d),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class Fs{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new v;return this.logTable[o]}inverse(o){if(o===0)throw new ms;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class al extends Fs{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let d=1;for(let g=0;g<o;g++)this.expTable[g]=d,d=d*u%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new v;if(u===0)return this.zero;let d=new Int32Array(o+1);return d[0]=u,new jn(this,d)}}al.PDF417_GF=new al(at.NUMBER_OF_CODEWORDS,3);class ol{constructor(){this.field=al.PDF417_GF}decode(o,u,d){let g=new jn(this.field,o),x=new Int32Array(u),w=!1;for(let J=u;J>0;J--){let te=g.evaluateAt(this.field.exp(J));x[u-J]=te,te!==0&&(w=!0)}if(!w)return 0;let C=this.field.getOne();if(d!=null)for(const J of d){let te=this.field.exp(o.length-1-J),le=new jn(this.field,new Int32Array([this.field.subtract(0,te),1]));C=C.multiply(le)}let T=new jn(this.field,x),M=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),T,u),D=M[0],P=M[1],z=this.findErrorLocations(D),q=this.findErrorMagnitudes(P,D,z);for(let J=0;J<z.length;J++){let te=o.length-1-this.field.log(z[J]);if(te<0)throw N.getChecksumInstance();o[te]=this.field.subtract(o[te],q[J])}return z.length}runEuclideanAlgorithm(o,u,d){if(o.getDegree()<u.getDegree()){let z=o;o=u,u=z}let g=o,x=u,w=this.field.getZero(),C=this.field.getOne();for(;x.getDegree()>=Math.round(d/2);){let z=g,q=w;if(g=x,w=C,g.isZero())throw N.getChecksumInstance();x=z;let J=this.field.getZero(),te=g.getCoefficient(g.getDegree()),le=this.field.inverse(te);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let pe=x.getDegree()-g.getDegree(),De=this.field.multiply(x.getCoefficient(x.getDegree()),le);J=J.add(this.field.buildMonomial(pe,De)),x=x.subtract(g.multiplyByMonomial(pe,De))}C=J.multiply(w).subtract(q).negative()}let T=C.getCoefficient(0);if(T===0)throw N.getChecksumInstance();let M=this.field.inverse(T),D=C.multiply(M),P=x.multiply(M);return[D,P]}findErrorLocations(o){let u=o.getDegree(),d=new Int32Array(u),g=0;for(let x=1;x<this.field.getSize()&&g<u;x++)o.evaluateAt(x)===0&&(d[g]=this.field.inverse(x),g++);if(g!==u)throw N.getChecksumInstance();return d}findErrorMagnitudes(o,u,d){let g=u.getDegree(),x=new Int32Array(g);for(let M=1;M<=g;M++)x[g-M]=this.field.multiply(M,u.getCoefficient(M));let w=new jn(this.field,x),C=d.length,T=new Int32Array(C);for(let M=0;M<C;M++){let D=this.field.inverse(d[M]),P=this.field.subtract(0,o.evaluateAt(D)),z=this.field.inverse(w.evaluateAt(D));T[M]=this.field.multiply(P,z)}return T}}class Us{constructor(o,u,d,g,x){o instanceof Us?this.constructor_2(o):this.constructor_1(o,u,d,g,x)}constructor_1(o,u,d,g,x){const w=u==null||d==null,C=g==null||x==null;if(w&&C)throw new re;w?(u=new $e(0,g.getY()),d=new $e(0,x.getY())):C&&(g=new $e(o.getWidth()-1,u.getY()),x=new $e(o.getWidth()-1,d.getY())),this.image=o,this.topLeft=u,this.bottomLeft=d,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),d.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),g.getY())),this.maxY=Math.trunc(Math.max(d.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Us(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,d){let g=this.topLeft,x=this.bottomLeft,w=this.topRight,C=this.bottomRight;if(o>0){let T=d?this.topLeft:this.topRight,M=Math.trunc(T.getY()-o);M<0&&(M=0);let D=new $e(T.getX(),M);d?g=D:w=D}if(u>0){let T=d?this.bottomLeft:this.bottomRight,M=Math.trunc(T.getY()+u);M>=this.image.getHeight()&&(M=this.image.getHeight()-1);let D=new $e(T.getX(),M);d?x=D:C=D}return new Us(this.image,g,x,w,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class uc{constructor(o,u,d,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=u,this.rowCountLowerPart=d,this.rowCount=u+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hs{constructor(){this.buffer=""}static form(o,u){let d=-1;function g(w,C,T,M,D,P){if(w==="%%")return"%";if(u[++d]===void 0)return;w=M?parseInt(M.substr(1)):void 0;let z=D?parseInt(D.substr(1)):void 0,q;switch(P){case"s":q=u[d];break;case"c":q=u[d][0];break;case"f":q=parseFloat(u[d]).toFixed(w);break;case"p":q=parseFloat(u[d]).toPrecision(w);break;case"e":q=parseFloat(u[d]).toExponential(w);break;case"x":q=parseInt(u[d]).toString(z||16);break;case"d":q=parseFloat(parseInt(u[d],z||10).toPrecision(w)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString(z);let J=parseInt(T),te=T&&T[0]+""=="0"?"0":" ";for(;q.length<J;)q=C!==void 0?q+te:te+q;return q}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}format(o,...u){this.buffer+=Hs.form(o,u)}toString(){return this.buffer}}class eo{constructor(o){this.boundingBox=new Us(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let d=1;d<eo.MAX_NEARBY_DISTANCE;d++){let g=this.imageRowToCodewordIndex(o)-d;if(g>=0&&(u=this.codewords[g],u!=null)||(g=this.imageRowToCodewordIndex(o)+d,g<this.codewords.length&&(u=this.codewords[g],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Hs;let u=0;for(const d of this.codewords){if(d==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,d.getRowNumber(),d.getValue())}return o.toString()}}eo.MAX_NEARBY_DISTANCE=5;class sr{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[d,g]of this.values.entries()){const x={getKey:()=>d,getValue:()=>g};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return at.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class Vs extends eo{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let d=this.getBoundingBox(),g=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.imageRowToCodewordIndex(Math.trunc(x.getY())),T=-1,M=1,D=0;for(let P=w;P<C;P++){if(u[P]==null)continue;let z=u[P],q=z.getRowNumber()-T;if(q===0)D++;else if(q===1)M=Math.max(M,D),D=1,T=z.getRowNumber();else if(q<0||z.getRowNumber()>=o.getRowCount()||q>P)u[P]=null;else{let J;M>2?J=(M-2)*q:J=q;let te=J>=P;for(let le=1;le<=J&&!te;le++)te=u[P-le]!=null;te?u[P]=null:(T=z.getRowNumber(),D=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let d of this.getCodewords())if(d!=null){let g=d.getRowNumber();if(g>=u.length)continue;u[g]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.getCodewords(),T=-1;for(let M=x;M<w;M++){if(C[M]==null)continue;let D=C[M];D.setRowNumberAsRowIndicatorColumn();let P=D.getRowNumber()-T;P===0||(P===1?T=D.getRowNumber():D.getRowNumber()>=o.getRowCount()?C[M]=null:T=D.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new sr,d=new sr,g=new sr,x=new sr;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let T=C.getValue()%30,M=C.getRowNumber();switch(this._isLeft||(M+=2),M%3){case 0:d.setValue(T*3+1);break;case 1:x.setValue(T/3),g.setValue(T%3);break;case 2:u.setValue(T+1);break}}if(u.getValue().length===0||d.getValue().length===0||g.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||d.getValue()[0]+g.getValue()[0]<at.MIN_ROWS_IN_BARCODE||d.getValue()[0]+g.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let w=new uc(u.getValue()[0],d.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,u){for(let d=0;d<o.length;d++){let g=o[d];if(o[d]==null)continue;let x=g.getValue()%30,w=g.getRowNumber();if(w>u.getRowCount()){o[d]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[d]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[d]=null);break;case 2:x+1!==u.getColumnCount()&&(o[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Gs{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=at.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let d=this.detectionResultColumns[u].getCodewords();for(let g=0;g<d.length;g++)d[g]!=null&&(d[g].hasValidRowNumber()||this.adjustRowNumbers(u,g,d))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<o.length;d++)if(o[d]!=null&&u[d]!=null&&o[d].getRowNumber()===u[d].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[d];x!=null&&(x.setRowNumber(o[d].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<u.length;d++){if(u[d]==null)continue;let g=u[d].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let C=this.detectionResultColumns[w].getCodewords()[d];C!=null&&(x=Gs.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let d=0;d<u.length;d++){if(u[d]==null)continue;let g=u[d].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let C=this.detectionResultColumns[w].getCodewords()[d];C!=null&&(x=Gs.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(o)?(d.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,d){if(!this.detectionResultColumns[o-1])return;let g=d[u],x=this.detectionResultColumns[o-1].getCodewords(),w=x;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=x[u],C[3]=w[u],u>0&&(C[0]=d[u-1],C[4]=x[u-1],C[5]=w[u-1]),u>1&&(C[8]=d[u-2],C[10]=x[u-2],C[11]=w[u-2]),u<d.length-1&&(C[1]=d[u+1],C[6]=x[u+1],C[7]=w[u+1]),u<d.length-2&&(C[9]=d[u+2],C[12]=x[u+2],C[13]=w[u+2]);for(let T of C)if(Gs.adjustRowNumber(g,T))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Hs;for(let d=0;d<o.getCodewords().length;d++){u.format("CW %3d:",d);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[d];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class vs{constructor(o,u,d,g){this.rowNumber=vs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(d),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==vs.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}vs.BARCODE_ROW_UNKNOWN=-1;class Hr{static initialize(){for(let o=0;o<at.SYMBOL_TABLE.length;o++){let u=at.SYMBOL_TABLE[o],d=u&1;for(let g=0;g<at.BARS_IN_MODULE;g++){let x=0;for(;(u&1)===d;)x+=1,u>>=1;d=u&1,Hr.RATIOS_TABLE[o]||(Hr.RATIOS_TABLE[o]=new Array(at.BARS_IN_MODULE)),Hr.RATIOS_TABLE[o][at.BARS_IN_MODULE-g-1]=Math.fround(x/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=Hr.getDecodedCodewordValue(Hr.sampleBitCounts(o));return u!==-1?u:Hr.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=It.sum(o),d=new Int32Array(at.BARS_IN_MODULE),g=0,x=0;for(let w=0;w<at.MODULES_IN_CODEWORD;w++){let C=u/(2*at.MODULES_IN_CODEWORD)+w*u/at.MODULES_IN_CODEWORD;x+o[g]<=C&&(x+=o[g],g++),d[g]++}return d}static getDecodedCodewordValue(o){let u=Hr.getBitValue(o);return at.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let d=0;d<o.length;d++)for(let g=0;g<o[d];g++)u=u<<1|(d%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=It.sum(o),d=new Array(at.BARS_IN_MODULE);if(u>1)for(let w=0;w<d.length;w++)d[w]=Math.fround(o[w]/u);let g=da.MAX_VALUE,x=-1;this.bSymbolTableReady||Hr.initialize();for(let w=0;w<Hr.RATIOS_TABLE.length;w++){let C=0,T=Hr.RATIOS_TABLE[w];for(let M=0;M<at.BARS_IN_MODULE;M++){let D=Math.fround(T[M]-d[M]);if(C+=Math.fround(D*D),C>=g)break}C<g&&(g=C,x=at.SYMBOL_TABLE[w])}return x}}Hr.bSymbolTableReady=!1,Hr.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(L=>new Array(at.BARS_IN_MODULE));class fc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class dc{static parseLong(o,u=void 0){return parseInt(o,u)}}class to extends m{}to.kind="NullPointerException";class hc{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,d){if(o==null)throw new to;if(u<0||u>o.length||d<0||u+d>o.length||u+d<0)throw new I;if(d===0)return;for(let g=0;g<d;g++)this.write(o[u+g])}flush(){}close(){}}class vd extends m{}class W0 extends hc{constructor(o=32){if(super(),this.count=0,o<0)throw new v("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let d=this.buf.length<<1;if(d-o<0&&(d=o),d<0){if(o<0)throw new vd;d=j.MAX_VALUE}this.buf=U.copyOfUint8Array(this.buf,d)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,d){if(u<0||u>o.length||d<0||u+d-o.length>0)throw new I;this.ensureCapacity(this.count+d),R.arraycopy(o,u,this.buf,this.count,d),this.count+=d}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return U.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var en;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(en||(en={}));function Cd(){if(typeof window<"u")return window.BigInt||null;if(typeof Th<"u")return Th.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let no;function $s(L){if(typeof no>"u"&&(no=Cd()),no===null)throw new Error("BigInt is not supported!");return no(L)}function X0(){let L=[];L[0]=$s(1);let o=$s(900);L[1]=o;for(let u=2;u<16;u++)L[u]=L[u-1]*o;return L}class xe{static decode(o,u){let d=new je(""),g=K.ISO8859_1;d.enableDecoding(g);let x=1,w=o[x++],C=new fc;for(;x<o[0];){switch(w){case xe.TEXT_COMPACTION_MODE_LATCH:x=xe.textCompaction(o,x,d);break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:x=xe.byteCompaction(w,o,g,x,d);break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[x++]);break;case xe.NUMERIC_COMPACTION_MODE_LATCH:x=xe.numericCompaction(o,x,d);break;case xe.ECI_CHARSET:K.getCharacterSetECIByValue(o[x++]);break;case xe.ECI_GENERAL_PURPOSE:x+=2;break;case xe.ECI_USER_DEFINED:x++;break;case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=xe.decodeMacroBlock(o,x,C);break;case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:throw new Y;default:x--,x=xe.textCompaction(o,x,d);break}if(x<o.length)w=o[x++];else throw Y.getFormatInstance()}if(d.length()===0)throw Y.getFormatInstance();let T=new Ur(null,d.toString(),null,u);return T.setOther(C),T}static decodeMacroBlock(o,u,d){if(u+xe.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw Y.getFormatInstance();let g=new Int32Array(xe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<xe.NUMBER_OF_SEQUENCE_CODEWORDS;C++,u++)g[C]=o[u];d.setSegmentIndex(j.parseInt(xe.decodeBase900toBase10(g,xe.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new je;u=xe.textCompaction(o,u,x),d.setFileId(x.toString());let w=-1;for(o[u]===xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=u+1);u<o[0];)switch(o[u]){case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new je;u=xe.textCompaction(o,u+1,C),d.setFileName(C.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new je;u=xe.textCompaction(o,u+1,T),d.setSender(T.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let M=new je;u=xe.textCompaction(o,u+1,M),d.setAddressee(M.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new je;u=xe.numericCompaction(o,u+1,D),d.setSegmentCount(j.parseInt(D.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new je;u=xe.numericCompaction(o,u+1,P),d.setTimestamp(dc.parseLong(P.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let z=new je;u=xe.numericCompaction(o,u+1,z),d.setChecksum(j.parseInt(z.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let q=new je;u=xe.numericCompaction(o,u+1,q),d.setFileSize(dc.parseLong(q.toString()));break;default:throw Y.getFormatInstance()}break;case xe.MACRO_PDF417_TERMINATOR:u++,d.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(w!==-1){let C=u-w;d.isLastSegment()&&C--,d.setOptionalData(U.copyOfRange(o,w,w+C))}return u}static textCompaction(o,u,d){let g=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),w=0,C=!1;for(;u<o[0]&&!C;){let T=o[u++];if(T<xe.TEXT_COMPACTION_MODE_LATCH)g[w]=T/30,g[w+1]=T%30,w+=2;else switch(T){case xe.TEXT_COMPACTION_MODE_LATCH:g[w++]=xe.TEXT_COMPACTION_MODE_LATCH;break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:u--,C=!0;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[w]=xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=o[u++],x[w]=T,w++;break}}return xe.decodeTextCompaction(g,x,w,d),u}static decodeTextCompaction(o,u,d,g){let x=en.ALPHA,w=en.ALPHA,C=0;for(;C<d;){let T=o[C],M="";switch(x){case en.ALPHA:if(T<26)M=String.fromCharCode(65+T);else switch(T){case 26:M=" ";break;case xe.LL:x=en.LOWER;break;case xe.ML:x=en.MIXED;break;case xe.PS:w=x,x=en.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break;case en.LOWER:if(T<26)M=String.fromCharCode(97+T);else switch(T){case 26:M=" ";break;case xe.AS:w=x,x=en.ALPHA_SHIFT;break;case xe.ML:x=en.MIXED;break;case xe.PS:w=x,x=en.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break;case en.MIXED:if(T<xe.PL)M=xe.MIXED_CHARS[T];else switch(T){case xe.PL:x=en.PUNCT;break;case 26:M=" ";break;case xe.LL:x=en.LOWER;break;case xe.AL:x=en.ALPHA;break;case xe.PS:w=x,x=en.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break;case en.PUNCT:if(T<xe.PAL)M=xe.PUNCT_CHARS[T];else switch(T){case xe.PAL:x=en.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break;case en.ALPHA_SHIFT:if(x=w,T<26)M=String.fromCharCode(65+T);else switch(T){case 26:M=" ";break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break;case en.PUNCT_SHIFT:if(x=w,T<xe.PAL)M=xe.PUNCT_CHARS[T];else switch(T){case xe.PAL:x=en.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case xe.TEXT_COMPACTION_MODE_LATCH:x=en.ALPHA;break}break}M!==""&&g.append(M),C++}}static byteCompaction(o,u,d,g,x){let w=new W0,C=0,T=0,M=!1;switch(o){case xe.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),P=u[g++];for(;g<u[0]&&!M;)switch(D[C++]=P,T=900*T+P,P=u[g++],P){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:g--,M=!0;break;default:if(C%5===0&&C>0){for(let z=0;z<6;++z)w.write(Number($s(T)>>$s(8*(5-z))));T=0,C=0}break}g===u[0]&&P<xe.TEXT_COMPACTION_MODE_LATCH&&(D[C++]=P);for(let z=0;z<C;z++)w.write(D[z]);break;case xe.BYTE_COMPACTION_MODE_LATCH_6:for(;g<u[0]&&!M;){let z=u[g++];if(z<xe.TEXT_COMPACTION_MODE_LATCH)C++,T=900*T+z;else switch(z){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:g--,M=!0;break}if(C%5===0&&C>0){for(let q=0;q<6;++q)w.write(Number($s(T)>>$s(8*(5-q))));T=0,C=0}}break}return x.append(_e.decode(w.toByteArray(),d)),g}static numericCompaction(o,u,d){let g=0,x=!1,w=new Int32Array(xe.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let C=o[u++];if(u===o[0]&&(x=!0),C<xe.TEXT_COMPACTION_MODE_LATCH)w[g]=C,g++;else switch(C){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(g%xe.MAX_NUMERIC_CODEWORDS===0||C===xe.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(d.append(xe.decodeBase900toBase10(w,g)),g=0)}return u}static decodeBase900toBase10(o,u){let d=$s(0);for(let x=0;x<u;x++)d+=xe.EXP900[u-x-1]*$s(o[x]);let g=d.toString();if(g.charAt(0)!=="1")throw new Y;return g.substring(1)}}xe.TEXT_COMPACTION_MODE_LATCH=900,xe.BYTE_COMPACTION_MODE_LATCH=901,xe.NUMERIC_COMPACTION_MODE_LATCH=902,xe.BYTE_COMPACTION_MODE_LATCH_6=924,xe.ECI_USER_DEFINED=925,xe.ECI_GENERAL_PURPOSE=926,xe.ECI_CHARSET=927,xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xe.MACRO_PDF417_TERMINATOR=922,xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xe.MAX_NUMERIC_CODEWORDS=15,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xe.PL=25,xe.LL=27,xe.AS=27,xe.ML=28,xe.AL=28,xe.PS=29,xe.PAL=29,xe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xe.EXP900=Cd()?X0():[],xe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(o,u,d,g,x,w,C){let T=new Us(o,u,d,g,x),M=null,D=null,P;for(let J=!0;;J=!1){if(u!=null&&(M=Et.getRowIndicatorColumn(o,T,u,!0,w,C)),g!=null&&(D=Et.getRowIndicatorColumn(o,T,g,!1,w,C)),P=Et.merge(M,D),P==null)throw re.getNotFoundInstance();let te=P.getBoundingBox();if(J&&te!=null&&(te.getMinY()<T.getMinY()||te.getMaxY()>T.getMaxY()))T=te;else break}P.setBoundingBox(T);let z=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,M),P.setDetectionResultColumn(z,D);let q=M!=null;for(let J=1;J<=z;J++){let te=q?J:z-J;if(P.getDetectionResultColumn(te)!==void 0)continue;let le;te===0||te===z?le=new Vs(T,te===0):le=new eo(T),P.setDetectionResultColumn(te,le);let pe=-1,De=pe;for(let Pe=T.getMinY();Pe<=T.getMaxY();Pe++){if(pe=Et.getStartColumn(P,te,Pe,q),pe<0||pe>T.getMaxX()){if(De===-1)continue;pe=De}let Me=Et.detectCodeword(o,T.getMinX(),T.getMaxX(),q,pe,Pe,w,C);Me!=null&&(le.setCodeword(Pe,Me),De=pe,w=Math.min(w,Me.getWidth()),C=Math.max(C,Me.getWidth()))}}return Et.createDecoderResult(P)}static merge(o,u){if(o==null&&u==null)return null;let d=Et.getBarcodeMetadata(o,u);if(d==null)return null;let g=Us.merge(Et.adjustBoundingBox(o),Et.adjustBoundingBox(u));return new Gs(d,g)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let d=Et.getMax(u),g=0;for(let C of u)if(g+=d-C,C>0)break;let x=o.getCodewords();for(let C=0;g>0&&x[C]==null;C++)g--;let w=0;for(let C=u.length-1;C>=0&&(w+=d-u[C],!(u[C]>0));C--);for(let C=x.length-1;w>0&&x[C]==null;C--)w--;return o.getBoundingBox().addMissingRows(g,w,o.isLeft())}static getMax(o){let u=-1;for(let d of o)u=Math.max(u,d);return u}static getBarcodeMetadata(o,u){let d;if(o==null||(d=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let g;return u==null||(g=u.getBarcodeMetadata())==null?d:d.getColumnCount()!==g.getColumnCount()&&d.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&d.getRowCount()!==g.getRowCount()?null:d}static getRowIndicatorColumn(o,u,d,g,x,w){let C=new Vs(u,g);for(let T=0;T<2;T++){let M=T===0?1:-1,D=Math.trunc(Math.trunc(d.getX()));for(let P=Math.trunc(Math.trunc(d.getY()));P<=u.getMaxY()&&P>=u.getMinY();P+=M){let z=Et.detectCodeword(o,0,o.getWidth(),g,D,P,x,w);z!=null&&(C.setCodeword(P,z),g?D=z.getStartX():D=z.getEndX())}}return C}static adjustCodewordCount(o,u){let d=u[0][1],g=d.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Et.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(x<1||x>at.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();d.setValue(x)}else g[0]!==x&&d.setValue(x)}static createDecoderResult(o){let u=Et.createBarcodeMatrix(o);Et.adjustCodewordCount(o,u);let d=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],w=new Array;for(let T=0;T<o.getBarcodeRowCount();T++)for(let M=0;M<o.getBarcodeColumnCount();M++){let D=u[T][M+1].getValue(),P=T*o.getBarcodeColumnCount()+M;D.length===0?d.push(P):D.length===1?g[P]=D[0]:(w.push(P),x.push(D))}let C=new Array(x.length);for(let T=0;T<C.length;T++)C[T]=x[T];return Et.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,at.toIntArray(d),at.toIntArray(w),C)}static createDecoderResultFromAmbiguousValues(o,u,d,g,x){let w=new Int32Array(g.length),C=100;for(;C-- >0;){for(let T=0;T<w.length;T++)u[g[T]]=x[T][w[T]];try{return Et.decodeCodewords(u,o,d)}catch(T){if(!(T instanceof N))throw T}if(w.length===0)throw N.getChecksumInstance();for(let T=0;T<w.length;T++)if(w[T]<x[T].length-1){w[T]++;break}else if(w[T]=0,T===w.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<u.length;g++)for(let x=0;x<u[g].length;x++)u[g][x]=new sr;let d=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=u.length)continue;u[w][d].setValue(x.getValue())}}}d++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,d,g){let x=g?1:-1,w=null;if(Et.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodeword(d)),w!=null)return g?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(u).getCodewordNearby(d),w!=null)return g?w.getStartX():w.getEndX();if(Et.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodewordNearby(d)),w!=null)return g?w.getEndX():w.getStartX();let C=0;for(;Et.isValidBarcodeColumn(o,u-x);){u-=x;for(let T of o.getDetectionResultColumn(u).getCodewords())if(T!=null)return(g?T.getEndX():T.getStartX())+x*C*(T.getEndX()-T.getStartX());C++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,d,g,x,w,C,T){x=Et.adjustCodewordStartColumn(o,u,d,g,x,w);let M=Et.getModuleBitCount(o,u,d,g,x,w);if(M==null)return null;let D,P=It.sum(M);if(g)D=x+P;else{for(let J=0;J<M.length/2;J++){let te=M[J];M[J]=M[M.length-1-J],M[M.length-1-J]=te}D=x,x=D-P}if(!Et.checkCodewordSkew(P,C,T))return null;let z=Hr.getDecodedValue(M),q=at.getCodeword(z);return q===-1?null:new vs(x,D,Et.getCodewordBucketNumber(z),q)}static getModuleBitCount(o,u,d,g,x,w){let C=x,T=new Int32Array(8),M=0,D=g?1:-1,P=g;for(;(g?C<d:C>=u)&&M<T.length;)o.get(C,w)===P?(T[M]++,C+=D):(M++,P=!P);return M===T.length||C===(g?d:u)&&M===T.length-1?T:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,d,g,x,w){let C=x,T=g?-1:1;for(let M=0;M<2;M++){for(;(g?C>=u:C<d)&&g===o.get(C,w);){if(Math.abs(x-C)>Et.CODEWORD_SKEW_SIZE)return x;C+=T}T=-T,g=!g}return C}static checkCodewordSkew(o,u,d){return u-Et.CODEWORD_SKEW_SIZE<=o&&o<=d+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,d){if(o.length===0)throw Y.getFormatInstance();let g=1<<u+1,x=Et.correctErrors(o,d,g);Et.verifyCodewordCount(o,g);let w=xe.decode(o,""+u);return w.setErrorsCorrected(x),w.setErasures(d.length),w}static correctErrors(o,u,d){if(u!=null&&u.length>d/2+Et.MAX_ERRORS||d<0||d>Et.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Et.errorCorrection.decode(o,d,u)}static verifyCodewordCount(o,u){if(o.length<4)throw Y.getFormatInstance();let d=o[0];if(d>o.length)throw Y.getFormatInstance();if(d===0)if(u<o.length)o[0]=o.length-u;else throw Y.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),d=0,g=u.length-1;for(;!((o&1)!==d&&(d=o&1,g--,g<0));)u[g]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new Hs;for(let d=0;d<o.length;d++){u.format("Row %2d: ",d);for(let g=0;g<o[d].length;g++){let x=o[d][g];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new ol;class gr{decode(o,u=null){let d=gr.decode(o,u,!1);if(d==null||d.length===0||d[0]==null)throw re.getNotFoundInstance();return d[0]}decodeMultiple(o,u=null){try{return gr.decode(o,u,!0)}catch(d){throw d instanceof Y||d instanceof N?re.getNotFoundInstance():d}}static decode(o,u,d){const g=new Array,x=xt.detectMultiple(o,u,d);for(const w of x.getPoints()){const C=Et.decode(x.getBits(),w[4],w[5],w[6],w[7],gr.getMinCodewordWidth(w),gr.getMaxCodewordWidth(w)),T=new He(C.getText(),C.getRawBytes(),void 0,w,Oe.PDF_417);T.putMetadata(mt.ERROR_CORRECTION_LEVEL,C.getECLevel());const M=C.getOther();M!=null&&T.putMetadata(mt.PDF417_EXTRA_METADATA,M),g.push(T)}return g.map(w=>w)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?j.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(gr.getMaxWidth(o[0],o[4]),gr.getMaxWidth(o[6],o[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(gr.getMaxWidth(o[1],o[5]),gr.getMaxWidth(o[7],o[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(gr.getMinWidth(o[0],o[4]),gr.getMinWidth(o[6],o[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(gr.getMinWidth(o[1],o[5]),gr.getMinWidth(o[7],o[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class ll extends m{}ll.kind="ReaderException";class Ed{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!r(o)&&o.get(V.TRY_HARDER)===!0,d=r(o)?null:o.get(V.POSSIBLE_FORMATS),g=new Array;if(!r(d)){const x=d.some(w=>w===Oe.UPC_A||w===Oe.UPC_E||w===Oe.EAN_13||w===Oe.EAN_8||w===Oe.CODABAR||w===Oe.CODE_39||w===Oe.CODE_93||w===Oe.CODE_128||w===Oe.ITF||w===Oe.RSS_14||w===Oe.RSS_EXPANDED);x&&!u&&g.push(new Pn(o,this.verbose)),d.includes(Oe.QR_CODE)&&g.push(new bs),d.includes(Oe.DATA_MATRIX)&&g.push(new Oi),d.includes(Oe.AZTEC)&&g.push(new ei),d.includes(Oe.PDF_417)&&g.push(new gr),x&&u&&g.push(new Pn(o,this.verbose))}g.length===0&&(u||g.push(new Pn(o,this.verbose)),g.push(new bs),g.push(new Oi),g.push(new ei),g.push(new gr),u&&g.push(new Pn(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new ll("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(d){if(d instanceof ll)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Y0 extends ke{constructor(o=null,u=500){const d=new Ed;d.setHints(o),super(d,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class K0 extends ke{constructor(o=500){super(new gr,o)}}class Z0 extends ke{constructor(o=500){super(new bs,o)}}var cl;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(cl||(cl={}));var Qn=cl;class _u{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new vn(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let d=u[u.length-1];const g=this.field;for(let x=u.length;x<=o;x++){const w=d.multiply(new vn(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));u.push(w),d=w}}return u[o]}encode(o,u){if(u===0)throw new v("No error correction bytes");const d=o.length-u;if(d<=0)throw new v("No data bytes provided");const g=this.buildGenerator(u),x=new Int32Array(d);R.arraycopy(o,0,x,0,d);let w=new vn(this.field,x);w=w.multiplyByMonomial(u,1);const T=w.divide(g)[1].getCoefficients(),M=u-T.length;for(let D=0;D<M;D++)o[d+D]=0;R.arraycopy(T,0,o,d+M,T.length)}}class kn{constructor(){}static applyMaskPenaltyRule1(o){return kn.applyMaskPenaltyRule1Internal(o,!0)+kn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const d=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x-1;w++){const C=d[w];for(let T=0;T<g-1;T++){const M=C[T];M===C[T+1]&&M===d[w+1][T]&&M===d[w+1][T+1]&&u++}}return kn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const d=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x;w++)for(let C=0;C<g;C++){const T=d[w];C+6<g&&T[C]===1&&T[C+1]===0&&T[C+2]===1&&T[C+3]===1&&T[C+4]===1&&T[C+5]===0&&T[C+6]===1&&(kn.isWhiteHorizontal(T,C-4,C)||kn.isWhiteHorizontal(T,C+7,C+11))&&u++,w+6<x&&d[w][C]===1&&d[w+1][C]===0&&d[w+2][C]===1&&d[w+3][C]===1&&d[w+4][C]===1&&d[w+5][C]===0&&d[w+6][C]===1&&(kn.isWhiteVertical(d,C,w-4,w)||kn.isWhiteVertical(d,C,w+7,w+11))&&u++}return u*kn.N3}static isWhiteHorizontal(o,u,d){u=Math.max(u,0),d=Math.min(d,o.length);for(let g=u;g<d;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,u,d,g){d=Math.max(d,0),g=Math.min(g,o.length);for(let x=d;x<g;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const d=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let T=0;T<x;T++){const M=d[T];for(let D=0;D<g;D++)M[D]===1&&u++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-w)*10/w)*kn.N4}static getDataMaskBit(o,u,d){let g,x;switch(o){case 0:g=d+u&1;break;case 1:g=d&1;break;case 2:g=u%3;break;case 3:g=(d+u)%3;break;case 4:g=Math.floor(d/2)+Math.floor(u/3)&1;break;case 5:x=d*u,g=(x&1)+x%3;break;case 6:x=d*u,g=(x&1)+x%3&1;break;case 7:x=d*u,g=x%3+(d+u&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,u){let d=0;const g=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),w=o.getArray();for(let C=0;C<g;C++){let T=0,M=-1;for(let D=0;D<x;D++){const P=u?w[C][D]:w[D][C];P===M?T++:(T>=5&&(d+=kn.N1+(T-5)),T=1,M=P)}T>=5&&(d+=kn.N1+(T-5))}return d}}kn.N1=3,kn.N2=3,kn.N3=40,kn.N4=10;class ul{constructor(o,u){this.width=o,this.height=u;const d=new Array(u);for(let g=0;g!==u;g++)d[g]=new Uint8Array(o);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,d){this.bytes[u][o]=d}setBoolean(o,u,d){this.bytes[u][o]=d?1:0}clear(o){for(const u of this.bytes)U.fill(u,o)}equals(o){if(!(o instanceof ul))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let d=0,g=this.height;d<g;++d){const x=this.bytes[d],w=u.bytes[d];for(let C=0,T=this.width;C<T;++C)if(x[C]!==w[C])return!1}return!0}toString(){const o=new je;for(let u=0,d=this.height;u<d;++u){const g=this.bytes[u];for(let x=0,w=this.width;x<w;++x)switch(g[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class ya{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new je;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<ya.NUM_MASK_PATTERNS}}ya.NUM_MASK_PATTERNS=8;class nn extends m{}nn.kind="WriterException";class ct{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,d,g,x){ct.clearMatrix(x),ct.embedBasicPatterns(d,x),ct.embedTypeInfo(u,g,x),ct.maybeEmbedVersionInfo(d,x),ct.embedDataBits(o,g,x)}static embedBasicPatterns(o,u){ct.embedPositionDetectionPatternsAndSeparators(u),ct.embedDarkDotAtLeftBottomCorner(u),ct.maybeEmbedPositionAdjustmentPatterns(o,u),ct.embedTimingPatterns(u)}static embedTypeInfo(o,u,d){const g=new W;ct.makeTypeInfoBits(o,u,g);for(let x=0,w=g.getSize();x<w;++x){const C=g.get(g.getSize()-1-x),T=ct.TYPE_INFO_COORDINATES[x],M=T[0],D=T[1];if(d.setBoolean(M,D,C),x<8){const P=d.getWidth()-x-1;d.setBoolean(P,8,C)}else{const z=d.getHeight()-7+(x-8);d.setBoolean(8,z,C)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const d=new W;ct.makeVersionInfoBits(o,d);let g=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const C=d.get(g);g--,u.setBoolean(x,u.getHeight()-11+w,C),u.setBoolean(u.getHeight()-11+w,x,C)}}static embedDataBits(o,u,d){let g=0,x=-1,w=d.getWidth()-1,C=d.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);C>=0&&C<d.getHeight();){for(let T=0;T<2;++T){const M=w-T;if(!ct.isEmpty(d.get(M,C)))continue;let D;g<o.getSize()?(D=o.get(g),++g):D=!1,u!==255&&kn.getDataMaskBit(u,M,C)&&(D=!D),d.setBoolean(M,C,D)}C+=x}x=-x,C+=x,w-=2}if(g!==o.getSize())throw new nn("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-j.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new v("0 polynomial");const d=ct.findMSBSet(u);for(o<<=d-1;ct.findMSBSet(o)>=d;)o^=u<<ct.findMSBSet(o)-d;return o}static makeTypeInfoBits(o,u,d){if(!ya.isValidMaskPattern(u))throw new nn("Invalid mask pattern");const g=o.getBits()<<3|u;d.appendBits(g,5);const x=ct.calculateBCHCode(g,ct.TYPE_INFO_POLY);d.appendBits(x,10);const w=new W;if(w.appendBits(ct.TYPE_INFO_MASK_PATTERN,15),d.xor(w),d.getSize()!==15)throw new nn("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const d=ct.calculateBCHCode(o.getVersionNumber(),ct.VERSION_INFO_POLY);if(u.appendBits(d,12),u.getSize()!==18)throw new nn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const d=(u+1)%2;ct.isEmpty(o.get(u,6))&&o.setNumber(u,6,d),ct.isEmpty(o.get(6,u))&&o.setNumber(6,u,d)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new nn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,d){for(let g=0;g<8;++g){if(!ct.isEmpty(d.get(o+g,u)))throw new nn;d.setNumber(o+g,u,0)}}static embedVerticalSeparationPattern(o,u,d){for(let g=0;g<7;++g){if(!ct.isEmpty(d.get(o,u+g)))throw new nn;d.setNumber(o,u+g,0)}}static embedPositionAdjustmentPattern(o,u,d){for(let g=0;g<5;++g){const x=ct.POSITION_ADJUSTMENT_PATTERN[g];for(let w=0;w<5;++w)d.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPattern(o,u,d){for(let g=0;g<7;++g){const x=ct.POSITION_DETECTION_PATTERN[g];for(let w=0;w<7;++w)d.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPatternsAndSeparators(o){const u=ct.POSITION_DETECTION_PATTERN[0].length;ct.embedPositionDetectionPattern(0,0,o),ct.embedPositionDetectionPattern(o.getWidth()-u,0,o),ct.embedPositionDetectionPattern(0,o.getWidth()-u,o);const d=8;ct.embedHorizontalSeparationPattern(0,d-1,o),ct.embedHorizontalSeparationPattern(o.getWidth()-d,d-1,o),ct.embedHorizontalSeparationPattern(0,o.getWidth()-d,o);const g=7;ct.embedVerticalSeparationPattern(g,0,o),ct.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),ct.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const d=o.getVersionNumber()-1,g=ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let x=0,w=g.length;x!==w;x++){const C=g[x];if(C>=0)for(let T=0;T!==w;T++){const M=g[T];M>=0&&ct.isEmpty(u.get(M,C))&&ct.embedPositionAdjustmentPattern(M-2,C-2,u)}}}}ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ct.VERSION_INFO_POLY=7973,ct.TYPE_INFO_POLY=1335,ct.TYPE_INFO_MASK_PATTERN=21522;class Q0{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gn{constructor(){}static calculateMaskPenalty(o){return kn.applyMaskPenaltyRule1(o)+kn.applyMaskPenaltyRule2(o)+kn.applyMaskPenaltyRule3(o)+kn.applyMaskPenaltyRule4(o)}static encode(o,u,d=null){let g=gn.DEFAULT_BYTE_MODE_ENCODING;const x=d!==null&&d.get(Qn.CHARACTER_SET)!==void 0;x&&(g=d.get(Qn.CHARACTER_SET).toString());const w=this.chooseMode(o,g),C=new W;if(w===rt.BYTE&&(x||gn.DEFAULT_BYTE_MODE_ENCODING!==g)){const Pe=K.getCharacterSetECIByName(g);Pe!==void 0&&this.appendECI(Pe,C)}this.appendModeInfo(w,C);const T=new W;this.appendBytes(o,w,T,g);let M;if(d!==null&&d.get(Qn.QR_VERSION)!==void 0){const Pe=Number.parseInt(d.get(Qn.QR_VERSION).toString(),10);M=nt.getVersionForNumber(Pe);const Me=this.calculateBitsNeeded(w,C,T,M);if(!this.willFit(Me,M,u))throw new nn("Data too big for requested version")}else M=this.recommendVersion(u,w,C,T);const D=new W;D.appendBitArray(C);const P=w===rt.BYTE?T.getSizeInBytes():o.length;this.appendLengthInfo(P,M,w,D),D.appendBitArray(T);const z=M.getECBlocksForLevel(u),q=M.getTotalCodewords()-z.getTotalECCodewords();this.terminateBits(q,D);const J=this.interleaveWithECBytes(D,M.getTotalCodewords(),q,z.getNumBlocks()),te=new ya;te.setECLevel(u),te.setMode(w),te.setVersion(M);const le=M.getDimensionForVersion(),pe=new ul(le,le),De=this.chooseMaskPattern(J,u,M,pe);return te.setMaskPattern(De),ct.buildMatrix(J,u,M,De,pe),te.setMatrix(pe),te}static recommendVersion(o,u,d,g){const x=this.calculateBitsNeeded(u,d,g,nt.getVersionForNumber(1)),w=this.chooseVersion(x,o),C=this.calculateBitsNeeded(u,d,g,w);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,u,d,g){return u.getSize()+o.getCharacterCountBits(g)+d.getSize()}static getAlphanumericCode(o){return o<gn.ALPHANUMERIC_TABLE.length?gn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(K.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return rt.KANJI;let d=!1,g=!1;for(let x=0,w=o.length;x<w;++x){const C=o.charAt(x);if(gn.isDigit(C))d=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)g=!0;else return rt.BYTE}return g?rt.ALPHANUMERIC:d?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=_e.encode(o,K.SJIS)}catch{return!1}const d=u.length;if(d%2!==0)return!1;for(let g=0;g<d;g+=2){const x=u[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,d,g){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let C=0;C<ya.NUM_MASK_PATTERNS;C++){ct.buildMatrix(o,u,d,C,g);let T=this.calculateMaskPenalty(g);T<x&&(x=T,w=C)}return w}static chooseVersion(o,u){for(let d=1;d<=40;d++){const g=nt.getVersionForNumber(d);if(gn.willFit(o,g,u))return g}throw new nn("Data too big")}static willFit(o,u,d){const g=u.getTotalCodewords(),w=u.getECBlocksForLevel(d).getTotalECCodewords(),C=g-w,T=(o+7)/8;return C>=T}static terminateBits(o,u){const d=o*8;if(u.getSize()>d)throw new nn("data bits cannot fit in the QR Code"+u.getSize()+" > "+d);for(let w=0;w<4&&u.getSize()<d;++w)u.appendBit(!1);const g=u.getSize()&7;if(g>0)for(let w=g;w<8;w++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let w=0;w<x;++w)u.appendBits((w&1)===0?236:17,8);if(u.getSize()!==d)throw new nn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,d,g,x,w){if(g>=d)throw new nn("Block ID too large");const C=o%d,T=d-C,M=Math.floor(o/d),D=M+1,P=Math.floor(u/d),z=P+1,q=M-P,J=D-z;if(q!==J)throw new nn("EC bytes mismatch");if(d!==T+C)throw new nn("RS blocks mismatch");if(o!==(P+q)*T+(z+J)*C)throw new nn("Total bytes mismatch");g<T?(x[0]=P,w[0]=q):(x[0]=z,w[0]=J)}static interleaveWithECBytes(o,u,d,g){if(o.getSizeInBytes()!==d)throw new nn("Number of bits and data bytes does not match");let x=0,w=0,C=0;const T=new Array;for(let D=0;D<g;++D){const P=new Int32Array(1),z=new Int32Array(1);gn.getNumDataBytesAndNumECBytesForBlockID(u,d,g,D,P,z);const q=P[0],J=new Uint8Array(q);o.toBytes(8*x,J,0,q);const te=gn.generateECBytes(J,z[0]);T.push(new Q0(J,te)),w=Math.max(w,q),C=Math.max(C,te.length),x+=P[0]}if(d!==x)throw new nn("Data bytes does not match offset");const M=new W;for(let D=0;D<w;++D)for(const P of T){const z=P.getDataBytes();D<z.length&&M.appendBits(z[D],8)}for(let D=0;D<C;++D)for(const P of T){const z=P.getErrorCorrectionBytes();D<z.length&&M.appendBits(z[D],8)}if(u!==M.getSizeInBytes())throw new nn("Interleaving error: "+u+" and "+M.getSizeInBytes()+" differ.");return M}static generateECBytes(o,u){const d=o.length,g=new Int32Array(d+u);for(let w=0;w<d;w++)g[w]=o[w]&255;new _u(Lt.QR_CODE_FIELD_256).encode(g,u);const x=new Uint8Array(u);for(let w=0;w<u;w++)x[w]=g[d+w];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,d,g){const x=d.getCharacterCountBits(u);if(o>=1<<x)throw new nn(o+" is bigger than "+((1<<x)-1));g.appendBits(o,x)}static appendBytes(o,u,d,g){switch(u){case rt.NUMERIC:gn.appendNumericBytes(o,d);break;case rt.ALPHANUMERIC:gn.appendAlphanumericBytes(o,d);break;case rt.BYTE:gn.append8BitBytes(o,d,g);break;case rt.KANJI:gn.appendKanjiBytes(o,d);break;default:throw new nn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=gn.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const d=o.length;let g=0;for(;g<d;){const x=gn.getDigit(o.charAt(g));if(g+2<d){const w=gn.getDigit(o.charAt(g+1)),C=gn.getDigit(o.charAt(g+2));u.appendBits(x*100+w*10+C,10),g+=3}else if(g+1<d){const w=gn.getDigit(o.charAt(g+1));u.appendBits(x*10+w,7),g+=2}else u.appendBits(x,4),g++}}static appendAlphanumericBytes(o,u){const d=o.length;let g=0;for(;g<d;){const x=gn.getAlphanumericCode(o.charCodeAt(g));if(x===-1)throw new nn;if(g+1<d){const w=gn.getAlphanumericCode(o.charCodeAt(g+1));if(w===-1)throw new nn;u.appendBits(x*45+w,11),g+=2}else u.appendBits(x,6),g++}}static append8BitBytes(o,u,d){let g;try{g=_e.encode(o,d)}catch(x){throw new nn(x)}for(let x=0,w=g.length;x!==w;x++){const C=g[x];u.appendBits(C,8)}}static appendKanjiBytes(o,u){let d;try{d=_e.encode(o,K.SJIS)}catch(x){throw new nn(x)}const g=d.length;for(let x=0;x<g;x+=2){const w=d[x]&255,C=d[x+1]&255,T=w<<8&4294967295|C;let M=-1;if(T>=33088&&T<=40956?M=T-33088:T>=57408&&T<=60351&&(M=T-49472),M===-1)throw new nn("Invalid byte sequence");const D=(M>>8)*192+(M&255);u.appendBits(D,13)}}static appendECI(o,u){u.appendBits(rt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}gn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gn.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class ba{write(o,u,d,g=null){if(o.length===0)throw new v("Found empty contents");if(u<0||d<0)throw new v("Requested dimensions are too small: "+u+"x"+d);let x=Jt.L,w=ba.QUIET_ZONE_SIZE;g!==null&&(g.get(Qn.ERROR_CORRECTION)!==void 0&&(x=Jt.fromString(g.get(Qn.ERROR_CORRECTION).toString())),g.get(Qn.MARGIN)!==void 0&&(w=Number.parseInt(g.get(Qn.MARGIN).toString(),10)));const C=gn.encode(o,x,g);return this.renderResult(C,u,d,w)}writeToDom(o,u,d,g,x=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(u,d,g,x);o&&o.appendChild(w)}renderResult(o,u,d,g){const x=o.getMatrix();if(x===null)throw new hi;const w=x.getWidth(),C=x.getHeight(),T=w+g*2,M=C+g*2,D=Math.max(u,T),P=Math.max(d,M),z=Math.min(Math.floor(D/T),Math.floor(P/M)),q=Math.floor((D-w*z)/2),J=Math.floor((P-C*z)/2),te=this.createSVGElement(D,P);for(let le=0,pe=J;le<C;le++,pe+=z)for(let De=0,Pe=q;De<w;De++,Pe+=z)if(x.get(De,le)===1){const Me=this.createSvgRectElement(Pe,pe,z,z);te.appendChild(Me)}return te}createSVGElement(o,u){const d=document.createElementNS(ba.SVG_NS,"svg");return d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",u.toString()),d}createSvgRectElement(o,u,d,g){const x=document.createElementNS(ba.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",d.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}ba.QUIET_ZONE_SIZE=4,ba.SVG_NS="http://www.w3.org/2000/svg";class ro{encode(o,u,d,g,x){if(o.length===0)throw new v("Found empty contents");if(u!==Oe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+u);if(d<0||g<0)throw new v(`Requested dimensions are too small: ${d}x${g}`);let w=Jt.L,C=ro.QUIET_ZONE_SIZE;x!==null&&(x.get(Qn.ERROR_CORRECTION)!==void 0&&(w=Jt.fromString(x.get(Qn.ERROR_CORRECTION).toString())),x.get(Qn.MARGIN)!==void 0&&(C=Number.parseInt(x.get(Qn.MARGIN).toString(),10)));const T=gn.encode(o,w,x);return ro.renderResult(T,d,g,C)}static renderResult(o,u,d,g){const x=o.getMatrix();if(x===null)throw new hi;const w=x.getWidth(),C=x.getHeight(),T=w+g*2,M=C+g*2,D=Math.max(u,T),P=Math.max(d,M),z=Math.min(Math.floor(D/T),Math.floor(P/M)),q=Math.floor((D-w*z)/2),J=Math.floor((P-C*z)/2),te=new Ue(D,P);for(let le=0,pe=J;le<C;le++,pe+=z)for(let De=0,Pe=q;De<w;De++,Pe+=z)x.get(De,le)===1&&te.setRegion(Pe,pe,z,z);return te}}ro.QUIET_ZONE_SIZE=4;class J0{encode(o,u,d,g,x){let w;switch(u){case Oe.QR_CODE:w=new ro;break;default:throw new v("No encoder available for format "+u)}return w.encode(o,u,d,g,x)}}class Wi extends Te{constructor(o,u,d,g,x,w,C,T){if(super(w,C),this.yuvData=o,this.dataWidth=u,this.dataHeight=d,this.left=g,this.top=x,g+w>u||x+C>d)throw new v("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(w,C)}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const d=this.getWidth();(u==null||u.length<d)&&(u=new Uint8ClampedArray(d));const g=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,g,u,0,d),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const d=o*u,g=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,x,g,0,d),g;for(let w=0;w<u;w++){const C=w*o;R.arraycopy(this.yuvData,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,d,g){return new Wi(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,d,g,!1)}renderThumbnail(){const o=this.getWidth()/Wi.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/Wi.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(o*u),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<u;w++){const C=w*o;for(let T=0;T<o;T++){const M=g[x+T*Wi.THUMBNAIL_SCALE_FACTOR]&255;d[C+T]=4278190080|M*65793}x+=this.dataWidth*Wi.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Wi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const d=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<u;g++,x+=this.dataWidth){const w=x+o/2;for(let C=x,T=x+o-1;C<w;C++,T--){const M=d[C];d[C]=d[T],d[T]=M}}}invert(){return new Be(this)}}Wi.THUMBNAIL_SCALE_FACTOR=2;class fl extends Te{constructor(o,u,d,g,x,w,C){if(super(u,d),this.dataWidth=g,this.dataHeight=x,this.left=w,this.top=C,o.BYTES_PER_ELEMENT===4){const T=u*d,M=new Uint8ClampedArray(T);for(let D=0;D<T;D++){const P=o[D],z=P>>16&255,q=P>>7&510,J=P&255;M[D]=(z+q+J)/4&255}this.luminances=M}else this.luminances=o;if(g===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=d),w===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+d>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);const d=this.getWidth();(u==null||u.length<d)&&(u=new Uint8ClampedArray(d));const g=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,g,u,0,d),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const d=o*u,g=new Uint8ClampedArray(d);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.luminances,x,g,0,d),g;for(let w=0;w<u;w++){const C=w*o;R.arraycopy(this.luminances,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,d,g){return new fl(this.luminances,d,g,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Be(this)}}class io extends K{static forName(o){return this.getCharacterSetECIByName(o)}}class Tu{}Tu.ISO_8859_1=K.ISO8859_1;class Au{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Nu{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Sd{constructor(o){this.previous=o}getPrevious(){return this.previous}}class wa extends Sd{constructor(o,u,d){super(o),this.value=u,this.bitCount=d}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new wa(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wa(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+j.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class pc extends wa{constructor(o,u,d){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=d}appendTo(o,u){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):d===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+d],8)}addBinaryShift(o,u){return new pc(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function so(L,o,u){return new pc(L,o,u)}function dl(L,o,u){return new wa(L,o,u)}const ep=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qs=0,hl=1,ri=2,ao=3,Vr=4,tp=new wa(null,0,0),oo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function _d(L){for(let o of L)U.fill(o,-1);return L[qs][Vr]=0,L[hl][Vr]=0,L[hl][qs]=28,L[ao][Vr]=0,L[ri][Vr]=0,L[ri][qs]=15,L}const Ou=_d(U.createInt32Array(6,6));class gi{constructor(o,u,d,g){this.token=o,this.mode=u,this.binaryShiftByteCount=d,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let d=this.bitCount,g=this.token;if(o!==this.mode){let w=oo[this.mode][o];g=dl(g,w&65535,w>>16),d+=w>>16}let x=o===ri?4:5;return g=dl(g,u,x),new gi(g,o,0,d+x)}shiftAndAppend(o,u){let d=this.token,g=this.mode===ri?4:5;return d=dl(d,Ou[this.mode][o],g),d=dl(d,u,5),new gi(d,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let u=this.token,d=this.mode,g=this.bitCount;if(this.mode===Vr||this.mode===ri){let C=oo[d][qs];u=dl(u,C&65535,C>>16),g+=C>>16,d=qs}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new gi(u,d,this.binaryShiftByteCount+1,g+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=so(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new gi(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(oo[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=gi.calculateBinaryShiftCost(o)-gi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())u.unshift(g);let d=new W;for(const g of u)g.appendTo(d,o);return d}toString(){return ge.format("%s bits=%d bytes=%d",ep[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}gi.INITIAL_STATE=new gi(tp,qs,0,0);function Mu(L){const o=ge.getCharCode(" "),u=ge.getCharCode("."),d=ge.getCharCode(",");L[qs][o]=1;const g=ge.getCharCode("Z"),x=ge.getCharCode("A");for(let z=x;z<=g;z++)L[qs][z]=z-x+2;L[hl][o]=1;const w=ge.getCharCode("z"),C=ge.getCharCode("a");for(let z=C;z<=w;z++)L[hl][z]=z-C+2;L[ri][o]=1;const T=ge.getCharCode("9"),M=ge.getCharCode("0");for(let z=M;z<=T;z++)L[ri][z]=z-M+2;L[ri][d]=12,L[ri][u]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let z=0;z<D.length;z++)L[ao][ge.getCharCode(D[z])]=z;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let z=0;z<P.length;z++)ge.getCharCode(P[z])>0&&(L[Vr][ge.getCharCode(P[z])]=z);return L}const mc=Mu(U.createInt32Array(5,256));class lo{constructor(o){this.text=o}encode(){const o=ge.getCharCode(" "),u=ge.getCharCode(`
`);let d=Nu.singletonList(gi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,C=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case ge.getCharCode("\r"):w=C===u?2:0;break;case ge.getCharCode("."):w=C===o?3:0;break;case ge.getCharCode(","):w=C===o?4:0;break;case ge.getCharCode(":"):w=C===o?5:0;break;default:w=0}w>0?(d=lo.updateStateListForPair(d,x,w),x++):d=this.updateStateListForChar(d,x)}return Nu.min(d,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const d=[];for(let g of o)this.updateStateForChar(g,u,d);return lo.simplifyStates(d)}updateStateForChar(o,u,d){let g=this.text[u]&255,x=mc[o.getMode()][g]>0,w=null;for(let C=0;C<=Vr;C++){let T=mc[C][g];if(T>0){if(w==null&&(w=o.endBinaryShift(u)),!x||C===o.getMode()||C===ri){const M=w.latchAndAppend(C,T);d.push(M)}if(!x&&Ou[o.getMode()][C]>=0){const M=w.shiftAndAppend(C,T);d.push(M)}}}if(o.getBinaryShiftByteCount()>0||mc[o.getMode()][g]===0){let C=o.addBinaryShiftChar(u);d.push(C)}}static updateStateListForPair(o,u,d){const g=[];for(let x of o)this.updateStateForPair(x,u,d,g);return this.simplifyStates(g)}static updateStateForPair(o,u,d,g){let x=o.endBinaryShift(u);if(g.push(x.latchAndAppend(Vr,d)),o.getMode()!==Vr&&g.push(x.shiftAndAppend(Vr,d)),d===3||d===4){let w=x.latchAndAppend(ri,16-d).latchAndAppend(ri,1);g.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);g.push(w)}}static simplifyStates(o){let u=[];for(const d of o){let g=!0;for(const x of u){if(x.isBetterThanOrEqualTo(d)){g=!1;break}d.isBetterThanOrEqualTo(x)&&(u=u.filter(w=>w!==x))}g&&u.push(d)}return u}}class Ut{constructor(){}static encodeBytes(o){return Ut.encode(o,Ut.DEFAULT_EC_PERCENT,Ut.DEFAULT_AZTEC_LAYERS)}static encode(o,u,d){let g=new lo(o).encode(),x=j.truncDivision(g.getSize()*u,100)+11,w=g.getSize()+x,C,T,M,D,P;if(d!==Ut.DEFAULT_AZTEC_LAYERS){if(C=d<0,T=Math.abs(d),T>(C?Ut.MAX_NB_BITS_COMPACT:Ut.MAX_NB_BITS))throw new v(ge.format("Illegal value %s for layers",d));M=Ut.totalBitsInLayer(T,C),D=Ut.WORD_SIZE[T];let Me=M-M%D;if(P=Ut.stuffBits(g,D),P.getSize()+x>Me)throw new v("Data to large for user specified layer");if(C&&P.getSize()>D*64)throw new v("Data to large for user specified layer")}else{D=0,P=null;for(let Me=0;;Me++){if(Me>Ut.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(C=Me<=3,T=C?Me+1:Me,M=Ut.totalBitsInLayer(T,C),w>M)continue;(P==null||D!==Ut.WORD_SIZE[T])&&(D=Ut.WORD_SIZE[T],P=Ut.stuffBits(g,D));let yt=M-M%D;if(!(C&&P.getSize()>D*64)&&P.getSize()+x<=yt)break}}let z=Ut.generateCheckWords(P,M,D),q=P.getSize()/D,J=Ut.generateModeMessage(C,T,q),te=(C?11:14)+T*4,le=new Int32Array(te),pe;if(C){pe=te;for(let Me=0;Me<le.length;Me++)le[Me]=Me}else{pe=te+1+2*j.truncDivision(j.truncDivision(te,2)-1,15);let Me=j.truncDivision(te,2),yt=j.truncDivision(pe,2);for(let gt=0;gt<Me;gt++){let kr=gt+j.truncDivision(gt,15);le[Me-gt-1]=yt-kr-1,le[Me+gt]=yt+kr+1}}let De=new Ue(pe);for(let Me=0,yt=0;Me<T;Me++){let gt=(T-Me)*4+(C?9:12);for(let kr=0;kr<gt;kr++){let xi=kr*2;for(let Gr=0;Gr<2;Gr++)z.get(yt+xi+Gr)&&De.set(le[Me*2+Gr],le[Me*2+kr]),z.get(yt+gt*2+xi+Gr)&&De.set(le[Me*2+kr],le[te-1-Me*2-Gr]),z.get(yt+gt*4+xi+Gr)&&De.set(le[te-1-Me*2-Gr],le[te-1-Me*2-kr]),z.get(yt+gt*6+xi+Gr)&&De.set(le[te-1-Me*2-kr],le[Me*2+Gr])}yt+=gt*8}if(Ut.drawModeMessage(De,C,pe,J),C)Ut.drawBullsEye(De,j.truncDivision(pe,2),5);else{Ut.drawBullsEye(De,j.truncDivision(pe,2),7);for(let Me=0,yt=0;Me<j.truncDivision(te,2)-1;Me+=15,yt+=16)for(let gt=j.truncDivision(pe,2)&1;gt<pe;gt+=2)De.set(j.truncDivision(pe,2)-yt,gt),De.set(j.truncDivision(pe,2)+yt,gt),De.set(gt,j.truncDivision(pe,2)-yt),De.set(gt,j.truncDivision(pe,2)+yt)}let Pe=new Au;return Pe.setCompact(C),Pe.setSize(pe),Pe.setLayers(T),Pe.setCodeWords(q),Pe.setMatrix(De),Pe}static drawBullsEye(o,u,d){for(let g=0;g<d;g+=2)for(let x=u-g;x<=u+g;x++)o.set(x,u-g),o.set(x,u+g),o.set(u-g,x),o.set(u+g,x);o.set(u-d,u-d),o.set(u-d+1,u-d),o.set(u-d,u-d+1),o.set(u+d,u-d),o.set(u+d,u-d+1),o.set(u+d,u+d-1)}static generateModeMessage(o,u,d){let g=new W;return o?(g.appendBits(u-1,2),g.appendBits(d-1,6),g=Ut.generateCheckWords(g,28,4)):(g.appendBits(u-1,5),g.appendBits(d-1,11),g=Ut.generateCheckWords(g,40,4)),g}static drawModeMessage(o,u,d,g){let x=j.truncDivision(d,2);if(u)for(let w=0;w<7;w++){let C=x-3+w;g.get(w)&&o.set(C,x-5),g.get(w+7)&&o.set(x+5,C),g.get(20-w)&&o.set(C,x+5),g.get(27-w)&&o.set(x-5,C)}else for(let w=0;w<10;w++){let C=x-5+w+j.truncDivision(w,5);g.get(w)&&o.set(C,x-7),g.get(w+10)&&o.set(x+7,C),g.get(29-w)&&o.set(C,x+7),g.get(39-w)&&o.set(x-7,C)}}static generateCheckWords(o,u,d){let g=o.getSize()/d,x=new _u(Ut.getGF(d)),w=j.truncDivision(u,d),C=Ut.bitsToWords(o,d,w);x.encode(C,w-g);let T=u%d,M=new W;M.appendBits(0,T);for(const D of Array.from(C))M.appendBits(D,d);return M}static bitsToWords(o,u,d){let g=new Int32Array(d),x,w;for(x=0,w=o.getSize()/u;x<w;x++){let C=0;for(let T=0;T<u;T++)C|=o.get(x*u+T)?1<<u-T-1:0;g[x]=C}return g}static getGF(o){switch(o){case 4:return Lt.AZTEC_PARAM;case 6:return Lt.AZTEC_DATA_6;case 8:return Lt.AZTEC_DATA_8;case 10:return Lt.AZTEC_DATA_10;case 12:return Lt.AZTEC_DATA_12;default:throw new v("Unsupported word size "+o)}}static stuffBits(o,u){let d=new W,g=o.getSize(),x=(1<<u)-2;for(let w=0;w<g;w+=u){let C=0;for(let T=0;T<u;T++)(w+T>=g||o.get(w+T))&&(C|=1<<u-1-T);(C&x)===x?(d.appendBits(C&x,u),w--):(C&x)===0?(d.appendBits(C|1,u),w--):d.appendBits(C,u)}return d}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Ut.DEFAULT_EC_PERCENT=33,Ut.DEFAULT_AZTEC_LAYERS=0,Ut.MAX_NB_BITS=32,Ut.MAX_NB_BITS_COMPACT=4,Ut.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class gc{encode(o,u,d,g){return this.encodeWithHints(o,u,d,g,null)}encodeWithHints(o,u,d,g,x){let w=Tu.ISO_8859_1,C=Ut.DEFAULT_EC_PERCENT,T=Ut.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Qn.CHARACTER_SET)&&(w=io.forName(x.get(Qn.CHARACTER_SET).toString())),x.has(Qn.ERROR_CORRECTION)&&(C=j.parseInt(x.get(Qn.ERROR_CORRECTION).toString())),x.has(Qn.AZTEC_LAYERS)&&(T=j.parseInt(x.get(Qn.AZTEC_LAYERS).toString()))),gc.encodeLayers(o,u,d,g,w,C,T)}static encodeLayers(o,u,d,g,x,w,C){if(u!==Oe.AZTEC)throw new v("Can only encode AZTEC, but got "+u);let T=Ut.encode(ge.getBytes(o,x),w,C);return gc.renderResult(T,d,g)}static renderResult(o,u,d){let g=o.getMatrix();if(g==null)throw new hi;let x=g.getWidth(),w=g.getHeight(),C=Math.max(u,x),T=Math.max(d,w),M=Math.min(C/x,T/w),D=(C-x*M)/2,P=(T-w*M)/2,z=new Ue(C,T);for(let q=0,J=P;q<w;q++,J+=M)for(let te=0,le=D;te<x;te++,le+=M)g.get(te,q)&&z.setRegion(le,J,M,M);return z}}n.AbstractExpandedDecoder=Je,n.ArgumentException=b,n.ArithmeticException=ms,n.AztecCode=Au,n.AztecCodeReader=ei,n.AztecCodeWriter=gc,n.AztecDecoder=Zt,n.AztecDetector=sc,n.AztecDetectorResult=gs,n.AztecEncoder=Ut,n.AztecHighLevelEncoder=lo,n.AztecPoint=Gt,n.BarcodeFormat=Oe,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=W,n.BitMatrix=Ue,n.BitSource=Cr,n.BrowserAztecCodeReader=ac,n.BrowserBarcodeReader=Ni,n.BrowserCodeReader=ke,n.BrowserDatamatrixCodeReader=$0,n.BrowserMultiFormatReader=Y0,n.BrowserPDF417Reader=K0,n.BrowserQRCodeReader=Z0,n.BrowserQRCodeSvgWriter=ba,n.CharacterSetECI=K,n.ChecksumException=N,n.Code128Reader=Fe,n.Code39Reader=tn,n.DataMatrixDecodedBitStreamParser=js,n.DataMatrixReader=Oi,n.DecodeHintType=V,n.DecoderResult=Ur,n.DefaultGridSampler=En,n.DetectorResult=pi,n.EAN13Reader=ti,n.EncodeHintType=Qn,n.Exception=m,n.FormatException=Y,n.GenericGF=Lt,n.GenericGFPoly=vn,n.GlobalHistogramBinarizer=G,n.GridSampler=ha,n.GridSamplerInstance=ir,n.HTMLCanvasElementLuminanceSource=Z,n.HybridBinarizer=ie,n.ITFReader=Ht,n.IllegalArgumentException=v,n.IllegalStateException=hi,n.InvertedLuminanceSource=Be,n.LuminanceSource=Te,n.MathUtils=It,n.MultiFormatOneDReader=Pn,n.MultiFormatReader=Ed,n.MultiFormatWriter=J0,n.NotFoundException=re,n.OneDReader=un,n.PDF417DecodedBitStreamParser=xe,n.PDF417DecoderErrorCorrection=ol,n.PDF417Reader=gr,n.PDF417ResultMetadata=fc,n.PerspectiveTransform=Cn,n.PlanarYUVLuminanceSource=Wi,n.QRCodeByteMatrix=ul,n.QRCodeDataMask=mr,n.QRCodeDecodedBitStreamParser=On,n.QRCodeDecoderErrorCorrectionLevel=Jt,n.QRCodeDecoderFormatInformation=pr,n.QRCodeEncoder=gn,n.QRCodeEncoderQRCode=ya,n.QRCodeMaskUtil=kn,n.QRCodeMatrixUtil=ct,n.QRCodeMode=rt,n.QRCodeReader=bs,n.QRCodeVersion=nt,n.QRCodeWriter=ro,n.RGBLuminanceSource=fl,n.RSS14Reader=et,n.RSSExpandedReader=Ee,n.ReaderException=ll,n.ReedSolomonDecoder=fa,n.ReedSolomonEncoder=_u,n.ReedSolomonException=vr,n.Result=He,n.ResultMetadataType=mt,n.ResultPoint=$e,n.StringUtils=ge,n.UnsupportedOperationException=be,n.VideoInputDevice=ve,n.WhiteRectangleDetector=mi,n.WriterException=nn,n.ZXingArrays=U,n.ZXingCharset=io,n.ZXingInteger=j,n.ZXingStandardCharsets=Tu,n.ZXingStringBuilder=je,n.ZXingStringEncoding=_e,n.ZXingSystem=R,n.createAbstractExpandedDecoder=xs,Object.defineProperty(n,"__esModule",{value:!0})})}(kf,kf.exports)),kf.exports}var Mn=$L();const qL=Jl(Mn),WL=o8({__proto__:null,default:qL},[Mn]);var E3=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,Mn.BarcodeFormat.QR_CODE],[We.AZTEC,Mn.BarcodeFormat.AZTEC],[We.CODABAR,Mn.BarcodeFormat.CODABAR],[We.CODE_39,Mn.BarcodeFormat.CODE_39],[We.CODE_93,Mn.BarcodeFormat.CODE_93],[We.CODE_128,Mn.BarcodeFormat.CODE_128],[We.DATA_MATRIX,Mn.BarcodeFormat.DATA_MATRIX],[We.MAXICODE,Mn.BarcodeFormat.MAXICODE],[We.ITF,Mn.BarcodeFormat.ITF],[We.EAN_13,Mn.BarcodeFormat.EAN_13],[We.EAN_8,Mn.BarcodeFormat.EAN_8],[We.PDF_417,Mn.BarcodeFormat.PDF_417],[We.RSS_14,Mn.BarcodeFormat.RSS_14],[We.RSS_EXPANDED,Mn.BarcodeFormat.RSS_EXPANDED],[We.UPC_A,Mn.BarcodeFormat.UPC_A],[We.UPC_E,Mn.BarcodeFormat.UPC_E],[We.UPC_EAN_EXTENSION,Mn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!WL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Mn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Mn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new Mn.MultiFormatReader(this.verbose,this.hints),r=new Mn.HTMLCanvasElementLuminanceSource(e),i=new Mn.BinaryBitmap(new Mn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:KS.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),XL=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(b){try{m(r.next(b))}catch(v){c(v)}}function p(b){try{m(r.throw(b))}catch(v){c(v)}}function m(b){b.done?s(b.value):i(b.value).then(f,p)}m((r=r.apply(t,e||[])).next())})},YL=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return p([m,b])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},S3=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,"qr_code"],[We.AZTEC,"aztec"],[We.CODABAR,"codabar"],[We.CODE_39,"code_39"],[We.CODE_93,"code_93"],[We.CODE_128,"code_128"],[We.DATA_MATRIX,"data_matrix"],[We.ITF,"itf"],[We.EAN_13,"ean_13"],[We.EAN_8,"ean_8"],[We.PDF_417,"pdf417"],[We.UPC_A,"upc_a"],[We.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return XL(this,void 0,void 0,function(){var n,r;return YL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:KS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>r&&(r=f,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),_3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(b){try{m(r.next(b))}catch(v){c(v)}}function p(b){try{m(r.throw(b))}catch(v){c(v)}}function m(b){b.done?s(b.value):i(b.value).then(f,p)}m((r=r.apply(t,e||[])).next())})},T3=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return p([m,b])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},KL=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&S3.isSupported()?(this.primaryDecoder=new S3(e,r,i),this.secondaryDecoder=new E3(e,r,i)):this.primaryDecoder=new E3(e,r,i)}return t.prototype.decodeAsync=function(e){return _3(this,void 0,void 0,function(){var n;return T3(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return _3(this,void 0,void 0,function(){var n,r;return T3(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),wx=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(b){try{m(r.next(b))}catch(v){c(v)}}function p(b){try{m(r.throw(b))}catch(v){c(v)}}function m(b){b.done?s(b.value):i(b.value).then(f,p)}m((r=r.apply(t,e||[])).next())})},T1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return p([m,b])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},QS=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),ZL=function(t){wx(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(QS),QL=function(t){wx(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(ZL),JL=function(t){wx(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(QS),eP=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new QL(this.track)},t.prototype.torchFeature=function(){return new JL(this.track)},t}(),tP=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return _1(this,void 0,void 0,function(){var s,c;return T1(this,function(f){switch(f.label){case 0:return s=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return _1(this,void 0,void 0,function(){return T1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(f){e.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new eP(this.getFirstTrackOrFail())},t}(),nP=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return _1(this,void 0,void 0,function(){return T1(this,function(i){return[2,tP.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return _1(this,void 0,void 0,function(){var n,r;return T1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),A3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(b){try{m(r.next(b))}catch(v){c(v)}}function p(b){try{m(r.throw(b))}catch(v){c(v)}}function m(b){b.done?s(b.value):i(b.value).then(f,p)}m((r=r.apply(t,e||[])).next())})},N3=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return p([m,b])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},rP=function(){function t(){}return t.failIfNotSupported=function(){return A3(this,void 0,void 0,function(){return N3(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return A3(this,void 0,void 0,function(){return N3(this,function(n){return[2,nP.create(e)]})})},t}(),iP=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(b){try{m(r.next(b))}catch(v){c(v)}}function p(b){try{m(r.throw(b))}catch(v){c(v)}}function m(b){b.done?s(b.value):i(b.value).then(f,p)}m((r=r.apply(t,e||[])).next())})},sP=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(b){return p([m,b])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},aP=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=ou.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=ou.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return iP(this,void 0,void 0,function(){var e,n,r,i,s,c,f;return sP(this,function(p){switch(p.label){case 0:return e=function(m){for(var b=m.getVideoTracks(),v=0,_=b;v<_.length;v++){var N=_[v];N.enabled=!1,N.stop(),m.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),i=[],s=0,c=r;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var c=[],f=0,p=s;f<p.length;f++){var m=p[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t}(),Wn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Wn||(Wn={}));var oP=function(){function t(){this.state=Wn.NOT_STARTED,this.onGoingTransactionNewState=Wn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Wn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Wn.UNKNOWN:throw"Transition from unknown is not allowed";case Wn.NOT_STARTED:this.failIfNewStateIs(e,[Wn.PAUSED]);break;case Wn.SCANNING:break;case Wn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),lP=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Wn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Wn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Wn.PAUSED},t}(),cP=function(){function t(){}return t.create=function(){return new lP(new oP)},t}(),uP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fi=function(t){uP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(UL),fP=function(){function t(e,n){this.logger=n,this.fps=Fi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Fi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ZS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!$a(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),dP=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new VL(this.verbose),this.qrcode=new KL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=cP.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=fP.create(n,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Fi.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var v=this,_=this.stateManagerProxy.startTransition(Wn.SCANNING);return new Promise(function(N,A){var R=m?f.videoConstraints:v.createVideoConstraints(e);if(!R){_.cancel(),A("videoConstraints should be defined");return}var I={};(!m||f.aspectRatio)&&(I.aspectRatio=f.aspectRatio);var k={onRenderSurfaceReady:function(U,j){v.setupUi(U,j,f),v.isScanning=!0,v.foreverScan(f,r,c)}};rP.failIfNotSupported().then(function(U){U.create(R).then(function(j){return j.render(s.element,I,k).then(function(W){v.renderedCamera=W,_.execute(),N(null)}).catch(function(W){_.cancel(),A(W)})}).catch(function(j){_.cancel(),A(ou.errorGettingUserMedia(j))})}).catch(function(U){_.cancel(),A(ou.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wn.PAUSED),this.showPausedState(),($a(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Wn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Wn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Fi.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($a(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(r.elementId),b=m.clientWidth?m.clientWidth:Fi.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:p,Fi.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(f,p,b,v);if(n){var N=r.createCanvasElement(b,v,"qr-canvas-visible");N.style.display="inline-block",m.appendChild(N);var A=N.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=b,A.canvas.height=v,A.drawImage(c,0,0,f,p,_.x,_.y,_.width,_.height)}var R=Fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(c.width,_.width),k=Math.max(c.height,_.height),U=I+2*R,j=k+2*R,W=r.createCanvasElement(U,j);m.appendChild(W);var X=W.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=U,X.canvas.height=j,X.drawImage(c,0,0,f,p,R,R,I,k);try{r.qrcode.decodeRobustlyAsync(W).then(function(V){i(v3.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return aP.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!ZS.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[We.QR_CODE,We.AZTEC,We.CODABAR,We.CODE_39,We.CODE_93,We.CODE_128,We.DATA_MATRIX,We.MAXICODE,We.ITF,We.EAN_13,We.EAN_8,We.PDF_417,We.RSS_14,We.RSS_EXPANDED,We.UPC_A,We.UPC_E,We.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var c=s[i];FL(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if($a(e))return!0;if(!$a(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if($a(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return $a(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(e,n,s),f=function(m){if(m<Fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Fi.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};f(c.width),f(c.height),c.width=p(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=$a(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&s.height<=n,f={x:0,y:0,width:e,height:n},p=c?this.getShadedRegionBounds(e,n,s):f,m=this.createCanvasElement(p.width,p.height),b={willReadFrequently:!0},v=m.getContext("2d",b);v.canvas.width=p.width,v.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=v,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=ou.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,v3.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=ou.codeParseError(i);return n(s,HL.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*f,b=this.qrRegion.x*c,v=this.qrRegion.y*f;this.context.drawImage(s,b,v,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(N){!N&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",c=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},f=Object.keys(e);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(e)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var m=e.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof v;throw"Invalid type of 'deviceId' = ".concat(_)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,c=(i-n)/2;return{x:s,y:c,width:e,height:n}}else{var f=e,p=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Fi.BORDER_SHADER_MATCH_COLOR:Fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=$a(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(n-i.width)/2,f=(r-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Fi.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(s,m,p,-p,null,0,!0),this.insertShaderBorders(s,m,p,-p,null,0,!1),this.insertShaderBorders(s,m,p,null,-p,0,!0),this.insertShaderBorders(s,m,p,null,-p,0,!1),this.insertShaderBorders(s,p,m+p,-p,null,-p,!0),this.insertShaderBorders(s,p,m+p,null,-p,-p,!0),this.insertShaderBorders(s,p,m+p,-p,null,-p,!1),this.insertShaderBorders(s,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Fi.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),i!==null&&(p.style.top="".concat(i,"px")),s!==null&&(p.style.bottom="".concat(s,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),e.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),O3;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(O3||(O3={}));const hP="_scannerContainer_yftsj_1",pP="_header_yftsj_25",mP="_closeButton_yftsj_37",gP="_title_yftsj_59",xP="_scannerArea_yftsj_79",yP="_qrScannerWrapper_yftsj_91",bP="_scannerOverlay_yftsj_135",wP="_corner_yftsj_153",vP="_topLeft_yftsj_167",CP="_topRight_yftsj_183",EP="_bottomLeft_yftsj_199",SP="_bottomRight_yftsj_215",_P="_instructionBox_yftsj_229",TP="_qrIconButton_yftsj_253",AP="_errorMessage_yftsj_293",NP="_test_yftsj_319",wr={scannerContainer:hP,header:pP,closeButton:mP,title:gP,scannerArea:xP,qrScannerWrapper:yP,scannerOverlay:bP,corner:wP,topLeft:vP,topRight:CP,bottomLeft:EP,bottomRight:SP,instructionBox:_P,qrIconButton:TP,errorMessage:AP,test:NP};function OP(){const t=wn(),e="html5qr-code-full-region",n=F.useRef(null),[r,i]=F.useState(null),[s,c]=F.useState(!1),f=Mr(),p=async()=>{const b=new URLSearchParams(f.search).get("itemId");if(b)try{await nr.patch(`/api/reservations/${b}`,{reservation_status:"used"}),localStorage.setItem("showAttendanceModal","true"),t("/mypage")}catch(v){console.error("  :",v),alert("     .")}};F.useEffect(()=>{const b={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return n.current=new dP(e),n.current.start({facingMode:"environment"},b,v=>{n.current.stop().then(()=>{t(`/art/${v}`)}).catch(_=>{console.error("Failed to stop scanner:",_)})},()=>{}).catch(v=>{i("   ."),console.error("QR  :",v)}),async()=>{const v=n.current;if(v)try{v.isScanning&&await v.stop(),v.clear()}catch(_){console.error("Cleanup :",_)}}},[t]);const m=()=>{localStorage.removeItem("showAttendanceModal"),localStorage.removeItem("exhibitionInfo"),t(-1)};return F.useEffect(()=>{new URLSearchParams(f.search).get("itemId")&&c(!0)},[f]),E.jsxs("div",{className:wr.scannerContainer,children:[E.jsxs("div",{className:wr.header,children:[E.jsx("button",{className:wr.closeButton,onClick:m,children:""}),E.jsx("h2",{className:wr.title,children:"Artly QR Reader"})]}),E.jsxs("div",{className:wr.scannerArea,children:[E.jsx("div",{id:e,className:wr.qrScannerWrapper}),E.jsxs("div",{className:wr.scannerOverlay,children:[E.jsx("div",{className:`${wr.corner} ${wr.topLeft}`}),E.jsx("div",{className:`${wr.corner} ${wr.topRight}`}),E.jsx("div",{className:`${wr.corner} ${wr.bottomLeft}`}),E.jsx("div",{className:`${wr.corner} ${wr.bottomRight}`})]}),r&&E.jsx("div",{className:wr.errorMessage,children:r})]}),E.jsx("button",{className:wr.qrIconButton,children:E.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),E.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),E.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),E.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),E.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),E.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),E.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),E.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),E.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),E.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),E.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),E.jsxs("div",{className:wr.instructionBox,children:[E.jsx("p",{children:"QR   ."}),s&&E.jsx("button",{onClick:p,className:wr.test,children:"  QR "})]})]})}const MP="_layout_jvhsh_1",RP="_title_jvhsh_23",IP="_galleryWrapper_jvhsh_33",DP="_searchForm_jvhsh_45",kP="_searchInput_jvhsh_59",_f={layout:MP,title:RP,galleryWrapper:IP,searchForm:DP,searchInput:kP},BP=()=>{const[t,e]=F.useState({lat:37.3595704,lng:127.105399}),n=i=>{const s=i.coords.latitude,c=i.coords.longitude;e({lat:s,lng:c})},r=i=>{alert(`(${i.code}): ${i.message}`)};return F.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n,r):alert("    !")},[]),{coords:t,setCoords:e}},LP="_layout_1log3_1",PP="_searchTitle_1log3_15",jP="_resultNumParagraph_1log3_25",zP="_highlightSpan_1log3_33",FP="_paginationRow_1log3_53",Tf={layout:LP,searchTitle:PP,resultNumParagraph:jP,highlightSpan:zP,paginationRow:FP};function UP({results:t}){const{currentPage:e,setCurrentPage:n,pageItems:r}=Eu(10,t);return E.jsxs("section",{className:Tf.layout,children:[E.jsxs("div",{children:[E.jsx("h2",{className:Tf.searchTitle,children:"   "}),E.jsxs("p",{className:Tf.resultNumParagraph,children:[" ",E.jsx("span",{className:Tf.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&E.jsx("div",{children:"  ."}),r.map(i=>E.jsx(bx,{galleryItem:i},i.id)),E.jsx("div",{className:Tf.paginationRow,children:E.jsx(Cu,{currentPage:e,onPageChange:n,totalItems:t.length})})]})}function HP(){const{coords:t,setCoords:e}=BP(),[n,r]=F.useState([]),[i,s]=F.useState(!1),{lat:c,lng:f}=t,[p,m]=F.useState(""),b=_=>{m(_.target.value)};yx({lat:c,lng:f,id:"nearby-map",results:n,zoomLevel:12});const v=async _=>{_.preventDefault();try{const N=await nO.get("/v2/geocode",{params:{query:p}}),A=N.data.addresses[0].x,R=N.data.addresses[0].y;e({lat:R,lng:A})}catch(N){console.error(N),alert("  ")}};return F.useEffect(()=>{(async()=>{try{s(!0);const N=await nr.get("/api/galleries",{params:{latitude:c,longitude:f,distance:5e3}});r(N.data)}catch(N){console.error(N),alert("   ")}finally{s(!1)}})()},[c,f]),E.jsxs("div",{className:_f.layout,children:[E.jsx("h1",{className:_f.title,children:"  "}),E.jsx("form",{className:_f.searchForm,onSubmit:v,children:E.jsx("input",{className:_f.searchInput,value:p,onChange:b,placeholder:" "})}),E.jsx("div",{id:"nearby-map",className:_f.galleryWrapper}),i&&E.jsx("div",{children:"   .."}),E.jsx(UP,{results:n})]})}const VP="_layout_dpzcc_5",GP="_artworkCard_dpzcc_71",$P="_mainImage_dpzcc_97",qP="_title_dpzcc_113",WP="_subtitle_dpzcc_127",XP="_actionButtonContainer_dpzcc_145",YP="_actionButton_dpzcc_145",KP="_actionIcon_dpzcc_187",ZP="_isClicked_dpzcc_195",QP="_infoCard_dpzcc_207",JP="_artistHeader_dpzcc_231",ej="_artistImage_dpzcc_243",tj="_artistName_dpzcc_259",nj="_detailList_dpzcc_273",rj="_label_dpzcc_307",ij="_value_dpzcc_317",sj="_description_dpzcc_331",aj="_docent_dpzcc_349",oj="_docentTitle_dpzcc_369",lj="_docentDesc_dpzcc_377",cj="_sectionTitle_dpzcc_401",uj="_relatedGrid_dpzcc_413",fj="_relatedCard_dpzcc_425",dj="_relatedImage_dpzcc_449",hj="_relatedInfo_dpzcc_461",pj="_relatedTitle_dpzcc_475",mj="_relatedSub_dpzcc_487",gj="_relatedMeta_dpzcc_497",xj="_emptyContent_dpzcc_507",yj="_backButton_dpzcc_521",Tt={layout:VP,artworkCard:GP,mainImage:$P,title:qP,subtitle:WP,actionButtonContainer:XP,actionButton:YP,actionIcon:KP,isClicked:ZP,infoCard:QP,artistHeader:JP,artistImage:ej,artistName:tj,detailList:nj,label:rj,value:ij,description:sj,docent:aj,docentTitle:oj,docentDesc:lj,sectionTitle:cj,relatedGrid:uj,relatedCard:fj,relatedImage:dj,relatedInfo:hj,relatedTitle:pj,relatedSub:mj,relatedMeta:gj,emptyContent:xj,backButton:yj};function JS({showUserActions:t=!0,id:e}){const{artworkId:n}=Is(),r=e||n;wn();const[i,s]=F.useState(null);if(F.useEffect(()=>{r&&(async()=>{try{const W=await In.get(`/api/arts/${r}`);s(W.data),console.log(W.data)}catch(W){console.error("  :",W)}})()},[r]),!i)return E.jsx("div",{className:Tt.loading,children:" ..."});const c=()=>alert("   api  ."),f=()=>alert("   ."),p=()=>{const{exhibition_name:j}=exhibitionData,W=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${j}`,text:`${j}   !`,url:W}).catch(X=>console.error(" :",X));else{const X=document.createElement("textarea");X.value=W,document.body.appendChild(X),X.focus(),X.select();try{document.execCommand("copy"),alert("  .")}catch(V){console.error("  :",V),alert("  .")}document.body.removeChild(X)}},{art_title:m,artist_name:b,art_description:v,art_docent:_,art_material:N,art_size:A,art_image:R,is_liked:I,recommended:k}=i,U=[{label:"",icon:E.jsx(N0,{className:`${Tt.actionIcon} ${I&&Tt.isClicked}`}),action:c},{label:"",icon:E.jsx(p9,{className:Tt.actionIcon}),action:f},{label:"",icon:E.jsx(xx,{className:Tt.actionIcon}),action:p}];return E.jsxs("div",{className:Tt.layout,children:[E.jsxs("div",{className:Tt.artworkCard,children:[E.jsx("img",{src:R,alt:m,className:Tt.mainImage}),E.jsx("h2",{className:Tt.title,children:m}),E.jsx("p",{className:Tt.subtitle,children:b}),t&&E.jsx("div",{className:Tt.actionButtonContainer,children:U.map(({label:j,icon:W,action:X})=>E.jsxs("button",{className:Tt.actionButton,onClick:X,children:[W,j]},j))})]}),E.jsxs("div",{className:Tt.infoCard,children:[E.jsxs("div",{className:Tt.artistHeader,children:[E.jsx("img",{src:i.artist_profile_image||"/images/default_artist.png",alt:b,className:Tt.artistImage}),E.jsx("span",{className:Tt.artistName,children:b})]}),E.jsxs("ul",{className:Tt.detailList,children:[E.jsxs("li",{children:[E.jsx("span",{className:Tt.label,children:""}),E.jsx("span",{className:Tt.value,children:i.art_year||" "})]}),E.jsxs("li",{children:[E.jsx("span",{className:Tt.label,children:""}),E.jsx("span",{className:Tt.value,children:N||" "})]}),E.jsxs("li",{children:[E.jsx("span",{className:Tt.label,children:""}),E.jsx("span",{className:Tt.value,children:A||" "})]}),E.jsxs("li",{children:[E.jsx("span",{className:Tt.label,children:""}),E.jsx("span",{className:Tt.value,children:i.art_price?`${i.art_price.toLocaleString()}`:" "})]})]}),E.jsx("p",{className:Tt.description,children:v||"   ."}),_&&E.jsxs("p",{className:Tt.docent,children:[E.jsx("h3",{className:Tt.docentTitle,children:"AI "}),E.jsx("p",{className:Tt.docentDesc,children:_})]})]}),t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:Tt.infoCard,children:[E.jsx("h3",{className:Tt.sectionTitle,children:" "}),!k||k.length===0?E.jsx("p",{className:Tt.emptyContent,children:"   ."}):E.jsx(E.Fragment,{children:E.jsx("div",{className:Tt.relatedGrid,children:k.map(j=>E.jsxs("div",{className:Tt.relatedCard,children:[E.jsx("img",{src:j.img,alt:j.title,className:Tt.relatedImage}),E.jsxs("div",{className:Tt.relatedInfo,children:[E.jsx("h4",{className:Tt.relatedTitle,children:j.title}),E.jsx("p",{className:Tt.relatedSub,children:j.material}),E.jsxs("p",{className:Tt.relatedMeta,children:[j.size," | ",j.year]})]})]},j.id))})})]}),E.jsx(cn,{className:Tt.backButton,to:"/artworks",children:""})]})]})}const bj="_layout_ezrs8_1",wj="_findForm_ezrs8_15",vj="_formTitle_ezrs8_33",Cj="_submitButton_ezrs8_43",Ml={layout:bj,findForm:wj,formTitle:vj,submitButton:Cj};function Ej(){const{data:t,handleChange:e}=E1({userName:"",userEmail:""}),{data:n,handleChange:r}=E1({userId:"",userEmail:""}),i=c=>{c.preventDefault(),alert("  ")},s=c=>{c.preventDefault(),alert("  ")};return E.jsxs("div",{className:Ml.layout,children:[E.jsxs("form",{className:Ml.findForm,onSubmit:i,children:[E.jsx("h2",{className:Ml.formTitle,children:" "}),E.jsx(oa,{name:"userName",placeholder:"",onChange:e,value:t.userName}),E.jsx(oa,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),E.jsx("button",{className:Ml.submitButton,children:" "})]}),E.jsxs("form",{className:Ml.findForm,onSubmit:s,children:[E.jsx("h2",{className:Ml.formTitle,children:" "}),E.jsx(oa,{name:"userId",placeholder:"",onChange:r,value:n.userId}),E.jsx(oa,{name:"userEmail",placeholder:"@     ",onChange:r,value:n.userEmail}),E.jsx("button",{className:Ml.submitButton,children:"  "})]})]})}const Sj="_announcementLayout_om46f_1",_j="_heading_om46f_19",Tj="_tabWrapper_om46f_31",Aj="_tab_om46f_31",Nj="_active_om46f_71",Oj="_listItem_om46f_99",Mj="_buttonField_om46f_107",Rj="_contentContainer_om46f_129",Ro={announcementLayout:Sj,heading:_j,tabWrapper:Tj,tab:Aj,active:Nj,listItem:Oj,buttonField:Mj,contentContainer:Rj},Ij=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],Dj=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],kj=["","FAQ"];function Bj(){const[t,e]=F.useState(""),[n,r]=F.useState({}),i=t===""?Ij:Dj,s=f=>{if(n[f]){r(m=>({...m,[f]:!1}));return}r(m=>({...m,[f]:!0}))},c=f=>{e(f),r({})};return E.jsxs("div",{className:Ro.announcementLayout,children:[E.jsx("h1",{className:Ro.heading,children:"&FAQ"}),E.jsx("div",{className:Ro.tabWrapper,children:kj.map(f=>E.jsx("button",{className:`${Ro.tab} ${t===f?Ro.active:""}`,onClick:()=>c(f),children:f},f))}),E.jsx("ul",{children:i.map((f,p)=>E.jsxs("li",{className:Ro.listItem,onClick:()=>{s(p)},children:[E.jsxs("div",{className:Ro.buttonField,children:[f.title,E.jsx("span",{children:n[p]?E.jsx(g9,{}):E.jsx(m9,{})})]}),n[p]&&E.jsx("div",{className:Ro.contentContainer,children:f.content})]},f.id))})]})}const Lj="_termsLayout_135gr_1",Pj="_mainTitle_135gr_19",jj="_tabWrapper_135gr_43",zj="_tab_135gr_43",Fj="_active_135gr_83",Uj="_contentContainer_135gr_99",Yc={termsLayout:Lj,mainTitle:Pj,tabWrapper:jj,tab:zj,active:Fj,contentContainer:Uj},Hj={content:`   

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},Vj={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function Gj(){const t=["",""],[e,n]=F.useState(""),r=e===""?Hj:Vj,i=s=>{n(s)};return E.jsxs("section",{className:Yc.termsLayout,children:[E.jsx("h1",{className:Yc.mainTitle,children:""}),E.jsx("div",{className:Yc.tabWrapper,children:t.map(s=>E.jsx("button",{className:`${Yc.tab} ${e===s?Yc.active:""}`,onClick:()=>i(s),children:s},s))}),E.jsx("div",{className:Yc.contentContainer,children:r.content})]})}const $j="_layout_3y7o4_1",qj="_title_3y7o4_19",Wj="_posterImage_3y7o4_31",Xj="_completionIcon_3y7o4_43",Yj="_completionTitle_3y7o4_67",Kj="_reservationSummary_3y7o4_81",Zj="_summaryRow_3y7o4_95",Qj="_summaryLabel_3y7o4_115",Jj="_summaryValue_3y7o4_125",ez="_buttonField_3y7o4_155",tz="_exhibitionLink_3y7o4_165",nz="_mypageLink_3y7o4_167",rs={layout:$j,title:qj,posterImage:Wj,completionIcon:Xj,completionTitle:Yj,reservationSummary:Kj,summaryRow:Zj,summaryLabel:Qj,summaryValue:Jj,buttonField:ez,exhibitionLink:tz,mypageLink:nz};function rz(){const{reservationId:t}=Is(),[e,n]=F.useState([]),{exhibition_location:r,exhibition_title:i,exhibition_poster:s,exhibition_id:c,reservation_total_price:f,reservation_number_of_tickets:p,reservation_datetime:m}=e,v=[{label:"",value:e?i:""},{label:"",value:e?r:""},{label:"",value:(_=>{if(_)return _.split(" ")[0]})(m)},{label:"",value:`${p}`},{label:"",value:`${f}`}];return F.useEffect(()=>{(async()=>{try{const N=await In.get("/api/users/me/exhibitions");n(N.data.find(A=>A.id===t))}catch(N){console.error(N)}})()},[]),E.jsxs("div",{className:rs.layout,children:[E.jsx("h1",{className:rs.title,children:"  "}),E.jsx("img",{className:rs.posterImage,src:s,alt:"  "}),E.jsx("div",{className:rs.completionIcon,children:E.jsx(gx,{})}),E.jsx("div",{className:rs.completionTitle,children:"   "}),E.jsx("div",{className:rs.reservationSummary,children:v.map(_=>E.jsxs("div",{className:rs.summaryRow,children:[E.jsx("span",{className:rs.summaryLabel,children:_.label}),E.jsx("span",{className:rs.summaryValue,children:_.value})]},_.label))}),E.jsxs("div",{className:rs.buttonField,children:[E.jsx(cn,{className:rs.mypageLink,to:"/mypage",children:""}),E.jsx(cn,{className:rs.exhibitionLink,to:`/exhibitions/${c}`,children:" "})]})]})}const iz="_container_12nm0_1",sz="_header_12nm0_15",az="_title_12nm0_33",oz="_loading_12nm0_45",lz="_error_12nm0_47",cz="_empty_12nm0_49",uz="_exhibitionInfo_12nm0_69",fz="_calendarContainer_12nm0_113",dz="_calendarHeader_12nm0_121",hz="_monthNavigator_12nm0_135",pz="_currentMonth_12nm0_145",mz="_monthButton_12nm0_157",gz="_weekdaysRow_12nm0_189",xz="_weekdayCell_12nm0_201",yz="_weekend_12nm0_215",bz="_calendarGrid_12nm0_223",wz="_dateCell_12nm0_235",vz="_disabled_12nm0_249",Cz="_selected_12nm0_261",Ez="_today_12nm0_271",Sz="_visitorCount_12nm0_279",_z="_countLabel_12nm0_293",Tz="_countControls_12nm0_303",Az="_countButton_12nm0_313",Nz="_countDisplay_12nm0_347",Oz="_reservationInfo_12nm0_361",Mz="_infoRow_12nm0_373",Rz="_infoLabel_12nm0_393",Iz="_infoValue_12nm0_403",Dz="_buttonsContainer_12nm0_413",kz="_actionButton_12nm0_427",Bz="_backButton_12nm0_459",Lz="_reservationForm_12nm0_491",Pz="_formTitle_12nm0_499",jz="_formGroup_12nm0_511",zz="_formLabel_12nm0_519",Fz="_formInput_12nm0_533",Uz="_reservationSummary_12nm0_559",Hz="_summaryImage_12nm0_587",Vz="_summaryTitle_12nm0_597",Gz="_summaryRow_12nm0_607",$z="_summaryLabel_12nm0_625",qz="_summaryValue_12nm0_641",Wz="_completionScreen_12nm0_661",Xz="_completionIcon_12nm0_671",Yz="_completionTitle_12nm0_697",Kz="_completionMessage_12nm0_709",Ze={container:iz,header:sz,title:az,loading:oz,error:lz,empty:cz,exhibitionInfo:uz,calendarContainer:fz,calendarHeader:dz,monthNavigator:hz,currentMonth:pz,monthButton:mz,weekdaysRow:gz,weekdayCell:xz,weekend:yz,calendarGrid:bz,dateCell:wz,disabled:vz,selected:Cz,today:Ez,visitorCount:Sz,countLabel:_z,countControls:Tz,countButton:Az,countDisplay:Nz,reservationInfo:Oz,infoRow:Mz,infoLabel:Rz,infoValue:Iz,buttonsContainer:Dz,actionButton:kz,backButton:Bz,reservationForm:Lz,formTitle:Pz,formGroup:jz,formLabel:zz,formInput:Fz,reservationSummary:Uz,summaryImage:Hz,summaryTitle:Vz,summaryRow:Gz,summaryLabel:$z,summaryValue:qz,completionScreen:Wz,completionIcon:Xz,completionTitle:Yz,completionMessage:Kz};function Zz(){const{exhibitionId:t}=Is(),e=wn(),[n,r]=F.useState(null),[i,s]=F.useState(!0),[c,f]=F.useState(null),[p,m]=F.useState(1),[b,v]=F.useState(""),[_,N]=F.useState(1),[A,R]=F.useState({name:"",phone:"",email:"",date:"",gallery:"",state:""}),I=new Date,[k,U]=F.useState(I.getMonth()),[j,W]=F.useState(I.getFullYear());F.useEffect(()=>{t&&(async()=>{try{const ie=await nr.get(`/api/exhibitions/${t}`);r(ie.data)}catch{f("     .")}finally{s(!1)}})()},[t]),F.useEffect(()=>{n&&R(G=>({...G,gallery:n.exhibition_location}))},[n]);const X=()=>{const G=new Date(j,k+1,0).getDate(),ie=new Date(j,k,1).getDay(),Te=[];return Array.from({length:ie}).forEach(()=>{Te.push({day:"",disabled:!0})}),Array.from({length:G}).forEach((Be,Z)=>{const ve=Z+1,Re=new Date(j,k,ve),ke=Re.toDateString()===new Date().toDateString(),He=Re<new Date(new Date().setHours(0,0,0,0));Te.push({day:ve,date:Re,disabled:He,isToday:ke})}),Te},V=()=>{U(G=>G===11?0:G+1),k===11&&W(G=>G+1)},Y=()=>{U(G=>G===0?11:G-1),k===0&&W(G=>G-1)},se=G=>{if(G.disabled)return;const ie=`${j}.${String(k+1).padStart(2,"0")}.${String(G.day).padStart(2,"0")}`;v(ie),R(Te=>({...Te,date:ie}))},K=G=>{const ie=_+G;ie>=1&&ie<=10&&N(ie)},be=G=>{const{name:ie,value:Te}=G.target;R(Be=>({...Be,[ie]:Te}))},_e=async()=>{if(p===1&&!b){alert(" .");return}if(p===2&&(!A.name||!A.phone||!A.email)){alert("   .");return}if(p===2)try{const G=await nr.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:_,reservation_datetime:b,visitor_name:A.name,visitor_phone:A.phone,visitor_email:A.email,payment_method:"",total_price:0});console.log(" :",G.data)}catch(G){console.error(" :",G),alert("    .");return}m(p+1)},ge=()=>{m(p-1)},je=()=>{localStorage.setItem("fromReservationModal","true"),e("/mypage")};if(i)return E.jsx("div",{className:Ze.loading,children:" ..."});if(c)return E.jsx("div",{className:Ze.error,children:c});if(!n)return E.jsx("div",{className:Ze.empty,children:"    ."});const Ue=["","","","","","",""],re=[{label:"",value:n?n.exhibition_title:""},{label:"",value:b},{label:"",value:`${_}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:A.name},{label:"",value:A.phone},{label:"",value:A.email}];return console.log(n.exhibition_poster),E.jsxs("div",{className:Ze.container,children:[E.jsx("div",{className:Ze.header,children:E.jsx("h2",{className:Ze.title,children:""})}),p===1&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:Ze.exhibitionInfo,children:[E.jsx("strong",{children:n.exhibition_title}),E.jsx("p",{children:n.exhibition_organization})]}),E.jsxs("div",{className:Ze.calendarContainer,children:[E.jsx("div",{className:Ze.calendarHeader,children:E.jsxs("div",{className:Ze.monthNavigator,children:[E.jsx("button",{className:Ze.monthButton,onClick:Y,children:"<"}),E.jsx("span",{className:Ze.currentMonth,children:`${j}.${String(k+1).padStart(2,"0")}`}),E.jsx("button",{className:Ze.monthButton,onClick:V,children:">"})]})}),E.jsx("div",{className:Ze.weekdaysRow,children:Ue.map((G,ie)=>E.jsx("div",{className:`${Ze.weekdayCell} ${ie===0||ie===6?Ze.weekend:""}`,children:G},G))}),E.jsx("div",{className:Ze.calendarGrid,children:X().map((G,ie)=>{const Te=G.day?`${j}-${k}-${G.day}`:`empty-${ie}`;return E.jsx("div",{className:`${Ze.dateCell} ${G.disabled?Ze.disabled:""} ${G.isToday?Ze.today:""} ${b&&G.day&&b===`${j}.${String(k+1).padStart(2,"0")}.${String(G.day).padStart(2,"0")}`?Ze.selected:""}`,onClick:()=>se(G),children:G.day},Te)})})]}),E.jsxs("div",{className:Ze.visitorCount,children:[E.jsx("span",{className:Ze.countLabel,children:""}),E.jsxs("div",{className:Ze.countControls,children:[E.jsx("button",{className:Ze.countButton,onClick:()=>K(-1),children:"-"}),E.jsxs("span",{className:Ze.countDisplay,children:[_,""]}),E.jsx("button",{className:Ze.countButton,onClick:()=>K(1),children:"+"})]})]}),E.jsxs("div",{className:Ze.reservationInfo,children:[E.jsxs("div",{className:Ze.infoRow,children:[E.jsx("span",{className:Ze.infoLabel,children:""}),E.jsx("span",{className:Ze.infoValue,children:b||""})]}),E.jsxs("div",{className:Ze.infoRow,children:[E.jsx("span",{className:Ze.infoLabel,children:""}),E.jsxs("span",{className:Ze.infoLabel,children:[_,""]})]}),E.jsxs("div",{className:Ze.infoRow,children:[E.jsx("span",{className:Ze.infoLabel,children:""}),E.jsx("span",{className:Ze.infoValue,children:n.exhibition_location})]})]})]}),p===2&&E.jsxs("div",{className:Ze.reservationForm,children:[E.jsx("h3",{className:Ze.formTitle,children:"  "}),["name","phone","email"].map(G=>E.jsxs("div",{className:Ze.formGroup,children:[E.jsx("label",{className:Ze.formLabel,children:G==="name"?"":G==="phone"?"":""}),E.jsx("input",{className:Ze.formInput,type:G==="email"?"email":G==="phone"?"tel":"text",name:G,value:A[G],onChange:be,placeholder:G==="name"?" ":G==="phone"?"010-0000-0000":"example@email.com"})]},G)),E.jsxs("div",{className:Ze.reservationSummary,children:[E.jsx("div",{className:Ze.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:b},{label:"",value:`${_}`},{label:"",value:n?n.exhibition_location:" "}].map(G=>E.jsxs("div",{className:Ze.summaryRow,children:[E.jsx("span",{className:Ze.summaryLabel,children:G.label}),E.jsx("span",{className:Ze.summaryValue,children:G.value})]},G.label))]})]}),p===3&&E.jsxs("div",{className:Ze.completionScreen,children:[E.jsx("div",{className:Ze.completionIcon,children:E.jsx(gx,{})}),E.jsx("div",{className:Ze.completionTitle,children:"   "}),E.jsxs("div",{className:Ze.completionMessage,children:[A.name,"   ."]}),E.jsxs("div",{className:Ze.reservationSummary,children:[E.jsx("img",{className:Ze.summaryImage,src:n.exhibition_poster}),re.map(G=>E.jsx("div",{className:Ze.summaryRow,children:G.label===""?E.jsx("h2",{className:Ze.summaryTitle,children:G.value}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:Ze.summaryLabel,children:G.label}),E.jsx("span",{className:Ze.summaryValue,children:G.value})]})},G.label))]})]}),E.jsx("div",{className:Ze.buttonsContainer,children:p===1?E.jsx("button",{className:Ze.actionButton,onClick:_e,children:""}):p===2?E.jsxs(E.Fragment,{children:[E.jsx("button",{className:Ze.backButton,onClick:ge,children:""}),E.jsx("button",{className:Ze.actionButton,onClick:_e,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{className:Ze.backButton,onClick:()=>e("/exhibitions"),children:""}),E.jsx("button",{className:Ze.actionButton,onClick:je,children:" "})]})})]})}function Qz(){return E.jsx("div",{children:"ConsoleMain"})}function Jz(){return E.jsxs(E.Fragment,{children:[E.jsx(XE,{}),E.jsx(JE,{}),E.jsx("div",{style:{flex:1},children:E.jsx(sx,{})}),E.jsx(eS,{})]})}const eF="_layout_d3ydp_1",tF="_header_d3ydp_9",nF="_title_d3ydp_35",rF="_backButton_d3ydp_45",iF="_content_d3ydp_63",sF="_adminTabNav_d3ydp_77",aF="_adminTabButton_d3ydp_103",oF="_descriptionParagraph_d3ydp_157",lF="_addButton_d3ydp_205",cF="_emptyContent_d3ydp_273",_s={layout:eF,header:tF,title:nF,backButton:rF,content:iF,adminTabNav:sF,adminTabButton:aF,descriptionParagraph:oF,addButton:lF,emptyContent:cF},uF="_layout_1k7tz_1",fF="_breadcrumb_1k7tz_19",dF="_card_1k7tz_31",hF="_titleSection_1k7tz_51",pF="_galleryTitle_1k7tz_61",mF="_gallerySubTitle_1k7tz_73",gF="_galleryImage_1k7tz_85",xF="_containerLayout_1k7tz_103",yF="_tagContainer_1k7tz_115",bF="_tag_1k7tz_115",wF="_btnLayout_1k7tz_149",vF="_likeButton_1k7tz_159",CF="_icon_1k7tz_185",EF="_likedIcon_1k7tz_191",SF="_infoList_1k7tz_203",_F="_infoRow_1k7tz_217",TF="_infoLabel_1k7tz_227",AF="_infoContent_1k7tz_239",NF="_homepageButton_1k7tz_259",OF="_descriptionParagraph_1k7tz_407",MF="_mapSection_1k7tz_561",RF="_sectionTitle_1k7tz_569",IF="_map_1k7tz_561",DF="_backButton_1k7tz_595",Tn={layout:uF,breadcrumb:fF,card:dF,titleSection:hF,galleryTitle:pF,gallerySubTitle:mF,galleryImage:gF,containerLayout:xF,tagContainer:yF,tag:bF,btnLayout:wF,likeButton:vF,icon:CF,likedIcon:EF,infoList:SF,infoRow:_F,infoLabel:TF,infoContent:AF,homepageButton:NF,descriptionParagraph:OF,mapSection:MF,sectionTitle:RF,map:IF,backButton:DF},kF="_tabsLayout_2k5w9_1",BF="_tabNav_2k5w9_11",LF="_tabButton_2k5w9_31",PF="_activeTab_2k5w9_61",jF="_tabContent_2k5w9_83",Af={tabsLayout:kF,tabNav:BF,tabButton:LF,activeTab:PF,tabContent:jF};function e_({tabs:t,activeTab:e,setActiveTab:n,children:r}){return E.jsxs("div",{className:Af.tabsLayout,children:[E.jsx("nav",{className:Af.tabNav,children:t.map(({key:i,label:s})=>E.jsx("button",{className:`${Af.tabButton} ${e===i&&Af.activeTab}`,onClick:()=>n(i),children:s},i))}),E.jsx("section",{className:Af.tabContent,children:r})]})}const zF="_exhibitionList_skdsf_1",FF="_exhibitionCard_skdsf_15",UF="_imageContainer_skdsf_47",HF="_exhibitionImage_skdsf_61",VF="_statusTag_skdsf_75",GF="_statusOn_skdsf_99",$F="_statusScheduled_skdsf_105",qF="_statusDone_skdsf_111",WF="_statusDefault_skdsf_117",XF="_infoContainer_skdsf_125",YF="_title_skdsf_145",KF="_organization_skdsf_163",ZF="_date_skdsf_173",QF="_emptyContent_skdsf_183",vi={exhibitionList:zF,exhibitionCard:FF,imageContainer:UF,exhibitionImage:HF,statusTag:VF,statusOn:GF,statusScheduled:$F,statusDone:qF,statusDefault:WF,infoContainer:XF,title:YF,organization:KF,date:ZF,emptyContent:QF},M3={exhibited:{text:"",className:vi.statusOn},scheduled:{text:"",className:vi.statusScheduled},ended:{text:"",className:vi.statusDone},default:{text:"",className:vi.statusDefault}};function vx({exhibitions:t}){const n=Mr().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?E.jsx("p",{className:vi.emptyContent,children:"   ."}):E.jsx("section",{className:vi.exhibitionList,children:t.map(({exhibition_id:r,exhibition_poster:i,exhibition_title:s,exhibition_status:c,organization:f,start_date:p,end_date:m})=>{const b=M3[c]||M3.default,v=n?`/console/exhibitions/${r}`:`/exhibitions/${r}`;return E.jsxs(cn,{className:vi.exhibitionCard,to:v,children:[E.jsxs("div",{className:vi.imageContainer,children:[E.jsx("img",{className:vi.exhibitionImage,src:i,alt:"  "}),E.jsx("span",{className:`${vi.statusTag} ${b.className}`,children:b.text})]}),E.jsxs("div",{className:vi.infoContainer,children:[E.jsx("h4",{className:vi.title,children:s}),E.jsx("p",{className:vi.organization,children:f}),E.jsx("p",{className:vi.date,children:`${p} - ${m}`})]})]},r)})})}function t_({showUserActions:t=!0,id:e}){const{galleryId:n}=Is(),r=e||n,i=wn(),[s,c]=F.useState(null),[f,p]=F.useState(!1),[m,b]=F.useState("ongoing");yx({lat:s==null?void 0:s.gallery_latitude,lng:s==null?void 0:s.gallery_longitude,id:`gallery-${n}-map`,title:s==null?void 0:s.gallery_name,location:s==null?void 0:s.gallery_address});const v=async()=>{try{const G=await In.get(`/api/galleries/${r}`);c(G.data),console.log("",G.data)}catch(G){console.error(G)}},_=async()=>{if(localStorage.getItem("ACCESS_TOKEN"))try{const Te=((await In.get("/api/users/me/likes")).data.like_galleries||[]).some(Be=>Be.id===Number(r));p(Te)}catch(G){console.error("   :",G)}};if(F.useEffect(()=>{r&&(v(),_())},[r]),!s)return E.jsx("div",{children:" ..."});const N=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){i("/login");return}try{f?await In.delete("/api/likes",{data:{liked_id:r,liked_type:"gallery"}}):await In.post("/api/likes",{liked_id:r,liked_type:"gallery"}),p(!f),await v()}catch(G){console.error(G)}},A=()=>{const{gallery_name:G}=s,ie=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${G}`,text:`${G}   !`,url:ie}).catch(Te=>console.error(" :",Te));else{const Te=document.createElement("textarea");Te.value=ie,document.body.appendChild(Te),Te.focus(),Te.select();try{document.execCommand("copy"),alert("  .")}catch(Be){console.error("  :",Be),alert("  .")}document.body.removeChild(Te)}},{exhibitions:R,gallery_address:I,gallery_category:k,gallery_closed_day:U,gallery_description:j,gallery_end_time:W,gallery_start_time:X,gallery_image:V,gallery_name:Y,gallery_latitude:se,gallery_longitude:K,gallery_name_en:be,gallery_phone:_e,gallery_email:ge,gallery_homepage:je}=s,Ue=[{label:"",content:`${X} - ${W}`},{label:"",content:U},{label:"",content:_e||" "},{label:"",content:I},{label:"",content:ge?E.jsx("a",{href:`mailto:${ge}`,children:ge}):" "}],re=[{key:"ongoing",label:" "},{key:"upcoming",label:" "}];return E.jsxs("div",{className:Tn.layout,children:[t&&E.jsxs("div",{className:Tn.breadcrumb,children:[" > ",Y]}),E.jsxs("section",{className:Tn.titleSection,children:[E.jsx("h1",{className:Tn.galleryTitle,children:Y}),E.jsx("p",{className:Tn.gallerySubTitle,children:be||"Gallery Name"})]}),E.jsxs("div",{className:Tn.card,children:[E.jsx("img",{className:Tn.galleryImage,src:V,alt:"  "}),E.jsxs("div",{className:Tn.containerLayout,children:[E.jsx("div",{className:Tn.tagContainer,children:k==null?void 0:k.split(",").map(G=>E.jsx("span",{className:Tn.tag,children:G.trim()},G))}),t&&E.jsxs("div",{className:Tn.btnLayout,children:[E.jsxs("button",{className:Tn.likeButton,onClick:N,children:[E.jsx(dI,{className:f?Tn.likedIcon:Tn.icon}),""]}),E.jsxs("button",{className:Tn.likeButton,onClick:A,children:[E.jsx(hI,{className:Tn.icon}),""]})]})]}),E.jsxs("section",{className:Tn.infoList,children:[Ue.map(({label:G,content:ie})=>E.jsxs("div",{className:Tn.infoRow,children:[E.jsx("span",{className:Tn.infoLabel,children:G}),E.jsx("div",{className:Tn.infoContent,children:ie})]},G)),E.jsx("button",{disabled:!je,className:Tn.homepageButton,onClick:()=>window.open(je,"_blank"),children:je?"":"  "})]})]}),t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Tn.descriptionParagraph,dangerouslySetInnerHTML:{__html:j}}),E.jsx(e_,{tabs:re,activeTab:m,setActiveTab:b,children:E.jsx(vx,{exhibitions:R==null?void 0:R.filter(G=>m==="ongoing"?G.exhibition_status==="exhibited":m==="upcoming"?G.exhibition_status==="scheduled":!0)})}),E.jsxs("div",{className:Tn.mapSection,children:[E.jsx("p",{className:Tn.sectionTitle,children:" "}),E.jsx("div",{id:`gallery-${n}-map`,className:Tn.map})]}),E.jsx("button",{className:Tn.backButton,onClick:()=>i("/galleries"),children:" "})]})]})}const JF="_layout_15hz5_1",eU="_card_15hz5_17",tU="_profileCard_15hz5_43",nU="_infoCard_15hz5_57",rU="_tabCard_15hz5_59",iU="_exhibitionImage_15hz5_69",sU="_titleSection_15hz5_91",aU="_title_15hz5_91",oU="_actionButtonContainer_15hz5_115",lU="_actionButton_15hz5_115",cU="_actionIcon_15hz5_157",uU="_isClicked_15hz5_165",fU="_infoList_15hz5_175",dU="_infoRow_15hz5_187",hU="_infoLabel_15hz5_197",pU="_infoContent_15hz5_211",mU="_descriptionParagraph_15hz5_237",gU="_sectionTitle_15hz5_265",xU="_emptyContent_15hz5_277",yU="_backButton_15hz5_291",An={layout:JF,card:eU,profileCard:tU,infoCard:nU,tabCard:rU,exhibitionImage:iU,titleSection:sU,title:aU,actionButtonContainer:oU,actionButton:lU,actionIcon:cU,isClicked:uU,infoList:fU,infoRow:dU,infoLabel:hU,infoContent:pU,descriptionParagraph:mU,sectionTitle:gU,emptyContent:xU,backButton:yU},bU="_artworkGrid_1kwuv_1",wU="_artworkCard_1kwuv_45",vU="_artworkImage_1kwuv_83",CU="_artworkInfo_1kwuv_97",EU="_title_1kwuv_111",SU="_materials_1kwuv_123",_U="_details_1kwuv_133",TU="_emptyContent_1kwuv_145",Io={artworkGrid:bU,artworkCard:wU,artworkImage:vU,artworkInfo:CU,title:EU,materials:SU,details:_U,emptyContent:TU};function AU({artworks:t}){const n=Mr().pathname.includes("/console");return console.log(t),!t||t.length===0?E.jsx("p",{className:Io.emptyContent,children:"   ."}):E.jsx("section",{className:Io.artworkGrid,children:t.map(({id:r,image_url:i,title:s,artist_name:c,materials:f,size:p,year:m})=>{const b=n?`/console/artworks/${r}`:`/artworks/${r}`;return E.jsxs(cn,{className:Io.artworkCard,to:b,children:[E.jsx("img",{className:Io.artworkImage,src:i,alt:s}),E.jsxs("div",{className:Io.artworkInfo,children:[E.jsx("h4",{className:Io.title,children:s}),E.jsx("p",{className:Io.materials,children:f}),E.jsx("p",{className:Io.details,children:`${p}, ${m}`})]})]},r)})})}const NU="_relatedSection_1t574_1",OU="_list_1t574_17",MU="_card_1t574_31",RU="_imageWrapper_1t574_59",IU="_image_1t574_59",DU="_info_1t574_97",kU="_title_1t574_111",BU="_meta_1t574_123",LU="_date_1t574_133",PU="_locButton_1t574_143",jU="_emptyContent_1t574_163",Ts={relatedSection:NU,list:OU,card:MU,imageWrapper:RU,image:IU,info:DU,title:kU,meta:BU,date:LU,locButton:PU,emptyContent:jU};function zU({exhibitions:t=[]}){const e=wn();return!t||t.length===0?E.jsx("p",{className:Ts.emptyContent,children:"  ."}):E.jsx("section",{className:Ts.relatedSection,children:E.jsx("div",{className:Ts.list,children:t.map(({id:n,title:r,poster:i,start_date:s,end_date:c,organization:f,location:p})=>E.jsxs("div",{className:Ts.card,onClick:()=>e(`/exhibitions/${n}`),children:[E.jsx("div",{className:Ts.imageWrapper,children:E.jsx("img",{src:i,alt:r,className:Ts.image})}),E.jsxs("div",{className:Ts.info,children:[E.jsx("h4",{className:Ts.title,children:r}),E.jsx("button",{className:Ts.locButton,onClick:m=>{m.preventDefault(),m.stopPropagation(),handleOpen()},children:E.jsx($S,{})}),E.jsxs("p",{className:Ts.meta,children:[f||""," / ",p||""]}),E.jsxs("p",{className:Ts.date,children:[s," ~ ",c]})]})]},n))})})}function n_({showUserActions:t=!0,id:e}){const{exhibitionId:n}=Is(),r=e||n,i=wn(),[s,c]=F.useState(null),[f,p]=F.useState(!1),m=async()=>{try{const ie=await In.get(`/api/exhibitions/${r}`);c(ie.data),console.log("",ie.data)}catch(ie){console.error("  :",ie)}},b=async()=>{if(localStorage.getItem("ACCESS_TOKEN"))try{const Be=((await In.get("/api/users/me/likes")).data.like_exhibitions||[]).some(Z=>Z.id===Number(r));p(Be)}catch(ie){console.error("   :",ie)}};F.useEffect(()=>{r&&(m(),b())},[r]);const v=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){i("/login");return}try{f?await In.delete("/api/likes",{data:{liked_id:r,liked_type:"exhibition"}}):await In.post("/api/likes",{liked_id:r,liked_type:"exhibition"}),p(!f),await m()}catch(ie){console.error(ie)}},_=()=>{i(`/reservation/${n}`)},N=()=>{const{exhibition_name:ie}=s,Te=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${ie}`,text:`${ie}   !`,url:Te}).catch(Be=>console.error(" :",Be));else{const Be=document.createElement("textarea");Be.value=Te,document.body.appendChild(Be),Be.focus(),Be.select();try{document.execCommand("copy"),alert("  .")}catch(Z){console.error("  :",Z),alert("  .")}document.body.removeChild(Be)}};if(!s)return E.jsx("div",{children:" ..."});const{exhibition_title:A,exhibition_poster:R,exhibition_start_date:I,exhibition_end_date:k,exhibition_start_time:U,exhibition_end_time:j,exhibition_location:W,exhibition_price:X,exhibition_organization:V,exhibition_closed_day:Y,exhibition_description:se,related_exhibitions:K,artworks:be,exhibition_phone:_e,exhibition_artist:ge,exhibition_homepage:je,is_liked:Ue}=s,re=[{label:"",content:`${I} ~ ${k}`},{label:"",content:V},{label:"",content:`${U} ~ ${j}`},{label:"",content:Y},{label:"",content:`${X} ()`},{label:"",content:_e||" "},{label:"",content:W},{label:"",content:ge||" "},{label:"",content:je?E.jsx("a",{href:je,target:"_blank",rel:"noopener noreferrer",children:je}):" "}],G=[{label:"",icon:E.jsx(N0,{className:`${An.actionIcon} ${Ue&&An.isClicked}`}),action:v},{label:"",icon:E.jsx(h9,{className:An.actionIcon}),action:_},{label:"",icon:E.jsx(xx,{className:An.actionIcon}),action:N},{label:"",icon:E.jsx(w9,{className:An.actionIcon}),action:()=>i("/scan")}];return E.jsxs("div",{className:An.layout,children:[E.jsxs("div",{className:`${An.card} ${An.profileCard}`,children:[E.jsx("img",{className:An.exhibitionImage,src:R,alt:" "}),E.jsx("div",{className:An.titleSection,children:E.jsx("h1",{className:An.title,children:A})}),t&&E.jsx("div",{className:An.actionButtonContainer,children:G.map(({label:ie,icon:Te,action:Be})=>E.jsxs("button",{className:An.actionButton,onClick:Be,children:[Te,ie]},ie))})]}),E.jsx("div",{className:`${An.card} ${An.infoCard}`,children:E.jsx("section",{className:An.infoList,children:re.map(({label:ie,content:Te})=>E.jsxs("div",{className:An.infoRow,children:[E.jsx("span",{className:An.infoLabel,children:ie}),E.jsx("div",{className:An.infoContent,children:Te})]},ie))})}),t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:`${An.card} ${An.tabCard}`,children:[E.jsx("h3",{className:An.sectionTitle,children:" "}),se?E.jsx("div",{className:An.descriptionParagraph,dangerouslySetInnerHTML:{__html:se}}):E.jsx("p",{className:An.emptyContent,children:"    ."}),E.jsx("h3",{className:An.sectionTitle,children:" "}),E.jsx(zU,{exhibitions:K||[]})]}),E.jsx(cn,{className:An.backButton,to:"/exhibitions",children:" "})]})]})}var Kc={},bg,R3;function r_(){return R3||(R3=1,bg={L:1,M:0,Q:3,H:2}),bg}var wg,I3;function i_(){return I3||(I3=1,wg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),wg}var vg,D3;function FU(){if(D3)return vg;D3=1;var t=i_();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},vg=e,vg}var Cg,k3;function UU(){if(k3)return Cg;k3=1;var t=r_();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,c=new Array,f=0;f<s;f++)for(var p=i[f*3+0],m=i[f*3+1],b=i[f*3+2],v=0;v<p;v++)c.push(new e(m,b));return c},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},Cg=e,Cg}var Eg,B3;function HU(){if(B3)return Eg;B3=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Eg=t,Eg}var Sg,L3;function s_(){if(L3)return Sg;L3=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Sg=t,Sg}var _g,P3;function a_(){if(P3)return _g;P3=1;var t=s_();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},_g=e,_g}var Tg,j3;function VU(){if(j3)return Tg;j3=1;var t=i_(),e=a_(),n=s_(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var c=s<<10;i.getBCHDigit(c)-i.getBCHDigit(i.G15)>=0;)c^=i.G15<<i.getBCHDigit(c)-i.getBCHDigit(i.G15);return(s<<10|c)^i.G15_MASK},getBCHTypeNumber:function(s){for(var c=s<<12;i.getBCHDigit(c)-i.getBCHDigit(i.G18)>=0;)c^=i.G18<<i.getBCHDigit(c)-i.getBCHDigit(i.G18);return s<<12|c},getBCHDigit:function(s){for(var c=0;s!=0;)c++,s>>>=1;return c},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,c,f){switch(s){case r.PATTERN000:return(c+f)%2==0;case r.PATTERN001:return c%2==0;case r.PATTERN010:return f%3==0;case r.PATTERN011:return(c+f)%3==0;case r.PATTERN100:return(Math.floor(c/2)+Math.floor(f/3))%2==0;case r.PATTERN101:return c*f%2+c*f%3==0;case r.PATTERN110:return(c*f%2+c*f%3)%2==0;case r.PATTERN111:return(c*f%3+(c+f)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var c=new e([1],0),f=0;f<s;f++)c=c.multiply(new e([1,n.gexp(f)],0));return c},getLengthInBits:function(s,c){if(1<=c&&c<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(c<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(c<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+c)},getLostPoint:function(s){for(var c=s.getModuleCount(),f=0,p=0;p<c;p++)for(var m=0;m<c;m++){for(var b=0,v=s.isDark(p,m),_=-1;_<=1;_++)if(!(p+_<0||c<=p+_))for(var N=-1;N<=1;N++)m+N<0||c<=m+N||_==0&&N==0||v==s.isDark(p+_,m+N)&&b++;b>5&&(f+=3+b-5)}for(var p=0;p<c-1;p++)for(var m=0;m<c-1;m++){var A=0;s.isDark(p,m)&&A++,s.isDark(p+1,m)&&A++,s.isDark(p,m+1)&&A++,s.isDark(p+1,m+1)&&A++,(A==0||A==4)&&(f+=3)}for(var p=0;p<c;p++)for(var m=0;m<c-6;m++)s.isDark(p,m)&&!s.isDark(p,m+1)&&s.isDark(p,m+2)&&s.isDark(p,m+3)&&s.isDark(p,m+4)&&!s.isDark(p,m+5)&&s.isDark(p,m+6)&&(f+=40);for(var m=0;m<c;m++)for(var p=0;p<c-6;p++)s.isDark(p,m)&&!s.isDark(p+1,m)&&s.isDark(p+2,m)&&s.isDark(p+3,m)&&s.isDark(p+4,m)&&!s.isDark(p+5,m)&&s.isDark(p+6,m)&&(f+=40);for(var R=0,m=0;m<c;m++)for(var p=0;p<c;p++)s.isDark(p,m)&&R++;var I=Math.abs(100*R/c/c-50)/5;return f+=I*10,f}};return Tg=i,Tg}var Ag,z3;function GU(){if(z3)return Ag;z3=1;var t=FU(),e=UU(),n=HU(),r=VU(),i=a_();function s(f,p){this.typeNumber=f,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=s.prototype;return c.addData=function(f){var p=new t(f);this.dataList.push(p),this.dataCache=null},c.isDark=function(f,p){if(f<0||this.moduleCount<=f||p<0||this.moduleCount<=p)throw new Error(f+","+p);return this.modules[f][p]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var p=e.getRSBlocks(f,this.errorCorrectLevel),m=new n,b=0,v=0;v<p.length;v++)b+=p[v].dataCount;for(var v=0;v<this.dataList.length;v++){var _=this.dataList[v];m.put(_.mode,4),m.put(_.getLength(),r.getLengthInBits(_.mode,f)),_.write(m)}if(m.getLengthInBits()<=b*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(f,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[m][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,p),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},c.setupPositionProbePattern=function(f,p){for(var m=-1;m<=7;m++)if(!(f+m<=-1||this.moduleCount<=f+m))for(var b=-1;b<=7;b++)p+b<=-1||this.moduleCount<=p+b||(0<=m&&m<=6&&(b==0||b==6)||0<=b&&b<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=b&&b<=4?this.modules[f+m][p+b]=!0:this.modules[f+m][p+b]=!1)},c.getBestMaskPattern=function(){for(var f=0,p=0,m=0;m<8;m++){this.makeImpl(!0,m);var b=r.getLostPoint(this);(m==0||f>b)&&(f=b,p=m)}return p},c.createMovieClip=function(f,p,m){var b=f.createEmptyMovieClip(p,m),v=1;this.make();for(var _=0;_<this.modules.length;_++)for(var N=_*v,A=0;A<this.modules[_].length;A++){var R=A*v,I=this.modules[_][A];I&&(b.beginFill(0,100),b.moveTo(R,N),b.lineTo(R+v,N),b.lineTo(R+v,N+v),b.lineTo(R,N+v),b.endFill())}return b},c.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},c.setupPositionAdjustPattern=function(){for(var f=r.getPatternPosition(this.typeNumber),p=0;p<f.length;p++)for(var m=0;m<f.length;m++){var b=f[p],v=f[m];if(this.modules[b][v]==null)for(var _=-2;_<=2;_++)for(var N=-2;N<=2;N++)_==-2||_==2||N==-2||N==2||_==0&&N==0?this.modules[b+_][v+N]=!0:this.modules[b+_][v+N]=!1}},c.setupTypeNumber=function(f){for(var p=r.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var b=!f&&(p>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=b}for(var m=0;m<18;m++){var b=!f&&(p>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=b}},c.setupTypeInfo=function(f,p){for(var m=this.errorCorrectLevel<<3|p,b=r.getBCHTypeInfo(m),v=0;v<15;v++){var _=!f&&(b>>v&1)==1;v<6?this.modules[v][8]=_:v<8?this.modules[v+1][8]=_:this.modules[this.moduleCount-15+v][8]=_}for(var v=0;v<15;v++){var _=!f&&(b>>v&1)==1;v<8?this.modules[8][this.moduleCount-v-1]=_:v<9?this.modules[8][15-v-1+1]=_:this.modules[8][15-v-1]=_}this.modules[this.moduleCount-8][8]=!f},c.mapData=function(f,p){for(var m=-1,b=this.moduleCount-1,v=7,_=0,N=this.moduleCount-1;N>0;N-=2)for(N==6&&N--;;){for(var A=0;A<2;A++)if(this.modules[b][N-A]==null){var R=!1;_<f.length&&(R=(f[_]>>>v&1)==1);var I=r.getMask(p,b,N-A);I&&(R=!R),this.modules[b][N-A]=R,v--,v==-1&&(_++,v=7)}if(b+=m,b<0||this.moduleCount<=b){b-=m,m=-m;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(f,p,m){for(var b=e.getRSBlocks(f,p),v=new n,_=0;_<m.length;_++){var N=m[_];v.put(N.mode,4),v.put(N.getLength(),r.getLengthInBits(N.mode,f)),N.write(v)}for(var A=0,_=0;_<b.length;_++)A+=b[_].dataCount;if(v.getLengthInBits()>A*8)throw new Error("code length overflow. ("+v.getLengthInBits()+">"+A*8+")");for(v.getLengthInBits()+4<=A*8&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=A*8||(v.put(s.PAD0,8),v.getLengthInBits()>=A*8));)v.put(s.PAD1,8);return s.createBytes(v,b)},s.createBytes=function(f,p){for(var m=0,b=0,v=0,_=new Array(p.length),N=new Array(p.length),A=0;A<p.length;A++){var R=p[A].dataCount,I=p[A].totalCount-R;b=Math.max(b,R),v=Math.max(v,I),_[A]=new Array(R);for(var k=0;k<_[A].length;k++)_[A][k]=255&f.buffer[k+m];m+=R;var U=r.getErrorCorrectPolynomial(I),j=new i(_[A],U.getLength()-1),W=j.mod(U);N[A]=new Array(U.getLength()-1);for(var k=0;k<N[A].length;k++){var X=k+W.getLength()-N[A].length;N[A][k]=X>=0?W.get(X):0}}for(var V=0,k=0;k<p.length;k++)V+=p[k].totalCount;for(var Y=new Array(V),se=0,k=0;k<b;k++)for(var A=0;A<p.length;A++)k<_[A].length&&(Y[se++]=_[A][k]);for(var k=0;k<v;k++)for(var A=0;A<p.length;A++)k<N[A].length&&(Y[se++]=N[A][k]);return Y},Ag=s,Ag}var Uh={},F3;function $U(){if(F3)return Uh;F3=1,Object.defineProperty(Uh,"__esModule",{value:!0});var t=Object.assign||function(m){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(m[_]=v[_])}return m},e=lx(),n=s(e),r=ec(),i=s(r);function s(m){return m&&m.__esModule?m:{default:m}}function c(m,b){var v={};for(var _ in m)b.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(m,_)&&(v[_]=m[_]);return v}var f={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},p=(0,r.forwardRef)(function(m,b){var v=m.bgColor,_=m.bgD,N=m.fgD,A=m.fgColor,R=m.size,I=m.title,k=m.viewBoxSize,U=m.xmlns,j=U===void 0?"http://www.w3.org/2000/svg":U,W=c(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},W,{height:R,ref:b,viewBox:"0 0 "+k+" "+k,width:R,xmlns:j}),I?i.default.createElement("title",null,I):null,i.default.createElement("path",{d:_,fill:v}),i.default.createElement("path",{d:N,fill:A}))});return p.displayName="QRCodeSvg",p.propTypes=f,Uh.default=p,Uh}var U3;function qU(){if(U3)return Kc;U3=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.QRCode=void 0;var t=Object.assign||function(R){for(var I=1;I<arguments.length;I++){var k=arguments[I];for(var U in k)Object.prototype.hasOwnProperty.call(k,U)&&(R[U]=k[U])}return R},e=lx(),n=v(e),r=r_(),i=v(r),s=GU(),c=v(s),f=ec(),p=v(f),m=$U(),b=v(m);function v(R){return R&&R.__esModule?R:{default:R}}function _(R,I){var k={};for(var U in R)I.indexOf(U)>=0||Object.prototype.hasOwnProperty.call(R,U)&&(k[U]=R[U]);return k}var N={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},A=(0,f.forwardRef)(function(R,I){var k=R.bgColor,U=k===void 0?"#FFFFFF":k,j=R.fgColor,W=j===void 0?"#000000":j,X=R.level,V=X===void 0?"L":X,Y=R.size,se=Y===void 0?256:Y,K=R.value,be=_(R,["bgColor","fgColor","level","size","value"]),_e=new c.default(-1,i.default[V]);_e.addData(K),_e.make();var ge=_e.modules;return p.default.createElement(b.default,t({},be,{bgColor:U,bgD:ge.map(function(je,Ue){return je.map(function(re,G){return re?"":"M "+G+" "+Ue+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:W,fgD:ge.map(function(je,Ue){return je.map(function(re,G){return re?"M "+G+" "+Ue+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:I,size:se,viewBoxSize:ge.length}))});return Kc.QRCode=A,A.displayName="QRCode",A.propTypes=N,Kc.default=A,Kc}var WU=qU();const XU=Jl(WU);function YU(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const KU=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function qo(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let Zc=null;function o_(t={}){return Zc||(t.includeStyleProperties?(Zc=t.includeStyleProperties,Zc):(Zc=qo(window.getComputedStyle(document.documentElement)),Zc))}function A1(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function ZU(t){const e=A1(t,"border-left-width"),n=A1(t,"border-right-width");return t.clientWidth+e+n}function QU(t){const e=A1(t,"border-top-width"),n=A1(t,"border-bottom-width");return t.clientHeight+e+n}function l_(t,e={}){const n=e.width||ZU(t),r=e.height||QU(t);return{width:n,height:r}}function JU(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const zi=16384;function eH(t){(t.width>zi||t.height>zi)&&(t.width>zi&&t.height>zi?t.width>t.height?(t.height*=zi/t.width,t.width=zi):(t.width*=zi/t.height,t.height=zi):t.width>zi?(t.height*=zi/t.width,t.width=zi):(t.width*=zi/t.height,t.height=zi))}function N1(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function tH(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function nH(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),tH(i)}const _i=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||_i(n,e)};function rH(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function iH(t,e){return o_(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function sH(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?rH(n):iH(n,r);return document.createTextNode(`${i}{${s}}`)}function H3(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const c=KU();try{e.className=`${e.className} ${c}`}catch{return}const f=document.createElement("style");f.appendChild(sH(c,n,i,r)),e.appendChild(f)}function aH(t,e,n){H3(t,e,":before",n),H3(t,e,":after",n)}const V3="application/font-woff",G3="image/jpeg",oH={woff:V3,woff2:V3,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:G3,jpeg:G3,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function lH(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Cx(t){const e=lH(t).toLowerCase();return oH[e]||""}function cH(t){return t.split(/,/)[1]}function E2(t){return t.search(/^(data:)/)!==-1}function uH(t,e){return`data:${e};base64,${t}`}async function c_(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,c)=>{const f=new FileReader;f.onerror=c,f.onloadend=()=>{try{s(n({res:r,result:f.result}))}catch(p){c(p)}},f.readAsDataURL(i)})}const Ng={};function fH(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function Ex(t,e,n){const r=fH(t,e,n.includeQueryParams);if(Ng[r]!=null)return Ng[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await c_(t,n.fetchRequestInit,({res:c,result:f})=>(e||(e=c.headers.get("Content-Type")||""),cH(f)));i=uH(s,e)}catch(s){i=n.imagePlaceholder||"";let c=`Failed to fetch resource: ${t}`;s&&(c=typeof s=="string"?s:s.message),c&&console.warn(c)}return Ng[r]=i,i}async function dH(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):N1(e)}async function hH(t,e){if(t.currentSrc){const s=document.createElement("canvas"),c=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,c==null||c.drawImage(t,0,0,s.width,s.height);const f=s.toDataURL();return N1(f)}const n=t.poster,r=Cx(n),i=await Ex(n,r,e);return N1(i)}async function pH(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await O0(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function mH(t,e){return _i(t,HTMLCanvasElement)?dH(t):_i(t,HTMLVideoElement)?hH(t,e):_i(t,HTMLIFrameElement)?pH(t,e):t.cloneNode(u_(t))}const gH=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",u_=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function xH(t,e,n){var r,i;if(u_(e))return e;let s=[];return gH(t)&&t.assignedNodes?s=qo(t.assignedNodes()):_i(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=qo(t.contentDocument.body.childNodes):s=qo(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||_i(t,HTMLVideoElement)||await s.reduce((c,f)=>c.then(()=>O0(f,n)).then(p=>{p&&e.appendChild(p)}),Promise.resolve()),e}function yH(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):o_(n).forEach(s=>{let c=i.getPropertyValue(s);s==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),_i(t,HTMLIFrameElement)&&s==="display"&&c==="inline"&&(c="block"),s==="d"&&e.getAttribute("d")&&(c=`path(${e.getAttribute("d")})`),r.setProperty(s,c,i.getPropertyPriority(s))})}function bH(t,e){_i(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),_i(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function wH(t,e){if(_i(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function vH(t,e,n){return _i(e,Element)&&(yH(t,e,n),aH(t,e,n),bH(t,e),wH(t,e)),e}async function CH(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const f=n[s].getAttribute("xlink:href");if(f){const p=t.querySelector(f),m=document.querySelector(f);!p&&m&&!r[f]&&(r[f]=await O0(m,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",c=document.createElementNS(s,"svg");c.setAttribute("xmlns",s),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const f=document.createElementNS(s,"defs");c.appendChild(f);for(let p=0;p<i.length;p++)f.appendChild(i[p]);t.appendChild(c)}return t}async function O0(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>mH(r,e)).then(r=>xH(t,r,e)).then(r=>vH(t,r,e)).then(r=>CH(r,e))}const f_=/url\((['"]?)([^'"]+?)\1\)/g,EH=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,SH=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function _H(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function TH(t){const e=[];return t.replace(f_,(n,r,i)=>(e.push(i),n)),e.filter(n=>!E2(n))}async function AH(t,e,n,r,i){try{const s=n?YU(e,n):e,c=Cx(e);let f;return i||(f=await Ex(s,c,r)),t.replace(_H(e),`$1${f}$3`)}catch{}return t}function NH(t,{preferredFontFormat:e}){return e?t.replace(SH,n=>{for(;;){const[r,,i]=EH.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function d_(t){return t.search(f_)!==-1}async function h_(t,e,n){if(!d_(t))return t;const r=NH(t,n);return TH(r).reduce((s,c)=>s.then(f=>AH(f,c,e,n)),Promise.resolve(r))}async function Qc(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await h_(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function OH(t,e){await Qc("background",t,e)||await Qc("background-image",t,e),await Qc("mask",t,e)||await Qc("-webkit-mask",t,e)||await Qc("mask-image",t,e)||await Qc("-webkit-mask-image",t,e)}async function MH(t,e){const n=_i(t,HTMLImageElement);if(!(n&&!E2(t.src))&&!(_i(t,SVGImageElement)&&!E2(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await Ex(r,Cx(r),e);await new Promise((s,c)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...p)=>{try{s(e.onImageErrorHandler(...p))}catch(m){c(m)}}:c;const f=t;f.decode&&(f.decode=s),f.loading==="lazy"&&(f.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function RH(t,e){const r=qo(t.childNodes).map(i=>p_(i,e));await Promise.all(r).then(()=>t)}async function p_(t,e){_i(t,Element)&&(await OH(t,e),await MH(t,e),await RH(t,e))}function IH(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const $3={};async function q3(t){let e=$3[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},$3[t]=e,e}async function W3(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async c=>{let f=c.replace(r,"$1");return f.startsWith("https://")||(f=new URL(f,t.url).href),c_(f,e.fetchRequestInit,({result:p})=>(n=n.replace(c,`url(${p})`),[c,p]))});return Promise.all(s).then(()=>n)}function X3(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=i.exec(r);if(p===null)break;e.push(p[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",f=new RegExp(c,"gi");for(;;){let p=s.exec(r);if(p===null){if(p=f.exec(r),p===null)break;s.lastIndex=f.lastIndex}else f.lastIndex=s.lastIndex;e.push(p[0])}return e}async function DH(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{qo(i.cssRules||[]).forEach((s,c)=>{if(s.type===CSSRule.IMPORT_RULE){let f=c+1;const p=s.href,m=q3(p).then(b=>W3(b,e)).then(b=>X3(b).forEach(v=>{try{i.insertRule(v,v.startsWith("@import")?f+=1:i.cssRules.length)}catch(_){console.error("Error inserting rule from remote css",{rule:v,error:_})}})).catch(b=>{console.error("Error loading remote css",b.toString())});r.push(m)}})}catch(s){const c=t.find(f=>f.href==null)||document.styleSheets[0];i.href!=null&&r.push(q3(i.href).then(f=>W3(f,e)).then(f=>X3(f).forEach(p=>{c.insertRule(p,c.cssRules.length)})).catch(f=>{console.error("Error loading remote stylesheet",f)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{qo(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function kH(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>d_(e.style.getPropertyValue("src")))}async function BH(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=qo(t.ownerDocument.styleSheets),r=await DH(n,e);return kH(r)}function m_(t){return t.trim().replace(/["']/g,"")}function LH(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(m_(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function PH(t,e){const n=await BH(t,e),r=LH(t);return(await Promise.all(n.filter(s=>r.has(m_(s.style.fontFamily))).map(s=>{const c=s.parentStyleSheet?s.parentStyleSheet.href:null;return h_(s.cssText,c,e)}))).join(`
`)}async function jH(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await PH(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function zH(t,e={}){const{width:n,height:r}=l_(t,e),i=await O0(t,e,!0);return await jH(i,e),await p_(i,e),IH(i,e),await nH(i,n,r)}async function FH(t,e={}){const{width:n,height:r}=l_(t,e),i=await zH(t,e),s=await N1(i),c=document.createElement("canvas"),f=c.getContext("2d"),p=e.pixelRatio||JU(),m=e.canvasWidth||n,b=e.canvasHeight||r;return c.width=m*p,c.height=b*p,e.skipAutoScale||eH(c),c.style.width=`${m}`,c.style.height=`${b}`,e.backgroundColor&&(f.fillStyle=e.backgroundColor,f.fillRect(0,0,c.width,c.height)),f.drawImage(s,0,0,c.width,c.height),c}async function UH(t,e={}){return(await FH(t,e)).toDataURL()}const HH="_modalOverlay_ujdot_1",VH="_modalContent_ujdot_27",GH="_header_ujdot_43",$H="_title_ujdot_59",qH="_closeButton_ujdot_71",WH="_body_ujdot_87",XH="_qrDownloadArea_ujdot_103",YH="_galleryInfo_ujdot_115",KH="_galleryName_ujdot_131",ZH="_galleryNameEn_ujdot_141",QH="_qrCodeWrapper_ujdot_151",JH="_downloadButton_ujdot_163",eV="_noLeaflet_ujdot_193",tV="_noLeafletMessage_ujdot_201",Yr={modalOverlay:HH,modalContent:VH,header:GH,title:$H,closeButton:qH,body:WH,qrDownloadArea:XH,galleryInfo:YH,galleryName:KH,galleryNameEn:ZH,qrCodeWrapper:QH,downloadButton:JH,noLeaflet:eV,noLeafletMessage:tV};function nV({data:t,onClose:e}){const n=t&&t.leafletUrl,r=F.useRef(null),i=()=>{r.current!==null&&UH(r.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(s=>{const c=document.createElement("a");c.download=`${t.gallery_name||"gallery"}-qr-code.png`,c.href=s,c.click()}).catch(s=>{console.error("  .",s),alert("  .  .")})};return E.jsx("div",{className:Yr.modalOverlay,onClick:e,children:E.jsxs("div",{className:Yr.modalContent,onClick:s=>s.stopPropagation(),children:[E.jsxs("header",{className:Yr.header,children:[E.jsx("h2",{className:Yr.title,children:"QR : /"}),E.jsx("button",{className:Yr.closeButton,onClick:e,children:""})]}),E.jsx("div",{className:Yr.body,children:n?E.jsxs(E.Fragment,{children:[E.jsxs("div",{ref:r,className:Yr.qrDownloadArea,children:[E.jsxs("div",{className:Yr.galleryInfo,children:[E.jsx("p",{className:Yr.galleryName,children:t.gallery_name||" "}),E.jsx("p",{className:Yr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"})]}),E.jsx("div",{className:Yr.qrCodeWrapper,children:E.jsx(XU,{value:t.leafletUrl,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),E.jsx("button",{className:Yr.downloadButton,onClick:i,children:""})]}):E.jsxs("div",{className:Yr.noLeaflet,children:[E.jsx("p",{className:Yr.galleryName,children:t.gallery_name||" "}),E.jsx("p",{className:Yr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"}),E.jsx("p",{className:Yr.noLeafletMessage,children:"   ."})]})})]})})}const rV={galleries:{title:"",Component:t_,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/console/galleries/${t}`},exhibitions:{title:"",Component:n_,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/exhibitions/${t}`},artworks:{title:"",Component:JS,tabs:[{label:""},{label:"QR"},{label:""}],fetchUrl:t=>`/api/arts/${t}`}};function Og({type:t}){var A,R;const{id:e}=Is(),n=wn(),[r,i]=F.useState(null),[s,c]=F.useState("info"),[f,p]=F.useState(!1);cx(),F.useEffect(()=>{(async()=>{const k=await In.get(m.fetchUrl(e));i(k.data)})(),c("info")},[e,t]);const m=rV[t],{Component:b,tabs:v}=m,_=I=>{I===""?n(`/console/${t}/edit/${e}`):I==="QR"?p(!0):alert(`${I}  . ID: ${e}`)},N=[{key:"info",label:""},{key:"artworks",label:`(${((A=r==null?void 0:r.artworks)==null?void 0:A.length)||0})`},{key:"exhibitions",label:`(${((R=r==null?void 0:r.exhibitions)==null?void 0:R.length)||0})`}];return console.log(r),r?E.jsxs("div",{className:_s.layout,children:[E.jsxs("header",{className:_s.header,children:[E.jsx("button",{className:_s.backButton,onClick:()=>n(`/console/${t}`),children:"<"}),E.jsx("h1",{className:_s.title,children:m.title})]}),E.jsx("nav",{className:_s.adminTabNav,children:v.map(({label:I})=>E.jsx("button",{className:_s.adminTabButton,onClick:()=>_(I),children:I},I))}),E.jsxs("main",{className:_s.content,children:[E.jsx(b,{showUserActions:!1,id:e}),E.jsxs(e_,{tabs:N,activeTab:s,setActiveTab:c,children:[s==="info"&&(r.gallery_description?E.jsx("div",{className:_s.descriptionParagraph,dangerouslySetInnerHTML:{__html:r.gallery_description}}):E.jsx("p",{className:_s.emptyContent,children:"   ."})),s==="artworks"&&E.jsxs(E.Fragment,{children:[E.jsx(AU,{artworks:r.artworks}),E.jsx("button",{className:_s.addButton,children:"+  "})]}),s==="exhibitions"&&E.jsxs(E.Fragment,{children:[E.jsx(vx,{exhibitions:r.exhibitions}),E.jsx("button",{className:_s.addButton,children:"+  "})]})]})]}),f&&E.jsx(nV,{data:r,onClose:()=>p(!1)})]}):E.jsx("div",{children:"  ..."})}const iV="_layout_1saqh_1",sV="_header_1saqh_15",aV="_title_1saqh_41",oV="_backButton_1saqh_51",lV="_formContainer_1saqh_69",cV="_bottomButtonContainer_1saqh_79",uV="_button_1saqh_101",fV="_cancelButton_1saqh_121",dV="_saveButton_1saqh_131",na={layout:iV,header:sV,title:aV,backButton:oV,formContainer:lV,bottomButtonContainer:cV,button:uV,cancelButton:fV,saveButton:dV},hV="_card_de9q2_1",pV="_input_de9q2_17",mV="_tagInputField_de9q2_19",gV="_timeInput_de9q2_21",xV="_galleryNameInput_de9q2_53",yV="_gallerySubNameInput_de9q2_69",bV="_imageUploadBox_de9q2_93",wV="_previewImage_de9q2_121",vV="_inputGroup_de9q2_133",CV="_label_de9q2_147",EV="_tagInputContainer_de9q2_159",SV="_tagItem_de9q2_179",_V="_removeTagBtn_de9q2_199",TV="_timeInputContainer_de9q2_239",AV="_checkboxGroup_de9q2_259",NV="_snsCard_de9q2_283",OV="_snsInputGroup_de9q2_293",MV="_tabContainer_de9q2_305",RV="_tabNav_de9q2_311",IV="_tabButton_de9q2_321",DV="_activeTab_de9q2_345",kV="_tabContent_de9q2_353",BV="_emptyContent_de9q2_367",dt={card:hV,input:pV,tagInputField:mV,timeInput:gV,galleryNameInput:xV,gallerySubNameInput:yV,imageUploadBox:bV,previewImage:wV,inputGroup:vV,label:CV,tagInputContainer:EV,tagItem:SV,removeTagBtn:_V,timeInputContainer:TV,checkboxGroup:AV,snsCard:NV,snsInputGroup:OV,tabContainer:MV,tabNav:RV,tabButton:IV,activeTab:DV,tabContent:kV,emptyContent:BV};var Mg={exports:{}},Rg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function LV(){if(Y3)return Rg;Y3=1;var t=ec();function e(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function f(v,_){var N=_(),A=r({inst:{value:N,getSnapshot:_}}),R=A[0].inst,I=A[1];return s(function(){R.value=N,R.getSnapshot=_,p(R)&&I({inst:R})},[v,N,_]),i(function(){return p(R)&&I({inst:R}),v(function(){p(R)&&I({inst:R})})},[v]),c(N),N}function p(v){var _=v.getSnapshot;v=v.value;try{var N=_();return!n(v,N)}catch{return!0}}function m(v,_){return _()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,Rg}var K3;function g_(){return K3||(K3=1,Mg.exports=LV()),Mg.exports}var x_=g_();function jr(t){this.content=t}jr.prototype={constructor:jr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new jr(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new jr(n)},addToStart:function(t,e){return new jr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new jr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new jr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=jr.from(t),t.size?new jr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=jr.from(t),t.size?new jr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=jr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};jr.from=function(t){if(t instanceof jr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new jr(e)};function y_(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let c=0;i.text[c]==s.text[c];c++)n++;return n}if(i.content.size||s.content.size){let c=y_(i.content,s.content,n+1);if(c!=null)return c}n+=i.nodeSize}}function b_(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let c=t.child(--i),f=e.child(--s),p=c.nodeSize;if(c==f){n-=p,r-=p;continue}if(!c.sameMarkup(f))return{a:n,b:r};if(c.isText&&c.text!=f.text){let m=0,b=Math.min(c.text.length,f.text.length);for(;m<b&&c.text[c.text.length-m-1]==f.text[f.text.length-m-1];)m++,n--,r--;return{a:n,b:r}}if(c.content.size||f.content.size){let m=b_(c.content,f.content,n-1,r-1);if(m)return m}n-=p,r-=p}}class Ie{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let c=0,f=0;f<n;c++){let p=this.content[c],m=f+p.nodeSize;if(m>e&&r(p,i+f,s||null,c)!==!1&&p.content.size){let b=f+1;p.nodesBetween(Math.max(0,e-b),Math.min(p.content.size,n-b),r,i+b)}f=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",c=!0;return this.nodesBetween(e,n,(f,p)=>{let m=f.isText?f.text.slice(Math.max(e,p)-p,n-p):f.isLeaf?i?typeof i=="function"?i(f):i:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&m||f.isTextblock)&&r&&(c?c=!1:s+=r),s+=m},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Ie(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,c=0;c<n;s++){let f=this.content[s],p=c+f.nodeSize;p>e&&((c<e||p>n)&&(f.isText?f=f.cut(Math.max(0,e-c),Math.min(f.text.length,n-c)):f=f.cut(Math.max(0,e-c-1),Math.min(f.content.size,n-c-1))),r.push(f),i+=f.nodeSize),c=p}return new Ie(r,i)}cutByIndex(e,n){return e==n?Ie.empty:e==0&&n==this.content.length?this:new Ie(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Ie(i,s)}addToStart(e){return new Ie([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ie(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return y_(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return b_(this,e,n,r)}findIndex(e){if(e==0)return Hh(0,e);if(e==this.size)return Hh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?Hh(n+1,s):Hh(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ie(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ie.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Ie(n||e,r)}static from(e){if(!e)return Ie.empty;if(e instanceof Ie)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ie([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ie.empty=new Ie([],0);const Ig={index:0,offset:0};function Hh(t,e){return Ig.index=t,Ig.offset=e,Ig}function O1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!O1(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!O1(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let bn=class S2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&O1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return S2.none;if(e instanceof S2)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};bn.none=[];class M1 extends Error{}class Ge{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=v_(this.content,e+this.openStart,n);return r&&new Ge(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ge(w_(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ge.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ge(Ie.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ge(e,r,i)}}Ge.empty=new Ge(Ie.empty,0,0);function w_(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:c,offset:f}=t.findIndex(n);if(i==e||s.isText){if(f!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(w_(s.content,e-i-1,n-i-1)))}function v_(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),c=t.maybeChild(i);if(s==e||c.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let f=v_(c.content,e-s-1,n,c);return f&&t.replaceChild(i,c.copy(f))}function PV(t,e,n){if(n.openStart>t.depth)throw new M1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new M1("Inconsistent open depths");return C_(t,e,n,0)}function C_(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let c=C_(t,e,n,r+1);return s.copy(s.content.replaceChild(i,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let c=t.parent,f=c.content;return Hl(c,f.cut(0,t.parentOffset).append(n.content).append(f.cut(e.parentOffset)))}else{let{start:c,end:f}=jV(n,t);return Hl(s,S_(t,c,f,e,r))}else return Hl(s,R1(t,e,r))}function E_(t,e){if(!e.type.compatibleContent(t.type))throw new M1("Cannot join "+e.type.name+" onto "+t.type.name)}function _2(t,e,n){let r=t.node(n);return E_(r,e.node(n)),r}function Ul(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ff(t,e,n,r){let i=(e||t).node(n),s=0,c=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ul(t.nodeAfter,r),s++));for(let f=s;f<c;f++)Ul(i.child(f),r);e&&e.depth==n&&e.textOffset&&Ul(e.nodeBefore,r)}function Hl(t,e){return t.type.checkContent(e),t.copy(e)}function S_(t,e,n,r,i){let s=t.depth>i&&_2(t,e,i+1),c=r.depth>i&&_2(n,r,i+1),f=[];return Ff(null,t,i,f),s&&c&&e.index(i)==n.index(i)?(E_(s,c),Ul(Hl(s,S_(t,e,n,r,i+1)),f)):(s&&Ul(Hl(s,R1(t,e,i+1)),f),Ff(e,n,i,f),c&&Ul(Hl(c,R1(n,r,i+1)),f)),Ff(r,null,i,f),new Ie(f)}function R1(t,e,n){let r=[];if(Ff(null,t,n,r),t.depth>n){let i=_2(t,e,n+1);Ul(Hl(i,R1(t,e,n+1)),r)}return Ff(e,null,n,r),new Ie(r)}function jV(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Ie.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Qf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return bn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let f=r;r=i,i=f}let s=r.marks;for(var c=0;c<s.length;c++)s[c].type.spec.inclusive===!1&&(!i||!s[c].isInSet(i.marks))&&(s=s[c--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new I1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let c=e;;){let{index:f,offset:p}=c.content.findIndex(s),m=s-p;if(r.push(c,f,i+p),!m||(c=c.child(f),c.isText))break;s=m-1,i+=p+1}return new Qf(n,r,s)}static resolveCached(e,n){let r=Z3.get(e);if(r)for(let s=0;s<r.elts.length;s++){let c=r.elts[s];if(c.pos==n)return c}else Z3.set(e,r=new zV);let i=r.elts[r.i]=Qf.resolve(e,n);return r.i=(r.i+1)%FV,i}}class zV{constructor(){this.elts=[],this.i=0}}const FV=12,Z3=new WeakMap;class I1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const UV=Object.create(null);class Ms{constructor(e,n,r,i=bn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Ie.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&O1(this.attrs,n||e.defaultAttrs||UV)&&bn.sameSet(this.marks,r||bn.none)}copy(e=null){return e==this.content?this:new Ms(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ms(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ge.empty;let i=this.resolve(e),s=this.resolve(n),c=r?0:i.sharedDepth(n),f=i.start(c),m=i.node(c).content.cut(i.pos-f,s.pos-f);return new Ge(m,i.depth-c,s.depth-c)}replace(e,n,r){return PV(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Qf.resolveCached(this,e)}resolveNoCache(e){return Qf.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),__(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Ie.empty,i=0,s=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,i,s),f=c&&c.matchFragment(this.content,n);if(!f||!f.validEnd)return!1;for(let p=i;p<s;p++)if(!this.type.allowsMarks(r.child(p).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),c=s&&s.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Ie.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Ms.prototype.text=void 0;class D1 extends Ms{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):__(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new D1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new D1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function __(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HV(e,n);if(r.next==null)return Xl.empty;let i=T_(r);r.next&&r.err("Unexpected trailing text");let s=YV(XV(i));return KV(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(c,f){let p=c.matchFragment(e,r);if(p&&(!n||p.validEnd))return Ie.from(f.map(m=>m.createAndFill()));for(let m=0;m<c.next.length;m++){let{type:b,next:v}=c.next[m];if(!(b.isText||b.hasRequiredAttrs())&&i.indexOf(v)==-1){i.push(v);let _=s(v,f.concat(b));if(_)return _}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let c=[];for(let f=i;f.type;f=f.via)c.push(f.type);return c.reverse()}for(let c=0;c<s.next.length;c++){let{type:f,next:p}=s.next[c];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in n)&&(!i.type||p.validEnd)&&(r.push({match:f.contentMatch,type:f,via:i}),n[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)s+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return s}).join(`
`)}}Xl.empty=new Xl(!0);class HV{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function T_(t){let e=[];do e.push(VV(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function VV(t){let e=[];do e.push(GV(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function GV(t){let e=WV(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=$V(t,e);else break;return e}function Q3(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function $V(t,e){let n=Q3(t),r=n;return t.eat(",")&&(t.next!="}"?r=Q3(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function qV(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let c=n[s];c.isInGroup(e)&&i.push(c)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function WV(t){if(t.eat("(")){let e=T_(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=qV(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function XV(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(c,f,p){let m={term:p,to:f};return e[c].push(m),m}function i(c,f){c.forEach(p=>p.to=f)}function s(c,f){if(c.type=="choice")return c.exprs.reduce((p,m)=>p.concat(s(m,f)),[]);if(c.type=="seq")for(let p=0;;p++){let m=s(c.exprs[p],f);if(p==c.exprs.length-1)return m;i(m,f=n())}else if(c.type=="star"){let p=n();return r(f,p),i(s(c.expr,p),p),[r(p)]}else if(c.type=="plus"){let p=n();return i(s(c.expr,f),p),i(s(c.expr,p),p),[r(p)]}else{if(c.type=="opt")return[r(f)].concat(s(c.expr,f));if(c.type=="range"){let p=f;for(let m=0;m<c.min;m++){let b=n();i(s(c.expr,p),b),p=b}if(c.max==-1)i(s(c.expr,p),p);else for(let m=c.min;m<c.max;m++){let b=n();r(p,b),i(s(c.expr,p),b),p=b}return[r(p)]}else{if(c.type=="name")return[r(f,void 0,c.value)];throw new Error("Unknown expr type")}}}}function A_(t,e){return e-t}function J3(t,e){let n=[];return r(e),n.sort(A_);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let c=0;c<s.length;c++){let{term:f,to:p}=s[c];!f&&n.indexOf(p)==-1&&r(p)}}}function YV(t){let e=Object.create(null);return n(J3(t,0));function n(r){let i=[];r.forEach(c=>{t[c].forEach(({term:f,to:p})=>{if(!f)return;let m;for(let b=0;b<i.length;b++)i[b][0]==f&&(m=i[b][1]);J3(t,p).forEach(b=>{m||i.push([f,m=[]]),m.indexOf(b)==-1&&m.push(b)})})});let s=e[r.join(",")]=new Xl(r.indexOf(t.length-1)>-1);for(let c=0;c<i.length;c++){let f=i[c][1].sort(A_);s.next.push({type:i[c][0],next:e[f.join(",")]||n(f)})}return s}}function KV(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,c=[];for(let f=0;f<i.next.length;f++){let{type:p,next:m}=i.next[f];c.push(p.name),s&&!(p.isText||p.hasRequiredAttrs())&&(s=!1),r.indexOf(m)==-1&&r.push(m)}s&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function N_(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function O_(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function M_(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function R_(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new QV(t,r,e[r]);return n}let eC=class I_{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=R_(e,r.attrs),this.defaultAttrs=N_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:O_(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ms(this,this.computeAttrs(e),Ie.from(n),bn.setFrom(r))}createChecked(e=null,n,r){return n=Ie.from(n),this.checkContent(n),new Ms(this,this.computeAttrs(e),n,bn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Ie.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Ie.empty,!0);return s?new Ms(this,e,n.append(s),bn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){M_(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:bn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,c)=>r[s]=new I_(s,n,c));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ZV(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class QV{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ZV(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class M0{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=R_(e,i.attrs),this.excluded=null;let s=N_(this.attrs);this.instance=s?new bn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new bn(this,O_(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,c)=>r[s]=new M0(s,i++,n,c)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){M_(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class D_{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=jr.from(e.nodes),n.marks=jr.from(e.marks||{}),this.nodes=eC.compile(this.spec.nodes,this),this.marks=M0.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],c=s.spec.content||"",f=s.spec.marks;if(s.contentMatch=r[c]||(r[c]=Xl.parse(c,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=f=="_"?null:f?tC(this,f.split(" ")):f==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],c=s.spec.excludes;s.excluded=c==null?[s]:c==""?[]:tC(this,c.split(" "))}this.nodeFromJSON=i=>Ms.fromJSON(this,i),this.markFromJSON=i=>bn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof eC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new D1(r,r.defaultAttrs,e,bn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function tC(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],c=s;if(s)n.push(s);else for(let f in t.marks){let p=t.marks[f];(i=="_"||p.spec.group&&p.spec.group.split(" ").indexOf(i)>-1)&&n.push(c=p)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function JV(t){return t.tag!=null}function eG(t){return t.style!=null}class Wo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(JV(i))this.tags.push(i);else if(eG(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new rC(this,n,!1);return r.addAll(e,bn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new rC(this,n,!0);return r.addAll(e,bn.none,n.from,n.to),Ge.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(rG(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let c=s.getAttrs(e);if(c===!1)continue;s.attrs=c||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let c=this.styles[s],f=c.style;if(!(f.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=n))){if(c.getAttrs){let p=c.getAttrs(n);if(p===!1)continue;c.attrs=p||void 0}return c}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,c=0;for(;c<n.length;c++){let f=n[c];if((f.priority==null?50:f.priority)<s)break}n.splice(c,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(c=>{r(c=iC(c)),c.mark||c.ignore||c.clearMark||(c.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(c=>{r(c=iC(c)),c.node||c.ignore||c.mark||(c.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Wo(e,Wo.schemaRules(e)))}}const k_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tG={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},B_={ol:!0,ul:!0},Jf=1,T2=2,s1=4;function nC(t,e,n){return e!=null?(e?Jf:0)|(e==="full"?T2:0):t&&t.whitespace=="pre"?Jf|T2:n&-5}class Vh{constructor(e,n,r,i,s,c){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=c,this.content=[],this.activeMarks=bn.none,this.match=s||(c&s1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ie.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Ie.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!k_.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rC{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,c=nC(null,n.preserveWhitespace,0)|(r?s1:0);i?s=new Vh(i.type,i.attrs,bn.none,!0,n.topMatch||i.type.contentMatch,c):r?s=new Vh(null,null,bn.none,!0,null,c):s=new Vh(e.schema.topNodeType,null,bn.none,!0,null,c),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&T2?"full":this.localPreserveWS||(i.options&Jf)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],f=e.previousSibling;(!c||f&&f.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),f;B_.hasOwnProperty(c)&&this.parser.normalizeLists&&nG(e);let p=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(p?p.ignore:tG.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!p||p.skip||p.closeParent){p&&p.closeParent?this.open=Math.max(0,this.open-1):p&&p.skip.nodeType&&(e=p.skip);let m,b=this.needsBlock;if(k_.hasOwnProperty(c))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),m=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let v=p&&p.skip?n:this.readStyles(e,n);v&&this.addAll(e,v),m&&this.sync(s),this.needsBlock=b}else{let m=this.readStyles(e,n);m&&this.addElementByRule(e,p,m,p.consuming===!1?f:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],c=r.getPropertyValue(s);if(c)for(let f=void 0;;){let p=this.parser.matchStyle(s,c,this,f);if(!p)break;if(p.ignore)return null;if(p.clearMark?n=n.filter(m=>!p.clearMark(m)):n=n.concat(this.parser.schema.marks[p.mark].create(p.attrs)),p.consuming===!1)f=p;else break}}return n}addElementByRule(e,n,r,i){let s,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let p=this.enter(c,n.attrs||null,r,n.preserveWhitespace);p&&(s=!0,r=p)}else{let p=this.parser.schema.marks[n.mark];r=r.concat(p.create(n.attrs))}let f=this.top;if(c&&c.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(p=>this.insertNode(p,r,!1));else{let p=e;typeof n.contentElement=="string"?p=e.querySelector(n.contentElement):typeof n.contentElement=="function"?p=n.contentElement(e):n.contentElement&&(p=n.contentElement),this.findAround(e,p,!0),this.addAll(p,r),this.findAround(e,p,!1)}s&&this.sync(f)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let c=r?e.childNodes[r]:e.firstChild,f=i==null?null:e.childNodes[i];c!=f;c=c.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(c,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let c=this.open,f=0;c>=0;c--){let p=this.nodes[c],m=p.findWrapping(e);if(m&&(!i||i.length>m.length+f)&&(i=m,s=p,!m.length))break;if(p.solid){if(r)break;f+=2}}if(!i)return null;this.sync(s);for(let c=0;c<i.length;c++)n=this.enterInner(i[c],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let c=bn.none;for(let f of i.concat(e.marks))(s.type?s.type.allowsMarkType(f.type):sC(f.type,e.type))&&(c=f.addToSet(c));return s.content.push(e.mark(c)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let f=nC(e,s,c.options);c.options&s1&&c.content.length==0&&(f|=s1);let p=bn.none;return r=r.filter(m=>(c.type?c.type.allowsMarkType(m.type):sC(m.type,e))?(p=m.addToSet(p),!1):!0),this.nodes.push(new Vh(e,n,p,i,null,f)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Jf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),c=(f,p)=>{for(;f>=0;f--){let m=n[f];if(m==""){if(f==n.length-1||f==0)continue;for(;p>=s;p--)if(c(f-1,p))return!0;return!1}else{let b=p>0||p==0&&i?this.nodes[p].type:r&&p>=s?r.node(p-s).type:null;if(!b||b.name!=m&&!b.isInGroup(m))return!1;p--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function nG(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&B_.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function rG(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function iC(t){let e={};for(let n in t)e[n]=t[n];return e}function sC(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],c=f=>{s.push(f);for(let p=0;p<f.edgeCount;p++){let{type:m,next:b}=f.edge(p);if(m==e||s.indexOf(b)<0&&c(b))return!0}};if(c(i.contentMatch))return!0}}class rc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Dg(n).createDocumentFragment());let i=r,s=[];return e.forEach(c=>{if(s.length||c.marks.length){let f=0,p=0;for(;f<s.length&&p<c.marks.length;){let m=c.marks[p];if(!this.marks[m.type.name]){p++;continue}if(!m.eq(s[f][0])||m.type.spec.spanning===!1)break;f++,p++}for(;f<s.length;)i=s.pop()[1];for(;p<c.marks.length;){let m=c.marks[p++],b=this.serializeMark(m,c.isInline,n);b&&(s.push([m,i]),i.appendChild(b.dom),i=b.contentDOM||b.dom)}}i.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=a1(Dg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&a1(Dg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return a1(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new rc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=aC(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return aC(e.marks)}}function aC(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Dg(t){return t.document||window.document}const oC=new WeakMap;function iG(t){let e=oC.get(t);return e===void 0&&oC.set(t,e=sG(t)),e}function sG(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function a1(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=iG(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=i.indexOf(" ");c>0&&(n=i.slice(0,c),i=i.slice(c+1));let f,p=n?t.createElementNS(n,i):t.createElement(i),m=e[1],b=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){b=2;for(let v in m)if(m[v]!=null){let _=v.indexOf(" ");_>0?p.setAttributeNS(v.slice(0,_),v.slice(_+1),m[v]):v=="style"&&p.style?p.style.cssText=m[v]:p.setAttribute(v,m[v])}}for(let v=b;v<e.length;v++){let _=e[v];if(_===0){if(v<e.length-1||v>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:p,contentDOM:p}}else{let{dom:N,contentDOM:A}=a1(t,_,n,r);if(p.appendChild(N),A){if(f)throw new RangeError("Multiple content holes");f=A}}}return{dom:p,contentDOM:f}}const L_=65535,P_=Math.pow(2,16);function aG(t,e){return t+e*P_}function lC(t){return t&L_}function oG(t){return(t-(t&L_))/P_}const j_=1,z_=2,o1=4,F_=8;class A2{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&F_)>0}get deletedBefore(){return(this.delInfo&(j_|o1))>0}get deletedAfter(){return(this.delInfo&(z_|o1))>0}get deletedAcross(){return(this.delInfo&o1)>0}}class Gi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Gi.empty)return Gi.empty}recover(e){let n=0,r=lC(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+oG(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let p=this.ranges[f]-(this.inverted?i:0);if(p>e)break;let m=this.ranges[f+s],b=this.ranges[f+c],v=p+m;if(e<=v){let _=m?e==p?-1:e==v?1:n:n,N=p+i+(_<0?0:b);if(r)return N;let A=e==(n<0?p:v)?null:aG(f/3,e-p),R=e==p?z_:e==v?j_:o1;return(n<0?e!=p:e!=v)&&(R|=F_),new A2(N,R,A)}i+=b-m}return r?e+i:new A2(e+i,0,null)}touches(e,n){let r=0,i=lC(n),s=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let p=this.ranges[f]-(this.inverted?r:0);if(p>e)break;let m=this.ranges[f+s],b=p+m;if(e<=b&&f==i*3)return!0;r+=this.ranges[f+c]-m}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let c=this.ranges[i],f=c-(this.inverted?s:0),p=c+(this.inverted?0:s),m=this.ranges[i+n],b=this.ranges[i+r];e(f,f+m,p,p+b),s+=b-m}}invert(){return new Gi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Gi.empty:new Gi(e<0?[0,-e,0]:[0,0,e])}}Gi.empty=new Gi([]);class ed{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ed(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ed;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let c=this._maps[s],f=c.mapResult(e,n);if(f.recover!=null){let p=this.getMirror(s);if(p!=null&&p>s&&p<this.to){s=p,e=this._maps[p].recover(f.recover);continue}}i|=f.delInfo,e=f.pos}return r?e:new A2(e,i,null)}}const kg=Object.create(null);class Jr{getMap(){return Gi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in kg)throw new RangeError("Duplicate use of step JSON ID "+e);return kg[e]=n,n.prototype.jsonID=e,n}}class lr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lr(e,null)}static fail(e){return new lr(null,e)}static fromReplace(e,n,r,i){try{return lr.ok(e.replace(n,r,i))}catch(s){if(s instanceof M1)return lr.fail(s.message);throw s}}}function Sx(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Sx(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Ie.fromArray(r)}class Vo extends Jr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ge(Sx(n.content,(c,f)=>!c.isAtom||!f.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),i),n.openStart,n.openEnd);return lr.fromReplace(e,this.from,this.to,s)}invert(){return new Os(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vo(n.from,n.to,e.markFromJSON(n.mark))}}Jr.jsonID("addMark",Vo);class Os extends Jr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ge(Sx(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return lr.fromReplace(e,this.from,this.to,r)}invert(){return new Vo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Os(n.pos,r.pos,this.mark)}merge(e){return e instanceof Os&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Os(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Os(n.from,n.to,e.markFromJSON(n.mark))}}Jr.jsonID("removeMark",Os);class Go extends Jr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lr.fromReplace(e,this.pos,this.pos+1,new Ge(Ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Go(this.pos,n.marks[i]);return new Go(this.pos,this.mark)}}return new Yl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Go(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Go(n.pos,e.markFromJSON(n.mark))}}Jr.jsonID("addNodeMark",Go);class Yl extends Jr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lr.fromReplace(e,this.pos,this.pos+1,new Ge(Ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Go(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yl(n.pos,e.markFromJSON(n.mark))}}Jr.jsonID("removeNodeMark",Yl);class Ar extends Jr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&N2(e,this.from,this.to)?lr.fail("Structure replace would overwrite content"):lr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Gi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ar(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ar(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ar)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ge.empty:new Ge(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ar(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ge.empty:new Ge(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ar(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ar(n.from,n.to,Ge.fromJSON(e,n.slice),!!n.structure)}}Jr.jsonID("replace",Ar);class Nr extends Jr{constructor(e,n,r,i,s,c,f=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=c,this.structure=f}apply(e){if(this.structure&&(N2(e,this.from,this.gapFrom)||N2(e,this.gapTo,this.to)))return lr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lr.fromReplace(e,this.from,this.to,r):lr.fail("Content does not fit in gap")}getMap(){return new Gi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Nr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Nr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nr(n.from,n.to,n.gapFrom,n.gapTo,Ge.fromJSON(e,n.slice),n.insert,!!n.structure)}}Jr.jsonID("replaceAround",Nr);function N2(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let c=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,i--}}return!1}function lG(t,e,n,r){let i=[],s=[],c,f;t.doc.nodesBetween(e,n,(p,m,b)=>{if(!p.isInline)return;let v=p.marks;if(!r.isInSet(v)&&b.type.allowsMarkType(r.type)){let _=Math.max(m,e),N=Math.min(m+p.nodeSize,n),A=r.addToSet(v);for(let R=0;R<v.length;R++)v[R].isInSet(A)||(c&&c.to==_&&c.mark.eq(v[R])?c.to=N:i.push(c=new Os(_,N,v[R])));f&&f.to==_?f.to=N:s.push(f=new Vo(_,N,r))}}),i.forEach(p=>t.step(p)),s.forEach(p=>t.step(p))}function cG(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(c,f)=>{if(!c.isInline)return;s++;let p=null;if(r instanceof M0){let m=c.marks,b;for(;b=r.isInSet(m);)(p||(p=[])).push(b),m=b.removeFromSet(m)}else r?r.isInSet(c.marks)&&(p=[r]):p=c.marks;if(p&&p.length){let m=Math.min(f+c.nodeSize,n);for(let b=0;b<p.length;b++){let v=p[b],_;for(let N=0;N<i.length;N++){let A=i[N];A.step==s-1&&v.eq(i[N].style)&&(_=A)}_?(_.to=m,_.step=s):i.push({style:v,from:Math.max(f,e),to:m,step:s})}}}),i.forEach(c=>t.step(new Os(c.from,c.to,c.style)))}function _x(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),c=[],f=e+1;for(let p=0;p<s.childCount;p++){let m=s.child(p),b=f+m.nodeSize,v=r.matchType(m.type);if(!v)c.push(new Ar(f,b,Ge.empty));else{r=v;for(let _=0;_<m.marks.length;_++)n.allowsMarkType(m.marks[_].type)||t.step(new Os(f,b,m.marks[_]));if(i&&m.isText&&n.whitespace!="pre"){let _,N=/\r?\n|\r/g,A;for(;_=N.exec(m.text);)A||(A=new Ge(Ie.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),c.push(new Ar(f+_.index,f+_.index+_[0].length,A))}}f=b}if(!r.validEnd){let p=r.fillBefore(Ie.empty,!0);t.replace(f,f,new Ge(p,0,0))}for(let p=c.length-1;p>=0;p--)t.step(c[p])}function uG(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Su(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),c=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,c,n))return r;if(r==0||i.type.spec.isolating||!uG(i,s,c))break}return null}function fG(t,e,n){let{$from:r,$to:i,depth:s}=e,c=r.before(s+1),f=i.after(s+1),p=c,m=f,b=Ie.empty,v=0;for(let A=s,R=!1;A>n;A--)R||r.index(A)>0?(R=!0,b=Ie.from(r.node(A).copy(b)),v++):p--;let _=Ie.empty,N=0;for(let A=s,R=!1;A>n;A--)R||i.after(A+1)<i.end(A)?(R=!0,_=Ie.from(i.node(A).copy(_)),N++):m++;t.step(new Nr(p,m,c,f,new Ge(b.append(_),v,N),b.size-v,!0))}function Tx(t,e,n=null,r=t){let i=dG(t,e),s=i&&hG(r,e);return s?i.map(cC).concat({type:e,attrs:n}).concat(s.map(cC)):null}function cC(t){return{type:t,attrs:null}}function dG(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let c=s.length?s[0]:e;return n.canReplaceWith(r,i,c)?s:null}function hG(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),c=e.contentMatch.findWrapping(s.type);if(!c)return null;let p=(c.length?c[c.length-1]:e).contentMatch;for(let m=r;p&&m<i;m++)p=p.matchType(n.child(m).type);return!p||!p.validEnd?null:c}function pG(t,e,n){let r=Ie.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let f=n[c].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ie.from(n[c].type.create(n[c].attrs,r))}let i=e.start,s=e.end;t.step(new Nr(i,s,i,s,new Ge(r,0,0),n.length,!0))}function mG(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(c,f)=>{let p=typeof i=="function"?i(c):i;if(c.isTextblock&&!c.hasMarkup(r,p)&&gG(t.doc,t.mapping.slice(s).map(f),r)){let m=null;if(r.schema.linebreakReplacement){let N=r.whitespace=="pre",A=!!r.contentMatch.matchType(r.schema.linebreakReplacement);N&&!A?m=!1:!N&&A&&(m=!0)}m===!1&&H_(t,c,f,s),_x(t,t.mapping.slice(s).map(f,1),r,void 0,m===null);let b=t.mapping.slice(s),v=b.map(f,1),_=b.map(f+c.nodeSize,1);return t.step(new Nr(v,_,v+1,_-1,new Ge(Ie.from(r.create(p,null,c.marks)),0,0),1,!0)),m===!0&&U_(t,c,f,s),!1}})}function U_(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let c,f=/\r?\n|\r/g;for(;c=f.exec(i.text);){let p=t.mapping.slice(r).map(n+1+s+c.index);t.replaceWith(p,p+1,e.type.schema.linebreakReplacement.create())}}})}function H_(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let c=t.mapping.slice(r).map(n+1+s);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function gG(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function xG(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let c=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,c);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Nr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ge(Ie.from(c),0,0),1,!0))}function Ya(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,c=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!c.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let m=i.depth-1,b=n-2;m>s;m--,b--){let v=i.node(m),_=i.index(m);if(v.type.spec.isolating)return!1;let N=v.content.cutByIndex(_,v.childCount),A=r&&r[b+1];A&&(N=N.replaceChild(0,A.type.create(A.attrs)));let R=r&&r[b]||v;if(!v.canReplace(_+1,v.childCount)||!R.type.validContent(N))return!1}let f=i.indexAfter(s),p=r&&r[0];return i.node(s).canReplaceWith(f,f,p?p.type:i.node(s+1).type)}function yG(t,e,n=1,r){let i=t.doc.resolve(e),s=Ie.empty,c=Ie.empty;for(let f=i.depth,p=i.depth-n,m=n-1;f>p;f--,m--){s=Ie.from(i.node(f).copy(s));let b=r&&r[m];c=Ie.from(b?b.type.create(b.attrs,c):i.node(f).copy(c))}t.step(new Ar(e,e,new Ge(s.append(c),n,n),!0))}function tl(t,e){let n=t.resolve(e),r=n.index();return V_(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function bG(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),c=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function V_(t,e){return!!(t&&e&&!t.isLeaf&&bG(t,e))}function R0(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,c,f=r.index(i);if(i==r.depth?(s=r.nodeBefore,c=r.nodeAfter):n>0?(s=r.node(i+1),f++,c=r.node(i).maybeChild(f)):(s=r.node(i).maybeChild(f-1),c=r.node(i+1)),s&&!s.isTextblock&&V_(s,c)&&r.node(i).canReplace(f,f+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function wG(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),c=s.node().type;if(i&&c.inlineContent){let b=c.whitespace=="pre",v=!!c.contentMatch.matchType(i);b&&!v?r=!1:!b&&v&&(r=!0)}let f=t.steps.length;if(r===!1){let b=t.doc.resolve(e+n);H_(t,b.node(),b.before(),f)}c.inlineContent&&_x(t,e+n-1,c,s.node().contentMatchAt(s.index()),r==null);let p=t.mapping.slice(f),m=p.map(e-n);if(t.step(new Ar(m,p.map(e+n,-1),Ge.empty,!0)),r===!0){let b=t.doc.resolve(m);U_(t,b.node(),b.before(),t.steps.length)}return t}function vG(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function G_(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let c=r.depth;c>=0;c--){let f=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,p=r.index(c)+(f>0?1:0),m=r.node(c),b=!1;if(s==1)b=m.canReplace(p,p,i);else{let v=m.contentMatchAt(p).findWrapping(i.firstChild.type);b=v&&m.canReplaceWith(p,p,v[0])}if(b)return f==0?r.pos:f<0?r.before(c+1):r.after(c+1)}return null}function I0(t,e,n=e,r=Ge.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return $_(i,s,r)?new Ar(e,n,r):new CG(i,s,r).fit()}function $_(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class CG{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ie.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ie.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,c=r.depth,f=i.depth;for(;c&&f&&s.childCount==1;)s=s.firstChild.content,c--,f--;let p=new Ge(s,c,f);return e>-1?new Nr(r.pos,e,this.$to.pos,this.$to.end(),p,n):p.size||r.pos!=this.$to.pos?new Ar(r.pos,i.pos,p):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Bg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let c=i.firstChild;for(let f=this.depth;f>=0;f--){let{type:p,match:m}=this.frontier[f],b,v=null;if(n==1&&(c?m.matchType(c.type)||(v=m.fillBefore(Ie.from(c),!1)):s&&p.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:f,parent:s,inject:v};if(n==2&&c&&(b=m.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:f,parent:s,wrap:b};if(s&&m.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Bg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ge(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Bg(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ge(Bf(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ge(Bf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let R=0;R<s.length;R++)this.openFrontierNode(s[R]);let c=this.unplaced,f=r?r.content:c.content,p=c.openStart-e,m=0,b=[],{match:v,type:_}=this.frontier[n];if(i){for(let R=0;R<i.childCount;R++)b.push(i.child(R));v=v.matchFragment(i)}let N=f.size+e-(c.content.size-c.openEnd);for(;m<f.childCount;){let R=f.child(m),I=v.matchType(R.type);if(!I)break;m++,(m>1||p==0||R.content.size)&&(v=I,b.push(q_(R.mark(_.allowedMarks(R.marks)),m==1?p:0,m==f.childCount?N:-1)))}let A=m==f.childCount;A||(N=-1),this.placed=Lf(this.placed,n,Ie.from(b)),this.frontier[n].match=v,A&&N<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let R=0,I=f;R<N;R++){let k=I.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),I=k.content}this.unplaced=A?e==0?Ge.empty:new Ge(Bf(c.content,e-1,1),e-1,N<0?c.openEnd:e-1):new Ge(Bf(c.content,e,m),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Lg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=Lg(e,n,i,r,s);if(c){for(let f=n-1;f>=0;f--){let{match:p,type:m}=this.frontier[f],b=Lg(e,f,m,p,!0);if(!b||b.childCount)continue e}return{depth:n,fit:c,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Lf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Lf(this.placed,this.depth,Ie.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ie.empty,!0);n.childCount&&(this.placed=Lf(this.placed,this.frontier.length,n))}}function Bf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Bf(t.firstChild.content,e-1,n)))}function Lf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Lf(t.lastChild.content,e-1,n)))}function Bg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function q_(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,q_(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ie.empty,!0)))),t.copy(r)}function Lg(t,e,n,r,i){let s=t.node(e),c=i?t.indexAfter(e):t.index(e);if(c==s.childCount&&!n.compatibleContent(s.type))return null;let f=r.fillBefore(s.content,!0,c);return f&&!EG(n,s.content,c)?f:null}function EG(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function SG(t){return t.spec.defining||t.spec.definingForContent}function _G(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if($_(i,s,r))return t.step(new Ar(e,n,r));let c=X_(i,t.doc.resolve(n));c[c.length-1]==0&&c.pop();let f=-(i.depth+1);c.unshift(f);for(let _=i.depth,N=i.pos-1;_>0;_--,N--){let A=i.node(_).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;c.indexOf(_)>-1?f=_:i.before(_)==N&&c.splice(1,0,-_)}let p=c.indexOf(f),m=[],b=r.openStart;for(let _=r.content,N=0;;N++){let A=_.firstChild;if(m.push(A),N==r.openStart)break;_=A.content}for(let _=b-1;_>=0;_--){let N=m[_],A=SG(N.type);if(A&&!N.sameMarkup(i.node(Math.abs(f)-1)))b=_;else if(A||!N.type.isTextblock)break}for(let _=r.openStart;_>=0;_--){let N=(_+b+1)%(r.openStart+1),A=m[N];if(A)for(let R=0;R<c.length;R++){let I=c[(R+p)%c.length],k=!0;I<0&&(k=!1,I=-I);let U=i.node(I-1),j=i.index(I-1);if(U.canReplaceWith(j,j,A.type,A.marks))return t.replace(i.before(I),k?s.after(I):n,new Ge(W_(r.content,0,r.openStart,N),N,r.openEnd))}}let v=t.steps.length;for(let _=c.length-1;_>=0&&(t.replace(e,n,r),!(t.steps.length>v));_--){let N=c[_];N<0||(e=i.before(N),n=s.after(N))}}function W_(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(W_(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),c=s.fillBefore(t).append(t);t=c.append(s.matchFragment(c).fillBefore(Ie.empty,!0))}return t}function TG(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=vG(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ge(Ie.from(r),0,0))}function AG(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=X_(r,i);for(let c=0;c<s.length;c++){let f=s[c],p=c==s.length-1;if(p&&f==0||r.node(f).type.contentMatch.validEnd)return t.delete(r.start(f),i.end(f));if(f>0&&(p||r.node(f-1).canReplace(r.index(f-1),i.indexAfter(f-1))))return t.delete(r.before(f),i.after(f))}for(let c=1;c<=r.depth&&c<=i.depth;c++)if(e-r.start(c)==r.depth-c&&n>r.end(c)&&i.end(c)-n!=i.depth-c&&r.start(c-1)==i.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),i.index(c-1)))return t.delete(r.before(c),n);t.delete(e,n)}function X_(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class fu extends Jr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return lr.fromReplace(e,this.pos,this.pos+1,new Ge(Ie.from(i),0,n.isLeaf?0:1))}getMap(){return Gi.empty}invert(e){return new fu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fu(n.pos,n.attr,n.value)}}Jr.jsonID("attr",fu);class td extends Jr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return lr.ok(r)}getMap(){return Gi.empty}invert(e){return new td(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new td(n.attr,n.value)}}Jr.jsonID("docAttr",td);let hu=class extends Error{};hu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};hu.prototype=Object.create(Error.prototype);hu.prototype.constructor=hu;hu.prototype.name="TransformError";class Y_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ed}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new hu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ge.empty){let i=I0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ge(Ie.from(r),0,0))}delete(e,n){return this.replace(e,n,Ge.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return _G(this,e,n,r),this}replaceRangeWith(e,n,r){return TG(this,e,n,r),this}deleteRange(e,n){return AG(this,e,n),this}lift(e,n){return fG(this,e,n),this}join(e,n=1){return wG(this,e,n),this}wrap(e,n){return pG(this,e,n),this}setBlockType(e,n=e,r,i=null){return mG(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return xG(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new fu(e,n,r)),this}setDocAttribute(e,n){return this.step(new td(e,n)),this}addNodeMark(e,n){return this.step(new Go(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof bn)n.isInSet(r.marks)&&this.step(new Yl(e,n));else{let i=r.marks,s,c=[];for(;s=n.isInSet(i);)c.push(new Yl(e,s)),i=s.removeFromSet(i);for(let f=c.length-1;f>=0;f--)this.step(c[f])}return this}split(e,n=1,r){return yG(this,e,n,r),this}addMark(e,n,r){return lG(this,e,n,r),this}removeMark(e,n,r){return cG(this,e,n,r),this}clearIncompatible(e,n,r){return _x(this,e,n,r),this}}const Pg=Object.create(null);class Nt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new NG(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ge.empty){let r=n.content.lastChild,i=null;for(let f=0;f<n.openEnd;f++)i=r,r=r.lastChild;let s=e.steps.length,c=this.ranges;for(let f=0;f<c.length;f++){let{$from:p,$to:m}=c[f],b=e.mapping.slice(s);e.replaceRange(b.map(p.pos),b.map(m.pos),f?Ge.empty:n),f==0&&dC(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:c,$to:f}=i[s],p=e.mapping.slice(r),m=p.map(c.pos),b=p.map(f.pos);s?e.deleteRange(m,b):(e.replaceRangeWith(m,b,n),dC(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new pt(e):ru(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let c=n<0?ru(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):ru(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new $i(e.node(0))}static atStart(e){return ru(e,e,0,0,1)||new $i(e)}static atEnd(e){return ru(e,e,e.content.size,e.childCount,-1)||new $i(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Pg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Pg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Pg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return pt.between(this.$anchor,this.$head).getBookmark()}}Nt.prototype.visible=!0;class NG{constructor(e,n){this.$from=e,this.$to=n}}let uC=!1;function fC(t){!uC&&!t.parent.inlineContent&&(uC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class pt extends Nt{constructor(e,n=e){fC(e),fC(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Nt.near(r);let i=e.resolve(n.map(this.anchor));return new pt(i.parent.inlineContent?i:r,r)}replace(e,n=Ge.empty){if(super.replace(e,n),n==Ge.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof pt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new D0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Nt.findFrom(n,r,!0)||Nt.findFrom(n,-r,!0);if(s)n=s.$head;else return Nt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Nt.findFrom(e,-r,!0)||Nt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new pt(e,n)}}Nt.jsonID("text",pt);class D0{constructor(e,n){this.anchor=e,this.head=n}map(e){return new D0(e.map(this.anchor),e.map(this.head))}resolve(e){return pt.between(e.resolve(this.anchor),e.resolve(this.head))}}class lt extends Nt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Nt.near(s):new lt(s)}content(){return new Ge(Ie.from(this.node),0,0)}eq(e){return e instanceof lt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ax(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new lt(e.resolve(n.anchor))}static create(e,n){return new lt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}lt.prototype.visible=!1;Nt.jsonID("node",lt);class Ax{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new D0(r,r):new Ax(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&lt.isSelectable(r)?new lt(n):Nt.near(n)}}class $i extends Nt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ge.empty){if(n==Ge.empty){e.delete(0,e.doc.content.size);let r=Nt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new $i(e)}map(e){return new $i(e)}eq(e){return e instanceof $i}getBookmark(){return OG}}Nt.jsonID("all",$i);const OG={map(){return this},resolve(t){return new $i(t)}};function ru(t,e,n,r,i,s=!1){if(e.inlineContent)return pt.create(t,n);for(let c=r-(i>0?0:1);i>0?c<e.childCount:c>=0;c+=i){let f=e.child(c);if(f.isAtom){if(!s&&lt.isSelectable(f))return lt.create(t,n-(i<0?f.nodeSize:0))}else{let p=ru(t,f,n+i,i<0?f.childCount:0,i,s);if(p)return p}n+=f.nodeSize*i}return null}function dC(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ar||i instanceof Nr))return;let s=t.mapping.maps[r],c;s.forEach((f,p,m,b)=>{c==null&&(c=b)}),t.setSelection(Nt.near(t.doc.resolve(c),n))}const hC=1,pC=2,mC=4;class MG extends Y_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hC)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&hC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=pC,this}ensureMarks(e){return bn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&pC)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let c=this.doc.resolve(n);s=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Nt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=mC,this}get scrolledIntoView(){return(this.updated&mC)>0}}function gC(t,e){return!e||!t?t:t.bind(e)}class Pf{constructor(e,n,r){this.name=e,this.init=gC(n.init,r),this.apply=gC(n.apply,r)}}const RG=[new Pf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Pf("selection",{init(t,e){return t.selection||Nt.atStart(e.doc)},apply(t){return t.selection}}),new Pf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Pf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class jg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RG.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Pf(r.key,r.spec.state,r))})}}class lu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let c=0;c<this.config.plugins.length;c++){let f=this.config.plugins[c];if(f.spec.appendTransaction){let p=i?i[c].n:0,m=i?i[c].state:this,b=p<n.length&&f.spec.appendTransaction.call(f,p?n.slice(p):n,m,r);if(b&&r.filterTransaction(b,c)){if(b.setMeta("appendedTransaction",e),!i){i=[];for(let v=0;v<this.config.plugins.length;v++)i.push(v<c?{state:r,n:n.length}:{state:this,n:0})}n.push(b),r=r.applyInner(b),s=!0}i&&(i[c]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new lu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new MG(this)}static create(e){let n=new jg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new lu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new jg(this.schema,e.plugins),r=n.fields,i=new lu(n);for(let s=0;s<r.length;s++){let c=r[s].name;i[c]=this.hasOwnProperty(c)?this[c]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new jg(e.schema,e.plugins),s=new lu(i);return i.fields.forEach(c=>{if(c.name=="doc")s.doc=Ms.fromJSON(e.schema,n.doc);else if(c.name=="selection")s.selection=Nt.fromJSON(s.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let p=r[f],m=p.spec.state;if(p.key==c.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,f)){s[c.name]=m.fromJSON.call(p,e,n[f],s);return}}s[c.name]=c.init(e,s)}}),s}}function K_(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=K_(i,e,{})),n[r]=i}return n}class Yn{constructor(e){this.spec=e,this.props={},e.props&&K_(e.props,this,this.props),this.key=e.key?e.key.key:Z_("plugin")}getState(e){return e[this.key]}}const zg=Object.create(null);function Z_(t){return t in zg?t+"$"+ ++zg[t]:(zg[t]=0,t+"$")}class Ir{constructor(e="key"){this.key=Z_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const zr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},pu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let O2=null;const Wa=function(t,e,n){let r=O2||(O2=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},IG=function(){O2=null},Kl=function(t,e,n,r){return n&&(xC(t,e,n,r,-1)||xC(t,e,n,r,1))},DG=/^(img|br|input|textarea|hr)$/i;function xC(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:us(t))){let c=t.parentNode;if(!c||c.nodeType!=1||gd(t)||DG.test(t.nodeName)||t.contentEditable=="false")return!1;e=zr(t)+(i<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(i<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((s=c.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=c,e=i<0?us(t):0}else return!1}}function us(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kG(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=us(t)}else if(t.parentNode&&!gd(t))e=zr(t),t=t.parentNode;else return null}}function BG(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gd(t))e=zr(t)+1,t=t.parentNode;else return null}}function LG(t,e,n){for(let r=e==0,i=e==us(t);r||i;){if(t==n)return!0;let s=zr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==us(t)}}function gd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const k0=function(t){return t.focusNode&&Kl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Dl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function PG(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jG(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(us(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(us(r.startContainer),r.startOffset)}}}const ca=typeof navigator<"u"?navigator:null,yC=typeof document<"u"?document:null,nl=ca&&ca.userAgent||"",M2=/Edge\/(\d+)/.exec(nl),Q_=/MSIE \d/.exec(nl),R2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nl),Ti=!!(Q_||R2||M2),Xo=Q_?document.documentMode:R2?+R2[1]:M2?+M2[1]:0,fs=!Ti&&/gecko\/(\d+)/i.test(nl);fs&&+(/Firefox\/(\d+)/.exec(nl)||[0,0])[1];const I2=!Ti&&/Chrome\/(\d+)/.exec(nl),Qr=!!I2,J_=I2?+I2[1]:0,ci=!Ti&&!!ca&&/Apple Computer/.test(ca.vendor),mu=ci&&(/Mobile\/\w+/.test(nl)||!!ca&&ca.maxTouchPoints>2),cs=mu||(ca?/Mac/.test(ca.platform):!1),zG=ca?/Win/.test(ca.platform):!1,Xa=/Android \d/.test(nl),xd=!!yC&&"webkitFontSmoothing"in yC.documentElement.style,FG=xd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function UG(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ua(t,e){return typeof t=="number"?t:t[e]}function HG(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function bC(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=pu(c);continue}let f=c,p=f==s.body,m=p?UG(s):HG(f),b=0,v=0;if(e.top<m.top+Ua(r,"top")?v=-(m.top-e.top+Ua(i,"top")):e.bottom>m.bottom-Ua(r,"bottom")&&(v=e.bottom-e.top>m.bottom-m.top?e.top+Ua(i,"top")-m.top:e.bottom-m.bottom+Ua(i,"bottom")),e.left<m.left+Ua(r,"left")?b=-(m.left-e.left+Ua(i,"left")):e.right>m.right-Ua(r,"right")&&(b=e.right-m.right+Ua(i,"right")),b||v)if(p)s.defaultView.scrollBy(b,v);else{let N=f.scrollLeft,A=f.scrollTop;v&&(f.scrollTop+=v),b&&(f.scrollLeft+=b);let R=f.scrollLeft-N,I=f.scrollTop-A;e={left:e.left-R,top:e.top-I,right:e.right-R,bottom:e.bottom-I}}let _=p?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(_))break;c=_=="absolute"?c.offsetParent:pu(c)}}function VG(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let f=t.root.elementFromPoint(s,c);if(!f||f==t.dom||!t.dom.contains(f))continue;let p=f.getBoundingClientRect();if(p.top>=n-20){r=f,i=p.top;break}}return{refDOM:r,refTop:i,stack:e4(t.dom)}}function e4(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=pu(r));return e}function GG({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;t4(n,r==0?0:r-e)}function t4(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Jc=null;function $G(t){if(t.setActive)return t.setActive();if(Jc)return t.focus(Jc);let e=e4(t);t.focus(Jc==null?{get preventScroll(){return Jc={preventScroll:!0},!0}}:void 0),Jc||(Jc=!1,t4(e,0))}function n4(t,e){let n,r=2e8,i,s=0,c=e.top,f=e.top,p,m;for(let b=t.firstChild,v=0;b;b=b.nextSibling,v++){let _;if(b.nodeType==1)_=b.getClientRects();else if(b.nodeType==3)_=Wa(b).getClientRects();else continue;for(let N=0;N<_.length;N++){let A=_[N];if(A.top<=c&&A.bottom>=f){c=Math.max(A.bottom,c),f=Math.min(A.top,f);let R=A.left>e.left?A.left-e.left:A.right<e.left?e.left-A.right:0;if(R<r){n=b,r=R,i=R&&n.nodeType==3?{left:A.right<e.left?A.right:A.left,top:e.top}:e,b.nodeType==1&&R&&(s=v+(e.left>=(A.left+A.right)/2?1:0));continue}}else A.top>e.top&&!p&&A.left<=e.left&&A.right>=e.left&&(p=b,m={left:Math.max(A.left,Math.min(A.right,e.left)),top:A.top});!n&&(e.left>=A.right&&e.top>=A.top||e.left>=A.left&&e.top>=A.bottom)&&(s=v+1)}}return!n&&p&&(n=p,i=m,r=0),n&&n.nodeType==3?qG(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:n4(n,i)}function qG(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Bo(r,1);if(s.top!=s.bottom&&Nx(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Nx(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function WG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function XG(t,e,n){let{node:r,offset:i}=n4(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();s=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function YG(t,e,n,r){let i=-1;for(let s=e,c=!1;s!=t.dom;){let f=t.docView.nearestDesc(s,!0),p;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((p=f.dom.getBoundingClientRect()).width||p.height)&&(f.node.isBlock&&f.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(f.dom.nodeName)&&(!c&&p.left>r.left||p.top>r.top?i=f.posBefore:(!c&&p.right<r.left||p.bottom<r.top)&&(i=f.posAfter),c=!0),!f.contentDOM&&i<0&&!f.node.isText))return(f.node.isBlock?r.top<(p.top+p.bottom)/2:r.left<(p.left+p.right)/2)?f.posBefore:f.posAfter;s=f.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function r4(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let c=t.childNodes[s];if(c.nodeType==1){let f=c.getClientRects();for(let p=0;p<f.length;p++){let m=f[p];if(Nx(e,m))return r4(c,e,m)}}if((s=(s+1)%r)==i)break}return t}function KG(t,e){let n=t.dom.ownerDocument,r,i=0,s=jG(n,e.left,e.top);s&&({node:r,offset:i}=s);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),f;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let m=t.dom.getBoundingClientRect();if(!Nx(e,m)||(c=r4(t.dom,e,m),!c))return null}if(ci)for(let m=c;r&&m;m=pu(m))m.draggable&&(r=void 0);if(c=WG(c,e),r){if(fs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let b=r.childNodes[i],v;b.nodeName=="IMG"&&(v=b.getBoundingClientRect()).right<=e.left&&v.bottom>e.top&&i++}let m;xd&&i&&r.nodeType==1&&(m=r.childNodes[i-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(f=YG(t,r,i,e))}f==null&&(f=XG(t,c,e));let p=t.docView.nearestDesc(c,!0);return{pos:f,inside:p?p.posAtStart-p.border:-1}}function wC(t){return t.top<t.bottom||t.left<t.right}function Bo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(wC(r))return r}return Array.prototype.find.call(n,wC)||t.getBoundingClientRect()}const ZG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function i4(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),c=xd||fs;if(r.nodeType==3)if(c&&(ZG.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let p=Bo(Wa(r,i,i),n);if(fs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let m=Bo(Wa(r,i-1,i-1),-1);if(m.top==p.top){let b=Bo(Wa(r,i,i+1),-1);if(b.top!=p.top)return Nf(b,b.left<m.left)}}return p}else{let p=i,m=i,b=n<0?1:-1;return n<0&&!i?(m++,b=-1):n>=0&&i==r.nodeValue.length?(p--,b=1):n<0?p--:m++,Nf(Bo(Wa(r,p,m),b),b<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==us(r))){let p=r.childNodes[i-1];if(p.nodeType==1)return Fg(p.getBoundingClientRect(),!1)}if(s==null&&i<us(r)){let p=r.childNodes[i];if(p.nodeType==1)return Fg(p.getBoundingClientRect(),!0)}return Fg(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==us(r))){let p=r.childNodes[i-1],m=p.nodeType==3?Wa(p,us(p)-(c?0:1)):p.nodeType==1&&(p.nodeName!="BR"||!p.nextSibling)?p:null;if(m)return Nf(Bo(m,1),!1)}if(s==null&&i<us(r)){let p=r.childNodes[i];for(;p.pmViewDesc&&p.pmViewDesc.ignoreForCoords;)p=p.nextSibling;let m=p?p.nodeType==3?Wa(p,0,c?0:1):p.nodeType==1?p:null:null;if(m)return Nf(Bo(m,-1),!0)}return Nf(Bo(r.nodeType==3?Wa(r):r,-n),n>=0)}function Nf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Fg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function s4(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function QG(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return s4(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let f=t.docView.nearestDesc(s,!0);if(!f)break;if(f.node.isBlock){s=f.contentDOM||f.dom;break}s=f.dom.parentNode}let c=i4(t,i.pos,1);for(let f=s.firstChild;f;f=f.nextSibling){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=Wa(f,0,f.nodeValue.length).getClientRects();else continue;for(let m=0;m<p.length;m++){let b=p[m];if(b.bottom>b.top+1&&(n=="up"?c.top-b.top>(b.bottom-c.top)*2:b.bottom-c.bottom>(c.bottom-b.top)*2))return!1}}return!0})}const JG=/[\u0590-\u08ac]/;function e$(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,c=i==r.parent.content.size,f=t.domSelection();return f?!JG.test(r.parent.textContent)||!f.modify?n=="left"||n=="backward"?s:c:s4(t,e,()=>{let{focusNode:p,focusOffset:m,anchorNode:b,anchorOffset:v}=t.domSelectionRange(),_=f.caretBidiLevel;f.modify("move",n,"character");let N=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:A,focusOffset:R}=t.domSelectionRange(),I=A&&!N.contains(A.nodeType==1?A:A.parentNode)||p==A&&m==R;try{f.collapse(b,v),p&&(p!=b||m!=v)&&f.extend&&f.extend(p,m)}catch{}return _!=null&&(f.caretBidiLevel=_),I}):r.pos==r.start()||r.pos==r.end()}let vC=null,CC=null,EC=!1;function t$(t,e,n){return vC==e&&CC==n?EC:(vC=e,CC=n,EC=n=="up"||n=="down"?QG(t,e,n):e$(t,e,n))}const ds=0,SC=1,Ll=2,ua=3;class yd{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ds,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,c;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(c)+c.size:this.posAtStart}else{let s,c;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(c):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>zr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),c;if(s&&(!n||s.node))if(r&&(c=s.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let c=0;c<i.children.length;c++){let f=i.children[c];if(f.size){i=f;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let c=this.children[r],f=s+c.size;if(f>e||c instanceof o4){i=e-s;break}s=f}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof a4&&s.side>=0;r--);if(n<=0){let s,c=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,c=!1);return s&&n&&c&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?zr(s.dom)+1:0}}else{let s,c=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,c=!1);return s&&c&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?zr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let c=r,f=0;;f++){let p=this.children[f],m=c+p.size;if(i==-1&&e<=m){let b=c+p.border;if(e>=b&&n<=m-p.border&&p.node&&p.contentDOM&&this.contentDOM.contains(p.contentDOM))return p.parseRange(e,n,b);e=c;for(let v=f;v>0;v--){let _=this.children[v-1];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(1)){i=zr(_.dom)+1;break}e-=_.size}i==-1&&(i=0)}if(i>-1&&(m>n||f==this.children.length-1)){n=m;for(let b=f+1;b<this.children.length;b++){let v=this.children[b];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){s=zr(v.dom);break}n+=v.size}s==-1&&(s=this.contentDOM.childNodes.length);break}c=m}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),c=Math.max(e,n);for(let N=0,A=0;N<this.children.length;N++){let R=this.children[N],I=A+R.size;if(s>A&&c<I)return R.setSelection(e-A-R.border,n-A-R.border,r,i);A=I}let f=this.domFromPos(e,e?-1:1),p=n==e?f:this.domFromPos(n,n?-1:1),m=r.root.getSelection(),b=r.domSelectionRange(),v=!1;if((fs||ci)&&e==n){let{node:N,offset:A}=f;if(N.nodeType==3){if(v=!!(A&&N.nodeValue[A-1]==`
`),v&&A==N.nodeValue.length)for(let R=N,I;R;R=R.parentNode){if(I=R.nextSibling){I.nodeName=="BR"&&(f=p={node:I.parentNode,offset:zr(I)+1});break}let k=R.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let R=N.childNodes[A-1];v=R&&(R.nodeName=="BR"||R.contentEditable=="false")}}if(fs&&b.focusNode&&b.focusNode!=p.node&&b.focusNode.nodeType==1){let N=b.focusNode.childNodes[b.focusOffset];N&&N.contentEditable=="false"&&(i=!0)}if(!(i||v&&ci)&&Kl(f.node,f.offset,b.anchorNode,b.anchorOffset)&&Kl(p.node,p.offset,b.focusNode,b.focusOffset))return;let _=!1;if((m.extend||e==n)&&!(v&&fs)){m.collapse(f.node,f.offset);try{e!=n&&m.extend(p.node,p.offset),_=!0}catch{}}if(!_){if(e>n){let A=f;f=p,p=A}let N=document.createRange();N.setEnd(p.node,p.offset),N.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(N)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],c=r+s.size;if(r==c?e<=c&&n>=r:e<c&&n>r){let f=r+s.border,p=c-s.border;if(e>=f&&n<=p){this.dirty=e==r||n==c?Ll:SC,e==f&&n==p&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ua:s.markDirty(e-f,n-f);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ll:ua}r=c}this.dirty=Ll}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ll:SC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class a4 extends yd{constructor(e,n,r,i){let s,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(c.nodeType!=1){let f=document.createElement("span");f.appendChild(c),c=f}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==ds&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class n$ extends yd{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zl extends yd{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],c=s&&s(n,i,r);return(!c||!c.dom)&&(c=rc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Zl(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&ua||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ua&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ds){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ds}}slice(e,n,r){let i=Zl.create(this.parent,this.mark,!0,r),s=this.children,c=this.size;n<c&&(s=k2(s,n,c,r)),e>0&&(s=k2(s,0,e,r));for(let f=0;f<s.length;f++)s[f].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yo extends yd{constructor(e,n,r,i,s,c,f,p,m){super(e,[],s,c),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=f}static create(e,n,r,i,s,c){let f=s.nodeViews[n.type.name],p,m=f&&f(n,s,()=>{if(!p)return c;if(p.parent)return p.parent.posBeforeChild(p)},r,i),b=m&&m.dom,v=m&&m.contentDOM;if(n.isText){if(!b)b=document.createTextNode(n.text);else if(b.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else b||({dom:b,contentDOM:v}=rc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!v&&!n.isText&&b.nodeName!="BR"&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),n.type.spec.draggable&&(b.draggable=!0));let _=b;return b=u4(b,r,n),m?p=new r$(e,n,r,i,b,v||null,_,m,s,c+1):n.isText?new B0(e,n,r,i,b,_,s):new Yo(e,n,r,i,b,v||null,_,s,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ie.empty)}return e}matchesNode(e,n,r){return this.dirty==ds&&e.eq(this.node)&&k1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,c=s&&s.pos>-1?s:null,f=s&&s.pos<0,p=new s$(this,c&&c.node,e);l$(this.node,this.innerDeco,(m,b,v)=>{m.spec.marks?p.syncToMarks(m.spec.marks,r,e):m.type.side>=0&&!v&&p.syncToMarks(b==this.node.childCount?bn.none:this.node.child(b).marks,r,e),p.placeWidget(m,e,i)},(m,b,v,_)=>{p.syncToMarks(m.marks,r,e);let N;p.findNodeMatch(m,b,v,_)||f&&e.state.selection.from>i&&e.state.selection.to<i+m.nodeSize&&(N=p.findIndexWithChild(s.node))>-1&&p.updateNodeAt(m,b,v,N,e)||p.updateNextNode(m,b,v,e,_,i)||p.addNode(m,b,v,e,i),i+=m.nodeSize}),p.syncToMarks([],r,e),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||this.dirty==Ll)&&(c&&this.protectLocalComposition(e,c),l4(this.contentDOM,this.children,e),mu&&c$(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof pt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let c=s.nodeValue,f=u$(this.node.content,c,r-n,i-n);return f<0?null:{node:s,pos:f,text:c}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let c=new n$(this,s,n,i);e.input.compositionNodes.push(c),this.children=k2(this.children,r,r+i.length,e,c)}update(e,n,r,i){return this.dirty==ua||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ds}updateOuterDeco(e){if(k1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=c4(this.dom,this.nodeDOM,D2(this.outerDeco,this.node,n),D2(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _C(t,e,n,r,i){u4(r,e,t);let s=new Yo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class B0 extends Yo{constructor(e,n,r,i,s,c,f){super(e,n,r,i,s,null,c,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ua||this.dirty!=ds&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ds||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ds,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new B0(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ua)}get domAtom(){return!1}isText(e){return this.node.text==e}}class o4 extends yd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ds&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class r$ extends Yo{constructor(e,n,r,i,s,c,f,p,m,b){super(e,n,r,i,s,c,f,m,b),this.spec=p}update(e,n,r,i){if(this.dirty==ua)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function l4(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let c=e[s],f=c.dom;if(f.parentNode==t){for(;f!=r;)r=TC(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(f,r);if(c instanceof Zl){let p=r?r.previousSibling:t.lastChild;l4(c.contentDOM,c.children,n),r=p?p.nextSibling:t.firstChild}}for(;r;)r=TC(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Uf=function(t){t&&(this.nodeName=t)};Uf.prototype=Object.create(null);const Pl=[new Uf];function D2(t,e,n){if(t.length==0)return Pl;let r=n?Pl[0]:new Uf,i=[r];for(let s=0;s<t.length;s++){let c=t[s].type.attrs;if(c){c.nodeName&&i.push(r=new Uf(c.nodeName));for(let f in c){let p=c[f];p!=null&&(n&&i.length==1&&i.push(r=new Uf(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+p:f=="style"?r.style=(r.style?r.style+";":"")+p:f!="nodeName"&&(r[f]=p))}}}return i}function c4(t,e,n,r){if(n==Pl&&r==Pl)return e;let i=e;for(let s=0;s<r.length;s++){let c=r[s],f=n[s];if(s){let p;f&&f.nodeName==c.nodeName&&i!=t&&(p=i.parentNode)&&p.nodeName.toLowerCase()==c.nodeName||(p=document.createElement(c.nodeName),p.pmIsDeco=!0,p.appendChild(i),f=Pl[0]),i=p}i$(i,f||Pl[0],c)}return i}function i$(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function u4(t,e,n){return c4(t,t,Pl,D2(e,n,t.nodeType!=1))}function k1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function TC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class s${constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=a$(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,c=Math.min(s,e.length);for(;i<c&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ds,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let p=this.index;p<Math.min(this.index+3,this.top.children.length);p++){let m=this.top.children[p];if(m.matchesMark(e[s])&&!this.isLocked(m.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=Zl.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,c;if(i>=this.preMatch.index&&(c=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,r))s=this.top.children.indexOf(c,this.index);else for(let f=this.index,p=Math.min(this.top.children.length,f+5);f<p;f++){let m=this.top.children[f];if(m.matchesNode(e,n,r)&&!this.preMatch.matched.has(m)){s=f;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let c=this.top.children[i];return c.dirty==ua&&c.dom==c.contentDOM&&(c.dirty=Ll),c.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,c){for(let f=this.index;f<this.top.children.length;f++){let p=this.top.children[f];if(p instanceof Yo){let m=this.preMatch.matched.get(p);if(m!=null&&m!=s)return!1;let b=p.dom,v,_=this.isLocked(b)&&!(e.isText&&p.node&&p.node.isText&&p.nodeDOM.nodeValue==e.text&&p.dirty!=ua&&k1(n,p.outerDeco));if(!_&&p.update(e,n,r,i))return this.destroyBetween(this.index,f),p.dom!=b&&(this.changed=!0),this.index++,!0;if(!_&&(v=this.recreateWrapper(p,e,n,r,i,c)))return this.destroyBetween(this.index,f),this.top.children[this.index]=v,v.contentDOM&&(v.dirty=Ll,v.updateChildren(i,c+1),v.dirty=ds),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!k1(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let f=Yo.create(this.top,n,r,i,s,c);if(f.contentDOM){f.children=e.children,e.children=[];for(let p of f.children)p.parent=f}return e.destroy(),f}addNode(e,n,r,i,s){let c=Yo.create(this.top,e,n,r,i,s);c.contentDOM&&c.updateChildren(i,s+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new a4(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Zl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof B0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ci||Qr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new o4(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function a$(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,c=[];e:for(;i>0;){let f;for(;;)if(r){let m=n.children[r-1];if(m instanceof Zl)n=m,r=m.children.length;else{f=m,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let p=f.node;if(p){if(p!=t.child(i-1))break;--i,s.set(f,i),c.push(f)}}return{index:i,matched:s,matches:c.reverse()}}function o$(t,e){return t.type.side-e.type.side}function l$(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let m=0;m<t.childCount;m++){let b=t.child(m);r(b,i,e.forChild(s,b),m),s+=b.nodeSize}return}let c=0,f=[],p=null;for(let m=0;;){let b,v;for(;c<i.length&&i[c].to==s;){let I=i[c++];I.widget&&(b?(v||(v=[b])).push(I):b=I)}if(b)if(v){v.sort(o$);for(let I=0;I<v.length;I++)n(v[I],m,!!p)}else n(b,m,!!p);let _,N;if(p)N=-1,_=p,p=null;else if(m<t.childCount)N=m,_=t.child(m++);else break;for(let I=0;I<f.length;I++)f[I].to<=s&&f.splice(I--,1);for(;c<i.length&&i[c].from<=s&&i[c].to>s;)f.push(i[c++]);let A=s+_.nodeSize;if(_.isText){let I=A;c<i.length&&i[c].from<I&&(I=i[c].from);for(let k=0;k<f.length;k++)f[k].to<I&&(I=f[k].to);I<A&&(p=_.cut(I-s),_=_.cut(0,I-s),A=I,N=-1)}else for(;c<i.length&&i[c].to<A;)c++;let R=_.isInline&&!_.isLeaf?f.filter(I=>!I.inline):f.slice();r(_,R,e.forChild(s,_),N),s=A}}function c$(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function u$(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let c=t.child(i++),f=s;if(s+=c.nodeSize,!c.isText)continue;let p=c.text;for(;i<t.childCount;){let m=t.child(i++);if(s+=m.nodeSize,!m.isText)break;p+=m.text}if(s>=n){if(s>=r&&p.slice(r-e.length-f,r-f)==e)return r-e.length;let m=f<r?p.lastIndexOf(e,r-f-1):-1;if(m>=0&&m+e.length+f>=n)return f+m;if(n==r&&p.length>=r+e.length-f&&p.slice(r-f,r-f+e.length)==e)return r}}return-1}function k2(t,e,n,r,i){let s=[];for(let c=0,f=0;c<t.length;c++){let p=t[c],m=f,b=f+=p.size;m>=n||b<=e?s.push(p):(m<e&&s.push(p.slice(0,e-m,r)),i&&(s.push(i),i=void 0),b>n&&s.push(p.slice(n-m,p.size,r)))}return s}function Ox(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let f=r.resolve(c),p,m;if(k0(n)){for(p=c;i&&!i.node;)i=i.parent;let v=i.node;if(i&&v.isAtom&&lt.isSelectable(v)&&i.parent&&!(v.isInline&&LG(n.focusNode,n.focusOffset,i.dom))){let _=i.posBefore;m=new lt(c==_?f:r.resolve(_))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let v=c,_=c;for(let N=0;N<n.rangeCount;N++){let A=n.getRangeAt(N);v=Math.min(v,t.docView.posFromDOM(A.startContainer,A.startOffset,1)),_=Math.max(_,t.docView.posFromDOM(A.endContainer,A.endOffset,-1))}if(v<0)return null;[p,c]=_==t.state.selection.anchor?[_,v]:[v,_],f=r.resolve(c)}else p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null}let b=r.resolve(p);if(!m){let v=e=="pointer"||t.state.selection.head<f.pos&&!s?1:-1;m=Mx(t,b,f,v)}return m}function f4(t){return t.editable?t.hasFocus():h4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ka(t,e=!1){let n=t.state.selection;if(d4(t,n),!!f4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Qr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Kl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)d$(t);else{let{anchor:r,head:i}=n,s,c;AC&&!(n instanceof pt)&&(n.$from.parent.inlineContent||(s=NC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=NC(t,n.to))),t.docView.setSelection(r,i,t,e),AC&&(s&&OC(s),c&&OC(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&f$(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const AC=ci||Qr&&J_<63;function NC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ci&&i&&i.contentEditable=="false")return Ug(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Ug(i);if(s)return Ug(s)}}function Ug(t){return t.contentEditable="true",ci&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function OC(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function f$(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!f4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function d$(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,zr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ti&&Xo<=11&&(n.disabled=!0,n.disabled=!1)}function d4(t,e){if(e instanceof lt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(MC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else MC(t)}function MC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Mx(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||pt.between(e,n,r)}function RC(t){return t.editable&&!t.hasFocus()?!1:h4(t)}function h4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function h$(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Kl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function B2(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Nt.findFrom(s,e)}function Lo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function IC(t,e,n){let r=t.state.selection;if(r instanceof pt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let c=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Lo(t,new pt(r.$anchor,c))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=B2(t.state,e);return i&&i instanceof lt?Lo(t,i):!1}else if(!(cs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,c;if(!s||s.isText)return!1;let f=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(c=t.docView.descAt(f))&&!c.contentDOM?lt.isSelectable(s)?Lo(t,new lt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):xd?Lo(t,new pt(t.state.doc.resolve(e<0?f:f+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof lt&&r.node.isInline)return Lo(t,new pt(e>0?r.$to:r.$from));{let i=B2(t.state,e);return i?Lo(t,i):!1}}}function B1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Hf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function eu(t,e){return e<0?p$(t):m$(t)}function p$(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,c=!1;for(fs&&n.nodeType==1&&r<B1(n)&&Hf(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let f=n.childNodes[r-1];if(Hf(f,-1))i=n,s=--r;else if(f.nodeType==3)n=f,r=n.nodeValue.length;else break}}else{if(p4(n))break;{let f=n.previousSibling;for(;f&&Hf(f,-1);)i=n.parentNode,s=zr(f),f=f.previousSibling;if(f)n=f,r=B1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}c?L2(t,n,r):i&&L2(t,i,s)}function m$(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=B1(n),s,c;for(;;)if(r<i){if(n.nodeType!=1)break;let f=n.childNodes[r];if(Hf(f,1))s=n,c=++r;else break}else{if(p4(n))break;{let f=n.nextSibling;for(;f&&Hf(f,1);)s=f.parentNode,c=zr(f)+1,f=f.nextSibling;if(f)n=f,r=0,i=B1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&L2(t,s,c)}function p4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function g$(t,e){for(;t&&e==t.childNodes.length&&!gd(t);)e=zr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function x$(t,e){for(;t&&!e&&!gd(t);)e=zr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function L2(t,e,n){if(e.nodeType!=3){let s,c;(c=g$(e,n))?(e=c,n=0):(s=x$(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(k0(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ka(t)},50)}function DC(t,e){let n=t.state.doc.resolve(e);if(!(Qr||zG)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),c=(s.top+s.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),c=(s.top+s.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function kC(t,e,n){let r=t.state.selection;if(r instanceof pt&&!r.empty||n.indexOf("s")>-1||cs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=B2(t.state,e);if(c&&c instanceof lt)return Lo(t,c)}if(!i.parent.inlineContent){let c=e<0?i:s,f=r instanceof $i?Nt.near(c,e):Nt.findFrom(c,e);return f?Lo(t,f):!1}return!1}function BC(t,e){if(!(t.state.selection instanceof pt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let c=t.state.tr;return e<0?c.delete(n.pos-s.nodeSize,n.pos):c.delete(n.pos,n.pos+s.nodeSize),t.dispatch(c),!0}return!1}function LC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function y$(t){if(!ci||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;LC(t,r,"true"),setTimeout(()=>LC(t,r,"false"),20)}return!1}function b$(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function w$(t,e){let n=e.keyCode,r=b$(e);if(n==8||cs&&n==72&&r=="c")return BC(t,-1)||eu(t,-1);if(n==46&&!e.shiftKey||cs&&n==68&&r=="c")return BC(t,1)||eu(t,1);if(n==13||n==27)return!0;if(n==37||cs&&n==66&&r=="c"){let i=n==37?DC(t,t.state.selection.from)=="ltr"?-1:1:-1;return IC(t,i,r)||eu(t,i)}else if(n==39||cs&&n==70&&r=="c"){let i=n==39?DC(t,t.state.selection.from)=="ltr"?1:-1:1;return IC(t,i,r)||eu(t,i)}else{if(n==38||cs&&n==80&&r=="c")return kC(t,-1,r)||eu(t,-1);if(n==40||cs&&n==78&&r=="c")return y$(t)||kC(t,1,r)||eu(t,1);if(r==(cs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Rx(t,e){t.someProp("transformCopied",N=>{e=N(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let N=r.firstChild;n.push(N.type.name,N.attrs!=N.type.defaultAttrs?N.attrs:null),r=N.content}let c=t.someProp("clipboardSerializer")||rc.fromSchema(t.state.schema),f=w4(),p=f.createElement("div");p.appendChild(c.serializeFragment(r,{document:f}));let m=p.firstChild,b,v=0;for(;m&&m.nodeType==1&&(b=b4[m.nodeName.toLowerCase()]);){for(let N=b.length-1;N>=0;N--){let A=f.createElement(b[N]);for(;p.firstChild;)A.appendChild(p.firstChild);p.appendChild(A),v++}m=p.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${i} ${s}${v?` -${v}`:""} ${JSON.stringify(n)}`);let _=t.someProp("clipboardTextSerializer",N=>N(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:p,text:_,slice:e}}function m4(t,e,n,r,i){let s=i.parent.type.spec.code,c,f;if(!n&&!e)return null;let p=!!e&&(r||s||!n);if(p){if(t.someProp("transformPastedText",_=>{e=_(e,s||r,t)}),s)return f=new Ge(Ie.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",_=>{f=_(f,t,!0)}),f;let v=t.someProp("clipboardTextParser",_=>_(e,i,r,t));if(v)f=v;else{let _=i.marks(),{schema:N}=t.state,A=rc.fromSchema(N);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(R=>{let I=c.appendChild(document.createElement("p"));R&&I.appendChild(A.serializeNode(N.text(R,_)))})}}else t.someProp("transformPastedHTML",v=>{n=v(n,t)}),c=S$(n),xd&&_$(c);let m=c&&c.querySelector("[data-pm-slice]"),b=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let v=+b[3];v>0;v--){let _=c.firstChild;for(;_&&_.nodeType!=1;)_=_.nextSibling;if(!_)break;c=_}if(f||(f=(t.someProp("clipboardParser")||t.someProp("domParser")||Wo.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(p||b),context:i,ruleFromNode(_){return _.nodeName=="BR"&&!_.nextSibling&&_.parentNode&&!v$.test(_.parentNode.nodeName)?{ignore:!0}:null}})),b)f=T$(PC(f,+b[1],+b[2]),b[4]);else if(f=Ge.maxOpen(C$(f.content,i),!0),f.openStart||f.openEnd){let v=0,_=0;for(let N=f.content.firstChild;v<f.openStart&&!N.type.spec.isolating;v++,N=N.firstChild);for(let N=f.content.lastChild;_<f.openEnd&&!N.type.spec.isolating;_++,N=N.lastChild);f=PC(f,v,_)}return t.someProp("transformPasted",v=>{f=v(f,t,p)}),f}const v$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function C$(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,c=[];if(t.forEach(f=>{if(!c)return;let p=i.findWrapping(f.type),m;if(!p)return c=null;if(m=c.length&&s.length&&x4(p,s,f,c[c.length-1],0))c[c.length-1]=m;else{c.length&&(c[c.length-1]=y4(c[c.length-1],s.length));let b=g4(f,p);c.push(b),i=i.matchType(b.type),s=p}}),c)return Ie.from(c)}return t}function g4(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Ie.from(t));return t}function x4(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=x4(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Ie.from(g4(n,t,i+1))))}}function y4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,y4(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Ie.empty,!0);return t.copy(n.append(r))}function P2(t,e,n,r,i,s){let c=e<0?t.firstChild:t.lastChild,f=c.content;return t.childCount>1&&(s=0),i<r-1&&(f=P2(f,e,n,r,i+1,s)),i>=n&&(f=e<0?c.contentMatchAt(0).fillBefore(f,s<=i).append(f):f.append(c.contentMatchAt(c.childCount).fillBefore(Ie.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(f))}function PC(t,e,n){return e<t.openStart&&(t=new Ge(P2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ge(P2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const b4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jC=null;function w4(){return jC||(jC=document.implementation.createHTMLDocument("title"))}let Hg=null;function E$(t){let e=window.trustedTypes;return e?(Hg||(Hg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Hg.createHTML(t)):t}function S$(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=w4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&b4[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=E$(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function _$(t){let e=t.querySelectorAll(Qr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function T$(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:c}=t;for(let f=r.length-2;f>=0;f-=2){let p=n.nodes[r[f]];if(!p||p.hasRequiredAttrs())break;i=Ie.from(p.create(r[f+1],i)),s++,c++}return new Ge(i,s,c)}const ui={},fi={},A$={touchstart:!0,touchmove:!0};class N${constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function O$(t){for(let e in ui){let n=ui[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{R$(t,r)&&!Ix(t,r)&&(t.editable||!(r.type in fi))&&n(t,r)},A$[e]?{passive:!0}:void 0)}ci&&t.dom.addEventListener("input",()=>null),j2(t)}function $o(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function M$(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function j2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Ix(t,r))})}function Ix(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function R$(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function I$(t,e){!Ix(t,e)&&ui[e.type]&&(t.editable||!(e.type in fi))&&ui[e.type](t,e)}fi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!C4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Xa&&Qr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),mu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Dl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||w$(t,n)?n.preventDefault():$o(t,"key")};fi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};fi.keypress=(t,e)=>{let n=e;if(C4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||cs&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof pt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",c=>c(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function L0(t){return{left:t.clientX,top:t.clientY}}function D$(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Dx(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let c=s.depth+1;c>0;c--)if(t.someProp(e,f=>c>s.depth?f(t,n,s.nodeAfter,s.before(c),i,!0):f(t,n,s.node(c),s.before(c),i,!1)))return!0;return!1}function du(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function k$(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&lt.isSelectable(r)?(du(t,new lt(n)),!0):!1}function B$(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof lt&&(r=n.node);let s=t.state.doc.resolve(e);for(let c=s.depth+1;c>0;c--){let f=c>s.depth?s.nodeAfter:s.node(c);if(lt.isSelectable(f)){r&&n.$from.depth>0&&c>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(c);break}}return i!=null?(du(t,lt.create(t.state.doc,i)),!0):!1}function L$(t,e,n,r,i){return Dx(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?B$(t,n):k$(t,n))}function P$(t,e,n,r){return Dx(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function j$(t,e,n,r){return Dx(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||z$(t,n,r)}function z$(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(du(t,pt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let c=s>i.depth?i.nodeAfter:i.node(s),f=i.before(s);if(c.inlineContent)du(t,pt.create(r,f+1,f+1+c.content.size));else if(lt.isSelectable(c))du(t,lt.create(r,f));else continue;return!0}}function kx(t){return L1(t)}const v4=cs?"metaKey":"ctrlKey";ui.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=kx(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&D$(n,t.input.lastClick)&&!n[v4]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let c=t.posAtCoords(L0(n));c&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new F$(t,c,n,!!r)):(s=="doubleClick"?P$:j$)(t,c.pos,c.inside,n)?n.preventDefault():$o(t,"pointer"))};class F${constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[v4],this.allowDefault=r.shiftKey;let s,c;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),c=n.inside;else{let b=e.state.doc.resolve(n.pos);s=b.parent,c=b.depth?b.before():0}const f=i?null:r.target,p=f?e.docView.nearestDesc(f,!0):null;this.target=p&&p.nodeDOM.nodeType==1?p.nodeDOM:null;let{selection:m}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||m instanceof lt&&m.from<=c&&m.to>c)&&(this.mightDrag={node:s,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),$o(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ka(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(L0(e))),this.updateAllowDefault(e),this.allowDefault||!n?$o(this.view,"pointer"):L$(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ci&&this.mightDrag&&!this.mightDrag.node.isAtom||Qr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(du(this.view,Nt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):$o(this.view,"pointer")}move(e){this.updateAllowDefault(e),$o(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ui.touchstart=t=>{t.input.lastTouch=Date.now(),kx(t),$o(t,"pointer")};ui.touchmove=t=>{t.input.lastTouch=Date.now(),$o(t,"pointer")};ui.contextmenu=t=>kx(t);function C4(t,e){return t.composing?!0:ci&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const U$=Xa?5e3:-1;fi.compositionstart=fi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof pt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),L1(t,!0),t.markCursor=null;else if(L1(t,!e.selection.empty),fs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let c=s<0?i.lastChild:i.childNodes[s-1];if(!c)break;if(c.nodeType==3){let f=t.domSelection();f&&f.collapse(c,c.nodeValue.length);break}else i=c,s=-1}}t.input.composing=!0}E4(t,U$)};fi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,E4(t,20))};function E4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>L1(t),e))}function S4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=V$());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function H$(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=kG(e.focusNode,e.focusOffset),r=BG(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function V$(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function L1(t,e=!1){if(!(Xa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),S4(t),e||t.docView&&t.docView.dirty){let n=Ox(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function G$(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const nd=Ti&&Xo<15||mu&&FG<604;ui.copy=fi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=nd?null:n.clipboardData,c=r.content(),{dom:f,text:p}=Rx(t,c);s?(n.preventDefault(),s.clearData(),s.setData("text/html",f.innerHTML),s.setData("text/plain",p)):G$(t,f),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function $$(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function q$(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?rd(t,r.value,null,i,e):rd(t,r.textContent,r.innerHTML,i,e)},50)}function rd(t,e,n,r,i){let s=m4(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",p=>p(t,i,s||Ge.empty)))return!0;if(!s)return!1;let c=$$(s),f=c?t.state.tr.replaceSelectionWith(c,r):t.state.tr.replaceSelection(s);return t.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _4(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}fi.paste=(t,e)=>{let n=e;if(t.composing&&!Xa)return;let r=nd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&rd(t,_4(r),r.getData("text/html"),i,n)?n.preventDefault():q$(t,n)};class T4{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const W$=cs?"altKey":"ctrlKey";function A4(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[W$]}ui.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(L0(n)),c;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof lt?i.to-1:i.to))){if(r&&r.mightDrag)c=lt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let v=t.docView.nearestDesc(n.target,!0);v&&v.node.type.spec.draggable&&v!=t.docView&&(c=lt.create(t.state.doc,v.posBefore))}}let f=(c||t.state.selection).content(),{dom:p,text:m,slice:b}=Rx(t,f);(!n.dataTransfer.files.length||!Qr||J_>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(nd?"Text":"text/html",p.innerHTML),n.dataTransfer.effectAllowed="copyMove",nd||n.dataTransfer.setData("text/plain",m),t.dragging=new T4(b,A4(t,n),c)};ui.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};fi.dragover=fi.dragenter=(t,e)=>e.preventDefault();fi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(L0(n));if(!i)return;let s=t.state.doc.resolve(i.pos),c=r&&r.slice;c?t.someProp("transformPasted",A=>{c=A(c,t,!1)}):c=m4(t,_4(n.dataTransfer),nd?null:n.dataTransfer.getData("text/html"),!1,s);let f=!!(r&&A4(t,n));if(t.someProp("handleDrop",A=>A(t,n,c||Ge.empty,f))){n.preventDefault();return}if(!c)return;n.preventDefault();let p=c?G_(t.state.doc,s.pos,c):s.pos;p==null&&(p=s.pos);let m=t.state.tr;if(f){let{node:A}=r;A?A.replace(m):m.deleteSelection()}let b=m.mapping.map(p),v=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,_=m.doc;if(v?m.replaceRangeWith(b,b,c.content.firstChild):m.replaceRange(b,b,c),m.doc.eq(_))return;let N=m.doc.resolve(b);if(v&&lt.isSelectable(c.content.firstChild)&&N.nodeAfter&&N.nodeAfter.sameMarkup(c.content.firstChild))m.setSelection(new lt(N));else{let A=m.mapping.map(p);m.mapping.maps[m.mapping.maps.length-1].forEach((R,I,k,U)=>A=U),m.setSelection(Mx(t,N,m.doc.resolve(A)))}t.focus(),t.dispatch(m.setMeta("uiEvent","drop"))};ui.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ka(t)},20))};ui.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ui.beforeinput=(t,e)=>{if(Qr&&Xa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Dl(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in fi)ui[t]=fi[t];function id(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class P1{constructor(e,n){this.toDOM=e,this.spec=n||Vl,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:c}=e.mapResult(n.from+i,this.side<0?-1:1);return c?null:new li(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof P1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&id(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ko{constructor(e,n){this.attrs=e,this.spec=n||Vl}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,c=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=c?null:new li(s,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ko&&id(this.attrs,e.attrs)&&id(this.spec,e.spec)}static is(e){return e.type instanceof Ko}destroy(){}}class Bx{constructor(e,n){this.attrs=e,this.spec=n||Vl}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let c=e.mapResult(n.to+i,-1);return c.deleted||c.pos<=s.pos?null:new li(s.pos-r,c.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Bx&&id(this.attrs,e.attrs)&&id(this.spec,e.spec)}destroy(){}}class li{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new li(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new li(e,e,new P1(n,r))}static inline(e,n,r,i){return new li(e,n,new Ko(r,i))}static node(e,n,r,i){return new li(e,n,new Bx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ko}get widget(){return this.type instanceof P1}}const iu=[],Vl={};class Fn{constructor(e,n){this.local=e.length?e:iu,this.children=n.length?n:iu}static create(e,n){return n.length?j1(n,e,0,Vl):Kr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let c=0;c<this.local.length;c++){let f=this.local[c];f.from<=n&&f.to>=e&&(!s||s(f.spec))&&r.push(f.copy(f.from+i,f.to+i))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let f=this.children[c]+1;this.children[c+2].findInner(e-f,n-f,r,i+f,s)}}map(e,n,r){return this==Kr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Vl)}mapInner(e,n,r,i,s){let c;for(let f=0;f<this.local.length;f++){let p=this.local[f].map(e,r,i);p&&p.type.valid(n,p)?(c||(c=[])).push(p):s.onRemove&&s.onRemove(this.local[f].spec)}return this.children.length?X$(this.children,c||[],e,n,r,i,s):c?new Fn(c.sort(Gl),iu):Kr}add(e,n){return n.length?this==Kr?Fn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((f,p)=>{let m=p+r,b;if(b=O4(n,f,m)){for(i||(i=this.children.slice());s<i.length&&i[s]<p;)s+=3;i[s]==p?i[s+2]=i[s+2].addInner(f,b,m+1):i.splice(s,0,p,p+f.nodeSize,j1(b,f,m+1,Vl)),s+=3}});let c=N4(s?M4(n):n,-r);for(let f=0;f<c.length;f++)c[f].type.valid(e,c[f])||c.splice(f--,1);return new Fn(c.length?this.local.concat(c).sort(Gl):this.local,i||this.children)}remove(e){return e.length==0||this==Kr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let c,f=r[s]+n,p=r[s+1]+n;for(let b=0,v;b<e.length;b++)(v=e[b])&&v.from>f&&v.to<p&&(e[b]=null,(c||(c=[])).push(v));if(!c)continue;r==this.children&&(r=this.children.slice());let m=r[s+2].removeInner(c,f+1);m!=Kr?r[s+2]=m:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,c;s<e.length;s++)if(c=e[s])for(let f=0;f<i.length;f++)i[f].eq(c,n)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Fn(i,r):Kr}forChild(e,n){if(this==Kr)return this;if(n.isLeaf)return Fn.empty;let r,i;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let s=e+1,c=s+n.content.size;for(let f=0;f<this.local.length;f++){let p=this.local[f];if(p.from<c&&p.to>s&&p.type instanceof Ko){let m=Math.max(s,p.from)-s,b=Math.min(c,p.to)-s;m<b&&(i||(i=[])).push(p.copy(m,b))}}if(i){let f=new Fn(i.sort(Gl),iu);return r?new Fo([f,r]):f}return r||Kr}eq(e){if(this==e)return!0;if(!(e instanceof Fn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Lx(this.localsInner(e))}localsInner(e){if(this==Kr)return iu;if(e.inlineContent||!this.local.some(Ko.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ko||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Fn.empty=new Fn([],[]);Fn.removeOverlap=Lx;const Kr=Fn.empty;class Fo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Vl));return Fo.from(r)}forChild(e,n){if(n.isLeaf)return Fn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Kr&&(s instanceof Fo?r=r.concat(s.members):r.push(s))}return Fo.from(r)}eq(e){if(!(e instanceof Fo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let c=0;c<s.length;c++)n.push(s[c])}}return n?Lx(r?n:n.sort(Gl)):iu}static from(e){switch(e.length){case 0:return Kr;case 1:return e[0];default:return new Fo(e.every(n=>n instanceof Fn)?e:e.reduce((n,r)=>n.concat(r instanceof Fn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function X$(t,e,n,r,i,s,c){let f=t.slice();for(let m=0,b=s;m<n.maps.length;m++){let v=0;n.maps[m].forEach((_,N,A,R)=>{let I=R-A-(N-_);for(let k=0;k<f.length;k+=3){let U=f[k+1];if(U<0||_>U+b-v)continue;let j=f[k]+b-v;N>=j?f[k+1]=_<=j?-2:-1:_>=b&&I&&(f[k]+=I,f[k+1]+=I)}v+=I}),b=n.maps[m].map(b,-1)}let p=!1;for(let m=0;m<f.length;m+=3)if(f[m+1]<0){if(f[m+1]==-2){p=!0,f[m+1]=-1;continue}let b=n.map(t[m]+s),v=b-i;if(v<0||v>=r.content.size){p=!0;continue}let _=n.map(t[m+1]+s,-1),N=_-i,{index:A,offset:R}=r.content.findIndex(v),I=r.maybeChild(A);if(I&&R==v&&R+I.nodeSize==N){let k=f[m+2].mapInner(n,I,b+1,t[m]+s+1,c);k!=Kr?(f[m]=v,f[m+1]=N,f[m+2]=k):(f[m+1]=-2,p=!0)}else p=!0}if(p){let m=Y$(f,t,e,n,i,s,c),b=j1(m,r,0,c);e=b.local;for(let v=0;v<f.length;v+=3)f[v+1]<0&&(f.splice(v,3),v-=3);for(let v=0,_=0;v<b.children.length;v+=3){let N=b.children[v];for(;_<f.length&&f[_]<N;)_+=3;f.splice(_,0,b.children[v],b.children[v+1],b.children[v+2])}}return new Fn(e.sort(Gl),f)}function N4(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new li(i.from+e,i.to+e,i.type))}return n}function Y$(t,e,n,r,i,s,c){function f(p,m){for(let b=0;b<p.local.length;b++){let v=p.local[b].map(r,i,m);v?n.push(v):c.onRemove&&c.onRemove(p.local[b].spec)}for(let b=0;b<p.children.length;b+=3)f(p.children[b+2],p.children[b]+m+1)}for(let p=0;p<t.length;p+=3)t[p+1]==-1&&f(t[p+2],e[p]+s+1);return n}function O4(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,c;s<t.length;s++)(c=t[s])&&c.from>n&&c.to<r&&((i||(i=[])).push(c),t[s]=null);return i}function M4(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function j1(t,e,n,r){let i=[],s=!1;e.forEach((f,p)=>{let m=O4(t,f,p+n);if(m){s=!0;let b=j1(m,f,n+p+1,r);b!=Kr&&i.push(p,p+f.nodeSize,b)}});let c=N4(s?M4(t):t,-n).sort(Gl);for(let f=0;f<c.length;f++)c[f].type.valid(e,c[f])||(r.onRemove&&r.onRemove(c[f].spec),c.splice(f--,1));return c.length||i.length?new Fn(c,i):Kr}function Gl(t,e){return t.from-e.from||t.to-e.to}function Lx(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),zC(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),zC(e,i,r.copy(s.from,r.to)));break}}}return e}function zC(t,e,n){for(;e<t.length&&Gl(n,t[e])>0;)e++;t.splice(e,0,n)}function Vg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Kr&&e.push(r)}),t.cursorWrapper&&e.push(Fn.create(t.state.doc,[t.cursorWrapper.deco])),Fo.from(e)}const K$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Z$=Ti&&Xo<=11;class Q${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class J${constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Q$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ti&&Xo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Z$&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,K$)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RC(this.view)){if(this.suppressingSelectionUpdates)return Ka(this.view);if(Ti&&Xo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Kl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=pu(s))n.add(s);for(let s=e.anchorNode;s;s=pu(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&RC(e)&&!this.ignoreSelectionChange(r),s=-1,c=-1,f=!1,p=[];if(e.editable)for(let b=0;b<n.length;b++){let v=this.registerMutation(n[b],p);v&&(s=s<0?v.from:Math.min(v.from,s),c=c<0?v.to:Math.max(v.to,c),v.typeOver&&(f=!0))}if(fs&&p.length){let b=p.filter(v=>v.nodeName=="BR");if(b.length==2){let[v,_]=b;v.parentNode&&v.parentNode.parentNode==_.parentNode?_.remove():v.remove()}else{let{focusNode:v}=this.currentSelection;for(let _ of b){let N=_.parentNode;N&&N.nodeName=="LI"&&(!v||nq(e,v)!=N)&&_.remove()}}}let m=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&k0(r)&&(m=Ox(e))&&m.eq(Nt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ka(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,c),eq(e)),this.handleDOMChange(s,c,f,p),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ka(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let b=0;b<e.addedNodes.length;b++){let v=e.addedNodes[b];n.push(v),v.nodeType==3&&(this.lastChangedTextNode=v)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ti&&Xo<=11&&e.addedNodes.length)for(let b=0;b<e.addedNodes.length;b++){let{previousSibling:v,nextSibling:_}=e.addedNodes[b];(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(i=v),(!_||Array.prototype.indexOf.call(e.addedNodes,_)<0)&&(s=_)}let c=i&&i.parentNode==e.target?zr(i)+1:0,f=r.localPosFromDOM(e.target,c,-1),p=s&&s.parentNode==e.target?zr(s):e.target.childNodes.length,m=r.localPosFromDOM(e.target,p,1);return{from:f,to:m}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let FC=new WeakMap,UC=!1;function eq(t){if(!FC.has(t)&&(FC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fs,UC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),UC=!0}}function HC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Kl(c.node,c.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function tq(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return HC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?HC(t,n):null}function nq(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function rq(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:c,to:f}=t.docView.parseRange(e,n),p=t.domSelectionRange(),m,b=p.anchorNode;if(b&&t.dom.contains(b.nodeType==1?b:b.parentNode)&&(m=[{node:b,offset:p.anchorOffset}],k0(p)||m.push({node:p.focusNode,offset:p.focusOffset})),Qr&&t.input.lastKeyCode===8)for(let I=s;I>i;I--){let k=r.childNodes[I-1],U=k.pmViewDesc;if(k.nodeName=="BR"&&!U){s=I;break}if(!U||U.size)break}let v=t.state.doc,_=t.someProp("domParser")||Wo.fromSchema(t.state.schema),N=v.resolve(c),A=null,R=_.parse(r,{topNode:N.parent,topMatch:N.parent.contentMatchAt(N.index()),topOpen:!0,from:i,to:s,preserveWhitespace:N.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:iq,context:N});if(m&&m[0].pos!=null){let I=m[0].pos,k=m[1]&&m[1].pos;k==null&&(k=I),A={anchor:I+c,head:k+c}}return{doc:R,sel:A,from:c,to:f}}function iq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ci&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ci&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function aq(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let Y=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,se=Ox(t,Y);if(se&&!t.state.selection.eq(se)){if(Qr&&Xa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",be=>be(t,Dl(13,"Enter"))))return;let K=t.state.tr.setSelection(se);Y=="pointer"?K.setMeta("pointer",!0):Y=="key"&&K.scrollIntoView(),s&&K.setMeta("composition",s),t.dispatch(K)}return}let c=t.state.doc.resolve(e),f=c.sharedDepth(n);e=c.before(f+1),n=t.state.doc.resolve(n).after(f+1);let p=t.state.selection,m=rq(t,e,n),b=t.state.doc,v=b.slice(m.from,m.to),_,N;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(_=t.state.selection.to,N="end"):(_=t.state.selection.from,N="start"),t.input.lastKeyCode=null;let A=cq(v.content,m.doc.content,m.from,_,N);if(A&&t.input.domChangeCount++,(mu&&t.input.lastIOSEnter>Date.now()-225||Xa)&&i.some(Y=>Y.nodeType==1&&!sq.test(Y.nodeName))&&(!A||A.endA>=A.endB)&&t.someProp("handleKeyDown",Y=>Y(t,Dl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!A)if(r&&p instanceof pt&&!p.empty&&p.$head.sameParent(p.$anchor)&&!t.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))A={start:p.from,endA:p.to,endB:p.to};else{if(m.sel){let Y=VC(t,t.state.doc,m.sel);if(Y&&!Y.eq(t.state.selection)){let se=t.state.tr.setSelection(Y);s&&se.setMeta("composition",s),t.dispatch(se)}}return}t.state.selection.from<t.state.selection.to&&A.start==A.endB&&t.state.selection instanceof pt&&(A.start>t.state.selection.from&&A.start<=t.state.selection.from+2&&t.state.selection.from>=m.from?A.start=t.state.selection.from:A.endA<t.state.selection.to&&A.endA>=t.state.selection.to-2&&t.state.selection.to<=m.to&&(A.endB+=t.state.selection.to-A.endA,A.endA=t.state.selection.to)),Ti&&Xo<=11&&A.endB==A.start+1&&A.endA==A.start&&A.start>m.from&&m.doc.textBetween(A.start-m.from-1,A.start-m.from+1)==" "&&(A.start--,A.endA--,A.endB--);let R=m.doc.resolveNoCache(A.start-m.from),I=m.doc.resolveNoCache(A.endB-m.from),k=b.resolve(A.start),U=R.sameParent(I)&&R.parent.inlineContent&&k.end()>=A.endA;if((mu&&t.input.lastIOSEnter>Date.now()-225&&(!U||i.some(Y=>Y.nodeName=="DIV"||Y.nodeName=="P"))||!U&&R.pos<m.doc.content.size&&(!R.sameParent(I)||!R.parent.inlineContent)&&R.pos<I.pos&&!/\S/.test(m.doc.textBetween(R.pos,I.pos,"","")))&&t.someProp("handleKeyDown",Y=>Y(t,Dl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>A.start&&lq(b,A.start,A.endA,R,I)&&t.someProp("handleKeyDown",Y=>Y(t,Dl(8,"Backspace")))){Xa&&Qr&&t.domObserver.suppressSelectionUpdates();return}Qr&&A.endB==A.start&&(t.input.lastChromeDelete=Date.now()),Xa&&!U&&R.start()!=I.start()&&I.parentOffset==0&&R.depth==I.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==A.endA&&(A.endB-=2,I=m.doc.resolveNoCache(A.endB-m.from),setTimeout(()=>{t.someProp("handleKeyDown",function(Y){return Y(t,Dl(13,"Enter"))})},20));let j=A.start,W=A.endA,X=Y=>{let se=Y||t.state.tr.replace(j,W,m.doc.slice(A.start-m.from,A.endB-m.from));if(m.sel){let K=VC(t,se.doc,m.sel);K&&!(Qr&&t.composing&&K.empty&&(A.start!=A.endB||t.input.lastChromeDelete<Date.now()-100)&&(K.head==j||K.head==se.mapping.map(W)-1)||Ti&&K.empty&&K.head==j)&&se.setSelection(K)}return s&&se.setMeta("composition",s),se.scrollIntoView()},V;if(U){if(R.pos==I.pos){Ti&&Xo<=11&&R.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ka(t),20));let Y=X(t.state.tr.delete(j,W)),se=b.resolve(A.start).marksAcross(b.resolve(A.endA));se&&Y.ensureMarks(se),t.dispatch(Y)}else if(A.endA==A.endB&&(V=oq(R.parent.content.cut(R.parentOffset,I.parentOffset),k.parent.content.cut(k.parentOffset,A.endA-k.start())))){let Y=X(t.state.tr);V.type=="add"?Y.addMark(j,W,V.mark):Y.removeMark(j,W,V.mark),t.dispatch(Y)}else if(R.parent.child(R.index()).isText&&R.index()==I.index()-(I.textOffset?0:1)){let Y=R.parent.textBetween(R.parentOffset,I.parentOffset),se=()=>X(t.state.tr.insertText(Y,j,W));t.someProp("handleTextInput",K=>K(t,j,W,Y,se))||t.dispatch(se())}}else t.dispatch(X())}function VC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Mx(t,e.resolve(n.anchor),e.resolve(n.head))}function oq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,c,f,p;for(let b=0;b<r.length;b++)i=r[b].removeFromSet(i);for(let b=0;b<n.length;b++)s=n[b].removeFromSet(s);if(i.length==1&&s.length==0)f=i[0],c="add",p=b=>b.mark(f.addToSet(b.marks));else if(i.length==0&&s.length==1)f=s[0],c="remove",p=b=>b.mark(f.removeFromSet(b.marks));else return null;let m=[];for(let b=0;b<e.childCount;b++)m.push(p(e.child(b)));if(Ie.from(m).eq(t))return{mark:f,type:c}}function lq(t,e,n,r,i){if(n-e<=i.pos-r.pos||Gg(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let f=s.nodeAfter;return f!=null&&n==e+f.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let c=t.resolve(Gg(s,!0,!0));return!c.parent.isTextblock||c.pos>n||Gg(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function Gg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function cq(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:c,b:f}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let p=Math.max(0,s-Math.min(c,f));r-=c+p-s}if(c<s&&t.size<e.size){let p=r<=s&&r>=c?s-r:0;s-=p,s&&s<e.size&&GC(e.textBetween(s-1,s+1))&&(s+=p?1:-1),f=s+(f-c),c=s}else if(f<s){let p=r<=s&&r>=f?s-r:0;s-=p,s&&s<t.size&&GC(t.textBetween(s-1,s+1))&&(s+=p?1:-1),c=s+(c-f),f=s}return{start:s,endA:c,endB:f}}function GC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class R4{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new N$,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(YC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WC(this),qC(this),this.nodeViews=XC(this),this.docView=_C(this.state.doc,$C(this),Vg(this),this.dom,this),this.domObserver=new J$(this,(r,i,s,c)=>aq(this,r,i,s,c)),this.domObserver.start(),O$(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&j2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(YC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,c=!1;e.storedMarks&&this.composing&&(S4(this),c=!0),this.state=e;let f=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(f||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let N=XC(this);fq(N,this.nodeViews)&&(this.nodeViews=N,s=!0)}(f||n.handleDOMEvents!=this._props.handleDOMEvents)&&j2(this),this.editable=WC(this),qC(this);let p=Vg(this),m=$C(this),b=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",v=s||!this.docView.matchesNode(e.doc,m,p);(v||!e.selection.eq(i.selection))&&(c=!0);let _=b=="preserve"&&c&&this.dom.style.overflowAnchor==null&&VG(this);if(c){this.domObserver.stop();let N=v&&(Ti||Qr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&uq(i.selection,e.selection);if(v){let A=Qr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=H$(this)),(s||!this.docView.update(e.doc,m,p,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=_C(e.doc,m,p,this.dom,this)),A&&!this.trackWrites&&(N=!0)}N||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&h$(this))?Ka(this,N):(d4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():_&&GG(_)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof lt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&bC(this,n.getBoundingClientRect(),e)}else bC(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new T4(e.slice,e.move,i<0?void 0:lt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let c=0;c<this.directPlugins.length;c++){let f=this.directPlugins[c].props[e];if(f!=null&&(i=n?n(f):f))return i}let s=this.state.plugins;if(s)for(let c=0;c<s.length;c++){let f=s[c].props[e];if(f!=null&&(i=n?n(f):f))return i}}hasFocus(){if(Ti){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$G(this.dom),Ka(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return KG(this,e)}coordsAtPos(e,n=1){return i4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return t$(this,n||this.state,e)}pasteHTML(e,n){return rd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return rd(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Rx(this,e)}destroy(){this.docView&&(M$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Vg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,IG())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return I$(this,e)}domSelectionRange(){let e=this.domSelection();return e?ci&&this.root.nodeType===11&&PG(this.dom.ownerDocument)==this.dom&&tq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}R4.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function $C(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[li.node(0,t.state.doc.content.size,e)]}function qC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:li.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function WC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function uq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function XC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function fq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function YC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},z1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dq=typeof navigator<"u"&&/Mac/.test(navigator.platform),hq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fr=0;Fr<10;Fr++)Qo[48+Fr]=Qo[96+Fr]=String(Fr);for(var Fr=1;Fr<=24;Fr++)Qo[Fr+111]="F"+Fr;for(var Fr=65;Fr<=90;Fr++)Qo[Fr]=String.fromCharCode(Fr+32),z1[Fr]=String.fromCharCode(Fr);for(var $g in Qo)z1.hasOwnProperty($g)||(z1[$g]=Qo[$g]);function pq(t){var e=dq&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||hq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?z1:Qo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const mq=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),gq=typeof navigator<"u"&&/Win/.test(navigator.platform);function xq(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,c;for(let f=0;f<e.length-1;f++){let p=e[f];if(/^(cmd|meta|m)$/i.test(p))c=!0;else if(/^a(lt)?$/i.test(p))r=!0;else if(/^(c|ctrl|control)$/i.test(p))i=!0;else if(/^s(hift)?$/i.test(p))s=!0;else if(/^mod$/i.test(p))mq?c=!0:i=!0;else throw new Error("Unrecognized modifier name: "+p)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),c&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function yq(t){let e=Object.create(null);for(let n in t)e[xq(n)]=t[n];return e}function qg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function bq(t){return new Yn({props:{handleKeyDown:I4(t)}})}function I4(t){let e=yq(t);return function(n,r){let i=pq(r),s,c=e[qg(i,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let f=e[qg(i,r,!1)];if(f&&f(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(gq&&r.ctrlKey&&r.altKey)&&(s=Qo[r.keyCode])&&s!=i){let f=e[qg(s,r)];if(f&&f(n.state,n.dispatch,n))return!0}}return!1}}const Px=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function D4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const k4=(t,e,n)=>{let r=D4(t,n);if(!r)return!1;let i=jx(r);if(!i){let c=r.blockRange(),f=c&&Su(c);return f==null?!1:(e&&e(t.tr.lift(c,f).scrollIntoView()),!0)}let s=i.nodeBefore;if(V4(t,i,e,-1))return!0;if(r.parent.content.size==0&&(gu(s,"end")||lt.isSelectable(s)))for(let c=r.depth;;c--){let f=I0(t.doc,r.before(c),r.after(c),Ge.empty);if(f&&f.slice.size<f.to-f.from){if(e){let p=t.tr.step(f);p.setSelection(gu(s,"end")?Nt.findFrom(p.doc.resolve(p.mapping.map(i.pos,-1)),-1):lt.create(p.doc,i.pos-s.nodeSize)),e(p.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},wq=(t,e,n)=>{let r=D4(t,n);if(!r)return!1;let i=jx(r);return i?B4(t,i,e):!1},vq=(t,e,n)=>{let r=P4(t,n);if(!r)return!1;let i=zx(r);return i?B4(t,i,e):!1};function B4(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let b=i.lastChild;if(!b)return!1;i=b}let c=e.nodeAfter,f=c,p=e.pos+1;for(;!f.isTextblock;p++){if(f.type.spec.isolating)return!1;let b=f.firstChild;if(!b)return!1;f=b}let m=I0(t.doc,s,p,Ge.empty);if(!m||m.from!=s||m instanceof Ar&&m.slice.size>=p-s)return!1;if(n){let b=t.tr.step(m);b.setSelection(pt.create(b.doc,s)),n(b.scrollIntoView())}return!0}function gu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const L4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=jx(r)}let c=s&&s.nodeBefore;return!c||!lt.isSelectable(c)?!1:(e&&e(t.tr.setSelection(lt.create(t.doc,s.pos-c.nodeSize)).scrollIntoView()),!0)};function jx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function P4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const j4=(t,e,n)=>{let r=P4(t,n);if(!r)return!1;let i=zx(r);if(!i)return!1;let s=i.nodeAfter;if(V4(t,i,e,1))return!0;if(r.parent.content.size==0&&(gu(s,"start")||lt.isSelectable(s))){let c=I0(t.doc,r.before(),r.after(),Ge.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=t.tr.step(c);f.setSelection(gu(s,"start")?Nt.findFrom(f.doc.resolve(f.mapping.map(i.pos)),1):lt.create(f.doc,f.mapping.map(i.pos))),e(f.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},z4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=zx(r)}let c=s&&s.nodeAfter;return!c||!lt.isSelectable(c)?!1:(e&&e(t.tr.setSelection(lt.create(t.doc,s.pos)).scrollIntoView()),!0)};function zx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Cq=(t,e)=>{let n=t.selection,r=n instanceof lt,i;if(r){if(n.node.isTextblock||!tl(t.doc,n.from))return!1;i=n.from}else if(i=R0(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(lt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Eq=(t,e)=>{let n=t.selection,r;if(n instanceof lt){if(n.node.isTextblock||!tl(t.doc,n.to))return!1;r=n.to}else if(r=R0(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Sq=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Su(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},F4=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Fx(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const _q=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),c=Fx(i.contentMatchAt(s));if(!c||!i.canReplaceWith(s,s,c))return!1;if(e){let f=n.after(),p=t.tr.replaceWith(f,f,c.createAndFill());p.setSelection(Nt.near(p.doc.resolve(f),1)),e(p.scrollIntoView())}return!0},U4=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof $i||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Fx(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let c=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,f=t.tr.insert(c,s.createAndFill());f.setSelection(pt.create(f.doc,c+1)),e(f.scrollIntoView())}return!0},H4=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ya(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Su(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Tq(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof lt&&e.selection.node.isBlock)return!r.parentOffset||!Ya(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],c,f,p=!1,m=!1;for(let N=r.depth;;N--)if(r.node(N).isBlock){p=r.end(N)==r.pos+(r.depth-N),m=r.start(N)==r.pos-(r.depth-N),f=Fx(r.node(N-1).contentMatchAt(r.indexAfter(N-1))),s.unshift(p&&f?{type:f}:null),c=N;break}else{if(N==1)return!1;s.unshift(null)}let b=e.tr;(e.selection instanceof pt||e.selection instanceof $i)&&b.deleteSelection();let v=b.mapping.map(r.pos),_=Ya(b.doc,v,s.length,s);if(_||(s[0]=f?{type:f}:null,_=Ya(b.doc,v,s.length,s)),!_)return!1;if(b.split(v,s.length,s),!p&&m&&r.node(c).type!=f){let N=b.mapping.map(r.before(c)),A=b.doc.resolve(N);f&&r.node(c-1).canReplaceWith(A.index(),A.index()+1,f)&&b.setNodeMarkup(b.mapping.map(r.before(c)),f)}return n&&n(b.scrollIntoView()),!0}}const Aq=Tq(),Nq=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(lt.create(t.doc,i))),!0)};function Oq(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||tl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function V4(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,c,f,p=i.type.spec.isolating||s.type.spec.isolating;if(!p&&Oq(t,e,n))return!0;let m=!p&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(c=(f=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&f.matchType(c[0]||s.type).validEnd){if(n){let N=e.pos+s.nodeSize,A=Ie.empty;for(let k=c.length-1;k>=0;k--)A=Ie.from(c[k].create(null,A));A=Ie.from(i.copy(A));let R=t.tr.step(new Nr(e.pos-1,N,e.pos,N,new Ge(A,1,0),c.length,!0)),I=R.doc.resolve(N+2*c.length);I.nodeAfter&&I.nodeAfter.type==i.type&&tl(R.doc,I.pos)&&R.join(I.pos),n(R.scrollIntoView())}return!0}let b=s.type.spec.isolating||r>0&&p?null:Nt.findFrom(e,1),v=b&&b.$from.blockRange(b.$to),_=v&&Su(v);if(_!=null&&_>=e.depth)return n&&n(t.tr.lift(v,_).scrollIntoView()),!0;if(m&&gu(s,"start",!0)&&gu(i,"end")){let N=i,A=[];for(;A.push(N),!N.isTextblock;)N=N.lastChild;let R=s,I=1;for(;!R.isTextblock;R=R.firstChild)I++;if(N.canReplace(N.childCount,N.childCount,R.content)){if(n){let k=Ie.empty;for(let j=A.length-1;j>=0;j--)k=Ie.from(A[j].copy(k));let U=t.tr.step(new Nr(e.pos-A.length,e.pos+s.nodeSize,e.pos+I,e.pos+s.nodeSize-I,new Ge(k,A.length,0),0,!0));n(U.scrollIntoView())}return!0}}return!1}function G4(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(pt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Mq=G4(-1),Rq=G4(1);function Iq(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,c=i.blockRange(s),f=c&&Tx(c,t,e);return f?(r&&r(n.tr.wrap(c,f).scrollIntoView()),!0):!1}}function KC(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[s];n.doc.nodesBetween(c,f,(p,m)=>{if(i)return!1;if(!(!p.isTextblock||p.hasMarkup(t,e)))if(p.type==t)i=!0;else{let b=n.doc.resolve(m),v=b.index();i=b.parent.canReplaceWith(v,v+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:f},$to:{pos:p}}=n.selection.ranges[c];s.setBlockType(f,p,t,e)}r(s.scrollIntoView())}return!0}}function Ux(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Ux(Px,k4,L4);Ux(Px,j4,z4);Ux(F4,U4,H4,Aq);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Dq(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,c=i.blockRange(s);if(!c)return!1;let f=r?n.tr:null;return kq(f,c,t,e)?(r&&r(f.scrollIntoView()),!0):!1}}function kq(t,e,n,r=null){let i=!1,s=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let p=c.resolve(e.start-2);s=new I1(p,p,e.depth),e.endIndex<e.parent.childCount&&(e=new I1(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let f=Tx(s,n,r,e);return f?(t&&Bq(t,e,f,i,n),!0):!1}function Bq(t,e,n,r,i){let s=Ie.empty;for(let b=n.length-1;b>=0;b--)s=Ie.from(n[b].type.create(n[b].attrs,s));t.step(new Nr(e.start-(r?2:0),e.end,e.start,e.end,new Ge(s,0,0),n.length,!0));let c=0;for(let b=0;b<n.length;b++)n[b].type==i&&(c=b+1);let f=n.length-c,p=e.start+n.length-(r?2:0),m=e.parent;for(let b=e.startIndex,v=e.endIndex,_=!0;b<v;b++,_=!1)!_&&Ya(t.doc,p,f)&&(t.split(p,f),p+=2*f),p+=m.child(b).nodeSize;return t}function Lq(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Pq(e,n,t,s):jq(e,n,s):!0:!1}}function Pq(t,e,n,r){let i=t.tr,s=r.end,c=r.$to.end(r.depth);s<c&&(i.step(new Nr(s-1,c,s,c,new Ge(Ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new I1(i.doc.resolve(r.$from.pos),i.doc.resolve(c),r.depth));const f=Su(r);if(f==null)return!1;i.lift(r,f);let p=i.doc.resolve(i.mapping.map(s,-1)-1);return tl(i.doc,p.pos)&&p.nodeBefore.type==p.nodeAfter.type&&i.join(p.pos),e(i.scrollIntoView()),!0}function jq(t,e,n){let r=t.tr,i=n.parent;for(let N=n.end,A=n.endIndex-1,R=n.startIndex;A>R;A--)N-=i.child(A).nodeSize,r.delete(N-1,N+1);let s=r.doc.resolve(n.start),c=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let f=n.startIndex==0,p=n.endIndex==i.childCount,m=s.node(-1),b=s.index(-1);if(!m.canReplace(b+(f?0:1),b+1,c.content.append(p?Ie.empty:Ie.from(i))))return!1;let v=s.pos,_=v+c.nodeSize;return r.step(new Nr(v-(f?1:0),_+(p?1:0),v+1,_-1,new Ge((f?Ie.empty:Ie.from(i.copy(Ie.empty))).append(p?Ie.empty:Ie.from(i.copy(Ie.empty))),f?0:1,p?0:1),f?0:1)),e(r.scrollIntoView()),!0}function zq(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,m=>m.childCount>0&&m.firstChild.type==t);if(!s)return!1;let c=s.startIndex;if(c==0)return!1;let f=s.parent,p=f.child(c-1);if(p.type!=t)return!1;if(n){let m=p.lastChild&&p.lastChild.type==f.type,b=Ie.from(m?t.create():null),v=new Ge(Ie.from(t.create(null,Ie.from(f.type.create(null,b)))),m?3:1,0),_=s.start,N=s.end;n(e.tr.step(new Nr(_-(m?3:1),N,_,N,v,1,!0)).scrollIntoView())}return!0}}var Fq=Object.defineProperty,$4=(t,e)=>{for(var n in e)Fq(t,n,{get:e[n],enumerable:!0})};function P0(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var j0=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([c,f])=>[c,(...m)=>{const b=f(...m)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,c=[],f=!!t,p=t||i.tr,m=()=>(!f&&e&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(p),c.every(v=>v===!0)),b={...Object.fromEntries(Object.entries(n).map(([v,_])=>[v,(...A)=>{const R=this.buildProps(p,e),I=_(...A)(R);return c.push(I),b}])),run:m};return b}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([f,p])=>[f,(...m)=>p(...m)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,c={tr:t,editor:r,view:s,state:P0({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...m)=>p(...m)(c)]))}};return c}},Uq=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function q4(t,e){const n=new Y_(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var W4=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&W4(r)}return t};function Gh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return W4(n)}function sd(t,e,n){if(t instanceof Ms||t instanceof Ie)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Ie.fromArray(t.map(f=>e.nodeFromJSON(f)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),sd("",e,n)}if(i){if(n.errorOnInvalidContent){let c=!1,f="";const p=new D_({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(c=!0,f=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?Wo.fromSchema(p).parseSlice(Gh(t),n.parseOptions):Wo.fromSchema(p).parse(Gh(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const s=Wo.fromSchema(e);return n.slice?s.parseSlice(Gh(t),n.parseOptions).content:s.parse(Gh(t),n.parseOptions)}return sd("",e,n)}function z2(t,e,n={},r={}){return sd(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function Hq(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Vq(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Gq(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function z0(t){return e=>Gq(e.$from,t)}function ot(t,e,n){return t.config[e]===void 0&&t.parent?ot(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ot(t.parent,e,n):null}):t.config[e]}function Hx(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ot(e,"addExtensions",n);return r?[e,...Hx(r())]:e}).flat(10)}function Vx(t,e){const n=rc.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function X4(t){return typeof t=="function"}function ln(t,e=void 0,...n){return X4(t)?e?t.bind(e)(...n):t(...n):t}function $q(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ad(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Y4(t){const e=[],{nodeExtensions:n,markExtensions:r}=ad(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage,extensions:i},p=ot(c,"addGlobalAttributes",f);if(!p)return;p().forEach(b=>{b.types.forEach(v=>{Object.entries(b.attributes).forEach(([_,N])=>{e.push({type:v,name:_,attribute:{...s,...N}})})})})}),i.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage},p=ot(c,"addAttributes",f);if(!p)return;const m=p();Object.entries(m).forEach(([b,v])=>{const _={...s,...v};typeof(_==null?void 0:_.default)=="function"&&(_.default=_.default()),_!=null&&_.isRequired&&(_==null?void 0:_.default)===void 0&&delete _.default,e.push({type:c.name,name:b,attribute:_})})}),e}function rr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const f=s?String(s).split(" "):[],p=r[i]?r[i].split(" "):[],m=f.filter(b=>!p.includes(b));r[i]=[...p,...m].join(" ")}else if(i==="style"){const f=s?s.split(";").map(b=>b.trim()).filter(Boolean):[],p=r[i]?r[i].split(";").map(b=>b.trim()).filter(Boolean):[],m=new Map;p.forEach(b=>{const[v,_]=b.split(":").map(N=>N.trim());m.set(v,_)}),f.forEach(b=>{const[v,_]=b.split(":").map(N=>N.trim());m.set(v,_)}),r[i]=Array.from(m.entries()).map(([b,v])=>`${b}: ${v}`).join("; ")}else r[i]=s}),r},{})}function F1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>rr(n,r),{})}function qq(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function ZC(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,c)=>{const f=c.attribute.parseHTML?c.attribute.parseHTML(n):qq(n.getAttribute(c.name));return f==null?s:{...s,[c.name]:f}},{});return{...r,...i}}}}function QC(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&$q(n)?!1:n!=null))}function Wq(t,e){var n;const r=Y4(t),{nodeExtensions:i,markExtensions:s}=ad(t),c=(n=i.find(m=>ot(m,"topNode")))==null?void 0:n.name,f=Object.fromEntries(i.map(m=>{const b=r.filter(k=>k.type===m.name),v={name:m.name,options:m.options,storage:m.storage,editor:e},_=t.reduce((k,U)=>{const j=ot(U,"extendNodeSchema",v);return{...k,...j?j(m):{}}},{}),N=QC({..._,content:ln(ot(m,"content",v)),marks:ln(ot(m,"marks",v)),group:ln(ot(m,"group",v)),inline:ln(ot(m,"inline",v)),atom:ln(ot(m,"atom",v)),selectable:ln(ot(m,"selectable",v)),draggable:ln(ot(m,"draggable",v)),code:ln(ot(m,"code",v)),whitespace:ln(ot(m,"whitespace",v)),linebreakReplacement:ln(ot(m,"linebreakReplacement",v)),defining:ln(ot(m,"defining",v)),isolating:ln(ot(m,"isolating",v)),attrs:Object.fromEntries(b.map(k=>{var U,j;return[k.name,{default:(U=k==null?void 0:k.attribute)==null?void 0:U.default,validate:(j=k==null?void 0:k.attribute)==null?void 0:j.validate}]}))}),A=ln(ot(m,"parseHTML",v));A&&(N.parseDOM=A.map(k=>ZC(k,b)));const R=ot(m,"renderHTML",v);R&&(N.toDOM=k=>R({node:k,HTMLAttributes:F1(k,b)}));const I=ot(m,"renderText",v);return I&&(N.toText=I),[m.name,N]})),p=Object.fromEntries(s.map(m=>{const b=r.filter(I=>I.type===m.name),v={name:m.name,options:m.options,storage:m.storage,editor:e},_=t.reduce((I,k)=>{const U=ot(k,"extendMarkSchema",v);return{...I,...U?U(m):{}}},{}),N=QC({..._,inclusive:ln(ot(m,"inclusive",v)),excludes:ln(ot(m,"excludes",v)),group:ln(ot(m,"group",v)),spanning:ln(ot(m,"spanning",v)),code:ln(ot(m,"code",v)),attrs:Object.fromEntries(b.map(I=>{var k,U;return[I.name,{default:(k=I==null?void 0:I.attribute)==null?void 0:k.default,validate:(U=I==null?void 0:I.attribute)==null?void 0:U.validate}]}))}),A=ln(ot(m,"parseHTML",v));A&&(N.parseDOM=A.map(I=>ZC(I,b)));const R=ot(m,"renderHTML",v);return R&&(N.toDOM=I=>R({mark:I,HTMLAttributes:F1(I,b)})),[m.name,N]}));return new D_({topNode:c,nodes:f,marks:p})}function Xq(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Gx(t){return t.sort((n,r)=>{const i=ot(n,"priority")||100,s=ot(r,"priority")||100;return i>s?-1:i<s?1:0})}function K4(t){const e=Gx(Hx(t)),n=Xq(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Z4(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:c={}}=n||{};let f="";return t.nodesBetween(r,i,(p,m,b,v)=>{var _;p.isBlock&&m>r&&(f+=s);const N=c==null?void 0:c[p.type.name];if(N)return b&&(f+=N({node:p,pos:m,parent:b,index:v,range:e})),!1;p.isText&&(f+=(_=p==null?void 0:p.text)==null?void 0:_.slice(Math.max(r,m)-m,i-m))}),f}function Yq(t,e){const n={from:0,to:t.content.size};return Z4(t,n,e)}function Q4(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Za(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function J4(t,e){const n=Za(e,t.schema),{from:r,to:i,empty:s}=t.selection,c=[];s?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,p=>{c.push(...p.marks)});const f=c.find(p=>p.type.name===n.name);return f?{...f.attrs}:{}}function cr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Kq(t,e){const n=cr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,f=>{s.push(f)});const c=s.reverse().find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function F0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function eT(t,e){const n=F0(typeof e=="string"?e:e.name,t.schema);return n==="node"?Kq(t,e):n==="mark"?J4(t,e):{}}function Zq(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Qq(t){const e=Zq(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,c)=>c!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function tT(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const c=[];if(i.ranges.length)i.forEach((f,p)=>{c.push({from:f,to:p})});else{const{from:f,to:p}=n[s];if(f===void 0||p===void 0)return;c.push({from:f,to:p})}c.forEach(({from:f,to:p})=>{const m=e.slice(s).map(f,-1),b=e.slice(s).map(p),v=e.invert().map(m,-1),_=e.invert().map(b);r.push({oldRange:{from:v,to:_},newRange:{from:m,to:b}})})}),Qq(r)}function $x(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function U1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:$x(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function nT(t,e,n={}){return t.find(r=>r.type===e&&U1(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function JC(t,e,n={}){return!!nT(t,e,n)}function qx(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(b=>b.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(b=>b.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!nT([...i.node.marks],e,n)))return;let c=i.index,f=t.start()+i.offset,p=c+1,m=f+i.node.nodeSize;for(;c>0&&JC([...t.parent.child(c-1).marks],e,n);)c-=1,f-=t.parent.child(c).nodeSize;for(;p<t.parent.childCount&&JC([...t.parent.child(p).marks],e,n);)m+=t.parent.child(p).nodeSize,p+=1;return{from:f,to:m}}function Wx(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),c=qx(s,i.type);c&&r.push({mark:i,...c})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(c=>({from:s,to:s+i.nodeSize,mark:c})))}),r}var Jq=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,c=null;for(;s>0&&c===null;){const f=i.node(s);(f==null?void 0:f.type.name)===e?c=f:s-=1}return[c,s]};function Wg(t,e){return e.nodes[t]||e.marks[t]||null}function l1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var eW=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,c,f)=>{var p,m;const b=((m=(p=i.type.spec).toText)==null?void 0:m.call(p,{node:i,pos:s,parent:c,index:f}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?b:b.slice(0,Math.max(0,r-s))}),n};function F2(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Za(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(v=>s?s.name===v.type.name:!0).find(v=>U1(v.attrs,n,{strict:!1}));let c=0;const f=[];if(i.forEach(({$from:v,$to:_})=>{const N=v.pos,A=_.pos;t.doc.nodesBetween(N,A,(R,I)=>{if(!R.isText&&!R.marks.length)return;const k=Math.max(N,I),U=Math.min(A,I+R.nodeSize),j=U-k;c+=j,f.push(...R.marks.map(W=>({mark:W,from:k,to:U})))})}),c===0)return!1;const p=f.filter(v=>s?s.name===v.mark.type.name:!0).filter(v=>U1(v.mark.attrs,n,{strict:!1})).reduce((v,_)=>v+_.to-_.from,0),m=f.filter(v=>s?v.mark.type!==s&&v.mark.type.excludes(s):!0).reduce((v,_)=>v+_.to-_.from,0);return(p>0?p+m:p)>=c}function Jo(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,c=e?cr(e,t.schema):null,f=[];t.doc.nodesBetween(r,i,(v,_)=>{if(v.isText)return;const N=Math.max(r,_),A=Math.min(i,_+v.nodeSize);f.push({node:v,from:N,to:A})});const p=i-r,m=f.filter(v=>c?c.name===v.node.type.name:!0).filter(v=>U1(v.node.attrs,n,{strict:!1}));return s?!!m.length:m.reduce((v,_)=>v+_.to-_.from,0)>=p}function tW(t,e,n={}){if(!e)return Jo(t,null,n)||F2(t,null,n);const r=F0(e,t.schema);return r==="node"?Jo(t,e,n):r==="mark"?F2(t,e,n):!1}var nW=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=z0(f=>f.type.name===e)(t.selection);if(!s)return!1;const c=t.doc.resolve(s.pos+1);return i.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},rW=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function eE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function tE(t,e){const{nodeExtensions:n}=ad(e),r=n.find(c=>c.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ln(ot(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function U0(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(U0(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function rT(t){return t instanceof lt}function iT(t){return t instanceof pt}function jl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function sT(t,e=null){if(!e)return null;const n=Nt.atStart(t),r=Nt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?pt.create(t,jl(0,i,s),jl(t.content.size,i,s)):pt.create(t,jl(e,i,s),jl(e,i,s))}function iW(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ar||i instanceof Nr))return;const s=t.mapping.maps[r];let c=0;s.forEach((f,p,m,b)=>{c===0&&(c=b)}),t.setSelection(Nt.near(t.doc.resolve(c),n))}var H0=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},sW=(t,e)=>{if($x(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function $h(t){var e;const{editor:n,from:r,to:i,text:s,rules:c,plugin:f}=t,{view:p}=n;if(p.composing)return!1;const m=p.state.doc.resolve(r);if(m.parent.type.spec.code||(e=m.nodeBefore||m.nodeAfter)!=null&&e.marks.find(_=>_.type.spec.code))return!1;let b=!1;const v=eW(m)+s;return c.forEach(_=>{if(b)return;const N=sW(v,_.find);if(!N)return;const A=p.state.tr,R=P0({state:p.state,transaction:A}),I={from:r-(N[0].length-s.length),to:i},{commands:k,chain:U,can:j}=new j0({editor:n,state:R});_.handler({state:R,range:I,match:N,commands:k,chain:U,can:j})===null||!A.steps.length||(_.undoable&&A.setMeta(f,{transform:A,from:r,to:i,text:s}),p.dispatch(A),b=!0)}),b}function aW(t){const{editor:e,rules:n}=t,r=new Yn({state:{init(){return null},apply(i,s,c){const f=i.getMeta(r);if(f)return f;const p=i.getMeta("applyInputRules");return!!p&&setTimeout(()=>{let{text:b}=p;typeof b=="string"?b=b:b=Vx(Ie.from(b),c.schema);const{from:v}=p,_=v+b.length;$h({editor:e,from:v,to:_,text:b,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,c,f){return $h({editor:e,from:s,to:c,text:f,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&$h({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:c}=i.state.selection;return c?$h({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function oW(t){return Object.prototype.toString.call(t).slice(8,-1)}function qh(t){return oW(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function aT(t,e){const n={...t};return qh(t)&&qh(e)&&Object.keys(e).forEach(r=>{qh(e[r])&&qh(t[r])?n[r]=aT(t[r],e[r]):n[r]=e[r]}),n}var Xx=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ln(ot(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ln(ot(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>aT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ic=class oT extends Xx{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new oT(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const c=i.marks();if(!!!c.find(m=>(m==null?void 0:m.type.name)===n.name))return!1;const p=c.find(m=>(m==null?void 0:m.type.name)===n.name);return p&&r.removeStoredMark(p),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function lW(t){return typeof t=="number"}var cW=class{constructor(t){this.find=t.find,this.handler=t.handler}},uW=(t,e,n)=>{if($x(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function fW(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:c,dropEvent:f}=t,{commands:p,chain:m,can:b}=new j0({editor:e,state:n}),v=[];return n.doc.nodesBetween(r,i,(N,A)=>{var R,I,k,U,j;if((I=(R=N.type)==null?void 0:R.spec)!=null&&I.code||!(N.isText||N.isTextblock||N.isInline))return;const W=(j=(U=(k=N.content)==null?void 0:k.size)!=null?U:N.nodeSize)!=null?j:0,X=Math.max(r,A),V=Math.min(i,A+W);if(X>=V)return;const Y=N.isText?N.text||"":N.textBetween(X-A,V-A,void 0,"");uW(Y,s.find,c).forEach(K=>{if(K.index===void 0)return;const be=X+K.index+1,_e=be+K[0].length,ge={from:n.tr.mapping.map(be),to:n.tr.mapping.map(_e)},je=s.handler({state:n,range:ge,match:K,commands:p,chain:m,can:b,pasteEvent:c,dropEvent:f});v.push(je)})}),v.every(N=>N!==null)}var Wh=null,dW=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function hW(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const p=({state:b,from:v,to:_,rule:N,pasteEvt:A})=>{const R=b.tr,I=P0({state:b,transaction:R});if(!(!fW({editor:e,state:I,from:Math.max(v-1,0),to:_.b-1,rule:N,pasteEvent:A,dropEvent:f})||!R.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,R}};return n.map(b=>new Yn({view(v){const _=A=>{var R;r=(R=v.dom.parentElement)!=null&&R.contains(A.target)?v.dom.parentElement:null,r&&(Wh=e)},N=()=>{Wh&&(Wh=null)};return window.addEventListener("dragstart",_),window.addEventListener("dragend",N),{destroy(){window.removeEventListener("dragstart",_),window.removeEventListener("dragend",N)}}},props:{handleDOMEvents:{drop:(v,_)=>{if(s=r===v.dom.parentElement,f=_,!s){const N=Wh;N!=null&&N.isEditable&&setTimeout(()=>{const A=N.state.selection;A&&N.commands.deleteRange({from:A.from,to:A.to})},10)}return!1},paste:(v,_)=>{var N;const A=(N=_.clipboardData)==null?void 0:N.getData("text/html");return c=_,i=!!(A!=null&&A.includes("data-pm-slice")),!1}}},appendTransaction:(v,_,N)=>{const A=v[0],R=A.getMeta("uiEvent")==="paste"&&!i,I=A.getMeta("uiEvent")==="drop"&&!s,k=A.getMeta("applyPasteRules"),U=!!k;if(!R&&!I&&!U)return;if(U){let{text:X}=k;typeof X=="string"?X=X:X=Vx(Ie.from(X),N.schema);const{from:V}=k,Y=V+X.length,se=dW(X);return p({rule:b,state:N,from:V,to:{b:Y},pasteEvt:se})}const j=_.doc.content.findDiffStart(N.doc.content),W=_.doc.content.findDiffEnd(N.doc.content);if(!(!lW(j)||!W||j===W.b))return p({rule:b,state:N,from:j,to:W,pasteEvt:c})}}))}var V0=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=K4(t),this.schema=Wq(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wg(e.name,this.schema)},r=ot(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Gx([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Wg(r.name,this.schema)},s=[],c=ot(r,"addKeyboardShortcuts",i);let f={};if(r.type==="mark"&&ot(r,"exitable",i)&&(f.ArrowRight=()=>ic.handleExit({editor:t,mark:r})),c){const _=Object.fromEntries(Object.entries(c()).map(([N,A])=>[N,()=>A({editor:t})]));f={...f,..._}}const p=bq(f);s.push(p);const m=ot(r,"addInputRules",i);if(eE(r,t.options.enableInputRules)&&m){const _=m();if(_&&_.length){const N=aW({editor:t,rules:_}),A=Array.isArray(N)?N:[N];s.push(...A)}}const b=ot(r,"addPasteRules",i);if(eE(r,t.options.enablePasteRules)&&b){const _=b();if(_&&_.length){const N=hW({editor:t,rules:_});s.push(...N)}}const v=ot(r,"addProseMirrorPlugins",i);if(v){const _=v();s.push(..._)}return s})}get attributes(){return Y4(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=ad(this.extensions);return Object.fromEntries(e.filter(n=>!!ot(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:cr(n.name,this.schema)},s=ot(n,"addNodeView",i);if(!s)return[];const c=(f,p,m,b,v)=>{const _=F1(f,r);return s()({node:f,view:p,getPos:m,decorations:b,innerDecorations:v,editor:t,extension:n,HTMLAttributes:_})};return[n.name,c]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=ad(this.extensions);return Object.fromEntries(e.filter(n=>!!ot(n,"addMarkView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Za(n.name,this.schema)},s=ot(n,"addMarkView",i);if(!s)return[];const c=(f,p,m)=>{const b=F1(f,r);return s()({mark:f,view:p,inline:m,editor:t,extension:n,HTMLAttributes:b,updateAttributes:v=>{NX(f,t,v)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Wg(e.name,this.schema)};e.type==="mark"&&((n=ln(ot(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ot(e,"onBeforeCreate",r),s=ot(e,"onCreate",r),c=ot(e,"onUpdate",r),f=ot(e,"onSelectionUpdate",r),p=ot(e,"onTransaction",r),m=ot(e,"onFocus",r),b=ot(e,"onBlur",r),v=ot(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),c&&this.editor.on("update",c),f&&this.editor.on("selectionUpdate",f),p&&this.editor.on("transaction",p),m&&this.editor.on("focus",m),b&&this.editor.on("blur",b),v&&this.editor.on("destroy",v)})}};V0.resolve=K4;V0.sort=Gx;V0.flatten=Hx;var pW={};$4(pW,{ClipboardTextSerializer:()=>cT,Commands:()=>dT,Delete:()=>hT,Drop:()=>pT,Editable:()=>mT,FocusEvents:()=>xT,Keymap:()=>yT,Paste:()=>bT,Tabindex:()=>wT,focusEventsPluginKey:()=>gT});var ur=class lT extends Xx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new lT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},cT=ur.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Yn({key:new Ir("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,c=Math.min(...s.map(b=>b.$from.pos)),f=Math.max(...s.map(b=>b.$to.pos)),p=Q4(n);return Z4(r,{from:c,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:p})}}})]}}),uT={};$4(uT,{blur:()=>mW,clearContent:()=>gW,clearNodes:()=>xW,command:()=>yW,createParagraphNear:()=>bW,cut:()=>wW,deleteCurrentNode:()=>vW,deleteNode:()=>CW,deleteRange:()=>EW,deleteSelection:()=>SW,enter:()=>_W,exitCode:()=>TW,extendMarkRange:()=>AW,first:()=>NW,focus:()=>MW,forEach:()=>RW,insertContent:()=>IW,insertContentAt:()=>kW,joinBackward:()=>PW,joinDown:()=>LW,joinForward:()=>jW,joinItemBackward:()=>zW,joinItemForward:()=>FW,joinTextblockBackward:()=>UW,joinTextblockForward:()=>HW,joinUp:()=>BW,keyboardShortcut:()=>GW,lift:()=>$W,liftEmptyBlock:()=>qW,liftListItem:()=>WW,newlineInCode:()=>XW,resetAttributes:()=>YW,scrollIntoView:()=>KW,selectAll:()=>ZW,selectNodeBackward:()=>QW,selectNodeForward:()=>JW,selectParentNode:()=>eX,selectTextblockEnd:()=>tX,selectTextblockStart:()=>nX,setContent:()=>rX,setMark:()=>sX,setMeta:()=>aX,setNode:()=>oX,setNodeSelection:()=>lX,setTextSelection:()=>cX,sinkListItem:()=>uX,splitBlock:()=>fX,splitListItem:()=>dX,toggleList:()=>hX,toggleMark:()=>pX,toggleNode:()=>mX,toggleWrap:()=>gX,undoInputRule:()=>xX,unsetAllMarks:()=>yX,unsetMark:()=>bX,updateAttributes:()=>wX,wrapIn:()=>vX,wrapInList:()=>CX});var mW=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),gW=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),xW=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:c})=>{t.doc.nodesBetween(s.pos,c.pos,(f,p)=>{if(f.type.isText)return;const{doc:m,mapping:b}=e,v=m.resolve(b.map(p)),_=m.resolve(b.map(p+f.nodeSize)),N=v.blockRange(_);if(!N)return;const A=Su(N);if(f.type.isTextblock){const{defaultType:R}=v.parent.contentMatchAt(v.index());e.setNodeMarkup(N.start,R)}(A||A===0)&&e.lift(N,A)})}),!0},yW=t=>e=>t(e),bW=()=>({state:t,dispatch:e})=>U4(t,e),wW=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const c=r.mapping.map(e);return r.insert(c,s.content),r.setSelection(new pt(r.doc.resolve(Math.max(c-1,0)))),!0},vW=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const f=i.before(s),p=i.after(s);t.delete(f,p).scrollIntoView()}return!0}return!1},CW=t=>({tr:e,state:n,dispatch:r})=>{const i=cr(t,n.schema),s=e.selection.$anchor;for(let c=s.depth;c>0;c-=1)if(s.node(c).type===i){if(r){const p=s.before(c),m=s.after(c);e.delete(p,m).scrollIntoView()}return!0}return!1},EW=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},SW=()=>({state:t,dispatch:e})=>Px(t,e),_W=()=>({commands:t})=>t.keyboardShortcut("Enter"),TW=()=>({state:t,dispatch:e})=>_q(t,e),AW=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Za(t,r.schema),{doc:c,selection:f}=n,{$from:p,from:m,to:b}=f;if(i){const v=qx(p,s,e);if(v&&v.from<=m&&v.to>=b){const _=pt.create(c,v.from,v.to);n.setSelection(_)}}return!0},NW=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function OW(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Yx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var MW=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const c=()=>{(Yx()||OW())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!iT(n.state.selection))return c(),!0;const f=sT(i.doc,t)||n.state.selection,p=n.state.selection.eq(f);return s&&(p||i.setSelection(f),p&&i.storedMarks&&i.setStoredMarks(i.storedMarks),c()),!0},RW=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),IW=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),DW=t=>!("type"in t),kW=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var c;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let f;const p=I=>{s.emit("contentError",{editor:s,error:I,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{sd(e,s.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(I){p(I)}try{f=sd(e,s.schema,{parseOptions:m,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:s.options.enableContentCheck})}catch(I){return p(I),!1}let{from:b,to:v}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},_=!0,N=!0;if((DW(f)?f:[f]).forEach(I=>{I.check(),_=_?I.isText&&I.marks.length===0:!1,N=N?I.isBlock:!1}),b===v&&N){const{parent:I}=r.doc.resolve(b);I.isTextblock&&!I.type.spec.code&&!I.childCount&&(b-=1,v+=1)}let R;if(_){if(Array.isArray(e))R=e.map(I=>I.text||"").join("");else if(e instanceof Ie){let I="";e.forEach(k=>{k.text&&(I+=k.text)}),R=I}else typeof e=="object"&&e&&e.text?R=e.text:R=e;r.insertText(R,b,v)}else{R=f;const I=r.doc.resolve(b),k=I.node(),U=I.parentOffset===0,j=k.isText||k.isTextblock,W=k.content.size>0;U&&j&&W&&(b=Math.max(0,b-1)),r.replaceWith(b,v,R)}n.updateSelection&&iW(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:b,text:R}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:b,text:R})}return!0},BW=()=>({state:t,dispatch:e})=>Cq(t,e),LW=()=>({state:t,dispatch:e})=>Eq(t,e),PW=()=>({state:t,dispatch:e})=>k4(t,e),jW=()=>({state:t,dispatch:e})=>j4(t,e),zW=()=>({state:t,dispatch:e,tr:n})=>{try{const r=R0(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},FW=()=>({state:t,dispatch:e,tr:n})=>{try{const r=R0(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},UW=()=>({state:t,dispatch:e})=>wq(t,e),HW=()=>({state:t,dispatch:e})=>vq(t,e);function fT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function VW(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,c;for(let f=0;f<e.length-1;f+=1){const p=e[f];if(/^(cmd|meta|m)$/i.test(p))c=!0;else if(/^a(lt)?$/i.test(p))r=!0;else if(/^(c|ctrl|control)$/i.test(p))i=!0;else if(/^s(hift)?$/i.test(p))s=!0;else if(/^mod$/i.test(p))Yx()||fT()?c=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${p}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var GW=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=VW(t).split(/-(?!$)/),c=s.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),f=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),p=e.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,f))});return p==null||p.steps.forEach(m=>{const b=m.map(r.mapping);b&&i&&r.maybeStep(b)}),!0},$W=(t,e={})=>({state:n,dispatch:r})=>{const i=cr(t,n.schema);return Jo(n,i,e)?Sq(n,r):!1},qW=()=>({state:t,dispatch:e})=>H4(t,e),WW=t=>({state:e,dispatch:n})=>{const r=cr(t,e.schema);return Lq(r)(e,n)},XW=()=>({state:t,dispatch:e})=>F4(t,e);function nE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var YW=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,c=null;const f=F0(typeof t=="string"?t:t.name,r.schema);return f?(f==="node"&&(s=cr(t,r.schema)),f==="mark"&&(c=Za(t,r.schema)),i&&n.selection.ranges.forEach(p=>{r.doc.nodesBetween(p.$from.pos,p.$to.pos,(m,b)=>{s&&s===m.type&&n.setNodeMarkup(b,void 0,nE(m.attrs,e)),c&&m.marks.length&&m.marks.forEach(v=>{c===v.type&&n.addMark(b,b+m.nodeSize,c.create(nE(v.attrs,e)))})})}),!0):!1},KW=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ZW=()=>({tr:t,dispatch:e})=>{if(e){const n=new $i(t.doc);t.setSelection(n)}return!0},QW=()=>({state:t,dispatch:e})=>L4(t,e),JW=()=>({state:t,dispatch:e})=>z4(t,e),eX=()=>({state:t,dispatch:e})=>Nq(t,e),tX=()=>({state:t,dispatch:e})=>Rq(t,e),nX=()=>({state:t,dispatch:e})=>Mq(t,e),rX=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:c,commands:f})=>{const{doc:p}=s;if(r.preserveWhitespace!=="full"){const m=z2(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return c&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!n),!0}return c&&s.setMeta("preventUpdate",!n),f.insertContentAt({from:0,to:p.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function iX(t,e,n){var r;const{selection:i}=e;let s=null;if(iT(i)&&(s=i.$cursor),s){const f=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(f)||!f.some(m=>m.type.excludes(n)))}const{ranges:c}=i;return c.some(({$from:f,$to:p})=>{let m=f.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(f.pos,p.pos,(b,v,_)=>{if(m)return!1;if(b.isInline){const N=!_||_.type.allowsMarkType(n),A=!!n.isInSet(b.marks)||!b.marks.some(R=>R.type.excludes(n));m=N&&A}return!m}),m})}var sX=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:c,ranges:f}=s,p=Za(t,r.schema);if(i)if(c){const m=J4(r,p);n.addStoredMark(p.create({...m,...e}))}else f.forEach(m=>{const b=m.$from.pos,v=m.$to.pos;r.doc.nodesBetween(b,v,(_,N)=>{const A=Math.max(N,b),R=Math.min(N+_.nodeSize,v);_.marks.find(k=>k.type===p)?_.marks.forEach(k=>{p===k.type&&n.addMark(A,R,p.create({...k.attrs,...e}))}):n.addMark(A,R,p.create(e))})});return iX(r,n,p)},aX=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),oX=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=cr(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:f})=>KC(s,{...c,...e})(n)?!0:f.clearNodes()).command(({state:f})=>KC(s,{...c,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lX=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=jl(t,0,r.content.size),s=lt.create(r,i);e.setSelection(s)}return!0},cX=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,c=pt.atStart(r).from,f=pt.atEnd(r).to,p=jl(i,c,f),m=jl(s,c,f),b=pt.create(r,p,m);e.setSelection(b)}return!0},uX=t=>({state:e,dispatch:n})=>{const r=cr(t,e.schema);return zq(r)(e,n)};function rE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var fX=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:c}=e,{$from:f,$to:p}=s,m=i.extensionManager.attributes,b=l1(m,f.node().type.name,f.node().attrs);if(s instanceof lt&&s.node.isBlock)return!f.parentOffset||!Ya(c,f.pos)?!1:(r&&(t&&rE(n,i.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const v=p.parentOffset===p.parent.content.size,_=f.depth===0?void 0:Hq(f.node(-1).contentMatchAt(f.indexAfter(-1)));let N=v&&_?[{type:_,attrs:b}]:void 0,A=Ya(e.doc,e.mapping.map(f.pos),1,N);if(!N&&!A&&Ya(e.doc,e.mapping.map(f.pos),1,_?[{type:_}]:void 0)&&(A=!0,N=_?[{type:_,attrs:b}]:void 0),r){if(A&&(s instanceof pt&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,N),_&&!v&&!f.parentOffset&&f.parent.type!==_)){const R=e.mapping.map(f.before()),I=e.doc.resolve(R);f.node(-1).canReplaceWith(I.index(),I.index()+1,_)&&e.setNodeMarkup(e.mapping.map(f.before()),_)}t&&rE(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return A},dX=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var c;const f=cr(t,r.schema),{$from:p,$to:m}=r.selection,b=r.selection.node;if(b&&b.isBlock||p.depth<2||!p.sameParent(m))return!1;const v=p.node(-1);if(v.type!==f)return!1;const _=s.extensionManager.attributes;if(p.parent.content.size===0&&p.node(-1).childCount===p.indexAfter(-1)){if(p.depth===2||p.node(-3).type!==f||p.index(-2)!==p.node(-2).childCount-1)return!1;if(i){let k=Ie.empty;const U=p.index(-1)?1:p.index(-2)?2:3;for(let se=p.depth-U;se>=p.depth-3;se-=1)k=Ie.from(p.node(se).copy(k));const j=p.indexAfter(-1)<p.node(-2).childCount?1:p.indexAfter(-2)<p.node(-3).childCount?2:3,W={...l1(_,p.node().type.name,p.node().attrs),...e},X=((c=f.contentMatch.defaultType)==null?void 0:c.createAndFill(W))||void 0;k=k.append(Ie.from(f.createAndFill(null,X)||void 0));const V=p.before(p.depth-(U-1));n.replace(V,p.after(-j),new Ge(k,4-U,0));let Y=-1;n.doc.nodesBetween(V,n.doc.content.size,(se,K)=>{if(Y>-1)return!1;se.isTextblock&&se.content.size===0&&(Y=K+1)}),Y>-1&&n.setSelection(pt.near(n.doc.resolve(Y))),n.scrollIntoView()}return!0}const N=m.pos===p.end()?v.contentMatchAt(0).defaultType:null,A={...l1(_,v.type.name,v.attrs),...e},R={...l1(_,p.node().type.name,p.node().attrs),...e};n.delete(p.pos,m.pos);const I=N?[{type:f,attrs:A},{type:N,attrs:R}]:[{type:f,attrs:A}];if(!Ya(n.doc,p.pos,2))return!1;if(i){const{selection:k,storedMarks:U}=r,{splittableMarks:j}=s.extensionManager,W=U||k.$to.parentOffset&&k.$from.marks();if(n.split(p.pos,2,I).scrollIntoView(),!W||!i)return!0;const X=W.filter(V=>j.includes(V.type.name));n.ensureMarks(X)}return!0},Xg=(t,e)=>{const n=z0(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&tl(t.doc,n.pos)&&t.join(n.pos),!0},Yg=(t,e)=>{const n=z0(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&tl(t.doc,r)&&t.join(r),!0},hX=(t,e,n,r={})=>({editor:i,tr:s,state:c,dispatch:f,chain:p,commands:m,can:b})=>{const{extensions:v,splittableMarks:_}=i.extensionManager,N=cr(t,c.schema),A=cr(e,c.schema),{selection:R,storedMarks:I}=c,{$from:k,$to:U}=R,j=k.blockRange(U),W=I||R.$to.parentOffset&&R.$from.marks();if(!j)return!1;const X=z0(V=>tE(V.type.name,v))(R);if(j.depth>=1&&X&&j.depth-X.depth<=1){if(X.node.type===N)return m.liftListItem(A);if(tE(X.node.type.name,v)&&N.validContent(X.node.content)&&f)return p().command(()=>(s.setNodeMarkup(X.pos,N),!0)).command(()=>Xg(s,N)).command(()=>Yg(s,N)).run()}return!n||!W||!f?p().command(()=>b().wrapInList(N,r)?!0:m.clearNodes()).wrapInList(N,r).command(()=>Xg(s,N)).command(()=>Yg(s,N)).run():p().command(()=>{const V=b().wrapInList(N,r),Y=W.filter(se=>_.includes(se.type.name));return s.ensureMarks(Y),V?!0:m.clearNodes()}).wrapInList(N,r).command(()=>Xg(s,N)).command(()=>Yg(s,N)).run()},pX=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,c=Za(t,r.schema);return F2(r,c,e)?i.unsetMark(c,{extendEmptyMarkRange:s}):i.setMark(c,e)},mX=(t,e,n={})=>({state:r,commands:i})=>{const s=cr(t,r.schema),c=cr(e,r.schema),f=Jo(r,s,n);let p;return r.selection.$anchor.sameParent(r.selection.$head)&&(p=r.selection.$anchor.parent.attrs),f?i.setNode(c,p):i.setNode(s,{...p,...n})},gX=(t,e={})=>({state:n,commands:r})=>{const i=cr(t,n.schema);return Jo(n,i,e)?r.lift(i):r.wrapIn(i,e)},xX=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const c=t.tr,f=s.transform;for(let p=f.steps.length-1;p>=0;p-=1)c.step(f.steps[p].invert(f.docs[p]));if(s.text){const p=c.doc.resolve(s.from).marks();c.replaceWith(s.from,s.to,t.schema.text(s.text,p))}else c.delete(s.from,s.to)}return!0}}return!1},yX=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},bX=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:c=!1}=e,{selection:f}=n,p=Za(t,r.schema),{$from:m,empty:b,ranges:v}=f;if(!i)return!0;if(b&&c){let{from:_,to:N}=f;const A=(s=m.marks().find(I=>I.type===p))==null?void 0:s.attrs,R=qx(m,p,A);R&&(_=R.from,N=R.to),n.removeMark(_,N,p)}else v.forEach(_=>{n.removeMark(_.$from.pos,_.$to.pos,p)});return n.removeStoredMark(p),!0},wX=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,c=null;const f=F0(typeof t=="string"?t:t.name,r.schema);return f?(f==="node"&&(s=cr(t,r.schema)),f==="mark"&&(c=Za(t,r.schema)),i&&n.selection.ranges.forEach(p=>{const m=p.$from.pos,b=p.$to.pos;let v,_,N,A;n.selection.empty?r.doc.nodesBetween(m,b,(R,I)=>{s&&s===R.type&&(N=Math.max(I,m),A=Math.min(I+R.nodeSize,b),v=I,_=R)}):r.doc.nodesBetween(m,b,(R,I)=>{I<m&&s&&s===R.type&&(N=Math.max(I,m),A=Math.min(I+R.nodeSize,b),v=I,_=R),I>=m&&I<=b&&(s&&s===R.type&&n.setNodeMarkup(I,void 0,{...R.attrs,...e}),c&&R.marks.length&&R.marks.forEach(k=>{if(c===k.type){const U=Math.max(I,m),j=Math.min(I+R.nodeSize,b);n.addMark(U,j,c.create({...k.attrs,...e}))}}))}),_&&(v!==void 0&&n.setNodeMarkup(v,void 0,{..._.attrs,...e}),c&&_.marks.length&&_.marks.forEach(R=>{c===R.type&&n.addMark(N,A,c.create({...R.attrs,...e}))}))}),!0):!1},vX=(t,e={})=>({state:n,dispatch:r})=>{const i=cr(t,n.schema);return Iq(i,e)(n,r)},CX=(t,e={})=>({state:n,dispatch:r})=>{const i=cr(t,n.schema);return Dq(i,e)(n,r)},dT=ur.create({name:"commands",addCommands(){return{...uT}}}),hT=ur.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var c,f,p,m;if((m=(p=(f=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:f.filterTransaction)==null?void 0:p.call(f,t))!=null?m:t.getMeta("y-sync$"))return;const b=q4(t.before,[t,...e]);tT(b).forEach(N=>{b.mapping.mapResult(N.oldRange.from).deletedAfter&&b.mapping.mapResult(N.oldRange.to).deletedBefore&&b.before.nodesBetween(N.oldRange.from,N.oldRange.to,(A,R)=>{const I=R+A.nodeSize-2,k=N.oldRange.from<=R&&I<=N.oldRange.to;this.editor.emit("delete",{type:"node",node:A,from:R,to:I,newFrom:b.mapping.map(R),newTo:b.mapping.map(I),deletedRange:N.oldRange,newRange:N.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:b})})});const _=b.mapping;b.steps.forEach((N,A)=>{var R,I;if(N instanceof Os){const k=_.slice(A).map(N.from,-1),U=_.slice(A).map(N.to),j=_.invert().map(k,-1),W=_.invert().map(U),X=(R=b.doc.nodeAt(k-1))==null?void 0:R.marks.some(Y=>Y.eq(N.mark)),V=(I=b.doc.nodeAt(U))==null?void 0:I.marks.some(Y=>Y.eq(N.mark));this.editor.emit("delete",{type:"mark",mark:N.mark,from:N.from,to:N.to,deletedRange:{from:j,to:W},newRange:{from:k,to:U},partial:!!(V||X),editor:this.editor,transaction:t,combinedTransform:b})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),pT=ur.create({name:"drop",addProseMirrorPlugins(){return[new Yn({key:new Ir("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),mT=ur.create({name:"editable",addProseMirrorPlugins(){return[new Yn({key:new Ir("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gT=new Ir("focusEvents"),xT=ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Yn({key:gT,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),yT=ur.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:f})=>{const{selection:p,doc:m}=f,{empty:b,$anchor:v}=p,{pos:_,parent:N}=v,A=v.parent.isTextblock&&_>0?f.doc.resolve(_-1):v,R=A.parent.type.spec.isolating,I=v.pos-v.parentOffset,k=R&&A.parent.childCount===1?I===v.pos:Nt.atStart(m).from===_;return!b||!N.type.isTextblock||N.textContent.length||!k||k&&v.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yx()||fT()?s:i},addProseMirrorPlugins(){return[new Yn({key:new Ir("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(R=>R.getMeta("composition")))return;const r=t.some(R=>R.docChanged)&&!e.doc.eq(n.doc),i=t.some(R=>R.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:c,to:f}=e.selection,p=Nt.atStart(e.doc).from,m=Nt.atEnd(e.doc).to;if(s||!(c===p&&f===m)||!U0(n.doc))return;const _=n.tr,N=P0({state:n,transaction:_}),{commands:A}=new j0({editor:this.editor,state:N});if(A.clearNodes(),!!_.steps.length)return _}})]}}),bT=ur.create({name:"paste",addProseMirrorPlugins(){return[new Yn({key:new Ir("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),wT=ur.create({name:"tabindex",addProseMirrorPlugins(){return[new Yn({key:new Ir("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),EX=class su{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new su(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new su(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new su(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,c=this.pos+r+(s?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(c);if(!i&&f.depth<=this.depth)return;const p=new su(f,this.editor,i,i?n:null);i&&(p.actualDepth=this.depth+1),e.push(new su(f,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,c=Object.keys(n);for(let f=0;f<c.length;f+=1){const p=c[f];if(s[p]!==n[p])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(c=>{r&&i.length>0||(c.node.type.name===e&&s.every(p=>n[p]===c.node.attrs[p])&&i.push(c),!(r&&i.length>0)&&(i=i.concat(c.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},SX=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function _X(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var TX=class extends Uq{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=sT(e,this.options.autofocus);this.editorState=lu.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=_X(SX,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=X4(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(c=>!c.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[mT,cT.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),dT,xT,yT,wT,pT,bT,hT].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new V0(r,this)}createCommandManager(){this.commandManager=new j0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=z2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=z2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new R4(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(m=>{var b;return(b=this.capturedTransaction)==null?void 0:b.step(m)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),f=c==null?void 0:c.getMeta("focus"),p=c==null?void 0:c.getMeta("blur");f&&this.emit("focus",{editor:this,event:f.event,transaction:c}),p&&this.emit("blur",{editor:this,event:p.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(m=>m.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return eT(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return tW(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Vx(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Yq(this.state.doc,{blockSeparator:e,textSerializers:{...Q4(this.schema),...n}})}get isEmpty(){return U0(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new EX(e,this)}get $doc(){return this.$pos(0)}};function xu(t){return new H0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ln(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,c=r[r.length-1],f=r[0];if(c){const p=f.search(/\S/),m=n.from+f.indexOf(c),b=m+c.length;if(Wx(n.from,n.to,e.doc).filter(N=>N.mark.type.excluded.find(R=>R===t.type&&R!==N.mark.type)).filter(N=>N.to>m).length)return null;b<n.to&&s.delete(b,n.to),m>n.from&&s.delete(n.from+p,m);const _=n.from+p+c.length;s.addMark(n.from+p,_,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function vT(t){return new H0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ln(t.getAttributes,void 0,r)||{},{tr:s}=e,c=n.from;let f=n.to;const p=t.type.create(i);if(r[1]){const m=r[0].lastIndexOf(r[1]);let b=c+m;b>f?b=f:f=b+r[1].length;const v=r[0][r[0].length-1];s.insertText(v,c+r[0].length-1),s.replaceWith(b,f,p)}else if(r[0]){const m=t.type.isInline?c:c-1;s.insert(m,t.type.create(i)).delete(s.mapping.map(c),s.mapping.map(f))}s.scrollIntoView()},undoable:t.undoable})}function U2(t){return new H0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=ln(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function yu(t){return new H0({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=ln(t.getAttributes,void 0,r)||{},c=e.tr.delete(n.from,n.to),p=c.doc.resolve(n.from).blockRange(),m=p&&Tx(p,t.type,s);if(!m)return null;if(c.wrap(p,m),t.keepMarks&&t.editor){const{selection:v,storedMarks:_}=e,{splittableMarks:N}=t.editor.extensionManager,A=_||v.$to.parentOffset&&v.$from.marks();if(A){const R=A.filter(I=>N.includes(I.type.name));c.ensureMarks(R)}}if(t.keepAttributes){const v=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(v,s).run()}const b=c.doc.resolve(n.from-1).nodeBefore;b&&b.type===t.type&&tl(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,b))&&c.join(n.from-1)},undoable:t.undoable})}function AX(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof lt){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function NX(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,c=t;i.descendants((f,p)=>{const m=s.mapping.map(p),b=s.mapping.map(p)+f.nodeSize;let v=null;if(f.marks.forEach(N=>{if(N!==c)return!1;v=N}),!v)return;let _=!1;if(Object.keys(n).forEach(N=>{n[N]!==v.attrs[N]&&(_=!0)}),_){const N=t.type.create({...t.attrs,...n});s.removeMark(m,b,t.type),s.addMark(m,b,N)}}),s.docChanged&&e.view.dispatch(s)}var Ai=class CT extends Xx{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new CT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ql(t){return new cW({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=ln(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:c}=e,f=r[r.length-1],p=r[0];let m=n.to;if(f){const b=p.search(/\S/),v=n.from+p.indexOf(f),_=v+f.length;if(Wx(n.from,n.to,e.doc).filter(A=>A.mark.type.excluded.find(I=>I===t.type&&I!==A.mark.type)).filter(A=>A.to>v).length)return null;_<n.to&&c.delete(_,n.to),v>n.from&&c.delete(n.from+b,v),m=n.from+b+f.length,c.addMark(n.from+b,m,t.type.create(s||{})),c.removeStoredMark(t.type)}}})}var Kg,iE;function OX(){return iE||(iE=1,Kg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var c=s[i];if(!(c==="_owner"&&e.$$typeof)&&!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),Kg}var MX=OX();const RX=Jl(MX);var Zg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function IX(){if(sE)return Qg;sE=1;var t=ec(),e=g_();function n(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,f=t.useMemo,p=t.useDebugValue;return Qg.useSyncExternalStoreWithSelector=function(m,b,v,_,N){var A=s(null);if(A.current===null){var R={hasValue:!1,value:null};A.current=R}else R=A.current;A=f(function(){function k(V){if(!U){if(U=!0,j=V,V=_(V),N!==void 0&&R.hasValue){var Y=R.value;if(N(Y,V))return W=Y}return W=V}if(Y=W,r(j,V))return Y;var se=_(V);return N!==void 0&&N(Y,se)?(j=V,Y):(j=V,W=se)}var U=!1,j,W,X=v===void 0?null:v;return[function(){return k(b())},X===null?void 0:function(){return k(X())}]},[b,v,_,N]);var I=i(m,A[0],A[1]);return c(function(){R.hasValue=!0,R.value=I},[I]),p(I),I},Qg}var aE;function DX(){return aE||(aE=1,Zg.exports=IX()),Zg.exports}var kX=DX(),BX=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},LX=({contentComponent:t})=>{const e=x_.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return E.jsx(E.Fragment,{children:Object.values(e)})};function PX(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:E5.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var jX=class extends qt.Component{constructor(t){var e;super(t),this.editorContentRef=qt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=PX(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:BX(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&E.jsx(LX,{contentComponent:t.contentComponent})]})}},zX=F.forwardRef((t,e)=>{const n=qt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return qt.createElement(jX,{key:n,innerRef:e,...t})}),FX=qt.memo(zX),UX=typeof window<"u"?F.useLayoutEffect:F.useEffect,HX=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function VX(t){var e;const[n]=F.useState(()=>new HX(t.editor)),r=kX.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:RX);return UX(()=>n.watch(t.editor),[t.editor,n]),F.useDebugValue(r),r}var GX=!1,H2=typeof window>"u",$X=H2||!!(typeof window<"u"&&window.next),qX=class ET{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?H2||$X?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new TX(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var c;return i===((c=n.extensions)==null?void 0:c[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ET.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function WX(t={},e=[]){const n=F.useRef(t);n.current=t;const[r]=F.useState(()=>new qX(n)),i=x_.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return F.useDebugValue(i),F.useEffect(r.onRender(e)),VX({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var XX=F.createContext({editor:null});XX.Consumer;var YX=F.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),KX=()=>F.useContext(YX);qt.forwardRef((t,e)=>{const{onDragStart:n}=KX(),r=t.as||"div";return E.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});qt.createContext({markViewContentRef:()=>{}});var H1=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},ZX=/^\s*>\s$/,QX=Ai.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return H1("blockquote",{...rr(this.options.HTMLAttributes,t),children:H1("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yu({find:ZX,type:this.type})]}}),JX=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,eY=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,tY=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,nY=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,rY=ic.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return H1("strong",{...rr(this.options.HTMLAttributes,t),children:H1("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xu({find:JX,type:this.type}),xu({find:tY,type:this.type})]},addPasteRules(){return[Ql({find:eY,type:this.type}),Ql({find:nY,type:this.type})]}}),iY=/(^|[^`])`([^`]+)`(?!`)$/,sY=/(^|[^`])`([^`]+)`(?!`)/g,aY=ic.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xu({find:iY,type:this.type})]},addPasteRules(){return[Ql({find:sY,type:this.type})]}}),Jg=4,oY=/^```([a-z]+)?[\s\n]$/,lY=/^~~~([a-z]+)?[\s\n]$/,cY=Ai.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Jg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",rr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jg,{state:r}=t,{selection:i}=r,{$from:s,empty:c}=i;if(s.parent.type!==this.type)return!1;const f=" ".repeat(n);return c?t.commands.insertContent(f):t.commands.command(({tr:p})=>{const{from:m,to:b}=i,N=r.doc.textBetween(m,b,`
`,`
`).split(`
`).map(A=>f+A).join(`
`);return p.replaceWith(m,b,r.schema.text(N)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jg,{state:r}=t,{selection:i}=r,{$from:s,empty:c}=i;return s.parent.type!==this.type?!1:c?t.commands.command(({tr:f})=>{var p;const{pos:m}=s,b=s.start(),v=s.end(),N=r.doc.textBetween(b,v,`
`,`
`).split(`
`);let A=0,R=0;const I=m-b;for(let V=0;V<N.length;V+=1){if(R+N[V].length>=I){A=V;break}R+=N[V].length+1}const U=((p=N[A].match(/^ */))==null?void 0:p[0])||"",j=Math.min(U.length,n);if(j===0)return!0;let W=b;for(let V=0;V<A;V+=1)W+=N[V].length+1;return f.delete(W,W+j),m-W<=j&&f.setSelection(pt.create(f.doc,W)),!0}):t.commands.command(({tr:f})=>{const{from:p,to:m}=i,_=r.doc.textBetween(p,m,`
`,`
`).split(`
`).map(N=>{var A;const R=((A=N.match(/^ */))==null?void 0:A[0])||"",I=Math.min(R.length,n);return N.slice(I)}).join(`
`);return f.replaceWith(p,m,r.schema.text(_)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!s||!c?!1:t.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const f=i.after();return f===void 0?!1:r.nodeAt(f)?t.commands.command(({tr:m})=>(m.setSelection(Nt.near(r.resolve(f))),!0)):t.commands.exitCode()}}},addInputRules(){return[U2({find:oY,type:this.type,getAttributes:t=>({language:t[1]})}),U2({find:lY,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yn({key:new Ir("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:c,schema:f}=t.state,p=f.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:s},p)),c.selection.$from.parent.type!==this.type&&c.setSelection(pt.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),uY=Ai.create({name:"doc",topNode:!0,content:"block+"}),fY=Ai.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",rr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:f}=r.extensionManager,p=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:b})=>{if(b&&p&&c){const v=p.filter(_=>f.includes(_.type.name));m.ensureMarks(v)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),dY=Ai.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,rr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>U2({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),hY=Ai.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",rr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!AX(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return rT(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:c,dispatch:f})=>{if(f){const{$to:p}=c.selection,m=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?c.setSelection(pt.create(c.doc,p.pos+1)):p.nodeAfter.isBlock?c.setSelection(lt.create(c.doc,p.pos)):c.setSelection(pt.create(c.doc,p.pos));else{const b=s.schema.nodes[this.options.nextNodeType]||p.parent.type.contentMatch.defaultType,v=b==null?void 0:b.create();v&&(c.insert(m,v),c.setSelection(pt.create(c.doc,m+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[vT({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),pY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,mY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,gY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,xY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,yY=ic.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xu({find:pY,type:this.type}),xu({find:gY,type:this.type})]},addPasteRules(){return[Ql({find:mY,type:this.type}),Ql({find:xY,type:this.type})]}});const bY="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",wY="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",V2="numeric",G2="ascii",$2="alpha",Vf="asciinumeric",jf="alphanumeric",q2="domain",ST="emoji",vY="scheme",CY="slashscheme",e2="whitespace";function EY(t,e){return t in e||(e[t]=[]),e[t]}function zl(t,e,n){e[V2]&&(e[Vf]=!0,e[jf]=!0),e[G2]&&(e[Vf]=!0,e[$2]=!0),e[Vf]&&(e[jf]=!0),e[$2]&&(e[jf]=!0),e[jf]&&(e[q2]=!0),e[ST]&&(e[q2]=!0);for(const r in e){const i=EY(r,n);i.indexOf(t)<0&&i.push(t)}}function SY(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ci(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ci.groups={};Ci.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ci.groups;let i;return e&&e.j?i=e:(i=new Ci(e),n&&r&&zl(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let c=0;c<s-1;c++)i=i.tt(t[c]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ci.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let c,f=i.go(t);if(f?(c=new Ci,Object.assign(c.j,f.j),c.jr.push.apply(c.jr,f.jr),c.jd=f.jd,c.t=f.t):c=new Ci,s){if(r)if(c.t&&typeof c.t=="string"){const p=Object.assign(SY(c.t,r),n);zl(s,p,r)}else n&&zl(s,n,r);c.t=s}return i.j[t]=c,c}};const At=(t,e,n,r,i)=>t.ta(e,n,r,i),qn=(t,e,n,r,i)=>t.tr(e,n,r,i),oE=(t,e,n,r,i)=>t.ts(e,n,r,i),ze=(t,e,n,r,i)=>t.tt(e,n,r,i),qa="WORD",W2="UWORD",_T="ASCIINUMERICAL",TT="ALPHANUMERICAL",od="LOCALHOST",X2="TLD",Y2="UTLD",c1="SCHEME",au="SLASH_SCHEME",Kx="NUM",K2="WS",Zx="NL",Gf="OPENBRACE",$f="CLOSEBRACE",V1="OPENBRACKET",G1="CLOSEBRACKET",$1="OPENPAREN",q1="CLOSEPAREN",W1="OPENANGLEBRACKET",X1="CLOSEANGLEBRACKET",Y1="FULLWIDTHLEFTPAREN",K1="FULLWIDTHRIGHTPAREN",Z1="LEFTCORNERBRACKET",Q1="RIGHTCORNERBRACKET",J1="LEFTWHITECORNERBRACKET",e0="RIGHTWHITECORNERBRACKET",t0="FULLWIDTHLESSTHAN",n0="FULLWIDTHGREATERTHAN",r0="AMPERSAND",i0="APOSTROPHE",s0="ASTERISK",Po="AT",a0="BACKSLASH",o0="BACKTICK",l0="CARET",Uo="COLON",Qx="COMMA",c0="DOLLAR",ra="DOT",u0="EQUALS",Jx="EXCLAMATION",as="HYPHEN",qf="PERCENT",f0="PIPE",d0="PLUS",h0="POUND",Wf="QUERY",ey="QUOTE",AT="FULLWIDTHMIDDLEDOT",ty="SEMI",ia="SLASH",Xf="TILDE",p0="UNDERSCORE",NT="EMOJI",m0="SYM";var OT=Object.freeze({__proto__:null,ALPHANUMERICAL:TT,AMPERSAND:r0,APOSTROPHE:i0,ASCIINUMERICAL:_T,ASTERISK:s0,AT:Po,BACKSLASH:a0,BACKTICK:o0,CARET:l0,CLOSEANGLEBRACKET:X1,CLOSEBRACE:$f,CLOSEBRACKET:G1,CLOSEPAREN:q1,COLON:Uo,COMMA:Qx,DOLLAR:c0,DOT:ra,EMOJI:NT,EQUALS:u0,EXCLAMATION:Jx,FULLWIDTHGREATERTHAN:n0,FULLWIDTHLEFTPAREN:Y1,FULLWIDTHLESSTHAN:t0,FULLWIDTHMIDDLEDOT:AT,FULLWIDTHRIGHTPAREN:K1,HYPHEN:as,LEFTCORNERBRACKET:Z1,LEFTWHITECORNERBRACKET:J1,LOCALHOST:od,NL:Zx,NUM:Kx,OPENANGLEBRACKET:W1,OPENBRACE:Gf,OPENBRACKET:V1,OPENPAREN:$1,PERCENT:qf,PIPE:f0,PLUS:d0,POUND:h0,QUERY:Wf,QUOTE:ey,RIGHTCORNERBRACKET:Q1,RIGHTWHITECORNERBRACKET:e0,SCHEME:c1,SEMI:ty,SLASH:ia,SLASH_SCHEME:au,SYM:m0,TILDE:Xf,TLD:X2,UNDERSCORE:p0,UTLD:Y2,UWORD:W2,WORD:qa,WS:K2});const Ha=/[a-z]/,Of=new RegExp("\\p{L}","u"),t2=new RegExp("\\p{Emoji}","u"),Va=/\d/,n2=/\s/,lE="\r",r2=`
`,_Y="",TY="",i2="";let Xh=null,Yh=null;function AY(t=[]){const e={};Ci.groups=e;const n=new Ci;Xh==null&&(Xh=cE(bY)),Yh==null&&(Yh=cE(wY)),ze(n,"'",i0),ze(n,"{",Gf),ze(n,"}",$f),ze(n,"[",V1),ze(n,"]",G1),ze(n,"(",$1),ze(n,")",q1),ze(n,"<",W1),ze(n,">",X1),ze(n,"",Y1),ze(n,"",K1),ze(n,"",Z1),ze(n,"",Q1),ze(n,"",J1),ze(n,"",e0),ze(n,"",t0),ze(n,"",n0),ze(n,"&",r0),ze(n,"*",s0),ze(n,"@",Po),ze(n,"`",o0),ze(n,"^",l0),ze(n,":",Uo),ze(n,",",Qx),ze(n,"$",c0),ze(n,".",ra),ze(n,"=",u0),ze(n,"!",Jx),ze(n,"-",as),ze(n,"%",qf),ze(n,"|",f0),ze(n,"+",d0),ze(n,"#",h0),ze(n,"?",Wf),ze(n,'"',ey),ze(n,"/",ia),ze(n,";",ty),ze(n,"~",Xf),ze(n,"_",p0),ze(n,"\\",a0),ze(n,"",AT);const r=qn(n,Va,Kx,{[V2]:!0});qn(r,Va,r);const i=qn(r,Ha,_T,{[Vf]:!0}),s=qn(r,Of,TT,{[jf]:!0}),c=qn(n,Ha,qa,{[G2]:!0});qn(c,Va,i),qn(c,Ha,c),qn(i,Va,i),qn(i,Ha,i);const f=qn(n,Of,W2,{[$2]:!0});qn(f,Ha),qn(f,Va,s),qn(f,Of,f),qn(s,Va,s),qn(s,Ha),qn(s,Of,s);const p=ze(n,r2,Zx,{[e2]:!0}),m=ze(n,lE,K2,{[e2]:!0}),b=qn(n,n2,K2,{[e2]:!0});ze(n,i2,b),ze(m,r2,p),ze(m,i2,b),qn(m,n2,b),ze(b,lE),ze(b,r2),qn(b,n2,b),ze(b,i2,b);const v=qn(n,t2,NT,{[ST]:!0});ze(v,"#"),qn(v,t2,v),ze(v,_Y,v);const _=ze(v,TY);ze(_,"#"),qn(_,t2,v);const N=[[Ha,c],[Va,i]],A=[[Ha,null],[Of,f],[Va,s]];for(let R=0;R<Xh.length;R++)Do(n,Xh[R],X2,qa,N);for(let R=0;R<Yh.length;R++)Do(n,Yh[R],Y2,W2,A);zl(X2,{tld:!0,ascii:!0},e),zl(Y2,{utld:!0,alpha:!0},e),Do(n,"file",c1,qa,N),Do(n,"mailto",c1,qa,N),Do(n,"http",au,qa,N),Do(n,"https",au,qa,N),Do(n,"ftp",au,qa,N),Do(n,"ftps",au,qa,N),zl(c1,{scheme:!0,ascii:!0},e),zl(au,{slashscheme:!0,ascii:!0},e),t=t.sort((R,I)=>R[0]>I[0]?1:-1);for(let R=0;R<t.length;R++){const I=t[R][0],U=t[R][1]?{[vY]:!0}:{[CY]:!0};I.indexOf("-")>=0?U[q2]=!0:Ha.test(I)?Va.test(I)?U[Vf]=!0:U[G2]=!0:U[V2]=!0,oE(n,I,I,U)}return oE(n,"localhost",od,{ascii:!0}),n.jd=new Ci(m0),{start:n,tokens:Object.assign({groups:e},OT)}}function MT(t,e){const n=NY(e.replace(/[A-Z]/g,f=>f.toLowerCase())),r=n.length,i=[];let s=0,c=0;for(;c<r;){let f=t,p=null,m=0,b=null,v=-1,_=-1;for(;c<r&&(p=f.go(n[c]));)f=p,f.accepts()?(v=0,_=0,b=f):v>=0&&(v+=n[c].length,_++),m+=n[c].length,s+=n[c].length,c++;s-=v,c-=_,m-=v,i.push({t:b.t,v:e.slice(s-m,s),s:s-m,e:s})}return i}function NY(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,c=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(c),r+=c.length}return e}function Do(t,e,n,r,i){let s;const c=e.length;for(let f=0;f<c-1;f++){const p=e[f];t.j[p]?s=t.j[p]:(s=new Ci(r),s.jr=i.slice(),t.j[p]=s),t=s}return s=new Ci(n),s.jr=i.slice(),t.j[e[c-1]]=s,s}function cE(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let c=parseInt(t.substring(r,r+s),10);c>0;c--)n.pop();r+=s}else n.push(t[r]),r++}return e}const ld={defaultProtocol:"http",events:null,format:uE,formatHref:uE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ny(t,e=null){let n=Object.assign({},ld);t&&(n=Object.assign(n,t instanceof ny?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}ny.prototype={o:ld,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ld[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function uE(t){return t}function RT(t,e){this.t="token",this.v=t,this.tk=e}RT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ld.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),c={},f=t.get("className",n,e),p=t.get("target",n,e),m=t.get("rel",n,e),b=t.getObj("attributes",n,e),v=t.getObj("events",n,e);return c.href=r,f&&(c.class=f),p&&(c.target=p),m&&(c.rel=m),b&&Object.assign(c,b),{tagName:i,attributes:c,content:s,eventListeners:v}}};function G0(t,e){class n extends RT{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fE=G0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dE=G0("text"),OY=G0("nl"),Kh=G0("url",{isLink:!0,toHref(t=ld.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==od&&t[1].t===Uo}}),is=t=>new Ci(t);function MY({groups:t}){const e=t.domain.concat([r0,s0,Po,a0,o0,l0,c0,u0,as,Kx,qf,f0,d0,h0,ia,m0,Xf,p0]),n=[i0,Uo,Qx,ra,Jx,qf,Wf,ey,ty,W1,X1,Gf,$f,G1,V1,$1,q1,Y1,K1,Z1,Q1,J1,e0,t0,n0],r=[r0,i0,s0,a0,o0,l0,c0,u0,as,Gf,$f,qf,f0,d0,h0,Wf,ia,m0,Xf,p0],i=is(),s=ze(i,Xf);At(s,r,s),At(s,t.domain,s);const c=is(),f=is(),p=is();At(i,t.domain,c),At(i,t.scheme,f),At(i,t.slashscheme,p),At(c,r,s),At(c,t.domain,c);const m=ze(c,Po);ze(s,Po,m),ze(f,Po,m),ze(p,Po,m);const b=ze(s,ra);At(b,r,s),At(b,t.domain,s);const v=is();At(m,t.domain,v),At(v,t.domain,v);const _=ze(v,ra);At(_,t.domain,v);const N=is(fE);At(_,t.tld,N),At(_,t.utld,N),ze(m,od,N);const A=ze(v,as);ze(A,as,A),At(A,t.domain,v),At(N,t.domain,v),ze(N,ra,_),ze(N,as,A);const R=ze(N,Uo);At(R,t.numeric,fE);const I=ze(c,as),k=ze(c,ra);ze(I,as,I),At(I,t.domain,c),At(k,r,s),At(k,t.domain,c);const U=is(Kh);At(k,t.tld,U),At(k,t.utld,U),At(U,t.domain,c),At(U,r,s),ze(U,ra,k),ze(U,as,I),ze(U,Po,m);const j=ze(U,Uo),W=is(Kh);At(j,t.numeric,W);const X=is(Kh),V=is();At(X,e,X),At(X,n,V),At(V,e,X),At(V,n,V),ze(U,ia,X),ze(W,ia,X);const Y=ze(f,Uo),se=ze(p,Uo),K=ze(se,ia),be=ze(K,ia);At(f,t.domain,c),ze(f,ra,k),ze(f,as,I),At(p,t.domain,c),ze(p,ra,k),ze(p,as,I),At(Y,t.domain,X),ze(Y,ia,X),ze(Y,Wf,X),At(be,t.domain,X),At(be,e,X),ze(be,ia,X);const _e=[[Gf,$f],[V1,G1],[$1,q1],[W1,X1],[Y1,K1],[Z1,Q1],[J1,e0],[t0,n0]];for(let ge=0;ge<_e.length;ge++){const[je,Ue]=_e[ge],re=ze(X,je);ze(V,je,re),ze(re,Ue,X);const G=is(Kh);At(re,e,G);const ie=is();At(re,n),At(G,e,G),At(G,n,ie),At(ie,e,G),At(ie,n,ie),ze(G,Ue,X),ze(ie,Ue,X)}return ze(i,od,U),ze(i,Zx,OY),{start:i,tokens:OT}}function RY(t,e,n){let r=n.length,i=0,s=[],c=[];for(;i<r;){let f=t,p=null,m=null,b=0,v=null,_=-1;for(;i<r&&!(p=f.go(n[i].t));)c.push(n[i++]);for(;i<r&&(m=p||f.go(n[i].t));)p=null,f=m,f.accepts()?(_=0,v=f):_>=0&&_++,i++,b++;if(_<0)i-=b,i<r&&(c.push(n[i]),i++);else{c.length>0&&(s.push(s2(dE,e,c)),c=[]),i-=_,b-=_;const N=v.t,A=n.slice(i-b,i);s.push(s2(N,e,A))}}return c.length>0&&s.push(s2(dE,e,c)),s}function s2(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const IY=typeof console<"u"&&console&&console.warn||(()=>{}),DY="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function kY(){return Ci.groups={},Rn.scanner=null,Rn.parser=null,Rn.tokenQueue=[],Rn.pluginQueue=[],Rn.customSchemes=[],Rn.initialized=!1,Rn}function hE(t,e=!1){if(Rn.initialized&&IY(`linkifyjs: already initialized - will not register custom scheme "${t}" ${DY}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rn.customSchemes.push([t,e])}function BY(){Rn.scanner=AY(Rn.customSchemes);for(let t=0;t<Rn.tokenQueue.length;t++)Rn.tokenQueue[t][1]({scanner:Rn.scanner});Rn.parser=MY(Rn.scanner.tokens);for(let t=0;t<Rn.pluginQueue.length;t++)Rn.pluginQueue[t][1]({scanner:Rn.scanner,parser:Rn.parser});return Rn.initialized=!0,Rn}function ry(t){return Rn.initialized||BY(),RY(Rn.parser.start,t,MT(Rn.scanner.start,t))}ry.scan=MT;function IT(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new ny(n),i=ry(t),s=[];for(let c=0;c<i.length;c++){const f=i[c];f.isLink&&(!e||f.t===e)&&r.check(f)&&s.push(f.toFormattedObject(r))}return s}var iy="[\0- -\u2029]",LY=new RegExp(iy),PY=new RegExp(`${iy}$`),jY=new RegExp(iy,"g");function zY(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function FY(t){return new Yn({key:new Ir("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(m=>m.docChanged)&&!n.doc.eq(r.doc),s=e.some(m=>m.getMeta("preventAutolink"));if(!i||s)return;const{tr:c}=r,f=q4(n.doc,[...e]);if(tT(f).forEach(({newRange:m})=>{const b=Vq(r.doc,m,N=>N.isTextblock);let v,_;if(b.length>1)v=b[0],_=r.doc.textBetween(v.pos,v.pos+v.node.nodeSize,void 0," ");else if(b.length){const N=r.doc.textBetween(m.from,m.to," "," ");if(!PY.test(N))return;v=b[0],_=r.doc.textBetween(v.pos,m.to,void 0," ")}if(v&&_){const N=_.split(LY).filter(Boolean);if(N.length<=0)return!1;const A=N[N.length-1],R=v.pos+_.lastIndexOf(A);if(!A)return!1;const I=ry(A).map(k=>k.toObject(t.defaultProtocol));if(!zY(I))return!1;I.filter(k=>k.isLink).map(k=>({...k,from:R+k.start+1,to:R+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{Wx(k.from,k.to,r.doc).some(U=>U.mark.type===t.type)||c.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!c.steps.length)return c}})}function UY(t){return new Yn({key:new Ir("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let b=r.target;const v=[];for(;b.nodeName!=="DIV";)v.push(b),b=b.parentNode;c=v.find(_=>_.nodeName==="A")}if(!c)return!1;const f=eT(e.state,t.type.name),p=(i=c==null?void 0:c.href)!=null?i:f.href,m=(s=c==null?void 0:c.target)!=null?s:f.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&p?(window.open(p,m),!0):!1}}})}function HY(t){return new Yn({key:new Ir("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:c}=s;if(c)return!1;let f="";r.content.forEach(m=>{f+=m.textContent});const p=IT(f,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===f);return!f||!p?!1:t.editor.commands.setMark(t.type,{href:p.href})}}})}function Rl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(jY,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var VY=ic.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){hE(t);return}hE(t.scheme,t.optionalSlashes)})},onDestroy(){kY()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Rl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Rl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Rl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rr(this.options.HTMLAttributes,t),0]:["a",rr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Rl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Rl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ql({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=IT(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:c=>!!Rl(c,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(FY({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Rl(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(UY({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(HY({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),GY=Object.defineProperty,$Y=(t,e)=>{for(var n in e)GY(t,n,{get:e[n],enumerable:!0})},qY="listItem",pE="textStyle",mE=/^\s*([-+*])\s$/,DT=Ai.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(qY,this.editor.getAttributes(pE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=yu({find:mE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yu({find:mE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pE),editor:this.editor})),[t]}}),kT=Ai.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",rr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),WY={};$Y(WY,{findListItemPos:()=>bd,getNextListDepth:()=>sy,handleBackspace:()=>Z2,handleDelete:()=>Q2,hasListBefore:()=>BT,hasListItemAfter:()=>XY,hasListItemBefore:()=>LT,listItemHasSubList:()=>PT,nextListIsDeeper:()=>jT,nextListIsHigher:()=>zT});var bd=(t,e)=>{const{$from:n}=e.selection,r=cr(t,e.schema);let i=null,s=n.depth,c=n.pos,f=null;for(;s>0&&f===null;)i=n.node(s),i.type===r?f=s:(s-=1,c-=1);return f===null?null:{$pos:e.doc.resolve(c),depth:f}},sy=(t,e)=>{const n=bd(t,e);if(!n)return!1;const[,r]=Jq(e,t,n.$pos.pos+4);return r},BT=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},LT=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},PT=(t,e,n)=>{if(!n)return!1;const r=cr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},Z2=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Jo(t.state,e)&&BT(t.state,e,n)){const{$anchor:f}=t.state.selection,p=t.state.doc.resolve(f.before()-1),m=[];p.node().descendants((_,N)=>{_.type.name===e&&m.push({node:_,pos:N})});const b=m.at(-1);if(!b)return!1;const v=t.state.doc.resolve(p.start()+b.pos+1);return t.chain().cut({from:f.start()-1,to:f.end()+1},v.end()).joinForward().run()}if(!Jo(t.state,e)||!rW(t.state))return!1;const r=bd(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=PT(e,t.state,s);return LT(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},jT=(t,e)=>{const n=sy(t,e),r=bd(t,e);return!r||!n?!1:n>r.depth},zT=(t,e)=>{const n=sy(t,e),r=bd(t,e);return!r||!n?!1:n<r.depth},Q2=(t,e)=>{if(!Jo(t.state,e)||!nW(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:jT(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():zT(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},XY=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},FT=ur.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Q2(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Q2(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Z2(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Z2(t,n,r)&&(e=!0)}),e}}}}),YY="listItem",gE="textStyle",xE=/^(\d+)\.\s$/,UT=Ai.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",rr(this.options.HTMLAttributes,n),0]:["ol",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(YY,this.editor.getAttributes(gE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=yu({find:xE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=yu({find:xE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(gE)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),KY=/^\s*(\[([( |x])?\])\s$/,ZY=Ai.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",rr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),c=document.createElement("span"),f=document.createElement("input"),p=document.createElement("div"),m=b=>{var v,_;f.ariaLabel=((_=(v=this.options.a11y)==null?void 0:v.checkboxLabel)==null?void 0:_.call(v,b,f.checked))||`Task item checkbox for ${b.textContent||"empty task item"}`};return m(t),s.contentEditable="false",f.type="checkbox",f.addEventListener("mousedown",b=>b.preventDefault()),f.addEventListener("change",b=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){f.checked=!f.checked;return}const{checked:v}=b.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:_})=>{const N=n();if(typeof N!="number")return!1;const A=_.doc.nodeAt(N);return _.setNodeMarkup(N,void 0,{...A==null?void 0:A.attrs,checked:v}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,v)||(f.checked=!f.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,v])=>{i.setAttribute(b,v)}),i.dataset.checked=t.attrs.checked,f.checked=t.attrs.checked,s.append(f,c),i.append(s,p),Object.entries(e).forEach(([b,v])=>{i.setAttribute(b,v)}),{dom:i,contentDOM:p,update:b=>b.type!==this.type?!1:(i.dataset.checked=b.attrs.checked,f.checked=b.attrs.checked,m(b),!0)}}},addInputRules(){return[yu({find:KY,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),QY=Ai.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",rr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ur.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(DT.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(kT.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(FT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(UT.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(ZY.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(QY.configure(this.options.taskList)),t}});var JY=Ai.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,nK=ic.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xu({find:eK,type:this.type})]},addPasteRules(){return[Ql({find:tK,type:this.type})]}}),rK=Ai.create({name:"text",group:"inline"}),iK=ic.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",rr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function sK(t={}){return new Yn({view(e){return new aK(e,t)}})}class aK{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=c=>{this[i](c)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),c=s.width/i.offsetWidth,f=s.height/i.offsetHeight;if(n){let v=e.nodeBefore,_=e.nodeAfter;if(v||_){let N=this.editorView.nodeDOM(this.cursorPos-(v?v.nodeSize:0));if(N){let A=N.getBoundingClientRect(),R=v?A.bottom:A.top;v&&_&&(R=(R+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let I=this.width/2*f;r={left:A.left,right:A.right,top:R-I,bottom:R+I}}}}if(!r){let v=this.editorView.coordsAtPos(this.cursorPos),_=this.width/2*c;r={left:v.left-_,right:v.left+_,top:v.top,bottom:v.bottom}}let p=this.editorView.dom.offsetParent;this.element||(this.element=p.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let m,b;if(!p||p==document.body&&getComputedStyle(p).position=="static")m=-pageXOffset,b=-pageYOffset;else{let v=p.getBoundingClientRect(),_=v.width/p.offsetWidth,N=v.height/p.offsetHeight;m=v.left-p.scrollLeft*_,b=v.top-p.scrollTop*N}this.element.style.left=(r.left-m)/c+"px",this.element.style.top=(r.top-b)/f+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=G_(this.editorView.state.doc,c,this.editorView.dragging.slice);f!=null&&(c=f)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Xn extends Nt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Xn.valid(r)?new Xn(r):Nt.near(r)}content(){return Ge.empty}eq(e){return e instanceof Xn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Xn(e.resolve(n.pos))}getBookmark(){return new ay(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oK(e)||!lK(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Xn.valid(e))return e;let i=e.pos,s=null;for(let c=e.depth;;c--){let f=e.node(c);if(n>0?e.indexAfter(c)<f.childCount:e.index(c)>0){s=f.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;i+=n;let p=e.doc.resolve(i);if(Xn.valid(p))return p}for(;;){let c=n>0?s.firstChild:s.lastChild;if(!c){if(s.isAtom&&!s.isText&&!lt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=c,i+=n;let f=e.doc.resolve(i);if(Xn.valid(f))return f}return null}}}Xn.prototype.visible=!1;Xn.findFrom=Xn.findGapCursorFrom;Nt.jsonID("gapcursor",Xn);class ay{constructor(e){this.pos=e}map(e){return new ay(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Xn.valid(n)?new Xn(n):Nt.near(n)}}function oK(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lK(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function cK(){return new Yn({props:{decorations:hK,createSelectionBetween(t,e,n){return e.pos==n.pos&&Xn.valid(n)?new Xn(n):null},handleClick:fK,handleKeyDown:uK,handleDOMEvents:{beforeinput:dK}}})}const uK=I4({ArrowLeft:Zh("horiz",-1),ArrowRight:Zh("horiz",1),ArrowUp:Zh("vert",-1),ArrowDown:Zh("vert",1)});function Zh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let c=r.selection,f=e>0?c.$to:c.$from,p=c.empty;if(c instanceof pt){if(!s.endOfTextblock(n)||f.depth==0)return!1;p=!1,f=r.doc.resolve(e>0?f.after():f.before())}let m=Xn.findGapCursorFrom(f,e,p);return m?(i&&i(r.tr.setSelection(new Xn(m))),!0):!1}}function fK(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Xn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&lt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Xn(r))),!0)}function dK(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Xn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Ie.empty;for(let c=r.length-1;c>=0;c--)i=Ie.from(r[c].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ge(i,0,0));return s.setSelection(pt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function hK(t){if(!(t.selection instanceof Xn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Fn.create(t.doc,[li.widget(t.selection.head,e,{key:"gapcursor"})])}var g0=200,Or=function(){};Or.prototype.append=function(e){return e.length?(e=Or.from(e),!this.length&&e||e.length<g0&&this.leafAppend(e)||this.length<g0&&e.leafPrepend(this)||this.appendInner(e)):this};Or.prototype.prepend=function(e){return e.length?Or.from(e).append(this):this};Or.prototype.appendInner=function(e){return new pK(this,e)};Or.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Or.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Or.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Or.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Or.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,c){return i.push(e(s,c))},n,r),i};Or.from=function(e){return e instanceof Or?e:e&&e.length?new HT(e):Or.empty};var HT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,c,f){for(var p=s;p<c;p++)if(i(this.values[p],f+p)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,c,f){for(var p=s-1;p>=c;p--)if(i(this.values[p],f+p)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=g0)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=g0)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Or);Or.empty=new HT([]);var pK=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,c){var f=this.left.length;if(i<f&&this.left.forEachInner(r,i,Math.min(s,f),c)===!1||s>f&&this.right.forEachInner(r,Math.max(i-f,0),Math.min(this.length,s)-f,c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,c){var f=this.left.length;if(i>f&&this.right.forEachInvertedInner(r,i-f,Math.max(s,f)-f,c+f)===!1||s<f&&this.left.forEachInvertedInner(r,Math.min(i,f),s,c)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Or);const mK=500;class Ns{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let c=e.tr,f,p,m=[],b=[];return this.items.forEach((v,_)=>{if(!v.step){i||(i=this.remapping(r,_+1),s=i.maps.length),s--,b.push(v);return}if(i){b.push(new sa(v.map));let N=v.step.map(i.slice(s)),A;N&&c.maybeStep(N).doc&&(A=c.mapping.maps[c.mapping.maps.length-1],m.push(new sa(A,void 0,void 0,m.length+b.length))),s--,A&&i.appendMap(A,s)}else c.maybeStep(v.step);if(v.selection)return f=i?v.selection.map(i.slice(s)):v.selection,p=new Ns(this.items.slice(0,r).append(b.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:p,transform:c,selection:f}}addTransform(e,n,r,i){let s=[],c=this.eventCount,f=this.items,p=!i&&f.length?f.get(f.length-1):null;for(let b=0;b<e.steps.length;b++){let v=e.steps[b].invert(e.docs[b]),_=new sa(e.mapping.maps[b],v,n),N;(N=p&&p.merge(_))&&(_=N,b?s.pop():f=f.slice(0,f.length-1)),s.push(_),n&&(c++,n=void 0),i||(p=_)}let m=c-r.depth;return m>xK&&(f=gK(f,m),c-=m),new Ns(f.append(s),c)}remapping(e,n){let r=new ed;return this.items.forEach((i,s)=>{let c=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,c)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ns(this.items.append(e.map(n=>new sa(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,c=e.steps.length,f=this.eventCount;this.items.forEach(_=>{_.selection&&f--},i);let p=n;this.items.forEach(_=>{let N=s.getMirror(--p);if(N==null)return;c=Math.min(c,N);let A=s.maps[N];if(_.step){let R=e.steps[N].invert(e.docs[N]),I=_.selection&&_.selection.map(s.slice(p+1,N));I&&f++,r.push(new sa(A,R,I))}else r.push(new sa(A))},i);let m=[];for(let _=n;_<c;_++)m.push(new sa(s.maps[_]));let b=this.items.slice(0,i).append(m).append(r),v=new Ns(b,f);return v.emptyItemCount()>mK&&(v=v.compress(this.items.length-r.length)),v}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((c,f)=>{if(f>=e)i.push(c),c.selection&&s++;else if(c.step){let p=c.step.map(n.slice(r)),m=p&&p.getMap();if(r--,m&&n.appendMap(m,r),p){let b=c.selection&&c.selection.map(n.slice(r));b&&s++;let v=new sa(m.invert(),p,b),_,N=i.length-1;(_=i.length&&i[N].merge(v))?i[N]=_:i.push(v)}}else c.map&&r--},this.items.length,0),new Ns(Or.from(i.reverse()),s)}}Ns.empty=new Ns(Or.empty,0);function gK(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class sa{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new sa(n.getMap().invert(),n,this.selection)}}}class jo{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const xK=20;function yK(t,e,n,r){let i=n.getMeta($l),s;if(i)return i.historyState;n.getMeta(vK)&&(t=new jo(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta($l))return c.getMeta($l).redo?new jo(t.done.addTransform(n,void 0,r,u1(e)),t.undone,yE(n.mapping.maps),t.prevTime,t.prevComposition):new jo(t.done,t.undone.addTransform(n,void 0,r,u1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let f=n.getMeta("composition"),p=t.prevTime==0||!c&&t.prevComposition!=f&&(t.prevTime<(n.time||0)-r.newGroupDelay||!bK(n,t.prevRanges)),m=c?a2(t.prevRanges,n.mapping):yE(n.mapping.maps);return new jo(t.done.addTransform(n,p?e.selection.getBookmark():void 0,r,u1(e)),Ns.empty,m,n.time,f??t.prevComposition)}else return(s=n.getMeta("rebased"))?new jo(t.done.rebased(n,s),t.undone.rebased(n,s),a2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new jo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),a2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function bK(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function yE(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,c)=>e.push(s,c));return e}function a2(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function wK(t,e,n){let r=u1(e),i=$l.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let c=s.selection.resolve(s.transform.doc),f=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),p=new jo(n?f:s.remaining,n?s.remaining:f,null,0,-1);return s.transform.setSelection(c).setMeta($l,{redo:n,historyState:p})}let o2=!1,bE=null;function u1(t){let e=t.plugins;if(bE!=e){o2=!1,bE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){o2=!0;break}}return o2}const $l=new Ir("history"),vK=new Ir("closeHistory");function CK(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yn({key:$l,state:{init(){return new jo(Ns.empty,Ns.empty,null,0,-1)},apply(e,n,r){return yK(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?GT:r=="historyRedo"?$T:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function VT(t,e){return(n,r)=>{let i=$l.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=wK(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const GT=VT(!1,!0),$T=VT(!0,!0);ur.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Yn({key:new Ir("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const c=s-i,f=0,p=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const m=r.tr.deleteRange(f,p);return t=!0,m}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const f=e.selection.$head.pos,p=s-r,m=f-p,b=f;return e.deleteRange(m,b),!(this.storage.characters({node:e.doc})>r)}})]}});var EK=ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sK(this.options)]}});ur.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Yn({key:new Ir("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Fn.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((p,m)=>{if(p.isText)return;if(!(i>=m&&i<=m+p.nodeSize-1))return!1;c+=1});let f=0;return t.descendants((p,m)=>{if(p.isText||!(i>=m&&i<=m+p.nodeSize-1))return!1;if(f+=1,this.options.mode==="deepest"&&c-f>0||this.options.mode==="shallowest"&&f>1)return this.options.mode==="deepest";s.push(li.node(m,m+p.nodeSize,{class:this.options.className}))}),Fn.create(t,s)}}})]}});var SK=ur.create({name:"gapCursor",addProseMirrorPlugins(){return[cK()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ln(ot(t,"allowGapCursor",n)))!=null?e:null}}});ur.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Yn({key:new Ir("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((c,f)=>{const p=r>=f&&r<=f+c.nodeSize,m=!c.isLeaf&&U0(c);if((p||!this.options.showOnlyCurrent)&&m){const b=[this.options.emptyNodeClass];s&&b.push(this.options.emptyEditorClass);const v=li.node(f,f+c.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:f,hasAnchor:p}):this.options.placeholder});i.push(v)}return this.options.includeChildren}),Fn.create(t,i)}}})]}});ur.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Yn({key:new Ir("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||rT(n.selection)||t.view.dragging?null:Fn.create(n.doc,[li.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function wE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var _K=ur.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Ir(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Yn({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:c,schema:f}=i,p=t.getState(i),m=s.content.size,b=f.nodes[this.options.node];if(p)return c.insert(m,b.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!wE({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!wE({node:i,types:e})}}})]}}),TK=ur.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>GT(t,e),redo:()=>({state:t,dispatch:e})=>$T(t,e)}},addProseMirrorPlugins(){return[CK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),AK=ur.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(rY.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(QX.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(DT.configure(this.options.bulletList)),this.options.code!==!1&&i.push(aY.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(cY.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(uY.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(EK.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(SK.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(fY.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(dY.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(TK.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(hY.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(yY.configure(this.options.italic)),this.options.listItem!==!1&&i.push(kT.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(FT.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(VY.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(UT.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(JY.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(nK.configure(this.options.strike)),this.options.text!==!1&&i.push(rK.configure(this.options.text)),this.options.underline!==!1&&i.push(iK.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(_K.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),NK=AK,OK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,MK=Ai.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",rr(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[vT({find:OK,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),RK=MK;const IK="_editorWrapper_49lv1_1",DK="_menuBar_49lv1_13",kK="_isActive_49lv1_65",BK="_divider_49lv1_75",LK="_editorContent_49lv1_89",As={editorWrapper:IK,menuBar:DK,isActive:kK,divider:BK,editorContent:LK};function PK({editor:t}){const e=F.useRef(null);if(!t)return null;const n=F.useCallback(r=>{const i=r.target.files[0];if(i){const s=new FileReader;s.onload=c=>{const f=c.target.result;t.chain().focus().setImage({src:f}).run()},s.readAsDataURL(i)}r.target.value=""},[t]);return E.jsxs("div",{className:As.menuBar,children:[E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?As.isActive:"",children:E.jsx("b",{children:"B"})}),E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?As.isActive:"",children:E.jsx("i",{children:"I"})}),E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?As.isActive:"",children:E.jsx("s",{children:"S"})}),E.jsx("div",{className:As.divider}),E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?As.isActive:"",children:"H1"}),E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?As.isActive:"",children:"H2"}),E.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?As.isActive:"",children:"H3"}),E.jsx("div",{className:As.divider}),E.jsx("button",{type:"button",onClick:()=>e.current.click(),children:""}),E.jsx("input",{type:"file",ref:e,onChange:n,style:{display:"none"},accept:"image/*"})]})}function jK({content:t,onChange:e}){const n=WX({extensions:[NK.configure({heading:{levels:[1,2,3]}}),RK.configure({allowBase64:!0})],content:"",onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:As.editorContent}}});return F.useEffect(()=>{n&&t&&n.getHTML()!==t&&n.commands.setContent(t,!1),console.log(t)},[t,n]),E.jsxs("div",{className:As.editorWrapper,children:[E.jsx(PK,{editor:n}),E.jsx(FX,{editor:n})]})}function zK({data:t,setData:e,onFileChange:n}){var X,V,Y,se;const[r,i]=F.useState("info"),[s,c]=F.useState(""),[f,p]=F.useState(!1),[m,b]=F.useState(null),v=F.useRef(null),_=K=>{K.type==="compositionstart"&&p(!0),K.type==="compositionend"&&p(!1)};console.log(t);const N=K=>{if(!f&&K.key==="Enter"&&s.trim()!==""){K.preventDefault();const be=s.trim(),_e=t.gallery_category?t.gallery_category.split(",").map(ge=>ge.trim()):[];if(!_e.includes(be)){const ge=[..._e,be].join(", ");e(je=>({...je,gallery_category:ge}))}c("")}},A=K=>{const _e=t.gallery_category.split(",").map(ge=>ge.trim()).filter(ge=>ge!==K).join(", ");e(ge=>({...ge,gallery_category:_e}))},R=K=>{const{name:be,value:_e}=K.target;e(ge=>({...ge,[be]:_e}))},I=["","","","","","",""],k=K=>{const{value:be,checked:_e}=K.target,ge=t.gallery_closed_day?t.gallery_closed_day.split(",").map(re=>re.trim()):[];let je;_e?je=[...new Set([...ge,be])]:je=ge.filter(re=>re!==be);const Ue=I;je.sort((re,G)=>Ue.indexOf(re)-Ue.indexOf(G)),e(re=>({...re,gallery_closed_day:je.join(", ")}))},U=K=>{e(be=>({...be,gallery_description:K}))},j=t.gallery_category?t.gallery_category.split(",").map(K=>K.trim()):[],W=K=>{const be=K.target.files[0];if(be){n(be);const _e=URL.createObjectURL(be);b(_e)}K.target.value=""};return F.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&b(t.gallery_image)},[t.gallery_image]),E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:dt.card,children:[E.jsx("input",{className:`${dt.input} ${dt.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:R,placeholder:" "}),E.jsx("input",{className:`${dt.input} ${dt.gallerySubNameInput}`,name:"gallery_name_en",value:t.gallery_name_en||"",onChange:R,placeholder:"  ()"}),E.jsx("input",{type:"file",ref:v,onChange:W,accept:"image/*",style:{display:"none"}}),E.jsx("div",{className:dt.imageUploadBox,onClick:()=>v.current.click(),children:m?E.jsx("img",{src:m,alt:"  ",className:dt.previewImage}):E.jsx("p",{children:"+    "})}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsxs("div",{className:dt.tagInputContainer,children:[j.map(K=>E.jsxs("div",{className:dt.tagItem,children:[K,E.jsx("button",{type:"button",className:dt.removeTagBtn,onClick:()=>A(K),children:""})]},K)),E.jsx("input",{type:"text",className:dt.tagInputField,value:s,onChange:K=>c(K.target.value),onKeyDown:N,onCompositionStart:_,onCompositionEnd:_,placeholder:" "})]})]}),E.jsxs("div",{className:dt.formGrid,children:[E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsxs("div",{className:dt.timeInputContainer,children:[E.jsx("input",{type:"time",className:dt.timeInput,name:"gallery_start_time",value:((X=t.gallery_start_time)==null?void 0:X.slice(0,5))||"",onChange:R}),E.jsx("span",{children:"~"}),E.jsx("input",{type:"time",className:dt.timeInput,name:"gallery_end_time",value:((V=t.gallery_end_time)==null?void 0:V.slice(0,5))||"",onChange:R})]})]}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsx("div",{className:dt.checkboxGroup,children:I.map(K=>{var be;return E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"closedDays",value:K,checked:(be=t.gallery_closed_day)==null?void 0:be.includes(K),onChange:k})," ",K]},K)})})]}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsx("input",{className:dt.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:R})]}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsx("input",{className:dt.input,name:"gallery_address",value:t.gallery_address||"",onChange:R})]}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsx("input",{className:dt.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:R})]}),E.jsxs("div",{className:dt.inputGroup,children:[E.jsx("label",{className:dt.label,children:""}),E.jsx("input",{className:dt.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:R})]})]})]}),E.jsxs("div",{className:`${dt.card} ${dt.snsCard}`,children:[E.jsx("label",{className:dt.label,children:"SNS"}),E.jsxs("div",{className:dt.snsInputGroup,children:[E.jsx("input",{className:dt.input,placeholder:"Instagram ",name:"sns_instagram",value:t.sns_instagram||"",onChange:R}),E.jsx("input",{className:dt.input,placeholder:"Twitter ",name:"sns_twitter",value:t.sns_twitter||"",onChange:R}),E.jsx("input",{className:dt.input,placeholder:"Facebook ",name:"sns_facebook",value:t.sns_facebook||"",onChange:R}),E.jsx("input",{className:dt.input,placeholder:"YouTube ",name:"sns_youtube",value:t.sns_youtube||"",onChange:R})]})]}),E.jsxs("div",{className:dt.tabContainer,children:[E.jsxs("nav",{className:dt.tabNav,children:[E.jsx("button",{className:`${dt.tabButton} ${r==="info"&&dt.activeTab}`,onClick:()=>i("info"),children:""}),E.jsxs("button",{className:`${dt.tabButton} ${r==="exhibitions"&&dt.activeTab}`,onClick:()=>i("exhibitions"),children:["(",((Y=t.exhibitions)==null?void 0:Y.length)||0,")"]})]}),E.jsxs("div",{className:dt.tabContent,children:[r==="info"&&E.jsx(jK,{content:t.gallery_description||"",onChange:U}),r==="exhibitions"&&(((se=t.exhibitions)==null?void 0:se.length)>0?E.jsx(vx,{exhibitions:t.exhibitions}):E.jsx("p",{className:dt.emptyContent,children:"   ."}))]})]})]})}const FK={galleries:{title:" ",apiUrl:t=>`/api/galleries/${t}`,consoleApiUrl:t=>`/api/console/galleries/${t}`},exhibitions:{title:"  ",apiUrl:t=>`/api/exhibitions/${t}`},artworks:{title:"  ",apiUrl:t=>`/api/artworks/${t}`}},UK={galleries:zK};function l2({type:t}){const{id:e}=Is(),n=wn(),[r,i]=F.useState(null),[s,c]=F.useState(null),[f,p]=F.useState(!1),m=FK[t],b=UK[t];F.useEffect(()=>{m&&(async()=>{try{const A=await In.get(m.consoleApiUrl(e));i(A.data)}catch(A){console.error("  :",A),i({})}})()},[e,m]);const v=()=>{window.confirm(" ?   .")&&n(`/console/${t}/${e}`)},_=async()=>{if(!f){p(!0);try{const N={...r};await In.put(m.apiUrl(e),N,{headers:{"Content-Type":"application/json"}}),alert("."),n(`/console/${t}/${e}`)}catch(N){console.error("  :",N),alert(" .  .")}finally{p(!1)}}};return r?E.jsxs("div",{className:na.layout,children:[E.jsxs("header",{className:na.header,children:[E.jsx("button",{className:na.backButton,onClick:v,children:"<"}),E.jsx("h1",{className:na.title,children:m.title})]}),E.jsx("main",{className:na.formContainer,children:b&&E.jsx(b,{data:r,setData:i,onFileChange:c})}),E.jsxs("div",{className:na.bottomButtonContainer,children:[E.jsx("button",{className:`${na.button} ${na.saveButton}`,onClick:_,children:""}),E.jsx("button",{className:`${na.button} ${na.cancelButton}`,onClick:v,disabled:f,children:""})]})]}):E.jsx("div",{children:"  ..."})}const HK="_layout_meb6i_1",VK="_infoSection_meb6i_19",GK="_artistImage_meb6i_37",$K="_artistTitle_meb6i_53",qK="_subSpan_meb6i_65",WK="_icon_meb6i_75",XK="_icHeart_meb6i_85",YK="_buttonContainer_meb6i_93",KK="_subButton_meb6i_103",ZK="_backButton_meb6i_117",ss={layout:HK,infoSection:VK,artistImage:GK,artistTitle:$K,subSpan:qK,icon:WK,icHeart:XK,buttonContainer:YK,subButton:KK,backButton:ZK},QK="_activitySection_9ev0z_1",JK="_activityTypeContainer_9ev0z_17",eZ="_activedActivityTypeBox_9ev0z_25",tZ="_activityTypeBox_9ev0z_27",nZ="_artworkImage_9ev0z_55",rZ="_activityItemList_9ev0z_65",iZ="_activityImage_9ev0z_83",sZ="_activityItemInfoBox_9ev0z_97",aZ="_descriptionParagraph_9ev0z_105",oZ="_activityItemTitle_9ev0z_115",lZ="_activityItemSpan_9ev0z_127",Tr={activitySection:QK,activityTypeContainer:JK,activedActivityTypeBox:eZ,activityTypeBox:tZ,artworkImage:nZ,activityItemList:rZ,activityImage:iZ,activityItemInfoBox:sZ,descriptionParagraph:aZ,activityItemTitle:oZ,activityItemSpan:lZ};function cZ({description:t,artworks:e,exhibitions:n}){const[r,i]=F.useState("profile"),s=c=>{i(c)};return E.jsxs("section",{className:Tr.activitySection,children:[E.jsxs("div",{className:Tr.activityTypeContainer,children:[E.jsx("button",{className:r==="profile"?Tr.activedActivityTypeBox:Tr.activityTypeBox,onClick:()=>{s("profile")},children:""}),E.jsx("button",{className:r==="exhibitions"?Tr.activedActivityTypeBox:Tr.activityTypeBox,onClick:()=>{s("exhibitions")},children:""}),E.jsx("button",{className:r==="artworks"?Tr.activedActivityTypeBox:Tr.activityTypeBox,onClick:()=>{s("artworks")},children:""})]}),E.jsx("div",{className:Tr.activityItemList,children:r==="profile"?E.jsx("div",{children:E.jsx("p",{className:Tr.descriptionParagraph,children:t})}):r==="artworks"?e&&e.length===0?E.jsx("div",{children:"  "}):e==null?void 0:e.map(({id:c,imageUrl:f,title:p})=>E.jsxs("div",{className:Tr.activityItemContainer,children:[E.jsx("img",{className:Tr.artworkImage,src:f}),E.jsx("h3",{className:Tr.activityItemTitle,children:p})]},c)):n&&n.length===0?E.jsx("div",{children:"   "}):n==null?void 0:n.map(({id:c,exhibition_poster:f,exhibition_title:p,exhibition_start_date:m,exhibition_end_date:b})=>E.jsxs(cn,{className:Tr.activityItemContainer,to:`/exhibitions/${c}`,children:[E.jsx("img",{className:Tr.activityImage,src:f,alt:" "}),E.jsxs("div",{className:Tr.activityItemInfoBox,children:[E.jsx("h3",{className:Tr.activityItemTitle,children:p}),E.jsxs("span",{className:Tr.activityItemSpan,children:["| ",m," ~ ",b]})]})]},c))})]})}function uZ(){const{artistId:t}=Is(),[e,n]=F.useState([]),r=wn(),i=async()=>{try{const f=await nr.get(`/api/artists/${t}`);n(f.data)}catch(f){throw new Error(f)}};F.useEffect(()=>{i()},[]);const s=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&r("/login");try{e.is_liked===!0?await In.delete("/api/likes",{data:{liked_id:t,liked_type:"artist"}}):await In.post("/api/likes",{liked_id:t,liked_type:"artist"}),await i()}catch(f){console.error(f)}},c=[{label:" ",icon:E.jsx(N0,{className:`${ss.icon} ${e.is_liked===!0&&ss.icHeart}`}),action:s},{label:"",icon:E.jsx(x9,{className:ss.icon}),action:()=>{alert("  .")}},{label:"",icon:E.jsx(xx,{className:ss.icon}),action:()=>{alert("  .")}}];return E.jsxs("div",{className:ss.layout,children:[E.jsxs("section",{className:ss.infoSection,children:[E.jsx("img",{className:ss.artistImage,src:e.artist_image,alt:"  "}),E.jsx("h3",{className:ss.artistTitle,children:e.artist_name}),E.jsxs("span",{className:ss.subSpan,children:[e.artist_nation," | ",e.artist_category]})]}),E.jsx("div",{className:ss.buttonContainer,children:c.map(({label:f,icon:p,action:m})=>E.jsxs("button",{className:ss.subButton,onClick:m,children:[p,E.jsx("span",{children:f})]},f))}),E.jsx(cZ,{description:e.artist_description,artworks:e==null?void 0:e.artworks,exhibitions:e==null?void 0:e.exhibitions}),E.jsx(cn,{className:ss.backButton,to:"/artists",children:" "})]})}const fZ="_layout_1u2kc_1",dZ="_loginTitle_1u2kc_19",hZ="_subParagraph_1u2kc_31",pZ="_contentContainer_1u2kc_41",mZ="_submitButton_1u2kc_61",gZ="_loginForm_1u2kc_111",tu={layout:fZ,loginTitle:dZ,subParagraph:hZ,contentContainer:pZ,submitButton:mZ,loginForm:gZ},xZ="_layout_2bvox_1",yZ="_navigateLink_2bvox_19",bZ="_termParagraph_2bvox_59",wZ="_termLink_2bvox_77",vZ="_registerButton_2bvox_85",Mf={layout:xZ,navigateLink:yZ,termParagraph:bZ,termLink:wZ,registerButton:vZ};function CZ(){return E.jsxs("section",{className:Mf.layout,children:[E.jsx(cn,{className:Mf.navigateLink,to:"/find",children:" /  "}),E.jsxs("p",{className:Mf.termParagraph,children:["    ,",E.jsx("br",{})," "," ",E.jsx(cn,{className:Mf.termLink,children:"  "}),"",E.jsx("br",{}),"  ."]}),E.jsx(cn,{className:Mf.registerButton,to:"/register",children:" "})]})}function EZ(){var f;const{data:t,handleChange:e}=E1({login_id:"",login_pwd:""}),n=wn(),i=(f=Mr().state)==null?void 0:f.from,{login:s}=F.useContext(ux),c=async()=>{try{const p=await nr.post("/api/auth/login",t);s(p.data.data,p.data.jwt),console.log(p.data),n(i==="/register"?"/":-2)}catch(p){console.log(p),p.status===401?alert("   "):alert("  .    .")}};return E.jsxs("div",{className:tu.layout,children:[E.jsx("h1",{className:tu.loginTitle,children:""}),E.jsx("p",{className:tu.subParagraph,children:"  "}),E.jsxs("div",{className:tu.contentContainer,children:[E.jsxs("form",{className:tu.loginForm,action:c,children:[E.jsx(oa,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),E.jsx(oa,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",onChange:e,value:t.login_pwd}),E.jsx("button",{className:tu.submitButton,children:" "})]}),E.jsx(CZ,{})]})]})}const SZ="_layout_74o0f_1",_Z="_logo_74o0f_17",TZ="_loginParagraph_74o0f_41",AZ="_loginButton_74o0f_61",NZ="_registerLink_74o0f_99",Rf={layout:SZ,logo:_Z,loginParagraph:TZ,loginButton:AZ,registerLink:NZ},OZ="/assets/kakaobutton-Cwa8W2QI.svg";function MZ(){const t=wn(),e=()=>{t("/login-detail")};return E.jsxs("div",{className:Rf.layout,children:[E.jsx("h1",{className:Rf.logo,children:"ARTLY"}),E.jsx("p",{className:Rf.loginParagraph,children:"  "}),E.jsx("button",{children:E.jsx("img",{src:OZ})}),E.jsx("button",{className:Rf.loginButton,onClick:e,children:"  "}),E.jsx(cn,{className:Rf.registerLink,to:"/register",children:" "})]})}const RZ=d5([{path:"/",element:E.jsx(IO,{}),children:[{path:"/",element:E.jsx(t9,{})},{path:"/exhibitions",element:E.jsx(yI,{})},{path:"/galleries",element:E.jsx(LI,{})},{path:"/artists",element:E.jsx(TI,{})},{path:"/artworks",element:E.jsx(hL,{})},{path:"/search",element:E.jsx(Kk,{})},{path:"/notices",element:E.jsx(_B,{})},{path:"/exhibitions/:exhibitionId",element:E.jsx(n_,{})},{path:"/galleries/:galleryId",element:E.jsx(t_,{})},{path:"/artists/:artistId",element:E.jsx(uZ,{})},{path:"/notices/:noticeId",element:E.jsx(jB,{})},{path:"/artworks/:artworkId",element:E.jsx(JS,{})},{path:"/art/:artId",element:E.jsx(sL,{})},{path:"/catalog/:catalogId",element:E.jsx(zL,{})},{path:"/nearby-galleries",element:E.jsx(HP,{})},{path:"/login",element:E.jsx(MZ,{})},{path:"/login-detail",element:E.jsx(EZ,{})},{path:"/register",element:E.jsx(ZI,{})},{path:"/find",element:E.jsx(Ej,{})},{path:"/announcement",element:E.jsx(Bj,{})},{path:"/termspolicy",element:E.jsx(Gj,{})},{path:"/reservation/:exhibitionId",element:E.jsx(Zz,{})},{path:"/reservationconfirm/:reservationId",element:E.jsx(rz,{})},{element:E.jsx(DO,{}),children:[{path:"/mypage",element:E.jsx(tk,{})},{path:"/mypage/edit",element:E.jsx(Bk,{})},{path:"/purchase/:reservationId",element:E.jsx(hB,{})}]}]},{path:"/console",element:E.jsx(Jz,{}),children:[{path:"/console/main",element:E.jsx(Qz,{})},{path:"/console/exhibitions/:id",element:E.jsx(Og,{type:"exhibitions"})},{path:"/console/galleries/:id",element:E.jsx(Og,{type:"galleries"})},{path:"/console/artworks/:id",element:E.jsx(Og,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:E.jsx(l2,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:E.jsx(l2,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:E.jsx(l2,{type:"artworks"})}]},{path:"/scan/:id?",element:E.jsx(OP,{})}]);function IZ(){return E.jsx(fN,{children:E.jsx(S5,{router:RZ})})}g8.createRoot(document.getElementById("root")).render(E.jsx(IZ,{}));
